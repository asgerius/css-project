[{"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 3428, "user_id": 176410, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/oH799.jpg?s=128&g=1", "display_name": "J. Taylor", "link": "https://stackoverflow.com/users/176410/j-taylor"}, "edited": false, "score": 0, "creation_date": 1550707361, "post_id": 54797153, "comment_id": 96372096, "body": "<a href=\"https://stackoverflow.com/questions/4750806/how-do-i-install-pip-on-windows\" title=\"how do i install pip on windows\">stackoverflow.com/questions/4750806/&hellip;</a>"}, {"owner": {"reputation": 915, "user_id": 2605758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIjwG.png?s=128&g=1", "display_name": "Hoppeduppeanut", "link": "https://stackoverflow.com/users/2605758/hoppeduppeanut"}, "edited": false, "score": 2, "creation_date": 1550711462, "post_id": 54797153, "comment_id": 96373008, "body": "&quot;my windows command line (cmd) doesn&#39;t even acknowledge that I have python downloaded.&quot; Is the python executable in your system&#39;s PATH?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10873885"}, "is_accepted": false, "score": 2, "last_activity_date": 1550729251, "creation_date": 1550729251, "answer_id": 54800332, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python/54800332#54800332", "title": "How to download beautifulsoup package python", "body": "<ol>\n<li>Add your Python executable in your path.</li>\n<li>Then run <code>python -m pip install bs4</code>.</li>\n</ol>\n\n<p>Now when using in your code, use <code>from bs4 import BeautifulSoup</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 1, "last_activity_date": 1550729717, "creation_date": 1550729717, "answer_id": 54800440, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python/54800440#54800440", "title": "How to download beautifulsoup package python", "body": "<p>First, you have to find where your Python installation is. Then, use the full path to python.exe to run pip, e.g.:</p>\n\n<pre><code>C:\\Program Files\\Python37\\python.exe -m pip install bs4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13594653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d1cf29315c42b1738137087f6ff8f6?s=128&d=identicon&r=PG", "display_name": "Zac blumenthal", "link": "https://stackoverflow.com/users/13594653/zac-blumenthal"}, "is_accepted": false, "score": 1, "last_activity_date": 1590130406, "creation_date": 1590130406, "answer_id": 61949372, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python/61949372#61949372", "title": "How to download beautifulsoup package python", "body": "<p>Go to your desktop or where ever your python shortcut is. Right-click on it and find properties. Click on properties find the 'start in' tab and copy the file directory.\nopen cmd and type 'cd (address)' now type python and hit enter. then type import pip and hit enter now type Ctrl + Z and hit enter. Now type python -m pip install bs4.</p>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 9186201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/296e14412e13713588c300c349442109?s=128&d=identicon&r=PG", "display_name": "Deep Chokshi", "link": "https://stackoverflow.com/users/9186201/deep-chokshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1590130569, "creation_date": 1590130569, "answer_id": 61949402, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python/61949402#61949402", "title": "How to download beautifulsoup package python", "body": "<p>using <code>pip install beautifulsoup4</code></p>\n\n<p>you can refer at <a href=\"https://pypi.org/project/beautifulsoup4/\" rel=\"nofollow noreferrer\">https://pypi.org/project/beautifulsoup4/</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13594724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689627f9448b930b68fc64ac0db9b938?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh-py", "link": "https://stackoverflow.com/users/13594724/shubh-py"}, "is_accepted": false, "score": 1, "last_activity_date": 1590132206, "creation_date": 1590132206, "answer_id": 61949762, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python/61949762#61949762", "title": "How to download beautifulsoup package python", "body": "<p>Go command prompt if you are using windows\ntype: <strong>python -m pip install bs4</strong>\nthen open your code editor and type: <strong>from bs4 import BeautifulSoup</strong></p>\n"}], "owner": {"reputation": 21, "user_id": 11092925, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y6otPWbMGk4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOu2OoUZvIZkFuQ7kkpc35OS795-A/mo/photo.jpg?sz=128", "display_name": "Andrew Litterer", "link": "https://stackoverflow.com/users/11092925/andrew-litterer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1590132206, "creation_date": 1550707186, "last_edit_date": 1550729516, "question_id": 54797153, "link": "https://stackoverflow.com/questions/54797153/how-to-download-beautifulsoup-package-python", "title": "How to download beautifulsoup package python", "body": "<p>I am taking an info storage and retrieval class, and to complete an assignment we need to download and use the beautifulsoup package for python.\nI haven't used Python in years, so I'm very rusty and cannot seem to figure out how to download a Python package. \nI'm using Python 3 and have Windows 10. \nMost of what I've read involves just typing something into the command line, but my windows command line (cmd) doesn't even acknowledge that I have python downloaded.</p>\n\n<p>'python' is not recognized as an internal or external command,\noperable program or batch file.</p>\n\n<p>I understand that pip is the go-to for downloading packages, but cmd doesn't acknowledge that either. Maybe I'm just missing something since I haven't used Python in so long...</p>\n\n<p>I'm hoping that somebody can give me a step-by-step approach on how to download this package. Thanks in advance. </p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe", "assign"], "answers": [{"comments": [{"owner": {"reputation": 556, "user_id": 10964685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfc3c9b4878cb5064b260dcbdd98de?s=128&d=identicon&r=PG&f=1", "display_name": "jonboy", "link": "https://stackoverflow.com/users/10964685/jonboy"}, "edited": false, "score": 1, "creation_date": 1550711743, "post_id": 54797242, "comment_id": 96373065, "body": "Gotimulul, this needs to be more dynamic sorry. The number of places occurring can go up to 20. Therefore the assigned groups need to accomodate for this."}], "tags": [], "owner": {"reputation": 613, "user_id": 10454562, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jz8IyQOqS14/AAAAAAAAAAI/AAAAAAAAGgQ/qjH_pPYtCAM/photo.jpg?sz=128", "display_name": "Venkatesh Gotimukul", "link": "https://stackoverflow.com/users/10454562/venkatesh-gotimukul"}, "is_accepted": true, "score": 0, "last_activity_date": 1550707963, "creation_date": 1550707963, "answer_id": 54797242, "question_id": 54797112, "link": "https://stackoverflow.com/questions/54797112/assign-column-values-in-groups-of-3-python/54797242#54797242", "title": "Assign Column values in groups of 3 - Python", "body": "<pre><code>import pandas as pd\nimport numpy as np\n\nd = ({\n    'Time' : ['8:03:00','8:07:00','8:10:00','8:23:00','8:27:00','8:30:00','8:37:00','8:40:00','8:48:00'],                 \n    'Place' : ['House 1','House 2','House 3','House 4','House 5','House 1','House 2','House 3','House 4'],                                     \n     })\n\ndf = pd.DataFrame(data=d)\n\ndf['u'] = df[::-1].groupby('Place').Place.cumcount()\nids = [1]\nseen = set([df.iloc[0].Place])\ndec = False\nfor val, u in zip(df.Place[1:], df.u[1:]):\n    ids.append(ids[-1] + (val not in seen) - dec)\n    seen.add(val)\n    dec = u == 0\ndf['Places On'] = ids\n\ndf = df.drop(df[['u']], axis=1)\n\ndef g(gps):\n        s = gps['Place'].unique()\n        d = dict(zip(s, np.arange(len(s)) // 3 + 1))\n        gps['P'] = gps['Place'].map(d)\n        return gps\n\ndf = df.groupby('Place', sort=False).apply(g)\n\nfor i in range(df.shape[0]):\n    if(df['Places On'][i]&lt;=3):\n        df['P'][i]=1\n    else:\n        df['P'][i]=2\nprint(df)\n</code></pre>\n\n<p>This should work based on sorting df['Places On'].</p>\n"}], "owner": {"reputation": 556, "user_id": 10964685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfc3c9b4878cb5064b260dcbdd98de?s=128&d=identicon&r=PG&f=1", "display_name": "jonboy", "link": "https://stackoverflow.com/users/10964685/jonboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 54797242, "answer_count": 1, "score": 1, "last_activity_date": 1550727725, "creation_date": 1550706944, "last_edit_date": 1550727725, "question_id": 54797112, "link": "https://stackoverflow.com/questions/54797112/assign-column-values-in-groups-of-3-python", "title": "Assign Column values in groups of 3 - Python", "body": "<p>I'm aiming to <code>assign</code> places to people in a <code>pandas</code> <code>df</code>. Specifically, using the <code>df</code> below I determine how many places are currently <em>on</em>. I want to use these values and <code>assign</code> them in groups of 3. </p>\n\n<p>For instance, total places occurring that are less than 3 should be assigned to <code>P1</code>. Places that are 3-6 should be assigned to <code>P2</code> etc. </p>\n\n<p><strong>Note: The total number of places occurring at once can go up to 20 so the number of assigned groups need to accomodate for this.</strong></p>\n\n<p>Here is my attempt.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nd = ({\n    'Time' : ['8:03:00','8:07:00','8:10:00','8:23:00','8:27:00','8:30:00','8:37:00','8:40:00','8:48:00'],                 \n    'Place' : ['House 1','House 2','House 3','House 4','House 5','House 1','House 2','House 3','House 4'],                                     \n     })\n\ndf = pd.DataFrame(data=d)\n\ndf['u'] = df[::-1].groupby('Place').Place.cumcount()\nids = [1]\nseen = set([df.iloc[0].Place])\ndec = False\nfor val, u in zip(df.Place[1:], df.u[1:]):\n    ids.append(ids[-1] + (val not in seen) - dec)\n    seen.add(val)\n    dec = u == 0\ndf['Places On'] = ids\n\ndf = df.drop(df[['u']], axis=1)\n\ndef g(gps):\n        s = gps['Place'].unique()\n        d = dict(zip(s, np.arange(len(s)) // 3 + 1))\n        gps['P'] = gps['Place'].map(d)\n        return gps\n\ndf = df.groupby('Place', sort=False).apply(g)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>      Time    Place  Places On  P\n0  8:03:00  House 1          1  1\n1  8:07:00  House 2          2  1\n2  8:10:00  House 3          3  1\n3  8:23:00  House 4          4  1\n4  8:27:00  House 5          5  1\n5  8:30:00  House 1          4  1\n6  8:37:00  House 2          3  1\n7  8:40:00  House 3          2  1\n8  8:48:00  House 4          1  1\n</code></pre>\n\n<p>Intended Output:</p>\n\n<pre><code>      Time    Place  Places On  P\n0  8:03:00  House 1          1  1\n1  8:07:00  House 2          2  1\n2  8:10:00  House 3          3  1\n3  8:23:00  House 4          4  2\n4  8:27:00  House 5          5  2\n5  8:30:00  House 1          4  2\n6  8:37:00  House 2          3  1\n7  8:40:00  House 3          2  1\n8  8:48:00  House 4          1  1\n</code></pre>\n"}, {"tags": ["python", "keras", "classification", "conv-neural-network", "resnet"], "comments": [{"owner": {"reputation": 58, "user_id": 7969320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9efd2a05f17a7335bc9196e0f67077d?s=128&d=identicon&r=PG&f=1", "display_name": "Muiz Uvais", "link": "https://stackoverflow.com/users/7969320/muiz-uvais"}, "edited": false, "score": 0, "creation_date": 1615367669, "post_id": 54797065, "comment_id": 117666253, "body": "How did you get <code>num_trainsamples</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5648334, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024371320953278/picture?type=large", "display_name": "Kiburm Song", "link": "https://stackoverflow.com/users/5648334/kiburm-song"}, "is_accepted": false, "score": 3, "last_activity_date": 1575514247, "creation_date": 1575514247, "answer_id": 59187489, "question_id": 54797065, "link": "https://stackoverflow.com/questions/54797065/resnet-for-binary-classification-just-2-values-of-cross-validation-accuracy/59187489#59187489", "title": "ResNet for Binary classification- Just 2 values of cross-validation accuracy", "body": "<p>When you implement binary classification with any CNN model, you had better use a single unit in the last dense layer. </p>\n\n<p>x=Dense(2, activation= 'sigmoid')(x)\n---> x=Dense(1, activation= 'sigmoid')(x)</p>\n\n<p>It will give you better performance than now. </p>\n"}], "owner": {"reputation": 11, "user_id": 10808614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5090c18b8650e4f57613ad25304093a?s=128&d=identicon&r=PG&f=1", "display_name": "Stu", "link": "https://stackoverflow.com/users/10808614/stu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1867, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1587997495, "creation_date": 1550706571, "last_edit_date": 1550782377, "question_id": 54797065, "link": "https://stackoverflow.com/questions/54797065/resnet-for-binary-classification-just-2-values-of-cross-validation-accuracy", "title": "ResNet for Binary classification- Just 2 values of cross-validation accuracy", "body": "<p>I am new to python and Keras. I am trying to do a binary classification using transfer learning from ResNet. My dataset is very small but I am using image augmentation. My cross-validation accuracy is just either of 2 values 0.3442 and 0.6558 for all images. Can anyone tell me why this happens? Also when I predict (0 or 1), it labels all images as one class(0). Here is my code:</p>\n\n<pre><code>from keras.preprocessing.image import ImageDataGenerator, load_img\nfrom keras.models import Sequential,Model,load_model\nfrom keras.layers import Conv2D, MaxPooling2D\nfrom keras.layers import Activation, Dropout, Flatten, Dense, GlobalMaxPooling2D\nfrom keras import backend as K\nfrom keras.callbacks import TensorBoard\nfrom keras.applications.resnet50 import ResNet50\nfrom keras.optimizers import SGD, Adam\nfrom keras.utils import plot_model\nimport matplotlib.pyplot as plt\nimport os, os.path\nimport glob\nimport cv2\nimport time\nfrom keras.utils import np_utils\nfrom keras.callbacks import ReduceLROnPlateau, CSVLogger, EarlyStopping\nimport numpy as np\nimport pydot\nimport graphviz\n\nbatch_size = 32\nnb_classes = 2\ndata_augmentation = True\n\nimg_rows, img_cols = 224,224\nimg_channels = 3\n\n#Creating array of training samples\ntrain_path = \"D:/data/train\\*.*\"\ntraining_data=[]\nfor file in glob.glob(train_path):\n    print(file)\n    train_array= cv2.imread(file)\n    train_array=cv2.resize(train_array,(img_rows,img_cols),3)\n    training_data.append(train_array)\n\nx_train=np.array(training_data)\n\n#Creating array of validation samples\nvalid_path = \"D:/data/valid\\*.*\"\nvalid_data=[]\nfor file in glob.glob(valid_path):\n    print(file)\n    valid_array= cv2.imread(file)\n    valid_array=cv2.resize(valid_array,(img_rows,img_cols),3)\n    valid_data.append(train_array)\n\nx_valid=np.array(valid_data)\n\nx_train = np.array(x_train, dtype=\"float\")/255.0\nx_valid = np.array(x_valid, dtype=\"float\")/255.0\n\n#Creating array for Labels\ny_train=np.ones((num_trainsamples,),dtype = int)\ny_train[0:224]=0 #Class1=0\ny_train[225:363]=1 #Class2=1\nprint(y_train)\n\ny_valid=np.ones((num_validsamples,),dtype = int)\ny_valid[0:101]=0 \ny_valid[102:155]=1 \nprint(y_valid)\n\ny_train = np_utils.to_categorical(y_train,nb_classes,dtype='int32')\ny_valid = np_utils.to_categorical(y_valid,nb_classes,dtype='int32')\n\nbase_model=ResNet50(weights='imagenet',include_top=False)\n\nx = base_model.output\nx = GlobalMaxPooling2D()(x)\nx=Dense(1024,activation='relu')(x) \nx=Dense(1024,activation='relu')(x) \nx=Dense(512,activation='relu')(x) \nx=Dense(2, activation= 'sigmoid')(x)\nmodel = Model(inputs = base_model.input, outputs = x)\n\nfor i,layer in enumerate(model.layers):\n  print(i,layer.name)\n\nfor layer in model.layers[:75]:\n    layer.trainable=False\nfor layer in model.layers[75:]:\n    layer.trainable=True\n\nadam = Adam(lr=0.0001)\nmodel.compile(optimizer= adam, loss='binary_crossentropy', metrics=['accuracy'])\n\ntrain_datagen = ImageDataGenerator(\n    brightness_range=(0.2,2.5),\n    rotation_range=180,\n    zoom_range=0.5,\n    width_shift_range=0.2,\n    height_shift_range=0.2,\n    horizontal_flip=True,\n    vertical_flip=True)\n\ntrain_datagen.fit(x_train)\n\nhistory= model.fit_generator(train_datagen.flow(x_train, y_train, batch_size = 10,shuffle=True),steps_per_epoch=len(x_train),epochs = 500,shuffle=True,\n    validation_data=(x_valid,y_valid),validation_steps=num_validsamples // batch_size,callbacks=[tensorboard])\n\neval = model.evaluate(x_valid, y_valid)\nprint (\"Loss = \" + str(eval[0]))\nprint (\"Test Accuracy = \" + str(eval[1]))\n\npredictions= model.predict(x_valid)\nprint(predictions)\n</code></pre>\n\n<p>The training result is as follows:</p>\n\n<pre><code>Epoch 1/500\n362/362 [==============================] - 34s 93ms/step - loss: 0.6060 - acc: 0.7257 - val_loss: 0.7747 - val_acc: 0.3442\nEpoch 2/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.4353 - acc: 0.7722 - val_loss: 0.7658 - val_acc: 0.5000\nEpoch 3/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.4391 - acc: 0.7863 - val_loss: 0.7949 - val_acc: 0.3442\nEpoch 4/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.4007 - acc: 0.7992 - val_loss: 0.6540 - val_acc: 0.6558\nEpoch 5/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.3638 - acc: 0.8226 - val_loss: 0.6460 - val_acc: 0.6558\nEpoch 6/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.3509 - acc: 0.8294 - val_loss: 0.7875 - val_acc: 0.3442\nEpoch 7/500\n362/362 [==============================] - 30s 82ms/step - loss: 0.3406 - acc: 0.8359 - val_loss: 0.7667 - val_acc: 0.3442\nEpoch 8/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3410 - acc: 0.8365 - val_loss: 0.6900 - val_acc: 0.6558\nEpoch 9/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3297 - acc: 0.8366 - val_loss: 0.7292 - val_acc: 0.3442\nEpoch 10/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3262 - acc: 0.8412 - val_loss: 0.6829 - val_acc: 0.6558\nEpoch 11/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3168 - acc: 0.8457 - val_loss: 0.7032 - val_acc: 0.3442\nEpoch 12/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3195 - acc: 0.8452 - val_loss: 0.6985 - val_acc: 0.5000\nEpoch 13/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3030 - acc: 0.8432 - val_loss: 0.6740 - val_acc: 0.6558\nEpoch 14/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3191 - acc: 0.8405 - val_loss: 0.6896 - val_acc: 0.6558\nEpoch 15/500\n362/362 [==============================] - 29s 80ms/step - loss: 0.3084 - acc: 0.8437 - val_loss: 0.7114 - val_acc: 0.3442\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "artificial-intelligence", "google-text-to-speech"], "comments": [{"owner": {"reputation": 1077, "user_id": 7545157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqbEb.jpg?s=128&g=1", "display_name": "Sven Kr&#252;ger", "link": "https://stackoverflow.com/users/7545157/sven-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1550733860, "post_id": 54797046, "comment_id": 96379498, "body": "Some things do not quite fit here. In your code the prompted message is different from the output in the image. Have you tried debugging your script by simply printing the value of <code>delivery</code> before <code>if delivery == &#39;DELIVERY&#39;: ...</code>?"}, {"owner": {"reputation": 71, "user_id": 11059311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bee2cde8c942ad59faaaaeccc835d86?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/11059311/elias"}, "reply_to_user": {"reputation": 1077, "user_id": 7545157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqbEb.jpg?s=128&g=1", "display_name": "Sven Kr&#252;ger", "link": "https://stackoverflow.com/users/7545157/sven-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1550755803, "post_id": 54797046, "comment_id": 96392936, "body": "@Sven Kr&#252;ger Thank you for reply. Seems like print didn&#39;t show anything. I have changed this line <code>if delivery == &quot;delivery&quot;:</code> to <code>if command in delivery:</code> and indicated delivery as: <code>delivery = [&#39;delivery&#39;]</code>. So now it recognizes it and skips this part succesfully but it adds also my voice input for delivery to the name input: as: <code>Pickup or delivery? ready... You said: delivery     Name:delivery</code> again even if i hit enter it doesn&#39;t recognize it as an input: <code>Name:delivery Please enter a valid input    Name:delivery</code>"}, {"owner": {"reputation": 1077, "user_id": 7545157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqbEb.jpg?s=128&g=1", "display_name": "Sven Kr&#252;ger", "link": "https://stackoverflow.com/users/7545157/sven-kr%c3%bcger"}, "edited": false, "score": 0, "creation_date": 1550822231, "post_id": 54797046, "comment_id": 96419739, "body": "What are you actually aiming at by writing <code>delivery = input(&quot;pickup...&quot; + command)</code>? Do you want to pass the value of <code>command</code> to the function <code>input</code>? Because the addition of two strings is simply a concatenation. So if you only hit enter at the console the return value of <code>input</code> will be an empty string."}], "owner": {"reputation": 71, "user_id": 11059311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bee2cde8c942ad59faaaaeccc835d86?s=128&d=identicon&r=PG&f=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/11059311/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1550732644, "creation_date": 1550706428, "last_edit_date": 1550732644, "question_id": 54797046, "link": "https://stackoverflow.com/questions/54797046/how-to-make-user-input-with-voice-gtts", "title": "How to make user input with voice gtts", "body": "<p>I am creating a simple pizza app with voice inputs. \nBefore creating this post i have searched a lot and didn't find anything useful.</p>\n\n<p><a href=\"https://pyfiddle.io/fiddle/bd884a16-cf14-4af7-89ae-3cfd6853c344/?i=true\" rel=\"nofollow noreferrer\">This is the full code</a></p>\n\n<p>The fiddle doesn't run the code appropriately so don't run it over there.</p>\n\n<p><strong>The issue:</strong></p>\n\n<p>When i try to use <strong>\"command\"</strong> in my <strong>\"input\"</strong> (<strong>e.g.</strong> </p>\n\n<pre><code>count = 0\n\ndef talkToMe(audio):\n\n    global count\n    print(audio)\n    text_to_speech = gTTS(text=audio, lang='en-us')\n    text_to_speech.save(f'speech{count%2}.mp3')\n    mixer.init()\n    mixer.music.load(f'speech{count%2}.mp3')\n    mixer.music.play()\n    count += 1\n\ndef myCommand():\n\n\n    r = sr.Recognizer()\n\n    with sr.Microphone() as source:\n        print('Ready...')\n        r.pause_threshold = 1\n        r.adjust_for_ambient_noise(source, duration=1)\n        audio = r.listen(source)\n\n    try:\n        command = r.recognize_google(audio).lower()\n        print('You said: ' + command + '\\n')\n\n    #loop back to continue to listen for commands if unrecognizable speech is received\n    except sr.UnknownValueError:\n        print('Your last command couldn\\'t be heard')\n        command = myCommand();\n\n    return command\n\ndef assistant(command):\n\n    def pick_or_deli():\n        global delivery\n        global customer_name \n        global customer_telephone\n\n        delivery = input(\"pickup - pick up / delivery - delivery:\" + command)\n        delivery = delivery.upper()\n        if delivery == \"DELIVERY\":\n             while running == True:\n        ..............................\n</code></pre>\n\n<p>i am simply getting:</p>\n\n<p><img src=\"https://i.stack.imgur.com/n7wAe.png\" alt=\"this\"></p>\n\n<p>Don't pay attentio on lowercase \"delivery\". \nEven if i change this line:</p>\n\n<pre><code>if delivery == \"DELIVERY\": \n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>if delivery == \"delivery\":\n</code></pre>\n\n<p>It doesn't work. Even if i hit enter. The system doesn't recognize it as an input.</p>\n\n<p>Any solutions/suggestions on this would be great.</p>\n"}, {"tags": ["python", "function", "parameters", "arguments"], "comments": [{"owner": {"reputation": 3274, "user_id": 8561957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cabfd05dd1bbfeeb280df76df374948?s=128&d=identicon&r=PG&f=1", "display_name": "fountainhead", "link": "https://stackoverflow.com/users/8561957/fountainhead"}, "edited": false, "score": 0, "creation_date": 1550713690, "post_id": 54797045, "comment_id": 96373513, "body": "Your default values (<code>defValA1</code>, <code>defValA2</code>, <code>defValA3</code>) for the params of <code>A</code>, aren&#39;t appropriate enough to serve as default values, when you get to the part where you compute the args for invoking <code>B</code> from within <code>A</code>. A true default would be default in every sense. As suggested by @MatiasCicero, you might as well use some other values (such as <code>None</code>) as the defaults, in the place of <code>defValA1</code>, <code>defValA2</code>, and <code>defValA3</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11092915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OAM0MPHzujg/AAAAAAAAAAI/AAAAAAAAAG0/bfRh3JjHKbY/photo.jpg?sz=128", "display_name": "Jaime Cruz", "link": "https://stackoverflow.com/users/11092915/jaime-cruz"}, "edited": false, "score": 0, "creation_date": 1550739250, "post_id": 54797097, "comment_id": 96382439, "body": "Thanks Matias for your comment. Indeed, &quot;None&quot; would be an appropiate default value, but I don&#39;t think my question has been understood."}, {"owner": {"reputation": 11, "user_id": 11092915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OAM0MPHzujg/AAAAAAAAAAI/AAAAAAAAAG0/bfRh3JjHKbY/photo.jpg?sz=128", "display_name": "Jaime Cruz", "link": "https://stackoverflow.com/users/11092915/jaime-cruz"}, "edited": false, "score": 0, "creation_date": 1550739703, "post_id": 54797097, "comment_id": 96382704, "body": "In the example you&#39;re showing, I&#39;d like argB1val to take defValB1 if value argA1 is None..."}, {"owner": {"reputation": 11, "user_id": 11092915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OAM0MPHzujg/AAAAAAAAAAI/AAAAAAAAAG0/bfRh3JjHKbY/photo.jpg?sz=128", "display_name": "Jaime Cruz", "link": "https://stackoverflow.com/users/11092915/jaime-cruz"}, "edited": false, "score": 0, "creation_date": 1550739923, "post_id": 54797097, "comment_id": 96382846, "body": "argB1val= (K * argA1) if argA1 is not None <b>else defValB1</b>"}, {"owner": {"reputation": 11, "user_id": 11092915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OAM0MPHzujg/AAAAAAAAAAI/AAAAAAAAAG0/bfRh3JjHKbY/photo.jpg?sz=128", "display_name": "Jaime Cruz", "link": "https://stackoverflow.com/users/11092915/jaime-cruz"}, "edited": false, "score": 0, "creation_date": 1550739959, "post_id": 54797097, "comment_id": 96382870, "body": "But I don&#39;t know the value of defValB1 to implement it this way"}], "tags": [], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "is_accepted": false, "score": 0, "last_activity_date": 1550706883, "creation_date": 1550706883, "answer_id": 54797097, "question_id": 54797045, "link": "https://stackoverflow.com/questions/54797045/python-calling-a-function-with-default-value-for-arguments/54797097#54797097", "title": "Python, calling a function with default value for arguments", "body": "<p>Just let them be <code>None</code> and set them at execution time.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def A(argA1=None, argA2=None, argA3=None):    \n    argB1val= (K * argA1) if argA1 is not None else defValA1\n    argB2val= (K * argA2) if argA2 is not None else defValA2\n    argB3val= (K * argA3) if argA3 is not None else defValA3\n    B(argB1=argB1val, argB2=argB2val, argB3=argB3val)\n\ndef B(argB1=defValB1, argB2=defValB2, argB3=defValB3):\n    print(\"First argument: \" + argB1)\n    print(\"Second argument: \" + argB2)\n    print(\"Third argument: \" + argB3)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11092915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OAM0MPHzujg/AAAAAAAAAAI/AAAAAAAAAG0/bfRh3JjHKbY/photo.jpg?sz=128", "display_name": "Jaime Cruz", "link": "https://stackoverflow.com/users/11092915/jaime-cruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1186, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550706883, "creation_date": 1550706424, "last_edit_date": 1550706775, "question_id": 54797045, "link": "https://stackoverflow.com/questions/54797045/python-calling-a-function-with-default-value-for-arguments", "title": "Python, calling a function with default value for arguments", "body": "<p>In python, how can I call a function using the default value of an argument? I know it can be done just not passing the parameter when you call the function, but I would prefer to pass the variable through the function though. \nHaving these two functions:</p>\n\n<pre><code>def A(argA1=defValA1, argA2=defValA2, argA3=defValA3):    \n    argB1val=K*argA1\n    argB2val=K*argA2\n    argB3val=K*argA3\n    B(argB1=argB1val, argB2=argB2val,argB3=argB3val)\n\ndef B(argB1=defValB1, argB2=defValB2, argB3=defValB3):\n    print(\"First argument: \"+argB1)\n    print(\"Second argument: \"+argB2)\n    print(\"Third argument: \"+argB3)\n</code></pre>\n\n<p>If I call A() with all the arguments, there\u2019s no problem: </p>\n\n<p>Main:</p>\n\n<pre><code>A(argA1val, argA2val, argA3val)   \n</code></pre>\n\n<p>But what if I call A() with some missing arguments?: </p>\n\n<p>Main: </p>\n\n<pre><code>A(argA1val) \n</code></pre>\n\n<p>In this case, inside the A() function </p>\n\n<p>B() will be called taking the default values for the last two:</p>\n\n<pre><code>B(argB1= K*argA1, argB2= K* defValA2, argB3= K* defValA3)\n</code></pre>\n\n<p>However, I\u2019d like to call B() using the default values of their last two arguments, something like :</p>\n\n<pre><code>B(argB1= K*argA1, argB2=defValB2, argB3=defValB3)\n</code></pre>\n\n<p>So, I would like A() to be something like: </p>\n\n<p>def A(argA1=defValA1, argA2=defValA2, argA3=defValA3):</p>\n\n<pre><code>if (argA1==defValA1):\n    argB1val=B.getDefaultValue(\"argB1\")\nelse:\n    argB1val=K*argA1\n\nif (argA2==defValA2):\n    argB2val=B.getDefaultValue(\"argB2\")\nelse:\n    argB2val=K*argA2\n\nif (argA3==defValA3):\n    argB3val=B.getDefaultValue(\"argB3\")\nelse:\n    argB3val=K*argA3\n\nB(argB1=argB1val,argB2=argB2val,argB3=argB3val)\n</code></pre>\n\n<p>Otherwise, I\u2019d need to do something like: </p>\n\n<p>def A(argA1=defValA1, argA2=defValA2, argA3=defValA3):</p>\n\n<pre><code>if (argA1==defValA1 &amp;&amp; argA2!=defValA2 &amp;&amp; argA3!=defValA3):\n\n    argB2val=K*argA2\n    argB3val=K*argA3\n    B(argB1= defValB1, argB2=argB2val,argB3=argB3val)\n\nif (argA1!=defValA1 &amp;&amp; argA2==defValA2 &amp;&amp; argA3!=defValA3):\n\n    argB1val=K*argA1\n    argB3val=K*argA3\n    B(argB1=argB1val, argB2= defValB2,argB3=argB3val)\n\nif (argA1!=defValA1 &amp;&amp; argA2!=defValA2 &amp;&amp; argA3==defValA3):\n\n    argB1val=K*argA1\n    argB2val=K*argA2\n    B(argB1= argB1val, argB2=argB2val,argB3= defValB1)\n\nif (argA1==defValA1 &amp;&amp; argA2==defValA2 &amp;&amp; argA3!=defValA3):\n\n    argB3val=K*argA3\n    B(argB1= defValA1, argB2= defValA2,argB3=argB3val)\n\n    \u2026.\n    \u2026.\n    \u2026.\n\n    Etc\u2026 \n</code></pre>\n\n<p>Having even a lot more combinations if we have more parameters.</p>\n\n<p>Anyone knows if there\u2019s a way to get the default value of a parameter to be passed in a function?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "djoser"], "comments": [{"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550707206, "post_id": 54797037, "comment_id": 96372061, "body": "Something is HTML escaping the url, which is why it&#39;s being converted.  I&#39;m not sure exactly what you&#39;re trying to accomplish, so I&#39;m not sure if turning off that escaping is the right answer or not."}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550707323, "post_id": 54797037, "comment_id": 96372087, "body": "what do you mean with &quot;escaping&quot;?  the backslash?"}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550707502, "post_id": 54797037, "comment_id": 96372126, "body": "Im trying to generate user activation url.  In this line djoser formats the url <a href=\"https://github.com/sunscrapers/djoser/blob/9baf4384a46071e8961f04a52d0c7ed889f8d354/djoser/email.py#L18\" rel=\"nofollow noreferrer\">github.com/sunscrapers/djoser/blob/&hellip;</a>  and there it will be shown <a href=\"https://github.com/sunscrapers/djoser/blob/9baf4384a46071e8961f04a52d0c7ed889f8d354/djoser/templates/email/activation.html#L11\" rel=\"nofollow noreferrer\">github.com/sunscrapers/djoser/blob/&hellip;</a>"}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550708437, "post_id": 54797037, "comment_id": 96372352, "body": "I mean that HTML treats &quot;&amp;&quot; specially, so when you want a literal ampersand, it has to be encoded as &quot;&amp;amp;&quot;.  The latter bit as actually called an &quot;HTML Entity&quot; and the &quot;&amp;&quot; is the leading character for describing an entity, hence the reason a literal ampersand needs to be written as &quot;&amp;amp;&quot;.  Now that I see what&#39;s going on, it&#39;s the Django template engine that&#39;s escaping the ampersand.  In the template, <code>{{ url }}</code> needs to be <code>{{ url|safe }}</code>.  It&#39;s been a while since I&#39;ve done this in Django, but I believe you can create a site template to override the one in Djoser."}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550708595, "post_id": 54797037, "comment_id": 96372391, "body": "Oh I see, thank you, I have now to find out how to override the djoser template."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550709265, "post_id": 54797037, "comment_id": 96372551, "body": "Take a look at <a href=\"https://django.readthedocs.io/en/latest/howto/overriding-templates.html#overriding-from-the-project-s-templates-directory\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550710391, "post_id": 54797037, "comment_id": 96372782, "body": "I have tried to catch the djoser template path. Created different paths but can&#39;t overwrite the template. Or I do that,  but <code>{{ url|safe }}</code> does not work."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550710661, "post_id": 54797037, "comment_id": 96372825, "body": "First, try changing the template in a more obvious way so that it&#39;s easy to tell if you&#39;re overriding it.  Second, you need to follow the directions in the link I provided and put it in the appropriate templates directory.  Say that directory is called &quot;templates&quot;.  You would need to create a template at &quot;templates/email/activation.html&quot; with the changes you want.  Finally, make sure you do things in the right order, because order definitely matters.  You want Django to find your site template before the one in Djoser.  Hope that helps!"}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550710791, "post_id": 54797037, "comment_id": 96372854, "body": "The one highlighted in your picture is the one you need.  How do I know that?  Because of <a href=\"https://github.com/sunscrapers/djoser/blob/9baf4384a46071e8961f04a52d0c7ed889f8d354/djoser/email.py#L10\" rel=\"nofollow noreferrer\">this line</a>."}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550710985, "post_id": 54797037, "comment_id": 96372898, "body": "yeah all the templates are overwritten, but Ill change the djoser default one and try it. Then if it will work find the way to overwrite it. Thank you very much"}, {"owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550711088, "post_id": 54797037, "comment_id": 96372920, "body": "Exactly! It works!!! Thank you again!"}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550711227, "post_id": 54797037, "comment_id": 96372958, "body": "You&#39;re welcome!"}], "answers": [{"tags": [], "owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "is_accepted": true, "score": 3, "last_activity_date": 1550711610, "creation_date": 1550711610, "answer_id": 54797743, "question_id": 54797037, "link": "https://stackoverflow.com/questions/54797037/formatting-ampersand-adds-unexpected-characters/54797743#54797743", "title": "Formatting ampersand adds unexpected characters", "body": "<p>After some back and forth discussion, it turns out that Djoser wants to send an activation email and the contents are being generated from <a href=\"https://github.com/sunscrapers/djoser/blob/9baf4384a46071e8961f04a52d0c7ed889f8d354/djoser/templates/email/activation.html#L11\" rel=\"nofollow noreferrer\">a Django template</a>.  The issue is that Django does HTML escaping by default, so the <code>&amp;</code> character is being converted to an HTML entity, <code>&amp;amp;</code>, which is not what is desired here.</p>\n\n<p>The answer is to mark the url as being HTML safe by piping it through a filter.  This effectively means replacing <code>{{ url }}</code> with <code>{{ url|safe }}</code>.  The best way to do this is to create a new template to override the one provided by Djoser and put in the required content.  This template needs to reside in the project templates area as \"email/activation.html\".  There is some documentation in Django on <a href=\"https://django.readthedocs.io/en/latest/howto/overriding-templates.html#overriding-from-the-project-s-templates-directory\" rel=\"nofollow noreferrer\">how this is done</a> too.</p>\n\n<p>Once the template is working correctly, then the url should be emitted directly with no escaping.</p>\n"}], "owner": {"reputation": 859, "user_id": 7986808, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/bb9c7c2b8e8a67a276bbc476d48a102b?s=128&d=identicon&r=PG&f=1", "display_name": "khashashin", "link": "https://stackoverflow.com/users/7986808/khashashin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 54797743, "answer_count": 1, "score": 1, "last_activity_date": 1550711610, "creation_date": 1550706383, "last_edit_date": 1550710599, "question_id": 54797037, "link": "https://stackoverflow.com/questions/54797037/formatting-ampersand-adds-unexpected-characters", "title": "Formatting ampersand adds unexpected characters", "body": "<p>Using <a href=\"https://github.com/sunscrapers/djoser\" rel=\"nofollow noreferrer\">Djoser</a> Im trying to generate right url for my frontend. I have to have ampersand in my url string and Djoser do format this url before sending it to my frontend. The url looks like:</p>\n\n<pre><code>https://localhost:4200/activate?id=MjA&amp;token=540-cad5f834d5508ebdd78e\n</code></pre>\n\n<p>But the final result that I get looks like <strong>note \"amp;\" after &amp;</strong>:</p>\n\n<pre><code>http://localhost:4200/activate?id=MjE&amp;amp;token=541-c0437e0afd6261fd4833\n</code></pre>\n\n<p>I tried following solutions but none of them works <code>(\\u0026, {\\u0026}, {\\u0026:c}, &amp;&amp;)</code>:</p>\n\n<pre><code>print(\"https://localhost:4200/activate?id={uid}\\u0026token={token}\".format(uid=\"MjA\", token=\"540-cad5f834d5508ebdd78e\"))\nprint(\"https://localhost:4200/activate?id={uid}{\\u0026}token={token}\".format(uid=\"MjA\", token=\"540-cad5f834d5508ebdd78e\")) &lt;-- returns KeyError: '&amp;'\nprint(\"https://localhost:4200/activate?id={uid}{\\u0026:c}token={token}\".format(uid=\"MjA\", token=\"540-cad5f834d5508ebdd78e\")) &lt;-- returns KeyError: '&amp;'\n</code></pre>\n\n<p><strong>NOTE:</strong> I can't directly change code in <code>format()</code> part, this will be handled by Djoser. The part that I can pass is actually only assign the string value to activation url like there: <code>'ACTIVATION_URL': 'activate?id={uid}{\\u0026:c}token={token}',</code> So I have to write my solution in this string.</p>\n\n<p><strong>NOTE2:</strong> I tried it in jupiter, there all works fine, I get the right url when I do it this way: </p>\n\n<pre><code>print(\"https://localhost:4200/activate?id={uid}\\u0026token={token}\".format(uid=\"MjA\", token=\"540-cad5f834d5508ebdd78e\"))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CbAL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CbAL7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Directly adding <code>&amp;</code> returns to frontend same url with <code>amp;</code> behind <code>&amp;</code></p>\n\n<p><strong>UPDATE</strong>\nDjoser template overwriting</p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        ...\n    },\n]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zzeLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzeLj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "qt-designer", "pyside2"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8345208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3bf500ae5203ecc4d115ba9024db952?s=128&d=identicon&r=PG&f=1", "display_name": "PatoKw", "link": "https://stackoverflow.com/users/8345208/patokw"}, "edited": false, "score": 0, "creation_date": 1550751225, "post_id": 54797758, "comment_id": 96389922, "body": "Thanks so much sir!"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1550711724, "creation_date": 1550711724, "answer_id": 54797758, "question_id": 54797035, "link": "https://stackoverflow.com/questions/54797035/difficulty-in-printok-whenever-i-click-anywhere-in-the-app-gui/54797758#54797758", "title": "difficulty in print(&quot;ok&quot;) whenever I click anywhere in the APP GUI", "body": "<p>MyApp not a widget so the mousePressEvent does not exist, and less is the window. So in these cases you should use an event filter:</p>\n\n<pre><code>import sys\nfrom PySide2 import QtCore, QtWidgets, QtUiTools\n\nclass MyApp(QtCore.QObject):\n    def __init__(self, ui_file, parent=None):\n        super(MyApp, self).__init__(parent)\n        ui_file = QtCore.QFile(ui_file)\n        if ui_file.open(QtCore.QFile.ReadOnly):\n            loader = QtUiTools.QUiLoader()\n            self.window = loader.load(ui_file)\n            self.window.installEventFilter(self)\n            self.window.setWindowFlags(QtCore.Qt.FramelessWindowHint)\n            self.window.show()\n\n    def eventFilter(self, obj, event):\n        if obj is self.window:\n            if event.type() == QtCore.QEvent.MouseButtonPress:\n                print(\"ok\")\n        return super(MyApp, self).eventFilter(obj, event)\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    form = MyApp('GUI.ui')\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8345208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3bf500ae5203ecc4d115ba9024db952?s=128&d=identicon&r=PG&f=1", "display_name": "PatoKw", "link": "https://stackoverflow.com/users/8345208/patokw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54797758, "answer_count": 1, "score": 1, "last_activity_date": 1550711750, "creation_date": 1550706358, "last_edit_date": 1550711750, "question_id": 54797035, "link": "https://stackoverflow.com/questions/54797035/difficulty-in-printok-whenever-i-click-anywhere-in-the-app-gui", "title": "difficulty in print(&quot;ok&quot;) whenever I click anywhere in the APP GUI", "body": "<p>I used QT Designer to design a GUI, I then imported the .ui file into my python code via : </p>\n\n<pre><code>ui_file = QFile(ui_file)\n        ui_file.open(QFile.ReadOnly)\n        loader = QUiLoader()\n        self.window = loader.load(ui_file)\n        ui_file.close()\n</code></pre>\n\n<p>and everything works fine, the GUI does appear and is functional when I run the python code\nHowever I am facing difficulties in achieving the functionality: \"I want to print(\"ok\") whenever I click on any point on the GUI\". here is my code:</p>\n\n<pre><code>import sys\nfrom PySide2.QtUiTools import QUiLoader\nfrom PySide2.QtWidgets import QApplication, QComboBox, QCheckBox, QLabel, QPushButton, QFrame, QAction, QDesktopWidget, QTabWidget, QMainWindow, QWidget\nfrom PySide2.QtCore import QFile, QObject,Qt, QPoint\nfrom PySide2 import QtCore, QtGui\n\nclass MyApp(QObject):\n    def __init__(self, ui_file, parent=None):\n        super(MyApp, self).__init__(parent)\n        ui_file = QFile(ui_file)\n        ui_file.open(QFile.ReadOnly)\n        loader = QUiLoader()\n        self.window = loader.load(ui_file)\n        ui_file.close()\n        self.window.setWindowFlags(QtCore.Qt.FramelessWindowHint)\n        self.window.show()\n\n    def mousePressEvent(self, event):    \n        print(\"ok\")\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    form = MyApp('GUI.ui')\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>here is the UI file: PS. make a new GUI.ui file and edit it with notepad and add the following code and you will have my GUI.ui file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;MainWindow&lt;/class&gt;\n &lt;widget class=\"QMainWindow\" name=\"MainWindow\"&gt;\n  &lt;property name=\"windowModality\"&gt;\n   &lt;enum&gt;Qt::NonModal&lt;/enum&gt;\n  &lt;/property&gt;\n  &lt;property name=\"enabled\"&gt;\n   &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;497&lt;/width&gt;\n    &lt;height&gt;488&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"sizePolicy\"&gt;\n   &lt;sizepolicy hsizetype=\"Fixed\" vsizetype=\"Fixed\"&gt;\n    &lt;horstretch&gt;0&lt;/horstretch&gt;\n    &lt;verstretch&gt;0&lt;/verstretch&gt;\n   &lt;/sizepolicy&gt;\n  &lt;/property&gt;\n  &lt;property name=\"contextMenuPolicy\"&gt;\n   &lt;enum&gt;Qt::DefaultContextMenu&lt;/enum&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;Pirates Online Hub&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowIcon\"&gt;\n   &lt;iconset&gt;\n    &lt;normaloff&gt;Icon.ico&lt;/normaloff&gt;Icon.ico&lt;/iconset&gt;\n  &lt;/property&gt;\n  &lt;property name=\"autoFillBackground\"&gt;\n   &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"toolButtonStyle\"&gt;\n   &lt;enum&gt;Qt::ToolButtonIconOnly&lt;/enum&gt;\n  &lt;/property&gt;\n  &lt;property name=\"documentMode\"&gt;\n   &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"tabShape\"&gt;\n   &lt;enum&gt;QTabWidget::Rounded&lt;/enum&gt;\n  &lt;/property&gt;\n  &lt;property name=\"dockNestingEnabled\"&gt;\n   &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"unifiedTitleAndToolBarOnMac\"&gt;\n   &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"setSizeGripEnabled\" stdset=\"0\"&gt;\n   &lt;bool&gt;true&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;property name=\"QMainWindow.setSizeGripEnabled\" stdset=\"0\"&gt;\n   &lt;bool&gt;false&lt;/bool&gt;\n  &lt;/property&gt;\n  &lt;widget class=\"QWidget\" name=\"centralwidget\"&gt;\n   &lt;widget class=\"QTabWidget\" name=\"tabWidget\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;0&lt;/x&gt;\n      &lt;y&gt;0&lt;/y&gt;\n      &lt;width&gt;501&lt;/width&gt;\n      &lt;height&gt;491&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"font\"&gt;\n     &lt;font&gt;\n      &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n      &lt;weight&gt;75&lt;/weight&gt;\n      &lt;bold&gt;true&lt;/bold&gt;\n     &lt;/font&gt;\n    &lt;/property&gt;\n    &lt;property name=\"autoFillBackground\"&gt;\n     &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/property&gt;\n    &lt;property name=\"styleSheet\"&gt;\n     &lt;string notr=\"true\"&gt;QTabBar { qproperty-drawBase: 0; }\n\n\nQTabWidget::tab-bar\n{\n    left: px;\n    alignment: left;\n\n}\n\nQTabBar::tab\n{\n    background: transparent;\n    color: #757575;\n    padding: 15px 5px 15px 5px;\n    border: 2px solid #000000;\n}\n\nQTabBar::tab:hover\n{\n    text-decoration: dunderline;\n\n}\n\nQTabBar::tab:selected\n{\n    color: #DEF600;\n    background: qlineargradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #262626, stop: 1.0 #3D3D3D );\n    text-decoration: underline;\n}\n\nQTabBar::tab:!selected\n{\n    color: #DEF600;\n    background: qlineargradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #262626, stop: 1.0 #3D3D3D );\n}\n\nQTabBar::tab {\n    /* expand/overlap to the left and right by 4px */\n    margin-left:  1px;\n    margin-right: 1px;\n}&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;property name=\"tabPosition\"&gt;\n     &lt;enum&gt;QTabWidget::North&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"tabShape\"&gt;\n     &lt;enum&gt;QTabWidget::Rounded&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"currentIndex\"&gt;\n     &lt;number&gt;0&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;property name=\"elideMode\"&gt;\n     &lt;enum&gt;Qt::ElideNone&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"documentMode\"&gt;\n     &lt;bool&gt;true&lt;/bool&gt;\n    &lt;/property&gt;\n    &lt;property name=\"tabsClosable\"&gt;\n     &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/property&gt;\n    &lt;property name=\"movable\"&gt;\n     &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/property&gt;\n    &lt;property name=\"tabBarAutoHide\"&gt;\n     &lt;bool&gt;false&lt;/bool&gt;\n    &lt;/property&gt;\n    &lt;widget class=\"QWidget\" name=\"tab\"&gt;\n     &lt;property name=\"cursor\"&gt;\n      &lt;cursorShape&gt;ArrowCursor&lt;/cursorShape&gt;\n     &lt;/property&gt;\n     &lt;attribute name=\"title\"&gt;\n      &lt;string&gt;Fairy Coins&lt;/string&gt;\n     &lt;/attribute&gt;\n     &lt;widget class=\"QLabel\" name=\"label\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;200&lt;/x&gt;\n        &lt;y&gt;5&lt;/y&gt;\n        &lt;width&gt;87&lt;/width&gt;\n        &lt;height&gt;26&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Slot Spins&lt;/string&gt;\n      &lt;/property&gt;\n      &lt;property name=\"alignment\"&gt;\n       &lt;set&gt;Qt::AlignCenter&lt;/set&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;210&lt;/x&gt;\n        &lt;y&gt;65&lt;/y&gt;\n        &lt;width&gt;51&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"editable\"&gt;\n       &lt;bool&gt;true&lt;/bool&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_2\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;159&lt;/x&gt;\n        &lt;y&gt;100&lt;/y&gt;\n        &lt;width&gt;331&lt;/width&gt;\n        &lt;height&gt;26&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"inputMethodHints\"&gt;\n       &lt;set&gt;Qt::ImhNone&lt;/set&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;One Row:       0&lt;/string&gt;\n      &lt;/property&gt;\n      &lt;property name=\"textFormat\"&gt;\n       &lt;enum&gt;Qt::PlainText&lt;/enum&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_3\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;119&lt;/x&gt;\n        &lt;y&gt;130&lt;/y&gt;\n        &lt;width&gt;371&lt;/width&gt;\n        &lt;height&gt;26&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;        Two Rows:     0&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_4\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;156&lt;/x&gt;\n        &lt;y&gt;160&lt;/y&gt;\n        &lt;width&gt;331&lt;/width&gt;\n        &lt;height&gt;26&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Three Rows:   0&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_9\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;210&lt;/x&gt;\n        &lt;y&gt;208&lt;/y&gt;\n        &lt;width&gt;87&lt;/width&gt;\n        &lt;height&gt;26&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Stall Price&lt;/string&gt;\n      &lt;/property&gt;\n      &lt;property name=\"alignment\"&gt;\n       &lt;set&gt;Qt::AlignCenter&lt;/set&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_3\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;180&lt;/x&gt;\n        &lt;y&gt;280&lt;/y&gt;\n        &lt;width&gt;71&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"editable\"&gt;\n       &lt;bool&gt;true&lt;/bool&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_10\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;140&lt;/x&gt;\n        &lt;y&gt;58&lt;/y&gt;\n        &lt;width&gt;81&lt;/width&gt;\n        &lt;height&gt;31&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;11&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Amount:&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_11\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;110&lt;/x&gt;\n        &lt;y&gt;274&lt;/y&gt;\n        &lt;width&gt;81&lt;/width&gt;\n        &lt;height&gt;31&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;11&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Amount:&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_12\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;130&lt;/x&gt;\n        &lt;y&gt;310&lt;/y&gt;\n        &lt;width&gt;121&lt;/width&gt;\n        &lt;height&gt;31&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;11&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Price:&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_4\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;180&lt;/x&gt;\n        &lt;y&gt;316&lt;/y&gt;\n        &lt;width&gt;71&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"editable\"&gt;\n       &lt;bool&gt;true&lt;/bool&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_5\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;260&lt;/x&gt;\n        &lt;y&gt;280&lt;/y&gt;\n        &lt;width&gt;81&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Pieces&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Stacks&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_10\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;260&lt;/x&gt;\n        &lt;y&gt;316&lt;/y&gt;\n        &lt;width&gt;81&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Per Piece&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Per Stack&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_21\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;200&lt;/x&gt;\n        &lt;y&gt;390&lt;/y&gt;\n        &lt;width&gt;281&lt;/width&gt;\n        &lt;height&gt;51&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;pointsize&gt;14&lt;/pointsize&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Gold: 0&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_16\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;250&lt;/x&gt;\n        &lt;y&gt;360&lt;/y&gt;\n        &lt;width&gt;69&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"currentIndex\"&gt;\n       &lt;number&gt;0&lt;/number&gt;\n      &lt;/property&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt; Gold (g)&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt; Kilo (k)&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt; Million (m)&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt; Billion (b)&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QLabel\" name=\"label_31\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;170&lt;/x&gt;\n        &lt;y&gt;363&lt;/y&gt;\n        &lt;width&gt;121&lt;/width&gt;\n        &lt;height&gt;16&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"font\"&gt;\n       &lt;font&gt;\n        &lt;family&gt;Open Sans Semibold&lt;/family&gt;\n        &lt;pointsize&gt;11&lt;/pointsize&gt;\n        &lt;weight&gt;75&lt;/weight&gt;\n        &lt;bold&gt;true&lt;/bold&gt;\n       &lt;/font&gt;\n      &lt;/property&gt;\n      &lt;property name=\"text\"&gt;\n       &lt;string&gt;Price Unit:&lt;/string&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QComboBox\" name=\"comboBox_23\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;270&lt;/x&gt;\n        &lt;y&gt;64&lt;/y&gt;\n        &lt;width&gt;61&lt;/width&gt;\n        &lt;height&gt;22&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"editable\"&gt;\n       &lt;bool&gt;false&lt;/bool&gt;\n      &lt;/property&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Pieces&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string&gt;Stacks&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/item&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"Line\" name=\"line\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;-20&lt;/x&gt;\n        &lt;y&gt;190&lt;/y&gt;\n        &lt;width&gt;561&lt;/width&gt;\n        &lt;height&gt;16&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"frameShadow\"&gt;\n       &lt;enum&gt;QFrame::Plain&lt;/enum&gt;\n      &lt;/property&gt;\n      &lt;property name=\"lineWidth\"&gt;\n       &lt;number&gt;2&lt;/number&gt;\n      &lt;/property&gt;\n      &lt;property name=\"orientation\"&gt;\n       &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"Line\" name=\"line_3\"&gt;\n      &lt;property name=\"geometry\"&gt;\n       &lt;rect&gt;\n        &lt;x&gt;-40&lt;/x&gt;\n        &lt;y&gt;430&lt;/y&gt;\n        &lt;width&gt;561&lt;/width&gt;\n        &lt;height&gt;16&lt;/height&gt;\n       &lt;/rect&gt;\n      &lt;/property&gt;\n      &lt;property name=\"frameShadow\"&gt;\n       &lt;enum&gt;QFrame::Plain&lt;/enum&gt;\n      &lt;/property&gt;\n      &lt;property name=\"lineWidth\"&gt;\n       &lt;number&gt;2&lt;/number&gt;\n      &lt;/property&gt;\n      &lt;property name=\"orientation\"&gt;\n       &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n    &lt;/widget&gt;\n    &lt;widget class=\"QWidget\" name=\"tab_2\"&gt;\n     &lt;attribute name=\"title\"&gt;\n      &lt;string&gt;Skills&lt;/string&gt;\n     &lt;/attribute&gt;\n    &lt;/widget&gt;\n   &lt;/widget&gt;\n   &lt;widget class=\"QLabel\" name=\"label_5\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;0&lt;/x&gt;\n      &lt;y&gt;0&lt;/y&gt;\n      &lt;width&gt;971&lt;/width&gt;\n      &lt;height&gt;881&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"styleSheet\"&gt;\n     &lt;string notr=\"true\"&gt;background-color:qradialgradient(spread:reflect, cx:0.5, cy:0.5, radius:0.5, fx:0.511364, fy:0.506, stop:0 rgba(24, 132, 214, 255), stop:1 rgba(109, 187, 238, 255))&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;property name=\"text\"&gt;\n     &lt;string/&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n   &lt;widget class=\"Line\" name=\"line_2\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;0&lt;/x&gt;\n      &lt;y&gt;-7&lt;/y&gt;\n      &lt;width&gt;561&lt;/width&gt;\n      &lt;height&gt;16&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"frameShadow\"&gt;\n     &lt;enum&gt;QFrame::Plain&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"lineWidth\"&gt;\n     &lt;number&gt;2&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;property name=\"orientation\"&gt;\n     &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n   &lt;widget class=\"Line\" name=\"line_4\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;-9&lt;/x&gt;\n      &lt;y&gt;0&lt;/y&gt;\n      &lt;width&gt;20&lt;/width&gt;\n      &lt;height&gt;1001&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"frameShadow\"&gt;\n     &lt;enum&gt;QFrame::Plain&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"lineWidth\"&gt;\n     &lt;number&gt;2&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;property name=\"orientation\"&gt;\n     &lt;enum&gt;Qt::Vertical&lt;/enum&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n   &lt;widget class=\"Line\" name=\"line_5\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;486&lt;/x&gt;\n      &lt;y&gt;0&lt;/y&gt;\n      &lt;width&gt;20&lt;/width&gt;\n      &lt;height&gt;1001&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"frameShadow\"&gt;\n     &lt;enum&gt;QFrame::Plain&lt;/enum&gt;\n    &lt;/property&gt;\n    &lt;property name=\"lineWidth\"&gt;\n     &lt;number&gt;2&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;property name=\"orientation\"&gt;\n     &lt;enum&gt;Qt::Vertical&lt;/enum&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n   &lt;widget class=\"QPushButton\" name=\"pushButton_2\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;467&lt;/x&gt;\n      &lt;y&gt;1&lt;/y&gt;\n      &lt;width&gt;30&lt;/width&gt;\n      &lt;height&gt;23&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"font\"&gt;\n     &lt;font&gt;\n      &lt;family&gt;Terminal&lt;/family&gt;\n      &lt;pointsize&gt;14&lt;/pointsize&gt;\n      &lt;weight&gt;75&lt;/weight&gt;\n      &lt;bold&gt;true&lt;/bold&gt;\n     &lt;/font&gt;\n    &lt;/property&gt;\n    &lt;property name=\"styleSheet\"&gt;\n     &lt;string notr=\"true\"&gt;background: transparent; color:rgb(49, 49, 49)&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;property name=\"text\"&gt;\n     &lt;string&gt;X&lt;/string&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n   &lt;zorder&gt;label_5&lt;/zorder&gt;\n   &lt;zorder&gt;tabWidget&lt;/zorder&gt;\n   &lt;zorder&gt;line_2&lt;/zorder&gt;\n   &lt;zorder&gt;line_4&lt;/zorder&gt;\n   &lt;zorder&gt;line_5&lt;/zorder&gt;\n   &lt;zorder&gt;pushButton_2&lt;/zorder&gt;\n  &lt;/widget&gt;\n &lt;/widget&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550736775, "post_id": 54797321, "comment_id": 96381006, "body": "You could get the error message with a single line of input, too; <code>&quot;10 , 4 , #&quot;.split(&quot;\\n&quot;)</code> simply returns a list containing the whole string, and <code>&quot;10 , 4 , #\\n&quot;.split(&quot;\\n&quot;)</code> returns <code>[&quot;10 , 4 , #&quot;, &quot;&quot;]</code>"}, {"owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550737305, "post_id": 54797321, "comment_id": 96381310, "body": "@tripleee In the case you mentioned the error will be <code>ValueError: not enough values to unpack</code> while in question it&#39;s <code>ValueError: too many values to unpack (expected 3)</code>."}, {"owner": {"reputation": 29, "user_id": 10245140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5qZwBsCmnK4/AAAAAAAAAAI/AAAAAAAAAFw/Oi3dig-PCMw/photo.jpg?sz=128", "display_name": "hossein asghari", "link": "https://stackoverflow.com/users/10245140/hossein-asghari"}, "edited": false, "score": 0, "creation_date": 1550748575, "post_id": 54797321, "comment_id": 96388317, "body": "@Paandittya     see my input.text is  10 \\n 4 \\n #  not  10 , 4 , #  and the output that i want  is like this : ########## \\n ########## \\n ########## \\n ##########   so it means that my inputs are spiliting with \\n not  ,."}, {"owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "edited": false, "score": 0, "creation_date": 1550749973, "post_id": 54797321, "comment_id": 96389130, "body": "In your question, you have clearly mentioned that Input.txt DO have <code>,</code> in between. I would suggest that you clearly and accurately post the text file else it won&#39;t be possible to pinpoint the exact problem."}, {"owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "edited": false, "score": 0, "creation_date": 1550750569, "post_id": 54797321, "comment_id": 96389518, "body": "Also the output you desire is obtained when you split the string using <code>,</code>. I have tested it and already getting the output you mentioned."}], "tags": [], "owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "is_accepted": false, "score": 0, "last_activity_date": 1550736462, "last_edit_date": 1550736462, "creation_date": 1550708471, "answer_id": 54797321, "question_id": 54797003, "link": "https://stackoverflow.com/questions/54797003/values-error-to-unpack-in-python-file-expected-3/54797321#54797321", "title": "Values error to unpack in python file (expected 3)", "body": "<pre><code>text = \"10, 12, #\" \n# Here split the string using comma and not newline char.\nm, n, c = text.split(\",\")  \nprint(m, n, c) \nm = int(m) \nn = int(n)\nout_text = (c * m + \"\\n\") * n \nprint(out_text)\n</code></pre>\n\n<p>You should split the string using comma and not newline char <code>\\n</code>. In case your text file has multiple lines then better use <code>lines = file.readlines()</code> and then</p>\n\n<pre><code> .... \nfor line in lines:\n    m, n, c = line.split(\",\")\n ....\n</code></pre>\n\n<p>So finally your code will look something like this</p>\n\n<pre><code>with open(\"Input.txt\", \"r\") as f:\n    lines = f.readlines() \n\n# Keep in mind that using \"w\" will \n# overwrite contents of file and not\n# append to it\nout_file = open(\"Output.txt\", \"w\")\n\n\nfor line in lines:\n    m, n, c = line.split(\",\") \n    m = int(m) \n    n = int(n)\n    out_text = (c * m + \"\\n\") * n \n    out_file.write(out_text) \n\nout_file.close()\n</code></pre>\n\n<p><strong>About the error</strong></p>\n\n<p><em>ValueError: too many values to unpack (expected 3)</em></p>\n\n<p>Given that you were trying to split the text using separator <code>\\n</code> suggests that you have multiple lines. Lets understand with an example and say your file had 5 lines like this:</p>\n\n<pre><code>1, 2, #\n3, 2, #\n1, 3, #\n8, 2, #\n3, 5, #\n</code></pre>\n\n<p>Now when you read this using <code>f.read()</code> the resultant string will effectively be like this</p>\n\n<pre><code>\"1, 2, #\\n3, 2, #\\n1, 3, #\\n8, 2, #\\n3, 5, #\"\n</code></pre>\n\n<p>And when you split it using <code>\\n</code> you got a list as shown below</p>\n\n<pre><code>['1, 2, #', '3, 2, #', '1, 3, #', '8, 2, #', '3, 5, #' ]\n</code></pre>\n\n<p>AND NOT</p>\n\n<pre><code>['1', ' 2', ' #'] and so on\n</code></pre>\n\n<p>Therefore when you instruct python to unpack list with 5 elements into 3 variables <code>m, n, c</code> it raises error that 5 values cannot be uniquely assigned (or unpack) to 3 variables.</p>\n\n<p>Hope this answers your query. </p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 10720117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cNTnbivEKiE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jwKANON3WshQJwdLUwWuzYHTOKFQ/mo/photo.jpg?sz=128", "display_name": "Bill", "link": "https://stackoverflow.com/users/10720117/bill"}, "is_accepted": false, "score": 0, "last_activity_date": 1550737936, "creation_date": 1550737936, "answer_id": 54802503, "question_id": 54797003, "link": "https://stackoverflow.com/questions/54797003/values-error-to-unpack-in-python-file-expected-3/54802503#54802503", "title": "Values error to unpack in python file (expected 3)", "body": "<p>Your error throw by below code</p>\n\n<pre><code>m, n, c = text.split(\"\\n\")\n</code></pre>\n\n<p>Which caused by <code>split</code> return less then 3 items, while you expecting 3 (i.e. <code>m, n, c</code>)</p>\n\n<pre><code># This should throw the same error\nm, n, c = [\"one\"]\nm, n, c = [\"one\", \"two\"]\n\n# This should work\nm, n, c = [\"one\", \"two\", \"three\"]\n</code></pre>\n\n<p>To fix the issue, review your <code>split</code> call, Paandittya's answer should have everything you need</p>\n"}], "owner": {"reputation": 29, "user_id": 10245140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5qZwBsCmnK4/AAAAAAAAAAI/AAAAAAAAAFw/Oi3dig-PCMw/photo.jpg?sz=128", "display_name": "hossein asghari", "link": "https://stackoverflow.com/users/10245140/hossein-asghari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550737936, "creation_date": 1550706164, "last_edit_date": 1550722964, "question_id": 54797003, "link": "https://stackoverflow.com/questions/54797003/values-error-to-unpack-in-python-file-expected-3", "title": "Values error to unpack in python file (expected 3)", "body": "<p>I am new to Python.\nI want to write a example using I/O file but I have a problem.</p>\n\n<p>Input.txt is:</p>\n\n<pre><code>10 , 4 , #\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>f = open(\"Input.txt\", \"r\")\ntext = f.read()\nm, n, c = text.split(\"\\n\")\nm = int(m)\nn = int(n)\nf. close()\n\nout_text = (c * m + \"\\n\") * n\nf = open(\"Output.txt\", \"w\")\nf.write(out_text)\nf.close()\n</code></pre>\n\n<p>When I run this code, I have this error:</p>\n\n<blockquote>\n  <p>ValueError: too many values to unpack (expected 3)</p>\n</blockquote>\n\n<p>Can anyone help me with that?  What is this error ???!!!!!</p>\n"}, {"tags": ["python", "pandas", "dynamic", "logic"], "comments": [{"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 1, "creation_date": 1550709096, "post_id": 54796989, "comment_id": 96372506, "body": "Could you post some example data and the expected output that would result from that data? It&#39;s very difficult to offer much help without that. Also check out <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">how to ask proper pandas examples</a>"}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 1, "creation_date": 1550716259, "post_id": 54796989, "comment_id": 96374098, "body": "@PeterLeimbigler - Thank you so much for your input. I edited my comment and added below to what I think to be what you are looking for (example input data and example output data) , as well as what your example provided. I did not include the code as directly relates to the example df as I am not sure if my original code was correct, so I wrote out that logic. Please let me know if I can further help you help me."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1550801314, "post_id": 54796989, "comment_id": 96413669, "body": "@PeterLeimbigler so sorry, I understand if your tired of hearing from me, but I updated the test df and goal df."}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1550806554, "post_id": 54796989, "comment_id": 96414641, "body": "Sorry for leaving this unanswered! Thank you for the example data and output. But in general, I can&#39;t see a clean, compact way of translating these specific rules into pandas code. The answer by @johnnyb is about all the improvement I would be able to come up with myself..."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1550807401, "post_id": 54796989, "comment_id": 96414822, "body": "@PeterLeimbiglerq I understand and thank you for the time, really it is just step 5 I need help with ( sifting out qty under 13, when the group also has a qty over 99) I have another post going: <a href=\"https://stackoverflow.com/questions/54819211/pandas-logic-room-for-dynamic-programming\" title=\"pandas logic room for dynamic programming\">stackoverflow.com/questions/54819211/&hellip;</a>  that has direct code on the sample data so you can easily run it  on your machine ( copy and paste in idle) but I understand if you dont have the time/dont understand fully. Thanks again for your feedback!"}], "answers": [{"tags": [], "owner": {"reputation": 1378, "user_id": 6916973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/JwzBl.jpg?s=128&g=1", "display_name": "johnnyb", "link": "https://stackoverflow.com/users/6916973/johnnyb"}, "is_accepted": false, "score": 1, "last_activity_date": 1550712433, "last_edit_date": 1550712433, "creation_date": 1550711160, "answer_id": 54797682, "question_id": 54796989, "link": "https://stackoverflow.com/questions/54796989/complex-logic-and-dynamic-programming-in-pandas/54797682#54797682", "title": "Complex logic and dynamic programming in Pandas", "body": "<p>I second @PeterLeimbigler comments but I would suggest as a few overall things to help with your code. I would suggest only using iter if absolutely necessary, personnaly I have found it to be much slower than the standard pandas methods to conduct business. See below for a few changes I would make.</p>\n\n<pre><code>#To concat two columns into one as a string type \ndf[\"NewCol\"] = df[\"Col1\"].astype(str) + df[\"Col2\"].astype(str) # assigns the concated values to the new column instead of iterating over each row, much faster this way\n\n# To get assign count column with your data giving you a by row count of how many times NewCol's row value has been seen in total dataframe\ndf['Counts'] = df.groupby(['NewCol'])['NewCol'].transform('count') # The count ignores nan values \n\n# If your intent is to just compare two rows to get a count duplicate based on both columns, keep your data as ints and do this \ndf['Counts'] = df.groupby(['col1', 'col2'])['coltocount'].transform('count')\n\n# Alternate method to count values \ncountcol1 = df['Col1'].value_counts \ncounts = countcol1.to_dict() #converts to dict\ndf['Count'] = df['Col1'].map(counts) \n\n# To get true false values based on a specific column's data \ndf[\"Truethiness\"] = (df[\"ColToCompare\"] == 1.0)  # This can be multiple conditions if need be. \n\n# To conditionally drop rows from a pandas dataframe\ndf = df.drop(df[&lt;some condition&gt;].index\n\n# If you need to save the data from the conditional drop\ndf2 = df.drop(df[&lt;Alternate condition of above&gt;].index\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550801263, "creation_date": 1550706072, "last_edit_date": 1550801263, "question_id": 54796989, "link": "https://stackoverflow.com/questions/54796989/complex-logic-and-dynamic-programming-in-pandas", "title": "Complex logic and dynamic programming in Pandas", "body": "<p>My goal is to combine two columns into a third column 'Priority' <strong>(step 1)</strong>. Next, I count each instance of combined values in the new 'Priority' column <strong>(step 2)</strong>. I then filter out instances where the combined value ie 'Priority' was 1 <strong>(step 3)</strong>. Next I delete each row that has cancelled in the 'WO_Stat' column if the combined value count for the column we created in (step 2) is greater than 1 <strong>(step 4)</strong> .</p>\n\n<p>I believe the previous steps I have done correctly; in my code comments I have commented where I got lost \"#above, this was working fine 9.24 but not sure if it makes sense, also need to work on below\".</p>\n\n<p>I need most help on step below.</p>\n\n<p><strong>Step 5</strong> For the values in 'Priority' that had a count of over 1 delete the rows where their 'Order_Qty' is less than 16 only in the event thought that the same 'Priority value' has another 'Order_Qty' of great than 99. (mind there may be up to 10 counts of each \"Priority Value\" ,so you would maybe only be deleting 4 if lets say the Order_Qty was 10,10,9,8,2000,2000,2000,4000,3000,300)</p>\n\n<p>If you cannot help with the logic, even just help with making this code run quicker, it takes almost an hour with 40k lines of data. Maybe I could include dynamic programming or format column data type better?</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom numpy import NaN\ndf = pd.read_excel(\"ors_final.xlsx\", encoding = \"ISO-8859-1\", dtype=object) #used to read xls file named vlookuped but now changed to ors_final as of 2.20.19\ndf['Priority']= df['Priority'].astype('str')\ndf['Cust_PO_Number']= df['Cust_PO_Number'].astype('str')\ndf['Cust_PO_Number']= df['Cust_PO_Number'].astype('str')\ndf['Item_Number']= df['Item_Number'].astype('str')\ndf['Sub_Priority']= df['Sub_Priority'].astype('str')\n# creating second df\ndf_deleted = df.copy(deep=True)\ndf_deleted.drop(df.index,inplace=True)\n# creating variable for small value first art\nLOWER_THRESHOLD = 16\n#\nprint(\"1. combine po number and item number\")\nfor i, row in df.iterrows(): #iterate through each row with with row value and row content\n    a = str(row['Cust_PO_Number'])\n    b = str(row['Item_Number'])\n\n    concat = a + b\n\n    df.set_value(i, 'Priority', concat)\n#worked 9.23\nprint('2. Count all the duplicates of the combined values above')\nseen = {}\nfor i, row in df.iterrows(): # now we will count the combined values, not dict keys cant have dupe values\n    c = row['Priority']\n\n    if c not in seen: # have not seen the letter before, we need to establish this\n        seen [c] = 0\n\n    seen[c] += 1 # Seen concatted values once, add one.\nfor i, row in df.iterrows(): #put the recorded numbers in, now we loop thorugh each row to get the value of c to call it as it's key (dict) value\n    c = row['Priority']\n\n    times_seen = seen[c]\n\n    df.set_value(i, 'Mfg_Co', times_seen)\nprint(\"3. Ignore instances of rowes  where concat is not one\")\nfor i, row in df.iterrows():\n      d = row['Mfg_Co']\n      if d == 1.0:\n          df.set_value(i,'Sub_Priority',True)\n      else:\n          df.set_value(i,'Sub_Priority',False)\n\nprint('4. Delete all rows where orders are cancelled but concated column is more than 1')\ndelete_these = []\nfor i, row in df.iterrows():\n      f = row['WO_Stat']\n      d = row['Sub_Priority']\n\n      if str(f) == 'Cancelled' and d != True:\n          delete_these.append(i)\n          df_deleted = df_deleted.append(row) # this does not append dataframe yet looking into 9.23\n\ndf.drop(delete_these, axis=0, inplace=True)\n\n#above this was working 9.24 but had not tested the data integrity , looked pretty good tho\nover_numbers = {}\nfor i, row in df.iterrows(): #determine if its over a number, still working out kinks 9.24\n      c = row['Priority']\n      g = row['Order_Qty']\n\n      if float(g) &gt; float(99):\n          over_numbers[c] = True\n#little confused on below on\nprint('step 5')\nfor i, row in df.iterrows(): # storing the numbers over 99\n    c = row['Priority']\n\n    if c in over_numbers:\n        df.set_value(i, 'Comments_Status',True)\n    else:\n        df.set_value(i,'Comments_Status',False)\n#above, this was working fine 9.24 but not sure if it makes sense, also need to work on below\n## \ndelete_these = []\n\nfor i, row in df.iterrows(): # Remove all rows that have over_number = True and also number less than 16\n    d = row['Sub_Priority'] # should this be changed?\n    f = row['Comments_Status']\n\n    if d &lt;= LOWER_THRESHOLD and f is True: # so grouping 1st arts\n        delete_these.append(i) # store row number to drop later\n        df_deleted = df_deleted.append(row) # Add the row to other dataframe\n\ndf.drop(delete_these, axis=0, inplace=True)\n\n#step 5 was not working as of 10.2, it was breaking out the first article data wrong\n\nwriter = pd.ExcelWriter('1start.xlsx', engine='xlsxwriter')\ndf.to_excel(writer, sheet_name='Sheet1')\nwriter.save()\n\nwriter = pd.ExcelWriter('deleted1start.xlsx', engine='xlsxwriter')\ndf_deleted.to_excel(writer, sheet_name='Sheet1')\nwriter.save()\n</code></pre>\n\n<p><strong>--- New format of question, with attempt to make easier to understand/help---</strong></p>\n\n<pre><code>    import pandas as pd\n\ndf = pd.DataFrame({'Column_A':['test1', 'test7', 'test7', 'test4', 'test6', 'test6', 'test7'],'Column_B':['WO1','WO7', 'WO7', 'WO6', 'WO6', 'WO6', 'WO7'],\n                   'Column_A_B': ['','','','','','','',], 'Satus': ['Cancelled','Cancelled', 'Active', 'Active', 'Open', 'Active', 'Active'],\n                   'Qty': ['12', '34' , '13', '3000', '14', '88', '1500']})\n</code></pre>\n\n<p>Please view Example DataFrame above and my step by step goals:\n<strong>Step 1:</strong> Combine Column A and Column B into Column_A_B\n<strong>Step 2:</strong> Count each instance of the values in 'ColumnA_B'\n<strong>Step 3</strong> Filter out rows where there is only 1 instance of the value in 'ColumnA_B'\n<strong>Step 4:</strong> Delete each row that has cancelled in the 'Status' Column, and just the row that has canceled in it - there may be some with the same value in ColumnA_B but different \"Status' values ( note while the Step three filter is being applied)\n<strong>Step 5:</strong> With the filter still on for 'Column_A_B' ( ie  the filtering out count of 1) look at the redundant values ( so when you count the values in 'Column_A_B_' is would be 2 or greater) and then for said grouped counts look at the 'Qty' column. If this group has a Qty of less than 16 AND over 99 delete just the row that had 'QTY' of 16. IF the grouping had \"QTY's of all less than 99 don't delete anything , if all the 'QTY' values are over 99 dont delete anything. </p>\n\n<p>The result Df of this logic will be this:</p>\n\n<pre><code>import pandas as pd\n\n    goaldf = pd.DataFrame({'Column_A':['test1', 'test4', 'test6', 'test6', 'test7'],'Column_B':['WO1', 'WO6', 'WO6', 'WO6', 'WO7'],\n                   'Column_A_B': ['test1W01','test4WO6','test6WO6','test6WO6', 'test7WO7'], 'Satus': ['Cancelled', 'Active', 'Open', 'Active', 'Active'],\n                   'Qty': ['12', '3000', '14', '88', '1500']})\n</code></pre>\n"}, {"tags": ["python", "numpy", "keras", "tf.keras"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 10264886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-77bChmRUnBk/AAAAAAAAAAI/AAAAAAAAABM/791flNjez3E/photo.jpg?sz=128", "display_name": "Soulthym", "link": "https://stackoverflow.com/users/10264886/soulthym"}, "is_accepted": false, "score": 1, "last_activity_date": 1550778459, "creation_date": 1550778459, "answer_id": 54815101, "question_id": 54796986, "link": "https://stackoverflow.com/questions/54796986/valueerror-205087-but-got-1-using-fit-generator-on-onehot-vectors-in-ker/54815101#54815101", "title": "ValueError: (205087,) but got (1,), using fit_generator on onehot vectors in keras", "body": "<p>I found a fix.\nIn case that happens to you, you need to know that keras takes in inputs as batches, so your array needs to be one step deeper.\nIn my my case reshaping it to <code>(1,205807)</code> fixed the problem as it has nothing to do with the fact that it is generated nor any other reason, the format was just not as expected.</p>\n\n<p>For example if your model accepts data like:\n<code>[1,2,3]</code> you need to feed it <code>[[1,2,3]]</code></p>\n"}], "owner": {"reputation": 83, "user_id": 10264886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-77bChmRUnBk/AAAAAAAAAAI/AAAAAAAAABM/791flNjez3E/photo.jpg?sz=128", "display_name": "Soulthym", "link": "https://stackoverflow.com/users/10264886/soulthym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550778459, "creation_date": 1550706065, "last_edit_date": 1550707063, "question_id": 54796986, "link": "https://stackoverflow.com/questions/54796986/valueerror-205087-but-got-1-using-fit-generator-on-onehot-vectors-in-ker", "title": "ValueError: (205087,) but got (1,), using fit_generator on onehot vectors in keras", "body": "<p>Alright so I am experimenting with keras as part of a project, and I get the following error that I just can't seem to resolve:\n<code>ValueError: Error when checking input: expected input_1 to have shape (205087,) but got array with shape (1,)</code>\nMy code is the following:</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nfrom tensorflow.keras.layers import Input, Dense, Concatenate\nfrom tensorflow.keras.models import Model\n\ndef iterdata():\n    while(True):\n        for d in data: #data is already defined in my script\n            val=tf.keras.utils.to_categorical(d, num_classes=vocab_size) #this is the one_hot vector that causes troubles\n            yield val, 0\nword = Input(shape=(vocab_size,))\nencode = Dense(1, activation=None)\nencoded = shared_encode(word)\n\nmodel = Model(inputs=word, outputs=encoded)\nmodel.compile(loss='mean_squared_error',\n              optimizer='rmsprop',\n              metrics=['accuracy'])\nH = model.fit_generator(iterdata(), \n        epochs=10,\n        steps_per_epoch=10) #according to the Traceback, error happens while running this line\n</code></pre>\n\n<p>Running :</p>\n\n<pre><code>for d in iterdata():\n    print(d[0].shape)\n</code></pre>\n\n<p>correctly prints <code>(205087,)</code>\nSo I do not know what to do with it, I did try yielding <code>np.asarray([val])</code> instead but still got the same error.\nAny idea on how to fix this?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "slice"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1550710215, "post_id": 54796983, "comment_id": 96372750, "body": "You want a slice object. <code>slice(None)</code> probably"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1550712131, "creation_date": 1550712131, "answer_id": 54797802, "question_id": 54796983, "link": "https://stackoverflow.com/questions/54796983/what-to-assign-to-a-variable-to-act-like-in-pandas-dataframe-loc-method/54797802#54797802", "title": "What to assign to a variable to act like &quot;:&quot; in pandas dataframe .loc method?", "body": "<p>Use <code>slice(None)</code>:</p>\n\n<pre><code>df\n       sepal_length sepal_width petal_length petal_width\niris_0            x           x            x           x\niris_1            x           x            x           x\niris_2            x           x            x           x\niris_3            x           x            x           x\niris_4            x           x            x           x\n</code></pre>\n\n<p></p>\n\n<pre><code>df.loc['iris_0', \"sepal_length\"]\n# 'x'\n\ndf.loc[slice(None), \"sepal_length\"]\niris_0    x\niris_1    x\niris_2    x\niris_3    x\niris_4    x\nName: sepal_length, dtype: object\n</code></pre>\n\n<p>You can also use <code>Ellipsis</code> (<code>...</code>) when indexing on the underlying NumPy array:</p>\n\n<pre><code># df.to_numpy()[..., df.columns.get_loc('sepal_length')]\ndf.values[..., df.columns.get_loc('sepal_length')]\n# array(['x', 'x', 'x', 'x', 'x'], dtype=object)\n</code></pre>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 54797802, "answer_count": 1, "score": 1, "last_activity_date": 1550712131, "creation_date": 1550706058, "question_id": 54796983, "link": "https://stackoverflow.com/questions/54796983/what-to-assign-to-a-variable-to-act-like-in-pandas-dataframe-loc-method", "title": "What to assign to a variable to act like &quot;:&quot; in pandas dataframe .loc method?", "body": "<p>I'm trying to create a function that takes in list and results a subsetted index. If there is no index provided I want it to give me back the entire index.</p>\n\n<p>I thought that <code>None</code> works for this in <code>pandas</code> but apparently not... I'm using <code>pandas '0.23.4'</code></p>\n\n<p><strong>Is there another value I can give the slicing method that will act like: <code>df.loc[:,\"sepal_length\"]</code> that I can assign to a variable?</strong> I can't do <code>index=:</code></p>\n\n<pre><code>df = X_iris.copy()\nprint(df.columns, df.index[:5], \"\", sep=\"\\n\")\n# Index(['sepal_length', 'sepal_width', 'petal_length', 'petal_width'], dtype='object')\n# Index(['iris_0', 'iris_1', 'iris_2', 'iris_3', 'iris_4'], dtype='object')\n\n\ndef example(df, index):\n    result = df.loc[index,\"sepal_length\"]\n    print(\"index =\", index, \"works\")\n    return result\n\nexample(df, \"iris_0\")\n# index = iris_0 works\n# 5.1\nexample(df, None)\n# TypeError: cannot use label indexing with a null key\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "pip", "setuptools", "distutils"], "comments": [{"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550706811, "post_id": 54796975, "comment_id": 96371969, "body": "You could try adding the dependency with <code>&quot;tensorflow ~= 1.12&quot;</code>.  That wouldn&#39;t pick up 1.13 automatically when it&#39;s available, but it would keep you from getting 1.13, I believe."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550706861, "post_id": 54796975, "comment_id": 96371980, "body": "BTW, the relevant PEPs are <a href=\"https://www.python.org/dev/peps/pep-0440/\" rel=\"nofollow noreferrer\">PEP-440</a> and <a href=\"https://www.python.org/dev/peps/pep-0508/\" rel=\"nofollow noreferrer\">PEP-508</a>."}, {"owner": {"reputation": 396, "user_id": 5615492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b26dc181c7d559730769d1a84826652b?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5615492/tom"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1550789293, "post_id": 54796975, "comment_id": 96411112, "body": "Thanks for the tips. Yeah I was hoping for an option that allows future releases, but not RCs. However it looks like including RCs is totally PEP compliant based on your links so perhaps keeping RCs around isn&#39;t that terrible."}, {"owner": {"reputation": 5234, "user_id": 79079, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/27fd295ebb207dcbfd231a6dbab29f74?s=128&d=identicon&r=PG", "display_name": "mltsy", "link": "https://stackoverflow.com/users/79079/mltsy"}, "edited": false, "score": 1, "creation_date": 1580943624, "post_id": 54796975, "comment_id": 106268572, "body": "Actually, it&#39;s totally NOT PEP compliant! <a href=\"https://www.python.org/dev/peps/pep-0440/#handling-of-pre-releases\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0440/#handling-of-pre-releases</a> I&#39;ve commented about this in the ticket you linked to.  But it doesn&#39;t look like it&#39;s likely to change any time soon, given that there&#39;s been no activity on that ticket in 3 years. (I guess technically, it is &quot;compliant&quot; since the PEP says SHOULD rather than MUST, but it&#39;s not... PEP ideal) :D"}], "owner": {"reputation": 396, "user_id": 5615492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b26dc181c7d559730769d1a84826652b?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5615492/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3672, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1550705999, "creation_date": 1550705999, "question_id": 54796975, "link": "https://stackoverflow.com/questions/54796975/how-to-exclude-or-ignore-package-pre-releases-with-setuptools", "title": "How to exclude or ignore package pre-releases with setuptools?", "body": "<p>I was using setuptools with a <code>tensorflow</code> package dependency. I noticed when I run <code>setup.py install</code>, it finds <code>tensorflow 1.13.0rc2</code>. When I run with <code>pip</code>, it finds <code>tensorflow 1.12</code>.</p>\n\n<p>Then I found <a href=\"https://github.com/pypa/setuptools/issues/855\" rel=\"noreferrer\">this ticket</a> which seems to indicate that <code>setuptools</code> includes package pre-releases (i.e. release candidates, RCs), whereas <code>pip</code> does not unless you specify the <code>--pre</code> argument. </p>\n\n<p><strong>I was wondering if anyone had any tips on how to exclude pre-releases from <code>setuptools</code> so that <code>python setup.py install</code> won't pull them in.</strong></p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 9378580, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tFyklaDye1s/AAAAAAAAAAI/AAAAAAAAAY0/uktTPcAqxng/photo.jpg?sz=128", "display_name": "Normy Haddad", "link": "https://stackoverflow.com/users/9378580/normy-haddad"}, "edited": false, "score": 0, "creation_date": 1550723861, "post_id": 54797031, "comment_id": 96375933, "body": "So just to clarify, every function that changes a global variable needs to declare it as global, otherwise it is treated as local? Does that also cause python to not declare a &quot;not defined&quot; error?"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 1, "creation_date": 1550746321, "post_id": 54797031, "comment_id": 96386867, "body": "Yes to your first question. No to you second question in the sense that the variable has to be defined somewhere anyway. You can&#39;t use <code>global</code> as a declaration, that&#39;s only a way to say &quot;The variable with this name has been declared in the global scope, not here&quot;."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1550706336, "creation_date": 1550706336, "answer_id": 54797031, "question_id": 54796966, "link": "https://stackoverflow.com/questions/54796966/pygame-icon-function-not-changing-a-global-variable/54797031#54797031", "title": "Pygame icon() function not changing a global variable", "body": "<p>Your problem is that <code>icon</code> does not attempt to change any global variables; it's dealing strictly with its input parameters and local variables.  If you want it to <em>change</em> a variable outside its own scope, you need to add</p>\n\n<pre><code>global airbrushMode\n</code></pre>\n\n<p>at the top of your function.</p>\n\n<p>Also, if you expect <code>paintScreen</code> to recognize the global variable, you must have either a global presence (top-level usage) of that variable, or <code>paintScreen</code> also needs the <code>global</code> declaration.</p>\n\n<p>For full details, look up global variables in Python.</p>\n"}, {"tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": false, "score": 1, "last_activity_date": 1550707143, "creation_date": 1550707143, "answer_id": 54797146, "question_id": 54796966, "link": "https://stackoverflow.com/questions/54796966/pygame-icon-function-not-changing-a-global-variable/54797146#54797146", "title": "Pygame icon() function not changing a global variable", "body": "<p>Instead of checking for events in <code>icon()</code>, perhaps the code would flow more smoothly if it posted an event when the button was pressed. </p>\n\n<pre><code>def icon(icon, colour, x, y, width, height, inactiveColour, activeColour, action = None):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x + width &gt; cur[0] &gt; x and y + height &gt; cur[1] &gt; y:#if the cursor is over the button\n        pygame.draw.rect(gameDisplay, activeColour, (x, y, width, height))\n        gameDisplay.blit(icon, (x, y))\n        if click[0] == 1 and action != None: #if clicked\n            print('click')\n            pygame.event.post( pygame.USEREVENT + 1, {} )\n</code></pre>\n\n<p>Then handle these in your main loop:</p>\n\n<pre><code>while paint:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            pygame.quit()\n            quit()\n        elif event.type == pygame.USEREVENT + 1\n            airbrushMode = True\n</code></pre>\n\n<p>If it were me, I would make a set of my own event types:</p>\n\n<pre><code>import enum\n\n...\n\nclass MyEvents( enum.Enum ):\n    AIRBRUSH = pygame.USEREVENT + 1\n    PEN      = pygame.USEREVENT + 2\n    PENCIL   = pygame.USEREVENT + 3\n</code></pre>\n\n<p>Which allows:</p>\n\n<pre><code>pygame.event.post( MyEvents.AIRBRUSH, {} )\n\n...\n\nelif ( event.type == MyEvents.AIRBRUSH ):\n    airbrushMode = True\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 9378580, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tFyklaDye1s/AAAAAAAAAAI/AAAAAAAAAY0/uktTPcAqxng/photo.jpg?sz=128", "display_name": "Normy Haddad", "link": "https://stackoverflow.com/users/9378580/normy-haddad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 54797031, "answer_count": 2, "score": 0, "last_activity_date": 1550707143, "creation_date": 1550705942, "question_id": 54796966, "link": "https://stackoverflow.com/questions/54796966/pygame-icon-function-not-changing-a-global-variable", "title": "Pygame icon() function not changing a global variable", "body": "<p>I have a function that allows for the user to click an icon and set a boolean so that the main loop knows which action to perform. The code is intended to work as click airbrush icon -> set <code>airbrushMode</code> to true -> return <code>airbrushMode</code> so <code>paintScreen()</code> can detect it -> perform the action set by <code>airbrushMode</code> in the while loop. I added in print statements to locate the problem. The variable does change, but the variable is not returned, and the airbrush function does not work. It does work when I set <code>airbrushMode</code> to true inside <code>paintScreen()</code> but setting it to false in the function and outside the function both don't work.</p>\n\n<p>The main function</p>\n\n<pre><code>def paintScreen():\n    airbrushMode = False\n    paint = True\n    gameDisplay.fill(cyan)\n    message_to_screen('Welcome to PyPaint', black, -300, 'large')\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    pygame.draw.rect(gameDisplay, white, (50, 120, displayWidth - 100, displayHeight - 240))\n    while paint:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                quit()\n\n        button('X', 20, 20, 50, 50, red, lightRed, action = 'quit')\n        icon(airbrushIcon, white, 50, displayHeight - 101, 51, 51, white, grey, 'airbrush')\n        icon(pencilIcon, white, 140, displayHeight - 101, 51, 51, white, grey, 'pencil')\n        icon(calligraphyIcon, white, 230, displayHeight - 101, 51, 51, white, grey, 'calligraphy')\n        pygame.display.update()\n        if cur[0] &gt;= 50 &lt;= displayWidth - 50 and cur[1] &gt;= 120 &lt;= displayHeight - 120:\n            if airbrushMode == True:\n                airbrush()\n</code></pre>\n\n<p>the function that creates the icons and detects the action, then returns it</p>\n\n<pre><code>def icon(icon, colour, x, y, width, height, inactiveColour, activeColour, action = None):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x + width &gt; cur[0] &gt; x and y + height &gt; cur[1] &gt; y:#if the cursor is over the button\n        pygame.draw.rect(gameDisplay, activeColour, (x, y, width, height))\n        gameDisplay.blit(icon, (x, y))\n        if click[0] == 1 and action != None: #if clicked\n            print('click')\n            if action == 'quit':\n                pygame.quit()\n                quit()\n            elif action == 'airbrush':\n                airbrushMode = True\n                print('airbrush set')\n                return airbrushMode\n                print('airbrush active')\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1550746400, "post_id": 54796956, "comment_id": 96386907, "body": "this is obvious enough once it is shown. plus other people having the same problem wouldn&#39;t be finding the post anyway. Certainly they wouldn&#39;t search the title of this post."}, {"owner": {"reputation": 1330, "user_id": 10738638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8514f73f69bb49efa8473739dc392ab4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/10738638/david"}, "edited": false, "score": 0, "creation_date": 1550756811, "post_id": 54796956, "comment_id": 96393596, "body": "@YongkangZhao: For me this is not obvious, so an explanation would be very helpful, why all the whole dataset is shown. A suggestion for a better title would be helpful as well, so users like me would learn to use titles which are helpful for the community."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1550757093, "post_id": 54796956, "comment_id": 96393801, "body": "the problem is, once the person knows what title to use, they wouldn&#39;t be asking, and if the person with the same problem don&#39;t realize what the problem is wouldn&#39;t be searching for the correct post. This is a problem of understanding of order of operation. and how would someone not knowing it is the problem to ask the right question?"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "reply_to_user": {"reputation": 1330, "user_id": 10738638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8514f73f69bb49efa8473739dc392ab4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/10738638/david"}, "edited": false, "score": 0, "creation_date": 1550757574, "post_id": 54796956, "comment_id": 96394114, "body": "@David, when you had this problem, you didn&#39;t know it was a problem of order of operation and certainly if you knew, you wouldn&#39;t have this problem. Similarly, someone else who doesn&#39;t realize this wouldn&#39;t be searching for THIS post. Since this post is too specific to your problem."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1550757921, "post_id": 54796956, "comment_id": 96394328, "body": "the title says something about pandas, rows, &amp; operator, filtering; when the problem is just an understanding of order of operation. there is not much to it. and people with the same problem wouldn&#39;t be searching for pandas filtering etc.,"}], "tags": [], "owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "is_accepted": true, "score": 1, "last_activity_date": 1550705887, "creation_date": 1550705887, "answer_id": 54796956, "question_id": 54796926, "link": "https://stackoverflow.com/questions/54796926/pandas-filtering-rows-with-operator-does-not-reduce-dataframe/54796956#54796956", "title": "Pandas: filtering rows with &amp; operator does not reduce Dataframe", "body": "<p>try this:</p>\n\n<pre><code>df2[(df2['pace']&gt;50) &amp; (df2['dribbling']&gt;50)].count()\n</code></pre>\n"}], "owner": {"reputation": 1330, "user_id": 10738638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8514f73f69bb49efa8473739dc392ab4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/10738638/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 54796956, "answer_count": 1, "score": 0, "last_activity_date": 1550705887, "creation_date": 1550705678, "question_id": 54796926, "link": "https://stackoverflow.com/questions/54796926/pandas-filtering-rows-with-operator-does-not-reduce-dataframe", "title": "Pandas: filtering rows with &amp; operator does not reduce Dataframe", "body": "<p>I have been reviewing some Posts on stack overflow, but have not found an appropriate answer to my question. I have a dataframe with three columns: player_name, dribbling and pace</p>\n\n<pre><code>df2[df2['pace']&gt;50 &amp; (df2['dribbling']&gt;50)].count()\n</code></pre>\n\n<p>shows 16882 entries, which is the whole dataset</p>\n\n<pre><code>df2[df2['pace']&gt;50].count()\n</code></pre>\n\n<p>shows 15713 entries and</p>\n\n<pre><code>df2[df2['dribbling']&gt;50].count()\n</code></pre>\n\n<p>shows 15089 entries</p>\n\n<p>Why does the <code>df2[df2['pace']&gt;50 &amp; (df2['dribbling']&gt;50)].count()</code> <strong>not</strong> reduce the dataset and instead shows all entries?</p>\n"}, {"tags": ["python", "postgresql", "datetime", "time", "sqlalchemy"], "comments": [{"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1550709048, "post_id": 54796888, "comment_id": 96372495, "body": "Maybe datetime.utcnow(), or as in this answer: <a href=\"https://stackoverflow.com/a/33532154/5781248\">stackoverflow.com/a/33532154/5781248</a>"}, {"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1550709078, "post_id": 54796888, "comment_id": 96372503, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13370317/sqlalchemy-default-datetime\">SQLAlchemy default DateTime</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": false, "score": 3, "last_activity_date": 1565108028, "last_edit_date": 1565108028, "creation_date": 1550728803, "answer_id": 54800233, "question_id": 54796888, "link": "https://stackoverflow.com/questions/54796888/using-postgres-time-with-timezone-with-sqlalchemy/54800233#54800233", "title": "Using postgres &quot;time with timezone&quot; with sqlalchemy", "body": "<p>The primary issue seems to be that you are mapping a SQLALchemy <a href=\"https://docs.sqlalchemy.org/en/13/core/type_basics.html#sqlalchemy.types.DateTime\" rel=\"nofollow noreferrer\"><code>DateTime</code></a> column to a PostgreSQL <a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\"><code>time with time zone</code></a> column. You should look into <a href=\"https://docs.sqlalchemy.org/en/13/core/type_basics.html#sqlalchemy.types.Time\" rel=\"nofollow noreferrer\"><code>Time</code></a> instead.</p>\n\n<p>If you meant to use a PostgreSQL <a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\"><code>timestamp with time zone</code></a> column, then you still need to rethink your default setting since <code>datetime.now</code> is not time zone aware. There are a few ways to handle this, but a simple one is to use SQLAlchemy's <code>func.now()</code> instead. For example:</p>\n\n<pre><code>from sqlalchemy import Column, DateTime, Integer, MetaData, Table\nfrom sqlalchemy.sql import func\n\nmetadata = MetaData()\n\nexample = Table('example', metadata,\n    Column('id', Integer, primary_key=True),\n    Column('date', DateTime(timezone=True), default=func.now())\n    )\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 3422533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bd273b95f0d9d02f77347acb7ca64603?s=128&d=identicon&r=PG&f=1", "display_name": "user3422533", "link": "https://stackoverflow.com/users/3422533/user3422533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5201, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1565108028, "creation_date": 1550705405, "question_id": 54796888, "link": "https://stackoverflow.com/questions/54796888/using-postgres-time-with-timezone-with-sqlalchemy", "title": "Using postgres &quot;time with timezone&quot; with sqlalchemy", "body": "<p>I use postgres and sqlalchemy with python 3.7</p>\n\n<p>I've got a column with type \"time with timezone\" and try to insert a new line.</p>\n\n<pre><code>TAB = Table(\"tab\", METADATA,\n           # ...\n\n           Column('created', DateTime(timezone=True), default=datetime.now)\n           )\n</code></pre>\n\n<p>Now I try to insert a new line. I got this message:</p>\n\n<pre><code>(psycopg2.ProgrammingError) column \"created\" is of type time with time zone but expression is of type timestamp without time zone\n</code></pre>\n\n<p>Has anybody an idea what I have to do?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "tensorflow", "keras", "keras-rl"], "owner": {"reputation": 11, "user_id": 11092812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c921a3d36453d6f6a6482b6e1a1dff9a?s=128&d=identicon&r=PG&f=1", "display_name": "Chubbs", "link": "https://stackoverflow.com/users/11092812/chubbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550705073, "creation_date": 1550705073, "question_id": 54796846, "link": "https://stackoverflow.com/questions/54796846/measuring-episode-rewards-when-using-epsilon-greedy-policy-with-linear-annealing", "title": "Measuring episode rewards when using epsilon greedy policy with linear annealing on epsilon", "body": "<p>Is there a standard practice or a tool in Keras that will give an estimate of the episode rewards that is decorrelated with epsilon during training?</p>\n\n<p>In training the following dqn network, I can measure the episode rewards over time during training, however due the nature of the problem, as epsilon decreases the episode rewards will increase regardless of whether or not the model has improved from training. Because of this, it is difficult to tell if model is improving/converging, or if the increasing episode rewards is just due to the linear annealing of epsilon.</p>\n\n<p>If I had to work around this manually, I would train a fraction of the total desired training steps, then test the model with epsilon = 0, record the average episode rewards at that instant, manually change epsilon, and then do the same cycle again. This seems like a hack though and I would think that anyone else using linear annealing of epsilon would run into this same issue.</p>\n\n<p>Thoughts?</p>\n\n<p>My model is constructed as follows:</p>\n\n<pre><code>model = Sequential()\nmodel.add(Flatten(input_shape=(WINDOW_LENGTH,) + (observation_space_count,)))\nfor i in range(hidden_layer_count):\n    model.add(Dense(observation_space_count*layer_width))\n    model.add(Activation('relu'))\nmodel.add(Dense(nb_actions))\nmodel.add(Activation('linear'))\n\nmemory = SequentialMemory(limit=memory_length, window_length=WINDOW_LENGTH)\npolicy = LinearAnnealedPolicy(EpsGreedyQPolicy(), attr='eps', value_max=0.75, value_min=.01, value_test=.0, nb_steps=TOTAL_STEPS)\n\ndqn = DQNAgent(model=model, nb_actions=nb_actions, memory=memory, nb_steps_warmup=memory_length, target_model_update=1e-2, policy=policy, gamma=.99)\ndqn.compile(Adam(lr=LEARNING_RATE), metrics=['mae'])\n</code></pre>\n\n<p>A typical training graph may look like:\n<a href=\"https://i.stack.imgur.com/12dDq.png\" rel=\"nofollow noreferrer\">typical training metrics</a></p>\n"}, {"tags": ["python", "docker", "jenkins", "jenkins-pipeline"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1550713631, "post_id": 54796782, "comment_id": 96373501, "body": "Please give Jenkins&#39;s all console output"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9824037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NyZdL.jpg?s=128&g=1", "display_name": "Venkatavaradhan", "link": "https://stackoverflow.com/users/9824037/venkatavaradhan"}, "edited": false, "score": 0, "creation_date": 1550778961, "post_id": 54798206, "comment_id": 96406827, "body": "Thank you. I will try this !"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": true, "score": 1, "last_activity_date": 1550715383, "creation_date": 1550715383, "answer_id": 54798206, "question_id": 54796782, "link": "https://stackoverflow.com/questions/54796782/how-to-run-a-python-script-in-a-docker-container-in-jenkins-pipeline/54798206#54798206", "title": "How to run a python script in a docker container in jenkins pipeline", "body": "<p>When Jenkins Pipeline to launch the agent container, it will change the container's <code>WORKDIR</code> via <code>-w</code> option and mount the Jenkins job's workspace folder via <code>-v</code> option. </p>\n\n<p>As a result of both options, the Jenkins job's workspace folder will becomes your container's <code>WORKDIR</code>.  </p>\n\n<p>Following is my jenkins job console output:</p>\n\n<pre><code>docker run -t -d -u 29001:100 \n-w /bld/workspace/test/agent-poc \n-v /bld/workspace/test/agent-poc:/bld/workspace/test/agent-poc:rw,z \n-v /bld/workspace/test/agent-poc@tmp:/bld/workspace/test/agent-poc@tmp:rw,z \n-e ******** -e ******** -e ******** -e ******** \ndocker.hub.com/busybox cat\n</code></pre>\n\n<p>You clone the code when build the image and they are not inside the <code>WORKDIR</code>, thus reports no such file error.</p>\n\n<p>Two approaches to fix your issue.</p>\n\n<p><strong>1)</strong> cd your code folder at firstly, you should know that path.</p>\n\n<pre><code>    stage('Test') {\n        steps {\n            sh '''\n              cd &lt;your code folder in container&gt;\n              python jenkins_pipeline_scripts/scripts/test.py\n            '''   \n        }\n    } \n</code></pre>\n\n<p><strong>2)</strong> move git clone code repo from Dockerfile into pipeline stage</p>\n\n<p>As I explained at begin, your job's workspace will become container's <code>WORKDIR</code>,\nthus you can clone your code into jenkins job workspace via pipeline step, then you no need to <code>cd &lt;your code folder in container&gt;</code>.</p>\n"}], "owner": {"reputation": 99, "user_id": 9824037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NyZdL.jpg?s=128&g=1", "display_name": "Venkatavaradhan", "link": "https://stackoverflow.com/users/9824037/venkatavaradhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4192, "favorite_count": 2, "accepted_answer_id": 54798206, "answer_count": 1, "score": 2, "last_activity_date": 1550715383, "creation_date": 1550704671, "last_edit_date": 1550707328, "question_id": 54796782, "link": "https://stackoverflow.com/questions/54796782/how-to-run-a-python-script-in-a-docker-container-in-jenkins-pipeline", "title": "How to run a python script in a docker container in jenkins pipeline", "body": "<p>I have a docker image in dockerhub that I want to add as an agent in my jenkins pipeline script. As a part of the image, I perform git clone to fetch a repository from github that has multiple python scripts which corresponds to multiple stages in my jenkins pipeline. I tried searching everywhere but I'm not able to find relevant information that talks about how to access the files inside a docker container in jenkins pipeline.</p>\n\n<p>I'm running jenkins on a VM and it has docker installed. The pipeline performs a build on a docker container. Since there are many steps involved in every single stage of the pipeline, I tried to use python API as much as possible.</p>\n\n<p>This is how my dockerfile looks like and the image builds successfully and I'm able to host it in dockerhub. When I run the container, I'm able to see \"jenkins_pipeline_scripts\" directory which contains all the necessary python scripts for the pipeline stages.</p>\n\n<pre><code>FROM ros:melodic-ros-core-stretch\n\nRUN apt-get update &amp;&amp; apt-get -y install python-pip\n\nRUN git clone &lt;private-repo with token&gt;\n</code></pre>\n\n<p>This is how my current jenkins pipeline script looks like.</p>\n\n<pre><code>pipeline {\n    agent {\n        docker {\n            image '&lt;image name&gt;'\n            registryUrl 'https://registry.hub.docker.com'\n            registryCredentialsId 'docker-credentials'\n            args '--network host -u root:root'\n        }\n    }\n\n    stages {\n        stage('Test') {\n            steps {\n                sh 'python jenkins_pipeline_scripts/scripts/test.py'   \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the error I'm getting when I execute the job.</p>\n\n<pre><code>$ docker top 05587cd75db5c4282b86b2f1ded2c43a0f4eae161d6c7d7c03d065b0d45e1 -eo pid,comm\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (Test)\n[Pipeline] sh\n+ python jenkins_pipeline_scripts/scripts/test.py\npython: can't open file 'jenkins_pipeline_scripts/scripts/test.py': [Errno 2] No such file or directory\n</code></pre>\n"}, {"tags": ["python", "sql", "type-conversion", "pyodbc", "varbinary"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11092824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2c0b56db576e1c6c7785ddfb784e34?s=128&d=identicon&r=PG&f=1", "display_name": "Crn", "link": "https://stackoverflow.com/users/11092824/crn"}, "edited": false, "score": 0, "creation_date": 1550792304, "post_id": 54806640, "comment_id": 96411883, "body": "And also, if you could help, if I want to convert into floating point numbers, would that be better to do it in HEX bytes or varbinary(max) ?"}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "reply_to_user": {"reputation": 35, "user_id": 11092824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2c0b56db576e1c6c7785ddfb784e34?s=128&d=identicon&r=PG&f=1", "display_name": "Crn", "link": "https://stackoverflow.com/users/11092824/crn"}, "edited": false, "score": 0, "creation_date": 1550797910, "post_id": 54806640, "comment_id": 96413018, "body": "@RCan - I&#39;m not sure what you mean. Take a <code>varbinary</code>-like column and interpret it as <code>float</code> (or similar)? In any case, that would be a <a href=\"https://stackoverflow.com/questions/ask\">separate question</a>."}], "tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 0, "last_activity_date": 1550750626, "creation_date": 1550750626, "answer_id": 54806640, "question_id": 54796778, "link": "https://stackoverflow.com/questions/54796778/python-pyodbc-binary-column-is-returning-xda-x08-xcd-x08-xba-x08-instead-of-num/54806640#54806640", "title": "Python Pyodbc Binary Column is returning \\xda\\x08\\xcd\\x08\\xba\\x08 instead of numbers", "body": "<p>If the column return type is <code>varbinary(max)</code> then you need to add the output converter function to handle <code>SQL_VARBINARY</code>, not <code>SQL_BINARY</code></p>\n\n<pre><code>cnxn.add_output_converter(pyodbc.SQL_VARBINARY, converter_function_name)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11092824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2c0b56db576e1c6c7785ddfb784e34?s=128&d=identicon&r=PG&f=1", "display_name": "Crn", "link": "https://stackoverflow.com/users/11092824/crn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 54806640, "answer_count": 1, "score": 2, "last_activity_date": 1550750626, "creation_date": 1550704642, "question_id": 54796778, "link": "https://stackoverflow.com/questions/54796778/python-pyodbc-binary-column-is-returning-xda-x08-xcd-x08-xba-x08-instead-of-num", "title": "Python Pyodbc Binary Column is returning \\xda\\x08\\xcd\\x08\\xba\\x08 instead of numbers", "body": "<p>I have a SQL database that displays a varbinary (max) like this 0x9406920691068F... I want to import it to python pycharm to get the same exact type of data. \nHowever, it shows something like this instead\n[b'\\x94\\x06\\x92\\x06\\x91\\x06\\x8f\\x06\\x8d..\nhow do I copy the same numbers to python? I am a beginner in python, please help.</p>\n\n<p>I copied the code from previous post and it didn't work</p>\n\n<pre><code>import pyodbc\n\n    def hexToString(binaryString):\n    try:\n      hashString = [\"{0:0&gt;2}\".format(hex(b)[2:].upper()) for b in binaryString]\n      return '0x' + \"\".join(hashString)\n    except:\n      return binaryString\n\n\n    query = \"\"\" select P from Access.table \"\"\"\n\nconn_str = (\n      **** private database details # I don't copy on the page\n    )\n\ncnxn = pyodbc.connect(conn_str)\ncnxn.add_output_converter(pyodbc.SQL_BINARY, hexToString)\ncursor = cnxn.cursor()\n\ntry:\n    cursor.execute(query)\n    row = cursor.fetchone()\nexcept MySQLdb.error as err:\n    print(err)\nelse:\n    while row is not None:\n        print(row)\n        row = cursor.fetchone()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "mp3", "wav"], "comments": [{"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 1, "creation_date": 1550705624, "post_id": 54796747, "comment_id": 96371676, "body": "did you check, that you really have permissions for this file?"}, {"owner": {"reputation": 11, "user_id": 11092828, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6xWTBJQEVMM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPF_cvVnPyeszSdzqXkXAx1jNwL3A/mo/photo.jpg?sz=128", "display_name": "\u65e0\u540d\u6c0f", "link": "https://stackoverflow.com/users/11092828/%e6%97%a0%e5%90%8d%e6%b0%8f"}, "reply_to_user": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1550788787, "post_id": 54796747, "comment_id": 96410938, "body": "I tried to run it as administrator and it still doesn&#39;t work."}], "owner": {"reputation": 11, "user_id": 11092828, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6xWTBJQEVMM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPF_cvVnPyeszSdzqXkXAx1jNwL3A/mo/photo.jpg?sz=128", "display_name": "\u65e0\u540d\u6c0f", "link": "https://stackoverflow.com/users/11092828/%e6%97%a0%e5%90%8d%e6%b0%8f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550705661, "creation_date": 1550704424, "last_edit_date": 1550705661, "question_id": 54796747, "link": "https://stackoverflow.com/questions/54796747/access-denied-when-using-pydub", "title": "Access denied when using pydub", "body": "<p>I want to use this script to convert a mp3 file to a wav file.</p>\n\n<pre><code>import pydub\nfrom pydub import AudioSegment\npydub.AudioSegment.converter=r\"C:\\Users\\sunha\\ffmpeg-4.1-win64-static\\bin\"\nsound = AudioSegment.from_mp3(\"\u7b77\u5b50\u5144\u5f1f - \u5c0f\u82f9\u679c.mp3\")\nsound.export(\"\u7b77\u5b50\u5144\u5f1f - \u5c0f\u82f9\u679c.wav\", format=\"wav\")\n</code></pre>\n\n<p>But the problem is my access is denied.</p>\n\n<pre><code>Traceback (most recent call last):\n\nFile \"&lt;ipython-input-1-5faa7bcb6b97&gt;\", line 1, in &lt;module&gt;\n    runfile('C:/Users/sunha/project-001/untitled1.py', wdir='C:/Users/sunha/project-001')\n\nFile \"E:\\program\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 786, in runfile\n    execfile(filename, namespace)\n\nFile \"E:\\program\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 110, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\nFile \"C:/Users/sunha/project-001/untitled1.py\", line 4, in &lt;module&gt;\n    sound = AudioSegment.from_mp3(\"\u7b77\u5b50\u5144\u5f1f - \u5c0f\u82f9\u679c.mp3\")\n\nFile \"E:\\program\\lib\\site-packages\\pydub\\audio_segment.py\", line 716, in from_mp3\n    return cls.from_file(file, 'mp3', parameters=parameters)\n\nFile \"E:\\program\\lib\\site-packages\\pydub\\audio_segment.py\", line 697, in from_file\n    stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n\nFile \"E:\\program\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 143, in __init__\n    super(SubprocessPopen, self).__init__(*args, **kwargs)\n\nFile \"E:\\program\\lib\\subprocess.py\", line 775, in __init__\n    restore_signals, start_new_session)\n\nFile \"E:\\program\\lib\\subprocess.py\", line 1178, in _execute_child\n    startupinfo)\n\nPermissionError: [WinError 5] \u62d2\u7edd\u8bbf\u95ee\u3002\n</code></pre>\n\n<p>How can I possibly fix the problem?</p>\n"}, {"tags": ["python", "windows-10", "google-assist-api"], "owner": {"reputation": 11, "user_id": 11092749, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-abePMGAX4XM/AAAAAAAAAAI/AAAAAAAAAGI/n9XMpHALDDA/photo.jpg?sz=128", "display_name": "SauceTV", "link": "https://stackoverflow.com/users/11092749/saucetv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 760, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550704397, "creation_date": 1550704397, "question_id": 54796742, "link": "https://stackoverflow.com/questions/54796742/problem-with-installing-google-assistant-no-module-named-googlesamples-assistan", "title": "PROBLEM WITH INSTALLING GOOGLE ASSISTANT &quot;No module named googlesamples.assistant.auth_helpers&quot;", "body": "<p>Hey I'm trying to get google assistant on my Windows 10 pc by following this youtube video: <a href=\"https://www.youtube.com/watch?v=kKUlgDdLVe0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=kKUlgDdLVe0</a></p>\n\n<p>as I am going through the steps I run into a problem when typing this command:</p>\n\n<pre><code>input:\n        py -m googlesamples.assistant.auth_helpers --client-secrets path/to/.json \n\noutput:\n        D:\\Documents\\python.exe: No module named googlesamples.assistant.auth_helpers\n</code></pre>\n\n<p>things I've tried but didn't work:</p>\n\n<ul>\n<li>Made sure I did all the steps    correctly (went through multiple\ntimes)</li>\n<li>Reinstalling python with    checking all the right boxes</li>\n<li>running cmd as administrator and also    running it normally</li>\n<li>I checked all other threads</li>\n</ul>\n\n<p>Commands Ive tried:</p>\n\n<ul>\n<li><code>pip install --upgrade google-auth-oauthlib[tool]</code></li>\n<li><code>google-oauthlib-tool --client-secrets path/to/client_secret_XXXXX.json --scope https://www.googleapis.com/auth/assistant-sdk-prototype --save --headless</code></li>\n<li><code>python -m googlesamples.assistant.grpc.pushtotalk</code></li>\n<li><code>python -m googlesamples.assistant.grpc.audio_helpers</code></li>\n<li><code>google-oauthlib-tool --scope https://www.googleapis.com/auth/assistant-sdk- prototype \\ --scope https://www.googleapis.com/auth/gcm \\--save --headless --client-secrets D:\\Documents\\GoogleAssistant\\&lt;MyFile.json&gt;</code></li>\n<li><code>pip install --upgrade google-api-python-client</code></li>\n</ul>\n\n<p>Different threads about the subject:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44091251/when-installing-google-assistant-i-an-error-googlesamples-assistant-is-a-p\">When installing Google Assistant, I an error &quot;...googlesamples.assistant&#39; is a package and cannot be directly executed...&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45779671/no-module-named-googlesamples-assistant-auth-helpers\">No module named googlesamples.assistant.auth_helpers</a></li>\n<li><a href=\"https://github.com/warchildmd/google-assistant-hotword-raspi/issues/17\" rel=\"nofollow noreferrer\">https://github.com/warchildmd/google-assistant-hotword-raspi/issues/17</a></li>\n</ul>\n"}, {"tags": ["python", "geolocation", "maps", "interactive"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 11101153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67409aca3317bf2c309757aa6247532?s=128&d=identicon&r=PG", "display_name": "Layik", "link": "https://stackoverflow.com/users/11101153/layik"}, "is_accepted": false, "score": 0, "last_activity_date": 1550836909, "creation_date": 1550836909, "answer_id": 54826679, "question_id": 54796733, "link": "https://stackoverflow.com/questions/54796733/load-part-of-a-map-from-openstreet-to-folium-leaflet/54826679#54826679", "title": "Load part of a map from openstreet to folium/leaflet", "body": "<p>You can define max-zoom level for leaflet, surely <code>folium</code> would also allow you to do this. If for some reason you want to disable zoom/panning, again you should be able to. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>new L.Map('map', { zoomControl:false });\n</code></pre>\n\n<p>and maybe a similar API for panning.</p>\n\n<p>HTH.</p>\n"}], "owner": {"reputation": 6193, "user_id": 4544413, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e76680e93b59e0f38238f5a0c47d1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Ramon Ramirez Rodriguez", "link": "https://stackoverflow.com/users/4544413/luis-ramon-ramirez-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550836909, "creation_date": 1550704338, "question_id": 54796733, "link": "https://stackoverflow.com/questions/54796733/load-part-of-a-map-from-openstreet-to-folium-leaflet", "title": "Load part of a map from openstreet to folium/leaflet", "body": "<p>I\u00b4m using folium to plot an interactive map, so far it is working fine, but I'm interested in just a part of the map and not all  the streets polygons. </p>\n\n<p>It is possible to take just a part of the map E.G only Europe and only polygons at country level? to have a Light weight map.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 2021, "user_id": 5692012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a3FwR.gif?s=128&g=1", "display_name": "RobinFrcd", "link": "https://stackoverflow.com/users/5692012/robinfrcd"}, "is_accepted": true, "score": 1, "last_activity_date": 1550756018, "last_edit_date": 1550756018, "creation_date": 1550743449, "answer_id": 54804307, "question_id": 54796707, "link": "https://stackoverflow.com/questions/54796707/modifying-dataframe-column-based-on-another-column-values/54804307#54804307", "title": "Modifying dataframe column based on another column values", "body": "<p>There are two possible ways of solving your problem:</p>\n\n<p><strong>First method</strong>, the faster, as pandas is column-based:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>UNITS_TO_REMOVE = {'feet', 'yard'}\n\ndf['value_'], df['unit_'] = df['name'].str.split('_').str\nvalues_to_clean = (df['unit_'].isin(UNITS_TO_REMOVE)) &amp; (df['unit_'] == df['unit'])\ndf.loc[values_to_clean, 'name'] = df.loc[values_to_clean, 'value_']\ndf.drop(columns=['unit_', 'value_'], inplace=True)\n</code></pre>\n\n<p>Here is the result,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    unit    name\n0   feet    abcd\n1   celcius abcd_celcius\n2   yard    bcde\n3   yard    bcde\n</code></pre>\n\n<p>Performances: <em>20 ms \u00b1 401 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)</em> (on a (4000, 2) dataframe)</p>\n\n<hr>\n\n<p><strong>Second method</strong>, using apply (which is <em>sometimes</em> the only available solution):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>UNITS_TO_REMOVE = {'feet', 'yard'}\n\ndef remove_unit(unit, value):\n    if unit not in UNITS_TO_REMOVE or '_' not in value:\n        return value\n    else:\n        row_value, row_unit = value.split('_')\n        if row_unit == unit:\n            return row_value\n        else:\n            return value\n\ndf['name'] = df.apply(lambda row: remove_unit(row['unit'], row['name']), axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n    unit    name\n0   feet    abcd\n1   celcius abcd_celcius\n2   yard    bcde\n3   yard    bcde\n</code></pre>\n\n<p>Performances: <em>152 ms \u00b1 3.95 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)</em></p>\n"}], "owner": {"reputation": 91, "user_id": 11092832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4ec62b765a833468d9dc7291a0a39e?s=128&d=identicon&r=PG&f=1", "display_name": "Constantine1991", "link": "https://stackoverflow.com/users/11092832/constantine1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 54804307, "answer_count": 1, "score": 2, "last_activity_date": 1550756018, "creation_date": 1550704170, "last_edit_date": 1550704209, "question_id": 54796707, "link": "https://stackoverflow.com/questions/54796707/modifying-dataframe-column-based-on-another-column-values", "title": "Modifying dataframe column based on another column values", "body": "<p>I have a dataframe with two columns and want to modify one column based on value of other column. </p>\n\n<p>Example</p>\n\n<pre><code>unit        name\nfeet        abcd_feet\ncelcius     abcd_celcius\nyard        bcde_yard\nyard        bcde\n</code></pre>\n\n<p>If the unit is <code>feet</code> or <code>yard</code> and the name ends with it then I wanna remove it from the column. </p>\n\n<pre><code>unit        name\nfeet        abcd\ncelcius     abcd_celcius\nyard        bcde\nyard        bcde\n</code></pre>\n"}, {"tags": ["python", "django", "sqlite"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550705827, "post_id": 54796705, "comment_id": 96371730, "body": "Recent enough versions of python support the backup api, which is about the only safe way to copy an open database. You linked to a really old version of the python sqlite3 docs. See <a href=\"https://docs.python.org/3/library/sqlite3.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/sqlite3.html</a> instead."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550705936, "post_id": 54796705, "comment_id": 96371767, "body": "And if all connections were properly closed, the wal log should be removed by the last one, and you can just copy the database file normally in that case."}, {"owner": {"reputation": 13694, "user_id": 1035279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2942e14d6ac0d238d35a514fe27d5a78?s=128&d=identicon&r=PG", "display_name": "Paul Whipp", "link": "https://stackoverflow.com/users/1035279/paul-whipp"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550707916, "post_id": 54796705, "comment_id": 96372215, "body": "Thanks for the updated link. If only all connections were always properly closed ;)"}], "answers": [{"tags": [], "owner": {"reputation": 13694, "user_id": 1035279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2942e14d6ac0d238d35a514fe27d5a78?s=128&d=identicon&r=PG", "display_name": "Paul Whipp", "link": "https://stackoverflow.com/users/1035279/paul-whipp"}, "is_accepted": false, "score": 1, "last_activity_date": 1550708039, "creation_date": 1550708039, "answer_id": 54797253, "question_id": 54796705, "link": "https://stackoverflow.com/questions/54796705/how-do-i-checkpoint-a-django-sqlite3-database/54797253#54797253", "title": "How do I checkpoint a django sqlite3 database?", "body": "<p>After much digging, you can use a pragma thus:</p>\n\n<pre><code>from django.core.management.base import BaseCommand\nfrom django.db import connection\n\n\nclass Command(BaseCommand):\n    help = 'Checkpoint the database, updating &lt;db&gt;.sqlite3 and removing &lt;db&gt;.sqlite3-wal and &lt;db&gt;.sqlite3-shm files'\n\n    def add_arguments(self, parser):\n        parser.add_argument('-cm', '--checkpoint_mode', default='TRUNCATE',\n                            choices=['PASSIVE', 'FULL', 'RESTART', 'TRUNCATE'],\n                            help='Checkpoint mode - See sqlite3 documentation for options (default is TRUNCATE)')\n\n    def handle(self, *args, **options):\n        with connection.cursor() as cursor:\n            cursor.execute(f\"PRAGMA wal_checkpoint({options['checkpoint_mode']});\")\n            result = cursor.fetchone()\n        print(f'{result}')\n</code></pre>\n"}], "owner": {"reputation": 13694, "user_id": 1035279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2942e14d6ac0d238d35a514fe27d5a78?s=128&d=identicon&r=PG", "display_name": "Paul Whipp", "link": "https://stackoverflow.com/users/1035279/paul-whipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1550708039, "creation_date": 1550704160, "question_id": 54796705, "link": "https://stackoverflow.com/questions/54796705/how-do-i-checkpoint-a-django-sqlite3-database", "title": "How do I checkpoint a django sqlite3 database?", "body": "<p>I have a sqlite3 django database that is using WAL. In operation there are typically three files present: <code>db.sqlite3, db.sqlite3-shm, db.sqlite3-wal</code>.</p>\n\n<p>To conveniently back up the database (when the service is stopped), I'd like to create a management command to checkpoint the sqlite database in order to write all the changes into <code>db.sqlite3</code> and delete the other two files.</p>\n\n<p>While sqlite3 has a <a href=\"https://www.sqlite.org/c3ref/wal_checkpoint_v2.html\" rel=\"nofollow noreferrer\">checkpoint API</a>, I don't know how to access this from django (or <a href=\"https://docs.python.org/3.0/library/sqlite3.html\" rel=\"nofollow noreferrer\">python's sqlite3 module</a>)</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "edited": false, "score": 0, "creation_date": 1550704458, "post_id": 54796688, "comment_id": 96371324, "body": "Write the repetitive parts into functions."}, {"owner": {"reputation": 3, "user_id": 10655428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3zhObJKvm24/AAAAAAAAAAI/AAAAAAAABUw/L5IPTiwWA-E/photo.jpg?sz=128", "display_name": "knight6231 awz", "link": "https://stackoverflow.com/users/10655428/knight6231-awz"}, "reply_to_user": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "edited": false, "score": 0, "creation_date": 1550704670, "post_id": 54796688, "comment_id": 96371380, "body": "can you provide an example please?"}, {"owner": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "edited": false, "score": 0, "creation_date": 1550704842, "post_id": 54796688, "comment_id": 96371431, "body": "I recommend going through an interactive tutorial of Python first to get familiar with all the basic constructs. This seemed to explain your case in detail: <a href=\"https://www.learnpython.org/en/Functions\" rel=\"nofollow noreferrer\">tutorial</a>"}, {"owner": {"reputation": 619, "user_id": 2550932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YBf0.jpg?s=128&g=1", "display_name": "hygorxaraujo", "link": "https://stackoverflow.com/users/2550932/hygorxaraujo"}, "edited": false, "score": 0, "creation_date": 1550706904, "post_id": 54796688, "comment_id": 96371986, "body": "I would advise against using a variable with the name sum, as it shadows the <a href=\"https://docs.python.org/3/library/functions.html?highlight=sum#sum\" rel=\"nofollow noreferrer\">built-in function</a> with the same name."}, {"owner": {"reputation": 3, "user_id": 10655428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3zhObJKvm24/AAAAAAAAAAI/AAAAAAAABUw/L5IPTiwWA-E/photo.jpg?sz=128", "display_name": "knight6231 awz", "link": "https://stackoverflow.com/users/10655428/knight6231-awz"}, "edited": false, "score": 0, "creation_date": 1550706994, "post_id": 54796688, "comment_id": 96372004, "body": "ok thanks for the suggestion"}], "answers": [{"tags": [], "owner": {"reputation": 404, "user_id": 8395875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyI6S.jpg?s=128&g=1", "display_name": "Pau B", "link": "https://stackoverflow.com/users/8395875/pau-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1550704797, "creation_date": 1550704797, "answer_id": 54796800, "question_id": 54796688, "link": "https://stackoverflow.com/questions/54796688/how-can-i-reduce-my-code-a-lot-of-it-is-repetitive/54796800#54796800", "title": "how can I reduce my code? A lot of it is repetitive", "body": "<p>By initializing the variable c as \"Y\", the condition is met and the loop can be executed:</p>\n\n<pre><code>import random\ncorrect=0\ncount=1\nc = \"Y\"\nwhile c == \"Y\":\n    count+=1\n    num1=random.randint(0,100)\n    num2=random.randint(0,100)\n    print(format(num1,'4d'))\n    print('+',num2)\n    answer=int(input('='))\n    sum=num1+num2\n    if answer==sum:\n        print('Congraulations!')\n        correct+=1\n    else:\n        print('Sorry the correct answer is',sum)\n    c=input('Continue (Y/N):')\n    c = c.upper()\n\nelse:\n    print('Your final score is',correct,'/',count)\n</code></pre>\n\n<p>I also added the method <code>upper()</code> to the Y/N input so the user can also type it in lowercase</p>\n"}, {"tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": false, "score": 0, "last_activity_date": 1550704816, "creation_date": 1550704816, "answer_id": 54796802, "question_id": 54796688, "link": "https://stackoverflow.com/questions/54796688/how-can-i-reduce-my-code-a-lot-of-it-is-repetitive/54796802#54796802", "title": "how can I reduce my code? A lot of it is repetitive", "body": "<p>Try to move as much of the processing as possible into the loop.  The first \"paragraph\" of your code was basically a duplicate of the main-loop.  By creating the continuation variable <code>c</code> so that it drops straight into the loop, most of that first block could be removed.</p>\n\n<pre><code>import random\n\ncorrect=0\ncount=0\nc = 'Y'\n\nwhile c == \"Y\":\n\n    count+=1\n    num1=random.randint(0,100)\n    num2=random.randint(0,100)\n    print(format(num1,'4d'))\n    print('+',num2)\n    answer=int(input('='))\n    sum=num1+num2\n    if answer==sum:\n        print('Congratulations!')\n        correct+=1\n    else:\n        print('Sorry the correct answer is',sum)\n    c=input('Continue (Y/N):')\n\nelse:\n    print('Your final score is',correct,'/',count)\n</code></pre>\n\n<p>The two formula printing statements can also be reduced to a single one:</p>\n\n<pre><code>    print(format(num1,'4d'))\n    print('+',num2)\n</code></pre>\n\n<p>could be</p>\n\n<pre><code>    print( format(num1,'4d') + '+', num2 )\n</code></pre>\n\n<p>The variable <code>sum</code> could be removed, but it does make the code self-documenting, which is a good thing.</p>\n"}, {"tags": [], "owner": {"reputation": 588, "user_id": 3394510, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d3860f752c60cd72fac9f9335b87b0cb?s=128&d=identicon&r=PG&f=1", "display_name": "ekiim", "link": "https://stackoverflow.com/users/3394510/ekiim"}, "is_accepted": true, "score": 0, "last_activity_date": 1550705041, "creation_date": 1550705041, "answer_id": 54796840, "question_id": 54796688, "link": "https://stackoverflow.com/questions/54796688/how-can-i-reduce-my-code-a-lot-of-it-is-repetitive/54796840#54796840", "title": "how can I reduce my code? A lot of it is repetitive", "body": "<p>A first start, would be eliminating the code before the <code>while</code>, by initializing the count variable (which keeps track of the turns), in zero, and allowing the while loop to run the first turn, we just need to have a variable like <code>want_to_play</code> and by default it's <code>True</code>, so the first time we'll be playing, and at the end of the game If I don't input <code>Y</code> or <code>y</code> it will asume I don't want to play any more and set the variable to false, that way I can have all the turns ran by the while loop. </p>\n\n<p>and you'll be getting something like this.: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from random import sample\n\ncorrect = 0\ncount = 0           # STartint in turn zero\nwant_to_play = True # Control Variable\n\nwhile want_to_play:\n    count += 1 \n    # First turn this is zero, and adds one.\n\n    [num1, num2] = sample(range(0, 101), 2)\n    # Just another way of getting two random numbers from 1 up to (including) 100.\n    # Printing could be done in one line. \n    print(format(num1, '5d') + '\\n+' + format(num2, '4d'))\n    answer = int(input('= '))\n    # The comparison really doesn't really hurt if you do it this way. \n    if answer == num1 + num2:\n        print('Congraulations!')\n        correct += 1\n    else:\n        print('Sorry the correct answer is', sum)\n\n    # HERE you ask if you want to play again or not, using a one line if\n    # you decide.\n    want_to_play = (True if 'y' == input('Continue (Y/N).lower():') \n                         else False)\nelse:\n    print('Your final score is',correct,'/',count)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10655428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3zhObJKvm24/AAAAAAAAAAI/AAAAAAAABUw/L5IPTiwWA-E/photo.jpg?sz=128", "display_name": "knight6231 awz", "link": "https://stackoverflow.com/users/10655428/knight6231-awz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 54796840, "answer_count": 3, "score": 0, "last_activity_date": 1550707104, "creation_date": 1550704009, "last_edit_date": 1550707104, "question_id": 54796688, "link": "https://stackoverflow.com/questions/54796688/how-can-i-reduce-my-code-a-lot-of-it-is-repetitive", "title": "how can I reduce my code? A lot of it is repetitive", "body": "<p>The code creates a random addition problem and spits out \"Congratulations\" if correct and \"sorry....\" if the inputted value is wrong. The while loop repeats this process until the user inserts \"N\" for the question \"continue (Y/N):, at the same time it keeps track of how many questions have been answered, and which ones are correct. The code works fine, my problem is it has repetitive code. I was wondering if there is a way to shrink it.  </p>\n\n<p>**I appreciate everyone one's help and advice. I\"m a noob that's just learning python  **  </p>\n\n<pre><code>import random\n\ncorrect=0\ncount=1\nnum1=random.randint(0,100)\nnum2=random.randint(0,100)\nprint(format(num1,'4d'))\nprint('+',num2)\nanswer=int(input('='))\nsum=num1+num2\n\nif answer==sum:\n    print('Congraulations!')\n    correct+=1\nelse:\n    print('Sorry the correct answer is',sum)\nc=input('Continue (Y/N):')\n\nwhile c == \"Y\":\n\n    count+=1\n    num1=random.randint(0,100)\n    num2=random.randint(0,100)\n    print(format(num1,'4d'))\n    print('+',num2)\n    answer=int(input('='))\n    sum=num1+num2\n    if answer==sum:\n        print('Congraulations!')\n        correct+=1\n    else:\n        print('Sorry the correct answer is',sum)\n    c=input('Continue (Y/N):')\n\nelse:\n    print('Your final score is',correct,'/',count)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1550704079, "post_id": 54796681, "comment_id": 96371214, "body": "<code>np.count_nonzero</code>.  Since <code>True&#47;False</code> are treated as 1/0, <code>sum</code> also works."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551466112, "post_id": 54796681, "comment_id": 96663965, "body": "Hey, I noticed you unaccepted the answer below, as well as <a href=\"https://stackoverflow.com/a/54205572/4909087\">this answer</a>. Would you let me know if there&#39;s anything wrong with them so I can fix it?"}, {"owner": {"reputation": 597, "user_id": 4526288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa31223d99d0abf65aef271fb39d10c4?s=128&d=identicon&r=PG&f=1", "display_name": "a1234", "link": "https://stackoverflow.com/users/4526288/a1234"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1551560074, "post_id": 54796681, "comment_id": 96686717, "body": "@coldspeed Ummmm not sure how that happened, user error maybe. Everything worked great, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1550704092, "creation_date": 1550704092, "answer_id": 54796697, "question_id": 54796681, "link": "https://stackoverflow.com/questions/54796681/pandas-or-numpy-how-to-count-true-false-array-returned/54796697#54796697", "title": "pandas or numpy - how to count true/false array returned", "body": "<p>Unless you are dealing with large amounts of data, it really does not matter whether you use NumPy or pandas. Since you're using pandas, I would recommend just sticking to the basics unless you know you need otherwise.</p>\n\n<p>To answer your original question, you can get the % of <code>True</code> values using <code>mean</code>:</p>\n\n<pre><code>(df['find_a'] == df['find_b']).mean()\n# 0.6\n</code></pre>\n\n<p>Where,</p>\n\n<pre><code>df['find_a'] == df['find_b']\n\n0     True\n1    False\n2     True\n3    False\n4     True\ndtype: bool\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 11064024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o3q3QtGHBIw/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNA4yuVl-ItbuqxN2_MbZr8LLDsqQ/mo/photo.jpg?sz=128", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/11064024/whitehat"}, "is_accepted": false, "score": 0, "last_activity_date": 1550704358, "creation_date": 1550704358, "answer_id": 54796735, "question_id": 54796681, "link": "https://stackoverflow.com/questions/54796681/pandas-or-numpy-how-to-count-true-false-array-returned/54796735#54796735", "title": "pandas or numpy - how to count true/false array returned", "body": "<pre><code>len(result[result.find_a == result.find_b])\nnp.mean(result.find_a == result.find_b)\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 4526288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa31223d99d0abf65aef271fb39d10c4?s=128&d=identicon&r=PG&f=1", "display_name": "a1234", "link": "https://stackoverflow.com/users/4526288/a1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 54796697, "answer_count": 2, "score": 2, "last_activity_date": 1550704358, "creation_date": 1550703979, "question_id": 54796681, "link": "https://stackoverflow.com/questions/54796681/pandas-or-numpy-how-to-count-true-false-array-returned", "title": "pandas or numpy - how to count true/false array returned", "body": "<p>I have a dataframe called <code>result</code>:</p>\n\n<pre><code>find_a  id     find_b  id\nyes     0001   yes     0001\nno      0002   yes     0002\nno      0003   no      0003\nyes     0004   no      0004\nyes     0005   yes     0005\n</code></pre>\n\n<p>I have the following:</p>\n\n<pre><code>result.find_a.values==find_b.values\n</code></pre>\n\n<p>Which retuns an array of True/False:\n<code>array([ True, False, True, False, True])</code></p>\n\n<p>How do I build on this and get a count of <code>True</code>? If I can get the count, I can then later get a percentage of matched records between the columns, ie. <code>find_a</code> matched with <code>find_b</code> 40% of the time.</p>\n\n<p>Also, I'm not sure if I am venturing down the numpy or pandas route...</p>\n\n<p>Thanks for the help in advance.</p>\n"}, {"tags": ["python", "json", "python-3.x"], "comments": [{"owner": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "edited": false, "score": 0, "creation_date": 1550704678, "post_id": 54796676, "comment_id": 96371385, "body": "Question not clear enough, are you looking to write a list/set of dicts from python to a file in a json format ?"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 0, "creation_date": 1550704721, "post_id": 54796676, "comment_id": 96371394, "body": "What have you tried so far?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8396116"}, "edited": false, "score": 0, "creation_date": 1550704732, "post_id": 54796780, "comment_id": 96371403, "body": "That is so descriptive. Thx."}, {"owner": {"reputation": 15, "user_id": 10897749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97d013bd28d43be987036028a2ca13c?s=128&d=identicon&r=PG&f=1", "display_name": "Shad", "link": "https://stackoverflow.com/users/10897749/shad"}, "edited": false, "score": 0, "creation_date": 1550704757, "post_id": 54796780, "comment_id": 96371409, "body": "@XilpexThank you, but how do I write this to a json file?"}, {"owner": {"reputation": 2697, "user_id": 11059315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68263eac6b6be448f38d829a0832e2b9?s=128&d=identicon&r=PG&f=1", "display_name": "xilpex", "link": "https://stackoverflow.com/users/11059315/xilpex"}, "reply_to_user": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "edited": false, "score": 0, "creation_date": 1550704943, "post_id": 54796780, "comment_id": 96371467, "body": "@LohmarASHAR had misunderstood the question, and am sorry for that. I have edited it to fit the question."}, {"owner": {"reputation": 2697, "user_id": 11059315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68263eac6b6be448f38d829a0832e2b9?s=128&d=identicon&r=PG&f=1", "display_name": "xilpex", "link": "https://stackoverflow.com/users/11059315/xilpex"}, "edited": false, "score": 0, "creation_date": 1550705260, "post_id": 54796780, "comment_id": 96371555, "body": "I meant I had. Srry."}, {"owner": {"reputation": 2697, "user_id": 11059315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68263eac6b6be448f38d829a0832e2b9?s=128&d=identicon&r=PG&f=1", "display_name": "xilpex", "link": "https://stackoverflow.com/users/11059315/xilpex"}, "edited": false, "score": 0, "creation_date": 1550705288, "post_id": 54796780, "comment_id": 96371562, "body": "I couldn&#39;t edit the question because of the 5 minutes not edit rule."}], "tags": [], "owner": {"reputation": 2697, "user_id": 11059315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68263eac6b6be448f38d829a0832e2b9?s=128&d=identicon&r=PG&f=1", "display_name": "xilpex", "link": "https://stackoverflow.com/users/11059315/xilpex"}, "is_accepted": false, "score": 0, "last_activity_date": 1550704864, "last_edit_date": 1550704864, "creation_date": 1550704658, "answer_id": 54796780, "question_id": 54796676, "link": "https://stackoverflow.com/questions/54796676/write-to-a-json-file-in-particular-format-in-python/54796780#54796780", "title": "Write to a json file in particular format in python", "body": "<p>Replicating that code in python is very simple. All you have to do is convert that to a dictionary. Here is the converted output:</p>\n\n<pre><code>import json\n\n\nmydict = [{\n\"Region\": \"BD\",\n\"name\": \"bdfe\",\n\"tyl\": \"cya\",\n\"ice\": \"messi\",\n\"fed\": \"bet\",\n },\n {\n\"Region\": \"Toron\",\n\"name\": \"Cana\",\n\"tyl\": \"cyab\",\n\"ice\": \"feed\",\n\"fed\": \"not\",\n }]\n\nwith open('data.json', 'w') as out: \n    json.dump(mydict, out, indent = 2)\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13694, "user_id": 1035279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2942e14d6ac0d238d35a514fe27d5a78?s=128&d=identicon&r=PG", "display_name": "Paul Whipp", "link": "https://stackoverflow.com/users/1035279/paul-whipp"}, "is_accepted": true, "score": 1, "last_activity_date": 1550704770, "creation_date": 1550704770, "answer_id": 54796795, "question_id": 54796676, "link": "https://stackoverflow.com/questions/54796676/write-to-a-json-file-in-particular-format-in-python/54796795#54796795", "title": "Write to a json file in particular format in python", "body": "<p>Firstly, your 'json' is wrong. I'm assuming the outer curly brackets should be square brackets and you thus trying to save a list. Sets are not part of the json format. \nAssuming <a href=\"https://stackoverflow.com/a/12309296/1035279\">this answer</a> is not what you want because the output is not formatted, you can use <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">the documentation</a> to format the file as you need it. For example: </p>\n\n<pre><code>Python 3.7.0 (default, Nov 21 2018, 10:19:24) \nType 'copyright', 'credits' or 'license' for more information\nIPython 7.1.1 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: import json                                                                                            \n\nIn [2]: obj = [{ \n   ...:   \"Region\": \"BD\", \n   ...:   \"name\": \"bdfe\", \n   ...:   \"tyl\": \"cya\", \n   ...:   \"ice\": \"messi\", \n   ...:   \"fed\": \"bet\", \n   ...:    }, \n   ...:    { \n   ...:   \"Region\": \"Toron\", \n   ...:   \"name\": \"Cana\", \n   ...:   \"tyl\": \"cyab\", \n   ...:   \"ice\": \"feed\", \n   ...:   \"fed\": \"not\", \n   ...:    }]                                                                                                  \n\nIn [3]: with open('data.json', 'w') as outfile: \n   ...:     json.dump(obj, outfile, indent=4) \n   ...:                                                                                                        \n\nIn [4]: !cat data.json                                                                                         \n[\n    {\n        \"Region\": \"BD\",\n        \"name\": \"bdfe\",\n        \"tyl\": \"cya\",\n        \"ice\": \"messi\",\n        \"fed\": \"bet\"\n    },\n    {\n        \"Region\": \"Toron\",\n        \"name\": \"Cana\",\n        \"tyl\": \"cyab\",\n        \"ice\": \"feed\",\n        \"fed\": \"not\"\n    }\n]\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10897749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97d013bd28d43be987036028a2ca13c?s=128&d=identicon&r=PG&f=1", "display_name": "Shad", "link": "https://stackoverflow.com/users/10897749/shad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 54796795, "answer_count": 2, "score": 1, "last_activity_date": 1550704864, "creation_date": 1550703964, "question_id": 54796676, "link": "https://stackoverflow.com/questions/54796676/write-to-a-json-file-in-particular-format-in-python", "title": "Write to a json file in particular format in python", "body": "<p>I need to write the outputs to a json file in python.\nI have tried some of the answers here to write to a json file but for some reason I am not finding the correct format I need the data written to a json file.</p>\n\n<p>What I am looking at is:</p>\n\n<pre><code>{\n  {\n  \"Region\": \"BD\",\n  \"name\": \"bdfe\",\n  \"tyl\": \"cya\",\n  \"ice\": \"messi\",\n  \"fed\": \"bet\",\n   },\n   {\n  \"Region\": \"Toron\",\n  \"name\": \"Cana\",\n  \"tyl\": \"cyab\",\n  \"ice\": \"feed\",\n  \"fed\": \"not\",\n   },\n  ...\n\n}\n</code></pre>\n\n<p>How can I write in this format in python?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "optimization", "scipy", "pulp"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1550786219, "last_edit_date": 1550786219, "creation_date": 1550704085, "answer_id": 54796696, "question_id": 54796635, "link": "https://stackoverflow.com/questions/54796635/optimize-linear-equations-for-maximum-minimum-value/54796696#54796696", "title": "Optimize linear equations for maximum minimum value", "body": "<p>Introduce a new variable <code>z</code> and new constraints <code>z &lt;= x1 + 2*x2</code> and <code>z &lt;= 3*x1 + 4*x2</code>, then maximize <code>z</code>. This is similar to what you tried with <code>minval</code>, but telling the linear programming solver to optimize the value instead of fiddling it up and down yourself.</p>\n"}], "owner": {"reputation": 87, "user_id": 11092741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93a0dfc0f732643e5ccee07626fd277?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/11092741/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54796696, "answer_count": 1, "score": 1, "last_activity_date": 1550786219, "creation_date": 1550703782, "question_id": 54796635, "link": "https://stackoverflow.com/questions/54796635/optimize-linear-equations-for-maximum-minimum-value", "title": "Optimize linear equations for maximum minimum value", "body": "<p>I have a set of linear equations, I want to optimize in such a way that the minimum outcome of any equation is best possible. </p>\n\n<pre><code>for example\n\nSolve for\nx1*1 + x2*2 \nx1*3 + x2*4\n\nconstraint\nx1+x2=&lt;12\n</code></pre>\n\n<p>I am doing linear maximization with Pulp in python and results yield one output too large and other too small. Currently, I am checking the best minimum possible value by setting another constraint</p>\n\n<pre><code>x1*1 + x2*2 &gt;= minval\nx1*3 + x2*4 &gt;= minval\n</code></pre>\n\n<p>I am now iterating for the best possible value of minval till the problem is unfeasible, but this is CPU costly way to do as optimization runs for each value of <strong>minval</strong> </p>\n"}, {"tags": ["python", "audio", "channel", "flac"], "answers": [{"tags": [], "owner": {"reputation": 619, "user_id": 2550932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YBf0.jpg?s=128&g=1", "display_name": "hygorxaraujo", "link": "https://stackoverflow.com/users/2550932/hygorxaraujo"}, "is_accepted": true, "score": 3, "last_activity_date": 1550709091, "last_edit_date": 1550709091, "creation_date": 1550708017, "answer_id": 54797246, "question_id": 54796630, "link": "https://stackoverflow.com/questions/54796630/python-convert-stereo-flac-to-mono/54797246#54797246", "title": "Python convert stereo .flac to mono", "body": "<p>Have you tried the <a href=\"https://github.com/kkroening/ffmpeg-python/tree/master/examples\" rel=\"nofollow noreferrer\">ffmpeg-python</a> package?</p>\n\n<p>You can install it with <code>pip install ffmpeg-python</code>. And this might solve your problem:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import ffmpeg\nffmpeg.input('stereo.flac').output('mono.flac', ac=1).run()\n</code></pre>\n\n<p>There are some <a href=\"https://github.com/kkroening/ffmpeg-python/tree/master/examples\" rel=\"nofollow noreferrer\">examples</a> in the GitHub repository.</p>\n\n<p>Another option could be to use the <a href=\"https://docs.python.org/3/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess</a> module:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import subprocess\nsubprocess.run('ffmpeg -i stereo.flac -ac 1 mono.flac', shell=True)\n</code></pre>\n\n<p>Be careful when using <a href=\"https://docs.python.org/3/library/subprocess.html#security-considerations\" rel=\"nofollow noreferrer\">shell=True</a>.</p>\n"}], "owner": {"reputation": 125, "user_id": 1988772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d93057622225dd7adf989fed7a2383f?s=128&d=identicon&r=PG", "display_name": "piernik", "link": "https://stackoverflow.com/users/1988772/piernik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 1, "accepted_answer_id": 54797246, "answer_count": 1, "score": 2, "last_activity_date": 1554865447, "creation_date": 1550703740, "question_id": 54796630, "link": "https://stackoverflow.com/questions/54796630/python-convert-stereo-flac-to-mono", "title": "Python convert stereo .flac to mono", "body": "<p>I am struggling with manipulation of audio channels in Python. Specifically, how to convert stereo .flac into mono .flac file in Python?</p>\n\n<p>I know this method:\n<a href=\"https://trac.ffmpeg.org/wiki/AudioChannelManipulation#stereomonostream\" rel=\"nofollow noreferrer\">https://trac.ffmpeg.org/wiki/AudioChannelManipulation#stereomonostream</a>\nbut i am looking for something which can be done directly in Python.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1550703884, "creation_date": 1550703884, "answer_id": 54796655, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string/54796655#54796655", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<pre><code>arraylist = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010] ]\nfor array in arraylist:\n    if '2401' in array:\n        print array\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "is_accepted": false, "score": 0, "last_activity_date": 1550703884, "creation_date": 1550703884, "answer_id": 54796656, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string/54796656#54796656", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<p>You can use a simple list comprehension to get a list of matches:</p>\n\n<pre><code>data = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010] ]\n\nsearch = '2401'\nfiltered_data = [entry for entry in data if entry[1] == search]\n</code></pre>\n\n<p><code>filtered_data</code> contains <code>[['ALC', '2401', 240010]]</code>.</p>\n\n<p>If there are multiple matches:</p>\n\n<pre><code>data = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010], ['ALC','2401', 240011], ['ALC','2401', 240012] ]\n\nsearch = '2401'\nfiltered_data = [entry for entry in data if entry[1] == search]\n</code></pre>\n\n<p><code>filtered_data</code> will contain <code>[['ALC', '2401', 240010], ['ALC', '2401', 240011], ['ALC', '2401', 240012]]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 7615, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1550706160, "post_id": 54796658, "comment_id": 96371825, "body": "To improve the long-term usefulness of your answer, could you add some description of what is doing, how it works, etc.?"}], "tags": [], "owner": {"reputation": 12681, "user_id": 7363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a5f99a5c2c6d0597a2f4feb293ad733?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/7363/lucas-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1550764047, "last_edit_date": 1550764047, "creation_date": 1550703890, "answer_id": 54796658, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string/54796658#54796658", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<p>You just need to iterate over the main list and then use the <code>in</code> operator to check if the \"term\" you are looking for is inside of the \"sub-list\"</p>\n\n<pre><code>def find_sublist_with_term(l, term):\n    for subl in l:\n        if term in subl:\n            return subl\n\nmylist = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010] ]\nfound = find_sublist_with_term(mylist, \"2401\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "is_accepted": false, "score": 0, "last_activity_date": 1550705036, "creation_date": 1550705036, "answer_id": 54796839, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string/54796839#54796839", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<p>A generator approach, also capable to find more than one match:</p>\n\n<pre><code>def find_subarray(arr, s):\n    for a in arr:\n        if a[1]==s:\n            yield a\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>loa = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010], ['ALD','2401', 240010], ['ALF','2401', 240010]]\nresult = find_subarray(loa, \"2401\")\nprint(list(result))\n# [['ALC', '2401', 240010], ['ALD', '2401', 240010], ['ALF', '2401', 240010]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 10777777, "user_type": "registered", "profile_image": "https://graph.facebook.com/2363826393647130/picture?type=large", "display_name": "KDMcCracken", "link": "https://stackoverflow.com/users/10777777/kdmccracken"}, "edited": false, "score": 0, "creation_date": 1550873014, "post_id": 54796935, "comment_id": 96446402, "body": "Appreciate the comment! Here is a bonus question... What if instead of just &#39;2401&#39; I have a list of desired strings."}], "tags": [], "owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "is_accepted": false, "score": 1, "last_activity_date": 1550719181, "last_edit_date": 1550719181, "creation_date": 1550705739, "answer_id": 54796935, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string/54796935#54796935", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<p>This should work:</p>\n\n<pre><code>tests = [ ['ALC', '10.0', 240001], ['ALC','2401', 240010] ]\nprint(list(filter(lambda x: '2401' in x, tests)))\n</code></pre>\n\n<p><code>Filter</code> filters out an item based on boolean criteria you provide. \nSo here the critera we are providing is <code>2401 in x</code>.</p>\n\n<p>The <code>x</code> in lambda, represents one element of the list your provided as an argument. The list provided is <code>tests</code>, (at the right-end of the lambda function).</p>\n\n<p>Here are some more examples of <code>filter</code></p>\n\n<p><a href=\"http://book.pythontips.com/en/latest/map_filter.html\" rel=\"nofollow noreferrer\">http://book.pythontips.com/en/latest/map_filter.html</a></p>\n\n<p>Here is the documentation:</p>\n\n<p><a href=\"https://docs.python.org/3/library/functions.html#filter\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#filter</a></p>\n"}], "owner": {"reputation": 15, "user_id": 10777777, "user_type": "registered", "profile_image": "https://graph.facebook.com/2363826393647130/picture?type=large", "display_name": "KDMcCracken", "link": "https://stackoverflow.com/users/10777777/kdmccracken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1550764047, "creation_date": 1550703577, "question_id": 54796610, "link": "https://stackoverflow.com/questions/54796610/given-a-2d-array-find-the-object-within-where-object1-is-equal-to-some-string", "title": "Given a 2D array, find the object within where object[1] is equal to some string x", "body": "<p>I have a list of Arrays:\n[ ['ALC', '10.0', 240001], ['ALC','2401', 240010] ]</p>\n\n<p>How do I get the entire second array entry when I have the string '2401'</p>\n"}, {"tags": ["python", "automated-tests", "tdd", "pytest", "assert"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 8, "last_activity_date": 1550703863, "last_edit_date": 1592644375, "creation_date": 1550703863, "answer_id": 54796649, "question_id": 54796599, "link": "https://stackoverflow.com/questions/54796599/python-pytest-does-not-show-assertion-differences/54796649#54796649", "title": "Python pytest does not show assertion differences", "body": "<p>From the <a href=\"https://docs.pytest.org/en/latest/assert.html#advanced-assertion-introspection\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Reporting details about a failing assertion is achieved by rewriting assert statements before they are run. Rewritten assert statements put introspection information into the assertion failure message. <code>pytest</code> only rewrites test modules directly discovered by its test collection process, so <strong>asserts in supporting modules which are not themselves test modules will not be rewritten</strong>.</p>\n<p>You can manually enable assertion rewriting for an imported module by calling <a href=\"https://docs.pytest.org/en/latest/writing_plugins.html#assertion-rewriting\" rel=\"noreferrer\">register_assert_rewrite</a> before you import it (a good place to do that is in <code>conftest.py</code>).</p>\n</blockquote>\n"}], "owner": {"reputation": 183, "user_id": 3647336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a667d0285e00a2f9deb1a82fdb338e?s=128&d=identicon&r=PG&f=1", "display_name": "vecin", "link": "https://stackoverflow.com/users/3647336/vecin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1550703863, "creation_date": 1550703503, "question_id": 54796599, "link": "https://stackoverflow.com/questions/54796599/python-pytest-does-not-show-assertion-differences", "title": "Python pytest does not show assertion differences", "body": "<p>The following test:</p>\n\n<pre><code>def test_something():\n    assert \"ddd\" == \"pepe\"\n</code></pre>\n\n<p>When run with pytest gives this error message:</p>\n\n<pre><code>E       AssertionError: assert 'ddd' == 'pepe'\nE         - ddd\nE         + pepe\n</code></pre>\n\n<p>However if we move the assert method to a different file <code>assertion.py</code>:</p>\n\n<pre><code>class CustomerAssertor(object):\n    def __init__(self,name):\n        self.name =name\n\n    def assert_name(self,expected):\n        assert self.name ==expected\n</code></pre>\n\n<p>And we change the test to:</p>\n\n<pre><code>from sql_gen.test.utils.assertion_util import CustomerAssertor\n\ndef test_something():\n    CustomerAssertor(\"ddd\").assert_name(\"pepe\")\n</code></pre>\n\n<p>Now I get the following error:</p>\n\n<pre><code>self = &lt;assertions.CustomerAssertor object at 0x7fbcc3d31588&gt;, expected = 'pepe'\n\n    def assert_name(self,expected):\n&gt;       assert self.name ==expected\nE       AssertionError\n</code></pre>\n\n<p>This message is not as informative as it doesn't tell you what the name's value is, why?</p>\n"}, {"tags": ["python", "algorithm", "recursion"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1550703977, "post_id": 54796597, "comment_id": 96371191, "body": "I assume this is just for fun or an exercise? Since in reality you&#39;d just use test the value of <code>int(n) % 11</code>"}, {"owner": {"reputation": 39, "user_id": 10948729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80c6ea3a74520dd9a9efa62e969b189?s=128&d=identicon&r=PG&f=1", "display_name": "Marzio Pinto", "link": "https://stackoverflow.com/users/10948729/marzio-pinto"}, "reply_to_user": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1550704155, "post_id": 54796597, "comment_id": 96371238, "body": "of course.. just an exercise"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1550707043, "post_id": 54796597, "comment_id": 96372017, "body": "@MarzioPinto what datatype are you using as input <code>n</code>? is <code>n</code> a string? otherwise <code>len(n)</code> returns <code>TypeError: object of type &#39;int&#39; has no len()</code>"}, {"owner": {"reputation": 39, "user_id": 10948729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80c6ea3a74520dd9a9efa62e969b189?s=128&d=identicon&r=PG&f=1", "display_name": "Marzio Pinto", "link": "https://stackoverflow.com/users/10948729/marzio-pinto"}, "edited": false, "score": 0, "creation_date": 1550709345, "post_id": 54796597, "comment_id": 96372571, "body": "Yes, a string. I just wrote that in a few minutes. The main concern is about the k variable.. I used a string just for ease"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 10633183, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217425227361357/picture?type=large", "display_name": "Tim Maier", "link": "https://stackoverflow.com/users/10633183/tim-maier"}, "is_accepted": false, "score": 0, "last_activity_date": 1550720656, "last_edit_date": 1550720656, "creation_date": 1550706671, "answer_id": 54797077, "question_id": 54796597, "link": "https://stackoverflow.com/questions/54796597/recursive-function-to-calculate-if-11-divide-a-number/54797077#54797077", "title": "Recursive function to calculate if 11 divide a number", "body": "<p>Is it supposed to be strictly-recursive? Are no iterations allowed? To avoid using k as recursion-depth you could go for a semi-recursive way and calculate t with an iteration and use recursion for the reduction of t. </p>\n\n<pre><code>def f(n):\n    t = 0\n    for i in range(len(n)):\n        t += (-1)**(i)*int(n[i])\n\n    if t == 0 :\n        return True\n    if t &lt; 11 and t &gt; -11:\n        return False\n\n    return f(str(abs(t)))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550720930, "post_id": 54797206, "comment_id": 96375256, "body": "For many values of <code>n</code>, this code throws an exception: &quot;NameError: name &#39;t&#39; is not defined&quot; -- the variable <code>t</code> is used but never set."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "reply_to_user": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550724945, "post_id": 54797206, "comment_id": 96376183, "body": "@cdlane oops, I worked off of OP&#39;s code &amp; naming scheme, but when I posted here I substituted the variable names to be more descriptive. I guess I missed a <code>t</code>."}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550731905, "post_id": 54797206, "comment_id": 96378665, "body": "You still have an undefined <code>t</code> variable in the last line <code>return mod11(str(t))</code> but I can&#39;t convince myself that this line ever gets executed..."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "reply_to_user": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550734516, "post_id": 54797206, "comment_id": 96379815, "body": "@cdlane yep, you&#39;re right again. I didn&#39;t spot that one, and my testing after fixing that other <code>t</code> didn&#39;t raise any exceptions. I&#39;ve brute forced it to <code>10000000</code> without exception, but more convincingly, I think it can be proven that it won&#39;t execute."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "reply_to_user": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550734776, "post_id": 54797206, "comment_id": 96379947, "body": "For that return to execute, diff must be <code>&gt;=11</code>, which means <code>if diff &lt; 0</code> failed because that returns values smaller than 11, so <code>int(n[-1])-mod11(n[:-1])</code> must be <code>&gt;=11</code>. That would mean <code>mod11(n[:-1])</code> must be <code>&lt;=-2</code>, which is not possible."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "reply_to_user": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1550734885, "post_id": 54797206, "comment_id": 96380008, "body": "Fixed code to remove that statement, and the unnecessary conditional. Thanks again cdlane"}], "tags": [], "owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1550734836, "last_edit_date": 1550734836, "creation_date": 1550707658, "answer_id": 54797206, "question_id": 54796597, "link": "https://stackoverflow.com/questions/54796597/recursive-function-to-calculate-if-11-divide-a-number/54797206#54797206", "title": "Recursive function to calculate if 11 divide a number", "body": "<p>Not exactly what you are looking for, but you could modify your function to compute the result of <code>n mod m</code>, and then check if that is zero. Something like that could be simplified to:</p>\n\n<pre><code>def mod11(n):\n    if not n: return 0\n    diff = int(n[-1]) - mod11(n[:-1])\n    if diff &lt; 0: diff = diff and 11 - mod11(str(-diff))\n    return diff\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&gt;&gt;&gt; mod11(\"242311\") == 0\nFalse\n&gt;&gt;&gt; not mod11(\"242311\")\nFalse\n&gt;&gt;&gt; not mod11(\"242308\")\nTrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1550720483, "creation_date": 1550720483, "answer_id": 54798907, "question_id": 54796597, "link": "https://stackoverflow.com/questions/54796597/recursive-function-to-calculate-if-11-divide-a-number/54798907#54798907", "title": "Recursive function to calculate if 11 divide a number", "body": "<p>Let's flip the design into a(n unoptimized) tail recursion, so rather than using <code>k</code> to detect return to top level, we pass the growing value of <code>t</code> downward and do the final calculation when we hit the base case:</p>\n\n<pre><code>def f(n, t=0):\n    if not n:\n        if -11 &lt; t &lt; 11:\n            return t == 0\n\n        return f(str(abs(t)))\n\n    return f(n[1:], int(n[0]) - t)\n</code></pre>\n\n<p>Now we're always returning a boolean instead of the previous mixed boolean and integer result!</p>\n"}, {"tags": [], "owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "is_accepted": false, "score": 0, "last_activity_date": 1550859728, "last_edit_date": 1550859728, "creation_date": 1550836391, "answer_id": 54826518, "question_id": 54796597, "link": "https://stackoverflow.com/questions/54796597/recursive-function-to-calculate-if-11-divide-a-number/54826518#54826518", "title": "Recursive function to calculate if 11 divide a number", "body": "<p>This is the best I could do so far for a pure recursion (meaning just one variable). It will return the boolean, True, if the string evaluates to zero mod 11 or a number otherwise.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def f(s):\n  if not s:\n    return True\n\n  r = f(s[1:])\n\n  # If the rest of the string evaluates to\n  # to zero mod 11, there's no need to\n  # subtract it from the prefix.\n  if isinstance(r, bool):\n    return s[0]\n\n  n = int(s[0]) - int(r)\n\n  return True if n in [-11, 11, 0] else n\n\nfor x in ['11', '121', '54734', '1099989', '12', '65637', '1565432', '2345651']:\n  print (x, f(x))\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10948729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a80c6ea3a74520dd9a9efa62e969b189?s=128&d=identicon&r=PG&f=1", "display_name": "Marzio Pinto", "link": "https://stackoverflow.com/users/10948729/marzio-pinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1550859728, "creation_date": 1550703500, "last_edit_date": 1550836413, "question_id": 54796597, "link": "https://stackoverflow.com/questions/54796597/recursive-function-to-calculate-if-11-divide-a-number", "title": "Recursive function to calculate if 11 divide a number", "body": "<p>I'm trying to code a recursive function (used Python) to calculate if 11 divide a number without using rest, subtraction by 11. I just have to use this rule <a href=\"https://en.wikipedia.org/wiki/11_(number)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/11_(number)</a></p>\n\n<p>The code works, but.. I would like to know if there is a way to shrink it, maybe without the need of the variable \"k\"?</p>\n\n<pre><code>def f(n, k=0):\n    if n==\"\" : return 0\n    t = ((-1)**(len(n)-1))*int(n[0]) + f(n[1:],k+1)\n    if k == 0:\n        if t &lt;= -11 or t &gt;= 11:\n            return f(str(abs(t)))\n        elif t == 0:\n            return True\n        else:\n            return False\n    return t\n</code></pre>\n"}, {"tags": ["python", "image", "cv2"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1550704228, "post_id": 54796590, "comment_id": 96371265, "body": "Try reading it in as a gray image by using image = cv.imread(&#39;solidWhiteRight.jpg&#39;,0)"}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1550704911, "post_id": 54796590, "comment_id": 96371453, "body": "It&#39;s an American spelling <code>BGR2GRAY</code> with an <code>A</code>."}, {"owner": {"reputation": 1, "user_id": 8265892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QxLYuS78pyc/AAAAAAAAAAI/AAAAAAAAAIs/0hzBevil05s/photo.jpg?sz=128", "display_name": "Collin Feight", "link": "https://stackoverflow.com/users/8265892/collin-feight"}, "edited": false, "score": 0, "creation_date": 1550706443, "post_id": 54796590, "comment_id": 96371887, "body": "Thanks Mark that fixed it"}], "answers": [{"tags": [], "owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1550722736, "creation_date": 1550722736, "answer_id": 54799185, "question_id": 54796590, "link": "https://stackoverflow.com/questions/54796590/module-cv2-cv2-has-no-attribute-color-bgr2grey/54799185#54799185", "title": "module &#39;cv2.cv2&#39; has no attribute &#39;COLOR_BGR2GREY&#39;", "body": "<p>When displaying a grayscale image in pyplot, you need to supply a color map. In your case, try</p>\n\n<pre><code>plt.imshow(gray, cmap='gray')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8265892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QxLYuS78pyc/AAAAAAAAAAI/AAAAAAAAAIs/0hzBevil05s/photo.jpg?sz=128", "display_name": "Collin Feight", "link": "https://stackoverflow.com/users/8265892/collin-feight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550722736, "creation_date": 1550703476, "last_edit_date": 1550708190, "question_id": 54796590, "link": "https://stackoverflow.com/questions/54796590/module-cv2-cv2-has-no-attribute-color-bgr2grey", "title": "module &#39;cv2.cv2&#39; has no attribute &#39;COLOR_BGR2GREY&#39;", "body": "<p>I am getting the following error when running my script:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:/PyCharm/SDC_1/Lane_Finding.py\", line 3, in &lt;module&gt;\ngrey = cv.cvtColor(image, cv.COLOR_BGR2GREY)\nAttributeError: module 'cv2.cv2' has no attribute 'COLOR_BGR2GREY'\n</code></pre>\n\n<p>The script: </p>\n\n<pre><code>1: import cv2 as cv \n\n2: image = cv.imread('solidWhiteRight.jpg')\n\n3: grey = cv.cvtColor(image, cv.COLOR_BGR2GREY)\n</code></pre>\n\n<p>I only have the \"opencv-contrib-python\" package currently installed in my virtual environment as I saw this was an issue with similar problems. Do I need to install another package along with that? I am able to print the image variable and I get a matrix of values. </p>\n\n<p>Any help on this would be greatly appreciated, and thanks in advance!</p>\n\n<p>UPDATE:</p>\n\n<p>When I write and save the image, the image comes back as a greyscale image. However when I display it using matplotlib.pylot, it converts the image to a multi colored image. Does anyone know why this would be?</p>\n\n<p>Code:</p>\n\n<pre><code>import cv2 as cv\nimport matplotlib.pyplot as plt\npath = 'solidWhiteRight.jpg'\nimage = cv.imread(path)\ngray = cv.cvtColor(image, cv.COLOR_BGR2GRAY)\ncv.imwrite('grey_image.jpg', gray)\nplt.imshow(gray)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/A6Km1.png\" rel=\"nofollow noreferrer\">Result of plt.show:</a></p>\n"}, {"tags": ["python", "evdev"], "comments": [{"owner": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "edited": false, "score": 0, "creation_date": 1550703657, "post_id": 54796549, "comment_id": 96371095, "body": "The running number there is a timestamp. The actual keycodes are the latter numbers."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550703991, "post_id": 54796549, "comment_id": 96371196, "body": "Numeric comparisons are as a rule faster than string comparisons, so in real-world code you should use the constants (not the numbers, but the module&#39;s names for them like <code>evdev.evcodes.REL_X</code>) rather than asking the library to look up strings for you."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550704148, "post_id": 54796549, "comment_id": 96371235, "body": "...as for the values, the types tell you how to evaluate them; if your type constant matches <code>evdev.evcodes.REL_X</code>, then you know that a val of <code>-2</code> means that the mouse moved 2 units left on the X axis. If it&#39;s <code>evdev.evcodes.REL_Y</code>, you know a value of <code>0</code> means the mouse isn&#39;t moving on the vertical axis. If you have an <code>ABS_X</code> or <code>ABS_Y</code>, you know you&#39;re being given an absolute location, like on a touchscreen or tablet; etc."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550704371, "post_id": 54796549, "comment_id": 96371303, "body": "BTW, it&#39;s surprising to see two evdev questions in a day from different new users -- they&#39;re fairly rare, but we also had one over at <a href=\"https://stackoverflow.com/questions/54794566/looking-for-a-string-in-device-capabilities-evdev-python/54794847#54794847\" title=\"looking for a string in device capabilities evdev python\">stackoverflow.com/questions/54794566/&hellip;</a>. Out of curiosity, is this referenced in a classroom assignment?"}, {"owner": {"reputation": 11, "user_id": 11092778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gj26JxHp-NQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNaV-xSZtTM1nFnyty4-zewGoLHkA/mo/photo.jpg?sz=128", "display_name": "reese houseknecht", "link": "https://stackoverflow.com/users/11092778/reese-houseknecht"}, "edited": false, "score": 0, "creation_date": 1550704559, "post_id": 54796549, "comment_id": 96371347, "body": "so when i click the key L and it says KEY_L what should i use to get that string out of the data so i can compare it even if its bad structure"}, {"owner": {"reputation": 11, "user_id": 11092778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gj26JxHp-NQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNaV-xSZtTM1nFnyty4-zewGoLHkA/mo/photo.jpg?sz=128", "display_name": "reese houseknecht", "link": "https://stackoverflow.com/users/11092778/reese-houseknecht"}, "edited": false, "score": 0, "creation_date": 1550704664, "post_id": 54796549, "comment_id": 96371376, "body": "charles it is the same person and i know that is against stack rules but i am trying my hardest to write this code and i truly dont know what to search up"}], "owner": {"reputation": 11, "user_id": 11092778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gj26JxHp-NQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNaV-xSZtTM1nFnyty4-zewGoLHkA/mo/photo.jpg?sz=128", "display_name": "reese houseknecht", "link": "https://stackoverflow.com/users/11092778/reese-houseknecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550703967, "creation_date": 1550703270, "last_edit_date": 1550703967, "question_id": 54796549, "link": "https://stackoverflow.com/questions/54796549/converting-evdev-inputs-to-understandable-information", "title": "Converting evdev inputs to understandable information", "body": "<p>so i have successfully been able to track both mouse and keyboard events using the following code</p>\n\n<pre><code>devices = map(InputDevice, ('/dev/input/event1', '/dev/input/event0'))\ndevices = {dev.fd: dev for dev in devices}\n\nfor dev in devices.values(): print(dev)\n\nwhile True:\n    r, w, x = select(devices, [], [])\n    for fd in r:\n            for event in devices[fd].read():\n                    print(event)\n</code></pre>\n\n<p>and the data i get from this code when pressing a key or moving the mouse is the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>event at 1550702472.373994, code 00, type 00, val 00\nevent at 1550702472.389984, code 00, type 02, val -5\nevent at 1550702472.389984, code 01, type 02, val -2\nevent at 1550702472.389984, code 00, type 00, val 00\nevent at 1550702472.405988, code 00, type 02, val -3\nevent at 1550702472.405988, code 00, type 00, val 00\nevent at 1550702472.421987, code 00, type 02, val -2\n</code></pre>\n\n<p>my question is how can i convert this data or analyze the numbers to get a good output like an actual key. something like analyzing the 1550702472.xxx number to get a certain key or maybe the numbers following. </p>\n\n<p>UPDATE: when i say print(categorize(event)) i get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>key event at 1550703468.964836, 38 (KEY_L), down\nsynchronization event at 1550703468.964836, SYN_REPORT\nevent at 1550703469.052829, code 04, type 04, val 458767\nkey event at 1550703469.052829, 38 (KEY_L), up\nsynchronization event at 1550703469.052829, SYN_REPORT\nrelative axis event at 1550703472.093778, REL_Y\nsynchronization event at 1550703472.093778, SYN_REPORT\nrelative axis event at 1550703472.125780, REL_X\nsynchronization event at 1550703472.125780, SYN_REPORT\nrelative axis event at 1550703472.141764, REL_X\n</code></pre>\n\n<p>still the same question though, what array can i use to say if KEY_L do this.</p>\n"}, {"tags": ["python", "django", "reactjs", "autocomplete"], "answers": [{"tags": [], "owner": {"reputation": 1121, "user_id": 8436879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S27clNYYHpw/AAAAAAAAAAI/AAAAAAAAAoI/hpFBDvvGOAw/photo.jpg?sz=128", "display_name": "Ayoub Benayache", "link": "https://stackoverflow.com/users/8436879/ayoub-benayache"}, "is_accepted": false, "score": 0, "last_activity_date": 1550703587, "creation_date": 1550703587, "answer_id": 54796614, "question_id": 54796512, "link": "https://stackoverflow.com/questions/54796512/how-do-i-have-one-address-field-in-django/54796614#54796614", "title": "How do I have one address field in django?", "body": "<p>I think you need to add something like googlemap api for your autocomplate field like shown in this example.\n<a href=\"https://developers.google.com/maps/documentation/javascript/examples/places-searchbox\" rel=\"nofollow noreferrer\">search box autocomplate from google map api</a></p>\n"}], "owner": {"reputation": 331, "user_id": 8120398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b19aec27b129eebd8e6e0ee82a993d92?s=128&d=identicon&r=PG&f=1", "display_name": "Mo Algh", "link": "https://stackoverflow.com/users/8120398/mo-algh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550703587, "creation_date": 1550703035, "question_id": 54796512, "link": "https://stackoverflow.com/questions/54796512/how-do-i-have-one-address-field-in-django", "title": "How do I have one address field in django?", "body": "<p>I have shopping app that lists stores by address. Currently, user address is 5 fields: building number and street name, city, state, zip code and county. </p>\n\n<p>I\u2019d like now to have one address field in the front end to be able to add auto complete feature. But store the address in the fields above.</p>\n\n<p>I am using react.js for front end.</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "resnet"], "comments": [{"owner": {"reputation": 2267, "user_id": 8242447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6884.gif?s=128&g=1", "display_name": "\u1e42\u0173\u1efb\u1ecbg\u01fb\u0148\u1ea1c\u1ec3\u01a1\u1eed\u1e69", "link": "https://stackoverflow.com/users/8242447/%e1%b9%82%c5%b3%e1%bb%bb%e1%bb%8bg%c7%bb%c5%88%e1%ba%a1c%e1%bb%83%c6%a1%e1%bb%ad%e1%b9%a9"}, "edited": false, "score": 1, "creation_date": 1550704561, "post_id": 54796507, "comment_id": 96371350, "body": "Welcome to StackOverflow! Unfortunately, questions which ask us to find an external source as an answer may be put on hold as they attract opinionated answers, and they may only be useful for the current poster.  The best way to find an answer to these questions is to do some preliminary research and get more understanding of what constitutes deep learning and resnet50 network."}], "answers": [{"tags": [], "owner": {"reputation": 3099, "user_id": 4524241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5AbWJ.jpg?s=128&g=1", "display_name": "gameon67", "link": "https://stackoverflow.com/users/4524241/gameon67"}, "is_accepted": false, "score": 1, "last_activity_date": 1550707773, "creation_date": 1550707773, "answer_id": 54797216, "question_id": 54796507, "link": "https://stackoverflow.com/questions/54796507/loading-trained-resnet-50-network-on-tensorflow-in-windows/54797216#54797216", "title": "Loading Trained ResNet 50 network on Tensorflow in Windows", "body": "<p>You have to follow the official \"How to do Transfer Learning\" tutorial from tensorflow website. <a href=\"https://www.tensorflow.org/hub/tutorials/image_retraining\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/hub/tutorials/image_retraining</a></p>\n\n<p>The thing that you have to change is on <code>retrain.py</code> line 1302, it will load the pre-trained model from tensorflow-hub :</p>\n\n<pre><code>default=(\n          'https://tfhub.dev/google/imagenet/inception_v3/feature_vector/1'),\n</code></pre>\n\n<p>to this :</p>\n\n<pre><code>default=(\n          'https://tfhub.dev/google/imagenet/resnet_v1_50/feature_vector/1'),\n</code></pre>\n\n<p>Or you can check the other pre-trained model list on this website :\n<a href=\"https://tfhub.dev/s?module-type=image-feature-vector\" rel=\"nofollow noreferrer\">https://tfhub.dev/s?module-type=image-feature-vector</a></p>\n"}], "owner": {"reputation": 11, "user_id": 11092774, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D0Z4vM4XetA/AAAAAAAAAAI/AAAAAAAABl8/KbSh9w-dQcU/photo.jpg?sz=128", "display_name": "Learner T", "link": "https://stackoverflow.com/users/11092774/learner-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550707773, "creation_date": 1550702999, "question_id": 54796507, "link": "https://stackoverflow.com/questions/54796507/loading-trained-resnet-50-network-on-tensorflow-in-windows", "title": "Loading Trained ResNet 50 network on Tensorflow in Windows", "body": "<p>I recently started working on Deep Learning. I need to run a pre trained ResNet50 Network loaded using Tensorflow on Windows CPU. I do not find a structured way to do it anywhere online. Could someone please help me with this. </p>\n"}, {"tags": ["python", "raspberry-pi"], "comments": [{"owner": {"reputation": 1999, "user_id": 3273060, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ac7a6f814c253672e80344164e70ce32?s=128&d=identicon&r=PG&f=1", "display_name": "OganM", "link": "https://stackoverflow.com/users/3273060/oganm"}, "edited": false, "score": 0, "creation_date": 1550703404, "post_id": 54796505, "comment_id": 96371012, "body": "each python session will be using different amounts of memory depending on what they are doing. If you use more memory than available through RAM and swap, your sessions will crash"}], "answers": [{"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 1, "last_activity_date": 1550703517, "creation_date": 1550703517, "answer_id": 54796600, "question_id": 54796505, "link": "https://stackoverflow.com/questions/54796505/how-many-py-script-can-i-run-on-raspberry-pi-simultaniously/54796600#54796600", "title": "How many py script can I run on raspberry pi simultaniously?", "body": "<p>There is no explicitly fixed limit. Just like your desktop or laptop computer, the limit depends on how many resources each running program takes. And just like your computer, the result of consuming too many resources can vary. It can result in the programs just running more slowly or in a complete crash.</p>\n"}, {"tags": [], "owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "is_accepted": true, "score": 5, "last_activity_date": 1550703668, "creation_date": 1550703668, "answer_id": 54796622, "question_id": 54796505, "link": "https://stackoverflow.com/questions/54796505/how-many-py-script-can-i-run-on-raspberry-pi-simultaniously/54796622#54796622", "title": "How many py script can I run on raspberry pi simultaniously?", "body": "<p>Ignoring the obvious limitations due to memory and CPU consumption, if you're running a Linux-based OS on your Raspberry PI you can check the contents of <code>/proc/sys/kernel/pid_max</code>. From <a href=\"http://man7.org/linux/man-pages/man5/proc.5.html\" rel=\"noreferrer\">the man page</a>:</p>\n\n<pre><code>/proc/sys/kernel/pid_max (since Linux 2.5.34)\n          This file specifies the value at which PIDs wrap around (i.e.,\n          the value in this file is one greater than the maximum PID).\n          PIDs greater than this value are not allocated; thus, the\n          value in this file also acts as a system-wide limit on the\n          total number of processes and threads.  The default value for\n          this file, 32768, results in the same range of PIDs as on ear\u2010\n          lier kernels.  On 32-bit platforms, 32768 is the maximum value\n          for pid_max.  On 64-bit systems, pid_max can be set to any\n          value up to 2^22 (PID_MAX_LIMIT, approximately 4 million).\n</code></pre>\n\n<p>In other words: on most default configurations, Linux will be able to run a maximum of 32,768 processes (and threads, combined) at the same time. Note that you're sharing those PIDs with everything else that's running on the system, including parts of the OS itself.</p>\n\n<p>So let's say you have 150 processes and threads running by default and your script uses a negligible amount of CPU and memory and only a single thread, then you can run at most 32,618 instances of your script at the same time.</p>\n"}], "owner": {"reputation": 35, "user_id": 7448915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75757dbc45b257d189baa0abe1a1d37c?s=128&d=identicon&r=PG&f=1", "display_name": "Myrtle", "link": "https://stackoverflow.com/users/7448915/myrtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 54796622, "answer_count": 2, "score": 0, "last_activity_date": 1550703668, "creation_date": 1550702995, "question_id": 54796505, "link": "https://stackoverflow.com/questions/54796505/how-many-py-script-can-i-run-on-raspberry-pi-simultaniously", "title": "How many py script can I run on raspberry pi simultaniously?", "body": "<p>I know that you can run multiple scripts by using different terminals, but there's got to be a limit. I can't just run a million of them on one little pi. So the real question... Is there a way I can check how demanding my script is. Thank you in advance!</p>\n\n<p>pi zero w / python 3</p>\n"}, {"tags": ["python", "numpy", "statistics"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1550702981, "post_id": 54796472, "comment_id": 96370854, "body": "Look up the implementation of this <code>lowess()</code> function and try to broadcast it to ND arrays."}, {"owner": {"reputation": 167, "user_id": 2755526, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ad0e341960a15b1cf6317b3b26f7dfa7?s=128&d=identicon&r=PG&f=1", "display_name": "user2755526", "link": "https://stackoverflow.com/users/2755526/user2755526"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1550704195, "post_id": 54796472, "comment_id": 96371252, "body": "I was looking to avoid doing that. btw my links don&#39;t seem to be showing. This is the link to the implementation of the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html\" rel=\"nofollow noreferrer\">function</a>."}], "owner": {"reputation": 167, "user_id": 2755526, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ad0e341960a15b1cf6317b3b26f7dfa7?s=128&d=identicon&r=PG&f=1", "display_name": "user2755526", "link": "https://stackoverflow.com/users/2755526/user2755526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550702810, "creation_date": 1550702810, "question_id": 54796472, "link": "https://stackoverflow.com/questions/54796472/apply-lowess-function-column-wise-on-2-numpy-arrays-of-identical-shapes", "title": "apply lowess() function column-wise on 2 numpy arrays of identical shapes", "body": "<p>I would like to apply the <code>[lowess()][1]</code> function column-wise(column 1 of 1st array and column 1 of 2nd array) across two large numpy arrays with identical shapes <code>(33,~14000)</code>, to return a third array containing the smoothed values with an identical shape. </p>\n\n<p>One array contains the x-values and the other the y-values for the <code>[lowess()][1]</code> function.</p>\n\n<p>I looked at <code>[numpy.vectorize()][1]</code> and don't seem to find a way to do this.</p>\n\n<p>Is there a vectorized solution for this?</p>\n\n<p><em>Code shown below includes a subset of the data <code>(33, 5)</code>:</em></p>\n\n<pre><code>import numpy as np\nfrom Bio.Statistics import lowess\n\nx = np.array([[ 0.02482128,  0.04800129,  0.05970001,  0.2500887 ,  0.13813114],\n       [-0.15335226,  0.03859329,  0.5601454 , -0.47751045,  0.14223003],\n       [ 0.17191982, -0.03256845, -0.2704444 , -0.093647  , -0.539505  ],\n       [-0.18524027,  0.01060915, -0.30057144, -0.14830208,  0.56457806],\n       [-0.1775446 , -0.01310873, -0.26189804, -0.17747355, -0.23629665],\n       [ 0.07648993,  0.11103201,  0.589818  , -0.11406326,  0.1776371 ],\n       [ 0.317667  , -0.01560402,  0.39747334,  0.11308289,  0.4232664 ],\n       [ 0.38938808,  0.23480797, -0.42039776,  0.06176662, -0.24095821],\n       [-0.06608486,  0.04713726,  0.35143852,  0.3167987 ,  0.07772255],\n       [ 0.28575754,  0.08154392, -0.1795454 , -0.06183243, -0.6071148 ],\n       [ 0.27942848,  0.03686762, -0.11383152, -0.37741995, -0.67893934],\n       [ 0.09874439, -0.11218214,  0.53765774,  0.12229681,  0.09937191],\n       [ 0.07899189, -0.06172419, -0.01412106,  0.29815912,  0.06921196],\n       [-0.5575795 ,  0.17440462,  0.4482336 , -0.42329168, -0.42318058],\n       [-0.00781012,  0.05469799, -0.00262833, -0.16313648,  0.33030987],\n       [ 0.01612997, -0.29763603, -0.35993958,  0.20896721, -0.01481056],\n       [-0.05184507,  0.22348356,  0.39140987, -0.14832544,  0.17410088],\n       [ 0.02847338,  0.02308035, -0.12702274, -0.19778919,  0.31087875],\n       [-0.5492716 , -0.02013874,  0.12577438, -0.11392832, -0.39846134],\n       [-0.03468943, -0.0295558 , -0.07844639,  0.04537296,  0.05451107],\n       [-0.18794298,  0.10741138,  0.36670208, -0.1904726 , -0.32082558],\n       [ 0.5786147 ,  0.32772923,  0.2062025 ,  0.32470465, -0.84580183],\n       [ 0.22584343, -0.02698565, -0.26552105, -0.06375647,  0.58737755],\n       [ 0.03465605, -0.24093103, -0.23005867,  0.15275288,  0.38084507],\n       [ 0.00937891, -0.14649105, -0.01934338, -0.23434734, -0.37168026],\n       [-0.02025366, -0.14081764, -0.21980095,  0.01488113, -0.2420435 ],\n       [-0.15545464,  0.17256403,  0.1636858 ,  0.3812251 ,  0.06866932],\n       [-0.02390814,  0.07711935,  0.28530407,  0.3817525 ,  0.10252571],\n       [-0.2442751 , -0.0260272 , -0.2731142 ,  0.31553936,  0.41060162],\n       [ 0.02275944, -0.00415039,  0.15864182,  0.33187914,  0.07651806],\n       [ 0.25222778,  0.15338421, -0.09697151,  0.0145421 , -0.08250237],\n       [ 0.61664677, -0.05378103, -0.5358076 ,  0.15497589, -0.698823  ],\n       [-0.10142422,  0.4852066 , -0.25492382, -0.05385685,  0.15751743]],\n      dtype=np.float32)\n\ny = np.array([[4.59169  , 4.418433 , 5.0820627, 4.6869965, 5.207094 ],\n       [4.5058136, 4.415601 , 5.0899377, 4.6807904, 4.9426126],\n       [4.5569663, 4.305499 , 4.886066 , 4.5803747, 5.056634 ],\n       [4.4900746, 4.37889  , 5.1278543, 4.6113243, 5.2266693],\n       [4.503826 , 4.400037 , 5.211916 , 4.682177 , 5.098976 ],\n       [4.509243 , 4.3813405, 5.3079786, 4.6301603, 5.2500844],\n       [4.41681  , 4.3992863, 5.0737085, 4.670207 , 5.070466 ],\n       [4.591771 , 4.4518366, 5.107484 , 4.596655 , 4.997365 ],\n       [4.494399 , 4.3796077, 5.242492 , 4.47066  , 5.0400076],\n       [4.519887 , 4.4044647, 5.1427035, 4.6785154, 5.021449 ],\n       [4.448152 , 4.4056873, 5.144441 , 4.5711513, 4.9853024],\n       [4.49775  , 4.385726 , 5.216489 , 4.6923037, 5.201977 ],\n       [4.5084896, 4.4458   , 5.2891297, 4.624942 , 4.9242325],\n       [4.5791883, 4.4296904, 5.280667 , 4.703702 , 5.1066465],\n       [4.589999 , 4.3781233, 5.0826826, 4.7128706, 5.1191587],\n       [4.638551 , 4.3878164, 5.1654997, 4.6913614, 5.324785 ],\n       [4.500376 , 4.500883 , 5.1015763, 4.656    , 5.2887416],\n       [4.488534 , 4.5052986, 5.367143 , 4.7019596, 5.1367083],\n       [4.470419 , 4.3764915, 5.065318 , 4.7039804, 5.168439 ],\n       [4.423869 , 4.513232 , 5.1516542, 4.609404 , 5.3527145],\n       [4.5888453, 4.480359 , 5.1191635, 4.676672 , 4.9557304],\n       [4.5064774, 4.4485407, 5.147471 , 4.648161 , 5.057909 ],\n       [4.557802 , 4.3785524, 5.0217905, 4.697456 , 5.0020485],\n       [4.54012  , 4.454771 , 5.033494 , 4.606558 , 4.8119564],\n       [4.6103888, 4.393633 , 5.1113367, 4.58374  , 5.0711713],\n       [4.574035 , 4.3336782, 5.0118513, 4.6048336, 5.288041 ],\n       [4.482691 , 4.3997755, 5.093251 , 4.624267 , 5.115726 ],\n       [4.4595666, 4.3373346, 5.1056104, 4.6904593, 5.3377056],\n       [4.488827 , 4.4477224, 5.190276 , 4.61971  , 5.233069 ],\n       [4.513173 , 4.402734 , 5.142403 , 4.625946 , 5.175432 ],\n       [4.4656053, 4.388732 , 5.1367936, 4.6234007, 5.249696 ],\n       [4.5307274, 4.429734 , 5.2134457, 4.6189766, 5.2845373],\n       [4.4585304, 4.471982 , 5.194815 , 4.6854787, 5.2281733]],\n      dtype=np.float32)\n\n\nlowess.lowess(x[:,1], y[:,1])\n#Output\n'''array([4.39855668, 4.39910091, 4.40520765, 4.40238191, 4.40618866,\n   4.40353337, 4.40657502, 4.44116607, 4.39858563, 4.39976923,\n   4.39925592, 4.39799667, 4.3990058 , 4.4273006 , 4.39843829,\n   4.40196311, 4.43833446, 4.400469  , 4.40700818, 4.405916  ,\n   4.40225547, 4.45443733, 4.40643108, 4.40104955, 4.40217919,\n   4.40204647, 4.42686513, 4.39935488, 4.40659024, 4.40457143,\n   4.42105802, 4.40040609, 4.47989016])'''\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 1648, "user_id": 9935654, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XdoefqMBYAQ/AAAAAAAAAAI/AAAAAAAAIfg/qFXt_RO4q5s/photo.jpg?sz=128", "display_name": "Carson", "link": "https://stackoverflow.com/users/9935654/carson"}, "is_accepted": false, "score": 0, "last_activity_date": 1550827626, "last_edit_date": 1550827626, "creation_date": 1550735050, "answer_id": 54801728, "question_id": 54796453, "link": "https://stackoverflow.com/questions/54796453/python-tkinter-clearing-label-text/54801728#54801728", "title": "Python tkinter Clearing Label Text", "body": "<h2>Clearing Label Text:</h2>\n\n<p>as jasonharper said. Use <strong>label.config(text=\"something\")</strong></p>\n\n<p>The following script shows an example, where a label is dynamically incremented by 1 until the stop button is pressed: </p>\n\n<pre><code>import tkinter as tk\n\ncounter = 0 \ndef counter_label(label):\n  def count():\n    global counter\n    counter += 1\n    label.config(text=str(counter))\n    label.after(1000, count)\n  count()\n\n\nroot = tk.Tk()\nroot.title(\"Counting Seconds\")\nlabel = tk.Label(root, fg=\"green\")\nlabel.pack()\ncounter_label(label)\nbutton = tk.Button(root, text='Stop', width=25, command=root.destroy)\nbutton.pack()\nroot.mainloop()\n</code></pre>\n\n<p>reference: <a href=\"https://www.python-course.eu/tkinter_labels.php\" rel=\"nofollow noreferrer\">https://www.python-course.eu/tkinter_labels.php</a></p>\n\n<h2>labels overlap:</h2>\n\n<p>you shouldn't recreate label over and over again.</p>\n\n<p>Besides, I think the following example will be better.</p>\n\n<pre><code>from tkinter import *\nfrom tkinter.ttk import *\nimport requests\nfrom tkinter.ttk import Combobox\nfrom bs4 import BeautifulSoup, SoupStrainer\n# import re  # As long as you can make do with str.replace(), you should use it instead of re.sub.\n\n\nclass CQueryOil(Tk):\n\n    def __init__(self, query_country: list):\n        super().__init__()  # init Tk\n        self.__url = 'http://oilprice.com/oil-price-charts/45'\n        self._query_country = query_country\n        self._intvar_price = IntVar()\n        self._strvar_change = StringVar(value='')\n        self._strvar_change_percent = StringVar(value='')\n        self._strvar_update_time = StringVar(value='')\n        self.init_ui()\n\n    @property\n    def url(self):\n        return self.__url\n\n    @property\n    def query_list(self):\n        return self._query_country\n\n    def run(self):\n        self.mainloop()\n\n    def init_ui(self) -&gt; None:\n        self.geometry(\"225x125\")\n        self.resizable(0, 0)\n        self.title(\"Global Oil Price GUI\")\n        [self.grid_columnconfigure(col, weight=1) for col in (1, 2)]\n\n        n_padx = 5\n        Label(self, text=\"Futures &amp; Indexes\", justify=LEFT).grid(row=0, column=0, padx=n_padx, sticky='w')\n        combo = Combobox(self, values=self.query_list, width=17)\n        combo.grid(row=1, column=0, padx=n_padx, columnspan=2, sticky='w')\n        combo.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", lambda event: self.update(event, combo=combo))\n\n        for cur_row, label_name in enumerate(['Price (USD):', 'Change:', 'Change Percent:', 'Last Updated:']):\n            Label(self, text=label_name, width=14).grid(row=2 + cur_row, column=0, padx=n_padx, sticky='e')\n\n        Label(self, textvariable=self._intvar_price).grid(row=2, column=1, sticky='w')\n        Label(self, textvariable=self._strvar_change).grid(row=3, column=1, sticky='w')\n        Label(self, textvariable=self._strvar_change_percent).grid(row=4, column=1, sticky='w')\n        Label(self, textvariable=self._strvar_update_time).grid(row=5, column=1, sticky='w')\n\n    def update(self, event, combo) -&gt; None:\n        resp = requests.get(self.url)\n        if resp.status_code != 200:\n            return\n\n        filter_data = SoupStrainer('tr', attrs={'class': ['stripe show_graph', 'stripe show_graph update_on_load']\n                                                # 'data-id': ['45', '46', '50', '29', '68']\n                                                })\n        parsed = BeautifulSoup(resp.text, 'lxml', parse_only=filter_data)\n\n        idx = combo.current()  # Get index of combobox selection\n        try:\n            dst_td_tags = parsed.find('td', string=self.query_list[idx]).find_next_siblings()\n        except:\n            import traceback\n            print(traceback.format_exc())\n            raise NameError(f'====Must match the data on the web page. Name:{self.query_list[idx]}=====')  # literal format Py3.6\u2191\n        dst_list = [td.text for td in dst_td_tags]\n\n        price, change, change_percent, update_time = dst_list\n        change_percent = change_percent.split('%')[0]  # As long as you can make do with str.replace(), you should use it instead of re.sub.\n        update_time = update_time.replace('\\n\\t', ' ')\n        change_percent = change_percent\n        update_time = update_time\n\n        self._intvar_price.set(price)\n        self._strvar_change.set(change)\n        self._strvar_change_percent.set(change_percent)\n        self._strvar_update_time.set(update_time)\n\n\nif __name__ == '__main__':\n    obj = CQueryOil([\"WTI Crude\", \"Brent Crude\", \"Mars US\", \"Opec Basket\", \"Canadian Crude Index\"])  # Must match the data on the web page\n    obj.run()\n\n\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3QXSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3QXSB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 12681, "user_id": 7363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a5f99a5c2c6d0597a2f4feb293ad733?s=128&d=identicon&r=PG", "display_name": "Lucas S.", "link": "https://stackoverflow.com/users/7363/lucas-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1550769976, "creation_date": 1550769976, "answer_id": 54812916, "question_id": 54796453, "link": "https://stackoverflow.com/questions/54796453/python-tkinter-clearing-label-text/54812916#54812916", "title": "Python tkinter Clearing Label Text", "body": "<p>The correct way is to use a <code>StringVar</code> to set the initial value of the <code>Label</code>, then you just need to call the <code>.set()</code> method of the <code>StringVar</code> instance you want to update.</p>\n\n<p>Example:</p>\n\n<pre><code>price_str = StringVar()\nprica_label = Label(root, textvariable=price_str).pack()\nprice_str.set(\"new price\")\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8733932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6404af1d9f95e98c17922c2cf5a33ec?s=128&d=identicon&r=PG&f=1", "display_name": "Zach P", "link": "https://stackoverflow.com/users/8733932/zach-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3139, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550827626, "creation_date": 1550702722, "last_edit_date": 1550733695, "question_id": 54796453, "link": "https://stackoverflow.com/questions/54796453/python-tkinter-clearing-label-text", "title": "Python tkinter Clearing Label Text", "body": "<p>I have just started utilizing Python's tkinter module to create some basic GUIs.  In the GUI shown below, the user is prompted to select an oil index and subsequent pricing information will appear (the price information is web scraped).  However, I have not found a convenient way to clear the pricing label text for when the user selects another oil index.  I have the full code attached below.  Any suggestions would be greatly appreciated.  Thank you.  </p>\n\n<pre><code># Import Python Modules\nfrom tkinter import *\nfrom ttk import *\nimport urllib2\nfrom bs4 import BeautifulSoup\nimport re\n\n# Generate Basic Window\nroot = Tk()\nroot.geometry(\"225x125\")\nroot.resizable(0,0)\nroot.title(\"Global Oil Price GUI\")\n\n# Functions\ndef fetchdata(event):\n\n    index = combo.current() # Get index of combobox selection\n    # Obtain HTML\n    url = 'http://oilprice.com/oil-price-charts/45' # URL to be scraped\n    content = urllib2.urlopen(url)\n    parsed = BeautifulSoup(content,'html.parser')\n\n    # Parse HTML\n    oilprice = parsed.findAll('td',attrs = {'class': 'last_price'})\n    change = parsed.findAll('td',{'class':['change_up flat_change_cell','change_down flat_change_cell','change_up','change_down']})\n    change_percent = parsed.findAll('td',{'class':['change_up_percent percent_change_cell','change_down_percent percent_change_cell','change_up_percent','change_down_percent']})\n\n    # Pre-Initialize Arrays\n    oilprice_extract = []\n    change_extract = []\n    change_percent_extract = []\n    time_extract = []\n\n    # Loop and Extract Text\n    for ele_price, ele_change, ele_change_percent in zip(oilprice,change,change_percent):\n        oilprice_extract.append(float(ele_price.text))\n        change_extract.append(ele_change.text)\n        change_percent_extract.append(ele_change_percent.text.split('%')[0] + '%')\n        time_extract.append(re.sub('\\n\\t',' ',ele_change_percent.text.split('%')[1]))\n\n    # Fill Field Based Upon Selection\n    price_label = Label(root,text = oilprice_extract[index]).grid(row = 2,column = 2)\n    change_label = Label(root,text = change_extract[index]).grid(row = 3,column = 2)\n    change_percent_label = Label(root,text = change_percent_extract[index]).grid(row = 4,column = 2)\n    update_label = Label(root,text = time_extract[index]).grid(row = 5,column = 2)\n\n# Driver Code\ncombo_label = Label(root,text = \"Futures &amp; Indexes\",justify = LEFT).grid(row = 0, column = 0)\ncombo = Combobox(root,values = [\"WTI Crude\",\"Brent Crude\",\"Mars US\",\"OPEC Basket\",\"Canadian Crude Index\"],width = 17)\ncombo.grid(row = 1, column = 0)\ncombo.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\",fetchdata)\n\nprice_display = Label(root,text = \" Price (USD):\").grid(row = 2,column = 0)\nchange_display = Label(root,text = \"Change:\").grid(row = 3,column = 0)\nchange_percent_display = Label(root,text = \"Change Percent:\").grid(row = 4,column = 0)\nupdate_display = Label(root,text = \"Last Updated:\").grid(row = 5,column = 0)\n\nroot.mainloop() # Run window continuously**\n</code></pre>\n\n<p>Update: \nStill a slight problem.<br>\nScenario:  User selects WTI Crude as first choice which shows: 'Last Update: (11 Minutes Delay)'</p>\n\n<p>User then selects Mars US which should show something like 'Last Update: (2 Days Delay)'</p>\n\n<p>Problem: The labels overlap each other as shown in this photo <a href=\"https://i.stack.imgur.com/G9slI.png\" rel=\"nofollow noreferrer\">EXAMPLE PHOTO</a>\nAny solution to this?</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1550702865, "post_id": 54796444, "comment_id": 96370809, "body": "Show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You may have stray spaces or similar but unequal characters or something."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 2, "creation_date": 1550702993, "post_id": 54796444, "comment_id": 96370859, "body": "Try printing the <code>repr</code> of the strings, and see if they are really the same."}, {"owner": {"reputation": 25901, "user_id": 493928, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ce109c88210d5c36c957082ddfe92d16?s=128&d=identicon&r=PG", "display_name": "khachik", "link": "https://stackoverflow.com/users/493928/khachik"}, "edited": false, "score": 0, "creation_date": 1550703009, "post_id": 54796444, "comment_id": 96370867, "body": "Try to print something like <code>print(&quot;|&quot; + B[Bkey][1] + &quot;|&quot;)</code> and <code>print(&quot;|&quot; + B[Bkey][6].upper()+&#39; &#39;+B[Bkey][7].upper() + &quot;|&quot;)</code>, maybe there is some whitespace at the end."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1550707002, "post_id": 54796444, "comment_id": 96372007, "body": "also try this one? print(B[Bkey][6].upper().strip()+&#39; &#39;+B[Bkey][7].upper().strip() == B[Bkey][1].strip())"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11092744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/486970f3edd77a579afcc18d21faefc4?s=128&d=identicon&r=PG", "display_name": "Nocardia", "link": "https://stackoverflow.com/users/11092744/nocardia"}, "is_accepted": false, "score": 0, "last_activity_date": 1550762238, "creation_date": 1550762238, "answer_id": 54810436, "question_id": 54796444, "link": "https://stackoverflow.com/questions/54796444/python-comparing-string-returning-not-equal-when-they-really-are/54810436#54810436", "title": "Python Comparing String returning not equal when they really are", "body": "<p>Thanks for the answers. After I posted the question I realized maybe the space in the string was the issue. So I tried the following:</p>\n\n<pre><code>print((B[Bkey][6].upper()+' '+B[Bkey][7].upper()).split(' '))\nprint(B[Bkey][1].split(' '))\n</code></pre>\n\n<p>and got this:</p>\n\n<pre><code>['MY', 'STRING']\n['MY\\xa0STRING']\n</code></pre>\n\n<p>A quick search led to this answer:</p>\n\n<pre><code>string = string.replace(u'\\xa0',u'')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11092744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/486970f3edd77a579afcc18d21faefc4?s=128&d=identicon&r=PG", "display_name": "Nocardia", "link": "https://stackoverflow.com/users/11092744/nocardia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1550762238, "creation_date": 1550702678, "question_id": 54796444, "link": "https://stackoverflow.com/questions/54796444/python-comparing-string-returning-not-equal-when-they-really-are", "title": "Python Comparing String returning not equal when they really are", "body": "<p>I have a dictionary (B) where the value is a list. This code is not giving me the expected results:</p>\n\n<pre><code>print(type(B[Bkey][1]))\nprint(type(B[Bkey][6].upper()+' '+B[Bkey][7].upper()))\nprint(B[Bkey][1])\nprint(B[Bkey][6].upper()+' '+B[Bkey][7].upper())\nprint(B[Bkey][6].upper()+' '+B[Bkey][7].upper() == B[Bkey][1])\nprint(B[Bkey][6].upper()+' '+B[Bkey][7].upper().strip() == B[Bkey][1].strip())\n</code></pre>\n\n<p>This is the print out:</p>\n\n<pre><code>&lt;class 'str'&gt;\n&lt;class 'str'&gt;\nMY STRING\nMY STRING\nFalse\nFalse\n</code></pre>\n\n<p>The weird thing is that the dictionary is pretty big (approx. 3000 items) and the same comparison for most of the items returns TRUE but it returns FALSE for a few of the items?? </p>\n\n<p>Please help. </p>\n"}, {"tags": ["python", "r", "r-markdown", "knitr"], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 1055459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL2Pa.jpg?s=128&g=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/1055459/boris"}, "is_accepted": true, "score": 8, "last_activity_date": 1560789263, "creation_date": 1560789263, "answer_id": 56635488, "question_id": 54796421, "link": "https://stackoverflow.com/questions/54796421/rmarkdown-knitrpurl-on-python-code-chunk/56635488#56635488", "title": "RMarkdown: knitr::purl() on Python code chunk?", "body": "<p>Currently <code>purl</code> outputs non-R code commented out.  So we need to redefine output function to override this.</p>\n\n<p>Here is a simple script that (1) outputs python code only, and (2) strips documentation (I took the function from knitr source and hacked it):</p>\n\n<pre><code>library(\"knitr\")\n\n# New processing functions\nprocess_tangle &lt;- function (x) { \n    UseMethod(\"process_tangle\", x)\n}\n\nprocess_tangle.block &lt;- function (x) {\n    params = opts_chunk$merge(x$params)\n\n    # Suppress any code but python\n    if (params$engine != 'python') {\n        params$purl &lt;- FALSE\n    }\n    if (isFALSE(params$purl)) \n        return(\"\")\n    label = params$label\n    ev = params$eval\n    code = if (!isFALSE(ev) &amp;&amp; !is.null(params$child)) {\n        cmds = lapply(sc_split(params$child), knit_child)\n        one_string(unlist(cmds))\n    }\n    else knit_code$get(label)\n    if (!isFALSE(ev) &amp;&amp; length(code) &amp;&amp; any(grepl(\"read_chunk\\\\(.+\\\\)\", \n        code))) {\n        eval(parse_only(unlist(stringr::str_extract_all(code, \n            \"read_chunk\\\\(([^)]+)\\\\)\"))))\n    }\n    code = knitr:::parse_chunk(code)\n    if (isFALSE(ev)) \n        code = knitr:::comment_out(code, params$comment, newline = FALSE)\n    # Output only the code, no documentation\n    return(knitr:::one_string(code))\n}\n\n# Reassign functions\nassignInNamespace(\"process_tangle.block\",\n                  process_tangle.block,\n                  ns=\"knitr\")\n\n# Purl\npurl(\"tmp.Rmd\", output=\"tmp.py\")\n</code></pre>\n\n<p>Here is my <code>tmp.Rmd</code> file.  Note that it has an R chunk, which I do not want in the result:</p>\n\n<pre><code>---\ntitle: \"Untitled\"\noutput: html_document\n---\n\n## Header\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, \nquis nostrud exercitation ullamco laboris nisi ut aliquip\n\n```{python}\n#!/usr/bin/env python\n# A python script\n```\n\n```{python} \nx = 10\ny = 20\n\nz = x + y\nprint(z)\n```\n\n```{r}\ny=5\ny\n```\n</code></pre>\n\n<p>Running <code>Rscript extract.R</code> I get <code>tmp.py</code>:</p>\n\n<pre><code>#!/usr/bin/env python\n# A python script\n\nx = 10\ny = 20\n\nz = x + y\nprint(z)\n</code></pre>\n\n<p>PS I found this question searching for the solution to the same problem.  Since nobody answered it, I developed my own solution :)</p>\n"}], "owner": {"reputation": 581, "user_id": 5709203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab035385a8931db29144b5d31de6dba6?s=128&d=identicon&r=PG&f=1", "display_name": "Shantanu", "link": "https://stackoverflow.com/users/5709203/shantanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 2, "accepted_answer_id": 56635488, "answer_count": 1, "score": 4, "last_activity_date": 1569036509, "creation_date": 1550702539, "last_edit_date": 1569036509, "question_id": 54796421, "link": "https://stackoverflow.com/questions/54796421/rmarkdown-knitrpurl-on-python-code-chunk", "title": "RMarkdown: knitr::purl() on Python code chunk?", "body": "<p>I want to export my Python code chunk in RMarkdown to an external file. <code>knitr::purl()</code> achieves this, but I am only able to make it work on R code chunks. Does it not work for any other language than R?</p>\n\n<p>For example, from below, export the python code into a my_script.py file.</p>\n\n<pre><code>---\ntitle: \"Untitled\"\noutput: html_document\n---\n\n## Header\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, \nquis nostrud exercitation ullamco laboris nisi ut aliquip\n\n```{python}\nx = 10\ny = 20\n\nz = x + y\nprint(z)\n```\n</code></pre>\n"}, {"tags": ["python", "list", "tuples", "grouping"], "answers": [{"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1550702782, "creation_date": 1550702782, "answer_id": 54796464, "question_id": 54796418, "link": "https://stackoverflow.com/questions/54796418/python-group-list-element-by-value-into-tuples/54796464#54796464", "title": "Python group list element by value into tuples", "body": "<p>Use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\"><code>itertools.groupby</code></a> to group entries by whether they are <code>*</code> or not and then just keep those parts that are not <code>*</code> using the <code>__ne__</code> (not equal) method or an equivalent <code>lambda</code> expression:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; mylist = ['*', 'Drama', 'Film Noir', 'Mystery', 'Romance', '*', 'Dance', 'Drama', 'Musical', '*', 'Crime', 'Drama', '*', 'Action', 'Drama', 'Period', 'Western', '*', 'Adaptation', 'Based-on', 'Comedy', 'Romance', '*', 'Mystery', 'Thriller', '*', 'Comedy']\n&gt;&gt;&gt; [tuple(g) for k, g in itertools.groupby(mylist, key=\"*\".__ne__) if k]\n[('Drama', 'Film Noir', 'Mystery', 'Romance'),\n ('Dance', 'Drama', 'Musical'),\n ('Crime', 'Drama'),\n ('Action', 'Drama', 'Period', 'Western'),\n ('Adaptation', 'Based-on', 'Comedy', 'Romance'),\n ('Mystery', 'Thriller'),\n ('Comedy',)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 5, "last_activity_date": 1550702807, "creation_date": 1550702807, "answer_id": 54796469, "question_id": 54796418, "link": "https://stackoverflow.com/questions/54796418/python-group-list-element-by-value-into-tuples/54796469#54796469", "title": "Python group list element by value into tuples", "body": "<p>This is a classic <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"noreferrer\">use case for <code>itertools.groupby</code></a>:</p>\n\n<pre><code>from itertools import groupby\n\nexpected_list = [tuple(grp) for isstar, grp in groupby(mylist, key='*'.__eq__) if not isstar]\n</code></pre>\n\n<p>That groups your inputs into runs of <code>*</code> and not-<code>*</code>, drops the <code>*</code> groups, and <code>tuple</code>s up the non-<code>*</code> groups.</p>\n"}], "owner": {"reputation": 689, "user_id": 3692272, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/13ec477c85592d36cbd6fa5175090267?s=128&d=identicon&r=PG", "display_name": "Umar Yusuf", "link": "https://stackoverflow.com/users/3692272/umar-yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54796469, "answer_count": 2, "score": 1, "last_activity_date": 1550702946, "creation_date": 1550702527, "last_edit_date": 1550702946, "question_id": 54796418, "link": "https://stackoverflow.com/questions/54796418/python-group-list-element-by-value-into-tuples", "title": "Python group list element by value into tuples", "body": "<p>I have this list: </p>\n\n<pre><code>mylist = ['*', 'Drama', 'Film Noir', 'Mystery', 'Romance', '*', 'Dance', 'Drama', 'Musical', '*', 'Crime', 'Drama', '*', 'Action', 'Drama', 'Period', 'Western', '*', 'Adaptation', 'Based-on', 'Comedy', 'Romance', '*', 'Mystery', 'Thriller', '*', 'Comedy']\n</code></pre>\n\n<p>Obviously, the element ' * ' is separating groups within the list. How do I group the occurrence of elements in between ' * '? The desired result will look like this: </p>\n\n<pre><code>expected_list = [('Drama', 'Film Noir', 'Mystery', 'Romance'), ('Dance', 'Drama', 'Musical'), ('Crime', 'Drama'), ('Action', 'Drama', 'Period', 'Western'), ('Adaptation', 'Based-on', 'Comedy', 'Romance'), ('Mystery', 'Thriller'), ('Comedy')]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list", "function", "dictionary"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1550702963, "post_id": 54796411, "comment_id": 96370846, "body": "<code>messages_and_times</code> <i>is not a <code>dict</code></i>, it is a <code>zip</code> object. See: <code>messages_and_times = zip(list_of_messages, list_of_times) </code>. <code>zip</code> objects can only be iterated over once."}, {"owner": {"reputation": 69, "user_id": 10992810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c38ccc2c67bea37521a25e4346ec34?s=128&d=identicon&r=PG&f=1", "display_name": "DeadManProp", "link": "https://stackoverflow.com/users/10992810/deadmanprop"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1550703044, "post_id": 54796411, "comment_id": 96370883, "body": "Ahh I see. What would be another effective way of combining those two user inputs into a dictionary that I can iterate over multiple times?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1550703068, "post_id": 54796411, "comment_id": 96370888, "body": "... actually create a dictionary. Again, you are simply creating a <code>zip</code> object, and then exhausting it. You <i>do</i> create a <code>dict</code> out of it, but you simply print it, then it gets immediately reclaimed because no references exist to it."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1550703619, "post_id": 54796411, "comment_id": 96371081, "body": "<code>messages_and_times = dict(zip(list_of_messages, list_of_times))</code>."}, {"owner": {"reputation": 69, "user_id": 10992810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c38ccc2c67bea37521a25e4346ec34?s=128&d=identicon&r=PG&f=1", "display_name": "DeadManProp", "link": "https://stackoverflow.com/users/10992810/deadmanprop"}, "edited": false, "score": 0, "creation_date": 1550704319, "post_id": 54796411, "comment_id": 96371289, "body": "@ Bakuriu This one also seems to behave like zip did on its own, so it doesn&#39;t work. I&#39;ve sorted it out though. The two user inputs are now assigned to variables &#39;message&#39; and &#39;seconds&#39;, and are followed by the line &#39;messages_and_times[message] = seconds&#39;. Lastly I&#39;ve made messages_and_times a global variable, and it works for now. Thank you so much for putting me on the right track guys!"}], "owner": {"reputation": 69, "user_id": 10992810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c38ccc2c67bea37521a25e4346ec34?s=128&d=identicon&r=PG&f=1", "display_name": "DeadManProp", "link": "https://stackoverflow.com/users/10992810/deadmanprop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550702504, "creation_date": 1550702504, "question_id": 54796411, "link": "https://stackoverflow.com/questions/54796411/python-dictionary-becomes-empty-as-soon-as-the-function-which-added-items-to-it", "title": "Python dictionary becomes empty as soon as the function, which added items to it, finishes execution", "body": "<p>I am trying to write a menu in which option 1 would add a key:value pair to a dictionary and option 2 would run a threading module using the items from the dictionary. Key is a message from the user input and Value is a number of seconds, from the user input, that a thread should pause for, before displaying the message. </p>\n\n<p>Threading itself is irrelevant right now though. What I'm struggling with is the fact that when I use the function for option 1, it adds the key:value pairs to the dictionary (called messages_and_times) successfully. But as soon as the function is finished the dictionary becomes empty again, as can be seen from the function for option 2, which accesses it.</p>\n\n<p>At the bottom you can see my code. I've added the following lines in order to check what's in the dictionary at each step:</p>\n\n<pre><code>    print(dict(messages_and_times))\n    if not messages_and_times:\n        print(\"This dictionary is empty.\")\n    else:\n        print(\"This dictionary contains items.\")\n</code></pre>\n\n<p>It doesn't seem to work correctly either however. First of all it prints \"This dictionary contains items.\" whether the printed dictionary looks empty or not. Second of all the following part of my code (clear() is used for clearing the terminal display):</p>\n\n<pre><code>def create_dictionary():\n    clear()\n    answer = input(\n        \"Would you like to add another message? (yes/no)\").lower()\n    if answer == \"yes\":\n        option_1()\n    elif answer == \"no\":\n        clear()\n        print(\"You will now be returned to the main menu.\")    \n\n        print(dict(messages_and_times))       \n</code></pre>\n\n<p>does print a dictionary containing items if I chose to add them. But if I add the line</p>\n\n<pre><code>print(dict(messages_and_times))   \n</code></pre>\n\n<p>to the main_menu() itself, the above mentioned create_dictionary() function prints an empty dictionary instead. Just this one print() statement in the main_menu() affects whether create_dictionary() shows a dictionary with items in it or not.</p>\n\n<p>Could someone please help me understand how to design a code in which the dictionary retains the items created by one function, so that they can be accessed by other functions?</p>\n\n<p>Thank you in advance for your time and assistance,</p>\n\n<pre><code>import os\nclear = lambda: os.system('cls')\n</code></pre>\n\n<p>def main_menu():</p>\n\n<pre><code>list_of_messages = []\nlist_of_times = []\nmessages_and_times = zip(list_of_messages, list_of_times)\n\ndef option_1():\n    clear()\n    list_of_messages.append(\n        input(\"Please type in a message you would like to add to the list:\"))\n    clear()\n    list_of_times.append(\n        input(\"Please type in the time of delay for this message:\"))\n\n    def create_dictionary():\n        clear()\n        answer = input(\n            \"Would you like to add another message? (yes/no)\").lower()\n        if answer == \"yes\":\n            option_1()\n        elif answer == \"no\":\n            clear()\n            print(\"You will now be returned to the main menu.\")    \n\n            print(dict(messages_and_times))            \n            if not messages_and_times:\n                print(\"This dictionary is empty.\")\n            else:\n                print(\"This dictionary contains items.\")\n\n            time.sleep(1.5)\n            main_menu()\n        else:\n            clear()\n            print(\"Please answer yes or no.\")\n            time.sleep(1.5)\n            create_dictionary()\n    create_dictionary()\n\ndef option_2():\n    clear()\n\n    print(dict(messages_and_times))\n    if not messages_and_times:\n        print(\"This dictionary is empty.\")\n    else:\n        print(\"This dictionary contains items.\")\n\n    time.sleep(5)\n    main_menu()\n\n\nclear()\nselection = 0\nwhile selection == 0:\n    print((\"-\" * 15) + \"MAIN MENU\" + (\"-\" * 15) + \"\\n\")\n    print(\"1: Input a message and a corresponding time of delay before its display.\")\n    print(\"2: Print your customized list of messages.\")\n    print(\"3: Generate a list of random messages with random delays.\\n\")\n\n    selection = int(input(\n        \"Please select one of the options, by typing in the corresponding number:\"))\n\n    if selection == 1:\n        option_1()\n    elif selection == 2:\n        option_2()                        \n    elif selection == 3:\n        clear()\n        print(\"You've selected the third option.\")\n    else:\n        clear()\n        print(\"Please select from options 1 - 3.\\n\")\n        time.sleep(1.5)\n        main_menu()\n</code></pre>\n"}, {"tags": ["python", "tkinter", "robotframework"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1550703210, "post_id": 54796405, "comment_id": 96370931, "body": "I can&#39;t duplicate the problem you report, and don&#39;t see anything that could cause it. Are you certain that this exact code reproduces the problem?"}, {"owner": {"reputation": 40, "user_id": 6073900, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9971f0eb386d35844fba65855ed03c92?s=128&d=identicon&r=PG&f=1", "display_name": "Bad programmer ", "link": "https://stackoverflow.com/users/6073900/bad-programmer"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1550704178, "post_id": 54796405, "comment_id": 96371242, "body": "Appologies @BryanOakley, i&#39;ve added the code in its entirety now"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1550733038, "post_id": 54796405, "comment_id": 96379166, "body": "Intersection of Robot Framework and Tkiniter - there couldn&#39;t be a better match than Bryan Oakley :)"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1550705051, "creation_date": 1550705051, "answer_id": 54796843, "question_id": 54796405, "link": "https://stackoverflow.com/questions/54796405/robot-framework-opening-up-multiple-windows-of-tkinter/54796843#54796843", "title": "Robot framework opening up multiple windows of Tkinter", "body": "<p>When you import Hello.py, robot detects a class named <code>hello</code> so it automatically instantiates it. It creates a root window in the <code>__init__</code> function, so that's your first window.</p>\n\n<p>When you import tk_hello.py, robot detects a class named <code>tk_hello</code>, so it automatically instantiates it. It creates a root window in the <code>__init__</code> function, that's your second window.</p>\n"}], "owner": {"reputation": 40, "user_id": 6073900, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9971f0eb386d35844fba65855ed03c92?s=128&d=identicon&r=PG&f=1", "display_name": "Bad programmer ", "link": "https://stackoverflow.com/users/6073900/bad-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 54796843, "answer_count": 1, "score": 0, "last_activity_date": 1550705051, "creation_date": 1550702484, "last_edit_date": 1550704142, "question_id": 54796405, "link": "https://stackoverflow.com/questions/54796405/robot-framework-opening-up-multiple-windows-of-tkinter", "title": "Robot framework opening up multiple windows of Tkinter", "body": "<p>I'm currently calling up a class from my robot framework script and it opens up two windows of Tkinter. I've tried running my python object via PyCharm and through the cmd and i only get one Tkinter window through that. However when i call my object through RobotFramework it opens up a blank Tk window and the expected Tk window. Any ideas?</p>\n\n<p>My Hello.py is:</p>\n\n<pre><code>from Tkinter import *\n\n\nclass hello(object):\n    def __init__(self, question=\"Not today\"):\n        self.question = question\n        self.master = Tk()\n        self.lbl = Label(self.master, text=self.question)\n        self.lbl.pack()\n        self.btn = Button(self.master, text=\"Yes\", command=self.yes_command)\n        self.btn.pack()\n        self.master.mainloop()\n\n    def yes_command(self):\n        print(\"User pressed Yes\")\n        self.master.quit()\n        self.master.destroy()\n</code></pre>\n\n<p>My tk_hello file contents are: </p>\n\n<pre><code>from Tkinter import *\n\n\nclass tk_hello(object):\n    def __init__(self, question):\n        self.question = question\n        self.master = Tk()\n        self.lbl = Label(self.master, text=self.question)\n        self.lbl.pack()\n        self.btn = Button(self.master, text=\"Yes\", command=self.yes_command)\n        self.btn.pack()\n        self.master.mainloop()\n\n    def yes_command(self):\n        print(\"User pressed Yes\")\n        self.master.quit()\n        self.master.destroy()\n</code></pre>\n\n<p>My Robot Framework script is:</p>\n\n<pre><code>*** Settings ***\nLibrary           hello.py\n\n*** Variables ***\n\n*** Test Cases ***\nExample_1\n    Import Library    ${CURDIR}\\\\..\\\\work_project\\\\tk_hello.py    \"Worked\"    WITH NAME    Try_This\n    Log To Console    \\r ${CURDIR}\n</code></pre>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 1817, "user_id": 2452074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c419795f550f591a065b2681ef88b61?s=128&d=identicon&r=PG", "display_name": "JoseKilo", "link": "https://stackoverflow.com/users/2452074/josekilo"}, "edited": false, "score": 0, "creation_date": 1550742328, "post_id": 54796391, "comment_id": 96384368, "body": "Pytest imports the module a second time, which executes <code>globalList = []</code> a second time and at that point the <code>__name__ != &#39;__main__&#39;</code>, so the list doesn&#39;t get populated. Have you tried to use a session fixture to achieve something similar ?"}, {"owner": {"reputation": 1817, "user_id": 2452074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c419795f550f591a065b2681ef88b61?s=128&d=identicon&r=PG", "display_name": "JoseKilo", "link": "https://stackoverflow.com/users/2452074/josekilo"}, "edited": false, "score": 1, "creation_date": 1550743187, "post_id": 54796391, "comment_id": 96384906, "body": "You can try to insert a print statement at the module level after the list definition, you should see it twice. But you will need to add <code>&quot;-s&quot;</code> to your arguments: <code>pytest_options = [__file__, &quot;-s&quot;]</code>. Otherwise pytest will capture the output."}, {"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "reply_to_user": {"reputation": 1817, "user_id": 2452074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c419795f550f591a065b2681ef88b61?s=128&d=identicon&r=PG", "display_name": "JoseKilo", "link": "https://stackoverflow.com/users/2452074/josekilo"}, "edited": false, "score": 0, "creation_date": 1550773463, "post_id": 54796391, "comment_id": 96404172, "body": "Aha, a separate import, I see the significance of the Note under <a href=\"https://docs.pytest.org/en/latest/usage.html?highlight=pytest.main()#calling-pytest-from-python-code\" rel=\"nofollow noreferrer\">Calling pytest from Python code</a> more clearly now. <i>Note Calling <code>pytest.main()</code> will result in importing your tests and any modules that they import.</i>"}, {"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "reply_to_user": {"reputation": 1817, "user_id": 2452074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c419795f550f591a065b2681ef88b61?s=128&d=identicon&r=PG", "display_name": "JoseKilo", "link": "https://stackoverflow.com/users/2452074/josekilo"}, "edited": false, "score": 0, "creation_date": 1550774497, "post_id": 54796391, "comment_id": 96404675, "body": "I was experimenting with an idea to push some global state that&#39;s dynamically generated in some hardware tests that would be fixed/static by the time I kicked off the pytest invocation. This was in the hopes to work around issues <a href=\"https://github.com/pytest-dev/pytest/issues/349\" rel=\"nofollow noreferrer\">Using fixtures in pytest.mark.parametrize #349</a> and <a href=\"https://github.com/TvoroG/pytest-lazy-fixture/issues/9\" rel=\"nofollow noreferrer\">Possible to expand the fixture return value in parametrize? #9</a> since all the parametrization happens at collection time and as far as I can tell imposes some static constraints on the data&#39;s existence."}], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550782437, "creation_date": 1550702429, "last_edit_date": 1550782437, "question_id": 54796391, "link": "https://stackoverflow.com/questions/54796391/giving-access-to-global-variables-in-main-to-pytest-session", "title": "Giving access to global variables in __main__ to pytest session", "body": "<p>I'm curious if something along these lines is possible where a module global can be initialized in <code>__main__</code> and yet made accessible to pytest when it runs using its <code>pytest.main()</code> mechanism.</p>\n\n<p>My initial attempt seems to indicate in the negative about passing global state into the pytest session...</p>\n\n<pre><code>import pytest\n\nglobalList = []\n\n\ndef test_globalList() :\n    global globalList\n    print( \"globalList: {}\".format( globalList))\n    assert globalList\n\n\nif __name__ == '__main__':\n    print('Main Start')\n    globalList.append(1)\n    globalList.append(2)\n    globalList.append(3)\n\n    pytest_options = [ __file__ ]\n    print( \"globalList: {}\".format( globalList))\n    print('\\n\\n\\n\\n')\n    pytest.main( pytest_options  ) # run pytest for just this file\n    print('Main Complete')\n</code></pre>\n\n<p>I yield the following console output</p>\n\n<pre><code>Main Start\nglobalList: [1, 2, 3]\n\n\n=================================== test session starts ================\nplatform darwin -- Python 2.7.10, pytest-4.0.2, py-1.7.0, pluggy-0.8.0\nrootdir: /Users/USER/, inifile:\ncollected 1 item\n\ntest_temp.py F                                                    [100%]\n\n=================================== FAILURES ===========================\n___________________________________ test_globalList ____________________\n\n    def test_globalList() :\n        print( \"globalList: {}\".format( globalList))\n&gt;       assert globalList\nE       assert []\n\ntest_temp.py:39: AssertionError\n----------------------------------- Captured stdout call ---------------\nglobalList: []\n=================================== 1 failed in 0.09 seconds ===========\nMain Complete\n</code></pre>\n\n<p>What concept in pytest am I failing to understand that would alert me in advance that such an attempt is not possible. Is there a way to share global state in the <code>pytest.main</code> invocation?</p>\n\n<hr>\n\n<h1>UPDATE</h1>\n\n<p>turns out the globalList is an entirely new instance, yet the process and threads are the same in both cases. A module load is occurring under the pytest context that is completely separate from the <strong>main</strong> context. Quoting a note from the <a href=\"https://docs.pytest.org/en/latest/usage.html?highlight=pytest.main()#calling-pytest-from-python-code\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <h2>Note</h2>\n  \n  <p>Calling pytest.main() will result in importing your tests and any modules that they import.</p>\n</blockquote>\n\n<pre><code>import pytest\nimport os\nimport threading\n\nglobalList = []\n\nprint( \"\\n__name__ : {}\".format( __name__ ))\nprint(\"process ID : {}\".format(hex(os.getpid())))\ncur_thread = threading.current_thread()\nprint( \"thread ID : {}\".format( hex(id(cur_thread )) ))\nprint( \"thread Name : {}\".format( cur_thread.name ))\nprint( \"globalList ID : {}\".format(hex(id(globalList))))\n\ndef test_globalList() :\n    global globalList\n    print( \"globalList: {}\".format( globalList)) # TODO this will be empty in the pytest session, somehow this approach fails to bring this variable into scope.\n    assert globalList\n\nif __name__ == '__main__':\n    print('Main Start')\n    globalList.append(1)\n    globalList.append(2)\n    globalList.append(3)\n\n    pytest_options = [ __file__ , '-s']\n    print( \"globalList: {}\".format( globalList))\n    print('\\n\\n\\n\\n')\n    pytest.main( pytest_options  ) # run pytest for just this file\n    print('Main Complete')\n</code></pre>\n\n<p>And the corresponding console output...</p>\n\n<pre><code>__name__ : __main__\nprocess ID : 0xa43e\nthread ID : 0x10ac9b190\nthread Name : MainThread\nglobalList ID : 0x10b476320\nMain Start\nglobalList: [1, 2, 3]\n\n\n\n\n=================================== test session starts ================\nplatform darwin -- Python 2.7.10, pytest-4.0.2, py-1.7.0, pluggy-0.8.0\nrootdir: /Users/USER, inifile:\nplugins: lazy-fixture-0.5.1, html-1.20.0, metadata-1.8.0\ncollecting ...\n__name__ : test_temp\nprocess ID : 0xa43e\nthread ID : 0x10ac9b190\nthread Name : MainThread\nglobalList ID : 0x10bb46128\ncollected 1 item\n\ntest_temp.py globalList: []\nF\n\n=================================== FAILURES ===========================\n___________________________________ test_globalList ____________________\n\n    def test_globalList() :\n        global globalList\n        print( \"globalList: {}\".format( globalList))\n&gt;       assert globalList\nE       assert []\n\ntest_temp.py:50: AssertionError\n=================================== 1 failed in 0.10 seconds ===========\nMain Complete\n</code></pre>\n\n<p>And right away some differences pop out, the module name and address to the list are different...</p>\n\n<pre><code>__name__      : __main__      test_temp   &lt;--different\nprocess ID    : 0xa43e        0xa43e\nthread ID     : 0x10ac9b190   0x10ac9b190\nthread Name   : MainThread    MainThread\nglobalList ID : 0x10b476320   0x10bb46128 &lt;--different\n</code></pre>\n"}, {"tags": ["python", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 2939, "user_id": 8334261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f9cdd180c34b49d28655f0e4b80e22?s=128&d=identicon&r=PG&f=1", "display_name": "DocDriven", "link": "https://stackoverflow.com/users/8334261/docdriven"}, "is_accepted": false, "score": 0, "last_activity_date": 1550704040, "creation_date": 1550704040, "answer_id": 54796693, "question_id": 54796390, "link": "https://stackoverflow.com/questions/54796390/populating-array-elements-with-lists/54796693#54796693", "title": "Populating array elements with lists", "body": "<p>I slightly adjusted your original numpy array because you cannot replace a single integer with a sequence.</p>\n\n<pre><code>import numpy as np\n\nb = np.zeros((5,5,2)).astype('int32')\nx = np.linspace(11, 15, 5).astype('int32')\ny = np.linspace(6, 10, 5).astype('int32')\n\nidx_x = 0\nidx_y = 0\n\nfor row in b:\n    for _ in row:\n        b[idx_x, idx_y] = [x[idx_x], y[idx_y]]\n        idx_y += 1\n    idx_y = 0\n    idx_x += 1\n\nprint(b.tolist())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[[11, 6], [11, 7], [11, 8], [11, 9], [11, 10]], \n [[12, 6], [12, 7], [12, 8], [12, 9], [12, 10]], \n [[13, 6], [13, 7], [13, 8], [13, 9], [13, 10]], \n [[14, 6], [14, 7], [14, 8], [14, 9], [14, 10]], \n [[15, 6], [15, 7], [15, 8], [15, 9], [15, 10]]]\n</code></pre>\n\n<p>If you want to keep it as a numpy array, do not cast it via <code>tolist()</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 5664, "user_id": 680727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e84ed97f423d7dd974efd8a871c5861?s=128&d=identicon&r=PG", "display_name": "Aleksi Torhamo", "link": "https://stackoverflow.com/users/680727/aleksi-torhamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1550707057, "last_edit_date": 1550707057, "creation_date": 1550706142, "answer_id": 54796999, "question_id": 54796390, "link": "https://stackoverflow.com/questions/54796390/populating-array-elements-with-lists/54796999#54796999", "title": "Populating array elements with lists", "body": "<p>Like @DocDriven said, you'll have to adjust the shape of the <code>b</code> array first, to <code>(5, 5, 2)</code>.</p>\n\n<p>After that, note that you can set a whole row of <code>y</code> values by doing <code>b[row,:,1] = y</code> and a whole column of <code>x</code> values by doing <code>b[:,col,0] = x</code>.</p>\n\n<p>Numpy also broadcasts shapes, which means you can use a 1d array to fill a 2d array; <code>b[:,:,1] = y</code> will fill all the <code>y</code> values in a single operation, while <code>b[:,:,0] = x.reshape((5, 1))</code> will do the same for the <code>x</code> values.</p>\n\n<p>In short, you can get what you want by doing just:</p>\n\n<pre><code>b = np.zeros((5, 5, 2)).astype('int32')\nb[:,:,1] = y\nb[:,:,0] = x.reshape((5, 1))\n</code></pre>\n\n<p>Another way is to use <code>np.meshgrid()</code>:</p>\n\n<pre><code>b = np.array(np.meshgrid(x, y)).T.astype('int32')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9985962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f75ed5dac5229169aa79ed110f2fad6?s=128&d=identicon&r=PG&f=1", "display_name": "Skat", "link": "https://stackoverflow.com/users/9985962/skat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54796999, "answer_count": 2, "score": 0, "last_activity_date": 1550707057, "creation_date": 1550702405, "question_id": 54796390, "link": "https://stackoverflow.com/questions/54796390/populating-array-elements-with-lists", "title": "Populating array elements with lists", "body": "<p>I have following array:\n    <code>b=np.zeros((5,5)).astype('int32')</code></p>\n\n<p>I wish to populate each element of above array with a list using below two arrays:\n    <code>x=np.linspace(11, 15, 5)</code></p>\n\n<pre><code>`y=np.linspace(6, 10, 5)`\n</code></pre>\n\n<p>The output i am looking at:</p>\n\n<pre><code>`array([[11,6], [11,7], [11,8], [11,9], [11,10]],\n       [[12,6], [12,7], [12,8], [12,9], [12,10]],\n       [[13,6], [13,7], [13,8], [13,9], [13,10]],\n       [[14,6], [14,7], [14,8], [14,9], [14,10]],\n       [[15,6], [15,7], [15,8], [15,9], [15,10]])`\n</code></pre>\n"}, {"tags": ["python", "typeerror"], "comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550734525, "post_id": 54796387, "comment_id": 96379820, "body": "You&#39;re not showing us how it&#39;s calling <code>quote_from_bytes()</code> or what it is supposed to do."}, {"owner": {"reputation": 2996, "user_id": 7836976, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/67ae396b20200188272f0d121d9e9dfa?s=128&d=identicon&r=PG&f=1", "display_name": "runnerpaul", "link": "https://stackoverflow.com/users/7836976/runnerpaul"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550735676, "post_id": 54796387, "comment_id": 96380436, "body": "I&#39;m not sure where that&#39;s coming from. I think my issue now is the <code>ypeError(&#39;get_bucket_config() takes 2 positional arguments but 3 were given&#39;)</code>"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550735853, "post_id": 54796387, "comment_id": 96380519, "body": "We still have no idea how the code you posted ends up calling these functions, or with what values, or what they might be supposed to do. Voting to close as unclear; perhaps review the guidance for how to <a href=\"https://stackoverflow.com/posts/54796387/edit\">edit</a> your post into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 2996, "user_id": 7836976, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/67ae396b20200188272f0d121d9e9dfa?s=128&d=identicon&r=PG&f=1", "display_name": "runnerpaul", "link": "https://stackoverflow.com/users/7836976/runnerpaul"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550741746, "post_id": 54796387, "comment_id": 96383955, "body": "@tripleee I&#39;m quite possibly wrong but I have a feeling this has something to do with the way I&#39;m calling <code>get_bucket</code> and how I&#39;m passing my parameters."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550741811, "post_id": 54796387, "comment_id": 96383998, "body": "It&#39;s not at all impossible but we cannot debug code we cannot see."}, {"owner": {"reputation": 3024, "user_id": 5833429, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1654342258166336/picture?type=large", "display_name": "Tom Wojcik", "link": "https://stackoverflow.com/users/5833429/tom-wojcik"}, "edited": false, "score": 1, "creation_date": 1550742098, "post_id": 54796387, "comment_id": 96384193, "body": "<code>get_bkt = json.loads(str(client.get_bucket(bucket, **headers)))</code> is the correct."}], "answers": [{"tags": [], "owner": {"reputation": 2996, "user_id": 7836976, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/67ae396b20200188272f0d121d9e9dfa?s=128&d=identicon&r=PG&f=1", "display_name": "runnerpaul", "link": "https://stackoverflow.com/users/7836976/runnerpaul"}, "is_accepted": true, "score": 0, "last_activity_date": 1550753772, "creation_date": 1550753772, "answer_id": 54807628, "question_id": 54796387, "link": "https://stackoverflow.com/questions/54796387/quote-from-bytes-expected-bytes-when-passing-headers/54807628#54807628", "title": "quote_from_bytes() expected bytes when passing headers", "body": "<p>This is what I needed:</p>\n\n<pre><code>get_bkt = json.loads(str(client.get_bucket(bucket, **headers)))\n</code></pre>\n"}], "owner": {"reputation": 2996, "user_id": 7836976, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/67ae396b20200188272f0d121d9e9dfa?s=128&d=identicon&r=PG&f=1", "display_name": "runnerpaul", "link": "https://stackoverflow.com/users/7836976/runnerpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 54807628, "answer_count": 1, "score": -1, "last_activity_date": 1550753772, "creation_date": 1550702390, "last_edit_date": 1550741650, "question_id": 54796387, "link": "https://stackoverflow.com/questions/54796387/quote-from-bytes-expected-bytes-when-passing-headers", "title": "quote_from_bytes() expected bytes when passing headers", "body": "<p>I have this request in my Python application:</p>\n\n<pre><code>get_bkt = json.loads(str(client.get_bucket(bucket, headers={\"client-ip\": \"192.168.1.100\"})))\n</code></pre>\n\n<p>It gives me this error:</p>\n\n<pre><code>TypeError('quote_from_bytes() expected bytes')\n</code></pre>\n\n<p>This is the beginning of the function I'm calling:</p>\n\n<pre><code>def get_bucket(self, bucket, **kwargs):\n    \"\"\"\n    Returns metadata for the specified bucket.\n\n    Returns metadata for the specified bucket.\n\n    :param str bucket: Name of a bucket.\n    :param dict headers: A `dict` containing the request headers\n    :return: A `DetailedResponse` containing the result, headers and HTTP status code.\n    :rtype: DetailedResponse\n    \"\"\"\n</code></pre>\n\n<p>Is there something wrong with the way I'm passing the headers? If so, how do I fix this?</p>\n\n<p><strong>Additional Info</strong></p>\n\n<p>I've changed it to this based on a few things I read online:</p>\n\n<pre><code>headers = {\"client-ip\": \"192.168.1.100\"}\nget_bkt = json.loads(str(client.get_bucket(bucket, *headers)))\n</code></pre>\n\n<p>Now I get this error:</p>\n\n<pre><code>TypeError('get_bucket_config() takes 2 positional arguments but 3 were given')\n</code></pre>\n\n<p>As with the previous error, I'm not sure what it's about. I guess it's telling me I'm passing one too many args but I don't believe this to be the case. Am I wrong?</p>\n\n<p>If I then change </p>\n\n<pre><code>get_bkt = json.loads(str(client.get_bucket(bucket, *headers)))\n</code></pre>\n\n<p>to</p>\n\n<pre><code>get_bkt = json.loads(str(client.get_bucket(bucket, **headers)))\n</code></pre>\n\n<p>I don't seem to get the error. I'm not sure this is correct though.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1550702459, "post_id": 54796370, "comment_id": 96370673, "body": "Can you execute <code>which pip</code>?"}, {"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "reply_to_user": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1550702595, "post_id": 54796370, "comment_id": 96370712, "body": "added output to the post"}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1550702805, "post_id": 54796370, "comment_id": 96370790, "body": "Thanks. Your <code>pip</code> points to some local (user) installation of Python, while what you show comes from system version of Python. Can you run <code>which python</code>?"}, {"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "reply_to_user": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1550702904, "post_id": 54796370, "comment_id": 96370825, "body": "@LukaszTracewski also included now"}], "answers": [{"comments": [{"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "edited": false, "score": 0, "creation_date": 1550702627, "post_id": 54796408, "comment_id": 96370726, "body": "That is what I use, the output is 1.15.0"}, {"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "edited": false, "score": 0, "creation_date": 1550703096, "post_id": 54796408, "comment_id": 96370896, "body": "` &gt;&gt;&gt; python -m pip uninstall numpy     Uninstalling numpy-1.15.0: `"}, {"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "edited": false, "score": 0, "creation_date": 1550703366, "post_id": 54796408, "comment_id": 96371000, "body": "then it proceeds with Uninstalling numpy-1.14.5 ... should I just keep removing all numpys? Why can&#39;t i just change the import path from where it is fetching the module?"}, {"owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "edited": false, "score": 0, "creation_date": 1550703631, "post_id": 54796408, "comment_id": 96371085, "body": "it worked. I kept uninstalling until there was nothing left. Curiously no version was 1.7.1 so I can&#39;t explain that. Afterwards installed 1.15.0 it worked well. Can you edit your answer to explain that so I can accept it thanks!"}, {"owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "reply_to_user": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "edited": false, "score": 2, "creation_date": 1550703896, "post_id": 54796408, "comment_id": 96371174, "body": "So this is solved, but it seems you have another problem. You should check why <code>pip</code> and <code>python</code> don&#39;t point to the same python install. <code>~&#47;.profile</code> is often a good place to start to check if there is something &quot;suspycious&quot;. I don&#39;t really see what you want me to add to the answer, it looks complete to me now."}], "tags": [], "owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1550703753, "last_edit_date": 1550703753, "creation_date": 1550702499, "answer_id": 54796408, "question_id": 54796370, "link": "https://stackoverflow.com/questions/54796370/why-does-python-import-a-lower-version-of-numpy/54796408#54796408", "title": "Why does python import a lower version of Numpy?", "body": "<p>Use <code>python -m pip</code> instead of <code>pip</code>, you likely have multiple pythons installed.</p>\n\n<pre><code>python -m pip show numpy\n\nName: numpy\nVersion: 1.7.1\n</code></pre>\n\n<p><code>which pip</code> will tell you the path of your unwanted install</p>\n\n<p>An other possible cause is that you have two Numpy's installed on the same python, in which case uninstall both and reinstall.</p>\n\n<p>The thing is, if you have multiple versions of numpy and import it, python imports the first one it finds. You might want to look int virtual environment if you need to keep multiple versions of numpy (in every case, you have to uninstall older numpy's that are in conflict).</p>\n"}], "owner": {"reputation": 648, "user_id": 2723396, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a7f83f479a4b2615e5d7b88b6cce9dc?s=128&d=identicon&r=PG&f=1", "display_name": "hirschme", "link": "https://stackoverflow.com/users/2723396/hirschme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 54796408, "answer_count": 1, "score": 1, "last_activity_date": 1550703753, "creation_date": 1550702303, "last_edit_date": 1550702842, "question_id": 54796370, "link": "https://stackoverflow.com/questions/54796370/why-does-python-import-a-lower-version-of-numpy", "title": "Why does python import a lower version of Numpy?", "body": "<p>I installed numpy with pip, version 1.15</p>\n\n<pre><code>pip show numpy\npython -m pip show numpy\n\nName: numpy\nVersion: 1.15.0\n</code></pre>\n\n<p>However when I import numpy with python, I get version 1.7.1</p>\n\n<pre><code>&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; numpy.version.version\n'1.7.1'\n</code></pre>\n\n<p>Where is this numpy coming from and how can I disable it?</p>\n\n<p>I checked on all folders from the sys.path, and erased folders of numpy version 1.7.1</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>import sys\n      sys.path\n          ['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/home/hirsch/.local/lib/python2.7/site-packages', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/PILcompat', '/usr/lib/python2.7/dist-packages/gtk-2.0']</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>But that did not solve this issue.</p>\n\n<pre><code>&gt;&gt;&gt; which pip\n/home/hirsch/.local/bin/pip\n\n&gt;&gt;&gt; which python\n/usr/bin/python\n</code></pre>\n"}, {"tags": ["python", "django", "url", "middleware"], "comments": [{"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1550703432, "post_id": 54796356, "comment_id": 96371018, "body": "Can&#39;t you use <code>resolve()</code> to get the current view function and then <code>reverse(settings.LOGIN_URL)</code> and see if they&#39;re the same?"}, {"owner": {"reputation": 241, "user_id": 10107522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca744c3461345f97c97ae45656a80fcd?s=128&d=identicon&r=PG&f=1", "display_name": "thezeeshantariq", "link": "https://stackoverflow.com/users/10107522/thezeeshantariq"}, "reply_to_user": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1550727947, "post_id": 54796356, "comment_id": 96377045, "body": "but problem is slug, how I can pass it to login url or compare url"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 10107522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca744c3461345f97c97ae45656a80fcd?s=128&d=identicon&r=PG&f=1", "display_name": "thezeeshantariq", "link": "https://stackoverflow.com/users/10107522/thezeeshantariq"}, "edited": false, "score": 0, "creation_date": 1550729122, "post_id": 54800217, "comment_id": 96377521, "body": "I have also tried adding  <b>@login_required</b> decorator, but still the problem is, I can&#39;t send my <b>slug</b> parameter to it. I need auth urls to be like <code>slug&#47;accounts&#47;login</code>"}, {"owner": {"reputation": 1869, "user_id": 5901723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oiHC.png?s=128&g=1", "display_name": "ans2human", "link": "https://stackoverflow.com/users/5901723/ans2human"}, "reply_to_user": {"reputation": 241, "user_id": 10107522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca744c3461345f97c97ae45656a80fcd?s=128&d=identicon&r=PG&f=1", "display_name": "thezeeshantariq", "link": "https://stackoverflow.com/users/10107522/thezeeshantariq"}, "edited": false, "score": 0, "creation_date": 1550729198, "post_id": 54800217, "comment_id": 96377555, "body": "@thezeeshantariq post your <code>views</code> and template code also."}, {"owner": {"reputation": 241, "user_id": 10107522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca744c3461345f97c97ae45656a80fcd?s=128&d=identicon&r=PG&f=1", "display_name": "thezeeshantariq", "link": "https://stackoverflow.com/users/10107522/thezeeshantariq"}, "edited": false, "score": 0, "creation_date": 1550735683, "post_id": 54800217, "comment_id": 96380439, "body": "nothing, it simply doesn&#39;t work. <code>re.comile</code> returns <b>None</b>"}], "tags": [], "owner": {"reputation": 1869, "user_id": 5901723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oiHC.png?s=128&g=1", "display_name": "ans2human", "link": "https://stackoverflow.com/users/5901723/ans2human"}, "is_accepted": true, "score": 2, "last_activity_date": 1550728751, "last_edit_date": 1592644375, "creation_date": 1550728751, "answer_id": 54800217, "question_id": 54796356, "link": "https://stackoverflow.com/questions/54796356/comparing-url-path-in-django-2-middleware/54800217#54800217", "title": "Comparing url path in Django 2 middleware", "body": "<p>You could add Django's auth views one by one to your <code>urlpatterns</code>, decorating each with <code>login_exempt</code>.</p>\n<h1><strong>OR</strong></h1>\n<p>If you would like to move the checking into the middleware you could try something like:</p>\n<p><strong><code>urls.py</code></strong></p>\n<pre><code>urlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include(&quot;myapp.urls&quot;)),\n    path('accounts/', include('django.contrib.auth.urls', namespace=&quot;accounts&quot;))\n] \n</code></pre>\n<p><strong><code>middleware.py</code></strong></p>\n<pre><code>class LoginRequiredMiddleware:            # &lt;-- Custom Middleware\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        return self.get_response(request)\n\n    def process_view(self, request, view_func, view_args, view_kwargs):\n\n        if getattr(view_func, 'login_exempt', False):\n            return\n\n        if 'accounts' in request.resolver_match.namespaces:\n            return\n</code></pre>\n<p>Other possibilities would maybe be checking the url or view name in the middleware, but still maybe the cleanest would be using your decorator and add the necessary views one by one.</p>\n<h1>OR</h1>\n<p>You can use <a href=\"https://pypi.org/project/django-decorator-include/\" rel=\"nofollow noreferrer\">django-decorator-include</a> for this.</p>\n<pre><code>$ pip install django-decorator-include\n</code></pre>\n<p>In you <code>project/url.py</code></p>\n<pre><code>from decorator_include import decorator_include\nfrom project/custom_middleware import login_exempt\n\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include(&quot;myapp.urls&quot;)),\n    # do this \n    path('accounts/', decorator_include(login_exempt, 'django.contrib.auth.urls'))\n\n\n]\n</code></pre>\n<p>Don't forget to add the package in <code>requirements.txt</code></p>\n"}], "owner": {"reputation": 241, "user_id": 10107522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca744c3461345f97c97ae45656a80fcd?s=128&d=identicon&r=PG&f=1", "display_name": "thezeeshantariq", "link": "https://stackoverflow.com/users/10107522/thezeeshantariq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "accepted_answer_id": 54800217, "answer_count": 1, "score": 1, "last_activity_date": 1550735637, "creation_date": 1550702246, "last_edit_date": 1550735637, "question_id": 54796356, "link": "https://stackoverflow.com/questions/54796356/comparing-url-path-in-django-2-middleware", "title": "Comparing url path in Django 2 middleware", "body": "<p>I need to develop a Django middleware and created class like this:</p>\n\n<pre><code>import re\nfrom django.conf import settings\nfrom django.shortcuts import redirect\nfrom django.contrib.auth import logout\n\n\nclass LoginRequiredMiddleware:\n\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        response = self.get_response(request)\n        return response\n\n    def process_view(self, request, view_func, view_args, view_kwargs):\n        assert hasattr(request, 'user')\n\n        path = request.path_info\n        print(path)\n\n        p = path.lstrip('/')\n        compiled_login_url = re.compile(settings.LOGIN_URL)\n\n        print(compiled_login_url.match(p))\n\n\n        if not request.user.is_authenticated:\n            if path == '/':\n                print(\"==============&gt; INDEX PAGE\")\n</code></pre>\n\n<p>Now here, I want to compare the path of urls. I have to determine if path match with <strong>settings.LOGIN_URL</strong> or not. I have tried using regular expressions, but they did no help.</p>\n\n<p>Here are my urls</p>\n\n<pre><code>urlpatterns = [\n              path('admin/', admin.site.urls),\n              path('', views.index, name='index'),\n              path('&lt;slug:slug&gt;/', include('app.urls')),\n              path('&lt;slug:slug&gt;/accounts/login/', views.login, name='login'),\n              path('&lt;slug:slug&gt;/accounts/logout/', views.logout, name='logout'),\n              path('&lt;slug:slug&gt;/dashboard/', 'views.dashboard', name='dashboard'),\n          ] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n\n<p>I want to exempt <strong>login</strong> and <strong>logout</strong> from being checked in middleware also I need <strong>slug</strong>.</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def user_login(request, slug):\n    \"\"\"\n    Login user using email and password\n\n    :param request: WSGI Request\n    :param slug: to verify the facility\n    :return: login page or redirect\n    \"\"\"\n\n    context = {}\n    try:\n        facility = models.Facility.objects.get(slug=slug)\n        context['facility'] = facility\n\n    except models.Facility.DoesNotExist:\n        return redirect('index')\n\n    if request.method == \"POST\":\n        email = request.POST['email']\n        password = request.POST['password']\n\n        user = authenticate(request, username=email, password=password)\n        if user is not None:\n            if user.profile.facility.slug == slug:\n                login(request, user)\n                return redirect('dashboard', slug=slug)\n            else:\n                context['error'] = \"You don't belong to this facility\"\n\n        else:\n            context['error'] = \"Invalid email or password\"\n\n    return render(request, 'app/user/login.html', context)\n\n\n@login_required\ndef dashboard(request, slug):\n    \"\"\"\n    Display the dashboard of facility and list down bird\n    view for the daily, weekly, monthly and yearly progress\n\n    :param request:\n    :return:\n    \"\"\"\n    context = {}\n\n    try:\n        facility = models.Facility.objects.get(slug=slug)\n        context['facility'] = facility\n    except models.Facility.DoesNotExist:\n        return render(request, 'app/404.html', status=404)\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul&gt;\n    {% for f in facilities %}\n        &lt;li&gt;&lt;a href=\"{% url 'login' f.slug %}\"&gt;{{ f.name }}&lt;/a&gt;&lt;/li&gt;\n    {% empty %}\n        &lt;li&gt;No Facility&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["python", "data-science", "mining"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1550702280, "post_id": 54796340, "comment_id": 96370613, "body": "Are they actually the number 0 or empty fields that should be considered 0?"}, {"owner": {"reputation": 934, "user_id": 4317250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvtAr.jpg?s=128&g=1", "display_name": "Steve Boyd", "link": "https://stackoverflow.com/users/4317250/steve-boyd"}, "edited": false, "score": 3, "creation_date": 1550702333, "post_id": 54796340, "comment_id": 96370633, "body": "Please explain why the zero values are a problem and provide some code which details what you have tried already."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10724844"}, "edited": false, "score": 0, "creation_date": 1551035066, "post_id": 54796340, "comment_id": 96482396, "body": "The variable is &quot;budget&quot;, I have 22% budget input as zero. I cannot remove them directly. Is there anything I can do with it?"}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 9049108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMubD.jpg?s=128&g=1", "display_name": "Michael Hearn", "link": "https://stackoverflow.com/users/9049108/michael-hearn"}, "is_accepted": false, "score": 1, "last_activity_date": 1573328030, "creation_date": 1573328030, "answer_id": 58782823, "question_id": 54796340, "link": "https://stackoverflow.com/questions/54796340/dataset-with-lots-of-zero-value-as-missing-value-what-should-i-do/58782823#58782823", "title": "Dataset with lots of zero value as missing value. What should I do?", "body": "<p>Well there are a few options.</p>\n\n<ul>\n<li>Take an average of the non zero values and fill all the zeros with the average. This yields 'tacky' results and is not best practice a few outliers can throw off the whole. </li>\n<li>Use the median of the non zero values, also not a super option but less likely to be thrown off by outliers.</li>\n<li>Binning would be taking the sum of the budgets then say splitting the movies into a certain number of groups like say budgets over or under a million, take the average budget then divide that by the amount of groups you want then use the intervals created from the average if they fall in group 0 give them a zero if group 1 a one etc. </li>\n<li><p>I think finding the actual budgets for the movies and replacing the bad itemized budgets with the real budget would be a good option depending on the analysis you are doing. You could take the median or average of each feature column of the budget make that be the percent of each budget for a movie then fill in the zeros with the percent of budget the median occupies. If median value for the non zero actor_pay column is budget/actor_pay=60% then filling the actor_pay column of a zeroed value with 60 percent of the budget for that movie would be an option.</p></li>\n<li><p>Hard option create a function that takes the non zero values of a movies budgets and attempts to interpolate the movies budget based upon the other movies data in the table. This option is more like its own project and the above options should really be tried first.</p></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10724844"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573328030, "creation_date": 1550702165, "last_edit_date": 1550729942, "question_id": 54796340, "link": "https://stackoverflow.com/questions/54796340/dataset-with-lots-of-zero-value-as-missing-value-what-should-i-do", "title": "Dataset with lots of zero value as missing value. What should I do?", "body": "<p>I am currently working on IMDB 5000 movie dataset for a class project. The budget variable has a lot of zero values.</p>\n\n<p>They are missing entries. I cannot drop them because they are 22% of my entire data. </p>\n\n<p>What should I do in Python? Some suggested binning? Could you provide more details?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 934, "user_id": 4317250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvtAr.jpg?s=128&g=1", "display_name": "Steve Boyd", "link": "https://stackoverflow.com/users/4317250/steve-boyd"}, "edited": false, "score": 2, "creation_date": 1550702198, "post_id": 54796289, "comment_id": 96370587, "body": "Classic object-oriented design problem! One approach: put all of the varying parameters into a data-object that is passed into the constructor of the base class."}, {"owner": {"reputation": 125, "user_id": 10256217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7393afcb7d6f6751991392d60c9c36c1?s=128&d=identicon&r=PG&f=1", "display_name": "Le Chase", "link": "https://stackoverflow.com/users/10256217/le-chase"}, "reply_to_user": {"reputation": 934, "user_id": 4317250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvtAr.jpg?s=128&g=1", "display_name": "Steve Boyd", "link": "https://stackoverflow.com/users/4317250/steve-boyd"}, "edited": false, "score": 0, "creation_date": 1550702965, "post_id": 54796289, "comment_id": 96370847, "body": "@SteveBoyd Ah okay.  So the data-objects would just be containers essentially and not inherit anything.  Then the methods in the base class would refer to attributes of the data-object passed in the init method, rather than self."}], "answers": [{"tags": [], "owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "is_accepted": true, "score": 1, "last_activity_date": 1550703712, "creation_date": 1550703712, "answer_id": 54796627, "question_id": 54796289, "link": "https://stackoverflow.com/questions/54796289/sharing-attributes-between-child-and-parent-class-in-python/54796627#54796627", "title": "Sharing attributes between child and parent class in Python", "body": "<p>The object-oriented way of doing this would be for your base class Data to be an abstract base class that calls, for example, method get_column_names to get a list of column names. Subclass Provider1 would implement this method by returning the appropriate list ['A', 'B', 'C', 'D']. You would have, of course, one method to be overridden for each attribute that you are currently providing in subclasses. For example:</p>\n\n<pre><code>from abc import ABCMeta, abstractmethod\n\nclass Data(metaclass=ABCMeta):\n\n    def some_method(self):\n       self.column_names = self.get_column_names()\n\n    @abstractmethod\n    def get_column_names(self):\n        pass\n\n\nclass Provider1(Data):\n\n   def get_column_names(self):\n       return ['A', 'B', 'C', 'D']\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10256217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7393afcb7d6f6751991392d60c9c36c1?s=128&d=identicon&r=PG&f=1", "display_name": "Le Chase", "link": "https://stackoverflow.com/users/10256217/le-chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1441, "favorite_count": 0, "accepted_answer_id": 54796627, "answer_count": 1, "score": 1, "last_activity_date": 1550703712, "creation_date": 1550701939, "question_id": 54796289, "link": "https://stackoverflow.com/questions/54796289/sharing-attributes-between-child-and-parent-class-in-python", "title": "Sharing attributes between child and parent class in Python", "body": "<p>I am building a script that processes multiple data files from different providers.  Since the processing for each file is more or less identical, I decided to create a parent class 'Data' containing the methods for processing.  I figured this would make my code more organized, and if a new data source was added, it would be simple to add to the script.  </p>\n\n<p>While each file will undergo the same processing, they have different details -- directory, file format, encoding, column names, etc.  Each file has the same attributes, but their contents are obviously different.  These attributes are unchanging, but since there will likely be >30 attributes, I wanted to be able to hard code them in separate modules rather than pass them as aruguments to a new instance of the aforementioned 'Data' class.</p>\n\n<p>My first though was to create subclasses of the parent 'data' class for each file.  These subclasses would be in separate modules and have the attributes hard coded.  Below is a very stripped down example:</p>\n\n<pre><code>import pandas as pd\n\n\nclass Data:\n\n    def read_in(self):\n        self.df = pd.read_csv(self.input_path, names = self.column_names)\n\n    def arbitrary_process(self):\n        # code interacting with self.df and other variables from Provider1/Provider2\n\n    def save(self):\n        pd.to_csv(self.output_path)\n\nclass Provider1(Data):\n\n    input_path = \"provider1.txt\"\n    column_names = ['A', 'B', 'C', 'D']\n    # more variables will be here...\n    output_path = \"provider1_output.txt\"\n\n\nclass Provider2(Data):\n\n    path = \"provider2.txt\"\n    column_names = ['E', 'F', 'G', 'H']\n    # more variables will be here...\n    output_path = \"provider2_output.txt\"\n\n\nif __name__ == '__main__':\n\n    # processing...\n    data1 = Provider1\n    data2 = Provider2\n\n    data1.read_in()\n    data2.read_in()\n\n    data1.arbitrary_process()\n    data2.arbitrary_process()\n\n    data1.save()\n    data2.save()\n</code></pre>\n\n<p>Right off the bat, it doesn't feel proper to have methods in the parent class referencing attributes that are only defined in the children classes.  However, due to the large number of attributes, I wasn't sure if passing them as an argument to the parent's init method would be the best option.</p>\n\n<p>I'm sure there is a much more elegant solution to the problem, but it isn't jumping out at me.  A possible solution doesn't have to include inheritance, but my main goal is to be able to hard-code the details of the files I'll be processing.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "edited": false, "score": 0, "creation_date": 1550702602, "post_id": 54796284, "comment_id": 96370716, "body": "You could use <code>for x in range(0, 15):</code> instead of while and incrementing x.  What is your intention with the indexing? <code>&#39;newCol&#39;,x</code> becomes a tuple <code>(&#39;newcol&#39;, x)</code>. If you want a string, &#39;newcol&#39;+str(x) is your answer. You can list the keys for the dict with <code>df.loc.keys()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "is_accepted": true, "score": 1, "last_activity_date": 1550702701, "last_edit_date": 1550702701, "creation_date": 1550702313, "answer_id": 54796374, "question_id": 54796284, "link": "https://stackoverflow.com/questions/54796284/unable-to-access-dataframe-columns-that-were-created-in-while-loop/54796374#54796374", "title": "Unable to access dataframe columns that were created in while loop", "body": "<p>the <code>.loc</code> property if for indexing/slicing and possibly changing preexisting values using boolean indexing. If you want to create a new column I suggest doing it like this:</p>\n\n<pre><code>x = 0\nlabel = 'newColumn',x\nwhile x &lt; 15:\n    label = 'newCol',x\n    #creates a new column with label that includes x\n    #populates with 1 or 0\n\n# do this instead\n    df[label] = np.where((df.iloc[:,x] == 1) &amp; (df.iloc[:,x] == df.iloc[:,x+15]) &amp; (df.iloc[:,x] == df.iloc[:,x+30]), 1, 0)\n    #increment x\n    x = x+1\n</code></pre>\n\n<p>Your original method was actually adding an index to the rows, rather than a column. To avoid that you can use the above method.</p>\n\n<p>The next step, as mentioned by @alex-chojnacki, is that your <code>label</code> is a tuple and not a string, which could make it difficult to reference in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 451, "user_id": 3681820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1fdbea8c985bb2c665630ca0667f00?s=128&d=identicon&r=PG", "display_name": "Alex Chojnacki", "link": "https://stackoverflow.com/users/3681820/alex-chojnacki"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702395, "creation_date": 1550702395, "answer_id": 54796388, "question_id": 54796284, "link": "https://stackoverflow.com/questions/54796284/unable-to-access-dataframe-columns-that-were-created-in-while-loop/54796388#54796388", "title": "Unable to access dataframe columns that were created in while loop", "body": "<p>I believe you're issue is that <code>label = 'newColum',x</code> does not actually return a string, but a tuple. So the value of label, which you are using to index into the <code>df</code> is actually <code>(\"newCol\", 0)</code> on the first iteration.</p>\n\n<p>If you instead create the label as a string instead of a tuple, you should be okay. One way to do this would be <code>label = \"newCol\" + str(x)</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11092683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d50c66694f3da3d646d42ef267d59bcc?s=128&d=identicon&r=PG&f=1", "display_name": "joster", "link": "https://stackoverflow.com/users/11092683/joster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 54796374, "answer_count": 2, "score": 0, "last_activity_date": 1550702701, "creation_date": 1550701909, "question_id": 54796284, "link": "https://stackoverflow.com/questions/54796284/unable-to-access-dataframe-columns-that-were-created-in-while-loop", "title": "Unable to access dataframe columns that were created in while loop", "body": "<p>New to python/pandas, and I'm running into an issue when creating new columns within a loop.\nI want to create a new column in each iteration of the loop, and populate the column with 1(for yes) or 0(for no) based on whether or not three other values in the dataframe are all equal to 1. This should loop 15 times over a total of 45 columns, and produce 15 new columns labeled as <strong>'newCol' + a number</strong> from 0 to 14, from the loop.</p>\n\n<p>I want to create a new column every time I iterate through the loop, and label it with it's order # (the value of x as it runs through the loop) so I can track which columns have been checked against each other. </p>\n\n<pre><code>x = 0\nlabel = 'newColumn',x\nwhile x &lt; 15:\n    label = 'newCol',x\n    #creates a new column with label that includes x\n    #populates with 1 or 0\n    df.loc[label] = np.where((df.iloc[:,x] == 1) &amp; (df.iloc[:,x] == df.iloc[:,x+15]) &amp; (df.iloc[:,x] == df.iloc[:,x+30]), 1, 0)\n    #increment x\n    x = x+1\n</code></pre>\n\n<p>This ends up producing the columns if I view them with .info(), but I cannot access them through any indexing moving forward.</p>\n\n<p>Any help is much appreciated!!\nThanks</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1550702769, "post_id": 54796409, "comment_id": 96370778, "body": "This needs a lot of work to produce OP&#39;s expected output."}], "tags": [], "owner": {"reputation": 174, "user_id": 9685168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "aysegulpekel", "link": "https://stackoverflow.com/users/9685168/aysegulpekel"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702502, "creation_date": 1550702502, "answer_id": 54796409, "question_id": 54796261, "link": "https://stackoverflow.com/questions/54796261/how-to-concatenate-two-dataframes-based-on-matching-dates/54796409#54796409", "title": "How to concatenate two dataframes based on matching dates?", "body": "<p>Seems like merge needed instead a concat: </p>\n\n<pre><code>df3 = pd.merge(df1, df2, on='date', how='outer')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1550703442, "last_edit_date": 1550703442, "creation_date": 1550702657, "answer_id": 54796440, "question_id": 54796261, "link": "https://stackoverflow.com/questions/54796261/how-to-concatenate-two-dataframes-based-on-matching-dates/54796440#54796440", "title": "How to concatenate two dataframes based on matching dates?", "body": "<p>If you don't need the extra date column, this is as simple as a single <code>merge</code> call.</p>\n\n<pre><code>(df1.merge(df2, on='date', how='left', suffixes=('', '_y'))\n    .rename(lambda x: x.replace('_y', ''), axis=1))\n\n         date  magnitude  magnitude\n0  2001-03-06        4.7        NaN\n1  2001-03-20        4.7        4.8\n2  2001-03-30        4.9        5.0\n</code></pre>\n\n<hr>\n\n<p>To match your expected output, use <code>set_index</code> and <code>join</code> here:</p>\n\n<pre><code>u = (df1.set_index('date', drop=0)\n        .join(df2.set_index('date', drop=0), how='left', lsuffix='', rsuffix='_y')\n        .reset_index(drop=1))\nu.columns = u.columns.str.replace('_y', '')\nu\n\n         date  magnitude        date  magnitude\n0  2001-03-06        4.7         NaN        NaN\n1  2001-03-20        4.7  2001-03-20        4.8\n2  2001-03-30        4.9  2001-03-30        5.0\n</code></pre>\n"}], "owner": {"reputation": 1746, "user_id": 6440589, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EpQO9.jpg?s=128&g=1", "display_name": "Sheldon", "link": "https://stackoverflow.com/users/6440589/sheldon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 54796440, "answer_count": 2, "score": 1, "last_activity_date": 1550703442, "creation_date": 1550701800, "last_edit_date": 1550703360, "question_id": 54796261, "link": "https://stackoverflow.com/questions/54796261/how-to-concatenate-two-dataframes-based-on-matching-dates", "title": "How to concatenate two dataframes based on matching dates?", "body": "<p>I want to concatenate two earthquake catalogs stored as pandas dataframes.</p>\n\n<pre><code>import pandas as pd\n\nISC = {'my_index': [0,2,3], 'date': ['2001-03-06', '2001-03-20', '2001-03-30'], 'magnitude': [4.7,4.7,4.9]}\ndf1 = pd.DataFrame(data=ISC).set_index('my_index')\n\n\nUSGS = {'my_index': [1,4],'date': ['2001-03-20', '2001-03-30'], 'magnitude': [4.8,5]}\ndf2 = pd.DataFrame(data=USGS).set_index('my_index')\n</code></pre>\n\n<p>Here is catalog 1 (df1):</p>\n\n<pre><code>my_index        date  magnitude                 \n0         2001-03-06        4.7\n2         2001-03-20        4.7\n3         2001-03-30        4.9\n</code></pre>\n\n<p>And catalog 2 (df2):</p>\n\n<pre><code>my_index        date  magnitude                 \n1         2001-03-20        4.8\n4         2001-03-30        5.0\n</code></pre>\n\n<p>When concatenating both dataframes (<code>df3=pd.concat([df1,df2],axis=1,join='outer')</code>), this is what I get:</p>\n\n<pre><code>my_index        date  magnitude        date  magnitude                                       \n0         2001-03-06        4.7         NaN        NaN\n1                NaN        NaN  2001-03-20        4.8\n2         2001-03-20        4.7         NaN        NaN\n3         2001-03-30        4.9         NaN        NaN\n4                NaN        NaN  2001-03-30        5.0\n</code></pre>\n\n<p>However, after concatenation, I would like quakes happening on the same day to show up on the same line. This is my desired output:</p>\n\n<pre><code>index            date  magnitude        date  magnitude                                       \n0         2001-03-06        4.7         NaN        NaN \n1         2001-03-20        4.7  2001-03-20        4.8\n2         2001-03-30        4.9  2001-03-30        5.0\n</code></pre>\n\n<p>Any idea how can I achieve this result?</p>\n"}, {"tags": ["python", "subprocess", "phantomjs"], "answers": [{"comments": [{"owner": {"reputation": 2763, "user_id": 536538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dkOLN.jpg?s=128&g=1", "display_name": "Marc Maxmeister", "link": "https://stackoverflow.com/users/536538/marc-maxmeister"}, "edited": false, "score": 0, "creation_date": 1550706942, "post_id": 54796311, "comment_id": 96371991, "body": "I tried shell=True and it put me into a shell when debugging. Might it lead to the system hanging?   I&#39;ll try the os.system() method next."}], "tags": [], "owner": {"reputation": 1815, "user_id": 6356538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nQLie.png?s=128&g=1", "display_name": "Artsiom Praneuski", "link": "https://stackoverflow.com/users/6356538/artsiom-praneuski"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702060, "creation_date": 1550702060, "answer_id": 54796311, "question_id": 54796255, "link": "https://stackoverflow.com/questions/54796255/python-subprocess-wont-run-phantomjs-but-works-in-linux-command-line/54796311#54796311", "title": "python subprocess won&#39;t run phantomjs, but works in linux command line", "body": "<p>How about that</p>\n\n<pre><code>import subprocess\nphantomjs_call = '{0}phantomjs {0}thumbnails.js {1}'.format(phantomjspath, link)\nprint(subprocess.check_output(phantomjs_call), shell=True)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>import os\nphantomjs_call = '{0}phantomjs {0}thumbnails.js {1}'.format(phantomjspath, link)\nprint(os.system(phantomjs_call))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2763, "user_id": 536538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dkOLN.jpg?s=128&g=1", "display_name": "Marc Maxmeister", "link": "https://stackoverflow.com/users/536538/marc-maxmeister"}, "is_accepted": true, "score": 0, "last_activity_date": 1550720433, "creation_date": 1550720433, "answer_id": 54798897, "question_id": 54796255, "link": "https://stackoverflow.com/questions/54796255/python-subprocess-wont-run-phantomjs-but-works-in-linux-command-line/54798897#54798897", "title": "python subprocess won&#39;t run phantomjs, but works in linux command line", "body": "<p>So, after trying many different variations on <code>subprocess</code>, this is what worked with <code>phantomjs</code>: <code>subprocess32</code>!!!</p>\n\n<pre><code>    import subprocess32 # not the default version; this supports timeouts\n    for (_id, link) in link_list:        \n        phantomjs_call = u'{0}phantomjs {0}thumbnails.js {1} {2} {3} {4}'.format(phantomjspath, _id, link)\n        \"\"\"note: this generates a string like\n/home/phantomjs-2.1.1-linux-x86_64/bin/phantomjs \n/home/phantomjs-2.1.1-linux-x86_64/bin/thumbnails.js 51514 \n\"http://mysite/explore?viz=summary_text\"\n        \"\"\"\n        try:\n            process = subprocess32.Popen(phantomjs_call, shell=True, stdout=subprocess32.PIPE)\n            # make sure phantomjs has time to download/process all the pages in the list\n            # but if we get nothing after 180 sec, just move on\n        except Exception as e:\n            print(phantomjs_call)\n            print('Popen failed', e)\n\n        try:\n            output, errors = process.communicate(timeout=180)\n        except Exception as e:\n            if debug == True: \n                print(\"\\t\\tException: %s\" % e)\n            process.kill()\n            return \"\\t\\tException: {0}\".format(e)\n        # output will be weird, decode to utf-8 to save heartache\n        phantom_output = []\n        for out_line in output.splitlines():\n            phantom_output.append( out_line.decode('utf-8') )\n</code></pre>\n\n<p>This is python2.7 -- it's probably easier in python3, but saving it here because it took me a lot of trial and error to make subprocess32 work with phantomjs.</p>\n\n<p>Also - I didn't share the <code>thumnails.js</code> file but it's javascript that parses the command line inputs into phantomjs for as many urls as you want, and constructs filenames using those parameters. </p>\n"}], "owner": {"reputation": 2763, "user_id": 536538, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dkOLN.jpg?s=128&g=1", "display_name": "Marc Maxmeister", "link": "https://stackoverflow.com/users/536538/marc-maxmeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 54798897, "answer_count": 2, "score": 0, "last_activity_date": 1550720433, "creation_date": 1550701763, "question_id": 54796255, "link": "https://stackoverflow.com/questions/54796255/python-subprocess-wont-run-phantomjs-but-works-in-linux-command-line", "title": "python subprocess won&#39;t run phantomjs, but works in linux command line", "body": "<p>when I run this on CENTOS 7 server, it works from bash:</p>\n\n<pre><code>[myserver]$ /home/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /home/phantomjs-2.1.1-linux-x86_64/bin/thumbnails.js -3933029 91 q5975 \"http://mysite/explore?viz=summary_slider\"\nRendered 'http://mysite/explore?viz=summary_slider' at '/home/thumbnails/th-3933029c91q5975.png'\n</code></pre>\n\n<p>But if I do this in python, using subprocess, I get an error:</p>\n\n<pre><code>import subprocess\nphantomjs_call = u'{0}phantomjs {0}thumbnails.js {1}'.format(phantomjspath, link)\nrendered = subprocess.check_output(phantomjs_call.split())\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>/home/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /home/phantomjs-2.1.1-linux-x86_64/bin/thumbnails.js \"http://mysite/explore?viz=summary_checkbox\"\nUnable to render '\"http://mysite/explore?viz=summary_checkbox\"'\n</code></pre>\n\n<p>is there something weird about subprocess args? or the shell environment is not right? </p>\n\n<p>Next, I tweaked it and passed in the full string as one argument, then I got OSError: </p>\n\n<pre><code>rendered = subprocess.check_output(phantomjs_call)\n# didn't split this into multiple arguments\n&gt;&gt;&gt;[Errno 2] no such file or directory\"\n</code></pre>\n"}, {"tags": ["python", "macos", "pip", "homebrew"], "comments": [{"owner": {"reputation": 477, "user_id": 9204838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3982ccfe87d681c62fad41eeff18879c?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Azevedo", "link": "https://stackoverflow.com/users/9204838/carlos-azevedo"}, "edited": false, "score": 0, "creation_date": 1550707135, "post_id": 54796248, "comment_id": 96372039, "body": "try this out <a href=\"https://gis.stackexchange.com/questions/28966/python-gdal-package-missing-header-file-when-installing-via-pip\" title=\"python gdal package missing header file when installing via pip\">gis.stackexchange.com/questions/28966/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 7632019, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3c2a93f74a51302400f22ed476eb4c79?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano", "link": "https://stackoverflow.com/users/7632019/luciano"}, "edited": false, "score": 0, "creation_date": 1550706974, "post_id": 54797027, "comment_id": 96371995, "body": "Oh I see. But when i run <code>pip install gdal</code>, I get a fatal error saying <code>#include &lt;stdexcept&gt;</code> was not found in <code>extensions&#47;gdal_wrap.cpp</code>."}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 2, "last_activity_date": 1550706311, "creation_date": 1550706311, "answer_id": 54797027, "question_id": 54796248, "link": "https://stackoverflow.com/questions/54796248/how-to-make-pip-see-packages-installed-with-homebrew/54797027#54797027", "title": "How to make pip see packages installed with homebrew?", "body": "<p>The command <code>brew install gdal</code> doesn't install a python package \u2014 it installs GDAL library. After that you still have to install Python wrapper by running <code>pip install gdal</code>.</p>\n"}], "owner": {"reputation": 307, "user_id": 7632019, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3c2a93f74a51302400f22ed476eb4c79?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano", "link": "https://stackoverflow.com/users/7632019/luciano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 54797027, "answer_count": 1, "score": 2, "last_activity_date": 1550706311, "creation_date": 1550701728, "question_id": 54796248, "link": "https://stackoverflow.com/questions/54796248/how-to-make-pip-see-packages-installed-with-homebrew", "title": "How to make pip see packages installed with homebrew?", "body": "<p>I was having trouble installing a Python package with pip. <code>pip install gdal</code> failed so instead I tried installing with homebrew as suggested <a href=\"https://stackoverflow.com/questions/44898463/unable-to-install-gdal-in-python-3-6-1-in-macos-sierra\">here</a>, running <code>brew install gdal</code>. This worked, but pip doesn't know the package exists, so it tries to install it when installing a package that depends on it. I want pip to be able to use packages installed by brew. My computer runs MacOS 10.14 and I'm using Python 3 with pip 19.0.3 and Homebrew 2.0.2</p>\n"}, {"tags": ["python", "machine-learning", "svm", "python-multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550765738, "post_id": 54810340, "comment_id": 96399938, "body": "I tried that using: <code>data = class_name.perform_model_transformation(model, transformed_data)      chunk_size = len(data) &#47;&#47; cores + cores     chunks = [df_chunk for g, df_chunk in data.groupby(np.arange(len(data)) &#47;&#47; chunk_size)]     labelled_data = class_name.perform_model_predictions(model, chunks, cores) </code> and I got the same error:  <code>sparse matrix length is ambiguous; use getnnz() or shape[0]</code>"}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "reply_to_user": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550766198, "post_id": 54810340, "comment_id": 96400259, "body": "The error is coming from your <code>predict</code> code and we have no idea what&#39;s happening there, Your original code was incorrect as it was passing a dataframe where iterable element is expected. Copy &amp; paste my code to see that it works. Adjust <code>predict</code> code that it works with the dataframe."}, {"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550766504, "post_id": 54810340, "comment_id": 96400478, "body": "For reference: the type of <code>data</code> is:  &lt;class &#39;scipy.sparse.csr.csr_matrix&#39;&gt; and the shape is <code>(49, 800)</code>"}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "reply_to_user": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550766657, "post_id": 54810340, "comment_id": 96400563, "body": "Then your title and text is misleading, as it makes people think you&#39;re using dataframes. You can use the same logic as presented here to chop the matrix into smaller chunks."}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "reply_to_user": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550768449, "post_id": 54810340, "comment_id": 96401629, "body": "@YihanBao is clear to you how to chop your matrix in chunks?"}, {"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550778059, "post_id": 54810340, "comment_id": 96406376, "body": "Yes. I made the matrix into a <code>dataframe</code> and it works. The issue now is that when I do the same thing for <code>predict_proba</code> I get that: <code>Can&#39;t pickle &lt;function OneVsRestClassifier.predict_proba at 0x14b1d9730&gt;: it&#39;s not the same object as sklearn.multiclass.OneVsRestClassifier.predict_proba</code>"}, {"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550778181, "post_id": 54810340, "comment_id": 96406435, "body": "To clarify, when I run <code>predict_proba</code> without chunks (and without multiprocessing) I get the correct behavior"}, {"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550779217, "post_id": 54810340, "comment_id": 96406962, "body": "<a href=\"https://stackoverflow.com/questions/54815305/multiprocessing-using-chunks-does-not-work-with-predict-proba\" title=\"multiprocessing using chunks does not work with predict proba\">stackoverflow.com/questions/54815305/&hellip;</a> for more information"}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "reply_to_user": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550779221, "post_id": 54810340, "comment_id": 96406968, "body": "Can you paste your code that shows how you split sparse matrix into chunks?"}, {"owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550779381, "post_id": 54810340, "comment_id": 96407051, "body": "<code>vectorized_data = pd.DataFrame(vectorized_data.toarray())</code> as stated, it&#39;s working for <code>predict</code> but not for <code>predict_proba</code>"}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "reply_to_user": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "edited": false, "score": 0, "creation_date": 1550782367, "post_id": 54810340, "comment_id": 96408362, "body": "I can have a look at the other question (it&#39;s good that you did not try to put it here), but let&#39;s first close (accept?) this one."}], "tags": [], "owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "is_accepted": true, "score": 2, "last_activity_date": 1550762001, "creation_date": 1550762001, "answer_id": 54810340, "question_id": 54796244, "link": "https://stackoverflow.com/questions/54796244/multiprocessing-on-a-model-with-data-frame-as-input/54810340#54810340", "title": "Multiprocessing on a model with data frame as input", "body": "<p>The trick is to split your dataframe into chunks. <code>map</code> expects a list of objects that are going to be processed by the <code>model.predict</code>. Here's a full working example, with model obviously mocked:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nfrom multiprocessing import Pool\n\nno_cores = 4\n\nlarge_df = pd.concat([pd.Series(np.random.rand(1111)), pd.Series(np.random.rand(1111))], axis = 1)\nchunk_size = len(large_df) // no_cores + no_cores\nchunks = [df_chunk for g, df_chunk in large_df.groupby(np.arange(len(large_df)) // chunk_size)]\n\nclass model(object):\n    @staticmethod\n    def predict(df):\n        return np.random.randint(0,2)\n\ndef perform_model_predictions(model, dataFrame, cores): \n    try:\n        with Pool(processes=cores) as pool:\n            result = pool.map(model.predict, dataFrame)\n            return result\n        # return model.predict(dataFrame)\n    except AttributeError:\n        logging.error(\"AttributeError occurred\", exc_info=True)\n\nperform_model_predictions(model, chunks, no_cores)\n</code></pre>\n\n<p>Mind that the number of chunks here is selected such that it matches number of cores (or simply any number you want to allocate). This way each core gets a fair share and <code>multiprocessing</code> does not spend much time on object serialization.</p>\n\n<p>If you'd like to process each row (<code>pd.Series</code>) separately, time spent on serialization could be a concern. In such case I'd recommend using <code>joblib</code> and reading docs on its various backends. I did not write on it as it seemed you want to call predict on <code>pd.Dataframe</code>.</p>\n\n<p><strong>Extra warning</strong></p>\n\n<p>It can happen that <code>multiprocessing</code>, instead of getting you better performance, will make it worse. It happens in rather rare situations when your <code>model.predict</code> calls external modules that themselves spawn threads. I wrote about the issue <a href=\"https://stackoverflow.com/questions/54731815/multiprocessing-pool-slow-when-calling-external-module/54756707#54756707\">here</a>. Long story short, <code>joblib</code> again could be an answer.</p>\n"}], "owner": {"reputation": 143, "user_id": 8761448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bde0423b06d5345eb3e05ce68679f67?s=128&d=identicon&r=PG&f=1", "display_name": "YihanBao", "link": "https://stackoverflow.com/users/8761448/yihanbao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 3, "accepted_answer_id": 54810340, "answer_count": 1, "score": 5, "last_activity_date": 1550762001, "creation_date": 1550701714, "question_id": 54796244, "link": "https://stackoverflow.com/questions/54796244/multiprocessing-on-a-model-with-data-frame-as-input", "title": "Multiprocessing on a model with data frame as input", "body": "<p>I want to use multiprocessing on a model to get predictions using a data frame as input. I have the following code:</p>\n\n<pre><code>def perform_model_predictions(model, dataFrame, cores=4): \n    try:\n        with Pool(processes=cores) as pool:\n            result = pool.map(model.predict, dataFrame)\n            return result\n        # return model.predict(dataFrame)\n    except AttributeError:\n        logging.error(\"AttributeError occurred\", exc_info=True)\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>raise TypeError(\"sparse matrix length is ambiguous; use getnnz()\"\nTypeError: sparse matrix length is ambiguous; use getnnz() or shape[0]\n</code></pre>\n\n<p>I think the issue is with the fact that I'm passing in a data frame as the second parameter to the <code>pool.map</code> function. Any advice or help would be appreciated. </p>\n"}, {"tags": ["python", "sqlalchemy", "alembic"], "comments": [{"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1550709622, "post_id": 54796150, "comment_id": 96372625, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49902843/avoid-parameter-binding-when-executing-query-with-sqlalchemy\">Avoid Parameter Binding When Executing Query with SQLAlchemy</a>"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1550730087, "post_id": 54796150, "comment_id": 96377894, "body": "Please include a sample of the SQL you&#39;re trying to execute, and how you&#39;re executing it."}], "owner": {"reputation": 2511, "user_id": 45051, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a4b2b38692b6be2b197693daf469329?s=128&d=identicon&r=PG", "display_name": "jennykwan", "link": "https://stackoverflow.com/users/45051/jennykwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550701319, "creation_date": 1550701319, "question_id": 54796150, "link": "https://stackoverflow.com/questions/54796150/executing-truly-raw-sql-in-sqlalchemy-in-python", "title": "Executing Truly Raw SQL in SQLAlchemy in Python", "body": "<p>I have data I'm loading into PostgreSQL with SQLAlchemy Core. The data is in SQL. It contains JSON which looks like the param syntax in SQLAlchemy, i.e. <code>:foo</code>.</p>\n\n<p>How do I execute the SQL in a way that's truly raw, i.e. with no parsing of its contents for params or anything else?</p>\n\n<p>Alternately, how do I escape the string to get the literals into PostgreSQL around the SQLAlchemy <code>text()</code> parser?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 7, "creation_date": 1550701234, "post_id": 54796119, "comment_id": 96370242, "body": "Presumably the folks building the API don&#39;t want to guarantee that parameters&#39; names/positions will be stable across API versions (if a user <i>can</i> pass arguments positionally, then an API&#39;s authors can&#39;t reorder those positions without it being a non-backwards-compatible change that forces a new major version number when following <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semver</a>). Throwing an error when someone passes positional parameters is a way to accomplish that, even if this isn&#39;t a robust mechanism for doing so as is possible."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550701304, "post_id": 54796119, "comment_id": 96370266, "body": "See <a href=\"https://www.python.org/dev/peps/pep-3102/\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-3102</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550701310, "post_id": 54796119, "comment_id": 96370271, "body": "@CharlesDuffy: More likely, they don&#39;t want people relying on parameters&#39; <i>positions</i>. After all, with positional arguments heavily discouraged this way, people have to rely on parameter names even more."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1550701321, "post_id": 54796119, "comment_id": 96370274, "body": "@user2357112, that&#39;s what I thought I was saying."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1550701478, "post_id": 54796119, "comment_id": 96370330, "body": "@JosepJoestar, ...so, when you do something like add an explicit <code>None</code>, you&#39;re going out of the way to defeat the API authors&#39; clear intent, so it&#39;s your fault and not theirs if a minor version breaks your code&#39;s compatibility with their API. Think of it as a human-communication thing, not a technical issue."}, {"owner": {"reputation": 1457, "user_id": 6276241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f64f62cb877130d0f4e0b036c2cdfd12?s=128&d=identicon&r=PG", "display_name": "jdecid", "link": "https://stackoverflow.com/users/6276241/jdecid"}, "edited": false, "score": 0, "creation_date": 1550702056, "post_id": 54796119, "comment_id": 96370533, "body": "I was not saying that this was an issue, just wondering why to prevent this behaviours. Thanks anyway!"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550703797, "post_id": 54796119, "comment_id": 96371138, "body": "I didn&#39;t interpret you as &quot;saying that this was an issue&quot;. (Also not sure which value of &quot;this&quot; you&#39;re referring to). My above comments are focused only on answering the &quot;why&quot; question you asked."}], "answers": [{"tags": [], "owner": {"reputation": 10550, "user_id": 633094, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8FbW8.jpg?s=128&g=1", "display_name": "munk", "link": "https://stackoverflow.com/users/633094/munk"}, "is_accepted": true, "score": 4, "last_activity_date": 1550702131, "last_edit_date": 1550702131, "creation_date": 1550701709, "answer_id": 54796242, "question_id": 54796119, "link": "https://stackoverflow.com/questions/54796119/why-would-an-api-author-prevent-positional-parameters-in-python/54796242#54796242", "title": "Why would an API author prevent positional parameters in Python?", "body": "<p>Positional parameters couple the caller and receiver on the order of the parameters. It makes refactoring the order of the reciver's parameters more difficult.</p>\n\n<p>For example, if I have</p>\n\n<pre><code>def foo(a, b, c):\n    do_stuff(a,b,c)\n</code></pre>\n\n<p>and I decide, for reasons, perhaps I want to make a partial function or whatever, that it would be better to have</p>\n\n<pre><code>def foo(b, a, c):\n   do_stuff(a,b,c)\n</code></pre>\n\n<p>But now I have callers in the wild and it would be very rude to change my contract, so I'm stuck.</p>\n\n<p>Sandi Metz in <em>Practical Object-Oriented Design in Ruby</em> also addresses this. (I know this is python, but oop is oop)</p>\n\n<blockquote>\n  <p>When the code [is changed to use keyword arguments], it lost its dependency\n  on argument order but it gained a dependency on the names of the keys\n  in the [keyword arguments]. This change is healthy. The new dependency is\n  more stable than the old, and thus this code faces less risk of being\n  forced to change. Additionally, and perhaps unexpectedly, the [keywords]\n  provides one new, secondary benefit: The key names in the hash furnish\n  explicit documentation about the arguments. This is a byproduct of\n  using a hash but the fact that it is unintentional makes it no less\n  useful. Future maintainers of this code will be grateful for the\n  information.</p>\n</blockquote>\n\n<p>Keyword arguments are also nice if you have a lot of parameters. Order is easy to get wrong. It may also make a nicer API in the opinion of the authors.</p>\n\n<p><a href=\"https://www.python.org/dev/peps/pep-3102/\" rel=\"nofollow noreferrer\">PEP-3102</a> also addresses this, but I find the rationale unsatisfying from the perspective of \"why would I choose to design something like this\"</p>\n\n<blockquote>\n  <p>The current Python function-calling paradigm allows arguments to be\n  specified either by position or by keyword. An argument can be filled\n  in either explicitly by name, or implicitly by position.</p>\n  \n  <p>There are often cases where it is desirable for a function to take a\n  variable number of arguments. The Python language supports this using\n  the 'varargs' syntax (*name), which specifies that any 'left over'\n  arguments be passed into the varargs parameter as a tuple.</p>\n  \n  <p>One limitation on this is that currently, all of the regular argument\n  slots must be filled before the vararg slot can be.</p>\n  \n  <p>This is not always desirable. One can easily envision a function which\n  takes a variable number of arguments, but also takes one or more\n  'options' in the form of keyword arguments. Currently, the only way to\n  do this is to define both a varargs argument, and a 'keywords'\n  argument (**kwargs), and then manually extract the desired keywords\n  from the dictionary.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 24687, "user_id": 70157, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/da0a70a59c1e428c7780aa1cdc7a26d2?s=128&d=identicon&r=PG", "display_name": "bignose", "link": "https://stackoverflow.com/users/70157/bignose"}, "is_accepted": false, "score": 0, "last_activity_date": 1550900562, "last_edit_date": 1550900562, "creation_date": 1550701965, "answer_id": 54796292, "question_id": 54796119, "link": "https://stackoverflow.com/questions/54796119/why-would-an-api-author-prevent-positional-parameters-in-python/54796292#54796292", "title": "Why would an API author prevent positional parameters in Python?", "body": "<p>First, a caveat that I can't know the intention of the person who wrote that. However, I can offer reason why \u201cprevent positional parameters\u201d might be desirable.</p>\n\n<p>It's often important that a parameter be <em>keyword-only</em>, that is, it must be used only by name. The parameter is not conceptually an input to the function's purpose; it's more a modifier (change the behaviour in this way), or an external resource (here is the log file to emit your messages to), etc.</p>\n\n<p>For that reason, Python 3 now allows you to define, in the signature of the function, specific parameters as keyword-only parameters. The change is documented in <a href=\"https://www.python.org/dev/peps/pep-3102/\" rel=\"nofollow noreferrer\">PEP 3102 Keyword-only arguments</a> along with rationale.</p>\n"}, {"tags": [], "owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702130, "creation_date": 1550702130, "answer_id": 54796330, "question_id": 54796119, "link": "https://stackoverflow.com/questions/54796119/why-would-an-api-author-prevent-positional-parameters-in-python/54796330#54796330", "title": "Why would an API author prevent positional parameters in Python?", "body": "<p>What is the use for <a href=\"https://www.python.org/dev/peps/pep-3102/\" rel=\"nofollow noreferrer\">keyword only parameters</a>:</p>\n\n<ol>\n<li>For some function, it is impossible to do otherwise (ex: <code>print(a, b, end='')</code>)</li>\n<li>It prevents you from making silly mistakes, consider the following example:</li>\n</ol>\n\n<pre><code># if it wasn't made with kw-only parameters, this would return 3\n&gt;&gt;&gt; sorted(3, 1)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: sorted expected 1 arguments, got 2\n&gt;&gt;&gt; sorted((1,2), reverse=True)\n[2, 1]\n</code></pre>\n\n<ol start=\"3\">\n<li>It allows you to change things later:</li>\n</ol>\n\n<pre><code># if\ndef sorted(iterable, reverse=False)\n# becomes\ndef sorted(iterable, key=None, reverse=False)\n# you can guarantee backwards compatibility\n</code></pre>\n"}], "owner": {"reputation": 1457, "user_id": 6276241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f64f62cb877130d0f4e0b036c2cdfd12?s=128&d=identicon&r=PG", "display_name": "jdecid", "link": "https://stackoverflow.com/users/6276241/jdecid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 54796242, "answer_count": 3, "score": 1, "last_activity_date": 1550900562, "creation_date": 1550701161, "last_edit_date": 1550701575, "question_id": 54796119, "link": "https://stackoverflow.com/questions/54796119/why-would-an-api-author-prevent-positional-parameters-in-python", "title": "Why would an API author prevent positional parameters in Python?", "body": "<p>Implementing some Neural Network with tensorflow, I've faced a method which parameters have took my attention. I'm talking about <code>tf.nn.sigmoid_cross_entropy_with_logits</code> (Documentation <a href=\"https://www.tensorflow.org/api_docs/python/tf/nn/sigmoid_cross_entropy_with_logits\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>The first parameter it receives as first parameter <code>_sentinel=None</code> which, according to the documentation:</p>\n\n<blockquote>\n  <p>_sentinel: Used to prevent positional parameters. Internal, do not use.</p>\n</blockquote>\n\n<p>I understand that by having this parameter, next ones have to be <em>named</em> instead of <em>positional</em> is this one don't have to be used, but my question is. In which cases does <strong>prevent positional parameters have some benefit</strong>? What is their main goal to use this? Because I could also run</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>tf.nn.sigmoid_cross_entropy_with_logits(None, my_labels, my_logits)\n</code></pre>\n\n<p>being all arguments positional. Anyway, I want to clarify that my question is not focused in TensorFlow, it's just the example that I have found.</p>\n"}, {"tags": ["python", "arrays", "numpy", "range"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 5, "last_activity_date": 1550701859, "last_edit_date": 1550701859, "creation_date": 1550701549, "answer_id": 54796200, "question_id": 54796103, "link": "https://stackoverflow.com/questions/54796103/more-pythonic-elegant-way-to-fill-a-2d-array-with-sequences-of-integers/54796200#54796200", "title": "More Pythonic / elegant way to fill a 2D array with sequences of integers?", "body": "<p>How about <a href=\"https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.ogrid.html#numpy.ogrid\" rel=\"nofollow noreferrer\"><code>np.ogrid</code></a>?</p>\n\n<pre><code>np.add(*np.ogrid[:60:10, :6]) \n\n# array([[ 0,  1,  2,  3,  4,  5],\n#        [10, 11, 12, 13, 14, 15],\n#        [20, 21, 22, 23, 24, 25],\n#        [30, 31, 32, 33, 34, 35],\n#        [40, 41, 42, 43, 44, 45],\n#        [50, 51, 52, 53, 54, 55]])\n</code></pre>\n\n<p><strong>Details</strong><br>\n<code>ogrid</code> returns an open meshgrid:</p>\n\n<pre><code>a, b = np.ogrid[:60:10, :6]\na\n\n# array([[ 0],\n#        [10],\n#        [20],\n#        [30],\n#        [40],\n#        [50]])\n\nb\n# array([[0, 1, 2, 3, 4, 5]])\n</code></pre>\n\n<p>You can then perform broadcasted addition:</p>\n\n<pre><code># a + b\nnp.add(a, b)\n\n# array([[ 0,  1,  2,  3,  4,  5],\n#        [10, 11, 12, 13, 14, 15],\n#        [20, 21, 22, 23, 24, 25],\n#        [30, 31, 32, 33, 34, 35],\n#        [40, 41, 42, 43, 44, 45],\n#        [50, 51, 52, 53, 54, 55]])\n</code></pre>\n\n<hr>\n\n<p>Similarly, you can also generate two ranges using <code>np.arange</code> and add them:</p>\n\n<pre><code>np.arange(0, 60, 10)[:,None] + np.arange(6)\n\n# array([[ 0,  1,  2,  3,  4,  5],\n#        [10, 11, 12, 13, 14, 15],\n#        [20, 21, 22, 23, 24, 25],\n#        [30, 31, 32, 33, 34, 35],\n#        [40, 41, 42, 43, 44, 45],\n#        [50, 51, 52, 53, 54, 55]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 1739684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ec760db482807e919e782626a1ab56?s=128&d=identicon&r=PG", "display_name": "JZL", "link": "https://stackoverflow.com/users/1739684/jzl"}, "edited": false, "score": 0, "creation_date": 1550703932, "post_id": 54796208, "comment_id": 96371183, "body": "Fascinating solution.  Thanks so much!"}], "tags": [], "owner": {"reputation": 2352, "user_id": 5754992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/953dd1892c726ceecc7f0240e982e11f?s=128&d=identicon&r=PG&f=1", "display_name": "user2699", "link": "https://stackoverflow.com/users/5754992/user2699"}, "is_accepted": false, "score": 3, "last_activity_date": 1550701586, "creation_date": 1550701586, "answer_id": 54796208, "question_id": 54796103, "link": "https://stackoverflow.com/questions/54796103/more-pythonic-elegant-way-to-fill-a-2d-array-with-sequences-of-integers/54796208#54796208", "title": "More Pythonic / elegant way to fill a 2D array with sequences of integers?", "body": "<p>This can be accomplished with broadcasting, </p>\n\n<pre><code>arange(0, 6) + 10*arange(0, 6)[:, None]\n\narray([[ 0,  1,  2,  3,  4,  5],\n   [10, 11, 12, 13, 14, 15],\n   [20, 21, 22, 23, 24, 25],\n   [30, 31, 32, 33, 34, 35],\n   [40, 41, 42, 43, 44, 45],\n   [50, 51, 52, 53, 54, 55]])\n</code></pre>\n\n<p>I'd recommend reading <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html</a> and <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html</a>.  \"Pythonic\" doesn't really matter when working with numpy.  Some times iterating, list comprehensions, and other pythonic approaches work well with arrays, other times they are terribly inefficient.  However, the links given cover some high level concepts that are very powerfull with numpy.</p>\n"}], "owner": {"reputation": 53, "user_id": 1739684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ec760db482807e919e782626a1ab56?s=128&d=identicon&r=PG", "display_name": "JZL", "link": "https://stackoverflow.com/users/1739684/jzl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54796200, "answer_count": 2, "score": 2, "last_activity_date": 1588251448, "creation_date": 1550701084, "last_edit_date": 1588251448, "question_id": 54796103, "link": "https://stackoverflow.com/questions/54796103/more-pythonic-elegant-way-to-fill-a-2d-array-with-sequences-of-integers", "title": "More Pythonic / elegant way to fill a 2D array with sequences of integers?", "body": "<p>I want to create a 6x6 numpy matrix, with the first row filled with: <code>0, 1, ..., 5</code>, the second row filled with <code>10, 11, ... , 15</code>, and the last row filled with <code>50, 51, ... , 55</code>.</p>\n\n<p>I thought about using <em>(1)</em> nested (two layer) list comprehensions, and then converting list-of-list into a <code>numpy.matrix</code> object, or <em>(2)</em> using variables inside of <code>range</code> function, i.e. - <code>range(x)</code> and vary <code>x</code> from 1 to 6.  I was not able to get either of these two ideas to work.</p>\n\n<p>Below is my non-vectorized / looping code to construct this matrix.  Is there a more Pythonic way of doing this?</p>\n\n<pre><code>a = np.zeros((6,6))\nfor i in range(6):\n    for j in range(6):\n        a[i,j] = 10*i + j\nprint(a)\n</code></pre>\n\n<p>(This is one of the examples given at 39:00 in the intro video to <code>NumPy</code> on Youtube:\n<a href=\"https://youtu.be/V0D2mhVt7NE?t=2341\" rel=\"nofollow noreferrer\">Intro to Numerical Computing with NumPy</a></p>\n"}, {"tags": ["python", "python-3.x", "pandas", "csv", "export-to-csv"], "comments": [{"owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "edited": false, "score": 0, "creation_date": 1550702036, "post_id": 54796098, "comment_id": 96370528, "body": "What have you tried? Also, I recommend not defining a function inside a for-loop. Do it outside and then call the function inside the loop."}], "answers": [{"tags": [], "owner": {"reputation": 3204, "user_id": 6286540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec8c5fdeb86a51c222e55aaaba1d242?s=128&d=identicon&r=PG&f=1", "display_name": "Toby Petty", "link": "https://stackoverflow.com/users/6286540/toby-petty"}, "is_accepted": true, "score": 2, "last_activity_date": 1550702076, "creation_date": 1550702076, "answer_id": 54796313, "question_id": 54796098, "link": "https://stackoverflow.com/questions/54796098/output-multiple-pandas-dataframes-to-csv-with-custom-name/54796313#54796313", "title": "Output multiple pandas DataFrames to CSV with custom name", "body": "<p>If you want to customize the CSV names you could store your DFs in a dict with the key as the CSV name, e.g.:</p>\n\n<pre><code>dfs = {\"df1 name\":df1, \"df2 name\":df2}  # ..etc\n\nfor k, v in dfs.items():\n    v.to_csv('./{}.csv'.format(k)))\n</code></pre>\n"}], "owner": {"reputation": 1432, "user_id": 8797830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4fcb3728cc624f1a3f54e7842f8b200?s=128&d=identicon&r=PG&f=1", "display_name": "Chris90", "link": "https://stackoverflow.com/users/8797830/chris90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 54796313, "answer_count": 1, "score": 4, "last_activity_date": 1550704743, "creation_date": 1550701077, "last_edit_date": 1550704743, "question_id": 54796098, "link": "https://stackoverflow.com/questions/54796098/output-multiple-pandas-dataframes-to-csv-with-custom-name", "title": "Output multiple pandas DataFrames to CSV with custom name", "body": "<p>I am trying to output multiple csvs from a function - but also name the csv per the name of the <code>df</code>.</p>\n\n<pre><code>dfs = ( df1, df2 , df3 , df4)\n\nfor df in dfs:\n\n    def to_csvs(df, 'df name as csv name'):\n        df.to_csv('example.csv')\n        return df\n</code></pre>\n\n<p>I want to use a loop to feed in my multiple <code>dfs</code> and have a parameter in the function input that would name the <code>csv</code> output as well - is that possible?</p>\n"}, {"tags": ["python", "pyqt", "size", "pyqt5"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1550714186, "post_id": 54796096, "comment_id": 96373619, "body": "As you realize, the geometry is updated only when necessary, that is, when it becomes visible, it observes the error. On the other hand you point out that you want both buttons to have the same height, but when using the QHBoxLayout that should not be a problem since that layout will make the buttons always have the same height. what&#39;s your objective?"}, {"owner": {"reputation": 2244, "user_id": 3620725, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/749c22fd1dcdd6dee46a001ed2ce140c?s=128&d=identicon&r=PG&f=1", "display_name": "Esostack", "link": "https://stackoverflow.com/users/3620725/esostack"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1550717135, "post_id": 54796096, "comment_id": 96374315, "body": "@eyllanesc My actual objective was a lot more complicated, this is just a minimal example. I have a QVBoxLayout full of QHBoxLayouts and I need to align certain items in them along a vertical line. To do that I&#39;m using spacers set to a fixed width calculated based on the size of the item being aligned and the items before it. The issue was that some items&#39; sizeHints are overridden to a fixed size. S. Nick&#39;s answer helped, just needed to call resize() in addition to setting the fixed width before calling size()"}], "answers": [{"tags": [], "owner": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "is_accepted": true, "score": 1, "last_activity_date": 1550710601, "last_edit_date": 1592644375, "creation_date": 1550710601, "answer_id": 54797618, "question_id": 54796096, "link": "https://stackoverflow.com/questions/54796096/pyqt-size-returns-wrong-size-before-showing-the-widget/54797618#54797618", "title": "PyQt size() returns wrong size before showing the widget?", "body": "<blockquote>\n<p>void QWidget::resize(int w, int h)</p>\n<p>This corresponds to resize(QSize(w, h)).\nNote: Setter function for property size.</p>\n</blockquote>\n<pre><code>import sys\nfrom PyQt5 import QtWidgets\nfrom PyQt5.QtCore import QSize\nimport random\n\nclass MyButton(QtWidgets.QPushButton):\n    def __init__(self):\n        super().__init__(&quot;BUTTON1&quot;)\n\n    def sizeHint(self):\n        return QSize(100, 100)\n\nif __name__=='__main__':\n\n    app = QtWidgets.QApplication(sys.argv)\n\n    # Button with sizeHint 100x100\n    btn1 = MyButton()\n    btn1.resize(btn1.sizeHint())                            # &lt;========\n\n# There is a chance this button will be sized differently than its sizeHint wants\n#    if random.randint(0, 1):\n#        btn1.setFixedHeight(200)\n#        print(&quot;btn1 2-&gt;&quot;, btn1.size())\n\n    # This line works if btn1.setFixedHeight was called, but otherwise gives the wrong height of 480px\n    height = btn1.size().height()\n\n    # I want btn2 to be the same height as btn1\n    btn2 = QtWidgets.QPushButton(&quot;BUTTON2&quot;)\n    btn2.setFixedHeight(height)\n\n    # Boilerplate\n    layout = QtWidgets.QHBoxLayout()\n    layout.addWidget(btn1)\n    layout.addWidget(btn2)\n    container = QtWidgets.QWidget()\n    container.setLayout(layout)\n    container.show()\n    sys.exit(app.exec_())\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xIlAg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xIlAg.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 2244, "user_id": 3620725, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/749c22fd1dcdd6dee46a001ed2ce140c?s=128&d=identicon&r=PG&f=1", "display_name": "Esostack", "link": "https://stackoverflow.com/users/3620725/esostack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "accepted_answer_id": 54797618, "answer_count": 1, "score": 0, "last_activity_date": 1550710601, "creation_date": 1550701070, "question_id": 54796096, "link": "https://stackoverflow.com/questions/54796096/pyqt-size-returns-wrong-size-before-showing-the-widget", "title": "PyQt size() returns wrong size before showing the widget?", "body": "<p>I am trying to match the size of button1 to button2 by checking the size of button1 and then setting the size of button2 to match, but <code>size()</code> on button1 returns the incorrect value of (640, 480) unless I <code>show()</code> it first. But if I show it before I am done setting up my layouts it flickers on the screen while subsequent code runs which I don't want.</p>\n\n<p>How can I get around this?</p>\n\n<p>Here is a minimal example:</p>\n\n<pre><code>import sys\nfrom PyQt5 import QtWidgets\nfrom PyQt5.QtCore import QSize\nimport random\n\nclass MyButton(QtWidgets.QPushButton):\n    def __init__(self):\n        super().__init__(\"BUTTON1\")\n\n    def sizeHint(self):\n        return QSize(100,100)\n\nif __name__=='__main__':\n\n    app = QtWidgets.QApplication(sys.argv)\n\n    # Button with sizeHint 100x100\n    btn1 = MyButton()\n\n    # There is a chance this button will be sized differently than its sizeHint wants\n    if random.randint(0, 1):\n        btn1.setFixedHeight(200)\n\n    # This line works if btn1.setFixedHeight was called, but otherwise gives the wrong height of 480px\n    height = btn1.size().height()\n\n    # I want btn2 to be the same height as btn1\n    btn2 = QtWidgets.QPushButton(\"BUTTON2\")\n    btn2.setFixedHeight(height)\n\n    # Boilerplate\n    layout = QtWidgets.QHBoxLayout()\n    layout.addWidget(btn1)\n    layout.addWidget(btn2)\n    container = QtWidgets.QWidget()\n    container.setLayout(layout)\n    container.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1550701483, "post_id": 54796089, "comment_id": 96370335, "body": "It seems to me after a brief glance that you are calling <code>ball.dx += 1</code>, but you are also reversing the direction each hit, so when hit one way it should be <code>ball.dx -= 1</code> instead. This would explain why it &quot;goes back to normal speed&quot;..."}, {"owner": {"reputation": 49, "user_id": 11092619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd9bc1c89db7c6f115366447887291b?s=128&d=identicon&r=PG&f=1", "display_name": "ledinos1", "link": "https://stackoverflow.com/users/11092619/ledinos1"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1550702237, "post_id": 54796089, "comment_id": 96370600, "body": "Thanks vmuch! That was a small detail and I could not figure it out. It works fine now and also comes back to normal speed - I&#39;ve added ball.dx = 0.15 and ball.dx = -0.15 to border checking. It makes sense for me but I still do not understand why the value for speed is minus."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 11092619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd9bc1c89db7c6f115366447887291b?s=128&d=identicon&r=PG&f=1", "display_name": "ledinos1", "link": "https://stackoverflow.com/users/11092619/ledinos1"}, "edited": false, "score": 0, "creation_date": 1550772083, "post_id": 54796564, "comment_id": 96403539, "body": "Thank you very much. Your advices are very valuable for me and now I understand it better. Still have to learn a lot as I get confused sometimes when it comes to math. I have marked your answer as the best but unfortunately I cannot vote because apparently this option is available from 15 points of reputation. Thanks once again !"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 0, "last_activity_date": 1551143663, "last_edit_date": 1551143663, "creation_date": 1550703334, "answer_id": 54796564, "question_id": 54796089, "link": "https://stackoverflow.com/questions/54796089/python-ping-pong-game-speeding-up-the-ball-after-paddle-hit/54796564#54796564", "title": "Python ping-pong game, speeding up the ball after paddle hit", "body": "<p>So after reviewing your game a bit I found an error that the ball would \"stick\" to the paddle on the left side, and like you said the speed did not reset each score. I've adjusted it in a few places and it seems much improved.</p>\n\n<p>Firstly I reset the speed every time there was a score:</p>\n\n<pre><code>if ball.xcor() &gt; 390:\n    ball.goto(0, 0)\n    ball.dx = 1 / 5 # reset to initial speed\n    score_a += 1\n    pen.clear()\n    pen.write(\"Player A: {}  Player B: {}\".format(score_a, score_b), align=\"center\", font=(\"Courier\", 24, \"normal\"))\n\nif ball.xcor() &lt; -390:\n    ball.goto(0, 0)\n    ball.dx = 1 / 5 # reset to initial speed\n    ball.dx *= -1\n    score_b += 1\n    pen.clear()\n    pen.write(\"Player A: {}  Player B: {}\".format(score_a, score_b), align=\"center\", font=(\"Courier\", 24, \"normal\"))\n</code></pre>\n\n<p>I think this could be improved by having a variable at the top like <code>initial_speed = 1/5</code> and then you can put <code>ball.dx = initial_speed</code> everywhere it resets. This allows you to only change one number at the top of your program and it will adjust the speed everywhere, preventing you to have to hunt down everywhere you reset it every time!</p>\n\n<p>Secondly I fixed the paddle collision a little bit</p>\n\n<pre><code>if (ball.xcor() &gt; 340 and ball.xcor() &lt; 350) and (ball.ycor() &lt; paddle_b.ycor() + 50 and ball.ycor() &gt; paddle_b.ycor() -40):\n    ball.setx(340)\n    ball.dx *= -1 # flip direction first\n    ball.dx -=1 # speed it up\n\nif (ball.xcor() &lt; -340 and ball.xcor() &gt; -350) and (ball.ycor() &lt; paddle_a.ycor() + 50 and ball.ycor() &gt; paddle_a.ycor() -40):\n    ball.setx(-340)\n    ball.dx *= -1\n    ball.dx +=1\n</code></pre>\n\n<p>Again this could be improved by making a variable <code>speed_up_by = 1</code> and then using <code>ball.dx += speed_up_by</code> to easily adjust it. I think that 1 is far too large of a number and you won't be able to get more than 5 hits in (if you're lucky). To answer your comment about why one is <code>ball.dx +=1</code> and the other is <code>ball.dx -=1</code> I urge you to think about it in numbers. The initial speed is .2 (or 1/5), and then after it hits on the right side you should reverse it (to -.2 and now it is traveling left) and then increase its speed (by minusing 1 -> -1.2). Now when it gets to the other side you reverse it again (to 1.2) and then increase its speed (by adding 1 -> 2.2). You can see that even though we are subtracting from the speed it actually <em>increases</em> the magnitude of the speed!! I think this also shows you that increasing the speed by 1 each hit is insanely large. After the first hit the ball is going <strong>6 times</strong> as fast as the initial speed!!! After 2 hits it is going <strong>11 times</strong> the initial speed!!! You probably want to increase the magnitude of speed by .1 each time. That makes it so after 1 hit the speed is only 1.5 times initial speed. After 2 hits, the speed is twice the initial speed...and so on.</p>\n"}], "owner": {"reputation": 49, "user_id": 11092619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd9bc1c89db7c6f115366447887291b?s=128&d=identicon&r=PG&f=1", "display_name": "ledinos1", "link": "https://stackoverflow.com/users/11092619/ledinos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1725, "favorite_count": 1, "accepted_answer_id": 54796564, "answer_count": 1, "score": 0, "last_activity_date": 1551143663, "creation_date": 1550701038, "question_id": 54796089, "link": "https://stackoverflow.com/questions/54796089/python-ping-pong-game-speeding-up-the-ball-after-paddle-hit", "title": "Python ping-pong game, speeding up the ball after paddle hit", "body": "<p>I'm new here and I'm the beginner. I've been learning programming since 5 months and as the main language I've decided to stick to python. I wrote my first simple game which is ping-pong (based on yt tutorials) and I want to improve it a bit by speeding up the ball after each paddle hit and comes back to normal speed when scored. I know that I put ball.dx +=1 in wrong place. It speeds up tho, but only when ball goes up. When it goes down, it comes back to normal speed and of course the speed is looped and even if scored, it still speeds up. Appreciate for any help.</p>\n\n<pre><code>import turtle\n\nwn = turtle.Screen()\nwn.title(\"gra by mati\")\nwn.bgcolor(\"black\")\nwn.setup(width=800, height=600)\nwn.tracer(0)\n\n# Paddle A\npaddle_a = turtle.Turtle()\npaddle_a.shape(\"square\")\npaddle_a.shapesize(stretch_wid=5, stretch_len=1)\npaddle_a.speed(0)\npaddle_a.color(\"white\")\npaddle_a.penup()\npaddle_a.goto(-350, 0)\n\n\n# Paddle B\npaddle_b = turtle.Turtle()\npaddle_b.shape(\"square\")\npaddle_b.shapesize(stretch_wid=5, stretch_len=1)\npaddle_b.speed(0)\npaddle_b.color(\"white\")\npaddle_b.penup()\npaddle_b.goto(350, 0)\n\n\n# ball\nball = turtle.Turtle()\nball.shape(\"square\")\nball.speed(0)\nball.color(\"white\")\nball.penup()\nball.goto(0, 0)\nball.dx = 1/5\nball.dy = 1/5\n\n# Pen\npen = turtle.Turtle()\npen.speed(0)\npen.color(\"white\")\npen.penup()\npen.hideturtle()\npen.goto(0, 260)\npen.write(\"Player A: 0  Player B: 0\", align=\"center\", font=(\"Courier\", 24, \"normal\"))\n\n# Score\nscore_a = 0\nscore_b = 0\n\n\n\n\n# Function\ndef paddle_a_up():\n    y = paddle_a.ycor()\n    y += 20\n    paddle_a.sety(y)\n\ndef paddle_a_down():\n    y = paddle_a.ycor()\n    y -= 20\n    paddle_a.sety(y)\n\ndef paddle_b_up():\n    y = paddle_b.ycor()\n    y += 20\n    paddle_b.sety(y)\n\ndef paddle_b_down():\n    y = paddle_b.ycor()\n    y -= 20\n    paddle_b.sety(y)\n\n\n\n\n\n\n#keyboard biding\nwn.listen()\nwn.onkeypress(paddle_a_up, \"w\")\nwn.onkeypress(paddle_a_down, \"s\")   \nwn.onkeypress(paddle_b_up, \"Up\")\nwn.onkeypress(paddle_b_down, \"Down\")   \n\n# Main game loop\nwhile True:\n    wn.update()\n\n    # move the ball\n    ball.setx(ball.xcor() + ball.dx)\n    ball.sety(ball.ycor() + ball.dy)\n\n    # border checking\n    if ball.ycor() &gt; 290:\n        ball.sety(290)\n        ball.dy *= -1\n\n\n    if ball.ycor() &lt; -290:\n        ball.sety(-290)\n        ball.dy *= -1\n\n    if ball.xcor() &gt; 390: \n        ball.goto(0, 0)\n        ball.dx *= -1\n        score_a += 1\n        pen.clear()\n        pen.write(\"Player A: {}  Player B: {}\".format(score_a, score_b), align=\"center\", font=(\"Courier\", 24, \"normal\"))\n\n\n    if ball.xcor() &lt; -390: \n        ball.goto(0, 0)\n        ball.dx *= -1\n        score_b += 1\n        pen.clear()\n        pen.write(\"Player A: {}  Player B: {}\".format(score_a, score_b), align=\"center\", font=(\"Courier\", 24, \"normal\"))\n\n\n    # paddle and ball collision\n    if (ball.xcor() &gt; 340 and ball.xcor() &lt; 350) and (ball.ycor() &lt; paddle_b.ycor() + 50 and ball.ycor() &gt; paddle_b.ycor() -40):\n        ball.setx(340)\n        ball.dx +=1\n        ball.dx *= -1\n\n\n\n\n\n    if (ball.xcor() &lt; -340 and ball.xcor() &gt; -350) and (ball.ycor() &lt; paddle_a.ycor() + 50 and ball.ycor() &gt; paddle_a.ycor() -40):\n        ball.setx(-340)\n        ball.dx +=1\n        ball.dx *= -1\n</code></pre>\n"}, {"tags": ["python", "pyeda"], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550700980, "creation_date": 1550700980, "question_id": 54796081, "link": "https://stackoverflow.com/questions/54796081/can-pyeda-simplify-using-xors", "title": "Can pyeda simplify using xors?", "body": "<p>I'm trying to analyze some functions with PyEDA. Is there a way to convert expressions in <a href=\"https://en.wikipedia.org/wiki/Disjunctive_normal_form\" rel=\"nofollow noreferrer\">DNF</a> to use XOR operations if it makes them simpler? For example:</p>\n\n<pre><code>&gt;&gt;&gt; import pyeda.inter\n&gt;&gt;&gt;\n&gt;&gt;&gt; a,b=map(pyeda.inter.exprvar,'ab')\n&gt;&gt;&gt; x = a&amp;~b | ~a&amp;b\n&gt;&gt;&gt; assert (a^b).equivalent(x)\n&gt;&gt;&gt; x.simplify()\nOr(And(~a, b), And(a, ~b))\n</code></pre>\n\n<p>It seems like there should be some way to coerce an expression into a simpler form using XORs, at least for low-complexity expressions.</p>\n"}, {"tags": ["python", "django", "email", "templates"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5217284, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024324230934150/picture?type=large", "display_name": "Five9", "link": "https://stackoverflow.com/users/5217284/five9"}, "edited": false, "score": 0, "creation_date": 1550703932, "post_id": 54796291, "comment_id": 96371182, "body": "do I just smack it under the form? I did that and nothing has changed so far"}], "tags": [], "owner": {"reputation": 496, "user_id": 6394346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de21841113752e2427aefba95ef8d075?s=128&d=identicon&r=PG&f=1", "display_name": "bertucho", "link": "https://stackoverflow.com/users/6394346/bertucho"}, "is_accepted": false, "score": 2, "last_activity_date": 1550701963, "creation_date": 1550701963, "answer_id": 54796291, "question_id": 54796074, "link": "https://stackoverflow.com/questions/54796074/how-to-make-a-django-contact-me-form-with-send-mail/54796291#54796291", "title": "How to make a Django contact me form with send_mail?", "body": "<p>you need the CSRF token:</p>\n\n<pre><code>&lt;form ...&gt;\n{% csrf_token %}\n...\n&lt;/form&gt;\n</code></pre>\n\n<p>As in <a href=\"https://docs.djangoproject.com/en/2.1/topics/forms/#the-template\" rel=\"nofollow noreferrer\">this official documentation example</a>: </p>\n"}], "owner": {"reputation": 47, "user_id": 5217284, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024324230934150/picture?type=large", "display_name": "Five9", "link": "https://stackoverflow.com/users/5217284/five9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550701963, "creation_date": 1550700953, "question_id": 54796074, "link": "https://stackoverflow.com/questions/54796074/how-to-make-a-django-contact-me-form-with-send-mail", "title": "How to make a Django contact me form with send_mail?", "body": "<p>I tried to use 6 different tutorials to get this done, but all of them gave different variations so I'm really frustrated at the pace I'm making...\nI think I'm nearing the last few steps but I need some help. Here is the code I have in my Django project:</p>\n\n<pre><code># -- settings.py--\nEMAIL_BACKEND = 'django.core.mail.backends.stmp.EmailBackend'\nEMAIL_HOST = 'http://smtp.gmail.com/'\nEMAIL_HOST_USER = 'a spare Gmail I have'\nEMAIL_HOST_PASSWORD = 'the password'\nEMAIL_USE_TLS = False\nEMAIL_PORT = 465\n</code></pre>\n\n<p>..</p>\n\n<pre><code># -- views.py --\n# (assumed relevant imports are imported)\nclass ContactView(FormView):\n    template_name = 'CONTACT.html'\n    form_class = ContactForm\n    success_url = 'Success!'\n    context_vars = {\n        'example_name_f': 'Adam',\n        'example_name_l': 'Smith',\n        'example_email': 'smith.a@gmail.com',\n        'example_subject': 'Sales proposal',\n        'example_text': 'Hi Mark, I have a sales proposal for you!',\n    }\n    def get(self, request):\n\n        return render(request, 'CONTACT.html', ContactView.context_vars)\n\n    def contact(self, request):\n        if request.method == 'POST':\n            form = self.form_class(data=request.POST)\n\n            if form.is_valid():\n                time = request.POST.get('time', '')\n                first_name = request.POST.get('first_name', '')\n                last_name = request.POST.get('last_name', '')\n                email_address = request.POST.get('email_address', '')\n                subject = request.POST.get('subject', '')\n                text = request.POST.get('text', '')\n\n                send_mail(subject, text, email_address,\n                          ['999@outlook.com'], fail_silently=False)\n\n            return redirect('CONTACT-done.html')  # CONTACT-done is a temporary success screen\n\n        return render(request, 'CONTACT.html', ContactView.context_vars)\n</code></pre>\n\n<p>The relevant portion of HTML:</p>\n\n<pre><code>&lt;div class=\"container-fluid\" style=\"width: 100%; height: 100%\"&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n\n            &lt;label for=\"first-name\"&gt;First Name&lt;/label&gt;\n            &lt;input id=\"first-name\" name=\"first-name\" type=\"text\" placeholder=\"{{ example_name_f }}\"&gt;\n                &lt;!-- Note: placeholder vs value attributes similar --&gt;\n                &lt;!-- id is for HTML, name is for views.py --&gt;\n            &lt;label for=\"last-name\"&gt;Last Name&lt;/label&gt;\n            &lt;input id=\"last-name\" name=\"last-name\" type=\"text\" placeholder=\"{{ example_name_l }}\"&gt;\n                &lt;!-- Its unnecessary to use context vars for placehoder text --&gt;\n            &lt;label for=\"email\"&gt;Email Address&lt;/label&gt;\n             &lt;input id=\"email\" name=\"email\" type=\"email\" placeholder=\"{{ example_email }}\" required&gt;\n\n            &lt;label for=\"subject\"&gt;Subject&lt;/label&gt;\n             &lt;input id=\"subject\" name=\"subject\" type=\"text\" placeholder=\"{{ example_subject }}\"&gt;\n\n            &lt;label for=\"text\"&gt;Message:&lt;/label&gt;\n             &lt;input id=\"text\" name=\"text\" type=\"text\" placeholder=\"{{ example_text }}\" required&gt;\n\n            &lt;input type=\"submit\" value=\"Send\"&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Some tutorials recommended a {{ form.as_p }} approach in HTML but some just did the basic HTML style as I did above. Not sure what to do from here.\nClicking send on my website gives a 403 CSRF verification failed. Request aborted.\nPlease explain in as simple a way as possible, I'm not brand new to programming but I'm not a CS person either. Thanks.</p>\n"}, {"tags": ["python", "xml", "tags"], "comments": [{"owner": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "edited": false, "score": 0, "creation_date": 1550700997, "post_id": 54796054, "comment_id": 96370177, "body": "&quot;I want to use ElementTree module.&quot; --- Why don&#39;t you just use <a href=\"https://stackoverflow.com/questions/tagged/xslt\">xslt</a>?"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1550753704, "post_id": 54796054, "comment_id": 96391541, "body": "Use the <a href=\"https://lxml.de/tutorial.html#the-parse-function\" rel=\"nofollow noreferrer\">the-parse-function</a> and do <code>element.tag = &#39;&lt;new tag name&gt;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10188493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70521457fb11474b1b3cd6995c4fb0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10188493/justin"}, "edited": false, "score": 0, "creation_date": 1550773754, "post_id": 54810505, "comment_id": 96404304, "body": "Works great Daniel. Thanks  man. Great help! Did you happen to see my other question posted yesterday, &quot;How do I copy and paste certain elements in XML using Python&quot;. I think the answer might be along the same lines as what you showed me here as far as finding the elements. Now I want to copy them and append to other elements. Thanks!"}, {"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "reply_to_user": {"reputation": 45, "user_id": 10188493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70521457fb11474b1b3cd6995c4fb0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10188493/justin"}, "edited": false, "score": 0, "creation_date": 1550776168, "post_id": 54810505, "comment_id": 96405489, "body": "@Justin - I did not, but I&#39;ll go look when I get a chance. Please also consider accepting my answer by selecting the checkmark next to it. (<a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>)"}], "tags": [], "owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "is_accepted": true, "score": 2, "last_activity_date": 1550762429, "creation_date": 1550762429, "answer_id": 54810505, "question_id": 54796054, "link": "https://stackoverflow.com/questions/54796054/xml-change-tag-name-using-python/54810505#54810505", "title": "XML change tag name using Python", "body": "<p>If you want to use ElementTree, you can find all <code>SSN</code> elements that are children of <code>Employee</code> and set <code>tag</code>.</p>\n\n<p>Example...</p>\n\n<p><strong>Input</strong> (input.xml)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Company&gt;\n    &lt;Employee&gt;\n        &lt;SSN&gt;111111111&lt;/SSN&gt;\n        &lt;Dependent&gt;\n            &lt;SSN&gt;222222222&lt;/SSN&gt;\n        &lt;/Dependent&gt;\n    &lt;/Employee&gt;\n&lt;/Company&gt;\n</code></pre>\n\n<p><strong>Python</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import xml.etree.ElementTree as ET\n\ntree = ET.parse(\"input.xml\")\n\nfor elem in tree.findall(\"Employee/SSN\"):\n    elem.tag = \"EESSN\"\n\ntree.write(\"output.xml\")\n</code></pre>\n\n<p><strong>Output</strong> (output.xml)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Company&gt;\n    &lt;Employee&gt;\n        &lt;EESSN&gt;111111111&lt;/EESSN&gt;\n        &lt;Dependent&gt;\n            &lt;SSN&gt;222222222&lt;/SSN&gt;\n        &lt;/Dependent&gt;\n    &lt;/Employee&gt;\n&lt;/Company&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10188493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70521457fb11474b1b3cd6995c4fb0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10188493/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2641, "favorite_count": 3, "accepted_answer_id": 54810505, "answer_count": 1, "score": 3, "last_activity_date": 1586860985, "creation_date": 1550700851, "question_id": 54796054, "link": "https://stackoverflow.com/questions/54796054/xml-change-tag-name-using-python", "title": "XML change tag name using Python", "body": "<p>Very new to XML and Python. I want to change the tag names of certain elements in an XML document. Here's how the document looks now:</p>\n\n<pre><code>&lt;Company&gt;\n   &lt;Employee&gt;\n      &lt;SSN&gt;111111111&lt;/SSN&gt;\n      &lt;Dependent&gt;\n          &lt;SSN&gt;222222222&lt;/SSN&gt;\n</code></pre>\n\n<p>I want to change the tag under the Employee to 'EESSN' and leave the tag under the Dependent the same. To look like this.</p>\n\n<pre><code>&lt;Company&gt;\n   &lt;Employee&gt;\n      &lt;EESSN&gt;111111111&lt;/EESSN&gt;\n      &lt;Dependent&gt;\n          &lt;SSN&gt;222222222&lt;/SSN&gt;\n</code></pre>\n\n<p>The document includes hundreds of companies and thousands of employees both with tens to hundreds of sub elements, so a find and replace option is what I believe I need.</p>\n\n<p>I want to use ElementTree module. The only code I have that is working is the importing the data and writing it to a new file. Thanks for all your help!</p>\n"}, {"tags": ["python", "python-3.x", "python-click"], "answers": [{"comments": [{"owner": {"reputation": 1431, "user_id": 9074332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F8rpJ.jpg?s=128&g=1", "display_name": "user9074332", "link": "https://stackoverflow.com/users/9074332/user9074332"}, "edited": false, "score": 0, "creation_date": 1550701122, "post_id": 54796044, "comment_id": 96370208, "body": "That did it, thank you.  Now, just wait for the downvotes to flood in :).  By the way, where would be the best place to put this PYTHONPATH export in my application?"}, {"owner": {"reputation": 934, "user_id": 4317250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvtAr.jpg?s=128&g=1", "display_name": "Steve Boyd", "link": "https://stackoverflow.com/users/4317250/steve-boyd"}, "reply_to_user": {"reputation": 1431, "user_id": 9074332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F8rpJ.jpg?s=128&g=1", "display_name": "user9074332", "link": "https://stackoverflow.com/users/9074332/user9074332"}, "edited": false, "score": 0, "creation_date": 1550701558, "post_id": 54796044, "comment_id": 96370367, "body": "You should consider using a cleaner arrangement of the source tree for your project which isolates the package source from the &quot;meta&quot;. Done correctly, you shouldn&#39;t need to modify your PYTHONPATH. Here&#39;s an article about one way to arrange things: <a href=\"https://docs.python-guide.org/writing/structure/\" rel=\"nofollow noreferrer\">docs.python-guide.org/writing/structure</a>"}, {"owner": {"reputation": 1431, "user_id": 9074332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F8rpJ.jpg?s=128&g=1", "display_name": "user9074332", "link": "https://stackoverflow.com/users/9074332/user9074332"}, "edited": false, "score": 0, "creation_date": 1550703656, "post_id": 54796044, "comment_id": 96371093, "body": "I read the article but it&#39;s not clear what thing(s) would help isolate &#39;the package source from the &quot;meta&quot;&#39; so that I wouldnt need to modify the PYTHONPATH."}], "tags": [], "owner": {"reputation": 934, "user_id": 4317250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvtAr.jpg?s=128&g=1", "display_name": "Steve Boyd", "link": "https://stackoverflow.com/users/4317250/steve-boyd"}, "is_accepted": true, "score": 1, "last_activity_date": 1614361895, "last_edit_date": 1614361895, "creation_date": 1550700805, "answer_id": 54796044, "question_id": 54796011, "link": "https://stackoverflow.com/questions/54796011/python-click-setuptools-integration-issue/54796044#54796044", "title": "python click setuptools integration issue", "body": "<p>Python path should include the directory that contains <code>yourpackage</code>. In this case that would be <code>/tmp</code>.</p>\n<p>However, a better approach might be to rearrange your source code so that there would be no need to adjust the python path when using <code>setuptools</code>. Something like this:</p>\n<pre><code>yourpackage/\n\u251c\u2500\u2500 yourpackage/\n|   \u251c\u2500\u2500 __init__.py\n|   \u251c\u2500\u2500 main.py\n|   \u251c\u2500\u2500 scripts\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 yourscript.py\n|   \u2514\u2500\u2500 utils.py\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 setup.py\n</code></pre>\n<p>See this <a href=\"https://github.com/danielavarelat/click_mergevcfs\" rel=\"nofollow noreferrer\">project</a> on github for an example of a much larger <code>click</code> based project.</p>\n"}], "owner": {"reputation": 1431, "user_id": 9074332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F8rpJ.jpg?s=128&g=1", "display_name": "user9074332", "link": "https://stackoverflow.com/users/9074332/user9074332"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 54796044, "answer_count": 1, "score": 0, "last_activity_date": 1614361895, "creation_date": 1550700671, "question_id": 54796011, "link": "https://stackoverflow.com/questions/54796011/python-click-setuptools-integration-issue", "title": "python click setuptools integration issue", "body": "<p>I am following the setuptools example from the python click documentation <a href=\"https://click.palletsprojects.com/en/7.x/setuptools/\" rel=\"nofollow noreferrer\">here</a>  using a python3.7.1 conda virtual env and continue to receive an error:</p>\n\n<p><code>ModuleNotFoundError: No module named 'yourpackage.scripts'</code></p>\n\n<p>I must be missing something obvious here but not sure what it is.</p>\n\n<pre><code>yourpackage/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 scripts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 yourscript.py\n\u251c\u2500\u2500 setup.py\n\u2514\u2500\u2500 utils.py\n</code></pre>\n\n<pre><code>#scripts/yourscript.py\nimport click\n\n@click.command()\ndef cli():\n    \"\"\"Example script.\"\"\"\n    click.echo('Hello World!')\n</code></pre>\n\n<pre><code># setup.py\nfrom setuptools import setup, find_packages\nsetup(\n    name='yourpackage',\n    version='0.1',\n    packages=find_packages(),\n    include_package_data=True,\n    install_requires=[\n        'Click',\n    ],\n    entry_points='''\n        [console_scripts]\n        yourscript=yourpackage.scripts.yourscript:cli\n    ''',\n)\n</code></pre>\n\n<pre><code>$ pip install -e .\nLooking in indexes: https://InternalArtifactoryUrl\nObtaining file:///private/tmp/yourpackage\nRequirement already satisfied: Click in /Users/myusername/miniconda3/envs/test_20190220/lib/python3.7/site-packages (from yourpackage==0.1) (7.0)\nInstalling collected packages: yourpackage\n  Found existing installation: yourpackage 0.1\n    Uninstalling yourpackage-0.1:\n      Successfully uninstalled yourpackage-0.1\n  Running setup.py develop for yourpackage\nSuccessfully installed yourpackage\n\n$ which yourscript\n/Users/myusername/miniconda3/envs/test_20190220/bin/yourscript\n\n$ yourscript\nTraceback (most recent call last):\n  File \"/Users/myusername/miniconda3/envs/test_20190220/bin/yourscript\", line 11, in &lt;module&gt;\n    load_entry_point('yourpackage', 'console_scripts', 'yourscript')()\n  File \"/Users/myusername/miniconda3/envs/test_20190220/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 489, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/Users/myusername/miniconda3/envs/test_20190220/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 2793, in load_entry_point\n    return ep.load()\n  File \"/Users/myusername/miniconda3/envs/test_20190220/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 2411, in load\n    return self.resolve()\n  File \"/Users/myusername/miniconda3/envs/test_20190220/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 2417, in resolve\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\nModuleNotFoundError: No module named 'yourpackage.scripts'\n</code></pre>\n\n<p>I also tried the following in my package directory:\n<code>export PYTHONPATH=/tmp/yourpackage/</code>\nand continue to receive the error when running <code>yourscript</code></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1550700526, "post_id": 54795954, "comment_id": 96370033, "body": "Invisible control characters? What does <code>print(repr(data[0]))</code> print?"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1550700559, "post_id": 54795954, "comment_id": 96370039, "body": "The value would contain a newline, wouldn&#39;t it?"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 3, "creation_date": 1550700700, "post_id": 54795954, "comment_id": 96370087, "body": "try adding data[0].lstrip() to make sure there are no empty spaces when reading the data?"}, {"owner": {"reputation": 164, "user_id": 10987053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RGezv.jpg?s=128&g=1", "display_name": "Sirsmorgasboard", "link": "https://stackoverflow.com/users/10987053/sirsmorgasboard"}, "edited": false, "score": 2, "creation_date": 1550700910, "post_id": 54795954, "comment_id": 96370150, "body": "You need to make 2nd and 3rd if statements elif&#39;s, Your if statements are working but they&#39;re being over written by your final one checking for &quot;02&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701294, "post_id": 54796064, "comment_id": 96370264, "body": "Odd because I have tested it on my computer with exact results. What python version are you using? And make sure you are reading in the correct path."}, {"owner": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701362, "post_id": 54796064, "comment_id": 96370289, "body": "I am using python version 3.7"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701397, "post_id": 54796064, "comment_id": 96370304, "body": "And are you using the same indentation that I am using? Your indentation was incorrect in your question."}, {"owner": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701464, "post_id": 54796064, "comment_id": 96370323, "body": "Yes I copied your answer directly"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701640, "post_id": 54796064, "comment_id": 96370387, "body": "try changing lstrip to strip like in my edited answer now. Runs perfectly on my machine."}, {"owner": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701667, "post_id": 54796064, "comment_id": 96370402, "body": "Now I am getting this error message  AttributeError: &#39;list&#39; object has no attribute &#39;lstrip&#39;"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701711, "post_id": 54796064, "comment_id": 96370413, "body": "Sorry I wasn&#39;t done with that edit before I posted it. That was a previous edit. Use what I have above where i don&#39;t modify data directly but each of the data[0] with data[0].strip."}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "edited": false, "score": 0, "creation_date": 1550701870, "post_id": 54796064, "comment_id": 96370469, "body": "@nick4356123 Remember to always use strip when reading in data"}], "tags": [], "owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "is_accepted": true, "score": 0, "last_activity_date": 1550701817, "last_edit_date": 1550701817, "creation_date": 1550700901, "answer_id": 54796064, "question_id": 54795954, "link": "https://stackoverflow.com/questions/54795954/how-to-check-whether-data-stored-in-a-text-file-meets-specific-criteria/54796064#54796064", "title": "How to check whether data stored in a text file meets specific criteria?", "body": "<p>The issue is with your if statements. This is the correct format that your code should be using:</p>\n\n<pre><code>with open(r'C:\\Users\\edekio\\Documents\\test.txt', 'r') as file:\n    data = file.readlines()\n    if data[0].strip() == '00':\n       name = 'test0'\n    elif data[0].strip() == '01':\n       name = 'test1'\n    elif data[0].strip() == '02':\n       name = 'test2'\n    else:\n       name = 'ERROR'\n\nprint(name)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>test1\n</code></pre>\n\n<p>By using multiple if statements, your code will check <strong>ALL</strong> of the cases for a <strong>TRUE</strong> case and executing the code in the following line. So after it does that match in the second if statement, it will check again for the third if statement and see if it is true. Since it is not true, if will execute the else clause. </p>\n\n<p>By using elif and not multiple if statements, your code will execute the line where it returns a <strong>TRUE</strong> statement and not check for other conditional statements. </p>\n\n<p>I added the <a href=\"https://python-reference.readthedocs.io/en/latest/docs/str/strip.html\" rel=\"nofollow noreferrer\">strip()</a> to the lines as good practice. Often times you will not know if there are leading characters which will falsify your condition when searching for exact string matches. <a href=\"https://python-reference.readthedocs.io/en/latest/docs/str/strip.html\" rel=\"nofollow noreferrer\">strip()</a> ensures you never have to worry about it. </p>\n"}, {"comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 1, "creation_date": 1550701929, "post_id": 54796170, "comment_id": 96370491, "body": "This was only half of the issue. The major issue was the use of the if-if-if syntax. He wouldn&#39;t need to strip if he typed in 01 correctly into the file."}, {"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "reply_to_user": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 1, "creation_date": 1550705557, "post_id": 54796170, "comment_id": 96371650, "body": "@EdekiOkoh Good catch"}], "tags": [], "owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "is_accepted": false, "score": 0, "last_activity_date": 1550701403, "creation_date": 1550701403, "answer_id": 54796170, "question_id": 54795954, "link": "https://stackoverflow.com/questions/54795954/how-to-check-whether-data-stored-in-a-text-file-meets-specific-criteria/54796170#54796170", "title": "How to check whether data stored in a text file meets specific criteria?", "body": "<p>As with all text, and as mentioned in the comments, it's wise to strip all white-space characters before applying Boolean comparisons. Use <code>data[0].strip()</code> to do this.</p>\n\n<p>If you only want to remove it from the left of the string use <code>data[0].lstrip()</code> and correspondingly on the right <code>data[0].rstrip()</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 11092614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWtDoB6xRyk/AAAAAAAAAAI/AAAAAAAAALw/x32JHWVEC0A/photo.jpg?sz=128", "display_name": "nick4356123", "link": "https://stackoverflow.com/users/11092614/nick4356123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 54796064, "answer_count": 2, "score": 1, "last_activity_date": 1550701817, "creation_date": 1550700295, "question_id": 54795954, "link": "https://stackoverflow.com/questions/54795954/how-to-check-whether-data-stored-in-a-text-file-meets-specific-criteria", "title": "How to check whether data stored in a text file meets specific criteria?", "body": "<p>I have a text file with this info stored in it</p>\n\n<pre><code>01\n</code></pre>\n\n<p>I made a simple code that should interpret the numbers but it does not work</p>\n\n<pre><code> with open('test.txt', 'r') as file:\n    data = file.readlines()\n if data[0] == '00':\n    name = 'test0'\n if data[0] == '01':\n    name = 'test1'\n if data[0] == '02':\n    name = 'test2'\n else:\n    name = 'ERROR'\n print(name)\n</code></pre>\n\n<p>Any time I run this code it prints ERROR but if I print data[0] it prints 01.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "flask", "pytest", "connexion"], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 4375998, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0e2c58d2028fd7225db45f260ea908c5?s=128&d=identicon&r=PG&f=1", "display_name": "Tamwyn", "link": "https://stackoverflow.com/users/4375998/tamwyn"}, "is_accepted": true, "score": 3, "last_activity_date": 1550749704, "creation_date": 1550749704, "answer_id": 54806375, "question_id": 54795947, "link": "https://stackoverflow.com/questions/54795947/pytest-inherit-fixture-from-parent-class/54806375#54806375", "title": "Pytest: Inherit fixture from parent class", "body": "<p>So after googling for more infos about fixtures I came across <a href=\"https://stackoverflow.com/a/43061876/4375998\">this post</a></p>\n\n<p>So there were two required steps</p>\n\n<ol>\n<li>Remove the unittest TestCase inheritance</li>\n<li>Add the <code>@pytest.mark.usefixtures()</code> decorator to the child class to actually use the fixture</li>\n</ol>\n\n<p>In Code it becomes</p>\n\n<pre><code>import pytest\nfrom app import app\n\nclass TestConnexion:\n    \"\"\"The base test providing auth and flask clients to other tests\n    \"\"\"\n\n    @pytest.fixture(scope='session')\n    def client(self):\n        with app.app.test_client() as c:\n            yield c\n</code></pre>\n\n<p>And now the child class</p>\n\n<pre><code>import pytest\nfrom .TestConnexion import TestConnexion\n\n@pytest.mark.usefixtures('client')\nclass TestCreation(TestConnexion):\n    \"\"\"Tests basic user creation\n    \"\"\"\n    @pytest.mark.dependency(name='createUser')\n    def test_createUser(self, client):\n        self.generateKeys('admin')\n        response = client.post('/api/v1/user/register', json={'userKey': self.cache['admin']['pubkey']})\n        assert response.status_code == 200\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4375998, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0e2c58d2028fd7225db45f260ea908c5?s=128&d=identicon&r=PG&f=1", "display_name": "Tamwyn", "link": "https://stackoverflow.com/users/4375998/tamwyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2424, "favorite_count": 1, "accepted_answer_id": 54806375, "answer_count": 1, "score": 3, "last_activity_date": 1551116349, "creation_date": 1550700270, "last_edit_date": 1551116349, "question_id": 54795947, "link": "https://stackoverflow.com/questions/54795947/pytest-inherit-fixture-from-parent-class", "title": "Pytest: Inherit fixture from parent class", "body": "<p>I have a couple of test cases to test the endpoints of a flask/connexion based api.</p>\n\n<p>Now I want to reorder them into classes, so there is a base class:</p>\n\n<pre><code>import pytest\nfrom unittest import TestCase\n\n# Get the connexion app with the database configuration\nfrom app import app\n\n\nclass ConnexionTest(TestCase):\n    \"\"\"The base test providing auth and flask clients to other tests\n    \"\"\"\n    @pytest.fixture(scope='session')\n    def client(self):\n        with app.app.test_client() as c:\n            yield c\n</code></pre>\n\n<p>Now I have another class with my actual testcases:</p>\n\n<pre><code>import pytest\nfrom ConnexionTest import ConnexionTest\n\nclass CreationTest(ConnexionTest):\n    \"\"\"Tests basic user creation\n    \"\"\"\n\n    @pytest.mark.dependency()\n    def test_createUser(self, client):\n        self.generateKeys('admin')\n        response = client.post('/api/v1/user/register', json={'userKey': self.cache['admin']['pubkey']})\n        assert response.status_code == 200\n</code></pre>\n\n<p>Now unfortunately I always get a</p>\n\n<pre><code>TypeError: test_createUser() missing 1 required positional argument: 'client'\n</code></pre>\n\n<p>What is the correct way to inherit the fixture to subclasses?</p>\n"}, {"tags": ["python", "generator"], "comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1550700682, "post_id": 54795941, "comment_id": 96370080, "body": "I don&#39;t believe it&#39;s possible like that: <code>.send</code> always continues the generator, so you will lose the next value that is yielded. What you could do is <i>replace</i> the generator, i.e. <code>g = (val for val in g if not is_prime(n))</code>, which you can do <i>before</i> the loop."}, {"owner": {"reputation": 20400, "user_id": 45963, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c6697bd1a5287052d4c9dc193f2dbc7f?s=128&d=identicon&r=PG", "display_name": "andandandand", "link": "https://stackoverflow.com/users/45963/andandandand"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1550700866, "post_id": 54795941, "comment_id": 96370136, "body": "@L3viathan Only the <code>manipulate_generator</code> function can be modified. Those are the restrictions of the challenge. The loop and the instantiation of the original generator cannot be changed."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1550702788, "post_id": 54795941, "comment_id": 96370786, "body": "How about <code>def manipulate_generator(generator, n): global g; g = ...</code>?"}, {"owner": {"reputation": 20400, "user_id": 45963, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c6697bd1a5287052d4c9dc193f2dbc7f?s=128&d=identicon&r=PG", "display_name": "andandandand", "link": "https://stackoverflow.com/users/45963/andandandand"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1550703270, "post_id": 54795941, "comment_id": 96370955, "body": "@L3viathan: I tried it and got stuck mid execution here: <a href=\"https://colab.research.google.com/drive/1M8qM59ZYCTvyROk8YuTCuPGN8yJqyiCB\" rel=\"nofollow noreferrer\">colab.research.google.com/drive/&hellip;</a>"}], "owner": {"reputation": 20400, "user_id": 45963, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c6697bd1a5287052d4c9dc193f2dbc7f?s=128&d=identicon&r=PG", "display_name": "andandandand", "link": "https://stackoverflow.com/users/45963/andandandand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1550701067, "creation_date": 1550700251, "last_edit_date": 1550701067, "question_id": 54795941, "link": "https://stackoverflow.com/questions/54795941/modifying-a-generator-using-send", "title": "Modifying a generator using send", "body": "<p>I want to modify a generator by <strong>only changing the manipulate_generator function below</strong>. This is a HR challenge that has had me scratching my head throughout the day. I got the idea of using send from <a href=\"https://stackoverflow.com/questions/54794880/changing-a-generator-with-another-function-python-3-x\">a previous SO question on even numbers</a>. I cannot get to work using a primality checker. The algorithm should print the first 10 non-primes. It's currently printing 3. </p>\n\n<pre><code>from math import sqrt\nfrom itertools import count, islice\n\ndef is_prime(n):\n    if n &lt; 2:\n        return False\n\n    for number in islice(count(2), int(sqrt(n) - 1)):\n        if n % number == 0:\n            return False\n\n    return True\n\n# this is the only portion of the code that can be changed  \ndef manipulate_generator(generator, n):\n     if not is_prime(n):\n         generator.send(n+1)\n\n\n#all the code below cannot be changed \ndef positive_integers_generator():\n    n = 1\n    while True:\n        x = yield n\n        if x is not None:\n            n = x\n        else:\n            n += 1\n\nk = int(input())\ng = positive_integers_generator()\nfor _ in range(k):\n    n = next(g)\n    print(n)\n    manipulate_generator(g, n)\n</code></pre>\n"}, {"tags": ["python", "pygame", "sprite"], "answers": [{"tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": true, "score": 1, "last_activity_date": 1550700191, "creation_date": 1550700191, "answer_id": 54795932, "question_id": 54795849, "link": "https://stackoverflow.com/questions/54795849/pygame-how-to-actualize-rect-of-sprite/54795932#54795932", "title": "pygame how to actualize rect of sprite", "body": "<p>When <code>pygame.sprite.Group.draw()</code> is called, as in <code>luffy_sprites_ls.draw((screen))</code>, every sprite in the group has it's <code>sprite.image</code> rendered to the screen at <code>sprite.rect</code>.</p>\n\n<p>Your <code>sauter()</code> function is changing the <code>luffy.rect</code>, but it is <em>not</em> changing the <code>luffy.image</code> (it is changing <code>luffy.current_image</code>).</p>\n\n<p>Probably you want something like:</p>\n\n<pre><code>def sauter(self):\n    \"\"\" Called when user hits 'jump' button. \"\"\"\n    self.image = self.lsLuffySauter[0]\n    self.positionY -= 10\n    self.rect = self.image.get_rect()\n    self.rect.x = self.positionX\n    self.rect.y = self.positionY\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11092569, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NOoywDUNVp4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPnyiM2DCR-occhUvk1ZKwmiB_fDA/mo/photo.jpg?sz=128", "display_name": "theFrenchCosmic", "link": "https://stackoverflow.com/users/11092569/thefrenchcosmic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 54795932, "answer_count": 1, "score": 0, "last_activity_date": 1550700191, "creation_date": 1550699731, "question_id": 54795849, "link": "https://stackoverflow.com/questions/54795849/pygame-how-to-actualize-rect-of-sprite", "title": "pygame how to actualize rect of sprite", "body": "<p>I'm learning pygame and i am encountering a problem : \nWhen i'm trying to change the image of the sprite by changing the content of the variable self.image and then self.rect, it doesn't show/acutalize this new image. This is the code, hoping to make myself understood.</p>\n\n<pre><code>all_sprites_list = pygame.sprite.Group()\nluffy_sprites_ls = pygame.sprite.Group()\n\nclass luffy(pygame.sprite.Sprite):\n    \"\"\"docstring pour le personnage\"\"\"\n    def __init__(self):\n        self.lsLuffy = []\n        self.lsLuffySauter = []\n        super().__init__()\n        self.imageAll = SpriteSheet(\"images/attaquesLuffy.png\")\n        #loading some img to put them in a lsLuffySauter\n        self.image = self.imageAll.get_image(35, 74, 20, 95)\n        self.lsLuffySauter.append(self.image)\n        self.image2 = self.imageAll.get_image(200, 300, 300,300)\n        self.lsLuffySauter.append(self.image2)\n\n        self.rect = self.image.get_rect()\n        self.rect.x = 500\n        self.rect.y = 500\n        all_sprites_list.add(self)\n        self.positionX = 500\n        self.positionY = 500\n\n    def sauter(self):\n        \"\"\" Called when user hits 'jump' button. \"\"\"\n        self.current_image = self.lsLuffySauter[0]\n        self.positionY -= 10\n        self.rect = self.current_image.get_rect()\n        self.rect.x = self.positionX\n        self.rect.y = self.positionY\n        luffy_sprites_ls.empty()\n        luffy_sprites_ls.add(self)\n        #all_sprites_list.update()\n\n#Code to draw in the screen\n    screen.fill(WHITE)\n    all_sprites_list.draw((screen))\n    luffy_sprites_ls.draw((screen))\n    pygame.display.flip()\n    clock.tick(100)\n</code></pre>\n"}, {"tags": ["python", "string", "list", "loops", "split"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1550699837, "post_id": 54795846, "comment_id": 96369754, "body": "What is <code>x</code> in this code? Also, what&#39;s the input data for that result example?"}, {"owner": {"reputation": 181, "user_id": 8259531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e381cf72766be4859a6c1c1892fde8af?s=128&d=identicon&r=PG&f=1", "display_name": "hiimarksman", "link": "https://stackoverflow.com/users/8259531/hiimarksman"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1550700199, "post_id": 54795846, "comment_id": 96369892, "body": "x is the row number, the data is from an excel file which I read into Python via Pandas."}, {"owner": {"reputation": 2207, "user_id": 8357864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fe690b4dfe322a7c5b9d8ba23b3bd05?s=128&d=identicon&r=PG&f=1", "display_name": "LetEpsilonBeLessThanZero", "link": "https://stackoverflow.com/users/8357864/letepsilonbelessthanzero"}, "edited": false, "score": 0, "creation_date": 1550700630, "post_id": 54795846, "comment_id": 96370066, "body": "Something doesn&#39;t make sense. If <code>x = len(a)</code> as you say, then <code>a[x]</code> should be giving you a <code>list index out of range</code> error."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 2207, "user_id": 8357864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fe690b4dfe322a7c5b9d8ba23b3bd05?s=128&d=identicon&r=PG&f=1", "display_name": "LetEpsilonBeLessThanZero", "link": "https://stackoverflow.com/users/8357864/letepsilonbelessthanzero"}, "edited": false, "score": 0, "creation_date": 1550701015, "post_id": 54795846, "comment_id": 96370181, "body": "@LetEpsilonBeLessThanZero Where does OP say that <code>x = len(a)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 2, "last_activity_date": 1550700251, "creation_date": 1550700251, "answer_id": 54795940, "question_id": 54795846, "link": "https://stackoverflow.com/questions/54795846/what-is-wrong-with-my-code-here-python-lists-strings/54795940#54795940", "title": "What is wrong with my code here (Python, Lists, Strings)?", "body": "<p>This question is very hard to understand because you didn't define <code>a</code> or <code>x</code>.</p>\n\n<p>Nevertheless, the problem is almost certainly that you modify and append the same <code>temp</code> dict each time. You need to copy it:</p>\n\n<pre><code>    new_temp = temp.copy()\n    new_temp[1] = split[b]\n    steps.append(new_temp)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 934, "user_id": 3663124, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dd2b3438ed3252dce5c184b4eace56ba?s=128&d=identicon&r=PG&f=1", "display_name": "fedest", "link": "https://stackoverflow.com/users/3663124/fedest"}, "is_accepted": false, "score": 0, "last_activity_date": 1550700515, "creation_date": 1550700515, "answer_id": 54795984, "question_id": 54795846, "link": "https://stackoverflow.com/questions/54795846/what-is-wrong-with-my-code-here-python-lists-strings/54795984#54795984", "title": "What is wrong with my code here (Python, Lists, Strings)?", "body": "<p>That's because Python lists are mutable adn you are always modifying the same list.</p>\n\n<p>When you do:</p>\n\n<p><code>steps.append(temp)</code></p>\n\n<p>In each iteration, you are adding the same list (<code>temp</code>) to the result list <code>steps</code>.\nAs in each iteration you are modifying the second element of the list <code>temp</code> when doing</p>\n\n<p><code>temp[1] = split[b]</code></p>\n\n<p>The result <code>steps</code>list, will have each of it's elements (as they are all the same element) modified.</p>\n\n<p>Ilustrated:</p>\n\n<p>Step 1</p>\n\n<pre><code>b = 0\nsplit[b] = A\ntemp[1] = split[b] -&gt; temp = \"xxx, A, yyy, zzz\"\nsteps = [temp] === [\"xxx, A, yyy, zzz\"]\n</code></pre>\n\n<p>Step 2</p>\n\n<pre><code>b = 1\nsplit[b] = B\ntemp[1] = split[b] -&gt; temp = \"xxx, B, yyy, zzz\"\nsteps = [temp, temp] === [\"xxx, B, yyy, zzz\", \"xxx, B, yyy, zzz\"]\n</code></pre>\n\n<p>Step 3</p>\n\n<pre><code>b = 2\nsplit[b] = C\ntemp[1] = split[b] -&gt; temp = \"xxx, C, yyy, zzz\"\nsteps = [temp, temp, temp] === [\"xxx, C, yyy, zzz\", \"xxx, C, yyy, zzz\", \"xxx, C, yyy, zzz\"]\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 8259531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e381cf72766be4859a6c1c1892fde8af?s=128&d=identicon&r=PG&f=1", "display_name": "hiimarksman", "link": "https://stackoverflow.com/users/8259531/hiimarksman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54795940, "answer_count": 2, "score": 0, "last_activity_date": 1550700515, "creation_date": 1550699717, "last_edit_date": 1550699945, "question_id": 54795846, "link": "https://stackoverflow.com/questions/54795846/what-is-wrong-with-my-code-here-python-lists-strings", "title": "What is wrong with my code here (Python, Lists, Strings)?", "body": "<p>I'm iterating through a list \"a\" with length x, where if column 1 has more than one line break, I want to copy that entire row x and replicate it but has column 1 with a unique value.  </p>\n\n<p>For example, if I have a row and column 1 contains values (A, B, C), I want to copy all the other data, and have it only contain 1 value in column 1.</p>\n\n<pre><code>steps = []\ntemp = a[x]\nif a[x][1].count('\\n') == 0:\n    steps.append(temp)\n\nelse:\n    split = a[x][1].split('\\n')\n    count = a[x][1].count('\\n')+1\n    for b in range(0, count):\n        temp[1] = split[b]\n        steps.append(temp)\n</code></pre>\n\n<p><strong>Intended result of list \"steps\":</strong></p>\n\n<pre><code>xxx, A, yyy, zzz\nxxx, B, yyy, zzz\nxxx, C, yyy, zzz\n</code></pre>\n\n<p><strong>Actual result:</strong></p>\n\n<pre><code>xxx, C, yyy, zzz\nxxx, C, yyy, zzz\nxxx, C, yyy, zzz\n</code></pre>\n"}, {"tags": ["python", "watchdog", "python-watchdog"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1550701604, "creation_date": 1550701604, "answer_id": 54796213, "question_id": 54795812, "link": "https://stackoverflow.com/questions/54795812/how-to-input-file-name-as-the-pattern-in-watchdog/54796213#54796213", "title": "How to input file name as the pattern in Watchdog", "body": "<p>You could use <code>fnmatch.fnmatch</code> to match file paths against shell patterns:</p>\n\n<pre><code>In [72]: import fnmatch\nIn [77]: fnmatch.fnmatch('/root/path/foo', '*/foo')\nOut[77]: True\n</code></pre>\n\n<hr>\n\n<pre><code>import time\nimport fnmatch\nfrom watchdog.observers import Observer  \nfrom watchdog.events import PatternMatchingEventHandler\n\nclass MyHandler(PatternMatchingEventHandler):\n\n    def init(self, patterns):\n        self.patterns = [\"*/\"+pat for pat in patterns]\n\n    def process(self, event):\n        \"\"\"\n        event.event_type \n            'modified' | 'created' | 'moved' | 'deleted'\n        event.is_directory\n            True | False\n        event.src_path\n            path/to/observed/file\n        \"\"\"\n        path = event.src_path\n        print event.src_path, event.event_type  # print now only for degug        \n        if any(fnmatch.fnmatch(path, pat) for pat in self.patterns):\n            # the file will be processed there\n            if event.event_type == 'modified':\n                print(fname)\n\n    def on_modified(self, event):\n        self.process(event)\n\nif __name__ == '__main__':\n    args = sys.argv[1:]\n    observer = Observer()\n    observer.schedule(MyHandler(args), path='.')\n    observer.start()\n\n    try:\n        while True:\n            time.sleep(60)\n    except KeyboardInterrupt:\n        observer.stop()\n\n    observer.join()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11052596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xg7gB37QyLc/AAAAAAAAAAI/AAAAAAAAAAc/Hx2TvoS6PG0/photo.jpg?sz=128", "display_name": "Stefan", "link": "https://stackoverflow.com/users/11052596/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550701604, "creation_date": 1550699588, "question_id": 54795812, "link": "https://stackoverflow.com/questions/54795812/how-to-input-file-name-as-the-pattern-in-watchdog", "title": "How to input file name as the pattern in Watchdog", "body": "<p>Let's say I have code as such</p>\n\n<pre><code>import time  \nfrom watchdog.observers import Observer  \nfrom watchdog.events import PatternMatchingEventHandler\n\nclass MyHandler(PatternMatchingEventHandler):\n    patterns = [\"*/file.txt\"]\n\n    def process(self, event):\n        \"\"\"\n        event.event_type \n            'modified' | 'created' | 'moved' | 'deleted'\n        event.is_directory\n            True | False\n        event.src_path\n            path/to/observed/file\n        \"\"\"\n        # the file will be processed there\n        print event.src_path, event.event_type  # print now only for degug\n        if event.event_type == 'modified':\n            print fname\n\n\n    def on_modified(self, event):\n        self.process(event)\n\nif __name__ == '__main__':\n#    args = sys.argv[1:]\n    fname = 'file.txt'\n    observer = Observer()\n    observer.schedule(MyHandler(), path='.')\n    observer.start()\n\n    try:\n        while True:\n            time.sleep(60)\n    except KeyboardInterrupt:\n        observer.stop()\n\n    observer.join()\n</code></pre>\n\n<p>My goal is to have user input the fname in the <code>patterns</code> variable in MyHandler class.</p>\n\n<pre><code>import time  \nfrom watchdog.observers import Observer  \nfrom watchdog.events import PatternMatchingEventHandler\n\nclass MyHandler(PatternMatchingEventHandler):\n    patterns = [\"*/\"+fname]\n\n    def process(self, event):\n        \"\"\"\n        event.event_type \n            'modified' | 'created' | 'moved' | 'deleted'\n        event.is_directory\n            True | False\n        event.src_path\n            path/to/observed/file\n        \"\"\"\n        # the file will be processed there\n        print event.src_path, event.event_type  # print now only for degug\n        if event.event_type == 'modified':\n            print fname\n\n\n    def on_modified(self, event):\n        self.process(event)\n\nif __name__ == '__main__':\n#    args = sys.argv[1:]\n    fname = 'file.txt'\n    observer = Observer()\n    observer.schedule(MyHandler(), path='.')\n    observer.start()\n\n    try:\n        while True:\n            time.sleep(60)\n    except KeyboardInterrupt:\n        observer.stop()\n\n    observer.join()\n</code></pre>\n\n<p>I tried something as mentioned above but it didn't worked. It says <code>fname is not defined</code>. Well okay, I tried <code>patterns = [].append(\"*/\"+fname)</code> with no success either.</p>\n\n<p>Then I tried to create an init function</p>\n\n<pre><code>def __init__(fname):\n    self.patterns = [].append(\"*/\"+fname)\n</code></pre>\n\n<p>and passed like <code>observer.schedule(MyHandler(fname), path='.')</code></p>\n\n<p>Bummer! No success either. How can I achieve this?</p>\n"}, {"tags": ["python", "numpy", "fft"], "answers": [{"tags": [], "owner": {"reputation": 2795, "user_id": 2142582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhT6C.jpg?s=128&g=1", "display_name": "HAL 9001", "link": "https://stackoverflow.com/users/2142582/hal-9001"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702081, "creation_date": 1550702081, "answer_id": 54796315, "question_id": 54795804, "link": "https://stackoverflow.com/questions/54795804/doubling-input-array-when-using-numpy-for-fast-fourier-transforms/54796315#54796315", "title": "Doubling input array when using numpy for fast fourier transforms", "body": "<p>Welcome to StackOverflow, @Messier!</p>\n\n<p>If I understand your question correctly, you want to <a href=\"https://docs.scipy.org/doc/numpy-1.16.0/reference/arrays.indexing.html\" rel=\"nofollow noreferrer\"><code>slice</code></a> a <code>numpy.array</code>.</p>\n\n<p>Suppose we have a <code>numpy.array</code> <code>arr</code> that has length <code>N</code>. Then to slice up to length <code>M</code> (such that <code>M&lt;=N</code>) or up to <code>(N/2)+1</code>:</p>\n\n<pre><code>sliced_arr = arr[:M]\nslice_half = arr[:N//2+1]\n</code></pre>\n\n<p>where in <code>python</code> versions <code>3</code> or greater, <code>N//2</code> does integer division.</p>\n"}, {"tags": [], "owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "is_accepted": false, "score": 0, "last_activity_date": 1550726596, "creation_date": 1550726596, "answer_id": 54799794, "question_id": 54795804, "link": "https://stackoverflow.com/questions/54795804/doubling-input-array-when-using-numpy-for-fast-fourier-transforms/54799794#54799794", "title": "Doubling input array when using numpy for fast fourier transforms", "body": "<p>The easiest way to get an array of frequencies to be used with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.fft.rfft.html#numpy.fft.rfft\" rel=\"nofollow noreferrer\"><code>np.fft.rfft</code></a> is to make use of the convenient helper function <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.fft.rfftfreq.html#numpy.fft.rfftfreq\" rel=\"nofollow noreferrer\"><code>np.fft.rfftfreq</code></a>:</p>\n\n<pre><code>freqs = np.rfftfreq(x_test)\n</code></pre>\n\n<p>The multi-dimentional equivalent for <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.fft.rfftn.html#numpy.fft.rfftn\" rel=\"nofollow noreferrer\"><code>np.fft.rfftn</code></a> is slightly more complicated. You will need to get the frequencies along each axes, then use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html\" rel=\"nofollow noreferrer\"><code>np.meshgrid</code></a>:</p>\n\n<pre><code>per_axis_freq = [np.fft.fftfreq(N) for N in x_test.shape[0:-1]]\nper_axis_freq.append(np.fft.rfftfreq(x_test.shape[-1]))\nfreqs = np.meshgrid(*per_axis_freq[::-1])\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11092550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4493b54dcf2d665c6a07b7ebde234c6c?s=128&d=identicon&r=PG&f=1", "display_name": "Messier51", "link": "https://stackoverflow.com/users/11092550/messier51"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1550726596, "creation_date": 1550699558, "last_edit_date": 1550701708, "question_id": 54795804, "link": "https://stackoverflow.com/questions/54795804/doubling-input-array-when-using-numpy-for-fast-fourier-transforms", "title": "Doubling input array when using numpy for fast fourier transforms", "body": "<p>I wrote a function that returns the real component of the fast four transform of a grid. </p>\n\n<pre><code>def take_FFT(x):\n    # some arbitrary field for a 1D grid\n    y = abs(1.0/x)\n    # compute FFT (in general multi-dimensional) array of real numbers\n    y_k = np.fft.rfftn(y)\n\n    #compute the inverse FFT\n    y_invk = np.fft.irfftn(y_k)\n    return y,y_k, y_invk # return fourier transform and inv transform\n\n# initialize sample x\nx_test = np.arange(-5,5,0.001)\n\nfield,FFT_test, inv_test = take_FFT(x_test)\n</code></pre>\n\n<p>How do I make an appropriate new \"x array\" to plot against the FFT? It is not clear to me how to make an array of length = (n/2)+1, like the one that np.fft.irfftn returns </p>\n"}, {"tags": ["python", "python-imaging-library", "python-3.7", "pyglet", "bytesio"], "comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1550702972, "post_id": 54795777, "comment_id": 96370850, "body": "If hope you&#39;re ok with me changing the title. I think this better matches what you&#39;r asking in the question. If not, feel free to change back to the original title :)"}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550787108, "post_id": 54795777, "comment_id": 96410303, "body": "The new title is fine, in fact, maybe it&#39;s better if someone asks my question."}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1550911934, "post_id": 54795777, "comment_id": 96453379, "body": "I&#39;m struggling with reproducing any of the information given in the image data. if I do <code>open(&#39;test.png&#39;, &#39;wb&#39;).write(ico[&#39;ico_16&#39;][&#39;byte&#39;])</code> and do <code>identify test.png</code> (imagemagick), you&#39;ll get <code>identify: improper image header </code>test.png&#39; @ error/png.c/ReadPNGImage/4281.` So there&#39;s something fishy with the PNG-data. Could you upload your image icon here as a resource?"}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550953105, "post_id": 54795777, "comment_id": 96464512, "body": "Changed the question again :)"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1550956538, "post_id": 54795777, "comment_id": 96465353, "body": "Those bytes strings are completely different from the first ones, why is that? :)"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1550958113, "post_id": 54795777, "comment_id": 96465711, "body": "In this case, the data is a pure PNG. And this is when @snakecharmerb&#39;s answer works the best. I missunderstood the question and thought the data you had was pixel-data. But you&#39;ve got header and everything, and with the latest bytes data you sent, i get: <code>https:&#47;&#47;i.imgur.com&#47;1E3KbkZ.png</code>"}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550958510, "post_id": 54795777, "comment_id": 96465801, "body": "The two new bytes strings are the two new images I used to replace the two icons used at the beginning. In fact, if you use the write method, you get the new images. Still, on pyglet I still get the same problem."}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550958576, "post_id": 54795777, "comment_id": 96465818, "body": "For the snakecharmerb answer, now also to me now from the image... So it was actually the initial method that gave the error, right?"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1550958657, "post_id": 54795777, "comment_id": 96465833, "body": "I expanded my answer to explain it a bit more. But quire frankly I just think your first images were broken. or in a different format (JPG, GIF or ICO) that you renamed to PNG and tried to load in that format. I also described how you would save <b>just the image data</b> without headers etc, so that you can load it as a string without going through a file IO buffer. It&#39;s slightly faster but you&#39;ll loose the ability to use compression via file formats. Which as a side effect makes it faster as well :) And I think you should mark snakes answer as the correct one, I just contributed more info :)"}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550958883, "post_id": 54795777, "comment_id": 96465898, "body": "Thank you. However, in reality, I think it is due to the fact that before, I obtained the string of bytes from a png image combining BytesIO and PIL (as I also wrote). By changing the method, it now works correctly :)"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550959041, "post_id": 54795777, "comment_id": 96465935, "body": "Glad it works! :) Best of luck on your project!"}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1550959081, "post_id": 54795777, "comment_id": 96465944, "body": "Thanks again :)"}], "answers": [{"comments": [{"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "edited": false, "score": 0, "creation_date": 1550787171, "post_id": 54795867, "comment_id": 96410326, "body": "Thanks for the reply. I modified my question, so as to enter the results obtained."}], "tags": [], "owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "is_accepted": false, "score": 2, "last_activity_date": 1550699835, "creation_date": 1550699835, "answer_id": 54795867, "question_id": 54795777, "link": "https://stackoverflow.com/questions/54795777/load-images-from-data-stream-and-not-from-a-file/54795867#54795867", "title": "Load images from data stream and not from a file", "body": "<p>According to the <a href=\"https://pyglet.readthedocs.io/en/pyglet-1.3-maintenance/programming_guide/image.html#loading-an-image\" rel=\"nofollow noreferrer\">docs</a>, you like load an image from a <em>file-like object</em> (like a BytesIO) by specifying the <code>file</code> keyword parameter:</p>\n\n<pre><code>kitten_stream = io.BytesIO(some_bytes)\nkitten = pyglet.image.load('kitten.png', file=kitten_stream)\n</code></pre>\n\n<p>(You may need to rewind the file pointer to the beginning of the file by calling <code>kitten_stream.seek(0)</code> before loading).</p>\n"}, {"comments": [{"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "edited": false, "score": 0, "creation_date": 1550787167, "post_id": 54796298, "comment_id": 96410325, "body": "Thanks for the reply. I modified my question, so as to enter the results obtained."}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "edited": false, "score": 1, "creation_date": 1550787985, "post_id": 54796298, "comment_id": 96410657, "body": "@BlackFenix06 Most likely just because your image-data has an alpha channel as well. I can correct my code in the morning. But what you need is basically to change <code>RGB</code> to <code>RGBA</code> in the format descriptor. <code>ico_img = pyglet.image.ImageData(16, 16, &#39;RGBA&#39;, ico[&#39;ico_16&#39;][&#39;byte&#39;])</code> for instance. I&#39;ll double check in the morning tho."}, {"owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "edited": false, "score": 0, "creation_date": 1550858403, "post_id": 54796298, "comment_id": 96440269, "body": "I have tested what you have suggested, but I have no change from the added problem. I tested if it was the byte string that had been badly copied, but it is working. So the problem I have is that I&#39;m doing something wrong that I do not understand, or it&#39;s Pyglet who can not do the job ..."}], "tags": [], "owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "is_accepted": true, "score": 2, "last_activity_date": 1550959002, "last_edit_date": 1550959002, "creation_date": 1550702002, "answer_id": 54796298, "question_id": 54795777, "link": "https://stackoverflow.com/questions/54795777/load-images-from-data-stream-and-not-from-a-file/54796298#54796298", "title": "Load images from data stream and not from a file", "body": "<p>What @snakecharmerb said is completely true, you could <a href=\"https://stackoverflow.com/a/44663628/929999\">load it via a BytesIO stream</a>. And it's usually the way most people go. The problem with it is that you need the complete data in order for it to load, otherwise you'll get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 19, in &lt;module&gt;\n    kitten = pyglet.image.load('kitten.png', file=kitten_stream)\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyglet\\image\\__init__.py\", line 205, in load\n    raise first_exception\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyglet\\image\\__init__.py\", line 195, in load\n    image = decoder.decode(file, filename)\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyglet\\image\\codecs\\gdiplus.py\", line 283, in decode\n    bitmap = self._load_bitmap(file, filename)\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyglet\\image\\codecs\\gdiplus.py\", line 226, in _load_bitmap\n    'GDI+ cannot load %r' % (filename or file))\npyglet.image.codecs.ImageDecodeException: GDI+ cannot load 'kitten.png'\n</code></pre>\n\n<p>To get around this, you can create your own valid image structure and in-line replace the data.\nAnd I like quirky solution, so I'll drop this little nugget for anyone who needs to manipulate data/pixels in a way you're planning on doing.</p>\n\n<pre><code>ico_img = pyglet.image.SolidColorImagePattern((255,255,255,255)).create_image(16, 16) # Width, Height\nico_img.set_data('RGB', image_data.width*len('RGB'), ico['ico_16']['byte'])\n</code></pre>\n\n<p>What this does, is basically just crate (pretty quickly) a solid image blob with the right format. Then it in-line replaces the data with whatever you give it. The only important thing here is that your <code>width</code> and <code>height</code> matches the data-length/format chosen. I assumed the data you've got going is <code>RGB</code> and it appears to be working.</p>\n\n<p>Now, I recon this is the fastest way to do it.\nBut there's a better and almost as fast way of doing it, and it's more readable:</p>\n\n<pre><code>ico_img = pyglet.image.ImageData(16, 16, 'RGB', ico['ico_16']['byte'])\n</code></pre>\n\n<p>This accepts any data stream that's valid RGB data (0-255).<br>\nLastly, don't forget to place your image in a sprite object to make it faster and easier to work with:</p>\n\n<pre><code>ico_img_sprite = pyglet.sprite.Sprite(ico_img)\n</code></pre>\n\n<p>It'll make your life easier in the long run! :)</p>\n\n<h2>Edit</h2>\n\n<p>There are three differences in the first post and the methods to solve this.<br>\nFirstly, the original image data appears to be broken, so it's hard/impossible to load.</p>\n\n<p>Secondly, seeing as the new raw data contains meta-data such as headers, creation timestamp etc. It will only be loadable via the <code>io.BytesIO</code> method, because it needs to go through <a href=\"https://pyglet.readthedocs.io/en/pyglet-1.3-maintenance/programming_guide/image.html#loading-an-image\" rel=\"nofollow noreferrer\">any available image decoder</a>.</p>\n\n<p>Thirdly, you need to extract the image data (pixel-data) from the image in order to use any methods posted in my answer. Since it will bypass any image encoders and/or compressions. Making it a little bit faster, but at the expense of image data size.</p>\n\n<p>Here is snakes answer working with the new data:</p>\n\n<pre><code>raw_image = b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x10\\x00\\x00\\x00\\x10\\x08\\x03\\x00\\x00\\x00(-\\x0fS\\x00\\x00\\x00\\x03sBIT\\x08\\x08\\x08\\xdb\\xe1O\\xe0\\x00\\x00\\x00\\tpHYs\\x00\\x00\\x01\\xc1\\x00\\x00\\x01\\xc1\\x01E\\x85\\\\9\\x00\\x00\\x00\\x19tEXtSoftware\\x00www.inkscape.org\\x9b\\xee&lt;\\x1a\\x00\\x00\\x00\\xd2PLTE\\xff\\xff\\xff\\x00\\x00\\x00O33gNNm/1l/1t./\\x87`cy*-\\x86_b\\x8f*+\\x8efiz,/\\x90hl\\x94!$\\xa1\\'(\\xa3{|\\x8eln\\xb4$&amp;\\xb9 !\\xa1\\x88\\x8b\\x8b\"#\\xae\\x8f\\x91\\xbc\\xa8\\xaa\\xbe\\xb0\\xb2\\xe4\\x19\\x1a\\xec\\x1d\\x1d\\x90\\x8d\\x90\\x85\\x88\\x8c\\x89\\x8b\\x8e\\x8b\\x92\\x96\\x90\\x95\\x98\\x96\\x9e\\xa2\\x97\\x9f\\xa3\\xa2or\\xa4`b\\xa9\\x19\\x1a\\xaa\\x1b\\x1d\\xaa\\xb5\\xba\\xaa\\xb6\\xbb\\xab\\xb2\\xb7\\xab\\xb3\\xb8\\xab\\xb4\\xb8\\xab\\xba\\xc0\\xb7\\x11\\x12\\xb9\\xc4\\xc9\\xbe\\xc0\\xc2\\xbf\\xbb\\xbc\\xc4\\x14\\x15\\xd0\\xde\\xe3\\xd6\\t\\t\\xd8\\n\\n\\xd8\\xe5\\xea\\xda\\n\\n\\xda\\x0b\\x0b\\xda\\xe6\\xeb\\xdb\\xe7\\xec\\xdc\\xe8\\xec\\xe0\\r\\r\\xe1\\r\\r\\xe2\\xec\\xef\\xe2\\xec\\xf0\\xe4\\xe5\\xe6\\xe7\\x10\\x10\\xe8\\xf0\\xf3\\xec\\xea\\xeb\\xf4\\x16\\x16\\xf5\\xf8\\xfa\\xff\\x1a\\x1a\\xff\\xff\\xff\\xeb\\x12-N\\x00\\x00\\x00\\x1ctRNS\\x00\\x01-4\\x81\\x82\\x91\\x9d\\x9e\\x9e\\xb0\\xb2\\xb8\\xc1\\xd0\\xd1\\xd8\\xd9\\xe5\\xe9\\xf1\\xf2\\xf2\\xfb\\xfc\\xfd\\xfd\\xfe(\\xffw\\x99\\x00\\x00\\x00\\xb0IDAT\\x18\\x19=\\xc1\\x89\\x1a\\x81@\\x14\\x06\\xd0\\x7f\\n\\x955Id\\xdf\\xf7\\xc24\\xd6\\x90\\xf5\\xfd_\\xc9\\x1d\\xfa:\\x07\\x92\\x92\\xc9\\x96J\\xd9\\x8c\\x82?\\x96\\xb6\\xde?V\\x9a\\x81\\xb0|\\xe3\\x19\\x85\\xfb}\\x18=\\x1by\\x06 \\xe5\\x9ey\\xec\\xec\\xa6\\x00\\xa5\\x12\\xf0DPQ\\xa0\\xef\\xb8\\xb4\\xd9pi\\xa7\\xa3\\xc8\\xa5\\xc1l6\\xe4R\\x11\\xd5\\x15\\x19\\xcf\\xbb\\x9d\\xf5hE\\xaahzd\\xbah\\xb7\\xfc\\x89G\\x9a\\xb0\\x85\\xd4\\xf7\\xfd\\x9e\\x90l\\x14\\x8e\\x82l\\x97\\xcb\\xad \\xc7\\x02\\xd4\\xfaA$\\x0eu\\x15\\xd0n\\x17\\x11\\xbb\\xdc4\\x00\\xac\\xfcx\\xdd\\xaf\\xa7\\xd3\\xf5\\xfez\\x94\\x19\\x083j\\x9f\\x9f\\x9a\\xc1\\xf0\\xa7\\xe6L\\xc71s*\\xc8\\x17B\\xf5#3;\\xd8r\\xdc\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\nimage_buffer = io.BytesIO(raw_image)\nimage = pyglet.image.load('temp.png', file=image_buffer)\nimage_sprite = pyglet.sprite.Sprite(pyglet_image)\n</code></pre>\n\n<p>If you want to store the pixel data alone, you could extract it like this:</p>\n\n<pre><code>print(image.image_data.get_data('RGBA', 16*4))\n</code></pre>\n\n<p>Where <code>'RGBA'</code> is the format you want on the data, and <code>16*4</code> is the ammount of pixels per row times the ammount of colors per pixel (RBGA is 4).</p>\n\n<p>That will give you the option to do:</p>\n\n<pre><code>raw_data = b'\\x00\\xae\\xff\\x00\\x00\\x00\\x00\\x00\\x00@b\\x00\\x00q\\xa5\\x05\\x009XI\\x00-I\\xa8\\x00\\'A\\xe4\\x00%?\\xfb\\x00%?\\xfb\\x00\\'A\\xe4\\x00-I\\xa8\\x009XI\\x00q\\xa5\\x05\\x00Be\\x00\\x00\\xff\\xff\\x00\\x00\\xae\\xff\\x00\\x00\\x9e\\xe9\\x00\\x00\\r\\x1c\\x00\\x00Hm\\x18\\x00.I\\x92\\x00#&lt;\\xef\\x00\"&lt;\\xff\\x00%B\\xff\\x00(F\\xff\\x00(F\\xff\\x00%B\\xff\\x00\"&lt;\\xff\\x00#&lt;\\xef\\x00.I\\x92\\x00Jo\\x18\\x00\\x00\\x00\\x00\\x00\\x9f\\xea\\x00\\x00\\xcf\\xff\\x06\\x00a\\x93 \\x00-I\\xb2\\x00\";\\xff\\x00)G\\xff\\x002T\\xff\\x007[\\xff\\x00;a\\xff\\x00;c\\xff\\x009_\\xff\\x003V\\xff\\x00)H\\xff\\x00\"&lt;\\xff\\x00.L\\xb3\\x00i\\xa0#\\x00\\xcb\\xff\\x07\\x04\\xb7\\xff\\x1e\\x06U\\x81\\xa0\\x00)H\\xff\\x000U\\xff\\x00&lt;d\\xff\\x00Cm\\xff\\x00Hu\\xff\\x00O\\x82\\xff\\x06]\\x94\\xff\\x04V\\x8b\\xff\\x00Eq\\xff\\x00&lt;d\\xff\\x006_\\xff\\x013Y\\xff\\x05V\\x86\\xa2\\x02\\xb5\\xff!\\x02v\\xb4f2\\x8d\\xbf\\xf3\\x10[\\x95\\xff\\x0b[\\x97\\xff\\x04\\\\\\x9a\\xff\\x02^\\x9e\\xff\\x0cn\\xaf\\xff\\tu\\xc6\\xffA\\xad\\xee\\xff5\\x9f\\xdc\\xff\\x01Z\\x92\\xff\\x00M\\x82\\xff!u\\xb0\\xff?\\x9b\\xd3\\xff(\\x88\\xbf\\xf3\\x01u\\xb5g\\x00@l\\xb5+{\\xab\\xff4\\xa0\\xea\\xff:\\xaa\\xf6\\xff4\\xa5\\xf0\\xff,\\xa0\\xee\\xff;\\xb0\\xfa\\xff4\\xaf\\xfd\\xff8\\xb3\\xff\\xff3\\xa9\\xf4\\xff\\x05i\\xaf\\xff\\x00d\\xad\\xffL\\xb0\\xec\\xff[\\xc2\\xff\\xff$w\\xad\\xff\\x00Am\\xb5\\x004X\\xe7*}\\xb1\\xffD\\xb8\\xff\\xff\\x11\\x96\\xff\\xff:\\xb4\\xff\\xff;\\xb7\\xff\\xff\\x0f\\x99\\xff\\xffE\\xbf\\xff\\xff8\\xb8\\xff\\xff1\\xac\\xf9\\xff\\x03q\\xca\\xff\\x19\\x89\\xda\\xff9\\xb4\\xfe\\xffE\\xbb\\xff\\xff$y\\xb0\\xff\\x003W\\xe7\\x001R\\xfc+\\x80\\xb6\\xffD\\xb9\\xff\\xff\\x10\\x97\\xff\\xff9\\xb4\\xff\\xff;\\xb7\\xff\\xff\\x0e\\x99\\xff\\xffE\\xbe\\xff\\xff8\\xba\\xff\\xff1\\xaf\\xfe\\xff\\x07\\x80\\xea\\xff1\\xa5\\xf5\\xff\\x1d\\x9e\\xff\\xffF\\xbb\\xff\\xff$|\\xb3\\xff\\x001Q\\xfc\\x001R\\xfc+\\x80\\xb6\\xffD\\xb8\\xff\\xff\\x10\\x93\\xff\\xff:\\xb2\\xff\\xff;\\xb5\\xff\\xff\\x0e\\x95\\xff\\xffE\\xbe\\xff\\xff8\\xbc\\xff\\xff0\\xb2\\xff\\xff\\x1f\\x9d\\xfd\\xff&amp;\\x9b\\xf2\\xff\\x11\\x8b\\xf6\\xffG\\xba\\xff\\xff${\\xb2\\xff\\x001Q\\xfc\\x004W\\xe7*}\\xb2\\xffD\\xb7\\xff\\xff\\x0f\\x88\\xf5\\xff8\\xa8\\xf4\\xff?\\xaf\\xf6\\xff\\x0c\\x89\\xf7\\xffE\\xbc\\xff\\xff8\\xbd\\xff\\xff4\\xb9\\xff\\xff8\\xb0\\xf9\\xff\\tx\\xcf\\xff\\x12\\x80\\xdc\\xffG\\xb7\\xfe\\xff$x\\xae\\xff\\x003V\\xe7\\x00&gt;h\\xb3+z\\xab\\xffE\\xb5\\xf7\\xff\\x0fv\\xc8\\xff\\x07g\\xaa\\xff\\tl\\xad\\xff\\nw\\xcd\\xffG\\xbb\\xfd\\xff7\\xb9\\xff\\xff\\\\\\xc7\\xff\\xff3\\x9b\\xdc\\xff\\x00\\\\\\xa4\\xff\\x13v\\xbd\\xffH\\xb6\\xf6\\xff%u\\xa6\\xff\\x00=f\\xb2\\x00X\\x8f^\"o\\x9c\\xf2F\\xa5\\xd8\\xff\\tY\\x92\\xff\\x00Iw\\xff\\x00N|\\xff\\x04b\\x9e\\xffB\\xab\\xe6\\xff+\\xa0\\xee\\xff=\\xa4\\xe6\\xff\\x0ej\\xa6\\xff\\x00L\\x7f\\xff\\x0b[\\x93\\xffI\\xa7\\xd9\\xff\\x1ek\\x97\\xf2\\x00W\\x8c]\\x00\\xa1\\xf0\\x17\\x02Gq\\x9d\\x056Y\\xff\\x002X\\xff\\x00:_\\xff\\x00Ah\\xff\\x00Jw\\xff\\x04Z\\x90\\xff\\x02Z\\x97\\xff\\x00U\\x8e\\xff\\x00Gt\\xff\\x00&lt;c\\xff\\x003Y\\xff\\x057Z\\xff\\x02Gp\\x9d\\x00\\xa1\\xf0\\x16\\x00\\xfa\\xff\\x03\\x00b\\x95\\x1f\\x00-I\\xb3\\x00\"&lt;\\xff\\x00)G\\xff\\x002T\\xff\\x008]\\xff\\x00;b\\xff\\x00&lt;d\\xff\\x009_\\xff\\x003V\\xff\\x00)H\\xff\\x00\"&lt;\\xff\\x00-I\\xb3\\x00b\\x95\\x1f\\x00\\xff\\xff\\x03\\x00\\x8b\\xce\\x00\\x00\\x15\\'\\x00\\x00In\\x18\\x00.I\\x92\\x00#&lt;\\xef\\x00\"&lt;\\xff\\x00%B\\xff\\x00(F\\xff\\x00(F\\xff\\x00%B\\xff\\x00\"&lt;\\xff\\x00#&lt;\\xef\\x00.I\\x92\\x00In\\x18\\x00\\x16(\\x00\\x00\\x8a\\xcc\\x00\\x00\\xaf\\xff\\x00\\x00\\x00\\x00\\x00\\x00Ac\\x00\\x00q\\xa6\\x05\\x009XI\\x00-I\\xa8\\x00\\'A\\xe4\\x00%?\\xfb\\x00%?\\xfb\\x00\\'A\\xe4\\x00-I\\xa8\\x009XI\\x00q\\xa6\\x05\\x00Ad\\x00\\x00\\x00\\x00\\x00\\x00\\xaf\\xff\\x00'\nimage_sprite = pyglet.sprite.Sprite(pyglet.image.ImageData(16, 16, 'RGBA', raw_data), x=10, y=10)\n</code></pre>\n\n<p>And in both cases, you'll get a result that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5RrpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RrpB.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 535, "user_id": 7155895, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NKGHL.png?s=128&g=1", "display_name": "BlackFenix06", "link": "https://stackoverflow.com/users/7155895/blackfenix06"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 54796298, "answer_count": 2, "score": 1, "last_activity_date": 1550959002, "creation_date": 1550699411, "last_edit_date": 1550958290, "question_id": 54795777, "link": "https://stackoverflow.com/questions/54795777/load-images-from-data-stream-and-not-from-a-file", "title": "Load images from data stream and not from a file", "body": "<p>I have a program (in Pyglet) in which I would like to keep the icons of them in the form of bytes, then convert them into temporary images and pass them to the program to be able to use them.</p>\n\n<p>This is a dictionary where the data of the two icons are present:</p>\n\n<pre><code>ico = {\n    \"ico_16\": {\n        \"dimension\": (16, 16),\n        \"byte\": b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x10\\x00\\x00\\x00\\x10\\x08\\x06\\x00\\x00\\x00\\x1f\\xf3\\xffa\\x00\\x00\\x00\\x04gAMA\\x00\\x00\\xb1\\x8f\\x0b\\xfca\\x05\\x00\\x00\\x00 cHRM\\x00\\x00z&amp;\\x00\\x00\\x80\\x84\\x00\\x00\\xfa\\x00\\x00\\x00\\x80\\xe8\\x00\\x00u0\\x00\\x00\\xea`\\x00\\x00:\\x98\\x00\\x00\\x17p\\x9c\\xbaQ&lt;\\x00\\x00\\x00\\x06bKGD\\x00\\xff\\x00\\xff\\x00\\xff\\xa0\\xbd\\xa7\\x93\\x00\\x00\\x00\\x07tIME\\x07\\xe2\\x08\\x05\\x12-\\x0f?\\xc1\\x9b\\xba\\x00\\x00\\x03\\x0fIDAT8\\xcbU\\x92Kh\\\\U\\x00\\x86\\xbfs\\xee\\x99{g\\xe6&gt;f:\\xe9&lt;,3i51\\xa6\\x92B\\xb5iHQ\\n%.\\n\\xf6A)E(\\xb5YtS\\x8a R\\\\\\xe8F\\r\\xe2^\\x10WZ\\x91\\xae\\x8a\\x8b`\\t\\xbaP\\xac\\x0b\\xad\\x8a\\xf4\\x85\\n\\xadv\\xa16\\x19\\'N\\x9b\\xcc+3\\xb9\\xcf\\xe3b\\xda\\x85\\xff\\xf2\\x87\\xff\\xdb\\xfc\\x9f`Q\\xc31\\x01\\x07\\xce\\xc0\\xee\\xb9\\x14?^~\\x81^{\\x9e`\\xf3y\\x92\\xa4\\x0c\\x80\\x94\\xab\\x98\\xe9\\xefpr\\x9f2{\\xe4kn~\\x13r\\xe5#X\\xd4\\x18L\\x1f\\x85\\x9b\\xdf\\xc2\\xe8\\xce\\n\\xb7\\xae\\xbcK\\xeb\\xfe\\x02A0\\x8dP\\x1e\\x86)\\x91J\\x92h\\x0f\\x7f0E\\xbf\\xf3\"\\xcb\\xb7+\\x14*7\\xe8\\xb4{L\\xeeC\\x10h\\x83\\xb3\\x1fV\\xf9y\\xe9\\x036\\xba\\x87\\xb0l\\xc8\\xb8`f\\xc0H\\x81\\x90\\x10\\x87\\x10\\x0c\\xa0\\xdf\\x01\\xbf\\x07\\xb6\\xbb\\xc4\\xdeC\\xaf\\xf0\\xf1\\xb9e\\x83\\xf1\\xd7J\\xf2\\xea\\xe2\\x82\\x8a\\xa2\\x97\\x12\\xd3\\x037\\x0fv\\x0e\\xbc\"\\xaa2\\x0e\\xb9\\x1a\\xda\\x19\\x01C\\x82J\\x81\\xca\\x92\\xb22\\x13\\x84\\xbe\\xa7\\x93}W\\r\\xd2\\xe5\\xe3\\x8f\\xef\\xa8\\xbe\\xbe\\xe7\\xf8i\\xab\\xbe\\x16\\x10\\xa1!\\xe3\\xa2JO\\xb2\\xff\\xf0Q2\\xa3\\xbb\\x99|z\\x92\\xd6\\x86\\x8f\\xef\\x87\\xd8\\xd5\\xa78p\\xfa\\x0c~\\xaf;\\xde\\xbe\\xf5\\xd3\\x1dE\\xfd\\xce\\x89\\xcc\\x13s\\xae\\xceo\\xc7\\xac\\xcd\\x90x\\x7f#S\\x06\\xc2\\xdeA*_\\xc6\\xf1$\\xdb=\\xe8\\x0ff\\xb8\\xd6IHo{\\x0c\\x9d\\xabaes.\\xf5\\x1b\\'\\x14\\xfd\\xf5imXh\\x99\\x86\\xc2.\\x9eyv\\n\\xcb\\x92\\\\\\xfb]\\x90\\x08\\x89Pp\\xbb\\x03\\xa9b\\x8dL\\xb5\\x8bN\\xbbh\\x91F\\x1bi\\xe8\\xb7\\xf6*\\xe2\\xb0(\\x0c\\x05\\x02\\x84\\x9dEf!2@:\\x80\\x04\\x12\\x88|h&gt;P\\xd4\\xc6\\xc6h\\xb6\\x14\\x18\\x02\\x0c\\x05IX\\x94&lt;\\x8a\\x00\\x14h\\xf9p\\xa8\\x1e\\xf6\\t\\x88X\\xd3\\xb8\\xf7\\x00;k\\xe0\\x8cd\\xd0\\x02\\x10b\\xa8\\x08\\x86\\xd9\\xd4q\\x08\\x1a\\x84\\x1er\\x1e\\xf1\\x10C\\x00qH\\xd4\\xfe\\x93\\xc6\\xf2\\n\\xd5\\x92F\\x03\\xc41H\\xb3)q\\xb6^\\x17I@\\xab\\xd1d\\xe7\\xd6\\x01A\\xbbM{u\\x9d\\xa9r\\xc8z+\\x81\\x10d\\x1c\"7W\\xf8\\xe7\\x8f_\\x18\\x89\\xd6(Y@\\x12\\x83W\\xba\\xae\\xe4\\xcc\\xc1\\xcf\\xad\\x82\\xbd\\xff\\xeeW\\x9f9!\\x12_\\x18$R\\x91\\xcdo!\\xb6\\xca\\xcc\\xceN\\x12\\xf7\\xd7\\x88\\xda\\xf7\\xa0\\xdb\\xe2\\xb7\\xef\\rF\\'\\xc6P[\\n=1}\\xf0\\xb2P_\\xeaQyaa!\\xf8\\xf5\\x87y,\\x17\\x9c\\x1cX\\x19H\\xa5\\xc1r1\\xbd\\x02\\x89? Z\\xaf\\xc3\\xa0\\x0bA\\x88\\x88\\x03\\xd4\\xd8\\xae\\x8b\\xf1\\xfc\\x1bo\\xa9\\xa8B\\x03\\xa7\\xf06J\\x14\\xe8\\xd4\\x0f\\xe3w\\x86*\\xa7,P&amp;\\xc1\\xfd\\xbf \\x89\\xfe\\xa7\\xb2v\\xf2K\\xe1\\xc8\\xb6w(Q\\x17\\\\X\\x85W\\xf7\\xc0s\\xc7*\\xd4\\xef\\xbe\\xc9F\\xf7e4y\\x0csx\\x15@\\x1cA\\x1c\\x80\\xa0\\x85\\xed^\\xa4:\\xf1\\x1e_\\xbc\\xdf\\xe0\\x93\\x7f\\x91\\xe4K\\xd0]\\x86\\xcd\\x8d\\x06s\\xa7\\xceS\\xaa\\x9e\\xc4v/!\\xf5\\n\\xb1\\x1f\\x11\\xfb\\x11R\\xaf`\\xbb\\x97(UO2w\\xea&lt;\\x9b\\xfd\\x06ZC\\xae\\xc8\\x7f\\xde\\x160\\x90\\xb5\\xbaI\\xa8\\x00\\x00\\x00%tEXtdate:create\\x002018-08-05T18:45:15+00:00\\xbf\\xac\\x1c\\xb8\\x00\\x00\\x00%tEXtdate:modify\\x002018-08-05T18:45:15+00:00\\xce\\xf1\\xa4\\x04\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\n    },\n    \"ico_32\": {\n        \"dimension\": (32, 32),\n        \"byte\": b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00 \\x00\\x00\\x00 \\x08\\x06\\x00\\x00\\x00szz\\xf4\\x00\\x00\\x00\\x04gAMA\\x00\\x00\\xb1\\x8f\\x0b\\xfca\\x05\\x00\\x00\\x00 cHRM\\x00\\x00z&amp;\\x00\\x00\\x80\\x84\\x00\\x00\\xfa\\x00\\x00\\x00\\x80\\xe8\\x00\\x00u0\\x00\\x00\\xea`\\x00\\x00:\\x98\\x00\\x00\\x17p\\x9c\\xbaQ&lt;\\x00\\x00\\x00\\x06bKGD\\x00\\xff\\x00\\xff\\x00\\xff\\xa0\\xbd\\xa7\\x93\\x00\\x00\\x00\\x07tIME\\x07\\xe2\\x08\\x05\\x12+\\x1a\\x04F\\xd8\\xd7\\x00\\x00\\x08\\xc3IDATX\\xc3\\x9d\\x97il\\\\\\xd5\\x15\\xc7\\x7f\\xf7\\xad\\xb3\\xd8c{&lt;\\xb6gL\\xec\\xd8\\xb1]\\xc7\\xc4\\x91\\x1bB\\x0c\\x844II\\xa9h\\x8b(\\x82\\xb2\\xb4H]&gt;\\xb0tQEAU@\\xb4\\xaa\\xdb\\xaa-\\x15-\\x82~@\\x84(m?P\\xf5C\\x05\\xdd\\xa8\\x8ah\\xd9B\\x81`\\'\\r\\x11 \\x12;\\xc4\\x89q\\xf06\\xf6,\\x9ey\\xb3\\xbc\\xad\\x1f\\xee\\x9b\\xd8NhUq\\xa5\\xa3;\\xbao\\xee9\\xffs\\xee\\xb9\\xe7\\xfc\\xaf\\xe0\\xc3\\xc6]O@n\\x01BQ\\x98\\x9d\\x84\\x07\\x1fQ\\xf8\\xf1\\x0f\\xfa\\xc9/\\xee\\xa1\\xb4\\xfcI*\\xd6f\\xecj\\x12\\xcf\\x8d\\x02\\xa0\\xa8Etc\\x163\\xf2\\x16\\xe1\\xfa\\x17\\x895?\\xcf\\xf7\\x7fx\\x82\\xfb\\xee\\xf6HvC\\xb9\\x08\\r-\\xf0\\xf8\\x1d\\x17\\x98\\x12\\x00&lt;\\xed\\xaf\\xac\\xfc\\xf9a8\\xfd6\\xc4S\\xf0\\x8b\\x9f\\x08\\xbe\\xb3w\\x98\\xcc\\xecW\\xc9/^C1\\xdfA\\xb5\\xac\\xe2\\xb9\\xe0\\xafl\\x07_\\xfeTT0B.\\xd1\\xd8\\xfb\\xc4\\x9a\\x9f\\xa5)\\xf9[\\x1e\\xfe\\xf9(\\xdf}\\xc0gi\\x06\\xba\\x06\\xe1\\xf3\\xf7\\xac\\xd8\\xbaA \\xd6\\x18\\x0f\\x033s\\xf0\\xfb\\x11H\\xacK1s\\xean\\x16\\xcf~\\x8d\\xfcR\\x0b\\x8e\\x03\\x8a\\x06\\xaa.gEY\\x0b\\xc0\\xf3\\xc0s\\xc0\\xb5\\xe5\\xaci\\x10\\x8b\\xa7i\\xbe\\xe8\\xd7\\xa46&lt;Bzz\\x86/\\x8e@\\xaa\\rJ\\xab#p\\x0e\\x80/\\x88\\x08\\xb8F\\xf8\\\\\\x7f\\xff6fN\\xfe\\x92\\x85\\xe9OP)\\x83f\\x80\\x16\\x02M\\x07E\\x97\\x9e~(\\x00W\\x1aw\\xaa\\xe0T\\xa4\\x98!hY\\xf7/R\\xbd\\xf7\\xf0\\xa7\\x9f\\x8d\\xf1\\xac/\\xb0|@\\xf8\\x00*\\xb7\\x8c\\x08@\\x05\\xa1p-\\n\\xef\\x88=\\x9cy\\xfb\\x00sS[p=0\\xeb\\xc0\\x8c\\x82\\x19\\x01#\\x0cF\\x08\\xcc0\\xe8!0L9\\xebf\\x00\\xd2\\x005\\x88\\x92\\xaaI\\xa0v\\x05\\n\\xd9N\\x9c\\xean\\xae\\xbc\\xf58\\xf7\\xef&gt;\\xc3qq\\x0e\\xbd\\xca-#\\x1a\\xbe\\xaf\\xd3)4F\\xf6og\\xfc\\x8d},L\\xf5\\xa2\\xe8\\x10\\xaa\\x97\\x89hD\\x02\\xc3\\xa1\\x15\\x10F8X\\x0f\\xc0\\xe8\\x86\\x8c\\x90\\xaa\\xcb\\xf0+jpT\\x9a\\x8c\\x8c\\x95k\\xc6u\\xb63\\x96=\\xc6U[g\\xc9\\xf9\\nB\\xa0r\\xcb\\x88IT\\x98\\xbc:\\xd6\\xcb\\xd8\\xdf\\x1e\\xe5\\x83\\x93\\x9bQL\\x087\\x04\\xdeG\\xa4\\xa7Fh\\xc5{#\\x1aD\\xa5\\x1e\\x8c:\\tD\\x0f\\x05\\x9e\\xabR\\x94@\\xd4\\xe0\\xd8&lt;\\x0f\\x8a\\xd98\\xae;\\x80h}\\x8d\\xaeu\\xcb\\xd8\\xf8\\x1a\\x02\\x83\\n1\\x8e\\xbe\\xf0\\rr\\xe9aR\\x1b\\xc1\\x13\\xe0:\\xa0\\xa9\\xa0)\\xa0*R\\xa9f\\x80\\x16\\x06=\\x02\\xe18\\xd4\\'\\xc0\\x15\\xc8&lt;\\x11`[\\xb0&lt;\\x07\\xd5\\x02he\\xd0L\\xd0\\x1d)\\r\\xed \\x1c\\xc8.\\x0cs\\xf4\\x85o\\xb2i\\xf8G\\x08\\xf2*w\\x8e\\xd4\\xf3\\xf2s;\\x18\\x1f\\xdb\\xdb\\xbb\\xfb\\xd3\\xe1\\x9bn\\xbf\\x03\\xadc#gg\\xb32\\xbf\\x0c]\\x86V\\x0b\\xce\\xdb\\xac\\x87\\xba6\\xba\\x87\\xaf\\xe4\\xa6\\xcf\\\\F\\xa8\\xad\\x93\\xf7\\x97\\xe3t\\x0en\\xa4\\xf3c\\xeb\\x99\\x9f\\xcb\\xcaDTT\\xe9\\xb9\\x1aB$\\xba\\xd8\\xf5\\xa5\\xdb\\xb8\\xe6\\x86\\xebIW\\x15r\\x13\\xefl\\x00\\xed\\xdf\\x0c\\xf6N)\\x14\\x882~\\xf8\\x0bxn\\xd3\\xce\\xdd\\xbb\\x98v\\xa2\\x0c\\r\\r\\x10\\xe9\\xda\\x0c\\xd1\\x16\\x087\\xc9\\\\\\xa8\\x85\\xdcl\\x84\\xc6\\x0evm\\xe9\\xe1\\xac\\x1b\\xe5\\xd2\\xdef\"\\x9d}\\xacO\\xa5\\xb8{\\xe7z\\xa2]\\x9b \\x9c\\x80P\\x83&lt;\\xc6H3\\xb1\\x9eA.\\x1d\\xeag\\xda\\x8d\\xb2m\\xe7N\\xb0+ML\\x1c\\xb9\\x89e\\xa2\\nG^\\xe9c~r\\x07\\xa8(\\x9a\\xc1\\xf8\\x07\\x16%\\x1b\\xb4\\xfa$D\\xdb\\x03eq0\\x9b \\xd4\\x0c\\xe1\\x16\\x88\\xa4\\xd0T\\x83\\x89\\x0cT=0\\x1a\\x15\\x1c]\\xb0)\\xaer\\xd9P\\x0f\\xc4:\\xe4\\x9eP\\x13D\\x12\\xe8u\\t\\x8a\\x15\\x9f\\xe3\\xd3E\\x14=\\x04B\\x83\\xf9\\xc9\\x1d\\x1c~\\xb9Oc\\xf2\\xd8v\\x96\\xd3I\\x12\\xbd\\xf8BEQM\\x84\\xd0!\\x94\\x84\\xba\\x12(\\x05\"\\xcd\\x11tC#\\xb7X\\x02\\xaf\\x0e\\xcc\\x14\\xbe\\xa2!T\\x10\\x02\\x08\\x81\\xad\\xc1\\x81S\\xd0\\xdb\\xd1\\xc8hG7\\x85I\\x1b\\xec\"`\\xe2\\x1b1\\x84PQ\\xb40\\x08\\x0b\\xf40d\\xcf$\\x99&lt;v\\xa5\\xc6\\xd2\\xf4\\xe5TK*z\\x18\\x84\\x02\\xaa)g\\xb3\\x15\\xa2\\x1a\\xb1\\xa4\\xc7\\x97\\xafj!l\\xaa&lt;5\\x96\\xe1\\xd4\\xb8\\x07f&lt;(\\xbd\\xf26\\x0bMV\\x92\\x93Y\\xd0\\x84\\xc2%\\x17\\xb7sp!\\x0fVF\\xa2\\xd3cR\\xa7b\\x82(\\xcb$\\xae\\x96T\\x96\\xce^\\xa1P\\xcc\\xf4\\xe3{2\\xc3\\x85\\xe0\\x9c[\\x86\\x01\\xe1VR\\xedI,_\\xe7\\xd0\\xac\\xc2\\x86T\\\\\\x1e\\x89\\xae\\xae\\xee$\\xe7\\x86\\xe2\\xc2\\x1b\\x93\\xd0\\x9b\\x8aR\\x97J\\x81\\xd9,E\\xab\\x0f\\x00hr\\xd6\\x0c\\xf0=\\xb02\\xfd\\nU\\xab-\\xe8h\\x81\\xd2@\\xab\\x06\\x84\\x14\\x84\\xaePq\\xc0\\xb2\\x01U\\x80)\\xe4\\xb7\\xd5\\xc6]\\xc0\\x93K\\xf94Le\\x14\\xb6\\xf4\\x07\\xf9b\\xb4\\x80\\x16\\tt+R\\x7f\\xcdV\\xd5jS\\xf0\\x9c0\\x8a\\x90\\xb5]\\x08\\xa9\\xa5\\x16^mU\\x98k\\xc5\\xb3\\xb6\\xb6zx\\x81\\xf8@\\xd9\\xe7\\xc8\\x84M_\\xd2\\xa4\\xae-\\x01F\\x93\\x8c\\x98X\\x05\\xbaf\\xcbs\\xc2\\xe7\\xabZ\\x15Oy\\xae5\\x00k\\x80}\\x18\\x00?\\x98\\xed\\n\\x99\\x99,S\\x8b6[\\xfa\"\\x10\\xd2\\x11\\xea\\x9a\\xe6\\x7f\\x9e\\x19E+\\xe1\\x05\\xdd\\xcc\\xf7\\xd7~=\\x7f\\xc3j\\x00\\xab=\\xaaE\\xc0\\xf3\\xc1\\xceA)\\xcd\\x91\\x139\\xfaZ}\\xa2\\t\\xf0\\x95\\xf3ty\\xbe\\xb4\\xa5h%\\x05#2/\\x17\\x9ds\\x9du\\x8d\\xfc?\\xa3\\x16\\x01\\xdf\\x01\\'\\x0b\\xf6\\x12\\x99\\x0f\\xe6\\x99J\\x97\\xd9\\xd2\\x05\\x9e\\xbaJ\\x97\\x8flN\\x00FdN\\xa1.~\\x02\\xa1\\x80c\\x83\\xef\\xe1{\\xdeJbUV\\x94\\xfb5#\\x8e\\xfc&amp;\\x08\\xd6\\xd6\\x80v\\xc0\\xc9\\xcb(\\x14\\x178\\xfcn\\x9a\\x9e\\xb8O\\xac&gt;\\xb0_\\x03\\xe1\\xba\\xf2\\xeeF\\x9bO($\\xd6\\x8fbD\\\\\\xec\\x12\\xf8\\x1ev\\xa1\\x80U\\xb2\\x19h\\x87h#\\x0c\\xb6\\xc2|\\xceg~\\xd1\\xa3\\xb3\\x01\\xe2M\\xd0\\x11\\x97y\\x95-\\x04\\xb4\\xc2\\xa9\\x01u\\xc0Y\\x96 \\xcai\\xb2g\\xa685[\\xe0\\xf2\\x0e\\xd9\\xab\\xe4\\x7f&lt;\\xb0\\xcb`F\\\\\\x12\\x9d\\xa3\\x1a=\\x97\\x1c\\xe2\\xe4\\x9bs\\xd8V;x\\xf8\\xd9\\x19^|\\xd5\\xe3s\\xbb\\xba\\xd8\\xb6Ng!_\\xe6\\xb5#\\x0bXE\\x97\\x93u\\tn\\x1d\\xaa\\xc7\\xf5\\xe1\\x95q\\x9flZE\\xf4\\x08\\xbc\\x8a\\xb4\\x8df\\x83\\xbd\\x0c\\x95\\xbc&lt;c\\xc7\\xe1\\xe8\\xb1\\x06n\\x1b\\xbc\\x18\\xdf\\x15\\xfc\\xdd\\xb6\\xf1=\\x07\\xec\\x12\\xc4\\xda\\xe6\\xe8\\xdd\\xfa\\x86\\xc6\\xa6\\xe1I\\xde\\x1d}\\xbd\\xb1\\xce\\xb8\\xb1\\xa9&gt;\\x82\\x9d9\\xca\\xe2\\xb1\\t~w&amp;\\x89\\xd9\\x10\\xa5T,\\xe1\\x97\\xcb \\x04\\x07\\x9f\\x8b0\\xda\\xd4\\x88\\'L\\xaa\\x96\\x89\\xda\\xd4\\x86\\xe2\\'\\xe9N\\xf8t4\\t2\\x8be\\xa8\\xe4\\xa0\\xba\\x1c\\xe4\\x94E\\xe1$&lt;\\xf7v3\\x9f\\xda\\xd8B\\xb5\\xb8@cW=u\\x03\\x9b)\\x94\\xbdC\\x0c\\x0eOj\\x18Xl\\xbd\\xfa\\xaf=\\xc9\\xd0\\xd5o\\xbd;\\x11\\x9b}\\xf3 d\\xb2\\xb8\\xd6\\x14\\x96a\\x80\\xaeI\\x86\\xa3\\xaaPT)/\\xe9\\x01?\\xac\\xc3\\xad\\xcc\\xf2\\xca;6W\\xf4\\'\\xc8Y6/\\xbd5\\x0eVZ\\x02pl\\x19\\xf2b\\x9e\\x7f\\xbc`\\xb2`}\\x9c\\xb9#\\xafs\\\\\\xdd\\xc8E\\xdb\\xf7\\xe4Od\\xbcg\\xd0\\xb1\\x04O\\xfbI4\\x1a\\xc4\\xf3\\x7f\\xb8\\xdf?\\xf4\\x97\\xaf\\xb04+\\xdbn(\\x1ap\\xbe\\x80\\xeb\\xd5@(\\x01\\xedRMINB1D$\\x8a_-C~\\x01\\xcaYIL\\x9c*8.8\\x9e\\xac^\\x9a\\x0e\\x8bS\\x10\\xad\\x87\\xcb\\xaf{\\x92=7&lt;\\x88\\xc3\\xa2\\x06\\x94Qq\\xfd\\xd6\\xf5\\xbf\"\\x14\\x1e\\xc0)\\x0e\\xe3\\x96\\xc1-\\x81\\x1d\\x96 43\\xe0{j@:\\xb5\\x80\\x1d\\xeb`\\xa5\\xf1\\x17\\x05\\xf8\\xae\\xa4\\xe4NY\\x12Q\\xa7\\nvM*P.\\xc8\\xeb\\xd3v\\xd1a:\\xfa\\x1fCa\\x11(k@\\x85\\n\\x0e\\xbb\\x87\\'\\x98&lt;z\\x1fV\\xe6\\t\\xe6N\\xf7\\xe2:\\xe0V\\xc1\\tI&amp;\\xa4\\x05\\xccHY\\xc5\\xf9\\x84\\xbaR\\xa3k\\xef\\x02\\xa7*\\xf7\\xd5\\x0c\\xdbe\\xa8X2K\\x93\\x1b\\xdec\\xe0\\xb2\\x07\\xd8\\xba\\xe98\\x19\\\\d\\x17\\xa7\\n(\\xcc!\\xd8\\x7f\\xe7An\\x9c\\xfe:\\x9e\\xfd\\x18\\x0b\\xd3}\\x94\\xf2\\xd2+\\xd7\\x96Q\\xa8\\x91\\xce\\x1a\\xe1\\x14A9\\xf4\\x83\\xca\\xe6\\xd5\\xa2`\\xcb7\\x81]\\x86jI\\xde\\xd5\\xd6\\x8e\\t\\xd6o\\xfa\\x16\\xf7\\xde\\xf6\\x12G\\xa9]JO\\xf0\\xb4\\xbfR$#\\xc0g\\xa3&gt;\\xd7}{\\x1b3\\xef=\\xcc\\xc2\\xf4\\x0eI8W\\x1d\\xc3G}\\x98\\xb4\\xf7\\xdd\\xcb\\x1f\\x7f:\\xca3\\xbe\\xa0z\\xce\\xa2\\xaf\\\\P|\\xf7\\x9d\\x80Bv\\x8c\\xee\\xa1\\x9b\\xe9\\x1cx\\x88xk\\x1a\\\\(\\xe7\\xc1\\xcaA)\\x07\\xa5\\xfc\\x7f\\x91\\x1cXY\\xf9_\\\\\\x88\\xb7\\xa6\\xe9\\x1cx\\x88\\xee\\xa1\\x9b),\\x8d\\xf2\\x9b9\\x10k\\x0b\\xfd\\xda\\xbef\\x01\\xaf=U;\\xb7\\x19\\xf6\\x1f\\xd8K\\xf7\\xd0\\xb5t\\x0e\\xec#\\xd1~\\x1a3\\xe4\\xe2\\xd9\\x92v\\x9fo\\xbcZ\\x00\\xcf\\x063\\xe4\\x92h?M\\xe7\\xc0&gt;\\xba\\x87\\xae\\xe5\\x89\\x03{\\xa9X3TJ\\xf0\\xe4\\xf7dy\\xff\\x1f\\xfdN\\x8e\\xbb\\xf6Cn\\xfe\\xa3&gt;\\xcf_\"\\xd6\\xfc\\xcf\\x0b\\x9f\\xe7\\xad\\xf0\\xf8\\xed\\x17\\x98\\xfa\\x0f\\x10\\x99\\xc4\\xde3\\xad\\xf4\\x83\\x00\\x00\\x00%tEXtdate:create\\x002018-08-05T18:43:26+00:00\\r\\xd5q\\x81\\x00\\x00\\x00%tEXtdate:modify\\x002018-08-05T18:43:26+00:00|\\x88\\xc9=\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\n    }\n}\n</code></pre>\n\n<p>While this is the part of the script in which it is converted into temporary images and passed to Pyglet:</p>\n\n<pre><code>temp_ico = []\n\nfor ic, ic_key in ico.items():\n    with BytesIO() as ic_key[\"byte\"]:\n        from PIL import Image\n        with Image.new(\"RGB\", ic_key[\"dimension\"]) as ico_img:\n            ico_img.save(ic_key[\"byte\"], format=\"PNG\")\n            ico_img = pyglet.image.load(ico_img)\n            temp_ico.append(ico_img)\nself.set_icon(temp_ico[0], temp_ico[1])\n</code></pre>\n\n<p>The problem I'm having is that Pyglet, with: <code>pyglet.image.load()</code>, expects the file path and not the file itself.\nSince the file is not physical, I do not know how to get the path of it to get it used by Pyglet. Do you have any suggestions or advice on how to solve the problem?</p>\n\n<p>Edit:\nI tried with both answers obtained from \"Torxed\":</p>\n\n<pre><code>temp_ico = []\nself.temp_sp = []\n\nfor ic, ic_key in ico.items():\n    ico_img = pyglet.image.ImageData(ic_key[\"dimension\"][0], ic_key[\"dimension\"][1], 'RGB', ic_key[\"byte\"])\n    temp_ico.append(ico_img)\n    temp = pyglet.sprite.Sprite(ico_img)\n    temp.x = randint(0, 100)\n    temp.y = randint(0, 100)\n    self.temp_sp.append(temp)\n\nself.set_icon(temp_ico[0], temp_ico[1])\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>temp_ico = []\nself.temp_sp = []\n\nfor ic, ic_key in ico.items():\n    ico_img = pyglet.image.SolidColorImagePattern((255, 255, 255, 255)).create_image(ic_key[\"dimension\"][0], ic_key[\"dimension\"][1])\n    ico_img.set_data('RGB', ico_img.width * len('RGB'), ic_key[\"byte\"])\n    temp_ico.append(ico_img)\n    temp = pyglet.sprite.Sprite(ico_img)\n    temp.x = randint(0, 100)\n    temp.y = randint(0, 100)\n    self.temp_sp.append(temp)\n\nself.set_icon(temp_ico[0], temp_ico[1])\n</code></pre>\n\n<p>But in both methods I get a mix of confusing pixels and not the original image.\nI have also modified the method in which I obtained the printing of the image bytes. Before I used this method:</p>\n\n<pre><code>from io import BytesIO\nfrom PIL import Image\nwith BytesIO() as output:\n    from PIL import Image\n    with Image.open(\"ico_32.png\") as img:\n        img.convert('RGB').save(output, \"png\")\n    data = output.getvalue()\n    print(data)\n</code></pre>\n\n<p>Which I had obtained from here <a href=\"https://stackoverflow.com/questions/22351254/python-script-to-convert-image-into-byte-array\">Answer by: perillaseed</a>\nBut then I changed to:</p>\n\n<pre><code>s = open(\"ico_32.png\", \"rb\")\ndata = s.read()\nprint(data)\ns.close()\nf = open('new_image.png', 'wb')\nf.write(data)\nf.close()\n</code></pre>\n\n<p>If I go to check the new saved image, it is exactly the same as the original, so I copy the byte string manually, insert it in the dictionary and it does not work.\nHere are the visual results:\n<a href=\"https://i.stack.imgur.com/Z2RAc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2RAc.png\" alt=\"Print Bytes Image\"></a>\n<a href=\"https://i.stack.imgur.com/NkRKB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NkRKB.png\" alt=\"First Test\"></a>\n<a href=\"https://i.stack.imgur.com/YxAkb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YxAkb.png\" alt=\"Second Test\"></a></p>\n\n<p>Also, I wanted to warn that I put the two icons as sprite and designed to see them better, since they were too small on the actual icon of the program.</p>\n\n<p>To respond to snakecharmerb, I tried when you answered the suggestion you gave me, but as he also answered Torxed, I get the error he reported himself.</p>\n\n<p>Edit2:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XfG2b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XfG2b.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Ht9k7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht9k7.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to change the icons (since the two I used were only for testing and not the final ones of the program) with two others, but I get the same result. Above are the original ones, under the new ones.</p>\n\n<p><a href=\"https://i.stack.imgur.com/s5WN7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s5WN7.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/WuwPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WuwPU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Bytes string (new_ico_16):</p>\n\n<pre><code>b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00\\x10\\x00\\x00\\x00\\x10\\x08\\x03\\x00\\x00\\x00(-\\x0fS\\x00\\x00\\x00\\x03sBIT\\x08\\x08\\x08\\xdb\\xe1O\\xe0\\x00\\x00\\x00\\tpHYs\\x00\\x00\\x01\\xc1\\x00\\x00\\x01\\xc1\\x01E\\x85\\\\9\\x00\\x00\\x00\\x19tEXtSoftware\\x00www.inkscape.org\\x9b\\xee&lt;\\x1a\\x00\\x00\\x00\\xd2PLTE\\xff\\xff\\xff\\x00\\x00\\x00O33gNNm/1l/1t./\\x87`cy*-\\x86_b\\x8f*+\\x8efiz,/\\x90hl\\x94!$\\xa1\\'(\\xa3{|\\x8eln\\xb4$&amp;\\xb9 !\\xa1\\x88\\x8b\\x8b\"#\\xae\\x8f\\x91\\xbc\\xa8\\xaa\\xbe\\xb0\\xb2\\xe4\\x19\\x1a\\xec\\x1d\\x1d\\x90\\x8d\\x90\\x85\\x88\\x8c\\x89\\x8b\\x8e\\x8b\\x92\\x96\\x90\\x95\\x98\\x96\\x9e\\xa2\\x97\\x9f\\xa3\\xa2or\\xa4`b\\xa9\\x19\\x1a\\xaa\\x1b\\x1d\\xaa\\xb5\\xba\\xaa\\xb6\\xbb\\xab\\xb2\\xb7\\xab\\xb3\\xb8\\xab\\xb4\\xb8\\xab\\xba\\xc0\\xb7\\x11\\x12\\xb9\\xc4\\xc9\\xbe\\xc0\\xc2\\xbf\\xbb\\xbc\\xc4\\x14\\x15\\xd0\\xde\\xe3\\xd6\\t\\t\\xd8\\n\\n\\xd8\\xe5\\xea\\xda\\n\\n\\xda\\x0b\\x0b\\xda\\xe6\\xeb\\xdb\\xe7\\xec\\xdc\\xe8\\xec\\xe0\\r\\r\\xe1\\r\\r\\xe2\\xec\\xef\\xe2\\xec\\xf0\\xe4\\xe5\\xe6\\xe7\\x10\\x10\\xe8\\xf0\\xf3\\xec\\xea\\xeb\\xf4\\x16\\x16\\xf5\\xf8\\xfa\\xff\\x1a\\x1a\\xff\\xff\\xff\\xeb\\x12-N\\x00\\x00\\x00\\x1ctRNS\\x00\\x01-4\\x81\\x82\\x91\\x9d\\x9e\\x9e\\xb0\\xb2\\xb8\\xc1\\xd0\\xd1\\xd8\\xd9\\xe5\\xe9\\xf1\\xf2\\xf2\\xfb\\xfc\\xfd\\xfd\\xfe(\\xffw\\x99\\x00\\x00\\x00\\xb0IDAT\\x18\\x19=\\xc1\\x89\\x1a\\x81@\\x14\\x06\\xd0\\x7f\\n\\x955Id\\xdf\\xf7\\xc24\\xd6\\x90\\xf5\\xfd_\\xc9\\x1d\\xfa:\\x07\\x92\\x92\\xc9\\x96J\\xd9\\x8c\\x82?\\x96\\xb6\\xde?V\\x9a\\x81\\xb0|\\xe3\\x19\\x85\\xfb}\\x18=\\x1by\\x06 \\xe5\\x9ey\\xec\\xec\\xa6\\x00\\xa5\\x12\\xf0DPQ\\xa0\\xef\\xb8\\xb4\\xd9pi\\xa7\\xa3\\xc8\\xa5\\xc1l6\\xe4R\\x11\\xd5\\x15\\x19\\xcf\\xbb\\x9d\\xf5hE\\xaahzd\\xbah\\xb7\\xfc\\x89G\\x9a\\xb0\\x85\\xd4\\xf7\\xfd\\x9e\\x90l\\x14\\x8e\\x82l\\x97\\xcb\\xad \\xc7\\x02\\xd4\\xfaA$\\x0eu\\x15\\xd0n\\x17\\x11\\xbb\\xdc4\\x00\\xac\\xfcx\\xdd\\xaf\\xa7\\xd3\\xf5\\xfez\\x94\\x19\\x083j\\x9f\\x9f\\x9a\\xc1\\xf0\\xa7\\xe6L\\xc71s*\\xc8\\x17B\\xf5#3;\\xd8r\\xdc\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\n</code></pre>\n\n<p>Bytes string (new_ico_32):</p>\n\n<pre><code>b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x00 \\x00\\x00\\x00 \\x08\\x03\\x00\\x00\\x00D\\xa4\\x8a\\xc6\\x00\\x00\\x00\\x03sBIT\\x08\\x08\\x08\\xdb\\xe1O\\xe0\\x00\\x00\\x00\\tpHYs\\x00\\x00\\x03\\x82\\x00\\x00\\x03\\x82\\x01\\x83\\x06\\xfdz\\x00\\x00\\x00\\x19tEXtSoftware\\x00www.inkscape.org\\x9b\\xee&lt;\\x1a\\x00\\x00\\x01\\xb3PLTE\\xff\\xff\\xff+++$$I77739944;77;F47UFIJ36K27M27ZIL[JM[JNG37J37SGKN26L26J36N14T15UIMU25P16U15O26Q/2YLPWLOUJNYMQ\\x8f)+^RUXORYOS^SV_TWK15\\xaa&amp;\\'\\xae%\\'\\x89%\\'YRV\\xc9\\x1f \\xd5 !\\xd7\\x1f NMQ\\x95\\x8c\\x8e\\xad\\xa8\\xa9\\xb2\\xac\\xae\\xc5\"#V\\\\`Z_d^?B_KOj8;kptnDGnruotxpy~qtxtvy\\x81\\x88\\x8c\\x82\\x89\\x8d\\x82\\x90\\x96\\x83?A\\x8a\\x91\\x95\\x8a\\x92\\x96\\x8c\\x8b\\x8e\\x8d\\x90\\x93\\x91\\x92\\x94\\x93\\x96\\x98\\x95\\x8f\\x91\\x99\\x1a\\x1b\\x9a\\xa3\\xa8\\x9c\\xa7\\xac\\x9d\\xa9\\xad\\xa2\\x18\\x19\\xa3\\x18\\x1a\\xa8\\xb7\\xbd\\xb1\\xc3\\xc9\\xb2\\xbd\\xc2\\xb4\\xbf\\xc3\\xb6\\xc1\\xc6\\xb8\\x14\\x15\\xb8\\xc3\\xc8\\xba\\xc3\\xc8\\xbb\\xcc\\xd2\\xc1\\x0f\\x0f\\xc5\\xc5\\xc6\\xc7\\xd6\\xdc\\xc8\\xce\\xd0\\xc9\\xca\\xcb\\xce\\x0b\\x0b\\xd0\\xd0\\xd1\\xd0\\xdd\\xe2\\xd4\\n\\n\\xd4\\xe1\\xe6\\xd5\\t\\t\\xd5 !\\xd5\\xd4\\xd4\\xd5\\xd5\\xd6\\xd5\\xd6\\xd7\\xd5\\xe2\\xe7\\xd6\\t\\t\\xd7\\xd6\\xd7\\xd7\\xd8\\xd8\\xd8\\xe5\\xea\\xd9\\n\\n\\xda\\x0b\\x0b\\xdb\\xe7\\xec\\xdc\\xe8\\xec\\xde\\x0c\\x0c\\xdf\\r\\r\\xdf\\xea\\xee\\xe0\\r\\r\\xe1\\r\\r\\xe1\\xeb\\xef\\xe2\\xec\\xef\\xe2\\xec\\xf0\\xe7\\x10\\x10\\xe8\\xf0\\xf3\\xe9\\x1d\\x1d\\xe9\\xea\\xea\\xeb\\xf2\\xf4\\xed\\x13\\x13\\xee\\xf4\\xf6\\xf3\\x15\\x15\\xf3\\xf7\\xf9\\xf4\\x15\\x15\\xf4\\x16\\x16\\xf4\\xf8\\xf9\\xf5\\xf8\\xf9\\xf6\\x17\\x17\\xf6\\xf9\\xf9\\xfa\\x18\\x18\\xfa\\xfc\\xfc\\xfc\\x1a\\x1b\\xfc\\xfc\\xfc\\xfe\\x1a\\x1a\\xfe\\xfe\\xfe\\xff\\x1a\\x1a\\xff\\xff\\xff0\\xafA\\xf0\\x00\\x00\\x004tRNS\\x00\\x06\\x07\\x17-JJ\\x8a\\x96\\xa9\\xad\\xad\\xb9\\xbe\\xbe\\xd0\\xd7\\xde\\xdf\\xe0\\xe2\\xe2\\xe4\\xe6\\xe7\\xe8\\xe8\\xe9\\xee\\xee\\xef\\xf0\\xf2\\xf2\\xf4\\xf6\\xf6\\xf6\\xf6\\xf7\\xf7\\xf7\\xf8\\xfa\\xfd\\xfd\\xfd\\xfe\\xfe\\xfe\\xfe\\xfe\\xce2\\x02\\x1d\\x00\\x00\\x01\\xe4IDAT\\x18\\x19u\\xc1\\x07[RQ\\x18\\x00\\xe0\\xef\\xde\\xc3T\\x14q\\xef\\xbd\\xf7\\xa0\\xc8\\xcar\\x90JZ\\xa2\\xe2^X\\xa8p\\xec\\x88\\x88\\x8a{/p\\x9c\\xef\\'\\x87&gt;r\\xb8(\\xbc/D\\xc9\\xea\\xa4\\xb4\\xf4\\xec\\xec\\xf4\\xb4$\\xb5\\x0c\\xef\\x11}^\\xd9\\xca=\\x0f\\xbb_)\\xcb\\xd3\\x13\\x88%is;\\xb8BG\\xaeV\\x02\\x05b\\xac{\\xe41\\x1e\\xeb\\x8c\\x04\\x04UF3\\xe7&lt;xyz\\xb0\\xeb\\xf5\\xee\\x1e\\x9c^\\x069\\xe7\\xcd\\x19*xE2\\x8f8?\\xdf\\xa2\\n[\\xe7\\x9c\\x1fe\\x12x!\\x19\\x9b\\xf8\\x95\\x9f\\xbe\\xe1\\xbf\\xe2MF\\t\\x9eik\\x83;4\\x8e\\x9d`\\xad\\x16\\xc2H\\xfe\\xad\\x97\\xc6\\xe5\\xbd\\xcd\\'\\x00\\xa0o\\xdc\\xa0\\tl4\\xea\\x01\\xe4\\x02?M\\xc8_ \\x83\\xba\\x9eF\\xb9\\xec}}v\\x17\\x8d\\xaaWC\\xf2$\\x15f-V\\x87\\xc3j\\x99\\xa5\\xc2d2d-\\xd1\\x08\\x97e\\x8a\\x8d\\x8f\\xb3\\x85\\x8f\\x7fh\\xc4R\\x16\\x14R\\xc1ne\\x9d\\xdd\\xdd_\\xf0\\xe7\\x08\\x15\\n\\xa1fH\\xf8\\xec\\x98\\x188a=n\\xe7\\xa7!\\xa1\\x06Z\\x86\\x85\\xaf\\x8e\\x89\\x01&lt;\\xe9q;;\\x87\\x85\\x16h`\\xc2\\xef\\x1f\\xec\\xdb\\xe0\\xe0w\\xb4\\xfdbB\\x03\\x94.\\xb3\\x08\\xcf\\x87\\x05t\\xbb\\xf1\\x9f\\xf9/\\x8bX.\\x85\\xd4i&amp;\\x8c\\x9amN\\xa7\\xcd&lt;\\xca\\x84\\xe9T\\xd0\\xf43\\xc13\\xd6\\xdb\\xd5\\xd5;\\xe6aB\\xbf\\x06\\xe4\\x8a\\x00\\x8b\\x9a\\x9f\\x99\\x99gQ\\x81\\n\\x19\\xc0\\xb0\\xb8\\xc9\\x12\\xd8\\\\4\\x00\\x00\\xa9\\xba\\xf3\\xb1\\xb8|wU\\x04\\xc2tm\\xa1=\\x16\\xc7^\\xa8M\\x07\\xcf$\\xd3*\\xde\\x04\\xd8\\x1b\\x81\\x1b\\\\5I\\xf0\\x82\\x94\\x1c#^l3\\x85\\xed\\x0b\\xc4\\xe3\\x12\\x02\\xafT\\xc5\\xeb\\x88\\x18\\xba&gt;;\\xdc\\xf7\\xf9\\xf6\\x0f\\xcf\\xaeC\\x88\\xb8^\\xac\\x02\\x81\\x98\\xda\\x9f0\\xc6S\\xbb\\x89\\x80\\x82\\xa4\\xab\\x9eC\\x85\\xb9j\\x9d\\x04\\xb1\\x88\\xa1\\xb2u\\xed\\x01\\xc3\\x1e\\xd6Z+\\r\\x04\\xde\\x935)9E\\xe5\\xe5E9)\\x1a\\x19\\x84\\xff\\xe6\\x8b7\\xda7\\x9aJ\\x93\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\n</code></pre>\n\n<p>I also tested this way (by modifying the script in the first edit), but with no different results from before:</p>\n\n<pre><code>s = open(ic + \".png\", \"rb\")\ndata = s.read()\nico_img = pyglet.image.SolidColorImagePattern((255, 255, 255, 255)).create_image(ic_key[\"dimension\"][0], ic_key[\"dimension\"][1])\nico_img.set_data('RGBA', ico_img.width * len('RGBA'), data)\ns.close()\n</code></pre>\n"}, {"tags": ["javascript", "python", "django", "python-3.x", "django-templates"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1550699652, "post_id": 54795727, "comment_id": 96369691, "body": "Try using dict.items instead <code>{% for key, value in myDict.items %}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 6394346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de21841113752e2427aefba95ef8d075?s=128&d=identicon&r=PG&f=1", "display_name": "bertucho", "link": "https://stackoverflow.com/users/6394346/bertucho"}, "is_accepted": true, "score": 4, "last_activity_date": 1550699657, "creation_date": 1550699657, "answer_id": 54795835, "question_id": 54795727, "link": "https://stackoverflow.com/questions/54795727/how-do-i-iterate-through-a-dictionary-in-django-templates/54795835#54795835", "title": "How do I iterate through a dictionary in Django Templates?", "body": "<pre><code>{% for key, value in myDict.items %} \n</code></pre>\n"}], "owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 54795835, "answer_count": 1, "score": 0, "last_activity_date": 1550699783, "creation_date": 1550699155, "last_edit_date": 1550699783, "question_id": 54795727, "link": "https://stackoverflow.com/questions/54795727/how-do-i-iterate-through-a-dictionary-in-django-templates", "title": "How do I iterate through a dictionary in Django Templates?", "body": "<p>I am trying to iterate through a dictionary in my django template and save the values to <code>window.obj</code>, but it is not working.</p>\n\n<p>views.py:</p>\n\n<pre><code>def myView(req):\n...\nmyDict = {'foo':\"[1,2]\", 'bar':\"[3,4]\"} \n\nreturn render(req, 'myPage.html', {'myDict':myDict})\n</code></pre>\n\n<p>myPage.html:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.obj = {}\nwindow.obj[\"foo\"] = \"{{ myDict.foo }}\";\n\n{% for key, value in myDict %}\n\nwindow.obj[\"{{ key }}\"] = \"{{ value }}\";\n\n{% endfor %}\n&lt;/script&gt;\n\n...\n\n&lt;script&gt; \nconsole.log(window.obj.foo); //prints {foo: \"[1,2]\"} \nconsole.log(window.obj.bar); //prints undefined\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Note:</strong> I can't use <code>myDict.foo</code> on my actual project</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 440, "user_id": 7638401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAhJ7.jpg?s=128&g=1", "display_name": "David Kaftan", "link": "https://stackoverflow.com/users/7638401/david-kaftan"}, "is_accepted": false, "score": 3, "last_activity_date": 1550699762, "creation_date": 1550699762, "answer_id": 54795855, "question_id": 54795707, "link": "https://stackoverflow.com/questions/54795707/how-to-update-list-recursively/54795855#54795855", "title": "How to update list recursively", "body": "<p>Your problem comes from the output of a.pop(0). A.pop(0) returns the element at 0, not the list without the element at 0. Therefore, when you call recursively, you are indexing on a dict, rather than a list. What do you expect to be inputting into the recursive call?</p>\n\n<p>I would guess you are trying to remove the 0th index, then call recursively. To do this,</p>\n\n<pre><code>a.pop(0);\nreturn val + recursive(a)\n</code></pre>\n\n<p>edit: a note - key error 0 means you are indexing a dict with key 0 when key 0 does not yet exist.</p>\n"}, {"comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 2, "creation_date": 1550700683, "post_id": 54795864, "comment_id": 96370081, "body": "I would be much simpler if you iterate from back. At the moment it is not very efficient. For each index, you are looping till the end and computing the sum."}, {"owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1550759348, "post_id": 54795864, "comment_id": 96395352, "body": "I agree, that was my original thought but I had to catch a train.  Figured I could update the answer a bit later but didn&#39;t get a chance. +1 for you though."}], "tags": [], "owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "is_accepted": false, "score": 0, "last_activity_date": 1550699827, "creation_date": 1550699827, "answer_id": 54795864, "question_id": 54795707, "link": "https://stackoverflow.com/questions/54795707/how-to-update-list-recursively/54795864#54795864", "title": "How to update list recursively", "body": "<p>Quick and dirty one liner...</p>\n\n<pre><code>[{list(d.keys())[0]: sum(list(v.values())[0] for v in a[i + (1 if i&lt;len(a)-1 else 0):])} for i, d in enumerate(a)]\n\n# [{'one': 14}, {'two': 12}, {'three': 9}, {'four': 5}, {'five': 5}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": true, "score": 7, "last_activity_date": 1550700188, "last_edit_date": 1550700188, "creation_date": 1550699884, "answer_id": 54795875, "question_id": 54795707, "link": "https://stackoverflow.com/questions/54795707/how-to-update-list-recursively/54795875#54795875", "title": "How to update list recursively", "body": "<p>Iterative and in place solution</p>\n\n<pre><code>a = [{'one': 1}, {'two': 2}, {'three': 3}, {'four': 4}, {'five': 5}]\nsum_so_far = 0\nfirst_flag = False\nfor i in a[::-1]:\n    k,v = i.items()[0]   #For Python 3 k,v = list(i.items())[0]\n    sum_so_far += v\n    if first_flag:\n        i[k] = sum_so_far # do not change the value at first\n\n    first_flag=True\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[{'one': 15}, {'two': 14}, {'three': 12}, {'four': 9}, {'five': 5}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1550705669, "last_edit_date": 1550705669, "creation_date": 1550701230, "answer_id": 54796131, "question_id": 54795707, "link": "https://stackoverflow.com/questions/54795707/how-to-update-list-recursively/54796131#54796131", "title": "How to update list recursively", "body": "<p>A possible recursive solution:</p>\n\n<pre><code>d = [{'one': 1}, {'two': 2}, {'three': 3}, {'four': 4}, {'five': 5}]\ndef sums(data, _sum = 0):\n  a, *b = data\n  if not b:\n    return [a], list(a.values())[0]\n  c, _d = sums(b, _sum+list(a.values())[0])\n  return [{list(a.keys())[0]:_d}, *c], _d+list(a.values())[0]\n\nresult, _ = sums(d)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{'one': 14}, {'two': 12}, {'three': 9}, {'four': 5}, {'five': 5}]\n</code></pre>\n"}], "owner": {"reputation": 1385, "user_id": 4464551, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10206253300199979/picture?type=large", "display_name": "Felix Ros&#233;n", "link": "https://stackoverflow.com/users/4464551/felix-ros%c3%a9n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 1, "accepted_answer_id": 54795875, "answer_count": 4, "score": 8, "last_activity_date": 1550705669, "creation_date": 1550699079, "question_id": 54795707, "link": "https://stackoverflow.com/questions/54795707/how-to-update-list-recursively", "title": "How to update list recursively", "body": "<p>I have a list of dicts: </p>\n\n<pre><code>a = [{'one': 1}, {'two': 2}, {'three': 3}, {'four': 4}, {'five': 5}]\n</code></pre>\n\n<p>I want to update the value of each element in this list by the sum of all remainders. (so <code>'one'</code> will get the value <code>2+3+4+5</code>) .</p>\n\n<p>so that it will look like this:</p>\n\n<pre><code>a = [{'one': 14}, {'two': 12}, {'three': 9}, {'four': 5}, {'five': 5}]\n</code></pre>\n\n<p><code>'five'</code> is the last, so it will not update .</p>\n\n<p>Im not sure how to achieve this. Im thinking that you construct a function that will call itself recursivly something like:</p>\n\n<pre><code>def recursive(a):\n   if len(a) == 1:\n      return list(a[0].values())[0]\n    else:\n      val = list(a[0].values())[0]\n      return val + recursive(a.pop(0))\n</code></pre>\n\n<p>But Im not sure to do this <code>list(a[0].values())[0]</code> is the \"best\" way. And this is also getting a <code>KeyError: 0</code>.</p>\n\n<p>Any ideas? </p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1550699049, "post_id": 54795652, "comment_id": 96369465, "body": "Can you share myfile.xlsx?  or the dataframe?"}, {"owner": {"reputation": 307, "user_id": 1739473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9fc531902a0d279219d2a30289cebce?s=128&d=identicon&r=PG", "display_name": "RoccoMaxamas", "link": "https://stackoverflow.com/users/1739473/roccomaxamas"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1550700013, "post_id": 54795652, "comment_id": 96369818, "body": "Here is a link to essentially the data: <a href=\"https://docs.google.com/spreadsheets/d/1cmJ527CGAn1LA4tahsGxk0EY5cTJcNJBiWmQyBl-lNI/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/spreadsheets/d/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1788, "user_id": 4867193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08dafc81858d97aae00892fd98d4c96?s=128&d=identicon&r=PG", "display_name": "DrM", "link": "https://stackoverflow.com/users/4867193/drm"}, "is_accepted": true, "score": 1, "last_activity_date": 1550706244, "last_edit_date": 1550706244, "creation_date": 1550701716, "answer_id": 54796245, "question_id": 54795652, "link": "https://stackoverflow.com/questions/54795652/getting-a-tuple-index-out-of-range-error-in-matplot-lib-when-trying-to-plot-data/54796245#54796245", "title": "Getting a tuple index out of range error in matplot lib when trying to plot dataframe created from series", "body": "<p>You can graph them (almost) directly, in one line, like this:</p>\n\n<pre><code>ax2 = ax.twinx()\nax2.plot( list(x2.values), list(y2.values), color='r')\n</code></pre>\n\n<p>Or, you can extract the values explicitly, into lists, like this:</p>\n\n<pre><code>x2 = [ x2[n] for n in range( x2.shape[0]) ]\ny2 = [ y2[n] for n in range( y2.shape[0]) ]\n</code></pre>\n\n<p>And then graph them as you do in your example, </p>\n\n<pre><code>ax2 = ax.twinx()\nax2.plot(x2, y2, color='r')\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 1739473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9fc531902a0d279219d2a30289cebce?s=128&d=identicon&r=PG", "display_name": "RoccoMaxamas", "link": "https://stackoverflow.com/users/1739473/roccomaxamas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 54796245, "answer_count": 1, "score": 0, "last_activity_date": 1550706244, "creation_date": 1550698824, "question_id": 54795652, "link": "https://stackoverflow.com/questions/54795652/getting-a-tuple-index-out-of-range-error-in-matplot-lib-when-trying-to-plot-data", "title": "Getting a tuple index out of range error in matplot lib when trying to plot dataframe created from series", "body": "<p>I'm trying to plot a scatter plot of yearly values with a line showing the mean of the value of x each year.</p>\n\n<p>The plot should be something like <a href=\"https://i.stack.imgur.com/vM86O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vM86O.png\" alt=\"this\"></a> </p>\n\n<p>(I drew that line onto the graph...and the xticks at the bottom should be by \"season\" ascending.)</p>\n\n<p>I getting stuck with the second plot: I get a \"tuple index out of range\" error when it gets to the line </p>\n\n<pre><code>ax2.plot(x2, y2, color='r')\n</code></pre>\n\n<p>I'm not sure if I'm even approaching this correctly, but I have my main dataframe which has all of my values, then I created a groupby series for the mean values of each season/year combination. Then I couldn't get <em>that</em> to plot, so I converted it to a dataframe and reindexed it hoping that would help. It didn't. Not sure where to go from here.</p>\n\n<p>The problems <em>started</em> when I created the Pandas Categorical object, but that was the only way I could think of to get my data sorted correctly. Maybe that's the problem, but I'm not sure how else to get it sorted <em>and</em> to get the labels done right.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nfile = r\"C:\\myfile.xlsx\"\n\ndf = pd.read_excel(file)\n\nseason = [\"Spring 2008\", \"Summer 2008\", \"Fall 2008\", \n                \"Spring 2009\", \"Summer 2009\", \"Fall 2009\", \n                \"Spring 2010\", \"Summer 2010\", \"Fall 2010\", \n                \"Spring 2011\", \"Summer 2011\", \"Fall 2011\", \n                \"Spring 2012\", \"Summer 2012\", \"Fall 2012\", \n                \"Spring 2013\", \"Summer 2013\", \"Fall 2013\", \n                \"Spring 2014\", \"Summer 2014\", \"Fall 2014\", \n                \"Spring 2015\", \"Summer 2015\", \"Fall 2015\", \n                \"Spring 2016\", \"Summer 2016\", \"Fall 2016\", \n                \"Spring 2017\", \"Summer 2017\", \"Fall 2017\", \n                \"Spring 2018\", \"Summer 2018\", \"Fall 2018\", \n                \"Spring 2019\"]\ndf = df.loc[df['Total'] &gt; 100]\ndf['Season_Year'] = df.apply(lambda row: row.Semester + \" \" + str(row.Year),     axis=1)\ndf['Season_Year'] = pd.Categorical(df['Season_Year'], season)\ndf.sort_values(by='Season_Year', inplace=True, ascending=True)\ndf = df.dropna()\n\ndf['Score'] = df.apply(lambda row: row.Respondents / row.Total, axis=1)\n\ngrouped = df.groupby('Season_Year')['Score'].mean()\ngrouped = grouped.dropna()\ndf2 = grouped.to_frame()\n\ndf2 = df2.reset_index()\ndf2.head()\n\nx = df['Season_Year']\ny = df['Score']\n\nx2 = df2['Season_Year']\ny2 = df2['Score']\n\nfig, ax = plt.subplots()\nax.scatter(x, y, marker='o', color='black')\nax2 = ax.twinx()\nax2.plot(x2, y2, color='r')\nax.set_ylim(0, 1.1)\nax2.set_ylim(0, 1.1)\nax.set_xticklabels(season, rotation='vertical')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "function", "loops"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 4, "creation_date": 1550698738, "post_id": 54795609, "comment_id": 96369326, "body": "<code>_</code> is each value from <code>player1_hand</code>, not each <i>index</i> for it. Also, don&#39;t call a variable  <code>_</code>."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1550698867, "post_id": 54795609, "comment_id": 96369383, "body": "How <code>player1_hand</code> looks like?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1550698963, "post_id": 54795609, "comment_id": 96369420, "body": "Also, <code>card_value</code> doesn&#39;t return anything."}, {"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1550699056, "post_id": 54795609, "comment_id": 96369467, "body": "@khelwood actually, <code>_</code> is the preferred way in Python to indicate that you&#39;re not using a variable - typically that&#39;d be used if looping over a range of integers if you don&#39;t actually care about the integers, but just want to repeat some operation some number of times"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 1, "creation_date": 1550699129, "post_id": 54795609, "comment_id": 96369488, "body": "@RandomDavis but that&#39;s not what he&#39;s doing.  He&#39;s subsequently using the variable &#39;_&#39; and it isn&#39;t an integer.  It&#39;s a list (which is why he&#39;s getting the error he&#39;s getting)."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1550700438, "post_id": 54795609, "comment_id": 96369997, "body": "@RandomDavis If that was what he was doing, I wouldn&#39;t have pointed it out."}, {"owner": {"reputation": 19, "user_id": 5724094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03151513589849c2f5094bcb58bddc56?s=128&d=identicon&r=PG&f=1", "display_name": "RocketMan89", "link": "https://stackoverflow.com/users/5724094/rocketman89"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1550791026, "post_id": 54795609, "comment_id": 96411609, "body": "@khelwood so what would write instead of &quot;_&quot;."}, {"owner": {"reputation": 19, "user_id": 5724094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03151513589849c2f5094bcb58bddc56?s=128&d=identicon&r=PG&f=1", "display_name": "RocketMan89", "link": "https://stackoverflow.com/users/5724094/rocketman89"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1550791056, "post_id": 54795609, "comment_id": 96411616, "body": "@mad_ this is what player1_hand looks like: player1_hand = [], it is just an initialized list that I use a for loop to read card values into."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1550791153, "post_id": 54795609, "comment_id": 96411636, "body": "@RocketMan89 A variable name indicating the purpose of the variable."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 5724094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03151513589849c2f5094bcb58bddc56?s=128&d=identicon&r=PG&f=1", "display_name": "RocketMan89", "link": "https://stackoverflow.com/users/5724094/rocketman89"}, "is_accepted": false, "score": 0, "last_activity_date": 1551647020, "creation_date": 1551647020, "answer_id": 54973728, "question_id": 54795609, "link": "https://stackoverflow.com/questions/54795609/accessing-a-value-inside-a-nested-list-and-sending-it-too-a-function/54973728#54973728", "title": "Accessing a value inside a nested list and sending it too a function", "body": "<p>Fixed the for loop function calling the individual card of player one's hand. I was indexing the list of lists, player1-hand, incorrectly. I fixed the indexing call, however the function is returning an incorrect hand value for player one's hand. I will fix the logic on the function and update later. </p>\n\n<pre><code>for _ in player1_hand:                              #use for loop to evaluate the value using function card_value\n#print(_[1])                                    #proper indexing call.\nplayer_card = _[0]\nplayer1_score += card_value(player_card, player1_score)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5724094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03151513589849c2f5094bcb58bddc56?s=128&d=identicon&r=PG&f=1", "display_name": "RocketMan89", "link": "https://stackoverflow.com/users/5724094/rocketman89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551647020, "creation_date": 1550698639, "last_edit_date": 1550715111, "question_id": 54795609, "link": "https://stackoverflow.com/questions/54795609/accessing-a-value-inside-a-nested-list-and-sending-it-too-a-function", "title": "Accessing a value inside a nested list and sending it too a function", "body": "<p>I am writing a blackjack game too teach myself python.\nTo represent the 52 cards in the deck I have a nested list within a list, this list contains its original place in the deck (0-51) it's suit and it's face value as a string. Within my function I deal my players cards and have the deck value(0-51) the suit value and the face value stored within a list. I am attempting to read the deck value into a function I created to evaluate the score of the players hand, however I am getting the error: TypeError: list indices must be integers or slices, not list. So I am not indexing correctly, but this seems to be the correct way to index to reach the first value of a list within a list, so I am stumped. Could you guys help me out. </p>\n\n<p>Here is my function:</p>\n\n<pre><code>#this function evalutes the game value of a card and adds it to the players score\ndef card_value(card, value):\n\n   if card%13 == 0 and value&lt;=10:                      #Evaluate value of ace based on the value of the rest\n      value +=11                                      # of the deck\n   elif card%13 == 0 and value&gt;10:\n      value+=1\n   elif card%13 == 10 or 11 or 12:                     # evaluate face cards\n      value += 10\n   else:\n      value += card%13 +1                             #Evaluate rest of the cards in the deck\n</code></pre>\n\n<p>and here is my function call:</p>\n\n<pre><code>for _ in player1_hand:                              \n     player1_score += card_value(player1_hand[_][0],player1_score)\n</code></pre>\n\n<p>Thanks for the help guys.</p>\n"}, {"tags": ["python", "command-line-interface", "python-click"], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 342596, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9942214f9d97f94dc951bc745d18974?s=128&d=identicon&r=PG", "display_name": "Erik Kallevig", "link": "https://stackoverflow.com/users/342596/erik-kallevig"}, "edited": false, "score": 0, "creation_date": 1550781111, "post_id": 54795697, "comment_id": 96407824, "body": "I want to make that argument optional and provide a default value but when I try <code>sites_argument = click.argument(&#39;sites&#39;, nargs=-1, default=site_list)</code> I get this error <code>TypeError: nargs=-1 in combination with a default value is not supported.</code> What&#39;s the best way to assign a default value here?"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 373, "user_id": 342596, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9942214f9d97f94dc951bc745d18974?s=128&d=identicon&r=PG", "display_name": "Erik Kallevig", "link": "https://stackoverflow.com/users/342596/erik-kallevig"}, "edited": false, "score": 0, "creation_date": 1550825651, "post_id": 54795697, "comment_id": 96421364, "body": "You could either not have a default, and inside your function test for an empty list, or you could use a callback."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 3, "last_activity_date": 1550699031, "creation_date": 1550699031, "answer_id": 54795697, "question_id": 54795607, "link": "https://stackoverflow.com/questions/54795607/with-python-click-how-can-i-avoid-duplicating-argument-code-used-by-multiple-su/54795697#54795697", "title": "With python click, how can I avoid duplicating argument code used by multiple subcommands", "body": "<p><code>click.argument</code> just returns a decorator like any other, so you can assign it to some variable:</p>\n\n<pre><code>import click\n\n@click.group()\ndef cli():\n    pass\n\nsites_argument = click.argument('sites', nargs=-1)\n\n@cli.command()\n@sites_argument\ndef subcommand_one(sites):\n    ...\n\n@cli.command()\n@sites_argument\ndef subcommand_two(sites):\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 342596, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9942214f9d97f94dc951bc745d18974?s=128&d=identicon&r=PG", "display_name": "Erik Kallevig", "link": "https://stackoverflow.com/users/342596/erik-kallevig"}, "edited": false, "score": 0, "creation_date": 1550782343, "post_id": 54799708, "comment_id": 96408351, "body": "This is the best answer for what I asked. However, L3viathan&#39;s answer might actually be a better solution for me. I&#39;m trying to understand how I might provide a default value for the argument in his solution."}], "tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1550726055, "creation_date": 1550726055, "answer_id": 54799708, "question_id": 54795607, "link": "https://stackoverflow.com/questions/54795607/with-python-click-how-can-i-avoid-duplicating-argument-code-used-by-multiple-su/54799708#54799708", "title": "With python click, how can I avoid duplicating argument code used by multiple subcommands", "body": "<p>If there is a specific <code>nargs = -1</code> argument that you would like to decorate only onto the group, but be applicable to\nall commands as needed, you can do that with some of extra plumbing like:</p>\n\n<p><sub> This answer is inspired by <a href=\"https://stackoverflow.com/a/51343340/7311767\">this</a> answer. </sub></p>\n\n<h3>Custom Class</h3>\n\n<pre><code>class GroupNArgsForCommands(click.Group):\n    \"\"\"Add special arguments on group\"\"\"\n\n    def __init__(self, *args, **kwargs):\n        super(GroupNArgsForCommands, self).__init__(*args, **kwargs)\n        cls = GroupNArgsForCommands.CommandArgument\n\n        # gather the special arguments for later\n        self._cmd_args = {\n            a.name: a for a in self.params if isinstance(a, cls)}\n\n        # strip out the special arguments from self\n        self.params = [a for a in self.params if not isinstance(a, cls)]\n\n    class CommandArgument(click.Argument):\n        \"\"\"class to allow us to find our special arguments\"\"\"\n\n    @staticmethod\n    def command_argument(*param_decls, **attrs):\n        \"\"\"turn argument type into type we can find later\"\"\"\n\n        assert 'cls' not in attrs, \"Not designed for custom arguments\"\n        attrs['cls'] = GroupNArgsForCommands.CommandArgument\n\n        def decorator(f):\n            click.argument(*param_decls, **attrs)(f)\n            return f\n\n        return decorator\n\n    def group(self, *args, **kwargs):\n        # any derived groups need to be the same type\n        kwargs['cls'] = GroupNArgsForCommands\n\n        def decorator(f):\n            grp = super(GroupNArgsForCommands, self).group(\n                *args, **kwargs)(f)\n            self.add_command(grp)\n\n            # any sub commands need to hook the same special args\n            grp._cmd_args = self._cmd_args\n\n            return grp\n\n        return decorator\n\n    def add_command(self, cmd, name=None):\n\n        # call original add_command\n        super(GroupNArgsForCommands, self).add_command(cmd, name)\n\n        # if this command's callback has desired parameters add them\n        import inspect\n        args = inspect.signature(cmd.callback)\n        if len(args.parameters):\n            for arg_name in reversed(list(args.parameters)):\n                if arg_name in self._cmd_args:\n                    cmd.params[:] = [self._cmd_args[arg_name]] + cmd.params\n</code></pre>\n\n<h3>Using the Custom Class:</h3>\n\n<p>To use the custom class, pass the <code>cls</code> parameter to the <code>click.group()</code> decorator, use the\n<code>@GroupNArgsForCommands.command_argument</code> decorator for the special argument, and then add a\nparameter of the same name as the special argument to any commands as needed.</p>\n\n<pre><code>@click.group(cls=GroupNArgsForCommands)\n@GroupNArgsForCommands.command_argument('special', nargs=-1)\ndef a_group():\n    \"\"\"My project description\"\"\"\n\n@a_group.command()\ndef a_command(special):\n    \"\"\"a command under the group\"\"\"\n</code></pre>\n\n<h3>How does this work?</h3>\n\n<p>This works because <code>click</code> is a well designed OO framework.  The <code>@click.group()</code> decorator usually\ninstantiates a <code>click.Group</code> object but allows this behavior to be over ridden with the <code>cls</code> parameter.<br>\nSo it is a relatively easy matter to inherit from <code>click.Group</code> in our own class and over ride desired methods. </p>\n\n<p>In this case we over ride <code>click.Group.add_command()</code> so that when a command is added we can examine\nthe command callback parameters to see if they have the same name as any of our special arguments.\nIf they match, the argument is added to the command's arguments just as if it had been decorated directly.</p>\n\n<p>In addition <code>GroupNArgsForCommands</code> implements a <code>command_argument()</code> method. This method is used as\na decorator when adding the special argument instead of using <code>click.argument()</code></p>\n\n<h3>Test Class</h3>\n\n<pre><code>import click\n\n@click.group(cls=GroupNArgsForCommands)\n@GroupNArgsForCommands.command_argument('sites', nargs=-1)\ndef cli():\n    click.echo(\"cli group\")\n\n@cli.command()\ndef command_one(sites):\n    click.echo(\"command_one: {}\".format(sites))\n\n@cli.group()\ndef subcommand():\n    click.echo(\"subcommand group\")\n\n@subcommand.command()\ndef one():\n    click.echo(\"subcommand_one\")\n\n@subcommand.command()\ndef two(sites):\n    click.echo(\"subcommand_two: {}\".format(sites))\n\nif __name__ == \"__main__\":\n    commands = (\n        'command_one site1 site2',\n        'command_one site1',\n        'command_one',\n        'subcommand',\n        'subcommand one site1 site2',\n        'subcommand one site1',\n        'subcommand one',\n        'subcommand two site1 site2',\n        'subcommand two site1',\n        'subcommand two',\n        '--help',\n        'command_one --help',\n        'subcommand --help',\n        'subcommand one --help',\n        'subcommand two --help',\n        '',\n    )\n\n    import sys, time\n\n    time.sleep(1)\n    print('Click Version: {}'.format(click.__version__))\n    print('Python Version: {}'.format(sys.version))\n    for command in commands:\n        try:\n            time.sleep(0.1)\n            print('-----------')\n            print('&gt; ' + command)\n            time.sleep(0.1)\n            cli(command.split())\n\n        except BaseException as exc:\n            if str(exc) != '0' and \\\n                    not isinstance(exc, (click.ClickException, SystemExit)):\n                raise\n</code></pre>\n\n<h3>Results:</h3>\n\n<pre><code>Click Version: 6.7\nPython Version: 3.6.3 (v3.6.3:2c5fed8, Oct  3 2017, 18:11:49) [MSC v.1900 64 bit (AMD64)]\n-----------\n&gt; command_one site1 site2\ncli group\ncommand_one: ('site1', 'site2')\n-----------\n&gt; command_one site1\ncli group\ncommand_one: ('site1',)\n-----------\n&gt; command_one\ncli group\ncommand_one: ()\n-----------\n&gt; subcommand\ncli group\nUsage: test.py subcommand [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  one\n  two\n-----------\n&gt; subcommand one site1 site2\nUsage: test.py subcommand one [OPTIONS]\n\nError: Got unexpected extra arguments (site1 site2)\ncli group\nsubcommand group\n-----------\n&gt; subcommand one site1\ncli group\nsubcommand group\nUsage: test.py subcommand one [OPTIONS]\n\nError: Got unexpected extra argument (site1)\n-----------\n&gt; subcommand one\ncli group\nsubcommand group\nsubcommand_one\n-----------\n&gt; subcommand two site1 site2\ncli group\nsubcommand group\nsubcommand_two: ('site1', 'site2')\n-----------\n&gt; subcommand two site1\ncli group\nsubcommand group\nsubcommand_two: ('site1',)\n-----------\n&gt; subcommand two\ncli group\nsubcommand group\nsubcommand_two: ()\n-----------\n&gt; --help\nUsage: test.py [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  command_one\n  subcommand\n-----------\n&gt; command_one --help\ncli group\nUsage: test.py command_one [OPTIONS] [SITES]...\n\nOptions:\n  --help  Show this message and exit.\n-----------\n&gt; subcommand --help\ncli group\nUsage: test.py subcommand [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  one\n  two\n-----------\n&gt; subcommand one --help\ncli group\nsubcommand group\nUsage: test.py subcommand one [OPTIONS]\n\nOptions:\n  --help  Show this message and exit.\n-----------\n&gt; subcommand two --help\ncli group\nsubcommand group\nUsage: test.py subcommand two [OPTIONS] [SITES]...\n\nOptions:\n  --help  Show this message and exit.\n-----------\n&gt; \nUsage: test.py [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  command_one\n  subcommand\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 1535887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f6cd172391d49b3a2820e08d63f5b5?s=128&d=identicon&r=PG", "display_name": "phi", "link": "https://stackoverflow.com/users/1535887/phi"}, "is_accepted": false, "score": 0, "last_activity_date": 1598632490, "creation_date": 1598632490, "answer_id": 63637756, "question_id": 54795607, "link": "https://stackoverflow.com/questions/54795607/with-python-click-how-can-i-avoid-duplicating-argument-code-used-by-multiple-su/63637756#63637756", "title": "With python click, how can I avoid duplicating argument code used by multiple subcommands", "body": "<p>I think there is an actual solution supported by Click using the <code>@click.pass_context</code>.</p>\n<p>When you want to define a group of commands which all share for example a common argument and a common option, then you can define them on the group level and add them to a context object like <a href=\"https://click.palletsprojects.com/en/7.x/commands/#nested-handling-and-contexts\" rel=\"nofollow noreferrer\">described in the Click documentation</a>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>@click.group(chain=True)\n@click.argument(&quot;dataset_directory&quot;, type=click.Path(exists=True))\n@click.option(&quot;-s&quot;, &quot;--split-names&quot;, help=&quot;The splits to preprocess.&quot;, required=True,\n              default=[&quot;trainset&quot;, &quot;devset&quot;, &quot;testset&quot;], show_default=True)\n@click.pass_context\ndef cli(ctx, dataset_directory, split_names):\n    &quot;&quot;&quot;\n    Prepare the dataset for training\n\n    DATASET_DIRECTORY The absolute path to the data directory.\n    &quot;&quot;&quot;\n    ctx.ensure_object(dict)\n    ctx.obj[&quot;DIRECTORY&quot;] = dataset_directory\n    ctx.obj[&quot;SPLITS&quot;] = split_names\n</code></pre>\n<p>Then the individual commands of this group can get passed the context and use the values from the context object instead of defining their own arguments and options.</p>\n<pre class=\"lang-py prettyprint-override\"><code>\n@cli.command(&quot;create&quot;)\n@click.pass_context\ndef create(ctx):\n    create_semantics_json_from_csv(ctx.obj[&quot;DIRECTORY&quot;], ctx.obj[&quot;SPLITS&quot;])\n\n\n@cli.command(&quot;tokenize&quot;)\n@click.pass_context\ndef tokenize(ctx):\n    preprocess_tokenize_semantics_json(ctx.obj[&quot;DIRECTORY&quot;], ctx.obj[&quot;SPLITS&quot;])\n</code></pre>\n<p>The invocation of the commands is then possible like:</p>\n<p><code>my-cli-app /path/to/data create tokenize</code></p>\n"}], "owner": {"reputation": 373, "user_id": 342596, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9942214f9d97f94dc951bc745d18974?s=128&d=identicon&r=PG", "display_name": "Erik Kallevig", "link": "https://stackoverflow.com/users/342596/erik-kallevig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 54799708, "answer_count": 3, "score": 2, "last_activity_date": 1598632490, "creation_date": 1550698628, "last_edit_date": 1550726172, "question_id": 54795607, "link": "https://stackoverflow.com/questions/54795607/with-python-click-how-can-i-avoid-duplicating-argument-code-used-by-multiple-su", "title": "With python click, how can I avoid duplicating argument code used by multiple subcommands", "body": "<p>I have a group of subcommands that all operate on a list of URLs that can optionally be passed as an argument. How can I assign this argument to the group instead to avoid duplicating the argument definition on every subcommand?</p>\n\n<p>Current code:</p>\n\n<pre><code>from config import site_list\n\n@click.group()\ndef cli():\n    pass\n\n@cli.command()\n@cli.argument('sites', nargs=-1)\ndef subcommand_one():\n    if sites:\n        site_list = sites\n    etc...\n\n@cli.command()\n@cli.argument('sites', nargs=-1)\ndef subcommand_two():\n    if sites:\n        site_list = sites\n    etc...\n</code></pre>\n\n<p>Example invocation:</p>\n\n<pre><code>$ python sites.py subcommand_one www.example.com www.example2.com\n</code></pre>\n\n<p>I tried moving the argument decorator to the group like this:</p>\n\n<pre><code>@click.group()\n@click.argument('sites', nargs=-1)\ndef cli(sites):\n    if sites:\n        site_list = sites\n</code></pre>\n\n<p>But then I would get this error: </p>\n\n<pre><code>$ python sites.py subcommand_one\nUsage: sites.py [OPTIONS] [SITES] COMMAND [ARGS]...\nTry \"sites.py --help\" for help.\n\nError: Missing command.\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "seaborn", "facet-grid"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1550699259, "post_id": 54795595, "comment_id": 96369540, "body": "You will need to create 3 individual figures which you can then append to a pdf via <a href=\"https://matplotlib.org/gallery/misc/multipage_pdf.html\" rel=\"nofollow noreferrer\">pdfpages</a>."}], "owner": {"reputation": 153, "user_id": 10458864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72bf1bb9dc6a29c468a09bd3d45ff8eb?s=128&d=identicon&r=PG&f=1", "display_name": "ilearn", "link": "https://stackoverflow.com/users/10458864/ilearn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1550698567, "creation_date": 1550698567, "question_id": 54795595, "link": "https://stackoverflow.com/questions/54795595/how-to-save-seaborns-facetgrid-in-a-multiple-page-pdf-file", "title": "how to save Seaborn&#39;s FacetGrid in a multiple page pdf file?", "body": "<p>I have written the code below to plot multiple figures using FacetGrid of seaborn ( sns.lmplot ). Saving figure in pdf format will result in a 1 page pdf file. I was wondering if someone could help me to have only like 3 rows and 4 columns per page and also have them all plotted in a single pdf with multiple pages? </p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\ng = sns.lmplot('index','value',data=merged, col=\"station\", hue=\"flow type\",col_wrap=3,height=2,aspect=2,legend_out=False,fit_reg=False,sharex=False,sharey=False)\n#g.savefig('50%_flow_duration_curves_cariboo.pdf', format='png', dpi=1000)\n\n\ng.set_xlabels(\"exceedence %\")\ng.set_ylabels(\"flow\")\n</code></pre>\n\n<p>here is how it looks like now: \n<a href=\"https://i.stack.imgur.com/hSc3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSc3N.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "scikit-learn", "pandas-groupby"], "comments": [{"owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "edited": false, "score": 0, "creation_date": 1550701278, "post_id": 54795575, "comment_id": 96370258, "body": "While you may want to use <code>text</code> as the <code>x</code> and <code>sentiment</code> as the <code>y</code>, you can&#39;t just feed the strings to the algorithm; you need numerical data. Can you provide what you did to the <code>text</code> to make it numeric?"}, {"owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1550703170, "post_id": 54795575, "comment_id": 96370914, "body": "Do you need separate models for each group or do you already have a trained model and you only need to call <code>clf.transform</code> on each? The main idea would just be to use a <code>for</code> loop to iterate through each group after you get after <code>groupby</code> and then perform your required operations. Although it&#39;s not clear why you would want to split each group into train and test."}], "owner": {"reputation": 1, "user_id": 11092341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ad821b7ab65cc3b8754c2fb757283c?s=128&d=identicon&r=PG&f=1", "display_name": "user11092341", "link": "https://stackoverflow.com/users/11092341/user11092341"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550699472, "creation_date": 1550698449, "last_edit_date": 1550699472, "question_id": 54795575, "link": "https://stackoverflow.com/questions/54795575/group-dataframe-by-date-for-extracting-daily-results-from-svm-algorithm-using-pa", "title": "Group dataframe by date for extracting daily results from svm algorithm using pandas", "body": "<p>I read a csv file and transform it to the following dataframe:</p>\n\n<pre><code>    Unnamed: 0                  id                      created_at  \\\n0           0  837009605112836101  Wed Mar 01 18:40:15 +0000 2017   \n1           1  837011192057118723  Wed Mar 01 18:46:33 +0000 2017   \n2           2  837105428622376960  Thu Mar 02 01:01:01 +0000 2017   \n3           3  837114260715077633  Thu Mar 02 01:36:07 +0000 2017   \n4           4  843749288383528965  Mon Mar 20 09:01:21 +0000 2017   \n\n                                                text          user  geo label  \\\n0  Liking the comeback of the  but already lookin...      Chi0Nine  NaN   bot   \n1                        El regreso del icono     Toni_mac_  NaN   bot   \n2                which phone is still on your mind w  desaimilan18  NaN   bot   \n3     relaunch this is how the internet reacts     gizbotcom  NaN   bot   \n4         TA1038 clears certification at FCC c     gizbotcom  NaN   bot   \n\n   posemo  negemo sentiment  \n0  1333.0     0.0  positive  \n1     0.0     0.0   neutral  \n2     0.0     0.0   neutral  \n3     0.0     0.0   neutral  \n4     0.0     0.0   neutral\n</code></pre>\n\n<p>I want to group this dataframe by date and execute the svm algorithm on the data of each day.\nIn particular I need the columns text and sentiment as input for the algorithm.</p>\n\n<p>I am using TfidfVectorizer, train_test_split, OneVsOneClassifier, OneVsRestClassifier and LinearSVC from sklearn.</p>\n\n<p>My code for grouping is something like this for now:</p>\n\n<pre><code>.\n\n.\ncsv_file = sys.argv[1]\n\ndf = pd.read_csv(csv_file)\n\ndf['created_at']= pd.to_datetime(df['created_at'])\n\ndf['created_at'] = df['created_at'].apply(lambda df:datetime.datetime(year=df.year, month=df.month, day=df.day))\n\ndf = df.set_index('created_at')\n\ndf.groupby('created_at', as_index=False)\n</code></pre>\n\n<p>The output of the dataframe after the group by operation looks like:</p>\n\n<pre><code>            Unnamed: 0                  id  \\\ncreated_at                                   \n2017-03-01           0  837009605112836101   \n2017-03-01           1  837011192057118723   \n2017-03-02           2  837105428622376960   \n2017-03-02           3  837114260715077633   \n2017-03-20           4  843749288383528965   \n\n                                                         text          user  \\\ncreated_at                                                                    \n2017-03-01  Liking the comeback of the  but already lookin...      Chi0Nine   \n2017-03-01                                El regreso del icono     Toni_mac_   \n2017-03-02                which phone is still on your mind w  desaimilan18   \n2017-03-02     relaunch this is how the internet reacts     gizbotcom   \n2017-03-20         TA1038 clears certification at FCC c     gizbotcom   \n\n            geo label  posemo  negemo sentiment  \ncreated_at                                       \n2017-03-01  NaN   bot  1333.0     0.0  positive  \n2017-03-01  NaN   bot     0.0     0.0   neutral  \n2017-03-02  NaN   bot     0.0     0.0   neutral  \n2017-03-02  NaN   bot     0.0     0.0   neutral  \n2017-03-20  NaN   bot     0.0     0.0   neutral\n</code></pre>\n\n<p>Could you please help me to figure out how to proceed with this?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 1144485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/478db37402837d739e2b28b6d9f42c88?s=128&d=identicon&r=PG", "display_name": "Jguy", "link": "https://stackoverflow.com/users/1144485/jguy"}, "edited": false, "score": 0, "creation_date": 1550704507, "post_id": 54795690, "comment_id": 96371335, "body": "Ah good point. I&#39;ve changed my code around and will run some more tests tomorrow. My main change was inserting a <code>if hour == poll_times[-1]:</code> block into the loop to detect when the last iteration of <code>poll_times</code> is hit. Our instructions say to list <code>poll_times</code> smallest to largest so this should be fine. I&#39;ll know more tomorrow if it works."}], "tags": [], "owner": {"reputation": 751, "user_id": 2145094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb58e1aecad110642c1c8a77b86e217?s=128&d=identicon&r=PG", "display_name": "ferrix", "link": "https://stackoverflow.com/users/2145094/ferrix"}, "is_accepted": false, "score": 1, "last_activity_date": 1550699009, "creation_date": 1550699009, "answer_id": 54795690, "question_id": 54795569, "link": "https://stackoverflow.com/questions/54795569/python-find-tomorrows-date-if-time-is-last-in-list/54795690#54795690", "title": "Python find tomorrow&#39;s date if time is last in list", "body": "<p>It seems to me that <code>next_poll == now</code> is not the only condition when tomorrow would have to be considered. Also, <code>datetime</code> accounts for seconds even if you do not set them, so <code>next_poll == now</code> will be <code>True</code> at a very specific second of the day.</p>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 1144485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/478db37402837d739e2b28b6d9f42c88?s=128&d=identicon&r=PG", "display_name": "Jguy", "link": "https://stackoverflow.com/users/1144485/jguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1550862254, "creation_date": 1550862254, "answer_id": 54833562, "question_id": 54795569, "link": "https://stackoverflow.com/questions/54795569/python-find-tomorrows-date-if-time-is-last-in-list/54833562#54833562", "title": "Python find tomorrow&#39;s date if time is last in list", "body": "<p>With @ferrix's advice I was able to solve this myself. I just needed to tell the code when the hour was the last in the list and put the code to find tomorrow under that. So the for block changes to this:</p>\n\n<pre><code>for hour in poll_times:\n  next_poll = datetime.datetime(year=now.year, month=now.month, day=now.day, hour=hour)\n  if next_poll &lt;= now:\n    if hour == poll_times[-1]:  # This is the last time in the sequence and it still isn't greater than, so skip to next day\n     tomorrow = datetime.datetime.now() + datetime.timedelta(days=1)\n     next_poll = datetime.datetime(year=tomorrow.year, month=tomorrow.month, day=tomorrow.day, hour=poll_times[0])\n    else:\n      continue\n  elif next_poll &gt; now:\n    break  # Done, return\n  else:\n    continue\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 1144485, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/478db37402837d739e2b28b6d9f42c88?s=128&d=identicon&r=PG", "display_name": "Jguy", "link": "https://stackoverflow.com/users/1144485/jguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54833562, "answer_count": 2, "score": 1, "last_activity_date": 1550862254, "creation_date": 1550698412, "question_id": 54795569, "link": "https://stackoverflow.com/questions/54795569/python-find-tomorrows-date-if-time-is-last-in-list", "title": "Python find tomorrow&#39;s date if time is last in list", "body": "<p>I have a program that has functions that run in an interval (example: default is every hour but you can set it from seconds to every 23 hours). This is user settable in a config file. I'm attempting to change the code so that if you input \"0\" as the interval, it reads the next line of the config file which is a setting <code>poll_times</code>, wherein the user can input a list of times that he wishes a \"poll\" to be done in full hours. For example, if I set <code>poll_times</code> in the configuration file as such:</p>\n\n<pre><code>poll_times = 16,17,19,20,22,23\n</code></pre>\n\n<p>The poll would be done at 4pm, 5pm, 7pm, 8pm, 10pm and 11pm every day.</p>\n\n<p>I've nearly got everything down except when it comes to skipping to the next day. Currently the function in question is performing flawlessly if I start the program at anytime before the first poll and it'll run through all the polls until it gets to the last one. Once it hits the last one of the list on any day it'll simply try to keep setting the <code>next_poll</code> to that same hour of that same day, instead of skipping to the next_poll of the next day.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>def set_next_poll_time(self):\n    now = datetime.datetime.now()\n    next_poll = datetime.datetime(year=now.year, month=now.month, day=now.day)\n    next_poll_time = self.next_poll_time\n    if self.poll_frequency is 0:\n        poll_times = self.poll_times\n        LOGGER.info(\"Poll Times: {0}\".format(self.poll_times))\n        # Determine what the next poll_time should be\n        for hour in poll_times:\n            next_poll = datetime.datetime(year=now.year, month=now.month, day=now.day, hour=hour)\n            if next_poll == now:  # This is the last time in the sequence, so the next_poll should be tomorrow at the first entry in poll_times\n                tomorrow = datetime.datetime.now() + datetime.timedelta(days=1)\n                next_poll = datetime.datetime(year=tomorrow.year, month=tomorrow.month, day=tomorrow.day, hour=poll_times[0])\n                break\n            elif next_poll &gt; now:\n                break  # Done, return\n            else:\n                continue\n        next_poll_time = time.mktime(next_poll.timetuple())\n        LOGGER.info(\"Next poll: {0}\".format(next_poll))\n    else:\n        poll_minutes = self.poll_frequency / 60\n        while next_poll &lt;= now:\n            next_poll += datetime.timedelta(minutes=poll_minutes)\n            next_poll_time = time.mktime(next_poll.timetuple())\n    LOGGER.info(\"{0} -&gt; {1} {2}\".format(self.next_poll_time, next_poll_time, next_poll))\n    self.next_poll_time = next_poll_time\n</code></pre>\n\n<p>this is all in a class so here are some values that are set as part of the class init:</p>\n\n<pre><code>self.next_poll_time = 0\nself.poll_times  # directly set from what the user enters in the config file\nself.poll_frequency  # directly set from config file \n</code></pre>\n\n<p>What this function should do:</p>\n\n<ol>\n<li>If the poll frequency is anything other than 0 then use it to determine what the next time to poll should be based on that interval. Example: if the poll_frequency is 3600, then the next_poll_time should be every hour. This is working as it should.</li>\n<li>If the poll_frequency is 0 then determine the <code>next_poll_time</code> based on the list of <code>poll_times</code>. This is working as it should <strong>until</strong> the last time of the day</li>\n<li>If you reach the end of the <code>poll_times</code> list, then skip to the\nnext day and get the first poll_time for the new day and set <code>next_poll_time</code> to that value.</li>\n</ol>\n\n<p>What this function does is get to the end of the list and keeps setting the next_poll_time to the last poll_time of that same day, not the next day as I need it to (and from what I see it is programmed to).</p>\n\n<p>The debug lines give the following outputs. <code>SKIPPING past due poll</code> is the output from the part of the program that calls this function (hence why it just calls the function again and again):</p>\n\n<pre><code>[02-20-2019 21:01:05] INFO, MainThread, - SKIPPING past due poll 1550696400.0.\n[02-20-2019 21:01:05] INFO, MainThread, - Poll Times: [16, 17, 19, 20, 21]\n[02-20-2019 21:01:05] INFO, MainThread, - Next poll: 2019-02-20 21:00:00\n[02-20-2019 21:01:05] INFO, MainThread, - 1550696400.0 -&gt; 1550696400.0 2019-02-20 21:00:00\n[02-20-2019 21:01:07] INFO, MainThread, - SKIPPING past due poll 1550696400.0.\n[02-20-2019 21:01:07] INFO, MainThread, - Poll Times: [16, 17, 19, 20, 21]\n[02-20-2019 21:01:07] INFO, MainThread, - Next poll: 2019-02-20 21:00:00\n[02-20-2019 21:01:07] INFO, MainThread, - 1550696400.0 -&gt; 1550696400.0 2019-02-20 21:00:00\n[02-20-2019 21:01:08] INFO, MainThread, - SKIPPING past due poll 1550696400.0.\n[02-20-2019 21:01:08] INFO, MainThread, - Poll Times: [16, 17, 19, 20, 21]\n[02-20-2019 21:01:08] INFO, MainThread, - Next poll: 2019-02-20 21:00:00\n[02-20-2019 21:01:08] INFO, MainThread, - 1550696400.0 -&gt; 1550696400.0 2019-02-20 21:00:00\n[02-20-2019 21:01:09] INFO, MainThread, - SKIPPING past due poll 1550696400.0.\n[02-20-2019 21:01:09] INFO, MainThread, - Poll Times: [16, 17, 19, 20, 21]\n[02-20-2019 21:01:09] INFO, MainThread, - Next poll: 2019-02-20 21:00:00\n[02-20-2019 21:01:09] INFO, MainThread, - 1550696400.0 -&gt; 1550696400.0 2019-02-20 21:00:00\n</code></pre>\n\n<p>Thanks for any guidance you can provide.</p>\n"}, {"tags": ["python", "pdf", "pdf-generation", "docx"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1550698577, "post_id": 54795515, "comment_id": 96369269, "body": "Does this work fine if you do it manually instead of programmatically?"}, {"owner": {"reputation": 3900, "user_id": 11021886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMdDn.jpg?s=128&g=1", "display_name": "jwalton", "link": "https://stackoverflow.com/users/11021886/jwalton"}, "edited": false, "score": 1, "creation_date": 1550698918, "post_id": 54795515, "comment_id": 96369400, "body": "Did you see <a href=\"https://stackoverflow.com/questions/6011115/doc-to-pdf-using-python\">this question</a>?"}, {"owner": {"reputation": 38, "user_id": 11024207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d74cfa6835f93e3ba872714ed6f1513?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Ysidron", "link": "https://stackoverflow.com/users/11024207/nick-ysidron"}, "reply_to_user": {"reputation": 3900, "user_id": 11021886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMdDn.jpg?s=128&g=1", "display_name": "jwalton", "link": "https://stackoverflow.com/users/11021886/jwalton"}, "edited": false, "score": 0, "creation_date": 1550781501, "post_id": 54795515, "comment_id": 96407978, "body": "@jwalton3141 That answer was exactly what I was looking for.  Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 10544, "user_id": 6244, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e037aa722c82abdf479a505a36bf1ed?s=128&d=identicon&r=PG", "display_name": "Toby Allen", "link": "https://stackoverflow.com/users/6244/toby-allen"}, "edited": false, "score": 0, "creation_date": 1576353022, "post_id": 54795606, "comment_id": 104874886, "body": "You will also need DocTo installed <a href=\"https://github.com/tobya/docto\" rel=\"nofollow noreferrer\">github.com/tobya/docto</a>"}], "tags": [], "owner": {"reputation": 3900, "user_id": 11021886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMdDn.jpg?s=128&g=1", "display_name": "jwalton", "link": "https://stackoverflow.com/users/11021886/jwalton"}, "is_accepted": true, "score": 1, "last_activity_date": 1550698627, "creation_date": 1550698627, "answer_id": 54795606, "question_id": 54795515, "link": "https://stackoverflow.com/questions/54795515/converting-docx-file-to-pdf-from-command-line/54795606#54795606", "title": "Converting DOCX file to PDF from command line", "body": "<p>If you have Microsoft Word installed the following should work:</p>\n\n<pre><code>subprocess.call('docto -f \"C:\\Dir with Spaces\\FilesToConvert\\\" -O \"C:\\DirToOutput\" -T wdFormatPDF  -OX .pdf', shell=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 2032777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPoTJ.png?s=128&g=1", "display_name": "PHZ.fi-Pharazon", "link": "https://stackoverflow.com/users/2032777/phz-fi-pharazon"}, "edited": false, "score": 0, "creation_date": 1617867041, "post_id": 59465785, "comment_id": 118429070, "body": "docx2pdf is not implemented for linux as it requires Microsoft Word to be installed"}, {"owner": {"reputation": 1095, "user_id": 1667241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3475bebca32881db5e429bc47860c29?s=128&d=identicon&r=PG", "display_name": "Al Johri", "link": "https://stackoverflow.com/users/1667241/al-johri"}, "reply_to_user": {"reputation": 612, "user_id": 2032777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPoTJ.png?s=128&g=1", "display_name": "PHZ.fi-Pharazon", "link": "https://stackoverflow.com/users/2032777/phz-fi-pharazon"}, "edited": false, "score": 0, "creation_date": 1617885991, "post_id": 59465785, "comment_id": 118437721, "body": "@PHZ.fi-Pharazon that&#39;s right! Although I heard some reports that it seems to be compatible with &quot;WPS Office&quot; (<a href=\"https://github.com/AlJohri/docx2pdf/pull/10\" rel=\"nofollow noreferrer\">github.com/AlJohri/docx2pdf/pull/10</a>) but I haven&#39;t tried it myself."}], "tags": [], "owner": {"reputation": 1095, "user_id": 1667241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3475bebca32881db5e429bc47860c29?s=128&d=identicon&r=PG", "display_name": "Al Johri", "link": "https://stackoverflow.com/users/1667241/al-johri"}, "is_accepted": false, "score": 1, "last_activity_date": 1577175179, "creation_date": 1577175179, "answer_id": 59465785, "question_id": 54795515, "link": "https://stackoverflow.com/questions/54795515/converting-docx-file-to-pdf-from-command-line/59465785#59465785", "title": "Converting DOCX file to PDF from command line", "body": "<p>You can use the <code>docx2pdf</code> python package to convert docx with zero formatting issues on Windows or macOS. It requires Microsoft Word to be installed and uses the COM API on Windows and AppleScript (JXA) on macOS.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from docx2pdf import convert\n\nconvert(\"input.docx\")\nconvert(\"input.docx\", \"output.pdf\")\nconvert(\"my_docx_folder/\")\n</code></pre>\n\n<p>Disclaimer: I wrote docx2pdf. <a href=\"https://github.com/AlJohri/docx2pdf\" rel=\"nofollow noreferrer\">https://github.com/AlJohri/docx2pdf</a></p>\n"}], "owner": {"reputation": 38, "user_id": 11024207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d74cfa6835f93e3ba872714ed6f1513?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Ysidron", "link": "https://stackoverflow.com/users/11024207/nick-ysidron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3001, "favorite_count": 0, "accepted_answer_id": 54795606, "answer_count": 2, "score": 0, "last_activity_date": 1577175179, "creation_date": 1550698137, "last_edit_date": 1550781627, "question_id": 54795515, "link": "https://stackoverflow.com/questions/54795515/converting-docx-file-to-pdf-from-command-line", "title": "Converting DOCX file to PDF from command line", "body": "<p>I am writing a python script and would like to convert a DOCX to PDF.  Are there any ways of doing this?  Here's my current code:</p>\n\n<pre><code>printer_path = 'C:\\\\Program Files\\\\Nitro\\\\Pro\\\\12\\\\NitroPDF.exe'\ndoc_path = 'Test.docx'\n\nsubprocess.call([printer_path,  doc_source_path])\n</code></pre>\n\n<p>Nitro PDF will open and begin converting the file but won't finish.  Thank you for any input.</p>\n\n<p>Edit 1: For the subprocess.call to work, I had to make both inputs absolute paths e.g. doc_path = 'C:\\Documents\\Test.docx'</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 1, "creation_date": 1550698614, "post_id": 54795509, "comment_id": 96369275, "body": "This is more of an operating system question than a programming language one. And it doesn&#39;t really involve encryption."}, {"owner": {"reputation": 11, "user_id": 11092405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09031a0855e9c3680f59b145b387de71?s=128&d=identicon&r=PG&f=1", "display_name": "bryant williams", "link": "https://stackoverflow.com/users/11092405/bryant-williams"}, "reply_to_user": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1550699148, "post_id": 54795509, "comment_id": 96369501, "body": "Do you have any recommendations on how I can go about doing this?"}, {"owner": {"reputation": 3502, "user_id": 2558108, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DUiG3.jpg?s=128&g=1", "display_name": "Qwertie", "link": "https://stackoverflow.com/users/2558108/qwertie"}, "edited": false, "score": 0, "creation_date": 1550726364, "post_id": 54795509, "comment_id": 96376560, "body": "Consult the documentation for the operating system you are using."}], "answers": [{"tags": [], "owner": {"reputation": 1815, "user_id": 6356538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nQLie.png?s=128&g=1", "display_name": "Artsiom Praneuski", "link": "https://stackoverflow.com/users/6356538/artsiom-praneuski"}, "is_accepted": false, "score": 0, "last_activity_date": 1550702653, "creation_date": 1550702653, "answer_id": 54796437, "question_id": 54795509, "link": "https://stackoverflow.com/questions/54795509/how-can-i-prevent-my-application-to-not-be-turned-off-without-admin-permission/54796437#54796437", "title": "How can I prevent my application to not be turned off without admin permission?", "body": "<blockquote>\n  <p>I want to make it that only the admin can stop the program and another user who isn't an admin using it can't terminate it</p>\n</blockquote>\n\n<p>just run your script under admin user, any other user who has no root/admin/superuser permissions won't be able to terminate process running under another user, operating system won't allow this. </p>\n"}], "owner": {"reputation": 11, "user_id": 11092405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09031a0855e9c3680f59b145b387de71?s=128&d=identicon&r=PG&f=1", "display_name": "bryant williams", "link": "https://stackoverflow.com/users/11092405/bryant-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550726206, "creation_date": 1550698115, "last_edit_date": 1550726206, "question_id": 54795509, "link": "https://stackoverflow.com/questions/54795509/how-can-i-prevent-my-application-to-not-be-turned-off-without-admin-permission", "title": "How can I prevent my application to not be turned off without admin permission?", "body": "<p>I am working on a project named project.py.</p>\n\n<p>I want to set an encryption on it, so that once it's finished and running only the admin can stop the program, and another user who isn't an admin using it can't terminate it. Even if the user closes the program, it will still continue to run in the background.</p>\n\n<p>Is this possible, and if so, how can I go about doing this?</p>\n"}, {"tags": ["python", "tensorflow"], "owner": {"reputation": 1909, "user_id": 8089695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92107cb1b109e2b8281e9cb76b5e3f16?s=128&d=identicon&r=PG&f=1", "display_name": "MiloMinderbinder", "link": "https://stackoverflow.com/users/8089695/milominderbinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550698024, "creation_date": 1550698024, "question_id": 54795492, "link": "https://stackoverflow.com/questions/54795492/how-to-close-all-tensorflow-sessions-currently-open-or-at-least-find-that-ones", "title": "How to close all tensorflow sessions currently open, or at least find that ones are open?", "body": "<p>I am trying to understand tensorflow. Been working for some time on it in my jupyter notebook. Each time i run tf.reset_default_graph() i get a </p>\n\n<blockquote>\n  <p>AssertionError: Do not use tf.reset_default_graph() to clear nested graphs. If you need a cleared graph, exit the nesting and create a new graph.</p>\n</blockquote>\n\n<p>This happens when you try to reset a graph with tensorflow session still active\nand i am kind of lost about where i opened the session troubling me and what i named it. Now, i dont want to restart the kernel. I just want all the open sessions to terminate. How do i go about doing it?</p>\n"}, {"tags": ["python", "excel", "pandas", "indexing"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1550698846, "post_id": 54795485, "comment_id": 96369374, "body": "But why? The index is an important part of the <code>pandas</code> library and every <code>Series</code> and <code>DataFrame</code> is required to have one."}], "answers": [{"comments": [{"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1550698529, "post_id": 54795572, "comment_id": 96369247, "body": "You misspelled &quot;Joesph&quot;."}, {"owner": {"reputation": 9, "user_id": 11092516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c7b286ab55a9025a40f9fc73bd54c1?s=128&d=identicon&r=PG&f=1", "display_name": "Sam J", "link": "https://stackoverflow.com/users/11092516/sam-j"}, "edited": false, "score": 0, "creation_date": 1550698895, "post_id": 54795572, "comment_id": 96369392, "body": "Its perfectly worked, now the problem is. I have two columns (EmpName, EmpCity) and want to eliminate the index value. Can you please help ?"}], "tags": [], "owner": {"reputation": 165, "user_id": 9378283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Teghan Nightengale", "link": "https://stackoverflow.com/users/9378283/teghan-nightengale"}, "is_accepted": false, "score": 0, "last_activity_date": 1550879839, "last_edit_date": 1550879839, "creation_date": 1550698435, "answer_id": 54795572, "question_id": 54795485, "link": "https://stackoverflow.com/questions/54795485/python-eliminate-index-values-from-pandas-output/54795572#54795572", "title": "Python - Eliminate index values from Pandas output", "body": "<p>If you want to print out a list of names use:</p>\n\n<pre><code>for i in data['EmpName']:\n    print(i)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>Tim K\nJoseph R\n...\n</code></pre>\n\n<p>If you need the data in a list use:</p>\n\n<pre><code>new_list = list(data['EmpName'])\n</code></pre>\n\n<h3>Final note</h3>\n\n<p>Print statement formatting is somewhat arbitrary. Usually the print function is used to test objects during development. You should familiarize yourself with common python objects such as lists, tuples, numpy arrays and pandas dataframes, to enable you to manipulate data effectively. </p>\n"}, {"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1550699221, "creation_date": 1550699221, "answer_id": 54795738, "question_id": 54795485, "link": "https://stackoverflow.com/questions/54795485/python-eliminate-index-values-from-pandas-output/54795738#54795738", "title": "Python - Eliminate index values from Pandas output", "body": "<p><code>data['EmpName']</code> is a Pandas Series. If you do <code>list([data['EmpName'])</code>, that will print it out as a list; it will be enclosed in brackets and the elements will be separated with commas. So it will look like this: <code>['Tim K', 'Joesph R', 'Don T', 'Rachel P', 'Sam W']</code>. If you don't want the commas, you can do <code>' '.join(data['EmpName'])</code> and that will give <code>'Tim K Joesph R Don T Rachel P Sam W'</code>. Note that if any of the elements are not string-type (e.g. some are int), that will give an error, so to be safe you might want to do <code>' '.join([name for name in data['EmpName']])</code></p>\n"}], "owner": {"reputation": 9, "user_id": 11092516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c7b286ab55a9025a40f9fc73bd54c1?s=128&d=identicon&r=PG&f=1", "display_name": "Sam J", "link": "https://stackoverflow.com/users/11092516/sam-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550879839, "creation_date": 1550698012, "last_edit_date": 1550700519, "question_id": 54795485, "link": "https://stackoverflow.com/questions/54795485/python-eliminate-index-values-from-pandas-output", "title": "Python - Eliminate index values from Pandas output", "body": "<p><strong>CODE SAMPLE</strong></p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv('file_name.csv',parse_dates=True)\nprint(data['EmpName'])\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>**0**     Tim K\n**1**     Joesph R\n**2**     Don T\n**3**     Rachel P\n**4**     Sam W\n</code></pre>\n\n<p>Want to eliminate index values from the output?</p>\n"}, {"tags": ["python", "xml", "python-3.x"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550697935, "post_id": 54795452, "comment_id": 96368997, "body": "Is the example <i>really</i> something like <code>helloworld</code>, or is it something like <code>foo:world</code>?"}, {"owner": {"reputation": 85, "user_id": 9482600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e638be07d4b7d6246f701893177f03c?s=128&d=identicon&r=PG&f=1", "display_name": "Radaeld", "link": "https://stackoverflow.com/users/9482600/radaeld"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550697998, "post_id": 54795452, "comment_id": 96369033, "body": "it&#39;s just an example. The point is i want to mach with half the tag and get the node"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550698025, "post_id": 54795452, "comment_id": 96369045, "body": "Yes, but whether the division between the two halves is the namespace boundary is a critical detail (being a very common scenario, and thus a question we have good answers to already). If you&#39;re asking a more general question than you need, you&#39;ll get more general answers, which potentially also means answers that perform a lot worse."}, {"owner": {"reputation": 85, "user_id": 9482600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e638be07d4b7d6246f701893177f03c?s=128&d=identicon&r=PG&f=1", "display_name": "Radaeld", "link": "https://stackoverflow.com/users/9482600/radaeld"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1550698151, "post_id": 54795452, "comment_id": 96369094, "body": "not using namespaces"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1550753392, "post_id": 54795452, "comment_id": 96391334, "body": "Relevant <a href=\"https://stackoverflow.com/a/53896422/7414759\">parse the structure of the main item node without previously knowing its structure</a>"}], "owner": {"reputation": 85, "user_id": 9482600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e638be07d4b7d6246f701893177f03c?s=128&d=identicon&r=PG&f=1", "display_name": "Radaeld", "link": "https://stackoverflow.com/users/9482600/radaeld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550697817, "creation_date": 1550697817, "question_id": 54795452, "link": "https://stackoverflow.com/questions/54795452/get-xml-tree-object-by-specifying-part-of-its-tag", "title": "Get xml tree object by specifying part of its tag", "body": "<p>I was to obtain the node of the tag: </p>\n\n<pre><code>&lt;helloworld&gt;\n...\n&lt;/helloworld&gt;\n</code></pre>\n\n<p>How do i use the .find() operation provided by the <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">The ElementTree XML API</a> if i only know half the tag characters?</p>\n\n<p>In more detail i want <code>.find(\"(*)world\")</code> and obtain the node of the helloworld tag</p>\n"}, {"tags": ["python", "parsing", "pyparsing"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 2707389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/401edfa451029e1bdbbc4965010bb96a?s=128&d=identicon&r=PG&f=1", "display_name": "user2707389", "link": "https://stackoverflow.com/users/2707389/user2707389"}, "edited": false, "score": 0, "creation_date": 1550698808, "post_id": 54795476, "comment_id": 96369354, "body": "What if I do not have the space and have a pipe like this: &quot;Package:numpy11|Package:scipy&quot; ? I am pretty new to pyparsing. Thanks."}, {"owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "reply_to_user": {"reputation": 809, "user_id": 2707389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/401edfa451029e1bdbbc4965010bb96a?s=128&d=identicon&r=PG&f=1", "display_name": "user2707389", "link": "https://stackoverflow.com/users/2707389/user2707389"}, "edited": false, "score": 0, "creation_date": 1550699874, "post_id": 54795476, "comment_id": 96369766, "body": "@user2707389 I&#39;ve updated my answer (<code>delimitedList(..)</code> is useful in all situations where the delimiter should only be between items)."}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 1, "creation_date": 1550937125, "post_id": 54795476, "comment_id": 96459860, "body": "<code>Regex(r&#39;[^|]+&#39;)</code> can also be written as <code>Word(printables, excludeChars=&#39;|&#39;)</code>"}], "tags": [], "owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "is_accepted": true, "score": 4, "last_activity_date": 1550699749, "last_edit_date": 1550699749, "creation_date": 1550697963, "answer_id": 54795476, "question_id": 54795385, "link": "https://stackoverflow.com/questions/54795385/splits-based-on-pyparsing/54795476#54795476", "title": "Splits based on pyparsing", "body": "<p>You shouldn't need the negative lookahead, ie. this:</p>\n\n<pre><code>from pyparsing import *\n\npackage_header = Literal(\"Package:\")\nsingle_package =  Word(printables)\nfull_parser  = OneOrMore( Group( package_header + single_package ) )\n\nprint full_parser.parseString(\"Package:numpy11 Package:scipy\")\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>[['Package:', 'numpy11'], ['Package:', 'scipy']]\n</code></pre>\n\n<p><strong>Update:</strong> to parse packages delimited by <code>|</code> you can use the <code>delimitedList()</code> function (now you can also have spaces in package names):</p>\n\n<pre><code>from pyparsing import *\n\npackage_header = Literal(\"Package:\")\npackage_name = Regex(r'[^|]+')  # | is a printable, so create a regex that excludes it.\npackage = Group(package_header + package_name) \nfull_parser = delimitedList(package, delim=\"|\" )\n\nprint full_parser.parseString(\"Package:numpy11 foo|Package:scipy\")\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>[['Package:', 'numpy11 foo'], ['Package:', 'scipy']]\n</code></pre>\n"}], "owner": {"reputation": 809, "user_id": 2707389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/401edfa451029e1bdbbc4965010bb96a?s=128&d=identicon&r=PG&f=1", "display_name": "user2707389", "link": "https://stackoverflow.com/users/2707389/user2707389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 54795476, "answer_count": 1, "score": 2, "last_activity_date": 1550708422, "creation_date": 1550697440, "last_edit_date": 1550708422, "question_id": 54795385, "link": "https://stackoverflow.com/questions/54795385/splits-based-on-pyparsing", "title": "Splits based on pyparsing", "body": "<p>so I want to do this (but using pyparsing)</p>\n\n<pre><code>Package:numpy11 Package:scipy\nwill be split into\n[[\"Package:\", \"numpy11\"], [\"Package:\", \"scipy\"]]\n</code></pre>\n\n<p>My code so far is </p>\n\n<pre><code>package_header = Literal(\"Package:\")\nsingle_package =  Word(printables + \" \") + ~Literal(\"Package:\")\nfull_parser  = OneOrMore( pp.Group( package_header + single_package ) )\n</code></pre>\n\n<p>The current output is this</p>\n\n<pre><code>([(['Package:', 'numpy11 Package:scipy'], {})], {})\n</code></pre>\n\n<p>I was hoping for something like this</p>\n\n<pre><code>([(['Package:', 'numpy11'], {})], [(['Package:', 'scipy'], {})], {})\n</code></pre>\n\n<p>Essentially the rest of the text matches pp.printables</p>\n\n<p>I am aware that I can use Words but I want to do</p>\n\n<pre><code>all printables but not the Literal\n</code></pre>\n\n<p>How do I accomplish this? Thank you.  </p>\n"}, {"tags": ["python", "multithreading", "sqlalchemy"], "comments": [{"owner": {"reputation": 1815, "user_id": 6356538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nQLie.png?s=128&g=1", "display_name": "Artsiom Praneuski", "link": "https://stackoverflow.com/users/6356538/artsiom-praneuski"}, "edited": false, "score": 0, "creation_date": 1550702881, "post_id": 54795382, "comment_id": 96370819, "body": "pay attention to asynchronous design which is about single thread execution using async/await"}, {"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1550709329, "post_id": 54795382, "comment_id": 96372567, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/393554/python-sqlite3-and-concurrency\">Python sqlite3 and concurrency</a>"}], "owner": {"reputation": 123, "user_id": 4473522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90221aa7b4a18738977e5c7ac9daf771?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Sakalos", "link": "https://stackoverflow.com/users/4473522/jan-sakalos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550697427, "creation_date": 1550697427, "question_id": 54795382, "link": "https://stackoverflow.com/questions/54795382/how-to-use-threads-with-sqlalchemy", "title": "How to use threads with sqlalchemy?", "body": "<p>my design idea is, that 'db objects' will have implemented some methods, and after querying and checking relevant values i want to pass this instance to threading.Thread() and execute some code  in different thread. I wanted to use scoped_session for this. </p>\n\n<p>Problem is that instance contains session object and therefore it is throwing exception:</p>\n\n<blockquote>\n  <p>sqlite3.ProgrammingError: SQLite objects created in a thread can only\n  be used in that same thread. The object was created in thread id\n  140081404675584 and this is thread id 140081133512448.</p>\n</blockquote>\n\n<p><strong>db_alchemy/__init__.py:</strong></p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import scoped_session, sessionmaker\n\nBase = declarative_base()\ne = create_engine(\"sqlite:///datafiles/data.sqlite\")\nBase.metadata.create_all(e)\nSession = scoped_session(sessionmaker(bind=e))\n</code></pre>\n\n<p><strong>db_alchemy/tables.py:</strong></p>\n\n<pre><code>import threading\n\nfrom sqlalchemy import Column, Integer, String, ForeignKey, DateTime, Time\nfrom sqlalchemy.ext.associationproxy import association_proxy\nfrom sqlalchemy.ext.declarative import declarative_base, declared_attr\nfrom sqlalchemy.orm import relationship, backref\n\nfrom db_alchemy import Base, Session\n\n    class Request(Base):\n        __tablename__ = 'request'\n        id = Column(Integer, primary_key=True)\n        scan_title = Column(String)\n        status = Column(String)\n        servers = association_proxy('request_servers','server')\n\n        def print_servers(self):\n            print(threading.current_thread())\n            print(self.servers)\n\n    class Server(Base):\n        __tablename__ = 'server'\n        ip = Column(String, primary_key=True, autoincrement=False)\n\n\n    class Request2Server(Base):\n        __tablename__ = 'request2server'\n        request_id_fk = Column(Integer, ForeignKey('request.id'), primary_key=True)\n        server_ip_fk = Column(String, ForeignKey('server.ip'), primary_key=True)\n        request_rel = relationship('Request', backref=backref('request_servers',lazy='dynamic'))\n        server = relationship('Server', backref=backref('server_requests',lazy='dynamic'))\n\n        def __init__(self, server=None):\n            self.server = server\n</code></pre>\n\n<p><strong>runner.py:</strong></p>\n\n<pre><code>import threading\nfrom threading import Thread\n\nimport db_alchemy.tables as t\n\nfrom db_alchemy import Session, Base, e\n\nif __name__ == '__main__':\n    Base.metadata.drop_all(e)\n    Base.metadata.create_all(e)\n    ses = Session()\n\n    r1 = t.Request(scan_title='R1', status='running')\n    r2 = t.Request(scan_title='R2', status='finished')\n    s1 = t.Server(ip='IP1')\n    s2 = t.Server(ip='IP2')\n\n    r1.servers.append(s1)\n    r1.servers.append(s2)\n    r2.servers.append(s2)\n\n    ses.add_all([r1, r2])\n    ses.commit()\n\n    for request in ses.query(t.Request).filter(t.Request.status == 'running').all():\n        print(threading.current_thread())\n        r1.print_servers()\n\n        Thread(target=r1.print_servers).start()\n</code></pre>\n\n<p>Is it possible to avoid this error in this design? \nIs there some different design i should implement?</p>\n"}, {"tags": ["python", "terminal", "visual-studio-code", "command", "arrow-keys"], "comments": [{"owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "edited": false, "score": 0, "creation_date": 1550698128, "post_id": 54795342, "comment_id": 96369084, "body": "Welcome to Stack Overflow, I don&#39;t think this is the expected behaviour, could you try with another shell (the default one for example, could you tell us more information about your system). If you think this is an issue on the VSCode side, you can raise an issue on the GitHub repository."}, {"owner": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "reply_to_user": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "edited": false, "score": 0, "creation_date": 1550699214, "post_id": 54795342, "comment_id": 96369526, "body": "Thanks Benoit!   Taking your suggestion, it actually worked a little. So in my original post, I actually ran PowerShell from Git Bash in VSCode (my default shell is Git Bash, so I commanded Bash -&gt; PowerShell -&gt; Python). In this instance of Python, I could not cycle to my previous command.  I then set my default shell as PowerShell and ran python from there. It cycled to the previous command!  What is the issue here? Seems like the issue here is bash since bash -&gt; python does not remember the last command either."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "edited": false, "score": 0, "creation_date": 1550699581, "post_id": 54795342, "comment_id": 96369666, "body": "Hey Sam.  I included an answer below a couple minutes before you posted this that mentions that up-arrow autocomplete is a known issue with bash, especially on windows.  that&#39;s what I figured it might be.  Just use powershell when using VSCode and you should have no problem."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "edited": false, "score": 0, "creation_date": 1550700229, "post_id": 54795718, "comment_id": 96369906, "body": "The issue seems to be with bash (as I stated from the previous comment and your reply). Though I would like my default shell to be bash (for git stuff), seems like I would just have to deal with using PS. Thanks for the informative answer Jeremiah!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "reply_to_user": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "edited": false, "score": 0, "creation_date": 1550700496, "post_id": 54795718, "comment_id": 96370019, "body": "If all else fails you can just use VSCode as an editor and run your code natively from bash.  I actually do this sometimes myself because VSCode can be twitchy when it comes to virtual environments and if I&#39;m working out of one I find it less headache to use my native terminal.  Also, I&#39;ve only really heard of bash doing this in Windows so if you have a linux or mac machine you can work on your bash should work fine there.  I&#39;d say that the easiest thing to do would be to use powershell for basic things like serving and running code and use a native bash terminal to do stuff you need bash for."}, {"owner": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "edited": false, "score": 0, "creation_date": 1550701034, "post_id": 54795718, "comment_id": 96370188, "body": "An update:  So I decided to add: alias python=&#39;winpty python.exe&#39; , to the ~/.bashrc for a permanent alias to try testing it with the standalone bash terminal. I opened up VSCode and viola! Running python from bash (with it as the default shell) seems to remember the previous commands! Don&#39;t know why it worked, but I guess it should suffice. :) Thanks again for the info Jeremiah."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "reply_to_user": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "edited": false, "score": 0, "creation_date": 1550785922, "post_id": 54795718, "comment_id": 96409810, "body": "Nice.  I actually just bookmarked this question.  I&#39;m having some build issues on a windows computer that I think would go away if I were using bash so I think I&#39;m going to give this a shot."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "is_accepted": true, "score": 1, "last_activity_date": 1550699832, "last_edit_date": 1550699832, "creation_date": 1550699103, "answer_id": 54795718, "question_id": 54795342, "link": "https://stackoverflow.com/questions/54795342/python-in-vscode-how-do-you-run-a-previous-command/54795718#54795718", "title": "Python in VSCode: How do you run a previous command?", "body": "<p>This was going to just be a comment but its too long.  Sorry it isn't more informative than it is.  This is kind of an odd problem because VSCode isn't a true IDE.  It doesn't have its own shell and just hijacks your powershell or bash terminal, depending on which OS you are using.  You should be able to use your up and down arrows just like you can in powershell.  I have tested it on my own VSCode installation and it works fine for me.  If it's a problem, it's not with python, since VSCode will interact with the terminal the same way no matter which language you are using it for, so its probably with VSCode or your terminal.  I have heard of others having issues with up arrow autocomplete in bash, so if you are connecting to a bash terminal that could be it, but I've never heard of it glitching in powershell.  I'd say check which terminal you are using, see if the problem persists when you change terminals, and try reinstalling VSCode if it does.  Past that, I don't know what to tell you.</p>\n"}, {"tags": [], "owner": {"reputation": 1311, "user_id": 605882, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96e25e6f6c77ba3382b4822216693075?s=128&d=identicon&r=PG", "display_name": "KateYoak", "link": "https://stackoverflow.com/users/605882/kateyoak"}, "is_accepted": false, "score": 0, "last_activity_date": 1598728587, "creation_date": 1598728587, "answer_id": 63650870, "question_id": 54795342, "link": "https://stackoverflow.com/questions/54795342/python-in-vscode-how-do-you-run-a-previous-command/63650870#63650870", "title": "Python in VSCode: How do you run a previous command?", "body": "<p>I found a work-around. For me, neither git bash, nor PowerShell allowed up/down arrows for history switching within a python shell. So here it goes.</p>\n<p><code>Ctr-Shift-P</code> opens VSCode commands</p>\n<p><code>Python: Create Terminal</code>   does not actuallt start python, but it does launch powershell in a mode that will enable us to succeed</p>\n<p><code>py</code> starts python shell with working up/down arrows!</p>\n"}], "owner": {"reputation": 13, "user_id": 11092456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6753d6f6bf974a7fe68698e9e7e2d6ab?s=128&d=identicon&r=PG&f=1", "display_name": "Sirius Sam", "link": "https://stackoverflow.com/users/11092456/sirius-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1221, "favorite_count": 0, "accepted_answer_id": 54795718, "answer_count": 2, "score": 1, "last_activity_date": 1598728587, "creation_date": 1550697243, "question_id": 54795342, "link": "https://stackoverflow.com/questions/54795342/python-in-vscode-how-do-you-run-a-previous-command", "title": "Python in VSCode: How do you run a previous command?", "body": "<p>I'm kind of new to software development. Outside of VSCode, I can open up a terminal (let's say PowerShell), run python in it, type in a command (like 2+2), be able to click the up arrow key to find my previous command so that I can run it again. </p>\n\n<p>If I run PowerShell in VSCode and do the same thing, nothing happens when I click the up arrow where I would expect my previous command to be cycled.</p>\n\n<p>Is this a problem with my Python or VSCode? I've been looking for a solution for this but haven't found many useful topics on this. </p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 9378283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Teghan Nightengale", "link": "https://stackoverflow.com/users/9378283/teghan-nightengale"}, "is_accepted": true, "score": 0, "last_activity_date": 1550698000, "creation_date": 1550698000, "answer_id": 54795480, "question_id": 54795320, "link": "https://stackoverflow.com/questions/54795320/how-to-continue-the-loop-while-web-scraping/54795480#54795480", "title": "How to continue the loop while web scraping", "body": "<p>You are likely encountering some element or tag in your <code>containers</code> list that is different than all the other elements you are searching for.</p>\n\n<p>You could change how you specify your <code>containers</code> list by changing your search parameters in the <code>soup.findAll()</code> method. </p>\n\n<p>Try printing <code>containers</code> and finding why the 16th item in that list is different, and adjust your search accordingly.</p>\n\n<p>Alternatively, you could use a try except, something like this:</p>\n\n<pre><code>for container in containers:\n    try:\n       product_name = container.h3.text\n       item_details_container = container.findAll('div',{'class':'s-item__details clearfix'})\n       item_price = item_details_container[0].div.text\n       item_style = item_details_container[0].findAll('span',{'class':'s-item__detail s- \n       item__detail--secondary'})[0].text\n       shipping_detail = item_details_container[0].findAll('span',{'class':'s-item__shipping s-item__logisticsCost'})[0].text\n\n       # etc ...\n\n    except &lt;name of your error here, eg. TypeError&gt;:\n        print(f'except triggered for {container}')\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": false, "score": 1, "last_activity_date": 1550700835, "creation_date": 1550700835, "answer_id": 54796048, "question_id": 54795320, "link": "https://stackoverflow.com/questions/54795320/how-to-continue-the-loop-while-web-scraping/54796048#54796048", "title": "How to continue the loop while web scraping", "body": "<p>You are correct that some items are not present and you cannot test for this on position or selector alone in all cases e.g. Style. You can test for style being present in text of container. Someone with more Python knowledge could probably tidy this up into something more pythonic and efficient</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup as bs\nimport re\nimport pandas as pd\npattern = re.compile(r'Style:')\nurl = 'https://www.ebay.co.uk/b/Mens-Coats-Jackets/57988/bn_692010?_pgn=1'\nres = requests.get(url)\nsoup = bs(res.content, 'lxml')\nresults = []\nfor item in soup.select('.s-item'):\n    x = item.select_one('.s-item__title')\n    title = x.text if x else None\n    x = item.select_one('.s-item__price')\n    price = x.text if x else None\n    x = item.select_one('.s-item__shipping')\n    shipping = x.text if x else None\n    x = item.find('span', text=pattern)\n    style = x.text.replace('Style: ','') if x else None\n    results.append([title, price, shipping, style])\n\ndf = pd.DataFrame(results)\nprint(df)\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 11075177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ffgi3cKEeI8/AAAAAAAAAAI/AAAAAAAAAmI/BvvIxZJofL8/photo.jpg?sz=128", "display_name": "Eren Han", "link": "https://stackoverflow.com/users/11075177/eren-han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 54795480, "answer_count": 2, "score": 1, "last_activity_date": 1550700835, "creation_date": 1550697169, "last_edit_date": 1550697890, "question_id": 54795320, "link": "https://stackoverflow.com/questions/54795320/how-to-continue-the-loop-while-web-scraping", "title": "How to continue the loop while web scraping", "body": "<p>I've written a simple script in order to explore how to web scraping with python. I picked this URL: <a href=\"https://www.ebay.co.uk/b/Mens-Coats-Jackets/57988/bn_692010\" rel=\"nofollow noreferrer\">https://www.ebay.co.uk/b/Mens-Coats-Jackets/57988/bn_692010</a></p>\n\n<p>There are 48 item in the page and every single item has a brand, style etc. detail except 16th item and my code is stopping when it comes to 16th one. So my question is how can I continue this loop or how can I say pass these details. Here is my code in below;</p>\n\n<pre><code>    from urllib.request import urlopen as uReq\nfrom bs4 import BeautifulSoup as soup\n\n\nmy_url = 'https://www.ebay.co.uk/b/Mens-Coats-Jackets/57988/bn_692010'\n\n#opening up connection, grabbing the page\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close()\n\n# html parsing\npage_soup = soup(page_html, 'html.parser')\n\n#grabs each product\ncontainers = page_soup.findAll('div',{'class':'s-item__wrapper clearfix'})\n\nfilename = 'ebayproducts1.csv'\nf = open(filename, 'w+')\n\nheaders = 'product_name, item_price, item_style, shipping_detail\\n'\n\nf.write(headers)\n\ncontain = containers[0]\ncontainer = containers[0]\n\nfor container in containers:\n    product_name = container.h3.text\n\n    item_details_container = container.findAll('div',{'class':'s-item__details clearfix'})\n    item_price = item_details_container[0].div.text\n\n    item_style = item_details_container[0].findAll('span',{'class':'s-item__detail s-item__detail--secondary'})[0].text\n\n    shipping_detail = item_details_container[0].findAll('span',{'class':'s-item__shipping s-item__logisticsCost'})[0].text\n\n\n    print('product_name: '+ product_name)\n\n    print('item_price: ' + item_price)\n\n    print('item_style: ' + item_style)\n\n    print('shipping_detail: ' + shipping_detail)\n\n    f.write(\"%s,%s,%s,%s\\n\" %( product_name, item_price, item_style, shipping_detail))\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "python-requests", "python-unicode"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1550697393, "post_id": 54795304, "comment_id": 96368756, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9144724/unknown-encoding-idna-in-python-requests\">Unknown encoding: idna in Python Requests</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1550736984, "post_id": 54800597, "comment_id": 96381122, "body": "I added details about my system above. So, I do <code>echo $PATH</code> (output in edit), and I get the following output, indicative of the many Python installations I&#39;ve tried over the years; however, currently I only have one Python installation, as indicated by <code>which python</code> giving <code>&#47;usr&#47;bin&#47;python</code>. Since the import above still fails for me, how am I supposed to check <code>pip</code> is on the path above?"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1550766000, "post_id": 54800597, "comment_id": 96400129, "body": "@Coolio2654  I am afraid as I won&#39;t be able to guide you properly on <code>pip</code> installation path. Possibly a quick google search will provide you some valuable pointers."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1550766046, "post_id": 54800597, "comment_id": 96400163, "body": "@Coolio2654 If this, or any other answer, was useful please <a href=\"https://stackoverflow.com/help/why-vote\">upvote</a> it. Once you find the answer to your question, please mark it as accepted so the question isn&#39;t left unanswered."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1550730412, "creation_date": 1550730412, "answer_id": 54800597, "question_id": 54795304, "link": "https://stackoverflow.com/questions/54795304/lookuperror-unknown-encoding-idna-error-with-selenium-and-python/54800597#54800597", "title": "LookupError: unknown encoding: idna error with Selenium and Python", "body": "<p>This error message...</p>\n\n<pre><code>LookupError: unknown encoding: idna\n</code></pre>\n\n<p>...implies that there was an <em>encoding</em> / <em>decoding</em> error between <code>idna</code> and <code>utf-8</code>.</p>\n\n<p>This error comes from <code>_get_idna_encoded_host(host)</code> method of <em>models.py</em> which is defined as follows:</p>\n\n<pre><code>@staticmethod\ndef _get_idna_encoded_host(host):\n    import idna\n\n    try:\n        host = idna.encode(host, uts46=True).decode('utf-8')\n    except idna.IDNAError:\n        raise UnicodeError\n    return host\n</code></pre>\n\n<hr>\n\n<p>A bit of your system details in terms of <em>architecture</em> and <em>os</em> would have helped us to debug your issue in a better way. However:</p>\n\n<ul>\n<li>As per <a href=\"https://github.com/kennethreitz/requests/issues/3578\" rel=\"nofollow noreferrer\">this discussion</a> this issue was observed with <em><a href=\"https://www.python.org/downloads/release/python-352/\" rel=\"nofollow noreferrer\">embedded distribution of Python</a></em>.</li>\n<li>As per <a href=\"https://github.com/kennethreitz/requests/issues/555\" rel=\"nofollow noreferrer\">this discussion</a> this issue was observed with <em>IronPython</em>.</li>\n<li>As per <a href=\"https://github.com/pyinstaller/pyinstaller/issues/1113\" rel=\"nofollow noreferrer\">this discussion</a> with <em>PyInstaller</em>.</li>\n</ul>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>The solution is to add the following import:</p>\n\n<pre><code>import encodings.idna\n</code></pre>\n\n<p><strong>Note</strong>: Ensure that <strong><code>pip</code></strong> is on the <em>PATH</em> and is <strong>9.0.1</strong> or better.</p>\n"}], "owner": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1439, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553125278, "creation_date": 1550697094, "last_edit_date": 1553125278, "question_id": 54795304, "link": "https://stackoverflow.com/questions/54795304/lookuperror-unknown-encoding-idna-error-with-selenium-and-python", "title": "LookupError: unknown encoding: idna error with Selenium and Python", "body": "<p>I was trying to get into introductory web scraping with <code>selenium</code> in Python, but I keep getting this mysterious error when I start up a basic Chrome instance:</p>\n\n<pre><code>LookupError: unknown encoding: idna\n</code></pre>\n\n<p>when using the following code:</p>\n\n<pre><code>from selenium import webdriver\n\nurl = 'http://www.webscrapingfordatascience.com/complexjavascript/'\n\ndriver = webdriver.Chrome()\ndriver.get(url)\n</code></pre>\n\n<p>I installed Chrome's necessary webdriver with <code>brew cask install chromedriver</code>.</p>\n\n<p>I tried searching around the web for potential solutions, but it does not seem anyone else has asked this in relation to running selenium with Python, and this bug is also rather vague.</p>\n\n<h2>Edit</h2>\n\n<p>The question <a href=\"https://stackoverflow.com/questions/9144724/unknown-encoding-idna-in-python-requests\">here</a>'s answer of doing an <code>import encodings.idna</code> gives me the new error of Module not found in Python.</p>\n\n<p>In addition, my system is a mbp with Mac OS 10.11, Python is 3.7.2 (Clang 8.0.0), and pip is <code>=19.0.3</code>.</p>\n\n<p><code>echo $PATH</code> gives me the following output:</p>\n\n<pre><code>/Users/Michael/miniconda3/bin:/Users/Michael/intelpython3/bin:/Users/Michael/miniconda3/bin:/Users/Michael/miniconda3/bin:/opt/local/bin:/opt/local/sbin:/usr/local/sbin:/Users/Michael/anaconda3/lib/python3.6/site-packages:/Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/Michael/anaconda3/bin:/Users/Michael/anaconda3/bin:/opt/local/bin:/opt/local/sbin:/opt/local/bin:/opt/local/sbin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/MacGPG2/bin:/Library/TeX/texbin\u2019:/Users/Michael/intelpython3/bin\n</code></pre>\n"}, {"tags": ["python", "linux", "tail"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7228045, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HxNFrqU_qiU/AAAAAAAAAAI/AAAAAAAASWc/rpUHCAOr3To/photo.jpg?sz=128", "display_name": "RedTurtle", "link": "https://stackoverflow.com/users/7228045/redturtle"}, "is_accepted": false, "score": 0, "last_activity_date": 1599009437, "creation_date": 1599009437, "answer_id": 63697375, "question_id": 54795292, "link": "https://stackoverflow.com/questions/54795292/why-piping-python-logger-output-to-tail-or-lnav-messes-the-output-line-endings/63697375#63697375", "title": "Why piping Python logger output to tail or lnav messes the output line endings?", "body": "<p>I found myself with the same problem, and after much experimentation, here's what works for me:</p>\n<ol>\n<li>In your python logger, set up a logging format, and <strong>make sure to use sys.stdout as the stream</strong></li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport logging\n\nFORMAT = '[%(asctime)s] %(levelname)s %(name)s - %(message)s'\nlogging.basicConfig(format=FORMAT, stream=sys.stdout)\n</code></pre>\n<ol start=\"2\">\n<li><p>[optional] To make the most out of lnav, you'll want to teach it how to interpret the log format you're using.</p>\n<p><a href=\"https://gist.github.com/raphaelcastaneda/d47d1a26183c1a5a892f8f5e1c22a8d6\" rel=\"nofollow noreferrer\">Here's the lnav log parser I use with the format string above.</a></p>\n</li>\n</ol>\n"}], "owner": {"reputation": 2049, "user_id": 596985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aec9f2d7525ee7ced4474df20ba95262?s=128&d=identicon&r=PG", "display_name": "Ali Alavi", "link": "https://stackoverflow.com/users/596985/ali-alavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1599009437, "creation_date": 1550697041, "question_id": 54795292, "link": "https://stackoverflow.com/questions/54795292/why-piping-python-logger-output-to-tail-or-lnav-messes-the-output-line-endings", "title": "Why piping Python logger output to tail or lnav messes the output line endings?", "body": "<p>I have a long-running python program which produces a lot of logs. I want to format the logs using an external tool (lnav, multitail, ...), mainly to get colored logs without changing my code (for example, get red on <code>[ERROR]</code>, green on <code>[INFO]</code> etc). The problem is that piping the python program to tail, lnav, or anything else, messes up the line endings. Here is an example of how the log normally looks like:</p>\n\n<pre><code>[INFO]: Started\n[INFO]: Data 0 captured\n[ERROR]: Connection down\n</code></pre>\n\n<p>And this is how it looks like when piped to tail, lnav, etc.</p>\n\n<pre><code>[INFO]: Started\n                 [INFO]: Data 0 captured  [ERROR]: Connection down\n</code></pre>\n\n<p>Is it caused by piping? How can I get it to respect the line endings?</p>\n"}, {"tags": ["python", "django", "workflow", "django-viewflow"], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 215816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e847cd862a6e697ca4c9a44c23109886?s=128&d=identicon&r=PG", "display_name": "sjf", "link": "https://stackoverflow.com/users/215816/sjf"}, "is_accepted": true, "score": 1, "last_activity_date": 1550767879, "creation_date": 1550767879, "answer_id": 54812318, "question_id": 54795288, "link": "https://stackoverflow.com/questions/54795288/non-boolean-comparisons-in-flow-switch-case-django-viewflow/54812318#54812318", "title": "Non Boolean comparisons in flow.switch().case() Django-Viewflow", "body": "<p>Let's unpack what is going on in the <code>cond</code> value.</p>\n\n<pre><code>cond=((lambda act: act.process.estado_de_aprobacion)=='APROBACION_FINAL')\n</code></pre>\n\n<p><code>(lambda act: act.process.estado_de_aprobacion)</code> returns a function which extracts the relevant field from <code>act</code>.\nThen you are comparing this to <code>=='APROBACION_FINAL'</code>, which is always going to fail because you are comparing a lambda function and a string.\nSo the actual value of <code>cond</code> being passed to the function is <code>False</code>.</p>\n\n<p>I assume <code>cond</code> need to be a function that returns true or false? In which case you should do the comparison in the lambda function.</p>\n\n<pre><code>cond=lambda act: act.process.estado_de_aprobacion=='APROBACION_FINAL'\n</code></pre>\n\n<p>The extract parentheses in the original code are unnecessary, and are in fact probably the source of the problem.</p>\n"}], "owner": {"reputation": 37, "user_id": 11025338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zMz6O8x-cBE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPsvF1WJHjYvircQJzqhlzEnkhZ2Q/mo/photo.jpg?sz=128", "display_name": "Juan David Estrada Bohorquez", "link": "https://stackoverflow.com/users/11025338/juan-david-estrada-bohorquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 54812318, "answer_count": 1, "score": 0, "last_activity_date": 1550767879, "creation_date": 1550697030, "last_edit_date": 1550751780, "question_id": 54795288, "link": "https://stackoverflow.com/questions/54795288/non-boolean-comparisons-in-flow-switch-case-django-viewflow", "title": "Non Boolean comparisons in flow.switch().case() Django-Viewflow", "body": "<p>I have a standar viewflow flow process, in one of the states id want to split my proccess based on the text value that is introduced in one of the fields. I have defined my field of interest this way in models.py</p>\n\n<p>estado_de_aprobacion= models.CharField(max_length=15, choices=REVIEW_CHOICES)</p>\n\n<p>my choices:</p>\n\n<pre><code>REVIEW_CHOICES = (\n   ('APROBACION_FINAL', 'Aprobar definitivamente'),\n   ('APROBACION_NUEVO_REVISOR', 'Enviar a otro revisor'),\n   ('DEVOLVER_EJECUTOR','Devolver al ejecutor')\n)\n</code></pre>\n\n<p>so basically what happens is that a drop list is displayed so the user can choose one of the options, and based on that I appliy the followinf split in the flow:</p>\n\n<pre><code>split =(\n        #If(lambda activation: activation.process.aprobacion_final)\n        flow.Switch()\n        .Case(this.end, cond=((lambda act: act.process.estado_de_aprobacion)=='APROBACION_FINAL'))\n        .Case(this.revisor_check, cond=((lambda act: act.process.estado_de_aprobacion)=='APROBACION_NUEVO_REVISOR'))\n        .Case(this.ejecutar, cond=((lambda act: act.process.estado_de_aprobacion)=='DEVOLVER_EJECUTOR'))\n    )\n</code></pre>\n\n<p>I assume that the lamba expression returns the value contained in the specified proccess atributes but since the comparisson isn't working im thinking its wrong.</p>\n"}, {"tags": ["python", "python-schematics"], "answers": [{"tags": [], "owner": {"reputation": 2154, "user_id": 362792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283347e31dc72eedd581c8b744e681f4?s=128&d=identicon&r=PG", "display_name": "Hitobat", "link": "https://stackoverflow.com/users/362792/hitobat"}, "is_accepted": false, "score": 1, "last_activity_date": 1558344356, "creation_date": 1558344356, "answer_id": 56217929, "question_id": 54795280, "link": "https://stackoverflow.com/questions/54795280/schematics-python-multiple-object-in-list/56217929#56217929", "title": "Schematics python multiple object in list", "body": "<p>I think you need to use <a href=\"https://schematics.readthedocs.io/en/latest/api/types.html#schematics.types.compound.PolyModelType\" rel=\"nofollow noreferrer\">PolyModelType</a> for this.\nSomething like the following (untested) code:</p>\n\n<pre><code>class C(Model):\n    list_of_values = ListType(PolyModelType([A, B]), required=True)\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558344356, "creation_date": 1550696966, "question_id": 54795280, "link": "https://stackoverflow.com/questions/54795280/schematics-python-multiple-object-in-list", "title": "Schematics python multiple object in list", "body": "<p>I have defined models in schematics like this:</p>\n\n<pre><code>class A(Model):\n   value: StringType = StringType(required=True)\n\nclass B(Model):\n   type: StringType = StringType(required=True)\n</code></pre>\n\n<p>and I want to have this two model types defined in one List something like this:</p>\n\n<pre><code>class C(Model):\n   list_of_values: ListType = ListType(ModelType(A), ModelType(B), required=True)\n</code></pre>\n\n<p>Can someone help me how to do that ?</p>\n"}, {"tags": ["python", "amazon-web-services", "aws-lambda"], "answers": [{"tags": [], "owner": {"reputation": 5344, "user_id": 1370986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f27d0b43fc28785db65c57ae7e81ec5?s=128&d=identicon&r=PG", "display_name": "Milan Cermak", "link": "https://stackoverflow.com/users/1370986/milan-cermak"}, "is_accepted": true, "score": 2, "last_activity_date": 1550703285, "last_edit_date": 1550703285, "creation_date": 1550701558, "answer_id": 54796202, "question_id": 54795257, "link": "https://stackoverflow.com/questions/54795257/calling-custom-lambda-layers-functions-on-lambda/54796202#54796202", "title": "Calling Custom Lambda Layers Functions on Lambda", "body": "<p>You also need to name the file in your layer <code>shield.py</code> so that it's <code>import</code>able in Python. Note it does not matter how the layer itself is named. That's a configuration in the AWS world and has no effect on the Python world.</p>\n\n<p>What does have an effect is the structure of the layer archive. You need to place the files you want to <code>import</code> into a <code>python</code> directory, zip it and use that resulting archive as a layer (I'm pressuming serverless framework is doing this for you).</p>\n\n<p>In the Lambda execution environment, the layer archive gets extracted into <code>/opt</code>, but it's only <code>/opt/python</code> that's declared in the <code>PYTHONPATH</code>. Hence the need for the \"wrapper\" python directory.</p>\n"}, {"tags": [], "owner": {"reputation": 367, "user_id": 10611387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mlkWR.png?s=128&g=1", "display_name": "Nimesh Kumar", "link": "https://stackoverflow.com/users/10611387/nimesh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1564861878, "creation_date": 1564861878, "answer_id": 57341647, "question_id": 54795257, "link": "https://stackoverflow.com/questions/54795257/calling-custom-lambda-layers-functions-on-lambda/57341647#57341647", "title": "Calling Custom Lambda Layers Functions on Lambda", "body": "<p>Have a look here. I have described all the necessary steps to set up or call custom lambda layers functions on lambda.</p>\n\n<p><a href=\"https://medium.com/@nimesh.kumar031/how-to-set-up-layers-python-in-aws-lambda-functions-1355519c11ed?source=friends_link&amp;sk=af4994c28b33fb5ba7a27a83c35702e3\" rel=\"nofollow noreferrer\">https://medium.com/@nimesh.kumar031/how-to-set-up-layers-python-in-aws-lambda-functions-1355519c11ed?source=friends_link&amp;sk=af4994c28b33fb5ba7a27a83c35702e3</a></p>\n"}], "owner": {"reputation": 97, "user_id": 7105094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2a1b35960491a3def36a72217639e9?s=128&d=identicon&r=PG", "display_name": "Fernando H&#39;.&#39;", "link": "https://stackoverflow.com/users/7105094/fernando-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 0, "accepted_answer_id": 54796202, "answer_count": 2, "score": 1, "last_activity_date": 1564861878, "creation_date": 1550696867, "last_edit_date": 1550713894, "question_id": 54795257, "link": "https://stackoverflow.com/questions/54795257/calling-custom-lambda-layers-functions-on-lambda", "title": "Calling Custom Lambda Layers Functions on Lambda", "body": "<p>I'm trying to implement a custom AWS Lambda layer in order to use it with my functions.<br>\nIt should be a simple layer that gets some parameter from ssm and initialize puresec's <code>function_shield</code> for protection of my services.<br>\nThe code looks more less like this:</p>\n\n<pre><code>import os\nimport boto3\nimport function_shield as shield\n\n\nSTAGE = os.environ['stage']\nREGION = os.environ['region']\nPARAMETERS_PREFIX = os.environ['parametersPrefix']\n\n\nclass ParameterNotFoundException(Exception):\n    pass\n\n\nsession = boto3.session.Session(region_name=REGION)\nssm = session.client('ssm')\n\n# function_shield config\nparameter_path = f\"/{PARAMETERS_PREFIX}/{STAGE}/functionShieldToken\"\n\ntry:\n    shield_token = ssm.get_parameter(\n        Name=parameter_path,\n        WithDecryption=True,\n    )['Parameter']['Value']\n\nexcept Exception:\n    raise ParameterNotFoundException(f'Parameter {parameter_path} not found.')\n\n\npolicy = {\n    \"outbound_connectivity\": \"block\",\n    \"read_write_tmp\": \"block\",\n    \"create_child_process\": \"block\",\n    \"read_handler\": \"block\"\n}\n\n\ndef configure(p):\n    \"\"\"\n    update function_shield policy\n    :param p: policy dict\n    :return: null\n    \"\"\"\n    policy.update(p)\n    shield.configure({\"policy\": policy, \"disable_analytics\": True, \"token\": shield_token})\n\n\nconfigure(policy)\n</code></pre>\n\n<p>I want to be able to link this layer to my functions for it to be protected in runtime.<br>\nI'm using the serverless framework, and it seems like my layer was deployed just fine, as it was with my example function. Also, the AWS console shows me that the layer was linked in my function.  </p>\n\n<p>I named my layer 'shield' and tried to import it by its name on my test function: </p>\n\n<pre><code>import os\nimport shield\n\n\ndef test(event, context):\n    shield.configure(policy)  # this should be reusable for easy tweaking whenever I need to give more or less permissions to my lambda code.\n    os.system('ls')\n\n    return {\n        'rep': 'ok'\n    }\n</code></pre>\n\n<p>Ideally, I should get and error on CloudWatch telling me that <code>function_shield</code> has prevented a <code>child_process</code> from running, however I instead receive an error telling me that there is no 'shield' declared on my runtime.</p>\n\n<p>What am I missing?\nI couldn't find any custom code examples being used for layers apart from numpy, scipy, binaries, etc.</p>\n\n<p>I'm sorry for my stupidity...<br>\nThanks for your kindness!</p>\n"}, {"tags": ["python", "speech-recognition"], "comments": [{"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1550697755, "post_id": 54795211, "comment_id": 96368918, "body": "No, Microsoft kills them because that would hurt their profits ;) The free alternative is Linux."}, {"owner": {"reputation": 65, "user_id": 10999276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aad987fb3bf0478a41a39b6c4d523d5?s=128&d=identicon&r=PG&f=1", "display_name": "GFTW", "link": "https://stackoverflow.com/users/10999276/gftw"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1550734733, "post_id": 54795211, "comment_id": 96379920, "body": "How come... So you&#39;re saying there is no absolute way to use a library to make a speech recognition program without using the internet on winOS?! I thought it was so rare because windows isn&#39;t comfortable with these fast processing speech processing code written in C or something.. but you say it&#39;s with their profit. Strange."}], "owner": {"reputation": 65, "user_id": 10999276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aad987fb3bf0478a41a39b6c4d523d5?s=128&d=identicon&r=PG&f=1", "display_name": "GFTW", "link": "https://stackoverflow.com/users/10999276/gftw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550696622, "creation_date": 1550696622, "question_id": 54795211, "link": "https://stackoverflow.com/questions/54795211/offline-speech-recognition-on-windows-in-python-3", "title": "Offline speech recognition on Windows in python 3", "body": "<p>I've been trying to make an offline speech recognizing program which works on Windows.  <a href=\"https://pypi.org/project/SpeechRecognition/\" rel=\"nofollow noreferrer\">https://pypi.org/project/SpeechRecognition/</a>\nNeither of the engine/API supports mentioned on this page have both of the following conditions:\n1) Works on Windows\n2) Works offline</p>\n\n<p>I've searched a lot on different occasions and finally it seems to me that there are no engines which can be trusted to make a speech recognizer in python 3 on Windows. Any help?</p>\n"}, {"tags": ["python", "scikits"], "comments": [{"owner": {"reputation": 366, "user_id": 6062390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JOlm.jpg?s=128&g=1", "display_name": "techcyclist", "link": "https://stackoverflow.com/users/6062390/techcyclist"}, "edited": false, "score": 0, "creation_date": 1550696437, "post_id": 54795129, "comment_id": 96368362, "body": "What version of python are you running? Are you using an environment like Anaconda? And BTW since you installed using &#39;pip install scikit-commpy&#39; you don&#39;t have to also download it."}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1550696447, "post_id": 54795129, "comment_id": 96368366, "body": "I&#39;m able to replicate this in <code>python3.6</code> anaconda"}, {"owner": {"reputation": 366, "user_id": 6062390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JOlm.jpg?s=128&g=1", "display_name": "techcyclist", "link": "https://stackoverflow.com/users/6062390/techcyclist"}, "edited": false, "score": 0, "creation_date": 1550696574, "post_id": 54795129, "comment_id": 96368418, "body": "I&#39;m using python 2 so I used &#39;!pip2 install scikit-commpy&#39; in jupyter and was able to import commpy."}, {"owner": {"reputation": 366, "user_id": 6062390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JOlm.jpg?s=128&g=1", "display_name": "techcyclist", "link": "https://stackoverflow.com/users/6062390/techcyclist"}, "edited": false, "score": 0, "creation_date": 1550696791, "post_id": 54795129, "comment_id": 96368498, "body": "It didn&#39;t work for me in python3 though. Perhaps the module doesn&#39;t support python3."}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1550697097, "post_id": 54795129, "comment_id": 96368631, "body": "if it wasn&#39;t supported in <code>python3</code> I wouldn&#39;t imagine it would be <code>pip</code>-installable"}, {"owner": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550697272, "post_id": 54795129, "comment_id": 96368705, "body": "I&#180;m using python 3.6 in Anaconda"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 366, "user_id": 6062390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JOlm.jpg?s=128&g=1", "display_name": "techcyclist", "link": "https://stackoverflow.com/users/6062390/techcyclist"}, "edited": false, "score": 0, "creation_date": 1550698766, "post_id": 54795129, "comment_id": 96369338, "body": "@techcyclist you&#39;re right, the library has python2 syntax for <code>print</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550697438, "post_id": 54795225, "comment_id": 96368781, "body": "@Josemi I made an edit to encompass the whole module"}, {"owner": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550698090, "post_id": 54795225, "comment_id": 96369067, "body": "But if I do that, it appears: <code>File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\commpy\\channelco&zwnj;&#8203;ding\\__init__.py&quot;, line 66, in &lt;module&gt;     from .ldpc import ldpc_decode    File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\commpy\\channelco&zwnj;&#8203;ding\\ldpc.py&quot;, line 53     print &quot;Perfect Decoding, # Iterations: &quot; + str(i+1)                                            ^ SyntaxError: invalid syntax</code>"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550698561, "post_id": 54795225, "comment_id": 96369262, "body": "@Josemi wow that&#39;s bizarre looking. What command kicked that off?"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550698739, "post_id": 54795225, "comment_id": 96369327, "body": "@Josemi that&#39;s python2 syntax"}, {"owner": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550699227, "post_id": 54795225, "comment_id": 96369532, "body": "That&#39;s true, I didn&#39;t realise. I&#39;m changing the syntax to python 3, but for the following sentence: <code>raise ValueError, &quot;The arguments should have the same number of elements&quot;</code>, what would be its equivalent in python 3?"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 0, "creation_date": 1550699274, "post_id": 54795225, "comment_id": 96369547, "body": "<code>raise ValueError(&quot;The arguments...&quot;)</code>"}, {"owner": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "edited": false, "score": 1, "creation_date": 1550700040, "post_id": 54795225, "comment_id": 96369831, "body": "Ok, thank you a lot. It also gave me the error in file <code>&#47;algcode.py</code>: no module named &#39;gflieds&#39;, but I did <code>from .gfield import GF, polymultiply, poly_to_string</code>, and that was the last error"}], "tags": [], "owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "is_accepted": true, "score": 0, "last_activity_date": 1550698866, "last_edit_date": 1550698866, "creation_date": 1550696691, "answer_id": 54795225, "question_id": 54795129, "link": "https://stackoverflow.com/questions/54795129/python-commpy-library-error-no-module-named-filters/54795225#54795225", "title": "Python commpy library error: no module named &#39;filters&#39;", "body": "<p>So it looks like the <code>__init__.py</code> file in that directory has broken imports somehow. I was able to fix it in <code>vim</code> by changing the import to:</p>\n\n<h3><strong>init</strong>.py</h3>\n\n<pre class=\"lang-py prettyprint-override\"><code>from .filters import *\nfrom .modulation import *\nfrom .impairments import *\nfrom .sequences import *\n</code></pre>\n\n<p>I'm not sure how that will impact other functionalities in the module, but that does allow me to run</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import commpy\n\n</code></pre>\n\n<p>with no errors.</p>\n\n<h2>NOTE</h2>\n\n<p>It appears this behavior is further down in the module as well, so if you were to attempt</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from commpy import channelcoding\n</code></pre>\n\n<p>it will <code>raise</code> similar exceptions. So you will have to do more surgery on the module in <code>./commpy/channelcoding/__init__.py</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from .convcode import Trellis, conv_encode, viterbi_decode\nfrom .interleavers import *\nfrom .turbo import turbo_encode, map_decode, turbo_decode\nfrom .ldpc import ldpc_decode\nfrom .gfields import *\nfrom .algcode import *\n</code></pre>\n\n<h3>Upon further inspection, the syntax of this library is python2</h3>\n"}], "owner": {"reputation": 313, "user_id": 10760601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80df014e0f7efa182ddfc1f476750579?s=128&d=identicon&r=PG&f=1", "display_name": "Josemi ", "link": "https://stackoverflow.com/users/10760601/josemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 0, "accepted_answer_id": 54795225, "answer_count": 1, "score": 1, "last_activity_date": 1550698866, "creation_date": 1550696228, "last_edit_date": 1550696506, "question_id": 54795129, "link": "https://stackoverflow.com/questions/54795129/python-commpy-library-error-no-module-named-filters", "title": "Python commpy library error: no module named &#39;filters&#39;", "body": "<p>I have recently installed a library using this code:</p>\n\n<pre><code>pip install scikit-commpy\n</code></pre>\n\n<p>Moreover, I downloaded the tar.gz file from this site: <a href=\"https://pypi.org/project/scikit-commpy/#files\" rel=\"nofollow noreferrer\">https://pypi.org/project/scikit-commpy/#files</a> and launch the setup.py file, but when I do this on python to check the installation:</p>\n\n<pre><code>import commpy\n</code></pre>\n\n<p>It gives me the following error:</p>\n\n<pre><code>File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\commpy\\__init__.py\", line 17, in &lt;module&gt;\n    from filters import *\n\nModuleNotFoundError: No module named 'filters'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1550696284, "post_id": 54795113, "comment_id": 96368282, "body": "<a href=\"https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/&hellip;</a>"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1550696329, "post_id": 54795113, "comment_id": 96368306, "body": "why link to <code>python 2</code> @mad_"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1550696466, "post_id": 54795113, "comment_id": 96368375, "body": "@aws_apprentice I could not see python version tagged in the post. But, in case, it helps <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/&hellip;</a>"}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 2, "creation_date": 1550696891, "post_id": 54795113, "comment_id": 96368540, "body": "How would you get that output from that input?"}, {"owner": {"reputation": 3, "user_id": 11092281, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9szVXHsKCGU/AAAAAAAAAAI/AAAAAAAAAek/faIN-bfa5V4/photo.jpg?sz=128", "display_name": "mrr", "link": "https://stackoverflow.com/users/11092281/mrr"}, "edited": false, "score": 0, "creation_date": 1550697445, "post_id": 54795113, "comment_id": 96368784, "body": "modified the question, please check the edit"}, {"owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "edited": false, "score": 0, "creation_date": 1550698017, "post_id": 54795113, "comment_id": 96369043, "body": "Does the input file really have empty lines between data lines?"}, {"owner": {"reputation": 3, "user_id": 11092281, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9szVXHsKCGU/AAAAAAAAAAI/AAAAAAAAAek/faIN-bfa5V4/photo.jpg?sz=128", "display_name": "mrr", "link": "https://stackoverflow.com/users/11092281/mrr"}, "edited": false, "score": 0, "creation_date": 1550700028, "post_id": 54795113, "comment_id": 96369825, "body": "no empty lines."}], "answers": [{"tags": [], "owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "is_accepted": false, "score": 0, "last_activity_date": 1550698129, "creation_date": 1550698129, "answer_id": 54795513, "question_id": 54795113, "link": "https://stackoverflow.com/questions/54795113/python-iterate-over-a-file-each-line-having-list-of-list-find-the-length-of-l/54795513#54795513", "title": "python: iterate over a file, each line having list of list, find the length of list at each line", "body": "<pre><code>def main():\n    sizeIndex = {}\n    with open(\"/tmp/file.dat\") as f:\n        count = 1\n        while True:\n            line = f.readline()\n            if not line:\n                break\n            lineList = eval(line)\n            listLength = len(lineList)\n            print \"length of list @line{} = {}\".format(count, listLength)\n            if listLength not in sizeIndex:\n                sizeIndex[listLength] = []\n            sizeIndex[listLength].append(listLength)\n            count += 1\n    for x in sorted(sizeIndex.keys()):\n        print \"number of list with length {} = {}\".format(x, len(sizeIndex[x]))\n\nmain()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>length of list @line1 = 3\nlength of list @line2 = 2\nlength of list @line3 = 3\nlength of list @line4 = 1\nnumber of list with length 1 = 1\nnumber of list with length 2 = 1\nnumber of list with length 3 = 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "is_accepted": false, "score": 1, "last_activity_date": 1550700491, "last_edit_date": 1550700491, "creation_date": 1550698913, "answer_id": 54795669, "question_id": 54795113, "link": "https://stackoverflow.com/questions/54795113/python-iterate-over-a-file-each-line-having-list-of-list-find-the-length-of-l/54795669#54795669", "title": "python: iterate over a file, each line having list of list, find the length of list at each line", "body": "<p>This example would work, using <a href=\"https://docs.python.org/3.6/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">ast literal_eval</a> (much safer than a simple <a href=\"https://docs.python.org/3/library/functions.html#eval\" rel=\"nofollow noreferrer\">eval</a>) and <a href=\"https://docs.python.org/3.6/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">Counter</a> to count the lines with a given length.</p>\n\n<pre><code>import ast\nfrom collections import Counter\n\nlengths = Counter()\n\nwith open(\"file.dat\") as fp:\n    for cnt, line in enumerate(fp.readlines()):\n        ll = ast.literal_eval(line)\n        print(f\"length of list {cnt+1} = {len(ll)}\")\n        lengths.update([len(ll)])\n\nfor lng, num in lengths.items():\n    print(f\"number of list with length {lng} = {num}\")\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>length of list 1 = 3<br>\n  length of list 2 = 2<br>\n  length of list 3 = 3<br>\n  length of list 4 = 1<br>\n  number of list with length 3 = 2<br>\n  number of list with length 2 = 1<br>\n  number of list with length 1 = 1</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 10786248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79de4f5db77f487d05e16306bc27473?s=128&d=identicon&r=PG&f=1", "display_name": "mapledale", "link": "https://stackoverflow.com/users/10786248/mapledale"}, "is_accepted": true, "score": 0, "last_activity_date": 1550700282, "creation_date": 1550700282, "answer_id": 54795952, "question_id": 54795113, "link": "https://stackoverflow.com/questions/54795113/python-iterate-over-a-file-each-line-having-list-of-list-find-the-length-of-l/54795952#54795952", "title": "python: iterate over a file, each line having list of list, find the length of list at each line", "body": "<p>Suppose each line of the data file has the list in correct format, i.e. one '[' at the start of each line and one ']' at the end; plus each list in a line also use '[' and ']' correctly, then a simpler solution is just count the number of '[' in each line (and decrease by 1) to determine the number of lists in that line.</p>\n\n<p>Below is my code basing on above assumption:</p>\n\n<pre><code>filename = 'file.dat'\nrst = {}\n\nwith open(filename, 'r') as f:\n    for i, l in enumerate(f):\n        count = l.count('[') - 1\n        if count in rst:\n            rst[count] += 1\n        else:\n            rst[count] = 1\n        print('length of list @line%d = %d' % (i + 1, count))\n\nfor k in sorted(rst):\n    print('number of list with length %s = %d' % (k, rst[k]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>length of list @line1 = 3\nlength of list @line2 = 2\nlength of list @line3 = 3\nlength of list @line4 = 1\nnumber of list with length 1 = 1\nnumber of list with length 2 = 1\nnumber of list with length 3 = 2\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11092281, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9szVXHsKCGU/AAAAAAAAAAI/AAAAAAAAAek/faIN-bfa5V4/photo.jpg?sz=128", "display_name": "mrr", "link": "https://stackoverflow.com/users/11092281/mrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 54795952, "answer_count": 3, "score": -2, "last_activity_date": 1550700491, "creation_date": 1550696166, "last_edit_date": 1550697358, "question_id": 54795113, "link": "https://stackoverflow.com/questions/54795113/python-iterate-over-a-file-each-line-having-list-of-list-find-the-length-of-l", "title": "python: iterate over a file, each line having list of list, find the length of list at each line", "body": "<p>I am having a file containing every line as list of lists. I want to read each line from the file and find the length of list and get the count of same number of list. </p>\n\n<p><strong>Input in the file.dat</strong></p>\n\n<pre><code>[['11', '42'], ['11', '46'], ['46', '47']]\n\n[['48', '49'], ['48', '50']]\n\n[['12', '22'], ['33', '46'], ['41', '42']]\n\n[['48', '42']]\n</code></pre>\n\n<p><strong>Output:</strong> </p>\n\n<pre><code>length of list @line1 = 3\n\nlength of list @line2 = 2\n\nlength of list @line3 = 3\n\nlength of list @line4 = 1\n\nnumber of list with length 1 = 1\n\nnumber of list with length 2 = 1\n\nnumber of list with length 3 = 2 \n</code></pre>\n\n<p>I tried to read the file with numpy array and find the length. But I don\u2019t know how to read the file line by line and find the length iteratively. Is there any way to do it?</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2970571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf4c288c19735da2794d7b4fcc8ecc2?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2970571/jesse"}, "edited": false, "score": 0, "creation_date": 1550698830, "post_id": 54795236, "comment_id": 96369363, "body": "Thanks!  As an aside, I actually had set up a related_name on my SOSeller model, so for anybody coming in here looking for a similar solution, in Bear Brown&#39;s query above, use the related_name instead of the model name (i.e. I had &quot;so_sellers&quot; as my related name, so my query was .filter(sales_order__so_sellers__salesperson__username__cont&zwnj;&#8203;ains=&#39;tom&#39;)"}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 23, "user_id": 2970571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf4c288c19735da2794d7b4fcc8ecc2?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2970571/jesse"}, "edited": false, "score": 0, "creation_date": 1550700264, "post_id": 54795236, "comment_id": 96369922, "body": "good! you can edit my answer to add your solution, and if it help you, you should accept the answer for other who will search the same issue."}], "tags": [], "owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "is_accepted": true, "score": 1, "last_activity_date": 1550696763, "creation_date": 1550696763, "answer_id": 54795236, "question_id": 54795053, "link": "https://stackoverflow.com/questions/54795053/retrieving-django-queryset-matching-field-in-reverse-query-related-name/54795236#54795236", "title": "Retrieving Django QuerySet matching field in reverse query (related_name)", "body": "<p>You was near the right answer, when you create the filter based on related models you should not use the <code>set</code> postfix, for example, for the models:</p>\n\n<pre><code>class UserProfile(models.Model):\n    username = models.CharField(max_length=200)\n\nclass SalesOrder(models.Model):\n    pass\n\nclass InvDetail(models.Model):\n    sales_order = models.ForeignKey('SalesOrder', on_delete=models.SET_NULL, null=True)\n\nclass SOSeller(models.Model):\n    sales_order = models.ForeignKey('SalesOrder', on_delete=models.CASCADE)\n    salesperson = models.ForeignKey('UserProfile', on_delete=models.CASCADE)\n</code></pre>\n\n<p>query will be:</p>\n\n<pre><code>InvDetail.objects.filter(\n    sales_order__soseller__salesperson__username__contains='tom'\n)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2970571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf4c288c19735da2794d7b4fcc8ecc2?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2970571/jesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 54795236, "answer_count": 1, "score": 2, "last_activity_date": 1550696763, "creation_date": 1550695902, "question_id": 54795053, "link": "https://stackoverflow.com/questions/54795053/retrieving-django-queryset-matching-field-in-reverse-query-related-name", "title": "Retrieving Django QuerySet matching field in reverse query (related_name)", "body": "<p>I apologize for the title... it's really hard to explain my question in one line.</p>\n\n<p>I'm trying to determine a way to retrieve all objects of one model that match a field in another model through an objects related_name set.</p>\n\n<p>Examples of my models:</p>\n\n<pre><code>class InvDetail(models.Model):\n    sales_order = models.ForeignKey('SalesOrder', on_delete=models.SET_NULL, null=TRUE)\n    [...]other invoice related fields[...]\n\nclass SalesOrder(models.Model):\n    [...]a bunch of sales order specific fields[...]\n\nclass SOSeller(models.Model):\n    sales_order = models.ForeignKey('SalesOrder', on_delete=models.CASCADE)\n    salesperson = models.ForeignKey('UserProfile', on_delete=models.CASCADE)\n</code></pre>\n\n<p>What I'm trying to get is all of InvDetail objects that are linked to SalesOrder objects that has a SOSeller object that is linked to a particular UserProfile object.</p>\n\n<p>In my case, an individual sales order can have multiple salesperson attached to it (in which case, they all get credit for commission purposes, for example)</p>\n\n<p>Right now, I am iterating through a for loop of all the InvDetails, (or really, filtered down to a particular date range, which I didn't show in my model).</p>\n\n<pre><code>invdetails = InvDetail.objects.all()\n\nfiltered_inds = []\n\nfor invdetail in invdetails:\n    sellers = invdetail.sales_order.soseller_set.all().values_list('salesperson__user__username', flat=True)\n\n    if name in sellers:\n        filtered_inds.append(invdetail)\n</code></pre>\n\n<p>This gets me a list of all of the invoices associated with a particular salesperson, but it is painfully slow, especially as the number of invoices that it has to iterate goes up.</p>\n\n<p>I've been trying to think of a better way to query for the data, maybe through Q or F functions, but I've been unable to figure out a way to get the same data with them...</p>\n\n<p>Something like</p>\n\n<pre><code>inv_details = InvDetail.objects.filter(sales_order__soseller_set__contains='tom')\n</code></pre>\n\n<p>Originally my models were set up so that I just had a ForeignKey field linked to one salesperson per sales order, and that was easy to gather all the invoices that a salesperson was associated with, but I was requested to be able to add other salesperson so that multiple salespeople could be associated with any particular sale...</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "python-descriptors"], "comments": [{"owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "edited": false, "score": 2, "creation_date": 1550696014, "post_id": 54795044, "comment_id": 96368154, "body": "They both return <code>float</code>s, why would you expect an <code>int</code> there?"}, {"owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "edited": false, "score": 0, "creation_date": 1550696074, "post_id": 54795044, "comment_id": 96368176, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3798835/understanding-get-and-set-and-python-descriptors\">Understanding __get__ and __set__ and Python descriptors</a>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1550696431, "post_id": 54795044, "comment_id": 96368358, "body": "The output you say you&#39;re getting is what I&#39;d expect from your code. Why do you think you should get <code>32</code> from <code>t1.fahrenheit</code> when you first access it? Also, that descriptor design is very weird, as every instance of <code>Temperature</code> will share the same temperature values (since they live in the <code>Celsius</code> descriptor instance). It would be much more natural to save the underlying value in the instance somewhere."}, {"owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "edited": false, "score": 0, "creation_date": 1550696704, "post_id": 54795044, "comment_id": 96368461, "body": "I need to get the O/P as 32 0.0 32.0 0.0 . I&#39;m trying to figure out how to do it"}, {"owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "edited": false, "score": 0, "creation_date": 1550697706, "post_id": 54795044, "comment_id": 96368889, "body": "I&#39;m looking for what to change in my code to get the desired O/P"}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1550698724, "post_id": 54795044, "comment_id": 96369318, "body": "Please Explain why you want (and expect) no decimal portion to print on the first number output."}, {"owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "edited": false, "score": 0, "creation_date": 1550699877, "post_id": 54795044, "comment_id": 96369770, "body": "its a part of python learning exercise I&#39;m trying to solve.."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1550699934, "post_id": 54795044, "comment_id": 96369792, "body": "Frankly, it sounds like your exercise is bugged."}, {"owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "edited": false, "score": 0, "creation_date": 1550700294, "post_id": 54795044, "comment_id": 96369935, "body": "Is there a better way to write the code to get the expected O/P (without editing the print statement).. I am new comer to python and trying learn by googling and posting questions.."}], "answers": [{"tags": [], "owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "is_accepted": false, "score": 0, "last_activity_date": 1550699027, "creation_date": 1550699027, "answer_id": 54795694, "question_id": 54795044, "link": "https://stackoverflow.com/questions/54795044/need-help-on-python-descriptor-functionality/54795694#54795694", "title": "Need help on python Descriptor functionality", "body": "<p>With no explanation of why you want the output you desire...just that you WANT that output, you can get it by changing the last four lines of your code to:</p>\n\n<pre><code>t1 = Temperature(32)\nprint(int(t1.fahrenheit), t1.celsius)\nt1.celsius = 0\nprint(t1.fahrenheit, t1.celsius)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>32 0.0\n32.0 0.0\n</code></pre>\n\n<p>I assume you want something other than this, but I can't figure out what you might want.  The output you're getting from your code as is is perfectly reasonable.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "is_accepted": false, "score": 0, "last_activity_date": 1550779787, "creation_date": 1550779787, "answer_id": 54815440, "question_id": 54795044, "link": "https://stackoverflow.com/questions/54795044/need-help-on-python-descriptor-functionality/54815440#54815440", "title": "Need help on python Descriptor functionality", "body": "<p>class Celsius:\n    def <strong>get</strong>(self, instance, owner):\n        return 5 * (instance.fahrenheit - 32) /9</p>\n\n<pre><code>def __set__(self, instance, value):\n    instance.fahrenheit = 32 + 9 * value/5\n</code></pre>\n\n<p>class Temperature:\n    celsius = Celsius()</p>\n\n<pre><code>def __init__(self, initial_f):\n    self.fahrenheit = initial_f\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "is_accepted": false, "score": 0, "last_activity_date": 1551072488, "creation_date": 1551072488, "answer_id": 54859986, "question_id": 54795044, "link": "https://stackoverflow.com/questions/54795044/need-help-on-python-descriptor-functionality/54859986#54859986", "title": "Need help on python Descriptor functionality", "body": "<p>The problem is that when you assign something to <code>fahrenheit</code>, the <code>__set__()</code> method of <code>Fahrenheit</code> delegates to <code>instance.celsius</code>. All of the methods on <code>Celsius</code> convert to <code>float</code>. If you want your examples to work as you expect, you'll need <code>Celsius</code> to delegate to <code>instance.fahrenheit</code> instead while still doing it's <code>float</code> conversions, maybe only only in <code>__get__()</code> if that's what you want.</p>\n\n<p>So, to sum up, store in <code>Fahrenheit</code> type without type conversion, and delegate to <code>Fahrenheit</code> from <code>Celsius</code>.</p>\n\n<p>As some others have noted, your descriptor design makes it so that all instances of <code>Temperature</code> will store the same value. If you want different instances to hold different values, you'll need to save the value either directly on the instance under a different name (typically, it would be <code>_fahrenheit</code> in this situation) or in a kind of dictionary where the key is <code>instance</code>.</p>\n\n<p>Lastly, for this kind of situation where there's a value shared between two descriptors and they're not likely to be reused somewhere else, I would go the <code>property</code> route. </p>\n"}], "owner": {"reputation": 61, "user_id": 7292983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44df43cdd40d427bd771429bd782da65?s=128&d=identicon&r=PG&f=1", "display_name": "Prashy", "link": "https://stackoverflow.com/users/7292983/prashy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1551072488, "creation_date": 1550695871, "last_edit_date": 1550695944, "question_id": 54795044, "link": "https://stackoverflow.com/questions/54795044/need-help-on-python-descriptor-functionality", "title": "Need help on python Descriptor functionality", "body": "<p>I'm trying to solve a problem using python Descriptors.. \nCode is as below</p>\n\n<pre><code>class Celsius( object ):\n    def __init__( self, value=0.0 ):\n        self.value= float(value)\n    def __get__( self, instance, owner ):\n        return float(self.value)\n    def __set__( self, instance, value ):\n        self.value= float(value)\n\nclass Fahrenheit( object ):\n    def __get__( self, instance, owner ):\n        return (instance.celsius * 9 / 5 + 32.0)\n    def __set__( self, instance, value ):\n        instance.celsius= (float(value)-32.0) * 5 / 9\n\nclass Temperature( object ):\n    def __init__(self, fahrenheit):\n        self.fahrenheit = fahrenheit\n\n    fahrenheit = Fahrenheit()\n    celsius = Celsius()\n\nt1 = Temperature(32)\nprint(t1.fahrenheit, t1.celsius)\nt1.celsius = 0\nprint(t1.fahrenheit, t1.celsius)\n</code></pre>\n\n<p>Expected O/P is </p>\n\n<pre><code>32 0.0\n32.0 0.0\n</code></pre>\n\n<p>But I get </p>\n\n<pre><code>32.0 0.0\n32.0 0.0\n</code></pre>\n\n<p>Please help where should I change or if there is any other better way.</p>\n"}]