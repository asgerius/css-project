[{"tags": ["python", "pandas", "compare"], "comments": [{"owner": {"reputation": 2540, "user_id": 421512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0334221408aa7416fc31f857b31d1b53?s=128&d=identicon&r=PG", "display_name": "widged", "link": "https://stackoverflow.com/users/421512/widged"}, "edited": false, "score": 1, "creation_date": 1441844510, "post_id": 32490929, "comment_id": 52842671, "body": "Are you already familiar with the <code>groupby</code> function? <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/groupby.html</a>"}, {"owner": {"reputation": 12267, "user_id": 1672128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af16e4ed7ae250d86a69218fdb2176a3?s=128&d=identicon&r=PG", "display_name": "YS-L", "link": "https://stackoverflow.com/users/1672128/ys-l"}, "edited": false, "score": 0, "creation_date": 1441851487, "post_id": 32490929, "comment_id": 52844302, "body": "What if the numbers of rows in <code>M</code> and <code>F</code> are different?"}, {"owner": {"reputation": 13049, "user_id": 4413446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Z2gMy.png?s=128&g=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/4413446/romain"}, "edited": false, "score": 0, "creation_date": 1441871832, "post_id": 32490929, "comment_id": 52852169, "body": "Have you simply tried something like this <code>df.set_index([&#39;Sex&#39;, &#39;Height&#39;, &#39;Weight&#39;]).sort_index()</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 13049, "user_id": 4413446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Z2gMy.png?s=128&g=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/4413446/romain"}, "is_accepted": false, "score": 1, "last_activity_date": 1441890383, "last_edit_date": 1441890383, "creation_date": 1441887911, "answer_id": 32501856, "question_id": 32490929, "link": "https://stackoverflow.com/questions/32490929/split-column-values-based-on-flag-in-python-pandas/32501856#32501856", "title": "Split column values based on flag in python pandas", "body": "<p>Ugly but it works. The idea is to split the original <code>DataFrame</code> in two by sex and to recombine them with a hierarchical column index.</p>\n\n<pre><code># Test data\ndf =pd.DataFrame({'Sex': ['M','F','M','F'], 'Weight': [34,29,29,26], 'Height': [5.6,5.1,4.5,5.2]})\n\ndef reshape(grouped, group):\n    df = grouped.get_group(group).loc[:,['Height','Weight']]\n    df.columns = [[group, group],df.columns]\n    return df.reset_index(drop=True)\n\ngrouped = df.groupby('Sex')\npd.concat([reshape(grouped,'M'), reshape(grouped,'F')], axis=1)\n\n       M             F       \n  Height Weight Height Weight\n0    5.6     34    5.1     29\n1    4.5     29    5.2     26\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5319123, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d69e36ca506f3c30ae9531417df12630?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/5319123/rocky"}, "edited": false, "score": 0, "creation_date": 1442325614, "post_id": 32504890, "comment_id": 53029726, "body": "This solution worked if i apply group by column only on Sex field. Howver another  requirement says the below format:                                 Date\t\tSex weight hight\t   Salary Feb 2014 \tM    34      5&#39;6&quot;    20,000 Feb 2015\t\tF    29      5&#39;1&quot;    20,000 Feb 2014\t\tM    29      4&#39;5&quot;    10,000 Feb 2015\t\tF    26      5&#39;2&quot;    40,000     Desired format:                                                                                                    \t\t                                    M             F  Date  \t\tSalary\tSalary Feb 2014\t\t30,000\t60,000"}, {"owner": {"reputation": 1292, "user_id": 4602248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13bfbe14f7fc38dcd6c858b0c7996ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4602248/alex"}, "reply_to_user": {"reputation": 25, "user_id": 5319123, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d69e36ca506f3c30ae9531417df12630?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/5319123/rocky"}, "edited": false, "score": 0, "creation_date": 1442338798, "post_id": 32504890, "comment_id": 53038276, "body": "@Rocky, I&#39;m afraid I don&#39;t exactly understand what you&#39;re asking for. You could look into the groupby documentation here to try and work it out: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a> You&#39;ll probably also want to look at these more practical examples: <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/groupby.html</a>"}], "tags": [], "owner": {"reputation": 1292, "user_id": 4602248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13bfbe14f7fc38dcd6c858b0c7996ce7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4602248/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1441895876, "creation_date": 1441895876, "answer_id": 32504890, "question_id": 32490929, "link": "https://stackoverflow.com/questions/32490929/split-column-values-based-on-flag-in-python-pandas/32504890#32504890", "title": "Split column values based on flag in python pandas", "body": "<p>You can avoid defining a function with this:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'Sex': ['M','F','M','F'], 'Weight': [34,29,29,26], 'Height': [5.6,5.1,4.5,5.2]})\ngr = df.groupby('Sex')\ngrs = [grs for name, grs in gr]\nfor each in grs:\n    del each['Sex']\n    each.index = range(len(each.index))\n\nmI = pd.MultiIndex.from_product([gr.groups.keys(), grs[0].columns])\nresults = pd.concat(grs, axis=1)\nresults.columns = mI\nprint results\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>       M             F\n  Height Weight Height Weight\n0    5.1     29    5.6     34\n1    5.2     26    4.5     29\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5319123, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d69e36ca506f3c30ae9531417df12630?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/5319123/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1446516897, "creation_date": 1441842977, "last_edit_date": 1446516897, "question_id": 32490929, "link": "https://stackoverflow.com/questions/32490929/split-column-values-based-on-flag-in-python-pandas", "title": "Split column values based on flag in python pandas", "body": "<p>I have a table as below: </p>\n\n<pre><code>Sex weight hight\nM    34      5'6\"\nF    29      5'1\"\nM    29      4'5\"\nF    26      5'2\"\n</code></pre>\n\n<p>And i want to display table as below through python pandas </p>\n\n<pre><code>M                 F\nHeight Weight    Height Weight\n5'6\"   34        5'1\"     29\n4'5\"   29        5'2\"     26\n</code></pre>\n\n<p>to parallel compare Male and female Ht and wt data.</p>\n"}, {"tags": ["python", "csv", "comma"], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 4, "last_activity_date": 1441842503, "creation_date": 1441842503, "answer_id": 32490881, "question_id": 32490842, "link": "https://stackoverflow.com/questions/32490842/how-to-create-a-list-in-python-when-the-elements-contain-commas/32490881#32490881", "title": "How to create a list in python when the elements contain commas", "body": "<p>python provides tools to parse csv files ... you should use them</p>\n\n<pre><code>print list(csv.reader(open(\"outfile.csv\",\"r\")))\n</code></pre>\n\n<p>maybe?</p>\n"}, {"comments": [{"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "edited": false, "score": 0, "creation_date": 1441843899, "post_id": 32490900, "comment_id": 52842527, "body": "@brent washburne, this solution IS cool.  Just to be comprehensive, what if the sentence is in col1 and color is in col2, how would I tell python to not break on commas inside the sentence since your trick wouldn&#39;t work due to the breaking comma not being in the first occurrence?"}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": true, "score": 2, "last_activity_date": 1441842677, "creation_date": 1441842677, "answer_id": 32490900, "question_id": 32490842, "link": "https://stackoverflow.com/questions/32490842/how-to-create-a-list-in-python-when-the-elements-contain-commas/32490900#32490900", "title": "How to create a list in python when the elements contain commas", "body": "<p>Stop the split after the first comma:</p>\n\n<pre><code>line = i.strip().split(\",\", 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 4, "last_activity_date": 1441844951, "last_edit_date": 1441844951, "creation_date": 1441842964, "answer_id": 32490926, "question_id": 32490842, "link": "https://stackoverflow.com/questions/32490842/how-to-create-a-list-in-python-when-the-elements-contain-commas/32490926#32490926", "title": "How to create a list in python when the elements contain commas", "body": "<p>The <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">cvs module</a> makes this easy as pie. </p>\n\n<p>Given:</p>\n\n<pre><code>$ cat /tmp/so.csv\nLight Green,\"Matches type, instance, etc.\"\nRed,Happens in BD10 but not BD20\nBlue,\"Instance and time matches, type doesn't match\"\nYellow,Caught on replay\n</code></pre>\n\n<p>Try:</p>\n\n<pre><code>import csv\nwith open('/tmp/so.csv') as f:\n    for line in csv.reader(f):\n        print line    \n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>['Light Green', 'Matches type, instance, etc.']\n['Red', 'Happens in BD10 but not BD20']\n['Blue', \"Instance and time matches, type doesn't match\"]\n['Yellow', 'Caught on replay']\n</code></pre>\n"}], "owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 32490900, "answer_count": 3, "score": 2, "last_activity_date": 1441844951, "creation_date": 1441842279, "question_id": 32490842, "link": "https://stackoverflow.com/questions/32490842/how-to-create-a-list-in-python-when-the-elements-contain-commas", "title": "How to create a list in python when the elements contain commas", "body": "<p>How do I create a list of strings in python where the strings can contain commas such that the interpreter doesn't break on commas prematurely.</p>\n\n<p>I am reading in a template csv file, created by MSExcel.  The contents are 2 columns: col1 = color, col2 = a sentence that can contain a comma.  The content is as follows:</p>\n\n<pre><code>Light Green,\"Matches type, instance, etc.\"\nRed,Happens in BD10 but not BD20\nBlue,\"Instance and time matches, type doesn't match\"\nYellow,Caught on replay\n</code></pre>\n\n<p>When I read in and output what was read, it breaks the input line on all commas.</p>\n\n<pre><code>#my code snippet, please excuse any typos during sanitization\nwith open('outfile.csv','r') as infile:\n   blah = infile.readlines()\n   for i in blah:\n      line = i.strip().split(\",\")\n      print line\n\nMy output:\n['Light Green', '\"Matches type', ' instance', ' etc.\"']\n['Red', 'Happens in BD10 but not BD20']\n['Blue', '\"Instance and time matches', ' type doesn\\'t match\"']\n['Yellow', 'Caught on replay']\n</code></pre>\n\n<p>How do I tell python to ignore commas when it's within \"\" and break at commas all other times?</p>\n"}, {"tags": ["python", "list", "dictionary", "text-files"], "comments": [{"owner": {"reputation": 779, "user_id": 4933116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Pov-76Ho5_c/AAAAAAAAAAI/AAAAAAAAABE/UX5RzZlWMnU/photo.jpg?sz=128", "display_name": "pommicket", "link": "https://stackoverflow.com/users/4933116/pommicket"}, "edited": false, "score": 1, "creation_date": 1441842606, "post_id": 32490811, "comment_id": 52842247, "body": "You can&#39;t start a variable name with a number. You have to write something like <code>firstChar</code> not <code>1char</code>. Also, string indexes start at 0, not 1, and you don&#39;t need to do <code>file.read(line[0])</code> because <code>line[0]</code> is a string."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441843209, "post_id": 32490875, "comment_id": 52842371, "body": "Ok I see what you changed but when adding the splitlines() then the code doesn&#39;t work. It was working fine before that with the exception that it was printing \\n after each name since they are in new lines, I need to get ride of that. I know I have to do it with .split() but this is only for strings not list, so how do I do that?"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441843395, "post_id": 32490875, "comment_id": 52842419, "body": "@April what problem are you getting with splitlines()? I just tested it and it works fine for me"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441843724, "post_id": 32490875, "comment_id": 52842490, "body": "@April I changed it to split(), try it now. Although I don&#39;t know why you&#39;d have a problem with splitlines"}, {"owner": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441844730, "post_id": 32490875, "comment_id": 52842722, "body": "It says that &#39;list&#39; object has no attribute &#39;split&#39;. And there is also an error in the line that says line[0] in names: the error is string index out of range"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441844771, "post_id": 32490875, "comment_id": 52842734, "body": "@April sorry, i had a typo, files instead of file. Try now"}, {"owner": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441844897, "post_id": 32490875, "comment_id": 52842767, "body": "now this is what it says as an error,     if line[0] in names: IndexError: string index out of range"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441845091, "post_id": 32490875, "comment_id": 52842811, "body": "@April did you change it to <code>lines = file.read().split(&#39;\\n&#39;)</code> instead of <code>lines = files.read().split(&#39;\\n&#39;)</code> as it was before ?"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441845141, "post_id": 32490875, "comment_id": 52842825, "body": "@April or are you not trying it with an empty file?? If the file is empty you&#39;ll get that error"}, {"owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "reply_to_user": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441845508, "post_id": 32490875, "comment_id": 52842917, "body": "@April I added some protection so the program won&#39;t crash with an empty file"}, {"owner": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "edited": false, "score": 0, "creation_date": 1441847793, "post_id": 32490875, "comment_id": 52843423, "body": "yes I made all the changes but it still says that the string index is out of range"}], "tags": [], "owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "is_accepted": false, "score": 1, "last_activity_date": 1441845474, "last_edit_date": 1441845474, "creation_date": 1441842484, "answer_id": 32490875, "question_id": 32490811, "link": "https://stackoverflow.com/questions/32490811/change-values-of-dictionary-to-be-a-list/32490875#32490875", "title": "change values of dictionary to be a list", "body": "<p>this should do the trick, just change the name from file.txt to your files name:</p>\n\n<pre><code>def newDictionary():\n    names={}\n    file = open('file.txt')\n    lines = file.read().split('\\n')\n    if len(lines) == 1 and len(lines[0]) == 0:\n        print('empty file')\n    else:\n        for line in lines:\n            if line[0] in names:\n                names[(line[0])].append(line)\n            else:\n                names[(line[0])] = [line,] \n    return names\n</code></pre>\n\n<p>basically what it does is read the file, split into lines, then iterate over the lines, check if the 1st char of that line is already in the dictionary. If it is not, add it as key, where the value is an array containing the name read. If it is, just append the name to the array corresponding to that key.</p>\n\n<p>Obs: I changed a previous answer that was keeping the new lines on the end of the names.</p>\n"}, {"comments": [{"owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "edited": false, "score": 0, "creation_date": 1441845909, "post_id": 32490896, "comment_id": 52843007, "body": "Use <code>f</code> instead of <code>f.readlines()</code>. File objects are iterables in Python. By doing this you can also cut out <code>line.strip()</code>."}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 2, "last_activity_date": 1441843280, "last_edit_date": 1441843280, "creation_date": 1441842643, "answer_id": 32490896, "question_id": 32490811, "link": "https://stackoverflow.com/questions/32490811/change-values-of-dictionary-to-be-a-list/32490896#32490896", "title": "change values of dictionary to be a list", "body": "<p>I'd use <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\"><code>collections.defaultdict</code></a> to generate the name lists:</p>\n\n<pre><code>from collections import defaultdict\ndef newDictionary(filename):\n    names = defaultdict(list)\n    with open(filename) as f:\n        for line in f.readlines():\n            line = line.strip()\n            if line:\n                names[line[0]].append(line)\n    return names\n</code></pre>\n\n<p>Example of how to generate dictionary of name lists by first letter:</p>\n\n<pre><code>name_lists = newDictionary(\"names.txt\")\nprint name_lists\n</code></pre>\n\n<blockquote>\n  <p>defaultdict(, {\n      'A': ['Anna'],\n      'B': ['Betty'],\n      'H': ['Holley'],\n      'K': ['Kim'],\n      'J': ['Jane', 'Judith'],\n      'M': ['Mary', 'Melody', 'Myriam'],\n      'L': ['Lauren'] })</p>\n</blockquote>\n\n<p>Now to get the counts of each initial letter:</p>\n\n<pre><code>counts = {k: len(v) for k, v in name_lists.items()}\n</code></pre>\n\n<blockquote>\n  <p>{'A': 1, 'B': 1, 'H': 1, 'K': 1, 'J': 2, 'M': 3, 'L': 1}</p>\n</blockquote>\n\n<p>I've changed many variable names since they shadow built-in functions.</p>\n"}, {"tags": [], "owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "is_accepted": false, "score": 0, "last_activity_date": 1441843650, "creation_date": 1441843650, "answer_id": 32491022, "question_id": 32490811, "link": "https://stackoverflow.com/questions/32490811/change-values-of-dictionary-to-be-a-list/32491022#32491022", "title": "change values of dictionary to be a list", "body": "<p>You can use <code>setdefault</code>:</p>\n\n<pre><code>with open('yourfile.txt') as f:\n    d = {}\n    for line in f:\n        lst = [(line[0], line.strip())]\n        for k,v in lst:\n            d.setdefault(k, []).append(v)\nprint (d)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'A': ['Anna'], 'B': ['Betty'], 'H': ['Holley'], 'K': ['Kim'], 'J': ['Jane', 'Judith'], 'M': ['Mary', 'Melody', 'Myriam'], 'L': ['Lauren']}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 4986598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/017b3a2751c57e54e7d39ddc5cc5d1e7?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/4986598/april"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1441845474, "creation_date": 1441842042, "last_edit_date": 1441843039, "question_id": 32490811, "link": "https://stackoverflow.com/questions/32490811/change-values-of-dictionary-to-be-a-list", "title": "change values of dictionary to be a list", "body": "<p>ok so I have this code that will take in a text file with names, and then make a dictionary with the first letter of each name as the keys and the repetition of this letter as the values. I need to change it to where the values is a list of the names corresponding to that initial letter. I got up to where it counts how many names for every letter there is but I don't know how to then take these names and turn them into a list, to be the values. \nIt should do something like this: </p>\n\n<p>(this is he text file my function will read) </p>\n\n<pre><code>Mary\nJane\nAnna\nJudith\nKim\nMelody\nMyriam\nLauren\nBetty\nHolley\n</code></pre>\n\n<p>then the dictionary should do this</p>\n\n<pre><code>{'A':['Anna'], 'B':['Betty'], 'H':['Holley'], 'J':['Judith','Jane'], 'K': \n['Kim'], 'L':['Lauren'], 'M':['Mary','Melody','Myriam']}\n</code></pre>\n\n<p>but mine will just return this: </p>\n\n<pre><code>{'A':1, 'B':1, 'H':1, 'J':2, 'K':1, 'L':1, 'M':3}\n</code></pre>\n\n<p>How do I change it to where I get the names?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>def newDictionary():\n    names={}\n    char = []\n    file = open(names)\n    lines = file.readlines()\n    for line in lines:\n        1char = file.read(line[1])\n        1char.append(char)\n        for keys,values in names():\n\n    return names\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1441844049, "post_id": 32490978, "comment_id": 52842566, "body": "You&#39;ll get the &quot;.pdf&quot; in the middle, won&#39;t you?  Perhaps you should have <code>filename[4:-4]</code> and stick &#39;.pdf&#39; on the end."}], "tags": [], "owner": {"reputation": 2916, "user_id": 2108812, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/yiPgB.jpg?s=128&g=1", "display_name": "dietbacon", "link": "https://stackoverflow.com/users/2108812/dietbacon"}, "is_accepted": false, "score": 0, "last_activity_date": 1441866389, "last_edit_date": 1441866389, "creation_date": 1441843280, "answer_id": 32490978, "question_id": 32490807, "link": "https://stackoverflow.com/questions/32490807/removing-integer-from-end-of-filenames-in-python/32490978#32490978", "title": "Removing Integer from end of filenames in python", "body": "<p>To do it in current directory:</p>\n\n<pre><code>import os, time\nfor filename in os.listdir(\".\"):\n    if filename.startswith(\"file\"):\n        os.rename(filename, filename[4:-4] + time.ctime(os.path.getctime(filename)) + \".pdf\")\n</code></pre>\n\n<p>just substitute \"file\" for whatever the beginning of the file name is before the numbers and the 4 in [4:-4] with the length of that string.\nIf you wanna display the time in a different way than ctime does, just substitute <code>time.ctime(os.path.getctime(filename))</code> for something that returns the string for that time.</p>\n"}, {"tags": [], "owner": {"reputation": 20353, "user_id": 150647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a42473434821fe7fec7b9cc58d1cc087?s=128&d=identicon&r=PG", "display_name": "diegueus9", "link": "https://stackoverflow.com/users/150647/diegueus9"}, "is_accepted": false, "score": 0, "last_activity_date": 1441843809, "creation_date": 1441843809, "answer_id": 32491040, "question_id": 32490807, "link": "https://stackoverflow.com/questions/32490807/removing-integer-from-end-of-filenames-in-python/32491040#32491040", "title": "Removing Integer from end of filenames in python", "body": "<p>Based on @Joan's and @dietbacon's solutions:</p>\n\n<pre><code>import os\nimport re\nimport time\nfor filename in filenames:\n    new_name = re.sub(\"\\([0-9]+\\)\",time.ctime(os.path.getctime(filename))+\".pdf\", filename)\n    os.rename(filename, new_name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 984, "user_id": 5303401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903c091913c61d706eb066e1513a2438?s=128&d=identicon&r=PG&f=1", "display_name": "Ozan", "link": "https://stackoverflow.com/users/5303401/ozan"}, "is_accepted": false, "score": 0, "last_activity_date": 1441875530, "creation_date": 1441875530, "answer_id": 32497386, "question_id": 32490807, "link": "https://stackoverflow.com/questions/32490807/removing-integer-from-end-of-filenames-in-python/32497386#32497386", "title": "Removing Integer from end of filenames in python", "body": "<p>Here is a solution for all file extensions</p>\n\n<pre><code>import os\nimport re\nimport datetime\n\ndirname = os.path.abspath(\"./test\") # target directory\nfor filename in os.listdir(dirname):\n    filepath = os.path.join(dirname, filename)\n    fname, fext = os.path.splitext(filename)\n    match = re.search(\"(.+?)\\s\\([0-9]+\\)\",fname)\n    if match:\n        fname = match.group(1)\n    ctime = os.path.getctime(filepath)\n    ctime = datetime.datetime.utcfromtimestamp(ctime).isoformat()\n    newfilepath = os.path.join(dirname, fname + \"-\" + ctime + fext)\n    os.rename(filepath, newfilepath)\n</code></pre>\n\n<p><strong>Note:</strong> colon is not permitted in file names in windows.</p>\n"}], "owner": {"reputation": 5670, "user_id": 3897345, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a40f2b738920e354e8a6d4cb6e80bc80?s=128&d=identicon&r=PG&f=1", "display_name": "rockymonkey555", "link": "https://stackoverflow.com/users/3897345/rockymonkey555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1441875530, "creation_date": 1441842023, "question_id": 32490807, "link": "https://stackoverflow.com/questions/32490807/removing-integer-from-end-of-filenames-in-python", "title": "Removing Integer from end of filenames in python", "body": "<p>I have a list of files, each with the same name. When they were copied into my directory, the OS automatically added a (1), (2), etc to differentiate them from one another. They are different versions of the same file. </p>\n\n<p>How would I go about systematically removing the numeric addition from the end of the strings? Directly after this step I will be adding on each file's creation time to the end. </p>\n\n<p>ex. </p>\n\n<pre><code>file.pdf\nfile (1).pdf\nfile (2).pdf\nfile (3).pdf\n</code></pre>\n\n<p>would then become</p>\n\n<pre><code>file-2015-08-08T10:06:59Z.pdf\nfile-2015-07-08T10:06:59Z.pdf\nfile-2015-06-08T10:06:59Z.pdf\nfile-2015-05-08T10:06:59Z.pdf\n</code></pre>\n"}, {"tags": ["python", "syntax"], "comments": [{"owner": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 2, "creation_date": 1441841552, "post_id": 32490721, "comment_id": 52841998, "body": "Open a Python REPL and type <code>help(&#39;&#47;=&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "is_accepted": true, "score": 63, "last_activity_date": 1441841841, "last_edit_date": 1441841841, "creation_date": 1441841552, "answer_id": 32490732, "question_id": 32490721, "link": "https://stackoverflow.com/questions/32490721/what-does-the-operator-mean-in-python/32490732#32490732", "title": "What does the /= operator mean in Python?", "body": "<p>It's an assignment operator shorthand for <code>/</code> and <code>=</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>x = 12\n</code></pre>\n\n\n\n<pre><code>x /= 3\n# equivalent to\nx = x / 3\n</code></pre>\n\n<p>If you use <code>help('/=')</code>, you can get the full amount of symbols supported by this style of syntax (including but not limited to <code>+=</code>, <code>-=</code>, and <code>*=</code>), which I would strongly encourage.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 11178099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PX3cj.jpg?s=128&g=1", "display_name": "Jacob Helfman", "link": "https://stackoverflow.com/users/11178099/jacob-helfman"}, "is_accepted": false, "score": 1, "last_activity_date": 1586137909, "creation_date": 1586137909, "answer_id": 61051860, "question_id": 32490721, "link": "https://stackoverflow.com/questions/32490721/what-does-the-operator-mean-in-python/61051860#61051860", "title": "What does the /= operator mean in Python?", "body": "<p>It's an augmented assignment operator for floating point division. It's equivalent to </p>\n\n<pre><code>x = x / 3\n</code></pre>\n\n<p>Per Makota's answer above, the following is provided by python 3, including the target types and operators, see <a href=\"https://docs.python.org/3/reference/simple_stmts.html#augmented-assignment-statements\" rel=\"nofollow noreferrer\">https://docs.python.org/3/reference/simple_stmts.html#augmented-assignment-statements</a> for more info:</p>\n\n<p>augmented_assignment_stmt ::= augtarget augop (expression_list | yield_expression)</p>\n\n<p>augtarget                 ::= identifier | attributeref | subscription | slicing</p>\n\n<p>augop                     ::= \"+=\" | \"-=\" | \"*=\" | \"@=\" | \"/=\" | \"//=\" | \"%=\" | \"**=\"\n             | \">>=\" | \"&lt;&lt;=\" | \"&amp;=\" | \"^=\" | \"|=\"</p>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59092, "favorite_count": 5, "accepted_answer_id": 32490732, "answer_count": 2, "score": 33, "last_activity_date": 1586137909, "creation_date": 1441841485, "last_edit_date": 1516276664, "question_id": 32490721, "link": "https://stackoverflow.com/questions/32490721/what-does-the-operator-mean-in-python", "title": "What does the /= operator mean in Python?", "body": "<p>What does the operator <code>/=</code> (slash equals) mean in Python? </p>\n\n<p>I know <code>|=</code> is a set operator. I have not seen <code>/=</code> previously though.</p>\n"}, {"tags": ["python", "scrapy", "generator"], "comments": [{"owner": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1441864876, "post_id": 32490713, "comment_id": 52848311, "body": "Is the format of the code the same as it is in your script? And is the problem that the <code>parse_100_reviews</code> is <code>print</code>ing only <code>page_no: 1</code>? If both are answered with &quot;yes&quot; try to indent the code into the <code>loop</code>."}, {"owner": {"reputation": 156, "user_id": 4966950, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87d8947237246f7fabe726d8b9ca698?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Rode", "link": "https://stackoverflow.com/users/4966950/charlie-rode"}, "reply_to_user": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1441914373, "post_id": 32490713, "comment_id": 52879889, "body": "I&#39;ve revised the parse_100_reviews function to just print out the response.urls and I&#39;ve put it all in an if statement that checks the index of the comment page.  It appears to be crawling BFS as I get printed the first page of comments for every beer, then all of the second pages, third, and so on.  But the docs say that spiders crawl DFS so I would expect to see all 10 of the comments pages printed out for the first beer, then all 10 pages for the next beer and so on.  I need DFS so I can collect all reviews per beer before sending the Item thru the pipeline."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 4966950, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87d8947237246f7fabe726d8b9ca698?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Rode", "link": "https://stackoverflow.com/users/4966950/charlie-rode"}, "is_accepted": true, "score": -1, "last_activity_date": 1442088978, "creation_date": 1442088978, "answer_id": 32543294, "question_id": 32490713, "link": "https://stackoverflow.com/questions/32490713/nested-yield-requests-in-scrapy/32543294#32543294", "title": "Nested yield requests in Scrapy", "body": "<p>\"else\".</p>\n\n<p>That's what the parse_100_reviews was missing.</p>\n"}], "owner": {"reputation": 156, "user_id": 4966950, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87d8947237246f7fabe726d8b9ca698?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Rode", "link": "https://stackoverflow.com/users/4966950/charlie-rode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 3, "accepted_answer_id": 32543294, "answer_count": 1, "score": 1, "last_activity_date": 1442088978, "creation_date": 1441841431, "last_edit_date": 1441849311, "question_id": 32490713, "link": "https://stackoverflow.com/questions/32490713/nested-yield-requests-in-scrapy", "title": "Nested yield requests in Scrapy", "body": "<p>I want to recursively crawl through 10 pages of reviews for beer_items I'm modeling on ratebeer.com. I want to collect all the reviews from these 10 pages (per specific beer) and associate the resulting text with an item. Here is my spider:</p>\n\n<pre><code>import scrapy\nfrom scrapy.http import FormRequest, Request\nfrom beerscraping.items import BeerscrapingItem\n\n\nclass BeerSpider(scrapy.Spider):\nname = 'beerspider'\nallowed_domains = ['www.ratebeer.com']\nstart_urls = ['http://www.ratebeer.com/search.php', ]\n\ndef parse(self, response):\n    import string\n    for c in ' ' + string.ascii_lowercase:\n        formdata = {'BeerName': ' ',\n                    'BeerStyles': '17',\n                    'CountryID': '213',\n                    'SortBy': '1'}\n        formname = 'myform2'\n        yield FormRequest.from_response(response,\n                                        formname=formname,\n                                        formdata=formdata,\n                                        callback=self.parse_request)\n\ndef parse_request(self, response):\n    xpath = \"//td/span/a/@href\"\n    for link in response.xpath(xpath):\n        url = 'http://www.ratebeer.com' + link.extract()\n        request = Request(url, callback=self.parse_beer_data)\n        request.meta['beer_id'] = url.split('/')[-2]  # Beer ID from URL\n        yield request\n\ndef parse_name(self, data):\n    result = data.extract()[0].split('(')[0]\n    return result.strip(\"'\")\n\ndef parse_abv(self, data):\n    return data.extract()[-1]\n\ndef parse_rating(self, data):\n    return data.extract()[0]\n\ndef parse_100_reviews(self, response):\n    beer_item = BeerscrapingItem(response.meta['beer_item'])\n    print \"RESPONSE URL: \", response.url\n    print \"beer_item['keywords']:  \", beer_item['keywords']\n    path_to_reviews = \"//div[contains(@style, 'padding: 20px 10px 20px 0px')]/text()\"\n    for review in response.xpath(path_to_reviews):\n        print \"RESPONSE URL: \", response.url\n        print \"beer_item['keywords']: \", beer_item['keywords']\n        beer_item['keywords'] += review.extract()\n    page_no = int(response.url[-2])\n    print \"page_no: \", page_no\n    if page_no &lt; 3:  # If we haven't crawled over 10 pages of reviews yet\n        print \"DO WE ENTER THE LOOP????!?!?!?!\"\n        url = response.url[:-2] + str(page_no + 1) + '/'\n        print \"NEW URL: \", url\n        request = Request(url, callback=self.parse_100_reviews)\n        request.meta['beer_item'] = beer_item\n        yield request\n\n    yield beer_item\n\ndef parse_beer_data(self, response):\n    path_to_name = \"//div[contains(@class, 'user-header')]/h1/text()\"\n    path_to_brewery = \"//big['Brewed By']/b/a/text()\"\n    path_to_abv = \"//td/div/div/small/big/strong/text()\"\n    path_to_rating = \"//div/span[contains(@itemprop, 'average')]/text()\"\n\n    beer_item = BeerscrapingItem()\n    beer_item['id'] = response.meta['beer_id']\n    beer_item['name'] = self.parse_name(response.xpath(path_to_name))\n    beer_item['brewery'] = self.parse_name(response.xpath(path_to_brewery))\n    beer_item['abv'] = self.parse_abv(response.xpath(path_to_abv))\n    beer_item['rb_rating'] = self.parse_rating(response.xpath(path_to_rating))\n    beer_item['keywords'] = ''\n    request = Request(response.url + '1/1/', callback=self.parse_100_reviews)\n    request.meta['beer_item'] = beer_item\n    return request\n</code></pre>\n\n<p>So I create an item in parse_beer_data() and hand it to parse_100_reviews (10 on each page). The urls for the comments pages are in the form www.ratebeer.com/beer/(brand)/(brand_id)/1/(page_no)/ so I create a for-loop to iterate over 10 urls with (page_no) = 1, 2, ..., 10.\nMy spider shouldn't exit that loop until all 10 pages have been crawled, but that's not what happens.\nInstead, the item is yielded after only one pass through the loop. I have all those print statements to verify that \"page-no: 1\" is the only page_no that gets printed.</p>\n\n<p>Help is greatly appreciated.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": true, "score": 3, "last_activity_date": 1441841187, "creation_date": 1441841187, "answer_id": 32490681, "question_id": 32490658, "link": "https://stackoverflow.com/questions/32490658/why-are-these-text-files-opening-as-strings/32490681#32490681", "title": "Why are these text files opening as strings?", "body": "<p>You're specifying file <strong>names</strong> as the command's arguments but you're not opening them.</p>\n\n<p>Use the built-in <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow\"><code>open</code></a>:</p>\n\n<pre><code>f1 = open(sys.argv[1])\n# f1.readlines()...\n</code></pre>\n\n<p>And: </p>\n\n<pre><code>f2 = open(sys.argv[2])\n# f2.readlines()...\n</code></pre>\n\n<p>Or even better:</p>\n\n<pre><code>with f as open(sys.argv[1]):\n    # f.readlines()...\n</code></pre>\n\n<p>Currently you're treating the file name as a file, it's not.</p>\n\n<p>And try to avoid big one-liners, they are hard to maintain and modify... :-)</p>\n"}, {"tags": [], "owner": {"reputation": 9459, "user_id": 958051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KHi3g.png?s=128&g=1", "display_name": "Serdalis", "link": "https://stackoverflow.com/users/958051/serdalis"}, "is_accepted": false, "score": 2, "last_activity_date": 1441841645, "last_edit_date": 1441841645, "creation_date": 1441841273, "answer_id": 32490696, "question_id": 32490658, "link": "https://stackoverflow.com/questions/32490658/why-are-these-text-files-opening-as-strings/32490696#32490696", "title": "Why are these text files opening as strings?", "body": "<p>To open a file in python you need to use the <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow\"><code>open</code></a> function. Currently you are trying to use <code>readlines</code> on a string object which is what the <code>argv</code> variables are.</p>\n\n<p>Your code should do something similar to the following:</p>\n\n<pre><code>def readlines( f ):\n    lines = [ line for line in open( f ) ]\n    return lines\n\npatterns = \"\".join( readlines( sys.argv[1] )[1:] )\ntext = \"\".join( readlines( sys.argv[2] )[1:] )\n</code></pre>\n\n<p>I took the <code>[]</code> Brackets off the pattern line since I don't think you meant to put the <code>patterns</code> file as a 1 element list containing the file contents, but you may have.</p>\n"}], "owner": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32490681, "answer_count": 2, "score": 1, "last_activity_date": 1441841645, "creation_date": 1441841017, "question_id": 32490658, "link": "https://stackoverflow.com/questions/32490658/why-are-these-text-files-opening-as-strings", "title": "Why are these text files opening as strings?", "body": "<p>I have two .txt files which I pass as command line argument to a program. I want to read the entirety, without the first line.</p>\n\n<pre><code>patterns = [\"\".join(sys.argv[1].readlines()[1:])]\ntext = \"\".join(sys.argv[2].readlines()[1:])\n</code></pre>\n\n<p>This returns this error:</p>\n\n<pre><code>File \"trie_builder.py\", line 186, in main\n    patterns = [\"\".join(sys.argv[1].readlines()[1:])]\nAttributeError: 'str' object has no attribute 'readlines'\n</code></pre>\n\n<p>How can sys.arg[1] be a string if I passed the file 'xx.txt' to it?</p>\n"}, {"tags": ["python", "datetime", "python-datetime"], "comments": [{"owner": {"reputation": 1706, "user_id": 1066891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35219aa43c9639fb92299202e1ccd78?s=128&d=identicon&r=PG", "display_name": "Gombat", "link": "https://stackoverflow.com/users/1066891/gombat"}, "edited": false, "score": 3, "creation_date": 1441840996, "post_id": 32490629, "comment_id": 52841826, "body": "What do you mean with &quot;crude&quot;?"}, {"owner": {"reputation": 1706, "user_id": 1066891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35219aa43c9639fb92299202e1ccd78?s=128&d=identicon&r=PG", "display_name": "Gombat", "link": "https://stackoverflow.com/users/1066891/gombat"}, "edited": false, "score": 4, "creation_date": 1441841064, "post_id": 32490629, "comment_id": 52841856, "body": "maybe this? \\n  now = datetime.datetime.now() \\n  str(now.strftime(&quot;Y-%m-%d&quot;)"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "reply_to_user": {"reputation": 1706, "user_id": 1066891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35219aa43c9639fb92299202e1ccd78?s=128&d=identicon&r=PG", "display_name": "Gombat", "link": "https://stackoverflow.com/users/1066891/gombat"}, "edited": false, "score": 4, "creation_date": 1441842070, "post_id": 32490629, "comment_id": 52842108, "body": "@Gombat What I mean is in my experience, there&#39;s usually a built in way of getting the thing we want in Python without having to split, index, concat, join etc."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1554095930, "post_id": 32490629, "comment_id": 97611387, "body": "<a href=\"https://stackoverflow.com/a/55371556/4909087\">pandas and pendulum alternatives are available for those working with these libraries.</a>"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441841815, "post_id": 32490661, "comment_id": 52842062, "body": "there is also a strong probability that &quot;%x&quot; would work ... but that is locale dependent"}, {"owner": {"reputation": 663, "user_id": 9868445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBHGw.jpg?s=128&g=1", "display_name": "aderchox", "link": "https://stackoverflow.com/users/9868445/aderchox"}, "edited": false, "score": 5, "creation_date": 1566878442, "post_id": 32490661, "comment_id": 101783262, "body": "how about just <code>time.strftime(&quot;%Y-%m-%d&quot;)</code>?"}, {"owner": {"reputation": 2221, "user_id": 2650622, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4841bb6bb791c296c795b67c7fbcde4b?s=128&d=identicon&r=PG&f=1", "display_name": "Agost Biro", "link": "https://stackoverflow.com/users/2650622/agost-biro"}, "edited": false, "score": 2, "creation_date": 1575803603, "post_id": 32490661, "comment_id": 104681620, "body": "For UTC date: <code>datetime.utcnow().strftime(&#39;%Y-%m-%d&#39;)</code>"}, {"owner": {"reputation": 333, "user_id": 7135816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce336e5aefe458570acf2c10c011f0d?s=128&d=identicon&r=PG&f=1", "display_name": "dummyDev", "link": "https://stackoverflow.com/users/7135816/dummydev"}, "edited": false, "score": 0, "creation_date": 1587761176, "post_id": 32490661, "comment_id": 108647176, "body": "Worth noting that <code>date</code> has this available as well as <code>datetime</code>"}, {"owner": {"reputation": 524, "user_id": 2176900, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/719468b9589d31b128e35931966c4a95?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/2176900/henrik"}, "edited": false, "score": 0, "creation_date": 1591166507, "post_id": 32490661, "comment_id": 109948148, "body": "Here&#39;s a helpful list to get variations of OPs desired result: <a href=\"https://strftime.org/\" rel=\"nofollow noreferrer\">strftime.org</a>"}], "tags": [], "owner": {"reputation": 20353, "user_id": 150647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a42473434821fe7fec7b9cc58d1cc087?s=128&d=identicon&r=PG", "display_name": "diegueus9", "link": "https://stackoverflow.com/users/150647/diegueus9"}, "is_accepted": true, "score": 837, "last_activity_date": 1611676224, "last_edit_date": 1611676224, "creation_date": 1441841037, "answer_id": 32490661, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/32490661#32490661", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>You can use <a href=\"http://strftime.org/\" rel=\"noreferrer\">strftime</a>:</p>\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; datetime.today().strftime('%Y-%m-%d')\n'2021-01-26'\n</code></pre>\n<p>Additionally, for anyone also looking for a zero-padded Hour, Minute, and Second at the end: (Comment by <a href=\"https://stackoverflow.com/users/4561887/gabriel-staples\">Gabriel Staples</a>)</p>\n<pre><code>&gt;&gt;&gt; datetime.today().strftime('%Y-%m-%d-%H:%M:%S')\n'2021-01-26-16:50:03'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5853, "user_id": 617185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GMndG.jpg?s=128&g=1", "display_name": "kmonsoor", "link": "https://stackoverflow.com/users/617185/kmonsoor"}, "edited": false, "score": 23, "creation_date": 1534428578, "post_id": 42302885, "comment_id": 90709488, "body": "for a simple task like this, why use another library when built-in library can do it as simply.    Of course, if user need other multitude of {time, date}-related functions, bringing in a new library makes sense."}, {"owner": {"reputation": 1873, "user_id": 9312988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v6AL.jpg?s=128&g=1", "display_name": "Puddle", "link": "https://stackoverflow.com/users/9312988/puddle"}, "edited": false, "score": 3, "creation_date": 1544978807, "post_id": 42302885, "comment_id": 94457073, "body": "you made me laugh on reading that 2nd line of code. how&#39;s that better than <code>print(date.today())</code> &gt;&gt; &quot;2018-12-16&quot;?? lol and easily get the int values <code>t.year,t.month,t.day+1</code> &gt;&gt; (2018, 12, 17) where <code>t = date.today()</code> and the fact people don&#39;t have to call green arrow to tell them the time. oh god this is too much code to remember..."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 1873, "user_id": 9312988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v6AL.jpg?s=128&g=1", "display_name": "Puddle", "link": "https://stackoverflow.com/users/9312988/puddle"}, "edited": false, "score": 1, "creation_date": 1544993396, "post_id": 42302885, "comment_id": 94461346, "body": "@Puddle: Hilarious."}, {"owner": {"reputation": 1404, "user_id": 6395770, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1dd74e2bc23bea3918a139070114d23?s=128&d=identicon&r=PG&f=1", "display_name": "information_interchange", "link": "https://stackoverflow.com/users/6395770/information-interchange"}, "reply_to_user": {"reputation": 5853, "user_id": 617185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GMndG.jpg?s=128&g=1", "display_name": "kmonsoor", "link": "https://stackoverflow.com/users/617185/kmonsoor"}, "edited": false, "score": 0, "creation_date": 1574132696, "post_id": 42302885, "comment_id": 104113084, "body": "@kmonsoor How is <code>import datetime</code> different than <code>import arrow</code>? Sure one is built in, but if <code>arrow</code> provides a more convenient format, then why not use it?"}, {"owner": {"reputation": 5853, "user_id": 617185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GMndG.jpg?s=128&g=1", "display_name": "kmonsoor", "link": "https://stackoverflow.com/users/617185/kmonsoor"}, "reply_to_user": {"reputation": 1404, "user_id": 6395770, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1dd74e2bc23bea3918a139070114d23?s=128&d=identicon&r=PG&f=1", "display_name": "information_interchange", "link": "https://stackoverflow.com/users/6395770/information-interchange"}, "edited": false, "score": 1, "creation_date": 1574162886, "post_id": 42302885, "comment_id": 104125091, "body": "@information_interchange you already answered your question. Built-in vs not. If someone needs those extra stuff, sure, why not <code>arrow</code>? But, for many simple projects, it&#39;s just unnecessary. Also, in many company-internal projects, ppl need to get approval for including new libraries."}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 43, "last_activity_date": 1589826297, "last_edit_date": 1589826297, "creation_date": 1487349030, "answer_id": 42302885, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/42302885#42302885", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>Datetime is just lovely if you like remembering funny codes. Wouldn't you prefer simplicity?</p>\n\n<pre><code>&gt;&gt;&gt; import arrow\n&gt;&gt;&gt; arrow.now().format('YYYY-MM-DD')\n'2017-02-17'\n</code></pre>\n\n<p>This module is clever enough to understand what you <em>mean</em>. </p>\n\n<p>Just do <code>pip install arrow</code>.</p>\n\n<p>Addendum: In answer to those who become exercised over this answer let me just say that arrow represents one of the <em>alternative</em> approaches to dealing with dates in Python. That's mostly what I meant to suggest.</p>\n"}, {"comments": [{"owner": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "edited": false, "score": 1, "creation_date": 1517425666, "post_id": 47984538, "comment_id": 84095315, "body": "Is it possible to change the separator to <code>&#47;</code>?"}, {"owner": {"reputation": 5853, "user_id": 617185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GMndG.jpg?s=128&g=1", "display_name": "kmonsoor", "link": "https://stackoverflow.com/users/617185/kmonsoor"}, "reply_to_user": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "edited": false, "score": 6, "creation_date": 1517431105, "post_id": 47984538, "comment_id": 84098137, "body": "@StevenVascellaro it would be <code>date.today().strftime(&#39;%Y&#47;%m&#47;%d&#39;)</code>"}, {"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "reply_to_user": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "edited": false, "score": 3, "creation_date": 1518688943, "post_id": 47984538, "comment_id": 84611544, "body": "@StevenVascellaro Bad idea. The reader normally assumes the separator <code>.</code> to &#39;D.M.Y&#39;, the separator <code>&#47;</code> to <code>M&#47;D&#47;Y</code> and the separator <code>-</code> to <code>Y-M-D</code>. Although not everybody follows these guidelines, it would help reading dates internationally as long as not everybody has switched to <code>Y-M-D</code>."}, {"owner": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "reply_to_user": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 1, "creation_date": 1518699033, "post_id": 47984538, "comment_id": 84618214, "body": "@glglgl I\u2019m working with an api that assumes the American date format m/d/y. I\u2019ve already changed the order in my application."}, {"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "reply_to_user": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "edited": false, "score": 0, "creation_date": 1518699102, "post_id": 47984538, "comment_id": 84618266, "body": "@StevenVascellaro But then you&#39;d need <code>M&#47;D&#47;Y</code>, wouldn&#39;t you?"}, {"owner": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "reply_to_user": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 1, "creation_date": 1518699307, "post_id": 47984538, "comment_id": 84618400, "body": "@glglgl Yes, I am using m/d/y"}], "tags": [], "owner": {"reputation": 5853, "user_id": 617185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GMndG.jpg?s=128&g=1", "display_name": "kmonsoor", "link": "https://stackoverflow.com/users/617185/kmonsoor"}, "is_accepted": false, "score": 154, "last_activity_date": 1589906197, "last_edit_date": 1589906197, "creation_date": 1514328728, "answer_id": 47984538, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/47984538#47984538", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>You can use <a href=\"https://docs.python.org/library/datetime.html#datetime.date.today\" rel=\"noreferrer\"><code>datetime.date.today()</code></a> and convert the resulting <a href=\"https://docs.python.org/library/datetime.html#date-objects\" rel=\"noreferrer\"><code>datetime.date</code></a> object to a string:</p>\n\n<pre><code>from datetime import date\ntoday = str(date.today())\nprint(today)   # '2017-12-26'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 366, "user_id": 106426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbIO.gif?s=128&g=1", "display_name": "Captain Lepton", "link": "https://stackoverflow.com/users/106426/captain-lepton"}, "edited": false, "score": 6, "creation_date": 1543399865, "post_id": 48983695, "comment_id": 93902669, "body": "This should be used only for the purpose of checking what the system date command will return, rather than actually formatting a date. This is for several reasons apart from exit code checking. 1. Not portable. The date command on Windows <i>sets</i> the date 2. Inefficient. It has to create an entire shell, which then has to parse, find and execute the command, return the output, and then destroy that shell 3. It is simply unpythonic - it shows that you do not know well-known fundamental libraries, and may also mislead newcomers to the language who see that code"}], "tags": [], "owner": {"reputation": 4041, "user_id": 766330, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/uaAlk.png?s=128&g=1", "display_name": "plhn", "link": "https://stackoverflow.com/users/766330/plhn"}, "is_accepted": false, "score": -5, "last_activity_date": 1552380924, "last_edit_date": 1552380924, "creation_date": 1519631344, "answer_id": 48983695, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/48983695#48983695", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>I prefer this, because this is simple, but maybe somehow inefficient and buggy. You must check the exit code of shell command if you want a <em>strongly</em> error-proof program.</p>\n\n<pre><code>os.system('date +%Y-%m-%d')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 8176547, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AQWTfarMgfY/AAAAAAAAAAI/AAAAAAAAAWc/h8y1d7LEUUE/photo.jpg?sz=128", "display_name": "JdH", "link": "https://stackoverflow.com/users/8176547/jdh"}, "is_accepted": false, "score": 46, "last_activity_date": 1543969993, "last_edit_date": 1543969993, "creation_date": 1543968911, "answer_id": 53623334, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/53623334#53623334", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>I always use the <code>isoformat()</code> function for this.</p>\n\n<pre><code>from datetime import date    \ntoday = date.today().isoformat()\nprint(today) # '2018-12-05'\n</code></pre>\n\n<p>Note that this also works on datetime objects if you need the time in standard format as well.</p>\n\n<pre><code>from datetime import datetime\nnow = datetime.today().isoformat()\nprint(now) # '2018-12-05T11:15:55.126382'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8006, "user_id": 2753501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a5ac280a03c3a9d89488dc33f0ef075?s=128&d=identicon&r=PG&f=1", "display_name": "ZygD", "link": "https://stackoverflow.com/users/2753501/zygd"}, "edited": false, "score": 3, "creation_date": 1555584069, "post_id": 55371556, "comment_id": 98165345, "body": "Great news pandas has it too!"}, {"owner": {"reputation": 381, "user_id": 11578327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e688087383538caccb7c4036c5ba8da?s=128&d=identicon&r=PG&f=1", "display_name": "loveR", "link": "https://stackoverflow.com/users/11578327/lover"}, "edited": false, "score": 1, "creation_date": 1571919324, "post_id": 55371556, "comment_id": 103404012, "body": "This one is really awesome, specifically when one&#39;s working on pandas"}, {"owner": {"reputation": 302, "user_id": 5021827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa88956cab8a4f5d8f74d5faeb6c245?s=128&d=identicon&r=PG&f=1", "display_name": "Brndn", "link": "https://stackoverflow.com/users/5021827/brndn"}, "edited": false, "score": 0, "creation_date": 1587047188, "post_id": 55371556, "comment_id": 108360183, "body": "pd.to_datetime(day).date() is useful if you&#39;re using pandas and don&#39;t want to convert to a str. Thanks!"}, {"owner": {"reputation": 341, "user_id": 9608133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919186224760593/picture?type=large", "display_name": "Nairum", "link": "https://stackoverflow.com/users/9608133/nairum"}, "edited": false, "score": 0, "creation_date": 1594648295, "post_id": 55371556, "comment_id": 111190291, "body": "@cs95 The main question is &quot;How to get YYYY-MM-DD format&quot;. Not &quot;how to get the current date&quot;. Your answer is irrelevant. You can try to extend it by stripping everything after &quot;YYYY-MM-DD&quot; to answer the question."}, {"owner": {"reputation": 341, "user_id": 9608133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919186224760593/picture?type=large", "display_name": "Nairum", "link": "https://stackoverflow.com/users/9608133/nairum"}, "edited": false, "score": 0, "creation_date": 1594648823, "post_id": 55371556, "comment_id": 111190611, "body": "For &quot;pendulum&quot; use:  <code>now = pendulum.now()</code>, <code>now = now.format(&#39;YYYY-MM-DD&#39;)</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 341, "user_id": 9608133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1919186224760593/picture?type=large", "display_name": "Nairum", "link": "https://stackoverflow.com/users/9608133/nairum"}, "edited": false, "score": 0, "creation_date": 1610962039, "post_id": 55371556, "comment_id": 116288397, "body": "@AlexeiMarinichenko I disagree with the premise, there are actually two questions here. I&#39;ve focused on the first one, because the answer to the second one is less interesting (strftime). Besides, this answer is useful for those who want the date object and not the date string."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 16, "last_activity_date": 1610962350, "last_edit_date": 1610962350, "creation_date": 1553670372, "answer_id": 55371556, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/55371556#55371556", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<h1>Are you working with Pandas?</h1>\n<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html\" rel=\"nofollow noreferrer\"><code>pd.to_datetime</code></a> from the <a href=\"https://pandas.pydata.org\" rel=\"nofollow noreferrer\">pandas</a> library. Here are various options, depending on what you want returned.</p>\n<pre><code>import pandas as pd\n\npd.to_datetime('today')  # pd.to_datetime('now')\n# Timestamp('2019-03-27 00:00:10.958567')\n</code></pre>\n<p>As a python <a href=\"https://docs.python.org/3/library/datetime.html#module-datetime\" rel=\"nofollow noreferrer\">datetime</a> object,</p>\n<pre><code>pd.to_datetime('today').to_pydatetime()\n# datetime.datetime(2019, 4, 18, 3, 50, 42, 587629)\n</code></pre>\n<p>As a formatted date string,</p>\n<pre><code>pd.to_datetime('today').isoformat()\n# '2019-04-18T04:03:32.493337'\n\n# Or, `strftime` for custom formats.\npd.to_datetime('today').strftime('%Y-%m-%d')\n# '2019-03-27'\n</code></pre>\n<p>To get just the date from the timestamp, call <code>Timestamp.date</code>.</p>\n<pre><code>pd.to_datetime('today').date()\n# datetime.date(2019, 3, 27)\n</code></pre>\n<p>Aside from <code>to_datetime</code>, you can directly instantiate a <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html\" rel=\"nofollow noreferrer\"><code>Timestamp</code></a> object using,</p>\n<pre><code>pd.Timestamp('today')  # pd.Timestamp('now')\n# Timestamp('2019-04-18 03:43:33.233093')\n\npd.Timestamp('today').to_pydatetime()\n# datetime.datetime(2019, 4, 18, 3, 53, 46, 220068)\n</code></pre>\n<p>If you want to make your Timestamp timezone aware, pass a timezone to the <code>tz</code> argument.</p>\n<pre><code>pd.Timestamp('now', tz='America/Los_Angeles')\n# Timestamp('2019-04-18 03:59:02.647819-0700', tz='America/Los_Angeles')\n</code></pre>\n<hr />\n<h1>Yet another date parser library: Pendulum</h1>\n<p>This one's good, I promise.</p>\n<p>If you're working with <a href=\"https://pendulum.eustace.io/docs/\" rel=\"nofollow noreferrer\">pendulum</a>, there are some interesting choices. You can get the current timestamp using <code>now()</code> or today's date using <code>today()</code>.</p>\n<pre><code>import pendulum \n\npendulum.now()\n# DateTime(2019, 3, 27, 0, 2, 41, 452264, tzinfo=Timezone('America/Los_Angeles'))\n\npendulum.today()\n# DateTime(2019, 3, 27, 0, 0, 0, tzinfo=Timezone('America/Los_Angeles'))\n</code></pre>\n<p>Additionally, you can also get <code>tomorrow()</code> or <code>yesterday()</code>'s date directly without having to do any additional timedelta arithmetic.</p>\n<pre><code>pendulum.yesterday()\n# DateTime(2019, 3, 26, 0, 0, 0, tzinfo=Timezone('America/Los_Angeles'))\n\npendulum.tomorrow()\n# DateTime(2019, 3, 28, 0, 0, 0, tzinfo=Timezone('America/Los_Angeles'))\n</code></pre>\n<p>There are various formatting options available.</p>\n<pre><code>pendulum.now().to_date_string()\n# '2019-03-27'\n\npendulum.now().to_formatted_date_string()\n# 'Mar 27, 2019'\n\npendulum.now().to_day_datetime_string()\n# 'Wed, Mar 27, 2019 12:04 AM'\n</code></pre>\n<hr />\n<h3>Rationale for this answer</h3>\n<p>A lot of pandas users stumble upon this question because they believe it is a python question more than a pandas one. This answer aims to be useful to folks who are already using these libraries and would be interested to know that there are ways to achieve these results within the scope of the library itself.</p>\n<p>If you are not working with pandas or pendulum already, I definitely do not recommend installing them just for the sake of running this code! These libraries are heavy and come with a lot of plumbing under the hood. It is not worth the trouble when you can use the standard library instead.</p>\n"}, {"comments": [{"owner": {"reputation": 1404, "user_id": 6395770, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1dd74e2bc23bea3918a139070114d23?s=128&d=identicon&r=PG&f=1", "display_name": "information_interchange", "link": "https://stackoverflow.com/users/6395770/information-interchange"}, "edited": false, "score": 3, "creation_date": 1574132792, "post_id": 58247783, "comment_id": 104113106, "body": "probably <code>str(date.today())</code> is still better"}, {"owner": {"reputation": 6783, "user_id": 3064538, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b644a108ae9ae0ec2f7402dd235d155c?s=128&d=identicon&r=PG&f=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/3064538/boris"}, "edited": false, "score": 0, "creation_date": 1589906491, "post_id": 58247783, "comment_id": 109476855, "body": "this is a copy of this answer <a href=\"https://stackoverflow.com/a/47984538\">stackoverflow.com/a/47984538</a>"}], "tags": [], "owner": {"reputation": 14321, "user_id": 4453737, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1d9f9a928492340ac248ee2f0493a39a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohideen bin Mohammed", "link": "https://stackoverflow.com/users/4453737/mohideen-bin-mohammed"}, "is_accepted": false, "score": 3, "last_activity_date": 1570274117, "creation_date": 1570274117, "answer_id": 58247783, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/58247783#58247783", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>You can use,</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import date\n&gt;&gt;&gt; date.today().__str__()\n'2019-10-05'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 17, "last_activity_date": 1617281577, "last_edit_date": 1617281577, "creation_date": 1581721938, "answer_id": 60234593, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/60234593#60234593", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>Very late answer, but you can simply use:</p>\n<pre><code>import time\ntoday = time.strftime(&quot;%Y-%m-%d&quot;)\n# 2021-04-01\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 12648904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ea7f7561d827f66246d8d6cdbd2534?s=128&d=identicon&r=PG&f=1", "display_name": "Sway Wu", "link": "https://stackoverflow.com/users/12648904/sway-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1597444071, "last_edit_date": 1597444071, "creation_date": 1597081508, "answer_id": 63345366, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/63345366#63345366", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>my code is a little complicated but I use it a lot</p>\n<pre><code>strftime(&quot;%y_%m_%d&quot;, localtime(time.time()))\n</code></pre>\n<p>reference:'https://strftime.org/</p>\n<p>you can look at the reference to make anything you want\nfor you what YYYY-MM-DD just change my code to:</p>\n<pre><code>strftime(&quot;%Y-%m-%d&quot;, localtime(time.time()))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7651, "user_id": 13873980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd88c24d8aa58415d21a1158ff8e374f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Ferndz", "link": "https://stackoverflow.com/users/13873980/joe-ferndz"}, "edited": false, "score": 0, "creation_date": 1598661344, "post_id": 63641065, "comment_id": 112540715, "body": "Try not to use python built in functions and variables as local variables (ex: today, year, day). Also, the request from the user is to get today&#39;s date in YYYY-MM-DD format. Can you try and answer to the question (format YYYY-MM-DD)."}], "tags": [], "owner": {"reputation": 641, "user_id": 4382305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czX7Z.jpg?s=128&g=1", "display_name": "namjoo.org", "link": "https://stackoverflow.com/users/4382305/namjoo-org"}, "is_accepted": false, "score": 0, "last_activity_date": 1598697003, "last_edit_date": 1598697003, "creation_date": 1598650071, "answer_id": 63641065, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/63641065#63641065", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>This works:</p>\n<pre><code>from datetime import date\ntoday =date.today()\n</code></pre>\n<p>Output in this time: 2020-08-29</p>\n<p>Additional:</p>\n<pre><code>this_year = date.today().year\nthis_month = date.today().month\nthis_day = date.today().day\nprint(today)\nprint(this_year)\nprint(this_month)\nprint(this_day)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2374, "user_id": 649605, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/16bea4d8f8d89adb4ca1f53d55dfee65?s=128&d=identicon&r=PG", "display_name": "3logy", "link": "https://stackoverflow.com/users/649605/3logy"}, "edited": false, "score": 0, "creation_date": 1608387698, "post_id": 65370579, "comment_id": 115571038, "body": "This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/27885957\">From Review</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 14855658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3eea307aca829383a920e563ab716a?s=128&d=identicon&r=PG", "display_name": "user14855658", "link": "https://stackoverflow.com/users/14855658/user14855658"}, "is_accepted": false, "score": -1, "last_activity_date": 1608387747, "last_edit_date": 1608387747, "creation_date": 1608386286, "answer_id": 65370579, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/65370579#65370579", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>To get day number from date is in python</p>\n<p>for example:19-12-2020(dd-mm-yyy)order_date\nwe need 19 as output</p>\n<pre class=\"lang-py prettyprint-override\"><code>order['day'] = order['Order_Date'].apply(lambda x: x.day)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 4, "creation_date": 1611940294, "post_id": 65958853, "comment_id": 116620307, "body": "While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/65958853/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 11, "user_id": 15107639, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh1mq3UEZnNuVqclQcO-tcUrmwO5qHnDfuK-7ddOg=k-s128", "display_name": "Don Dominic", "link": "https://stackoverflow.com/users/15107639/don-dominic"}, "is_accepted": false, "score": 1, "last_activity_date": 1611940284, "last_edit_date": 1611940284, "creation_date": 1611940159, "answer_id": 65958853, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python/65958853#65958853", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<pre><code>from datetime import datetime\n\ndate = datetime.today().date()\n\nprint(date)\n</code></pre>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644713, "favorite_count": 83, "accepted_answer_id": 32490661, "answer_count": 12, "score": 481, "last_activity_date": 1617281577, "creation_date": 1441840825, "last_edit_date": 1589906234, "question_id": 32490629, "link": "https://stackoverflow.com/questions/32490629/getting-todays-date-in-yyyy-mm-dd-in-python", "title": "Getting today&#39;s date in YYYY-MM-DD in Python?", "body": "<p>I'm using:</p>\n\n<pre><code>str(datetime.datetime.today()).split()[0]\n</code></pre>\n\n<p>to return today's date in the <code>YYYY-MM-DD</code> format.</p>\n\n<p>Is there a less crude way to achieve this?</p>\n"}, {"tags": ["python", "excel", "date", "csv", "import-from-csv"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4039065"}, "edited": false, "score": 0, "creation_date": 1441840831, "post_id": 32490561, "comment_id": 52841796, "body": "Keep it to Excel you say...? See <a href=\"https://msdn.microsoft.com/en-us/library/office/ff837097.aspx\" rel=\"nofollow noreferrer\">Workbooks.OpenText method</a> and <a href=\"https://msdn.microsoft.com/en-us/library/office/aa215749%28v=office.11%29.aspx\" rel=\"nofollow noreferrer\">TextFileColumnDataTypes property</a>."}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1441840875, "last_edit_date": 1592644375, "creation_date": 1441840875, "answer_id": 32490635, "question_id": 32490561, "link": "https://stackoverflow.com/questions/32490561/change-date-format-when-importing-from-csv/32490635#32490635", "title": "Change date format when importing from CSV", "body": "<h2>Option 1. change the format excel reads in</h2>\n<p><strong>edit: a better method is suggested in the OP comments to accomplish this, I was not aware you could do that</strong></p>\n<p>it(excel) uses your windows settings</p>\n<p>so you can go to</p>\n<p>Control Panel &gt; Clock, Language, Region &gt; (under Region and Language) change the date,time or number format</p>\n<p>and enter the appropriate format</p>\n<h2>Option 2. change the csv date format</h2>\n<pre><code>from dateutil.parser import parse\nwith open(&quot;output.csv&quot;,&quot;wb&quot;) as fout:\n    csv_out = csv.writer(fout)\n    for row in csv.reader(open(&quot;input.csv&quot;,&quot;rb&quot;)):\n        row[date_index] = parse(row[date_index]).strftime(&quot;%x&quot;)\n        csv_out.writerow(row)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1441841906, "post_id": 32490655, "comment_id": 52842080, "body": "good answer :) +1 this is really the right answer ... I just showed my excel newbness :P"}], "tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": true, "score": 4, "last_activity_date": 1441840988, "creation_date": 1441840988, "answer_id": 32490655, "question_id": 32490561, "link": "https://stackoverflow.com/questions/32490561/change-date-format-when-importing-from-csv/32490655#32490655", "title": "Change date format when importing from CSV", "body": "<h2>Option 3. Import it properly</h2>\n\n<p>Use DATA, Get External Data, From Text and when the wizard prompts you choose the appropriate DMY combination (Step 3 of 3, Under Column data format, and Date).</p>\n"}], "owner": {"reputation": 89, "user_id": 3618005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2aeed78ff134d08dfcd5e6a2121a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieDeBeadle", "link": "https://stackoverflow.com/users/3618005/charliedebeadle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1463, "favorite_count": 0, "accepted_answer_id": 32490655, "answer_count": 2, "score": 0, "last_activity_date": 1442619559, "creation_date": 1441840357, "last_edit_date": 1442619559, "question_id": 32490561, "link": "https://stackoverflow.com/questions/32490561/change-date-format-when-importing-from-csv", "title": "Change date format when importing from CSV", "body": "<p>I have a CSV file where the date is formatted as <code>yy/mm/dd</code>, but Excel is reading it wrongly as <code>dd/mm/yyyy</code> (e.g. 8th September 2015 is read as 15th of September 2008).  </p>\n\n<p>I know how to change the format that Excel <em>outputs</em>, but how can I change the format it uses to interpret the CSV data?  </p>\n\n<p>I'd like to keep it to Excel if possible, but I could work with a Python program.</p>\n"}, {"tags": ["python", "lxml", "pycairo", "pygal"], "comments": [{"owner": {"reputation": 2553, "user_id": 1903784, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2eda4e1496650b3cebc58c25f3eae9c?s=128&d=identicon&r=PG", "display_name": "gerosalesc", "link": "https://stackoverflow.com/users/1903784/gerosalesc"}, "edited": false, "score": 0, "creation_date": 1441850295, "post_id": 32490546, "comment_id": 52844007, "body": "Have you tried chmod -r ?"}], "answers": [{"comments": [{"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 0, "creation_date": 1441842199, "post_id": 32490792, "comment_id": 52842143, "body": "Given the path <code>&#47;Users&#47;romain&#47;Library&#47;Caches&#47;pip&#47;http</code> he is on OS X hence he should use the Linux (in fact, universal *nix) solution"}, {"owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1441876440, "post_id": 32490792, "comment_id": 52855163, "body": "The question is how to do that inside Pycharm ... Making a sudo pip install on the command line already tell me the package is installed. I guess Pycharm is using a kind of virtualenv somewhere, or using a session-specific user ... where is it defined, and how to change it ??"}, {"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "reply_to_user": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1441928484, "post_id": 32490792, "comment_id": 52885403, "body": "@romainjouin By default PyCharm doesn&#39;t create or use any virtual Python environments."}, {"owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "edited": false, "score": 0, "creation_date": 1441978839, "post_id": 32490792, "comment_id": 52907549, "body": "I realised I installed python through anaconda, and I have now several pythohn2.7  interpreters in my laptop... Pycharm is not using the good ones for pip : I had to change the project python  interpreter to solve the issue :)"}], "tags": [], "owner": {"reputation": 23, "user_id": 3633084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mba8Y.png?s=128&g=1", "display_name": "Rambling Dave", "link": "https://stackoverflow.com/users/3633084/rambling-dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1441841935, "creation_date": 1441841935, "answer_id": 32490792, "question_id": 32490546, "link": "https://stackoverflow.com/questions/32490546/python-pycharm-pbm-installing-lxml-cairosvg-directory-not-owned-by-curren/32490792#32490792", "title": "Python + Pycharm = pbm installing lxml &amp; cairosvg &#39;Directory not owned by current user&#39;", "body": "<p><code>sudo pip install lxml</code> should work to remove any permission issues on Linux</p>\n\n<p>If you're on a Windows machine right click the command prompt and select 'run as administrator' then execute the pip install command. </p>\n"}], "owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1580, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441841935, "creation_date": 1441840227, "question_id": 32490546, "link": "https://stackoverflow.com/questions/32490546/python-pycharm-pbm-installing-lxml-cairosvg-directory-not-owned-by-curren", "title": "Python + Pycharm = pbm installing lxml &amp; cairosvg &#39;Directory not owned by current user&#39;", "body": "<p>Using Pycharm, I am trying to install Pygall, which needs lxml and cairosvg. \nI created a 'requirements.txt' file to list the modules:</p>\n\n<p>Executed command :</p>\n\n<pre><code>pip install lxml\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>0:425: execution error: The directory '/Users/romain/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>0:425: execution error: The directory '/Users/romain/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nYou are using pip version 7.1.0, however version 7.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\nThe directory '/Users/romain/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\n/Library/Python/2.7/site-packages/pip-7.1.0-py2.7.egg/pip/_vendor/requests/packages/urllib3/util/ssl_.py:90: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\nCommand \"/System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c \"import setuptools, tokenize;__file__='/private/var/folders/ml/g1gqdlfs4k36b_rpfk44hfrm0000gn/T/pycharm-packaging11.tmp/lxml/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/ml/g1gqdlfs4k36b_rpfk44hfrm0000gn/T/pip-DMEwQL-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/ml/g1gqdlfs4k36b_rpfk44hfrm0000gn/T/pycharm-packaging11.tmp/lxml (1)\n</code></pre>\n\n<p>Pycharm propose me a solution :</p>\n\n<pre><code>Try to run this command from the system terminal. Make sure that you use the correct version of 'pip' installed for your Python interpreter located at '/System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7'.\n</code></pre>\n\n<p>I tried to install from command line, but then I get an 'already satisfied' message  :</p>\n\n<pre><code>$ pip install lxml\nRequirement already satisfied (use --upgrade to upgrade): lxml in ./anaconda/lib/python2.7/site-packages\n</code></pre>\n\n<p>So I guess I have to change of user inside Pycharm... How can I do that ? In the pop up I tried to change my full name (first + family name) by just my first name (which I use as sudo account), but I got the same error...</p>\n"}, {"tags": ["python", "python-2.7", "locals"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441840175, "post_id": 32490484, "comment_id": 52841629, "body": "depends what is in there ... maybe you can serialize it as long as all the items are serializeable"}], "answers": [{"tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": true, "score": 3, "last_activity_date": 1441840397, "last_edit_date": 1495539883, "creation_date": 1441840397, "answer_id": 32490567, "question_id": 32490484, "link": "https://stackoverflow.com/questions/32490484/explain-locals-and-exactly-how-it-works/32490567#32490567", "title": "Explain locals() and exactly how it works", "body": "<p>This probably comes from the <a href=\"https://stackoverflow.com/questions/1901525/django-template-and-the-locals-trick\">Django template and the locals trick</a>.  The idea is to populate a number of variables inside a function, and use <code>locals()</code> to pass them on to a template.  It saves the effort of creating a new dictionary with all those variables.</p>\n\n<p>Specifically, your code creates a dictionary of all the local variables and removes <code>self</code> (the class object parameter) and <code>info</code> (the variable that was just created).  All other local variables are returned.</p>\n\n<p>You could then JSON serialize the data, as long as the data can be serialized.  DateTime variables must be converted to a string first, for example.</p>\n"}, {"comments": [{"owner": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 0, "creation_date": 1441841063, "post_id": 32490628, "comment_id": 52841855, "body": "Note that changing variable inside of the returned dict does not affect the variable names that exist in the environment, it only works if you change the contents of an object, reassigning an int directly in the dictionary should have no effect outside of the dictionary."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 0, "creation_date": 1441841233, "post_id": 32490628, "comment_id": 52841901, "body": "If you reassign a variable, then it is not a problem.  If you modify a list or dictionary, then it is.  I&#39;ve edited my response to clarify."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1441841425, "last_edit_date": 1441841425, "creation_date": 1441840823, "answer_id": 32490628, "question_id": 32490484, "link": "https://stackoverflow.com/questions/32490484/explain-locals-and-exactly-how-it-works/32490628#32490628", "title": "Explain locals() and exactly how it works", "body": "<p>The code creates a new dictionary called 'info' and assigns all of your local python variables to it.  NOTE:  These are pointers to the same objects in your local environment, so that if you modify a list or dictionary in <code>info</code> it will be changed in your environment as well (this may or may not be the desired behavior).</p>\n\n<blockquote>\n  <p><a href=\"https://docs.python.org/2/library/functions.html#locals\" rel=\"nofollow\">locals()</a> \n  Update and return a dictionary representing the current local\n  symbol table. Free variables are returned by locals() when it is\n  called in function blocks, but not in class blocks.</p>\n  \n  <p>Note The contents of this dictionary should not be modified; changes\n  may not affect the values of local and free variables used by the\n  interpreter.</p>\n</blockquote>\n\n<p><code>info.pop('self', None)</code> and <code>info.pop('info', None)</code> will remove 'self' and 'info', respectively, from your new <code>info</code> dictionary.  If they are not present, they return <code>None</code>.  Note that <code>info.pop('self')</code> would return a KeyError if 'self' was not in the dictionary.</p>\n"}], "owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 32490567, "answer_count": 2, "score": 0, "last_activity_date": 1441841425, "creation_date": 1441839829, "question_id": 32490484, "link": "https://stackoverflow.com/questions/32490484/explain-locals-and-exactly-how-it-works", "title": "Explain locals() and exactly how it works", "body": "<p>Could someone please explain how this little piece of code works?</p>\n\n<pre><code>info = {}\ninfo.update(locals())\ninfo.pop('self', None)\ninfo.pop('info', None)\n</code></pre>\n\n<p>I am assuming, and please correct me if I am wrong, but it gets all the variables in the current function and puts them in the dict and removes self and the dict it got put in, correct? Is there anything other than self and the dict I might not want going into there? </p>\n\n<p>Would there be anything wrong with just JSON serializing that dict and posting it?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "edited": false, "score": 0, "creation_date": 1441839814, "post_id": 32490471, "comment_id": 52841537, "body": "But if my data is in the form of tuple, I can&#39;t handle the tite breaking unlike comareTo above?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "reply_to_user": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "edited": false, "score": 0, "creation_date": 1441840199, "post_id": 32490471, "comment_id": 52841636, "body": "@Dude look at the edit. Tell me if you&#39;re missing something."}, {"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1441840826, "post_id": 32490471, "comment_id": 52841792, "body": "The <code>PriorityQueue</code> in <code>Queue</code> comes with extra baggage (it&#39;s thread safe). If performance is an issue then I&#39;d recommend creating a class wrapper for the <a href=\"https://docs.python.org/3/library/heapq.html\" rel=\"nofollow noreferrer\"><code>heapq</code></a> module."}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 4, "last_activity_date": 1441840146, "last_edit_date": 1441840146, "creation_date": 1441839747, "answer_id": 32490471, "question_id": 32490445, "link": "https://stackoverflow.com/questions/32490445/how-to-implement-priority-queue-with-a-custom-class-in-python/32490471#32490471", "title": "How to implement priority queue with a custom class in python?", "body": "<p>You're in luck because an implementation <a href=\"https://docs.python.org/2/library/queue.html#Queue.PriorityQueue\" rel=\"nofollow\">already exists</a>.</p>\n\n<p>Make sure to follow the regular structuring of entries and attach the priority to all entries inserted into the queue using a tuple of the form <code>(priorities_tuple, entry)</code>.</p>\n\n<p>An example:</p>\n\n<pre><code>import Queue\nimport random\npq = Queue.PriorityQueue()\ntodos = [\"eat\", \"sleep\", \"python\"]\n# obvously replace random with your \ntodos_with_priorities = [((random.random(),), e) for e in todos]\nfor e in todos:\n    pq.put(e)\n</code></pre>\n\n<p>Consume the queue like so:</p>\n\n<pre><code>priorities, item = pq.get()\n</code></pre>\n\n<p>To form more and more complex priorities add more members to the tuple structure. In your case the tuple should be something like: <code>((e.score, len(e.arr)), e)</code>.</p>\n"}], "owner": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1441840146, "creation_date": 1441839516, "question_id": 32490445, "link": "https://stackoverflow.com/questions/32490445/how-to-implement-priority-queue-with-a-custom-class-in-python", "title": "How to implement priority queue with a custom class in python?", "body": "<p>I am from java background, I need to something like this</p>\n\n<pre><code>public class Item implements Comparable&lt;Item&gt; {\n\n    int score;\n    ArrayList&lt;Integer&gt; arr;\n\n    @Override\n    public int compareTo(Item o2) {\n        return score != o2.score ? score - o2.score : arr.size() - o2.arr.size();\n    }\n\n\n    public static void main(String[] args) {\n        PriorityQueue&lt;Item&gt; p = new PriorityQueue&lt;Item&gt;();\n\n    }\n}\n</code></pre>\n\n<p>So I have a class which has two variable, score and list. There is a calculation for natural ordering for also too.</p>\n\n<p>Could somebody please tell me how to do it python? heapq does not work for me, because my score function checks score on the basis of two variables not one.</p>\n"}, {"tags": ["python", "dictionary", "nested"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441840206, "post_id": 32490436, "comment_id": 52841639, "body": "those arent dictionaries ..."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1441839842, "post_id": 32490448, "comment_id": 52841544, "body": "yes there is  ...  d is an instance of <code>Account</code> ... not a <code>dict</code> ... and <code>__getitem__</code> returns a string ...  so yeah that wont work to access his customer attribute ... nor its name attribute ... (since Customer does not implement <code>__getitem__</code> at all that I can tell ... at best OP could access it as <code>d[&quot;customer&quot;].name</code> (if they fix <code>Account.__getitem__</code>, if they add a <code>__getitem__</code> to customer then they could certainly access it entirely through indicing instead of attribute lookup)"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1441840837, "post_id": 32490448, "comment_id": 52841799, "body": "@JoranBeasley Why is d an instance of <code>Account</code>? OP is looping through a list of dictionaries stored  in <code>Account.accountList</code>."}, {"owner": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "edited": false, "score": 1, "creation_date": 1441841292, "post_id": 32490448, "comment_id": 52841920, "body": "Thanks for that You are right, their was a problem with my  Account.<code>__getitem__</code> and it was the thing causing the string error. I&#39;ve added a <code>__getitem__</code> to customer too, and I can access the customer instance using indexing like you said."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441841362, "post_id": 32490448, "comment_id": 52841945, "body": "great ... if this answer helped resolve your issue feel free to upvote and accept it ... if you still need help please explain further"}, {"owner": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "edited": false, "score": 0, "creation_date": 1441841576, "post_id": 32490448, "comment_id": 52842003, "body": "Slightly related question if I wanted to return just the value &quot;smith&quot; could you direct me what to change in the list comprehension roughly?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441841685, "post_id": 32490448, "comment_id": 52842030, "body": "could you explain a little more what you mean ... your old code should work if you fixed both <code>__getitems__</code> or use the example i listed above ..."}, {"owner": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "edited": false, "score": 0, "creation_date": 1441842132, "post_id": 32490448, "comment_id": 52842125, "body": "How would I go about outputting just the value of a specific name in this sequence for e.g the output would be <code>[{&#39;name&#39;: &#39;Foo&#39;}]</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1441842407, "post_id": 32490448, "comment_id": 52842199, "body": "mmm maybe <code>print next(d for d in Account.accountList if d[&#39;customer&#39;][&#39;name&#39;] == &#39;smith&#39;)</code>  (this assumes you corrected the issues with <code>__getitem__</code>"}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1441885293, "post_id": 32490448, "comment_id": 52861159, "body": "I think you need to start off by saying &quot;The objects you are accessing are not dictionaries&quot;.  As it stands (not your fault), the question title and first line are hugely confusing (they&#39;re called dictionaries and their <code>repr</code> look like dictionaries but... they&#39;re not dictionaries.  Therefore, your answer, although obviously correct (+1), also feels confusing without clarification."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 3, "last_activity_date": 1441839569, "creation_date": 1441839569, "answer_id": 32490448, "question_id": 32490436, "link": "https://stackoverflow.com/questions/32490436/iterating-over-a-list-of-nested-dictionaries/32490448#32490448", "title": "Iterating over a list of nested dictionaries", "body": "<pre><code>[d for d in Account.accountList if d.customer.name == 'smith']\n</code></pre>\n\n<p>you were close </p>\n\n<p>the problem is here</p>\n\n<pre><code>def __getitem__(self, i):\n    return i\n</code></pre>\n\n<p>you can see what happens below</p>\n\n<pre><code>MyClass[\"whatever\"] == \"whatever\" #True\n\"whatever\"[\"asd\"] #error\n</code></pre>\n\n<p>instead I think you could use</p>\n\n<pre><code>def __getitem__(self,item):\n    return getattr(self,item)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1441841073, "post_id": 32490611, "comment_id": 52841859, "body": "they arent dictionaries they are(the list you see in the OP)  the repr from his account and customer class ... details is not a list of dicts .... I promise you ... my answer is correct"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441841314, "post_id": 32490611, "comment_id": 52841931, "body": "@JoranBeasley Yes, thanks. I&#39;ve phrased it a bit differently though."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441841739, "post_id": 32490611, "comment_id": 52842046, "body": "in that case have a +1 for providing him a way to make it work :P"}, {"owner": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "edited": false, "score": 0, "creation_date": 1441843052, "post_id": 32490611, "comment_id": 52842331, "body": "Thanks man, nice solution too, if I wanted to add multiple class instances would I just keep going and add to the append method like <code>Account.accountList.append({&#39;customer&#39;: {&#39;name&#39;: name}}, {&#39;cash&#39;:{&#39;balance&#39;: balance)}</code>"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "edited": false, "score": 1, "creation_date": 1441846480, "post_id": 32490611, "comment_id": 52843131, "body": "@cyclopse87 you could do but it&#39;s pretty inefficient. It&#39;s better to append the object instance to the list - and work with objects instead of dictionaries. That way you won&#39;t forget to update the dictionary if you add a new attribute. My answer was purely to illustrate why your list comprehension wasn&#39;t working :)"}], "tags": [], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "is_accepted": false, "score": 1, "last_activity_date": 1441841167, "last_edit_date": 1441841167, "creation_date": 1441840771, "answer_id": 32490611, "question_id": 32490436, "link": "https://stackoverflow.com/questions/32490436/iterating-over-a-list-of-nested-dictionaries/32490611#32490611", "title": "Iterating over a list of nested dictionaries", "body": "<p>What you're trying actually works for me!</p>\n\n<p>Input:</p>\n\n<pre><code>details = [{'customer': {'name': 'Karl'}}, {'customer': {'name': 'Smith'}}]\n\n[x for x in details if x['customer']['name'] == 'Smith']\n</code></pre>\n\n<p>Result:\n<code>[{'customer': {'name': 'Smith'}}]</code></p>\n\n<p><strong>EDIT:</strong>\nLook closely at this line...\n<code>Account.accountList.append(self)</code></p>\n\n<p>It seems you're appending an object to the <code>AccountList</code> and not a dictionary as you expect, since <code>self</code> is an object. Try:</p>\n\n<p><code>Account.accountList.append({'customer': {'name': name}})</code></p>\n"}], "owner": {"reputation": 589, "user_id": 2374021, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FOJm6.jpg?s=128&g=1", "display_name": "cyclopse87", "link": "https://stackoverflow.com/users/2374021/cyclopse87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 32490448, "answer_count": 2, "score": 2, "last_activity_date": 1441847558, "creation_date": 1441839451, "last_edit_date": 1441847558, "question_id": 32490436, "link": "https://stackoverflow.com/questions/32490436/iterating-over-a-list-of-nested-dictionaries", "title": "Iterating over a list of nested dictionaries", "body": "<p>Hi I am trying to loop over this list and access a specific value in the nested dictionary  </p>\n\n<p><code>[{'customer': {'name': 'Karl'}}, {'customer': {'name': 'Smith'}}]</code></p>\n\n<p>using this list comprehension</p>\n\n<pre><code>[d for d in Account.accountList if d['customer']['name'] == 'smith']\n</code></pre>\n\n<p>but I am getting this <code>TypeError: string indices must be integers</code>, I understand this is related to python thinking that my list is a string, but its definetly a list  </p>\n\n<pre><code>&gt;&gt;&gt; type(Account.accountList)\n &lt;class 'list'&gt;\n</code></pre>\n\n<p>I've tried nested for loops but I keep getting this error, any help would be appreciated..</p>\n\n<pre><code>class Customer:\n    def __init__(self, name):\n        self.name = name\n\n    def __repr__(self):\n        return repr(self.__dict__)\n\nclass Account:\n    accountList = []\n    def __init__(self, name):\n        self.customer = Customer(name)\n        Account.accountList.append(self)\n\n    def __repr__(self):\n        return repr(self.__dict__)\n\n    def __getitem__(self, i):\n        return i\n</code></pre>\n"}, {"tags": ["python", "pipe", "subprocess", "ipc"], "comments": [{"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "edited": false, "score": 1, "creation_date": 1441841469, "post_id": 32490432, "comment_id": 52841978, "body": "Why can you not put these both into one script, and perhaps use a thread?  Do they really have to be in separate terminals?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1441896225, "post_id": 32490432, "comment_id": 52869272, "body": "your question is too broad, you could use any <a href=\"https://en.wikipedia.org/wiki/Inter-process_communication\" rel=\"nofollow noreferrer\">IPC method</a> e.g., if both scripts use <code>select()</code> already then it might be convenient to use a socket or a pipe for communication."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1441842087, "post_id": 32490761, "comment_id": 52842115, "body": "I dont think this would work ... as python runs in a subshell ... those changes would only be visible in processes that python instance started ..."}], "tags": [], "owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "is_accepted": false, "score": 0, "last_activity_date": 1441841760, "last_edit_date": 1495541680, "creation_date": 1441841760, "answer_id": 32490761, "question_id": 32490432, "link": "https://stackoverflow.com/questions/32490432/communicate-between-two-scripts-pass-a-string-of-variable-from-one-script-to-an/32490761#32490761", "title": "Communicate between two scripts. Pass a string of variable from one script to another", "body": "<p>One options would be to use an environmental variable.  See <a href=\"https://stackoverflow.com/questions/5971312/how-to-set-environment-variables-in-python\">here</a>.</p>\n\n<p>Then in script A you write something to an environmental variable, and in script B you check for it.  You'll need to consider the cases of a <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race condition</a>, so that, for example B may be checking for a variable that does not yet exist.  If you make it exist before the while loop in B, then you may over-write a valid key press from A before it is detected by B.  </p>\n\n<p>These conditions mainly exist during the start up, so you could, for example, always start one of the scripts first, or not press a button until both scripts are running.</p>\n"}, {"comments": [{"owner": {"reputation": 3176, "user_id": 2776885, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/97df0a051ee23f43da5d4fa54879285a?s=128&d=identicon&r=PG&f=1", "display_name": "The Dude", "link": "https://stackoverflow.com/users/2776885/the-dude"}, "edited": false, "score": 0, "creation_date": 1442090589, "post_id": 32490825, "comment_id": 52943869, "body": "I have zero knowledge on using threads. Do you have a link to a working example?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1441842162, "creation_date": 1441842162, "answer_id": 32490825, "question_id": 32490432, "link": "https://stackoverflow.com/questions/32490432/communicate-between-two-scripts-pass-a-string-of-variable-from-one-script-to-an/32490825#32490825", "title": "Communicate between two scripts. Pass a string of variable from one script to another", "body": "<p>if you really need to do it like this you will need a data transfer mechanism ... this could just be a simple json file or a redis database server....</p>\n\n<p>basically one script writes its output to a file the other script scans that file (periodically) </p>\n\n<p>theres no code for this answer .... sorry</p>\n\n<p>a better idea would be to use threads or multiprocessing </p>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441842257, "post_id": 32490831, "comment_id": 52842160, "body": "wait you can share in memory databases in sqlite3 between processes? whoa ... you just blew my mind ..."}, {"owner": {"reputation": 470, "user_id": 5131997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SfTfo.jpg?s=128&g=1", "display_name": "Dim&#39;", "link": "https://stackoverflow.com/users/5131997/dim"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1441843140, "post_id": 32490831, "comment_id": 52842360, "body": "Ohh, sorry, after further investigation, sqlite3 supports shared in-memory databases, but between threads, not between processes.  cf: <a href=\"https://www.sqlite.org/sharedcache.html\" rel=\"nofollow noreferrer\">sqlite.org/sharedcache.html</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441843183, "post_id": 32490831, "comment_id": 52842368, "body": "ahhh dang you got me all kinds of excited :P"}], "tags": [], "owner": {"reputation": 470, "user_id": 5131997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SfTfo.jpg?s=128&g=1", "display_name": "Dim&#39;", "link": "https://stackoverflow.com/users/5131997/dim"}, "is_accepted": false, "score": 1, "last_activity_date": 1441843295, "last_edit_date": 1441843295, "creation_date": 1441842193, "answer_id": 32490831, "question_id": 32490432, "link": "https://stackoverflow.com/questions/32490432/communicate-between-two-scripts-pass-a-string-of-variable-from-one-script-to-an/32490831#32490831", "title": "Communicate between two scripts. Pass a string of variable from one script to another", "body": "<p>Why not use a shared in-memory database between the two scripts?</p>\n\n<p>You could simply use sqlite3, which support shared in-memory databases and is already included in the Python's standard library, or maybe Redis (<a href=\"http://redis.io/\" rel=\"nofollow\">http://redis.io/</a>) if you want to try something fancier.</p>\n\n<p>EDIT: in-memory databases in sqlite3 can only be shared between threads, not processes: <a href=\"https://www.sqlite.org/sharedcache.html\" rel=\"nofollow\">https://www.sqlite.org/sharedcache.html</a></p>\n\n<p>So as Joran Beasley pointed out, if you need to share between process, Redis could be your friend!</p>\n"}], "owner": {"reputation": 3176, "user_id": 2776885, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/97df0a051ee23f43da5d4fa54879285a?s=128&d=identicon&r=PG&f=1", "display_name": "The Dude", "link": "https://stackoverflow.com/users/2776885/the-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1441843295, "creation_date": 1441839441, "question_id": 32490432, "link": "https://stackoverflow.com/questions/32490432/communicate-between-two-scripts-pass-a-string-of-variable-from-one-script-to-an", "title": "Communicate between two scripts. Pass a string of variable from one script to another", "body": "<p>I have two python scripts, for arguments sake lets call them <code>A</code> and <code>B</code>. Both <code>A</code> and <code>B</code> contain a while loop which runs indefinitely. They show live feeds of two different data collection devices. Script <code>A</code> is able to accept key presses. Now, what I would like to do is for script <code>B</code> to identify a keypress in script <code>A</code>. Each script is executed in a different terminal.</p>\n\n<p>How am I able to communicate as fast as possible between the two python scripts? How am I able to pass a <code>string</code> or something similar from script <code>A</code> to script <code>B</code> without using a dummy file? With a dummy file I am regarding to a file which is constantly read by script <code>B</code> and written to by script <code>A</code> when a keypress has been registered. \nCan someone point me in the right direction?</p>\n\n<p>Both scripts are showing live feeds of data using the while loops. It is therefore very important that neither script is stalling or waiting for something.</p>\n\n<p>Script A:</p>\n\n<pre><code>import sys\nimport numpy\nimport select\n\ndef heardEnter():\n  i, o, e = select.select([sys.stdin], [], [], 0.0001)\n  for s in i:\n    if s == sys.stdin:\n      input = sys.stdin.readline()\n      return True\n  return False\n\n\nwhile True:  \n  if heardEnter():\n    print \"A: Pressed enter\"\n</code></pre>\n\n<p>Script B:</p>\n\n<pre><code>while True:\n  A_press_enter = None\n  if A_press_enter == \"Enter\":\n    print \"B: Enter was pressed in script A\"\n</code></pre>\n"}, {"tags": ["python", "variables", "genetics"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441852077, "post_id": 32490403, "comment_id": 52844445, "body": "You can drop the first 4 lines of <code>initMatrix</code>, which assign values to variables that are subsequently overwritten before you ever use the variable. (For example, you set <code>r=0</code>, but never use <code>r</code> again before using it as the loop index in a <code>for</code> statement.)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441852761, "post_id": 32490403, "comment_id": 52844600, "body": "Which line, exactly, raises the error? You have a lot of different variables named <code>r</code>."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4839903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1133938099/picture?type=large", "display_name": "Georgrio", "link": "https://stackoverflow.com/users/4839903/georgrio"}, "edited": false, "score": 0, "creation_date": 1441850347, "post_id": 32490449, "comment_id": 52844016, "body": "Yea, that was just silly of me. But irregardless the same error appears"}], "tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 1, "last_activity_date": 1441839570, "creation_date": 1441839570, "answer_id": 32490449, "question_id": 32490403, "link": "https://stackoverflow.com/questions/32490403/variable-resetting-back-to-0-after-if-statement-in-python/32490449#32490449", "title": "Variable resetting back to 0 after if statement in python", "body": "<pre><code>r-=r\nc-=c\ni-=i\n</code></pre>\n\n<p>I don't know what you're intending to do here, but this can't be right. These assignments are equivalent to:</p>\n\n<pre><code>r = r - r\nc = c - c\ni = i - i\n</code></pre>\n\n<p>Subtracting a variable from itself will result in 0, always. You might as well have written:</p>\n\n<pre><code>r = 0\nc = 0\ni = 0\n</code></pre>\n\n<p>Perhaps you meant to subtract 1 from each. That'd be:</p>\n\n<pre><code>r -= 1\nc -= 1\ni -= 1\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4839903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1133938099/picture?type=large", "display_name": "Georgrio", "link": "https://stackoverflow.com/users/4839903/georgrio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441850438, "creation_date": 1441839170, "last_edit_date": 1441850438, "question_id": 32490403, "link": "https://stackoverflow.com/questions/32490403/variable-resetting-back-to-0-after-if-statement-in-python", "title": "Variable resetting back to 0 after if statement in python", "body": "<p>I am getting this error</p>\n\n<blockquote>\n  <p>IndexError: list index out of range</p>\n</blockquote>\n\n<p>and from what I've gathered it is because my <code>r</code> variable is resetting to 0 as soon as it enters the <code>if</code> statement. I'm learning python as I go so any tips and tricks would be greatly appreciated.</p>\n\n<p>Here is my code</p>\n\n<pre><code>import sys\nfrom test.test_email.test_message import first\ndef initMatrix(B,D,seq1,seq2,gap,match,miss): \n    r=0\n    c=0\n    numRows=0\n    numCols=0\n    temp=1\n    numRows=len(seq1)+1\n    numCols=len(seq2)+1\n    B[0][0]= 0\n    D[0][0]='0'\n    for r in range(numRows):\n        B[r][0]=temp*gap\n        temp+=temp\n        D[r][0]='V'\n    temp=1\n    for c in range(numCols):\n        B[0][c]=temp*gap\n        temp+=temp\n        D[0][c]='H'\n    for r in range(numRows):\n        for c in range(numCols):\n            if seq1[r-1]==seq2[c-1]:\n                B[r][c]=match\n            else:\n                B[r][c]=miss\ndef initMatrixA(A,B,D,seq1,seq2,gap,match,miss):\n    r,c=1,1\n    first,second,third=0,0,0\n    maxScore=0\n    numRows=len(seq1)+1\n    numCols=len(seq2)+1\n    for r in range(numRows):\n        for c in range(numCols):\n            first=A[r-1][c-1]+B[r][c]\n            second=A[r-1][c]+gap\n            third=A[r][c-1]+gap\n            if max(first,second,third)==first:\n                maxScore=first\n                D[r][c]='D'\n            elif max(first,second,third)==second:\n                maxScore=second\n                D[r][c]='V'\n            elif max(first,second,third)==third:\n                maxScore=third\n                D[r][c]='H'\n\n    outputSeq(D,seq1,seq2)\ndef outputSeq(D,seq1,seq2):\n    r=len(seq1)\n    c=len(seq2)\n    i=r\n    aligned1=[0 for x in range (len(seq1))]\n    aligned2=[0 for x in range (len(seq2))]\n    print(D)\n    while D[r+1][c+1]!='0':\n        if D[r+1][c+1]=='D':\n            print(r)\n            aligned1[i]+=seq1[r]\n            aligned2[i]+=seq2[c]\n            r=r-1\n            c=c-1\n            i=i-1\n        elif D[r+1][c+1]=='V':\n            print(r)\n            aligned1[i]+=seq[r]\n            aligned2[i]+='-'\n            r=r-1\n            i=i-1\n        elif D[r+1][c+1]=='H':\n            print(r)\n            aligned1[i]='-'\n            aligned2[i]=seq2[c]\n            c=c-1\n            i=i-1\n        else: \n            r=r-1\n            c=c-1\n    output=open('output.a2m','w')\n    output.write(\"&gt;Seq1\"+seq1+\"\\n&gt;Seq2\"+seq2)\n    output.close()\n\nif __name__ == '__main__':\n    #fasta=sys.argv[1]\n    fasta=open('hw_input.fa','r')\n    fasta.readline().strip()\n    seq=fasta.read()\n    seq1=\"\"\n    seq2=\"\"\n    s=\"\"\n    j=\"\"\n    i=0\n    k=1\n    gap=-2\n\n    match,miss=1,-1\n    with open('hw_input.fa','r') as fasta:\n        for line in fasta:\n            if \"&gt;Seq 2\" in line or i==1:\n                j=line\n                seq2+=j\n                i=1\n\n\n            elif i!=1:\n                s=line\n                seq1+=s\n\n\n\n    seq1=seq1.split('\\n',1)[-1]\n    print (\"&gt;Seq1\\n\"+seq1)\n    seq2=seq2.split('\\n',1)[-1]\n    print (\"&gt;Seq2\\n\"+seq2)\n    A=[[0 for x in range(len(seq1)+10)] for x in range (len(seq2)+10)]\n    B=[[0 for x in range(len(seq1)+10)] for x in range (len(seq2)+10)]\n    D=[[0 for x in range(len(seq1)+10)] for x in range (len(seq2)+10)]\n    initMatrix(B, D, seq1, seq2, gap, match, miss)\n    initMatrixA(A,B,D,seq2,seq2,gap,match,miss)\n    fasta.close()\n    pass\n</code></pre>\n\n<p>p.s. I am attempting to implement the Needleman-Wunchst global alignment algorithm. </p>\n"}, {"tags": ["python", "ffmpeg", "pythonanywhere", "echonest"], "comments": [{"owner": {"reputation": 1538, "user_id": 2353123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZgI.png?s=128&g=1", "display_name": "conrad", "link": "https://stackoverflow.com/users/2353123/conrad"}, "edited": false, "score": 0, "creation_date": 1442240905, "post_id": 32490375, "comment_id": 52989673, "body": "just to clarify, do you mean that echo nest remix doesn&#39;t work right now because ffmpeg is not installed? Or that nest remix somehow tries to use avconv but fails because it was expecting ffmpeg?"}, {"owner": {"reputation": 2846, "user_id": 1735729, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4abb0b8e2fcfbc42ecb9b7a7598e1406?s=128&d=identicon&r=PG", "display_name": "Stergios", "link": "https://stackoverflow.com/users/1735729/stergios"}, "edited": false, "score": 0, "creation_date": 1484652988, "post_id": 32490375, "comment_id": 70588016, "body": "Did you find a solution to your problem? If so, could you please share some details on how you did that?"}], "answers": [{"tags": [], "owner": {"reputation": 6310, "user_id": 167813, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7e42d7954660b54a29bff48043693a5?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/167813/glenn"}, "is_accepted": true, "score": 3, "last_activity_date": 1441896369, "creation_date": 1441896369, "answer_id": 32505075, "question_id": 32490375, "link": "https://stackoverflow.com/questions/32490375/how-can-i-use-ffmpeg-on-pythonanywhere/32505075#32505075", "title": "How can I use ffmpeg on PythonAnywhere?", "body": "<p>There's nothing we can do about that short term. The two executables have a similar interface (though it's not entirely the same), so you may be able to create a symlink for ffmpeg somewhere on your path to avconv and it <em>may</em> work.</p>\n"}, {"tags": [], "owner": {"reputation": 451, "user_id": 5509461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f0e5a29c8ac855de78fd99a946e036b?s=128&d=identicon&r=PG&f=1", "display_name": "programmer44", "link": "https://stackoverflow.com/users/5509461/programmer44"}, "is_accepted": false, "score": 1, "last_activity_date": 1457209416, "creation_date": 1457209416, "answer_id": 35819437, "question_id": 32490375, "link": "https://stackoverflow.com/questions/32490375/how-can-i-use-ffmpeg-on-pythonanywhere/35819437#35819437", "title": "How can I use ffmpeg on PythonAnywhere?", "body": "<p>there'a another workaround almost similar to the above, I presume that you have set up a virtual environment. On the bin directory of your virtual env, copy the ffmpeg and ffprobe binaries.</p>\n\n<p>the two binaries can be got from your system, if you had installed them, by typing </p>\n\n<pre><code>    which ffmpeg \n</code></pre>\n\n<p>and </p>\n\n<pre><code>    which ffprobe\n</code></pre>\n\n<p>respectively.</p>\n\n<p>the idea is that both ffmpeg and avconv use the same interface, and as such by simply pointing to an ffmpeg binary, it can take it from there with the other avconv files,</p>\n"}], "owner": {"reputation": 43, "user_id": 5318974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d3d3ad124d8c525bfcd7b07077d8a?s=128&d=identicon&r=PG&f=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/5318974/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 32505075, "answer_count": 2, "score": 3, "last_activity_date": 1457209416, "creation_date": 1441838996, "question_id": 32490375, "link": "https://stackoverflow.com/questions/32490375/how-can-i-use-ffmpeg-on-pythonanywhere", "title": "How can I use ffmpeg on PythonAnywhere?", "body": "<p>I'm trying to make a web app with Flask, hosted on <a href=\"https://www.pythonanywhere.com/\" rel=\"nofollow\">PythonAnywhere</a>, which will use the <a href=\"https://echonest.github.io/remix/python.html\" rel=\"nofollow\">Echo Nest Remix</a> library.</p>\n\n<p>The problem is that <strong>Remix uses ffmpeg</strong> and <strong>PythonAnywhere only has avconv</strong>.</p>\n\n<p>Is there any way I can use ffmpeg on PythonAnywhere?</p>\n\n<p>I'm using PythonAnywhere's free account if it makes a difference.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "django", "authorization", "tastypie"], "answers": [{"comments": [{"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1441846136, "post_id": 32490873, "comment_id": 52843055, "body": "Thanks so much for your answer, you&#39;ve covered all the main points! The comments in the source code really ought to be in the documentation too."}], "tags": [], "owner": {"reputation": 1185, "user_id": 1645870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed3a8f933cd2db54b688e34a3818bec?s=128&d=identicon&r=PG", "display_name": "Mikhail Karavashkin", "link": "https://stackoverflow.com/users/1645870/mikhail-karavashkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1470141764, "last_edit_date": 1470141764, "creation_date": 1441842459, "answer_id": 32490873, "question_id": 32490360, "link": "https://stackoverflow.com/questions/32490360/what-does-create-list-refer-to-in-tastypies-custom-authorisation/32490873#32490873", "title": "What does create_list refer to in Tastypie&#39;s custom authorisation?", "body": "<p>The question is about philosophy and concepts, and there are actually 3 questions, but let me try to answer you question briefly.</p>\n\n<hr>\n\n<h1>*_list vs *_detail:</h1>\n\n<p><strong>*_list</strong> methods are filters of objects user has an access to.</p>\n\n<p><strong>*_detail</strong> methods are booleans that tell us, whether we can have an access to the exact object.</p>\n\n<p><strong>Example:</strong></p>\n\n<p><strong>read_list</strong> - filters objects, that user will see on <strong>site.com/api/v1/cool_object/</strong></p>\n\n<p><strong>read_detail</strong> - tells us whether user is allowed to view <strong>site.com/api/v1/cool_object/2</strong></p>\n\n<hr>\n\n<h1>Mapping CRUD to HTTP (Tastypie):</h1>\n\n<p><strong>CREATE</strong> - <strong>POST</strong></p>\n\n<p><strong>READ</strong> - <strong>GET</strong></p>\n\n<p><strong>UPDATE</strong> - <strong>PUT</strong> (to upload new entity) / <strong>PATCH</strong> (to send changed fields only)</p>\n\n<p><strong>DELETE</strong> - <strong>DELETE</strong></p>\n\n<hr>\n\n<h1>Why create_list:</h1>\n\n<p>The method was added just for the sake of uniformity and consistency. So you were right to see no practical sense in it.</p>\n\n<p>We can even check it in the <a href=\"https://github.com/django-tastypie/django-tastypie/blob/master/tastypie/authorization.py#L45\" rel=\"nofollow\">tastypie/authorization.py</a>:</p>\n\n<blockquote>\n<pre><code>def create_list(self, object_list, bundle):\n    \"\"\"\n    Unimplemented, as Tastypie never creates entire new lists, but\n    present for consistency &amp; possible extension.\n    \"\"\"\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 32490873, "answer_count": 1, "score": 1, "last_activity_date": 1470141764, "creation_date": 1441838876, "question_id": 32490360, "link": "https://stackoverflow.com/questions/32490360/what-does-create-list-refer-to-in-tastypies-custom-authorisation", "title": "What does create_list refer to in Tastypie&#39;s custom authorisation?", "body": "<p>I've been studying the <a href=\"http://django-tastypie.readthedocs.org/en/latest/authorization.html\" rel=\"nofollow\">Tastypie API documentation for custom authorisation</a>.</p>\n\n<p>There are eight possible methods to implement to create a custom authorisation class.</p>\n\n<ul>\n<li><code>read_list</code></li>\n<li><code>read_detail</code></li>\n<li><code>create_list</code></li>\n<li><code>create_detail</code></li>\n<li><code>update_list</code></li>\n<li><code>update_detail</code></li>\n<li><code>delete_list</code></li>\n<li><code>delete_detail</code></li>\n</ul>\n\n<p>I am really struggling to understand the semantics of each of these methods. How exactly do they correspond to HTTP verbs (GET, POST, PUT, PATCH, DELETE... etc.)?</p>\n\n<p>Initially, I thought that the <code>*_list</code> methods might mean...</p>\n\n<blockquote>\n  <p>Give me a list of all objects that the user can [create, read, update, delete]</p>\n</blockquote>\n\n<p>But the \"create\" case...</p>\n\n<blockquote>\n  <p>Give me a list of all objects that the user can <strong>create</strong></p>\n</blockquote>\n\n<p>...really doesn't make sense, since the objects have already been created. In order to make sense with my interpretation, this would have to be a list of all possible objects the user <em>could</em> create (which is clearly infeasible). </p>\n\n<p>So what does <code>create_list</code> actually mean? What about <code>create_detail</code> and how does it differ to <code>create_list</code>?</p>\n\n<p>Thanks for clarifying!</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 2898, "user_id": 1385931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70e182175b70bc54af9183fdc8d9a27b?s=128&d=identicon&r=PG", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/1385931/helloworld"}, "edited": false, "score": 1, "creation_date": 1441839068, "post_id": 32490350, "comment_id": 52841316, "body": "I remember I had exactly this problem a few years ago. I finally found the post again by someone who found a nice approach. Here you go: <a href=\"https://geert.vanderkelen.org/2010/mysql-client-tool-and-how-to-output-newlines/\" rel=\"nofollow noreferrer\">geert.vanderkelen.org/2010/&hellip;</a>"}, {"owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "reply_to_user": {"reputation": 2898, "user_id": 1385931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70e182175b70bc54af9183fdc8d9a27b?s=128&d=identicon&r=PG", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/1385931/helloworld"}, "edited": false, "score": 0, "creation_date": 1441840504, "post_id": 32490350, "comment_id": 52841722, "body": "@HelloWorld..very useful link..however this shows an example with a line break in column1 which automatically pushes the remainding text at the begining of the next row (which  column 1 is located)...I tried using the steps for a data with line breaks in other columns but still get the same results..I wonder if there are any other sql modules in python that doesn&#39;t have this issue."}, {"owner": {"reputation": 2242, "user_id": 1529843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5463a125f0b81f09eafa703d31e19e8?s=128&d=identicon&r=PG&f=1", "display_name": "Cargo23", "link": "https://stackoverflow.com/users/1529843/cargo23"}, "edited": false, "score": 0, "creation_date": 1448464635, "post_id": 32490350, "comment_id": 55601240, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17326168/escape-line-breaks-in-mysql-output\">Escape line breaks in MySQL output</a>"}], "owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1441838820, "creation_date": 1441838820, "question_id": 32490350, "link": "https://stackoverflow.com/questions/32490350/mysql-how-to-make-text-after-newline-character-position-itself-in-the-same-colu", "title": "MYSQL: How to make text after newline character position itself in the same column?", "body": "<p>I am presently learning MYSQL using a python approach and also using MYSQL in a bash shell.</p>\n\n<p>I have text that contains  a newline character in a column named <b>\"On_Sale\"</b>.MYSQL does not automatically add the newline character followed by the remainding text <b> in the same column named On_Sale</b>.\nThe picture below shows my output in a bash shell.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6wkEI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6wkEI.png\" alt=\"Snapshot\"></a></p>\n\n<p>Below are my python codes:</p>\n\n<pre><code>with sql:\n    sqlcur=sql.cursor()\n    sqlcur.execute(\"DROP TABLE IF  EXISTS Apple_Juices\")\n    sqlcur.execute(\"CREATE TABLE Apple_Juices(No INT PRIMARY KEY AUTO_INCREMENT,Juices VARCHAR(20) DEFAULT '',Department VARCHAR(40) DEFAULT '',On_Sale VARCHAR(3000) DEFAULT '')\")\n    sqlcur.execute(\"INSERT INTO Apple_Juices (Juices) VALUES('Mango')\")\n    sqlcur.execute(\"INSERT INTO Apple_Juices(Juices,on_sale) VALUES('Pineapples dddfgd','pineaple\\ncherry')\")\n    sqlcur.execute(\"INSERT INTO Apple_Juices(Juices) VALUES('Orange')\")\n    sqlcur.execute(\"INSERT INTO Apple_Juices(Juices) VALUES('Grape')\")\n    sqlcur.execute(\"INSERT INTO Apple_Juices(Juices) VALUES('Cherry')\")\n    sqlcur.execute(\"describe Apple_Juices\")\n</code></pre>\n\n<p><b>Is it possible to print the text \"pineapple\" followed by a newline character followed by the text \"cherry\" in the same column label On_Sale?</b></p>\n"}, {"tags": ["python", "wxpython"], "answers": [{"comments": [{"owner": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 1, "creation_date": 1441841570, "post_id": 32490663, "comment_id": 52842001, "body": "If I use SetEditable(0), the problem still occurs here."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441841701, "post_id": 32490663, "comment_id": 52842035, "body": "Odd! Did you use it after registering the sizer?"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441842489, "post_id": 32490663, "comment_id": 52842223, "body": "And, your read-only control is not in a sizer anyway, it is alone. When no sizers, no auto KBD focus. I don&#39;t know why wx went for that policy, but makes some sense from the point of easier implementation. So, put all inside a sizerBox."}, {"owner": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441843664, "post_id": 32490663, "comment_id": 52842483, "body": "I&#39;m using one of the sized controls, which supposedly adds controls to the dialog&#39;s sizer whenever a child is added, so it doesn&#39;t need to be done manually."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441845781, "post_id": 32490663, "comment_id": 52842967, "body": "If this is so, check whether you have to call self.Set&quot;Something&quot;(...) in order to make the inherited sizer active. Use help() to see the <b>doc</b> string, wx is super coolly documented. Or just dump this and do it with normal dialog and introduce your sizers manually. It won&#39;t kill you, I promise."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441845942, "post_id": 32490663, "comment_id": 52843018, "body": "Perhaps the sizer within automatic sizer is a problem. This is wild guess, but try removing the button sizer. Does then stuff work as supposed? I think that my ideas are at the end, so I don&#39;t know whether I&#39;ll be able to help you. I&#39;ll do my best though."}, {"owner": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441848545, "post_id": 32490663, "comment_id": 52843588, "body": "If I get rid of the ButtonSizer, the tab order works as expected.  Maybe I should drop the buttons in their own panel?"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441887310, "post_id": 32490663, "comment_id": 52862498, "body": "Yes, try their own panel or SashLayoutWindow()."}, {"owner": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441930943, "post_id": 32490663, "comment_id": 52885993, "body": "I &quot;fixed&quot; (in inverted commas) the issue by adding the wx.TE_MULTILINE style flag and hiding the vertical scroll bar.  I&#39;m sure there is a case for filing this as a bug, or fixing it in a way which doesn&#39;t taste quite as much like a compromise, but it&#39;ll have to wait.  Thanks for the suggestions."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "edited": false, "score": 0, "creation_date": 1441936184, "post_id": 32490663, "comment_id": 52887189, "body": "Hm, why would multiline work while &quot;single line&quot; wouldn&#39;t? Really sounds like a bug. In your &quot;fix&quot; you left the button sizer in, of course?! I don&#39;t have new wxPython here, so I cannot check the wx.sized_controls code, but I&#39;ll do it when I catch the occasion."}], "tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1441841640, "last_edit_date": 1441841640, "creation_date": 1441841052, "answer_id": 32490663, "question_id": 32490303, "link": "https://stackoverflow.com/questions/32490303/read-only-wx-textctrl-not-appearing-in-tab-order-of-wx-lib-sized-controls-sizedd/32490663#32490663", "title": "Read-only wx.TextCtrl not appearing in tab order of wx.lib.sized_controls.SizedDialog", "body": "<p>I encountered that behavior before. I don't know why this is, but I solved the problem, either by using:</p>\n\n<pre><code>te = wx.TexTCtrl(...)\nte.SetEditable(0)\n</code></pre>\n\n<p>And you do not use the READ_ONLY flag. This way your control doesn't have a read only style, but it is still read only.</p>\n\n<p>Or I solved it using EVT_CHAR or some other keyboard event ton previous and last elements to  set the focus to the right element when tab is hit, or shift+tab, of course.\nI used this method mostly when not using sizers, because, well, then it doesn't matter whether it is read-only or not, Keyboard focus is not automatically processed.</p>\n\n<p>Pay attention when will you set the editable to False. Do it after registering the sizer.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6569802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07af67bbc77265c7dd64f04713fd329f?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Temm", "link": "https://stackoverflow.com/users/6569802/carter-temm"}, "is_accepted": false, "score": 0, "last_activity_date": 1555506964, "creation_date": 1555506964, "answer_id": 55728425, "question_id": 32490303, "link": "https://stackoverflow.com/questions/32490303/read-only-wx-textctrl-not-appearing-in-tab-order-of-wx-lib-sized-controls-sizedd/55728425#55728425", "title": "Read-only wx.TextCtrl not appearing in tab order of wx.lib.sized_controls.SizedDialog", "body": "<p>Old question, but figured I'd pipe in with a solution to the issue. While this still isn't fixed in wxpython 4.0.3, overwrite the AcceptsFocusFromKeyboard method of wx.TextCtrl.</p>\n\n<pre><code>control.AcceptsFocusFromKeyboard=lambda:True\n</code></pre>\n"}], "owner": {"reputation": 6967, "user_id": 1967601, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8d9746cae380a9bd857e8cc534527fc?s=128&d=identicon&r=PG", "display_name": "James Scholes", "link": "https://stackoverflow.com/users/1967601/james-scholes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555506964, "creation_date": 1441838536, "question_id": 32490303, "link": "https://stackoverflow.com/questions/32490303/read-only-wx-textctrl-not-appearing-in-tab-order-of-wx-lib-sized-controls-sizedd", "title": "Read-only wx.TextCtrl not appearing in tab order of wx.lib.sized_controls.SizedDialog", "body": "<p>I'm creating a subclass of wx.lib.sized_controls.SizedDialog containing some TextCtrls and a standard button sizer, but for some reason, any control that has the wx.TE_READONLY style flag set doesn't appear to be a part of the tab order inside the dialog. I can set focus to such a control by clicking on it or using its associated mnemonic, but as soon as I tab away from it, I can't tab back.</p>\n\n<p>The code below demonstrates the problem. First, notice that you can tab to the editable field, type some text, and it then appears in the second, which is set to be read-only. You can press Alt+N to jump keyboard focus to the read-only control, but otherwise, you cannot set focus to it using the keyboard.</p>\n\n<pre><code>import wx\nimport wx.lib.sized_controls as sc\n\nclass SampleDialog(sc.SizedDialog):\n    def __init__(self, *args, **kwargs):\n        super(SampleDialog, self).__init__(None, -1, 'A Sample Dialog', style=wx.DEFAULT_DIALOG_STYLE, *args, **kwargs)\n        self.Centre()\n        self.panel = self.GetContentsPane()\n        self.panel.SetSizerType('form')\n        self.setup_layout()\n\n    def create_field(self, label=None, text=None, read_only=True):\n        control_label = wx.StaticText(self.panel, label=label)\n        control = wx.TextCtrl(self.panel, -1, text)\n        control.SetSizerProps(expand=True)\n\n        if read_only:\n            control.SetWindowStyle(wx.TE_READONLY)\n\n        return control\n\n    def setup_layout(self):\n        self.editable_field = self.create_field('&amp;Editable field: ', '', read_only=False)\n        self.non_editable_field = self.create_field('&amp;Non-editable field: ', '', read_only=True)\n        self.editable_field.SetFocus()\n        self.editable_field.Bind(wx.EVT_TEXT, self.onTextChange)\n\n        button_sizer = self.CreateButtonSizer(wx.OK)\n        self.SetButtonSizer(button_sizer)\n\n    def onTextChange(self, event):\n        self.non_editable_field.SetValue(self.editable_field.GetValue())\n        event.Skip()\n\napp = wx.App()\nsample_dialog = SampleDialog()\nsample_dialog.ShowModal()\nsample_dialog.Destroy()\napp.MainLoop()\n</code></pre>\n\n<p>OS: Windows 7 Professional, 64-bit</p>\n\n<p>Python 2.7.10 (default, May 23 2015, 09:40:32) [MSC v.1500 32 bit\n(Intel)] on win32</p>\n\n<p>wxPython (Phoenix) 3.0.3.dev1830+0b5f910</p>\n"}, {"tags": ["javascript", "python", "firefox", "bottle"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1441840194, "post_id": 32490274, "comment_id": 52841634, "body": "It seems to work fine for me. What is the intended result?"}, {"owner": {"reputation": 1507, "user_id": 1071182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38bc63a5df81aa203a4a070230a994f2?s=128&d=identicon&r=PG", "display_name": "user1071182", "link": "https://stackoverflow.com/users/1071182/user1071182"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1441840675, "post_id": 32490274, "comment_id": 52841757, "body": "The h1 header should populate with &quot;hello&quot; if the request succeeds.  Hmmm I&#39;m running the latest firefox 40.0.3 and just updated from 39.  Not sure if that has any affect.  As I said it works in Chromium for me just fine, but not firefox.  It given an error in the console as freezing on ` xhr.open(&quot;GET&quot;, url, true);` line."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1441840909, "post_id": 32490274, "comment_id": 52841814, "body": "works in 40.0.3 (windows) and 42.0 for that matter"}, {"owner": {"reputation": 1507, "user_id": 1071182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38bc63a5df81aa203a4a070230a994f2?s=128&d=identicon&r=PG", "display_name": "user1071182", "link": "https://stackoverflow.com/users/1071182/user1071182"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1441841044, "post_id": 32490274, "comment_id": 52841847, "body": "Okay thanks for testing.  I&#39;m on ubuntu."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1441841127, "post_id": 32490274, "comment_id": 52841869, "body": "check your firefox developer tools browser console andn network tab for any clues as to what is happening"}, {"owner": {"reputation": 1507, "user_id": 1071182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38bc63a5df81aa203a4a070230a994f2?s=128&d=identicon&r=PG", "display_name": "user1071182", "link": "https://stackoverflow.com/users/1071182/user1071182"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1441841302, "post_id": 32490274, "comment_id": 52841925, "body": "Posted the problem.  Thanks for helping track it down!"}], "answers": [{"tags": [], "owner": {"reputation": 1507, "user_id": 1071182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38bc63a5df81aa203a4a070230a994f2?s=128&d=identicon&r=PG", "display_name": "user1071182", "link": "https://stackoverflow.com/users/1071182/user1071182"}, "is_accepted": true, "score": 3, "last_activity_date": 1441841283, "creation_date": 1441841283, "answer_id": 32490697, "question_id": 32490274, "link": "https://stackoverflow.com/questions/32490274/cors-request-wont-work-in-firefox-works-in-chrome-and-safari/32490697#32490697", "title": "CORS request won&#39;t work in Firefox, works in Chrome and Safari", "body": "<p>Turns out Privacy badger was blocking the request.  After I disabled it after visiting index.html it works fine.</p>\n"}], "owner": {"reputation": 1507, "user_id": 1071182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38bc63a5df81aa203a4a070230a994f2?s=128&d=identicon&r=PG", "display_name": "user1071182", "link": "https://stackoverflow.com/users/1071182/user1071182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 32490697, "answer_count": 1, "score": 0, "last_activity_date": 1441841283, "creation_date": 1441838392, "last_edit_date": 1441838919, "question_id": 32490274, "link": "https://stackoverflow.com/questions/32490274/cors-request-wont-work-in-firefox-works-in-chrome-and-safari", "title": "CORS request won&#39;t work in Firefox, works in Chrome and Safari", "body": "<p>This fiddle works fine in Chrome but not in Firefox: <a href=\"http://jsfiddle.net/u5pugnbn/\" rel=\"nofollow\">http://jsfiddle.net/u5pugnbn/</a></p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;input type=\"button\" value=\"Get Data\" onclick=\"getData()\"/&gt;\n    &lt;h1 id=\"output\"&gt;&lt;/h1&gt;\n  &lt;/body&gt;\n\n  &lt;script src =\"main.js\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>main.js</p>\n\n<pre><code>var API_URL = \"http://andr3w321.pythonanywhere.com\";\n\nfunction getData() {\n  var output = document.getElementById('output');\n  var xhr = new XMLHttpRequest();\n  var url = API_URL + \"/hello\";\n  xhr.open(\"GET\", url, true);\n  xhr.onload = function (e) {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        output.innerHTML = xhr.responseText;\n      } else {\n        output.innerHTML = \"Error: \" + xhr.statusText;\n      }\n    }\n  };\n  xhr.onerror = function (e) {\n    output.innerHTML = \"Error: \" + xhr.statusText;\n  };\n  xhr.send();\n}\n</code></pre>\n\n<p>Python bottle server file</p>\n\n<pre><code>from bottle import default_app, route, run, template, static_file, url, get, redirect, response, request\n\n# allow requests from other domains\ndef enable_cors(fn):\n    def _enable_cors(*args, **kwargs):\n        # set CORS headers\n        response.headers['Access-Control-Allow-Origin'] = '*'\n        response.headers['Access-Control-Allow-Methods'] = 'GET, POST, PUT, OPTIONS'\n        response.headers['Access-Control-Allow-Headers'] = 'Origin, Accept, Content-Type, X-Requested-With, X-CSRF-Token'\n\n        if request.method != 'OPTIONS':\n            # actual request; reply with the actual response\n            return fn(*args, **kwargs)\n\n    return _enable_cors\n\n\n@route('/hello', method=['OPTIONS', 'GET'])\n@enable_cors\ndef hello():\n    return \"hello\"\n\napplication = default_app()\n</code></pre>\n\n<p>Uploading the static index.html to a domain and changing the <code>Allow-Origin</code> from <code>*</code> to the specific domain did not seem to help.</p>\n"}, {"tags": ["python", "web-scraping", "goose", "python-newspaper"], "owner": {"reputation": 7836, "user_id": 3646408, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/307b419030c0265f697f1d5d29be439a?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Bhatia", "link": "https://stackoverflow.com/users/3646408/abhishek-bhatia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1501229017, "creation_date": 1441838391, "last_edit_date": 1501229017, "question_id": 32490273, "link": "https://stackoverflow.com/questions/32490273/how-to-extract-article-in-chinese", "title": "How to extract article in chinese", "body": "<pre><code>from newspaper import Article\nimport pdb\nfrom unidecode import unidecode\ndef get_article_newspaper(url):\n    article = Article(url,en='zh') # Chinese\n    article.download();\n    article.parse()# article.text if blank!\n    print unidecode(article.text).replace('Image caption','')\n\nurl='http://www.tyfzw.cn/?sw=774&amp;b=177%20'\nget_article_newspaper(url)\n</code></pre>\n\n<p>This seemed the most maintained so tried. Also, tried goose and boilerpipe neither work.</p>\n\n<p>Later want to translate also :</p>\n\n<pre><code>import goslate\ndef language_translate(text): #translates to language\n    gs = goslate.Goslate()\n    language_id = gs.detect('text')\n    if language_id != 'en':\n        text=gs.translate(text, 'en')\n    return text\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1422, "user_id": 489345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1721c8a9adacfe182e8bea9aec08655a?s=128&d=identicon&r=PG", "display_name": "jojonas", "link": "https://stackoverflow.com/users/489345/jojonas"}, "edited": false, "score": 0, "creation_date": 1441838623, "post_id": 32490267, "comment_id": 52841184, "body": "<code>.get</code> does not exist for list. Do you mean something like <code>try: del x[x.index(element)]; except ValueError: pass</code> ?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 1422, "user_id": 489345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1721c8a9adacfe182e8bea9aec08655a?s=128&d=identicon&r=PG", "display_name": "jojonas", "link": "https://stackoverflow.com/users/489345/jojonas"}, "edited": false, "score": 1, "creation_date": 1441838770, "post_id": 32490267, "comment_id": 52841229, "body": "@jojonas they must be dictionaries, through context you can tell they must be dictionaries"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1441839044, "post_id": 32490267, "comment_id": 52841310, "body": "do you only want to delete the id from the first list it is found in?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441839269, "post_id": 32490267, "comment_id": 52841379, "body": "@JoranBeasley I highly doubt it. What if the same id is removed twice? Does it change the operation meaning?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441839348, "post_id": 32490267, "comment_id": 52841404, "body": "I dont know, but with elif&#39;s it would only get rid of the first list (and op says this code works how he wants it to ... so) (although I suspect you are right that he wants to remove it from ALL lists with one call ...)"}], "answers": [{"comments": [{"owner": {"reputation": 1422, "user_id": 489345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1721c8a9adacfe182e8bea9aec08655a?s=128&d=identicon&r=PG", "display_name": "jojonas", "link": "https://stackoverflow.com/users/489345/jojonas"}, "edited": false, "score": 1, "creation_date": 1441838764, "post_id": 32490306, "comment_id": 52841227, "body": "Am I missing something? Which data structure has this <code>.pop(..., ...)</code> method? I tried the list in Python 2 and Python 3.4, but <code>pop() takes at most 1 argument (2 given)</code>."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 1, "creation_date": 1441838804, "post_id": 32490306, "comment_id": 52841241, "body": "this is not the same as showing OP, You can delete 5 Elements, while only in the original code is deleted one at a time"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1441838935, "last_edit_date": 1441838935, "creation_date": 1441838568, "answer_id": 32490306, "question_id": 32490267, "link": "https://stackoverflow.com/questions/32490267/how-to-reduce-repetitive-code-in-if-elif-statement/32490306#32490306", "title": "How to reduce repetitive code in if/elif statement", "body": "<pre><code>self.series.pop(platform_id,None)\nself.seasons.pop(platform_id,None)\nself.episodes.pop(platform_id,None)\nself.movies.pop(platform_id,None)\nself.bundles.pop(platform_id,None)\n</code></pre>\n\n<p>seems like it would do the same thing (or actually not quite this will delete it from all dictionaries it(the key) is present in not just, the first one it finds, your code will only delete the first instance it finds ... not sure if that is intentional)</p>\n\n<p>of coarse you could do something like</p>\n\n<pre><code>for content_type in content_types:\n    getattr(self, content_type).pop(platform_id,None)\n</code></pre>\n\n<p>if you only wanted to delete the first one you found you could do</p>\n\n<pre><code> content_dicts = [self.series,self.seasons,self.episodes,self.movies,self.bundles]\n next(x.pop(platform_id,None) for x in content_dicts if platform_id in x)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441838606, "post_id": 32490307, "comment_id": 52841176, "body": "I like this answer :)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1441838732, "post_id": 32490307, "comment_id": 52841219, "body": "The call to <code>getattr</code> is extraneous; you can iterate directly over <code>[self.series, self.seasons, self.episodes, self.movies, self.bundles]</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1441839267, "post_id": 32490307, "comment_id": 52841376, "body": "@JoseRicardoBustosM. assuming OP&#39;s original code was doing the right thing by only removing(at most) one item ... but yeah that would make it equivalent functionally"}], "tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": true, "score": 2, "last_activity_date": 1441912563, "last_edit_date": 1441912563, "creation_date": 1441838578, "answer_id": 32490307, "question_id": 32490267, "link": "https://stackoverflow.com/questions/32490267/how-to-reduce-repetitive-code-in-if-elif-statement/32490307#32490307", "title": "How to reduce repetitive code in if/elif statement", "body": "<p>One way to do it is to iterate through each <code>content_type</code> and use the <code>getattr</code> method to check if it's there:</p>\n\n<pre><code>content_types = ['series', 'seasons', 'episodes', 'movies', 'bundles']\nfor url in previous_urls:\n    for content_type in content_types:\n        if getattr(self, content_type).get(url):\n            del getattr(self, content_type)[url]\n            break\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1441839239, "post_id": 32490332, "comment_id": 52841367, "body": "I concure it is nicer to keep them in a list ... i think a dict is probably needless here (although you are right it is an improvement over the list) ... +1"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441840558, "post_id": 32490332, "comment_id": 52841733, "body": "A list comprehension <code>[dct.pop(_id, None) for dct in dicts]</code> instead of <code>map</code> would be nicer still."}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 2, "last_activity_date": 1441839096, "last_edit_date": 1441839096, "creation_date": 1441838745, "answer_id": 32490332, "question_id": 32490267, "link": "https://stackoverflow.com/questions/32490267/how-to-reduce-repetitive-code-in-if-elif-statement/32490332#32490332", "title": "How to reduce repetitive code in if/elif statement", "body": "<p>What about:</p>\n\n<pre><code>dicts = [self.series, ..., ]\nremove_id_func = lambda _id: map(lambda dct: dct.pop(_id, None), dicts)\n</code></pre>\n\n<p>Somehow keeping them in a list seems nicer, and now use it like this:</p>\n\n<pre><code>remove_id_func(some_id)\n</code></pre>\n\n<p>An even nicer thing is to keep them in a mapping:</p>\n\n<pre><code>dicts = {\n    \"series\": self.series,\n    \"movies\": self.movies,\n    ...\n}\n</code></pre>\n\n<p>And the remove function now becomes:</p>\n\n<pre><code>remove_id_func = lambda _id: map(lambda kv: kv[1].pop(_id, None), dicts.items())\n</code></pre>\n\n<p>You can use class methods with simple loops which is probably better than these one-liners which are unmaintainable.</p>\n\n<p>Note that these operations remove the element from all lists, which is what you probably want.</p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 32490307, "answer_count": 3, "score": 1, "last_activity_date": 1441912563, "creation_date": 1441838339, "question_id": 32490267, "link": "https://stackoverflow.com/questions/32490267/how-to-reduce-repetitive-code-in-if-elif-statement", "title": "How to reduce repetitive code in if/elif statement", "body": "<p>What would be a better way to do the following pattern?</p>\n\n<pre><code>for platform_id in previous_platform_ids:\n    if self.series.get(platform_id):\n        del self.series[platform_id]\n    elif self.seasons.get(platform_id):\n        del self.seasons[platform_id]\n    elif self.episodes.get(platform_id):\n        del self.episodes[platform_id]\n    elif self.movies.get(platform_id):\n        del self.movies[platform_id]\n    elif self.bundles.get(platform_id):\n        del self.bundles[platform_id]\n</code></pre>\n\n<p>Basically, I want to iterate through a bunch of ids and remove that id from the list that contains it.</p>\n"}, {"tags": ["python", "database", "shelve"], "comments": [{"owner": {"reputation": 9063, "user_id": 2118, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/558f6300806bd61b6fc860289ebe37c7?s=128&d=identicon&r=PG", "display_name": "AnnanFay", "link": "https://stackoverflow.com/users/2118/annanfay"}, "edited": false, "score": 0, "creation_date": 1565937794, "post_id": 32490127, "comment_id": 101507213, "body": "What&#39;s the exact error message with line numbers? You can edit the library code if you know which line the error originates on."}], "answers": [{"comments": [{"owner": {"reputation": 4107, "user_id": 209246, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/adb0e3938e80137f0599ac63ac1a56b4?s=128&d=identicon&r=PG", "display_name": "eqzx", "link": "https://stackoverflow.com/users/209246/eqzx"}, "edited": false, "score": 0, "creation_date": 1441893275, "post_id": 32490344, "comment_id": 52866995, "body": "I&#39;m using Python 2.7.6, but I was unable to recover any contents with this (it fails before even entering the loop body)"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 4107, "user_id": 209246, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/adb0e3938e80137f0599ac63ac1a56b4?s=128&d=identicon&r=PG", "display_name": "eqzx", "link": "https://stackoverflow.com/users/209246/eqzx"}, "edited": false, "score": 1, "creation_date": 1441907242, "post_id": 32490344, "comment_id": 52875964, "body": "Then try recovering some data with Python 3.4, which uses slightly different logic. If that also fails completely, then that suggests the damage to your file is too vast to let you recover anything much."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 3, "last_activity_date": 1441838803, "creation_date": 1441838803, "answer_id": 32490344, "question_id": 32490127, "link": "https://stackoverflow.com/questions/32490127/fix-corrupted-shelve-cache/32490344#32490344", "title": "fix corrupted shelve cache", "body": "<p>When the database file is damaged (e.g, maybe by failing to call <code>close</code> on it in the past), you probably can't recover <em>all</em> of its contents (the file format just doesn't have enough redundancy to support that).</p>\n\n<p>However, you could perhaps recover a <em>part</em> of it as follows:</p>\n\n<pre><code>recov = {}\ntry:\n    for k in x:\n        recov[k] = x[k]\nexcept Exception:\n    pass\n</code></pre>\n\n<p>It's impossible to predict how many keys (and associated values) you'll be able to recover this way, but at least by not asking for <em>all</em> keys (as I imagine you're doing with <code>x.keys()</code> -- you don't tell us which Python version you're using, but I guess it's 2.something) you might be able to recover <em>some</em> of them...</p>\n"}], "owner": {"reputation": 4107, "user_id": 209246, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/adb0e3938e80137f0599ac63ac1a56b4?s=128&d=identicon&r=PG", "display_name": "eqzx", "link": "https://stackoverflow.com/users/209246/eqzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 0, "accepted_answer_id": 32490344, "answer_count": 1, "score": 1, "last_activity_date": 1441893453, "creation_date": 1441837608, "last_edit_date": 1441893453, "question_id": 32490127, "link": "https://stackoverflow.com/questions/32490127/fix-corrupted-shelve-cache", "title": "fix corrupted shelve cache", "body": "<p>A shelve that I've created isn't allowing me to access the keys without the following failure.</p>\n\n<p><code>x = shelve.open('my_shelve.pkl')\nx.keys()</code></p>\n\n<p><code>bsddb.db.DBPageNotFoundError: (-30986, 'BDB0075 DB_PAGE_NOTFOUND: Requested page not found')</code></p>\n\n<p>However, I am able to check if the Shelf contains a key like so:</p>\n\n<p><code>'some-key' in x</code>, </p>\n\n<p>and additionally, the Shelf will return the correct data with</p>\n\n<p><code>x['some-key']</code></p>\n\n<p>I don't have the list of keys elsewhere, so I'd like to somehow retrieve the keys so I can retrieve the data, or otherwise fix the issue with the database.</p>\n\n<p>I'm using Python 2.7.6</p>\n"}, {"tags": ["python", "bitmask"], "comments": [{"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1441837993, "post_id": 32490081, "comment_id": 52840963, "body": "Have you tried <code>divmod()</code>?"}, {"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1441838367, "post_id": 32490081, "comment_id": 52841090, "body": "Dang it, you are correct @PadraicCunningham.  I was using a quick a dirty tool that didn&#39;t support numbers large enough, and it trucnated that last part with 0&#39;s. Now that i have run <code>bin = &#39;{0:064b}&#39;.format(source)</code> i see that you are correct."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441838463, "post_id": 32490081, "comment_id": 52841130, "body": "The fact <code>n</code> is odd and there was no 1 at the end did have me confused"}, {"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "edited": false, "score": 0, "creation_date": 1441838558, "post_id": 32490081, "comment_id": 52841157, "body": "I changed the source number (seemed better than changing the binary, given the answers)"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1441916218, "post_id": 32490081, "comment_id": 52880817, "body": "The <code>struct</code> documentation isn&#39;t all that bad, you just have to load your number into a string before you split it out into bytes."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1441840652, "last_edit_date": 1441840652, "creation_date": 1441838236, "answer_id": 32490243, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python/32490243#32490243", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<pre><code>bn = \"0010001111111011001000000101100010101010000101101011111000000000\"\n\nprint([int(bn[i:i+8], 2) for i in range(0,len(bn), 8)])\n[35, 251, 32, 88, 170, 22, 190, 0]\n</code></pre>\n\n<p>If you are using the binary representation of n then the output would be different:</p>\n\n<pre><code>n = 2592701575664680373\nbn = bin(n)\n\nprint([int(bn[i:i+8], 2) for i in range(0,len(bn), 8)])\n[35, 251, 32, 88, 170, 22, 189, 181]\n</code></pre>\n\n<p>Some timings:</p>\n\n<pre><code>In [16]: %%timeit                                                \nnumbers = list((n &gt;&gt; i) &amp; 0xFF for i in range(0,64,8))\nlist(reversed(numbers))\n   ....: \n100000 loops, best of 3: 2.97 \u00b5s per loop\n\nIn [17]: timeit [(n &gt;&gt; (i * 8)) &amp; 0xFF for i in range(7, -1, -1)]\n1000000 loops, best of 3: 1.73 \u00b5s per loop\n\nIn [18]: %%timeit                                                \nbn = bin(n)\n[int(bn[i:i+8], 2) for i in range(0,len(bn), 8)]\n   ....: \n100000 loops, best of 3: 3.96 \u00b5s per loop\n</code></pre>\n\n<p>You can also just divmod:</p>\n\n<pre><code>out = []\nfor _ in range(8):\n    n, i = divmod(n, 256)\n    out.append(i) \nout = out[::-1]\n</code></pre>\n\n<p>Which is almost as efficient:</p>\n\n<pre><code>In [31]: %%timeit\n   ....: n = 2592701575664680411\n   ....: out = []\n   ....: for _ in range(8):\n   ....:     n, i = divmod(n, 1 &lt;&lt; 8)\n   ....:     out.append(i)\n   ....: out[::-1]\n   ....: \n100000 loops, best of 3: 2.35 \u00b5s per loop\n</code></pre>\n\n<p>There is very little advantage in bit shifting with python, I would be more inclined to use whatever you and others find more readable. </p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1441839326, "post_id": 32490254, "comment_id": 52841393, "body": "You can also <code>[(n &gt;&gt; (i * 8)) &amp; 0xFF for i in range(7, -1, -1)]</code> and forget reversing"}, {"owner": {"reputation": 1422, "user_id": 489345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1721c8a9adacfe182e8bea9aec08655a?s=128&d=identicon&r=PG", "display_name": "jojonas", "link": "https://stackoverflow.com/users/489345/jojonas"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441840158, "post_id": 32490254, "comment_id": 52841627, "body": "For some reason, I get different timing results. I am using iPython 2.0.0 on Python 3.4.2, 32 bit. On a 64-bit Windows machine."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441840310, "post_id": 32490254, "comment_id": 52841658, "body": "There is a simple answer, you are doing nothing in the first code, you have a generator expression inside the list"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441840602, "post_id": 32490254, "comment_id": 52841746, "body": "You would still have to reverse the list, <code>[(x &gt;&gt; (i * 8)) &amp; 0xFF for i in range(7, -1, -1)]</code> gives you the  output in the correct order"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 1, "creation_date": 1441916562, "post_id": 32490254, "comment_id": 52880981, "body": "Using <code>struct</code> is about three times faster."}], "tags": [], "owner": {"reputation": 1422, "user_id": 489345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1721c8a9adacfe182e8bea9aec08655a?s=128&d=identicon&r=PG", "display_name": "jojonas", "link": "https://stackoverflow.com/users/489345/jojonas"}, "is_accepted": false, "score": 10, "last_activity_date": 1441917836, "last_edit_date": 1441917836, "creation_date": 1441838302, "answer_id": 32490254, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python/32490254#32490254", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<h1>Solution</h1>\n\n<p>Solution without converting the number to a string:</p>\n\n<pre><code>x = 0b0010001111111011001000000101100010101010000101101011111000000000\n\nnumbers = list((x &gt;&gt; i) &amp; 0xFF for i in range(0,64,8))\nprint(numbers)                    # [0, 190, 22, 170, 88, 32, 251, 35]\nprint(list(reversed(numbers)))    # [35, 251, 32, 88, 170, 22, 190, 0]\n</code></pre>\n\n<h1>Explanation</h1>\n\n<p>Here I used list comprehensions, making a loop in increments of 8 over <code>i</code>. So <code>i</code> takes the values <code>0, 8, 16, 24, 32, 40, 48, 56</code>.\nEvery time, the bitshift operator <code>&gt;&gt;</code> temporarily shifts the number <code>x</code> down by <code>i</code> bits. This is equivalent to dividing by <code>256^i</code>.</p>\n\n<p>So the resulting number is:</p>\n\n<pre><code>i = 0:   0010001111111011001000000101100010101010000101101011111000000000\ni = 8:           00100011111110110010000001011000101010100001011010111110\ni = 16:                  001000111111101100100000010110001010101000010110\ni = 24:                          0010001111111011001000000101100010101010\ni = 32:                                  00100011111110110010000001011000\ni = 40:                                          001000111111101100100000\ni = 48:                                                  0010001111111011\ni = 56:                                                          00100011\n</code></pre>\n\n<p>By usig <code>&amp; 0xFF</code>, I select the last 8 bits of this number. Example:</p>\n\n<pre><code>x &gt;&gt; 48:           001000111111101100100000\n0xff:                              11111111\n(x &gt;&gt; 48) &amp; 0xff:  000000000000000000100000\n</code></pre>\n\n<p>Since the leading zeros do not matter, you have the desired number.</p>\n\n<p>The result is converted to a list and printed in normal and reversed order (like OP wanted it).</p>\n\n<h1>Performance</h1>\n\n<p>I compared the timing of this result to the other solutions proposed in this thread:</p>\n\n<pre><code>In: timeit list(reversed([(x &gt;&gt; i) &amp; 0xFF for i in range(0,64,8)]))\n100000 loops, best of 3: 13.9 \u00b5s per loop\n\nIn: timeit [(x &gt;&gt; (i * 8)) &amp; 0xFF for i in range(7, -1, -1)]\n100000 loops, best of 3: 11.1 \u00b5s per loop\n\nIn: timeit [(x &gt;&gt; i) &amp; 0xFF for i in range(63,-1,-8)]\n100000 loops, best of 3: 10.2 \u00b5s per loop\n\nIn: timeit reversed(struct.unpack('8B', struct.pack('Q', x)))\n100000 loops, best of 3: 3.22 \u00b5s per loop\n\nIn: timeit reversed(struct.pack('Q', x))\n100000 loops, best of 3: 2.07 \u00b5s per loop\n</code></pre>\n\n<p>Result: my solution is <em>not</em> the fastest!\nCurrently, using <code>struct</code> directly (as proposed by Mark Ransom) seems to be the fastest snippet.</p>\n"}, {"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1441924039, "post_id": 32490662, "comment_id": 52884156, "body": "You can probably control the order the bytes are returned by specifying a byte order for the 64-bit integer (e.g. big-endian, with <code>&gt;</code>)."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 2, "last_activity_date": 1441915857, "last_edit_date": 1441915857, "creation_date": 1441841045, "answer_id": 32490662, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python/32490662#32490662", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<p>Here's a version using <code>struct</code>:</p>\n\n<pre><code>import struct\nn = 2592701575664680400\nbytes = struct.unpack('8B', struct.pack('Q', n))\n</code></pre>\n\n<p>The <code>bytes</code> are returned in the opposite order that you showed in your question.</p>\n\n<p>Here are the performance stats:</p>\n\n<pre><code>python -m timeit -s \"import struct\" \"struct.unpack('8B', struct.pack('Q', 2592701575664680400))\"\n1000000 loops, best of 3: 0.33 usec per loop\n</code></pre>\n\n<p>On my computer, this is three times faster than the byte-shifting solution.</p>\n"}, {"comments": [{"owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "edited": false, "score": 0, "creation_date": 1441996649, "post_id": 32505274, "comment_id": 52918212, "body": "Thank you so much for the explanation!  Not only does this solve my problem, but I feel much more confident in my ability to use the <code>struct</code> module from now on."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "edited": false, "score": 0, "creation_date": 1441999917, "post_id": 32505274, "comment_id": 52919848, "body": "@JHixson you can thank zstewart who added the entire explanation after I answered with the code."}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 8, "last_activity_date": 1441900115, "last_edit_date": 1441900115, "creation_date": 1441896893, "answer_id": 32505274, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python/32505274#32505274", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<p>In Python 2.x, <code>struct.pack</code> returns a string of bytes. It's easy to convert that to an array of integers.</p>\n\n<pre><code>&gt;&gt;&gt; bytestr = struct.pack('&gt;Q', 2592701575664680400)\n&gt;&gt;&gt; bytestr\n'#\\xfb X\\xaa\\x16\\xbd\\xd0'\n&gt;&gt;&gt; [ord(b) for b in bytestr]\n[35, 251, 32, 88, 170, 22, 189, 208]\n</code></pre>\n\n<p>The <code>struct</code> module in python is used for converting from python object to byte strings, typically packed according to C structure packing rules. <code>struct.pack</code> takes a format specifier (a string which describes how the bytes of the structure should be laid out), and some python data, and packs it into a byte string. <code>struct.unpack</code> does the inverse, taking a format specifier and a byte string and returning a tuple of unpacked data once again in the format of python objects.</p>\n\n<p>The format specifier being used has two parts. The lead character specifies the endianness (byte order) of the string. The following characters specify the types of the fields of the struct being packed or unpacked. So <code>'&gt;Q'</code> means to pack the given data as a big-endian <code>unsigned long long</code>. To get the bytes in the opposite order, you could use <code>&lt;</code> instead for little-endian.</p>\n\n<p>The final operation is a list comprehension which iterates over the characters of the byte string and uses the <code>ord</code> builtin function to get the integer representation of that character.</p>\n\n<p>Final note: Python doesn't actually have a concept of integer size. In 2.x, there is <code>int</code> which is limited to 32 bits, and <code>long</code> which is of unlimited size. In 3.x those two were unified into a single type. So even though this operation guarantees to give integers that take up only one byte, noting about python will force the resulting integers to stay that way if you use them in other operations.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13046411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d922bc8e169eba6c8ed8a0882e4809?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/13046411/marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1583945541, "last_edit_date": 1583945541, "creation_date": 1583942063, "answer_id": 60639935, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python/60639935#60639935", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<p>This seems faster for a bunch of unit64. Uses numpy.</p>\n\n<pre><code>from cytpes import *\nimport numpy as np\nl1 = c_uint64 * 512\npayload64 = l1(0)\npayload8 = np.frombuffer(payload64, dtype=np.uint8)\n</code></pre>\n\n<p>Where payload8 is an array of np.unit8 afterwards 8 times the size of payload64 and has the converterd bytes in it.</p>\n\n<p>For me it is faster than the struct variant...</p>\n\n<pre><code>for i in range(len(payload64)):\n       payload8[i*8:i*8+8] = struct.unpack('8B', struct.pack('Q', payload64[i]))\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 1836186, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jRHrr.jpg?s=128&g=1", "display_name": "JHixson", "link": "https://stackoverflow.com/users/1836186/jhixson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7136, "favorite_count": 0, "accepted_answer_id": 32505274, "answer_count": 5, "score": 13, "last_activity_date": 1583945541, "creation_date": 1441837414, "last_edit_date": 1441838521, "question_id": 32490081, "link": "https://stackoverflow.com/questions/32490081/convert-a-64-bit-integer-into-8-separate-1-byte-integers-in-python", "title": "Convert a 64 bit integer into 8 separate 1 byte integers in python", "body": "<p>In python, I have been given a 64 bit integer.  This Integer was created by taking several different 8 bit integers and mashing them together into one giant 64 bit integer.  It is my job to separate them again.</p>\n\n<p>For example: </p>\n\n<pre><code>Source number: 2592701575664680400\nBinary (64 bits): 0010001111111011001000000101100010101010000101101011111000000000\nint 1: 00100011 (35)\nint 2: 11111011 (251)\nint 3: 00100000 (32)\nint 4: 01011000 (88)\nint 5: 10101010 (170)\nint 6: 00010110 (22)\nint 7: 10111110 (190)\nint 8: 00000000 (0)\n</code></pre>\n\n<p>So what I would like to do is take my source number <code>2592701575664680373</code> and return an array of length 8, where each int in the array are the ints listed above.</p>\n\n<p>I was going to use <code>struct</code>, but to be perfectly honest, reading the <a href=\"https://docs.python.org/2/library/struct.html\">documentation</a> hasn't made it quite clear exactly how I would accomplish that.</p>\n"}, {"tags": ["python", "django", "django-forms"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1441843269, "post_id": 32490065, "comment_id": 52842381, "body": "You cannot update the database from a template unless you create a template context processor for it. This needs to be done in your view. Please post your relevent section of the urls conf and the view"}], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 4672156, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/fmHEN.jpg?s=128&g=1", "display_name": "Fuad", "link": "https://stackoverflow.com/users/4672156/fuad"}, "edited": false, "score": 0, "creation_date": 1441861419, "post_id": 32491920, "comment_id": 52846950, "body": "unfortunately, I dont have access to user2 from the view."}], "tags": [], "owner": {"reputation": 1872, "user_id": 936737, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4ceed5e8aea840f2f6375d1ecb411839?s=128&d=identicon&r=PG", "display_name": "alTus", "link": "https://stackoverflow.com/users/936737/altus"}, "is_accepted": false, "score": 0, "last_activity_date": 1441850752, "creation_date": 1441850752, "answer_id": 32491920, "question_id": 32490065, "link": "https://stackoverflow.com/questions/32490065/django-form-default-value-in-one-of-the-fields/32491920#32491920", "title": "Django Form: Default Value in one of the fields", "body": "<p>You can't set anything in templates but assume that you actually meant corresponding <code>view</code>. If so, you can set initial value for the form easily:</p>\n\n<pre><code>def profile_view(request, user_id):\n    user = User.objects.get(id=user_id)\n    form = FriendRequestForm(initial={'user2': user})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1104, "user_id": 1445681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce4c3dedbbb41607c8082f2f9aef6724?s=128&d=identicon&r=PG", "display_name": "coolharsh55", "link": "https://stackoverflow.com/users/1445681/coolharsh55"}, "is_accepted": false, "score": 0, "last_activity_date": 1441880657, "creation_date": 1441880657, "answer_id": 32499276, "question_id": 32490065, "link": "https://stackoverflow.com/questions/32490065/django-form-default-value-in-one-of-the-fields/32499276#32499276", "title": "Django Form: Default Value in one of the fields", "body": "<p>I do not know which <code>User</code> model class you are using, but I'm assuming it is django's default <code>User</code> class. In that case, you can get the currently logged in user using <code>request.user</code>, and use that to populate the template field.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># views.py\ndef foo(request):\n    user = User.objects.get(id=request.user.id)\n    # TODO: check this is a valid user\n    render(\n        request, \n        'template.html', \n        {\n            # pass this user's id as a template variable\n            # or pass the entire user object itself\n            'user1_id': user.id, \n        })\n</code></pre>\n\n<pre class=\"lang-jinja2 prettyprint-override\"><code># template.html\n&lt;div id='user1_field'&gt;{{ user1_id }}&lt;/div&gt;\n</code></pre>\n\n<p>IMHO, explicitly passing in required data is better than passing the entire <code>request</code> object in to the template like this:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from django.template import RequestContext        \ndef foo(request):\n    return render_to_response(\n        'index.html', {'form': form, }, \n        context_instance = RequestContext(request))\n</code></pre>\n"}], "owner": {"reputation": 1147, "user_id": 4672156, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/fmHEN.jpg?s=128&g=1", "display_name": "Fuad", "link": "https://stackoverflow.com/users/4672156/fuad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441894032, "creation_date": 1441837333, "last_edit_date": 1441894032, "question_id": 32490065, "link": "https://stackoverflow.com/questions/32490065/django-form-default-value-in-one-of-the-fields", "title": "Django Form: Default Value in one of the fields", "body": "<p>This is my form:</p>\n\n<pre><code>class FriendRequestForm(forms.ModelForm):\n    class Meta:\n        model = Friend\n</code></pre>\n\n<p>my model:</p>\n\n<pre><code>class Friend(models.Model):\n    user1 = models.ForeignKey(User, related_name='frienduser1')\n    user2 = models.ForeignKey(User, related_name='frienduser2')\n    date = models.DateTimeField(auto_now=True)\n    accepted = models.BooleanField(default=False)\n\n    class Meta:\n        unique_together = ('user1', 'user2',)\n</code></pre>\n\n<p>In the template, how can I set user2 to be the ID based on who's profile page I am on? So if I am user1, and I am on user2's page (where this form loads in the html), I want user2 in the form to be set properly <strong>from the html template</strong>. Thanks!</p>\n"}, {"tags": ["python", "macos", "py2app", "mach-o"], "owner": {"reputation": 307, "user_id": 5285811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26142141959bd83209ceaba6d7a23aa8?s=128&d=identicon&r=PG&f=1", "display_name": "Alizaybak", "link": "https://stackoverflow.com/users/5285811/alizaybak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1441836542, "creation_date": 1441836542, "question_id": 32489916, "link": "https://stackoverflow.com/questions/32489916/py2app-macholib-distribution-not-found", "title": "py2app &#39;macholib&#39; distribution not found", "body": "<p>I am trying to package a python 2.7, tkinter app as a mac standalone using py2app. The app runs properly in alias mode, but generates the following error after building for deployment:</p>\n\n<p>Console output: \"pkg_resources.DistributionNotFound: The 'macholib' distribution was not found and is required by the application\"</p>\n\n<p>I ran into an error earlier with macholib. The macholib could not be imported from ctypes.macholib. I fixed this by changing the import statement in <strong>boot</strong>.py to 'from macholib import dyld'.</p>\n\n<p>More information:\n - the app relies on matplotlib and matplotlib-venn\n - I copied /lib/ into myapp.app/contents/ from my anaconda directory to bypass a tcl issue\n - I signed the app from terminal using a mac development certificate and the --deep option</p>\n"}, {"tags": ["python", "json", "django", "rest", "django-rest-framework"], "comments": [{"owner": {"reputation": 39119, "user_id": 4921103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227d04c16133b97884d3f671f1ade7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Gupta", "link": "https://stackoverflow.com/users/4921103/rahul-gupta"}, "edited": false, "score": 0, "creation_date": 1441854276, "post_id": 32489833, "comment_id": 52844968, "body": "Please post code for your serializers, models and views."}], "answers": [{"comments": [{"owner": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "edited": false, "score": 0, "creation_date": 1442186728, "post_id": 32494496, "comment_id": 52966972, "body": "Assuming I follow this suggestion, which is literally good, I have to create a separate serializer, given that all event fields should be exposed. But I need to avoid making an extra API call, by the time there&#39;s an events&#39; serializer already in place"}, {"owner": {"reputation": 2719, "user_id": 4177876, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/i7xAG.jpg?s=128&g=1", "display_name": "Seenu S", "link": "https://stackoverflow.com/users/4177876/seenu-s"}, "reply_to_user": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "edited": false, "score": 0, "creation_date": 1442246637, "post_id": 32494496, "comment_id": 52993450, "body": "I didn&#39;t get it Can you be more specific?"}, {"owner": {"reputation": 2719, "user_id": 4177876, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/i7xAG.jpg?s=128&g=1", "display_name": "Seenu S", "link": "https://stackoverflow.com/users/4177876/seenu-s"}, "reply_to_user": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "edited": false, "score": 0, "creation_date": 1442247024, "post_id": 32494496, "comment_id": 52993654, "body": "@koslib To reduce the database call use <code>.filter, select_related and prefetch_related</code> in queryset."}, {"owner": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "edited": false, "score": 0, "creation_date": 1442260438, "post_id": 32494496, "comment_id": 53000906, "body": "i suppose you mean the queryset inside the equivalent api view set, right?"}, {"owner": {"reputation": 2719, "user_id": 4177876, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/i7xAG.jpg?s=128&g=1", "display_name": "Seenu S", "link": "https://stackoverflow.com/users/4177876/seenu-s"}, "reply_to_user": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "edited": false, "score": 0, "creation_date": 1442261163, "post_id": 32494496, "comment_id": 53001247, "body": "@koslib I meant about the queryset inside the api views"}], "tags": [], "owner": {"reputation": 2719, "user_id": 4177876, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/i7xAG.jpg?s=128&g=1", "display_name": "Seenu S", "link": "https://stackoverflow.com/users/4177876/seenu-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1442255157, "last_edit_date": 1442255157, "creation_date": 1441865874, "answer_id": 32494496, "question_id": 32489833, "link": "https://stackoverflow.com/questions/32489833/sort-django-rest-framework-json-output/32494496#32494496", "title": "Sort Django Rest Framework JSON Output", "body": "<p>You can use SerializerMethodField and provide custom serialization logic there:</p>\n\n<pre><code>class EventSerializer(serializers.Serializer):\n    events = serializers.SerializerMethodField(source=\"get_events\")\n\n    def get_events(self, events):\n        event_list = {}\n        return [event_list[e.type].add({e}) if event.type in event_list else event_list[event.type] = [] for event in events]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3255, "user_id": 3335674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b75676e8e570489c0de1c57781158e?s=128&d=identicon&r=PG&f=1", "display_name": "jocassid", "link": "https://stackoverflow.com/users/3335674/jocassid"}, "is_accepted": false, "score": 0, "last_activity_date": 1609353233, "creation_date": 1609353233, "answer_id": 65511901, "question_id": 32489833, "link": "https://stackoverflow.com/questions/32489833/sort-django-rest-framework-json-output/65511901#65511901", "title": "Sort Django Rest Framework JSON Output", "body": "<p>I had a model similar to the following:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class Book(models.Model):\n    title = models.CharField(max_length=200)\n\nclass Author(models.Model):\n    name = models.CharField(max_length=200)\n    books = models.ManyToManyField(Book)\n</code></pre>\n<p>The JSON that was being generated for an <code>Author</code> looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;Sir Arthur C. Clarke&quot;,\n  &quot;books&quot;: [\n    {\n      &quot;title&quot;: &quot;Rendezvous with Rama&quot;,\n    },\n    {\n      &quot;title&quot;: &quot;Childhood's End&quot;,\n    }\n  ]\n}\n</code></pre>\n<p>In the JSON wanted the books to be sorted by title.  Since the books are pulled into the queryset via a <code>prefetch_related</code> adding an <code>order_by</code> to the View's queryset had no effect (generated SQL didn't have a join to the Books table).  The solution I came up with was to override the <code>get</code> method.  In my version of the <code>get</code> method, I have the super class generate the <code>Response</code> and I modify it's data (a Python <code>dict</code>) before returning it as shown below.</p>\n<p>I'm not too worried about performance for two reasons:</p>\n<ol>\n<li>because of the <code>prefetch_related</code> the join is already being done in Python rather than in the database</li>\n<li>In my case the number of <code>Book</code>s per <code>Author</code> is relatively small</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>class AuthorView(RetrieveUpdateAPIView):\n\n    queryset = Author.objects.prefetch_related(\n        'books',\n    )\n    serializer_class = AuthorSerializer\n\n    def get(self, request, *args, **kwargs):\n        response = super().get(request, *args, **kwargs)\n\n        def key_func(book_json):\n            return book_json.get('title', '')\n\n        books = response.data.get('books', [])\n        books = sorted(books, key=key_func)\n        response.data['books'] = books\n\n        return response\n</code></pre>\n"}], "owner": {"reputation": 884, "user_id": 1344526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oeUcE.jpg?s=128&g=1", "display_name": "Kostas Livieratos", "link": "https://stackoverflow.com/users/1344526/kostas-livieratos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609353233, "creation_date": 1441836112, "last_edit_date": 1609351931, "question_id": 32489833, "link": "https://stackoverflow.com/questions/32489833/sort-django-rest-framework-json-output", "title": "Sort Django Rest Framework JSON Output", "body": "<p>I've been developing a web app on top of Django and I use the Django Rest Framework for my API. There's a model class named Events and my EventsSerializer in DRF is a pretty common serializer without any special configuration. It just dumps data returned by the EventManager.</p>\n\n<p>There is a field \"type\" in the Event model class.\nMy json returned now is:</p>\n\n<pre><code>{\n    events: [\n      {object1},\n      {object2},\n      .....\n    ]\n}\n</code></pre>\n\n<p>, as anything dumped in a DRF api and returned by django.</p>\n\n<p>For some reason, I need my events objects returned categorized by the \"type\" field. For example, I need to get this:</p>\n\n<pre><code>{\n    events: [\n        type1: [{object1}, {object2},...],\n        type2: [{object3}, {object4}, ...],\n        .......\n    ]\n}\n</code></pre>\n\n<p>I have literally searched anything related to that but couldn't find a proper solution. Do you have anything to suggest about that?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "lmdb"], "comments": [{"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 2, "creation_date": 1441835925, "post_id": 32489778, "comment_id": 52840189, "body": "I spotted an extra parenthesis there."}], "answers": [{"comments": [{"owner": {"reputation": 1418, "user_id": 345600, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be5ec0e2892d98651a34357ba8cd09ed?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/345600/doug"}, "edited": false, "score": 0, "creation_date": 1441837008, "post_id": 32489857, "comment_id": 52840628, "body": "No.  I&#39;m aware of the documentation page.  I want to know how to get the total number of keys without enumerating them individually.  I would also like to know the best (fastest) way to enumerate all the key value pairs.  The method you mentioned seems to take quite a while for me, but it could have something to do with the size of my db (about 1m entries)."}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "reply_to_user": {"reputation": 1418, "user_id": 345600, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be5ec0e2892d98651a34357ba8cd09ed?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/345600/doug"}, "edited": false, "score": 0, "creation_date": 1441837846, "post_id": 32489857, "comment_id": 52840907, "body": "@Doug I updated my answer to get the list of keys, by iterating the cursor. There might be a faster way though."}, {"owner": {"reputation": 388, "user_id": 2127561, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gZ8h6.jpg?s=128&g=1", "display_name": "Rakshit Kothari", "link": "https://stackoverflow.com/users/2127561/rakshit-kothari"}, "edited": false, "score": 0, "creation_date": 1599926544, "post_id": 32489857, "comment_id": 112929599, "body": "Apart from the fact that it would take a long time to iterate through the keys, are there any other disadvantages to reading a list of keys?"}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 6, "last_activity_date": 1461097107, "last_edit_date": 1461097107, "creation_date": 1441836210, "answer_id": 32489857, "question_id": 32489778, "link": "https://stackoverflow.com/questions/32489778/how-do-i-count-and-enumerate-the-keys-in-an-lmdb-with-python/32489857#32489857", "title": "How do I count and enumerate the keys in an lmdb with python?", "body": "<p>Are you looking for something like <a href=\"https://lmdb.readthedocs.org/en/release/#resource-management\" rel=\"nofollow\"><code>this</code></a>:</p>\n\n<pre><code>with env.begin() as txn:\n    with txn.cursor() as curs:\n        # do stuff\n        print 'key is:', curs.get('key')\n</code></pre>\n\n<h2>Update:</h2>\n\n<p>This may not be the <em>fastest</em>:</p>\n\n<pre><code>with env.begin() as txn:\n   myList = [ key for key, _ in txn.cursor() ]\n   print(myList)\n</code></pre>\n\n<p><strong>Disclaimer:</strong> I don't know anything about the library, just searched its docs and searched for <code>key</code> in the docs.</p>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 6253353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rd3eU.png?s=128&g=1", "display_name": "sytrus", "link": "https://stackoverflow.com/users/6253353/sytrus"}, "is_accepted": true, "score": 13, "last_activity_date": 1462320940, "last_edit_date": 1462320940, "creation_date": 1462319314, "answer_id": 37016188, "question_id": 32489778, "link": "https://stackoverflow.com/questions/32489778/how-do-i-count-and-enumerate-the-keys-in-an-lmdb-with-python/37016188#37016188", "title": "How do I count and enumerate the keys in an lmdb with python?", "body": "<p>A way to get the total number of keys without enumerating them individually, counting also all sub databases:</p>\n\n<pre><code>with env.begin() as txn:\n    length = txn.stat()['entries']\n</code></pre>\n\n<p>Test result with a hand-made database of size 1000000 on my laptop:</p>\n\n<ul>\n<li>the method above is instantaneous (0.0 s) </li>\n<li>the iteration method takes about 1 second.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 3927170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9jB7.jpg?s=128&g=1", "display_name": "critop", "link": "https://stackoverflow.com/users/3927170/critop"}, "is_accepted": false, "score": 1, "last_activity_date": 1610355531, "creation_date": 1610355531, "answer_id": 65663873, "question_id": 32489778, "link": "https://stackoverflow.com/questions/32489778/how-do-i-count-and-enumerate-the-keys-in-an-lmdb-with-python/65663873#65663873", "title": "How do I count and enumerate the keys in an lmdb with python?", "body": "<p>As Sait pointed out, you can iterate over a cursor to collect all keys. However, this may be a bit inefficient, as it would also load the values. This can be avoided, by using on the <code>cursor.iternext()</code> function with <code>values=False</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>with env.begin() as txn:\n  keys = list(txn.cursor().iternext(values=False))\n</code></pre>\n<p>I did a short benchmark between both methods for a DB with 2**20 entries, each with a 16 B key and 1024 B value.</p>\n<p>Retrieving keys by iterating over the cursor (including values) took <strong>874 ms</strong> in average for 7 runs, while the second method, where only the keys are returned took <strong>517 ms</strong>. These results may differ depending on the average size of keys and values.</p>\n"}], "owner": {"reputation": 1418, "user_id": 345600, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be5ec0e2892d98651a34357ba8cd09ed?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/345600/doug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8477, "favorite_count": 2, "accepted_answer_id": 37016188, "answer_count": 3, "score": 12, "last_activity_date": 1610355531, "creation_date": 1441835743, "last_edit_date": 1441835984, "question_id": 32489778, "link": "https://stackoverflow.com/questions/32489778/how-do-i-count-and-enumerate-the-keys-in-an-lmdb-with-python", "title": "How do I count and enumerate the keys in an lmdb with python?", "body": "<pre><code>import lmdb\nenv = lmdb.open(path_to_lmdb)\n</code></pre>\n\n<p>Now I seem to need to create a transaction and a cursor, but how do I get a list of keys that I can iterate over?</p>\n"}, {"tags": ["python", "subprocess", "python-2.6"], "comments": [{"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 5, "creation_date": 1441835634, "post_id": 32489749, "comment_id": 52840085, "body": "Don&#39;t parse <code>ls</code>.  Ever.  Just use <code>os.path</code> and friends."}, {"owner": {"reputation": 849, "user_id": 2674572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ac98e0d627ba6399371ceea60fa7225?s=128&d=identicon&r=PG", "display_name": "or1426", "link": "https://stackoverflow.com/users/2674572/or1426"}, "edited": false, "score": 1, "creation_date": 1441836015, "post_id": 32489749, "comment_id": 52840232, "body": "Seconding what Kevin said. The correct way to do this is with <code>os.listdir</code> and (possibly) <code>os.isfile</code>."}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1441836786, "post_id": 32489749, "comment_id": 52840534, "body": "Thanks gentlemen, so subprocess seems fairly irrelevant unless you need  to use the <code>Popen</code> functionality..."}], "answers": [{"tags": [], "owner": {"reputation": 1185, "user_id": 1645870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed3a8f933cd2db54b688e34a3818bec?s=128&d=identicon&r=PG", "display_name": "Mikhail Karavashkin", "link": "https://stackoverflow.com/users/1645870/mikhail-karavashkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1441984545, "last_edit_date": 1441984545, "creation_date": 1441837124, "answer_id": 32490022, "question_id": 32489749, "link": "https://stackoverflow.com/questions/32489749/capturing-stdout-to-then-reconcile-on-the-file-names/32490022#32490022", "title": "Capturing STDOUT to then reconcile on the file names", "body": "<p>To parse <strong>ls</strong> output is not the best solution here. You can surely do that parsing <a href=\"https://docs.python.org/2/library/subprocess.html?highlight=subprocess.check_output#subprocess.check_output\" rel=\"nofollow\">subprocess.check_output</a> result or in any other way, but let me give you an advice.</p>\n\n<p>It is a good criterion of something going wrong if you find yourself parsing someone's output or logs to solve a standard problem, please consider other solutions, like offered below:</p>\n\n<p>If the only thing you want is to see the contents of the directory use <a href=\"https://docs.python.org/2/library/os.html#os.listdir\" rel=\"nofollow\">os.listdir</a> like:</p>\n\n<pre><code>my_home_files = os.listdir(os.path.expanduser('~/my_dir')) # surely it's cross-platform\n</code></pre>\n\n<p>now you have a list of files in your <strong>my_home_files</strong> variable.\nYou can filter them in the way you want or use <a href=\"https://docs.python.org/2/library/glob.html?highlight=glob.glob#glob.glob\" rel=\"nofollow\">glob.glob</a> to use metacharacters like that:</p>\n\n<pre><code>glob.glob(\"/home/me/handshake-*.txt\") # will output everything matching the expression \n# (say you have ids in your filenames).\n</code></pre>\n\n<p>After that you may want to check some stats of the file (like the date of last access etc.) \nconsider using <a href=\"https://docs.python.org/2/library/os.html#os.stat\" rel=\"nofollow\">os.stat</a>:</p>\n\n<pre><code>os.stat(my_home_files[0]) # outputs stats of the first\n# posix.stat_result(st_mode=33104, st_ino=140378115, st_dev=3306L, st_nlink=1, st_uid=23449, st_gid=59216, st_size=1442, st_atime=1421834474, st_mtime=1441831745, st_ctime=1441234474)\n# see os.stat linked above to understand how to parse it\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 32490022, "answer_count": 1, "score": 1, "last_activity_date": 1441984545, "creation_date": 1441835562, "question_id": 32489749, "link": "https://stackoverflow.com/questions/32489749/capturing-stdout-to-then-reconcile-on-the-file-names", "title": "Capturing STDOUT to then reconcile on the file names", "body": "<p>I've been struggling with this problem for a bit, I am trying to create a program that will create a <code>datetime</code> object based on the current date and time, create a second such object from our file data, find the difference between the two, and if it is greater than 10 minutes search for a \"handshake file\", which is a file we receive back when our file has successfully loaded.  If we don't find that file, I want to kick out an error email.  </p>\n\n<p>My problem lies in being able to capture the result of my <code>ls</code> command in a meaningful way where I would be able to parse through it and see if the correct file exists.  Here is my code:</p>\n\n<pre><code>\"\"\"\nThis module will check the handshake files sent by Pivot based on the following conventions:\n- First handshake file (loaded to the CFL, *auditv2*): Check every half-hour\n- Second handshake file (proofs are loaded and available, *handshake*): Check every 2 hours\n\"\"\"\nimport smtplib\nfrom email.mime.text import MIMEText\nfrom datetime import datetime, timedelta\nfrom csv import DictReader\nfrom subprocess import *\nfrom os import chdir\nfrom glob import glob\n\n\ndef main():\n    audit_in = '/prod/bcs/lgnp/clientapp/csvbill/audit_process/lgnp.smr.csv0000.audit.qty'\n    with open(audit_in, 'rbU') as audit_qty:    \n        my_audit_reader = DictReader(audit_qty, delimiter=';', restkey='ignored')\n        my_audit_reader.fieldnames = (\"Property Code\",\n                                      \"Pivot ID\", \n                                      \"Inwork File\", \n                                      \"Billing Manager E-mail\", \n                                      \"Total Records\", \n                                      \"Number of E-Bills\", \n                                      \"Printed Records\", \n                                      \"File Date\", \n                                      \"Hour\", \n                                      \"Minute\", \n                                      \"Status\")\n\n        # Get current time to reconcile against\n        now = datetime.now()\n\n        # Change internal directory to location of handshakes\n        chdir('/prod/bcs/lgnp/input')   \n\n        for line in my_audit_reader:\n            piv_id = line['Pivot ID']\n            status = line['Status']\n            file_date = datetime(int(line['File Date'][:4]),\n                                 int(line['File Date'][4:6]),\n                                 int(line['File Date'][6:8]),\n                                 int(line['Hour']),\n                                 int(line['Minute']))\n            # print(file_date)\n            if status == 's':\n                diff = now - file_date\n                print diff\n                print piv_id\n                if 10 &lt; (diff.seconds / 60) &lt; 30:\n                    proc = Popen('ls -lh *{0}*'.format(status),\n                                 shell=True) # figure out how to get output\n\n                    print proc\n\n\n\n\ndef send_email(recipient_list):\n    msg = MIMEText('Insert message here')\n    msg['Subject'] = 'Alert!! Handshake files missing!'\n    msg['From'] = r'xxx@xxx.com'\n    msg['To'] = recipient_list\n\n    s = smtplib.SMTP(r'xxx.xxx.xxx')\n    s.sendmail(msg['From'], msg['To'], msg.as_string())\n    s.quit()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 0, "creation_date": 1441835830, "post_id": 32489735, "comment_id": 52840149, "body": "read up on pandas&#39; <code>groupby</code> method"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1441837383, "creation_date": 1441837383, "answer_id": 32490074, "question_id": 32489735, "link": "https://stackoverflow.com/questions/32489735/percentage-change-with-pandas/32490074#32490074", "title": "Percentage change with pandas", "body": "<p>You basically want to do a pivot table. An easy way to do this is by setting your index to quarter and status and then unstacking status:</p>\n\n<pre><code>df = df[df['quarter'].isin(['2014-1','2014-2'])]\ndf_qtr = df.set_index(['quarter', 'status']).unstack('status')\n&gt;&gt;&gt; df_qtr\n         median      \nstatus       BV  CORR\nquarter              \n2014-1      240   300\n2014-2      300   240\n</code></pre>\n\n<p>No you can easily get the percent change:</p>\n\n<pre><code>&gt;&gt;&gt; df_qtr.pct_change()\n         median      \nstatus       BV  CORR\nquarter              \n2014-1      NaN   NaN\n2014-2     0.25  -0.2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": true, "score": 3, "last_activity_date": 1441837543, "creation_date": 1441837543, "answer_id": 32490114, "question_id": 32489735, "link": "https://stackoverflow.com/questions/32489735/percentage-change-with-pandas/32490114#32490114", "title": "Percentage change with pandas", "body": "<p>A simple <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow\"><code>pandas.DataFrame.query</code></a> might suit your needs. In your test data it won't matter, but you will also want to insure the status's are sorted</p>\n\n<pre><code>df.sort( 'status', inplace=True)\ndf['change'] = df['median'].pct_change()\n#   median quarter status  change\n#0     240  2014-1     BV     NaN\n#1     300  2014-2     BV    0.25\n#2     300  2014-1   CORR    0.00\n#3     240  2014-2   CORR   -0.20\n\ndf.query( 'quarter==\"2014-2\"')\n#   median quarter status  change\n#1     300  2014-2     BV    0.25\n#3     240  2014-2   CORR   -0.20\n</code></pre>\n"}], "owner": {"reputation": 5836, "user_id": 1813039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d3c8f57043ddb2a46f4ffd3ac4121a9b?s=128&d=identicon&r=PG", "display_name": "Amistad", "link": "https://stackoverflow.com/users/1813039/amistad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "accepted_answer_id": 32490114, "answer_count": 2, "score": 1, "last_activity_date": 1441837543, "creation_date": 1441835508, "last_edit_date": 1441835812, "question_id": 32489735, "link": "https://stackoverflow.com/questions/32489735/percentage-change-with-pandas", "title": "Percentage change with pandas", "body": "<p>I have a simple data frame as follows:</p>\n\n<pre><code>&gt;&gt;&gt; df\n   median quarter status\n0     240  2014-1     BV\n1     300  2014-2     BV\n2     240  2014-3     BV\n3     450  2014-4     BV \n4     300  2014-1   CORR\n5     240  2014-2   CORR\n6     300  2014-3   CORR\n7     420  2014-4   CORR\n</code></pre>\n\n<p>Now,I want to filter values only for the first 2 quarters in a year.So i do this :</p>\n\n<pre><code>&gt;&gt;&gt; df[df['quarter'].isin(['2014-1','2014-2'])]\n    median quarter status\n0     240  2014-1     BV\n1     300  2014-2     BV\n4     300  2014-1   CORR\n5     240  2014-2   CORR\n</code></pre>\n\n<p>Now I want to find the percentage change between the median values of the 2 quarters so I do this :</p>\n\n<pre><code>&gt;&gt;&gt; df['median'].pct_change()\n0     NaN\n1    0.25\n2    0.00\n3   -0.20\nName: median, dtype: float64\n</code></pre>\n\n<p>However,what I actually need is just the percentage change between the 2 quarters along with the status like this:</p>\n\n<pre><code>&gt;&gt;&gt; df\n    pc_change status\n0   25        BV\n1   -20       CORR\n</code></pre>\n\n<p>How do i do that ?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3369, "user_id": 2962794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/TJUJh.png?s=128&g=1", "display_name": "Br\u014dtsyorfuzthr\u0101x", "link": "https://stackoverflow.com/users/2962794/br%c5%8dtsyorfuzthr%c4%81x"}, "edited": false, "score": 0, "creation_date": 1441837724, "post_id": 32489724, "comment_id": 52840869, "body": "Would you consider making a new text parser to replace the line-by-line one? If it&#39;s not a terribly complicated one, I might recommend it. Where are you getting that text parser from, anyway?"}, {"owner": {"reputation": 179, "user_id": 5179180, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/20dbd0e5459e31b04939d27ca423ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Riekeberg", "link": "https://stackoverflow.com/users/5179180/eli-riekeberg"}, "reply_to_user": {"reputation": 3369, "user_id": 2962794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/TJUJh.png?s=128&g=1", "display_name": "Br\u014dtsyorfuzthr\u0101x", "link": "https://stackoverflow.com/users/2962794/br%c5%8dtsyorfuzthr%c4%81x"}, "edited": false, "score": 1, "creation_date": 1441838323, "post_id": 32489724, "comment_id": 52841073, "body": "I&#39;m using the re module of python and building it from scratch. Im pretty new to this, so I guess I&#39;m looking for an approach where I wont have to make an intermediate text file and write a different script to work with the intermediate file. I&#39;m basically trying to strip out a lot of useless text in between and can&#39;t find a good way to deal with it selectively."}], "answers": [{"tags": [], "owner": {"reputation": 3369, "user_id": 2962794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/TJUJh.png?s=128&g=1", "display_name": "Br\u014dtsyorfuzthr\u0101x", "link": "https://stackoverflow.com/users/2962794/br%c5%8dtsyorfuzthr%c4%81x"}, "is_accepted": false, "score": 1, "last_activity_date": 1441839676, "last_edit_date": 1495541177, "creation_date": 1441838304, "answer_id": 32490256, "question_id": 32489724, "link": "https://stackoverflow.com/questions/32489724/stop-condition-for-python-text-parser/32490256#32490256", "title": "Stop Condition for Python Text Parser", "body": "<p>I would change your first parser. Instead of doing line by line comparisons how it sounds like you are now, you could do something similar:</p>\n\n<p>Load the whole file into a string. Then, use the split method to turn it into a list. Then you can loop over the list and perform operations on different elements of the list, including on future elements of the list, which are like lines of the text file (although you probably shouldn't delete any elements of the list). Anyway, you can then join it back into a string and save the file.</p>\n\n<pre><code>result=None\nwith open(\"myFile.txt\", \"rb\") as FILE: #This is for Python 3.x; for Python 2.x do \"r\" instead of \"rb\"\n    result=FILE.read()\n\nresult_list=result.split(\"\\n\")\n\ni=0\n\nwhile i&lt;len(result_list):\n    #Perform your actions here and do result_list[i+1] to get the next line\n    i+=1\n\nresult=\"\\n\".join(result_list)\n\nwith open(\"myFile.txt\", \"w\") as FILE:\n    FILE.write(result)\n</code></pre>\n\n<p>EDIT: The following question/answer might also help you: <a href=\"https://stackoverflow.com/questions/2081836/reading-specific-lines-only-python\">Reading specific lines only (Python)</a></p>\n"}], "owner": {"reputation": 179, "user_id": 5179180, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/20dbd0e5459e31b04939d27ca423ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Riekeberg", "link": "https://stackoverflow.com/users/5179180/eli-riekeberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441839676, "creation_date": 1441835467, "last_edit_date": 1441835958, "question_id": 32489724, "link": "https://stackoverflow.com/questions/32489724/stop-condition-for-python-text-parser", "title": "Stop Condition for Python Text Parser", "body": "<p>I have a text file that is roughly in this form:</p>\n\n<pre><code>a\n  ab\n    x: 1 2 3 4 5 6 \na\n  ab\n    x: 1 4 6 8 243 8 2\n</code></pre>\n\n<p>That contains thousands of similar style entries per file. I need to strip the numbers out of x into a list in python.</p>\n\n<p>I currently have a text parser that creates a list of the line numbers where x appears, but the parser I have works on the fly, not line by line. Is there a way I can perform an action on the following line of the file without actually being there yet? (IE, my code is executed on line 1, checks that it meets the condition and if so performs an action on line 2 before it continues to check other line conditions.)</p>\n\n<p>All of the numbers are space separated, on a single line with x.</p>\n"}, {"tags": ["python", "csv", "python-3.x"], "comments": [{"owner": {"reputation": 849, "user_id": 2674572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ac98e0d627ba6399371ceea60fa7225?s=128&d=identicon&r=PG", "display_name": "or1426", "link": "https://stackoverflow.com/users/2674572/or1426"}, "edited": false, "score": 1, "creation_date": 1441835636, "post_id": 32489686, "comment_id": 52840086, "body": "It would probably help if you post the relevant parts of the code you&#39;re using. A reasonably small <i>runnable</i> example is generally requested so a section of the csv file would be handy as well."}, {"owner": {"reputation": 1465, "user_id": 4403257, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh4.googleusercontent.com/-XSHOss9luI4/AAAAAAAAAAI/AAAAAAAAADY/iPL641wt7TQ/photo.jpg?sz=128", "display_name": "Jimmy Gong", "link": "https://stackoverflow.com/users/4403257/jimmy-gong"}, "reply_to_user": {"reputation": 849, "user_id": 2674572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ac98e0d627ba6399371ceea60fa7225?s=128&d=identicon&r=PG", "display_name": "or1426", "link": "https://stackoverflow.com/users/2674572/or1426"}, "edited": false, "score": 0, "creation_date": 1441835907, "post_id": 32489686, "comment_id": 52840181, "body": "Good tip, added some code"}, {"owner": {"reputation": 849, "user_id": 2674572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ac98e0d627ba6399371ceea60fa7225?s=128&d=identicon&r=PG", "display_name": "or1426", "link": "https://stackoverflow.com/users/2674572/or1426"}, "edited": false, "score": 0, "creation_date": 1441837299, "post_id": 32489686, "comment_id": 52840717, "body": "I think the best option is your clunky one of replacing the <code>&quot; &quot;</code> values with <code>None</code> manually. If you like you could create a subclass of <code>csv.Reader</code> which handles this behind the scenes but you&#39;ll be doing the same thing whether you hide it or not. I don&#39;t really think this advice is worth putting in an answer. Hopefully someone else can help more!"}], "answers": [{"tags": [], "owner": {"reputation": 1465, "user_id": 4403257, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh4.googleusercontent.com/-XSHOss9luI4/AAAAAAAAAAI/AAAAAAAAADY/iPL641wt7TQ/photo.jpg?sz=128", "display_name": "Jimmy Gong", "link": "https://stackoverflow.com/users/4403257/jimmy-gong"}, "is_accepted": false, "score": 0, "last_activity_date": 1441907037, "creation_date": 1441907037, "answer_id": 32508476, "question_id": 32489686, "link": "https://stackoverflow.com/questions/32489686/how-to-sanitize-csv-input-with-one-space-strings/32508476#32508476", "title": "How to sanitize CSV input with one-space strings?", "body": "<p>Never figured out a way to deal configure DictReader to do this for me, but in the meantime, I did wind up just manually sanitizing each row with this helper function:</p>\n\n<pre><code>def __sanitize__(row):\n  for key, value in row.items():\n    if value in ('', ' '):\n      row[key] = None\n  return row\n</code></pre>\n\n<p>Still hope someone can come along with a sexier answer!</p>\n"}], "owner": {"reputation": 1465, "user_id": 4403257, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh4.googleusercontent.com/-XSHOss9luI4/AAAAAAAAAAI/AAAAAAAAADY/iPL641wt7TQ/photo.jpg?sz=128", "display_name": "Jimmy Gong", "link": "https://stackoverflow.com/users/4403257/jimmy-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 771, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1441907037, "creation_date": 1441835261, "last_edit_date": 1441835651, "question_id": 32489686, "link": "https://stackoverflow.com/questions/32489686/how-to-sanitize-csv-input-with-one-space-strings", "title": "How to sanitize CSV input with one-space strings?", "body": "<p>So here's the situation:</p>\n\n<ul>\n<li><p>I'm reading CSV files where the majority of the time, empty cells are just empty strings. Some files that come in the same set, for whatever reason, have one-space strings in 'empty cells' instead of empty strings.</p></li>\n<li><p>I'm using <code>csv</code>'s DictReader to read from these files (with ',' as the delimiter) and it will automatically convert empty strings to <code>None</code> type values prior to my inserting them into a PostgreSQL db. </p></li>\n<li><p>I tried registering a Dialect object that set <code>skipinitialspace=True</code>, but now they remain empty strings which, unlike <code>None</code>, is still an invalid input for SQL table columns that I have set to integer values (so I'm guessing DictReader converts empty strings to <code>None</code> prior to removing the leading whitespace).</p></li>\n</ul>\n\n<p>How can I get around this?</p>\n\n<p>Disclaimer: I could reach a solution by just converting all the one-space-strings to <code>None</code> types myself after I have read the values and have the row's dict from DictReader, but it seems clunky and I'd prefer a more elegant solution if possible.</p>\n\n<p><strong>Example normal csv</strong></p>\n\n<pre><code>foo_id,foo_text,foo_value\n1,'hello',4\n3,,2\n</code></pre>\n\n<p><strong>Example problem csv</strong></p>\n\n<pre><code>bar_id,bar_text,bar_value\n1,'hello',4\n3, ,2\n</code></pre>\n\n<p><strong>Example csv read script</strong></p>\n\n<pre><code>with open('foo.txt') as csv_file:\n    csv.register_dialect('example_dialect', delimiter=',', skipinitialspace=True)\n    gtfsreader = DictReader(csv_file, dialect='example_dialect')\n    for row in gtfsreader:\n        print(row)\n</code></pre>\n"}, {"tags": ["python", "django", "pytz"], "comments": [{"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 1, "creation_date": 1441835087, "post_id": 32489619, "comment_id": 52839877, "body": "What if your user lives in Chicago but speaks Spanish?"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1441836015, "post_id": 32489619, "comment_id": 52840233, "body": "That&#39;s OK. I will give him an option to choose. But how to set default one?"}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1441901478, "post_id": 32494570, "comment_id": 52872751, "body": "what is the license? If it is liberal enough, consider proposing a patch for <code>pytz</code> and/or add <code>setup.py</code> and publish on PyPI."}, {"owner": {"reputation": 484, "user_id": 616882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92Xu9.jpg?s=128&g=1", "display_name": "georgeofallages", "link": "https://stackoverflow.com/users/616882/georgeofallages"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1441921281, "post_id": 32494570, "comment_id": 52883133, "body": "Thanks for the suggestion J.F. -- my stuff is as liberal as it gets, but given that I&#39;d have to dig into where the geonames data came from before I unleashed this to the world I&#39;ll have to do some investigation."}], "tags": [], "owner": {"reputation": 484, "user_id": 616882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92Xu9.jpg?s=128&g=1", "display_name": "georgeofallages", "link": "https://stackoverflow.com/users/616882/georgeofallages"}, "is_accepted": true, "score": 2, "last_activity_date": 1441866196, "creation_date": 1441866196, "answer_id": 32494570, "question_id": 32489619, "link": "https://stackoverflow.com/questions/32489619/get-locale-from-timezone-python-django-pytz/32494570#32494570", "title": "Get locale from timezone -python, django, pytz", "body": "<p>pytz.country_timezones is your friend.</p>\n\n<p>You can find a list of languages by country here:\n<a href=\"http://download.geonames.org/export/dump/countryInfo.txt\" rel=\"nofollow\">http://download.geonames.org/export/dump/countryInfo.txt</a></p>\n\n<p>You can use the country_timezones to map the django \"America/Chicago\" style timzeones to a country code, and then map the country code to the list of languages from geonames. </p>\n\n<p>If this seems like a pain, I've done it for you.\n<a href=\"https://github.com/georgemitchell/stackoverflow/tree/master/timezone_to_locale\" rel=\"nofollow\">https://github.com/georgemitchell/stackoverflow/tree/master/timezone_to_locale</a></p>\n\n<p>Look at timezone_to_locale.py for details.</p>\n\n<pre><code>&gt;&gt;&gt; from timezone_to_locale import locale_by_timezone\n&gt;&gt;&gt; locale_by_timezone[\"America/Chicago\"]\n['en-US', 'es-US', 'haw', 'fr']\n</code></pre>\n\n<p>As you can see, it even handles the dilemma that Kevin raised.  </p>\n"}], "owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 32494570, "answer_count": 1, "score": 4, "last_activity_date": 1441866196, "creation_date": 1441834874, "question_id": 32489619, "link": "https://stackoverflow.com/questions/32489619/get-locale-from-timezone-python-django-pytz", "title": "Get locale from timezone -python, django, pytz", "body": "<p>Is it possible to get locale from timezone?</p>\n\n<p>Like 'en-US' from timezone 'America/Chicago'.</p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1441834897, "post_id": 32489601, "comment_id": 52839796, "body": "Its mostly print statements.  Use a templating language.  Both JS and Python support several."}, {"owner": {"reputation": 52856, "user_id": 380487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/053d583a4d4901a7a4a7be170eac482f?s=128&d=identicon&r=PG", "display_name": "nrabinowitz", "link": "https://stackoverflow.com/users/380487/nrabinowitz"}, "edited": false, "score": 5, "creation_date": 1441834925, "post_id": 32489601, "comment_id": 52839812, "body": "What question are you asking? It sounds like you&#39;re asking us to translate your script to JS, which isn&#39;t a great fit for SO."}, {"owner": {"reputation": 24613, "user_id": 3518452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/71c8adf8d0ebc93a00ac2a0498509091?s=128&d=identicon&r=PG", "display_name": "rnevius", "link": "https://stackoverflow.com/users/3518452/rnevius"}, "edited": false, "score": 1, "creation_date": 1441835055, "post_id": 32489601, "comment_id": 52839865, "body": "My humble suggestion: hire a JavaScript developer."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1441835182, "post_id": 32489601, "comment_id": 52839912, "body": "Learn a bit of JavaScript reading a good tutorial (e.g. <a href=\"http://eloquentjavascript.net/\" rel=\"nofollow noreferrer\">eloquentjavascript.net</a>) and give it a shot? Not sure what kind of answer you expect and what exactly you deem as &quot;easy&quot;."}, {"owner": {"reputation": 4689, "user_id": 1296030, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qhTIW.png?s=128&g=1", "display_name": "lintmouse", "link": "https://stackoverflow.com/users/1296030/lintmouse"}, "edited": false, "score": 0, "creation_date": 1441835251, "post_id": 32489601, "comment_id": 52839937, "body": "Have you looked into python web frameworks like Flask?  Not sure how much logic you want on the client-side, but you could keep it pretty clean HTML with a static form, then capture that data on the web server and process it in python."}, {"owner": {"reputation": 5, "user_id": 2607514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cd17e11db8b177379d4967586e2a96?s=128&d=identicon&r=PG", "display_name": "Steve Drost", "link": "https://stackoverflow.com/users/2607514/steve-drost"}, "edited": false, "score": 0, "creation_date": 1441835342, "post_id": 32489601, "comment_id": 52839972, "body": "I guess I&#39;m asking if there is an easy way to do this in Javascript, or a way at all.  I don&#39;t want anyone else to do it for me, but I&#39;ve been hunting for a while now for a way to do this in Javascript and I can&#39;t seem to find anything that fits my needs."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1441835362, "post_id": 32489601, "comment_id": 52839982, "body": "If you have python and want javascript, try converting it with PythonJs which supports Python 2.7, see <a href=\"https://github.com/PythonJS/PythonJS#2-translatorpy\" rel=\"nofollow noreferrer\">github.com/PythonJS/PythonJS#2-translatorpy</a>.  An alternative is Pyjs, however it only supports most of Python 2.5 and some of 2.6, but that may not be an issue with simple Python code, see see <a href=\"http://pyjs.org/\" rel=\"nofollow noreferrer\">pyjs.org</a>."}], "answers": [{"tags": [], "owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1441835442, "creation_date": 1441835442, "answer_id": 32489717, "question_id": 32489601, "link": "https://stackoverflow.com/questions/32489601/i-have-this-python-script-id-rather-use-javascript/32489717#32489717", "title": "I have this python script, I&#39;d rather use JavaScript", "body": "<p>This is about as basic as it gets in JavaScript. Here's a snippet with a rough translation of your code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var appdate = prompt(\"Please enter your name:\");\r\nvar verb = prompt(\"Enter a verb:\");\r\nvar noun = prompt(\"Enter a noun:\");\r\nvar story = appdate + \"'s Madlib story!&lt;p&gt;Go \" + verb + \" a \" + noun + \".\";\r\ndocument.getElementById(\"madLib\").innerHTML = story;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"madLib\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 2607514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cd17e11db8b177379d4967586e2a96?s=128&d=identicon&r=PG", "display_name": "Steve Drost", "link": "https://stackoverflow.com/users/2607514/steve-drost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1441835442, "creation_date": 1441834783, "last_edit_date": 1441834955, "question_id": 32489601, "link": "https://stackoverflow.com/questions/32489601/i-have-this-python-script-id-rather-use-javascript", "title": "I have this python script, I&#39;d rather use JavaScript", "body": "<p>I have this chunk of Python that I cobbled together from various sources (I am not a programmer or developer or even in any kind of technical trade, I just needed something to automate some processes).  This is not the actual specific script, but it's written and works the same way:</p>\n\n<pre><code>import os\nos.system('cls')\n\nfrom sys import argv\n\nscript, filename = argv\n\nprint \"MADLIBS!\"\n\nprint \"If %r exists, it will be erased.\" % filename\nprint \"To abort, hit CTRL-C (^C).\"\nprint \"To proceed, hit RETURN.\"\n\nraw_input(\"?\")\n\nos.system('cls')\n\nprint \"Opening file %r...\" % filename\ntarget = open(filename, 'w')\n\nprint \"Overwriting file %r.\" % filename\ntarget.truncate()\n\nanalyst = raw_input(\"Please enter the title of this madlib: \")\nappdate = raw_input(\"Please enter your name: \")\nprint\n\nprint \"Thank you.  Please enter the following information:\"\nprint\n\nverb    = raw_input(\"   Enter a verb:           \")\nnoun    = raw_input(\"   Enter a noun:           \")\n\n\nprint \"Thank you.\"\n\n\ntarget.write(\"&lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;html xml:lang='en' xmlns='http://www.w3.org/1999/xhtml' lang='en'&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;head&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;meta http-equiv='content-type' content='text/html; charset=UTF-8'/&gt;\")\ntarget.write(\"\\n\")\ntarget.write(appdate)\ntarget.write(\"'s Madlib story!\")\ntarget.write(\"&lt;p&gt;\")\ntarget.write(\"Go \")\ntarget.write(verb)\ntarget.write(\" a \")\ntarget.write(noun)\ntarget.write(\".\")\n\ntarget.write(\"&lt;p&gt;\")\ntarget.write(\"&lt;p&gt;\")\ntarget.write(\"&lt;p&gt;\")\n\ntarget.write(\"&lt;a href='javascript:window.print()' title='Send to printer'&gt;Send to printer&lt;/a&gt;&amp;nbsp;&amp;nbsp;\")\ntarget.write(\"\\n\")\ntarget.write(\"\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;script language='VBScript'&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"    Sub Window_Onload\")\ntarget.write(\"\\n\")\ntarget.write(\"      window.opener = 'x'\")\ntarget.write(\"\\n\")\ntarget.write(\"    End Sub\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;/script&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"\")\ntarget.write(\"\\n\")\ntarget.write(\"\\n\")\n\ntarget.write(\"&lt;a href='javascript:self.close()' title='Close this window'&gt;Close this window&lt;/a&gt;\")\ntarget.write(\"\\n\")\n\ntarget.write(\"&lt;/body&gt;\")\ntarget.write(\"\\n\")\ntarget.write(\"&lt;/html&gt;\")\n\ntarget.close()\nos.system(filename)\n</code></pre>\n\n<p>It creates an HTML document using input gathered from the user via Python.  It essentially does what I want it to do, but I'm starting to think Python is not the best route to get what I want here (I only created the script because I was curious about Python and wanted to try creating something).  Can anyone give any general advice on doing something similar using JavaScript (rather than Python) to gather user input <em>in</em> a browser window and display it <em>to</em> the browser window?  </p>\n\n<p>I realize there is a certain amount of general clumsiness with the way the code is put together and it's not particularly elegant, but that's something I can deal with later.  For now, I'd just like a JavaScript version of it to work so I can tweak and refine it later. Any suggestions?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4515, "user_id": 4016674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0794ef4d308e37cd2f51a23b25488e13?s=128&d=identicon&r=PG&f=1", "display_name": "hellpanderr", "link": "https://stackoverflow.com/users/4016674/hellpanderr"}, "edited": false, "score": 0, "creation_date": 1441835220, "post_id": 32489570, "comment_id": 52839925, "body": "If you enter <code>df.iloc[0]</code> what type does it show?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441835289, "post_id": 32489570, "comment_id": 52839950, "body": "Are you sure the dtype is not float already? what does <code>df.info()</code> show?"}], "answers": [{"tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 3, "last_activity_date": 1441835285, "creation_date": 1441835285, "answer_id": 32489693, "question_id": 32489570, "link": "https://stackoverflow.com/questions/32489570/applying-tuple-to-dataframe-doesnt-preserve-type/32489693#32489693", "title": "Applying tuple to dataframe doesnt preserve type", "body": "<p>A hack is to set the dtype to object before doing the apply:</p>\n\n<pre><code>In [11]: df.astype(object).apply(tuple, axis=1)\nOut[11]:\n0     (1, 1, 1, 1, 1103, 61.62)\n1     (2, 1, 1, 1, 1104, -24.6)\n2    (3, 1, 1, 1, 1105, -50.22)\ndtype: object\n</code></pre>\n\n<hr>\n\n<p>Otherwise when creating a Series (for each row) pandas forces it to be the \"smallest\" type, in this case int64 + float64 becomes float64, hence all the values are made floats:</p>\n\n<pre><code>In [12]: df.apply(lambda x: x.dtype, axis=1)\nOut[12]:\n0    float64\n1    float64\n2    float64\ndtype: object\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4933255"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 32489693, "answer_count": 1, "score": 1, "last_activity_date": 1441835285, "creation_date": 1441834625, "question_id": 32489570, "link": "https://stackoverflow.com/questions/32489570/applying-tuple-to-dataframe-doesnt-preserve-type", "title": "Applying tuple to dataframe doesnt preserve type", "body": "<p>I have the following dataframe.</p>\n\n<pre><code>        SAMPLE_ID  ROW  COL  Field  Value\nIndex\n1              1    1    1   1103  61.62\n2              1    1    1   1104 -24.60\n3              1    1    1   1105 -50.22\n</code></pre>\n\n<p>What I'd like is a series of tuples of the data.</p>\n\n<p>But when I enter:</p>\n\n<pre><code>&gt;&gt; df.apply(tuple, axis = 1)\n</code></pre>\n\n<p>I get this series, which converts ints to floats.</p>\n\n<pre><code>Index\n1             (1.0, 1.0, 1.0, 1103.0, 61.62)\n2             (1.0, 1.0, 1.0, 1104.0, -24.6)\n3             (1.0, 1.0, 1.0, 1105.0, -50.22)\n</code></pre>\n\n<p>I'd like the tuples to maintain their type, ending up with a series like this</p>\n\n<pre><code>Index\n1             (1, 1, 1, 1103, 61.62)\n2             (1, 1, 1, 1104, -24.6)\n3             (1, 1, 1, 1105, -50.22)\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "variables", "format"], "answers": [{"tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 1, "last_activity_date": 1441835654, "last_edit_date": 1441835654, "creation_date": 1441834864, "answer_id": 32489617, "question_id": 32489535, "link": "https://stackoverflow.com/questions/32489535/formatting-not-printing-incorrect-format/32489617#32489617", "title": "Formatting, not printing incorrect format?", "body": "<p>You run the function <code>month()</code>, right after the definition of it, but you do not store the return value. You should do this:</p>\n\n<pre><code>m = month()\nif m == \"October\":\n     # ...\n</code></pre>\n\n<p>But instead, you're comparing the <em>function</em> <code>month</code> to <code>1</code>, which will result to False. </p>\n\n<pre><code>def month(): pass    # month is a function\nmonth == 1           # is month equal to 1? no! this is False\n</code></pre>\n\n<p>Also, the function <code>month</code> actually returns string by your design, so you should not compare it to <code>1</code>, but to <code>\"January\"</code>, for example. Also, there's a very handy builtin package for this, you can use <code>datetime</code> here, see <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow\">https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior</a>. </p>\n\n<pre><code>In [3]: import datetime\n\nIn [4]: datetime.datetime(2000, 1, 1).strftime('%B')\nOut[4]: 'January'\n\nIn [5]: datetime.datetime(2000, 12, 1).strftime('%B')\nOut[5]: 'December'\n</code></pre>\n\n<p>So in a function:</p>\n\n<pre><code>def convert_number_to_month_name(i):\n     return datetime.datetime(2000, i, 1).strftime('%B')\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5270414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46eb270f85ed5137f162ab99df2af2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Er Rds", "link": "https://stackoverflow.com/users/5270414/er-rds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441835654, "creation_date": 1441834483, "question_id": 32489535, "link": "https://stackoverflow.com/questions/32489535/formatting-not-printing-incorrect-format", "title": "Formatting, not printing incorrect format?", "body": "<p>Hey I'm having an issue getting the last bit of my code to run.\nI am unable to get the values at the end and believe it may have to do with my formatting, although I'm not entirely sure. Instead of stabbing in the dark I thought I'd ask around here as the fastest way to improve is with help from the more experienced. \nI'm new, and not seasoned. Haven't been programming for a full 2 months yet.</p>\n\n<pre><code>import math\ndef month():   \n    month = input('   # of month born    ')\n    if month == '1':\n        print (\"January\")\n        return \"January\"\n    elif month == '2':\n        print   (\"February\")\n        return \"February\"\n    elif month == '3':\n        print  (\"March\")\n        return \"March\"\n    elif month == '4':\n        print  (\"April\")\n        return \"April\"\n    elif month == '5':\n        print   (\"May\")\n        return \"May\"\n    elif month == '6':\n        print(\"June\")\n        return (\"June\")\n    elif month == '7':\n        print (\"July\")\n        return \"July\"\n    elif month == '8':\n        print(\"August\")\n        return \"August\"\n    elif month == '9':\n        print(\"september\")\n        return \"September\"\n    elif month == '10':\n        print(\"October\")\n        return \"October\"\n    elif month == '11':\n        print (\"November\")\n        return \"November\"\n    elif month == '12':\n        return \"December\"\n        print (\"December\")\n    else:\n        return month()\nmonth()  \nprint('day born')\nday=input(' input day #    ')\nprint ('{}'.format (day))\nif month==1 and day&lt;20:\n    print ('Capricorn')\nelif month ==1 and day&gt;22:\n    print ('aquarius')\n</code></pre>\n\n<p>It does everything fine except return aquarious or capricorn.\nHow may I format it correctly so it prints these values?</p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1441836226, "post_id": 32489403, "comment_id": 52840326, "body": "The percentage of black pixels over the whole area should be enough here"}, {"owner": {"reputation": 109, "user_id": 4048634, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/713172fc460d33c8251d990bd7fe2f49?s=128&d=identicon&r=PG&f=1", "display_name": "Chiefy", "link": "https://stackoverflow.com/users/4048634/chiefy"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1441836628, "post_id": 32489403, "comment_id": 52840486, "body": "@Miki Which method would best analyze that? It definitely seems like the right approach, but I wasn&#39;t sure about the implementation side."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1441836896, "post_id": 32489403, "comment_id": 52840582, "body": "Don&#39;t know much about python, so no code example :D However, you can scan the image and count black pixels, or use countNonZero directly on the image to count non-black pixels. Play with that, post some code  and you&#39;ll get an answer sooner"}], "owner": {"reputation": 109, "user_id": 4048634, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/713172fc460d33c8251d990bd7fe2f49?s=128&d=identicon&r=PG&f=1", "display_name": "Chiefy", "link": "https://stackoverflow.com/users/4048634/chiefy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441833869, "creation_date": 1441833869, "question_id": 32489403, "link": "https://stackoverflow.com/questions/32489403/detecting-a-black-box-with-various-text-in-an-image", "title": "Detecting a black box with various text in an image", "body": "<p>I'd like to be able to detect the presence of a black box using opencv in an image. The black box itself may have various types of text and can vary in size. The rest of the image won't be black. Here are a few examples of the type of black boxes I'm referring to: </p>\n\n<p><a href=\"https://i.stack.imgur.com/RmKwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RmKwX.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/321VX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/321VX.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZuTt9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZuTt9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obviously, template matching is a no-go, and using feature extraction also seems to be completely wrong since the only real features of the box are the lines of text (which are irrelevant). To my inexperienced computer vision senses it would seem that corner detection would be perhaps be the best approach. However, this still seems somewhat crude and imprecise for something as generic as a rectangle. Can someone suggest a more rigorous method for detection? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1441834186, "post_id": 32489360, "comment_id": 52839545, "body": "A reason for using a seed is so that the results are reproducible.  For actual and non-reproducible randomness (instead of pseudo-randomness) use random.SystemRandom (<a href=\"https://docs.python.org/2/library/random.html#random.SystemRandom\" rel=\"nofollow noreferrer\">docs.python.org/2/library/random.html#random.SystemRandom</a>). It can generate values of a uniform distribution, for example random.SystemRandom().uniform(0,1000000)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441834499, "post_id": 32489360, "comment_id": 52839656, "body": "You have the logic reversed, you only call seed to get deterministic values returned"}, {"owner": {"reputation": 619, "user_id": 1283816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e8Nzm.jpg?s=128&g=1", "display_name": "amckinley", "link": "https://stackoverflow.com/users/1283816/amckinley"}, "edited": false, "score": 0, "creation_date": 1441834526, "post_id": 32489360, "comment_id": 52839662, "body": "Random.uniform() returns a new random number from a PRNG sequence. When that PRNG is seeded with the same value it produces the same sequence. Random is seeded with current system time on module import by default. You only need to seed explicitly to enable reproduction of the same sequence which can be important for simulations."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441834667, "post_id": 32489360, "comment_id": 52839704, "body": "@PadraicCunningham: pseudo-randomness is not random and can be predicted even if the seed is random, by spectral analysis, etc. That&#39;s not true for random.SystemRandom, supposedly."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441835784, "post_id": 32489360, "comment_id": 52840136, "body": "@TrisNefzger, yes you could use <code>os.urandom</code> but how secure that is also depends on your OS"}], "answers": [{"tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": true, "score": 5, "last_activity_date": 1441834689, "last_edit_date": 1441834689, "creation_date": 1441834356, "answer_id": 32489505, "question_id": 32489360, "link": "https://stackoverflow.com/questions/32489360/do-i-need-to-use-random-seed-with-random-uniform-to-ensure-i-get-different-s/32489505#32489505", "title": "Do I need to use random.seed() with random.uniform() to ensure I get different sequences", "body": "<h2>Case 1:</h2>\n\n<pre><code>import random\nrandom.seed(10)\n\nfor i in range(3):\n    print random.randrange(2000)\n</code></pre>\n\n<h2>Output of Case 1:</h2>\n\n<pre><code>$ python b.py\n1142\n857\n1156\n$ python b.py\n1142\n857\n1156\n</code></pre>\n\n<p>As you see, in case 1, the different sessions (running the program is a session) produce the same set of random variables.</p>\n\n<h2>Case 2:</h2>\n\n<pre><code>import random\n\nfor i in range(3):\n    print random.randrange(2000)\n</code></pre>\n\n<h2>Output of Case 2:</h2>\n\n<pre><code>$ python b.py\n1469\n1559\n267\n$ python b.py\n1252\n476\n1804\n</code></pre>\n\n<p>In case 2, on the other hand, the set of random variables in different sessions are also different. </p>\n\n<p>This is because when you import random, it <em>randomly</em> picks a seed. And the seeds are likely to be different in different sessions. </p>\n\n<p>However, if you override the seed, then you will have the same set of random variables, as we see in case 1.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5144102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3018, "favorite_count": 0, "accepted_answer_id": 32489505, "answer_count": 1, "score": 2, "last_activity_date": 1441834689, "creation_date": 1441833707, "question_id": 32489360, "link": "https://stackoverflow.com/questions/32489360/do-i-need-to-use-random-seed-with-random-uniform-to-ensure-i-get-different-s", "title": "Do I need to use random.seed() with random.uniform() to ensure I get different sequences", "body": "<p>Do I have to use random.seed() to ensure random numbers are different OR random.uniform already sets a new seed every time that is called?\nI do not want to repeat sequences so does it matter if I use seed at all?</p>\n"}, {"tags": ["python", "anaconda", "python-multiprocessing"], "comments": [{"owner": {"reputation": 1107, "user_id": 5286020, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3154581e2926e83dd9e8986a55d35030?s=128&d=identicon&r=PG&f=1", "display_name": "Sanoj", "link": "https://stackoverflow.com/users/5286020/sanoj"}, "edited": false, "score": 0, "creation_date": 1442948470, "post_id": 32489352, "comment_id": 53292179, "body": "Did anyone see this error with the version(s) mentioned above?"}], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 5303293, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vrj5UYAeOpc/AAAAAAAAAAI/AAAAAAAAAws/V3A6T9NoS2Y/photo.jpg?sz=128", "display_name": "Arun Sooraj", "link": "https://stackoverflow.com/users/5303293/arun-sooraj"}, "is_accepted": false, "score": 6, "last_activity_date": 1462890550, "last_edit_date": 1495535655, "creation_date": 1462890550, "answer_id": 37141459, "question_id": 32489352, "link": "https://stackoverflow.com/questions/32489352/multiprocessing-program-has-attributeerror-in-anaconda-notebook/37141459#37141459", "title": "Multiprocessing program has AttributeError in Anaconda notebook", "body": "<p>This is because of the fact that multiprocessing does not work well in the interactive interpreter. The main reason is that there is no fork() function applicable in windows.  It is explained on their web page itself.</p>\n\n<p>\"Functionality within this package requires that the <strong>main</strong> module must be importable by the children. This is covered in Programming guidelines however it is worth pointing out here. This means that some examples, such as the multiprocessing.Pool examples will not work in the interactive interpreter.\"</p>\n\n<p><a href=\"https://docs.python.org/2/library/multiprocessing.html#windows\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/multiprocessing.html#windows</a></p>\n\n<p>This same problem will come if you are using pool function in multiprocessing. It is solved in this post . You can hence use that method for executing your idea of parallel processing.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26680468/python-multiprocessing-apply-async-never-returns-result-on-windows-7/37140995#37140995\">Python multiprocessing apply_async never returns result on Windows 7</a></p>\n\n<p>Hope it is a useful information to you.</p>\n"}], "owner": {"reputation": 1107, "user_id": 5286020, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3154581e2926e83dd9e8986a55d35030?s=128&d=identicon&r=PG&f=1", "display_name": "Sanoj", "link": "https://stackoverflow.com/users/5286020/sanoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2584, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1462890550, "creation_date": 1441833677, "last_edit_date": 1442017695, "question_id": 32489352, "link": "https://stackoverflow.com/questions/32489352/multiprocessing-program-has-attributeerror-in-anaconda-notebook", "title": "Multiprocessing program has AttributeError in Anaconda notebook", "body": "<p>I am running a simple \"Hello World\" program on Windows 7 64 bit with the following specifications:</p>\n\n<pre><code>Python 3.4.3 | Anaconda 2.3.0 (64-bit) | [MSC v.1600 64 bit (AMD64)] IPython 4.0.0\n</code></pre>\n\n<p>The program:</p>\n\n<pre><code>from multiprocessing import Process, freeze_support\n\ndef f():\n    print ('hello world!')\n\nif __name__ == '__main__':\n    #freeze_support()\n    Process(target=f).start()\n</code></pre>\n\n<p>gives the following error:</p>\n\n<pre><code>[I 15:02:23.855 NotebookApp] Saving file at /uhc/FeatureContributionToK-meansClu\nsterWithPC.ipynb\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 106, in spawn_main\n    exitcode = _main(fd)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 116, in _main\n    self = pickle.load(from_parent)\nAttributeError: Can't get attribute 'f' on module '__main__' (built-in)  \n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 26067, "user_id": 583834, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/woRA2.jpg?s=128&g=1", "display_name": "arturomp", "link": "https://stackoverflow.com/users/583834/arturomp"}, "edited": false, "score": 0, "creation_date": 1441852791, "post_id": 32489326, "comment_id": 52844609, "body": "hi! welcome to stack overflow! make sure to give us something more to work with next time, like a piece of code and other things you&#39;ve researched to solve your problem"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1441833725, "creation_date": 1441833725, "answer_id": 32489365, "question_id": 32489326, "link": "https://stackoverflow.com/questions/32489326/many-of-the-same-item-in-a-list/32489365#32489365", "title": "Many of the same item in a list", "body": "<p>Use a dictionary where the values are the counts of the items. Then you only need one item per name:</p>\n\n<pre><code>items = { blue: 65, purple: 18, pink: 10, red: 5, gold: 2 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1441836282, "post_id": 32489391, "comment_id": 52840347, "body": "This only works for immutable objects, you will get * n references to the same object for mutable objects."}], "tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 1, "last_activity_date": 1441833819, "creation_date": 1441833819, "answer_id": 32489391, "question_id": 32489326, "link": "https://stackoverflow.com/questions/32489326/many-of-the-same-item-in-a-list/32489391#32489391", "title": "Many of the same item in a list", "body": "<p>You can 'multipy' a list, that'll repeat all the items. In your case, you could use something like this.</p>\n\n<pre><code>l = [\"blue\"] * 65\n\n## now l = [\"blue\", \"blue\", ..]\n</code></pre>\n\n<p>Also adding lists handy as well, so you can do this.</p>\n\n<pre><code>l = [\"blue\"] * 65 + [\"purple\"] * 18 + [\"pink\"] * 10 \n\n## now l = [\"blue\", \"blue\", .., \"purple\", ..., \"pink\", ..., \"pink\"]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4697948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/skPyu.jpg?s=128&g=1", "display_name": "Jeckyy", "link": "https://stackoverflow.com/users/4697948/jeckyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441833819, "creation_date": 1441833552, "question_id": 32489326, "link": "https://stackoverflow.com/questions/32489326/many-of-the-same-item-in-a-list", "title": "Many of the same item in a list", "body": "<p>Making a simple chance-based game based on CS:GO cases. Say I'd like to have 100 items in a list - 65 blue, 18 purple, 10 pink, 5 red and 2 gold - how could I put these items into a list without typing 100 individual items in?</p>\n"}, {"tags": ["python", "scroll", "pygame"], "comments": [{"owner": {"reputation": 23, "user_id": 5091152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e486ca5618cab1454b7b262eee395a44?s=128&d=identicon&r=PG&f=1", "display_name": "Joseale2310", "link": "https://stackoverflow.com/users/5091152/joseale2310"}, "edited": false, "score": 0, "creation_date": 1444814729, "post_id": 32489314, "comment_id": 54055930, "body": "Nobody wants to answer :("}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 3954151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19972a23443189f00e9f26604c613b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitozz_RDX", "link": "https://stackoverflow.com/users/3954151/vitozz-rdx"}, "is_accepted": true, "score": 0, "last_activity_date": 1447888715, "creation_date": 1447888715, "answer_id": 33792399, "question_id": 32489314, "link": "https://stackoverflow.com/questions/32489314/how-can-i-mouse-scroll-around-a-2d-tile-map-in-pygame/33792399#33792399", "title": "How can I mouse-scroll around a 2D tile map in pygame?", "body": "<p>It is hard for me to say exactly what is wrong with your sode ( i got too little experience in coding ) , but i just realised movin screen by mouse in my script and i did this :</p>\n\n<pre><code>screen=pygame.display.set_mode((WINDOWWIDTH,WINDOWHEIGHT),32)\n\nMap=pygame.image.load(os.path.join('Image','MAP.png')).convert_alpha()\n\nstartX,startY=0,0                   # starting coordinates for Map\n\nwhile 1:\n    screen.fill(white)\n    screen.blit(Map,(startX,startY))\n\n    for event in pygame.event.get():\n        if event.type == MOUSEMOTION :\n            mousepos=pygame.mouse.get_pos()\n\n    if WINDOWHEIGHT-mousepos[1]&lt;50:     # if  y-position of mouse is 50 pixel far from lower edge ..\n        startY -= 5                     # ..move Map by 5 px\n    if mousepos [1]&lt;50:\n        startY += 5\n    if mousepos [0]&lt;50 :\n        startX += 5\n    if WINDOWWIDTH - mousepos[0]&lt;50:\n        startX -= 5\n\n    pygame.display.flip()\n</code></pre>\n\n<p>Hope this can suggest you an idea how to improve your code </p>\n"}], "owner": {"reputation": 23, "user_id": 5091152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e486ca5618cab1454b7b262eee395a44?s=128&d=identicon&r=PG&f=1", "display_name": "Joseale2310", "link": "https://stackoverflow.com/users/5091152/joseale2310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 1, "accepted_answer_id": 33792399, "answer_count": 1, "score": 2, "last_activity_date": 1447888715, "creation_date": 1441833493, "question_id": 32489314, "link": "https://stackoverflow.com/questions/32489314/how-can-i-mouse-scroll-around-a-2d-tile-map-in-pygame", "title": "How can I mouse-scroll around a 2D tile map in pygame?", "body": "<p>I am trying to play around with pygame and I have using some examples that I found to learn and create a simple. My next goal is to create a 2D tile map bigger than the screen size and then being able to scroll around with the mouse. I would like to make something similar as a strategic game, where if you move the mouse to the edges of the screen, the \"camara\" will move in that direction, showing that part of the map (I would like also to stop the camara if it reaches the end of the map). At this moment, if I hover the mouse over the edges, it will only move once.</p>\n\n<pre><code>import pygame, os\nfrom pygame.locals import *\n\nBLACK = (0, 0, 0)\nWHITE = (255, 255, 255)\nRED = (255, 0, 0)\n\nSCREEN_WIDTH = 5*40\nSCREEN_HEIGHT = 7*40\n\n#functions to create our resources\ndef load_image(name, colorkey=None):\n    try:\n        image = pygame.image.load(name) \n    except pygame.error, message:\n        print 'Cannot load image:', name\n        raise SystemExit, message\n    image = image.convert_alpha()\n    if colorkey is not None:\n        if colorkey is -1:\n            colorkey = image.get_at((0,0))\n        image.set_colorkey(colorkey, RLEACCEL)\n    return image, image.get_rect()\n\n#classes for our game objects\nclass Camera(object):\n    def __init__(self, camera_func, width, height):\n        self.camera_func = camera_func\n        self.state = pygame.Rect(100,100, width, height)\n\n    def apply(self, rect):\n        l, t, w, h = rect\n\n        if 0 &lt;= self.state[0] &lt;= (SCREEN_WIDTH/5):\n            l += 10\n        elif (SCREEN_WIDTH - (SCREEN_WIDTH/5)) &lt; self.state[0] &lt;= SCREEN_WIDTH:\n            l -=10\n\n        if 0 &lt;= self.state[1] &lt;= (SCREEN_HEIGHT/5):\n            t += 10\n        elif (SCREEN_HEIGHT - (SCREEN_HEIGHT/5)) &lt; self.state[1] &lt;= SCREEN_HEIGHT:\n            t -=10\n\n        return rect.move(l,t)\n\n    def update(self):\n        pos = pygame.mouse.get_pos()\n        self.state.topleft = pos\n        #self.state = self.camera_func(self.state)\n\ndef complex_camera(camera):\n    l, t, w, h = camera\n    l, t, _, _ = -l, -t, w, h\n\n    l = min(0, l)                           # stop scrolling at the left edge\n    l = max(-(camera.width-SCREEN_WIDTH), l)   # stop scrolling at the right edge\n    t = max(-(camera.height-SCREEN_HEIGHT), t) # stop scrolling at the bottom\n    t = min(0, t)                           # stop scrolling at the top\n    return pygame.Rect(l, t, w, h)\n\ndef main ():\n\n    pygame.init()\n\n    screen = pygame.display.set_mode([SCREEN_WIDTH, SCREEN_HEIGHT])\n\n    pygame.display.set_caption(\"W40K\")\n\n    grasstile = pygame.image.load('./textures/grass.png')\n    watertile = pygame.image.load('./textures/water.png')\n    waterbeach = pygame.image.load('./textures/dirt.png')\n\n    grassrect = grasstile.get_rect()\n    waterrect = watertile.get_rect()\n    waterb = waterbeach.get_rect()\n\n    TILESIZE = 40\n\n    tilemap = [\n\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],   \n        [grasstile,waterbeach,waterbeach,waterbeach,watertile,watertile,watertile,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [waterbeach,waterbeach,waterbeach,waterbeach,watertile,watertile,watertile,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,grasstile,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [watertile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [watertile,watertile,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,grasstile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,grasstile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n        [grasstile,grasstile,waterbeach,waterbeach,watertile,watertile,waterbeach,waterbeach,grasstile,grasstile,waterbeach,watertile,watertile,watertile,waterbeach,waterbeach,waterbeach,grasstile,grasstile,waterbeach],\n    ]\n\n    #Creates surface of the background\n    map_surface = pygame.Surface((len(tilemap[0])*TILESIZE, len(tilemap)*TILESIZE))\n    #Display the surface\n    for y,row in enumerate(tilemap):\n        for x,tile_surface in enumerate(row):\n            map_surface.blit(tile_surface,(x*TILESIZE,y*TILESIZE))\n\n    total_level_width = len(tilemap[0]) * 40\n    total_level_height = len(tilemap) * 40\n\n    camera = Camera(complex_camera,total_level_width, total_level_height)\n\n    #mouse = Mouse()\n    #allsprites = pygame.sprite.RenderPlain((mouse))\n\n    clock = pygame.time.Clock()\n\n    while 1:\n        clock.tick(60)\n\n    #Handle Input Events\n        for event in pygame.event.get():\n            if event.type == QUIT:\n                return\n            elif event.type == KEYDOWN and event.key == K_ESCAPE:\n                return\n\n        screen.fill(BLACK)\n\n        #Camera moves.\n        camera.update()\n\n        #Display background.\n        screen.blit(map_surface, camera.apply(waterrect))\n\n        pygame.display.flip()\n\nif __name__ == \"__main__\":\n    main()\n\npygame.quit()\n</code></pre>\n\n<p>I think that the problem is in the camara function and the apply function, but I have no clue to improve this and make the camara work properly.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "virtualenv", "virtualenvwrapper"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441833788, "post_id": 32489304, "comment_id": 52839376, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1534210/use-different-python-version-with-virtualenv\">Use different Python version with virtualenv</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "is_accepted": true, "score": 30, "last_activity_date": 1441835082, "creation_date": 1441835082, "answer_id": 32489660, "question_id": 32489304, "link": "https://stackoverflow.com/questions/32489304/change-default-python-version-with-virtualenvwrapper-virtualenv/32489660#32489660", "title": "change default python version with virtualenvwrapper (&amp; virtualenv)", "body": "<blockquote>\n  <p>To automatically use a custom Python binary instead of the one\n  virtualenv is run with you can also set an environment variable:</p>\n\n<pre><code>$ export VIRTUALENV_PYTHON=/opt/python-3.3/bin/python\n$ virtualenv ENV\n</code></pre>\n  \n  <p>It\u2019s the same as passing the option to virtualenv directly:</p>\n\n<pre><code>$ virtualenv --python=/opt/python-3.3/bin/python ENV\n</code></pre>\n</blockquote>\n\n<p>Source: <a href=\"https://virtualenv.pypa.io/en/latest/reference.html#configuration\" rel=\"noreferrer\">https://virtualenv.pypa.io/en/latest/reference.html#configuration</a></p>\n"}], "owner": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16066, "favorite_count": 3, "accepted_answer_id": 32489660, "answer_count": 1, "score": 19, "last_activity_date": 1441835082, "creation_date": 1441833425, "question_id": 32489304, "link": "https://stackoverflow.com/questions/32489304/change-default-python-version-with-virtualenvwrapper-virtualenv", "title": "change default python version with virtualenvwrapper (&amp; virtualenv)", "body": "<p>I've recently changed my python setup so that's it's now installed with brew.  Previously when using virtualenv and virtualenvwrapper it would default to setting up a new virtualenv using python3 (used for most of my projects).  Now unfortunately the default is python2.  I can install python3 using:</p>\n\n<pre><code>mkproject -p python3 projectname\n</code></pre>\n\n<p>however how can i make python3 the default?</p>\n"}, {"tags": ["python", "python-2.7", "oop", "inheritance"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 2, "creation_date": 1441833678, "post_id": 32489215, "comment_id": 52839334, "body": "Looks like homework, but I&#39;ll say showAll should not be a staticmethod."}, {"owner": {"reputation": 22847, "user_id": 1290438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b689dcfa3833cb016dfbc4cc82bb0eae?s=128&d=identicon&r=PG", "display_name": "zmo", "link": "https://stackoverflow.com/users/1290438/zmo"}, "edited": false, "score": 2, "creation_date": 1441834013, "post_id": 32489215, "comment_id": 52839479, "body": "And this is fall again! Another batch of students struggling to get their homework done on SO ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1441878550, "last_edit_date": 1441878550, "creation_date": 1441834348, "answer_id": 32489502, "question_id": 32489215, "link": "https://stackoverflow.com/questions/32489215/python-understanding-oop-inheritance/32489502#32489502", "title": "Python understanding OOP, inheritance", "body": "<p>You want to be able to add people:</p>\n\n<pre><code>&gt;&gt;&gt; academy = Academy()\n&gt;&gt;&gt; academy.add(Person('Pete'))\n&gt;&gt;&gt; academy.showAll()\nName: Pete\n\n&gt;&gt;&gt; academy.add(Student('Taras', 'Higher'))\n&gt;&gt;&gt; academy.showAll()\nName: Pete\nName: Taras, Education: Higher\n\n&gt;&gt;&gt; academy.add(Worker('riotburn', 'StackOverflow')\n&gt;&gt;&gt; academy.showAll()\nName: Pete\nName: Taras, Education: Higher\nName: riotburn, Workplace: StackOverflow\n</code></pre>\n\n<p><code>showAll</code> needs to iterate over all people calling <code>ShowData</code> on them. This will be implemented differently for each type.</p>\n\n<pre><code>class Academy(object):\n    def __init__(self):\n        self.people = []\n\n    def add(self, person):\n        self.people.append(person)\n\n    def showAll(self):\n        for person in self.people:\n            person.ShowData()\n</code></pre>\n\n<p>Where for example, <code>Worker</code> will implement <code>ShowData</code> as:</p>\n\n<pre><code>def ShowData(self):\n    print 'Name: ' + self.name + ', Education:' + self.edu\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "edited": false, "score": 0, "creation_date": 1441835150, "post_id": 32489634, "comment_id": 52839901, "body": "Btw having Worker and Student as subclasses of Person is also bad design; those are roles, not subtypes. In fact you can be easily both at once."}, {"owner": {"reputation": 22847, "user_id": 1290438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b689dcfa3833cb016dfbc4cc82bb0eae?s=128&d=identicon&r=PG", "display_name": "zmo", "link": "https://stackoverflow.com/users/1290438/zmo"}, "reply_to_user": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "edited": false, "score": 0, "creation_date": 1441835526, "post_id": 32489634, "comment_id": 52840047, "body": "@peter I sooo much agree with you, but then we might need to tell the OP&#39;s teacher that his exercise is stupid :-) And not all teacher take such criticism in a good way (yes, I used to criticize my teacher&#39;s exercises when I was at uni)"}, {"owner": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "edited": false, "score": 0, "creation_date": 1441835804, "post_id": 32489634, "comment_id": 52840139, "body": "Well being able to criticize is skill like any other. Saying &quot;This is stupid design&quot; to the teacher would be also stupid, but asking &quot;Why do you think it should be done this way?&quot; or &quot;Could this be modeled this way instead?&quot; changes the conversation a lot."}, {"owner": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "edited": false, "score": 0, "creation_date": 1441835875, "post_id": 32489634, "comment_id": 52840162, "body": "Also I am actually a student and a worker, so you can&#39;t even model me. :("}, {"owner": {"reputation": 22847, "user_id": 1290438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b689dcfa3833cb016dfbc4cc82bb0eae?s=128&d=identicon&r=PG", "display_name": "zmo", "link": "https://stackoverflow.com/users/1290438/zmo"}, "reply_to_user": {"reputation": 8064, "user_id": 2007760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/da33a5de07879db5ea0d55be9f875932?s=128&d=identicon&r=PG", "display_name": "Peter Uhnak", "link": "https://stackoverflow.com/users/2007760/peter-uhnak"}, "edited": false, "score": 0, "creation_date": 1441836040, "post_id": 32489634, "comment_id": 52840241, "body": "You can then make a diamond inheritance :-D (or how to import C++ OOP insanity in Python :-p)"}, {"owner": {"reputation": 31, "user_id": 4664677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12d5225ba3812ac130c8137c104cafa?s=128&d=identicon&r=PG&f=1", "display_name": "Taras Zak", "link": "https://stackoverflow.com/users/4664677/taras-zak"}, "edited": false, "score": 0, "creation_date": 1441879032, "post_id": 32489634, "comment_id": 52857010, "body": "Thanks for review and help :)  I have not had programming in the university. Just self learning) It is an example of the test task for admission to courses at the company."}], "tags": [], "owner": {"reputation": 22847, "user_id": 1290438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b689dcfa3833cb016dfbc4cc82bb0eae?s=128&d=identicon&r=PG", "display_name": "zmo", "link": "https://stackoverflow.com/users/1290438/zmo"}, "is_accepted": true, "score": 2, "last_activity_date": 1441835879, "last_edit_date": 1441835879, "creation_date": 1441834950, "answer_id": 32489634, "question_id": 32489215, "link": "https://stackoverflow.com/questions/32489215/python-understanding-oop-inheritance/32489634#32489634", "title": "Python understanding OOP, inheritance", "body": "<p>first thing:</p>\n\n<pre><code>class Academy(object):\n    theWholeList = []\n    @staticmethod\n    def showAll():\n        for obj in Academy.theWholeList:\n            if isinstance(obj,Student):\n                print obj.name+' - '+obj.edu\n            elif isinstance(obj,Worker):\n                print obj.name+' - '+obj.wplace\n</code></pre>\n\n<p>you do not need to have <code>Academy</code>'s method <code>showAll()</code> be a static method, as on your design the Academy is legitimate to be a singleton, i.e. a class having a single instance. </p>\n\n<p>Also <code>theWholeList</code> is a very bad name for a list. Because you <em>know</em> it is a list, as you're assigning it a list. The name shall describe its semantic, i.e. the kind of things it contains, what it is used for.</p>\n\n<p>You should rewrite it as follows:</p>\n\n<pre><code>class Academy:\n    def __init__(self):\n        self.person_list = []\n\n    def show_all(self):\n        for item in self.person_list:\n            item.show_data()\n</code></pre>\n\n<p>And you would instanciate it once:</p>\n\n<p>academy = Academy()</p>\n\n<p>Then the following:</p>\n\n<pre><code>class Person(Academy):\n    def __init__(self,name):\n        self.name = name\n        super(Person, self).theWholeList.append(self)\n</code></pre>\n\n<p>is bad design: in object oriented programming you should think about encapsulating data. Here you're making the assumption that <code>Person</code> knows the internals of <code>Academy</code>. And what if you decide to change <code>Academy</code>'s implementation so <code>theWholeList</code> is renamed? Or switched into a <code>dict()</code>? This should be transparent to the \"user\" of the class <code>Academy</code>. A better design should be:</p>\n\n<pre><code>class Academy:\n    ... # cf earlier\n\n    def add_person(self, person):\n        self.person_list.append(person)\n\nclass Person(Academy):\n    def __init__(self,name):\n        self.name = name\n\n    def show_data(self):\n        print(\"My name is: {}\".format(name))\n</code></pre>\n\n<p>So you can use it as follows:</p>\n\n<pre><code>person_a = Person(\"John Doe\")\nperson_b = Person(\"Jim Smith\")\nacademy.add_person(person_a)\nacademy.add_person(person_b)\n</code></pre>\n\n<p>And finally you're wondering:</p>\n\n<blockquote>\n  <p>Maybe Academy must inherit Person</p>\n</blockquote>\n\n<p>Most of the time, subclassing is the wrong answer of a wrong question. You need to subclass when you want to <em>extend</em> or <em>specialize</em> behaviour of a class. A classical example would be:</p>\n\n<pre><code>class Animal:\n    def noise(self):\n        raise NotImplementedError # virtual method\n\nclass Duck(Animal):\n    def noise(self):\n        print(\"quack\")\n\nclass Cat(Animal):\n    def noise(self):\n        print(\"meaw\")\n</code></pre>\n\n<p>So in your case, you have a class person that implements show_data, and what you want is to extend the behaviour, for worker and student:</p>\n\n<pre><code>class Worker(Person): # a worker _is_ a person!\n    def __init__(self, name, unit):\n        # left as an exercise to the OP\n\n    def show_data(self):\n        # left as an exercise to the OP\n\nclass Student(Person):\n    def __init__(self, name, promo):\n        # left as an exercise to the OP\n\n    def show_data(self):\n        # left as an exercise to the OP\n</code></pre>\n\n<p>I won't get into much more details here, as I suppose you have a teacher you can ask more about the comments I made. But at least you tried, made some mistakes (AND MISTAKES ARE GOOD!). But I'm not giving you a full answer, my only goal here is to set you up in the right mind set to make your code a better design!</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 31, "user_id": 4664677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12d5225ba3812ac130c8137c104cafa?s=128&d=identicon&r=PG&f=1", "display_name": "Taras Zak", "link": "https://stackoverflow.com/users/4664677/taras-zak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 1, "accepted_answer_id": 32489634, "answer_count": 2, "score": 1, "last_activity_date": 1441878550, "creation_date": 1441832979, "last_edit_date": 1441833704, "question_id": 32489215, "link": "https://stackoverflow.com/questions/32489215/python-understanding-oop-inheritance", "title": "Python understanding OOP, inheritance", "body": "<p>I solve this problem:</p>\n\n<p>Develop an application which operates with next types: </p>\n\n<ol>\n<li><code>Person</code> (field <code>Name</code>, method <code>ShowData()</code>)</li>\n<li><code>Student</code> (field <code>Education</code>)</li>\n<li><code>Worker</code> (field <code>WorkPlace</code>)</li>\n</ol>\n\n<p>Classes <code>Student</code> and <code>Worker</code> are derived from class <code>Person</code>. </p>\n\n<p>Class <code>Academy</code> in it's container collects <code>Students</code> and <code>Workers</code> and shows <code>Name</code>, <code>Education</code> or <code>WorkPlace</code> for all persons in method <code>ShowAll()</code>.</p>\n\n<p>We can add new persons to <code>Academy</code> by calling method <code>AddPerson()</code>.</p>\n\n<p>Which hierarchy of classes is the best \nfor solving this problem?</p>\n\n<p>Code should include inheritance and use collections.</p>\n\n<p>This is my solution, but i don't know how to realize method <code>AddPerson</code>:</p>\n\n<pre><code>class Academy(object):\n    theWholeList = []\n    @staticmethod\n    def showAll():\n        for obj in Academy.theWholeList:\n            if isinstance(obj,Student):\n                print obj.name+' - '+obj.edu\n            elif isinstance(obj,Worker):\n                print obj.name+' - '+obj.wplace\n\nclass Person(Academy):\n    def __init__(self,name):\n        self.name = name\n        super(Person, self).theWholeList.append(self)\n\n    def showData(self):\n        return vars(self)\n\nclass Student(Person):\n\n    def __init__(self, name, edu):\n        super(Student, self).__init__(name)\n        self.edu = edu\n\nclass Worker(Person):\n\n    def __init__(self, name, wplace):\n        super(Worker, self).__init__(name)\n        self.wplace = wplace\n</code></pre>\n\n<p>Maybe <code>Academy</code> must inherit <code>Person</code> and method <code>AddPerson</code> will be like that:</p>\n\n<pre><code>def add(self,name):\n    super(Academy,self).__init__(name)\n</code></pre>\n"}, {"tags": ["python", "json", "oauth"], "comments": [{"owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "edited": false, "score": 0, "creation_date": 1441833229, "post_id": 32489211, "comment_id": 52839123, "body": "Try not calling json.dumps() on data like this: <code>client.request(&#39;&#47;rest&#47;dns&#39;, data=data, headers={&#39;content-type&#39;: &#39;application&#47;json&#39;})</code>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "edited": false, "score": 0, "creation_date": 1441833620, "post_id": 32489211, "comment_id": 52839301, "body": "@CodyBouche: it is the response that is being <i>decoded</i>, not the request data. The server responded with a non-JSON-decodable response."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1441833675, "post_id": 32489211, "comment_id": 52839332, "body": "The library doesn&#39;t offer much in the way of debugging; how comfortable are you with using <code>pdb</code> to step through the code and see what the response really contained?"}, {"owner": {"reputation": 1, "user_id": 5318697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_UHpvwUy4c/AAAAAAAAAAI/AAAAAAAACZ0/NeNj_m3L_3w/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5318697/james"}, "edited": false, "score": 0, "creation_date": 1441833887, "post_id": 32489211, "comment_id": 52839431, "body": "Not very :) this is my first code in 10 years..."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441834144, "post_id": 32489211, "comment_id": 52839530, "body": "maybe the api response for POST is not a JSON object.  If you&#39;re up to it, you can create your own request function using the <code>requests</code> module that way you can see what the return value actually is.  Not sure if this client offers you the ability to do that."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441834712, "post_id": 32489211, "comment_id": 52839717, "body": "Looking at sanction library you&#39;re using, you can pass <code>parser=lamba x: return x</code> to request, otherwise it defaults to json.loads.  <a href=\"https://github.com/demianbrecht/sanction/blob/master/sanction/__init__.py#L153\" rel=\"nofollow noreferrer\">github.com/demianbrecht/sanction/blob/master/sanction/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 5318697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_UHpvwUy4c/AAAAAAAAAAI/AAAAAAAACZ0/NeNj_m3L_3w/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5318697/james"}, "edited": false, "score": 0, "creation_date": 1441834859, "post_id": 32489211, "comment_id": 52839779, "body": "I&#39;ll see if I can reproduce with requests.  Had issues earlier getting requests to work with OAuth 2.0"}, {"owner": {"reputation": 1, "user_id": 5318697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_UHpvwUy4c/AAAAAAAAAAI/AAAAAAAACZ0/NeNj_m3L_3w/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5318697/james"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441835480, "post_id": 32489211, "comment_id": 52840032, "body": "@riotburn sorry, newbie here :)  how do I set this parser value?"}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441890542, "post_id": 32489211, "comment_id": 52864790, "body": "@james <code>client.request(url, data=data, parser=parser)</code>"}], "owner": {"reputation": 1, "user_id": 5318697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_UHpvwUy4c/AAAAAAAAAAI/AAAAAAAACZ0/NeNj_m3L_3w/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5318697/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447592584, "creation_date": 1441832956, "last_edit_date": 1447592584, "question_id": 32489211, "link": "https://stackoverflow.com/questions/32489211/api-post-works-but-i-get-a-no-json-object-could-be-decoded", "title": "API POST works, but I get a &quot;No JSON object could be decoded&quot;", "body": "<p>I have an appliance that uses REST APIs to set/show information, and uses OAuth 2.0.</p>\n\n<p>I have following Python code. The authentication works fine, but the POST commands are causing a crash.</p>\n\n<pre><code>import json\nfrom sanction import Client\n\n# The URL for access token requests\ntoken_request_url = \"https://192.168.42.5/oauth/token\"\n\n# Client name and secret\nclient_id = \"test\"\nclient_secret = \"Paswordgoeshere\"\n\n# The base URL of the resource server\nresource_base = \"https://192.168.42.5/\"\n\n# Create the OAuth2 client object\nclient = Client(token_endpoint = token_request_url,\n                resource_endpoint = resource_base,\n                client_id = client_id,\n                client_secret = client_secret)\n\n# Request the access token into the client object\nclient.request_token(grant_type = 'client_credentials')\n\n# Example GET request to show DNS servers\nprint \"DNS Info\"\nprint client.request('/rest/dns')\nprint \"\"\nprint \"\"\n# Example POST request to PUT DNS servers\ndata = {\"ip\": \"8.8.8.8\"}\nprint json.dumps(data)\n\n#data_json = json.dumps(data)\n\nclient.request('/rest/dns', data=json.dumps(data), headers={'content-type': 'application/json'})\n\n#Crashing before the next line\nprint \"New DNS Info\"\nprint client.request('/rest/dns')\n</code></pre>\n\n<p>This works, the client.request line does add the DNS entry I need, but the line also crashes output:</p>\n\n<pre><code>python example.py   \nDNS Info\n[]\n\n\n{\"ip\": \"8.8.8.8\"}\nTraceback (most recent call last):\n  File \"example.py\", line 36, in &lt;module&gt;\n    client.request('/rest/dns', data=json.dumps(data), headers={'content-type': 'application/json'})\n  File \"/usr/local/lib/python2.7/dist-packages/sanction/__init__.py\", line 170, in request\n    'utf-8'))\n  File \"/usr/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/lib/python2.7/json/decoder.py\", line 366, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/lib/python2.7/json/decoder.py\", line 384, in raw_decode\n    raise ValueError(\"No JSON object could be decoded\")\nValueError: No JSON object could be decoded\n</code></pre>\n"}, {"tags": ["python", "django", "django-admin", "django-orm"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1441843164, "post_id": 32489208, "comment_id": 52842365, "body": "do you have some unusual cache setting?"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1441844362, "post_id": 32489208, "comment_id": 52842633, "body": "enable django query logging and see what equery is being executed (django.db.backends in loggers). YOu might already be able to see the query in your mysql logs"}, {"owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1441844452, "post_id": 32489208, "comment_id": 52842653, "body": "Thanks. I didn&#39;t even know about django query logging. I usually just use brute force (and pdb) to find the query. I&#39;ll look into that."}], "answers": [{"comments": [{"owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "edited": false, "score": 0, "creation_date": 1442339389, "post_id": 32511619, "comment_id": 53038612, "body": "Thanks for the reply. The first 3 steps I had already done. It was the 4th step that I needed to do."}], "tags": [], "owner": {"reputation": 852, "user_id": 953000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de50a81a9cedf20a04787c97c358ce9d?s=128&d=identicon&r=PG", "display_name": "Alex Carlos", "link": "https://stackoverflow.com/users/953000/alex-carlos"}, "is_accepted": true, "score": 2, "last_activity_date": 1441919353, "creation_date": 1441919353, "answer_id": 32511619, "question_id": 32489208, "link": "https://stackoverflow.com/questions/32489208/cant-delete-user-after-removing-app/32511619#32511619", "title": "can&#39;t delete user after removing app", "body": "<p>To fully delete an app from Django you need to follow these steps:</p>\n\n<ol>\n<li><p>Remove any references to the app from all other apps and models, make migrations and apply them. (This will delete all foreign key relations to the models you want to remove)</p></li>\n<li><p>Comment out all the models for the app you want to remove and then make migrations and apply them. (This will drop all the tables for the models you want to delete)</p></li>\n<li><p>After all references in other apps have been removed and the app itself has no models, you can delete the files for the whole app.</p></li>\n<li><p>Finally you need to get rid of all the ContentType entries that were created on your initial migration run. You can do this by running the script found here: <a href=\"http://www.marinamele.com/how-to-correctly-remove-a-model-or-app-in-django\" rel=\"nofollow\">Remove Content Types</a></p></li>\n</ol>\n"}], "owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 32511619, "answer_count": 1, "score": 1, "last_activity_date": 1441919353, "creation_date": 1441832955, "last_edit_date": 1441894381, "question_id": 32489208, "link": "https://stackoverflow.com/questions/32489208/cant-delete-user-after-removing-app", "title": "can&#39;t delete user after removing app", "body": "<p>I have a django project that has many different apps. We deleted one of the apps, and now when we try and delete a user it fails, complaining about a table from that app not existing. There are no references to that app, or table anywhere. Testing, I found that if I create the table the error goes away. </p>\n\n<p>After googling and searching around I thought I had figured it out. The app was referenced in django_content_type and the content_type_id was referenced in auth_permission. So I deleted the rows with that content_type_id from both auth_permission and auth_permission, but I still get the error. </p>\n\n<p>What do I need to do to remove references to this app so I can delete users?</p>\n\n<p>Here is the full stack trace:</p>\n\n<pre><code>Traceback:\nFile \"/usr/lib/python2.6/site-packages/django/core/handlers/base.py\" in get_response\n  115.                         response = callback(request, *callback_args, **callback_kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/options.py\" in wrapper\n  372.                 return self.admin_site.admin_view(view)(*args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/utils/decorators.py\" in _wrapped_view\n  91.                     response = view_func(request, *args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/views/decorators/cache.py\" in _wrapped_view_func\n  89.         response = view_func(request, *args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/sites.py\" in inner\n  202.             return view(request, *args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/utils/decorators.py\" in _wrapper\n  25.             return bound_func(*args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/utils/decorators.py\" in _wrapped_view\n  91.                     response = view_func(request, *args, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/utils/decorators.py\" in bound_func\n  21.                 return func(self, *args2, **kwargs2)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/options.py\" in changelist_view\n  1205.                 response = self.response_action(request, queryset=cl.get_query_set(request))\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/options.py\" in response_action\n  960.             response = func(self, request, queryset)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/actions.py\" in delete_selected\n  35.         queryset, opts, request.user, modeladmin.admin_site, using)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/util.py\" in get_deleted_objects\n  109.     collector.collect(objs)\nFile \"/usr/lib/python2.6/site-packages/django/contrib/admin/util.py\" in collect\n  160.             return super(NestedObjects, self).collect(objs, source_attr=source_attr, **kwargs)\nFile \"/usr/lib/python2.6/site-packages/django/db/models/deletion.py\" in collect\n  225.                 elif sub_objs:\nFile \"/usr/lib/python2.6/site-packages/django/db/models/query.py\" in __nonzero__\n  141.         return type(self).__bool__(self)\nFile \"/usr/lib/python2.6/site-packages/django/db/models/query.py\" in __bool__\n  135.             next(iter(self))\nFile \"/usr/lib/python2.6/site-packages/django/db/models/query.py\" in _result_iter\n  123.                 self._fill_cache()\nFile \"/usr/lib/python2.6/site-packages/django/db/models/query.py\" in _fill_cache\n  927.                     self._result_cache.append(next(self._iter))\nFile \"/usr/lib/python2.6/site-packages/django/db/models/query.py\" in iterator\n  301.         for row in compiler.results_iter():\nFile \"/usr/lib/python2.6/site-packages/django/db/models/sql/compiler.py\" in results_iter\n  775.         for rows in self.execute_sql(MULTI):\nFile \"/usr/lib/python2.6/site-packages/django/db/models/sql/compiler.py\" in execute_sql\n  840.         cursor.execute(sql, params)\nFile \"/usr/lib/python2.6/site-packages/django/db/backends/util.py\" in execute\n  41.             return self.cursor.execute(sql, params)\nFile \"/usr/lib/python2.6/site-packages/django/db/backends/mysql/base.py\" in execute\n  130.             six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e.args)), sys.exc_info()[2])\nFile \"/usr/lib/python2.6/site-packages/django/db/backends/mysql/base.py\" in execute\n  120.             return self.cursor.execute(query, args)\nFile \"/usr/lib64/python2.6/site-packages/MySQLdb/cursors.py\" in execute\n  173.             self.errorhandler(self, exc, value)\nFile \"/usr/lib64/python2.6/site-packages/MySQLdb/connections.py\" in defaulterrorhandler\n  36.     raise errorclass, errorvalue\n\nException Type: DatabaseError at /admin/auth/user/\nException Value: (1146, \"Table 'motor.reflection_resource_listeners' doesn't exist\")\n</code></pre>\n"}, {"tags": ["python", "statistics", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 5296359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NX0AhZDSN-g/AAAAAAAAAAI/AAAAAAAAABM/G6xp53uS_8o/photo.jpg?sz=128", "display_name": "Amelie B. Blackstone", "link": "https://stackoverflow.com/users/5296359/amelie-b-blackstone"}, "edited": false, "score": 0, "creation_date": 1441833143, "post_id": 32489224, "comment_id": 52839091, "body": "But I just have to get one t-value? Here I got two values? I look at this webpage: <a href=\"https://en.wikipedia.org/wiki/Student%27s_t-test#Independent_two-sample_t-test\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> I just thought I had to just get one value (t) out like on the wikipedia webpage. There I just have a t-value ... nothing with a p or anything. How do I get the t-value?"}, {"owner": {"reputation": 30882, "user_id": 3576984, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/HRCYl.png?s=128&g=1", "display_name": "MichaelChirico", "link": "https://stackoverflow.com/users/3576984/michaelchirico"}, "reply_to_user": {"reputation": 129, "user_id": 5296359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NX0AhZDSN-g/AAAAAAAAAAI/AAAAAAAAABM/G6xp53uS_8o/photo.jpg?sz=128", "display_name": "Amelie B. Blackstone", "link": "https://stackoverflow.com/users/5296359/amelie-b-blackstone"}, "edited": false, "score": 0, "creation_date": 1441835759, "post_id": 32489224, "comment_id": 52840128, "body": "@Dr.HenrietteB.Fr&#246;hlich sounds like you&#39;re having statistics problems more than programming problems. I recommend <a href=\"http://stats.stackexchange.com/\">stats.stackexchange.com</a>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 129, "user_id": 5296359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NX0AhZDSN-g/AAAAAAAAAAI/AAAAAAAAABM/G6xp53uS_8o/photo.jpg?sz=128", "display_name": "Amelie B. Blackstone", "link": "https://stackoverflow.com/users/5296359/amelie-b-blackstone"}, "edited": false, "score": 3, "creation_date": 1441838305, "post_id": 32489224, "comment_id": 52841069, "body": "@Dr.HenrietteB.Fr&#246;hlich: If you like, you can write <code>t, p = stats.ttest_ind(x,y)</code>.  Then <code>t</code> is the t-value."}], "tags": [], "owner": {"reputation": 30882, "user_id": 3576984, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/HRCYl.png?s=128&g=1", "display_name": "MichaelChirico", "link": "https://stackoverflow.com/users/3576984/michaelchirico"}, "is_accepted": true, "score": 2, "last_activity_date": 1441833011, "creation_date": 1441833011, "answer_id": 32489224, "question_id": 32489198, "link": "https://stackoverflow.com/questions/32489198/t-test-in-python/32489224#32489224", "title": "T-test in Python", "body": "<p>From the <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html\" rel=\"nofollow\">manual</a>:</p>\n\n<blockquote>\n  <p>Returns:<br>\n  <code>statistic</code> : float or array The calculated t-statistic.</p>\n  \n  <p><code>pvalue</code> : float or array The two-tailed p-value.</p>\n</blockquote>\n\n<p>That is, 1.5 is your two-tailed, standard normal Z score &amp; .166 is the corresponding p-value.</p>\n"}], "owner": {"reputation": 129, "user_id": 5296359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NX0AhZDSN-g/AAAAAAAAAAI/AAAAAAAAABM/G6xp53uS_8o/photo.jpg?sz=128", "display_name": "Amelie B. Blackstone", "link": "https://stackoverflow.com/users/5296359/amelie-b-blackstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 1, "accepted_answer_id": 32489224, "answer_count": 1, "score": 0, "last_activity_date": 1441840306, "creation_date": 1441832902, "last_edit_date": 1441840306, "question_id": 32489198, "link": "https://stackoverflow.com/questions/32489198/t-test-in-python", "title": "T-test in Python", "body": "<p>How do I make a t-test in Python?</p>\n\n<pre><code>#*-* coding: utf-8 *-*\nfrom __future__ import division\nfrom scipy import stats\nimport numpy as np\n\nx=([ 0.01082045  0.00225922  0.00022592  0.00011891  0.00525565  0.00156956])\ny=([ 0.00096333  0.00019453  0.00038384  0.00058286  0.00078786])\nttest=stats.ttest_ind(x,y)\nprint 't-test independent', ttest\n</code></pre>\n\n<p>I get two numbers out: <code>t-test independent (array(1.5061708454111165), 0.1662878376677496)</code></p>\n\n<p>I don't know what they mean. Could you maybe help me? And what does the one \"array\" mean?</p>\n\n<p>I have samples and two different machines. I have to compare the two methods with t-test.</p>\n\n<p>Thank you very much for help!</p>\n"}, {"tags": ["python", "floating-point", "int", "percentage"], "comments": [{"owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441834105, "post_id": 32489132, "comment_id": 52839509, "body": "That still doesn&#39;t work. My answers are still in floating form Here let me show you what I wrote specifically"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1441834715, "post_id": 32489132, "comment_id": 52839718, "body": "What was the exact output?"}, {"owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1441834874, "post_id": 32489132, "comment_id": 52839785, "body": "I get output such as 100.0 % 0.0% and 37.5 % 62.5 % There are two problem, the decimal and the space between number and percent symbol"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441833197, "post_id": 32489186, "comment_id": 52839113, "body": "That worked, however it gets me results like this- blue balls - 37.5 and red balls has 62.5 so I end up with 38 and 63 totaling 101 percent. Now I have to figure how to make it so that both numbers equals 100"}, {"owner": {"reputation": 16894, "user_id": 1180720, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1881822323a2374c602ec8dafb18d46d?s=128&d=identicon&r=PG&f=1", "display_name": "gefei", "link": "https://stackoverflow.com/users/1180720/gefei"}, "reply_to_user": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441833452, "post_id": 32489186, "comment_id": 52839235, "body": "@PaulBernella if you only want to get integers, it&#39;s not always possible to have the sum to be equal 100. for instance, 150 and 250, then you get 38 and 63 too"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441834928, "post_id": 32489186, "comment_id": 52839815, "body": "@PaulBernella if the total must be 100%, use arithmetic that makes it so. <code>per_blue = int(per * 100 + 0.5)</code> <code>per_red = 100 - per_blue</code>"}, {"owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441835827, "post_id": 32489186, "comment_id": 52840146, "body": "That doesn&#39;t quite work. I agree, it&#39;s algebraic, wish I thought of that. I&#39;m sure that the second part is true (subtracting blue from 100 to get red) but I&#39;m still struggling with getting the first equation to get me percentage that is rounded and integer (whole numbered)"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 1, "creation_date": 1441837298, "post_id": 32489186, "comment_id": 52840716, "body": "@PaulBernella looking at your original code, you&#39;re not assigning the result of <code>int</code> to anything - perhaps you&#39;re still making that mistake?"}, {"owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441900138, "post_id": 32489186, "comment_id": 52871883, "body": "I&#39;m not sure I understand what you mean.by assigning the result of int to anything"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "edited": false, "score": 0, "creation_date": 1441981487, "post_id": 32489186, "comment_id": 52909408, "body": "@PaulBernella instead of <code>int(...)</code> you need <code>blue_balls = int(...)</code>. The <code>=</code> is an assignment."}], "tags": [], "owner": {"reputation": 16894, "user_id": 1180720, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1881822323a2374c602ec8dafb18d46d?s=128&d=identicon&r=PG&f=1", "display_name": "gefei", "link": "https://stackoverflow.com/users/1180720/gefei"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832852, "creation_date": 1441832852, "answer_id": 32489186, "question_id": 32489132, "link": "https://stackoverflow.com/questions/32489132/how-to-get-percentage-rounded-to-an-integer/32489186#32489186", "title": "how to get percentage rounded to an integer", "body": "<p>try this</p>\n\n<pre><code>per = 1.0 * number_of_blue_balls / (number_of_blue_balls + number_of_red_balls) \nper = int(per * 100 + 0.5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1983, "user_id": 4596008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f8b8d8e464b83cd72250974bfd8bbd?s=128&d=identicon&r=PG&f=1", "display_name": "Saksham Varma", "link": "https://stackoverflow.com/users/4596008/saksham-varma"}, "is_accepted": false, "score": 0, "last_activity_date": 1441837171, "creation_date": 1441837171, "answer_id": 32490030, "question_id": 32489132, "link": "https://stackoverflow.com/questions/32489132/how-to-get-percentage-rounded-to-an-integer/32490030#32490030", "title": "how to get percentage rounded to an integer", "body": "<p>How about using <code>math.ceil</code></p>\n\n<pre><code>import math\n\nprint int(math.ceil(1.0*150 / (150+250) *100))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1441981727, "post_id": 32507687, "comment_id": 52909580, "body": "Using different rounding on the two values may work for this set of inputs but will fail on others. You have two conflicting requirements, rounding of the percentages and insisting that they add to 100 - one or the other must be relaxed."}], "tags": [], "owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "is_accepted": false, "score": 0, "last_activity_date": 1441904236, "creation_date": 1441904236, "answer_id": 32507687, "question_id": 32489132, "link": "https://stackoverflow.com/questions/32489132/how-to-get-percentage-rounded-to-an-integer/32507687#32507687", "title": "how to get percentage rounded to an integer", "body": "<p>I got it- the answer is</p>\n\n<p>1 number_of_blue_balls= int(input('Enter number of blue balls:'))</p>\n\n<p>2 number_of_red_balls= int(input('Enter number of red balls:'))</p>\n\n<p>3</p>\n\n<p>4 blue_balls= int(number_of_blue_balls/ (number_of_blue_balls + number_of_red_balls) * 100 + 0.5)</p>\n\n<p>5 red_balls= int(number_of_red_balls/ (number_of_blue_balls + number_of_red_balls) * 100)</p>\n\n<p>6</p>\n\n<p>7 print(\"Percent blue balls:\", blue_balls, \"%\", sep='')</p>\n\n<p>8 print(\"Percent red balls:\", red_balls, \"%\", sep='')</p>\n"}, {"tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1442261240, "last_edit_date": 1442261240, "creation_date": 1442260445, "answer_id": 32572825, "question_id": 32489132, "link": "https://stackoverflow.com/questions/32489132/how-to-get-percentage-rounded-to-an-integer/32572825#32572825", "title": "how to get percentage rounded to an integer", "body": "<p>To get the answer in rounded integer percentage form:</p>\n\n<p>Given <code>blue_balls, red_balls</code>:</p>\n\n<pre><code>denominator = blue_balls + red_balls\nnumerator = blue_balls\npercent = (100 * numerator + denominator/2)/denominator\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5318788, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b63a07f065fc445d130a25b2904d533b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bernella", "link": "https://stackoverflow.com/users/5318788/paul-bernella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1251, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1442261240, "creation_date": 1441832605, "last_edit_date": 1441904166, "question_id": 32489132, "link": "https://stackoverflow.com/questions/32489132/how-to-get-percentage-rounded-to-an-integer", "title": "how to get percentage rounded to an integer", "body": "<p>Example:</p>\n\n<pre><code>150 blue balls\n250 red balls\n</code></pre>\n\n<p>What are the percentage of blue balls? </p>\n\n<p>150 divided by total balls (400) equals 38 percent</p>\n\n<p>if I set it</p>\n\n<pre><code>blue_balls = 1.0 * number_of_blue_balls / (number_of_blue_balls + number_of_red_balls) * 100\n</code></pre>\n\n<p>I still get decimal (floating) and it's not rounded. \nI tried adding </p>\n\n<pre><code>int(round(float(blue_balls)))\n</code></pre>\n\n<p>with no luck</p>\n\n<p>How do I get it to give me the answer in rounded integer form? no decimals</p>\n\n<p>Thanks</p>\n\n<p>Clarification- here's what I wrote</p>\n\n<pre><code>number_of_blue_balls = int(input('Enter number of blue balls:'))\nnumber_of_red_balls = int(input('Enter number of red balls:'))\n\nblue_balls= 1.0 * number_of_blue_balls / (number_of_blue_balls + number_of_red_balls) * 100\nred_balls = 1.0 * number_of_red_balls / (number_of_blue_balls + number_of_red_balls) * 100\n\nint(round(float(blue_balls)))\nint(round(float(red_balls)))\n\nprint(\"Percent blue balls:\", blue_balls,'%')\nprint(\"Percent red balls:\", red_balls,'%')\n</code></pre>\n\n<p>I tried simplify the code and got the same answer, i just need one more line that converts the floating number into an integer/percent</p>\n\n<p>1 number_of_blue_balls= int(input('Enter number of blue balls:'))</p>\n\n<p>2 number_of_red_balls= int(input('Enter number of red balls:'))</p>\n\n<p>3 </p>\n\n<p>4 blue_balls= int(number_of_blue_balls/ (number_of_blue_balls + number_of_red_balls) * 100</p>\n\n<p>5 red_balls= int(number_of_red_balls/ (number_of_blue_balls + number_of_red_balls) * 100</p>\n\n<p>6 </p>\n\n<p>7 print(\"Percent blue balls:\", blue_balls)</p>\n\n<p>8 print(\"Percent red balls:\", red_balls)</p>\n\n<p>FINALLY GOT IT!!! When I added .5 and couple sep='' I got the results I needed here it is</p>\n\n<p>Thanks everyone!\n1 number_of_blue_balls= int(input('Enter number of blue balls:'))</p>\n\n<p>2 number_of_red_balls= int(input('Enter number of red balls:'))</p>\n\n<p>3 </p>\n\n<p>4 blue_balls= int(number_of_blue_balls/ (number_of_blue_balls + number_of_red_balls) * 100 + 0.5)</p>\n\n<p>5 red_balls= int(number_of_red_balls/ (number_of_blue_balls + number_of_red_balls) * 100)</p>\n\n<p>6 </p>\n\n<p>7 print(\"Percent blue balls:\", blue_balls, \"%\", sep='')</p>\n\n<p>8 print(\"Percent red balls:\", red_balls, \"%\", sep='')</p>\n"}, {"tags": ["python", "string", "list", "append"], "comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1441832578, "post_id": 32489113, "comment_id": 52838780, "body": "If that&#39;s all you want, <code>s.count(word)</code> will do it for you :-)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1441832652, "post_id": 32489113, "comment_id": 52838829, "body": "You get -1&#39;s added because when the substring is not found find returns -1, you keep getting 4&#39;s because you keep finding the last bob as you only move the index one place"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1441832673, "post_id": 32489113, "comment_id": 52838842, "body": "To see what&#39;s going wrong with your code, consider what happens when <code>index</code> is 1..."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441832721, "post_id": 32489113, "comment_id": 52838866, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1155617/count-occurrence-of-a-character-in-a-string\">Count occurrence of a character in a string</a>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1441833250, "post_id": 32489113, "comment_id": 52839135, "body": "@alexis, count does not work for overlapping strings"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1441846864, "post_id": 32489113, "comment_id": 52843213, "body": "Right, good point..."}], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": -1, "last_activity_date": 1441832955, "creation_date": 1441832955, "answer_id": 32489209, "question_id": 32489113, "link": "https://stackoverflow.com/questions/32489113/finding-words-in-a-string/32489209#32489209", "title": "Finding words in a string", "body": "<pre><code>s = 'bobzbobz'\nword = 'bob'\nprint s.count(word)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1441834194, "last_edit_date": 1441834194, "creation_date": 1441833509, "answer_id": 32489319, "question_id": 32489113, "link": "https://stackoverflow.com/questions/32489113/finding-words-in-a-string/32489319#32489319", "title": "Finding words in a string", "body": "<p>There are much better ways but in your code you need to check for when find returns <code>-1</code> for a non match and increase index by what find returns when you do get a match, you are always appending regardless and only moving one index so if there is a later match you keep finding the same substring start index:</p>\n\n<pre><code>s = 'bobobzbobz'\nword = 'bob'\n\nindex = 0\ninstance = []\nwhile index &lt; len(s) - len(word):\n    f = s.find(word, index)\n    if f != -1:\n        instance.append(f)\n        index = f\n    index += 1\nprint (instance)\n[0, 2, 6]\n</code></pre>\n\n<p>You cannot use <code>.count</code> when you want to consider overlapping substrings as in the example above.</p>\n\n<p>To break it down per iteration using <code>s = 'bobzbobz'</code>:</p>\n\n<pre><code>s.find(word, 0) -&gt; 0  # s[index:] -&gt; 'bobzbobz' \ns.find(word, 1) -&gt; 4  # s[index:] -&gt;  'obzbobz'\ns.find(word, 2) -&gt; 4  # s[index:] -&gt;  'bzbobz'\ns.find(word, 3) -&gt; 4  # s[index:] -&gt; 'zbobz'\ns.find(word, 4) -&gt; 4 # s[index:] -&gt; 'bobz'\ns.find(word, 5) -&gt; -1 # s[index:] -&gt; 'obz'\ns.find(word, 6) -&gt; -1 # s[index:] -&gt;  'bz'\ns.find(word, 7) -&gt; -1 # s[index:] -&gt;  'z'\n</code></pre>\n\n<p>You get four 4's in your output list as from index 1 to index 4 find is finding the substring word starting at index 4, after that the index has moved past the last bob i.e index 4 so you get -1 added each time as find does not find a match.</p>\n"}, {"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 0, "last_activity_date": 1441870007, "last_edit_date": 1441870007, "creation_date": 1441847201, "answer_id": 32491439, "question_id": 32489113, "link": "https://stackoverflow.com/questions/32489113/finding-words-in-a-string/32491439#32491439", "title": "Finding words in a string", "body": "<p>Each call to <code>find</code> will scan the rest of the string, looking for occurrences that start further down. So you keep matching the same occurrence of <code>bob</code> until you advance past it. To check each position exactly once, use a different method. One possibility is simply using <code>startswith()</code>:</p>\n\n<pre><code>n = 0\nfor i in range(len(s)):\n    if s[i:].startswith(\"bob\"):\n        n += 1\n</code></pre>\n\n<p>Or equivalently:</p>\n\n<pre><code>n = 0\nfor i in range(len(s)):\n    if s.startswith(\"bob\", i):\n        n += 1\n</code></pre>\n\n<p>There are all sorts of alternatives to using a loop, but I think this is nice and clear.</p>\n"}], "owner": {"reputation": 103, "user_id": 4682797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e3fae2a79bdeabe6bf235dcfc44cbf1?s=128&d=identicon&r=PG&f=1", "display_name": "MJ49", "link": "https://stackoverflow.com/users/4682797/mj49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1441870007, "creation_date": 1441832527, "last_edit_date": 1441833833, "question_id": 32489113, "link": "https://stackoverflow.com/questions/32489113/finding-words-in-a-string", "title": "Finding words in a string", "body": "<p>Searched for this but all answers were beyond my scope since I am still learning. I am trying to find number of occurrences of a word within a string. I came up with the following code but keep getting weird answers.</p>\n\n<pre><code>s = 'bobzbobz'\n\n\nword = 'bob'\n\n\n\nindex = 0 \ninstance = []\nwhile index &lt; len(s):\n    instance.append(s.find(word,index))\n    index += 1\nprint len(instance) #instance = [0, 4, 4, 4, 4, -1, -1, -1]???? Why??\n</code></pre>\n\n<p>This should print 2 but I get 8. And the reason is because I get a lot of repeat values in my list of instances.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1441832387, "post_id": 32489061, "comment_id": 52838670, "body": "Since you&#39;re not assigning the values anywhere, it can reuse the memory."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441832493, "post_id": 32489061, "comment_id": 52838734, "body": "Python caches small integers (I don&#39;t remember the exact range at the moment) and since the caching is done at startup, It seems reasonable that they&#39;d have the same memory address from one run to the next -- but I&#39;m no expert on how the python memory allocator works (and how it interacts with the OS&#39;s memory allocator)."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441832536, "post_id": 32489061, "comment_id": 52838756, "body": "See also:  <a href=\"http://stackoverflow.com/q/306313/748858\">stackoverflow.com/q/306313/748858</a>"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441832560, "post_id": 32489061, "comment_id": 52838768, "body": "Python 2 and 3 handle integers very differently so please tag a version in your question as it is already quite broad. There is a good discussion of <a href=\"http://www.laurentluce.com/posts/python-integer-objects-implementation/\" rel=\"nofollow noreferrer\">the Python 2 integer implementation</a> on Laurent Luce&#39;s blog."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441832975, "post_id": 32489061, "comment_id": 52839010, "body": "Funnily enough I can only get the same id after restarting the interpreter using python3.4, python2.7.6 always gives me a new id"}], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441834556, "post_id": 32489124, "comment_id": 52839670, "body": "I think the OP is more referring to restarting the interpreter and getting the same id"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441834974, "post_id": 32489124, "comment_id": 52839830, "body": "I think he&#39;s just asking why he gets the same ID when he types it into the interactive command loop."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441835404, "post_id": 32489124, "comment_id": 52839997, "body": "Looking at it again I think he/she is asking both. I cannot reproduce the same id using python2.7.6 each time I restart an interpreter but with python3.4 I can"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1441832574, "creation_date": 1441832574, "answer_id": 32489124, "question_id": 32489061, "link": "https://stackoverflow.com/questions/32489061/memory-addresses-for-literals/32489124#32489124", "title": "Memory addresses for literals", "body": "<p>From the <a href=\"https://docs.python.org/2/library/functions.html#id\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>Two objects with non-overlapping lifetimes may have the same <code>id()</code> value.</p>\n</blockquote>\n\n<p>Since you're not assigning <code>1.0025</code> and <code>1.0999</code> to anything in your first test, each value's lifetime end as soon as it finishes executing the statement that prints its <code>id()</code>. Since their lifetimes don't overlap, Python can reuse the same memory for them, so they get the same <code>id()</code> values.</p>\n\n<p>When you do assign them to variables, their lifetimes exist as long as those variables hold the values. As a result, they can't be put in the same memory, and <code>id()</code> returns different values.</p>\n"}], "owner": {"reputation": 1902, "user_id": 1956609, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/23b0c71dce091db00e3f524bdc3da0b5?s=128&d=identicon&r=PG", "display_name": "user1956609", "link": "https://stackoverflow.com/users/1956609/user1956609"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 32489124, "answer_count": 1, "score": 0, "last_activity_date": 1441832574, "creation_date": 1441832309, "question_id": 32489061, "link": "https://stackoverflow.com/questions/32489061/memory-addresses-for-literals", "title": "Memory addresses for literals", "body": "<p>How does Python assign memory addresses for literals?</p>\n\n<pre><code>&gt;&gt;&gt; id(1)\n4298171352\n&gt;&gt;&gt; id(2)\n4298171328\n&gt;&gt;&gt; id(1.0019)\n4299162496\n&gt;&gt;&gt; id(1.0025)\n4299162496\n&gt;&gt;&gt; id(1.00999)\n4299162496\n&gt;&gt;&gt; a = 1.0025\n&gt;&gt;&gt; b = 1.00999\n&gt;&gt;&gt; id(a)\n4299162496\n&gt;&gt;&gt; id(b)\n4299162472\n&gt;&gt;&gt; \njg@jg ~ $ python\nPython 2.7.10 |Anaconda 2.2.0 (x86_64)| (default, May 28 2015, 17:04:42) \n[GCC 4.2.1 (Apple Inc. build 5577)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://binstar.org\n&gt;&gt;&gt; id(1)\n4298171352\n</code></pre>\n\n<p>How is it that 1.0025 and 1.0999 correspond to the same memory location, but when I set a and b equal to those respective values there are now different memory locations?  How is it that when I restart Python, the memory address for 1 is the same?</p>\n\n<p>Also, does this mean that there is a pre-existing memory address for every integer and binned floats and character?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "edited": false, "score": 0, "creation_date": 1441834817, "post_id": 32489042, "comment_id": 52839756, "body": "<code>soup = BeautifulSoup(page.content, &#39;html.parser&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 0, "last_activity_date": 1441834384, "creation_date": 1441834384, "answer_id": 32489511, "question_id": 32489042, "link": "https://stackoverflow.com/questions/32489042/scrape-google-trending-stories-page-python/32489511#32489511", "title": "Scrape Google Trending Stories Page (Python)", "body": "<p>Your problem is that <a href=\"https://www.google.com/trends/\" rel=\"nofollow\">https://www.google.com/trends/</a> is Javascript generated. So you can't use <code>requests</code> that is an http lib.</p>\n\n<p>To test web sites in your browser with Javascript disabled : example for firefox :</p>\n\n<pre><code>about:config\n\njavascript.enabled = false\n</code></pre>\n\n<p>Check google/SO to find Javascript capable libs</p>\n"}], "owner": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441834384, "creation_date": 1441832252, "last_edit_date": 1441832725, "question_id": 32489042, "link": "https://stackoverflow.com/questions/32489042/scrape-google-trending-stories-page-python", "title": "Scrape Google Trending Stories Page (Python)", "body": "<p>I would like to scrape all the top 50 searches on the Google Trending Stories page found here: <a href=\"https://www.google.com/trends/\" rel=\"nofollow\">https://www.google.com/trends/</a></p>\n\n<p>However, when I run the following code, none of the searches show up and it looks like I am only getting Tags:</p>\n\n<pre><code>wikis = [\"https://www.google.com/trends/\"]\nfor wiki in wikis:\n    website = requests.get(wiki)\n    soup = BeautifulSoup(website.content, \"lxml\")\n    text = ''.join([element.text for element in soup.body.find_all(lambda tag:    tag != 'script', recursive=False)])\n    new =  re.sub(r'[^a-zA-Z \\n]','',text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>MyAccountSearchMapsYouTubePlayNewsGmailDriveCalendarTranslatePhotosMoreShoppingWalletFinanceDocsBooksBloggerContactsEven more from GoogleSign inYou are using unsupported browser Some features may not work correctly Upgrade to a modern browser such as Google ChromeTrends has upgraded to a newer version which is not supported by this devicedismiss\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "modulo", "callable"], "comments": [{"owner": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1441832261, "post_id": 32489016, "comment_id": 52838599, "body": "Please show us your error text."}, {"owner": {"reputation": 32626, "user_id": 691884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1f68638c765096502abb3e56274386?s=128&d=identicon&r=PG", "display_name": "Random832", "link": "https://stackoverflow.com/users/691884/random832"}, "edited": false, "score": 1, "creation_date": 1441832358, "post_id": 32489016, "comment_id": 52838647, "body": "I don&#39;t know what&#39;s causing your error, but the power operator is <code>**</code>, not <code>^</code>."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441832363, "post_id": 32489016, "comment_id": 52838655, "body": "<code>2^n</code> is not 2 to the power of n. <code>2**n</code> is."}, {"owner": {"reputation": 1443, "user_id": 2075859, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eyYZp.jpg?s=128&g=1", "display_name": "David J.", "link": "https://stackoverflow.com/users/2075859/david-j"}, "reply_to_user": {"reputation": 29116, "user_id": 382471, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/804ee314e1022f48ddd7d9cebe329afc?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/382471/robert"}, "edited": false, "score": 0, "creation_date": 1441832538, "post_id": 32489016, "comment_id": 52838758, "body": "@robert File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; TypeError: &#39;int&#39; object is not callable"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441832664, "post_id": 32489016, "comment_id": 52838836, "body": "@DavidJ. how are you running it when you get that? I bet you reassigned <code>range</code> by accident. Try <code>type(range)</code>. If that is the case, <code>del range</code> or restart your interpreter."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1441832835, "post_id": 32489016, "comment_id": 52838928, "body": "Do you have a variable named <code>range</code>?"}, {"owner": {"reputation": 1443, "user_id": 2075859, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eyYZp.jpg?s=128&g=1", "display_name": "David J.", "link": "https://stackoverflow.com/users/2075859/david-j"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441832951, "post_id": 32489016, "comment_id": 52838991, "body": "@Two-BitAlchemist  I was inputting it into the command line w/o a scipt.  I just saved it in a file and ran it again, and it is working now."}, {"owner": {"reputation": 1443, "user_id": 2075859, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eyYZp.jpg?s=128&g=1", "display_name": "David J.", "link": "https://stackoverflow.com/users/2075859/david-j"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1441832993, "post_id": 32489016, "comment_id": 52839021, "body": "@Barmar   Good catch, I did"}], "answers": [{"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832569, "last_edit_date": 1441832569, "creation_date": 1441832330, "answer_id": 32489064, "question_id": 32489016, "link": "https://stackoverflow.com/questions/32489016/modulo-computation-in-python-int-not-callable/32489064#32489064", "title": "modulo computation in python - int not callable?", "body": "<p><strong>^</strong> is python is Bitwise Exclusive Or<br>\n<strong>**</strong> is the operator that you're looking for</p>\n\n<pre><code>for n in range(100):\n    if ((2**n // 3) % 2) == 1:\n        print n\n</code></pre>\n\n<p>as for the erorr that you're getting,</p>\n\n<blockquote>\n  <p>int not callable</p>\n</blockquote>\n\n<p>It's not reproducible, it's probably not these lines that's causing it</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1441833393, "creation_date": 1441833393, "answer_id": 32489294, "question_id": 32489016, "link": "https://stackoverflow.com/questions/32489016/modulo-computation-in-python-int-not-callable/32489294#32489294", "title": "modulo computation in python - int not callable?", "body": "<p>You have a variable named <code>range</code>, which you're assigning an integer to. So when you do</p>\n\n<pre><code>for n in range(100):\n</code></pre>\n\n<p>it's trying to call the integer as a function, instead of using the built-in <code>range</code> function.</p>\n\n<p>The best solution is not to reuse builtin functions as variable names. But if you really want to, you can still access the original function using the <code>__builtin__</code> module.</p>\n\n<pre><code>import __builtin__\nfor n in __builtin__.range(100):\n</code></pre>\n"}], "owner": {"reputation": 1443, "user_id": 2075859, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/eyYZp.jpg?s=128&g=1", "display_name": "David J.", "link": "https://stackoverflow.com/users/2075859/david-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 32489294, "answer_count": 2, "score": 0, "last_activity_date": 1441833393, "creation_date": 1441832163, "last_edit_date": 1441832702, "question_id": 32489016, "link": "https://stackoverflow.com/questions/32489016/modulo-computation-in-python-int-not-callable", "title": "modulo computation in python - int not callable?", "body": "<p>After reading a few errors of the type 'int not callable' on stackoverflow, I see that most errors of the type involve treating an int like a function.  I am getting this error on the following program and I'm not sure what's going on:</p>\n\n<h1>find the power of n that satisfies the equation</h1>\n\n<pre><code>for n in range(100):\n    if ((2^n // 3) % 2) == 1:\n        print n\n</code></pre>\n\n<p>The error traceback reads:</p>\n\n<pre><code>File \"&lt;stdin&gt;\", line 1, in &lt;module&gt; \nTypeError: 'int' object is not callable\n</code></pre>\n"}, {"tags": ["python", "eclipse", "raspberry-pi", "pydev"], "owner": {"reputation": 807, "user_id": 996747, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c4da996bd4fe83fccf2237a507848b34?s=128&d=identicon&r=PG", "display_name": "Caniko", "link": "https://stackoverflow.com/users/996747/caniko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1441884423, "creation_date": 1441832077, "last_edit_date": 1441884423, "question_id": 32488996, "link": "https://stackoverflow.com/questions/32488996/configuring-an-external-launcher-for-eclipse-over-ssh-with-pydev", "title": "Configuring an external launcher for Eclipse over SSH with pydev", "body": "<p>Hoping that this is the right place to ask this:</p>\n\n<p>I have my Eclipse-Python IDE with PyDev on my windows machine.</p>\n\n<p>My codes/project files are on my Rasp-Pi (Remote machine)</p>\n\n<p>I connect the Eclipse with \"Remote System Explorer\" Addon via SSH.I can work on the remote code and execute it over the SSH-Terminal (or Putty) so far it works good.</p>\n\n<p>Now I fail at configuring a remote launcher for the project. I just want to run/debug project within Eclipse-IDE (i.e. just via shortcut-key F11) and the Remote machine (Rasp-Pi) executes the code and does stuff.</p>\n\n<p>I dream about a configuration field like</p>\n\n<pre><code>(ssh pi@0.00.00.00 &amp;) python %1\n</code></pre>\n\n<p>EDIT</p>\n\n<p>I am able to run my script remotely via a command prompt. All I want to do is to run the scripts with the standard launcher of eclipse configuring it, see pics.\n<a href=\"https://i.stack.imgur.com/Sfe6G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sfe6G.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Ho6gP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ho6gP.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1441832110, "post_id": 32488972, "comment_id": 52838522, "body": "And how, exactly, is it supposed to know where to look? How is what you&#39;re looking for different than simply declaring a variable in your script with a hard-coded path?"}, {"owner": {"reputation": 2054, "user_id": 1048100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616647d3d53e5125d8b7bfb23ac7d13e?s=128&d=identicon&r=PG", "display_name": "beezz", "link": "https://stackoverflow.com/users/1048100/beezz"}, "edited": false, "score": 0, "creation_date": 1441832156, "post_id": 32488972, "comment_id": 52838552, "body": "How about giving the arguments as full paths?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441832163, "post_id": 32488972, "comment_id": 52838556, "body": "pass in <b>absolute path</b>, expect <b>absolute path</b>."}, {"owner": {"reputation": 7158, "user_id": 1445444, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e0baa59194d1ab50811481dd6b4aab5c?s=128&d=identicon&r=PG&f=1", "display_name": "Horse Voice", "link": "https://stackoverflow.com/users/1445444/horse-voice"}, "edited": false, "score": 0, "creation_date": 1441897582, "post_id": 32488972, "comment_id": 52870226, "body": "Hi Padraic, would os.chdir work in all operating systems? Windows/linux?"}], "answers": [{"tags": [], "owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "is_accepted": true, "score": 1, "last_activity_date": 1441832266, "creation_date": 1441832266, "answer_id": 32489046, "question_id": 32488972, "link": "https://stackoverflow.com/questions/32488972/have-a-python-script-always-reference-the-same-directory-regardless-of-where-it/32489046#32489046", "title": "Have a python script always reference the same directory regardless of where it&#39;s run in the system", "body": "<p>how should it know that? </p>\n\n<p>if it's a constant path you <em>could</em> hardcode it into the script and use <code>os.path</code> to build the full path:</p>\n\n<pre><code>import os\nimport sys\n\nBASE_PATH = '/my/const/path'\n\nfullpath = os.path.join(BASE_PATH,sys.argv[1])\n</code></pre>\n\n<p>although, as stated in comments, a more flexible solution would be to pass the path as a separate argument, or pass absolute path for each file</p>\n"}, {"tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 1, "last_activity_date": 1441832403, "last_edit_date": 1495539895, "creation_date": 1441832403, "answer_id": 32489082, "question_id": 32488972, "link": "https://stackoverflow.com/questions/32488972/have-a-python-script-always-reference-the-same-directory-regardless-of-where-it/32489082#32489082", "title": "Have a python script always reference the same directory regardless of where it&#39;s run in the system", "body": "<p>I assume you're looking for a way to find the path that's given via a relative path, perhaps calling the script itself from another location. </p>\n\n<pre><code>$ cat print_path.py\nimport os\nimport sys\n\nprint os.path.abspath(sys.argv[1])\n</code></pre>\n\n<p>If you call this script on a relative path, it prints the absolute path, so you can find it on the disk. The magic is from <code>os.path.abspath()</code>.</p>\n\n<pre><code>$ python print_path.py ./planning.md\n/Users/Gijs/Desktop/planning.md\n$ cd ..\n</code></pre>\n\n<p>Also if you're calling from somewhere else. </p>\n\n<pre><code>$ python Desktop/print_path.py Desktop/planning.md\n/Users/Gijs/Desktop/planning.md\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>No, wait, you're looking for the location of the python file that's executing. That's in <code>__file__</code>, see <a href=\"https://stackoverflow.com/questions/50499/how-do-i-get-the-path-and-name-of-the-file-that-is-currently-executing\">How do I get the path and name of the file that is currently executing?</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1441833047, "last_edit_date": 1441833047, "creation_date": 1441832655, "answer_id": 32489143, "question_id": 32488972, "link": "https://stackoverflow.com/questions/32488972/have-a-python-script-always-reference-the-same-directory-regardless-of-where-it/32489143#32489143", "title": "Have a python script always reference the same directory regardless of where it&#39;s run in the system", "body": "<p>The full path to the current file is a magic variable called <code>__file__</code>.  This is a suitable argument to functions like <a href=\"https://docs.python.org/2/library/os.path.html#os.path.dirname\" rel=\"nofollow\"><code>os.path.dirname()</code></a>:</p>\n\n<pre><code>print(\"This Python file is in \" + os.path.dirname(__file__))\n</code></pre>\n\n<p>You can then <code>os.path.join()</code> this with the argument supplied on the command line to get files in the same directory as the script, wherever that may be.</p>\n\n<p>Note that using <code>__file__</code> in this fashion is not ideal for reusable packages.  It is preferred to use <a href=\"https://docs.python.org/2/library/pkgutil.html#pkgutil.get_data\" rel=\"nofollow\"><code>pkgutil.get_data()</code></a> or the equivalent Setuptools function.  Basically, you pass it a module or package name (typically <code>__name__</code>, the name of the current module, or <code>__package__</code>, the name of the package you're in) and it retrieves the files for you.  This is required if your module is going into an importable zip file or somewhere else where <code>__file__</code> doesn't exist or have a useful value.</p>\n"}], "owner": {"reputation": 7158, "user_id": 1445444, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e0baa59194d1ab50811481dd6b4aab5c?s=128&d=identicon&r=PG&f=1", "display_name": "Horse Voice", "link": "https://stackoverflow.com/users/1445444/horse-voice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "closed_date": 1441834813, "accepted_answer_id": 32489046, "answer_count": 3, "score": 1, "last_activity_date": 1441833494, "creation_date": 1441831956, "last_edit_date": 1441833494, "question_id": 32488972, "link": "https://stackoverflow.com/questions/32488972/have-a-python-script-always-reference-the-same-directory-regardless-of-where-it", "closed_reason": "Duplicate", "title": "Have a python script always reference the same directory regardless of where it&#39;s run in the system", "body": "<p>I have a python script that accepts file names as arguments and performs operation on those files. Currently the script is in the same directory as the files it operates on. But I want to be able to run my python script from anywhere in the operating system. When I give the file name as argument to the script, it should know exactly which directory to look for regardless of where the python script is running in the system. How can I achieve this in python?</p>\n\n<p>Here is the relevant portion of the script. Can I just hard code the path? \nThe type_mapping_file will be the filename passed into the script as an argument.</p>\n\n<pre><code>data = None\nwith open (type_mapping_file, \"r\") as myfile:\n    data=myfile.read()\n\nif(data is not None):\n    request_params = {'type': type_name, 'index': index_name}\n\n    send_http_request(\"/index/type/create\", request_params, base_url, post_body=data)\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "c++", "c", "fann"], "answers": [{"tags": [], "owner": {"reputation": 2647, "user_id": 776515, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IrXxz.png?s=128&g=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/776515/luis"}, "is_accepted": false, "score": -1, "last_activity_date": 1466880699, "last_edit_date": 1466880699, "creation_date": 1464703385, "answer_id": 37547932, "question_id": 32488943, "link": "https://stackoverflow.com/questions/32488943/how-to-save-a-fann-to-string/37547932#37547932", "title": "How to save a FANN to string?", "body": "<p>Did you try <a href=\"http://leenissen.dk/fann/html/files/fann_io-h.html#fann_save\" rel=\"nofollow\">fann_save</a> ?</p>\n\n<h2>train.c</h2>\n\n<pre><code>fann_save( ann, \"./nets/trained.net\" );\n</code></pre>\n\n<p>It allows to save the network and then <a href=\"http://leenissen.dk/fann/html/files/fann_io-h.html#fann_create_from_file\" rel=\"nofollow\">load it again</a> in another program:</p>\n\n<h2>simulate.c</h2>\n\n<pre><code>ann = fann_create_from_file(\"./nets/trained.net\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 494762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dbf149c4e0d8bf513f5241a9c9a635d?s=128&d=identicon&r=PG", "display_name": "wi1", "link": "https://stackoverflow.com/users/494762/wi1"}, "is_accepted": false, "score": 0, "last_activity_date": 1513278923, "creation_date": 1513278923, "answer_id": 47820612, "question_id": 32488943, "link": "https://stackoverflow.com/questions/32488943/how-to-save-a-fann-to-string/47820612#47820612", "title": "How to save a FANN to string?", "body": "<p>If you look at the IO code in, <a href=\"https://github.com/libfann/fann/blob/master/src/fann_io.c\" rel=\"nofollow noreferrer\">https://github.com/libfann/fann/blob/master/src/fann_io.c</a> you can very easily create your own create_from_string function using how it reads the file as a template.</p>\n"}], "owner": {"reputation": 1204, "user_id": 1418164, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e5a3eb0187fc81a20d80f37a6126417b?s=128&d=identicon&r=PG", "display_name": "MrFox", "link": "https://stackoverflow.com/users/1418164/mrfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531103891, "creation_date": 1441831821, "last_edit_date": 1531103891, "question_id": 32488943, "link": "https://stackoverflow.com/questions/32488943/how-to-save-a-fann-to-string", "title": "How to save a FANN to string?", "body": "<p>I want to use FANN by saving the configuration into a database, then load it during runs. All of the functions seem to be saving/loading networks into config files. But my application can't have temporary files.</p>\n\n<p>How can I save a training into a string / load a network from a string? I am using the Python bindings, but a C/C++ answer is also welcome.</p>\n"}, {"tags": ["python", "openerp", "odoo"], "comments": [{"owner": {"reputation": 11, "user_id": 5318704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408effed7b3a088c9e73f2aca4e04ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Bal&#225;zs R.", "link": "https://stackoverflow.com/users/5318704/bal%c3%a1zs-r"}, "edited": false, "score": 0, "creation_date": 1441914091, "post_id": 32488893, "comment_id": 52879732, "body": "Which part of my code? (i&#39;ve got a package edition installed)"}], "answers": [{"tags": [], "owner": {"reputation": 490, "user_id": 5065858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rktl8.jpg?s=128&g=1", "display_name": "shravan cherukuri", "link": "https://stackoverflow.com/users/5065858/shravan-cherukuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1449836601, "creation_date": 1449836601, "answer_id": 34223492, "question_id": 32488893, "link": "https://stackoverflow.com/questions/32488893/odoo-quotation-confirmation-error/34223492#34223492", "title": "Odoo quotation confirmation error", "body": "<ol>\n<li><p>It seems like you have not installed the \"account_voucher\" module,because of which it is not able to fetch the template present in that module.\nGo to Settings --> Local Modules and Install account_voucher module.</p></li>\n<li><p>Check whether you have added \"account_voucher\" module under 'depends' in <strong>openerp</strong>.py file.</p></li>\n<li><p>Check the existence of \"view_voucher_filter\" in \"account_voucher\" module.</p></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 5318704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408effed7b3a088c9e73f2aca4e04ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Bal&#225;zs R.", "link": "https://stackoverflow.com/users/5318704/bal%c3%a1zs-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1449836601, "creation_date": 1441831634, "question_id": 32488893, "link": "https://stackoverflow.com/questions/32488893/odoo-quotation-confirmation-error", "title": "Odoo quotation confirmation error", "body": "<p>I've got an <strong>Odoo 8.0</strong> application running on an Ubuntu 15.04, which hosted on a Microsoft Azure Virtual Machine. </p>\n\n<p>I'd like to create a quotation on the administration surface. The creation went fine. But if I try to confirm (or send by email) the quotation, I get an <strong>Odoo Server Error</strong>. </p>\n\n<p>Here's its <strong>traceback</strong>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 537, in _handle_exception\n    return super(JsonRequest, self)._handle_exception(exception)\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 574, in dispatch\n    result = self._call_function(**self.params)\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 310, in _call_function\n    return checked_call(self.db, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/service/model.py\", line 113, in wrapper\n    return f(dbname, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 307, in checked_call\n    return self.endpoint(*a, **kw)\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 803, in __call__\n    return self.method(*args, **kw)\n  File \"/usr/lib/python2.7/dist-packages/openerp/http.py\", line 403, in response_wrap\n    response = f(*args, **kw)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/web/controllers/main.py\", line 944, in call_kw\n    return self._call_kw(model, method, args, kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/web/controllers/main.py\", line 936, in _call_kw\n    return getattr(request.registry.get(model), method)(request.cr, request.uid, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/models.py\", line 5160, in search_read\n    result = self.read(cr, uid, record_ids, fields, context=read_ctx)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/models.py\", line 3142, in read\n    result = BaseModel.read(records, fields, load=load)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 239, in wrapper\n    return new_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/models.py\", line 3177, in read\n    self._read_from_database(stored, inherited)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 239, in wrapper\n    return new_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/models.py\", line 3356, in _read_from_database\n    res2 = self._columns[f].get(cr, self._model, ids, f, user, context=context, values=result)\n  File \"/usr/lib/python2.7/dist-packages/openerp/osv/fields.py\", line 1467, in get\n    result = self._fnct(obj, cr, uid, ids, name, self._arg, context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/portal_sale/portal_sale.py\", line 31, in &lt;lambda&gt;\n    _payment_block_proxy = lambda self, *a, **kw: self._portal_payment_block(*a, **kw)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/portal_sale/portal_sale.py\", line 44, in _portal_payment_block\n    partner_id=this.partner_id.id, company_id=this.company_id.id, context=context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/payment/models/payment_acquirer.py\", line 299, in render_payment_block\n    context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/payment/models/payment_acquirer.py\", line 271, in render\n    return self.pool['ir.ui.view'].render(cr, uid, acquirer.view_template_id.xml_id, qweb_context, engine='ir.qweb', context=context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/website/models/ir_ui_view.py\", line 181, in render\n    return super(view, self).render(cr, uid, id_or_xml_id, values=values, engine=engine, context=context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/base/ir/ir_ui_view.py\", line 1026, in render\n    return self.pool[engine].render(cr, uid, id_or_xml_id, qcontext, loader=loader, context=context)\n  File \"/usr/lib/python2.7/dist-packages/openerp/api.py\", line 241, in wrapper\n    return old_api(self, *args, **kwargs)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/base/ir/ir_qweb.py\", line 262, in render\n    return self.render_node(self.get_template(id_or_xml_id, qwebcontext), qwebcontext)\n  File \"/usr/lib/python2.7/dist-packages/openerp/addons/base/ir/ir_qweb.py\", line 199, in get_template\n    raise QWebTemplateNotFound(\"Template %r not found\" % name, template=origin_template)\nQWebTemplateNotFound: Template u'account_voucher.view_voucher_filter' not found\n</code></pre>\n\n<p>Can anyone help how can I fix this?</p>\n\n<p>Thanks in advance for any replies</p>\n"}, {"tags": ["python", "python-3.x", "combinations"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1441831720, "post_id": 32488872, "comment_id": 52838334, "body": "Not a bad first question, BUT! You should add the code you have already tried. At the moment it is too broad, but if you have already done the work and just neglected to show it, I think correcting that oversight will leave it in a good state. (Oh, and please edit your question to do so. Long code snippets format <i>terribly</i> in the comments.)"}, {"owner": {"reputation": 33, "user_id": 5318696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7803299e0283adec6efcc90d5eba0d3?s=128&d=identicon&r=PG&f=1", "display_name": "Lupus", "link": "https://stackoverflow.com/users/5318696/lupus"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441832104, "post_id": 32488872, "comment_id": 52838518, "body": "Well,everything i have tried so far was only giving me all possible palindromic substrings within that string, i wasn&#39;t even close to combine them like i should.I can show that code,but i am not sure it will make question less broad."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441905613, "post_id": 32488872, "comment_id": 52875107, "body": "Can you explain why in your expected output the list is broken up like that? I would expect the <i>set</i> of palindromic substrings to be, well, a set, or maybe a list, but it seems arbitrary why those are in nested lists."}, {"owner": {"reputation": 33, "user_id": 5318696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7803299e0283adec6efcc90d5eba0d3?s=128&d=identicon&r=PG&f=1", "display_name": "Lupus", "link": "https://stackoverflow.com/users/5318696/lupus"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441987390, "post_id": 32488872, "comment_id": 52913248, "body": "Well,it only matter to get all possible ways to divide the input string into palindromic substrings,like Blckknght corrected. Way on which that should/must be implemented was not specified."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5318696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7803299e0283adec6efcc90d5eba0d3?s=128&d=identicon&r=PG&f=1", "display_name": "Lupus", "link": "https://stackoverflow.com/users/5318696/lupus"}, "edited": false, "score": 0, "creation_date": 1441987640, "post_id": 32508537, "comment_id": 52913404, "body": "Thank you for solution and as well for nice explanation !"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 2, "last_activity_date": 1441907283, "creation_date": 1441907283, "answer_id": 32508537, "question_id": 32488872, "link": "https://stackoverflow.com/questions/32488872/find-all-combinations-of-palindromic-substrings/32508537#32508537", "title": "Find all combinations of palindromic substrings", "body": "<p>It looks like you need to be looking not for all palindromic substrings, but rather for all the ways you can divide the input string up into palindromic substrings. (There's always at least one way, since one-character substrings are always palindromes.)</p>\n\n<p>Here's the way I've done it:</p>\n\n<pre><code>def palindromic_substrings(s):\n    if not s:\n        return [[]]\n    results = []\n    for i in range(len(s), 0, -1):\n        sub = s[:i]\n        if sub == sub[::-1]:\n            for rest in palindromic_substrings(s[i:]):\n                results.append([sub] + rest)\n    return results\n</code></pre>\n\n<p>There's two loops. The outer loop checks each length of initial substring (in descending length order) to see if it is a palindrome. If so, it recurses on the rest of the string and loops over the returned values, adding the initial substring to each item before adding it to the results.</p>\n\n<p>A slightly more Pythonic approach would be to make a recursive generator:</p>\n\n<pre><code>def palindromic_substrings(s):\n    if not s:\n        yield []\n        return\n    for i in range(len(s), 0, -1):\n        sub = s[:i]\n        if sub == sub[::-1]:\n            for rest in palindromic_substrings(s[i:]):\n                yield [sub] + rest\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5318696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7803299e0283adec6efcc90d5eba0d3?s=128&d=identicon&r=PG&f=1", "display_name": "Lupus", "link": "https://stackoverflow.com/users/5318696/lupus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4262, "favorite_count": 1, "accepted_answer_id": 32508537, "answer_count": 1, "score": 1, "last_activity_date": 1441907283, "creation_date": 1441831561, "last_edit_date": 1441905652, "question_id": 32488872, "link": "https://stackoverflow.com/questions/32488872/find-all-combinations-of-palindromic-substrings", "title": "Find all combinations of palindromic substrings", "body": "<p>How to find all possible combinations of palindromic substrings for some randomly entered string in Python? For example, if entered <strong>xxyx</strong> what should be returned is : </p>\n\n<pre><code>[['xx', 'y', 'x'], ['x', 'xyx'], ['x', 'x', 'y', 'x']] . \n</code></pre>\n\n<p>I know how to get all substrings and check if it is palindrome,but can`t find a way to combine into correct solution as shown. I am sorry if question isnt asked correctly, it's my first. </p>\n\n<p>Here is the code: </p>\n\n<pre><code>def find_all_subsets(seq, n):\n\n    if n == 0:\n        return [[]]\n\n    else:\n        result = []\n        subsets = find_all_subsets(seq, n-1)\n\n        for subset in subsets:\n            result += [subset]\n\n            result += [[seq[n-1]] + subset]\n\n        return result\n\n\ndef check_palindrome(subsetsList):\n    finalList = []\n    for set in subsetsList:\n        if set[::-1] == set:\n            finalList.append(set)\n        else:\n           continue\n\n    return finalList\n\n\n\nif __name__ == \"__main__\":\n    word = \"xxyx\"\n    palindromicSubsets = check_palindrome(find_all_subsets(word, len(word)))\n    print(palindromicSubsets)\n</code></pre>\n"}, {"tags": ["python", "django", "tastypie"], "answers": [{"comments": [{"owner": {"reputation": 240, "user_id": 1437609, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/64b5ef3f75290c4a16fb0dd88656b614?s=128&d=identicon&r=PG", "display_name": "riya ahuja", "link": "https://stackoverflow.com/users/1437609/riya-ahuja"}, "edited": false, "score": 0, "creation_date": 1442951390, "post_id": 32723787, "comment_id": 53293702, "body": "Thank You.It is very useful"}], "tags": [], "owner": {"reputation": 12135, "user_id": 538471, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d2051553a8bdd27c26fec84b47806714?s=128&d=identicon&r=PG", "display_name": "dan-klasson", "link": "https://stackoverflow.com/users/538471/dan-klasson"}, "is_accepted": true, "score": 0, "last_activity_date": 1442969544, "last_edit_date": 1442969544, "creation_date": 1442944936, "answer_id": 32723787, "question_id": 32488861, "link": "https://stackoverflow.com/questions/32488861/django-tastypie-database-update-security/32723787#32723787", "title": "Django tastypie database update security", "body": "<p>You can use <a href=\"https://pythonhosted.org/django-guardian\" rel=\"nofollow\">django-guardian</a>. And <a href=\"https://gist.github.com/7wonders/6557760\" rel=\"nofollow\">here is a gist</a> with a custom Authorization class you can use in conjunction with that.</p>\n"}], "owner": {"reputation": 240, "user_id": 1437609, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/64b5ef3f75290c4a16fb0dd88656b614?s=128&d=identicon&r=PG", "display_name": "riya ahuja", "link": "https://stackoverflow.com/users/1437609/riya-ahuja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 32723787, "answer_count": 1, "score": 0, "last_activity_date": 1442969544, "creation_date": 1441831505, "last_edit_date": 1441894808, "question_id": 32488861, "link": "https://stackoverflow.com/questions/32488861/django-tastypie-database-update-security", "title": "Django tastypie database update security", "body": "<p>Hi everyone I am new to django tastypie framework and I am trying to make a simple api which has IOS clients.I am trying to implement authorization in such a way that one user can not modify other users data i.e one user can not upload images on behalf of other user.Users should only allowed to make changes to their database records.After surfing from last two days I couldn't able to find any tutorial in implement the same.can anyone let me know the links to do the same.Thank You.</p>\n"}, {"tags": ["python", "statistics", "scipy"], "comments": [{"owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "edited": false, "score": 0, "creation_date": 1441831485, "post_id": 32488808, "comment_id": 52838207, "body": "It&#39;s worth pointing out that I&#39;ve never taken a statistics course, so I&#39;m figuring this stuff all out on the fly :)"}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1441831542, "post_id": 32488808, "comment_id": 52838234, "body": "Do you have any prior information about the data? (e.g., it comes from a normal distribution, uniform distribution, etc.?)"}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1441831582, "post_id": 32488808, "comment_id": 52838254, "body": "Can you share the data?"}, {"owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "reply_to_user": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1441831660, "post_id": 32488808, "comment_id": 52838294, "body": "I don&#39;t know the specific distribution, and in fact that&#39;s part of the challenge, is to identify the most appropriate one.  Sample data:  <code>y = np.array([ 0.005995184, 0.012209876, 0.028232119, 0.04711878, 0.087894128, 0.116652421, 0.115370764, 0.12774159, 0.109731418, 0.079767439, 0.068016186, 0.045287033, 0.033403796, 0.029145134, 0.018925806, 0.013340493, 0.010087069, 0.007998098, 0.00984276, 0.004906083, 0.004720561, 0.003186032, 0.003028522, 0.002942859, 0.002780096, 0.002450613, 0.002733441, 0.002217294, 0.002072314, 0.002063246])</code>    X values for this are simply 0-30 (or 1-30...?)"}], "answers": [{"comments": [{"owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "edited": false, "score": 0, "creation_date": 1441834113, "post_id": 32489340, "comment_id": 52839513, "body": "This is definitely useful for getting a visual representation of the distribution, but the ultimate goal is to be able to get randomly generated values such that a frequency histogram built from them will be close to one built from the original data.  The .rvs() functions of the scipy.stat.rv_continuous and rv_discrete classes can act as such a generator of random values, but first I have to identify which specific distribution to use, and what the shaping parameters for it should be."}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 1, "last_activity_date": 1441833629, "creation_date": 1441833629, "answer_id": 32489340, "question_id": 32488808, "link": "https://stackoverflow.com/questions/32488808/use-histogram-data-to-generate-random-samples-in-scipy/32489340#32489340", "title": "Use Histogram data to generate random samples in scipy", "body": "<p>If you don't have any prior information about the underlying function of the data which have been produced, I suggest you to use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.polyfit.html\" rel=\"nofollow noreferrer\"><code>numpy.polyfit</code></a> which fits a polynomial of given degree.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\ny = np.array([ 0.005995184, ...]) # your array\nx = np.arange(len(y))\n\nf = np.poly1d(np.polyfit(x, y, 10))\n\nx_new = np.linspace(x[0], x[-1], 30)\ny_new = f(x_new)\n\nplt.plot(x,y,'o', x_new, y_new)\nplt.xlim([x[0]-1, x[-1] + 1 ])\nplt.show()\n</code></pre>\n\n<p>Here is an example for <code>degree = 10</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/r3QjU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3QjU.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to get an unknown value from the produced polynomial distribution, you simply:</p>\n\n<pre><code>f(13.5)\n</code></pre>\n\n<p>which in this case gives:</p>\n\n<pre><code>0.0206996531272\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1441906443, "creation_date": 1441906443, "answer_id": 32508294, "question_id": 32488808, "link": "https://stackoverflow.com/questions/32488808/use-histogram-data-to-generate-random-samples-in-scipy/32508294#32508294", "title": "Use Histogram data to generate random samples in scipy", "body": "<p>I was able to come up with a solution, but it doesn't feel like a very elegant one.  Basically, take the percentage value (y value) for each x value, multiply by some large number (say, 10,000), then add that many values of x to an array. Continue through all values of x, ending up with a single giant array. This array can then be fed into .fit() methods of the scipy.stats.rv_discrete subclasses.  I'll leave the question open for now as I feel like there must be a better way.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport scipy\nimport scipy.stats\nimport numpy as np\n\nxRange = 30\nx = scipy.arange(0,xRange+1)\n\ndata = [\n0.005995184,0.012209876,0.028232119,0.04711878,0.087894128,\n0.116652421,0.115370764,0.12774159,0.109731418,0.079767439,\n0.068016186,0.045287033,0.033403796,0.029145134,0.018925806,\n0.013340493,0.010087069,0.007998098,0.00984276,0.004906083,\n0.004720561,0.003186032,0.003028522,0.002942859,0.002780096,\n0.002450613,0.002733441,0.002217294,0.002072314,0.002063246]\n\ny=[]\nfor i in range(len(data)):\n    for j in range(int(data[i]*10000)):\n        y=np.append(y,i+1)\n\n\n# creating the histogram\nplt.figure(num=1,figsize=(22,12))\nh = plt.hist(y, bins=x, normed=True)\n\ndist_names = ['burr','f','rayleigh']\n\nfor dist_name in dist_names:\n    dist = getattr(scipy.stats, dist_name)\n    param = dist.fit(y)\n    pdf_fitted = dist.pdf(x, *param[:-2], loc=param[-2], scale=param[-1])\n    plt.plot(pdf_fitted, label=dist_name, lw=4)\n    plt.xlim(0,xRange)\n\nplt.legend(loc='upper right')\nplt.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "edited": false, "score": 0, "creation_date": 1441915528, "post_id": 32510602, "comment_id": 52880499, "body": "Can you provide some sample code to show how to use the histogram data directly?"}], "tags": [], "owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "is_accepted": false, "score": 1, "last_activity_date": 1441915128, "creation_date": 1441915128, "answer_id": 32510602, "question_id": 32488808, "link": "https://stackoverflow.com/questions/32488808/use-histogram-data-to-generate-random-samples-in-scipy/32510602#32510602", "title": "Use Histogram data to generate random samples in scipy", "body": "<p>You can also use the histogram, piecewise uniform distribution directly, then you get exactly the corresponding random numbers instead of an approximation. </p>\n\n<p>The inverse cdf, ppf, is piecewise linear and linear interpolation can be used to transform uniform random numbers appropriately.</p>\n"}], "owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1728, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1441915128, "creation_date": 1441831317, "last_edit_date": 1441833063, "question_id": 32488808, "link": "https://stackoverflow.com/questions/32488808/use-histogram-data-to-generate-random-samples-in-scipy", "title": "Use Histogram data to generate random samples in scipy", "body": "<p>Suppose I have a process where I push a button, and after a certain amount of time (from 1 to 30 minutes), an event occurs.  I then run a very large number of trials, and record how long it takes the event to occur for each trial.  This raw data is then reduced to a set of 30 data points where the x value is the number of minutes it took for the event to occur, and the y value is the percentage of trials which fell into that bucket.  I do not have access to the original data.</p>\n\n<p>How can I use this set of 30 points to identify an appropriate probability distribution which I can then use to generate representative random samples?</p>\n\n<p>I feel like scipy.stats has all the tools I need built in, but for the life of me I can't figure out how to go about it. Any tips?</p>\n"}, {"tags": ["python", "vb.net", "python-2.7", "wsdl", "suds"], "comments": [{"owner": {"reputation": 532, "user_id": 5016237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNVty.jpg?s=128&g=1", "display_name": "feners", "link": "https://stackoverflow.com/users/5016237/feners"}, "edited": false, "score": 0, "creation_date": 1441854744, "post_id": 32488804, "comment_id": 52845059, "body": "After trying this: <code>response = client.service.query(strQuery)</code>  I&#39;ve been getting this:  <code>Exception: (307, u&#39;Temporary Redirect&#39;)</code>"}, {"owner": {"reputation": 532, "user_id": 5016237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNVty.jpg?s=128&g=1", "display_name": "feners", "link": "https://stackoverflow.com/users/5016237/feners"}, "edited": false, "score": 0, "creation_date": 1441909759, "post_id": 32488804, "comment_id": 52877344, "body": "How could I use the ATWSResponse type with this Method &quot;query&quot;?"}, {"owner": {"reputation": 15679, "user_id": 369450, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5cf82bfcd75a3bd40deaad83f7657c59?s=128&d=identicon&r=PG&f=1", "display_name": "All Workers Are Essential", "link": "https://stackoverflow.com/users/369450/all-workers-are-essential"}, "edited": false, "score": 0, "creation_date": 1442421801, "post_id": 32488804, "comment_id": 53079256, "body": "After the query fails, can you print out the info as show here: <a href=\"http://stackoverflow.com/a/6069053/369450\">stackoverflow.com/a/6069053/369450</a>"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 5297994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNRjO.jpg?s=128&g=1", "display_name": "mago", "link": "https://stackoverflow.com/users/5297994/mago"}, "is_accepted": false, "score": 0, "last_activity_date": 1442442810, "creation_date": 1442442810, "answer_id": 32619870, "question_id": 32488804, "link": "https://stackoverflow.com/questions/32488804/how-to-use-types-and-methods-with-suds/32619870#32619870", "title": "How to use Types and Methods with SUDS", "body": "<p>I am not sure, but besides the answer made by <strong>cpburnz</strong>, i noticed that in the vb code ,which seems to be working, the python variable r should be created as ATWSResponse, like you did with client where in vb is an object called ATWSService.</p>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 5016237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNVty.jpg?s=128&g=1", "display_name": "feners", "link": "https://stackoverflow.com/users/5016237/feners"}, "is_accepted": true, "score": 1, "last_activity_date": 1442513438, "creation_date": 1442513438, "answer_id": 32637212, "question_id": 32488804, "link": "https://stackoverflow.com/questions/32488804/how-to-use-types-and-methods-with-suds/32637212#32637212", "title": "How to use Types and Methods with SUDS", "body": "<p>First of all, the url being used to connect to the api was not the correct one. I needed to use <code>https://webservices5.autotask.net/atservices/1.5/atws.wsdl</code>. </p>\n\n<p>Once the client received a response, I had to match the ReturnCode in order to run the code I wanted. The return code could not be 1 (which is an error in the query), therefore I used:</p>\n\n<pre><code>        if response.ReturnCode != 1:\n            print \"Error code: %s\" % response.ReturnCode\n            print \"Error response: %s\" % response.Errors\n            sys.exit(1)\n        else:\n            print \"Query successful...\"\n            print \"=============================\"\n            response = response.EntityResults[0]\n</code></pre>\n\n<p>In order to store my returned data (entities), which were Tickets, I had to do the following loops:</p>\n\n<pre><code>            entities = []\n            for entity in response:\n                entities.append(dict(entity))\n\n            for entity in entities:\n                self.query_data.append(entity[\"Title\"] + \"  Estimated Hours \" + str(entity[\"EstimatedHours\"]))\n</code></pre>\n\n<p>This way I could store the list of tuples in entities list in order to then access each entity themselves. With this done, all I had to do was append the results to a list <code>self.query_data</code>.</p>\n\n<p>Note: Credit to Bodsda for his help in figuring out how I was querying the wrong address with my XML, plus help with the loops.</p>\n"}], "owner": {"reputation": 532, "user_id": 5016237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNVty.jpg?s=128&g=1", "display_name": "feners", "link": "https://stackoverflow.com/users/5016237/feners"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "accepted_answer_id": 32637212, "answer_count": 2, "score": 0, "last_activity_date": 1442513438, "creation_date": 1441831294, "last_edit_date": 1442427217, "question_id": 32488804, "link": "https://stackoverflow.com/questions/32488804/how-to-use-types-and-methods-with-suds", "title": "How to use Types and Methods with SUDS", "body": "<p>My code connects to a Autotask service through SUDS. I get a list of Methods, one of which I have to call. I'm new to this, so I'm not sure on how to correctly do this. This is my code, including help by Bodsda:</p>\n\n<pre><code>import os, sys\nimport xml.etree.ElementTree as ET\nfrom suds.client import Client\nfrom suds.sax.element import Element\n\n\nclass Init():\n    def __init__(self):\n        #Search the app.config file for all data to be used\n        script_dir = os.path.dirname(__file__)\n        file_path = \"app.config\"\n        abs_file_path = os.path.join(script_dir, file_path) \n\n        tree = ET.parse(abs_file_path)\n        root = tree.getroot()\n        sites = root.iter('AutotaskUpdateTicketEstimatedHours.My.MySettings')\n        self.data = {}\n        for site in sites: \n            apps = site.findall('setting')\n            for app in apps:\n                self.data[app.get('name')] = app.find('value').text\n\n\nclass ConnectATWS():\n    def __init__(self):\n        #Connect to server with the credentials\n        app_config = Init()\n        self.username = app_config.data[\"Username\"]\n        self.password = app_config.data[\"Password\"]\n        self.login_id = app_config.data[\"LoginID\"]\n        strQuery = \"\"\"\n        &lt;queryxml&gt;\n            &lt;entity&gt;Ticket&lt;/entity&gt;\n            &lt;query&gt;\n                &lt;condition&gt;\n                    &lt;field&gt;Id\n                        &lt;expression op=\"GreaterThan\"&gt;0&lt;/expression&gt;\n                    &lt;/field&gt;\n                &lt;/condition&gt;\n                &lt;condition&gt;\n                    &lt;field&gt;Status\n                        &lt;expression op=\"NotEqual\"&gt;5&lt;/expression&gt;\n                    &lt;/field&gt;\n                &lt;/condition&gt;\n                &lt;condition&gt;\n                    &lt;field&gt;EstimatedHours\n                        &lt;expression op=\"IsNull\"&gt;&lt;/expression&gt;\n                    &lt;/field&gt;\n                &lt;/condition&gt;\n            &lt;/query&gt;\n        &lt;/queryxml&gt;\"\"\"\n        new_url = 'https://webservices5.autotask.net/atservices/1.5/atws.wsdl'\n        client = Client(new_url, username=self.login_id, password=self.password)\n        response = client.service.query(strQuery)\n\n        if response.ReturnCode != 1:\n            print \"Error code: %s\" % response.ReturnCode\n            print \"Error response: %s\" % response.Errors\n            sys.exit(1)\n        else:\n            print \"Query successful...\"\n            print \"=============================\"\n            print response.EntityResults\n\n\n\nif __name__ == '__main__':\n    handler = ConnectATWS()\n</code></pre>\n\n<p>This is my response: </p>\n\n<pre><code>(ATWSResponse){\n   ReturnCode = 1\n   EntityResults = \"\"\n   EntityResultType = \"ticket\"\n   Errors = \"\"\n   EntityReturnInfoResults = \"\"\n }\n</code></pre>\n\n<p>This is the list of Methods and Types I get through the client:</p>\n\n<pre><code>    Suds ( https://fedorahosted.org/suds/ )  version: 0.4 GA  build: R699-20100913\n\nService ( ATWS ) tns=\"http://autotask.net/ATWS/v1_5/\"\n   Prefixes (1)\n      ns0 = \"http://autotask.net/ATWS/v1_5/\"\n   Ports (1):\n      (ATWSSoap)\n         Methods (14):\n            CreateAttachment(Attachment attachment, )\n            DeleteAttachment(xs:long attachmentId, )\n            GetAttachment(xs:long attachmentId, )\n            GetFieldInfo(xs:string psObjectType, )\n            GetInvoiceMarkup(xs:int InvoiceId, xs:string Format, )\n            GetWsdlVersion()\n            create(ArrayOfEntity Entities, )\n            delete(ArrayOfEntity Entities, )\n            getEntityInfo()\n            getThresholdAndUsageInfo()\n            getUDFInfo(xs:string psTable, )\n            getZoneInfo(xs:string UserName, )\n            query(xs:string sXML, )\n            update(ArrayOfEntity Entities, )\n         Types (108):\n            ATWSError\n            ATWSResponse\n            ATWSZoneInfo\n            Account\n            AccountLocation\n            AccountNote\n            AccountTeam\n            AccountToDo\n            ActionType\n            AdditionalInvoiceFieldValue\n            AllocationCode\n            Appointment\n            ArrayOfATWSError\n            ArrayOfEntity\n            ArrayOfEntityInfo\n            ArrayOfEntityReturnInfo\n            ArrayOfField\n            ArrayOfPickListValue\n            ArrayOfUserDefinedField\n            Attachment\n            AttachmentInfo\n            AutotaskIntegrations\n            BillingItem\n            BillingItemApprovalLevel\n            ChangeRequestLink\n            ClientPortalUser\n            Contact\n            Contract\n            ContractBlock\n            ContractCost\n            ContractFactor\n            ContractMilestone\n            ContractNote\n            ContractRate\n            ContractRetainer\n            ContractService\n            ContractServiceAdjustment\n            ContractServiceBundle\n            ContractServiceBundleAdjustment\n            ContractServiceBundleUnit\n            ContractServiceUnit\n            ContractTicketPurchase\n            Country\n            Department\n            Entity\n            EntityDuplicateStatus\n            EntityInfo\n            EntityReturnInfo\n            EntityReturnInfoDatabaseAction\n            ExpenseItem\n            ExpenseReport\n            Field\n            InstalledProduct\n            InstalledProductType\n            InstalledProductTypeUdfAssociation\n            InternalLocation\n            InventoryItem\n            InventoryItemSerialNumber\n            InventoryLocation\n            InventoryTransfer\n            Invoice\n            InvoiceTemplate\n            Opportunity\n            PaymentTerm\n            Phase\n            PickListValue\n            Product\n            ProductVendor\n            Project\n            ProjectCost\n            ProjectNote\n            PurchaseOrder\n            PurchaseOrderItem\n            PurchaseOrderReceive\n            Quote\n            QuoteItem\n            QuoteLocation\n            Resource\n            ResourceRole\n            ResourceSkill\n            Role\n            SalesOrder\n            Service\n            ServiceBundle\n            ServiceBundleService\n            ServiceCall\n            ServiceCallTask\n            ServiceCallTaskResource\n            ServiceCallTicket\n            ServiceCallTicketResource\n            ShippingType\n            Skill\n            Task\n            TaskNote\n            TaskPredecessor\n            TaskSecondaryResource\n            Tax\n            TaxCategory\n            TaxRegion\n            Ticket\n            TicketChangeRequestApproval\n            TicketCost\n            TicketNote\n            TicketSecondaryResource\n            TimeEntry\n            UserDefinedField\n            UserDefinedFieldDefinition\n            UserDefinedFieldListItem\n</code></pre>\n\n<p>I need to use the ATWSResponse type but I don't really understand how to do this. Furthermore, I'm attempting to simulate this vb.net code part which does what I'm trying to do in Python:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Sub ProcessTicket()\n    Dim boolQueryFinished = False\n    Dim strCurrentID As String = \"0\"\n    Dim strQuery As String\n    Dim strCriteria As String = \"\"\n    Dim TicketArray(0) As Ticket\n\n    While (Not (boolQueryFinished))\n        If LCase(Trim(varIgnoreTicketStatus)) = \"true\" Then\n            WriteToLog(\"Updating All Tickets Where EstimatedHours Is Null\")\n        Else\n            WriteToLog(\"Updating Ticket Where Status &lt;&gt; Complete And EstimatedHours Is Null\")\n            ' 5 - Complete\n            strCriteria = \"&lt;condition&gt;&lt;field&gt;Status&lt;expression op=\"\"NotEqual\"\"&gt;5&lt;/expression&gt;&lt;/field&gt;&lt;/condition&gt;\"\n        End If\n\n        strQuery = \"&lt;queryxml&gt;&lt;entity&gt;Ticket&lt;/entity&gt;&lt;query&gt;\" &amp; _\n                    \"&lt;condition&gt;&lt;field&gt;id&lt;expression op=\"\"greaterthan\"\"&gt;\" &amp; strCurrentID &amp; \"&lt;/expression&gt;&lt;/field&gt;&lt;/condition&gt;\" &amp; strCriteria &amp; _\n                    \"&lt;condition&gt;&lt;field&gt;EstimatedHours&lt;expression op=\"\"isnull\"\"&gt;&lt;/expression&gt;&lt;/field&gt;&lt;/condition&gt;\" &amp; _\n                    \"&lt;/query&gt;&lt;/queryxml&gt;\"\n\n        Dim r As ATWSResponse\n        Dim strLog As String\n\n        r = ATWSService.query(strQuery)\n        WriteToLog(\"Found \" &amp; r.EntityResults.Length &amp; \" Tickets begining at \" &amp; strCurrentID)\n\n        If r.EntityResults.Length &gt; 0 Then\n            For Each ent As Entity In r.EntityResults\n                CType(ent, Ticket).EstimatedHours = EstHoursDefault\n\n                TicketArray(0) = CType(ent, Ticket)\n\n                Dim sResponse As ATWSResponse\n                Dim entityArray() As Entity = CType(TicketArray, Entity())\n                sResponse = ATWSService.update(entityArray)\n</code></pre>\n\n<p>My question is how can I successfully query with the QueryXML with my Python code and return entities like in the vb.net code?</p>\n"}, {"tags": ["python", "matplotlib", "graph", "networkx"], "comments": [{"owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "edited": false, "score": 3, "creation_date": 1441835077, "post_id": 32488772, "comment_id": 52839873, "body": "I think your deeper issue is that you&#39;re treating latitude as &quot;x&quot; and longitude as &quot;y&quot;.   Instead, &lt;x,y&gt; is &lt;long,lat&gt;.  Inverting the x and y axes won&#39;t change that.  Instead, you&#39;ll need to plot <code>long, lat</code> instead of <code>lat, long</code>."}, {"owner": {"reputation": 74809, "user_id": 9698684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2XY.jpg?s=128&g=1", "display_name": "yatu", "link": "https://stackoverflow.com/users/9698684/yatu"}, "edited": false, "score": 0, "creation_date": 1595324926, "post_id": 32488772, "comment_id": 111428578, "body": "For the general case, use the <code>pos</code> argument in <code>nx.draw</code>, see <a href=\"https://stackoverflow.com/a/63009048/9698684\">Plot NetworkX Graph with coordinates</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1602492"}, "edited": false, "score": 1, "creation_date": 1441833108, "post_id": 32489023, "comment_id": 52839076, "body": "Okay, that is brilliant, because now I know that lat/lon had to be flipped. Thanks!"}], "tags": [], "owner": {"reputation": 4515, "user_id": 4016674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0794ef4d308e37cd2f51a23b25488e13?s=128&d=identicon&r=PG&f=1", "display_name": "hellpanderr", "link": "https://stackoverflow.com/users/4016674/hellpanderr"}, "is_accepted": true, "score": 3, "last_activity_date": 1441832182, "creation_date": 1441832182, "answer_id": 32489023, "question_id": 32488772, "link": "https://stackoverflow.com/questions/32488772/drawing-nodes-with-coordinates-in-correct-position-using-networkx-matplotlib/32489023#32489023", "title": "Drawing nodes with coordinates in correct position using NetworkX/Matplotlib", "body": "<p>You can use </p>\n\n<pre><code>from matplotlib import pyplot\n\npyplot.gca().invert_yaxis()\npyplot.gca().invert_xaxis()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": false, "score": 2, "last_activity_date": 1441840360, "creation_date": 1441840360, "answer_id": 32490563, "question_id": 32488772, "link": "https://stackoverflow.com/questions/32488772/drawing-nodes-with-coordinates-in-correct-position-using-networkx-matplotlib/32490563#32490563", "title": "Drawing nodes with coordinates in correct position using NetworkX/Matplotlib", "body": "<p>you can invert the positions before plotting.</p>\n\n<pre><code>pos = {city:(long, lat) for (city, (lat,long)) in nx.get_node_attributes(G, 'pos').items()}\nnx.draw(G, pos, with_labels=True, node_size=0)\n</code></pre>\n\n<p>What the command does is it takes the dictionary <code>nx.get_node_attributes('pos')</code> and finds all the items.  An item looks like <code>(city, (lat, long))</code>, so it reads in each item in that format and then creates an entry in the new dictionary <code>pos</code> so that <code>pos[city]=(long,lat)</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1602492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10316, "favorite_count": 1, "accepted_answer_id": 32489023, "answer_count": 2, "score": 6, "last_activity_date": 1575104902, "creation_date": 1441831195, "question_id": 32488772, "link": "https://stackoverflow.com/questions/32488772/drawing-nodes-with-coordinates-in-correct-position-using-networkx-matplotlib", "title": "Drawing nodes with coordinates in correct position using NetworkX/Matplotlib", "body": "<p>I know that x/y-axis are flipped (Berlin is south-east of Hamburg), but do I need to fix this manually or can matplotlib/networkx do this for me? And if that needs to be done manually, is there a best way to do it?</p>\n\n<pre><code>import networkx as nx\n\nG = nx.Graph()\n\nG.add_node('Hamburg', pos=(53.5672, 10.0285))\nG.add_node('Berlin', pos=(52.51704, 13.38792))\n\nnx.draw(G, nx.get_node_attributes(G, 'pos'), with_labels=True, node_size=0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5CvUe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5CvUe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 387, "user_id": 3474283, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/99752f0fd0aabaeea3730c8ea733aa0b?s=128&d=identicon&r=PG&f=1", "display_name": "i.krivosheev", "link": "https://stackoverflow.com/users/3474283/i-krivosheev"}, "edited": false, "score": 0, "creation_date": 1441832107, "post_id": 32488699, "comment_id": 52838521, "body": "Django version? I I think it is a problem related to the transaction. Read about this in <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/transactions/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.8/topics/db/transactions&zwnj;&#8203;/</a>"}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 1465244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b5ac13ee3bcca060511fa4d187f2b6d?s=128&d=identicon&r=PG", "display_name": "ryanmrubin", "link": "https://stackoverflow.com/users/1465244/ryanmrubin"}, "is_accepted": false, "score": 0, "last_activity_date": 1441836239, "creation_date": 1441836239, "answer_id": 32489864, "question_id": 32488699, "link": "https://stackoverflow.com/questions/32488699/django-changing-field-which-has-been-created-by-extra/32489864#32489864", "title": "Django changing field which has been created by extra", "body": "<p>You can't directly change the value of that extra field. That's created in a temporary relation and handed to you as a result of calculating <code>date_trunc('year', created)</code> for each record, but not stored in the database.</p>\n\n<p>If you want to change the value of the <code>extra</code> query, you would have to change the attribute it's calculated on.</p>\n\n<p>Since that's the <code>created</code> attribute, I would guess you don't want ot change that, so your best bet might be to have a year attribute defined on the model and handle its calculation and storage entirely within Python and Django, rather than through an extra query.</p>\n"}], "owner": {"reputation": 199, "user_id": 5301900, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f3b6269861872ab92afde7d5f25cff53?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Jerkson", "link": "https://stackoverflow.com/users/5301900/thomas-jerkson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441836239, "creation_date": 1441830911, "question_id": 32488699, "link": "https://stackoverflow.com/questions/32488699/django-changing-field-which-has-been-created-by-extra", "title": "Django changing field which has been created by extra", "body": "<p>Is there any option to change the filed which has been created by .extra method?</p>\n\n<p>I have this:</p>\n\n<pre><code>self.x = MyModel.objects.extra(\n        select={\n        \"year\": \"date_trunc('year', created)\",\n        }\n    )\n#I have field 'year'\n\nfor i in self.x:\n    i.year = datetime.datetime(1999,1,1,1,1)\n    i.save()\n#I changed this field\n\n\n# but here....\nself.x = self.x.values('year').annotate(\n            Sum('clicked'))\n# field 'year' has the same value as at the beginning. \n</code></pre>\n\n<p>Can I change this field?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1441830893, "post_id": 32488663, "comment_id": 52837936, "body": "You&#39;re looking at a hexadecimal number (represented by prefixing with <code>0x...</code>): <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hexadecimal</a>"}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441830956, "post_id": 32488663, "comment_id": 52837960, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/209513/convert-hex-string-to-int-in-python\">Convert hex string to int in Python</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441831017, "post_id": 32488663, "comment_id": 52837988, "body": "<code>x=0xabcdef1234567890</code>  is creating a long  ... what does the string have to do with anything ..."}, {"owner": {"reputation": 99, "user_id": 4203326, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bcebad4925e14525d815321f01a73bf5?s=128&d=identicon&r=PG&f=1", "display_name": "bay", "link": "https://stackoverflow.com/users/4203326/bay"}, "edited": false, "score": 0, "creation_date": 1441831667, "post_id": 32488663, "comment_id": 52838298, "body": "the question is: How to generate randomly variable with type=long ?"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1441831851, "post_id": 32488663, "comment_id": 52838398, "body": "Since long has unlimited precision, you cannot generate a random value with uniform distribution."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4203326, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bcebad4925e14525d815321f01a73bf5?s=128&d=identicon&r=PG&f=1", "display_name": "bay", "link": "https://stackoverflow.com/users/4203326/bay"}, "edited": false, "score": 0, "creation_date": 1441831388, "post_id": 32488742, "comment_id": 52838157, "body": "how to get value (ex: x = 0xabcdef1234567890) randomly?"}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441831559, "post_id": 32488742, "comment_id": 52838242, "body": "Note that <code>long()</code> does not exists anymore in python3. Use <code>int()</code> instead."}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832019, "last_edit_date": 1441832019, "creation_date": 1441831081, "answer_id": 32488742, "question_id": 32488663, "link": "https://stackoverflow.com/questions/32488663/generate-random-long-in-python-or-convert-str-to-long/32488742#32488742", "title": "generate random long in python OR convert str to long", "body": "<pre><code>x = 0xabcdef1234567890\ntype(x) #long\nx = 51924361L\ntype(x) #long\nx = 0xDEFABCECBDAECBFBAEl\ntype(x) #long\nx = -4721885298529L\ntype(x) #long\n\nx = long(1)\ntype(x) #long\n\n\ndef generate_random_long():\n    import random\n    return long(random.choice(range(0,10000000)))\n\ndef generate_random_long_from_string():\n    import random\n    return long('0x'+''.join(random.choice('0123456789abcdef') for n in xrange(12)),16)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 4203326, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bcebad4925e14525d815321f01a73bf5?s=128&d=identicon&r=PG&f=1", "display_name": "bay", "link": "https://stackoverflow.com/users/4203326/bay"}, "edited": false, "score": 0, "creation_date": 1441989584, "post_id": 32489144, "comment_id": 52914558, "body": "type(hex(l)) will return str"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "reply_to_user": {"reputation": 99, "user_id": 4203326, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bcebad4925e14525d815321f01a73bf5?s=128&d=identicon&r=PG&f=1", "display_name": "bay", "link": "https://stackoverflow.com/users/4203326/bay"}, "edited": false, "score": 0, "creation_date": 1441991188, "post_id": 32489144, "comment_id": 52915386, "body": "l is the long variable.  You asked for the hex format."}], "tags": [], "owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832660, "creation_date": 1441832660, "answer_id": 32489144, "question_id": 32488663, "link": "https://stackoverflow.com/questions/32488663/generate-random-long-in-python-or-convert-str-to-long/32489144#32489144", "title": "generate random long in python OR convert str to long", "body": "<p>If what you are looking for is a 64-bit random number:</p>\n\n<pre><code>import os\nl=0\nfor c in os.urandom(8):\n    l = (l*256) + ord(c)\nprint hex(l)\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 4203326, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bcebad4925e14525d815321f01a73bf5?s=128&d=identicon&r=PG&f=1", "display_name": "bay", "link": "https://stackoverflow.com/users/4203326/bay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1663, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1441832660, "creation_date": 1441830767, "last_edit_date": 1441831206, "question_id": 32488663, "link": "https://stackoverflow.com/questions/32488663/generate-random-long-in-python-or-convert-str-to-long", "title": "generate random long in python OR convert str to long", "body": "<p>I need to generate random variable type=long, so it should looks like:x=0xabcdef1234567890</p>\n\n<p>EDIT:</p>\n\n<pre><code>&gt;&gt;&gt; x='0xa123456789abcdef'\n&gt;&gt;&gt; type(x)\n&lt;type 'str'&gt;\n&gt;&gt;&gt; long(x, 16)\n11611200575284956655L         \n&gt;&gt;&gt; x=0xa123456789abcdef       \n&gt;&gt;&gt; type(x)\n&lt;type 'long'&gt;\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441830745, "post_id": 32488623, "comment_id": 52837865, "body": "<code>ones</code> and <code>zeros</code>? are they built in? <code>shape</code>?"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441830790, "post_id": 32488623, "comment_id": 52837890, "body": "@taesu <code>ones</code> and <code>zeros</code> is from  <code>numpy</code> library"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441830871, "post_id": 32488623, "comment_id": 52837926, "body": "I&#39;m asking op because nowhere does he mention <code>numpy</code>, anyways I approved your edit req"}, {"owner": {"reputation": 93, "user_id": 2386083, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d85511051fb33418b9c63c99cb25aa51?s=128&d=identicon&r=PG", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/2386083/mohamad"}, "edited": false, "score": 0, "creation_date": 1441918303, "post_id": 32488623, "comment_id": 52881838, "body": "Sorry, I forgot to mention that. They&#39;re all from numpy."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2386083, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d85511051fb33418b9c63c99cb25aa51?s=128&d=identicon&r=PG", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/2386083/mohamad"}, "edited": false, "score": 0, "creation_date": 1441831757, "post_id": 32488811, "comment_id": 52838346, "body": "So all the time I get a column from an array, I have to reshape it? Is there any other way? Why is it (5,nothing), instead of (5,1)?"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 93, "user_id": 2386083, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d85511051fb33418b9c63c99cb25aa51?s=128&d=identicon&r=PG", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/2386083/mohamad"}, "edited": false, "score": 0, "creation_date": 1441832572, "post_id": 32488811, "comment_id": 52838778, "body": "@Mohamad yes, you can to use <code>C = A[:,0:1] + B[:,0:1]</code> instead of <code>C = A[:,0] + B[:,0]</code>"}], "tags": [], "owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1441832596, "last_edit_date": 1495535195, "creation_date": 1441831322, "answer_id": 32488811, "question_id": 32488623, "link": "https://stackoverflow.com/questions/32488623/why-isnt-the-shape-of-the-array-correct/32488811#32488811", "title": "Why isn&#39;t the shape of the array correct?", "body": "<p><strong>Solution 1</strong></p>\n\n<pre><code>D = X + C.reshape(shape(X))\nshape(D)                        \n#(5, 1)\nprint(D)\n#[[ 3.]\n# [ 3.]\n# [ 3.]\n# [ 3.]\n# [ 3.]]\n</code></pre>\n\n<p><strong>Solution 2 (better)</strong> <a href=\"https://stackoverflow.com/questions/17622905/numpy-convert-row-vector-to-column-vector\">numpy-convert-row-vector-to-column-vector</a></p>\n\n<pre><code>C = A[:,0:1] + B[:,0:1]\n</code></pre>\n\n<p><strong>Why,</strong></p>\n\n<p><code>C</code> and <code>X</code> have different shapes, and you sum row with number, geting a matrix with shape (5,5)</p>\n\n<pre><code>print(C)\n#[ 3.  3.  3.  3.  3.]\n\nprint(X)\n#[[ 0.]\n# [ 0.]\n# [ 0.]\n# [ 0.]\n# [ 0.]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 2, "last_activity_date": 1441838530, "creation_date": 1441838530, "answer_id": 32490302, "question_id": 32488623, "link": "https://stackoverflow.com/questions/32488623/why-isnt-the-shape-of-the-array-correct/32490302#32490302", "title": "Why isn&#39;t the shape of the array correct?", "body": "<p>When broadcasting an array like <code>C</code> with <code>(5,)</code> with a 2d array, <code>numpy</code> adds dimensions at the start as needed, <code>(1,5)</code>.  So a <code>(1,5) + (5,1) =&gt; (5,5)</code>.</p>\n\n<p>To get a <code>(5,1)</code> result, you need, in one way or other, make <code>C</code> a <code>(5,1)</code> array.</p>\n\n<pre><code>C[:,None] + X   # None or np.newaxis is an easy way\nC.reshape(5,1) + X  # equivalent\n</code></pre>\n\n<p>or index <code>A</code> with a list or slice</p>\n\n<pre><code>C = A[:,[0]] + B[:,[0]]\n</code></pre>\n\n<p><code>A[:,0]</code> removes a dimension, producing a <code>(5,)</code> array.</p>\n\n<p>Note, MATLAB adds the default dimensions to the end; <code>numpy</code> because it has a default <code>C</code> order, does so at the start.  Adding dimensions like that requires minimal change, just changing the <code>shape</code>.</p>\n\n<p>Functions like <code>np.sum</code> have a <code>keepdimensions</code> parameter to avoid this sort of dimension reduction.  </p>\n"}], "owner": {"reputation": 93, "user_id": 2386083, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d85511051fb33418b9c63c99cb25aa51?s=128&d=identicon&r=PG", "display_name": "Mohamad", "link": "https://stackoverflow.com/users/2386083/mohamad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 32490302, "answer_count": 2, "score": 2, "last_activity_date": 1441838530, "creation_date": 1441830645, "last_edit_date": 1441837838, "question_id": 32488623, "link": "https://stackoverflow.com/questions/32488623/why-isnt-the-shape-of-the-array-correct", "title": "Why isn&#39;t the shape of the array correct?", "body": "<p>I'm having some array operation issues. Here's an example: </p>\n\n<pre><code>A = np.ones((5,2))\nB = np.ones((5,2)) * 2\nX = np.zeros((5,1))\n\nC = A[:,0] + B[:,0]\nD = C + X\n</code></pre>\n\n<p>The shapes I'm getting are:</p>\n\n<pre><code>shape(A[:,0]) = (5,)\nshape(B[:,0]) = (5,)\nshape(X) = (5,1)\nshape(C) = (5,)\nshape(D) = (5,5)\n</code></pre>\n\n<p>When I extract a column from an array, the output is from shape (5,), not (5,1). Is there any way to correct that without having to reshape arrays all the time?</p>\n\n<p>When I add D = C + X, the result is an (5,5) array, but should be (5,1). </p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 4080815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7076dba4da4f65300484fa2de5a85a4?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4080815/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1441831052, "creation_date": 1441831052, "answer_id": 32488738, "question_id": 32488570, "link": "https://stackoverflow.com/questions/32488570/filtering-pandas-dataframe-on-two-criteria-where-one-column-is-a-list/32488738#32488738", "title": "Filtering Pandas dataframe on two criteria where one column is a list", "body": "<p>you can try something like this :</p>\n\n<pre><code>sum(['A' in i for i in parts_df[parts_df['Project Type']=='Type 1']['Parts'].tolist()])\n</code></pre>\n\n<p>sample :</p>\n\n<pre><code>In[32]: parts_df = pd.DataFrame(data = [['Type 1', ['A', 'B']], ['Type 2', ['A']], ['Type 1', ['C']]], columns=['Project Type', 'Parts'])\nIn[33]: sum(['A' in i for i in parts_df[parts_df['Project Type']=='Type 1']['Parts'].tolist()])\nOut[33]: 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 0, "last_activity_date": 1441831185, "creation_date": 1441831185, "answer_id": 32488769, "question_id": 32488570, "link": "https://stackoverflow.com/questions/32488570/filtering-pandas-dataframe-on-two-criteria-where-one-column-is-a-list/32488769#32488769", "title": "Filtering Pandas dataframe on two criteria where one column is a list", "body": "<p>IIUC you want the following:</p>\n\n<pre><code>In [13]:\nparts_df.loc[parts_df['Project Type'] == 'Type 1','Parts'].apply(lambda x: x.count('A'))\n\nOut[13]:\n0    1\nName: Parts, dtype: int64\n</code></pre>\n\n<p>If you want the scalar value rather than a series then you can call <code>.values</code> attribute and index into the np array:</p>\n\n<pre><code>In [15]:\nparts_df.loc[parts_df['Project Type'] == 'Type 1','Parts'].apply(lambda x: x.count('A')).values[0]\n\nOut[15]:\n1\n</code></pre>\n\n<p>You could just add a column that counts the 'A' parts:</p>\n\n<pre><code>In [17]:\nparts_df['A count'] = parts_df['Parts'].apply(lambda x: x.count('A'))\nparts_df\nOut[17]:\n  Project Type   Parts  A count\n0       Type 1  [A, B]        1\n1       Type 2     [B]        0\n</code></pre>\n\n<p>you can then filter:</p>\n\n<pre><code>In [18]:    \nparts_df[(parts_df['Project Type'] == 'Type 1') &amp; (parts_df['A count'] &gt; 0)]\n\nOut[18]:\n  Project Type   Parts  A count\n0       Type 1  [A, B]        1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 799, "user_id": 4080476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8wTd.png?s=128&g=1", "display_name": "Brian Pendleton", "link": "https://stackoverflow.com/users/4080476/brian-pendleton"}, "is_accepted": false, "score": 0, "last_activity_date": 1441831246, "creation_date": 1441831246, "answer_id": 32488788, "question_id": 32488570, "link": "https://stackoverflow.com/questions/32488570/filtering-pandas-dataframe-on-two-criteria-where-one-column-is-a-list/32488788#32488788", "title": "Filtering Pandas dataframe on two criteria where one column is a list", "body": "<p>Change the <code>'A' in df['Parts']</code> to a lambda.</p>\n\n<pre><code>import pandas as pd\nparts_df = pd.DataFrame(data = [['Type 1', ['A', 'B']], ['Type 2', ['B']]], columns=['Project Type', 'Parts'])\nres = (parts_df[(parts_df['Project Type'] == 'Type 1') &amp; (parts_df['Parts'].apply(lambda x: 'A' in x))]).count()\nres.max()\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": false, "score": 0, "last_activity_date": 1441835774, "last_edit_date": 1441835774, "creation_date": 1441835445, "answer_id": 32489718, "question_id": 32488570, "link": "https://stackoverflow.com/questions/32488570/filtering-pandas-dataframe-on-two-criteria-where-one-column-is-a-list/32489718#32489718", "title": "Filtering Pandas dataframe on two criteria where one column is a list", "body": "<p>You can spend a second to re-format the columns, and make life a little easier:</p>\n\n<pre><code>parts_df.Parts = parts_df.Parts.map(lambda x: ' '.join(x))\n#  Project type Parts\n#0       Type 1   A B\n#1       Type 2     B\n</code></pre>\n\n<p>Now you can use the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.get_dummies.html\" rel=\"nofollow\"><code>Series.str.get_dummies</code></a> method:</p>\n\n<pre><code>dummies = parts_df.Parts.str.get_dummies( sep=' ')\n#   A  B\n#0  1  1\n#1  0  1\n</code></pre>\n\n<p>which shows the presence or absence of each \"Part\" using either a 1 or 0 respectively.  Use this dummies frame to create a dataframe that can easily be manipulated using all of the standard pandas methods (pandas doesn't like lists in columns):</p>\n\n<pre><code>new_parts_df = pandas.concat( (parts_df['Project Type'], dummies), axis=1)\n#  Project type  A  B\n#0       Type 1  1  1\n#1       Type 2  0  1\n</code></pre>\n\n<p>You can now easily count groups in several ways. The most efficient thing to do would be use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow\"><code>pandas.DataFrame.query</code></a>, but the unfortunate white space in your column name <code>\"Project Type\"</code> makes this difficult. I would avoid white spaces in column names whenever possible. Try this:</p>\n\n<pre><code>new_parts_df.rename( columns={'Project Type': 'Project_Type'}, inplace=True)\nprint(len(new_parts_df.query( 'Project_Type==\"Type 1\" and A==1')))\n# 1\n</code></pre>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 32488738, "answer_count": 4, "score": 0, "last_activity_date": 1441835774, "creation_date": 1441830465, "question_id": 32488570, "link": "https://stackoverflow.com/questions/32488570/filtering-pandas-dataframe-on-two-criteria-where-one-column-is-a-list", "title": "Filtering Pandas dataframe on two criteria where one column is a list", "body": "<p>I have a <code>Pandas</code> <code>Dataframe</code> with columns <code>Project Type</code> and <code>Parts</code>. I would like to know how many part As are used in projects of Project Type 1. I am trying to use <code>.count()</code>, but it doesn't return just a single number.</p>\n\n<pre><code>import pandas as pd\nparts_df = pd.DataFrame(data = [['Type 1', ['A', 'B']], ['Type 2', ['B']]], columns=['Project Type', 'Parts'])\nprint (parts_df[(parts_df['Project Type'] == 'Type 1') &amp; ('A' in parts_df['Parts'])]).count()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Project Type    0\nParts           0\ndtype: int64\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>1\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "edited": false, "score": 1, "creation_date": 1441830419, "post_id": 32488533, "comment_id": 52837691, "body": "Never heard of <code>PriorityQueue</code>s, but try <code>copy.deepcopy()</code> perhaps?"}, {"owner": {"reputation": 3192, "user_id": 4667484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4971faccfbc4ecb4ccdc276b292f59?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Haley", "link": "https://stackoverflow.com/users/4667484/charlie-haley"}, "edited": false, "score": 0, "creation_date": 1441830721, "post_id": 32488533, "comment_id": 52837850, "body": "copy.deepcopy doesn&#39;t run on PriorityQueues.  Check out this question: <a href=\"http://stackoverflow.com/questions/3377202/how-to-deepcopy-a-queue-in-python\" title=\"how to deepcopy a queue in python\">stackoverflow.com/questions/3377202/&hellip;</a>"}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441831598, "post_id": 32488533, "comment_id": 52838266, "body": "Did you read the answer? To quote the link you gave <code>The queue module in Python is used for synchronizing shared data between threads. It is not intended as a data structure and it doesn&#39;t support copying (not even shallow copy).</code>"}], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 4236485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcad7e54f3975c51d8145fd84f4a4006?s=128&d=identicon&r=PG&f=1", "display_name": "OferP", "link": "https://stackoverflow.com/users/4236485/oferp"}, "is_accepted": false, "score": 2, "last_activity_date": 1441831670, "creation_date": 1441831670, "answer_id": 32488902, "question_id": 32488533, "link": "https://stackoverflow.com/questions/32488533/how-to-clone-a-queue-in-python/32488902#32488902", "title": "How to clone a queue in python?", "body": "<p>Well, copy.copy just shallow copy.\nAs Charlie says, you can't do deep copy on PriorityQueues, but I found that since pq implemented by a queue, this might work for you:</p>\n\n<pre><code>q2 = Q.PriorityQueue()\nq2.queue = copy.deepcopy(q1.queue)\nprintQueue(q1)\nprintQueue(q2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 4, "last_activity_date": 1441831869, "last_edit_date": 1495541384, "creation_date": 1441831869, "answer_id": 32488949, "question_id": 32488533, "link": "https://stackoverflow.com/questions/32488533/how-to-clone-a-queue-in-python/32488949#32488949", "title": "How to clone a queue in python?", "body": "<p>If you copy a queue, it doesn't work. You get back exactly the same object. </p>\n\n<pre><code>import Queue as Q\nimport copy\nq1 = Q.PriorityQueue()\nq2 = copy.copy(q1)\nprint repr(q2), repr(q1)\n\n&gt;&gt; &lt;Queue.PriorityQueue instance at 0x10568f2d8&gt; &lt;Queue.PriorityQueue instance at 0x10568f368&gt;\n</code></pre>\n\n<p>From there, your printQueue statement actually depletes the <code>Queue</code>. That's why it's empty if you copy it again; you're copying an empty queue. </p>\n\n<p>If you want to copy the queue, you can use <code>Q.get()</code> and <code>Q.put()</code>, or even <code>Q.queue</code> like so</p>\n\n<pre><code>q1 = Q.PriorityQueue()\n## .. enter items\n\nq2 = Q.PriorityQueue()\nfor i in q1.queue: q2.put(i)\n</code></pre>\n\n<p>But, you should read the other question, which has a couple of good answers! In particular, you may be looking for a data structure, that's <code>collections.deque</code> for example, not the synchronized <code>Queue</code>, intended for safe communication between <code>Threads</code>. See <a href=\"https://stackoverflow.com/questions/3377202/how-to-deepcopy-a-queue-in-python\">how to deepcopy a queue in python</a>.</p>\n"}], "owner": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8513, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1441831869, "creation_date": 1441830285, "last_edit_date": 1441830544, "question_id": 32488533, "link": "https://stackoverflow.com/questions/32488533/how-to-clone-a-queue-in-python", "title": "How to clone a queue in python?", "body": "<p>I have got a piece of code where I have a priority queue and I am trying to clone to traverse,</p>\n\n<pre><code>import Queue as Q\n\nimport copy\n\n    q1 = Q.PriorityQueue()\n\n    def printQueue(q):\n        while not q.empty():\n            print (q.get()),\n        print ''\n\n    q1.put((5,'s'))\n    q1.put((2,'e'))\n    q1.put((0,'a'))\n    q1.put((0,'z'))\n    printQueue(copy.copy(q1)) \n    print 'second'\n    printQueue(copy.copy(q1))\n</code></pre>\n\n<p>I found on the web that I can do clone using copy.copy. However in my code, it is not working. When I call prinQueue for the second time, by that time the priority queue is empty. Could somebody point out what is wrong with the code?   </p>\n"}, {"tags": ["python", "counter"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 5, "creation_date": 1441830130, "post_id": 32488466, "comment_id": 52837544, "body": "Ok, looks good. Are you having some kind of trouble?"}, {"owner": {"reputation": 153, "user_id": 5285349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c6e48d86c74fd1fca638a7ca513297de?s=128&d=identicon&r=PG&f=1", "display_name": "JamalCrawford..", "link": "https://stackoverflow.com/users/5285349/jamalcrawford"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1441830218, "post_id": 32488466, "comment_id": 52837593, "body": "TypeError: &#39;int&#39; object is not iterable"}, {"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "edited": false, "score": 3, "creation_date": 1441830255, "post_id": 32488466, "comment_id": 52837606, "body": "@CaseyJones then please describe the problem in the question and add relevant code, specifically, the code calling the function"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 2, "creation_date": 1441830305, "post_id": 32488466, "comment_id": 52837642, "body": "Why not just do: <code>myList.count(target)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 2, "creation_date": 1441830378, "post_id": 32488507, "comment_id": 52837668, "body": "Booleans evaluate to 0 or 1 when summed. The answer is right."}, {"owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1441830384, "post_id": 32488507, "comment_id": 52837671, "body": "This actually works. This&#39;ll count the number of appearances."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1441830421, "post_id": 32488507, "comment_id": 52837694, "body": "This function does work, but then again so does the OP&#39;s function, so I&#39;m not sure this answers the question. (although it&#39;s not totally clear what the question <i>is</i>, yet)"}, {"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "edited": false, "score": 1, "creation_date": 1441830443, "post_id": 32488507, "comment_id": 52837705, "body": "while technically correct, this doesn&#39;t answer the question (partly OP&#39;s fault since no question was actually asked) just another way of accomplishing something that already works"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1441830503, "post_id": 32488507, "comment_id": 52837727, "body": "You don&#39;t need to build the list first, you can <code>sum(x == target for x in myList)</code> but <code>list.count</code> seems a better fit for a single value"}], "tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 2, "last_activity_date": 1441830602, "last_edit_date": 1441830602, "creation_date": 1441830205, "answer_id": 32488507, "question_id": 32488466, "link": "https://stackoverflow.com/questions/32488466/python-counter-with-target-value/32488507#32488507", "title": "python counter with target value", "body": "<p>Okay there are going to be better answers, but here's one.</p>\n\n<pre><code>def countTarget(myList, target):\n    return sum([x == target for x in myList])\n</code></pre>\n\n<p><strong>Edit</strong> </p>\n\n<p>There's a much better alternative in the comments.</p>\n\n<pre><code>myList.count(target)\n</code></pre>\n\n<p>...</p>\n"}, {"tags": [], "owner": {"reputation": 3812, "user_id": 663341, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/64e083dae549646c34f5691a2528ad3a?s=128&d=identicon&r=PG", "display_name": "Jimmy Huch", "link": "https://stackoverflow.com/users/663341/jimmy-huch"}, "is_accepted": false, "score": 0, "last_activity_date": 1441831519, "last_edit_date": 1592644375, "creation_date": 1441830929, "answer_id": 32488704, "question_id": 32488466, "link": "https://stackoverflow.com/questions/32488466/python-counter-with-target-value/32488704#32488704", "title": "python counter with target value", "body": "<p>Use the <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">Counter</a> class. It's a special type of <em>dict</em> that works very well for counting the frequency of a particular value inside a list (as opposed to using a dict yourself) because it will circumvent some nits like running into a <code>KeyError</code> when trying to count a target that doesn't exist in the list (<code>Counter</code> on the other hand will just return 0).</p>\n<pre><code>from collections import Counter\n\ndef countTarget(myList, target):\n  return Counter(myList)[target]\n</code></pre>\n<p>Alternatively, you can use the bult in <code>count</code> function for lists, as mentioned in a comment below your question.</p>\n<p><code>def countTarget(myList, target): return myList.count(target)</code></p>\n<p>However, at that point your <code>countTarget</code> function isn't doing you much good. If you really want to have both objects be parameters, you can also use the count function from a static context...</p>\n<p><code>list.count(myList, target)</code></p>\n<p>But seriously, just use <code>myList.count(target)</code>. It's probably the most simple and straightforward for your use case (by the looks of it). If you need to count targets multiple times, then consider keeping your own <code>Counter</code> as mentioned before.</p>\n"}], "owner": {"reputation": 153, "user_id": 5285349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c6e48d86c74fd1fca638a7ca513297de?s=128&d=identicon&r=PG&f=1", "display_name": "JamalCrawford..", "link": "https://stackoverflow.com/users/5285349/jamalcrawford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441832178, "creation_date": 1441830029, "last_edit_date": 1441832178, "question_id": 32488466, "link": "https://stackoverflow.com/questions/32488466/python-counter-with-target-value", "title": "python counter with target value", "body": "<p>I am trying to take,as  arguments, two  values: a   list    and a   target  value. It returns   the #   number  of  times   that    the target  value   appears in  the list.</p>\n\n<pre><code>def countTarget(myList, target):\n    #initialize the counter to  zero\n    counter =   0\n    for element in  myList:\n        #compare    the value   in  the list to the target  value\n        #if they    are the same,   increment   the counter\n        if  element ==  target:\n            counter =   counter +   1\n    return  counter\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1441830462, "post_id": 32488417, "comment_id": 52837713, "body": "It would be useful to demonstrate the issue with a minimal example, that is with several very small DataFrames, one of which is empty, however one approach is to make it non-empty by giving it a row of values, which could be removed from the concatenation after its produced."}, {"owner": {"reputation": 349, "user_id": 4470761, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-n4Vrm_8ZFz8/AAAAAAAAAAI/AAAAAAAAAmI/NG9navoE_Xg/photo.jpg?sz=128", "display_name": "ahlusar1989", "link": "https://stackoverflow.com/users/4470761/ahlusar1989"}, "edited": false, "score": 0, "creation_date": 1441831251, "post_id": 32488417, "comment_id": 52838096, "body": "@TrisNefzger I have added an empty data frame and the desired output. How would I do so? By filling it with a dummy variable or the built in fillna method? Moreover, how would one remove that one instance?"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1441834667, "post_id": 32488417, "comment_id": 52839705, "body": "What version of pandas are you using?"}, {"owner": {"reputation": 349, "user_id": 4470761, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-n4Vrm_8ZFz8/AAAAAAAAAAI/AAAAAAAAAmI/NG9navoE_Xg/photo.jpg?sz=128", "display_name": "ahlusar1989", "link": "https://stackoverflow.com/users/4470761/ahlusar1989"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1441843771, "post_id": 32488417, "comment_id": 52842502, "body": "@joris I am using 0.16.2; Python 3.4.3 64 bit and Jupyter Notebooks as my IDE"}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 4470761, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-n4Vrm_8ZFz8/AAAAAAAAAAI/AAAAAAAAAmI/NG9navoE_Xg/photo.jpg?sz=128", "display_name": "ahlusar1989", "link": "https://stackoverflow.com/users/4470761/ahlusar1989"}, "edited": false, "score": 0, "creation_date": 1441895294, "post_id": 32494247, "comment_id": 52868531, "body": "I have edited my original question starting after: &quot;I welcome feedback on the best method to do this.&quot;"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1441864912, "creation_date": 1441864912, "answer_id": 32494247, "question_id": 32488417, "link": "https://stackoverflow.com/questions/32488417/solution-for-assertionerror-invalid-dtype-determination-in-get-concat-dtype-whe/32494247#32494247", "title": "Solution for AssertionError: invalid dtype determination in get_concat_dtype when concatenating operation on list of Dataframes", "body": "<p>I can't reproduce your error, it works ok for me:</p>\n\n<pre><code>df1 = pd.read_csv('https://gist.githubusercontent.com/ahlusar1989/42708e6a3ca0aed9b79b/raw/f37738994c3285e1b670d3926e716ae027dc30bc/sample_data.csv')\ndf2 = pd.read_csv('https://gist.githubusercontent.com/ahlusar1989/26eb4ce1578e0844eb82/raw/23d9063dad7793d87a2fed2275857c85b59d56bb/sample2.csv')\ndf3 = pd.read_csv('https://gist.githubusercontent.com/ahlusar1989/0721bd8b71416b54eccd/raw/b7ecae63beff88bd076a93d83500eb5fa67e1278/empty_df.csv')\npd.concat([df1,df2,df3], keys = ['one', 'two','three'], ignore_index=True).head()\n\nOut[68]: \n   'B'  'C'  'D'  'E'  'F'  'G'  'A'  AT  AccountNum  AcctType ...   0  NaN  NaN  NaN  NaN  NaN  NaN  NaN NaN         NaN       NaN ...    \n1  NaN  NaN  NaN  NaN  NaN  NaN  NaN NaN         NaN       NaN ...    \n2  NaN  NaN  NaN  NaN  NaN  NaN  NaN NaN         NaN       NaN ...    \n3  NaN  NaN  NaN  NaN  NaN  NaN  NaN NaN         NaN       NaN ...    \n4  NaN  NaN  NaN  NaN  NaN  NaN  NaN NaN         NaN       NaN ...    \n\n   ToAccountNum  ToAccountT  TransferAmount  TransferMade  TransferTimestamp  0           NaN         NaN               4          True      1/7/2000 0:00   \n1           NaN         NaN               4          True      1/8/2000 0:00   \n2           NaN         NaN               6          True      1/9/2000 0:00   \n3           NaN         NaN               6          True     1/10/2000 0:00   \n4           NaN         NaN               0         False     1/11/2000 0:00   \n\n   Ttype  Unnamed: 0  WA   WC  Zip  \n0      D           4 NaN  NaN  NaN  \n1      D           5 NaN  NaN  NaN  \n2      D          13 NaN  NaN  NaN  \n3      D          14 NaN  NaN  NaN  \n4      T          25 NaN  NaN  NaN  \n\n[5 rows x 41 columns]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1866, "user_id": 1771155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cHzDG.jpg?s=128&g=1", "display_name": "Vincent Claes", "link": "https://stackoverflow.com/users/1771155/vincent-claes"}, "is_accepted": false, "score": 2, "last_activity_date": 1453457004, "last_edit_date": 1453457004, "creation_date": 1445438632, "answer_id": 33262394, "question_id": 32488417, "link": "https://stackoverflow.com/questions/32488417/solution-for-assertionerror-invalid-dtype-determination-in-get-concat-dtype-whe/33262394#33262394", "title": "Solution for AssertionError: invalid dtype determination in get_concat_dtype when concatenating operation on list of Dataframes", "body": "<p>I have noticed that it is possible, when concatenating or appending with an empty dataframe. Try the following example: </p>\n\n<pre><code>    my_headers = ['A,' 'B', 'C']\n</code></pre>\n\n<p>I have a DataFrame df_input with values and where the headers are not necessarily the same as <code>my_headers</code>.</p>\n\n<pre><code>    dictionary = {element:None for element in my_headers}\n    df = DataFrame(dictionary, index=[0])\n    #append the two dataframes\n    df_final = df_input.append(df)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 785, "user_id": 170210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9f75e85eb82d260494e2fa3b92a204f5?s=128&d=identicon&r=PG", "display_name": "Nicholas Palko", "link": "https://stackoverflow.com/users/170210/nicholas-palko"}, "edited": false, "score": 1, "creation_date": 1478015765, "post_id": 40105017, "comment_id": 67980507, "body": "Confirmed, exact same issue. Error message could be better"}], "tags": [], "owner": {"reputation": 301, "user_id": 3662218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5061fcaf9b855b2bdd1e9e3c86f010e0?s=128&d=identicon&r=PG&f=1", "display_name": "remi", "link": "https://stackoverflow.com/users/3662218/remi"}, "is_accepted": false, "score": 14, "last_activity_date": 1476784362, "creation_date": 1476784362, "answer_id": 40105017, "question_id": 32488417, "link": "https://stackoverflow.com/questions/32488417/solution-for-assertionerror-invalid-dtype-determination-in-get-concat-dtype-whe/40105017#40105017", "title": "Solution for AssertionError: invalid dtype determination in get_concat_dtype when concatenating operation on list of Dataframes", "body": "<p>During one of our projects we experienced the same error. After debugging we found the problem. One of our dataframes had 2 columns with the same name. After renaming one of the columns our problem was solved.</p>\n"}, {"comments": [{"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1509383543, "post_id": 45714987, "comment_id": 80988211, "body": "That&#39;s what did it for me."}], "tags": [], "owner": {"reputation": 5165, "user_id": 396133, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7fb82b52e5fc3b4fc3edf98b139225d?s=128&d=identicon&r=PG", "display_name": "Abramodj", "link": "https://stackoverflow.com/users/396133/abramodj"}, "is_accepted": false, "score": 9, "last_activity_date": 1517497990, "last_edit_date": 1517497990, "creation_date": 1502890230, "answer_id": 45714987, "question_id": 32488417, "link": "https://stackoverflow.com/questions/32488417/solution-for-assertionerror-invalid-dtype-determination-in-get-concat-dtype-whe/45714987#45714987", "title": "Solution for AssertionError: invalid dtype determination in get_concat_dtype when concatenating operation on list of Dataframes", "body": "<p>This often means that you have two columns with the same names in one of the dataframes.</p>\n\n<p>You can check if this is the case by looking at the output of</p>\n\n<pre><code>len(df.columns) &gt; len(np.unique(df.columns))\n</code></pre>\n\n<p>for each dataframe <code>df</code> that you are trying to concatenate.</p>\n\n<p>You can identify the culprit columns through using <code>Counter</code> see for example:</p>\n\n<pre><code>from collections import Counter\nduplicates = [c for c in Counter(df.columns).items() if c[1] &gt; 1]\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 4470761, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-n4Vrm_8ZFz8/AAAAAAAAAAI/AAAAAAAAAmI/NG9navoE_Xg/photo.jpg?sz=128", "display_name": "ahlusar1989", "link": "https://stackoverflow.com/users/4470761/ahlusar1989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6854, "favorite_count": 1, "answer_count": 4, "score": 8, "last_activity_date": 1517497990, "creation_date": 1441829854, "last_edit_date": 1441894441, "question_id": 32488417, "link": "https://stackoverflow.com/questions/32488417/solution-for-assertionerror-invalid-dtype-determination-in-get-concat-dtype-whe", "title": "Solution for AssertionError: invalid dtype determination in get_concat_dtype when concatenating operation on list of Dataframes", "body": "<p>I have a list of Dataframes that I am attempting to combine using the concatenation function. </p>\n\n<pre><code>dataframe_lists = [df1, df2, df3]\n\nresult = pd.concat(dataframe_lists, keys = ['one', 'two','three'], ignore_index=True)\n</code></pre>\n\n<p>The full traceback is:</p>\n\n<pre><code>---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n&lt;ipython-input-198-a30c57d465d0&gt; in &lt;module&gt;()\n----&gt; 1 result = pd.concat(dataframe_lists, keys = ['one', 'two','three'], ignore_index=True)\n      2 check(dataframe_lists)\n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\tools\\merge.py in concat(objs, axis, join, join_axes, ignore_index, keys, levels, names, verify_integrity, copy)\n    753                        verify_integrity=verify_integrity,\n    754                        copy=copy)\n--&gt; 755     return op.get_result()\n    756 \n    757 \n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\tools\\merge.py in get_result(self)\n    924 \n    925             new_data = concatenate_block_managers(\n--&gt; 926                 mgrs_indexers, self.new_axes, concat_axis=self.axis, copy=self.copy)\n    927             if not self.copy:\n    928                 new_data._consolidate_inplace()\n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\core\\internals.py in concatenate_block_managers(mgrs_indexers, axes, concat_axis, copy)\n   4061                                                 copy=copy),\n   4062                          placement=placement)\n-&gt; 4063               for placement, join_units in concat_plan]\n   4064 \n   4065     return BlockManager(blocks, axes)\n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\core\\internals.py in &lt;listcomp&gt;(.0)\n   4061                                                 copy=copy),\n   4062                          placement=placement)\n-&gt; 4063               for placement, join_units in concat_plan]\n   4064 \n   4065     return BlockManager(blocks, axes)\n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\core\\internals.py in concatenate_join_units(join_units, concat_axis, copy)\n   4150         raise AssertionError(\"Concatenating join units along axis0\")\n   4151 \n-&gt; 4152     empty_dtype, upcasted_na = get_empty_dtype_and_na(join_units)\n   4153 \n   4154     to_concat = [ju.get_reindexed_values(empty_dtype=empty_dtype,\n\nC:\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\site-packages\\pandas\\core\\internals.py in get_empty_dtype_and_na(join_units)\n   4139         return np.dtype('m8[ns]'), tslib.iNaT\n   4140     else:  # pragma\n-&gt; 4141         raise AssertionError(\"invalid dtype determination in get_concat_dtype\")\n   4142 \n   4143 \n\nAssertionError: invalid dtype determination in get_concat_dtype\n</code></pre>\n\n<p>I believe that the error lies in the fact that one of the data frames is empty. I used the simple function <code>check</code> to verify and return just the headers of the empty dataframe:</p>\n\n<pre><code>  def check(list_of_df):\n\n    headers = []\n    for df in dataframe_lists:\n        if df.empty is not True:\n            continue\n        else:  \n            headers.append(df.columns)\n\n    return headers\n</code></pre>\n\n<p>I am wondering if it is possible to use this function to, if in the case of an empty dataframe, return just that empty dataframe's headers and append it to the concatenated dataframe. The output would be a single row for the headers (and, in the case of a repeating column name, just a single instance of the header (as in the case of the concatenation function). I have two sample data sources, <a href=\"https://gist.github.com/ahlusar1989/42708e6a3ca0aed9b79b\" rel=\"noreferrer\">one</a> and <a href=\"https://gist.github.com/ahlusar1989/26eb4ce1578e0844eb82\" rel=\"noreferrer\">two</a> non-empty data sets. Here is an empty <a href=\"https://gist.github.com/ahlusar1989/0721bd8b71416b54eccd\" rel=\"noreferrer\">dataframe</a>.</p>\n\n<p>I would like to have the resulting concatenate have the column headers...</p>\n\n<pre><code> 'AT','AccountNum', 'AcctType', 'Amount', 'City', 'Comment', 'Country','DuplicateAddressFlag', 'FromAccount', 'FromAccountNum', 'FromAccountT','PN', 'PriorCity', 'PriorCountry', 'PriorState', 'PriorStreetAddress','PriorStreetAddress2', 'PriorZip', 'RTID', 'State', 'Street1','Street2', 'Timestamp', 'ToAccount', 'ToAccountNum', 'ToAccountT', 'TransferAmount', 'TransferMade', 'TransferTimestamp', 'Ttype', 'WA','WC', 'Zip'\n</code></pre>\n\n<p>to have an empty dataframe's headers be appended in line with this row (if they are new). </p>\n\n<pre><code> 'A', 'AT','AccountNum', 'AcctType', 'Amount', 'B', 'C', 'City', 'Comment', 'Country', 'D', 'DuplicateAddressFlag', 'E', 'F' 'FromAccount', 'FromAccountNum', 'FromAccountT', 'G', 'PN', 'PriorCity', 'PriorCountry', 'PriorState', 'PriorStreetAddress','PriorStreetAddress2', 'PriorZip', 'RTID', 'State', 'Street1','Street2', 'Timestamp', 'ToAccount', 'ToAccountNum', 'ToAccountT', 'TransferAmount', 'TransferMade', 'TransferTimestamp', 'Ttype', 'WA','WC', 'Zip'\n</code></pre>\n\n<p>I welcome feedback on the best method to do this. </p>\n\n<p>As the answer below details, this is a rather unexpected result:</p>\n\n<p>Unfortunately, due to the sensitivity of this material, I cannot share the actual data. Leading up to what is presented in the gist is the following:</p>\n\n<pre><code>A= data[data['RRT'] == 'A'] #Select just the columns with  from the dataframe \"data\"\nB= data[data['RRT'] == 'B']\nC= data[data['RRT'] == 'C']\nD= data[data['RRT'] == 'D']\n</code></pre>\n\n<p>For each of the new data frames I then apply this logic:</p>\n\n<pre><code>for column_name, column in A.transpose().iterrows():\n    AColumns= A[['ANum','RTID', 'Description','Type','Status', 'AD', 'CD', 'OD', 'RCD']]  #get select columns indexed with dataframe, \"A\"\n</code></pre>\n\n<p>When I perform the bound method on an empty dataframe A:</p>\n\n<pre><code>AColumns.count\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>&lt;bound method DataFrame.count of Empty DataFrame\nColumns: [ANum,RTID, Description,Type,Status, AD, CD, OD, RCD]\nIndex: []&gt;\n</code></pre>\n\n<p>Finally, I imported the CSV with the following:</p>\n\n<pre><code>data=pd.read_csv('Merged_Success2.csv', dtype=str, error_bad_lines = False, iterator=True,  chunksize=1000)\ndata=pd.concat([chunk for chunk in data], ignore_index=True)\n</code></pre>\n\n<p>I am not certain what else I can provide. The concatenation method works with all other data frames that are needed to meet a requirement. I have also looked at the Pandas internals.py and the full trace. Either I have too many columns with NaN, duplicate column names or mixed  dtypes (the latter being the least likely culprit). </p>\n\n<p>Thank you again for your guidance.  </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "edited": false, "score": 0, "creation_date": 1441830123, "post_id": 32488384, "comment_id": 52837541, "body": "What exactly do you find inefficient about it? And to make sure I understand: for the case where the &quot;range&quot; is from 1 to 3 inclusive, and the array length is 6, you want one randomly chosen array with one 1 in it, one with two 1s, and one with three?"}, {"owner": {"reputation": 293, "user_id": 4425135, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/57b7c5b16a80cda6973f3ede2a72cf23?s=128&d=identicon&r=PG&f=1", "display_name": "motaha", "link": "https://stackoverflow.com/users/4425135/motaha"}, "reply_to_user": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "edited": false, "score": 0, "creation_date": 1441830444, "post_id": 32488384, "comment_id": 52837708, "body": "Well, firstly the inefficient thing about it is that the function I am using will always give me the number of arrays always divisible by 4 which I don&#39;t want I want it to generate an arbitrary number of arrays.   Secondly, I want the number of arrays chosen randomly with one 1 or two 1s or three 1s for example 6 arrays can have three arrays with three 1s and two arrays with one 1 and one array with two ones for example."}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 4425135, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/57b7c5b16a80cda6973f3ede2a72cf23?s=128&d=identicon&r=PG&f=1", "display_name": "motaha", "link": "https://stackoverflow.com/users/4425135/motaha"}, "edited": false, "score": 0, "creation_date": 1441830585, "post_id": 32488538, "comment_id": 52837770, "body": "Yes, I did try this and didn&#39;t work for me because I don&#39;t have control on the number of 1s in the output array."}, {"owner": {"reputation": 197, "user_id": 5314321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1eea9d4635e596241f927562fd9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mamath", "link": "https://stackoverflow.com/users/5314321/mamath"}, "reply_to_user": {"reputation": 293, "user_id": 4425135, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/57b7c5b16a80cda6973f3ede2a72cf23?s=128&d=identicon&r=PG&f=1", "display_name": "motaha", "link": "https://stackoverflow.com/users/4425135/motaha"}, "edited": false, "score": 0, "creation_date": 1441832834, "post_id": 32488538, "comment_id": 52838927, "body": "If you want something really random and assuming we aren&#39;t talking about big matrix:                                                                       <code>while arr.sum() != 6:     arr = np.random.randint(2, size=(6,3))</code>"}], "tags": [], "owner": {"reputation": 197, "user_id": 5314321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1eea9d4635e596241f927562fd9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mamath", "link": "https://stackoverflow.com/users/5314321/mamath"}, "is_accepted": false, "score": 0, "last_activity_date": 1441889246, "last_edit_date": 1441889246, "creation_date": 1441830302, "answer_id": 32488538, "question_id": 32488384, "link": "https://stackoverflow.com/questions/32488384/generate-random-binary-arrays-with-a-specific-range-of-ones/32488538#32488538", "title": "Generate random binary arrays with a specific range of ones", "body": "<p>Did you try this ?</p>\n\n<pre><code>while arr.sum() != total_of_1:\n    arr = np.random.randint(2, size=(r, c))\n</code></pre>\n\n<p>where <code>r</code> is the number of rows and <code>c</code> is the number of columns.</p>\n"}], "owner": {"reputation": 293, "user_id": 4425135, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/57b7c5b16a80cda6973f3ede2a72cf23?s=128&d=identicon&r=PG&f=1", "display_name": "motaha", "link": "https://stackoverflow.com/users/4425135/motaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441889246, "creation_date": 1441829718, "question_id": 32488384, "link": "https://stackoverflow.com/questions/32488384/generate-random-binary-arrays-with-a-specific-range-of-ones", "title": "Generate random binary arrays with a specific range of ones", "body": "<p>I want to generate random binary arrays with specific range of ones, e.g.,if I have 6 vectors each of 6-bits and a range of 1s from 1-3 then my result would be for example <code>([1,0,0,1,0,0],[1,0,0,0,0,0],[1,1,0,0,0,0],[1,0,1,0,0,1,0], etc)</code> i.e. gives me some combinations of 0s and 1s and uses the range of 1s I gave.</p>\n\n<p>I am using:</p>\n\n<pre><code>arr = np.array([1] * K + [0] * (N-K))\nnp.random.shuffle(arr)\n</code></pre>\n\n<p>to generate vectors with specific number of 1s and I am using:</p>\n\n<pre><code>arr2 = np.array([1] * (K-K+1) + [0] * (N-1))\nnp.random.shuffle(arr2)\n\narr3 = np.array([1] * (K-K+2) + [0] * (N-2))\nnp.random.shuffle(arr3)\n\narr4 = np.array([1] * (K-K+3) + [0] * (N-3))\nnp.random.shuffle(arr4)\n\narr5 = np.array([1] * (K-K+4) + [0] * (N-4))\nnp.random.shuffle(arr5) \n</code></pre>\n\n<p>and concatenate these together with 'axis=0' to have the vectors I want, but this idea is not efficient and I want something to make it more random and more clever.</p>\n\n<p>thanks </p>\n"}, {"tags": ["python", "django", "postgresql", "psycopg2"], "comments": [{"owner": {"reputation": 1044, "user_id": 1857802, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hJoZB.jpg?s=128&g=1", "display_name": "ygesher", "link": "https://stackoverflow.com/users/1857802/ygesher"}, "edited": false, "score": 0, "creation_date": 1455021356, "post_id": 32488329, "comment_id": 58294188, "body": "Did you ever get an answer for this issue?  I&#39;m getting the same error on any long operation I attempt."}, {"owner": {"reputation": 4798, "user_id": 1484957, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9d74c77fa2f3b3b07bc0a955250deef0?s=128&d=identicon&r=PG", "display_name": "drs", "link": "https://stackoverflow.com/users/1484957/drs"}, "reply_to_user": {"reputation": 1044, "user_id": 1857802, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hJoZB.jpg?s=128&g=1", "display_name": "ygesher", "link": "https://stackoverflow.com/users/1857802/ygesher"}, "edited": false, "score": 0, "creation_date": 1455023547, "post_id": 32488329, "comment_id": 58295654, "body": "I did not.  The postgres server is in GCE and I&#39;m wondering if GCE networking is closing the connection."}], "owner": {"reputation": 4798, "user_id": 1484957, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9d74c77fa2f3b3b07bc0a955250deef0?s=128&d=identicon&r=PG", "display_name": "drs", "link": "https://stackoverflow.com/users/1484957/drs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 908, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1442860822, "creation_date": 1441829495, "last_edit_date": 1442860822, "question_id": 32488329, "link": "https://stackoverflow.com/questions/32488329/why-does-my-django-postgres-cursor-query-timeout-after-fetching-all-rows", "title": "Why does my django postgres cursor query timeout after fetching all rows?", "body": "<p>I'm working on migrating postgres data with django. I execute a raw sql query against one schema and use the django ORM to populate the target schema.  The raw query looks like this:</p>\n\n<pre><code>query = '''\n    SELECT {columns}\n    FROM tbl_one one\n    INNER JOIN tbl_two two on two.one_id=one.id\n    WHERE one.filter = '{filter}'\n        AND two._created_at &gt;= '{start_date} 00:00:00'\n    ORDER BY two._created_at;\n    '''.format(columns=', '.join(columns), filter=filter,\n               start_date=start_date)\n\nif connections['old_schema'].connection is None:\n    cursor = connections['old_schema'].cursor()\n\nwith transaction.atomic(using='old_schema'):\n    cursor.execute(query)\n    while True:\n        rows = cursor.fetchmany(1000)\n\n        if not rows:\n            break\n        for row in rows:\n            yield dict(zip(columns, row)))\n</code></pre>\n\n<p>However, on very long queries, the raw query barfs <strong>after</strong> yielding all the rows:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 139, in _commit\n    return self.connection.commit()\npsycopg2.DatabaseError: SSL SYSCALL error: Connection timed out\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/core/management/__init__.py\", line 399, in execute_from_command_line\n    utility.execute()\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/core/management/__init__.py\", line 392, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/core/management/base.py\", line 242, in run_from_argv\n    self.execute(*args, **options.__dict__)\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/core/management/base.py\", line 285, in execute\n    output = self.handle(*args, **options)\n  File \"~/app/management/commands/migrate_cass_data.py\", line 166, in handle\n    for pg in self.get_from_postgres(filter, start_date):\n  File \"~/app/management/commands/migrate_cass_data.py\", line 235, in get_from_postgres\n    yield dict(zip(columns, row)))\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/transaction.py\", line 316, in __exit__\n    connection.commit()\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 171, in commit\n    self._commit()\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 139, in _commit\n    return self.connection.commit()\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/utils.py\", line 99, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/utils/six.py\", line 549, in reraise\n    raise value.with_traceback(tb)\n  File \"~/.virtualenvs/venv/local/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 139, in _commit\n    return self.connection.commit()\ndjango.db.utils.DatabaseError: SSL SYSCALL error: Connection timed out\n</code></pre>\n\n<p>Again, when the query result is smaller, it works fine. When the result is large, the query seems to return all of the results, but it doesn't seem to wrap up cleanly.  Why is this happening and how can I fix it?</p>\n"}, {"tags": ["python", "operators"], "answers": [{"tags": [], "owner": {"reputation": 1805, "user_id": 99557, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7b7749dd3a1af261384324c86325ce6d?s=128&d=identicon&r=PG", "display_name": "mpcabd", "link": "https://stackoverflow.com/users/99557/mpcabd"}, "is_accepted": false, "score": 0, "last_activity_date": 1441829497, "creation_date": 1441829497, "answer_id": 32488330, "question_id": 32488301, "link": "https://stackoverflow.com/questions/32488301/how-does-python-process-a-statement-with-both-assignment-and-a-comparison/32488330#32488330", "title": "How does Python process a statement with both assignment and a comparison?", "body": "<p>It assigns the value of the boolean comparison [<code>True</code> or <code>False</code>] to the LHS variable <code>group_index</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 940, "user_id": 3818521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20506957466fa47bc9bfd42d07690f47?s=128&d=identicon&r=PG&f=1", "display_name": "dpwilson", "link": "https://stackoverflow.com/users/3818521/dpwilson"}, "edited": false, "score": 0, "creation_date": 1441829866, "post_id": 32488375, "comment_id": 52837418, "body": "Beat me by less than a minute! Shouldn&#39;t have stopped for that sip of water :P"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1441829671, "creation_date": 1441829671, "answer_id": 32488375, "question_id": 32488301, "link": "https://stackoverflow.com/questions/32488301/how-does-python-process-a-statement-with-both-assignment-and-a-comparison/32488375#32488375", "title": "How does Python process a statement with both assignment and a comparison?", "body": "<p>From the Python <a href=\"https://docs.python.org/2/reference/expressions.html#evaluation-order\" rel=\"nofollow\">Evaluation Order</a> documentation:</p>\n\n<blockquote>\n  <p>Notice that while evaluating an assignment, the right-hand side is evaluated before the left-hand side.</p>\n</blockquote>\n\n<p>So it first evaluates <code>apps[\"special_groups\"] == group</code>, then assigns the result of this to <code>group_index</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 940, "user_id": 3818521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20506957466fa47bc9bfd42d07690f47?s=128&d=identicon&r=PG&f=1", "display_name": "dpwilson", "link": "https://stackoverflow.com/users/3818521/dpwilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1441829764, "creation_date": 1441829764, "answer_id": 32488394, "question_id": 32488301, "link": "https://stackoverflow.com/questions/32488301/how-does-python-process-a-statement-with-both-assignment-and-a-comparison/32488394#32488394", "title": "How does Python process a statement with both assignment and a comparison?", "body": "<p>From the Python docs, <a href=\"https://docs.python.org/2/reference/expressions.html#evaluation-order\" rel=\"nofollow\">Section 5.14</a>:</p>\n\n<blockquote>\n  <p>Python evaluates expressions from left to right. Notice that while evaluating an assignment, the right-hand side is evaluated before the left-hand side.</p>\n</blockquote>\n\n<p>Therefore it evaluates the right-hand side, <code>apps[\"special_groups\"] == group</code>, first, and then it assigns this result to the left-hand side, <code>group_index</code>.</p>\n"}], "owner": {"reputation": 111, "user_id": 2250799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/960e62048ad8bfe90896875fcc0dc326?s=128&d=identicon&r=PG", "display_name": "Ray", "link": "https://stackoverflow.com/users/2250799/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 32488375, "answer_count": 3, "score": 0, "last_activity_date": 1441829764, "creation_date": 1441829339, "question_id": 32488301, "link": "https://stackoverflow.com/questions/32488301/how-does-python-process-a-statement-with-both-assignment-and-a-comparison", "title": "How does Python process a statement with both assignment and a comparison?", "body": "<p>I've got the following line: </p>\n\n<p><code>group_index = apps[\"special_groups\"] == group</code></p>\n\n<p>From my understanding, <code>group_index</code> is being assigned the value in <code>apps[\"special_groups\"]</code>. Then I see the == operator, but what does it do with the result? Or is it comparing <code>apps[\"special_groups\"]</code> to group first?</p>\n"}, {"tags": ["python", "numpy", "pandas", "distribution", "sampling"], "comments": [{"owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1441834879, "post_id": 32488290, "comment_id": 52839787, "body": "That doesn&#39;t look remotely realistic to me.  Do you really think that income is independent of both age and industry?"}, {"owner": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "reply_to_user": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1441843521, "post_id": 32488290, "comment_id": 52842454, "body": "@pjs, no that is kind of the point. I do think that there is dependence. That is why I am interested in drawing from joint distributions of membership in each bin. The data is of course made up."}, {"owner": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "reply_to_user": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "edited": false, "score": 0, "creation_date": 1441850152, "post_id": 32488290, "comment_id": 52843968, "body": "@pjs, it is a little like PopGen but on the cheap. Go from summaries to individual records, respecting marginal distributions. And mainly with discrete variables. No direct n-dimensional covariance here, just (observed sample-based) bins."}], "owner": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441829300, "creation_date": 1441829300, "question_id": 32488290, "link": "https://stackoverflow.com/questions/32488290/numpy-sampling-in-several-dimensions-to-generate-microdata", "title": "numpy: sampling in several dimensions to generate microdata", "body": "<p>I have summary-level data of the count of people by age group, city, income and the industry in which they work, or in this case four dimensions.</p>\n\n<p>What I would like to is to generate micro-data from these summary counts. If, say, the summary table shows 10,000 people distributed by gender, race, age and industry, I would like to have 10,000 records which, when summarized, matches the original four-dimensional distribution. So in short, I would like to sample from four distributions at the same time, conditional on the values of the others.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>## generate mock person data\nN=500000\n\nage = np.random.choice(['20-44','45-64','65+'], N)\nind = np.random.choice(['retail','construction','information','medical'], size=N,p=[.05,.15,.3,.5])\ncty = np.random.choice(['cooltown','mountain pines'], N)\nincome = pd.cut(np.random.lognormal(mean=10,sigma=2,size=N),range(0,250000,50000)+[np.Inf])\n\n## prep data frame\npersons = pd.DataFrame({'industry':ind,'city':cty,'income':income,'age':age})\n\n## group by the categoricals\npersons_grouped = persons.groupby(['city','industry','age','income']).size()\n\n\ndf_persons_grouped=persons_grouped.reset_index(name='personcount')\ndf_persons_grouped['personcount']=df_persons_grouped.personcount.div(df_persons_grouped.personcount.sum(),axis=0)\ndf_persons_grouped.head()\n</code></pre>\n\n<p>So that is now summarized by the dimensions in question.</p>\n\n<p>To re-generate the original number of records, I do like so:</p>\n\n<pre><code>newdf = df_persons_grouped.loc[np.random.choice(a=df_persons_grouped.index, size=N, p=df_persons_grouped.personcount.tolist())].groupby(['city','industry','age','income']).size()\n\n## I expect the follwoing to produce near-1 values, but they sometimes vary\nnewdf.div( persons_grouped,axis=0)\n</code></pre>\n\n<p>But the bigger question is if this approach is kosher for reproducing the \"original\" record-level data. I just use the counts (as shares) as probabilities, which may be different than sampling from multivariate distributions. Suggestions welcome.</p>\n"}, {"tags": ["python", "unit-testing", "input", "mocking"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441830715, "post_id": 32488567, "comment_id": 52837842, "body": "So I would need <code>builtins.input</code> instead of main? because I still want to call input within the <code>main</code>"}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "reply_to_user": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441831248, "post_id": 32488567, "comment_id": 52838094, "body": "You would need to do <code>@patch(&#39;input&#39;, return_value)</code> instead.  I&#39;m assuming you&#39;re using patch correctly but try it out."}, {"owner": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441831678, "post_id": 32488567, "comment_id": 52838308, "body": "So I updated my code patching the input. I couldn&#39;t just put <code>input</code> I had to add <code>builtins</code> as well. This gives me the following assertion error <code>AssertionError: None != &#39;False</code> I assumed it&#39;s because the <code>main()</code> wasn&#39;t getting called in the <code>Run</code> module. So I called it and I still have that issue where it gets hung up. Any insight here?"}, {"owner": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441832087, "post_id": 32488567, "comment_id": 52838507, "body": "I tried that as well, I had this line before <code>return print(guess==dolphins)</code> but the testsuite still gets hung up and doesn&#39;t run the test fully. It seems like it waiting for the input, but not taking the one I patched."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "reply_to_user": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441832189, "post_id": 32488567, "comment_id": 52838572, "body": "i think figuring out what&#39;s wrong with that on your own will be a good learning experience."}, {"owner": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441832436, "post_id": 32488567, "comment_id": 52838704, "body": "Thank you for your input."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "reply_to_user": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "edited": false, "score": 0, "creation_date": 1441832887, "post_id": 32488567, "comment_id": 52838958, "body": "Don&#39;t forget to mark the answer as correct, and feel free to ask a separate question if you&#39;re still stuck on your bug, though you should be able to get it."}], "tags": [], "owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1441830457, "creation_date": 1441830457, "answer_id": 32488567, "question_id": 32488280, "link": "https://stackoverflow.com/questions/32488280/unit-testing-for-user-input-and-expected-output-in-python/32488567#32488567", "title": "Unit Testing for user input and expected output in Python", "body": "<p>You can make your main as a function that takes arguments instead. </p>\n\n<pre><code>def main(args):\n    ...do stuff\n\nif __name__ == '__main__':\n    args = input('Get input')\n    main(args)\n</code></pre>\n\n<p>Then just unittest it as a normal function.</p>\n\n<pre><code>class TestMain(unittest.TestCase):\n    def testmain(self):\n        self.assertTrue(main(5), 'foo')\n</code></pre>\n\n<p>If you still want to have the input within your main, then you need to mock patch <code>input</code> not <code>main</code>.</p>\n"}], "owner": {"reputation": 377, "user_id": 1388651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1505156159/picture?type=large", "display_name": "SalceCodec", "link": "https://stackoverflow.com/users/1388651/salcecodec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2311, "favorite_count": 0, "accepted_answer_id": 32488567, "answer_count": 1, "score": 0, "last_activity_date": 1441831530, "creation_date": 1441829276, "last_edit_date": 1495535376, "question_id": 32488280, "link": "https://stackoverflow.com/questions/32488280/unit-testing-for-user-input-and-expected-output-in-python", "title": "Unit Testing for user input and expected output in Python", "body": "<p>I'm fairly new to unit test in Python, but have done a few so I understand the basics of it. One problem I'm having is being able to mock input and then test for the STDOUT based on that mocked input. I tried the solution in this post: <a href=\"https://stackoverflow.com/questions/21046717/python-mocking-raw-input-in-unittests\">python mocking raw input in unittests</a>\nbut didn't find any success with the given method. My test seems like it's getting hung up when asking for the input. I want to be able to mock the input for the <code>Run</code> module and then be able to test for the STDOUT which can be either <code>True/False</code> Here is my <code>Run</code> code </p>\n\n<pre><code>#imports\nimport random\n\ndef main():\n    #variables\n    dolphins = random.randrange(1,11)\n\n    guess = int(input(\"This is a prompt\"))\n\n    print(guess == dolphins)\n</code></pre>\n\n<p>Really simple here. Here is my Testsuite</p>\n\n<pre><code>import unittest\nfrom unittest.mock import patch\n\nfrom Run import *\n\nclass GetInputTest(unittest.TestCase):\n\n  @patch('builtins.input', return_value=1)\n  def test_answer_false(self, input):\n    self.assertEqual(main(), 'False')\n\n\nif __name__ == \"__main__\":\n  unittest.main()\n</code></pre>\n\n<p>So here I am feeding the input a value of <code>1</code> and then call the <code>main()</code> during my assertion and expect a value of <code>False</code> but it doesn't even get that far, the program just continuously runs, I think because it's waiting for an <code>input</code> and I may not be mocking it correctly. I also tried feeding <code>builtins.input</code> into the <code>@patch</code> parameter and I get the same result. </p>\n\n<p>There's no error messages or tracebacks. Hopefully someone with a little more experience can tell me what I am doing wrong. Thank you all in advance for helping me out. </p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1441829463, "post_id": 32488270, "comment_id": 52837256, "body": "Your code has an extra comma after the last object in the array."}, {"owner": {"reputation": 1954, "user_id": 4746361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365515b57884ad8e8ad13e1050981839?s=128&d=identicon&r=PG&f=1", "display_name": "william.taylor.09", "link": "https://stackoverflow.com/users/4746361/william-taylor-09"}, "edited": false, "score": 0, "creation_date": 1441829607, "post_id": 32488270, "comment_id": 52837319, "body": "It appears that the newlines are a cause of unhappiness. If I take the code above and plop it into javascript without the line breaks, it works: <a href=\"https://jsfiddle.net/bLmnsvma/\" rel=\"nofollow noreferrer\">jsfiddle.net/bLmnsvma</a>"}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 1954, "user_id": 4746361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365515b57884ad8e8ad13e1050981839?s=128&d=identicon&r=PG&f=1", "display_name": "william.taylor.09", "link": "https://stackoverflow.com/users/4746361/william-taylor-09"}, "edited": false, "score": 0, "creation_date": 1441829845, "post_id": 32488270, "comment_id": 52837409, "body": "@william.taylor.09 it doesn&#39;t work. Check the console. You have a syntax error."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 1, "creation_date": 1441830040, "post_id": 32488270, "comment_id": 52837503, "body": "@JonathanM That&#39;s allowed, unless you&#39;re using an ancient browser."}, {"owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "edited": false, "score": 0, "creation_date": 1441831577, "post_id": 32488270, "comment_id": 52838250, "body": "See the edits I&#39;ve made to the question"}], "answers": [{"comments": [{"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1441830003, "post_id": 32488389, "comment_id": 52837483, "body": "Did you try this? The comma after the last <code>}</code> is not legal."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1441830108, "post_id": 32488389, "comment_id": 52837535, "body": "@JonathanM <a href=\"http://stackoverflow.com/questions/7246618/trailing-commas-in-javascript\" title=\"trailing commas in javascript\">stackoverflow.com/questions/7246618/&hellip;</a>"}, {"owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "edited": false, "score": 0, "creation_date": 1441830418, "post_id": 32488389, "comment_id": 52837689, "body": "if I replace the long string with <code>&quot;foo&quot;</code> then it doesn&#39;t seem to have a problem, comma and all.  How would you go about ending with ` \\ `?  When I try to use it in front of .join I get a syntax error in python."}, {"owner": {"reputation": 1954, "user_id": 4746361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365515b57884ad8e8ad13e1050981839?s=128&d=identicon&r=PG&f=1", "display_name": "william.taylor.09", "link": "https://stackoverflow.com/users/4746361/william-taylor-09"}, "reply_to_user": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "edited": false, "score": 0, "creation_date": 1441830753, "post_id": 32488389, "comment_id": 52837870, "body": "@kdubs you may need to escape it."}, {"owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "edited": false, "score": 0, "creation_date": 1441831527, "post_id": 32488389, "comment_id": 52838224, "body": "Ok, I got it to generate with ` \\ ` instead but same error.  See the edits I&#39;ve made to the question."}], "tags": [], "owner": {"reputation": 4197, "user_id": 1632346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c043a71ec4903a9a9e6a4de90c787fa1?s=128&d=identicon&r=PG", "display_name": "slomek", "link": "https://stackoverflow.com/users/1632346/slomek"}, "is_accepted": false, "score": 0, "last_activity_date": 1441829738, "creation_date": 1441829738, "answer_id": 32488389, "question_id": 32488270, "link": "https://stackoverflow.com/questions/32488270/javascript-unexpected-token-error-on-string/32488389#32488389", "title": "Javascript unexpected token error on string", "body": "<p>You can't have such newlines in the console. For multiline strings you need each line to end with <code>\\</code>:</p>\n\n<pre><code>var SAT_2B = [\n{label: \"COMMRequest\", times: [{\"color\":\"Red\", \"label\":\"Task ID: 1\", \"starting_time\":1420228800000, \"ending_time\":1420257600000, \"TASKID\":\"1\", \"TASKCLASS\":\"COMM\", \"info\":\"SIMPL-Task block representation:(SCI_STORED_RAW)    0/n\n(SEQUENCE_OVERRIDE) \\\n(REQ_FILENAME)      /Users/kerrywahl/Desktop/PlanningPersonelInterface/SIMPLCode/Input/Test/CYGNSS_MOC_COMM_Req_2015_001.txt\\\n(RETRANSMIT)        \\\n(SCI_STORED_DDM)    0\\\n(NOTES)             Auto Generated NOMINAL COMM Request&lt;req TASK_ID:1&gt;\\\n(ENG_STORED_NOM)    0\\\n(IS_SIMPL_TASK)     True\\\n(RATE)              HIGH_RATE\\\n(DURATION)          500.0\\\n(WINDOW_END)        2015-01-03 04:00:00.000000\\\n(WINDOW_START)      2015-01-02 20:00:00.000000\\\n(TASK_ID)           1\\\n(TaskClass)         COMM\\\n(PASS_SETUP)        AUTO\\\n(PRIORITY)          5\\\n(TASK_NAME)         SAT_2B_COMM_NOMINAL_1_req\\\n(PHASE)             REQUEST\\\n(ENG_STORED_DIAG)   0\\\n(TYPE)              NOMINAL\\\n(SAT)               2B\"}]},\n    {label: \"COMMPlan\", times: []},\n    {label: \"COMMOperation\", times: []},\n];\n</code></pre>\n"}], "owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1441831451, "creation_date": 1441829212, "last_edit_date": 1441831451, "question_id": 32488270, "link": "https://stackoverflow.com/questions/32488270/javascript-unexpected-token-error-on-string", "title": "Javascript unexpected token error on string", "body": "<p>I am creating a webpage and want to use information from one view in another view.  I'm generating javascript code via python but am having trouble with one of the strings I create causing a <code>unexpected token illegal</code> syntax error.</p>\n\n<p>I'm creating the string in python like this:</p>\n\n<pre><code>sep = max([len(k) for k in self.keys()])\ninfoString = \"\\n\".join([(\"(%s)%s %s\" % (k,\" \"*(sep-len(k)),v)) for k,v in self.iteritems()])\nGANTTBlock.setInfo(\"SIMPL-Task block representation:%s\" % infoString)\n</code></pre>\n\n<p>Which ends up looking like this in js:</p>\n\n<pre><code>var SAT_2B = [\n{label: \"COMMRequest\", times: [{\"color\":\"Red\", \"label\":\"Task ID: 1\", \"starting_time\":1420228800000, \"ending_time\":1420257600000, \"TASKID\":\"1\", \"TASKCLASS\":\"COMM\", \"info\":\"SIMPL-Task block representation:(SCI_STORED_RAW)    0\n(SEQUENCE_OVERRIDE) \n(REQ_FILENAME)      /Users/kerrywahl/Desktop/PlanningPersonelInterface/SIMPLCode/Input/Test/CYGNSS_MOC_COMM_Req_2015_001.txt\n(RETRANSMIT)        \n(SCI_STORED_DDM)    0\n(NOTES)             Auto Generated NOMINAL COMM Request&lt;req TASK_ID:1&gt;\n(ENG_STORED_NOM)    0\n(IS_SIMPL_TASK)     True\n(RATE)              HIGH_RATE\n(DURATION)          500.0\n(WINDOW_END)        2015-01-03 04:00:00.000000\n(WINDOW_START)      2015-01-02 20:00:00.000000\n(TASK_ID)           1\n(TaskClass)         COMM\n(PASS_SETUP)        AUTO\n(PRIORITY)          5\n(TASK_NAME)         SAT_2B_COMM_NOMINAL_1_req\n(PHASE)             REQUEST\n(ENG_STORED_DIAG)   0\n(TYPE)              NOMINAL\n(SAT)               2B\"}, {\"color\":\"Red\", \"label\":\"Task ID: 6\", \"starting_time\":1421092800000, \"ending_time\":1421121600000, \"TASKID\":\"6\", \"TASKCLASS\":\"COMM\", \"info\":\"SIMPL-Task block representation:(SCI_STORED_RAW)    0\n(SEQUENCE_OVERRIDE) \n(REQ_FILENAME)      /Users/kerrywahl/Desktop/PlanningPersonelInterface/SIMPLCode/Input/Test/CYGNSS_MOC_COMM_Req_2015_001.txt\n(RETRANSMIT)        \n(SCI_STORED_DDM)    0\n(NOTES)             Auto Generated NOMINAL COMM Request&lt;req TASK_ID:6&gt;\n(ENG_STORED_NOM)    0\n(IS_SIMPL_TASK)     True\n(RATE)              HIGH_RATE\n(DURATION)          500.0\n(WINDOW_END)        2015-01-13 04:00:00.000000\n(WINDOW_START)      2015-01-12 20:00:00.000000\n(TASK_ID)           6\n(TaskClass)         COMM\n(PASS_SETUP)        AUTO\n(PRIORITY)          5\n(TASK_NAME)         SAT_2B_COMM_NOMINAL_6_req\n(PHASE)             REQUEST\n(ENG_STORED_DIAG)   0\n(TYPE)              NOMINAL\n(SAT)               2B\"}]},\n    {label: \"COMMPlan\", times: []},\n    {label: \"COMMOperation\", times: []},\n];\n</code></pre>\n\n<p>Based on the console, the error is occurring on the first line (<code>{label: \"COMMRequest\", times: [{\"color\"...</code>).  I tried changing the <code>info</code> part of the string (everything that comes after <code>\"info\":</code>) to just a regular \"foo\" string and then it worked fine.  I tried removing the <code>\\n</code> but still got the error.  I can't figure out what is causing the problem.  </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It works fine if I only have one <code>{}</code> inside the <code>times:</code> part of the label, but breaks on the <code>\"TASKID\"</code> part of the second <code>{}</code>.</p>\n"}, {"tags": ["python", "pandas", "plot"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 3, "last_activity_date": 1441830434, "creation_date": 1441830434, "answer_id": 32488560, "question_id": 32488254, "link": "https://stackoverflow.com/questions/32488254/bar-plotting-with-pandas/32488560#32488560", "title": "Bar plotting with pandas", "body": "<p>If the timestamp column is your index, you can use <code>resample</code>, for example, to count the number of observations over six hour intervals:</p>\n\n<pre><code>df.set_index('TIMESTAMP').resample('6H', how='count')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 3602063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63202a9b45ddc080c2d67a4a97d64a00?s=128&d=identicon&r=PG&f=1", "display_name": "user3602063", "link": "https://stackoverflow.com/users/3602063/user3602063"}, "is_accepted": false, "score": 0, "last_activity_date": 1441830799, "creation_date": 1441830799, "answer_id": 32488679, "question_id": 32488254, "link": "https://stackoverflow.com/questions/32488254/bar-plotting-with-pandas/32488679#32488679", "title": "Bar plotting with pandas", "body": "<p>One way is to resample a pandas DatetimeIndex</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nts = pd.Series(np.random.randn(1000), index=pd.date_range('1/1/2000', periods=1000))\n\nts.resample('100D').plot(kind='bar') # many options on the re-sample period\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 32488560, "answer_count": 2, "score": 0, "last_activity_date": 1441830799, "creation_date": 1441829154, "question_id": 32488254, "link": "https://stackoverflow.com/questions/32488254/bar-plotting-with-pandas", "title": "Bar plotting with pandas", "body": "<p>I came across a code on SO which I can't seem to find the link to, but the answer contained this solution to plot the number of occurrences for a specific date format:</p>\n\n<pre><code>date_value = df['TIMESTAMP']\nm = date_value.apply(lambda x: x.strftime('%Y-%m-%d %H'))\nx=m.value_counts()\nx=x.sort_index()\nx.plot(kind='bar')\nplt.show()\n</code></pre>\n\n<p>The <code>lambda</code> breaks it into every hour. Is it possible using the same code, or something similar, to do it at different intervals (i.e. every 6 hours)?</p>\n"}, {"tags": ["python", "python-sphinx"], "owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1443198461, "creation_date": 1441829090, "last_edit_date": 1441841119, "question_id": 32488238, "link": "https://stackoverflow.com/questions/32488238/sphinx-html-builder-renders-unnecessary-script-tags", "title": "Sphinx HTML builder renders unnecessary script tags", "body": "<p>The <code>Sphinx</code> HTML builder renders script tags which are in my case unnecessary.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"_static/jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"_static/underscore.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"_static/doctools.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>They add considerable lag to the page load. Is there a way to prevent the builder from rendering these tags?</p>\n\n<p>This is how it is done in the layout.html template from the basic theme:</p>\n\n<pre><code>{%- for scriptfile in script_files %}\n&lt;script type=\"text/javascript\" src=\"{{ pathto(scriptfile, 1) }}\"&gt;&lt;/script&gt;\n{%- endfor %}\n</code></pre>\n\n<p>It is hard coded in the <code>StandaloneHTMLBuilder(Builder)</code> class:</p>\n\n<pre><code># This is a class attribute because it is mutated by Sphinx.add_javascript.\nscript_files = ['_static/jquery.js', '_static/underscore.js',\n                '_static/doctools.js']\n</code></pre>\n"}, {"tags": ["python", "xml", "django", "django-views"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441829651, "post_id": 32488133, "comment_id": 52837330, "body": "I don&#39;t understand your usecase where you want to display SOAP XML, but the XML is just a string.  Just send it as such.  Though, I would ask yourself why you want to display the SOAP, as its intended as a protocol to call functions and retrieve data."}, {"owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441833921, "post_id": 32488133, "comment_id": 52839444, "body": "to retrieve the data I need to send a request in SOAP format. and I am having problems to display the nodes of the XML."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441834431, "post_id": 32488133, "comment_id": 52839633, "body": "If you&#39;re having trouble doing the SOAP request, you should use a SOAP module that will let you read in the WSDL file for that SOAP service.  That will essentially give you an object with functions to hit all the endpoints.  That way you are just using python functions instead of dealing with XML."}, {"owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441898933, "post_id": 32488133, "comment_id": 52871114, "body": "Ok, Thanks I will search some info about SOAP modules. And I think you are right I prefer deal with models or another python object than a XML file"}], "owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441828737, "creation_date": 1441828737, "question_id": 32488133, "link": "https://stackoverflow.com/questions/32488133/request-and-response-soap-xml-in-a-django-view", "title": "Request and response SOAP XML in a Django View", "body": "<p>I need to display in a template a XML file.\nThe xml file have a SOAP format and the structure is like this</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" &gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;bbs:QueryCDRRequestMsg&gt;\n         &lt;RequestHeader&gt;\n                &lt;app:Version&gt;1&lt;/app:Version&gt;\n                &lt;!--Optional:--&gt;\n                &lt;cbs:BusinessCode&gt;1&lt;/cbs:BusinessCode&gt;\n                &lt;cbs:MessageSeq&gt;${=new java.text.SimpleDateFormat(\"yyyy-MM-dd\\'T\\'HH:mm:ss.SSS\").format(new Date())}&lt;/cbs:MessageSeq&gt;\n                &lt;!--Optional:--&gt;\n                &lt;cbs:OwnershipInfo&gt;\n                   &lt;cbs:BEID&gt;101&lt;/cbs:BEID&gt;\n                   &lt;!--Optional:--&gt;\n                   &lt;cbs:BRID&gt;101&lt;/cbs:BRID&gt;\n                &lt;/cbs:OwnershipInfo&gt;\n                &lt;cbs:AccessSecurity&gt;\n                   &lt;cbs:LoginSystemCode&gt;102&lt;/cbs:LoginSystemCode&gt;\n                   &lt;cbs:Password&gt;hfhfidETT3Dcvdgtuidm==&lt;/cbs:Password&gt;\n                   &lt;cbs:RemoteIP&gt;1.1.1.1&lt;/cbs:RemoteIP&gt;\n                &lt;/cbs:AccessSecurity&gt;\n                &lt;cbs:TimeFormat&gt;\n                   &lt;cbs:TimeType&gt;1&lt;/cbs:TimeType&gt;\n                   &lt;!--Optional:--&gt;\n                   &lt;cbs:TimeZoneID&gt;1&lt;/cbs:TimeZoneID&gt;\n                &lt;/cbs:TimeFormat&gt;\n            &lt;/RequestHeader&gt;\n         &lt;QueryCDRRequest&gt;\n            &lt;!--Optional:--&gt;\n             &lt;bbs:SubAccessCode&gt;\n               &lt;!--You have a CHOICE of the next 2 items at this level--&gt;\n               &lt;bbc:PrimaryIdentity&gt;99999999&lt;/bbc:PrimaryIdentity&gt;\n               &lt;bbc:SubscriberKey&gt;9999999&lt;/bbc:SubscriberKey&gt;\n            &lt;/bbs:SubAccessCode&gt;\n            &lt;bbs:TimePeriod&gt;\n               &lt;bbs:StartTime&gt;20150401010000&lt;/bbs:StartTime&gt;\n               &lt;!--Optional:--&gt;\n               &lt;bbs:EndTime&gt;20150425010000&lt;/bbs:EndTime&gt;\n            &lt;/bbs:TimePeriod&gt;\n         &lt;/QueryCDRRequest&gt;\n      &lt;/bbs:QueryCDRRequestMsg&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>I don't need to show all the fields.\nHow can I read a SOAP XML file and pass it to the template where I will use a JQUERY snippet to show the xml as tree.</p>\n\n<p>Some files are stored in a local folder, but others files will be accessed through a web service where I need to send a request like the above XML example.</p>\n\n<p>In few words, how can I send and retrieve XML using SOAP format in a django view.</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["python", "tornado"], "answers": [{"tags": [], "owner": {"reputation": 4097, "user_id": 567555, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/803ed99044fd6840bb95eece48b0c903?s=128&d=identicon&r=PG", "display_name": "r.v", "link": "https://stackoverflow.com/users/567555/r-v"}, "is_accepted": false, "score": 2, "last_activity_date": 1441828949, "creation_date": 1441828949, "answer_id": 32488202, "question_id": 32488100, "link": "https://stackoverflow.com/questions/32488100/how-to-handle-exception-in-tornado/32488202#32488202", "title": "How to handle exception in Tornado", "body": "<p>This is a python question. The <code>try except</code> block is fine. You can reraise the same exception by saying <code>raise</code> in the <code>except</code> block without anything after <code>raise</code>. That is, replace</p>\n\n<pre><code>raise tornado.gen.Return(res)\n</code></pre>\n\n<p>by</p>\n\n<pre><code>    raise\n</code></pre>\n\n<p>Note the indent to keep the <code>raise</code> in the <code>except</code> block.</p>\n"}], "owner": {"reputation": 357, "user_id": 5203233, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f1646d1caa1a6a483e226fd08f9ddf2d?s=128&d=identicon&r=PG&f=1", "display_name": "NetRocks", "link": "https://stackoverflow.com/users/5203233/netrocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441831356, "creation_date": 1441828614, "last_edit_date": 1441831356, "question_id": 32488100, "link": "https://stackoverflow.com/questions/32488100/how-to-handle-exception-in-tornado", "title": "How to handle exception in Tornado", "body": "<p>I am not sure if this is a python question or a Tornado question. But I am struggling to figure out how I can handle an exception if something fails. \nHere is the snippet of code:</p>\n\n<pre><code>class iQHandler(myBaseHandler):\n@tornado.gen.coroutine\ndef _initialize(self):\n    param1 = self.get_argument('media', None)\n    if not param1:\n        raise tornado.web.HTTPError(404)\n\n    # default the Output parameter to JSON format.\n    outputFormat = self.get_argument('output', 'json', False)\n    try:\n        res = yield self._findfiles(param1)\n    except Exception, e:\n        # What do I do here?\n        print (\"Error in _initialize() routine --&gt; \", e)\n        # The variable, res, doesn't have any value if there is an exception thrown.\n    raise tornado.gen.Return(res)\n\n\n@tornado.web.asynchronous\n@tornado.gen.coroutine\ndef get(self):\n    response = yield self._initialize()\n    self.clear()\n    self.finish(response)\n</code></pre>\n\n<p>How will I go about either raising an exception and returning a value back to the previous routine? Thanks.</p>\n"}, {"tags": ["python", "flask", "flask-restful"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 7, "last_activity_date": 1569167230, "last_edit_date": 1569167230, "creation_date": 1441829657, "answer_id": 32488368, "question_id": 32488098, "link": "https://stackoverflow.com/questions/32488098/flask-restful-ignores-blueprints-url-prefix/32488368#32488368", "title": "Flask-Restful ignores blueprint&#39;s url_prefix", "body": "<p>You need to <a href=\"https://flask-restful.readthedocs.io/en/latest/intermediate-usage.html#use-with-blueprints\" rel=\"nofollow noreferrer\">pass the blueprint</a> to the <code>Api</code> instance, not the app.</p>\n\n<pre><code>building_bp = Blueprint('buildings', __name__)\nbuilding_api = Api(building_bp)\nbuilding_api.add_resource(Building, '/&lt;int:id&gt;')\napp.register_blueprint(building_bp, url_prefix='/buildings')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6503104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3df661f2a04d74b3c4ddb0c42d277a6?s=128&d=identicon&r=PG&f=1", "display_name": "HoracePeng", "link": "https://stackoverflow.com/users/6503104/horacepeng"}, "is_accepted": false, "score": 2, "last_activity_date": 1466992517, "creation_date": 1466992517, "answer_id": 38044904, "question_id": 32488098, "link": "https://stackoverflow.com/questions/32488098/flask-restful-ignores-blueprints-url-prefix/38044904#38044904", "title": "Flask-Restful ignores blueprint&#39;s url_prefix", "body": "<p>This is zhe best way to do with blueprint:</p>\n\n<pre><code>from flask import Flask, Blueprint\nfrom flask_restful import Api, Resource, url_for\n\napp = Flask(__name__)\napi_bp = Blueprint('api', __name__)\napi = Api(api_bp)\n\nclass TodoItem(Resource):\n    def get(self, id):\n        return {'task': 'Say \"Hello, World!\"'}\n\napi.add_resource(TodoItem, '/todos/&lt;int:id&gt;')\napp.register_blueprint(api_bp)\n</code></pre>\n\n<p>you should send Blueprint'instance to Api</p>\n"}], "owner": {"reputation": 43, "user_id": 5318551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7585ff26381cd640e5b11be8ad4d912?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/5318551/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2746, "favorite_count": 3, "accepted_answer_id": 32488368, "answer_count": 2, "score": 2, "last_activity_date": 1569167230, "creation_date": 1441828581, "last_edit_date": 1441905560, "question_id": 32488098, "link": "https://stackoverflow.com/questions/32488098/flask-restful-ignores-blueprints-url-prefix", "title": "Flask-Restful ignores blueprint&#39;s url_prefix", "body": "<p>I want to use Flask blueprints to organize my Flask-Restful resources into separate url prefixes.  Regardless of what url prefix I set (during either blueprint creation or registration), everything gets mapped to the raw route paths.  How do I correctly use Restful with blueprints?</p>\n\n<pre><code>app = Flask(__name__)\napi = Api(app)\n\napi.add_resource(Building, '/&lt;int:id&gt;', endpoint='building')\napi.add_resource(Jack, '/&lt;int:id&gt;', endpoint='jack')\n\nbuilding_api = Blueprint('building_api', __name__)\njack_api = Blueprint('jack_api', __name__)\n\napp.register_blueprint(building_api, url_prefix='/buildings')\napp.register_blueprint(jack_api, url_prefix='/jacks')\n</code></pre>\n\n<p>All <a href=\"http://flask.pocoo.org/docs/0.10/blueprints/#registering-blueprints\" rel=\"nofollow\">documentation</a> I can find says that these should now be available at <code>/buildings/&lt;int:id&gt;</code> and <code>/jacks/&lt;int:id&gt;</code>, but both of those urls 404 and instead I can access the building one at <code>/&lt;int:id&gt;</code>.  Hard coding the path in <code>add_resource</code> fixes it, but defeats the point of <code>url_prefix</code>.</p>\n"}, {"tags": ["python", "django", "twilio"], "comments": [{"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1441883598, "post_id": 32488029, "comment_id": 52859910, "body": "Are you using Twilio subaccounts at all?"}], "answers": [{"comments": [{"owner": {"reputation": 2050, "user_id": 1907157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/09f2279a90e8f9179c2e1a4269877e17?s=128&d=identicon&r=PG", "display_name": "professorDante", "link": "https://stackoverflow.com/users/1907157/professordante"}, "edited": false, "score": 0, "creation_date": 1441837703, "post_id": 32489969, "comment_id": 52840858, "body": "yes - all imports are correct. Updated question to show."}, {"owner": {"reputation": 3663, "user_id": 5216973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9lXDE.jpg?s=128&g=1", "display_name": "Megan Speir", "link": "https://stackoverflow.com/users/5216973/megan-speir"}, "reply_to_user": {"reputation": 2050, "user_id": 1907157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/09f2279a90e8f9179c2e1a4269877e17?s=128&d=identicon&r=PG", "display_name": "professorDante", "link": "https://stackoverflow.com/users/1907157/professordante"}, "edited": false, "score": 0, "creation_date": 1441839120, "post_id": 32489969, "comment_id": 52841328, "body": "Okay, let me try to get it running on my end."}, {"owner": {"reputation": 2050, "user_id": 1907157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/09f2279a90e8f9179c2e1a4269877e17?s=128&d=identicon&r=PG", "display_name": "professorDante", "link": "https://stackoverflow.com/users/1907157/professordante"}, "edited": false, "score": 0, "creation_date": 1441907523, "post_id": 32489969, "comment_id": 52876124, "body": "do you need https for this to work, as @VinodKurup suggested? None of the twilio documents say you do."}], "tags": [], "owner": {"reputation": 3663, "user_id": 5216973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9lXDE.jpg?s=128&g=1", "display_name": "Megan Speir", "link": "https://stackoverflow.com/users/5216973/megan-speir"}, "is_accepted": false, "score": 1, "last_activity_date": 1441836821, "creation_date": 1441836821, "answer_id": 32489969, "question_id": 32488029, "link": "https://stackoverflow.com/questions/32488029/twilio-view-decorator-always-gives-403-in-production/32489969#32489969", "title": "twilio_view decorator always gives 403 in production", "body": "<p>Twilio team member here. </p>\n\n<p>Are you importing twiml? Try making the first line of your say-hello function: </p>\n\n<pre><code>r = twiml.Response()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2050, "user_id": 1907157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/09f2279a90e8f9179c2e1a4269877e17?s=128&d=identicon&r=PG", "display_name": "professorDante", "link": "https://stackoverflow.com/users/1907157/professordante"}, "edited": false, "score": 0, "creation_date": 1441907459, "post_id": 32492186, "comment_id": 52876077, "body": "Good link - I&#39;ll take a look. Debugging this is awful - one character wrong and it returns false. Great."}], "tags": [], "owner": {"reputation": 2346, "user_id": 347942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1ad39c553a50569c138e673a19cbff?s=128&d=identicon&r=PG", "display_name": "Vinod Kurup", "link": "https://stackoverflow.com/users/347942/vinod-kurup"}, "is_accepted": false, "score": 0, "last_activity_date": 1441852523, "creation_date": 1441852523, "answer_id": 32492186, "question_id": 32488029, "link": "https://stackoverflow.com/questions/32488029/twilio-view-decorator-always-gives-403-in-production/32492186#32492186", "title": "twilio_view decorator always gives 403 in production", "body": "<p>I don't see anything obviously wrong in what you are doing, so I would suggest removing the <code>@twilio_view</code> decorator and logging the X-Twilio-Signature header in your view to see what it is and manually checking to see if it's correct. (Basically, redoing the logic of the <code>@twilio_view</code> decorator in your view, just to see what's going on).</p>\n\n<p>This <a href=\"https://www.twilio.com/docs/security#validating-requests\" rel=\"nofollow\">link</a> kinda suggests that you should use a SSL URL before Twilio will add the X-Twilio-Signature to its request, but I'm not really sure if that's true.</p>\n"}], "owner": {"reputation": 2050, "user_id": 1907157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/09f2279a90e8f9179c2e1a4269877e17?s=128&d=identicon&r=PG", "display_name": "professorDante", "link": "https://stackoverflow.com/users/1907157/professordante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441852523, "creation_date": 1441828268, "last_edit_date": 1441842287, "question_id": 32488029, "link": "https://stackoverflow.com/questions/32488029/twilio-view-decorator-always-gives-403-in-production", "title": "twilio_view decorator always gives 403 in production", "body": "<p>I'm using django-twilio to try and respond to text messages coming from Twilio account. As it recommends using the twilio_View decorator to imrove upon @csrf_exempt, I'm using it. Problem is, it doesnt work. No matter what I try, I always get 403.\nThings I've done:</p>\n\n<ol>\n<li>Twilio test account. Added TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN in settings, which match the test account values.</li>\n<li>Double checked the url set in twilio exists, and not HTTPS. Set in the properties of the twilio SMS phone number settings.</li>\n<li>Upgraded to South 1.0, run migrations.</li>\n<li>Turn off DJANGO_TWILIO_FORGERY_PROTECTION, and it works.</li>\n<li>Number the text is coming from is verified in twilio.</li>\n<li>Production settings, so debug=False</li>\n</ol>\n\n<p>Running Django 1.4.20, Twilio 4.5, django-twilio 0.8, python 2.7.</p>\n\n<p>View is stupid simple:</p>\n\n<pre><code>from django_twilio.decorators import twilio_view\nfrom twilio.twiml import Response\n\n@twilio_view\ndef say_hello(request):\n    r = Response()\n    r.message('hello there')\n    return r\n</code></pre>\n\n<p>If you replace the twilio decorator with the @csrf_exempt decorator, it all works fine. I get the response back to my phone.</p>\n\n<p>In the decorator it looks for the HTTP_X_TWILIO_SIGNATURE value in the request. Looking in my twilio alerts I can't see that value in the request. Don't know if it will show up there or not?</p>\n"}, {"tags": ["python", "performance", "list"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 3, "creation_date": 1441828241, "post_id": 32487979, "comment_id": 52836649, "body": "Warning: <code>if day in line:</code> is dangerous, because if <code>day == &#39;1&#47;1&#47;2015&#39;</code> it&#39;ll be in a line which is <code>&#39;21&#47;1&#47;2015&#39;</code>."}, {"owner": {"reputation": 1805, "user_id": 99557, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7b7749dd3a1af261384324c86325ce6d?s=128&d=identicon&r=PG", "display_name": "mpcabd", "link": "https://stackoverflow.com/users/99557/mpcabd"}, "edited": false, "score": 0, "creation_date": 1441828357, "post_id": 32487979, "comment_id": 52836701, "body": "Use regular expressions instead of <code>if day in line</code> and surround the tokens with <code>\\b</code> if they would occur as whole words."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441828778, "post_id": 32487979, "comment_id": 52836924, "body": "fantastic catch @DSM"}, {"owner": {"reputation": 883, "user_id": 3799942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d5c7d9c65ebda6cb0323c65ecd00d115?s=128&d=identicon&r=PG&f=1", "display_name": "NachoMiguel", "link": "https://stackoverflow.com/users/3799942/nachomiguel"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441828851, "post_id": 32487979, "comment_id": 52836959, "body": "Yes, perfect catch, How should i improve this? @DSM"}], "answers": [{"comments": [{"owner": {"reputation": 883, "user_id": 3799942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d5c7d9c65ebda6cb0323c65ecd00d115?s=128&d=identicon&r=PG&f=1", "display_name": "NachoMiguel", "link": "https://stackoverflow.com/users/3799942/nachomiguel"}, "edited": false, "score": 1, "creation_date": 1441829030, "post_id": 32488150, "comment_id": 52837042, "body": "It looks great. Let me try this and i will let you know sir."}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441829541, "post_id": 32488150, "comment_id": 52837290, "body": "I&#39;m not used to <code>re</code> but <code>r = r.search(line)</code> ? Wouldn&#39;t this prevent all lines but the first one to be scanned?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441829672, "post_id": 32488150, "comment_id": 52837341, "body": "@MathiasEttinger, we are looping over lines, getting each line at a time, we extract the date substring from each line if it is there and use that.  If there can be more than one date substring per line, the OP can use findall and loop over that"}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441829781, "post_id": 32488150, "comment_id": 52837383, "body": "I understand the code, my concerned is about overriding the regexp by its result"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441829840, "post_id": 32488150, "comment_id": 52837407, "body": "@MathiasEttinger, you are referring to the use of <code>r</code>? That was a typo I changed to match"}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441829948, "post_id": 32488150, "comment_id": 52837454, "body": "Yeah, that was that. I was wondering if it was a typo or some special features of <code>re</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "edited": false, "score": 0, "creation_date": 1441830032, "post_id": 32488150, "comment_id": 52837497, "body": "@MathiasEttinger, nope, it was just me being special in a different kind of way ;)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 7, "last_activity_date": 1441832343, "last_edit_date": 1441832343, "creation_date": 1441828775, "answer_id": 32488150, "question_id": 32487979, "link": "https://stackoverflow.com/questions/32487979/performance-searching-a-string-in-a-text-file-python/32488150#32488150", "title": "Performance - searching a string in a text file - Python", "body": "<p>Loop over the lines once, extracting any date, check if the date is in the set, if so increment the count using a <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow\">Counter</a> dict for the counts, at the end call Counter.most_common to get the 5 most common dates:  </p>\n\n<pre><code>dates1 = {'21/5/2015', '4/4/2015', '15/6/2015', '30/1/2015', '19/3/2015', '25/2/2015', '25/5/2015', '8/2/2015', '6/6/2015', '15/3/2015', '15/1/2015', '30/5/2015'}\n\n\nfrom collections import Counter\nimport re\n\ndef dates(data, dates1):\n    lines = data.split(\"\\n\")\n    dict_days = Counter()\n    r = re.compile(\"\\d+/\\d+/\\d+\")\n    for line in lines:\n        match = r.search(line)\n        if match:\n            dte = match.group()\n            if dte in dates1:\n                dict_days[dte] += 1\n    return dict_days.most_common(5)\n</code></pre>\n\n<p>This does a single pass over the list of lines as opposed to one pass for every dates in dates1.</p>\n\n<p>For 100k lines with the date string at the end of a string with 200+ chars: </p>\n\n<pre><code>In [9]: from random import choice\n\nIn [10]: dates1 = {'21/5/2015', '4/4/2015', '15/6/2015', '30/1/2015', '19/3/2015', '25/2/2015', '25/5/2015', '8/2/2015', '6/6/2015', '15/3/2015', '15/1/2015', '30/5/2015'}\n\nIn [11]: dtes = list(dates1)\n\nIn [12]: s = \"the same dates appear in a text ('data' from now on). It's a pretty long text. I want to loop over the text and get the number of times each date appear in the text, then i print the 5 dates with more occurances. \"\n\nIn [13]: data = \"\\n\".join([s+ choice(dtes) for _ in range(100000)])\n\nIn [14]: timeit dates(data,dates1)\n1 loops, best of 3: 662 ms per loop\n</code></pre>\n\n<p>If more than one date can appear per line you can use findall:</p>\n\n<pre><code>def dates(data, dates1):\n    lines = data.split(\"\\n\")\n    r = re.compile(\"\\d+/\\d+/\\d+\")\n    dict_days = Counter(dt for line in lines\n                        for dt in r.findall(line) if dt in dates1)\n    return dict_days.most_common(5)\n</code></pre>\n\n<p>If data is not actually a file like object and is a single string, just search the string itself:</p>\n\n<pre><code>def dates(data, dates1):\n    r = re.compile(\"\\d+/\\d+/\\d+\")\n    dict_days = Counter((dt for dt in r.findall(data) if dt in dates1))\n    return dict_days.most_common(5)\n</code></pre>\n\n<p>compiling the dates on the test data seems to be the fastest approach, splitting each substring is pretty close to the search implementation:</p>\n\n<pre><code>def dates_split(data, dates1):\n    lines = data.split(\"\\n\")\n    dict_days = Counter(dt for line in lines\n                        for dt in line.split() if dt in dates1)\n    return dict_days.most_common(5)\n\ndef dates_comp_date1(data, dates1):\n    lines = data.split(\"\\n\")\n    r = re.compile(\"|\".join(dates1))\n    dict_days = Counter(dt for line in lines for dt in r.findall(line))\n    return dict_days.most_common(5)\n</code></pre>\n\n<p>Using the functions above:</p>\n\n<pre><code>In [63]: timeit dates(data, dates1)\n1 loops, best of 3: 640 ms per loop\n\nIn [64]: timeit dates_split(data, dates1)\n1 loops, best of 3: 535 ms per loop\n\nIn [65]: timeit dates_comp_date1(data, dates1)\n1 loops, best of 3: 368 ms per loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 4, "last_activity_date": 1441828777, "creation_date": 1441828777, "answer_id": 32488152, "question_id": 32487979, "link": "https://stackoverflow.com/questions/32487979/performance-searching-a-string-in-a-text-file-python/32488152#32488152", "title": "Performance - searching a string in a text file - Python", "body": "<pre><code>Counter(word for word in my_text if word in my_dates)\n</code></pre>\n\n<p>I think would work quickly .... well O(N) (ish)</p>\n"}, {"tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": false, "score": 0, "last_activity_date": 1441829021, "creation_date": 1441829021, "answer_id": 32488220, "question_id": 32487979, "link": "https://stackoverflow.com/questions/32487979/performance-searching-a-string-in-a-text-file-python/32488220#32488220", "title": "Performance - searching a string in a text file - Python", "body": "<p>Why not just do:</p>\n\n<pre><code>dates = {'21/5/2015':0, '4/4/2015':0, '15/6/2015':0, '30/1/2015':0, '19/3/2015':0, '25/2/2015':0, '25/5/2015':0, '8/2/2015':0, '6/6/2015':0, '15/3/2015':0, '15/1/2015':0, '30/5/2015':0}\n\ndef processDates(data):\n    lines = data.split(\"\\n\")\n    for line in lines:\n        if line in dates:\n           dates[line] += 1\n</code></pre>\n\n<p>Then just sort <code>dates</code> by value</p>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1441829047, "creation_date": 1441829047, "answer_id": 32488225, "question_id": 32487979, "link": "https://stackoverflow.com/questions/32487979/performance-searching-a-string-in-a-text-file-python/32488225#32488225", "title": "Performance - searching a string in a text file - Python", "body": "<p>Use a regular expression to extract the data, and a <code>collections.Counter</code> to find the most common:</p>\n\n<pre><code>import re\nimport collections\n\ndef dates(data, dates1):\n    dates1 = '|'.join(x for x in dates1)\n    dates1 = re.findall(dates1, data)\n    dates1 = collections.Counter(dates1)\n    print dates1.most_common(5)\n\ndates1 = {'21/5/2015', '4/4/2015', '15/6/2015'}\ndata = 'Today is 21/5/2015. Yesterday is 4/4/2015.\\nMy birthday is 4/4/2015'\n\ndates(data, dates1)\n</code></pre>\n"}], "owner": {"reputation": 883, "user_id": 3799942, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d5c7d9c65ebda6cb0323c65ecd00d115?s=128&d=identicon&r=PG&f=1", "display_name": "NachoMiguel", "link": "https://stackoverflow.com/users/3799942/nachomiguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 32488150, "answer_count": 4, "score": 2, "last_activity_date": 1441832343, "creation_date": 1441828032, "last_edit_date": 1441829342, "question_id": 32487979, "link": "https://stackoverflow.com/questions/32487979/performance-searching-a-string-in-a-text-file-python", "title": "Performance - searching a string in a text file - Python", "body": "<p>I have a set of dates:</p>\n\n<pre><code>dates1 = {'21/5/2015', '4/4/2015', '15/6/2015', '30/1/2015', '19/3/2015', '25/2/2015', '25/5/2015', '8/2/2015', '6/6/2015', '15/3/2015', '15/1/2015', '30/5/2015'}\n</code></pre>\n\n<p>the same dates appear in a text ('data' from now on). It\u00b4s a pretty long text. I want to loop over the text and get the number of times each date appear in the text, then i print the 5 dates with more occurances.</p>\n\n<p>what i have now is this:</p>\n\n<pre><code>def dates(data, dates1):\n    lines = data.split(\"\\n\")\n    dict_days = {}\n    for day in dates1:\n        count = 0\n        for line in lines:\n            if day in line:\n                count += 1\n        dict_days[day] = count\n\n    newA = heapq.nlargest(5, dict_days, key=dict_days.get)\n\n    print(newA)\n</code></pre>\n\n<p>I split the tex in lines, create a dict, for every date in the list it looks for it in every line and if it finds it adds 1 to count.</p>\n\n<p>this works fine, BUT it\u00b4s taking a looong time running this method.</p>\n\n<p>So what i am asking is if someone knows a more efficient way to do exactly the same</p>\n\n<p>Any help will be really appreciated</p>\n\n<p><strong>Edit</strong></p>\n\n<p><strong>I will try every single answer and let you know, thanks in advance</strong></p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5318555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bd5c5ac42c9f3f93b37e433b25bb22?s=128&d=identicon&r=PG&f=1", "display_name": "Keenan Kon", "link": "https://stackoverflow.com/users/5318555/keenan-kon"}, "edited": false, "score": 0, "creation_date": 1441830931, "post_id": 32488144, "comment_id": 52837956, "body": "Thanks for helping out. I wish I could translate my thoughts into code as well you do. Your code makes sense, but the expected output is 310, while yours is 280. I am trying to find out where is the mistake."}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "reply_to_user": {"reputation": 29, "user_id": 5318555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bd5c5ac42c9f3f93b37e433b25bb22?s=128&d=identicon&r=PG&f=1", "display_name": "Keenan Kon", "link": "https://stackoverflow.com/users/5318555/keenan-kon"}, "edited": false, "score": 0, "creation_date": 1441832007, "post_id": 32488144, "comment_id": 52838467, "body": "@KeenanKon I made a guess on the calculation since it was missing an operation and I also made a mistake in my if statement. updated. Also if this fixed your problem then don&#39;t forget to upvote and mark this as your accepted answer"}], "tags": [], "owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832027, "last_edit_date": 1441832027, "creation_date": 1441828762, "answer_id": 32488144, "question_id": 32487966, "link": "https://stackoverflow.com/questions/32487966/rerunning-a-code-in-python-using-loops/32488144#32488144", "title": "Rerunning a code in python using loops", "body": "<p>you need to reset your month to 1 in your if statement that checks <code>if (unpaid &gt; 0)</code> but you also need to check <code>if(month == 13)</code>. On top of that you are setting <code>a</code> to <code>balance</code> each time you loop. Try this</p>\n\n<pre><code>balance = 3329\na=balance\nannualInterestRate = 0.2\nmonthly_interest_rate= (annualInterestRate)/12.0\nmonthlyPaymentRate=10\n\nmonth=1\ntotal=0\nunpaid = 1\n\nwhile unpaid &gt; 0:\n\n     monthly_unpaid_balance = (balance) - (monthlyPaymentRate)\n     unpaid = round((monthly_unpaid_balance + monthly_interest_rate * monthly_unpaid_balance), 2)\n     #Your round line doesn't do anything since it returns the new answer but you don't assign it to anything. That being said, it's an unnecessary line and will work without the rounding\n\n\n     month += 1\n     balance=unpaid\n     total += monthlyPaymentRate\n\n\n     if (unpaid &gt; 0 and month == 13):\n         balance=a\n         monthlyPaymentRate += 10\n         month = 1\n\nprint(monthlyPaymentRate)\n</code></pre>\n\n<p>I think that is what you're asking for. So what it does is that it checks the unpaid amount only on the last month. If it is greater than zero and it has gone through all 12 months then it resets the balance back to the original with <code>balance = a</code> adds <code>10</code> to the <code>monthlyPaymentRate</code> and resets the month back to <code>1</code>. If it's less than zero then it will break out of the while loop and print the <code>monthlyPaymentRate</code></p>\n"}], "owner": {"reputation": 29, "user_id": 5318555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bd5c5ac42c9f3f93b37e433b25bb22?s=128&d=identicon&r=PG&f=1", "display_name": "Keenan Kon", "link": "https://stackoverflow.com/users/5318555/keenan-kon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441832027, "creation_date": 1441827965, "last_edit_date": 1441830962, "question_id": 32487966, "link": "https://stackoverflow.com/questions/32487966/rerunning-a-code-in-python-using-loops", "title": "Rerunning a code in python using loops", "body": "<p>I am new to python, and recently I came across a problem. The problem asked to write a code that will select the lowest monthly payment rate so that by year end, the balance is 0 or negative.</p>\n\n<p>The plan to tackle this problem is to 1st assume a value for the monthly payment, and then find the balance at the end of the year, also taking account of the interest per month. And then, write code to compare the balance to 0 or negative. If there is still a positive value for balance, then the code will add 10 to the monthly payment and keep repeating until balance is 0 or negative. </p>\n\n<p>pasted is my code. I can think of the logic behind it, but my code stops everytime when the month is 12, and it cannot go on, and I don't know how to ask the code to rerun the calculation. </p>\n\n<pre><code>balance = 3329\na = balance\nannualInterestRate = 0.2\nmonthly_interest_rate = (annualInterestRate)/12.0\n\nmonthlyPaymentRate = 10\n\nmonth = 1\ntotal = 0\n\nwhile (month &lt; 13):\n    monthly_unpaid_balance = (balance) - (monthlyPaymentRate)\n    updated_balance_each_month = (monthly_unpaid_balance) + (monthly_interest_rate * monthly_unpaid_balance)\n    round (updated_balance_each_month,2)\n    unpaid= updated_balance_each_month\n    month = month + 1\n    balance=unpaid\n    total = total + balance\n\n    if (total &gt;0 ):\n        balance=a\n        monthlyPaymentRate=monthlyPaymentRate+ 10\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "debugging"], "comments": [{"owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "edited": false, "score": 1, "creation_date": 1441828037, "post_id": 32487941, "comment_id": 52836557, "body": "I&#39;m sure this has been asked before, the answer is to use the logging module, I&#39;d delete this before it gets closed."}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "reply_to_user": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "edited": false, "score": 0, "creation_date": 1441829142, "post_id": 32487941, "comment_id": 52837102, "body": "@AaronHall Fair point, thanks. taesu has provided a nice alternative."}], "answers": [{"comments": [{"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1441829778, "post_id": 32488016, "comment_id": 52837380, "body": "Nicely done, thanks."}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1441842439, "post_id": 32488016, "comment_id": 52842211, "body": "How does the <code>print</code> function know about <code>enable_print</code>, if it&#39;s not global and hasn&#39;t been passed as an argument?"}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": true, "score": 6, "last_activity_date": 1441828206, "creation_date": 1441828206, "answer_id": 32488016, "question_id": 32487941, "link": "https://stackoverflow.com/questions/32487941/efficient-way-of-toggling-on-off-print-statements-in-python/32488016#32488016", "title": "Efficient way of toggling on/off print statements in Python?", "body": "<pre><code>from __future__ import print_function\nenable_print = 0\n\ndef print(*args, **kwargs):\n    if enable_print:\n        return __builtins__.print(*args, **kwargs)\n\nprint('foo') # doesn't get printed\nenable_print = 1\nprint('bar') # gets printed\n</code></pre>\n\n<p>sadly you can't keep the py2 print syntax <code>print 'foo'</code></p>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "closed_date": 1441829165, "accepted_answer_id": 32488016, "answer_count": 1, "score": 0, "last_activity_date": 1441828206, "creation_date": 1441827874, "question_id": 32487941, "link": "https://stackoverflow.com/questions/32487941/efficient-way-of-toggling-on-off-print-statements-in-python", "closed_reason": "Duplicate", "title": "Efficient way of toggling on/off print statements in Python?", "body": "<p>I have 10 or 15 very useful debugging <code>print</code> statements sprinkled throughout my program (in different functions and in <code>main</code>).</p>\n\n<p>I won't always want or need the log file though. I have a config file in which I could add a parameter to toggle print statements on or off. But then, I'd have to add a guard check for the value of this parameter above every print statement.</p>\n\n<p>What are some better approaches?</p>\n"}, {"tags": ["python", "facebook", "sdk"], "comments": [{"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1441832326, "post_id": 32487777, "comment_id": 52838631, "body": "Since you just exposed your long-lived page access token here, you should go change your Facebook password <b>now</b> to invalidate it."}, {"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1441859105, "post_id": 32487777, "comment_id": 52846212, "body": "You need to ask for the fields that you want"}, {"owner": {"reputation": 703, "user_id": 4165580, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1edbc2960c5f59131cc58de7ef540618?s=128&d=identicon&r=PG&f=1", "display_name": "BioShock", "link": "https://stackoverflow.com/users/4165580/bioshock"}, "reply_to_user": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1441873834, "post_id": 32487777, "comment_id": 52853415, "body": "@CBROE thanks for the answer ! Really usless"}, {"owner": {"reputation": 703, "user_id": 4165580, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1edbc2960c5f59131cc58de7ef540618?s=128&d=identicon&r=PG&f=1", "display_name": "BioShock", "link": "https://stackoverflow.com/users/4165580/bioshock"}, "edited": false, "score": 0, "creation_date": 1441873887, "post_id": 32487777, "comment_id": 52853455, "body": "WizKid where can I find the fields I want?"}], "answers": [{"tags": [], "owner": {"reputation": 5167, "user_id": 4862613, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1583232551699623/picture?type=large", "display_name": "Maldus", "link": "https://stackoverflow.com/users/4862613/maldus"}, "is_accepted": true, "score": 1, "last_activity_date": 1456224912, "last_edit_date": 1495542197, "creation_date": 1456224912, "answer_id": 35575570, "question_id": 32487777, "link": "https://stackoverflow.com/questions/32487777/reading-pages-messages-with-python-facebook-sdk/35575570#35575570", "title": "Reading page&#39;s messages with Python Facebook SDK", "body": "<p>In order to get the messages content you need first to request the single messages in the conversation, accessible with the 'id' field in the dictionary you copied, result of \n    x = api.get_object('/'+str(MY PAGE ID)+\"/conversations/\") #Give actual  conversations</p>\n\n<p>you can request the messages in the conversation by calling</p>\n\n<pre><code>msg = api.get_object('/'+&lt;message id&gt;)\n</code></pre>\n\n<p>Here it gets tricky, because following the graph api documentation you should receive back a dictionary with ALL the possible fields, including the 'message' (content) field. The function however returns only the fields 'created_time' and 'id'.\nThanks to this other question <a href=\"https://stackoverflow.com/questions/16669977/request-fields-in-python-facebook-sdk\">Request fields in Python Facebook SDK</a> I found that you can request for those fields by adding a dict with such fields specified in the arguments of the graph.get_object() function. As far as I know this is undocumented in the facebook sdk reference for python.</p>\n\n<p>The correct code is</p>\n\n<pre><code>args = {'fields' : 'message'}\nmsg = api.get_object('/'+&lt;message id&gt;, **args)\n</code></pre>\n\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/35157754/read-facebook-messages-using-python-sdk#new-answer\">Read facebook messages using python sdk</a></p>\n"}], "owner": {"reputation": 703, "user_id": 4165580, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1edbc2960c5f59131cc58de7ef540618?s=128&d=identicon&r=PG&f=1", "display_name": "BioShock", "link": "https://stackoverflow.com/users/4165580/bioshock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 35575570, "answer_count": 1, "score": 1, "last_activity_date": 1456224912, "creation_date": 1441827152, "last_edit_date": 1441873796, "question_id": 32487777, "link": "https://stackoverflow.com/questions/32487777/reading-pages-messages-with-python-facebook-sdk", "title": "Reading page&#39;s messages with Python Facebook SDK", "body": "<p>Basically i need to get all messages of a page using facebook SDK in python.\nFollowing some tutorial i arrived to this point:</p>\n\n<pre><code>import facebook\n\ndef main():\n  cfg = {\n    \"page_id\"      : \"MY PAGE ID\", \n    \"access_token\" : \"LONG LIVE ACCESS TOKEN\"  \n    }\n\n  api = get_api(cfg)\n  msg = \"Hre\"\n  status = api.put_wall_post(msg) #used to post to wall message Hre\n  x = api.get_object('/'+str(MY PAGE ID)+\"/conversations/\") #Give actual  conversations\n\n\ndef get_api(cfg):\n  graph = facebook.GraphAPI(cfg['access_token'])\n  resp = graph.get_object('me/accounts')\n  page_access_token = None\n  for page in resp['data']:\n    if page['id'] == cfg['page_id']:\n      page_access_token = page['access_token']\n  graph = facebook.GraphAPI(page_access_token)\n  return graph\n\nif __name__ == \"__main__\":\n  main()\n</code></pre>\n\n<p>The first problem is that  <code>api.get_object('/'+str(MY PAGE ID)+\"/conversations/\")</code>returns a dictionary containing many informations, but what i would like to see is the messages they sent to me, while for now it print the user id that sent to me a message. </p>\n\n<p>The output look like the following:</p>\n\n<pre><code>{u'paging': {u'next': u'https://graph.facebook.com/v2.4/571499452991432/conversations?access_token=Token&amp;limit=25&amp;until=1441825848&amp;__paging_token=enc_AdCqaKAP3e1NU9MGSsvSdzDPIIDtB2ZCe2hCYfk7ft5ZAjRhsuVEL7eFYOOCdQ8okvuhZA5iQWaYZBBbrZCRNW8uzWmgnKGl69KKt4catxZAvQYCus7gZDZD', u'previous': u'https://graph.facebook.com/v2.4/571499452991432/conversations?access_token=token&amp;limit=25&amp;since=1441825848&amp;__paging_token=enc_AdCqaKAP3e1NU9MGSsvSdzDPIIDtB2ZCe2hCYfk7ft5ZAjRhsuVEL7eFYOOCdQ8okvuhZA5iQWaYZBBbrZCRNW8uzWmgnKGl69KKt4catxZAvQYCus7gZDZD&amp;__previous=1'}, u'data': [{u'link': u'/communityticino/manager/messages/?mercurythreadid=user%3A1055476438&amp;threadid=mid.1441825847634%3Af2e0247f54f5c4d222&amp;folder=inbox', u'id': u't_mid.1441825847634:f2e0247f54f5c4d222', u'updated_time': u'2015-09-09T19:10:48+0000'}]}\n</code></pre>\n\n<p>which is basically <code>paging</code> and <code>data</code>.\nGiven this is there a way to read the conversation?</p>\n"}, {"tags": ["python", "csv", "pandas", "import", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1441828342, "post_id": 32487982, "comment_id": 52836689, "body": "well although that seems useful, how would I incorporate that into my code as the dataFrame is being built? Maybe to incorporate that piece within pd.read_csv(....  ?"}, {"owner": {"reputation": 799, "user_id": 4080476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8wTd.png?s=128&g=1", "display_name": "Brian Pendleton", "link": "https://stackoverflow.com/users/4080476/brian-pendleton"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1441828560, "post_id": 32487982, "comment_id": 52836812, "body": "I added a simpler version using numpy array, then just add it to the df before you append."}], "tags": [], "owner": {"reputation": 799, "user_id": 4080476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8wTd.png?s=128&g=1", "display_name": "Brian Pendleton", "link": "https://stackoverflow.com/users/4080476/brian-pendleton"}, "is_accepted": false, "score": 0, "last_activity_date": 1441828538, "last_edit_date": 1441828538, "creation_date": 1441828062, "answer_id": 32487982, "question_id": 32487776, "link": "https://stackoverflow.com/questions/32487776/python-pandas-and-importing-multiple-csvs-into-a-dataframe/32487982#32487982", "title": "python, pandas and importing multiple csv&#39;s into a dataframe", "body": "<pre><code>df = pd.DataFrame({'a': np.zeros(5)})\ndf[-2:-1] = 1\nprint df\n\n   a\n0  0\n1  0\n2  0\n3  1\n4  0\n</code></pre>\n\n<p>You can use this when you create each dataframe?</p>\n\n<p>Example in your code:</p>\n\n<pre><code>for file_ in allFiles:\n    names = ['Date', 'Open', 'High', 'Low', 'Close', 'Vol', 'OI']\n    df = pd.read_csv(file_, index_col = None, names = names)\n    before = np.zeros(len(df))\n    before[-2] = 1\n    df['before'] = before\n    list_.append(df)\nframe = pd.concat(list_)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "edited": false, "score": 0, "creation_date": 1441828658, "post_id": 32488005, "comment_id": 52836860, "body": "It doesnt matter how many file you have. Everytime you load a file, just keep track of how long it was using the newcol list. When you have all your files loaded just add the new column to your complete dataframe"}], "tags": [], "owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "is_accepted": false, "score": 0, "last_activity_date": 1441828163, "creation_date": 1441828163, "answer_id": 32488005, "question_id": 32487776, "link": "https://stackoverflow.com/questions/32487776/python-pandas-and-importing-multiple-csvs-into-a-dataframe/32488005#32488005", "title": "python, pandas and importing multiple csv&#39;s into a dataframe", "body": "<p>Just create a list to keep track of the last column when you are building your dataframe:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import pandas as pd\n\ndf = pd.DataFrame()\nnewcol = []\n\nfor i in range(10):\n    # Load 10 files and get shape\n    # length = df.shape[0]\n    length = 10\n    c = [0 for i in range(length)]\n    c[-2] = 1\n    newcol += c\n\ndf['BeforeLast'] = newcol\n\nprint df\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1441829187, "post_id": 32488124, "comment_id": 52837126, "body": "hey this worked great! one thing I noticed was that my columns re-arranged into some different order. any quick way to put them back the same way I have my [names] ordered?"}, {"owner": {"reputation": 51, "user_id": 3602063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63202a9b45ddc080c2d67a4a97d64a00?s=128&d=identicon&r=PG&f=1", "display_name": "user3602063", "link": "https://stackoverflow.com/users/3602063/user3602063"}, "reply_to_user": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "edited": false, "score": 0, "creation_date": 1441829935, "post_id": 32488124, "comment_id": 52837447, "body": "try:     df = df[names]"}], "tags": [], "owner": {"reputation": 51, "user_id": 3602063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63202a9b45ddc080c2d67a4a97d64a00?s=128&d=identicon&r=PG&f=1", "display_name": "user3602063", "link": "https://stackoverflow.com/users/3602063/user3602063"}, "is_accepted": true, "score": 2, "last_activity_date": 1441828704, "creation_date": 1441828704, "answer_id": 32488124, "question_id": 32487776, "link": "https://stackoverflow.com/questions/32487776/python-pandas-and-importing-multiple-csvs-into-a-dataframe/32488124#32488124", "title": "python, pandas and importing multiple csv&#39;s into a dataframe", "body": "<p>Try this.  You do not need a list.  Just append to the original data frame.</p>\n\n<p>.iloc[-2, -1] is the 2nd to last row, last col</p>\n\n<p>I added a index reset as in my test I ran into duplicate index numbers.</p>\n\n<pre><code>import pandas as pd\nimport glob\nimport os\n\n\npath =r'X:\\PublicFiles\\TradingData\\CSV\\RealMarkets\\Weekly\\Futures\\Contracts\\Corn C'\nallFiles = glob.glob(path + \"/*.csv\")  ##'*' means any file name can be grabbed\ndf = pd.DataFrame()\n\nfor file_ in allFiles:\n    names = ['Date', 'Open', 'High', 'Low', 'Close', 'Vol', 'OI']\n    df_temp = pd.read_csv(file_, index_col = None, names = names)\n    df_temp['beforelast'] = 0\n    df_temp.iloc[-2,-1] = 1\n    df = df.append(df_temp)\n\ndf = df.reset_index(drop=True)\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 1, "accepted_answer_id": 32488124, "answer_count": 3, "score": 0, "last_activity_date": 1441828704, "creation_date": 1441827150, "question_id": 32487776, "link": "https://stackoverflow.com/questions/32487776/python-pandas-and-importing-multiple-csvs-into-a-dataframe", "title": "python, pandas and importing multiple csv&#39;s into a dataframe", "body": "<p>My code is grabbing multiple csv files from a directory, and putting all the data into a dataFrame I created and called \"df\". Each CSV is the same format, but can be of various lengths so this is what I want to do:</p>\n\n<p>I want to have a column in my df (DataFrame) that records the second to last piece of data in each csv I pull in before it moves onto the next one. I have modified the output below to give you an example of what I mean. Let's suppose I call this column BeforeLast. When you see a 0 value, that means its not the second to last piece of data in the csv I pulled, if you see a 1 value it means its the second to last piece of data in the csv I pulled.</p>\n\n<p>How can I do this as Python is pulling in each csv called upon?</p>\n\n<pre><code>import pandas as pd\nimport glob\nimport os\n\n\npath =r'X:\\PublicFiles\\TradingData\\CSV\\RealMarkets\\Weekly\\Futures\\Contracts\\Corn C'\nallFiles = glob.glob(path + \"/*.csv\")  ##'*' means any file name can be grabbed\ndf = pd.DataFrame()\nlist_ = []\n\nfor file_ in allFiles:\n    names = ['Date', 'Open', 'High', 'Low', 'Close', 'Vol', 'OI']\n    df = pd.read_csv(file_, index_col = None, names = names)\n    list_.append(df)\nframe = pd.concat(list_)\n</code></pre>\n\n<p>Here is a sample of my current dataFrame (df)</p>\n\n<pre><code>    Date       Open    High     Low   Close   Vol  OI\n0   20141212  427.00  427.00  427.00  427.00    0   0\n1   20141219  429.00  429.00  424.00  424.00    0   0\n2   20141226  424.00  425.00  423.00  425.00    0   0\n3   20150102  422.75  422.75  417.50  417.50    0   0\n</code></pre>\n\n<p>This is what I want</p>\n\n<pre><code>    Date       Open    High     Low   Close   Vol  OI  BeforeLast\n0   20141212  427.00  427.00  427.00  427.00    0   0  0\n1   20141219  429.00  429.00  424.00  424.00    0   0  0\n2   20141226  424.00  425.00  423.00  425.00    0   0  1\n3   20150102  422.75  422.75  417.50  417.50    0   0  0 (this is the last piece of data in this csv and now it moves on to the next)\n4   20141226  424.00  425.00  423.00  425.00    0   0  0\n5   20150102  422.75  422.75  417.50  417.50    0   0  0\n6   20141226  424.00  425.00  423.00  425.00    0   0  1\n7   20150102  422.75  422.75  417.50  417.50    0   0  0\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 3, "creation_date": 1441827330, "post_id": 32487773, "comment_id": 52836222, "body": "It only returns the same object <i>if</i> that object is an iterator.  If the object is an <i>iterable</i>, then <code>__iter__</code> can return some other object that will be the iterator.  See <a href=\"http://stackoverflow.com/questions/9884132/what-exactly-are-pythons-iterator-iterable-and-iteration-protocols\">this question</a>."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441827340, "post_id": 32487773, "comment_id": 52836227, "body": "<a href=\"https://docs.python.org/2/reference/datamodel.html#object.__iter__\" rel=\"nofollow noreferrer\">doc</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4694244"}, "edited": false, "score": 0, "creation_date": 1441827542, "post_id": 32487773, "comment_id": 52836317, "body": "But if it&#39;s an iterator, I still don&#39;t get why you&#39;d have it return itself."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1441827959, "post_id": 32487773, "comment_id": 52836523, "body": "You need to return an iterator, something you can pass to <code>next</code> to get the next object. If the instance implements <code>__next__</code>, you can return the instance itself."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1441828474, "post_id": 32487773, "comment_id": 52836760, "body": "Is your question then &quot;why are iterators iterable&quot;?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1441828625, "post_id": 32487773, "comment_id": 52836840, "body": "Compare the difference with &amp; without calling <code>iter()</code> on a string: <code>s=&#39;this is a test.&#39;;[&#39;&#39;.join(u)for u in zip(*[s]*3)];[&#39;&#39;.join(u)for u in zip(*[iter(s)]*3)]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "is_accepted": false, "score": 2, "last_activity_date": 1441827464, "creation_date": 1441827464, "answer_id": 32487845, "question_id": 32487773, "link": "https://stackoverflow.com/questions/32487773/what-is-the-purpose-of-iter-returning-the-iterator-object-itself/32487845#32487845", "title": "What is the purpose of __iter__ returning the iterator object itself?", "body": "<p>This depends what object you call iter on. If an object is already an iterator, then there is no operation required to convert it to an iterator, because it already is one. But if the object is not an <em>iterator</em>, but is <em>iterable</em>, then an iterator is constructed from the object.</p>\n\n<p>A good example of this is the list object:</p>\n\n<pre><code>&gt;&gt;&gt; x = [1, 2, 3]\n&gt;&gt;&gt; iter(x) == x\nFalse\n&gt;&gt;&gt; iter(x)\n&lt;list_iterator object at 0x7fccadc5feb8&gt;\n&gt;&gt;&gt; x\n[1, 2, 3]\n</code></pre>\n\n<p>Lists are iterable, but they are not themselves iterators. The result of <code>list.__iter__</code> is not the original list.</p>\n"}, {"comments": [{"owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "edited": false, "score": 0, "creation_date": 1441828888, "post_id": 32488072, "comment_id": 52836974, "body": "I assume you meant <code>except StopIteration</code> rather than <code>catch StopIteration</code>."}], "tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 3, "last_activity_date": 1441829483, "last_edit_date": 1441829483, "creation_date": 1441828461, "answer_id": 32488072, "question_id": 32487773, "link": "https://stackoverflow.com/questions/32487773/what-is-the-purpose-of-iter-returning-the-iterator-object-itself/32488072#32488072", "title": "What is the purpose of __iter__ returning the iterator object itself?", "body": "<p>When you loop over something using <code>for x in something</code>, then the loop actually calls <code>iter(something)</code> first, so it has something to work with. In general, the for loop is approximately equivalent to something like this:</p>\n\n<pre><code>something_iterator = iter(something)\nwhile True:\n   try:\n       x = next(something_iterator)\n\n       # loop body\n\n   except StopIteration:\n       break\n</code></pre>\n\n<p>So as you already figured out yourself, in order to be able to loop over an iterator, i.e. when <code>something</code> is already an iterator, iterators should always return themselves when calling <code>iter()</code> on them. So this basically makes sure that iterators are also iterable.</p>\n"}, {"tags": [], "owner": {"reputation": 1171, "user_id": 4779152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b494f4d4f207c8725c9ef7f9a5434d21?s=128&d=identicon&r=PG&f=1", "display_name": "gsb-eng", "link": "https://stackoverflow.com/users/4779152/gsb-eng"}, "is_accepted": false, "score": 0, "last_activity_date": 1441830126, "creation_date": 1441830126, "answer_id": 32488486, "question_id": 32487773, "link": "https://stackoverflow.com/questions/32487773/what-is-the-purpose-of-iter-returning-the-iterator-object-itself/32488486#32488486", "title": "What is the purpose of __iter__ returning the iterator object itself?", "body": "<p>In <code>Python</code> when ever you try to use <code>loops</code>, or try to iterate over any object like below..</p>\n\n<p>Lets try to understand for <code>list</code> object..</p>\n\n<pre><code>&gt;&gt;&gt; l = [1, 2, 3] # Defined list l\n</code></pre>\n\n<p>If we iterate over the above list..</p>\n\n<pre><code>&gt;&gt;&gt; for i in l:\n...     print i\n... \n1\n2\n3\n</code></pre>\n\n<p>When you try to do this <code>iteration</code> over <code>list l</code>, Python <code>for</code> loop checks for <code>l.__iter__()</code> which intern return an iterator object.</p>\n\n<pre><code>&gt;&gt;&gt; for i in l.__iter__():\n...     print i\n... \n1\n2\n3\n</code></pre>\n\n<p>To understand this more, lets customize the <code>list</code> and create anew list class..</p>\n\n<pre><code>&gt;&gt;&gt; class ListOverride(list):\n...     def __iter__(self):\n...         raise TypeError('Not iterable')\n... \n</code></pre>\n\n<p>Here I've created <code>ListOverride</code> class which intern <code>inherited</code> from <code>list</code> and overrided <code>list.__iter__</code> method to raise <code>TypeError</code>.</p>\n\n<pre><code>&gt;&gt;&gt; ll = ListOverride([1, 2, 3])\n&gt;&gt;&gt; ll\n[1, 2, 3]\n</code></pre>\n\n<p>And i've created anew list using <code>ListOverride</code> class, and since it's list object it should iterate in the same way as <code>list</code> does.</p>\n\n<pre><code>&gt;&gt;&gt; for i in ll:\n...     print i\n... \nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 3, in __iter__\nTypeError: Not iterable\n</code></pre>\n\n<p>If we try to <code>iterate</code> over <code>ListOverride</code> object <code>ll</code>, we'll endup getting <code>NotIterable</code> exception..</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4694244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1441830126, "creation_date": 1441827138, "last_edit_date": 1441830027, "question_id": 32487773, "link": "https://stackoverflow.com/questions/32487773/what-is-the-purpose-of-iter-returning-the-iterator-object-itself", "title": "What is the purpose of __iter__ returning the iterator object itself?", "body": "<p>I don't understand exactly why the <code>__iter__</code> special method just returns the object it's called on (if it's called on an iterator).  Is it essentially just a flag indicating that the object is an iterator?</p>\n\n<p>EDIT: Actually, I discovered that \"This is required to allow both containers and iterators to be used with the <code>for</code> and <code>in</code> statements.\"  <a href=\"https://docs.python.org/3/library/stdtypes.html#iterator.__iter__\" rel=\"nofollow\">https://docs.python.org/3/library/stdtypes.html#iterator.<strong>iter</strong></a></p>\n\n<p>Alright, here's how I understand it: When writing a <code>for</code> loop, you're allowed to specify either an iterable or an iterator to loop over.  But Python ultimately needs an iterator for the loop, so it calls the <code>__iter__</code> method on whatever it's given.  If it's been given an iterable, the <code>__iter__</code> method will produce an iterator, and if it's been given an iterator, the <code>__iter__</code> method will likewise produce an iterator (the original object given).</p>\n"}, {"tags": ["python", "excel", "winapi"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4039065"}, "edited": false, "score": 0, "creation_date": 1441827627, "post_id": 32487765, "comment_id": 52836356, "body": "Are you trying to open a workbook without explicitly specifying the full path? That might explain the iffy behavior; e.g. sometimes the default folder is correct and sometimes it is not."}, {"owner": {"reputation": 1747, "user_id": 2088886, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4254f4feeee792a65ea10391f8a4e74f?s=128&d=identicon&r=PG", "display_name": "David Yang", "link": "https://stackoverflow.com/users/2088886/david-yang"}, "edited": false, "score": 0, "creation_date": 1441829038, "post_id": 32487765, "comment_id": 52837046, "body": "Ah, good call but I don&#39;t believe that&#39;s the problem, I check the ws_1 and wb_1 when the code fails and they seem correct."}, {"owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "edited": false, "score": 0, "creation_date": 1441830968, "post_id": 32487765, "comment_id": 52837962, "body": "So others don&#39;t have to translate the error codes: <code>-2147352567 =&gt; &quot;Exception Occurred&quot;</code> and <code>-2146827284 =&gt;  &quot;Unknown error (0x800a03ec)&quot;</code>. The inner exception <a href=\"http://stackoverflow.com/a/7108420/5240004\">looks</a> <a href=\"http://stackoverflow.com/a/14364664/5240004\">promising</a>.  Admittedly, <code>Unknown Error</code> could be a lot of other things too."}], "owner": {"reputation": 1747, "user_id": 2088886, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4254f4feeee792a65ea10391f8a4e74f?s=128&d=identicon&r=PG", "display_name": "David Yang", "link": "https://stackoverflow.com/users/2088886/david-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1594491932, "creation_date": 1441827117, "question_id": 32487765, "link": "https://stackoverflow.com/questions/32487765/python-win32-worksheet-copy-works-sometimes", "title": "Python win32 Worksheet.Copy() works sometimes", "body": "<p>I am trying to loop through a bunch of excel files and copy a specific sheet from each of them into another excel file:</p>\n\n<pre><code>for ii in ll_files:\n  excel = win32.gencache.EnsureDispatch('Excel.Application')\n  wb_1 = excel.Workbooks.Open(ii)\n  ws_1 = wb_1.Worksheets('Q1')\n  wb_2 = excel.Workbooks.Open(r'filepath')\n  ws_2 = wb_2.Worksheets('answers')\n\n  ws_1.Copy(ws_2)\n\n  wb_1.Save()\n  wb_2.Save()\n\n  wb_1.Close(True)\n  wb_2.Close(True)\n\n  excel.Application.Quit()\n  print ii\n  time.sleep(1)\n</code></pre>\n\n<p>Works on about half the files I'm looping through, while the other half fail with this error:</p>\n\n<pre><code>com_error: (-2147352567, 'Exception occurred.', (0, u'Microsoft Excel', u'Copy method of Worksheet class failed', u'xlmain11.chm', 0, -2146827284), None)\n</code></pre>\n\n<p>All of the files have a 'Q1' tab</p>\n"}, {"tags": ["python", "linux", "subprocess", "signals", "sigint"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1441829395, "post_id": 32487700, "comment_id": 52837222, "body": "I think you&#39;ll have a problem on a linux system since it&#39;s setting the return regardless of your logic: <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen.returncode\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a> (read last line). As a side note: this seems like a bad way to do something."}, {"owner": {"reputation": 139, "user_id": 5216700, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-BEILgIMmjUc/AAAAAAAAAAI/AAAAAAAAAVk/Af5-FrSfTfM/photo.jpg?sz=128", "display_name": "trup", "link": "https://stackoverflow.com/users/5216700/trup"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441831071, "post_id": 32487700, "comment_id": 52838014, "body": "@PadraicCunningham , I haven&#39;t passed the whole code. Basically, the child script will be executing bunch of Linux commands . And there will be several child scripts , each doing different set of commands.  each of the child scripts will be executed in sequence by the main parent script. If user presses ctrl-C in between, it should be handled appropriately as I&#39;ve mentioned. i.e the current child process should terminate with exit code 2 and the parent should display this code and stop."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441831821, "post_id": 32487700, "comment_id": 52838384, "body": "So you are running multiple scripts from <code>testmain.py</code> waiting for each to finish before clling the next?"}, {"owner": {"reputation": 139, "user_id": 5216700, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-BEILgIMmjUc/AAAAAAAAAAI/AAAAAAAAAVk/Af5-FrSfTfM/photo.jpg?sz=128", "display_name": "trup", "link": "https://stackoverflow.com/users/5216700/trup"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441833496, "post_id": 32487700, "comment_id": 52839251, "body": "yes @PadraicCunningham"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1441838166, "post_id": 32487700, "comment_id": 52841019, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/24936107/delegate-signal-handling-to-a-child-process-in-python\">Delegate signal handling to a child process in python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1180, "user_id": 1457005, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a908cb429be7d669ab24aa76f34d5df?s=128&d=identicon&r=PG", "display_name": "bennlich", "link": "https://stackoverflow.com/users/1457005/bennlich"}, "edited": false, "score": 0, "creation_date": 1501708664, "post_id": 32501196, "comment_id": 77903323, "body": "Would be cool to mention in this answer something about how signals are inherited by child processes (or not)."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 1180, "user_id": 1457005, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4a908cb429be7d669ab24aa76f34d5df?s=128&d=identicon&r=PG", "display_name": "bennlich", "link": "https://stackoverflow.com/users/1457005/bennlich"}, "edited": false, "score": 0, "creation_date": 1501709354, "post_id": 32501196, "comment_id": 77903714, "body": "@bennlich there would be no need to restore signals in preexec_fn if child processes were not inheriting them. Though there is no harm in mentioning it explicitly"}], "tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1441888497, "last_edit_date": 1495535195, "creation_date": 1441886075, "answer_id": 32501196, "question_id": 32487700, "link": "https://stackoverflow.com/questions/32487700/delegate-sigint-signal-to-child-process-and-then-cleanup-and-terminate-the-paren/32501196#32501196", "title": "delegate SIGINT signal to child process and then cleanup and terminate the parent", "body": "<p>Your child process shouldn't care what the parent does i.e., if you want the child to exit with specific status on Ctrl+C then just do that:</p>\n\n<pre><code>import sys\n\ntry:\n    main()\nexcept KeyboardInterrupt: # use default SIGINT handler\n    sys.exit(2)\n</code></pre>\n\n<p>Or you could define the signal handler explicitly:</p>\n\n<pre><code>import os\nimport signal\n\ndef signal_handler(signal, frame):\n    os.write(1, b\"outer signal handler\\n\")\n    os._exit(2)\nsignal.signal(signal.SIGINT, signal_handler)\nmain()\n</code></pre>\n\n<p>There might be a difference in behavior if there are <code>atexit</code> handlers and/or multiple threads. </p>\n\n<p>Unrelated: depending on what your <code>main()</code> function does, there could be a significant delay before a signal is handled in Python. Some blocking methods on Python 2 may ignore the signal completely: use Python 3 or apply a custom workaround for a specific case e.g., using a timeout parameter for some calls.</p>\n\n<hr>\n\n<p>You could handle <code>SIGINT</code> in a similar way in the parent:</p>\n\n<pre><code>for cmd in commands:\n    process = Popen(cmd)\n    try:\n        process.wait()\n    except KeyboardInterrupt:\n        # child process may still be alive here\n        for _ in range(5): # wait a while\n           if process.poll() is not None:\n               break # the process is dead\n           time.sleep(.1)\n        else: # no break, kill the process explicitly\n           try:\n               process.kill()    \n           except OSError:\n               pass\n        sys.exit(\"Child exited with %d\" % process.wait())\n</code></pre>\n\n<p>Python 2 doesn't restore signals for child processes e.g., if you <code>SIG_IGN</code> the <code>SIGINT</code> signal in the parent, <a href=\"https://stackoverflow.com/a/22083141/4279\">you could reset the necessary hanlders explicitly using <code>preexec_fn</code> parameter</a>.</p>\n"}], "owner": {"reputation": 139, "user_id": 5216700, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-BEILgIMmjUc/AAAAAAAAAAI/AAAAAAAAAVk/Af5-FrSfTfM/photo.jpg?sz=128", "display_name": "trup", "link": "https://stackoverflow.com/users/5216700/trup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1732, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1441888497, "creation_date": 1441826822, "last_edit_date": 1495541178, "question_id": 32487700, "link": "https://stackoverflow.com/questions/32487700/delegate-sigint-signal-to-child-process-and-then-cleanup-and-terminate-the-paren", "title": "delegate SIGINT signal to child process and then cleanup and terminate the parent", "body": "<p>I have a main python(testmain.py) script that executes another python script(test.py) using subprocess.Popen command. When I press Ctrl-C , I want the child to exit with exit code 2 and then the parent to display that exit code and then terminate . </p>\n\n<p>I have signal handlers in both parent and child scripts.</p>\n\n<p>testmain.py</p>\n\n<pre><code>def signal_handler(signal, frame):\n    print \"outer signal handler\"\n    exit(2)\nsignal.signal(signal.SIGINT, signal_handler) \n\ndef execute()\nproc=subprocess.Popen(\"python test.py\",shell=True)\n    streamdata=proc.communicate()[0]\n    rc=proc.returncode\n    print \"return code:\",rc\n\nexecute()\n</code></pre>\n\n<p>test.py</p>\n\n<pre><code>def signal_handler(signal, frame):\n    print \"exiting: inner function\"\n    exit(2)\nsignal.signal(signal.SIGINT, signal_handler)\n</code></pre>\n\n<p>I checked <a href=\"https://stackoverflow.com/questions/24936107/delegate-signal-handling-to-a-child-process-in-python\">Delegate signal handling to a child process in python</a> that is kind of similar to my question but in that case, the parent is continuing it's execution, which I don't want. </p>\n\n<p>I want to: 1.exit test.py with exit(2) 2.print that exit code in testmain.py 3.exit test.py with exit(2)  </p>\n\n<p>could someone please provide suggestions to do this?\nThanks. </p>\n\n<p>UPDATE : Handling the signal only in the child (test.py) and checking the return code in parent(testmain.py) will do what I want .</p>\n\n<pre><code>if rc==2:\n   print \"child was terminated\"\n   exit(2)\n</code></pre>\n\n<p>but I was wondering if there is a clean way to do this using signal handling.</p>\n"}, {"tags": ["python", "nosetests"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441829356, "post_id": 32487680, "comment_id": 52837207, "body": "Please post a traceback"}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441832304, "post_id": 32487680, "comment_id": 52838624, "body": "whats your directory structure like and the directory you are running nose from?"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441833083, "post_id": 32487680, "comment_id": 52839063, "body": "package/ contains <b>init</b>.py, modules/, tests/, I run from the main package directory."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441834921, "post_id": 32487680, "comment_id": 52839810, "body": "What is the &quot;main package directory&quot;? Your stack trace contains paths. Can you tell us from which you run nose?"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441838389, "post_id": 32487680, "comment_id": 52841098, "body": "@deets: it doesn&#39;t matter, from wherever I run nosetests I get the import error. the main package directory in my comment is &quot;package/&quot;, what I call &quot;bla&quot; in the previous comment."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441872357, "post_id": 32487680, "comment_id": 52852483, "body": "Well, that&#39;s the point - you can&#39;t invoke nosetests from everywhere, and magically it will know, from where to import packages. You need to run nosetest from the root of your project. Because the &quot;.&quot; is in PYTHONPATH by default."}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441874687, "post_id": 32487680, "comment_id": 52853962, "body": "@deets: when you say the root of my project, do you mean the directory where I have the <b>init</b>.py? i.e. the directory where all the other files and directories are contained? if it is so, I get an import error even if I run from such a directory..."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441902428, "post_id": 32487680, "comment_id": 52873338, "body": "So what happens if you cd into your <code>ROOT</code>, and run <code>nosetests package&#47;tests</code>?"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441902536, "post_id": 32487680, "comment_id": 52873403, "body": "I get an error that I am not able to import a module. The module is not inside the package anyway..."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441903056, "post_id": 32487680, "comment_id": 52873673, "body": "What is this package1 business? do you have a symbolic link to an upward directory?"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441903237, "post_id": 32487680, "comment_id": 52873766, "body": "yep I have a symbolic link. inside package1 I have some modules. But what I am not able to do is to import another module, the problem is not only with the modules of package1. The import error is in line 1. But if I put before an import to numpy, the problem is not with numpy. The problem will be in line 2 now."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1441903569, "post_id": 32487680, "comment_id": 52873934, "body": "I&#39;m sorry, but this is a very, very weird setup and not likely to be solved by a piecemeal discussion like this. I can only suggest you work from the python tutorial about modules and packages + the very basic and provable working directory-structure I provided - and work yourself into the current setup, verifying each step along - until it breaks. Then you&#39;ll know what to do."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441900363, "post_id": 32498696, "comment_id": 52872035, "body": "sorry I&#39;m not so expert and I probably make confusion, but if I execute the command python -c &quot;import a_module&quot; from my Desktop, it works, while if I run nosetests (which imports a_module as well) from the same position, it doesn&#39;t work. Following your advice, I have tried to run nosetests from my root directory / in a way like this: nosetests /.../package/, but I still get the import problem for a_module."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "reply_to_user": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441900439, "post_id": 32498696, "comment_id": 52872087, "body": "If you were in the right position, you should run it like <code>nosetests package&#47;tests</code> - not reaching around in the directory structure with <code>..</code>s - that indicates you are <i>within</i> package."}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441901127, "post_id": 32498696, "comment_id": 52872541, "body": "I&#39;m sorry, now I understand that by root directory you mean just the directory one level up to my package. I have tried what you say but same problem..."}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441901369, "post_id": 32498696, "comment_id": 52872691, "body": "my exact structure is as follows: - ROOT  <code>-- package      |-- __init__.py      </code>-- tests          <code>-- tests1 </code>-- tests2"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441901423, "post_id": 32498696, "comment_id": 52872722, "body": "I can run from /tests, but I get the same problem. Also I want to say that the module &quot;a_module&quot; that I&#39;m importing is not inside the package, but it is correctly installed."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "reply_to_user": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441901550, "post_id": 32498696, "comment_id": 52872792, "body": "Please provide your exact directory layout, in a form resembling mine, in your question. I used the command <code>tree</code> to create that graph, that should help."}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441901872, "post_id": 32498696, "comment_id": 52872983, "body": "I&#39;m trying to understand how to put the structure in a 2-dimensional scheme as you did before. ROOT/ \u2514\u2500\u2500 package     \u251c\u2500\u2500 <b>init</b>.py     \u2514\u2500\u2500 tests         \u251c\u2500\u2500 tests1         \u2514\u2500\u2500 tests2"}, {"owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441902033, "post_id": 32498696, "comment_id": 52873079, "body": "Is it fine like this? Hope so."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "reply_to_user": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "edited": false, "score": 0, "creation_date": 1441902078, "post_id": 32498696, "comment_id": 52873113, "body": "No, it&#39;s not - this is all squashed in one line. Why don&#39;t you just edit your question to supply it?"}], "tags": [], "owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "is_accepted": false, "score": 0, "last_activity_date": 1441879124, "creation_date": 1441879124, "answer_id": 32498696, "question_id": 32487680, "link": "https://stackoverflow.com/questions/32487680/problems-with-python-nosetests/32498696#32498696", "title": "problems with python nosetests", "body": "<p>Your problem has nothing to do with nose itself. nose doesn't perform any magic additional to the Python interpreter when looking up modules and packages.</p>\n\n<p>So if we assume a directory structure like this</p>\n\n<pre><code> ROOT\n `-- package\n     |-- __init__.py\n     `-- tests\n         `-- __init__.py\n</code></pre>\n\n<p>and try to do <code>python -c import package</code> - when does that work, and when fail?</p>\n\n<p>It's simple. It fails anywhere other than if you invoke the command from within <code>ROOT</code>. Nowhere else <code>package</code> is known.</p>\n\n<p>The reason is that Python keeps a list of paths (sys.path) which mark roots for packages and modules. A statement <code>import package</code> will  be taken, and iterating through all entries in <code>sys.path</code> will be searched for either a <code>package.py</code>, a <code>package</code>-dir with an <code>__init__.py</code> in it, or some other cases (C-extensions, new style namespace packages) </p>\n\n<p>So where does <code>ROOT</code> get into that list of paths? Simple: the Python interpreter will always add the current working directory to the list of paths.</p>\n\n<p>To sum it up: just call nose from within <code>ROOT</code>. </p>\n\n<p>There are additional ways to add a path to the <code>sys.path</code>, e.g. by using virtualenvs. Then you can import <code>package</code> from everywhere, given you use the venv interpreter.</p>\n"}], "owner": {"reputation": 87, "user_id": 5270442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fd12dfa7f980b40e50d2ff5b3a03a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Helios83", "link": "https://stackoverflow.com/users/5270442/helios83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441902438, "creation_date": 1441826761, "last_edit_date": 1441902438, "question_id": 32487680, "link": "https://stackoverflow.com/questions/32487680/problems-with-python-nosetests", "title": "problems with python nosetests", "body": "<p>I have problems with python nosetests.\nWhen I try to run the command, I get an import error.\nI checked that the module is correctly installed on my machine.\nIn fact, if I run the interpreter from the directory where I run nosetests,\nI am able to import the module.\nI checked that the problems are to import not only that module, but different ones.\nWhere could the fix be?</p>\n\n<p>Here is a possible traceback after I run nosetests:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/nose/loader.py\", line 418, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/Library/Python/2.7/site-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/Library/Python/2.7/site-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/Users/user-me/Desktop/bla/tests/blatest1\", line 1, in &lt;module&gt;\n    import a_module as mo\nImportError: No module named a_module\n</code></pre>\n\n<p>but if I open the python interpreter, I am able to import a_module.</p>\n\n<p>Here is my directory structure:</p>\n\n<pre><code>ROOT\n\u2514\u2500\u2500 package\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 package1\n    \u2514\u2500\u2500 tests\n        \u251c\u2500\u2500 tests1\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 package1 -&gt; ../../package1\n        \u2514\u2500\u2500 tests2\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "memcached"], "comments": [{"owner": {"reputation": 1164, "user_id": 3704291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4765f40b9788ab42e575036273910fe7?s=128&d=identicon&r=PG&f=1", "display_name": "gkusner", "link": "https://stackoverflow.com/users/3704291/gkusner"}, "edited": false, "score": 2, "creation_date": 1441828162, "post_id": 32487659, "comment_id": 52836617, "body": "It looks like the number of possible items vs the rate at which they are accessed is high - most likely there is little you can do to increase the hit rate.  The oldest item metric shows that things are not getting pushed out all that often so it just seems there are a lot of item to choose from. Adding more space to cache might help a bit but that oldest item time might get stale."}, {"owner": {"reputation": 2571, "user_id": 2149974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb21c41d027acd90bb86547189a7da7?s=128&d=identicon&r=PG", "display_name": "marcadian", "link": "https://stackoverflow.com/users/2149974/marcadian"}, "edited": false, "score": 2, "creation_date": 1441862697, "post_id": 32487659, "comment_id": 52847429, "body": "use dedicated memcache"}], "answers": [{"tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": true, "score": 3, "last_activity_date": 1441839434, "creation_date": 1441839434, "answer_id": 32490431, "question_id": 32487659, "link": "https://stackoverflow.com/questions/32487659/how-can-i-increase-my-memcache-hit-ratio/32490431#32490431", "title": "How can I increase my memcache hit ratio?", "body": "<p>It sounds like 60% of your cache requests are one-time misses, while 40% are multiple requests for the same items.  That's not too bad for something like Facebook, with billion-item databases.</p>\n\n<p>Take a look at the cache requests and see if you can prime the cache with a lot of those items.  That is, load the cache with the most popular items so that subsequent request for them are hits.</p>\n\n<p>If there is any connection between the items, you might want to add the related items to the cache.  For example, if a request for item A is followed by requests for items A1 and A2, then you could load all three items into the cache on the first request.  This could be called \"smart priming\".</p>\n\n<p>In general, the strategy is to predict what is going to be requested and to prime the cache with those items.  Your data is in the request logs.</p>\n"}], "owner": {"reputation": 22041, "user_id": 108207, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dd8608b8b423bdcbda3fe5c0cf8b6230?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas R.", "link": "https://stackoverflow.com/users/108207/niklas-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "accepted_answer_id": 32490431, "answer_count": 1, "score": 2, "last_activity_date": 1441839434, "creation_date": 1441826682, "last_edit_date": 1441827462, "question_id": 32487659, "link": "https://stackoverflow.com/questions/32487659/how-can-i-increase-my-memcache-hit-ratio", "title": "How can I increase my memcache hit ratio?", "body": "<p>For my appengine app my memcache hit ratio is only 40 % and I use it extensively. Can I use appstats to profile my app to see why I don't get better hit rate? What would be a strategy to increase hit rate? Will hit rate rise when the app is used more? Can I profile my app more if I use some more performance profiling tool? Should I increase or decrease the number of items in memcache?</p>\n\n<p><a href=\"https://i.stack.imgur.com/zFxMy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFxMy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1441832762, "creation_date": 1441832762, "answer_id": 32489164, "question_id": 32487651, "link": "https://stackoverflow.com/questions/32487651/cubic-spline-with-average-data-observation-in-python/32489164#32489164", "title": "Cubic Spline with average data observation in Python", "body": "<p>You can use the following function in Pandas where <code>func</code> would expect an array of size <code>window</code>, with which you can do your interpolation: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.rolling_window.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.rolling_window.html</a></p>\n"}], "owner": {"reputation": 13, "user_id": 5228891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/455f7dd608e7c858c3149af19df3585b?s=128&d=identicon&r=PG&f=1", "display_name": "huayong.zhou", "link": "https://stackoverflow.com/users/5228891/huayong-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441832762, "creation_date": 1441826655, "last_edit_date": 1592644375, "question_id": 32487651, "link": "https://stackoverflow.com/questions/32487651/cubic-spline-with-average-data-observation-in-python", "title": "Cubic Spline with average data observation in Python", "body": "<p>I have quarterly observations like the following:</p>\n<blockquote>\n<p>date             y</p>\n<p>2000-03-31     4.03333</p>\n<p>2000-06-30    3.93333</p>\n<p>2000-09-30     4.0</p>\n<p>2000-12-31     3.9</p>\n<p>2001-03-31     4.23333</p>\n<p>2001-06-30    4.4</p>\n<p>2001-09-30    4.83333</p>\n<p>2001-12-31    5.5</p>\n<p>2002-03-31    5.7</p>\n<p>2002-06-30    5.83333</p>\n<p>2002-09-30    5.73333</p>\n<p>2002-12-31    5.86667</p>\n</blockquote>\n<p>I want to convert it to monthly basis in use of cubic spline function. The problem is that those observations in my data are quarterly average, say, 4.03333 is the average of the observations in 2000-01-31, 2000-02-29 and 2000-03-31 etc. The resulting cubic spline curve should capture this property. I mean if the cubic spline curve is <code>$y=f(date)$</code>, then <code>$f$</code> should satisfy:</p>\n<p>$$\\frac{f(2000-01-31)+f(2000-02-29)+f(2000-03-31)}{3}=4.03333.$$</p>\n<p>And</p>\n<p>$$\\frac{f(2000-04-30)+f(2000-05-31)+f(2000-06-30)}{3}=3.93333.$$</p>\n<p>etc.,</p>\n<p>I don't find scipy.interpolate has such functions can do that. Is there someone can tell me that whether this is possible in Python. I know how to do this in SAS.</p>\n<p>Thanks!</p>\n<p>Sorry for those math symbols, because I can not post images for those equations.</p>\n"}, {"tags": ["python", "django", "flask"], "answers": [{"tags": [], "owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "is_accepted": true, "score": 4, "last_activity_date": 1441828552, "last_edit_date": 1441828552, "creation_date": 1441826916, "answer_id": 32487725, "question_id": 32487613, "link": "https://stackoverflow.com/questions/32487613/running-django-and-flask-at-same-time/32487725#32487725", "title": "Running Django and Flask at same time", "body": "<p>If you don't need your django-y stuff in flask or your flask-y stuff in django (i.e. they are entirely standalone applications) then this is just a matter of setting up your web server to proxy requests to <code>/flaskapp</code> to a process running Flask and everything else under <code>/</code> to a process running Django.</p>\n\n<p>I've never done this in production, mind, and never specifically with Django and Flask side by side, but have quite often done it with a NodeJS dev server and a Django (or Flask) backend API that proxies all requests to <code>/api/</code> to whichever port on localhost I am running the Django dev server on.</p>\n\n<p>An example configuration for <code>nginx</code> to accomplish this:</p>\n\n<pre><code>upstream django {\n    # your usual django config using e.g. uwsgi or gunicorn\n}\n\nupstream flask {\n    # your usual flask config\n}\n\nserver {\n    location / {\n        proxy_pass http://django;\n    }\n\n    location /flaskapp {\n        proxy_pass http://flask;\n    }\n}\n</code></pre>\n\n<p>@davidism makes a good point in the comments about letting Flask know it doesn't \"own\" the site root. Settings <code>script_root</code> to <code>/flaskapp</code> should do the trick (see the <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.Request.script_root\" rel=\"nofollow\">relevant Flask docs</a>).</p>\n"}], "owner": {"reputation": 171, "user_id": 4803263, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1006124286064942/picture?type=large", "display_name": "Toshihiro M Sakurai", "link": "https://stackoverflow.com/users/4803263/toshihiro-m-sakurai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 1, "accepted_answer_id": 32487725, "answer_count": 1, "score": 2, "last_activity_date": 1441828552, "creation_date": 1441826552, "last_edit_date": 1441827314, "question_id": 32487613, "link": "https://stackoverflow.com/questions/32487613/running-django-and-flask-at-same-time", "title": "Running Django and Flask at same time", "body": "<p>I want to run Django and Flask at same time.  The Django app would run at 'hello.com' and the Flask app would run at 'hello.com/flaskapp'.  How can I do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 14484, "user_id": 2291710, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0232aab5638a75f2286dccc43ecf4df3?s=128&d=identicon&r=PG&f=1", "display_name": "Delgan", "link": "https://stackoverflow.com/users/2291710/delgan"}, "edited": false, "score": 0, "creation_date": 1441826535, "post_id": 32487564, "comment_id": 52835833, "body": "It is not working because of <code>=+ 1</code> instead of <code>+= 1</code>."}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1441826612, "post_id": 32487564, "comment_id": 52835868, "body": "Try not to name your variables after python builtins (<code>dict</code>, <code>list</code>, etc.)."}, {"owner": {"reputation": 830, "user_id": 1329429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0805db6131f21947ab8ad36e53d2cd16?s=128&d=identicon&r=PG", "display_name": "Kamyar Ghasemlou", "link": "https://stackoverflow.com/users/1329429/kamyar-ghasemlou"}, "edited": false, "score": 0, "creation_date": 1441826673, "post_id": 32487564, "comment_id": 52835898, "body": "What does <code>count</code> do? can you provide that function? or if it is a built-in function, which one is it? you don&#39;t need it btw."}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1441827434, "post_id": 32487564, "comment_id": 52836273, "body": "It should be <code>+=1</code>, not <code>=+1</code>."}], "answers": [{"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1441827015, "post_id": 32487586, "comment_id": 52836073, "body": "and dict(c) will return the desired dictionary."}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1441827214, "post_id": 32487586, "comment_id": 52836167, "body": "<code>Counter</code> is a <code>dict</code> subclass already so it should work interchangeably, but yes, if a plain <code>dict</code> is required for whatever reason then that works."}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": true, "score": 3, "last_activity_date": 1441826443, "creation_date": 1441826443, "answer_id": 32487586, "question_id": 32487564, "link": "https://stackoverflow.com/questions/32487564/frequency-mapping-with-dictionary-in-python/32487586#32487586", "title": "Frequency mapping with dictionary in Python", "body": "<p><a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow\"><code>collections.Counter</code></a> already does what you want.</p>\n\n<pre><code>from collections import Counter\nc = Counter([1,2,3,4,5,100,100,1000])\nprint(c)\n# Counter({100: 2, 1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 1000: 1})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 2372500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/dqPfb.jpg?s=128&g=1", "display_name": "AlketCecaj", "link": "https://stackoverflow.com/users/2372500/alketcecaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1618846797, "creation_date": 1618846797, "answer_id": 67165105, "question_id": 32487564, "link": "https://stackoverflow.com/questions/32487564/frequency-mapping-with-dictionary-in-python/67165105#67165105", "title": "Frequency mapping with dictionary in Python", "body": "<p>So, to reduce the code, and make it more readable, you can just use a default dict instead. To use the default dict,  you first have to import it from the collections module and then create the default dict object. The default dictionary requires me to give it something called a factory function. In this case, I'll give it the integer class, and that's essentially going to act as the creator of the default value so that if I try to access a key that doesn't exist, it will create a default value for me using this object as the constructor, and since creating a new int object initializes the value to zero, I can now just access any key, and increment it without checking to see if it's already there.</p>\n<p>So you have to import the defaultdict first.</p>\n<pre class=\"lang-python prettyprint-override\"><code>from collections import defaultdict\n\n# your list of numbers\nnums = [1,2,3,4,5,100,100,1000]\n\n# use a default dictionary to count each element\nnumCounter = defaultdict(int)\n\n# Count the elements in the list\nfor num in nums:\n    numCounter[num] += 1\n\n# print the result\nfor (k, v) in numCounter.items():\n    print(str(k) + &quot;: &quot; + str(v))\n\n</code></pre>\n<p>The output will be<br />\n1:1,\n2:1,\n3:1,\n4:1,\n5:1,\n100:2,\n1000:1</p>\n"}], "owner": {"reputation": 2564, "user_id": 2801122, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0b2e28daccb30d8f18a0778298ee266c?s=128&d=identicon&r=PG&f=1", "display_name": "theamateurdataanalyst", "link": "https://stackoverflow.com/users/2801122/theamateurdataanalyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 32487586, "answer_count": 2, "score": 1, "last_activity_date": 1618846797, "creation_date": 1441826336, "question_id": 32487564, "link": "https://stackoverflow.com/questions/32487564/frequency-mapping-with-dictionary-in-python", "title": "Frequency mapping with dictionary in Python", "body": "<p>I am trying to write a function that takes an array and returns a dictonary with keys that denote the unique values in the list and a value that is the count of each item in the list.</p>\n\n<pre><code>def freq(arr):\n    sum = 0\n    dict = {}\n    for i in arr:\n        if i not in dict:\n            dict[i] = 1\n        else:\n            dict[i] =+ 1     \n    return dict           \n\nprint(count([1,2,3,4,5,100,100,1000]))\n\n{1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 1000: 1, 100: 1}\n</code></pre>\n\n<p>I was hoping for </p>\n\n<pre><code>{1: 1, 2: 1, 3: 1, 4: 1, 5: 1, 1000: 1, 100: 2}\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "edited": false, "score": 2, "creation_date": 1441826315, "post_id": 32487527, "comment_id": 52835721, "body": "You may be mixing tabs and spaces in your editor."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441826505, "post_id": 32487527, "comment_id": 52835815, "body": "You can&#39;t make this work anyway: <code>SyntaxError: name &#39;s&#39; is local and global</code>."}, {"owner": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441829339, "post_id": 32487527, "comment_id": 52837201, "body": "@Two-BitAlchemist I wrote the coed to trigger that error itself, but got this error instead. That is why i posted it here"}], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 2, "last_activity_date": 1441826585, "creation_date": 1441826585, "answer_id": 32487626, "question_id": 32487527, "link": "https://stackoverflow.com/questions/32487527/why-i-am-getting-intendation-error-for-this-piece-of-python-code/32487626#32487626", "title": "Why I am getting intendation error for this piece of python code?", "body": "<p>This is your code:</p>\n\n<pre><code>def f(s):\u00b7\n\n-T--print s\n\u00b7\u00b7\u00b7\u00b7global s\n\u00b7\u00b7\u00b7\u00b7print s\n\ns = \"I hate spam.\" \nf('aa')\n</code></pre>\n\n<p><code>\u00b7</code> represents single spaces, and <code>-T--</code> is a tab.</p>\n\n<p>As you can see, you are mixing tabs and spaces. Python groups these into the following:</p>\n\n<pre><code>&lt;INDENT1&gt;print s\n&lt;INDENT2&gt;global s\n&lt;INDENT2&gt;print s\n</code></pre>\n\n<p>So the <code>print s</code> is indented after the <code>def f(s):</code> so that becomes the body of the function. Now, the next indent does not match the indent for the function body, so Python assumes that this is no longer part of the function body. So it must be from the outer level.</p>\n\n<p>But the indentation does not match the outer level indentation (which isn\u2019t indented at all), so you get the error.</p>\n\n<p>To fix this, make sure you use the same kind of indentation everywhere. It doesn\u2019t really matter whether you use tabs or spaces, but you should try to be consistent and use <em>either</em> to avoid these kind of errors.</p>\n"}], "owner": {"reputation": 7730, "user_id": 1529267, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/jIoLi.jpg?s=128&g=1", "display_name": "Dude", "link": "https://stackoverflow.com/users/1529267/dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441826585, "creation_date": 1441826221, "question_id": 32487527, "link": "https://stackoverflow.com/questions/32487527/why-i-am-getting-intendation-error-for-this-piece-of-python-code", "title": "Why I am getting intendation error for this piece of python code?", "body": "<p>I am trying to understand, how local and global variables work in python, Here is my code</p>\n\n<pre><code>def f(s): \n\n    print s\n    global s\n    print s\n\ns = \"I hate spam.\" \nf('aa')\n</code></pre>\n\n<p>On Running the script, here is the error I am getting</p>\n\n<pre><code> File \"global_local.py\", line 4\nglobal s\n       ^\nIndentationError: unindent does not match any outer indentation level\n</code></pre>\n\n<p>Can anyone explain to me why is that?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1441826804, "post_id": 32487519, "comment_id": 52835962, "body": "You are assigning a whole column with unmatched groupby result list?"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4475177, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b918d50e9da28869e87b198f9d82dd75?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay Mishra", "link": "https://stackoverflow.com/users/4475177/sanjay-mishra"}, "edited": false, "score": 0, "creation_date": 1441828520, "post_id": 32487780, "comment_id": 52836786, "body": "Thanks a lot ! that is what I was looking. In the final df I can groupby(m_srcaddr) as I am looking for per srcaddr size."}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "reply_to_user": {"reputation": 107, "user_id": 4475177, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b918d50e9da28869e87b198f9d82dd75?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay Mishra", "link": "https://stackoverflow.com/users/4475177/sanjay-mishra"}, "edited": false, "score": 0, "creation_date": 1441830156, "post_id": 32487780, "comment_id": 52837562, "body": "@SanjayMishra, glad it helps. And if you think this helps resolve your question please accept my answer by clicking the &quot;tick&quot; at top left of my answer :-)"}], "tags": [], "owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1441830916, "last_edit_date": 1441830916, "creation_date": 1441827165, "answer_id": 32487780, "question_id": 32487519, "link": "https://stackoverflow.com/questions/32487519/create-new-columns-in-dataframe-using-existing-columns-in-panda/32487780#32487780", "title": "Create New Columns in dataFrame using existing columns in Panda", "body": "<p>You are trying to assign a column with unmatch size of the result from groupby (less rows), that's why the NaN.</p>\n\n<p>You should assign another DataFrame to hold the index and value of such, and apply to the original DataFrame base on the groupby field (as index).</p>\n\n<p>Here is how I would do it:</p>\n\n<pre><code>In [7]: df.head(5)\nOut[7]:\n          time       m_srcaddr log_type  m_type  m_fwd_bytes  m_rev_bytes\n1   1441590784  172.19.139.165   closed      10          295          146\n11  1441590785  172.19.139.174   closed      10          441          183\n65  1441590792  172.19.139.166   closed      10          441          200\n68  1441590792  172.19.139.166   closed      10         3423          461\n73  1441590792  172.19.139.172   closed      10          441          379\n</code></pre>\n\n<hr>\n\n<pre><code># hold the groupby result along with index (I take groupby field)\n# these basically act as the lookup tables\nIn [8]: total_fwd_size = df.groupby('m_srcaddr').sum()['m_fwd_bytes'] / 1000\n\nIn [9]: total_rev_size = df.groupby('m_srcaddr').sum()['m_rev_bytes'] / 1000\n\n# apply to original dataframe locating the value base on m_srcaddr\nIn [10]: df[\"total_fwd_size\"] = df[\"m_srcaddr\"].apply(lambda x: total_fwd_size.ix[x])\n\nIn [11]: df[\"total_rev_size\"] = df[\"m_srcaddr\"].apply(lambda x: total_rev_size.ix[x])\n</code></pre>\n\n<p>Results:    </p>\n\n<pre><code>In [12]: df.head(5)\nOut[12]:\n          time       m_srcaddr log_type  m_type  m_fwd_bytes  m_rev_bytes  \\\n1   1441590784  172.19.139.165   closed      10          295          146\n11  1441590785  172.19.139.174   closed      10          441          183\n65  1441590792  172.19.139.166   closed      10          441          200\n68  1441590792  172.19.139.166   closed      10         3423          461\n73  1441590792  172.19.139.172   closed      10          441          379\n\n    total_fwd_size  total_rev_size\n1            0.295           0.146\n11           0.441           0.183\n65          22.737           4.089\n68          22.737           4.089\n73           8.793           1.710\n</code></pre>\n\n<p>You may also combine the lookup dataframes by:</p>\n\n<pre><code>lookup = df.groupby('m_srcaddr').sum()[['m_rev_bytes', 'm_fwd_bytes']] / 1000\n</code></pre>\n\n<p>Then apply and perform the lookup:</p>\n\n<pre><code>df['total_fwd_bytes'] = df['m_srcaddr'].apply(lambda x: lookup.ix[x, 'm_fwd_bytes'])\ndf['total_rev_bytes'] = df['m_srcaddr'].apply(lambda x: lookup.ix[x, 'm_rev_bytes'])\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 107, "user_id": 4475177, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b918d50e9da28869e87b198f9d82dd75?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay Mishra", "link": "https://stackoverflow.com/users/4475177/sanjay-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 32487780, "answer_count": 1, "score": 0, "last_activity_date": 1441830916, "creation_date": 1441826199, "question_id": 32487519, "link": "https://stackoverflow.com/questions/32487519/create-new-columns-in-dataframe-using-existing-columns-in-panda", "title": "Create New Columns in dataFrame using existing columns in Panda", "body": "<p>I Have a data frame from csv file:</p>\n\n<pre><code>    time    m_srcaddr   log_type    m_type  m_fwd_bytes m_rev_bytes\n1   1441590784  172.19.139.165  closed  10  295 146\n11  1441590785  172.19.139.174  closed  10  441 183\n65  1441590792  172.19.139.166  closed  10  441 200\n68  1441590792  172.19.139.166  closed  10  3423    461\n73  1441590792  172.19.139.172  closed  10  441 379\n76  1441590792  172.19.139.172  closed  10  3423    789\n77  1441590792  172.19.139.166  closed  10  441 463\n81  1441590792  172.19.139.166  closed  10  3423    963\n82  1441590793  172.19.139.173  closed  10  295 168\n85  1441590793  172.19.139.172  closed  10  4929    542\n89  1441590793  172.19.139.166  closed  10  5135    799\n93  1441590793  172.19.139.166  closed  10  4929    510\n96  1441590794  172.19.139.166  closed  10  0   198\n98  1441590794  172.19.139.167  closed  10  0   455\n100 1441590794  172.19.139.166  closed  10  4945    495\n</code></pre>\n\n<p>I am trying to group by m_srcaddr and their sum of m_fwd_bytes and m_rev_bytes divide by 1000 in new columns called total_fwd_size and total_rev_size</p>\n\n<pre><code>subdata['total_fwd_size'] = subdata.groupby('m_srcaddr').sum().reset_index()['m_fwd_bytes']/1000\n\nsubdata['total_rev_size'] = subdata.groupby('m_srcaddr').sum().reset_index()['m_rev_bytes']/1000\n</code></pre>\n\n<p>This is not working as NaN is coming for new created columns. and is there any best way to do same thing?</p>\n"}, {"tags": ["python", "tkinter", "label"], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 1053446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G1IYT.jpg?s=128&g=1", "display_name": "thestarsatnight", "link": "https://stackoverflow.com/users/1053446/thestarsatnight"}, "edited": false, "score": 0, "creation_date": 1441840009, "post_id": 32487886, "comment_id": 52841588, "body": "&quot;have as many flashing labels as you want&quot;  That&#39;s exactly what I need.  I have several weather sensors I&#39;ve got to monitor.  And it works great with the <code>if</code> statement to trigger the flashing, or not."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1441827612, "creation_date": 1441827612, "answer_id": 32487886, "question_id": 32487516, "link": "https://stackoverflow.com/questions/32487516/how-to-flash-tkinter-label-limited-number-of-times-and-only-if-conditions-are-m/32487886#32487886", "title": "How to flash tkinter label limited number of times, and only if conditions are met", "body": "<p>You are very close. You need to remember that <code>after</code> requires a <em>reference</em> to a function. When you do something like <code>after(..., self.flash(count))</code> you are <em>calling</em> the function before calling <code>after</code>. Or, more precisely, you're calling it 31 times in rapid succession, each time giving the result (<code>None</code>) to <code>after</code>, to create 31 jobs that do nothing.</p>\n\n<p><code>after</code> conveniently allows you to include additional parameters to be included in the thing you're calling:</p>\n\n<pre><code>self.crhw.after(1000, self.flash, count)\n</code></pre>\n\n<h2>An OO approach</h2>\n\n<p>This is a perfect time to use python's object oriented nature. You can create your own label class that has a <code>flash</code> method, so you don't have to add the flashing code to your main app. This also makes it really easy to have as many flashing labels as you want.</p>\n\n<pre><code>class FlashableLabel(tk.Label):\n    def flash(self,count):\n        bg = self.cget('background')\n        fg = self.cget('foreground')\n        self.configure(background=fg,foreground=bg)\n        count +=1\n        if (count &lt; 31):\n             self.after(1000,self.flash, count) \n</code></pre>\n\n<p>You would use it just like a normal <code>Label</code>:</p>\n\n<pre><code>self.crhw = FlashableLabel(...)\n</code></pre>\n\n<p>And you can flash it like this:</p>\n\n<pre><code>self.crhw.flash(0)\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 1053446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G1IYT.jpg?s=128&g=1", "display_name": "thestarsatnight", "link": "https://stackoverflow.com/users/1053446/thestarsatnight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2527, "favorite_count": 0, "accepted_answer_id": 32487886, "answer_count": 1, "score": 0, "last_activity_date": 1441827612, "creation_date": 1441826189, "last_edit_date": 1495539883, "question_id": 32487516, "link": "https://stackoverflow.com/questions/32487516/how-to-flash-tkinter-label-limited-number-of-times-and-only-if-conditions-are-m", "title": "How to flash tkinter label limited number of times, and only if conditions are met", "body": "<p>I have run the the nice example for a flashing tkinter label given in this answer: <a href=\"https://stackoverflow.com/questions/21419032/flashing-tkinter-labels/21439284#21439284\">Flashing Tkinter Labels</a></p>\n\n<p>However, when I try to add some complexity to it, it fails.  </p>\n\n<p>First, I need it to only flash when certain conditions are met (It's an alarm, so, it should only flash in an alarm state, not in normal conditions).  </p>\n\n<p>Here is a basic version of what I want to do. </p>\n\n<pre><code>import Tkinter as tk\nimport tkFont\nimport epics\n\nglobal root\n\nclass AlarmGUI:\n    def __init__(self,parent):\n        self.ending = False\n\n        self.crhl = tk.Label(text='CFHT RH',bg='light blue')\n        self.crhl.grid(row=1, column=2, \n                        padx=20, pady=20, sticky=tk.W)\n        self.crhw = tk.Label(text='something',font=(\"Helvetica\", 25,\"bold\"),bg='light blue')\n        self.crhw.grid(row=2,column=0, sticky=tk.W)\n\n        self.cfht()\n\n    def flash(self):\n        bg = self.crhw.cget('background')\n        fg = self.crhw.cget('foreground')\n        self.crhw.configure(background=fg,foreground=bg)\n        self.crhw.after(1000,self.flash)  \n\n    def cfht(self):\n        #This reads in the value that is being tested\n        crh = epics.caget('ws:wsHumid')    #Read in CFHT Relative Humidity\n\n        #Here, I display the value 'crh'\n        self.crhw.grid(row=2, column=2,sticky=tk.W+tk.E+tk.N+tk.S)\n        self.crhw.configure(text=crh,fg='Red',bg='Gray')\n\n        #Now I need to determine if the value crh is in an alarm state\n        if (crh &gt; 85):  #If the value is over 85, I need the label to flash.\n          self.crhw.flash()\n\n        #Then this keeps checking the humidity value\n        self.crhw.after(30000,cfht)\n\ndef main():\n    global root\n\n    root = tk.Tk()\n    gui = AlarmGUI(root)\n    root.mainloop()\n\nif __name__ == '__main__':\n    main() \n</code></pre>\n\n<p>I have also tried to make the flash function only flash a certain number of times. When I say this (below), it does not flash.  It only prints to the screen 30 times, and then takes like 30 seconds before the gui appears on the screen, and does not flash:</p>\n\n<pre><code>def flash(self,count):\n        bg = self.crhw.cget('background')\n        fg = self.crhw.cget('foreground')\n        self.crhw.configure(background=fg,foreground=bg)\n        count +=1\n        if (count &lt; 31):\n             print count, bg, fg\n             self.crhw.after(1000,self.flash(count)) \n\n#And I call it with something like \nself.flash(0) #to initialize the count\n</code></pre>\n"}, {"tags": ["python", "regex", "pandas", "dataframe", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "edited": false, "score": 0, "creation_date": 1441826806, "post_id": 32487539, "comment_id": 52835964, "body": "Very good, thank for for the solution.  I know not part of the original question but was wondering whether this could also be adapted to remove white space between words?"}, {"owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "reply_to_user": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "edited": false, "score": 0, "creation_date": 1441826924, "post_id": 32487539, "comment_id": 52836020, "body": "@user3682157: no problem, glad it helped. To remove all of the whitespace you could perhaps use <code>df.Words.str.replace(r&#39;\\s&#39;, r&#39;&#39;)</code>."}], "tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": true, "score": 6, "last_activity_date": 1441826258, "creation_date": 1441826258, "answer_id": 32487539, "question_id": 32487464, "link": "https://stackoverflow.com/questions/32487464/how-do-i-apply-a-regex-substitution-in-a-string-column-of-a-dataframe/32487539#32487539", "title": "How do I apply a regex substitution in a string column of a DataFrame?", "body": "<p>You can use <code>str.replace</code> with the following regex to make the change to all rows of the column:</p>\n\n<pre><code>df.Words = df.Words.str.replace(r'(\\b\\S)', r'+\\1')\n</code></pre>\n\n<p>The DataFrame then looks like this:</p>\n\n<pre><code>&gt;&gt;&gt; df\n              Words\n0  +The +Black +Cat\n1    +The +Red +Dog\n</code></pre>\n"}], "owner": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3524, "favorite_count": 2, "accepted_answer_id": 32487539, "answer_count": 1, "score": 5, "last_activity_date": 1483358020, "creation_date": 1441825952, "last_edit_date": 1483358020, "question_id": 32487464, "link": "https://stackoverflow.com/questions/32487464/how-do-i-apply-a-regex-substitution-in-a-string-column-of-a-dataframe", "title": "How do I apply a regex substitution in a string column of a DataFrame?", "body": "<p>I have a DataFrame called \"Animals\" that looks like this:</p>\n\n<pre><code> Words\n The Black Cat\n The Red Dog\n</code></pre>\n\n<p>I want to add a plus sign before each word so that it looks like this:</p>\n\n<pre><code> Words\n +The +Black +Cat\n +The +Red +Dog\n</code></pre>\n\n<p>I have tried this using regex but it did not work:</p>\n\n<pre><code> df = re.sub(r'([a-z]+)', r'+\\1', Animals)\n</code></pre>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 2753, "user_id": 5152497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31173db9fa0458111656bb2c9cfa6a09?s=128&d=identicon&r=PG&f=1", "display_name": "J&#252;rgen K.", "link": "https://stackoverflow.com/users/5152497/j%c3%bcrgen-k"}, "edited": false, "score": 1, "creation_date": 1441826257, "post_id": 32487450, "comment_id": 52835693, "body": "Usually a zero matrix results means, it couldn&#39;t find any homography. Might help you to use more points. Especially if you use ransac, because this ignores outliers, so who knows if it sees all points as those"}, {"owner": {"reputation": 109, "user_id": 4048634, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/713172fc460d33c8251d990bd7fe2f49?s=128&d=identicon&r=PG&f=1", "display_name": "Chiefy", "link": "https://stackoverflow.com/users/4048634/chiefy"}, "reply_to_user": {"reputation": 2753, "user_id": 5152497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31173db9fa0458111656bb2c9cfa6a09?s=128&d=identicon&r=PG&f=1", "display_name": "J&#252;rgen K.", "link": "https://stackoverflow.com/users/5152497/j%c3%bcrgen-k"}, "edited": false, "score": 0, "creation_date": 1441834805, "post_id": 32487450, "comment_id": 52839746, "body": "That seems to have helped."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 8058010, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pPflMcErarw/AAAAAAAAAAI/AAAAAAAAABc/dqW4qu_SU4k/photo.jpg?sz=128", "display_name": "Shubham", "link": "https://stackoverflow.com/users/8058010/shubham"}, "is_accepted": false, "score": 0, "last_activity_date": 1496045636, "last_edit_date": 1496045636, "creation_date": 1496045167, "answer_id": 44237474, "question_id": 32487450, "link": "https://stackoverflow.com/questions/32487450/feature-matching-homography-to-find-objects/44237474#44237474", "title": "Feature Matching + Homography to find objects", "body": "<p>Instead of SIFT you can use <a href=\"http://docs.opencv.org/3.0-beta/doc/py_tutorials/py_feature2d/py_matcher/py_matcher.html\" rel=\"nofollow noreferrer\">Brute-Force Matching with ORB Descriptors</a>.</p>\n\n<p>You'll get some extra points, if you change <code>matches[:10]</code> to <code>matches[:20]</code> or <code>matches</code>.</p>\n\n<p>You can use your</p>\n\n<pre><code>if len(good)&gt;MIN_MATCH_COUNT: \n</code></pre>\n\n<p>loop in this code.</p>\n"}], "owner": {"reputation": 109, "user_id": 4048634, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/713172fc460d33c8251d990bd7fe2f49?s=128&d=identicon&r=PG&f=1", "display_name": "Chiefy", "link": "https://stackoverflow.com/users/4048634/chiefy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1795, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496045636, "creation_date": 1441825903, "question_id": 32487450, "link": "https://stackoverflow.com/questions/32487450/feature-matching-homography-to-find-objects", "title": "Feature Matching + Homography to find objects", "body": "<p>I'm trying to use opencv to take in a query image and match it within a base image. I looked at the online tutorials, and lo and behold, they had example code to do just that. So I copied and pasted the code and tried to run it with a few trial images. Here's the code and a sample set of images.    </p>\n\n<pre><code>import numpy as np\nimport cv2 \nfrom matplotlib import pyplot as plt \n\nMIN_MATCH_COUNT = 10\n\nimg1 = cv2.imread('10hearts.png',0)          # queryImage\nimg2 = cv2.imread('example.jpg',0) # trainImage\n\n# Initiate SIFT detector\nsift = cv2.xfeatures2d.SIFT_create()\n\n# find the keypoints and descriptors with SIFT\nkp1, des1 = sift.detectAndCompute(img1,None)\nkp2, des2 = sift.detectAndCompute(img2,None)\n\nFLANN_INDEX_KDTREE = 0 \nindex_params = dict(algorithm = FLANN_INDEX_KDTREE, trees = 5)\nsearch_params = dict(checks = 50) \n\nflann = cv2.FlannBasedMatcher(index_params, search_params)\n\nmatches = flann.knnMatch(des1,des2,k=2)\n\n# store all the good matches as per Lowe's ratio test.\ngood = []\nfor m,n in matches:\n        if m.distance &lt; 0.7*n.distance:\n                    good.append(m)\n\nif len(good)&gt;MIN_MATCH_COUNT:\n        src_pts = np.float32([ kp1[m.queryIdx].pt for m in good ]).reshape(-1,1,2)\n        dst_pts = np.float32([ kp2[m.trainIdx].pt for m in good ]).reshape(-1,1,2)\n\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC,5.0)\n        matchesMask = mask.ravel().tolist()\n\n        h,w = img1.shape\n        pts = np.float32([ [0,0],[0,h-1],[w-1,h-1],[w-1,0] ]).reshape(-1,1,2)\n        dst = cv2.perspectiveTransform(pts,M)\n\n        img2 = cv2.polylines(img2,[np.int32(dst)],True,255,3, cv2.LINE_AA)\n\nelse:\n        print \"Not enough matches are found - %d/%d\" % (len(good),MIN_MATCH_COUNT)\n        matchesMask = None\n\ndraw_params = dict(matchColor = (0,255,0), # draw matches in green color\n                    singlePointColor = None,\n                    matchesMask = matchesMask, # draw only inliers\n                    flags = 2)\n\nimg3 = cv2.drawMatches(img1,kp1,img2,kp2,good,None,**draw_params)\n\nplt.imshow(img3, 'gray'),plt.show()\n</code></pre>\n\n<p>Here's my query image:\n<a href=\"https://i.stack.imgur.com/HgRAE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgRAE.png\" alt=\"enter image description here\"></a></p>\n\n<p>The image in which I'm searching:\n<a href=\"https://i.stack.imgur.com/1OIoy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OIoy.jpg\" alt=\"Base Image\"></a></p>\n\n<p>Unfortunately, the code to visualize the results never works. Whenever I run it, I get the following error:</p>\n\n<pre><code>AttributeError: 'NoneType' object has no attribute 'ravel'\n</code></pre>\n\n<p>I did some simple debugging, and  everything seems fine until the findHomography() call, which returns Null, Null.  Any suggestions what might be wrong? I download opencv according to the following instructions, just in case this might be the problem: <a href=\"http://www.pyimagesearch.com/2015/06/22/install-opencv-3-0-and-python-2-7-on-ubuntu/\" rel=\"nofollow noreferrer\">http://www.pyimagesearch.com/2015/06/22/install-opencv-3-0-and-python-2-7-on-ubuntu/</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441825746, "post_id": 32487390, "comment_id": 52835455, "body": "<code>join.(sorted(e))</code> should just be <code>join(sorted(e))</code>"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 3, "creation_date": 1441825983, "post_id": 32487390, "comment_id": 52835559, "body": "When you tried to run it, it gave you the reason why it wasn&#39;t running!"}], "answers": [{"tags": [], "owner": {"reputation": 5725, "user_id": 3224008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7IvbW.png?s=128&g=1", "display_name": "Leistungsabfall", "link": "https://stackoverflow.com/users/3224008/leistungsabfall"}, "is_accepted": false, "score": 2, "last_activity_date": 1441825775, "creation_date": 1441825775, "answer_id": 32487419, "question_id": 32487390, "link": "https://stackoverflow.com/questions/32487390/sort-each-string-inside-list-python/32487419#32487419", "title": "Sort each string inside list - Python", "body": "<p>Just remove the redundant dot (<code>.</code>):</p>\n\n<pre><code>lines = [''.join(sorted(e)) for e in lines]\n</code></pre>\n"}], "owner": {"reputation": 7780, "user_id": 1281736, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f64c9f81bb0d4ee969aaf7b4a5a6f40?s=128&d=identicon&r=PG", "display_name": "Apollo", "link": "https://stackoverflow.com/users/1281736/apollo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1441835306, "answer_count": 1, "score": -1, "last_activity_date": 1441825775, "creation_date": 1441825672, "question_id": 32487390, "link": "https://stackoverflow.com/questions/32487390/sort-each-string-inside-list-python", "closed_reason": "Not suitable for this site", "title": "Sort each string inside list - Python", "body": "<p>I'm trying to sort each string inside a list. For example, if I have the list <code>['bca', 'fed']</code> then I want my function to return <code>['abc', 'def']</code>.</p>\n\n<p>Currently trying to do this like so:</p>\n\n<pre><code>lines = [''.join.(sorted(e)) for e in lines]\n</code></pre>\n\n<p>What's wrong with this syntax?</p>\n"}, {"tags": ["python", "list", "python-2.7", "list-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1441825731, "post_id": 32487370, "comment_id": 52835451, "body": "set will unfortunately not preserve the order, which may be important"}, {"owner": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441948829, "post_id": 32487370, "comment_id": 52890331, "body": "Could you please explain me your code &quot;set().union(*word)&quot; . What does *word do ? I mean how does his create another set ? Could you please me you other code as well ?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441950665, "post_id": 32487370, "comment_id": 52890948, "body": "@AnuraagGupta: <code>*args</code> in a function call tells the Python interpreter that <code>args</code> is a list or tuple of arguments and to unpack the <code>args</code> list / tuple to extract those arguments. So in this case <code>union(*word)</code> has the same effect as <code>union(&#39;cat&#39;, &#39;dog&#39;,&#39;rabbit&#39;)</code>. It&#39;s mentioned in the tutorial in <a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow noreferrer\">Unpacking Argument Lists</a>. When used like this the asterisk <code>*</code> is often called the splat operator."}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 4, "last_activity_date": 1441826238, "last_edit_date": 1441826238, "creation_date": 1441825591, "answer_id": 32487370, "question_id": 32487333, "link": "https://stackoverflow.com/questions/32487333/python-if-statement-list-comprehension/32487370#32487370", "title": "Python if statement list comprehension", "body": "<p>If you just want unique letters, how about using a set?</p>\n\n<pre><code>&gt;&gt;&gt; word = ['cat', 'dog' ,'rabbit']\n&gt;&gt;&gt; set().union(*word)\nset(['a', 'c', 'b', 'd', 'g', 'i', 'o', 'r', 't'])\n</code></pre>\n\n<hr>\n\n<p>If you want to preserve order, I guess you could do</p>\n\n<pre><code>letters = \"\".join(word)\ns = [letter for idx, letter in enumerate(letters) if letters.index(letter) == idx]\n</code></pre>\n\n<p>Or, if it's absolutely necessary to do it in one line</p>\n\n<pre><code>s = (lambda letters: [letter for idx, letter in enumerate(letters) if letters.index(letter) == idx])(\"\".join(word))\n</code></pre>\n\n<p>But both of these are O(N^2) so they're impractical for long lists.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441948220, "post_id": 32487429, "comment_id": 52890116, "body": "So, what is alternative to solve this problem when I only to want to use List comprehension ?"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 4, "last_activity_date": 1441825835, "creation_date": 1441825835, "answer_id": 32487429, "question_id": 32487333, "link": "https://stackoverflow.com/questions/32487333/python-if-statement-list-comprehension/32487429#32487429", "title": "Python if statement list comprehension", "body": "<p>You define <code>s</code> as an empty list. That doesn't change until it is reasssigned to the <em>result</em> of the list comprehension; which can't happen until the comprehension itself has executed. So, at the point where the code is inside the comprehension, <code>s</code> is still empty, so <code>s.count(whatever)</code> is always 0.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441948434, "post_id": 32487569, "comment_id": 52890198, "body": "I want to solve this only using List comprehension. Could you help."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441949154, "post_id": 32487569, "comment_id": 52890431, "body": "@AnuraagGupta: <i>Why</i> do you only want to use a list comprehension? List comprehensions aren&#39;t magic, and they aren&#39;t really suitable for this task. Kevin&#39;s second example does most of the work in a list comp, and it <i>could</i> be modified to do all the work in a list comp, but that would be wasteful since it would have to re-compute <code>&quot;&quot;.join(word)</code> for every character in <code>word</code>. Another strategy would involve doing <code>append</code> in a list comp, which would create a list full of <code>None</code> which is then discarded. I hope that it&#39;s obvious that that&#39;s also a wasteful algorithm."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1441951175, "post_id": 32487569, "comment_id": 52891144, "body": "FWIW, the last strategy I mentioned above looks like this: <code>s = []; [s.append(c) for w in word for c in w if c not in s]</code>. But <b><i>PLEASE</i></b> do not do this in a real program!"}, {"owner": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1443268072, "post_id": 32487569, "comment_id": 53431431, "body": "Thank you @PM 2Ring. It was a question in the book I was reading. I thought that I should try and learn if I can do it using list comprehension. But I get it that its not magic and I&#39;ll try finding better ways to code."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "edited": false, "score": 0, "creation_date": 1443273482, "post_id": 32487569, "comment_id": 53432867, "body": "Fair enough. It&#39;s good to explore these things. BTW, you should <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept</a> one of the answers here, so that the system knows that your question has been answered to your satisfaction."}], "tags": [], "owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "is_accepted": false, "score": 3, "last_activity_date": 1441831385, "last_edit_date": 1441831385, "creation_date": 1441826360, "answer_id": 32487569, "question_id": 32487333, "link": "https://stackoverflow.com/questions/32487333/python-if-statement-list-comprehension/32487569#32487569", "title": "Python if statement list comprehension", "body": "<p>Daniel Roseman has explained why your list comprehension doesn't do what you want. But your logic works fine if you use traditional <code>for</code> loops:</p>\n\n<pre><code>word = ['cat', 'dog' ,'rabbit']\ns = []\nfor w in word:\n    for l in w:\n        if l not in s:\n            s.append(l)\nprint s\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>['c', 'a', 't', 'd', 'o', 'g', 'r', 'b', 'i']\n</code></pre>\n\n<p>List comprehensions are <em>slightly</em> more efficient at appending to a list than using <code>.append()</code> in <code>for</code> loops like this because they use a special  LIST_APPEND bytecode, which saves on making a method call, but usually the speed difference is marginal.</p>\n"}, {"tags": [], "owner": {"reputation": 1418, "user_id": 8569905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x8uQj.jpg?s=128&g=1", "display_name": "Banghua Zhao", "link": "https://stackoverflow.com/users/8569905/banghua-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1540610692, "creation_date": 1540610692, "answer_id": 53018454, "question_id": 32487333, "link": "https://stackoverflow.com/questions/32487333/python-if-statement-list-comprehension/53018454#53018454", "title": "Python if statement list comprehension", "body": "<p>The if statement is working but you need to update <code>s</code> if there is a non-redundant element <code>l</code>. Just append <code>l</code> to <code>s</code>.</p>\n\n<pre><code>word = ['cat', 'dog' ,'rabbit']\ns = []\n[s.append(l) for w in word for l in w if s.count(l)==0]\nprint s\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>['c', 'a', 't', 'd', 'o', 'g', 'r', 'b', 'i']\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5035906, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002993349792171/picture?type=large", "display_name": "Anuraag Gupta", "link": "https://stackoverflow.com/users/5035906/anuraag-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1540610692, "creation_date": 1441825429, "last_edit_date": 1441825621, "question_id": 32487333, "link": "https://stackoverflow.com/questions/32487333/python-if-statement-list-comprehension", "title": "Python if statement list comprehension", "body": "<pre><code>word = ['cat', 'dog' ,'rabbit']\ns = []\ns = [ l for w in word for l in w if s.count(l)==0 ] \nprint s        \n</code></pre>\n\n<p>This code is giving me output\n['c', 'a', 't', 'd', 'o', 'g', 'r', 'a', 'b', 'b', 'i', 't']</p>\n\n<p>I don't want any redundant elements in the list. Could anyone please tell what am I doing wrong. I want to know why if statement is not working ?\nIs there any other way to do it with List comprehension so that I don't have to define a s named list initially.</p>\n"}, {"tags": ["python", "django", "email", "email-attachments"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441825402, "post_id": 32487296, "comment_id": 52835277, "body": "turn off 2 factor verification and allow apps to use your credentials through gmail"}, {"owner": {"reputation": 57, "user_id": 5265996, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10153262045682408/picture?type=large", "display_name": "Hugo Kitano", "link": "https://stackoverflow.com/users/5265996/hugo-kitano"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441826240, "post_id": 32487296, "comment_id": 52835682, "body": "How do I allow apps to use my credentials through gmail?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441826345, "post_id": 32487296, "comment_id": 52835740, "body": "try searching on google."}, {"owner": {"reputation": 57, "user_id": 5265996, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10153262045682408/picture?type=large", "display_name": "Hugo Kitano", "link": "https://stackoverflow.com/users/5265996/hugo-kitano"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441826938, "post_id": 32487296, "comment_id": 52836030, "body": "I have 2 step verification and allowed less secure apps to access the account, but it still isn&#39;t working."}, {"owner": {"reputation": 57, "user_id": 5265996, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10153262045682408/picture?type=large", "display_name": "Hugo Kitano", "link": "https://stackoverflow.com/users/5265996/hugo-kitano"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441828978, "post_id": 32487296, "comment_id": 52837018, "body": "what log? the bash console?"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 5700209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CqWX.png?s=128&g=1", "display_name": "Jabba_the_coder", "link": "https://stackoverflow.com/users/5700209/jabba-the-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1450612659, "creation_date": 1450612659, "answer_id": 34380742, "question_id": 32487296, "link": "https://stackoverflow.com/questions/32487296/sending-a-filefield-attachment-by-email/34380742#34380742", "title": "Sending a FileField attachment by email", "body": "<p>If you don't specify the mime type in your .attach call Django attempts to guess the mime type for you - it may be struggling to correctly guess the mime type given your attachment. If the mime type is incorrect gmail will likely bounce it on receipt. Either set the mime type specifically:</p>\n\n<pre><code>email.attach('image_name.png', img_data, 'image/png')\n</code></pre>\n\n<p>or you can use the email.attach_file method if you want Django to try to work it out for you:</p>\n\n<pre><code>email = EmailMessage(subject='Analysis', body=message, \n      from_email=settings.EMAIL_HOST_USER, to=[toEmail])\nemail.attach_file(filename)\nemail.send(fail_silently=not(settings.DEBUG))\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5265996, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10153262045682408/picture?type=large", "display_name": "Hugo Kitano", "link": "https://stackoverflow.com/users/5265996/hugo-kitano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450612659, "creation_date": 1441825250, "question_id": 32487296, "link": "https://stackoverflow.com/questions/32487296/sending-a-filefield-attachment-by-email", "title": "Sending a FileField attachment by email", "body": "<p>I'm having problems sending a FileField attachment via email.  This should send, but doesn't. Is there something I have to configure in my gmail account for this to work?</p>\n\n<p>settings.py</p>\n\n<pre><code>EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'\nEMAIL_USE_TLS = True\nEMAIL_HOST = 'smtp.gmail.com'\nEMAIL_HOST_USER = 'email@gmail.com'\nEMAIL_HOST_PASSWORD = 'password'\nEMAIL_PORT = 587\nDEFAULT_FROM_EMAIL = EMAIL_HOST_USER\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>#i.output is the FieldFile\nmessage = 'Thanks for using our website!'\nemail = EmailMessage('Analysis', message, settings.EMAIL_HOST_USER, [toEmail])\nemail.attach(filename, i.output.read())\nemail.send()\n</code></pre>\n\n<p>I've even received an email from Gmail telling me a sign-in attempt was prevented.  Any help? Thanks!</p>\n"}]