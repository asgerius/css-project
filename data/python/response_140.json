[{"tags": ["python", "python-3.x", "python-asyncio", "aiohttp"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1505347413, "post_id": 46208452, "comment_id": 79380360, "body": "&quot;It is incorrect because the recv function might be called before the response has been read&quot; - if it&#39;s called before the response has been read, then what&#39;s it going to <code>await</code> in the first version? <code>self._msg</code> hasn&#39;t been set yet."}, {"owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1505347503, "post_id": 46208452, "comment_id": 79380385, "body": "Exactly, the code I have just happens to never call recv until well after send has completed. But ah, that&#39;s a really good point, it turns out that <i>both</i> versions are fundamentally wrong.  Can you suggest a fix, while still keeping the &#39;send&#39; and &#39;recv&#39; conceptually separate?"}, {"owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1505348174, "post_id": 46208452, "comment_id": 79380561, "body": "(To clarify: Whilst I&#39;d appreciate the fix, the real answer I want out of this is to understand the difference between those two code samples)"}], "answers": [{"comments": [{"owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "edited": false, "score": 0, "creation_date": 1505354117, "post_id": 46208903, "comment_id": 79381845, "body": "And that invalidates the future?"}, {"owner": {"reputation": 572, "user_id": 8503304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d6bc8324669f1ac8819e9d31c1643?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Undefined", "link": "https://stackoverflow.com/users/8503304/alex-undefined"}, "reply_to_user": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "edited": false, "score": 1, "creation_date": 1505356507, "post_id": 46208903, "comment_id": 79382418, "body": "I don&#39;t know what do you mean by &quot;invalidates the future&quot; exactly, but, basically, this whole thing is not an asyncio issue. It&#39;s an issue of reading from a closed socket, or something else that happens deep in the <code>response.read()</code>."}, {"owner": {"reputation": 572, "user_id": 8503304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d6bc8324669f1ac8819e9d31c1643?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Undefined", "link": "https://stackoverflow.com/users/8503304/alex-undefined"}, "reply_to_user": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "edited": false, "score": 1, "creation_date": 1505357074, "post_id": 46208903, "comment_id": 79382546, "body": "Updated the answer."}], "tags": [], "owner": {"reputation": 572, "user_id": 8503304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d6bc8324669f1ac8819e9d31c1643?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Undefined", "link": "https://stackoverflow.com/users/8503304/alex-undefined"}, "is_accepted": true, "score": 2, "last_activity_date": 1505357035, "last_edit_date": 1505357035, "creation_date": 1505350560, "answer_id": 46208903, "question_id": 46208452, "link": "https://stackoverflow.com/questions/46208452/whats-wrong-with-this-async-aiohttp-code/46208903#46208903", "title": "What&#39;s wrong with this async aiohttp code?", "body": "<p><code>with</code> is a context manager, it runs some code before and after any statements within it's block, bookkeeping usually. Meaning, your first <code>recv</code> function most likely awaits on a future that references an already closed connection, or something along these lines.</p>\n\n<p>Let's say you have some code that looks like this:</p>\n\n<pre><code>with open(...) as file:\n    file.read()\n</code></pre>\n\n<p>This is what it does, roughly:</p>\n\n<pre><code>file = open(...)\nfile.read()\nfile.close()\n</code></pre>\n\n<p>And this is the equivalent of what you're doing in your first example:</p>\n\n<pre><code>file = open()\nfile.close()\n...\nfile.read()\n</code></pre>\n"}], "owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 46208903, "answer_count": 1, "score": 3, "last_activity_date": 1505357035, "creation_date": 1505346904, "question_id": 46208452, "link": "https://stackoverflow.com/questions/46208452/whats-wrong-with-this-async-aiohttp-code", "title": "What&#39;s wrong with this async aiohttp code?", "body": "<p>For the following code using aiohttp:</p>\n\n<pre><code>async def send(self, msg, url):\n    async with aiohttp.ClientSession() as session:\n        async with session.post(url, data=msg) as response:\n            self._msg = response.read()\n\nasync def recv(self):\n    return await self._msg\n</code></pre>\n\n<p>It works... Most of the time, but occasionally (frequently, actually) results in various exceptions - usually truncated responses, or a connection already being closed exception.</p>\n\n<p>By contrast, the following works perfectly:</p>\n\n<pre><code>async def send(self, msg, url):\n    async with aiohttp.ClientSession() as session:\n        async with session.post(url, data=msg) as response:\n            self._msg = await response.read()\n\nasync def recv(self):\n    return self._msg\n</code></pre>\n\n<p>I would like to know why, as the second version is technically incorrect for my purposes and I need to fix it. (It is incorrect because the recv function might be called before the response has been read)</p>\n"}, {"tags": ["python", "matplotlib", "tkinter", "histogram"], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 4261647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff318c5d56be22710fd3cdff67ef11de?s=128&d=identicon&r=PG&f=1", "display_name": "Paul O", "link": "https://stackoverflow.com/users/4261647/paul-o"}, "is_accepted": true, "score": 0, "last_activity_date": 1505361169, "creation_date": 1505361169, "answer_id": 46210245, "question_id": 46208442, "link": "https://stackoverflow.com/questions/46208442/cant-get-a-histogram-matplotlib-pyplot-hist-to-update-for-new-data-in-tkinter/46210245#46210245", "title": "Can&#39;t get a Histogram (matplotlib.pyplot.hist) to update for new data in tkinter", "body": "<p>Ok, I was able to achieve what I wanted by clearing the axis and recreating it.  It's not terribly pythonic but it doesn't seem that I can change the data for the .hist .  Any other suggestions are appreciated but this works.</p>\n\n<p>The only change that I made was in the <code>runProg()</code> method.  I included the code below.</p>\n\n<pre><code>def runProg():\n  mu, sigma = 0, .1\n  y = np.array(np.random.normal(mu, sigma, 100))\n  x = np.array(range(100))\n\n  # It'a not really python but I just cleared the axis and remadeit\n  axs2[0].cla()\n  n, bins, patches = axs2[0].hist(y, 25, normed=False)\n  axs2[0].set_xlabel('x Label')\n  axs2[0].set_ylabel('Y Label')\n  axs2[0].grid(True)\n  #\n\n  axs2[1].set_xlim(x.min(), x.max()) # You need to change the limits manually\n\n  # I know the y isn't changing in this example but I put it in for others to see\n  lines2[1].set_ydata(y)\n  axs2[1].set_ylim(y.min(), y.max())\n\n  canvas2.draw()\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 4261647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff318c5d56be22710fd3cdff67ef11de?s=128&d=identicon&r=PG&f=1", "display_name": "Paul O", "link": "https://stackoverflow.com/users/4261647/paul-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 46210245, "answer_count": 1, "score": 2, "last_activity_date": 1505361169, "creation_date": 1505346840, "question_id": 46208442, "link": "https://stackoverflow.com/questions/46208442/cant-get-a-histogram-matplotlib-pyplot-hist-to-update-for-new-data-in-tkinter", "title": "Can&#39;t get a Histogram (matplotlib.pyplot.hist) to update for new data in tkinter", "body": "<p>I am making a gui using tkinter and matplotlib in python.  It displays data and graphs spread over several notebook tabs.  As the user makes certain selections the graphs and text update.  Everything was working perfectly until I added a histogram.  I don\u2019t know how to change its data or xlim and ylim.</p>\n\n<p>The below code is an extract of my code to show how it works.  </p>\n\n<pre><code>import tkinter as tk\nimport tkinter.ttk as ttk\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\nfrom matplotlib.figure import Figure\nimport numpy as np\n\nroot = tk.Tk()\nroot.geometry('1200x300')\n\ndef configFrame(frame, num=50):\n  for x in range(num):\n    frame.rowconfigure(x, weight=1)\n    frame.columnconfigure(x, weight=1)\n\ndef runProg():\n  mu, sigma = 0, .1\n  y = np.array(np.random.normal(mu, sigma, 100))\n  x = np.array(range(100))\n\n  lines2[1].set_xdata(x)\n  axs2[1].set_xlim(x.min(), x.max()) # You need to change the limits manually\n\n  # I know the y isn't changing in this example but I put it in for others to see\n  lines2[1].set_ydata(y)\n  axs2[1].set_ylim(y.min(), y.max())\n\n  canvas2.draw()\n\nconfigFrame(root)\n\nnb = ttk.Notebook(root)\n# This just creates a blamk line\nnb.grid(row=1, column=0, columnspan=2, rowspan=2, sticky='NESW')\n\nmyPage = ttk.Frame(nb)\nconfigFrame(myPage)\nnb.add(myPage, text=\"My page\")\n\nmyFrame = ttk.Frame(myPage)\nmyFrame.grid(row=1, column=0, columnspan=50, rowspan=49, sticky='NESW')\nconfigFrame(myFrame)\n\n# There is another figure on another tab\nfig2 = Figure(figsize=(8, 8), dpi=80, facecolor='w', edgecolor='k')\n\ncanvas2 = FigureCanvasTkAgg(fig2, master=myFrame)\ncanvas2._tkcanvas.grid(row=2, column=0, columnspan=50, rowspan=47, sticky='NESW')\n\naxs2 = []\nlines2=[]\n\n# There are 4 other plots on page\naxs2.append(fig2.add_subplot(4,1,1))\n\nmu, sigma = 0, .1\ny = list(np.random.normal(mu, sigma, 100))\nx = list(range(100))\n# the histogram of the data\nn, bins, patches = axs2[0].hist(y, 25, normed=False)\naxs2[0].set_xlabel('x Label')\naxs2[0].set_ylabel('Y Label')\naxs2[0].grid(True)\nlines2.append([]) # Don't know how to access it from histogram\n\naxs2.append(fig2.add_subplot(4,1,2))\nlines, = axs2[1].plot(x,y)\nlines2.append(lines)\n\nfig2.canvas.draw()\n\nrunButton = tk.Button(myPage, text=\"Change Data\", width=15, command=runProg)\nrunButton.grid(row=50, column=25, sticky='NW')\nroot.update()\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "indexing", "web", "turtle-graphics"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1505346894, "post_id": 46208436, "comment_id": 79380216, "body": "You are expecting this to run and draw in your browser?"}, {"owner": {"reputation": 33, "user_id": 8391364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a222956e7a5839be6ec807efab23d7?s=128&d=identicon&r=PG&f=1", "display_name": "CyberhiT", "link": "https://stackoverflow.com/users/8391364/cyberhit"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1505347794, "post_id": 46208436, "comment_id": 79380465, "body": "Yeah from my website host. Is it possible?"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1505347905, "post_id": 46208436, "comment_id": 79380490, "body": "No, that&#39;s not going to run in your browser and draw anything, I&#39;m afraid. Google around for &#39;javascript turtle graphics&#39; for some libraries that would let you do something similar but in-browser."}, {"owner": {"reputation": 33, "user_id": 8391364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a222956e7a5839be6ec807efab23d7?s=128&d=identicon&r=PG&f=1", "display_name": "CyberhiT", "link": "https://stackoverflow.com/users/8391364/cyberhit"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1505349656, "post_id": 46208436, "comment_id": 79380900, "body": "Ah alrighty thanks heaps anyway!"}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1505420156, "post_id": 46208436, "comment_id": 79418845, "body": "You can <a href=\"https://stackoverflow.com/a/41353016/5771269\">make an animated gif</a> that&#39;s essentially a tiny video of what your turtle program does."}], "answers": [{"tags": [], "owner": {"reputation": 4744, "user_id": 1174966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5bTS.png?s=128&g=1", "display_name": "jdaz", "link": "https://stackoverflow.com/users/1174966/jdaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1595569088, "last_edit_date": 1595569088, "creation_date": 1595568462, "answer_id": 63067366, "question_id": 46208436, "link": "https://stackoverflow.com/questions/46208436/how-can-i-execute-a-python-turtle-script-from-my-webhost/63067366#63067366", "title": "How can I execute a Python Turtle script from my webhost?", "body": "<p>This is a very old question but since someone else just found it and posted a response, maybe others are searching for this functionality as well.</p>\n<p>If you are just looking to share your turtle code with others and show its output, Repl.it can do this for you.</p>\n<p>Live demo of your code <a href=\"https://repl.it/repls/RobustRoundedAddin#main.py\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8391364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a222956e7a5839be6ec807efab23d7?s=128&d=identicon&r=PG&f=1", "display_name": "CyberhiT", "link": "https://stackoverflow.com/users/8391364/cyberhit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1595569088, "creation_date": 1505346717, "last_edit_date": 1505428325, "question_id": 46208436, "link": "https://stackoverflow.com/questions/46208436/how-can-i-execute-a-python-turtle-script-from-my-webhost", "title": "How can I execute a Python Turtle script from my webhost?", "body": "<p>I'd like this Python script to run through my webhost/domain. That way maybe I can put a hyperlink on my index that leads to this for a little display? </p>\n\n<p>I would like this to be played in the tab </p>\n\n<pre><code>import turtle\n  bob = turtle.Pen() \n  for i in range(700):\n    bob.forward(i)\n    bob.left(80)\n    bob.forward(50)\n    bob.right(i)\n    bob.back(50)\n    bob.left(i)\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "astropy"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1505377643, "post_id": 46208415, "comment_id": 79390876, "body": "<code>clabel(cs, **kwargs)</code> adds labels to line contours in <code>cs</code>, where <code>cs</code> is a ContourSet object returned by <code>contour</code>. Hence you have two options: <b>(a)</b> Use a contour plot to draw the gridlines and then use clabel to label the lines <b>(b)</b> use normal gridlines and write your custom function to label them. Which one do you want help with?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1505377687, "post_id": 46208415, "comment_id": 79390906, "body": "btw, new users are allowed to post images, those will then appear as links instead of inline."}, {"owner": {"reputation": 13, "user_id": 8304696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xC2eobDAEr0/AAAAAAAAAAI/AAAAAAAAARE/GIjjenFNooA/photo.jpg?sz=128", "display_name": "Jared Canright", "link": "https://stackoverflow.com/users/8304696/jared-canright"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1505414382, "post_id": 46208415, "comment_id": 79415889, "body": "@ImportanceOfBeingErnest I couldn&#39;t include more than two links, or I would have included a couple of images. I hadn&#39;t thought about option <b>(a)</b>; I like the idea, but feel like it would be difficult to implement in such a way as to work for many different plots without a gratuitous amount of tuning. Thus I&#39;d like to go with <b>(b)</b>; I&#39;m hoping to find some clever way of copying the functionality from clabel() and not writing a custom gridline labeling function from scratch."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8304696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xC2eobDAEr0/AAAAAAAAAAI/AAAAAAAAARE/GIjjenFNooA/photo.jpg?sz=128", "display_name": "Jared Canright", "link": "https://stackoverflow.com/users/8304696/jared-canright"}, "edited": false, "score": 0, "creation_date": 1505609430, "post_id": 46235013, "comment_id": 79482962, "body": "Thank you, that helps significantly! It&#39;s not quite optimal, as much has to be hard-coded for each plot (to avoid covering up data as much as possible, etc), but it&#39;s a step in the right direction. I feel like a bunch of code could be pulled from clabel() and applied to grid lines as opposed to contour lines, but I&#39;m not proficient enough with matplotlib to know how to do that."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 13, "user_id": 8304696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xC2eobDAEr0/AAAAAAAAAAI/AAAAAAAAARE/GIjjenFNooA/photo.jpg?sz=128", "display_name": "Jared Canright", "link": "https://stackoverflow.com/users/8304696/jared-canright"}, "edited": false, "score": 0, "creation_date": 1505638426, "post_id": 46235013, "comment_id": 79487666, "body": "You can always make things more complicated than they need to be. The <a href=\"https://github.com/matplotlib/matplotlib/blob/e66b5d86743e11323d2bbc1b6eb2117d2ef535a3/lib/matplotlib/contour.py#L57\" rel=\"nofollow noreferrer\"><code>ContourLabeler</code> code</a> is 500 lines long and intended to be used with <code>ContourSet</code>s. In order to use it, the grid lines would need to be a <code>ContourSet</code> as well. But there is essentially no gain from that compared to the 4 lines long code from the above answer."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1505463924, "creation_date": 1505463924, "answer_id": 46235013, "question_id": 46208415, "link": "https://stackoverflow.com/questions/46208415/matplotlib-labels-on-projection-plot-grid-lines-similar-to-clabel/46235013#46235013", "title": "Matplotlib: Labels on projection plot grid lines similar to clabel()", "body": "<p>To annotate the gridlines, you may use the positions of the major ticks (as those are the positions at which the gridlines are created).</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0,10)\ny = np.sin(x)*10\n\nfig, ax = plt.subplots()\nax.plot(x,y)\nax.grid()\n\nfor xi in ax.xaxis.get_majorticklocs():\n    ax.text(xi,0.8, \"{:.2f}\".format(xi), clip_on=True, ha=\"center\",\n            transform=ax.get_xaxis_transform(), rotation=90,\n            bbox={'facecolor':'w', 'pad':1, \"edgecolor\":\"None\"})\nfor yi in ax.yaxis.get_majorticklocs():\n    ax.text(0.86,yi, \"{:.2f}\".format(yi), clip_on=True, va=\"center\",\n            transform=ax.get_yaxis_transform(), \n            bbox={'facecolor':'w', 'pad':1, \"edgecolor\":\"None\"})\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RmZr9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RmZr9.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 8304696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xC2eobDAEr0/AAAAAAAAAAI/AAAAAAAAARE/GIjjenFNooA/photo.jpg?sz=128", "display_name": "Jared Canright", "link": "https://stackoverflow.com/users/8304696/jared-canright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 46235013, "answer_count": 1, "score": 1, "last_activity_date": 1505463924, "creation_date": 1505346544, "question_id": 46208415, "link": "https://stackoverflow.com/questions/46208415/matplotlib-labels-on-projection-plot-grid-lines-similar-to-clabel", "title": "Matplotlib: Labels on projection plot grid lines similar to clabel()", "body": "<p>I'm doing a bunch of work with various spherical projection plots using the Astropy WCS package, and have run into some frustrations concerning grid lines. As grid lines do not always intersect with the image bounding box or multiple intersect at the same place, they can go unlabeled or have their labels rendered illegible. I would like to be able to insert grid line labels in each line, much akin to the <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.clabel.html?highlight=matplotlib%20axes%20axes%20clabel#matplotlib.axes.Axes.clabel\" rel=\"nofollow noreferrer\">matplotlib.pyplot.clabel()</a> function applied to contour plots, as in this <a href=\"https://matplotlib.org/examples/pylab_examples/contour_demo.html\" rel=\"nofollow noreferrer\">matplotlib example</a>. I can't embed the image as I am a new user; my apologies.</p>\n\n<p>I know I can place labels using text(), figtext(), or annotate(), but since clabel() works I figure the functionality already exists, even if it hasn't been applied to grid lines. Projection plotting aside, does anyone know a way that in-line grid line labels akin to clabel() can be applied to grid lines on a plain rectangular plot?</p>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "edited": false, "score": 0, "creation_date": 1505347689, "post_id": 46208398, "comment_id": 79380435, "body": "Add your models.py"}, {"owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "reply_to_user": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "edited": false, "score": 0, "creation_date": 1505349440, "post_id": 46208398, "comment_id": 79380856, "body": "@AstikAnand Just added the models"}, {"owner": {"reputation": 774, "user_id": 7056292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tLf73.jpg?s=128&g=1", "display_name": "Ajmal Noushad", "link": "https://stackoverflow.com/users/7056292/ajmal-noushad"}, "edited": false, "score": 0, "creation_date": 1505359528, "post_id": 46208398, "comment_id": 79383118, "body": "Does it display anything in the template which is in the if condition?"}, {"owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "edited": false, "score": 0, "creation_date": 1505361042, "post_id": 46208398, "comment_id": 79383488, "body": "Yes just not the right thing"}], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "edited": false, "score": 0, "creation_date": 1505349806, "post_id": 46208486, "comment_id": 79380943, "body": "Doesn&#39;t change anything, I added my models and choices.py. <code>else</code> works and it displays &quot;Both&quot; but the other two choices seem to be confused"}, {"owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "reply_to_user": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "edited": false, "score": 0, "creation_date": 1505362822, "post_id": 46208486, "comment_id": 79383973, "body": "Hey I wanted to know if this worked for you or not??"}, {"owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "edited": false, "score": 0, "creation_date": 1506090047, "post_id": 46208486, "comment_id": 79693478, "body": "Let me check it again. It caused an error with something else, but I think I know what it was."}, {"owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "reply_to_user": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "edited": false, "score": 0, "creation_date": 1506090642, "post_id": 46208486, "comment_id": 79693873, "body": "@Garrett, If this solution helped you, please vote up and select the answer. Thanks a lot for all the cooperation."}], "tags": [], "owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "is_accepted": true, "score": 1, "last_activity_date": 1505350102, "last_edit_date": 1505350102, "creation_date": 1505347154, "answer_id": 46208486, "question_id": 46208398, "link": "https://stackoverflow.com/questions/46208398/somethings-not-quite-right-with-my-template-tags/46208486#46208486", "title": "Something&#39;s not quite right with my template tags", "body": "<p>In <strong>UserProfile model</strong> </p>\n\n<p>Just use <code>CharField</code> for choices like this and it will work fine.  </p>\n\n<pre><code>USER_TYPE_CHOICES = (\n    ('1', 'Designer'),\n    ('2', 'Developer'),\n    ('3', 'Both'),\n)\n\nuser_type = models.CharField(max_length=1,choices=USER_TYPE_CHOICES,default='1')\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 6327846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/n0yWJ.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/6327846/garrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 46208486, "answer_count": 1, "score": 1, "last_activity_date": 1505350102, "creation_date": 1505346432, "last_edit_date": 1505349419, "question_id": 46208398, "link": "https://stackoverflow.com/questions/46208398/somethings-not-quite-right-with-my-template-tags", "title": "Something&#39;s not quite right with my template tags", "body": "<p>Is something with this if statement? It works, just not correctly. No error comes up and it does display the number associated with each word value however it won't display the correct word and the front end.</p>\n\n<pre><code>&lt;p class=\"accent list-text\"&gt;I'm a:&lt;/p&gt;\n{% if request.user.userprofile.user_type == 1 %}\n    &lt;p class=\"profile-info list-text\"&gt;Designer&lt;/p&gt;\n{% elif request.user.userprofile.user_type == 2 %}\n    &lt;p class=\"profile-info list-text\"&gt;Designer&lt;/p&gt;\n{% else %}\n    &lt;p class=\"profile-info list-text\"&gt;Both&lt;/p&gt;\n{% endif %}\n</code></pre>\n\n<p>Models.py:</p>\n\n<pre><code>from django.db import models\nfrom django.utils import timezone\nfrom django.contrib.auth.models import User\nfrom users.choices import *\nfrom django.db.models.signals import post_save\nfrom django.dispatch import receiver\n\n# Create your models here.\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE)\n\n    first_name = models.CharField(max_length=50,default='User')\n    join_date = models.DateTimeField(default=timezone.now)\n    profile_pic = models.ImageField(upload_to='profile_pics',null=True,blank=True)\n    location = models.CharField(max_length=150)\n    title = models.CharField(max_length=250)\n    user_type = models.IntegerField(choices=USER_TYPE_CHOICES,default=1)\n    website = models.URLField(max_length=100,blank=True)\n    about = models.TextField(max_length=500,default='about')\n    twitter = models.CharField(max_length=50,blank=True)\n    dribbble = models.CharField(max_length=50,blank=True)\n    github = models.CharField(max_length=50,blank=True)\n\n    @receiver(post_save, sender=User)\n    def create_user_profile(sender, instance, created, **kwargs):\n        if created:\n            UserProfile.objects.create(user=instance)\n\n    @receiver(post_save, sender=User)\n    def save_user_profile(sender, instance, **kwargs):\n        instance.userprofile.save()\n\n    def __str__(self):\n        return self.user.username\n</code></pre>\n\n<p>choices.py:</p>\n\n<pre><code>USER_TYPE_CHOICES = (\n    (1, (\"Designer\")),\n    (2, (\"Developer\")),\n    (3, (\"Both\")),\n)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 922, "user_id": 6239674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bo8qY.jpg?s=128&g=1", "display_name": "VatsalSura", "link": "https://stackoverflow.com/users/6239674/vatsalsura"}, "edited": false, "score": 0, "creation_date": 1505346351, "post_id": 46208324, "comment_id": 79380078, "body": "It is happening because after checking the first letter, you are returning <code>true</code> or <code>false</code> and hence your function ends there only and doesn&#39;t check for the next letter. Adjust your code according to your needs and don&#39;t return it in every statement. Instead use a flag to check."}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 7, "last_activity_date": 1505346204, "creation_date": 1505346204, "answer_id": 46208369, "question_id": 46208324, "link": "https://stackoverflow.com/questions/46208324/how-can-you-check-for-specific-characters-in-a-string/46208369#46208369", "title": "How can you check for specific characters in a string?", "body": "<p>You need to check that <em>all</em> of the bases in the DNA sequence are valid.</p>\n\n<pre><code>def DnaCheck(sequence):\n    return all(base.upper() in ('A', 'C', 'T', 'G') for base in sequence)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1505346565, "post_id": 46208404, "comment_id": 79380126, "body": "Using <code>all</code> will immediately short circuit if you have one failure.  Not sure how pythonic the <code>for</code> loop is here. Unless you then go on to say that the pythonic way to accomplish this for-loop is by using <code>all</code>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1505346850, "post_id": 46208404, "comment_id": 79380205, "body": "I suspect that <b>all</b> is about two steps beyond OP&#39;s current level of academic comfort.  This <b>for</b> loop also exits at the first failure.  <b>all</b> is certainly more Pythonic, but this solution has a better chance of illustrating the error in the posted code."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1505346480, "creation_date": 1505346480, "answer_id": 46208404, "question_id": 46208324, "link": "https://stackoverflow.com/questions/46208324/how-can-you-check-for-specific-characters-in-a-string/46208404#46208404", "title": "How can you check for specific characters in a string?", "body": "<p>More at the level of your current learning ...</p>\n\n<p>You have the logic reversed.  You have to check <em>all</em> the positions.  If any <em>one</em> of them fails to identify as a nucleotide in \"ACTG\", then you immediately return <strong>False</strong> for the string.  Only when you've passed <em>all</em> of the characters, can you confidently return <strong>True</strong>.</p>\n\n<pre><code>import string\n\ndef DnaCheck(squence_str):\n\n    for i in (squence_str):\n        if string.upper(i) not in \"ACTG\":\n            return False\n\n    return True\n\ntest_cases = [\"\", \"AAJJ\", \"ACTG\", \"AACTGTCAA\", \"AACTGTCAX\"]\nfor strand in test_cases:\n    print strand, DnaCheck(strand)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> True\nAAJJ False\nACTG True\nAACTGTCAA True\nAACTGTCAX False\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1505346744, "post_id": 46208411, "comment_id": 79380170, "body": "For longer sequences this could be beneficial. But the intended use case here is for a manually entered string, so it would probably be relatively short."}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1505347270, "post_id": 46208411, "comment_id": 79380323, "body": "(shrug) if you are waiting on user input, any plausible function will be incredibly faster in comparison. I was thinking more in terms of &quot;if you&#39;re going to start processing 20MB input files&quot;."}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 2, "last_activity_date": 1505346513, "creation_date": 1505346513, "answer_id": 46208411, "question_id": 46208324, "link": "https://stackoverflow.com/questions/46208324/how-can-you-check-for-specific-characters-in-a-string/46208411#46208411", "title": "How can you check for specific characters in a string?", "body": "<p>I like @Alexander's answer, but for variety you could see if</p>\n\n<pre><code>def dna_check(sequence):\n    return set(sequence.upper()).issubset(\"ACGT\")\n    # another possibility:\n    # return set(sequence).issubset(\"ACGTacgt\")\n</code></pre>\n\n<p>might be faster on long sequences, especially if the odds of being a legal sequence are good (ie most of the time you will have to iterate over the whole sequence anyway).</p>\n"}], "owner": {"reputation": 51, "user_id": 4339805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/794b85906a5fb4178734a5e82373563f?s=128&d=identicon&r=PG&f=1", "display_name": "Chief C", "link": "https://stackoverflow.com/users/4339805/chief-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 46208369, "answer_count": 3, "score": 4, "last_activity_date": 1505346513, "creation_date": 1505345802, "last_edit_date": 1505345945, "question_id": 46208324, "link": "https://stackoverflow.com/questions/46208324/how-can-you-check-for-specific-characters-in-a-string", "title": "How can you check for specific characters in a string?", "body": "<p>When I run the program it always prints true. For example, if I enter AAJJ it will print true because is only checking if the first letter is true.\ncan someone point me in the right direction? Thanks!</p>\n\n<pre><code>squence_str = raw_input(\"Enter either A DNA, Protein or RNA sequence:\")\n\ndef DnaCheck():\n\n    for i in (squence_str):\n        if string.upper(i) ==\"A\":\n            return True\n        elif string.upper(i) == \"T\":\n            return True\n        elif string.upper(i) == \"C\":\n            return True\n        elif string.upper(i) == \"G\":\n            return True\n        else:\n            return False\n\nprint \"DNA \", DnaCheck()\n</code></pre>\n"}, {"tags": ["python", "plotly"], "comments": [{"owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 0, "creation_date": 1505346847, "post_id": 46208289, "comment_id": 79380203, "body": "it looks like you can convert matplotlib Figures: <a href=\"https://plot.ly/matplotlib/modifying-a-matplotlib-figure/\" rel=\"nofollow noreferrer\">plot.ly/matplotlib/modifying-a-matplotlib-figure</a>"}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1505347354, "post_id": 46208289, "comment_id": 79380343, "body": "Can you add the code which was used to generate the figure above?"}], "owner": {"reputation": 2489, "user_id": 1807456, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50ecd234554df52a546732871e6a219a?s=128&d=identicon&r=PG", "display_name": "Peter Gaultney", "link": "https://stackoverflow.com/users/1807456/peter-gaultney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1505345527, "creation_date": 1505345527, "question_id": 46208289, "link": "https://stackoverflow.com/questions/46208289/better-interpolation-for-plotly-scatter-splines", "title": "Better interpolation for Plotly Scatter splines", "body": "<p>Plotly currently supports Catmull-Rom splines for interpolation of the lines between markers on a Scatter plot. </p>\n\n<p>I have graphs where the data is fundamentally a normal distribution. Cubic or Hermite interpolation works very well for this type of data in other graphing frameworks - unfortunately the Catmull-Rom splines (or at least Plotly's implementation of them) really doesn't.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NGjGz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGjGz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I've experimented with values of \"smoothing\" between 0.0 and 1.0 (it seems, though this is not documented, that values over 1.0 make no further difference). Unfortunately, they all look bad.</p>\n\n<p>I've seen a suggestion elsewhere that it might make sense to do my own interpolation using scipy's interpolate.interp2d, and graph that line separately. However, this fails for my use case, since I want the color of the line to be paired with the color of the markers, and for both to appear on the legend as a single item, as shown above.</p>\n\n<p>Has anyone had any experience making the Plotly splines look nicer than they do on a quasi-normal distribution using smoothing=1.0?</p>\n"}, {"tags": ["python", "bash", "macos"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 7501736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tBfGkWXt8qU/AAAAAAAAAAI/AAAAAAAAYi4/Yza7WOzADio/photo.jpg?sz=128", "display_name": "Rod Molina", "link": "https://stackoverflow.com/users/7501736/rod-molina"}, "reply_to_user": {"reputation": 61, "user_id": 8327671, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/452476815120896/picture?type=large", "display_name": "Tyler Bloom", "link": "https://stackoverflow.com/users/8327671/tyler-bloom"}, "edited": false, "score": 0, "creation_date": 1505351137, "post_id": 46208751, "comment_id": 79381201, "body": "I tested on MacOS and edited my answer accordingly, good luck ;)"}, {"owner": {"reputation": 61, "user_id": 8327671, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/452476815120896/picture?type=large", "display_name": "Tyler Bloom", "link": "https://stackoverflow.com/users/8327671/tyler-bloom"}, "edited": false, "score": 0, "creation_date": 1505401431, "post_id": 46208751, "comment_id": 79407901, "body": "I will try this once I figure out my terminal. It seems to be pretty messed up as I constantly run into errors. Thanks!"}], "tags": [], "owner": {"reputation": 449, "user_id": 7501736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tBfGkWXt8qU/AAAAAAAAAAI/AAAAAAAAYi4/Yza7WOzADio/photo.jpg?sz=128", "display_name": "Rod Molina", "link": "https://stackoverflow.com/users/7501736/rod-molina"}, "is_accepted": false, "score": 0, "last_activity_date": 1505351076, "last_edit_date": 1505351076, "creation_date": 1505349132, "answer_id": 46208751, "question_id": 46208285, "link": "https://stackoverflow.com/questions/46208285/how-to-find-panda3d-source-directory/46208751#46208751", "title": "How to find panda3d source directory?", "body": "<p>I followed this process as outlined on their <a href=\"https://github.com/panda3d/panda3d\" rel=\"nofollow noreferrer\">github repo</a> for MacOS and it worked with no problems:</p>\n\n<p>1.Download precompiled third party packages for MacOS:</p>\n\n<p><code>wget https://www.panda3d.org/download/panda3d-1.9.4/panda3d-1.9.4-tools-mac.tar.gz</code></p>\n\n<p>2.Clone panda3d's github repo:</p>\n\n<p><code>git clone https://github.com/panda3d/panda3d.git</code></p>\n\n<p>3.Navigate to repo root directory:</p>\n\n<p><code>cd panda3d</code></p>\n\n<p>4.Make a <code>thirdparty</code> directory under <code>panda/src</code>:</p>\n\n<p><code>mkdir panda/src/thirdparty</code></p>\n\n<p>Extract the contents of downloaded file to <code>thirdparty</code> folder inside of <code>src</code> folder:</p>\n\n<p><code>tar -xvzf ../panda3d-1.9.4-tools-mac.tar.gz -C panda/src/thirdparty</code></p>\n\n<p>5.Run the build command:</p>\n\n<p><code>python makepanda/makepanda.py --everything --installer</code></p>\n\n<p>5.Install the generated <code>.dmg</code> file through finder as most MacOS apps.</p>\n"}], "owner": {"reputation": 61, "user_id": 8327671, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/452476815120896/picture?type=large", "display_name": "Tyler Bloom", "link": "https://stackoverflow.com/users/8327671/tyler-bloom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505351076, "creation_date": 1505345501, "question_id": 46208285, "link": "https://stackoverflow.com/questions/46208285/how-to-find-panda3d-source-directory", "title": "How to find panda3d source directory?", "body": "<p>I'm trying to install panda3d but I keep running into errors. It says \"After placing the thirdparty directory inside the panda3d source directory,\nyou may build Panda3D using a command like the following:</p>\n\n<p><code>bash\npython makepanda/makepanda.py --everything --installer\n</code>\" \nWhen I run that on terminal I get the error <code>python: can't open file 'makepanda/makepandacore.py': [Errno 2] No such file or directory</code></p>\n\n<p>I'm not sure what the \"source directory\" is so that may be the problem. I just put the downloaded file into the panda3d folder.</p>\n"}, {"tags": ["javascript", "python", "html", "angularjs", "controller"], "comments": [{"owner": {"reputation": 1843, "user_id": 6132506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d5bd9c744e3645593685adbac11959?s=128&d=identicon&r=PG&f=1", "display_name": "pegla", "link": "https://stackoverflow.com/users/6132506/pegla"}, "edited": false, "score": 0, "creation_date": 1505345977, "post_id": 46208273, "comment_id": 79379997, "body": "can you try adding slash before main like:  templateUrl: &#39;/main/main.html&#39; ?"}, {"owner": {"reputation": 11, "user_id": 5583199, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a2930d5b07da0b794d81079d98ec4de?s=128&d=identicon&r=PG&f=1", "display_name": "CSishard", "link": "https://stackoverflow.com/users/5583199/csishard"}, "reply_to_user": {"reputation": 1843, "user_id": 6132506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d5bd9c744e3645593685adbac11959?s=128&d=identicon&r=PG&f=1", "display_name": "pegla", "link": "https://stackoverflow.com/users/6132506/pegla"}, "edited": false, "score": 0, "creation_date": 1505346964, "post_id": 46208273, "comment_id": 79380231, "body": "Thanks, that was a quick and simple fix."}, {"owner": {"reputation": 1843, "user_id": 6132506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d5bd9c744e3645593685adbac11959?s=128&d=identicon&r=PG&f=1", "display_name": "pegla", "link": "https://stackoverflow.com/users/6132506/pegla"}, "edited": false, "score": 0, "creation_date": 1505347175, "post_id": 46208273, "comment_id": 79380292, "body": "No problem, glad I could help."}], "owner": {"reputation": 11, "user_id": 5583199, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a2930d5b07da0b794d81079d98ec4de?s=128&d=identicon&r=PG&f=1", "display_name": "CSishard", "link": "https://stackoverflow.com/users/5583199/csishard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505345431, "creation_date": 1505345431, "question_id": 46208273, "link": "https://stackoverflow.com/questions/46208273/angularjs-ng-view-not-showing-up-using-routeprovider-templates", "title": "AngularJS ng-view not showing up using $routeProvider templates", "body": "<p>Directory Structure:</p>\n\n<pre><code>public\n  film\n    - film.html\n    - film-controller.js\n  main\n    - main.html\n    - film-controller.js\n  - app.js\n  - index.html\n</code></pre>\n\n<p>In my index.html file I have:</p>\n\n<pre><code>&lt;div ng-view&gt; &lt;/div&gt;\n</code></pre>\n\n<p>in the body and ng-app=\"myApp\" in the starting html tag</p>\n\n<p>app.js</p>\n\n<pre><code>angular.module('myApp', ['ngRoute']).config(config);\n\nfunction config($routeProvider) {\n    $routeProvider.when('/', {\n        templateUrl: 'main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n    }).when('/film/:id', {\n        templateUrl : 'film/film.html',\n        controller: 'FilmController',\n        controllerAs: 'vm'\n    }).otherwise({\n        redirectTo : '/'\n    });\n}\n</code></pre>\n\n<p>In main.html I have a <code>&lt;h1&gt;Hello {{vm.name}}&lt;/h1&gt;</code> line of code</p>\n\n<p>In main-controller.js:</p>\n\n<pre><code>angular.module('myApp').controller('MainController', MainController);\n\nfunction MainController($http) {\n    var vm = this;\n    $http.get('http://swapi-tpiros.rhcloud.com/films').then(function(response) {\n        vm.films = response.data;\n    });\n\n    vm.name = 'Joseph';\n}\n</code></pre>\n\n<p>So when the page loads I expect to see \"Hello Joseph\", but instead I get nothing and if I check the console I get no errors. Upon inspecting element, it shows me <code>&lt;!-- ngView: --&gt;</code> inside the body tags.\nI tested my routing and it should navigate to the right address, but why isn't my template showing up and why is my <em>ng-view</em> commented out?</p>\n\n<p>I am running this app using Python's SimpleHTTPServer module, FYI.</p>\n"}, {"tags": ["python", "ipython"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1505345711, "post_id": 46208260, "comment_id": 79379935, "body": "It is because the pprint is on, and it displays the elements in alphabetical order. You can toggle that with <code>%pprint</code>. For 3.6 I think they should change this behaviour though."}, {"owner": {"reputation": 9, "user_id": 6893895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wheUtFmtlkw/AAAAAAAAAAI/AAAAAAAAIaY/vy0mLCAPZek/photo.jpg?sz=128", "display_name": "weqopy", "link": "https://stackoverflow.com/users/6893895/weqopy"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1505346061, "post_id": 46208260, "comment_id": 79380015, "body": "Yeah, I have seen the existing question. Thx"}], "owner": {"reputation": 9, "user_id": 6893895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wheUtFmtlkw/AAAAAAAAAAI/AAAAAAAAIaY/vy0mLCAPZek/photo.jpg?sz=128", "display_name": "weqopy", "link": "https://stackoverflow.com/users/6893895/weqopy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1505345533, "answer_count": 0, "score": 0, "last_activity_date": 1505345343, "creation_date": 1505345343, "question_id": 46208260, "link": "https://stackoverflow.com/questions/46208260/why-the-output-in-ipython-is-not-same-as-in-python", "closed_reason": "Duplicate", "title": "Why the output in IPython is not same as in Python?", "body": "<p>In IPython 6.1.0 which Python version is 3.6.2:</p>\n\n<blockquote>\n  <p>Python 3.6.2 (default, Aug  8 2017, 21:56:47)\n  Type 'copyright', 'credits' or 'license' for more information\n  IPython 6.1.0 -- An enhanced Interactive Python. Type '?' for help.</p>\n  \n  <p>In [2]: c = {}</p>\n  \n  <p>In [3]: c['g'] = 3</p>\n  \n  <p>In [4]: c['a'] = 1</p>\n  \n  <p>In [5]: c['c'] = 2</p>\n  \n  <p>In [6]: c</p>\n  \n  <p>Out[6]: {'a': 1, 'c': 2, 'g': 3}</p>\n</blockquote>\n\n<p>and in Python 3.6.2:</p>\n\n<blockquote>\n  <p>Python 3.6.2 (default, Aug  8 2017, 21:56:47)\n  [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin\n  Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.</p>\n  \n  <p>/>>> c = {}</p>\n  \n  <p>/>>> c['g'] = 3</p>\n  \n  <p>/>>> c['a'] = 1</p>\n  \n  <p>/>>> c['c'] = 2</p>\n  \n  <p>/>>> c</p>\n  \n  <p>{'g': 3, 'a': 1, 'c': 2}</p>\n</blockquote>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 616, "user_id": 2971994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a48b4bda3ab06d81bbe399ff73b98ad?s=128&d=identicon&r=PG&f=1", "display_name": "inet123", "link": "https://stackoverflow.com/users/2971994/inet123"}, "edited": false, "score": 0, "creation_date": 1505345441, "post_id": 46208256, "comment_id": 79379867, "body": "<code>## do nothing</code> is not counted so you have an empty block, if you don&#39;t want to do anything use <code>pass</code>"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1505345439, "creation_date": 1505345439, "answer_id": 46208274, "question_id": 46208256, "link": "https://stackoverflow.com/questions/46208256/python-throwing-an-indented-block-error-not-seeing-it/46208274#46208274", "title": "Python throwing an indented block error. not seeing it", "body": "<p>You can't have a null block.  Use the <strong>pass</strong> (non-)command:</p>\n\n<pre><code>if newState == 0:\n    pass\nelif inQueue(newState[0], queue):\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 0, "last_activity_date": 1505345448, "creation_date": 1505345448, "answer_id": 46208275, "question_id": 46208256, "link": "https://stackoverflow.com/questions/46208256/python-throwing-an-indented-block-error-not-seeing-it/46208275#46208275", "title": "Python throwing an indented block error. not seeing it", "body": "<p>You cannot make empty blocks in Python. At least put <code>pass</code> there if you want a real do-nothing:</p>\n\n<pre><code>if newState == 0:\n    pass\nelif newState != 0:\n    pass\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8606050, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/451079675292163/picture?type=large", "display_name": "Alvin Roach", "link": "https://stackoverflow.com/users/8606050/alvin-roach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1505345605, "creation_date": 1505345277, "last_edit_date": 1505345605, "question_id": 46208256, "link": "https://stackoverflow.com/questions/46208256/python-throwing-an-indented-block-error-not-seeing-it", "title": "Python throwing an indented block error. not seeing it", "body": "<p>My Python code is throwing an <code>expected indented block</code> error right after the <code>elif</code>. </p>\n\n<p>I am having trouble seeing where the indenting mistake is.</p>\n\n<p>What indentation mistake have I made?</p>\n\n<pre><code>def expandProcedure(node, queue):\n    successors = []\n    n = 4\n    while (n &gt; 0):\n        parent = node\n        depth = node[2] + 1\n        pathCost = node[3] + 1\n        newState = testState(node[0], n)\n\n        if newState == 0:\n            ## do nothing\n        elif inQueue(newState[0], queue):\n            #do nothing\n\n        else:\n            s = makeNode(newState, parent, depth, pathCost)\n            successors.insert(0, s)\n\n    n = n - 1\n\nreturn successors\n</code></pre>\n"}, {"tags": ["python", "algorithm", "performance", "optimization", "storage"], "comments": [{"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 2, "creation_date": 1505348716, "post_id": 46208240, "comment_id": 79380688, "body": "The best option is of course to only generate the sequences that satisfy the condition, instead of generating sequences that you&#39;ll be discarding later on. Can you tell us what the condition is?"}, {"owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "edited": false, "score": 0, "creation_date": 1505353558, "post_id": 46208240, "comment_id": 79381717, "body": "did you look at itertools? <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/itertools.html</a>"}, {"owner": {"reputation": 13, "user_id": 8605822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a82d8b555e4a18df015e07fcfbc9c0cd?s=128&d=identicon&r=PG&f=1", "display_name": "Aplo Gorinto", "link": "https://stackoverflow.com/users/8605822/aplo-gorinto"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505394323, "post_id": 46208240, "comment_id": 79402441, "body": "@m69: the condition isn&#39;t known ahead of time as it is based on later observations"}, {"owner": {"reputation": 13, "user_id": 8605822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a82d8b555e4a18df015e07fcfbc9c0cd?s=128&d=identicon&r=PG&f=1", "display_name": "Aplo Gorinto", "link": "https://stackoverflow.com/users/8605822/aplo-gorinto"}, "reply_to_user": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "edited": false, "score": 0, "creation_date": 1505394354, "post_id": 46208240, "comment_id": 79402464, "body": "@robert king: I looked at itertools, but it doesn&#39;t seem to have multiset permutations"}], "answers": [{"tags": [], "owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "is_accepted": true, "score": 0, "last_activity_date": 1505349239, "creation_date": 1505349239, "answer_id": 46208761, "question_id": 46208240, "link": "https://stackoverflow.com/questions/46208240/how-to-optimise-storage-size-and-performance-when-generating-a-large-list-of-seq/46208761#46208761", "title": "How to optimise storage size and performance when generating a large list of sequences in python?", "body": "<p>I would certainly store those values as binary. For numbers up to 16 you could even use a nibble (4 bits - using some bit shifting) to store each value. So for <code>n=8</code> you would 'only' need 545835 * 4 bytes = \u00b1 2MB -- for <code>n=10</code> \u00b1 500MB.</p>\n\n<p>For faster processing and writing to file, you can use <a href=\"https://docs.python.org/3/library/mmap.html\" rel=\"nofollow noreferrer\">memory mapping</a> (calculate the required size up front, create a file of that size, and open it with memory mapping).</p>\n\n<p>This way every value can be written directly into the mapping (i.e. the file, as if it were memory), which would also eliminate the slower <code>sequences.append(permutation)</code>. Also consider writing only the sequences you need, because if you want to remove them later you'll need to shift all other data.</p>\n\n<p>You could also add a small header to the file with some values: <code>n</code>, <code>k</code>, <code>number of sequences</code>, in binary.</p>\n"}], "owner": {"reputation": 13, "user_id": 8605822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a82d8b555e4a18df015e07fcfbc9c0cd?s=128&d=identicon&r=PG&f=1", "display_name": "Aplo Gorinto", "link": "https://stackoverflow.com/users/8605822/aplo-gorinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 46208761, "answer_count": 1, "score": 1, "last_activity_date": 1505349239, "creation_date": 1505345119, "last_edit_date": 1505345504, "question_id": 46208240, "link": "https://stackoverflow.com/questions/46208240/how-to-optimise-storage-size-and-performance-when-generating-a-large-list-of-seq", "title": "How to optimise storage size and performance when generating a large list of sequences in python?", "body": "<h1>Problem</h1>\n\n<p>I am generating all possible sequences of this form, for a given integer n:</p>\n\n<ul>\n<li>the sequence has length <code>n</code></li>\n<li>the sequence must contain the numbers <code>n</code>, <code>n-1</code>, <code>n-2</code>, <code>...</code> , <code>n-k \u2265 1</code> for some <code>k &lt; n</code>. The numbers can be repeated.</li>\n</ul>\n\n<p>For example, for <code>n = 3</code>, the possible sequences are:</p>\n\n<pre><code>1, 2, 3\n1, 3, 2\n2, 1, 3\n2, 3, 1\n3, 1, 2\n3, 2, 1\n2, 2, 3\n2, 3, 2\n3, 2, 2\n2, 3, 3\n3, 2, 3\n3, 3, 2\n3, 3, 3\n</code></pre>\n\n<p>In other words, the sequence must contain <code>n</code> and numbers counting down from <code>n</code> without any jumps, but in no particular order and with repetitions allowed.</p>\n\n<p>Given <code>n</code>, the number of such sequences is given by the <a href=\"https://en.wikipedia.org/wiki/Ordered_Bell_number\" rel=\"nofollow noreferrer\">ordered Bell numbers</a> or Fubini numbers, which grow extremely fast.</p>\n\n<p>Here is the code that I am using to generate the sequences: </p>\n\n<pre><code>from sympy.utilities.iterables import multiset_permutations\n\ndef generate_sequences(n):\n    sequences = []\n    for unpermuted_seq in unpermuted_sequences(n,n):\n        for permutation in multiset_permutations(unpermuted_seq):\n            sequences.append(permutation)\n    return sequences\n\ndef unpermuted_sequences(number,remaining_slots):\n# Generates list of possible unpermuted sequences \n    if remaining_slots == 0:\n        yield []\n        return\n    for repetitions in range(1, remaining_slots + 1):\n        for sequence in unpermuted_sequences(number - 1, remaining_slots - repetitions):\n            yield sequence + repetitions*[number]\n</code></pre>\n\n<h1>Questions</h1>\n\n<p>The code posted above works as intended. My two main concerns are the following:</p>\n\n<ol>\n<li><p><strong>Storage:</strong> For my particular application, once <code>n</code> is chosen, I need to store all the sequences. I will eventually need to go through the list and remove sequences that do not satisfy a particular condition. However, even for small <code>n</code> (i.e. <code>n &gt; 8</code>), a lot of memory is required (order of GBs).</p></li>\n<li><p><strong>Generation time:</strong> My code takes a long time to generate the sequences, even for small <code>n</code>.</p></li>\n</ol>\n\n<p>How can I generate the sequences in a way that optimises storage and generation time?</p>\n"}, {"tags": ["python", "command-prompt", "access-denied"], "comments": [{"owner": {"reputation": 4354, "user_id": 3339274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sROPZ.jpg?s=128&g=1", "display_name": "ifconfig", "link": "https://stackoverflow.com/users/3339274/ifconfig"}, "edited": false, "score": 0, "creation_date": 1505344930, "post_id": 46208213, "comment_id": 79379757, "body": "Can you post the specific error message?"}, {"owner": {"reputation": 2212, "user_id": 6935152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f02ebbd76d4b518363a38bbbdf8e2c7f?s=128&d=identicon&r=PG&f=1", "display_name": "kaza", "link": "https://stackoverflow.com/users/6935152/kaza"}, "edited": false, "score": 0, "creation_date": 1506471662, "post_id": 46208213, "comment_id": 79832037, "body": "Check if you&#39;ve executable rights to your <code>python.exe</code>. Check the Security Tab in file properties window. And most importantly check the proper python.exe if you&#39;ve one or more versions in the system"}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 5844134, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/603456946457835/picture?type=large", "display_name": "Yuri Waki", "link": "https://stackoverflow.com/users/5844134/yuri-waki"}, "is_accepted": false, "score": 3, "last_activity_date": 1555256686, "creation_date": 1555256686, "answer_id": 55677133, "question_id": 46208213, "link": "https://stackoverflow.com/questions/46208213/running-python-on-command-promptaccess-is-denied/55677133#55677133", "title": "Running python on Command prompt:Access is Denied", "body": "<p>To someone who might find this: I had the same problem, when I checked the python.exe file located at C:\\Users{your user}\\AppData\\Local\\Programs\\Python\\Python37 it had 0 bytes, I just reinstalled it to solve the problem, I don't know how this happened.</p>\n"}], "owner": {"reputation": 21, "user_id": 4366492, "user_type": "registered", "profile_image": "https://graph.facebook.com/542079939/picture?type=large", "display_name": "Akanksha Goel", "link": "https://stackoverflow.com/users/4366492/akanksha-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5303, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555256686, "creation_date": 1505344855, "last_edit_date": 1506471044, "question_id": 46208213, "link": "https://stackoverflow.com/questions/46208213/running-python-on-command-promptaccess-is-denied", "title": "Running python on Command prompt:Access is Denied", "body": "<p>I installed python long back and worked fine for all these months, I could install libraries from command prompt..run python programs using shell from vba until one day..It started failing, I am able to run python scripts from idle but not from command prompt or vba. I have tried checking my permission but to no success. </p>\n\n<p>If I type python on command prompt, it says the app can't run on this pc and later \"Access Denied\" displays on the prompt.\n<a href=\"https://i.stack.imgur.com/pMhIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pMhIO.png\" alt=\"Image of Error\"></a></p>\n"}, {"tags": ["python", "text"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1505508158, "post_id": 46208110, "comment_id": 79458621, "body": "When you get the answer you needed here on SO you should, please, mark it &#39;accepted&#39;. When you have sufficient reputation you can up-vote it."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1505344444, "creation_date": 1505344444, "answer_id": 46208169, "question_id": 46208110, "link": "https://stackoverflow.com/questions/46208110/how-to-apply-a-moving-window-to-analyse-chunks-of-text-sequentially-in-python/46208169#46208169", "title": "How to apply a &#39;moving window&#39; to analyse chunks of text sequentially in Python?", "body": "<p>Parametrize your loop body according to a start position.  Then iterate through all possible start positions.</p>\n\n<pre><code>window_width = 50\nlast_index = len(text) - window_width\nfor start in range (last_index):\n    window = text[start:start+window_width]\n    wordCount = collections.Counter(window)\n    uniqueWords = list(wordCount.keys())\n    TTR = (len(uniqueWords))/(len(window)) \n    windowsTTR.append(TTR)\n</code></pre>\n\n<p>If you need to take larger steps through the text, then parametrize that, as well:</p>\n\n<pre><code>window_width = 50\nlast_index = len(text) - window_width\nstep = 4    # shift 4 positions at a time\nfor start in range (0, last_index, step):\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 8549300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec4abe231418b565d45b09d16192cf5e?s=128&d=identicon&r=PG&f=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/8549300/firefly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 46208169, "answer_count": 1, "score": 2, "last_activity_date": 1505344444, "creation_date": 1505344058, "question_id": 46208110, "link": "https://stackoverflow.com/questions/46208110/how-to-apply-a-moving-window-to-analyse-chunks-of-text-sequentially-in-python", "title": "How to apply a &#39;moving window&#39; to analyse chunks of text sequentially in Python?", "body": "<p>I would like to calculate the simple moving window average type/ token ratio (TTR) of a text sample. I know how to calculate the TTR of the whole text, or to select the first 50 words and calculate the TTR for that. What I think I need to do is create a loop that iterates over 50 words at a time, with the start moving +1 each time so the window moves through the text, appending the resulting TTR for each window in to a list that I can then average. It's the looping/ chunking/ +1 part I'm stuck on.</p>\n\n<p>This is what I (think) I want to do in the loop. Text has already been lowered etc.:</p>\n\n<pre><code>window = text[0:50]\nwordCount = collections.Counter(window)\nuniqueWords = list(wordCount.keys())\nTTR = (len(uniqueWords))/(len(window)) \nwindowsTTR.append(TTR) \n</code></pre>\n\n<p>I have read other answers here, as well as documentation for enumerate and itertools.islice, but still can't seem to solve my problem. Any help gratefully receieved, I'm fairly new to Python.</p>\n"}, {"tags": ["python", "discord.py"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1505345155, "post_id": 46208077, "comment_id": 79379810, "body": "Is your intention to get the very first entry resulting from <code>logs_from</code>, or the second one?"}, {"owner": {"reputation": 329, "user_id": 6943161, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f535db3e91571454fc1f87a8d0e4fe96?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Silva", "link": "https://stackoverflow.com/users/6943161/tyler-silva"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1505345239, "post_id": 46208077, "comment_id": 79379828, "body": "eventually get all of them, but it isnt getting any of them right now, it doesnt matter"}], "answers": [{"tags": [], "owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "is_accepted": true, "score": 1, "last_activity_date": 1505408260, "creation_date": 1505408260, "answer_id": 46224664, "question_id": 46208077, "link": "https://stackoverflow.com/questions/46208077/discord-py-logs-from-not-working/46224664#46224664", "title": "discord.py logs_from not working", "body": "<p><a href=\"http://discordpy.readthedocs.io/en/latest/api.html#discord.Client.logs_from\" rel=\"nofollow noreferrer\"><code>Client.logs_from</code></a> is a coroutine, meaning you must first await it. It also returns an iterator, not a list, so you should iterate through it, instead of indexing it.</p>\n\n<p>Python 3.5 example:</p>\n\n<pre><code>async def get_logs_from(channel):\n    async for m in client.logs_from(channel):\n        print(m.clean_content)\n</code></pre>\n\n<p>Python 3.4 example:</p>\n\n<pre><code>@asyncio.coroutine\ndef get_logs_from(channel):\n    logs = yield from client.logs_from(channel):\n    for m in logs:\n        print(m.clean_content)\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 6943161, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f535db3e91571454fc1f87a8d0e4fe96?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Silva", "link": "https://stackoverflow.com/users/6943161/tyler-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3612, "favorite_count": 1, "accepted_answer_id": 46224664, "answer_count": 1, "score": 1, "last_activity_date": 1505408260, "creation_date": 1505343767, "question_id": 46208077, "link": "https://stackoverflow.com/questions/46208077/discord-py-logs-from-not-working", "title": "discord.py logs_from not working", "body": "<p>i am trying to get a lot of messages from a server, so i am making a test scripts, and the logs_from() is not working how i think it should, i dont know if im using it wrong or what, i am using python 3.5, and the most recent version of discord.py on pypi</p>\n\n<pre><code>@client.event\n@asyncio.coroutine\ndef on_message(message):\n    number = 200\n    x = client.logs_from(message.channel, limit = number)\n    print(x[1])\n</code></pre>\n\n<p>and i get the error</p>\n\n<pre><code>TypeError: 'LogsFromIterator' object does not support indexing\n</code></pre>\n"}, {"tags": ["python", "tkinter", "touch"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8400380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4861e385c73bd64cc6804db20fc422?s=128&d=identicon&r=PG&f=1", "display_name": "t.hall", "link": "https://stackoverflow.com/users/8400380/t-hall"}, "edited": false, "score": 0, "creation_date": 1505353382, "post_id": 46208295, "comment_id": 79381665, "body": "Thanks! I&#39;ll have to edit the insert function for when the delete key is pressed but aside from that, it works!"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1505346438, "last_edit_date": 1505346438, "creation_date": 1505345565, "answer_id": 46208295, "question_id": 46208070, "link": "https://stackoverflow.com/questions/46208070/how-to-select-specific-entry-widgets-for-function-calls-in-tkinter-using-a-touch/46208295#46208295", "title": "How to select specific entry widgets for function calls in tkinter using a touch screen?", "body": "<p>I imagine it would work exactly the same is if you had a traditional mouse and keyboard. When the user touches an entry widget, that widget gets focus. Your function simply needs to input text into the widget with the focus. This is exactly the sort of problem that the concept of \"focus\" exists.</p>\n\n<p>Delete your buttons, put your Entry widgets back, and change <code>setCode</code> to be this:</p>\n\n<pre><code>def setCode(self, value):\n    # get the widget with the focus\n    widget = self.focus_get()\n\n    # insert the value\n    widget.insert(\"insert\", value)\n</code></pre>\n\n<p>You  might also want to give the first entry widget focus. To do that you need to keep a reference to it (it's a best practice to separate the creation of the widget from adding it to the window with <code>grid</code>, <code>pack</code> or <code>place</code> even if you don't need a reference):</p>\n\n<pre><code>entry = Entry(self, textvariable=controller.shared_data['codeOne'], width=7, bg='grey99')\nentry.grid(row=2, column=1, pady=10)\nentry.focus_set()\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8400380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4861e385c73bd64cc6804db20fc422?s=128&d=identicon&r=PG&f=1", "display_name": "t.hall", "link": "https://stackoverflow.com/users/8400380/t-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 974, "favorite_count": 0, "accepted_answer_id": 46208295, "answer_count": 1, "score": 1, "last_activity_date": 1505346438, "creation_date": 1505343734, "question_id": 46208070, "link": "https://stackoverflow.com/questions/46208070/how-to-select-specific-entry-widgets-for-function-calls-in-tkinter-using-a-touch", "title": "How to select specific entry widgets for function calls in tkinter using a touch screen?", "body": "<p>I am creating a touchscreen GUI with multiple entry widgets that are edited using a keypad. How can I know which entry widget the user selected? I've created a roundabout way where each entry is coded as a button and when clicked, the button edits a 'selected' variable that the keypad then uses to know which to edit but is there a better way? Possibly using focus? (I have the button widgets working but I want to use the commented entry widget, also some irrelevant code has been deleted so the post wasn't overly long)</p>\n\n<pre><code>class MyApp(Tk):\n    def __init__(self,*args, **kwargs):\n        Tk.__init__(self, *args, **kwargs)\n\n        container = Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n\n        self.shared_data = {\n            'codeOne' : StringVar(),\n            'codeTwo' : StringVar(), \n            'selectedCode' : StringVar(),\n        }\n\n    def setCode(self, value):\n        #function updates selected variable\n        selectedVar = self.shared_data['selectedCode']\n        if selectedVar.get() == 'codeOne':\n            code = self.shared_data['codeOne']\n        elif selectedVar.get() == 'codeTwo':\n            code = self.shared_data['codeTwo']\n        else: #non selected\n            print('nothing selected')\n            return False\n        old = code.get()\n        if type(value) == int:\n            code.set(old+str(value))\n        else:\n            code.set(old[0:len(old)-1])\n        return True\n\n    def setVariable(self, variable, value):\n        variable.set(value)\n        return True\n\nclass MenuPage(Frame):\n    def __init__(self, parent, controller):\n        Frame.__init__(self, parent)\n        self.controller = controller\n\n        Label(self, text=\"Code 1:\", font='Helvetica 15').grid(row=2, column=0, columnspan=3, sticky=E, pady=10)\n        Button(self, textvariable=controller.shared_data['codeOne'], font=MENU_ENTRIES, width=7, bg='grey99', command=lambda:controller.setVariable(controller.shared_data['selectedCode'],'codeOne')).grid(row=2, column=1, pady=10)\n        #Entry(self,  textvariable=controller.shared_data['codeOne'], font='Helvetica 15').grid(row=2, column=3, columnspan=1, pady=10, sticky=W)\n\n        Label(self, text=\"Code 2:\", font='Helvetica 15').grid(row=3, column=0, columnspan=3, sticky=E, pady=10)\n        Button(self, textvariable=controller.shared_data['codeTwo'], font=MENU_ENTRIES, width=7, bg='grey99', command=lambda:controller.setVariable(controller.shared_data['selectedCode'],'codeTwo')).grid(row=2, column=1, pady=10)\n        #Entry(self, textvariable=controller.shared_data['codeTwo'], font='Helvetica 15').grid(row=3, column=3, columnspan=3, pady=10, sticky=W)\n\n        Button(self, text=\"1\", width=3, command=lambda:controller.setCode(1)).grid(row=1, column=3, rowspan=2, padx=(20,5), pady=10)\n        Button(self, text=\"2\", width=3, command=lambda:controller.setCode(2)).grid(row=1, column=4, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"3\", width=3, command=lambda:controller.setCode(3)).grid(row=1, column=5, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"4\", width=3, command=lambda:controller.setCode(4)).grid(row=3, column=3, rowspan=2, padx=(20,5), pady=10)\n        Button(self, text=\"5\", width=3, command=lambda:controller.setCode(5)).grid(row=3, column=4, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"6\", width=3, command=lambda:controller.setCode(6)).grid(row=3, column=5, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"7\", width=3, command=lambda:controller.setCode(7)).grid(row=5, column=3, rowspan=2, padx=(20,5), pady=10)\n        Button(self, text=\"8\", width=3, command=lambda:controller.setCode(8)).grid(row=5, column=4, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"9\", width=3, command=lambda:controller.setCode(9)).grid(row=5, column=5, rowspan=2, padx=5, pady=10)\n        Button(self, text=\"DELETE\", width=7, command=lambda:controller.setCode('delete')).grid(row=7, column=3, rowspan=2, columnspan=2, padx=(20,5), pady=10)\n        Button(self, text=\"0\", width=3, command=lambda:controller.setCode(0)).grid(row=7, column=5, rowspan=2, padx=5, pady=10)\n\n app = MyApp()\n app.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1505344236, "post_id": 46208067, "comment_id": 79379585, "body": "@jonrsharpe I just did. Learn something new every day :)"}], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1505344312, "post_id": 46208108, "comment_id": 79379601, "body": "Please note that: 1. code-only answers aren&#39;t considered useful; 2. if posting self-answered questions you can post Q &amp; A simultaneously; and 3. you still need to do basic checking for dupes etc. before posting."}], "tags": [], "owner": {"reputation": 71, "user_id": 7409249, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cF1Dm.jpg?s=128&g=1", "display_name": "sherif", "link": "https://stackoverflow.com/users/7409249/sherif"}, "is_accepted": false, "score": -2, "last_activity_date": 1505344055, "creation_date": 1505344055, "answer_id": 46208108, "question_id": 46208067, "link": "https://stackoverflow.com/questions/46208067/need-help-writing-this-function-in-python-3/46208108#46208108", "title": "Need help writing this function in python 3", "body": "<pre><code>def transform(x, y, matrix):\n    (a, b, c, d, e, f) = matrix\n    return a*x + b*y + c, d*x + e*y + f\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7409249, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cF1Dm.jpg?s=128&g=1", "display_name": "sherif", "link": "https://stackoverflow.com/users/7409249/sherif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1505343933, "answer_count": 1, "score": 0, "last_activity_date": 1505344055, "creation_date": 1505343701, "question_id": 46208067, "link": "https://stackoverflow.com/questions/46208067/need-help-writing-this-function-in-python-3", "closed_reason": "Duplicate", "title": "Need help writing this function in python 3", "body": "<p>how to represent this code in python3 it's written in python 2</p>\n\n<pre><code>    def transform(x, y , (a, b, c, d, e, f)=matrix):\n        return a*x + b*y + c, d*x + e*y + f\n</code></pre>\n\n<p><strong>error</strong></p>\n\n<pre><code>def transform(x, y , (a, b, c, d, e, f)=matrix):\n                     ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>many more is coming</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1505365069, "post_id": 46210393, "comment_id": 79384677, "body": "itretools.groupby would be perfect for this."}, {"owner": {"reputation": 4688, "user_id": 2012646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w8LGY.jpg?s=128&g=1", "display_name": "Bennett Brown", "link": "https://stackoverflow.com/users/2012646/bennett-brown"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1505793663, "post_id": 46210393, "comment_id": 79545783, "body": "<a href=\"http://docs.python.org/2/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\">docs.python.org/2/library/itertools.html#itertools.groupby</a>  but I think using itertools would use more memory and time."}], "tags": [], "owner": {"reputation": 4688, "user_id": 2012646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w8LGY.jpg?s=128&g=1", "display_name": "Bennett Brown", "link": "https://stackoverflow.com/users/2012646/bennett-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1505792394, "last_edit_date": 1505792394, "creation_date": 1505362298, "answer_id": 46210393, "question_id": 46208020, "link": "https://stackoverflow.com/questions/46208020/plotting-two-line-plots-of-different-index-lengths-with-disconnects-where-there/46210393#46210393", "title": "Plotting two line plots of different index lengths with disconnects where there is no data", "body": "<p>Create a separate list for each set of contiguous months. Plot each list separately. </p>\n\n<pre><code>sublist_q = [q.pop()] # algorithm reverses order, shouldn't matter\nsublist_w = [w.pop()]\nwhile q:\n    # Just-popped last month is sublist_q[-1] .\n    # Next-to-pop month preceding it in data is q[-1]%100 .\n    # Represent next-to-pop December as 0 with q[-1]%100%12\n    # so that contiguous months always have a difference of 1\n    if sublist_q[-1] - q[-1]%100%12 != 1: # True if months not contiguous\n        # We're done with the current sublists. \n        plot(sublist_q, sublist_w, 'r-o') # 'o' to show singletons\n        # Reinitialize\n        sublist_q = [q.pop()]\n        sublist_w = [w.pop()]\n    else:\n        sublist_q.append(q.pop()) \n        sublist_w.append(w.pop())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1505396852, "post_id": 46213911, "comment_id": 79404473, "body": "<code>q = [z if z in q else None for z in x]</code>. You&#39;d also have to apply <code>strptime</code> to <code>x</code> like you do to <code>q</code>."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1505376962, "creation_date": 1505376962, "answer_id": 46213911, "question_id": 46208020, "link": "https://stackoverflow.com/questions/46208020/plotting-two-line-plots-of-different-index-lengths-with-disconnects-where-there/46213911#46213911", "title": "Plotting two line plots of different index lengths with disconnects where there is no data", "body": "<p>The easiest solution in a case like this where both lists of dates share the same dates (i.e. a month might either be in the list or not), would be to fill the list which contains only the summer months with <code>None</code> values at the positions where there is no data and plot it against the same <code>x</code> that the complete <code>y</code> list is plotted against.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport datetime as dt\n#data1\nx=['200101','200102','200103','200104','200105','200106','200107','200108',\n   '200109','200110','200111','200112','200201','200202','200203','200204',\n   '200205','200206','200207','200208','200209']\nx = [dt.datetime.strptime(i, '%Y%m') for i in x] \ny=[30.2,37.6,34.7,27.1,31.9,43.9,42.4,42.3,34.4,40.0,47.2,\n   40.8,34.7,27.1,31.9,43.9,42.4,42.3,34.4,40.0,47.2]\n\n#data2   \nq=['200106','200107','200108','200206','200207','200208']\nq = [dt.datetime.strptime(i, '%Y%m') for i in q] \nw=[19.7,18.6,15.2,17.3,16.9,18.2]\n\nfor i, xi in enumerate(x):\n    if xi not in q:\n        w.insert(i, None)\n\n\nplt.plot(x,y, '-r')    \nplt.plot(x,w,':b')\n\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/r4bsq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4bsq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 145, "user_id": 6889986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a32ee17e45da7b4ec3fb06955dce045d?s=128&d=identicon&r=PG&f=1", "display_name": "glayne", "link": "https://stackoverflow.com/users/6889986/glayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1850, "favorite_count": 0, "accepted_answer_id": 46213911, "answer_count": 2, "score": 1, "last_activity_date": 1505795345, "creation_date": 1505343333, "last_edit_date": 1505795345, "question_id": 46208020, "link": "https://stackoverflow.com/questions/46208020/plotting-two-line-plots-of-different-index-lengths-with-disconnects-where-there", "title": "Plotting two line plots of different index lengths with disconnects where there is no data", "body": "<p>I have two data sets that I need to plot on a single pair of axes. Each data set contains two lists:</p>\n\n<ul>\n<li>Dates (in format of YYYYMM)   </li>\n<li>Values (monthly averages)</li>\n</ul>\n\n<p>The problem I am having is that one data set only contains summer months (plotted in red), while the other contains every month (plotted in blue). As a result, I get an image like the one below: <a href=\"https://i.stack.imgur.com/Gr4Xe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gr4Xe.png\" alt=\"Red and blue line plots both extend continuously from left side to right side of a graph.\"></a></p>\n\n<p>However, I don't want the line plot for the summer months (red) to connect between years. That is, I don't want to draw a line between data points for 200208 and 200306. I want a gap in the red line where data does not exist, like this graph from <a href=\"https://www.packtpub.com/books/content/line-area-and-scatter-charts\" rel=\"nofollow noreferrer\">Joe Kuan</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/70qPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70qPY.png\" alt=\"Blue line has continuous data. Red line has breaks where no data exist.\"></a></p>\n\n<p>The code I used to plot the first image is:</p>\n\n<pre><code>#data1\nx = monthly_avgs_aod.index.tolist()\nx = [dt.datetime.strptime(i, '%Y%m') for i in x] \ny = monthly_avgs_aod.values.tolist()\n\n#data2\nq = monthly_avgs_pm.index.tolist()\nq = [dt.datetime.strptime(i, '%Y%m') for i in q] \nw = monthly_avgs_pm.values.tolist()\nplt.plot(q, w, '-r')    \nplt.plot(x, y, ':b')\n</code></pre>\n\n<p>The data that I am using looks like this:</p>\n\n<pre><code>#data1\nx=['200101','200102','200103','200104','200105','200106','200107','200108','200109','200110','200111','200112','200201','200202','200203','200204','200205','200206','200207','200208','200209']\ny=[30.2,37.6,34.7,27.1,31.9,43.9,42.4,42.3,34.4,40.0,47.2,40.8,34.7,27.1,31.9,43.9,42.4,42.3,34.4,40.0,47.2]\n\n#data2   \nq=['200106','200107','200108','200206','200207','200208']\nw=[19.7,18.6,15.2,17.3,16.9,18.2]\n</code></pre>\n\n<p>Any help with this would be appreciated.</p>\n"}, {"tags": ["python", "python-3.x", "asynchronous"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1505343324, "post_id": 46207991, "comment_id": 79379342, "body": "Related: <a href=\"https://stackoverflow.com/q/44251045/3001761\">stackoverflow.com/q/44251045/3001761</a>"}, {"owner": {"reputation": 9048, "user_id": 13782669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnuKr.jpg?s=128&g=1", "display_name": "alex_noname", "link": "https://stackoverflow.com/users/13782669/alex-noname"}, "edited": false, "score": 0, "creation_date": 1611385766, "post_id": 46207991, "comment_id": 116439280, "body": "About <code>asyncio.sleep</code> accuracy <a href=\"https://stackoverflow.com/a/65727201/13782669\">stackoverflow.com/a/65727201/13782669</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505343579, "post_id": 46208037, "comment_id": 79379402, "body": "Thanks. (1) by &quot;&quot;completes&quot; just means the task is finished.&quot; do you mean the coroutine object (which was returned by <code>sleep</code>) completes  its execution?  (2) could you give an example of &quot;have other parallel tasks/coroutines running&quot;?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505343764, "post_id": 46208037, "comment_id": 79379453, "body": "(3) &quot; If result is provided, it is produced to the caller when the coroutine completes.&quot;  Since <code>result</code> is <code>1.5</code> here, why is <code>3</code> instead of <code>1.5</code> assigned to <code>x</code>?"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505343839, "post_id": 46208037, "comment_id": 79379479, "body": "(2) you can build up lists of tasks of async functions which will run parallel. if you use async sleep it will only sleep one task if you use synchro sleep it will sleep the whole process  (1) yes"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344078, "post_id": 46208037, "comment_id": 79379546, "body": "(3) i dont follow, where do you get these values from ?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344129, "post_id": 46208037, "comment_id": 79379557, "body": "Sorry some typo. Should be: &quot; If result is provided, it is produced to the caller when the coroutine completes.&quot; Since result is 1.5 here, why is 23 instead of 1.5 assigned to <code>x</code>?"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344229, "post_id": 46208037, "comment_id": 79379583, "body": "result is not 1.5 <code>def delayed_result(delay, result)</code> <code>loop.run_until_complete(delayed_result(1.5, 23))</code>"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344300, "post_id": 46208037, "comment_id": 79379599, "body": "What values does <code>yield from asyncio.sleep(delay)</code> provide to the main program?"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344352, "post_id": 46208037, "comment_id": 79379616, "body": "no value is returned, the coroutine just sleeps for the value entered"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344413, "post_id": 46208037, "comment_id": 79379637, "body": "Thanks. What does the coroutine object returned by <code>sleep</code> do/execute before it completes?"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505344629, "post_id": 46208037, "comment_id": 79379679, "body": "I just checked with the documentation, you have to pass the delay AND the result so the async sleep returns your the result <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.sleep\" rel=\"nofollow noreferrer\">docs.python.org/3/library/asyncio-task.html#asyncio.sleep</a>"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505345914, "post_id": 46208037, "comment_id": 79379982, "body": "Thanks. Could you explain &quot;you can build up lists of tasks of async functions which will run parallel. if you use async sleep it will only sleep one task if you use synchro sleep it will sleep the whole process &quot;? I can&#39;t figure out how async is useful"}, {"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1505346566, "post_id": 46208037, "comment_id": 79380127, "body": "with asyncio.ensurefuture() you can create a task, if you create a multiple of those tasks and pass them to a <code>await asyncio.gather(tasks)</code> statement they will execute in parallel thus allowing for immense speedups in some cases, now sleep in the synchronous version will halt the entire python interpreter for some time while asyncio.sleep will only sleep that one task"}], "tags": [], "owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "is_accepted": false, "score": 0, "last_activity_date": 1505343985, "last_edit_date": 1505343985, "creation_date": 1505343436, "answer_id": 46208037, "question_id": 46207991, "link": "https://stackoverflow.com/questions/46207991/what-does-yield-from-asyncio-sleepdelay-do/46208037#46208037", "title": "what does `yield from asyncio.sleep(delay)` do?", "body": "<p><code>yield from</code> is python3.4 syntax for 3.5 <code>await</code> which will probably make more sense.</p>\n\n<p>\"completes\" just means the task from the coroutine has finished.</p>\n\n<p>In this case you want to use the async sleep so you can computer other tasks while the sleep-task is running, it makes more sense if you have other parallel tasks/coroutines running. </p>\n"}, {"tags": [], "owner": {"reputation": 958, "user_id": 3535074, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf0e1152c6926ac3405d5831d74c9e14?s=128&d=identicon&r=PG&f=1", "display_name": "user3535074", "link": "https://stackoverflow.com/users/3535074/user3535074"}, "is_accepted": true, "score": 20, "last_activity_date": 1505345613, "creation_date": 1505345613, "answer_id": 46208302, "question_id": 46207991, "link": "https://stackoverflow.com/questions/46207991/what-does-yield-from-asyncio-sleepdelay-do/46208302#46208302", "title": "what does `yield from asyncio.sleep(delay)` do?", "body": "<p>The following line of code :</p>\n\n<pre><code>time.sleep(5)\n</code></pre>\n\n<p>...freezes the execution of your code for 5 seconds. Nothing further is computed or executed until the sleep function has completed it's 5 second nap as the application can't proceed without the sleep function returning control to the caller. This is called synchronous programming, when there is no mechanism for the application to change its focus and complete other tasks in periods of waiting such as waiting for the results of a call to a database, a web api or as in this case the sleep function. In synchronous programming there is no need for an event loop as there is no expectation that the application manages its time nor that it switches tasks for efficiency gains.</p>\n\n<p>The following code :</p>\n\n<pre><code>asyncio.sleep(5)\n</code></pre>\n\n<p>... is part of the asyncio library, designed for asynchronous programming where <strong>an event loop is assigned tasks to be competed</strong> and it (the event loop) monitors the state of all its tasks and switches from one to another with the objective of minimising the amount of time idle/waiting. This is not threading where multiple processes are being executed simultaneously, this is merely optimising task execution so the CPU is not left idle, therefore gaining hugely reduced overall execution times.</p>\n\n<p><strong>The yield from keyword (python 3.5 onwards await keyword can be used) is the moment where the event loop has the chance to leave one task to finish</strong> (e.g. While a query is returned from a database call) and focus on another task which the event loop is aware of and can actually be computed/executed in the meantime. </p>\n\n<p>@asyncio.coroutine decorator + yield from is compatible with python 3.5 onwards but using the new keyword async def to define an asyncronous coroutine and the await keyword within it to allow the event loop to evaluate switching to another task is the common and future proof way to go if you're 3.5 or above.</p>\n\n<p>Asyncronous python can be quite difficult to get your head round but there are a number of excellent pycon talks on the subject from the previous few years - look for one on Youtube and if course read the docs\ud83d\ude07</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12629, "favorite_count": 8, "accepted_answer_id": 46208302, "answer_count": 2, "score": 15, "last_activity_date": 1505345613, "creation_date": 1505343073, "question_id": 46207991, "link": "https://stackoverflow.com/questions/46207991/what-does-yield-from-asyncio-sleepdelay-do", "title": "what does `yield from asyncio.sleep(delay)` do?", "body": "<p>The following example from Python in a Nutshell sets  <code>x</code> to  <code>23</code>  after a delay of a second and a half:</p>\n\n<pre><code>@asyncio.coroutine\ndef delayed_result(delay, result):\n  yield from asyncio.sleep(delay)\n  return result\n\nloop = asyncio.get_event_loop()\nx = loop.run_until_complete(delayed_result(1.5, 23))\n</code></pre>\n\n<p>I feel difficult to understand what <code>yield from asyncio.sleep(delay)</code>    does.</p>\n\n<p>From <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.sleep\" rel=\"noreferrer\">https://docs.python.org/3/library/asyncio-task.html#asyncio.sleep</a></p>\n\n<blockquote>\n<pre><code>Coroutine asyncio.sleep(delay, result=None, *, loop=None)\n</code></pre>\n  \n  <p>Create a coroutine that completes after a given time (in seconds). If\n  result is provided, it is produced to the caller when the coroutine\n  completes.</p>\n</blockquote>\n\n<p>So <code>asyncio.sleep(delay)</code> returns a coroutine object.</p>\n\n<p>What does a coroutine object \"completes\" mean?</p>\n\n<p>What values does <code>yield from asyncio.sleep(delay)</code> provide to the main program?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "sockets", "network-programming", "udp"], "comments": [{"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1505352306, "post_id": 46207947, "comment_id": 79381444, "body": "Problem 2: <code>a=pickle.loads(reply[0])</code>.  <code>reply</code> is a tuple."}, {"owner": {"reputation": 23, "user_id": 7549415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207909472046303/picture?type=large", "display_name": "Mayank Kashyap", "link": "https://stackoverflow.com/users/7549415/mayank-kashyap"}, "reply_to_user": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1505357296, "post_id": 46207947, "comment_id": 79382581, "body": "Thanks! this worked and I can now receive the server list on client. Can you help me understand problem 3?"}], "answers": [{"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 3383, "user_id": 7005567, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-9qC8VOR16jg/AAAAAAAAAAI/AAAAAAAAD98/WP4-O_iaoJo/photo.jpg?sz=128", "display_name": "shiva", "link": "https://stackoverflow.com/users/7005567/shiva"}, "edited": false, "score": 0, "creation_date": 1574412718, "post_id": 58989566, "comment_id": 104232154, "body": "@shiva Edit rejected. Don&#39;t use code formatting for text that isn&#39;t code."}], "tags": [], "owner": {"reputation": 3, "user_id": 12414944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc226e77397b63b73210c031261feb0f?s=128&d=identicon&r=PG&f=1", "display_name": "eminakgn", "link": "https://stackoverflow.com/users/12414944/eminakgn"}, "is_accepted": false, "score": -2, "last_activity_date": 1574412677, "last_edit_date": 1574412677, "creation_date": 1574408284, "answer_id": 58989566, "question_id": 46207947, "link": "https://stackoverflow.com/questions/46207947/unable-to-assign-ip-addresses-to-server-client-in-python-socket-programming/58989566#58989566", "title": "Unable to assign IP addresses to server/client in Python Socket Programming", "body": "<p>because,</p>\n\n<p><code>reply = fd.recvfrom(1000)</code> </p>\n\n<p>returns tuple (address,msg)</p>\n"}], "owner": {"reputation": 23, "user_id": 7549415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207909472046303/picture?type=large", "display_name": "Mayank Kashyap", "link": "https://stackoverflow.com/users/7549415/mayank-kashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1574412677, "creation_date": 1505342847, "question_id": 46207947, "link": "https://stackoverflow.com/questions/46207947/unable-to-assign-ip-addresses-to-server-client-in-python-socket-programming", "title": "Unable to assign IP addresses to server/client in Python Socket Programming", "body": "<p>I'm working on a socket level chat assignment that requires me to have a server that stores Usernames and IP addr&amp;port numbers and give it out to any client that needs it to enable chat between them. \nNew to socket programming in Python so I'm having a tough time assigning IP addresses and also pickle serializing lists to be sent from server to client,</p>\n\n<p>Server side:</p>\n\n<pre><code>import pickle\nimport socket\nudp_ip = '127.0.0.1'\nudp_port = 8014\nfd = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nfd.bind((udp_ip,udp_port))\nx=[]\n\nwhile True:\n    r = fd.recvfrom(2048)\n    x.append(r)\n    print x\n    datas=pickle.dumps(x)\n    reply = r[0]\n    client_address = r[1]\n    #fd.sendto(bytearray(reply,\"utf-8\"), client_address)\n    fd.sendto(datas,client_address)\n</code></pre>\n\n<p>Client side:</p>\n\n<pre><code>import pickle\nimport socket\nfd = socket.socket(socket.AF_INET, socket.SOCK_DGRAM )\n\n\nfd.getsockname()\nudp_ip = '127.0.0.1'\nudp_port = 8014\nb=[]\n\n\nprint \"SIGN-IN\"\nmessage= raw_input(\"USERNAME :\")\nfd.sendto(message, (udp_ip, udp_port))\nwhile(True):\n    reply = fd.recvfrom(1000)\n    list1=raw_input(\"\\n\").lower().strip()\n    if list1==\"list\":\n         a=pickle.loads(reply)\n         b.append(a)\n         print \"Here is the list of IP addr and ports\",a\n    else:\n        print(\"Sorry didn't get that.\")\n</code></pre>\n\n<p>Problem 1- Need to figure out how to assign proper IP addresses to both client and server. Any other IP other than localhost returns an error, `ERRNO99 Cannot assign requested address.</p>\n\n<p>Problem 2- Pickle serialization is fantastic and I'm trying to get the list x from server to client but it throws an error on the client side, </p>\n\n<pre><code>`File\"client1.py\", line 21, in &lt;module&gt;\n        a=pickle.loads(reply)\n      File \"/usr/lib/python2.7/pickle.py\", line 1387, in loads\n        file = StringIO(str)\n    TypeError: StringIO() argument 1 must be string or buffer, not tuple\n</code></pre>\n\n<p>Problem 3- I am still trying to understand how the client will be able to just retrieve the other client's ip and port info from server's list and then contact the other client directly (no server involved). Would also like to understand bytearrays(can I get rid of them completely if I use pickle serialization)</p>\n\n<p>I would appreciate as much help as possible but not asking anyone here code it entirely of course, just show me the way and let me know where I'm wrong. Links to good examples would be perfect.</p>\n"}, {"tags": ["python", "pip", "pycharm", "python-idle"], "comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1505342787, "post_id": 46207931, "comment_id": 79379180, "body": "Could you please give us a clear example of the error in your text?"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1505342919, "post_id": 46207931, "comment_id": 79379204, "body": "Traceback (most recent call last):   File &quot;C:\\Users\\dinos\\Desktop\\Games\\atest.py&quot;, line 1, in &lt;module&gt;     import pydealer as py ModuleNotFoundError: No module named &#39;pydealer&#39;"}, {"owner": {"reputation": 245, "user_id": 4821675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5ad8d45779eb390bf7c22c9e2d0347?s=128&d=identicon&r=PG&f=1", "display_name": "minterm", "link": "https://stackoverflow.com/users/4821675/minterm"}, "edited": false, "score": 0, "creation_date": 1505343140, "post_id": 46207931, "comment_id": 79379284, "body": "Does it fail when you import other modules (for example, import os)?"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343475, "post_id": 46207931, "comment_id": 79379377, "body": "OS is built in, and yes, it works. I use improved Sublime for Python, and it works fine on there. Command-Prompt is giving and error. And I don&#39;t know why. But thanks for the response! I appreciate it! :)"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343214, "post_id": 46207988, "comment_id": 79379306, "body": "I&#39;ll try that! Thanks for the response :)"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343307, "post_id": 46207988, "comment_id": 79379339, "body": "It is up to date. But, it seems to be a problem on CMD and Python Command -Line. IDLE and Sublime works."}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "reply_to_user": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 1, "creation_date": 1505343413, "post_id": 46207988, "comment_id": 79379360, "body": "Can you please run this: <code>python -m pip --version</code>"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343611, "post_id": 46207988, "comment_id": 79379414, "body": "I just tried updating PIP on my own. It is up-to-date. But in case you want the version, here it is: 9.01"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "reply_to_user": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343746, "post_id": 46207988, "comment_id": 79379448, "body": "Not sure what to say... You are using windows, right?"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343816, "post_id": 46207988, "comment_id": 79379472, "body": "Yup, it&#39;s alright. I will eventually find a work around. Thanks for using your time to help me. I really appreciate it! :) &lt;3"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "reply_to_user": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505343951, "post_id": 46207988, "comment_id": 79379519, "body": "Your welcome :). Sorry I couldn&#39;t help. I&#39;ll upvote your question in 55 minutes (once I get my 40 daily votes) to help your post gain traction"}, {"owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "edited": false, "score": 0, "creation_date": 1505956361, "post_id": 46207988, "comment_id": 79628486, "body": "I have discovered this problem twice more. One of which was fixed, somehow. Using the module folium, on Atom was giving the same error, and using the module pandas, on Sublime. Pandas was immediately fixed after I used pip on the specific version, which was probably the cause of Anaconda(I used to use that). With that being said, I think I might have accidentally used Anaconda on that project and pip doesn&#39;t recognize a version for that."}], "tags": [], "owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "is_accepted": false, "score": 1, "last_activity_date": 1505343061, "creation_date": 1505343061, "answer_id": 46207988, "question_id": 46207931, "link": "https://stackoverflow.com/questions/46207931/i-used-pip-to-install-a-module-but-my-program-responds-no-module-named-py/46207988#46207988", "title": "I used pip to install a module but my program responds, &quot;No module named...&quot; (PYTHON)", "body": "<p>If there are multiple Python instances, try:</p>\n\n<p>Python 2:</p>\n\n<pre><code>pip2 install httplib2 --upgrade\n</code></pre>\n\n<p>Python 3:</p>\n\n<pre><code>pip3 install httplib2 --upgrade\n</code></pre>\n\n<p>To check what's installed and where, try:</p>\n\n<pre><code>pip list\npip2 list\npip3 list\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8571359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avFs.jpg?s=128&g=1", "display_name": "Dinorami", "link": "https://stackoverflow.com/users/8571359/dinorami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1505343938, "creation_date": 1505342750, "last_edit_date": 1505343938, "question_id": 46207931, "link": "https://stackoverflow.com/questions/46207931/i-used-pip-to-install-a-module-but-my-program-responds-no-module-named-py", "title": "I used pip to install a module but my program responds, &quot;No module named...&quot; (PYTHON)", "body": "<p>Yes, there are other questions like this. However, they are all about custom modules. I used pip to install a module and for some apparent reason, on the command-line only, it responds with an error. On the IDLE and Sublime/PyCharm, it works completely fine. However, running with command-prompt, like I said, gives an error. Anything I am doing wrong? </p>\n"}, {"tags": ["python", "opencv", "raspberry-pi3"], "comments": [{"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1505343588, "post_id": 46207912, "comment_id": 79379405, "body": "Where are you creating the <code>cam</code> object? Check the <code>rval</code> value for <code>True</code> or <code>False</code>."}, {"owner": {"reputation": 1, "user_id": 8605797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a53f6d190674edb8fcceb5c96e1b23?s=128&d=identicon&r=PG&f=1", "display_name": "Locke123", "link": "https://stackoverflow.com/users/8605797/locke123"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1505344213, "post_id": 46207912, "comment_id": 79379577, "body": "Sorry I didn&#39;t include the cam object, because the entire code is quite long. how would I check the rval value for true or false? Sorry I&#39;m really new to this"}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1505344518, "post_id": 46207912, "comment_id": 79379657, "body": "After this line: <code>rval, old_frame = cam.read()</code>. Write <code>print(rval)</code>"}, {"owner": {"reputation": 1, "user_id": 8605797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a53f6d190674edb8fcceb5c96e1b23?s=128&d=identicon&r=PG&f=1", "display_name": "Locke123", "link": "https://stackoverflow.com/users/8605797/locke123"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1505346910, "post_id": 46207912, "comment_id": 79380219, "body": "Okay! that worked - it printed as False"}], "owner": {"reputation": 1, "user_id": 8605797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a53f6d190674edb8fcceb5c96e1b23?s=128&d=identicon&r=PG&f=1", "display_name": "Locke123", "link": "https://stackoverflow.com/users/8605797/locke123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1636, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505342672, "creation_date": 1505342672, "question_id": 46207912, "link": "https://stackoverflow.com/questions/46207912/getting-opencv-error-assertion-failed-scn-3-scn-4-in-python-on-raspber", "title": "Getting openCV error: Assertion Failed (scn ==3 || scn ==4) in python on RaspberryPi 3", "body": "<p>I'm trying to make a gesture controlled lamp by following the steps shown here \n<a href=\"https://makezine.com/projects/raspberry-pi-potter-wand/\" rel=\"nofollow noreferrer\">https://makezine.com/projects/raspberry-pi-potter-wand/</a></p>\n\n<p>But I've run into an issue where I keep getting an Assertion failure</p>\n\n<pre><code>def TrackWand():\n\n    global rval,old_frame,old_gray,p0,mask,color,ig,img,frame\n    color = (0,0,255)\n    rval, old_frame = cam.read()\n    cv2.flip(old_frame,1,old_frame)\n    old_gray = cv2.cvtColor(old_frame, cv2.COLOR_BGR2GRAY)\n    equalizeHist(old_gray,old_gray)\n    old_gray = GaussianBlur(old_gray,(9,9),1.5)\n    dilate_kernel = np.ones(dilation_params, np.uint8)\n    old_gray = cv2.dilate(old_gray, dilate_kernel, iterations=1)\n    # Take first frame and find circles in it\n    p0 = cv2.HoughCircles(old_gray,cv2.cv.CV_HOUGH_GRADIENT,3,100,param1=100,param2=30,minRadius=4,maxRadius=15)\n    try:\n            p0.shape = (p0.shape[1], 1, p0.shape[2])\n            p0 = p0[:,:,0:2] \n    except:\n            print (\"No points found\")         \n# Create a mask image for drawing purposes\n    mask = np.zeros_like(old_frame)\n\n    while True:\n            rval, frame = cam.read()\n            cv2.flip(frame,1,frame)\n            frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n        #equalizeHist(frame_gray,frame_gray)\n    #frame_gray = GaussianBlur(frame_gray,(9,9),1.5)\n    #dilate_kernel = np.ones(dilation_params, np.uint8)\n        #frame_gray = cv2.dilate(frame_gray, dilate_kernel, iterations=1)\n            try:     \n        # calculate optical flow\n                    p1, st, err = cv2.calcOpticalFlowPyrLK(old_gray, frame_gray, p0, None, **lk_params)\n\n        # Select good points\n                    good_new = p1[st==1]\n                    good_old = p0[st==1]\n\n                # draw the tracks\n                    for i,(new,old) in enumerate(zip(good_new,good_old)):\n                            a,b = new.ravel()\n                            c,d = old.ravel()\n                    # only try to detect gesture on highly-rated points (below 15)\n                            if (i&lt;15):\n                                    IsGesture(a,b,c,d,i)\n                            dist = math.hypot(a - c, b - d)\n                            if (dist&lt;movment_threshold):\n                                    cv2.line(mask, (a,b),(c,d),(0,255,0), 2)\n                            cv2.circle(frame,(a,b),5,color,-1)\n                            cv2.putText(frame, str(i), (a,b), cv2.FONT_HERSHEY_SIMPLEX, 1.0, (0,0,255))\n            except IndexError:\n                    print (\"Index error\")  \n                    cam.release()\n                    cv2.destroyAllWindows()\n                    break          \n            except:\n                    e = sys.exc_info()[0]\n                    print (\"Error: %s\" % (e,)) \n                    cam.release()\n                    cv2.destroyAllWindows()\n                    break\n            img = cv2.add(frame,mask)\n\n            cv2.putText(img, \"Press ESC to close.\", (5, 25),\n                cv2.FONT_HERSHEY_SIMPLEX, 1.0, (255,255,255))\n            cv2.imshow(\"Raspberry Potter\", frame)\n\n        # get next frame\n            rval, frame = cam.read()\n\n        # Now update the previous frame and previous points\n            old_gray = frame_gray.copy()\n            p0 = good_new.reshape(-1,1,2)\n            key = cv2.waitKey(20)\n            if key in [27, ord('Q'), ord('q')]: # exit on ESC\n                    break\n</code></pre>\n\n<p>This is the assertion error</p>\n\n<blockquote>\n  <p>Initializing point tracking\n  Error: module 'cv2' has no attribute 'cv'\n  OpenCV Error: Assertion failed (scn == 3 || scn == 4) in cvtColor, file /home/pi/opencv-3.3.0/modules/imgproc/src/color.cpp, line 10638\n  Traceback (most recent call last):\n    File \"rpotter2.py\", line 202, in \n      TrackWand()<br>\n    File \"rpotter2.py\", line 131, in TrackWand\n      old_gray = cv2.cvtColor(old_frame, cv2.COLOR_BGR2GRAY)\n  cv2.error: /home/pi/opencv-3.3.0/modules/imgproc/src/color.cpp:10638: error: (-215) scn == 3 || scn == 4 in function cvtColor</p>\n</blockquote>\n\n<p>I'm really new to this, so any help would be really appreciated!</p>\n"}, {"tags": ["python", "xml", "pandas"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1505358199, "post_id": 46207893, "comment_id": 79382801, "body": "Did you call the function? Here you only define it. And please post XML for us to reproduce."}, {"owner": {"reputation": 9, "user_id": 8605940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0988da6af7990a085d0fd87bdfbd5a7?s=128&d=identicon&r=PG&f=1", "display_name": "Shohay", "link": "https://stackoverflow.com/users/8605940/shohay"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1505363841, "post_id": 46207893, "comment_id": 79384259, "body": "Yes I did call it, but I got an error saying ParseError: no element found: line 1, column 50"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 1, "creation_date": 1505401485, "post_id": 46207893, "comment_id": 79407953, "body": "As mentioned, please post XML for us to reproduce. We can&#39;t help otherwise."}], "owner": {"reputation": 9, "user_id": 8605940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0988da6af7990a085d0fd87bdfbd5a7?s=128&d=identicon&r=PG&f=1", "display_name": "Shohay", "link": "https://stackoverflow.com/users/8605940/shohay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505342589, "creation_date": 1505342589, "question_id": 46207893, "link": "https://stackoverflow.com/questions/46207893/convert-xml-structure-into-a-pandas-dataframe-without-using-a-complex-set-of-for", "title": "Convert XML structure into a Pandas DataFrame without using a complex set of for loops", "body": "<p>I'm trying to convert XML into a pandas dataframe. I tried a method from Austin Taylor website but without success.</p>\n\n<p>Here's my code so far:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport pandas as pd\n\nxml_data = open(\"C:\\\\Users\\\\John__000\\\\Documents\\\\Analytics\\\\ANLT Data Wrangling\\\\Assignments Viz\\/xdemo_stat.xml\").read()\n\ndef xml2df(xml_data):\nroot = ET.XML(xml_data) # element tree\nall_records = []\nfor i, child in enumerate(root):\n    record = {}\n    for subchild in child:\n        record[subchild.tag] = subchild.text\n        all_records.append(record)\nreturn pd.DataFrame(all_records)\n</code></pre>\n\n<p>After running that code, nothing happened. I'm expecting a dataframe but it didn't work. What might be the issue?</p>\n"}, {"tags": ["python", "pandas", "csv"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1505342437, "post_id": 46207841, "comment_id": 79379076, "body": "What&#39;s the output of df.columns?"}, {"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1505342442, "post_id": 46207841, "comment_id": 79379079, "body": "Your code should work. What is the exact problem?"}, {"owner": {"reputation": 85, "user_id": 8574667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0dd18377927bda6ccd5a51e995d17e5?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/8574667/angeline"}, "reply_to_user": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1505342935, "post_id": 46207841, "comment_id": 79379211, "body": "@TedPetrou I have updated my current ouput in my post. Please check"}, {"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1505343102, "post_id": 46207841, "comment_id": 79379271, "body": "Your csv file is ilformatted. That comma after Moldova is messing it up. Needs quotes around entire name"}, {"owner": {"reputation": 85, "user_id": 8574667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0dd18377927bda6ccd5a51e995d17e5?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/8574667/angeline"}, "reply_to_user": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1505344328, "post_id": 46207841, "comment_id": 79379610, "body": "@TedPetrou Still the same output. And I have lots of country data but only 10 of them are displaying and it does not calculate the count"}, {"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 1, "creation_date": 1505344525, "post_id": 46207841, "comment_id": 79379661, "body": "The data you show is not csv, but rather fixed width data. Is this your raw data, or did you format it in the post? Can you post some raw data?"}, {"owner": {"reputation": 85, "user_id": 8574667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0dd18377927bda6ccd5a51e995d17e5?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/8574667/angeline"}, "reply_to_user": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1505345584, "post_id": 46207841, "comment_id": 79379905, "body": "@Danny_ds I have updated the raw data in my post. Please check"}, {"owner": {"reputation": 85, "user_id": 8574667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0dd18377927bda6ccd5a51e995d17e5?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/8574667/angeline"}, "reply_to_user": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1505356726, "post_id": 46207841, "comment_id": 79382467, "body": "@Danny_ds I can print using the pandas but my output shows only the half country like this. Congo, The Democratic Republic of the       2 Costa Rica                                 10 ...                                       ... Seychelles                               1722 Singapore                                 172 Sint Maarten (Dutch part)                   1"}, {"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1505357151, "post_id": 46207841, "comment_id": 79382561, "body": "Do you mean some names are truncated?"}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1505346350, "creation_date": 1505346350, "answer_id": 46208389, "question_id": 46207841, "link": "https://stackoverflow.com/questions/46207841/when-i-try-to-sum-csv-file-using-pandas-it-does-not-work/46208389#46208389", "title": "When I try to sum csv file using pandas it does not work", "body": "<p>The raw data that you've posted is tab delimited, which is a form of CSV. When reading the file it helps to specify the delimiter:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.read_csv('/Users/mani/Desktop/finalgeocount.csv', delimiter='\\t')\n&gt;&gt;&gt; df\n   COUNTRY  COUNT\n0    China      1\n1    China      1\n2    China      1\n3    China      2\n4  Ireland      1\n5    China      3\n6  Moldova      1\n&gt;&gt;&gt; df.groupby('COUNTRY').sum()\n         COUNT\nCOUNTRY       \nChina        8\nIreland      1\nMoldova      1\n</code></pre>\n\n<p>N.B. I had to tidy up the raw data a little to remove some stray characters from the second blank line.</p>\n"}], "owner": {"reputation": 85, "user_id": 8574667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0dd18377927bda6ccd5a51e995d17e5?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/8574667/angeline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 46208389, "answer_count": 1, "score": 1, "last_activity_date": 1505346442, "creation_date": 1505342272, "last_edit_date": 1505346442, "question_id": 46207841, "link": "https://stackoverflow.com/questions/46207841/when-i-try-to-sum-csv-file-using-pandas-it-does-not-work", "title": "When I try to sum csv file using pandas it does not work", "body": "<p>I am new to pandas and I try to sum my csv file. I have created my csv which has Country and Count column and use pandas to sum the total count of each country. I am also not sure about my csv format wether I converted correctly or not. This is my code </p>\n\n<pre><code>import pandas as pd\ndf =pd.read_csv (\"/Users/mani/Desktop/finalgeocount.csv\")\nprint df.groupby(['COUNTRY']).sum()\n</code></pre>\n\n<p>This is my raw csv file data</p>\n\n<pre><code>COUNTRY COUNT\n\nChina   1\nChina   1\nChina   1\nChina   2\nIreland 1\nChina   3\nMoldova 1\n</code></pre>\n\n<p>I need the output like this:</p>\n\n<pre><code>China           8\nIreland         1\nMoldova         1\n</code></pre>\n\n<p>But my output is showing like below:</p>\n\n<pre><code>                            Unnamed: 2  Unnamed: 3  Unnamed: 4\nCOUNTRY                                                       \nAlbania                            NaN         NaN         NaN\nAlgeria                            NaN         NaN         NaN\nAngola                             NaN         NaN         NaN\nAnguilla                           NaN         NaN         NaN\n</code></pre>\n"}, {"tags": ["python", "list", "numpy", "scipy", "interpolation"], "comments": [{"owner": {"reputation": 3203, "user_id": 2763915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b53d3b3f8b36383de69ab29d9633251?s=128&d=identicon&r=PG&f=1", "display_name": "atru", "link": "https://stackoverflow.com/users/2763915/atru"}, "edited": false, "score": 0, "creation_date": 1505342538, "post_id": 46207821, "comment_id": 79379112, "body": "You mean you literally want the function values of the smooth curve?"}, {"owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "reply_to_user": {"reputation": 3203, "user_id": 2763915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b53d3b3f8b36383de69ab29d9633251?s=128&d=identicon&r=PG&f=1", "display_name": "atru", "link": "https://stackoverflow.com/users/2763915/atru"}, "edited": false, "score": 0, "creation_date": 1505342604, "post_id": 46207821, "comment_id": 79379132, "body": "Yes, but the actual function doesn&#39;t matter, I&#39;m just interested in the points themselves."}], "answers": [{"tags": [], "owner": {"reputation": 3203, "user_id": 2763915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b53d3b3f8b36383de69ab29d9633251?s=128&d=identicon&r=PG&f=1", "display_name": "atru", "link": "https://stackoverflow.com/users/2763915/atru"}, "is_accepted": true, "score": 10, "last_activity_date": 1505617408, "last_edit_date": 1505617408, "creation_date": 1505343028, "answer_id": 46207980, "question_id": 46207821, "link": "https://stackoverflow.com/questions/46207821/trying-to-understand-scipy-and-numpy-interpolation/46207980#46207980", "title": "Trying to understand scipy and numpy interpolation", "body": "<p>You can generate the function points and reassign them to a variable similarly to when you generated them and plotted them:</p>\n\n<pre><code>y_lin = f(xnew)\ny_cub = f2(xnew)\n</code></pre>\n\n<p><code>interp1d</code> returns you a function that you can then use to generate the data which in turns can be reassigned to other variables and used any way you want. Both outputs plotted together:</p>\n\n<pre><code>plt.plot(x, y, 'o', xnew, f(xnew), xnew, y_lin, '-', xnew, f2(xnew), xnew, y_cub, '--')\nplt.legend(['data', 'linear' ,'reassigned linear', 'cubic', 'reassigned cubic'], loc='best')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9389, "favorite_count": 2, "accepted_answer_id": 46207980, "answer_count": 1, "score": 7, "last_activity_date": 1505617408, "creation_date": 1505342150, "question_id": 46207821, "link": "https://stackoverflow.com/questions/46207821/trying-to-understand-scipy-and-numpy-interpolation", "title": "Trying to understand scipy and numpy interpolation", "body": "<p>If I have some measured data whose function I don't know (let's say it's either not important, or computationally difficult), such as</p>\n\n<pre><code>x2 = [0, 1, 10, 25, 30]\ny2 = [5, 12, 50, 73, 23]\n</code></pre>\n\n<p>and I use <code>numpy.interp</code> to find the intermediate values, it gives me a linear interpolant between the points and I get a straight line:</p>\n\n<pre><code>xinterp = np.arange(31)\nyinterp1 = np.interp(xinterp, x2, y2)\nplt.scatter(xinterp, yinterp1)\nplt.plot(x2, y2, color = 'red', marker = '.')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lXh2s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lXh2s.png\" alt=\"enter image description here\"></a></p>\n\n<p>The example from the <code>scipy.interpolate</code> docs gives</p>\n\n<pre><code>x = np.linspace(0, 10, num=11, endpoint=True)\ny = np.cos(-x**2/9.0)\nf = interp1d(x, y)\nf2 = interp1d(x, y, kind='cubic')\nxnew = np.linspace(0, 10, num=41, endpoint=True)\nplt.plot(x, y, 'o', xnew, f(xnew), '-', xnew, f2(xnew), '--')\nplt.legend(['data', 'linear', 'cubic'], loc='best')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/g1xkd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g1xkd.png\" alt=\"enter image description here\"></a></p>\n\n<p>with different <code>kind</code>s of interpolation for a smoother curve. But what if I want the <em>points</em> in a smooth curve, rather than just the curve? Is there a function in NumPy or SciPy that can give the discrete points along the smoothed curve?</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "cartopy"], "comments": [{"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 0, "creation_date": 1505345840, "post_id": 46207782, "comment_id": 79379958, "body": "I suspect the problem is that you are giving <code>pcolormesh</code> a 1-D list for the data array (<code>klist</code>), where it needs to be a 2-D array."}, {"owner": {"reputation": 319, "user_id": 4455183, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1236071017/picture?type=large", "display_name": "Adam", "link": "https://stackoverflow.com/users/4455183/adam"}, "reply_to_user": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 0, "creation_date": 1505346638, "post_id": 46207782, "comment_id": 79380147, "body": "Am I able to covert to a 2D array then?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1505375517, "post_id": 46207782, "comment_id": 79389626, "body": "It&#39;s not clear what you are trying to achieve here. You have 6 coordinate pairs and 6 values; as such you would be able to draw 6 points on the map. But what would the pcolormesh of 6 points be? I especially wonder since in your previous question you had a <code>np.meshgrid</code> in the code which is somehow gone here."}, {"owner": {"reputation": 319, "user_id": 4455183, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1236071017/picture?type=large", "display_name": "Adam", "link": "https://stackoverflow.com/users/4455183/adam"}, "edited": false, "score": 0, "creation_date": 1505405890, "post_id": 46207782, "comment_id": 79410981, "body": "I am trying to plot this points on a map, but I want them as blocks. I want the colors of those blocks (from klist) to correlate with the values from klist"}, {"owner": {"reputation": 339, "user_id": 5934100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAqME.jpg?s=128&g=1", "display_name": "Daniel Kirkham", "link": "https://stackoverflow.com/users/5934100/daniel-kirkham"}, "edited": false, "score": 0, "creation_date": 1505489370, "post_id": 46207782, "comment_id": 79449909, "body": "Have you tried using <code>plt.scatter</code>? That might do what you need. Take a look at the different options for the <code>marker</code> argument."}, {"owner": {"reputation": 319, "user_id": 4455183, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1236071017/picture?type=large", "display_name": "Adam", "link": "https://stackoverflow.com/users/4455183/adam"}, "edited": false, "score": 0, "creation_date": 1505496776, "post_id": 46207782, "comment_id": 79453787, "body": "I have done already with separate code, I am just looking to make it into a grid now. I was hoping to use colormesh()"}], "owner": {"reputation": 319, "user_id": 4455183, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1236071017/picture?type=large", "display_name": "Adam", "link": "https://stackoverflow.com/users/4455183/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505341969, "creation_date": 1505341969, "question_id": 46207782, "link": "https://stackoverflow.com/questions/46207782/value-error-printing-out-blank-map", "title": "Value Error; Printing out Blank Map", "body": "<p>I am trying to grid plots on a map, but the grid is not showing up and I am getting a ValueError.</p>\n\n<p>It says ValueError: not enough values to unpack (expected 2, got 1)</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom cartopy.mpl.gridliner import LONGITUDE_FORMATTER, LATITUDE_FORMATTER\nimport cartopy.crs as ccrs\n\navglonlist=[-63.414436532479854, -63.41382404937334, -63.41320293629234, -63.4126322428388, -63.412060546875, -63.41134304470493]\navglatlist=[44.5523500343606, 44.55130764100617, 44.550250391568596, 44.54927937825529, 44.54830612909229, 44.5470865885415]\nklist=['0.1243', '0.1304', '0.1321', '0.1281', '0.1358', '0.1105']\n\nax = plt.axes(projection=ccrs.PlateCarree())\n#ax.set_extent((-65.0, -58, 40, 47.7), crs=crs_latlon)\nax.set_extent((-64.0, -61, 42.5, 45.0), crs=ccrs.PlateCarree())\n\n#Add coastlines and meridians/parallels (Cartopy-specific).\nplt.gca().coastlines('10m')\ngl=ax.gridlines(crs=ccrs.PlateCarree(), draw_labels=True,\n              linewidth=1, color='gray', alpha=0.5, linestyle='-')\ngl.xlabels_top = False\ngl.ylabels_right = False\ngl.xformatter = LONGITUDE_FORMATTER\ngl.yformatter = LATITUDE_FORMATTER\n    # Add a title, legend, and display.\nax.set_title(\"Mission #13: Attenuation Coeffiecient\\n2012-06-12 17:48:00 til 2012-07-08 12:10:00\")\n\nplt.pcolormesh(avglonlist, avglatlist, klist, transform=ccrs.PlateCarree())\nplt.clim(0.0,0.5)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "histogram"], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1505343224, "post_id": 46207911, "comment_id": 79379310, "body": "Thanks, that was a really stupid error to make. For some reason <code>np.genfromtxt()</code> didn&#39;t work for me, but you did point out the error so I was able to fix it."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "reply_to_user": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1505343319, "post_id": 46207911, "comment_id": 79379340, "body": "@Antimony: hmm, ok, glad its sorted. So I can clean up the answer, can I ask what the problem was with the <code>genfromtxt</code> solution?"}, {"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1505343507, "post_id": 46207911, "comment_id": 79379385, "body": "It&#39;s unrelated to the question. There were some strange invisible characters at the start of the very first line (which I was processing within the loop, and which is why the list comprehension also did not work), and I believe they tripped up <code>genfromtxt</code>."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "reply_to_user": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1505343649, "post_id": 46207911, "comment_id": 79379424, "body": "Ah ok thanks, so the solution stands for the general case of a file structured like the one you have in the question."}, {"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1505343733, "post_id": 46207911, "comment_id": 79379446, "body": "Yeah, the solution probably would work for the general case. I just couldn&#39;t test it with my file :)"}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 1, "last_activity_date": 1505342670, "creation_date": 1505342670, "answer_id": 46207911, "question_id": 46207764, "link": "https://stackoverflow.com/questions/46207764/typeerror-when-plotting-histogram-with-matplotlib/46207911#46207911", "title": "TypeError when plotting histogram with Matplotlib", "body": "<p>You loop does not actually convert the items of <code>all_lines</code> to floats in place; it just takes each item, converts it to a float and prints it, but it does not change the value in the list. So, when you come to plot <code>all_lines</code>, the lines are still stored as strings.</p>\n\n<p>You could instead change all values in the list to floats using a list comprehension as follows:</p>\n\n<pre><code>all_lines = [float(line) for line in all_lines]\n</code></pre>\n\n<p>Even better might be to just read the file using <code>numpy</code>, and then you will have the lines stored as floats in a numpy array, and save yourself the trouble of iterating through the lines of the file:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ninput_file = \"inputfile.csv\"\nall_lines = np.genfromtxt(input_file)\n\nplt.hist(all_lines, bins = 10)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "accepted_answer_id": 46207911, "answer_count": 1, "score": 0, "last_activity_date": 1505342670, "creation_date": 1505341885, "last_edit_date": 1505342637, "question_id": 46207764, "link": "https://stackoverflow.com/questions/46207764/typeerror-when-plotting-histogram-with-matplotlib", "title": "TypeError when plotting histogram with Matplotlib", "body": "<p>I'm trying to plot a histogram of a file of float numbers. The contents of the file look like this:</p>\n\n<pre><code>0.1066770707640915\n0.0355590235880305\n0.0711180471760610\n0.4267082830563660\n0.0355590235880305\n0.1066770707640915\n0.0698755355867468\n0.0355590235880305\n0.0355590235880305\n0.0355590235880305\n0.0355590235880305\n0.0355590235880305\n0.2844721887042440\n0.0711180471760610\n0.0711180471760610\n0.0355590235880305\n0.0355590235880305\n0.1422360943521220\n0.0355590235880305\n0.0355590235880305\n0.0711180471760610\n0.0355590235880305\n0.0355590235880305\n0.0355590235880305\n...\n</code></pre>\n\n<p>For some reason, my attempt is throwing me a <code>TypeError: len() of unsized object</code>.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\ninput_file = \"inputfile.csv\"\nfile = open(input_file, \"r\")\nall_lines = list(file.readlines())\nfile.close()\n\nfor line in all_lines:\n    line = float(line.strip()) # Removing the '\\n' at the end and converting to float\n    if not isinstance(line, float): # Verifying that all data points could be converted to float\n        print type(line)\n\nprint len(all_lines)\n# 146445\n\nprint type(all_lines)\n# &lt;type 'list'&gt;\n\nplt.hist(all_lines, bins = 10) # This line throws the error\nplt.show()\n</code></pre>\n\n<p>I have scoured SO looking for similar problems. It appears that this error is common when trying to plot non-numeric data types, but this is not the case here, since I explicitly check the data type of each number to ensure that they are not a strange data type.</p>\n\n<p>Is there something obvious that I am missing?</p>\n"}, {"tags": ["python", "valueerror"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505342201, "post_id": 46207762, "comment_id": 79378999, "body": "This error could happen if the block with the for loop is not inside the <code>with open(...)</code> block.  How is it in your code ?"}, {"owner": {"reputation": 101, "user_id": 8605923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9df0405b972b0efe8df4beeb5a28e77?s=128&d=identicon&r=PG&f=1", "display_name": "Indeterminate", "link": "https://stackoverflow.com/users/8605923/indeterminate"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505342268, "post_id": 46207762, "comment_id": 79379028, "body": "the for loop is exactly the way I have written here, inside the with open(...) in my code."}, {"owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "edited": false, "score": 0, "creation_date": 1505342675, "post_id": 46207762, "comment_id": 79379152, "body": "The line numbers make me think there&#39;s more to this code. If you run <i>just this example</i>, does it produce the same error?"}, {"owner": {"reputation": 101, "user_id": 8605923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9df0405b972b0efe8df4beeb5a28e77?s=128&d=identicon&r=PG&f=1", "display_name": "Indeterminate", "link": "https://stackoverflow.com/users/8605923/indeterminate"}, "edited": false, "score": 0, "creation_date": 1505342834, "post_id": 46207762, "comment_id": 79379183, "body": "the rest of the code is irrelevant to this part. Even if I make a new file and run it, it shows the same problem."}, {"owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "edited": false, "score": 0, "creation_date": 1505343206, "post_id": 46207762, "comment_id": 79379304, "body": "error indicate the file was closed while it was read, but your code doesn&#39;t have this problem"}, {"owner": {"reputation": 101, "user_id": 8605923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9df0405b972b0efe8df4beeb5a28e77?s=128&d=identicon&r=PG&f=1", "display_name": "Indeterminate", "link": "https://stackoverflow.com/users/8605923/indeterminate"}, "edited": false, "score": 0, "creation_date": 1505348855, "post_id": 46207762, "comment_id": 79380720, "body": "Yes, i don&#39;t understand why"}], "owner": {"reputation": 101, "user_id": 8605923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9df0405b972b0efe8df4beeb5a28e77?s=128&d=identicon&r=PG&f=1", "display_name": "Indeterminate", "link": "https://stackoverflow.com/users/8605923/indeterminate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1505342602, "creation_date": 1505341879, "last_edit_date": 1505342602, "question_id": 46207762, "link": "https://stackoverflow.com/questions/46207762/python-valueerror-i-o-operation-on-closed-file-on-csv-file", "title": "Python: ValueError: I/O operation on closed file on csv file", "body": "<p>When I run the following code:</p>\n\n<pre><code>def read_s_par_csv(file_name):\n\n    with open(file_name,'r') as csvDataFile:\n        csvReader = csv.reader(csvDataFile)\n\n        vg = []\n        vd = []\n\n        for row in csvReader:\n            vg.append(row[0])\n            vd.append(row[1])\n\n    return vg,vd\n\n\nif __name__ == '__main__':\n    vg,vd = read_s_par_csv('./s_par_test.csv')\n    print(vg)\n</code></pre>\n\n<p>I get the following error</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):<br>\n  File \"..\", line 201, in  vg,vd = read_s_par_csv('./s_par_test.csv')<br>\n  File \"..\", line 189, in read_s_par_csv for row in csvReader: ValueError: I/O operation on closed file</p>\n</blockquote>\n"}, {"tags": ["python", "regex", "string", "verilog"], "comments": [{"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1505343186, "post_id": 46207665, "comment_id": 79379294, "body": "Based on the accepted answer i think i missed something in your question, did you just want a regex pattern that matched individual verilog identifiers or did you want some sort of solution to parse a path into individual identifiers?"}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1505344420, "post_id": 46207665, "comment_id": 79379641, "body": "Okay I see that you are now working to improve upon that answer, generally a strategy on SO is to not accept an answer unless you feel it fully answers your question, and even then to hold off for up to 24 hours. Once a question has an accepted answer most users, such as myself, are discouraged from answering the question. Its possible that the fastest answer could be pretty good, but an answer that had more time put into it ends up being better. <a href=\"https://meta.stackexchange.com/questions/9731/fastest-gun-in-the-west-problem\" title=\"fastest gun in the west problem\">meta.stackexchange.com/questions/9731/&hellip;</a>"}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "reply_to_user": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1505344699, "post_id": 46207665, "comment_id": 79379697, "body": "I see, and I agree. So is it better to switch off the tick or keep everything as it is now?"}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "edited": false, "score": 0, "creation_date": 1505349807, "post_id": 46207665, "comment_id": 79380944, "body": "Yes, if nobody comes along with a better answer and you are satisfied with a particular answer accept it. Unfortunately in my case, I&#39;m now busy, maybe I&#39;ll answer later :P"}], "answers": [{"comments": [{"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505342741, "post_id": 46207866, "comment_id": 79379165, "body": "It seems to be a good answer: assuming the path is a valid Verilog path it seems to work (I tested it a bit). Now I&#39;m trying to understand the possible checks that need to be done to validate the path before parsing, but this is another question, maybe. Anyway, thumbs up!"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505343245, "post_id": 46207866, "comment_id": 79379315, "body": "That is a bit more complicated. I think this one works, but when a regex gets this long, it&#39;s harder to be sure. <a href=\"https://regex101.com/r/IxLakb/4\" rel=\"nofollow noreferrer\">regex101.com/r/IxLakb/4</a>"}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505343440, "post_id": 46207866, "comment_id": 79379368, "body": "I think we can complete the answer by adding the full Python code and improve tests. First <code>import re</code> then execute <code>re.compile(r&quot;([a-z_][a-z0-9$_]*|\\\\\\S* )&quot;).split(s)[1:-1]</code> in which the [1:-1] removes empty strings at the beginning and at the end of the list. The list is now composed of identifiers and dot separators."}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505343482, "post_id": 46207866, "comment_id": 79379378, "body": "Any quick way to remove dots keeping the single-string command? :)"}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505431598, "post_id": 46207866, "comment_id": 79423046, "body": "As suggested by Will Barnwell I&#39;m editing this answer to include Python code and complete this."}], "tags": [], "owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "is_accepted": true, "score": 1, "last_activity_date": 1505342432, "creation_date": 1505342432, "answer_id": 46207866, "question_id": 46207665, "link": "https://stackoverflow.com/questions/46207665/regex-pattern-to-split-verilog-path-in-different-instances-using-python/46207866#46207866", "title": "Regex pattern to split verilog path in different instances using Python", "body": "<p><code>([a-z_][a-z0-9$_]*|\\\\\\S* )</code> should match both regular and escaped identifiers.</p>\n\n<p><a href=\"https://regex101.com/r/IxLakb/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/IxLakb/2</a></p>\n"}, {"comments": [{"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505376506, "post_id": 46209461, "comment_id": 79390207, "body": "I think a performance test would be useful to understand which of the approaches, yours or the regex approach, is faster."}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "reply_to_user": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 1, "creation_date": 1505407730, "post_id": 46209461, "comment_id": 79412118, "body": "honestly i think the approach using a regex as the split token and then cleaning <code>&#39;.&#39;</code> elements from the list is the more elegant solution, I just felt that this is another approach that could be considered"}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505430042, "post_id": 46209461, "comment_id": 79422629, "body": "I just created this Gist <a href=\"https://gist.github.com/auserdude/e528d06ee6dd12600e01bde17f23e2c7\" rel=\"nofollow noreferrer\">gist.github.com/auserdude/e528d06ee6dd12600e01bde17f23e2c7</a> with a small test for the single regex approach. It can be used to do a qualitative performance comparison between Python and C++ in doing this operation. Notice that, as in Python, compilation of the regex takes a lot of time so better do it just once when the program begins."}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "reply_to_user": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505430970, "post_id": 46209461, "comment_id": 79422868, "body": "I&#39;m not going to run comparative tests, I believe the single regex solution is algorithmically better, but my stackoverflow answer is better."}, {"owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 0, "creation_date": 1505431108, "post_id": 46209461, "comment_id": 79422907, "body": "Formally yes, I prefer this answer, but I think I&#39;m going to use the compact regex for performance reasons."}, {"owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "reply_to_user": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "edited": false, "score": 1, "creation_date": 1505431168, "post_id": 46209461, "comment_id": 79422926, "body": "You should create your own self-answer or edit Haken&#39;s answer and expand it and then accept"}], "tags": [], "owner": {"reputation": 3719, "user_id": 5216668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUnxO.jpg?s=128&g=1", "display_name": "Will Barnwell", "link": "https://stackoverflow.com/users/5216668/will-barnwell"}, "is_accepted": false, "score": 1, "last_activity_date": 1505355383, "creation_date": 1505355383, "answer_id": 46209461, "question_id": 46207665, "link": "https://stackoverflow.com/questions/46207665/regex-pattern-to-split-verilog-path-in-different-instances-using-python/46209461#46209461", "title": "Regex pattern to split verilog path in different instances using Python", "body": "<p>One way to go about this is to use a regex to replace dots inside escaped strings with some special marker, such as <code>||</code>, and then split on dots as before. Afterwords if you want to dots back you can replace your special marker with dots in each identifier.</p>\n\n<p>Something like:\n</p>\n\n<pre><code>import re\n\npath=\"we_are_1.a_law_ab1ding_2.\\path.yep.mhmmm_3 .nothing_to_s33_here_4\"\ndot_mask=re.compile(r'(\\\\[A-Za-z_|]+)\\.(?=[^\\s]*\\s)')\nmasked_path=path\nwhile( re.search(dot_mask,masked_path) != None):\n  masked_path=re.sub(dot_mask,r'\\g&lt;1&gt;||',masked_path)\n\nmasked_identifiers=masked_path.split('.')\n\nunmask=re.compile(r'\\|{2}')\nunmasked_identifiers = []\nfor i in range(0,len(masked_identifiers)):\n  unmasked_identifiers.append(re.sub(unmask,'.',masked_identifiers[i]))\n</code></pre>\n\n<p>Demo: <a href=\"https://repl.it/LEWa/1\" rel=\"nofollow noreferrer\">https://repl.it/LEWa/1</a></p>\n"}], "owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 46207866, "answer_count": 2, "score": 2, "last_activity_date": 1505355383, "creation_date": 1505341244, "question_id": 46207665, "link": "https://stackoverflow.com/questions/46207665/regex-pattern-to-split-verilog-path-in-different-instances-using-python", "title": "Regex pattern to split verilog path in different instances using Python", "body": "<p>I have a software that parses Verilog paths and is in charge of mapping such paths to a sequence of objects. The problem is to find a regular expression to split Verilog paths in sequences of instance names.</p>\n\n<p>Verilog paths are sequences of Verilog identifiers concatenated with dots. Each identifier is an instance name. The \".\" relationship in A.B.C means that, in the module hierarchy, A is the parent and B is one of the children of A. C is one of the children of B.</p>\n\n<p>Each Verilog path identifies a unique instance in the module hierarchy.</p>\n\n<p>Pseudocode:</p>\n\n<pre><code>Verilog Identifier A\nVerilog Identifier B\nVerilog Identifier C\n</code></pre>\n\n<p>Path to instance C of parent B that is child of A: </p>\n\n<pre><code>    A.B.C\n</code></pre>\n\n<p>Now, the issue is that Verilog identifiers can be any sequence of \"<em>letters, digits, underscores (_) and dollar signs ($). The first character of an identifier can only be a letter or an underscore</em>\" as stated in this page: <a href=\"http://verilog.renerta.com/source/vrg00018.htm\" rel=\"nofollow noreferrer\">http://verilog.renerta.com/source/vrg00018.htm</a></p>\n\n<p>With this situation Python would be able to split the path by just writing:</p>\n\n<pre><code>&gt;&gt;&gt; path = \"a.verilog.path\"\n&gt;&gt;&gt; print path.split(\".\")\n['a', 'verilog', 'path']\n</code></pre>\n\n<p>Unfortunately identifiers can be <strong>escaped identifiers</strong>. </p>\n\n<p>Escaped identifiers start with a backslash and end with a space. Within backslash and space you can have any character (except for space), even dots!</p>\n\n<pre><code>\\an_escaped_identifier_that_ends_with_space\n\\another-identifier,withsome.dots)insideit_ending_withspace \n</code></pre>\n\n<p>So things get more complicated and you cannot rely on split anymore.\nHere's an example:</p>\n\n<pre><code>Verilog Identifier identifier1\nVerilog Identifier \\escaped.identifier_2 \nVerilog Identifier identifier3\n</code></pre>\n\n<p>Path to instance identifier3 of parent \\escaped.identifier_2 that is child of identifier1: </p>\n\n<pre><code>    identifier1.\\escaped.identifier_2 .identifier3\n</code></pre>\n\n<p>So, how can we use Python's <code>re</code> module to address all possible Verilog paths composed of an <strong>arbitrary</strong> number of identifiers and/or escaped identifiers?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1505341548, "post_id": 46207660, "comment_id": 79378792, "body": "you never change <code>l</code> and it starts at <code>len(l) == 1</code> which means it prints twice and exists: your <code>else</code> is never triggered."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1505341693, "post_id": 46207660, "comment_id": 79378832, "body": "How does an input of <code>[0]</code> lead to the output you described? Please <a href=\"https://stackoverflow.com/posts/46207660/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1505342161, "post_id": 46207660, "comment_id": 79378987, "body": "@Keiwan Any valid input (a list) may be supplied to that function and it will output the above, or the supplied list twice with a 0 then a 1 tacked on. I suspect this is not what he intends."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1505342256, "post_id": 46207660, "comment_id": 79379022, "body": "I suspect you just need to change <code>&gt;= 1</code> to <code>&gt; 1</code>. Then it will use the <code>else</code> clause the first time it&#39;s called, and the <code>then</code> clause in the recursion."}, {"owner": {"reputation": 143, "user_id": 5031566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7971aef46f85f6c5d6b4884afceb215c?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Voorhaar", "link": "https://stackoverflow.com/users/5031566/rik-voorhaar"}, "edited": false, "score": 0, "creation_date": 1505735693, "post_id": 46207660, "comment_id": 79520048, "body": "Right, I tried to simplify the function to illustrate my problem better. Turns out I simplified it too much. I meant something more along the lines of: <code>def f(l):     for i in range(3):         if len(l)&gt;1:             print(l+[i])         else:             return f(l+[i]) f([])</code> What I wanted is for such a function on the first level to call f([0]), then f([1]) and so on. The problem I now see is that <code>return</code> breaks the for loop.  Should I edit my question? It seems I can&#39;t delete it, but in it&#39;s current form it&#39;s indeed a bad question."}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1505342009, "last_edit_date": 1505342009, "creation_date": 1505341689, "answer_id": 46207732, "question_id": 46207660, "link": "https://stackoverflow.com/questions/46207660/loop-in-recursive-function/46207732#46207732", "title": "Loop in recursive function", "body": "<p>Your code never recurses.</p>\n\n<pre><code>for i in range(2):\n    if len([0])&gt;=1:\n        print([0]+[i])\n    else:\n        return f([0]+[i])\n# de-functified\n</code></pre>\n\n<p>First time through the <code>for</code> loop, <code>len([0]) &gt;= 1</code> is <code>True</code>, so it prints <code>[0] + [0]</code>. Second time through the <code>for</code> loop, <code>len([0]) &gt;= 1</code> is still <code>True</code>, so it prints <code>[0] + [1]</code>. Then the loop ends and control passes outside the function. You never reach your recursive case (<code>len(l) &lt; 1</code>)</p>\n\n<p>Note that your intended result is just:</p>\n\n<pre><code>import itertools\n\nresult = itertools.product(range(2), repeat=2)  # cast to list if necessary\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1505342112, "creation_date": 1505342112, "answer_id": 46207815, "question_id": 46207660, "link": "https://stackoverflow.com/questions/46207660/loop-in-recursive-function/46207815#46207815", "title": "Loop in recursive function", "body": "<p><strong>DEBUGGING</strong></p>\n\n<p>Let's put in a little debugging trace:</p>\n\n<pre><code>def f(l):\n    print (\"ENTER:\", l)\n    for i in range(2):\n        print(\"i=\", i, \"len(l)=\", len(l))\n        if len(l)&gt;=1:\n            print(l+[i])\n        else:\n            return f(l+[i])\n\nprint(f([0]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ENTER: [0]\ni= 0 len(l)= 1\n[0, 0]\ni= 1 len(l)= 1\n[0, 1]\nNone\n</code></pre>\n\n<p><strong>ANALYSIS</strong></p>\n\n<p>You call the function with a one-element list.  Thus, <strong>len(l)</strong> is 1.  You take the \"true\" branch of the <strong>if</strong> both times through the loop.  Note that you never change the list <strong>l</strong>.  Therefore, you never make the recursive call you seem to expect.</p>\n\n<p><strong>REPAIR</strong></p>\n\n<p>I can't fix this for you, as you haven't explained the logic behind your expectation that <strong>l[0]</strong> will change to 1.  You never assign to that element, nor do you reconstruct <strong>l</strong> through whole-object assignment or the argument to the recursive call.</p>\n"}], "owner": {"reputation": 143, "user_id": 5031566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7971aef46f85f6c5d6b4884afceb215c?s=128&d=identicon&r=PG&f=1", "display_name": "Rik Voorhaar", "link": "https://stackoverflow.com/users/5031566/rik-voorhaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1505342112, "creation_date": 1505341230, "last_edit_date": 1505341701, "question_id": 46207660, "link": "https://stackoverflow.com/questions/46207660/loop-in-recursive-function", "title": "Loop in recursive function", "body": "<p>For some algorithm I found it convenient to define a recursive function that looks something like this:</p>\n\n<pre><code>def f(l):\n    for i in range(2):\n        if len(l)&gt;=1:\n            print(l+[i])\n        else:\n            return f(l+[i])\nf([0])\n</code></pre>\n\n<p>But the behavior is different from what I expect. What it does is print</p>\n\n<pre><code>[0, 0]\n[0, 1]\n</code></pre>\n\n<p>But I would expect it to print</p>\n\n<pre><code>[0,0]\n[0,1]\n[1,0]\n[1,1]\n</code></pre>\n\n<p>Somehow the nested function has access to the variable i, and instead of starting a new loop with some different variable, it simply continues on counting with this variable i. I don't understand why Python does this.</p>\n\n<p>My (vague) question is therefore why does Python do this, and is there some obvious modification to my code that would give the output I initially expected?</p>\n"}, {"tags": ["python", "python-3.x", "dataset", "pyfits"], "comments": [{"owner": {"reputation": 1293, "user_id": 5403987, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1506826735a16a1bc77baf61ac357ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Johnson", "link": "https://stackoverflow.com/users/5403987/tom-johnson"}, "edited": false, "score": 0, "creation_date": 1505387060, "post_id": 46207587, "comment_id": 79397250, "body": "If you comment out the samples.append part and run it is it still slow? If so, then that would suggest that your have bottlenecked on just opening and closing the FITS file. You might also try using the astropy FITS readers <a href=\"http://docs.astropy.org/en/stable/io/fits/index.html#module-astropy.io.fits\" rel=\"nofollow noreferrer\">docs.astropy.org/en/stable/io/fits/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 5544591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c44c5f3212d93a1100d17448d4baa8?s=128&d=identicon&r=PG&f=1", "display_name": "chevydog", "link": "https://stackoverflow.com/users/5544591/chevydog"}, "is_accepted": true, "score": 1, "last_activity_date": 1514305169, "last_edit_date": 1514305169, "creation_date": 1505342341, "answer_id": 46207853, "question_id": 46207587, "link": "https://stackoverflow.com/questions/46207587/efficient-way-to-build-a-data-set-from-fits-image/46207853#46207853", "title": "Efficient way to build a data set from fits image", "body": "<p>This isn't really intended to be the main answer, but I felt it was too long for a comment and is relevant.</p>\n\n<p>I believe there are a few things you can do without adjusting your code.</p>\n\n<p>Python is a syntactical language and is implemented in different ways. The traditional implementation is CPython, which is what you download from the website. However, there are other implementations (see <a href=\"https://stackoverflow.com/questions/17130975/python-vs-cpython#17130986\">here</a>). </p>\n\n<p>Long story short, try <a href=\"http://pypy.org/\" rel=\"nofollow noreferrer\">PyPy</a> as it often runs significantly faster with \"memory-hungry python\" such as yours. <a href=\"https://www.reddit.com/r/Python/comments/23kz8o/cpython_vs_pypy_vs_cython/\" rel=\"nofollow noreferrer\">Here</a> is a very nice reddit post about the advantages of each, but basically use PyPy, and optimize your code. Additionally, I have never used Numpy but this <a href=\"https://stackoverflow.com/questions/5883885/using-numpy-with-pypy\">post</a> suggests you might be able to keep Numpy and still use PyPy.</p>\n\n<p>(Normally, I would also suggest you use <a href=\"http://cython.org/\" rel=\"nofollow noreferrer\">Cython</a>, but it does not appear to work nicely with Numpy at all. I don't know if Cython has any support for Numpy, but you can google that yourself.) Good luck!</p>\n"}], "owner": {"reputation": 728, "user_id": 6837288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Bmn9s.jpg?s=128&g=1", "display_name": "Giuseppe Angora", "link": "https://stackoverflow.com/users/6837288/giuseppe-angora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 46207853, "answer_count": 1, "score": 1, "last_activity_date": 1514305169, "creation_date": 1505340796, "question_id": 46207587, "link": "https://stackoverflow.com/questions/46207587/efficient-way-to-build-a-data-set-from-fits-image", "title": "Efficient way to build a data set from fits image", "body": "<p>I have a set of fits images: about 32000 images with resolution (256,256). The dataset that i've to build is matrix like, so the output shape is (32000, 256*256). </p>\n\n<p>The simple solution is a <code>for</code> loop, samething like:</p>\n\n<pre><code>#file_names is a list of paths\nsamples=[]\nfor file_name in file_names:\n    hdu=pyfits.open(file_name)\n    samples.append(hdu[0].data.flatten())\n    hdu.close()\n#then i can use numpy.concatenate to have a numpy ndarray\n</code></pre>\n\n<p>This solution is very, very slow. \nSo what is the best solution to build a so big data set?</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe", "boolean"], "comments": [{"owner": {"reputation": 1818, "user_id": 2171758, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0pO0W.jpg?s=128&g=1", "display_name": "salient", "link": "https://stackoverflow.com/users/2171758/salient"}, "edited": false, "score": 3, "creation_date": 1505340492, "post_id": 46207530, "comment_id": 79378435, "body": "the bool type should be referenced unquoted unless it&#39;s stored as a string"}], "answers": [{"comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1505340667, "post_id": 46207540, "comment_id": 79378498, "body": "Ah! Just when I was about to post the exact answer:)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1505340752, "post_id": 46207540, "comment_id": 79378538, "body": "Man, I think most of questioners were spoiled by us ...:) Nice solution"}, {"owner": {"reputation": 247, "user_id": 8570909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155662033959304/picture?type=large", "display_name": "Maya Harary", "link": "https://stackoverflow.com/users/8570909/maya-harary"}, "edited": false, "score": 0, "creation_date": 1505348181, "post_id": 46207540, "comment_id": 79380564, "body": "Wow so much simpler than I had expected, thank you! I ended up using solution 3 because I actually had 4 boolean variables in my actual dataset  and that one was the neatest - worked like a charm! I didn&#39;t realize that bools worked like that, i.e. that I didn&#39;t to define the content of the bool (1/0, True/False) and that it automatically assumes True. Thanks again!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1505349726, "post_id": 46207540, "comment_id": 79380923, "body": "Wow, you&#39;ve covered all the basics. I had a hard time coming up with answers :p"}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1505384381, "post_id": 46207540, "comment_id": 79395537, "body": "if it has to be exactly 1, you could use sum <code>df[df[&lt;boolean columns&gt;].sum(axis=1) == 1</code>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1505384450, "post_id": 46207540, "comment_id": 79395575, "body": "@MaartenFabr&#233;, yes, we can still do <code>df[df[&lt;boolean columns&gt;].sum(axis=1) &gt; 0]</code>, but <code>df[df[&lt;boolean columns&gt;].any(axis=1)]</code> is more idiomatic IMO..."}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1505384490, "post_id": 46207540, "comment_id": 79395596, "body": "that&#39;s why I would only use it if exactly 1 <code>True</code> value is asked. The OP used <code>either</code>, which may indicate one or the other, but not both"}, {"owner": {"reputation": 6973, "user_id": 1252307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/538fa74aef355cfc62f8d292e215a24d?s=128&d=identicon&r=PG", "display_name": "kev", "link": "https://stackoverflow.com/users/1252307/kev"}, "edited": false, "score": 1, "creation_date": 1564557596, "post_id": 46207540, "comment_id": 101065544, "body": "<code>df[(df.var == True)].count()</code> fires E712 (use is True instead of ==) for me"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6973, "user_id": 1252307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/538fa74aef355cfc62f8d292e215a24d?s=128&d=identicon&r=PG", "display_name": "kev", "link": "https://stackoverflow.com/users/1252307/kev"}, "edited": false, "score": 0, "creation_date": 1564558632, "post_id": 46207540, "comment_id": 101066094, "body": "@kev, thank you for your advise, but <code>(df[&#39;C&#39;] is True)</code> will <b>always</b> return <code>False</code>, independently from the data. I don&#39;t think this will improve my answer ;)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6973, "user_id": 1252307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/538fa74aef355cfc62f8d292e215a24d?s=128&d=identicon&r=PG", "display_name": "kev", "link": "https://stackoverflow.com/users/1252307/kev"}, "edited": false, "score": 1, "creation_date": 1564560926, "post_id": 46207540, "comment_id": 101067255, "body": "@kev, i wouldn&#39;t intentionally break the code (<code>df[&quot;col_name&quot;] is True</code> - produces a <b>wrong result</b>) just to be PEP complaint. I have added an example in the answer. BTW there are three options in my answer and all of them are PEP complaint ;)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 48, "last_activity_date": 1564561067, "last_edit_date": 1564561067, "creation_date": 1505340465, "answer_id": 46207540, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/46207540#46207540", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<pre><code>In [82]: d\nOut[82]:\n             A   B      C      D\n0     John Doe  45   True  False\n1   Jane Smith  32  False  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n\n<p><strong>Solution 1:</strong></p>\n\n<pre><code>In [83]: d.loc[d.C | d.D]\nOut[83]:\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n\n<p><strong>Solution 2:</strong></p>\n\n<pre><code>In [94]: d[d[['C','D']].any(1)]\nOut[94]:\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n\n<p><strong>Solution 3:</strong></p>\n\n<pre><code>In [95]: d.query(\"C or D\")\nOut[95]:\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n\n<p>PS If you change your solution to:</p>\n\n<pre><code>df[(df['C']==True) | (df['D']==True)]\n</code></pre>\n\n<p>it'll work too</p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/indexing.html#boolean-indexing\" rel=\"noreferrer\">Pandas docs - boolean indexing</a></p>\n\n<hr>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/46207540?noredirect=1#comment101065544_46207540\">why we should NOT use \"PEP complaint\" <code>df[\"col_name\"] is True</code> instead of <code>df[\"col_name\"] == True</code>?</a></p>\n</blockquote>\n\n<pre><code>In [11]: df = pd.DataFrame({\"col\":[True, True, True]})\n\nIn [12]: df\nOut[12]:\n    col\n0  True\n1  True\n2  True\n\nIn [13]: df[\"col\"] is True\nOut[13]: False               # &lt;----- oops, that's not exactly what we wanted\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1505349709, "post_id": 46207928, "comment_id": 79380917, "body": "Eval, this was my first option! (had to look for another one after this)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 5, "last_activity_date": 1505342736, "creation_date": 1505342736, "answer_id": 46207928, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/46207928#46207928", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<p>Or </p>\n\n<pre><code>d[d.eval('C or D')]\n\nOut[1065]:\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1505350209, "post_id": 46208800, "comment_id": 79381027, "body": "@Wen Most of these solutions suck, but I had fun finding them.  I think <code>np.where</code> is the best one."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1505365827, "post_id": 46208800, "comment_id": 79384917, "body": "Cool! I&#39;d never think of &quot;np.select&quot; +1 :)"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 11, "last_activity_date": 1551147742, "last_edit_date": 1551147742, "creation_date": 1505349569, "answer_id": 46208800, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/46208800#46208800", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<p>Hooray! More options!</p>\n\n<h3><code>np.where</code></h3>\n\n<pre><code>df[np.where(df.C | df.D, True, False)]\n\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True  \n</code></pre>\n\n<hr>\n\n<h3><code>pd.Series.where</code> on <code>df.index</code></h3>\n\n<pre><code>df.loc[df.index.where(df.C | df.D).dropna()]\n\n               A   B      C      D\n0.0     John Doe  45   True  False\n2.0  Alan Holmes  55  False   True\n3.0   Eric Lamar  29   True   True\n</code></pre>\n\n<hr>\n\n<h3><code>df.select_dtypes</code></h3>\n\n<pre><code>df[df.select_dtypes([bool]).any(1)]   \n\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n\n<hr>\n\n<h3>Abusing <code>np.select</code></h3>\n\n<pre><code>df.iloc[np.select([df.C | df.D], [df.index])].drop_duplicates()\n\n             A   B      C      D\n0     John Doe  45   True  False\n2  Alan Holmes  55  False   True\n3   Eric Lamar  29   True   True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1165, "user_id": 6673446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6e5742a3b8187a8123256cc73f214f1?s=128&d=identicon&r=PG&f=1", "display_name": "Nico Albers", "link": "https://stackoverflow.com/users/6673446/nico-albers"}, "edited": false, "score": 0, "creation_date": 1519506358, "post_id": 48967407, "comment_id": 84940811, "body": "This is similar to answers already given half a year before and doesn&#39;t work. Please try out on the example data the next time."}], "tags": [], "owner": {"reputation": 7, "user_id": 9134508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9108276183ba5c1d7f0876595687cf68?s=128&d=identicon&r=PG", "display_name": "samuelv", "link": "https://stackoverflow.com/users/9134508/samuelv"}, "is_accepted": false, "score": -2, "last_activity_date": 1519504970, "creation_date": 1519504970, "answer_id": 48967407, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/48967407#48967407", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<p>you could try this easily:</p>\n\n<pre><code>df1 = df[(df['C']=='True') | (df['D']=='True')]\n</code></pre>\n\n<p>Note:</p>\n\n<ol>\n<li>The <code>or</code> logical operator needs to be replaced by the bitwise <code>|</code>\noperator.</li>\n<li>Ensure that <code>()</code> are used to enclose each of the operands.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 10404281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1dd0bc49ee9539dae8f63b5232efba?s=128&d=identicon&r=PG&f=1", "display_name": "rra", "link": "https://stackoverflow.com/users/10404281/rra"}, "is_accepted": false, "score": 1, "last_activity_date": 1570554476, "last_edit_date": 1592644375, "creation_date": 1570484144, "answer_id": 58277446, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns/58277446#58277446", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<h1>So, the easiest way to do this:</h1>\n<pre class=\"lang-py prettyprint-override\"><code>students = [ ('jack1', 'Apples1' , 341) ,\n             ('Riti1', 'Mangos1'  , 311) ,\n             ('Aadi1', 'Grapes1' , 301) ,\n             ('Sonia1', 'Apples1', 321) ,\n             ('Lucy1', 'Mangos1'  , 331) ,\n             ('Mike1', 'Apples1' , 351),\n              ('Mik', 'Apples1' , np.nan)\n              ]\n#Create a DataFrame object\ndf = pd.DataFrame(students, columns = ['Name1' , 'Product1', 'Sale1']) \nprint(df)\n\n\n    Name1 Product1  Sale1\n0   jack1  Apples1    341\n1   Riti1  Mangos1    311\n2   Aadi1  Grapes1    301\n3  Sonia1  Apples1    321\n4   Lucy1  Mangos1    331\n5   Mike1  Apples1    351\n6     Mik  Apples1    NaN\n\n# Select rows in above DataFrame for which \u2018Product\u2019 column contains the value \u2018Apples\u2019,\nsubset = df[df['Product1'] == 'Apples1']\nprint(subset)\n\n Name1 Product1  Sale1\n0   jack1  Apples1    341\n3  Sonia1  Apples1    321\n5   Mike1  Apples1    351\n6     Mik  Apples1    NA\n\n# Select rows in above DataFrame for which \u2018Product\u2019 column contains the value \u2018Apples\u2019, AND notnull value in Sale\n\nsubsetx= df[(df['Product1'] == &quot;Apples1&quot;)  &amp; (df['Sale1'].notnull())]\nprint(subsetx)\n    Name1   Product1    Sale1\n0   jack1   Apples1      341\n3   Sonia1  Apples1      321\n5   Mike1   Apples1      351\n\n# Select rows in above DataFrame for which \u2018Product\u2019 column contains the value \u2018Apples\u2019, AND Sale = 351\n\nsubsetx= df[(df['Product1'] == &quot;Apples1&quot;)  &amp; (df['Sale1'] == 351)]\nprint(subsetx)\n\n   Name1 Product1  Sale1\n5  Mike1  Apples1    351\n\n# Another example\nsubsetData = df[df['Product1'].isin(['Mangos1', 'Grapes1']) ]\nprint(subsetData)\n\nName1 Product1  Sale1\n1  Riti1  Mangos1    311\n2  Aadi1  Grapes1    301\n4  Lucy1  Mangos1    331\n\n</code></pre>\n<p>Here is the source of this code: <a href=\"https://thispointer.com/python-pandas-select-rows-in-dataframe-by-conditions-on-multiple-columns/\" rel=\"nofollow noreferrer\">https://thispointer.com/python-pandas-select-rows-in-dataframe-by-conditions-on-multiple-columns/</a><br />\nI added minor changes to it.</p>\n"}], "owner": {"reputation": 247, "user_id": 8570909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155662033959304/picture?type=large", "display_name": "Maya Harary", "link": "https://stackoverflow.com/users/8570909/maya-harary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58572, "favorite_count": 9, "accepted_answer_id": 46207540, "answer_count": 5, "score": 23, "last_activity_date": 1570554476, "creation_date": 1505340400, "last_edit_date": 1515625099, "question_id": 46207530, "link": "https://stackoverflow.com/questions/46207530/filtering-pandas-dataframe-with-multiple-boolean-columns", "title": "Filtering pandas dataframe with multiple Boolean columns", "body": "<p>I am trying to filter a df using several Boolean variables that are a part of the df, but have been unable to do so. </p>\n\n<p>Sample data:</p>\n\n<pre><code>A | B | C | D\nJohn Doe | 45 | True | False\nJane Smith | 32 | False | False\nAlan Holmes | 55 | False | True\nEric Lamar | 29 | True | True\n</code></pre>\n\n<p>The dtype for columns C and D is Boolean. I want to create a new df (df1)  with only the rows where either C or D is True. It should look like this:</p>\n\n<pre><code>A | B | C | D\nJohn Doe | 45 | True | False\nAlan Holmes | 55 | False | True\nEric Lamar | 29 | True | True\n</code></pre>\n\n<p>I've tried something like this, which faces issues because it cant handle the  Boolean type: </p>\n\n<pre><code>df1 = df[(df['C']=='True') or (df['D']=='True')]\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "django", "django-forms"], "comments": [{"owner": {"reputation": 331, "user_id": 5632206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/522a008e2b313db3d5af2e61e05b394e?s=128&d=identicon&r=PG&f=1", "display_name": "SteveV", "link": "https://stackoverflow.com/users/5632206/stevev"}, "edited": false, "score": 0, "creation_date": 1505341615, "post_id": 46207487, "comment_id": 79378815, "body": "This is not a duplicate. The provided links don&#39;t address my issue. I&#39;ve tried like the examples given, but even if I try {% if field.name in ( &#39;country&#39;, &#39;state&#39;) %} I get an error &quot;Expression expected after in&quot;"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1505342389, "post_id": 46207487, "comment_id": 79379060, "body": "Use one of the fully expanded versions shown in the linked answers - they demonstrate the problem with your attempt and several ways to fix it, one of which (creating a tuple and testing with <code>in</code>) is not supported in templates. If you were trying to match any of several field names, that would be something like <code>{% if field.name == &#39;country&#39; or field.name == &#39;state&#39; %}</code>. Since you&#39;re trying to exclude those, either reorder your if/else or invert using the identity <code>~(A and B) == ~A or ~B</code>: {% if field.name != &#39;country&#39; and field.name !=&#39;state&#39; %}`."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1505342520, "post_id": 46207487, "comment_id": 79379105, "body": "To be clear, it&#39;s creating the tuple that&#39;s not supported in templates - if you pass one in <code>{% if field.name in some_names_tuple %}</code> should work fine."}, {"owner": {"reputation": 331, "user_id": 5632206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/522a008e2b313db3d5af2e61e05b394e?s=128&d=identicon&r=PG&f=1", "display_name": "SteveV", "link": "https://stackoverflow.com/users/5632206/stevev"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1505343304, "post_id": 46207487, "comment_id": 79379337, "body": "Thanks @PeterDeGlopper, BOTH solutions you suggested worked. Ended up using the tuple method as it was cleaner."}], "owner": {"reputation": 331, "user_id": 5632206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/522a008e2b313db3d5af2e61e05b394e?s=128&d=identicon&r=PG&f=1", "display_name": "SteveV", "link": "https://stackoverflow.com/users/5632206/stevev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "closed_date": 1505340810, "answer_count": 0, "score": 0, "last_activity_date": 1537268154, "creation_date": 1505340132, "last_edit_date": 1537268154, "question_id": 46207487, "link": "https://stackoverflow.com/questions/46207487/searching-multiple-fields-in-django-for-loop", "closed_reason": "Duplicate", "title": "Searching multiple fields in Django for loop", "body": "<p>I have a couple form fields I need to format differently and am trying to use a <code>IF</code> statement to find the fields when rendered, but doesn't seem to be working as the documentation suggests. </p>\n\n<p>I want to format <code>country</code> and <code>state</code> differently, but the code doesn't like what I'm trying. </p>\n\n<pre><code>            {% for field in customerfields %}\n\n                {% if field.name != 'country' or 'state' %}\n                    {{ field.label.upper }}\n                    &lt;div class=\"FormRow\"&gt;\n                        {{ field }}\n                    &lt;/div&gt;\n                {% else %}\n                    &lt;div class=\"FormRow\"&gt;\n                        &lt;div class=\"StyledSelect\"&gt;\n                            {{ field }}\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                {% endif%}\n\n            {% endfor %}\n</code></pre>\n\n<p>How do I search for more than one field? Is there a better way to do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1505340327, "post_id": 46207394, "comment_id": 79378368, "body": "In case it&#39;s helpful, here&#39;s a sample of some production code I wrote that parses a month/day from data retrieved from a text box. This application never cares about year, so I set it to the dummy value of <code>2000</code> just so it&#39;ll parse. <a href=\"https://gist.github.com/anonymous/98efe5bb46c4a790c3b8d51e2a594132\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/98efe5bb46c4a790c3b8d51e2a594132</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8599353"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1505340681, "post_id": 46207394, "comment_id": 79378505, "body": "@AdamSmith I appreciate it!"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1505340813, "post_id": 46207394, "comment_id": 79378551, "body": "@hamsterbyte No problem. N.B. that the function is designed to let a failing date bubble up to the next layer of code. i.e. the calling code should handle a failed date (since <code>make_date</code> controls neither the source of the date string nor does it have responsibility to talk to the UI)"}], "answers": [{"tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": false, "score": 0, "last_activity_date": 1505340100, "creation_date": 1505340100, "answer_id": 46207483, "question_id": 46207394, "link": "https://stackoverflow.com/questions/46207394/how-to-set-conditions-for-valid-dates/46207483#46207483", "title": "How to set conditions for valid dates?", "body": "<p>If you also want to validate the format of the date (i.e. ensure it is all a single format such as 01/02/99) then you can use </p>\n\n<pre><code>from datetime import datetime\ndatetime_object = datetime.strptime(your_date_string_here, '%d/%m/%Y')\n</code></pre>\n\n<p>This will return a datetime object if the date is valid, otherwise it will fail.</p>\n\n<pre><code>&gt;&gt;&gt; datetime_object = datetime.strptime('29/02/2017', '%d/%m/%Y')\nValueError: day is out of range for month\n</code></pre>\n\n<p>It will also fail for different formats, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; datetime_object = datetime.strptime('29-02-2017', '%d/%m/%Y')\nTraceback (most recent call last):\nValueError: time data '29-02-2017' does not match format '%d/%m/%Y'\n</code></pre>\n\n<p>If you want to be able to handle multiple formats, take a look at the <code>dateutil</code> package, which can parse most date formats.</p>\n\n<pre><code>from dateutil import parser\ndt = parser.parse(your_date_string_here)\n</code></pre>\n\n<p>This will throw errors for invalid dates, but handles different formats e.g.</p>\n\n<pre><code>&gt;&gt;&gt; dt = parser.parse('29-02-2017')\nTraceback (most recent call last):\nValueError: day is out of range for month\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8599353"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "closed_date": 1505341057, "answer_count": 1, "score": 2, "last_activity_date": 1505340795, "creation_date": 1505339658, "last_edit_date": 1505340795, "question_id": 46207394, "link": "https://stackoverflow.com/questions/46207394/how-to-set-conditions-for-valid-dates", "closed_reason": "Duplicate", "title": "How to set conditions for valid dates?", "body": "<p>I'm reformatting date inputs and part of that is using the try/except function to kick out invalid inputs. Part of this requires me to set conditions for what is/is not a valid date. For example, 2017 did not have a leap year, so input '29-02-2017' would be invalid. Another example is '31/09/2010', since September does not have a 31st. Furthermore, '131/09/2020' is also invalid because of the digits in the day. You catch my drift. </p>\n\n<p>A colleague mentioned they created an elaborate list with conditions for each month of the year, but I'm wondering if there is a way to simplify this process.</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1505348569, "post_id": 46207393, "comment_id": 79380659, "body": "Selenium not allow to click/sendkey on a not visible element on page, you can try driver.execute_script(&quot;arguments[0].value=arguments[1]&quot;, &lt;the password element&gt;, &lt;the password string&gt;)  driver.execute_script() will inject the javascript in first parameter into browser and execute it on browser."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1505354336, "post_id": 46207393, "comment_id": 79381891, "body": "How is a user supposed to enter their password if it is hidden? I think you are looking at the wrong password field. Share a link to the page or the relevant HTML."}, {"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1505365402, "post_id": 46207393, "comment_id": 79384773, "body": "agree with Jeffc, confirm you not use wrong element firslty, Our automation should more close to user experience when simulator user operation, we not encourage to use  execute_script() in such situation. It should be your last option."}, {"owner": {"reputation": 1831, "user_id": 1949771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83c9dbd0255e3eb8f3a5cb9051f0ca90?s=128&d=identicon&r=PG", "display_name": "Nanor", "link": "https://stackoverflow.com/users/1949771/nanor"}, "reply_to_user": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1505377167, "post_id": 46207393, "comment_id": 79390610, "body": "@JeffC added the page in question."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5032000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3e84e0a99994f9b9446698faf7891e?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bakhru", "link": "https://stackoverflow.com/users/5032000/amit-bakhru"}, "is_accepted": false, "score": -1, "last_activity_date": 1505340140, "creation_date": 1505340140, "answer_id": 46207489, "question_id": 46207393, "link": "https://stackoverflow.com/questions/46207393/selenium-send-keys-sending-too-fast/46207489#46207489", "title": "Selenium send keys sending too fast", "body": "<p>try this:</p>\n\n<pre><code>login.send_keys(Keys.ARROW_RIGHT)\nlogin.send_keys(&lt;password&gt;)\nsubmit.click()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 4, "creation_date": 1505348805, "post_id": 46207520, "comment_id": 79380708, "body": "any kind of sleep is bad practice with selenium."}], "tags": [], "owner": {"reputation": 1604, "user_id": 7700434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKtbx.png?s=128&g=1", "display_name": "axwr", "link": "https://stackoverflow.com/users/7700434/axwr"}, "is_accepted": false, "score": -1, "last_activity_date": 1505340343, "creation_date": 1505340343, "answer_id": 46207520, "question_id": 46207393, "link": "https://stackoverflow.com/questions/46207393/selenium-send-keys-sending-too-fast/46207520#46207520", "title": "Selenium send keys sending too fast", "body": "<p>I like to do a few things on pages that are a bit flakey with the timing. First make sure i wait for the page to load, then send the keys, then sleep, then click.</p>\n\n<pre><code>driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\nx.send_keys(something)\nThread.sleep(500)\nsubmit.click\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "is_accepted": false, "score": 0, "last_activity_date": 1505348608, "creation_date": 1505348608, "answer_id": 46208668, "question_id": 46207393, "link": "https://stackoverflow.com/questions/46207393/selenium-send-keys-sending-too-fast/46208668#46208668", "title": "Selenium send keys sending too fast", "body": "<p>You need to wait for the element to be visible:</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndef wait_for_element_visible_by_css_selector(self, css, timeout=20):\n    '''\n    Wait for an element to be visible.\n    This is used for example for a drop-down selector to wait for the list to show up\n    :param css: the CSS pattern of the element to watch\n    :param timeout: time to wait for it.\n    '''\n    WebDriverWait(self.driver, timeout).until(\n      EC.visibility_of(self.driver.find_element_by_css_selector(css))\n    )\n</code></pre>\n\n<p>I use this function as a helper as part of the testCase. So you'll need to adjust to provide the proper <code>self</code> from yours.</p>\n\n<p>Then just pass it the css selector of your item.</p>\n\n<pre><code>wait_for_element_visible_by_css_selector('input')\n</code></pre>\n\n<p>you can obviously adapt this to using xpath if you prefer.</p>\n\n<p>You can also use other types of waits:</p>\n\n<pre><code>EC.presence_of_element_located((By.CSS_SELECTOR, css))\nEC.element_to_be_clickable((By.CSS_SELECTOR, css))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 0, "last_activity_date": 1505393818, "creation_date": 1505393818, "answer_id": 46219833, "question_id": 46207393, "link": "https://stackoverflow.com/questions/46207393/selenium-send-keys-sending-too-fast/46219833#46219833", "title": "Selenium send keys sending too fast", "body": "<p>I think much of the issue is how you are trying to sendkeys to the password field using TAB. There's no need to rely on tabbing to the right element, just grab the one you want. Also, using XPath with more than probably 4-5 levels deep to find the element (especially one that starts at the HTML tag) is not a good practice. It will be very prone to changes in the page and will break. I would do something like the below.</p>\n\n<pre><code>driver.find_element_by_css_selector(\"div.hm-Login_UserNameWrapper &gt; input.hm-Login_InputField\").send_keys(username)\ndriver.find_element_by_css_selector(\"div.hm-Login_PasswordWrapper &gt; input.hm-Login_InputField\")).send_keys(username)\n</code></pre>\n\n<p>There is an input field marked as type=password</p>\n\n<pre><code>&lt;input type=\"password\" class=\"hm-Login_InputField Hidden \"&gt;\n</code></pre>\n\n<p>but it is hidden so is not the one that a user would type into. The selectors I specified above were tested and worked.</p>\n"}], "owner": {"reputation": 1831, "user_id": 1949771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83c9dbd0255e3eb8f3a5cb9051f0ca90?s=128&d=identicon&r=PG", "display_name": "Nanor", "link": "https://stackoverflow.com/users/1949771/nanor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5874, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1505393818, "creation_date": 1505339654, "last_edit_date": 1505377148, "question_id": 46207393, "link": "https://stackoverflow.com/questions/46207393/selenium-send-keys-sending-too-fast", "title": "Selenium send keys sending too fast", "body": "<p>I'm testing a login on a site that has a standard username entry and a hidden password input. I select the username and send the string. I'm unable to select the password box because <code>selenium.common.exceptions.ElementNotVisibleException: Message: element not visible</code> so instead I do this:</p>\n\n<pre><code>login = driver.find_element_by_xpath('/html/body/div/div/div/div/div/div/div/div/input[1]')\nlogin.send_keys(foo)\nlogin.send_keys(Keys.TAB + bar + Keys.ENTER)\n</code></pre>\n\n<p>This never works, the password is 10 characters long and it never manages to get all 10 in the password box.</p>\n\n<p>I had thought I could <code>sleep(1)</code> between sending the keys, but due to the nature of the hidden field that isn't possible.</p>\n\n<p>How can I get past this issue, either by selecting the password field directly, or allowing the string to be sent in full?</p>\n\n<p><em>EDIT</em></p>\n\n<p>The website is the sports betting section of <a href=\"http://www.bet365.com\" rel=\"nofollow noreferrer\">this</a> site. For those of you unable to view because of jurisdiction reasons, I'll provide a HTML sample of it when I'm back home.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 4, "creation_date": 1505339856, "post_id": 46207381, "comment_id": 79378236, "body": "Please provide a simple sample dataframe of mock data and the desired output."}, {"owner": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 0, "creation_date": 1505355986, "post_id": 46207381, "comment_id": 79382309, "body": "On SO, you are expected to try to <b>write the code yourself</b>. After <b><a href=\"//meta.stackoverflow.com/questions/261592\">doing more research</a></b> if you have a problem you can <b>post what you&#39;ve tried</b> with a <b>clear explanation of what isn&#39;t working</b> and providing a <b><a href=\"//stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a></b>."}], "answers": [{"tags": [], "owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "is_accepted": true, "score": 0, "last_activity_date": 1505342312, "last_edit_date": 1505342312, "creation_date": 1505341961, "answer_id": 46207778, "question_id": 46207381, "link": "https://stackoverflow.com/questions/46207381/activity-log-into-pandas-series/46207778#46207778", "title": "Activity log into Pandas Series", "body": "<p>Fake data</p>\n\n<pre><code>n = 100\nnp.random.seed(1)\nuserid = np.random.randint(0, 10, n)\ndatetime = np.random.randint(0, 10, n) + pd.Timestamp('2016-1-1', freq='D')\nactivity = np.random.randint(0,1000, n)\ndf = pd.DataFrame({'USERID':userid, 'Datetime':datetime, 'activity':activity})\ndf.head(10)\n\n    Datetime  USERID  activity\n0 2016-01-10       5       788\n1 2016-01-01       8        44\n2 2016-01-03       9       271\n3 2016-01-01       5       670\n4 2016-01-08       0       475\n5 2016-01-02       0       910\n6 2016-01-08       1       499\n7 2016-01-10       7       787\n8 2016-01-09       6       251\n9 2016-01-05       9       666\n</code></pre>\n\n<p>Solution</p>\n\n<pre><code>df.groupby(['Datetime', 'USERID'])['activity'].sum().unstack(fill_value=0)\n\nUSERID         0    1     2     3     4     5     6     7     8     9\nDatetime                                                             \n2016-01-01     0  166  1091  1878   583   670     0  1524   577   881\n2016-01-02   910    0     0   810  2146   706   182   138  1157     0\n2016-01-03     0    0     0     0   433     0  1955  1914   566   561\n2016-01-04    51  407   598     0     0     0   440   783     0     0\n2016-01-05     0  324   662     0     0     0     0   990    79  2849\n2016-01-06     0  959     0   230   878     0     0   656   879   300\n2016-01-07  1390  100     0   575     0     0     0   806    87  1243\n2016-01-08   975  499   503     0   657     0   403   755     0  1271\n2016-01-09   342    0   739   617     0  1297   251  1207   324   458\n2016-01-10   963  832     0     0   975  1179     0   787   717   145\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 1263779, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P7uOS.jpg?s=128&g=1", "display_name": "DED", "link": "https://stackoverflow.com/users/1263779/ded"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1505358576, "accepted_answer_id": 46207778, "answer_count": 1, "score": -1, "last_activity_date": 1505342312, "creation_date": 1505339594, "question_id": 46207381, "link": "https://stackoverflow.com/questions/46207381/activity-log-into-pandas-series", "closed_reason": "Needs details or clarity", "title": "Activity log into Pandas Series", "body": "<p>I have as input a csv with (USERID, Datetime)\nIn order to analyze the activity of my users I would like to generate a Pandas Series with the index being a date, and columns being my users (multiple series).\nThe values would be the sum of the activities of each user aggregated over that date (for instance: Day).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "imputation", "fancyimpute"], "comments": [{"owner": {"reputation": 3294, "user_id": 2190251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9318640992144436a6b04d07eb947933?s=128&d=identicon&r=PG", "display_name": "FelixEnescu", "link": "https://stackoverflow.com/users/2190251/felixenescu"}, "edited": false, "score": 0, "creation_date": 1505339721, "post_id": 46207354, "comment_id": 79378192, "body": "You have two questions here. Please edit to ask only one question"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7486669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de72094b2489883d0d6f8559f73ac5f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sarthak", "link": "https://stackoverflow.com/users/7486669/sarthak"}, "is_accepted": false, "score": 2, "last_activity_date": 1507841165, "creation_date": 1507841165, "answer_id": 46718604, "question_id": 46207354, "link": "https://stackoverflow.com/questions/46207354/typeerror-when-using-mice-algorithm-from-fancy-impute-in-python/46718604#46718604", "title": "TypeError when using MICE algorithm from Fancy Impute in Python", "body": "<p>The error is encountered because MICE is used to impute numeric data only, if the dataset contains categorical data but you wish to impute numeric data you should use just the numeric columns of the dataframe. If categorical data is missing then a different algorithm would have to be used.</p>\n"}], "owner": {"reputation": 35, "user_id": 8605786, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Dz2sW9Q6158/AAAAAAAAAAI/AAAAAAAAAVs/5i3qsWoXb68/photo.jpg?sz=128", "display_name": "Lara Haase", "link": "https://stackoverflow.com/users/8605786/lara-haase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507841165, "creation_date": 1505339450, "question_id": 46207354, "link": "https://stackoverflow.com/questions/46207354/typeerror-when-using-mice-algorithm-from-fancy-impute-in-python", "title": "TypeError when using MICE algorithm from Fancy Impute in Python", "body": "<p>I'm trying to fill missing data in my dataset and my mentor recommended I used the Fancy Impute package in Python, and specifically the MICE algorithm. \nFirst of all, as I read about MICE, it's very clear that it's a poor option if my missing data is NOT random (which I doubt since it seems like missing data is more likely to be in specific countries/years). So does anyone recommend a different algorithm? (My project is based on the World Bank Gender Statistics data).</p>\n\n<p>The technical problem:\nI ran this code on my dataframe:</p>\n\n<pre><code>filled = MICE().complete(dfvars)\n</code></pre>\n\n<p>But I got this error, and my mentor has no idea what it's about, and I haven't found any other forums discussing MICE in python at all:</p>\n\n<pre><code>TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 0, "creation_date": 1505339376, "post_id": 46207327, "comment_id": 79378080, "body": "are you on Linux?"}, {"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "reply_to_user": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 0, "creation_date": 1505339398, "post_id": 46207327, "comment_id": 79378083, "body": "@RomanPerekhrest Yes"}, {"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 2, "creation_date": 1505339421, "post_id": 46207327, "comment_id": 79378093, "body": "how about short command-line one-liner?"}, {"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "reply_to_user": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 0, "creation_date": 1505339451, "post_id": 46207327, "comment_id": 79378110, "body": "I could try  one liner, but I would also like to use this code."}, {"owner": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 0, "creation_date": 1505339485, "post_id": 46207327, "comment_id": 79378118, "body": "You need to <code>split()</code> your rows if you want to extract the two components. <code>name, seq = strLine.split()</code>."}, {"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "reply_to_user": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 0, "creation_date": 1505339631, "post_id": 46207327, "comment_id": 79378168, "body": "@JulienD Could you please add this as your answer?"}, {"owner": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 0, "creation_date": 1505340395, "post_id": 46207327, "comment_id": 79378395, "body": "I wrote you the code in my comment, all you have to do is try it. But I prefer the awk answer in this situation."}], "answers": [{"tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": true, "score": 1, "last_activity_date": 1505339617, "creation_date": 1505339617, "answer_id": 46207385, "question_id": 46207327, "link": "https://stackoverflow.com/questions/46207327/how-to-convert-text-file-with-two-columns-to-fasta-format/46207385#46207385", "title": "How to convert text file with two columns to fasta format", "body": "<p>As you are on Linux OS, here is short and fast <strong><em>awk</em></strong> one-liner:</p>\n\n<pre><code>awk '{ printf \"&gt;%s\\n%s\\n\",$1,$2 }' testfile.txt &gt; outputfile.txt\n</code></pre>\n\n<hr>\n\n<p>The <code>outputfile.txt</code> contents:</p>\n\n<pre><code>&gt;Sclsc1_3349_SS1G_09805T0\nTTGCGATCTATGCCGACGTTCCA\n&gt;Sclsc1_8695_SS1G_14118T0\nATGGTTTCGGC\n&gt;Sclsc1_12154_SS1G_05183T0\nATGGTTTCGGC\n&gt;Sclsc1_317_SS1G_00317T0\nATGGTTTCGGC\n&gt;Sclsc1_10094_SS1G_03122T0\nATGGTTTCGGC\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5175, "user_id": 4370109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcQgO.jpg?s=128&g=1", "display_name": "Brian Tompsett - \u6c64\u83b1\u6069", "link": "https://stackoverflow.com/users/4370109/brian-tompsett-%e6%b1%a4%e8%8e%b1%e6%81%a9"}, "edited": false, "score": 0, "creation_date": 1567700198, "post_id": 57809163, "comment_id": 102050451, "body": "While this code snippet may solve the problem, it doesn&#39;t explain why or how it answers the question. Please <a href=\"https://meta.stackexchange.com/q/114762/269535\">include an explanation for your code</a>, as that really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion. You can use the <a href=\"https://stackoverflow.com/posts/57809163/edit\">edit</a> button to improve this answer to get more votes and reputation!"}], "tags": [], "owner": {"reputation": 21, "user_id": 11990573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0303eaceacd286a98ee047dc24379427?s=128&d=identicon&r=PG&f=1", "display_name": "Meherameem", "link": "https://stackoverflow.com/users/11990573/meherameem"}, "is_accepted": false, "score": 0, "last_activity_date": 1567700165, "last_edit_date": 1567700165, "creation_date": 1567698986, "answer_id": 57809163, "question_id": 46207327, "link": "https://stackoverflow.com/questions/46207327/how-to-convert-text-file-with-two-columns-to-fasta-format/57809163#57809163", "title": "How to convert text file with two columns to fasta format", "body": "<pre><code>import sys\ninp = open('Dataset.csv', \"r\")\noutp = open('Book1.txt', \"w\")\n\n\nprint (\"Convertion\")\nfor a in inp:\n    a = a.rstrip(\"\\n\")\n\n    outp.write(\"&gt; \" + strLine[0:6] + \"\\n\")\n    outp.write(strLine[11:-4] + \"\\n\")\n\n\n\nprint (\"Done\")\n\ninp.close()\noutp.close()\n</code></pre>\n"}], "owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "accepted_answer_id": 46207385, "answer_count": 2, "score": 0, "last_activity_date": 1567700165, "creation_date": 1505339286, "question_id": 46207327, "link": "https://stackoverflow.com/questions/46207327/how-to-convert-text-file-with-two-columns-to-fasta-format", "title": "How to convert text file with two columns to fasta format", "body": "<p>I am kind of confused with this bit of code. I have my <code>testfile.txt</code> </p>\n\n<pre><code>Sclsc1_3349_SS1G_09805T0        TTGCGATCTATGCCGACGTTCCA\nSclsc1_8695_SS1G_14118T0        ATGGTTTCGGC\nSclsc1_12154_SS1G_05183T0       ATGGTTTCGGC\nSclsc1_317_SS1G_00317T0         ATGGTTTCGGC\nSclsc1_10094_SS1G_03122T0       ATGGTTTCGGC\n</code></pre>\n\n<p>I want to convert this file to this format (<code>fasta</code>) below:</p>\n\n<pre><code>&gt;Sclsc1_3349_SS1G_09805T0\nTTGCGATCTATGCCGACGTTCCA\n&gt;Sclsc1_8695_SS1G_14118T0\nATGGTTTCGGC\n&gt;Sclsc1_12154_SS1G_05183T0\nATGGTTTCGGC\n&gt;Sclsc1_317_SS1G_00317T0\nATGGTTTCGGC\n&gt;Sclsc1_10094_SS1G_03122T0\nATGGTTTCGGC\n</code></pre>\n\n<p>Here is my python code (run it like: <code>python mycode.py testfile.txt outputfile.txt</code>, but it does not output the result as I wanted. Can someone please help me correct this code? Thanks!</p>\n\n<pre><code>import sys\n\n#File input\nfileInput = open(sys.argv[1], \"r\")\n\n#File output\nfileOutput = open(sys.argv[2], \"w\")\n\n#Seq count\ncount = 1 ;\n\n#Loop through each line in the input file\nprint \"Converting to FASTA...\"\nfor strLine in fileInput:\n\n    #Strip the endline character from each input line\n    strLine = strLine.rstrip(\"\\n\")\n\n    #Output the header\n    fileOutput.write(\"&gt; \" + str(count) + \"\\n\")\n    fileOutput.write(strLine + \"\\n\")\n\n    count = count + 1\nprint (\"Done.\")\n\n#Close the input and output file\nfileInput.close()\nfileOutput.close()\n</code></pre>\n"}, {"tags": ["python", "django", "mongoengine"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1505339567, "post_id": 46207325, "comment_id": 79378150, "body": "What do you expect to happen when you do <code>python -m django</code> or <code>python -m pymongo</code>?  These libraries have websites with documentation and lots of examples of how they can be used to build software."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1505339914, "post_id": 46207325, "comment_id": 79378247, "body": "Not sure what you&#39;re trying to tell me. I&#39;m a beginner doing my first django app and I&#39;ve been struggling with this all day, trying different things in order to get django working with mongodb. A more helpful answer would be appreciated."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1505340059, "post_id": 46207325, "comment_id": 79378282, "body": "@Sandi why did you try to run that command? What documentation/instructions are you following?"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1505340878, "post_id": 46207325, "comment_id": 79378576, "body": "I didn&#39;t mean to be rude. Calling <code>python -m [module]</code> is not something that works with all python packages. Most libraries must be imported into a python program that you write."}], "answers": [{"comments": [{"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340143, "post_id": 46207464, "comment_id": 79378310, "body": "Why then, does the official django tutorial state that I should verify my version of django with the command <code>python -m django --version</code>? This returns: <code>&#47;Users&#47;sahandzarrinkoub&#47;Documents&#47;Programming&#47;Web&#47;Django&#47;wor&zwnj;&#8203;koutpy2.7&#47;bin&#47;python&zwnj;&#8203;: No module named django.__main__; &#39;django&#39; is a package and cannot be directly executed</code>"}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340288, "post_id": 46207464, "comment_id": 79378353, "body": "Is it because django nonrel does not support being run this way where as the official django version does?"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "reply_to_user": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340353, "post_id": 46207464, "comment_id": 79378379, "body": "@Sandi what version of Django is installed? Check with <code>pip freeze | grep django</code>...  Oh. <code>django-nonrel</code> looks <i>very</i> old, so the current docs won&#39;t apply."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340646, "post_id": 46207464, "comment_id": 79378490, "body": "The output is <code>django-mongodb-engine==0.6.0 djangotoolbox==1.8.0</code>."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340718, "post_id": 46207464, "comment_id": 79378523, "body": "Yeah, it looks old indeed! I wonder, is there a better way of using a nosql database with Django? I haven&#39;t been successful in finding one."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "reply_to_user": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1505340872, "post_id": 46207464, "comment_id": 79378573, "body": "@Sandi I wouldn&#39;t recommend it, but instead maybe use Flask or something. If you want to, I&#39;d suggest to use normal Django, but don&#39;t use its ORM at all."}], "tags": [], "owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1505340723, "last_edit_date": 1505340723, "creation_date": 1505340006, "answer_id": 46207464, "question_id": 46207325, "link": "https://stackoverflow.com/questions/46207325/python-m-django-gives-conflicting-messages-in-virtualenv/46207464#46207464", "title": "&#39;python -m django&#39; gives conflicting messages in virtualenv", "body": "<p>The <code>-m</code> option to <code>python</code> allows you to (try to) run a module/package. From the docs:</p>\n\n<blockquote>\n  <p><strong><code>-m &lt;module-name&gt;</code></strong> </p>\n  \n  <p>Search <code>sys.path</code> for the named module and execute its contents as the <code>__main__</code> module.</p>\n  \n  <p>Since the argument is a <em>module</em> name, you must not give a file\n  extension (<code>.py</code>). The module name should be a valid absolute Python\n  module name, but the implementation may not always enforce this (e.g.\n  it may allow you to use a name that includes a hyphen).</p>\n  \n  <p>Package names (including namespace packages) are also permitted. When\n  a package name is supplied instead of a normal module, the interpreter\n  will execute <code>&lt;pkg&gt;.__main__</code> as the main module. This behaviour is\n  deliberately similar to the handling of directories and zipfiles that\n  are passed to the interpreter as the script argument.</p>\n</blockquote>\n\n<p>So, the thing following <code>-m</code> needs to support being run by defining a <code>__main__</code>, which is why <code>python -m pymongo</code> then states \"<code>No module named pymongo.__main__</code>\".</p>\n\n<hr>\n\n<p>For the case of Django, or specifically, <code>django-nonrel</code>: It looks like <code>django-nonrel</code> hasn't been updated in years, and the most recent branch looks like a fork of Django 1.7. Django proper added <code>django.__main__</code> in 1.9, so that's why the docs you're reading are misleading you. You <em>might</em> be able to use the <a href=\"https://docs.djangoproject.com/en/1.7/intro/tutorial01/\" rel=\"nofollow noreferrer\">Django 1.7 tutorial</a>, but a NoSQL database might heavily affect the models and queries, so using the tutorial provided by the nonrel project (if it does) would be preferred.</p>\n"}], "owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 46207464, "answer_count": 1, "score": -1, "last_activity_date": 1505340723, "creation_date": 1505339278, "question_id": 46207325, "link": "https://stackoverflow.com/questions/46207325/python-m-django-gives-conflicting-messages-in-virtualenv", "title": "&#39;python -m django&#39; gives conflicting messages in virtualenv", "body": "<p>I created a virtualenv: </p>\n\n<pre><code>virtualenv --python=/usr/local/bin/python2.7 workoutpy2.7 \n</code></pre>\n\n<p>I'm working on a workout diary web app, hence that name.\nThen I installed django nonrel in it:</p>\n\n<pre><code>pip install git+https://github.com/django-nonrel/django@nonrel-1.5\n</code></pre>\n\n<p>and then djangotoolbox for django nonrel:</p>\n\n<pre><code>pip install git+https://github.com/django-nonrel/djangotoolbox\n</code></pre>\n\n<p>and then the mongodb engine:</p>\n\n<pre><code>pip install git+https://github.com/django-nonrel/mongodb-engine\n</code></pre>\n\n<p>I then assumed that django was installed in my virtualenv. So I typed:</p>\n\n<pre><code>python -m django\n</code></pre>\n\n<p>and got the following output:</p>\n\n<pre><code>/Users/sahandzarrinkoub/Documents/Programming/Web/Django/workoutpy2.7/bin/python: No module named django.__main__; 'django' is a package and cannot be directly executed\n</code></pre>\n\n<p>What does this mean? For the record, the same thing happens with ANY package I install in this way. Just have a look at this:</p>\n\n<pre><code>(workoutpy2.7) Sahands-MacBook-Pro:workoutpy2.7 sahandzarrinkoub$ pip install pymongo\nRequirement already satisfied: pymongo in ./lib/python2.7/site-packages\n(workoutpy2.7) Sahands-MacBook-Pro:workoutpy2.7 sahandzarrinkoub$ python -m pymongo\n/Users/sahandzarrinkoub/Documents/Programming/Web/Django/workoutpy2.7/bin/python: No module named pymongo.__main__; 'pymongo' is a package and cannot be directly executed\n</code></pre>\n\n<p>Thankful for any help.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505339545, "post_id": 46207345, "comment_id": 79378138, "body": "does this only work when multiplying two series objects that are the same length? what if the indexes were different + one series was longer."}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 1, "creation_date": 1505339863, "post_id": 46207345, "comment_id": 79378239, "body": "The map will map the values of mark_up_id in df to the str_price_band in pb and return the corresponding mark_up value which you multiply by price. So the lengths dont have to be same"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505339970, "post_id": 46207345, "comment_id": 79378262, "body": "If you are dealing with a mark_up_id in df which doesn&#39;t exist in pb then it will obviously not be able to find the corresponding mark_up and return NaN."}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505340252, "post_id": 46207345, "comment_id": 79378342, "body": "looks like i was closer than I realized! didn&#39;t know that you could multiply series like that. is this the best way to perform a vlookup with a calculation in pandas? it seemed like i could probably use apply + join etc"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 1, "creation_date": 1505340449, "post_id": 46207345, "comment_id": 79378415, "body": "This solution is vectorized and definitely better than apply and yes, you were just a step away :)"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 3, "last_activity_date": 1505339379, "creation_date": 1505339379, "answer_id": 46207345, "question_id": 46207292, "link": "https://stackoverflow.com/questions/46207292/pandas-vlookup-against-series-with-common-index-using-map/46207345#46207345", "title": "PANDAS vlookup against series with common index using map", "body": "<p>Try</p>\n\n<pre><code>df['price'] = df['mark_up_id'].map(pb['mark_up']) * df['cost']\n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    cost    id  mark_up_id  price\n0   29.74   K69 123         38.623338\n1   9.42    K70 456         14.718750\n2   9.42    K71 111         12.559686\n3   9.42    K72 123         12.233754\n4   9.48    K73 789         12.985704\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505340283, "post_id": 46207346, "comment_id": 79378348, "body": "is it possible to do this with apply and a lamba function?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505340346, "post_id": 46207346, "comment_id": 79378376, "body": "@YaleNewman, yes, but it&#39;ll look ugly and it&#39;ll be slower... Why would you want to do it this way?"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505340418, "post_id": 46207346, "comment_id": 79378407, "body": "trying to better understand how the underlying data objects work and can be related to one another"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505340482, "post_id": 46207346, "comment_id": 79378427, "body": "@YaleNewman I agree with MaxU,  it is ugly, However,  just in case you need it ...I add to my answer.."}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1505340535, "post_id": 46207346, "comment_id": 79378453, "body": "@Wen thank you! if either of you could at a high level explain why the accepted solution is faster than using apply, i&#39;d appreciate it:)"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1505341200, "post_id": 46207346, "comment_id": 79378688, "body": "@YaleNewman I will use MaxU&#39;s answer reply here <a href=\"https://stackoverflow.com/questions/36514781/how-to-speed-up-apply-method-with-lambda-in-pandas-with-datetime\" title=\"how to speed up apply method with lambda in pandas with datetime\">stackoverflow.com/questions/36514781/&hellip;</a>"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1505341488, "post_id": 46207346, "comment_id": 79378768, "body": "@Wen I&#39;ve edited the question to pose the question. I also hit an error when running the lambda function you provided. however, i was able to get to the same answer with the code i included above"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1505340090, "last_edit_date": 1505340090, "creation_date": 1505339383, "answer_id": 46207346, "question_id": 46207292, "link": "https://stackoverflow.com/questions/46207292/pandas-vlookup-against-series-with-common-index-using-map/46207346#46207346", "title": "PANDAS vlookup against series with common index using map", "body": "<p><strong>UPDATE:</strong> for updated question:</p>\n\n<pre><code>In [79]: df = df.assign(price=df['mark_up_id'].map(pb['mark_up']) * df['cost']).dropna()\n\nIn [80]: df\nOut[80]:\n    cost   id mark_up_id      price\n0  29.74  K69        123  38.623338\n1   9.42  K70        456  14.718750\n2   9.42  K71        789  12.903516\n3   9.42  K72        111  12.559686\n4   9.48  K73        222  13.830372\n</code></pre>\n\n<hr>\n\n<p><strong>Old answer:</strong></p>\n\n<pre><code>In [67]: df = df.assign(price=df['mark_up_id'].map(pb['mark_up']) * df['cost'])\n\nIn [68]: df\nOut[68]:\n    cost   id mark_up_id      price\n0  29.74  K69        123  38.623338\n1   9.42  K70        456  14.718750\n2   9.42  K71        111  12.559686\n3   9.42  K72        123  12.233754\n4   9.48  K73        789  12.985704\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": false, "score": 0, "last_activity_date": 1505339535, "creation_date": 1505339535, "answer_id": 46207372, "question_id": 46207292, "link": "https://stackoverflow.com/questions/46207292/pandas-vlookup-against-series-with-common-index-using-map/46207372#46207372", "title": "PANDAS vlookup against series with common index using map", "body": "<pre><code>df['price'] = df['cost'] * df['mark_up_id'].map(pb['markup'])\n</code></pre>\n\n<p>now <code>df</code> will be your desired output.</p>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1505342900, "last_edit_date": 1505342900, "creation_date": 1505340170, "answer_id": 46207495, "question_id": 46207292, "link": "https://stackoverflow.com/questions/46207292/pandas-vlookup-against-series-with-common-index-using-map/46207495#46207495", "title": "PANDAS vlookup against series with common index using map", "body": "<p>By using <code>merge</code></p>\n\n<pre><code>df=df.merge(df1,left_on='mark_up_id',right_index=True)\ndf.assign(price=df['cost'].mul(df['mark_up'])).drop('mark_up',1)\nOut[254]: \n    cost   id mark_up_id      price\n0  29.74  K69        123  38.623338\n3   9.42  K72        123  12.233754\n1   9.42  K70        456  14.718750\n2   9.42  K71        111  12.559686\n4   9.48  K73        789  12.985704\n</code></pre>\n\n<p>If you do want <code>apply</code> and <code>lambda</code> : It is ugly .....for real ...</p>\n\n<pre><code>df.apply(lambda x : x['cost']*df1.loc[x['mark_up_id']],axis=1 )\n</code></pre>\n\n<p>Change to (Even more ugly ...T_T)</p>\n\n<pre><code>df.apply(lambda x :x['cost']*df1.loc[x['mark_up_id']] if pd.Series(x['mark_up_id']).isin(df1.index)[0] else np.nan,axis=1 )\n</code></pre>\n"}], "owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 2, "accepted_answer_id": 46207345, "answer_count": 4, "score": 4, "last_activity_date": 1505342900, "creation_date": 1505339125, "last_edit_date": 1505341387, "question_id": 46207292, "link": "https://stackoverflow.com/questions/46207292/pandas-vlookup-against-series-with-common-index-using-map", "title": "PANDAS vlookup against series with common index using map", "body": "<pre><code>import pandas as pd\nimport numpy as np\n\npb = {\"mark_up_id\":{\"0\":\"123\",\"1\":\"456\",\"2\":\"789\",\"3\":\"111\",\"4\":\"222\"},\"mark_up\":{\"0\":1.2987,\"1\":1.5625,\"2\":1.3698,\"3\":1.3333,\"4\":1.4589}}\n\ndata = {\"id\":{\"0\":\"K69\",\"1\":\"K70\",\"2\":\"K71\",\"3\":\"K72\",\"4\":\"K73\",\"5\":\"K74\",\"6\":\"K75\",\"7\":\"K79\",\"8\":\"K86\",\"9\":\"K100\"},\"cost\":{\"0\":29.74,\"1\":9.42,\"2\":9.42,\"3\":9.42,\"4\":9.48,\"5\":9.48,\"6\":24.36,\"7\":5.16,\"8\":9.8,\"9\":3.28},\"mark_up_id\":{\"0\":\"123\",\"1\":\"456\",\"2\":\"789\",\"3\":\"111\",\"4\":\"222\",\"5\":\"333\",\"6\":\"444\",\"7\":\"555\",\"8\":\"666\",\"9\":\"777\"}}\n\npb = pd.DataFrame(data=pb).set_index('mark_up_id')\ndf = pd.DataFrame(data=data)\n</code></pre>\n\n<p>I know that I can use something like:</p>\n\n<pre><code>df['mark_up_id'].map(pb['mark_up'])\n</code></pre>\n\n<p>to perform a v-look-up. I'd like to take the mark-up this returns and multiply it by each cost with a common index to yield a new column called price. </p>\n\n<p>I know I can merge the two and then run the calculation. That's how I produced the desired output. I'd like to be able to do this similar to how you'd loop through a dictionary and use the keys to find values in another dictionary and perform some kind of computation inside of a loop. Considering PANDAS dataframes sit on top of dictionaries, there must be a way of using a combination of join/map/apply to do this without actually joining the two data-sets in memory. </p>\n\n<p>Desired output:</p>\n\n<pre><code>desired_output = {\"cost\":{\"0\":29.74,\"1\":9.42,\"2\":9.42,\"3\":9.42,\"4\":9.48},\"id\":{\"0\":\"K69\",\"1\":\"K70\",\"2\":\"K71\",\"3\":\"K72\",\"4\":\"K73\"},\"mark_up_id\":{\"0\":\"123\",\"1\":\"456\",\"2\":\"111\",\"3\":\"123\",\"4\":\"789\"},\"price\":{\"0\":38.623338,\"1\":14.71875,\"2\":12.559686,\"3\":12.233754,\"4\":12.985704}}\ndo = pd.DataFrame(data=desired_output)\n</code></pre>\n\n<p>Bonus Points: </p>\n\n<p>Explain the difference between the accepted answer and...</p>\n\n<pre><code>pb.loc[df['mark_up_id']]['mark_up'] * df.set_index('mark_up_id')['cost']\n</code></pre>\n\n<p>and why the following lambda function that i derived the above from hits an error...</p>\n\n<pre><code>df.apply(lambda x : x['cost']*pb.loc[x['mark_up_id']],axis=1 )\n</code></pre>\n\n<p>returns an error saying:</p>\n\n<pre><code>KeyError: ('the label [333] is not in the [index]', u'occurred at index 5')\n</code></pre>\n"}, {"tags": ["python", "flask", "gunicorn"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 6073784, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153409643257967/picture?type=large", "display_name": "Kyle Stuart", "link": "https://stackoverflow.com/users/6073784/kyle-stuart"}, "is_accepted": true, "score": 1, "last_activity_date": 1505339854, "creation_date": 1505339854, "answer_id": 46207436, "question_id": 46207139, "link": "https://stackoverflow.com/questions/46207139/debugging-a-flask-app-under-gunicorn-with-pycharm/46207436#46207436", "title": "Debugging a Flask app under gunicorn with PyCharm", "body": "<p>The error is pretty clear. You're trying to import by file name by giving it a file path.  Try changing your script parameters to just app:app and it should work.</p>\n"}], "owner": {"reputation": 7959, "user_id": 704972, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c176240cfcbeda075c655197a2cc8544?s=128&d=identicon&r=PG", "display_name": "Calaf", "link": "https://stackoverflow.com/users/704972/calaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1437, "favorite_count": 1, "accepted_answer_id": 46207436, "answer_count": 1, "score": 1, "last_activity_date": 1505341011, "creation_date": 1505338320, "last_edit_date": 1505341011, "question_id": 46207139, "link": "https://stackoverflow.com/questions/46207139/debugging-a-flask-app-under-gunicorn-with-pycharm", "title": "Debugging a Flask app under gunicorn with PyCharm", "body": "<p>I'd like to single-step through a Hello-World Flask app running under Gunicorn with PyCharm CE.</p>\n\n<p>The app is the usual 5-10 liner sitting in <code>/tmp/hello-world/app</code>, and the venv is in <code>/tmp/env</code>.</p>\n\n<p>My PyCharm configuration looks like this:</p>\n\n<pre><code>Script: /tmp/env/bin/gunicorn\nScript parameters: /tmp/hello-world/app:app\nWorking directory: /tmp/hello-world\n</code></pre>\n\n<p>The app runs fine from the command line in that venv using <code>gunicorn app:app</code>, but when I launch the server under PyCharm CE, an import internal to gunicorn fails:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/arbiter.py\", line 578, in spawn_worker\n    worker.init_process()\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/workers/base.py\", line 126, in init_process\n    self.load_wsgi()\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/workers/base.py\", line 135, in load_wsgi\n    self.wsgi = self.app.wsgi()\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/app/base.py\", line 67, in wsgi\n    self.callable = self.load()\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/app/wsgiapp.py\", line 65, in load\n    return self.load_wsgiapp()\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/app/wsgiapp.py\", line 52, in load_wsgiapp\n    return util.import_app(self.app_uri)\n  File \"/tmp/env/lib/python2.7/site-packages/gunicorn/util.py\", line 352, in import_app\n    __import__(module)\nImportError: Import by filename is not supported.\n</code></pre>\n\n<p>Solutions that don't work:</p>\n\n<ul>\n<li>I don't see <a href=\"https://stackoverflow.com/a/20738996/704972\">\"gevent compatible debugging\"</a> on macOS and PyCharm CE 2016.3. Is that answer relevant after nearly four years?</li>\n</ul>\n"}, {"tags": ["python", "scikit-learn", "pip", "anaconda", "conda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1505349324, "post_id": 46207125, "comment_id": 79380831, "body": "What is the output of <code>conda install scikit-learn</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 8076544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PrGT6567Vi4/AAAAAAAAAAI/AAAAAAAAA3M/gpaMTHNPDDI/photo.jpg?sz=128", "display_name": "Divyojyoti Sinha", "link": "https://stackoverflow.com/users/8076544/divyojyoti-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1530936245, "creation_date": 1530936245, "answer_id": 51219795, "question_id": 46207125, "link": "https://stackoverflow.com/questions/46207125/cant-seem-to-update-to-sklearn-0-19-with-pip/51219795#51219795", "title": "Can&#39;t seem to update to sklearn 0.19 with pip?", "body": "<p>I was facing the same issue and was not able to update sklearn. I first removed the scikit-learn package by the below command and then installed scikit-learn in update mode and it got updated successfully.</p>\n\n<pre><code>conda remove scikit-learn\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198, "user_id": 9270219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I1ls5.jpg?s=128&g=1", "display_name": "Alperen Tahta", "link": "https://stackoverflow.com/users/9270219/alperen-tahta"}, "is_accepted": false, "score": 2, "last_activity_date": 1559035025, "creation_date": 1559035025, "answer_id": 56338812, "question_id": 46207125, "link": "https://stackoverflow.com/questions/46207125/cant-seem-to-update-to-sklearn-0-19-with-pip/56338812#56338812", "title": "Can&#39;t seem to update to sklearn 0.19 with pip?", "body": "<p>You can use use <code>virtualenv</code> in pip and install <code>scikit-learn</code> inside the venv. With that solution you dont have to remove sci-kit from conda.</p>\n\n<p><strong>Install virtualenv using pip3</strong></p>\n\n<pre><code>sudo pip3 install virtualenv \n</code></pre>\n\n<p>** Create a virtual environment**</p>\n\n<pre><code>virtualenv venv \n</code></pre>\n\n<p><strong>Active your virtual environment:</strong></p>\n\n<pre><code>source venv/bin/activate\n</code></pre>\n\n<p>Then you can install now anything you want.</p>\n\n<pre><code>pip install -U scikit-learn\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3156285, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ae7b0955d5868f72e0235fff43bb19c?s=128&d=identicon&r=PG&f=1", "display_name": "user3156285", "link": "https://stackoverflow.com/users/3156285/user3156285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4725, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1559035025, "creation_date": 1505338236, "last_edit_date": 1559034182, "question_id": 46207125, "link": "https://stackoverflow.com/questions/46207125/cant-seem-to-update-to-sklearn-0-19-with-pip", "title": "Can&#39;t seem to update to sklearn 0.19 with pip?", "body": "<p>First I tried to update the package according to the <a href=\"http://scikit-learn.org/stable/install.html\" rel=\"nofollow noreferrer\">documentation</a> using the commands below:</p>\n\n<pre><code>pip install -U scikit-learn\n</code></pre>\n\n<p>or</p>\n\n<pre><code>conda install scikit-learn\n</code></pre>\n\n<p>But the version is still 0.18 in PyCharm. Then I tried to run the update in \"Settings--Project Interpreter\", but failed with this error:</p>\n\n<blockquote>\n  <p>InstallError: Error: one or more of the packages already installed\n  depend on 'conda' and should only be installed in the root\n  environment: conda conda-env. These packages need to be removed before\n  conda can proceed.</p>\n</blockquote>\n\n<p>I'm totally stuck now. Appreciate any help in advance!</p>\n"}, {"tags": ["python", "macos", "import"], "answers": [{"tags": [], "owner": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "is_accepted": false, "score": 2, "last_activity_date": 1505338966, "creation_date": 1505338966, "answer_id": 46207267, "question_id": 46207120, "link": "https://stackoverflow.com/questions/46207120/importerror-no-module-named-crypto-on-a-mac/46207267#46207267", "title": "ImportError: No module named &#39;Crypto&#39; on a Mac", "body": "<p>With the <code>-m</code> switch, you should run <code>python3 -m Crypto</code>. No need for the import. Or run <code>python3 -c \"import Crypto\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505370331, "post_id": 46207276, "comment_id": 79386739, "body": "@Alex updated the answer to explain what is happening here."}, {"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505370880, "post_id": 46207276, "comment_id": 79387031, "body": "Thanks, but now the error I get is <code>ModuleNotFoundError: No module named Crypto</code>. I am not joking!"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505373386, "post_id": 46207276, "comment_id": 79388489, "body": "@Alex can you try <code>python3 -c &quot;import sys; print(sys.path)&quot;</code> \u2014 it looks like your <code>python3</code> and <code>pip3</code> are pointing to different versions of Python"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505373421, "post_id": 46207276, "comment_id": 79388515, "body": "You can force install with the same version using <code>python3 -m pip install pycrypto</code>"}, {"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505373545, "post_id": 46207276, "comment_id": 79388573, "body": "[&#39;&#39;, &#39;/Users/adietz/Private/Space/Server&#39;, &#39;/Users/adietz/Private/Space/Client&#39;, &#39;/usr/local/lib/python3.6/site-packages&#39;, &#39;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework&zwnj;&#8203;/Versions/3.6/lib/py&zwnj;&#8203;thon36.zip&#39;, &#39;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework&zwnj;&#8203;/Versions/3.6/lib/py&zwnj;&#8203;thon3.6&#39;, &#39;/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework&zwnj;&#8203;/Versions/3.6/lib/py&zwnj;&#8203;thon3.6/lib-dynload&#39;&zwnj;&#8203;, &#39;/usr/local/lib/python3.6/site-packages&#39;]"}, {"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "reply_to_user": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 0, "creation_date": 1505374185, "post_id": 46207276, "comment_id": 79388906, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/154407/discussion-between-alex-and-mfitzp\">continue this discussion in chat</a>."}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1505374240, "post_id": 46207276, "comment_id": 79388935, "body": "Do you have another folder called <code>Crypto</code> in your path? e.g. in the folder you&#39;re trying to import from?"}], "tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": false, "score": 3, "last_activity_date": 1505375958, "last_edit_date": 1505375958, "creation_date": 1505339018, "answer_id": 46207276, "question_id": 46207120, "link": "https://stackoverflow.com/questions/46207120/importerror-no-module-named-crypto-on-a-mac/46207276#46207276", "title": "ImportError: No module named &#39;Crypto&#39; on a Mac", "body": "<p><code>python3 -m \"import Crypto\"</code> instructs the Python interpreter to import a module named \"import Crypto\". To test importing the module, just pass the name itself, e.g.</p>\n\n<pre><code>python3 -m Crypto\n</code></pre>\n\n<p>Doing the same here produces this error: </p>\n\n<pre><code>python3 -m Crypto\n/usr/local/opt/python3/bin/python3.6: No module named Crypto.__main__; 'Crypto' is a package and cannot be directly executed\n</code></pre>\n\n<p>This is telling you that Crypto is installed (it found it) \u2014\u00a0however it is not a module, it is a package. <code>python3 -m &lt;module&gt;</code> imports the provided <em>module</em> and <em>attempts to execute it</em>. Packages cannot be run directly, so this will not work.</p>\n\n<p>You can just check the import by passing the import command (as you did originally, but with <code>-c</code> option), e.g.</p>\n\n<pre><code>python3 -c \"import Crypto\"\n</code></pre>\n\n<p>Update: The issue was a broken install of an old version of <code>pycrypto</code>. Removing and re-installed it fixed the issue.</p>\n"}], "owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2019, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508071093, "creation_date": 1505338207, "last_edit_date": 1505372402, "question_id": 46207120, "link": "https://stackoverflow.com/questions/46207120/importerror-no-module-named-crypto-on-a-mac", "title": "ImportError: No module named &#39;Crypto&#39; on a Mac", "body": "<p>Here is the situation: </p>\n\n<pre><code>mymachine:Systemtest user$ pip3 install --upgrade pycrypto\nRequirement already up-to-date: pycrypto in /usr/local/lib/python3.6/site-packages\nmymachine:Systemtest user$ echo $PYTHONPATH\n/Users/user/Private/Space/Server:/Users/user/Private/Space/Client:/usr/local/lib/python3.6/site-packages\nmymachine:Systemtest user$ python3 -c \"import Crypto\"\nTraceback (most recent call last):\n  File: \"&lt;string&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'Crypto'\n</code></pre>\n\n<p>Is this some special Mac thing? How to make sure <code>python3</code> uses the <code>Crypto</code> module?</p>\n"}, {"tags": ["python", "windows", "python-3.x", "command-prompt"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1505338116, "post_id": 46207070, "comment_id": 79377584, "body": "Which operating system are you talking about?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1505338144, "post_id": 46207070, "comment_id": 79377596, "body": "What system are you on? This may be better suited for <a href=\"https://superuser.com/\">SuperUser</a>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1505338263, "post_id": 46207070, "comment_id": 79377649, "body": "Are you trying to type <code>python3.6</code> into a Python 3.5 interpreter? That&#39;s not a Python command. Get out of Python first."}, {"owner": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "edited": false, "score": 0, "creation_date": 1505338320, "post_id": 46207070, "comment_id": 79377675, "body": "I&#39;m just in a blank command prompt, not in a shell."}, {"owner": {"reputation": 5853, "user_id": 621736, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QJObc.jpg?s=128&g=1", "display_name": "Will Ayd", "link": "https://stackoverflow.com/users/621736/will-ayd"}, "edited": false, "score": 1, "creation_date": 1505338378, "post_id": 46207070, "comment_id": 79377707, "body": "This wouldn&#39;t directly answer your question but have you considered creating virtual environments using either virtualenv or anaconda? Having either of those will make it easier to use and manage two separate environments"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1505338758, "post_id": 46207070, "comment_id": 79377852, "body": "@JohnnyApple for future reference, the Windows Command Prompt <i>is a CLI shell</i>. The Python interpreter can open a REPL (Read-Evaluate-Print-Loop) session <i>in the shell</i>, sometimes called an &quot;interactive interpreter session&quot; or just &quot;the Python interpreter&quot; depending on context."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1505356616, "post_id": 46207070, "comment_id": 79382444, "body": "@juanpa.arrivillaga, python.exe does not open the REPL &quot;in the shell&quot;. It executes attached to the console that&#39;s inherited from the shell using standard I/O file handles for the console input and screen buffers. The shell is just waiting waiting in the background for python.exe to exit before it resumes as the foreground process attached to the console."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1505357644, "post_id": 46207070, "comment_id": 79382675, "body": "@eryksun yes, thank you for the correction. My language was sloppy, even as I was trying to make a terminology point. It is always good to be precise."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "edited": false, "score": 0, "creation_date": 1505338419, "post_id": 46207150, "comment_id": 79377724, "body": "What do you mean by &quot;copy each <code>python.exe</code>...&quot;?"}, {"owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "reply_to_user": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "edited": false, "score": 0, "creation_date": 1505338465, "post_id": 46207150, "comment_id": 79377739, "body": "Navigate to python folder and look for <code>python.exe</code> and make a copy of it named <code>python35.exe</code> for the 3.5 version and same for 3.6"}, {"owner": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "edited": false, "score": 0, "creation_date": 1505338616, "post_id": 46207150, "comment_id": 79377797, "body": "So, I can go to my system variables, find the &quot;Path&quot; variables, add C:\\Python36 and C:\\Python35-32, and then copy the executables in each folder and rename them as you suggested? Do I need to add anything else to the path, like specific subfolders?"}, {"owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "reply_to_user": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "edited": false, "score": 0, "creation_date": 1505338665, "post_id": 46207150, "comment_id": 79377820, "body": "Nope, you need to add python folder only."}], "tags": [], "owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "is_accepted": true, "score": 1, "last_activity_date": 1505338585, "last_edit_date": 1505338585, "creation_date": 1505338360, "answer_id": 46207150, "question_id": 46207070, "link": "https://stackoverflow.com/questions/46207070/putting-python-3-5-and-3-6-into-path-and-switching-between-them-in-command-promp/46207150#46207150", "title": "Putting Python 3.5 and 3.6 into path and switching between them in command prompt", "body": "<p>You can add both folders to your environment variables and then copy each <code>python.exe</code> to <code>python35.exe</code> or <code>python36.exe</code> depending on version.</p>\n\n<p>Then you can execute it using <code>python35</code> or <code>python36</code> to execute different versions.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>Navigate to python3.5 folder</li>\n<li>Look for <code>python.exe</code> file and make a copy of it named <code>python35.exe</code></li>\n<li>You can use <code>python35</code> in cmd now to run 3.5 version of Python</li>\n</ul>\n\n<p>Do the same for 3.6 and you're done.</p>\n"}, {"tags": [], "owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1505338653, "creation_date": 1505338653, "answer_id": 46207199, "question_id": 46207070, "link": "https://stackoverflow.com/questions/46207070/putting-python-3-5-and-3-6-into-path-and-switching-between-them-in-command-promp/46207199#46207199", "title": "Putting Python 3.5 and 3.6 into path and switching between them in command prompt", "body": "<p>If you followed anything close to a normal installation process, you will have installed the <a href=\"https://docs.python.org/3/using/windows.html#python-launcher-for-windows\" rel=\"nofollow noreferrer\">Python Launcher for Windows</a>. This is invoked by the <code>py</code> command. To run a particular version of installed Python, use <code>-</code> followed by the version:</p>\n\n<pre><code>py -3.6\n</code></pre>\n\n<p>or</p>\n\n<pre><code>py -3.5\n</code></pre>\n\n<p>When invoked without any parameters, <code>py</code> will call the \"default\" Python, which would be whichever one you installed last.</p>\n"}], "owner": {"reputation": 189, "user_id": 8460211, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9d67941e3618b444ccc5b380152041e4?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Apple", "link": "https://stackoverflow.com/users/8460211/johnny-apple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "closed_date": 1505358705, "accepted_answer_id": 46207150, "answer_count": 2, "score": -2, "last_activity_date": 1505338653, "creation_date": 1505337994, "last_edit_date": 1505338594, "question_id": 46207070, "link": "https://stackoverflow.com/questions/46207070/putting-python-3-5-and-3-6-into-path-and-switching-between-them-in-command-promp", "closed_reason": "Needs details or clarity", "title": "Putting Python 3.5 and 3.6 into path and switching between them in command prompt", "body": "<p>I seek to be able to type something like</p>\n\n<p><code>python36</code></p>\n\n<p>or </p>\n\n<p><code>python35</code></p>\n\n<p>in the command prompt to be be able to run 3.6 or 3.5 shells, respectively. When I type python in the command prompt, it only opens a 3.5 shell, and if I try to specify 3.6 by typing <code>python3.6</code> or <code>python3.5</code> or <code>python36</code> or <code>python35</code>, it doesn't recognize the commands. For both installations, I checked the \"Add to my path\" box, and have since tried to manually add them to my path using system settings/advanced/environment variables, etc, but it's not clear to me how to best do this.</p>\n\n<p>I am using Windows 7.</p>\n"}, {"tags": ["python", "django", "visual-studio"], "comments": [{"owner": {"reputation": 3193, "user_id": 8196244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTuJY.jpg?s=128&g=1", "display_name": "Mauricio Cortazar", "link": "https://stackoverflow.com/users/8196244/mauricio-cortazar"}, "edited": false, "score": 0, "creation_date": 1505338601, "post_id": 46207060, "comment_id": 79377786, "body": "if you work with Django you have to run it manual, go into the terminal and type python manage.py runserver"}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505339099, "post_id": 46207060, "comment_id": 79377975, "body": "are you able to use <a href=\"https://djangobook.com/developing-django-visual-studio/#leanpub-auto-integration-of-django-management-commands\" rel=\"nofollow noreferrer\">these commands</a> to start the server.."}, {"owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "reply_to_user": {"reputation": 3193, "user_id": 8196244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTuJY.jpg?s=128&g=1", "display_name": "Mauricio Cortazar", "link": "https://stackoverflow.com/users/8196244/mauricio-cortazar"}, "edited": false, "score": 0, "creation_date": 1505399860, "post_id": 46207060, "comment_id": 79406776, "body": "@MauricioCortazar I have run it earlier from VStudio, n ot sure what is the issue now."}, {"owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505400293, "post_id": 46207060, "comment_id": 79407085, "body": "@PRMoureu Yes, I am able to migrate and also able to create superuser."}], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1505402468, "creation_date": 1505402468, "answer_id": 46222935, "question_id": 46207060, "link": "https://stackoverflow.com/questions/46207060/python-app-not-starting-in-visual-studio/46222935#46222935", "title": "python app not starting in visual studio", "body": "<p>I resolved the issue. The issue was with the port 8000, my system was not allowing me to access port number: 8000.</p>\n\n<p>So I went to VisualStudio ---->Debug ----> Project properties at bottom ---> Debug --->enter port number : 5000</p>\n\n<p>and then it worked like charm.</p>\n"}], "owner": {"reputation": 289, "user_id": 6614967, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/306000706408468/picture?type=large", "display_name": "Mohammad Shahbaz", "link": "https://stackoverflow.com/users/6614967/mohammad-shahbaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505402468, "creation_date": 1505337946, "question_id": 46207060, "link": "https://stackoverflow.com/questions/46207060/python-app-not-starting-in-visual-studio", "title": "python app not starting in visual studio", "body": "<p>I have created django python app, and when I press F5 , it pops up a python shell which says </p>\n\n<pre><code> Available subcommands:\n\n[auth]\nchangepassword\ncreatesuperuser\n\n[django]\ncheck\ncompilemessages\ncreatecachetable\ndbshell\ndiffsettings\ndumpdata\nflush\ninspectdb\nloaddata\nmakemessages\nmakemigrations\nmigrate\nrunfcgi\nshell\nshowmigrations\nsql\nsqlall\nsqlclear\nsqlcustom\nsqldropindexes\nsqlflush\nsqlindexes\nsqlmigrate\nsqlsequencereset\nsquashmigrations\nstartapp\nstartproject\nsyncdb\ntest\ntestserver\nvalidate\n\n[sessions]\nclearsessions\n\n[staticfiles]\ncollectstatic\nfindstatic\nrunserver\nPress any key to continue . . .\n</code></pre>\n\n<p>But it does not open any browser and app is not running, when I hit any key , it just stops the app. </p>\n\n<p>I am wondering what is the issue. Weird thing is few days ago this app was working fine and I didn't do anything after that.</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": true, "score": 1, "last_activity_date": 1505339373, "creation_date": 1505339373, "answer_id": 46207343, "question_id": 46207043, "link": "https://stackoverflow.com/questions/46207043/what-are-the-differences-between-kivy-properties-clock-and-kivy-clock-clock/46207343#46207343", "title": "What are the differences between kivy.properties.Clock and kivy.clock.Clock?", "body": "<p>Both classes are the same <em>at this time</em>.</p>\n\n<p><a href=\"https://github.com/kivy/kivy/blob/1.10.0/kivy/clock.py#L819\" rel=\"nofollow noreferrer\">Clock is defined in <code>kivy/clock.py</code></a>. It is <a href=\"https://github.com/kivy/kivy/tree/1.10.0/kivy/properties.pyx#L279\" rel=\"nofollow noreferrer\">imported in <code>kivy/properties.pyx</code></a>.</p>\n\n<p>Therefore <code>Clock</code> as a name is available in the module namespace.</p>\n\n<p>So technically, it's possible to import it from <code>kivy.properties</code> but I won't advice that. </p>\n\n<p>The maintainers may make a change to Clock that they intend to be isolated from the original Class definition and private. </p>\n"}], "owner": {"reputation": 88, "user_id": 6939043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2675fe2138fb04ad6b0d538278df6172?s=128&d=identicon&r=PG", "display_name": "Austin Yates", "link": "https://stackoverflow.com/users/6939043/austin-yates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 46207343, "answer_count": 1, "score": 0, "last_activity_date": 1505339373, "creation_date": 1505337850, "question_id": 46207043, "link": "https://stackoverflow.com/questions/46207043/what-are-the-differences-between-kivy-properties-clock-and-kivy-clock-clock", "title": "What are the differences between kivy.properties.Clock and kivy.clock.Clock?", "body": "<p>Is there a difference between the Kivy Clock modules found at <code>kivy.properties.Clock</code> and <code>kivy.clock.Clock</code>? And if so, what are the pros and cons of each?</p>\n\n<p>Every example I've seen uses <code>kivy.clock.Clock</code> and it has <a href=\"https://kivy.org/docs/api-kivy.clock.html?highlight=clock#module-kivy.clock\" rel=\"nofollow noreferrer\">documentation</a>. There doesn't seem to be documentation for <code>kivy.properties.Clock</code>. </p>\n"}, {"tags": ["python", "django", "anaconda", "cookiecutter-django"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1505337872, "post_id": 46207033, "comment_id": 79377501, "body": "You should take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 973301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15c3d23c0c9389862d0621d88f538e8?s=128&d=identicon&r=PG", "display_name": "BaconSandwich", "link": "https://stackoverflow.com/users/973301/baconsandwich"}, "edited": false, "score": 0, "creation_date": 1505338613, "post_id": 46207137, "comment_id": 79377791, "body": "Thanks Nick. But now I&#39;m more confused. I am able to create barebones python environments with Anaconda.   <a href=\"https://stackoverflow.com/questions/34398676/does-conda-replace-the-need-for-virtualenv\" title=\"does conda replace the need for virtualenv\">stackoverflow.com/questions/34398676/&hellip;</a>"}, {"owner": {"reputation": 4578, "user_id": 5180047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Z8PTw2eJC9E/AAAAAAAAAAI/AAAAAAAAAco/2C4t6AgoQNc/photo.jpg?sz=128", "display_name": "Nick Brady", "link": "https://stackoverflow.com/users/5180047/nick-brady"}, "reply_to_user": {"reputation": 105, "user_id": 973301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15c3d23c0c9389862d0621d88f538e8?s=128&d=identicon&r=PG", "display_name": "BaconSandwich", "link": "https://stackoverflow.com/users/973301/baconsandwich"}, "edited": false, "score": 0, "creation_date": 1505339149, "post_id": 46207137, "comment_id": 79377992, "body": "python environments from either virtualenv or conda do the same thing - run python code. anaconda also has its own package manager which can be used in lieu of pip (e.g. <code>conda install ..</code> instead of <code>pip install ..</code>). Some people like to use one or the other, but at the end of the day it doesn&#39;t matter much. virtualenv and pip are just fine. I use them myself all of the time. I would just avoid confusing yourself with one or the other. Just realize they are doing a lot of the same thing. I recommend using virtualenv until you understand everything since it is the default python  implemenation"}, {"owner": {"reputation": 1831, "user_id": 6228166, "user_type": "registered", "accept_rate": 95, "profile_image": "https://lh4.googleusercontent.com/-YuDXbrAqrP4/AAAAAAAAAAI/AAAAAAAABOM/isB751Xujrw/photo.jpg?sz=128", "display_name": "Bernard &#39;Beta Berlin&#39; Parah", "link": "https://stackoverflow.com/users/6228166/bernard-beta-berlin-parah"}, "edited": false, "score": 0, "creation_date": 1505346626, "post_id": 46207137, "comment_id": 79380146, "body": "I agree with @NickBrady. You should use the recommended tool for the job. Virtualenv works just fine"}], "tags": [], "owner": {"reputation": 4578, "user_id": 5180047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Z8PTw2eJC9E/AAAAAAAAAAI/AAAAAAAAAco/2C4t6AgoQNc/photo.jpg?sz=128", "display_name": "Nick Brady", "link": "https://stackoverflow.com/users/5180047/nick-brady"}, "is_accepted": false, "score": 1, "last_activity_date": 1505941465, "last_edit_date": 1505941465, "creation_date": 1505338299, "answer_id": 46207137, "question_id": 46207033, "link": "https://stackoverflow.com/questions/46207033/anybody-get-django-cookiecutter-to-work-with-anaconda-instead-of-virtualenv/46207137#46207137", "title": "Anybody get django cookiecutter to work with anaconda instead of virtualenv?", "body": "<p>I think you're a bit confused about what anaconda actually is and what a virtual environment is. At the end of the day, they are both just python installations that (hopefully) include the binaries needed to run your code.</p>\n\n<p>The answer to your question is to use a virtual environment, not anaconda for your project, then store your dependencies in a requirements.txt file so that anyone that has your project base code can install the exact dependencies needed for the project to their <em>virtual environment</em>.</p>\n\n<p>So, what is the difference? Anaconda is essentially python with a bunch of preinstalled libraries geared towards data analysis. This means you as a programmer don't have to worry about installing matplotlib, pandas, or a plethora of other libraries. It also includes a binary that executes python code.</p>\n\n<p>A virtual environment is essentially a barebones python environment. It literally copies the binaries needed to run python code to wherever you create your virtual environment. I typically create an environment in my local directory like this (python 3.6+):</p>\n\n<p><code>python -m venv .venv</code></p>\n\n<p>which will create a virtual environment in my current directory in the hidden directory <code>.venv</code>. I can install dependencies to this environment as needed for my project after setting it to my default interpreter using <code>source</code>. e.g. </p>\n\n<p><code>source .venv/bin/activate</code></p>\n\n<p>You'll notice that if you run <code>which python</code>, it'll now point to your shell instead of what the default python was before hand.. for example,</p>\n\n<pre><code>$ which python\n/Users/you/path/to/.venv\n</code></pre>\n\n<p>now you would install your depencies as needed.. i.e. </p>\n\n<p><code>pip install &lt;library&gt;</code></p>\n\n<p>or even better</p>\n\n<p><code>pip install requirements.txt</code></p>\n"}], "owner": {"reputation": 105, "user_id": 973301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15c3d23c0c9389862d0621d88f538e8?s=128&d=identicon&r=PG", "display_name": "BaconSandwich", "link": "https://stackoverflow.com/users/973301/baconsandwich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "closed_date": 1505378991, "answer_count": 1, "score": -1, "last_activity_date": 1505941465, "creation_date": 1505337719, "question_id": 46207033, "link": "https://stackoverflow.com/questions/46207033/anybody-get-django-cookiecutter-to-work-with-anaconda-instead-of-virtualenv", "closed_reason": "Needs details or clarity", "title": "Anybody get django cookiecutter to work with anaconda instead of virtualenv?", "body": "<p>Just when I think I'm starting to get a handle with django I start reading Two Scoops Of Django where they advise to use Cookiecutter instead of the regular django-admin startproject. The authors of Two Scoops are big on virtualenv. I've been using Anaconda because everywhere says it's better than virtualenv. I'm tempted to get rid of anaconda and just use virtualenv to try to get this to work, but figured I'd ask here first.</p>\n\n<p>Anybody know how to get cookiecutter to work with Anaconda???</p>\n"}, {"tags": ["python", "multidimensional-array", "keras", "lstm"], "comments": [{"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505338636, "post_id": 46207004, "comment_id": 79377807, "body": "As it&#39;s <i>many-to-many</i>,  why have you set <code>return_sequences=False</code>? Try to set it to <code>True</code> in second <code>LSTM</code>."}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "reply_to_user": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505339125, "post_id": 46207004, "comment_id": 79377985, "body": "Hi Marcin, I changed it to <code>True</code>  but still getting the same error."}, {"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505339214, "post_id": 46207004, "comment_id": 79378024, "body": "Could you update your code snippet? And which version of <code>keras</code> do you use? Are you 100% sure that it&#39;s the same message?"}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "reply_to_user": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505339451, "post_id": 46207004, "comment_id": 79378109, "body": "Updated the snippet and I&#39;m using 1.2.2 (with Python 2.7.5). The error is <code>Error when checking model target: expected activation_1 to have 2 dimensions, but got array with shape (3000, 15, 1)</code>  and I&#39;m using the <code>model.add(Dense(1)) model.add(Activation(&quot;linear&quot;))</code> formatting."}, {"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 1, "creation_date": 1505340743, "post_id": 46207004, "comment_id": 79378533, "body": "Now I see. You are using relatively old version of <code>keras</code>. Try: <code>model.add(TimeDistributed(Dense(1)))</code>."}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "reply_to_user": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505341927, "post_id": 46207004, "comment_id": 79378906, "body": "Oh I see. I&#39;ll update it right now but using <code>TimeDistributed</code> it gives me the dimensionality error again... <code>ValueError: Input 0 is incompatible with layer timedistributeddense_1: expected ndim=3, found ndim=2</code>"}, {"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505342058, "post_id": 46207004, "comment_id": 79378958, "body": "It&#39;s extremely weird. Could you update a code snippet?"}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "reply_to_user": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505347861, "post_id": 46207004, "comment_id": 79380477, "body": "Well this is embarrassing... After changing to python 3.4, current keras and updating my code for py3 it works! Anyway, thanks for all the help!"}, {"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1505365896, "post_id": 46207004, "comment_id": 79384950, "body": "So may I formulate an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 0, "creation_date": 1505495337, "post_id": 46209512, "comment_id": 79453029, "body": "Hi Daniel, unfortunately this gives me following error: <code>an input and an output are associated with the same recurrent state and should have the same type but have type &#39;TensorType(float32, col)&#39; and &#39;TensorType(float32, matrix)&#39; respectively.</code> However, even though <code>model.add(Dense(1, activation=&quot;linear&quot;))</code> compiles and outputs the expected shape, the results seem wrong - I am only getting values around -1 to 2. It should output values between ~ -5 and ~ 20 - 25"}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 0, "creation_date": 1505495434, "post_id": 46209512, "comment_id": 79453087, "body": "You&#39;re using an old version of keras, right? This answer will probably fit only keras 2."}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 1, "creation_date": 1505495554, "post_id": 46209512, "comment_id": 79453154, "body": "Are you using any <code>TimeDistributed</code> before this LSTM? (LSTM, at least in keras 2, is not supposed to use <code>TimeDistributed</code>, it&#39;s already a temporal layer)."}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 0, "creation_date": 1505495653, "post_id": 46209512, "comment_id": 79453222, "body": "I am now using the current version and <code>Dense</code>. The code is just like in the original question."}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 0, "creation_date": 1505496620, "post_id": 46209512, "comment_id": 79453703, "body": "Ok.... I&#39;m not sure what is the cause of that error. I&#39;ve never seen it. I&#39;ve posted on my answer the two options that I tested and work ok on my machine."}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "edited": false, "score": 0, "creation_date": 1505497537, "post_id": 46209512, "comment_id": 79454153, "body": "Your first code does work for me as well but I am still getting seemingly wrong results like in my first comment to this answer. Your method 2 outputs following error though: <code>TypeError: The broadcast pattern of the output of scan (TensorType(float32, 3D)) is inconsistent with the one provided in output_info (TensorType(float32, col)). The output on axis 1 is False, but it is True on axis 2 in output_info. This can happen if one of the dimension is fixed to 1 in the input, while it is still variable in the output, or vice-verca.[...]</code>"}, {"owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "reply_to_user": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1505499115, "post_id": 46209512, "comment_id": 79454929, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/154555/discussion-between-sbz-and-daniel-moller\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "is_accepted": false, "score": 0, "last_activity_date": 1505496583, "last_edit_date": 1505496583, "creation_date": 1505355810, "answer_id": 46209512, "question_id": 46207004, "link": "https://stackoverflow.com/questions/46207004/keras-lstm-dense-layer-multidimensional-input/46209512#46209512", "title": "Keras LSTM dense layer multidimensional input", "body": "<p>Since you updated your keras version and your error messages changed, here is what works on my machine (Keras 2.0.x)</p>\n\n<p><strong>This works:</strong></p>\n\n<pre><code>model = Sequential()\n\nmodel.add(LSTM(10,input_shape=(15, 10), return_sequences=True))\nmodel.add(Dropout(0.2))\nmodel.add(LSTM( 100, return_sequences=True))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(1, activation='linear'))\n</code></pre>\n\n<p><strong>This also works:</strong></p>\n\n<pre><code>model = Sequential()\n\nmodel.add(LSTM(10,input_shape=(15, 10), return_sequences=True))\nmodel.add(Dropout(0.2))\nmodel.add(LSTM( 100, return_sequences=True))\nmodel.add(Dropout(0.2))\nmodel.add(LSTM(1,return_sequences=True, activation='linear'))\n</code></pre>\n\n<p>Testing with:</p>\n\n<pre><code>x = np.ones((3000,15,10))\ny = np.ones((3000,15,1))\n</code></pre>\n\n<p>Compiling and training with:</p>\n\n<pre><code>model.compile(optimizer='adam',loss='mse')\nmodel.fit(x,y,epochs=4,verbose=2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": true, "score": 2, "last_activity_date": 1505371586, "creation_date": 1505371586, "answer_id": 46212284, "question_id": 46207004, "link": "https://stackoverflow.com/questions/46207004/keras-lstm-dense-layer-multidimensional-input/46212284#46212284", "title": "Keras LSTM dense layer multidimensional input", "body": "<p>In case of <code>keras &lt; 2.0</code>: you need to use <a href=\"https://keras.io/layers/wrappers/#Time\" rel=\"nofollow noreferrer\"><code>TimeDistributed</code></a> wrapper in order to apply it element-wise to a sequence.</p>\n\n<p>In case of <code>keras &gt;= 2.0</code>: <code>Dense</code> layer is applied element-wise by default. </p>\n"}], "owner": {"reputation": 90, "user_id": 5864282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a682a9d88767eec3af97e0c6d901623?s=128&d=identicon&r=PG&f=1", "display_name": "sbz", "link": "https://stackoverflow.com/users/5864282/sbz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3802, "favorite_count": 3, "accepted_answer_id": 46212284, "answer_count": 2, "score": 2, "last_activity_date": 1536035232, "creation_date": 1505337585, "last_edit_date": 1536035232, "question_id": 46207004, "link": "https://stackoverflow.com/questions/46207004/keras-lstm-dense-layer-multidimensional-input", "title": "Keras LSTM dense layer multidimensional input", "body": "<p>I'm trying to create a keras LSTM to predict time series. My x_train is shaped like 3000,15,10 (Examples, Timesteps, Features), y_train like 3000,15,1 and I'm trying to build a many to many model (10 input features per sequence make 1 output / sequence).</p>\n\n<p>The code I'm using is this:</p>\n\n<pre><code>model = Sequential()\n\nmodel.add(LSTM(\n    10,\n    input_shape=(15, 10),\n    return_sequences=True))\nmodel.add(Dropout(0.2))\n\nmodel.add(LSTM(\n    100,\n    return_sequences=True))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(1, activation='linear'))\nmodel.compile(loss=\"mse\", optimizer=\"rmsprop\")\nmodel.fit(\n        X_train, y_train,\n        batch_size=512, nb_epoch=1, validation_split=0.05)\n</code></pre>\n\n<p>However, I can't fit the model when using :</p>\n\n<pre><code>model.add(Dense(1, activation='linear'))\n&gt;&gt; Error when checking model target: expected dense_1 to have 2 dimensions, but got array with shape (3000, 15, 1)\n</code></pre>\n\n<p>or when formatting it this way:</p>\n\n<pre><code>model.add(Dense(1))\nmodel.add(Activation(\"linear\"))\n&gt;&gt; Error when checking model target: expected activation_1 to have 2 dimensions, but got array with shape (3000, 15, 1)\n</code></pre>\n\n<p>I already tried flattening the model ( <code>model.add(Flatten())</code> ) before adding the dense layer but that just gives me <code>ValueError: Input 0 is incompatible with layer flatten_1: expected ndim &gt;= 3, found ndim=2</code>. This confuses me because I think my data actually is 3 dimensional, isn't it?</p>\n\n<p>The code originated from <a href=\"https://github.com/Vict0rSch/deep_learning/tree/master/keras/recurrent\" rel=\"nofollow noreferrer\">https://github.com/Vict0rSch/deep_learning/tree/master/keras/recurrent</a></p>\n"}, {"tags": ["python", "r", "geolocation"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1505338404, "post_id": 46206919, "comment_id": 79377718, "body": "The best way is using Google Maps API. But, you should register your app for getting api-key. Here is link <a href=\"https://developers.google.com/maps/documentation/geocoding/start\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/geocoding/start</a> Allso <code>geopy</code> is good lib for it"}, {"owner": {"reputation": 2137, "user_id": 7331463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LNfDA.jpg?s=128&g=1", "display_name": "Ryan Morton", "link": "https://stackoverflow.com/users/7331463/ryan-morton"}, "edited": false, "score": 1, "creation_date": 1505338426, "post_id": 46206919, "comment_id": 79377728, "body": "Something like this: <a href=\"https://stackoverflow.com/questions/13316185/r-convert-zipcode-or-lat-long-to-county\" title=\"r convert zipcode or lat long to county\">stackoverflow.com/questions/13316185/&hellip;</a>"}, {"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "edited": false, "score": 0, "creation_date": 1505338948, "post_id": 46206919, "comment_id": 79377915, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13316185/r-convert-zipcode-or-lat-long-to-county\">R convert zipcode or lat/long to county</a>"}, {"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1505339761, "post_id": 46206919, "comment_id": 79378210, "body": "not a duplicate. zip codes can span multiple counties while lat loc does not. my question is more specific"}], "answers": [{"comments": [{"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1505338887, "post_id": 46207162, "comment_id": 79377895, "body": "nice! by looking at its GitHub i see the build is failing. what does that mean?"}], "tags": [], "owner": {"reputation": 1236, "user_id": 3056710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NrF1Z.jpg?s=128&g=1", "display_name": "agtoever", "link": "https://stackoverflow.com/users/3056710/agtoever"}, "is_accepted": true, "score": 2, "last_activity_date": 1599758776, "last_edit_date": 1599758776, "creation_date": 1505338427, "answer_id": 46207162, "question_id": 46206919, "link": "https://stackoverflow.com/questions/46206919/how-to-map-latitude-longitude-to-a-specific-us-county/46207162#46207162", "title": "how to map latitude/longitude to a specific US county?", "body": "<p>You could use <a href=\"https://pypi.python.org/pypi/geopy\" rel=\"nofollow noreferrer\">geopy</a>.</p>\n<p>Example from the documentation using Nominatim (Open Street Map):</p>\n<pre><code>&gt;&gt;&gt; from geopy.geocoders import Nominatim\n&gt;&gt;&gt; geolocator = Nominatim(user_agent=&quot;http&quot;)\n&gt;&gt;&gt; location = geolocator.reverse(&quot;52.509669, 13.376294&quot;)\n&gt;&gt;&gt; print(location.address)\nPotsdamer Platz, Mitte, Berlin, 10117, Deutschland, European Union\n&gt;&gt;&gt; print((location.latitude, location.longitude))\n(52.5094982, 13.3765983)\n&gt;&gt;&gt; print(location.raw)\n{'place_id': '654513', 'osm_type': 'node', ...}\n</code></pre>\n<p>The raw output has a dict key <code>country</code>, if one can be found.</p>\n"}], "owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3671, "favorite_count": 0, "closed_date": 1505338948, "accepted_answer_id": 46207162, "answer_count": 1, "score": 1, "last_activity_date": 1599758776, "creation_date": 1505337161, "question_id": 46206919, "link": "https://stackoverflow.com/questions/46206919/how-to-map-latitude-longitude-to-a-specific-us-county", "closed_reason": "Not suitable for this site", "title": "how to map latitude/longitude to a specific US county?", "body": "<p>I have a dataframe containing U.S. <code>latitude</code> and <code>longitude</code> coordinates. </p>\n\n<p>I would like to create a variable that shows the respective U.S. county that includes these coordinates. </p>\n\n<p>How can I do that in R/Python?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "amazon-s3"], "comments": [{"owner": {"reputation": 185, "user_id": 5299052, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/503755266454502/picture?type=large", "display_name": "Haziq Nordin", "link": "https://stackoverflow.com/users/5299052/haziq-nordin"}, "edited": false, "score": 1, "creation_date": 1544146238, "post_id": 46206829, "comment_id": 94182313, "body": "Please do not post code that is incomplete, s3 is not defined in that code snippet."}, {"owner": {"reputation": 365, "user_id": 8605666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cef82088f846f84b753c783ddf9b799c?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman23", "link": "https://stackoverflow.com/users/8605666/jumpman23"}, "reply_to_user": {"reputation": 185, "user_id": 5299052, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/503755266454502/picture?type=large", "display_name": "Haziq Nordin", "link": "https://stackoverflow.com/users/5299052/haziq-nordin"}, "edited": false, "score": 1, "creation_date": 1545049429, "post_id": 46206829, "comment_id": 94478476, "body": "@HaziqNordin The code has been updated to show the reference to s3."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 8605666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cef82088f846f84b753c783ddf9b799c?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman23", "link": "https://stackoverflow.com/users/8605666/jumpman23"}, "edited": false, "score": 1, "creation_date": 1505338119, "post_id": 46206980, "comment_id": 79377585, "body": "The file size is around 10 million records. Would you still recommend keeping it in memory?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 365, "user_id": 8605666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cef82088f846f84b753c783ddf9b799c?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman23", "link": "https://stackoverflow.com/users/8605666/jumpman23"}, "edited": false, "score": 0, "creation_date": 1505338264, "post_id": 46206980, "comment_id": 79377651, "body": "@jumpman23 that depends on your hardware specs. Either way should work. It&#39;s up to you."}, {"owner": {"reputation": 365, "user_id": 8605666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cef82088f846f84b753c783ddf9b799c?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman23", "link": "https://stackoverflow.com/users/8605666/jumpman23"}, "edited": false, "score": 1, "creation_date": 1505338868, "post_id": 46206980, "comment_id": 79377888, "body": "Alright, that worked. I gave you the ole&#39; green check mark."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 3, "creation_date": 1571427556, "post_id": 46206980, "comment_id": 103251492, "body": "I get &quot;Unicode-objects must be encoded before hashing: TypeError&quot;"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 11, "last_activity_date": 1589394617, "last_edit_date": 1589394617, "creation_date": 1505337461, "answer_id": 46206980, "question_id": 46206829, "link": "https://stackoverflow.com/questions/46206829/python-write-temp-file-to-s3/46206980#46206980", "title": "Python Write Temp File to S3", "body": "<p>The file-handle you pass to the <code>s3.put_object</code> is at the final position, when you <code>.read</code> from it, it will return an empty string.</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame(np.random.randint(10,50, (5,5)))\n&gt;&gt;&gt; temp = tempfile.TemporaryFile(mode='w+')\n&gt;&gt;&gt; df.to_csv(temp)\n&gt;&gt;&gt; temp.read()\n''\n</code></pre>\n\n<p>A quick fix is to <code>.seek</code> back to the beginning...</p>\n\n<pre><code>&gt;&gt;&gt; temp.seek(0)\n0\n&gt;&gt;&gt; print(temp.read())\n,0,1,2,3,4\n0,11,42,40,45,11\n1,36,18,45,24,25\n2,28,20,12,33,44\n3,45,39,14,16,20\n4,40,16,22,30,37\n</code></pre>\n\n<p>Note, writing to disk is unnecessary, really, you could just keep everything in memory using a buffer, something like:</p>\n\n<pre><code>from io import StringIO # on python 2, use from cStringIO import StringIO\nbuffer = StringIO()\n\n# Saving df to memory as a temporary file\ndf.to_csv(buffer)\nbuffer.seek(0)\ns3.put_object(buffer, Bucket = '[BUCKET NAME]', Key = 'test.txt')\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 8605666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cef82088f846f84b753c783ddf9b799c?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman23", "link": "https://stackoverflow.com/users/8605666/jumpman23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5683, "favorite_count": 1, "accepted_answer_id": 46206980, "answer_count": 1, "score": 4, "last_activity_date": 1589394617, "creation_date": 1505336661, "last_edit_date": 1545049391, "question_id": 46206829, "link": "https://stackoverflow.com/questions/46206829/python-write-temp-file-to-s3", "title": "Python Write Temp File to S3", "body": "<p>I am currently trying to write a dataframe to a temp file and then upload that temp file into an S3 bucket. When I run my code there currently isn't any action that occurs. Any help would be greatly appreciated. The following is my code:</p>\n\n<pre><code>import csv\nimport pandas as pd\nimport boto3\nimport tempfile\nimport os \n\ns3 = boto3.client('s3', aws_access_key_id = access_key, aws_secret_access_key = secret_key, region_name = region)\n\ntemp = tempfile.TemporaryFile()\nlargedf.to_csv(temp, sep = '|')\ns3.put_object(temp, Bucket = '[BUCKET NAME]', Key = 'test.txt')\ntemp.close()\n</code></pre>\n"}, {"tags": ["python", "django", "apache", "mod-wsgi"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1505336573, "post_id": 46206715, "comment_id": 79376941, "body": "Are you sure you are using python 2.7? Set literals is not supported in python 2.6, but was backported from python 3 to python 2.7."}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 2, "creation_date": 1505336618, "post_id": 46206715, "comment_id": 79376967, "body": "Check what version of Python mod_wsgi is actually compiled for. You cannot force mod_wsgi compiled for one version of Python to work with a virtual environment compiled for a newer Python version. The error indicates your mod_wsgi is compiled for Python 2.6. <a href=\"http://modwsgi.readthedocs.io/en/develop/user-guides/checking-your-installation.html#python-installation-in-use\" rel=\"nofollow noreferrer\">modwsgi.readthedocs.io/en/develop/user-guides/&hellip;</a>"}, {"owner": {"reputation": 1503, "user_id": 5704891, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ace9d96632c605a337b3559550bb2a80?s=128&d=identicon&r=PG&f=1", "display_name": "Full Of Stack", "link": "https://stackoverflow.com/users/5704891/full-of-stack"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1505336796, "post_id": 46206715, "comment_id": 79377047, "body": "@H&#229;kenLid Yes, I&#39;m sure. The result of excute <code>env&#47;bin&#47;python --version</code> is <code>Python 2.7.13</code>."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 1, "creation_date": 1505337044, "post_id": 46206715, "comment_id": 79377160, "body": "The line that causes the error is valid syntax in python 2.7, but would raise  a syntaxerror in python 2.6. @GrahamDumpleton&#39;s comment seems to explain what&#39;s wrong. mod_wsgi is not using env/bin/python, but instead python 2.6. It&#39;s very common to have several versions of python installed."}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1505337340, "post_id": 46206715, "comment_id": 79377274, "body": "Yes, read the link. The mod_wsgi module doesn&#39;t use the command line program from the virtual environment. It is linked to the Python shared library and pointing it at a virtual environment for a different version doesn&#39;t change that."}, {"owner": {"reputation": 1503, "user_id": 5704891, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ace9d96632c605a337b3559550bb2a80?s=128&d=identicon&r=PG&f=1", "display_name": "Full Of Stack", "link": "https://stackoverflow.com/users/5704891/full-of-stack"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1505338574, "post_id": 46206715, "comment_id": 79377776, "body": "@GrahamDumpleton Thank you. I removed mod_wsgi and reinstall that by <a href=\"http://modwsgi.readthedocs.io/en/develop/user-guides/quick-installation-guide.html\" rel=\"nofollow noreferrer\">this guide</a>. My problem is now solved."}], "owner": {"reputation": 1503, "user_id": 5704891, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ace9d96632c605a337b3559550bb2a80?s=128&d=identicon&r=PG&f=1", "display_name": "Full Of Stack", "link": "https://stackoverflow.com/users/5704891/full-of-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505336212, "creation_date": 1505336212, "question_id": 46206715, "link": "https://stackoverflow.com/questions/46206715/django-on-mod-wsgi-syntaxerror", "title": "Django on mod_wsgi syntaxError", "body": "<p>I installed Django 1.11.5 with Virtualenv on mod_wsgi.</p>\n\n<p>python version is 2.7.13.</p>\n\n<p>I get this error in <code>/var/log/httpd/error_log</code>:</p>\n\n<pre><code>[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26] mod_wsgi (pid=9606): Target WSGI script '/var/www/html/memit/memit/wsgi.py' cannot be loaded as Python module.\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26] mod_wsgi (pid=9606): Exception occurred processing WSGI script '/var/www/html/memit/memit/wsgi.py'.\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26] Traceback (most recent call last):\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]   File \"/var/www/html/memit/memit/wsgi.py\", line 13, in &lt;module&gt;\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]     from django.core.wsgi import get_wsgi_application\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]   File \"/var/www/html/memit/env/lib/python2.7/site-packages/django/__init__.py\", line 3, in &lt;module&gt;\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]     from django.utils.version import get_version\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]   File \"/var/www/html/memit/env/lib/python2.7/site-packages/django/utils/version.py\", line 7, in &lt;module&gt;\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]     from django.utils.lru_cache import lru_cache\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]   File \"/var/www/html/memit/env/lib/python2.7/site-packages/django/utils/lru_cache.py\", line 28\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]      fasttypes = {int, str, frozenset, type(None)},\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]                      ^\n[Wed Sep 13 16:41:00 2017] [error] [client 5.125.70.26]  SyntaxError: invalid syntax\n</code></pre>\n\n<p>And My Apache virtual host is:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName memit.ir\n    ServerAlias www.memit.ir\n    DocumentRoot /var/www/html/memit\n\n    WSGIDaemonProcess memit python-path=/var/www/html/memit:/var/www/html/memit/env/lib/python2.7/site-packages\nWSGIProcessGroup memit\nWSGIScriptAlias / /var/www/html/memit/memit/wsgi.py\n\n    &lt;Directory /var/www/html/memit&gt;\n      Allow from all\n      Options -MultiViews\n      # Uncomment this if you're on Apache &gt;= 2.4:\n      #Require all granted\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>What is wrong?</p>\n\n<p>How to fix this problem?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": true, "score": 1, "last_activity_date": 1505338115, "last_edit_date": 1505338115, "creation_date": 1505337465, "answer_id": 46206981, "question_id": 46206689, "link": "https://stackoverflow.com/questions/46206689/modify-subject-body-after-message-from-string-in-python/46206981#46206981", "title": "Modify Subject, Body after message_from_string in Python", "body": "<p>You want to replace <code>Subject</code> header for message.</p>\n\n<pre><code>msg.replace_header('Subject', 'Example Subject')\n</code></pre>\n\n<p>Assigning to an index always adds a new header. Only use when header doesn't exist.</p>\n\n<pre><code>msg['Subject'] = 'Example Subject' # add new subject header\nprint(msg.items)\n\n&gt;&gt; [('From', '950'), ('From_TOA', 'D0 alphanumeric, unknown'), \n    ('From_SMSC', '421950900050'), ('Sent', '17-09-13 17:41:17'), \n    ('Received', '17-09-13 17:48:21'), ('Subject', 'GSM 1'),\n    ('Modem', 'GSM1'), ('IMSI', '231030011459971'), \n    ('Report', 'no'), ('Alphabet', 'ISO'),\n    ('Length', '5'), ('Original-From', '950'),\n    ('Subject', 'Example Subject')]\n</code></pre>\n"}], "owner": {"reputation": 2335, "user_id": 580644, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a17f14efc41d60503cdb9c427a682bb?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/580644/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 46206981, "answer_count": 1, "score": 0, "last_activity_date": 1505338115, "creation_date": 1505336085, "question_id": 46206689, "link": "https://stackoverflow.com/questions/46206689/modify-subject-body-after-message-from-string-in-python", "title": "Modify Subject, Body after message_from_string in Python", "body": "<p>I am trying to modify an email2sms script for Smstools 3.</p>\n\n<p>A sample incoming sms file:</p>\n\n<pre><code>$ cat /var/spool/sms/incoming/GSM1.AtEO8G\nFrom: 950\nFrom_TOA: D0 alphanumeric, unknown\nFrom_SMSC: 421950900050\nSent: 17-09-13 17:41:17\nReceived: 17-09-13 17:48:21\nSubject: GSM1\nModem: GSM1\nIMSI: 231030011459971\nReport: no\nAlphabet: ISO\nLength: 5\n\ntest1\n</code></pre>\n\n<p>The script is using the following code to format the message:</p>\n\n<pre><code>if (statuscode == 'RECEIVED'):\n    smsfile = open(smsfilename)\n    msg = email.message_from_string(smsfile.read())\n    msg['Original-From'] = msg['From']\n    msg['To'] = forwardto\n</code></pre>\n\n<p>The problem: I want to modify Subject field in the code above. I tried something <code>msg['Subject '] = 'Example'</code> (after msg['To']), but the Subject field is not overwrited, but doubled. Anybody knows how to modify this after <code>email.message_from_string()</code> function?</p>\n"}, {"tags": ["python", "raspberry-pi", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": true, "score": 3, "last_activity_date": 1505337445, "last_edit_date": 1505337445, "creation_date": 1505336302, "answer_id": 46206736, "question_id": 46206651, "link": "https://stackoverflow.com/questions/46206651/how-to-change-the-background-color-in-pyqt4/46206736#46206736", "title": "How to change the background color in PyQt4", "body": "<p>You can set <code>styleSheet</code> for window.</p>\n\n<pre><code>self.showFullScreen()\nself.setStyleSheet(\"background-color: black;\")\n</code></pre>\n\n<h2>Reference</h2>\n\n<ul>\n<li><a href=\"http://doc.qt.io/qt-4.8/stylesheet-reference.html\" rel=\"nofollow noreferrer\">Stylesheet Reference</a></li>\n</ul>\n"}], "owner": {"reputation": 104, "user_id": 7582868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c548d59ebd58a6fd7815cd0dd18fe1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebiancoder", "link": "https://stackoverflow.com/users/7582868/sebiancoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7219, "favorite_count": 0, "accepted_answer_id": 46206736, "answer_count": 1, "score": 3, "last_activity_date": 1505337445, "creation_date": 1505335935, "question_id": 46206651, "link": "https://stackoverflow.com/questions/46206651/how-to-change-the-background-color-in-pyqt4", "title": "How to change the background color in PyQt4", "body": "<p>I am really new to PyQt4(just learned what it is two days ago) and I know that this question probably has a really easy answer but I can't find it anywhere. I am trying to change the background color of the window to black. I have this code so far.</p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui\n\nclass Display(QtGui.QMainWindow):\n    def __init__(self):\n        super(Display, self).__init__()\n        self.ShowFullScreen()\n        self.show()\n\nif name == '__main__':\n    app = QtGui.QApplication(sys.argv)\n    GUI = Display()\n    sys.exit(app.exec())\n</code></pre>\n\n<p>When I run this I get a white window. Is there a method I could run to change it to black?</p>\n"}, {"tags": ["python", "debugging", "pycharm"], "owner": {"reputation": 4202, "user_id": 1637126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51fcf955014c0e6094e7dbf9ed120ca0?s=128&d=identicon&r=PG", "display_name": "Kevin Johnsrude", "link": "https://stackoverflow.com/users/1637126/kevin-johnsrude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505335841, "creation_date": 1505335841, "question_id": 46206630, "link": "https://stackoverflow.com/questions/46206630/pycharm-debugger-attaches-to-local-process-but-doesnt-pause", "title": "PyCharm debugger attaches to local process but doesn&#39;t pause", "body": "<p>I've got a long-running Python 3.5 process that has hung.  I followed <a href=\"https://www.jetbrains.com/help/pycharm/attaching-to-local-process.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/pycharm/attaching-to-local-process.html</a> to attach to the process. </p>\n\n<p>I have successfully attached to the process</p>\n\n<pre><code>Attaching to a process with PID=4332\nC:\\Python35\\python3.exe \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2017.2\\helpers\\pydev\\pydevd_attach_to_process\\attach_pydevd.py\" --port 13980 --pid 4332\nConnected to pydev debugger (build 172.3317.103)\nAttach finished successfully.\n</code></pre>\n\n<p>but when I press the PyCharm debugger pause button to examine the state nothing happens.</p>\n"}, {"tags": ["python", "c++", "performance", "numpy", "eigen"], "comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 1, "creation_date": 1505335881, "post_id": 46206580, "comment_id": 79376584, "body": "The code doing the actual work for Numpy is written in C.  If you want to understand the speed difference, you need to look at the algorithms the different underlying libraries use.  What laguage you write the program making the library call in is completely irrelevant."}, {"owner": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "reply_to_user": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1505335990, "post_id": 46206580, "comment_id": 79376646, "body": "Yes @SvenMarnach I don&#39;t expect that c++ is faster I just would expect that they should have a similar speed because they should both use MKL or OpenBLAS in the back end."}, {"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1505336248, "post_id": 46206580, "comment_id": 79376791, "body": "What&#39;s the timing when compiling with <code>-DNDEBUG</code>?"}, {"owner": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1505336313, "post_id": 46206580, "comment_id": 79376822, "body": "@HenriMenke its 2.4s as well"}, {"owner": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1505337613, "post_id": 46206580, "comment_id": 79377384, "body": "What&#39;s your CPU? Here, on a 2.6GHz core7 (Haswell), I get 1.4s using Eigen only and no openmp, and 0.7s if using openmp. Of course you need to compile with -march=native to fully exploit your CPU."}, {"owner": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "reply_to_user": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1505337879, "post_id": 46206580, "comment_id": 79377504, "body": "@ggael Intel(R) Core(TM) i5-3320M CPU @ 2.60GHz Looks like Henri Menke found the bug ;)"}, {"owner": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1505338644, "post_id": 46206580, "comment_id": 79377811, "body": "Well, the speed ratio between Eigen and MKL is also too much, make sure to compile with <code>-march=native</code> and Eigen 3.x to leverage the AVX instructions of your CPU. Since I get 0.7s here, you should get something between 1s and max 2s."}], "answers": [{"comments": [{"owner": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "edited": false, "score": 0, "creation_date": 1505336519, "post_id": 46206746, "comment_id": 79376914, "body": "They are indeed equally fast then BUT numpy uses <code>float64</code> which is the same as double in C++."}, {"owner": {"reputation": 2956, "user_id": 5909388, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uNuNWo_bCHA/AAAAAAAAAAI/AAAAAAAAABg/rciVxcULLHc/photo.jpg?sz=128", "display_name": "Kaveh Vahedipour", "link": "https://stackoverflow.com/users/5909388/kaveh-vahedipour"}, "reply_to_user": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "edited": false, "score": 0, "creation_date": 1505337022, "post_id": 46206746, "comment_id": 79377150, "body": "Numpy uses openblas and MKL too. So its using the 32bit precision for the LU factorization anyway."}], "tags": [], "owner": {"reputation": 2956, "user_id": 5909388, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uNuNWo_bCHA/AAAAAAAAAAI/AAAAAAAAABg/rciVxcULLHc/photo.jpg?sz=128", "display_name": "Kaveh Vahedipour", "link": "https://stackoverflow.com/users/5909388/kaveh-vahedipour"}, "is_accepted": false, "score": 0, "last_activity_date": 1505336349, "creation_date": 1505336349, "answer_id": 46206746, "question_id": 46206580, "link": "https://stackoverflow.com/questions/46206580/eigen-mkl-or-openblas-slower-than-numpy-scipy-openblas/46206746#46206746", "title": "Eigen + MKL or OpenBLAS slower than Numpy/Scipy + OpenBLAS", "body": "<p>This is not a fair comparison. The python routine is operating on float precision while the c++ code needs to crunch doubles. This exactly doubles the computation time.</p>\n\n<pre><code>&gt;&gt;&gt; type(np.random.random_sample())\n&lt;type 'float'&gt;\n</code></pre>\n\n<p>You should compare with <code>MatrixXf</code> instead of <code>MatrixXd</code> and your MKL code should be equally fast. </p>\n"}, {"tags": [], "owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "is_accepted": true, "score": 4, "last_activity_date": 1505337116, "creation_date": 1505337116, "answer_id": 46206907, "question_id": 46206580, "link": "https://stackoverflow.com/questions/46206580/eigen-mkl-or-openblas-slower-than-numpy-scipy-openblas/46206907#46206907", "title": "Eigen + MKL or OpenBLAS slower than Numpy/Scipy + OpenBLAS", "body": "<p>The timing is just wrong.  That's a typical symptom of <a href=\"https://stackoverflow.com/q/7335920/1944004\">wall clock time vs. CPU time</a>.  When I use the <code>system_clock</code> from the <code>&lt;chrono&gt;</code> header it \u201cmagically\u201d becomes faster.</p>\n\n<pre><code>#define EIGEN_USE_MKL_ALL\n#include &lt;iostream&gt;\n#include &lt;Eigen/Dense&gt;\n#include &lt;Eigen/LU&gt;\n#include &lt;chrono&gt;\n\nint main()\n{\n    int const n = Eigen::nbThreads( );\n    std::cout &lt;&lt; \"#Threads: \" &lt;&lt; n &lt;&lt; std::endl;\n\n    int const size = 4000;\n    Eigen::MatrixXd a = Eigen::MatrixXd::Random(size,size);\n\n    auto start = std::chrono::system_clock::now();\n\n    Eigen::PartialPivLU&lt;Eigen::MatrixXd&gt; lu(a);\n\n    auto stop = std::chrono::system_clock::now();\n\n    std::cout &lt;&lt; \"Elasped time is \"\n              &lt;&lt; std::chrono::duration&lt;double&gt;{stop - start}.count()\n              &lt;&lt; \" seconds.\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>I compile with</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>icc -O3 -mkl -std=c++11 -DNDEBUG -I/usr/include/eigen3/ test.cpp\n</code></pre>\n\n<p>and get the output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#Threads: 1\nElasped time is 0.295782 seconds.\n</code></pre>\n\n<p>Your Python version reports <code>0.399146080017</code> on my machine.</p>\n\n<hr>\n\n<p>Alternatively, to obtain comparable timing you could use <code>time.clock()</code> (CPU time) in Python instead of <code>time.time()</code> (wall clock time).</p>\n"}], "owner": {"reputation": 1434, "user_id": 2501747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dPJWC.png?s=128&g=1", "display_name": "Wikunia", "link": "https://stackoverflow.com/users/2501747/wikunia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1213, "favorite_count": 0, "accepted_answer_id": 46206907, "answer_count": 2, "score": 2, "last_activity_date": 1505337116, "creation_date": 1505335638, "last_edit_date": 1505336090, "question_id": 46206580, "link": "https://stackoverflow.com/questions/46206580/eigen-mkl-or-openblas-slower-than-numpy-scipy-openblas", "title": "Eigen + MKL or OpenBLAS slower than Numpy/Scipy + OpenBLAS", "body": "<p>I'm starting with c++ atm and want to work with matrices and speed up things in general. Worked with Python+Numpy+OpenBLAS before.\nThought c++ + Eigen + MKL might be faster or at least not slower.</p>\n\n<p>My c++ code:</p>\n\n<pre><code>#define EIGEN_USE_MKL_ALL\n#include &lt;iostream&gt;\n#include &lt;Eigen/Dense&gt;\n#include &lt;Eigen/LU&gt;\n#include &lt;chrono&gt;\n\nusing namespace std;\nusing namespace Eigen;\n\nint main()\n{\n    int n = Eigen::nbThreads( );\n    cout &lt;&lt; \"#Threads: \" &lt;&lt; n &lt;&lt; endl;\n\n    uint16_t size = 4000;\n    MatrixXd a = MatrixXd::Random(size,size);\n\n    clock_t start = clock ();\n    PartialPivLU&lt;MatrixXd&gt; lu = PartialPivLU&lt;MatrixXd&gt;(a);\n\n    float timeElapsed = double( clock() - start ) / CLOCKS_PER_SEC; \n    cout &lt;&lt; \"Elasped time is \" &lt;&lt; timeElapsed &lt;&lt; \" seconds.\" &lt;&lt; endl ;\n}\n</code></pre>\n\n<p>My Python code:</p>\n\n<pre><code>import numpy as np\nfrom time import time\nfrom scipy import linalg as la\n\nsize = 4000\n\nA = np.random.random((size, size))\n\nt = time()\nLU, piv = la.lu_factor(A)\nprint(time()-t)\n</code></pre>\n\n<p>My timings: </p>\n\n<pre><code>C++     2.4s\nPython  1.2s\n</code></pre>\n\n<p>Why is c++ slower than Python?</p>\n\n<p>I am compiling c++ using:</p>\n\n<pre><code>g++ main.cpp -o main -lopenblas -O3 -fopenmp  -DMKL_LP64 -I/usr/local/include/mkl/include\n</code></pre>\n\n<p>MKL is definiely working: If I disable it the running time is around 13s.</p>\n\n<p>I also tried C++ + OpenBLAS which gives me around 2.4s as well.</p>\n\n<p>Any ideas why C++ and Eigen are slower than numpy/scipy?</p>\n"}, {"tags": ["python", "pca", "sklearn-pandas"], "answers": [{"tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": true, "score": 1, "last_activity_date": 1505338490, "creation_date": 1505338490, "answer_id": 46207171, "question_id": 46206562, "link": "https://stackoverflow.com/questions/46206562/need-to-perform-principal-component-analysis-on-a-dataframe-collection-in-python/46207171#46207171", "title": "Need to perform Principal component analysis on a dataframe collection in python using numpy or sklearn", "body": "<p>Your <em>dataframe collection</em> is a dictionary (<code>dict</code>) of <code>DataFrame</code> objects.</p>\n\n<p>To perform the analysis you need to have a array of data to work with. So the first step is to convert the data into a single <code>DataFrame</code>. Pandas natively supports concatenating from a dictionary of dataframes, e.g.</p>\n\n<pre><code>import pandas as pd\n\ndf = {\n    'Currency1': pd.DataFrame([[0.297453,0.5]]),\n    'Currency2': pd.DataFrame([[0.297453,0.5]])\n}      \n\nX = pd.concat(df)\n</code></pre>\n\n<p>You can now perform the PCA on the values from the <code>DataFrame</code>, e.g.</p>\n\n<pre><code>pca = PCA(n_components=5)\npca.fit(X.values)\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 46207171, "answer_count": 1, "score": 0, "last_activity_date": 1505338490, "creation_date": 1505335561, "question_id": 46206562, "link": "https://stackoverflow.com/questions/46206562/need-to-perform-principal-component-analysis-on-a-dataframe-collection-in-python", "title": "Need to perform Principal component analysis on a dataframe collection in python using numpy or sklearn", "body": "<p>I am having a <strong>'dataframe collection'</strong> df with data below. I am trying to perform Principal component analysis(PCA) on dataframe collection using sklearn. But i am getting Typeerror</p>\n\n<pre><code>from sklearn.decomposition import PCA\ndf  # dataframe collection\npca = PCA(n_components=5)\npca.fit(X)\n</code></pre>\n\n<p>How to convert dataframe collection to array matrix with sequence. I think if i convert into array matrix, i will be able to do PCA</p>\n\n<p>data:</p>\n\n<pre><code>{'USSP2 CMPN Curncy': \n 0       0.297453\n 1       0.320505\n 2       0.345978\n 3       0.427871\n Name: (USSP2 CMPN Curncy, PX_LAST), Length: 1747, dtype: float64, \n 'MARGDEBT Index': \n 0     0.095478\n 1     0.167469\n 2     0.186317\n 3     0.203729\n Name: (MARGDEBT Index, PX_LAST), Length: 79, dtype: float64, \n 'SL% SMT% Index': \n 0     0.163636\n 1     0.000000\n 2     0.000000\n 3     0.363636\n Name: (SL% SMT% Index, PX_LAST), dtype: float64, \n 'FFSRAIWS Index': \n 0     0.157234\n 1     0.278174\n 2     0.530603\n 3     0.526519\n Name: (FFSRAIWS Index, PX_LAST), dtype: float64, \n 'USPHNSA Index': \n 0     0.107330\n 1     0.213351\n 2     0.544503\n 3     0.460733\n Name: (USPHNSA Index, PX_LAST), Length: 79, dtype: float64]\n</code></pre>\n\n<p>Can anyone help in PCA on dataframe collection. Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "scrapy"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 1, "creation_date": 1505336004, "post_id": 46206557, "comment_id": 79376656, "body": "Why not handle all in one spider and different method names and pass the request. Ideally your run one spider per crawl, So that means you need to either output results from spider1 at some place and then input them to spider 2"}, {"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1505336455, "post_id": 46206557, "comment_id": 79376887, "body": "Right.  I had a similar approach before but ultimately I wanted to separate it into two spiders ( since theres a lot going on from two page sources and they will be added to two seperate databases later ) and was hoping to accomplish this by serving the requests from spider 1 to 2 w/o having spider 1 write the urls to a file.."}], "answers": [{"tags": [], "owner": {"reputation": 9758, "user_id": 3033586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mSQgK.jpg?s=128&g=1", "display_name": "madzohan", "link": "https://stackoverflow.com/users/3033586/madzohan"}, "is_accepted": false, "score": 0, "last_activity_date": 1505338228, "creation_date": 1505338228, "answer_id": 46207124, "question_id": 46206557, "link": "https://stackoverflow.com/questions/46206557/scrapy-yield-request-from-one-spider-to-another/46207124#46207124", "title": "Scrapy yield request from one spider to another", "body": "<p>You could use Redis as shared resource between all spiders <a href=\"https://github.com/rmax/scrapy-redis\" rel=\"nofollow noreferrer\">https://github.com/rmax/scrapy-redis</a></p>\n\n<ul>\n<li><p>Run all N spiders (don't close on idle state), so each of them will be connected to same Redis and waiting tasks(url, request headers) from there;</p></li>\n<li><p>As the side-effect push task data to Redis from X_spider with specific key (Y_spider name). </p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 1021979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7466a5cca8761d0477fe879bd8cb5860?s=128&d=identicon&r=PG", "display_name": "Charles B", "link": "https://stackoverflow.com/users/1021979/charles-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1543322488, "creation_date": 1543322488, "answer_id": 53499975, "question_id": 46206557, "link": "https://stackoverflow.com/questions/46206557/scrapy-yield-request-from-one-spider-to-another/53499975#53499975", "title": "Scrapy yield request from one spider to another", "body": "<p>What about using inheritance? \"parse\" function names should be different.\nIf your first spider inherits from the second, it will be able to set the callback to self.parse_function_spider2</p>\n"}], "owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1017, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1543322488, "creation_date": 1505335524, "question_id": 46206557, "link": "https://stackoverflow.com/questions/46206557/scrapy-yield-request-from-one-spider-to-another", "title": "Scrapy yield request from one spider to another", "body": "<p>I have the following code:</p>\n\n<pre><code>#FirstSpider.py\nclass FirstSpider(scrapy.Spider):\n\n    name = 'first'\n    start_urls = ['https://www.basesite.com']\n    next_urls = []\n\n    def parse(self, response):\n        for url in response.css('bunch &gt; of &gt; css &gt; here'):\n        self.next_urls.append(url.css('more &gt; css &gt; here'))\n        l = Loader(item=Item(), selector=url.css('more &gt; css'))\n        l.add_css('add', 'more &gt; css')\n        ...\n        ...\n        yield l.load_item()\n        for url in self.next_urls:\n            new_urls = self.start_urls[0] + url\n            yield scrapy.Request(new_urls, callback=SecondSpider.parse_url)\n\n#SecondSpider.py\nclass SecondSpider(scrapy.Spider):\n\n    name = 'second'\n    start_urls = ['https://www.basesite.com']\n\n\n    def parse_url(self):\n        \"\"\"Parse team data.\"\"\"\n        return self\n        # self is a HtmlResponse not a 'response' object\n\n\n    def parse(self, response):\n        \"\"\"Parse all.\"\"\"\n        summary = self.parse_url(response)\n        return summary\n\n#ThirdSpider.py\nclass ThirdSpider(scrapy.Spider):\n    # take links from second spider, continue:\n</code></pre>\n\n<p>I want to be able to pass the url scraped in Spider 1 to Spider 2 (in a different script).  I'm curious as to why when I do, the 'response' is a <code>HtmlResponse</code> and not a <code>response</code> object ( When doing something similar to a method in the same class as Spider 1; I don't have this issue )</p>\n\n<p>What am i missing here? How do i just pass the original response(s) to the second spider? ( and from the second onto the third, etc..?)</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1505335866, "post_id": 46206538, "comment_id": 79376576, "body": "What should a result be if in <code>col3</code> we will have these items: <code>1,2,3,2,1,4,5</code>? It should be all items which are greater than min element?"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 0, "creation_date": 1505337917, "post_id": 46206538, "comment_id": 79377524, "body": "Can you add the error you are seeing to your question? It will make it much easier to debug."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 3708176, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77999384cf5f7e39af7bc0a4b3889735?s=128&d=identicon&r=PG&f=1", "display_name": "bernie", "link": "https://stackoverflow.com/users/3708176/bernie"}, "edited": false, "score": 0, "creation_date": 1505401974, "post_id": 46207192, "comment_id": 79408277, "body": "Thanks a lot, this seems to work and it&#39;s a lot simpler than I thought it would be. I was indeed needlessly complicating the problem. I guess I should maybe rephrase the question in pseudo code"}, {"owner": {"reputation": 6367, "user_id": 6914441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbc12c764b93fa915b8e5384f521fe12?s=128&d=identicon&r=PG&f=1", "display_name": "jferard", "link": "https://stackoverflow.com/users/6914441/jferard"}, "reply_to_user": {"reputation": 39, "user_id": 3708176, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77999384cf5f7e39af7bc0a4b3889735?s=128&d=identicon&r=PG&f=1", "display_name": "bernie", "link": "https://stackoverflow.com/users/3708176/bernie"}, "edited": false, "score": 0, "creation_date": 1505404024, "post_id": 46207192, "comment_id": 79409684, "body": "@bernie You are using Python, a high level language: it requires some practice to avoid complicating your program with low level concerns. Having said that, my code implies a sort and may be slower that what you expected (<i>O(n lg n)</i> vs a possible <i>O(n)</i> time complexity)."}], "tags": [], "owner": {"reputation": 6367, "user_id": 6914441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbc12c764b93fa915b8e5384f521fe12?s=128&d=identicon&r=PG&f=1", "display_name": "jferard", "link": "https://stackoverflow.com/users/6914441/jferard"}, "is_accepted": true, "score": 0, "last_activity_date": 1505339011, "last_edit_date": 1505339011, "creation_date": 1505338621, "answer_id": 46207192, "question_id": 46206538, "link": "https://stackoverflow.com/questions/46206538/python-select-lines-based-on-maximum-value-of-a-column/46207192#46207192", "title": "python select lines based on maximum value of a column", "body": "<p>I think you are lost in the details (and me too). Here is a version that does what you want, but is more simple:</p>\n\n<pre><code>m = [[1, 2, 1, 5, 3], [1, 1, 2, 3, 4], [2, 2, 5, 2, 1]]\ns = sorted(m,  key=lambda r:(r[0], -r[2]))\nprint(s) \nseen = set()\nprint( [r for r in s if r[0] not in seen and not seen.add(r[0])])\n</code></pre>\n\n<p>The first line defines <code>m</code> as the list of rows you get from the file.</p>\n\n<p>The second line sorts those rows on the value in the first column (<code>r[0]</code>), then on the value in the third column, but from the larger to the smaller value (<code>-r[2]</code>):</p>\n\n<pre><code>s=[[1, 1, 2, 3, 4], [1, 2, 1, 5, 3], [2, 2, 5, 2, 1]]\n</code></pre>\n\n<p>Now you need to skip the rows when you have seen the value in the first column at least once. We use a set <code>seen</code>to store the <code>r[0]</code> values we have already seen. If <code>r[0]</code> is not in <code>seen</code>, we should keep the row and put it in <code>seen</code>, in such a way that we discard the row the next time we see that <code>r[0]</code>. That's a little tricky:</p>\n\n<pre><code>if r[0] not in seen and not seen.add(r[0])\n</code></pre>\n\n<p>Note that <code>not seen.add(r[0])</code> is always true, because <code>seen.add</code> returns <code>None</code>. Thus:</p>\n\n<ul>\n<li><p>if <code>r[0]</code> is not in <code>seen</code>, we put <code>r[0]</code> in <code>seen</code> and keep the row</p></li>\n<li><p>if <code>r[0]</code> is in <code>seen</code>, we return false and discard the row.</p></li>\n</ul>\n\n<p>You could express it like that too:</p>\n\n<pre><code>if not (r[0] in seen or seen.add(r[0]))\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 3708176, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77999384cf5f7e39af7bc0a4b3889735?s=128&d=identicon&r=PG&f=1", "display_name": "bernie", "link": "https://stackoverflow.com/users/3708176/bernie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 46207192, "answer_count": 1, "score": 0, "last_activity_date": 1505339011, "creation_date": 1505335455, "question_id": 46206538, "link": "https://stackoverflow.com/questions/46206538/python-select-lines-based-on-maximum-value-of-a-column", "title": "python select lines based on maximum value of a column", "body": "<p>I'm not very familiar with Python, but there's something I need to do. I have an ASCII file (space-separated) of several columns. In the first column, some values are duplicates. From these duplicate values, I need to select the lines which have a larger value in the 3rd column, for example, and return an array back.\nI'd like something like this:</p>\n\n<pre><code>#col1    col2    col3    col4    col5\n1         1       2       3       4\n1         2       1       5       3\n2         2       5       2       1\n</code></pre>\n\n<p>would return lines 1 and 3. \nHere's what I have so far: I defined an auxiliary function to detect the indexes of the duplicates (all second entries)</p>\n\n<pre><code>def list_duplicates(seq):\n    seen = set()\n    seen_add = seen.add\n    return [idx for idx,item in enumerate(seq) if item in seen or seen_add(item)]\n</code></pre>\n\n<p>and then try to use it to read the list (that I loaded from a file with np.genfromtxt naming each column)</p>\n\n<pre><code>def select_high(ndarray, dup_col, sel_col): #dup_col is the column where the duplicates are, sel_col is the column where we select the larger value\n    result = []\n    dup = list_duplicates(ndarray[dup_col])\n    dupdup = [x-1 for x in dup]\n    for i in range(len(ndarray[sel_col])):        \n        if i in dup:\n            mid = []\n            maxi = max(ndarray[sel_col][i], ndarray[sel_col][i-1])\n            maxi_index = np.where(ndarray[sel_col] == maxi)[0][0]\n            for name in ndarray.dtype.names:\n                mid.append(ndarray[name][maxi_index])\n            result.append(mid)\n        else:\n            mid = []\n            if i not in dupdup:\n                for name in ndarray.dtype.names:\n                    mid.append(ndarray[name][i])\n            result.append(mid)\n\n    return np.asarray(result)\n</code></pre>\n\n<p>but what's happening is that whenever there are duplicates I have to remove the <code>else</code> part or it gives me an error, and whenever there are no duplicates I have to put it back.\nAny help is appreciated, sorry for the long post and I hope I made myself clear</p>\n"}, {"tags": ["python", "python-3.x", "post", "web-scraping"], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516800830, "creation_date": 1505335454, "last_edit_date": 1516800830, "question_id": 46206536, "link": "https://stackoverflow.com/questions/46206536/unable-to-glean-data-from-other-pages", "title": "Unable to glean data from other pages", "body": "<p>I've written a script in python using post requests to get data from a webpage. The webpage traverses 57 pages with a next or dropdown button. What I've written so far can fetch data only from the first page. I tried a lot to find a way to capture data going through it's next pages but failed. How can I get data from all of the 57 pages? Thanks in advance.</p>\n\n<p>Here is what I've tried so far:</p>\n\n<pre><code>import requests\nfrom lxml import html\n\nwith requests.session() as session:\n    session.headers = {\"User-Agent\":\"Mozilla/5.0\"}\n    page = session.post(\"http://registers.centralbank.ie/(X(1)S(cvjcqdbijraticyy2ssdyqav))/FundSearchResultsPage.aspx?searchEntity=FundServiceProvider&amp;searchType=Name&amp;searchText=&amp;registers=6%2c29%2c44%2c45&amp;AspxAutoDetectCookieSupport=1\", \n            data={'ctl00$cphRegistersMasterPage$gvwSearchResults$ctl18$ddlPages':'2'}, \n            headers={'Content-Type': 'application/x-www-form-urlencoded'})\n\n\n    tree = html.fromstring(page.text)\n    titles = tree.cssselect(\"table\")[1]\n    list_row =[[tab_d.text_content() for tab_d in item.cssselect('td.gvwColumn,td.entityNameColumn,td.entityTradingNameColumn')]\n                for item in titles.cssselect('tr')]\n\nfor data in list_row:\n    print(' '.join(data))\n</code></pre>\n\n<p>This is <a href=\"http://registers.centralbank.ie/(X(1)S(cvjcqdbijraticyy2ssdyqav))/FundSearchResultsPage.aspx?searchEntity=FundServiceProvider&amp;searchType=Name&amp;searchText=&amp;registers=6%2c29%2c44%2c45&amp;AspxAutoDetectCookieSupport=1\" rel=\"nofollow noreferrer\">The Link</a> to that page</p>\n\n<p>Btw, I didn't find any paginated links through which I can go on to the next page except for the \"data\" in requests parameter where there is a page number option which changes when button is clicked. However, changing that number doesn't bring data from other pages.</p>\n"}, {"tags": ["python", "matplotlib", "3d"], "comments": [{"owner": {"reputation": 2702, "user_id": 6048114, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/49deba6cd564f59f9137004589340d85?s=128&d=identicon&r=PG&f=1", "display_name": "Dadep", "link": "https://stackoverflow.com/users/6048114/dadep"}, "edited": false, "score": 1, "creation_date": 1505335608, "post_id": 46206497, "comment_id": 79376448, "body": "it&#39;s does not make sense... the signal from your <code>.wav</code> file is two time (left and right, stereo) 2D signal, if you plot the signal you will plot y=f(x), if you want a 3D plot you need a third dimension...(which does not exist in this case...)"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 1, "creation_date": 1505336869, "post_id": 46206497, "comment_id": 79377085, "body": "What are you expecting to see on the x, y and z axes?"}, {"owner": {"reputation": 1, "user_id": 8429128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8ed49fcac67031035afc61aa262b70?s=128&d=identicon&r=PG&f=1", "display_name": "wrrkkksstffrrg", "link": "https://stackoverflow.com/users/8429128/wrrkkksstffrrg"}, "edited": false, "score": 0, "creation_date": 1505383000, "post_id": 46206497, "comment_id": 79394560, "body": "I will see the x and y values as in the 2d plot displayed on a 3d axis - approximately like this:- <a href=\"https://www.researchgate.net/figure/230522332_fig3_Figure-7-Force-displacement-curves-of-SEN-TB-and-3D-contour-plots-showing-the\" rel=\"nofollow noreferrer\">researchgate.net/figure/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 8429128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8ed49fcac67031035afc61aa262b70?s=128&d=identicon&r=PG&f=1", "display_name": "wrrkkksstffrrg", "link": "https://stackoverflow.com/users/8429128/wrrkkksstffrrg"}, "edited": false, "score": 0, "creation_date": 1505383118, "post_id": 46206497, "comment_id": 79394656, "body": "I would expect to create my own variable for the z axis. Then I will be able to plot multiple amplitude curves against one another for immediate visual comparison"}], "owner": {"reputation": 1, "user_id": 8429128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8ed49fcac67031035afc61aa262b70?s=128&d=identicon&r=PG&f=1", "display_name": "wrrkkksstffrrg", "link": "https://stackoverflow.com/users/8429128/wrrkkksstffrrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505335265, "creation_date": 1505335265, "question_id": 46206497, "link": "https://stackoverflow.com/questions/46206497/in-matplotlib-python-plotting-the-amplitude-of-wav-file-on-3d-axes", "title": "In Matplotlib, Python - Plotting the amplitude of .wav file on 3d axes", "body": "<p>I have a very simple script which generates an amplitude plot from a .wav file as follows:-</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom scipy.io import wavfile # get the api\n\nfs, data = wavfile.read('audio1.wav')    # load the data\n\nplt.plot(data)  # plot the entire amplitude curve of the audio file\n\nplt.show()\n</code></pre>\n\n<p>Resulting in the following:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/7PtL5.jpg\" rel=\"nofollow noreferrer\">Link to example image which the script outputs HERE</a></p>\n\n<p>In this 2d image the data retrieved from the audio file provides values to plot for the x and y axes</p>\n\n<p>I have been attempting to plot this on 3d axes, uasing this as my guide:-</p>\n\n<p><a href=\"http://matplotlib.org/examples/mplot3d/lines3d_demo.html\" rel=\"nofollow noreferrer\">http://matplotlib.org/examples/mplot3d/lines3d_demo.html</a></p>\n\n<p>but I cannot seem to extract the values for the x and y axes satisfactorily to apply.</p>\n\n<p>Any ideas??</p>\n"}, {"tags": ["python", "widget", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1505389288, "post_id": 46207314, "comment_id": 79398706, "body": "Can you explain a bit where the error was in the question and how you fixed the problem in your code? Also it seems to me that your code you posted is larger than it needed to be, making it harder to get to the root of your fix. Maybe you could edit that a bit down or is really all of the code necessary?"}, {"owner": {"reputation": 69, "user_id": 8462477, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-nucO0AgkJI0/AAAAAAAAAAI/AAAAAAAAFbA/UChYYtGbMGo/photo.jpg?sz=128", "display_name": "Rayne", "link": "https://stackoverflow.com/users/8462477/rayne"}, "edited": false, "score": 0, "creation_date": 1505392585, "post_id": 46207314, "comment_id": 79401119, "body": "Thank you very much ikolim, you solved my problem perfectly, i was clearly overcomplicating things. I guess you&#180;ve been reading my previous posts to get all the code since i tried to post the minimum possible this time around. Thanks again!"}], "tags": [], "owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "is_accepted": true, "score": 0, "last_activity_date": 1505342175, "last_edit_date": 1505342175, "creation_date": 1505339240, "answer_id": 46207314, "question_id": 46206459, "link": "https://stackoverflow.com/questions/46206459/how-to-pass-info-from-one-widget-to-another-in-kv-kivy/46207314#46207314", "title": "how to pass info from one widget to another in kv kivy", "body": "<p>Please refer to the snippet and example below for details.</p>\n\n<h1>Snippet</h1>\n\n<pre><code>Button:\n    size_hint: (.2, .08)\n    text: \"Continue\"\n    on_release:\n        root.manager.ids.screen_two.ids.final_playername.text = player_name.text\n        root.manager.current = \"screen2\"\n</code></pre>\n\n<h1>Example</h1>\n\n<h2>nandxApp.py</h2>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.widget import Widget\nfrom kivy.uix.screenmanager import ScreenManager, Screen\nfrom kivy.config import Config\n\nConfig.set(\"graphics\", \"width\", \"400\")\nConfig.set(\"graphics\", \"height\", \"570\")\nConfig.set(\"graphics\", \"borderless\", \"0\")\nConfig.set(\"graphics\", \"resizable\", \"0\")\nConfig.set(\"kivy\", \"window_icon\", \"nyc.ico\")\n\n\nclass Manager(ScreenManager):\n    pass\n\n\nclass ScreenOne(Screen, Widget):\n    pass\n\n\nclass ScreenTwo(Screen, Widget):\n    pass\n\n\nclass ScreenThree(Screen):\n    pass\n\n\nclass nandxApp(App):\n    def build(self):\n        self.title = \"Noughts and Crosses\"\n        return Manager()\n\n\nif __name__ == \"__main__\":\n    nandxApp().run()\n</code></pre>\n\n<h2>nandx.kv</h2>\n\n<pre><code>#:kivy 1.10.0\n\n&lt;Manager&gt;:\n    ScreenOne:\n        id: screen_one\n\n    ScreenTwo:\n        id: screen_two\n\n    ScreenThree:\n        id: screen_three\n\n&lt;ScreenOne&gt;:\n    name: \"screen1\"\n    GridLayout:\n        size_hint: (.5, .5)\n        pos_hint: {\"center_x\":0.5,\"center_y\":0.6}\n        rows: 3\n        padding: 20\n\n        Label:\n            size_hint: (.2, .2)\n            text: \"Please enter\\nyour name:\"\n            font_size: 30\n            halign: 'center'\n            valign: 'middle'\n\n        TextInput:\n            size_hint: (.2, .06)\n            cursor_blink: True\n            font_size: 20\n            multiline: 0\n            id: player_name\n\n        Button:\n            size_hint: (.2, .08)\n            text: \"Continue\"\n            on_release:\n                root.manager.ids.screen_two.ids.final_playername.text = player_name.text\n                root.manager.current = \"screen2\"\n\n&lt;ScreenTwo&gt;:\n    name: \"screen2\"\n    GridLayout:\n        cols: 3\n        size: root.size\n        spacing: 10\n        padding: 10\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"TopLeft\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"TopMiddle\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"TopRight\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"CenterLeft\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"CenterMiddle\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"CenterRight\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"BottomLeft\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"BottomMiddle\")\n\n        Button:\n            background_normal: (\"blank.png\")\n            # on_release: root.methodforbuttonpress (\"BottomRight\")\n\n        Button:\n            background_normal: (\"x.png\")\n\n        GridLayout:\n            rows: 2\n\n            Label:\n                text: \"top label\"\n\n            Label:\n                text: \"bottom label\"\n\n        Button:\n            background_normal: (\"circle.png\")\n\n        GridLayout:\n            rows: 2\n\n            Label:\n                text: \"Player\"\n                id: final_playername\n\n            Label:\n                text: \"Score:\"\n\n        Label:\n            text: \"\"\n\n        GridLayout:\n            rows: 2\n\n            Label:\n                text: \"Computer\"\n\n            Label:\n                text: \"Score:\"\n\n\n&lt;ScreenThree&gt;:\n    name: \"screen3\"\n</code></pre>\n\n<h2>Output</h2>\n\n<p><a href=\"https://i.stack.imgur.com/gyoEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gyoEZ.png\" alt=\"Screen2 with Player&#39;s Name\"></a></p>\n"}], "owner": {"reputation": 69, "user_id": 8462477, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-nucO0AgkJI0/AAAAAAAAAAI/AAAAAAAAFbA/UChYYtGbMGo/photo.jpg?sz=128", "display_name": "Rayne", "link": "https://stackoverflow.com/users/8462477/rayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 46207314, "answer_count": 1, "score": 1, "last_activity_date": 1505342175, "creation_date": 1505335159, "question_id": 46206459, "link": "https://stackoverflow.com/questions/46206459/how-to-pass-info-from-one-widget-to-another-in-kv-kivy", "title": "how to pass info from one widget to another in kv kivy", "body": "<p>I want to set the text of a label when a button is pressed, the problem being they are son separate screens and therefore in separate widgets in the kv file. The code i have to change this is:</p>\n\n<pre><code>&lt;ScreenOne&gt;:\n    BoxLayout:\n        TextInput:\n            id: player_name\n\n        Button:\n            text: \"Continue\"\n            on_release:\n                root.manager.current = \"screen2\"\n                root.ids.final_playername.text=player_name.text\n&lt;ScreenTwo&gt;:\n    GridLayout:\n            Label:\n                text: \"Player\"\n                id: final_playername\n</code></pre>\n\n<p>The error i get from this is:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"C:\\Users\\Rayne\\Desktop\\python exp\\noughts and crosses kivy sm\\nandx.py\", line 36, in &lt;module&gt;\n     nandxApp().run()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\app.py\", line 828, in run\n     runTouchApp()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\base.py\", line 504, in runTouchApp\n     EventLoop.window.mainloop()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\core\\window\\window_sdl2.py\", line 663, in mainloop\n     self._mainloop()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\core\\window\\window_sdl2.py\", line 405, in _mainloop\n     EventLoop.idle()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\base.py\", line 342, in idle\n     self.dispatch_input()\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\base.py\", line 327, in dispatch_input\n     post_dispatch_input(*pop(0))\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\base.py\", line 293, in post_dispatch_input\n     wid.dispatch('on_touch_up', me)\n   File \"kivy\\_event.pyx\", line 718, in kivy._event.EventDispatcher.dispatch (kivy\\_event.c:8191)\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\uix\\behaviors\\button.py\", line 179, in on_touch_up\n     self.dispatch('on_release')\n   File \"kivy\\_event.pyx\", line 714, in kivy._event.EventDispatcher.dispatch (kivy\\_event.c:8146)\n   File \"kivy\\_event.pyx\", line 1225, in kivy._event.EventObservers.dispatch (kivy\\_event.c:14035)\n   File \"kivy\\_event.pyx\", line 1109, in kivy._event.EventObservers._dispatch (kivy\\_event.c:12816)\n   File \"C:\\Users\\Rayne\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\kivy\\lang\\builder.py\", line 64, in custom_callback\n     exec(__kvlang__.co_value, idmap)\n   File \"C:\\Users\\Rayne\\Desktop\\python exp\\noughts and crosses kivy sm\\nandx.kv\", line 51, in &lt;module&gt;\n     root.ids.final_playername.text=player_name.text\n   File \"kivy\\properties.pyx\", line 839, in kivy.properties.ObservableDict.__getattr__ (kivy\\properties.c:12654)\n AttributeError: 'super' object has no attribute '__getattr__'\n</code></pre>\n\n<p>In the .py file i have the minimum with the classes for the screens, i\u00b4m trying to keep it simple under advice and do it all in the kv file. Can anyone help a newbie python learner to set this up? Thank you</p>\n"}, {"tags": ["python", "pip", "easy-install"], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1505335518, "creation_date": 1505335518, "answer_id": 46206555, "question_id": 46206437, "link": "https://stackoverflow.com/questions/46206437/pip-install-package-failed-with-error-code-1-2/46206555#46206555", "title": "pip install package - failed with error code 1/2", "body": "<p><code>pygrib</code> includes one or more Python extension modules written in C which need to be compiled as part of the installation, and this C code depends upon some library that provides a header file named \"<code>grib_api.h</code>\".  Find and install that C library, and <code>pygrib</code> installation should then work.</p>\n"}, {"comments": [{"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 2, "creation_date": 1505343273, "post_id": 46207950, "comment_id": 79379323, "body": "Note that <a href=\"https://software.ecmwf.int/wiki/pages/viewpage.action?pageId=48109524\" rel=\"nofollow noreferrer\">Windows support is experimental</a>, and although it doesn\u2019t look that complicated if you know what you\u2019re doing, the instructions aren\u2019t very helpful if you aren\u2019t that familiar with compiling C code or setting environment variables in Windows."}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 2, "last_activity_date": 1505342864, "creation_date": 1505342864, "answer_id": 46207950, "question_id": 46206437, "link": "https://stackoverflow.com/questions/46206437/pip-install-package-failed-with-error-code-1-2/46207950#46207950", "title": "pip install package - failed with error code 1/2", "body": "<p><code>pygrib</code> is a Python wrapper for <code>libgrib-api</code>. To compile <code>pygrib</code> you need to compile <code>libgrib-abi</code> and install the library and the header files. Download sources from <a href=\"https://software.ecmwf.int/wiki/display/GRIB/Releases\" rel=\"nofollow noreferrer\">https://software.ecmwf.int/wiki/display/GRIB/Releases</a>.</p>\n"}], "owner": {"reputation": 1041, "user_id": 6941634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VQJt3.jpg?s=128&g=1", "display_name": "Brandon Molyneaux", "link": "https://stackoverflow.com/users/6941634/brandon-molyneaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 0, "accepted_answer_id": 46207950, "answer_count": 2, "score": 0, "last_activity_date": 1505342864, "creation_date": 1505335089, "last_edit_date": 1505335332, "question_id": 46206437, "link": "https://stackoverflow.com/questions/46206437/pip-install-package-failed-with-error-code-1-2", "title": "pip install package - failed with error code 1/2", "body": "<p>I'm having issues installing <code>pygrib</code> using <code>pip</code>. I tried installing <code>pygrib</code> by using <code>easy_install</code>, and I get a similar error.</p>\n\n<p>Using <code>pip</code> I get this error:</p>\n\n<pre><code>Command \"C:\\Users\\Brandon\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\python.exe -u -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\Brandon\\\\AppData\\\\Local\\\\Temp\\\\pip-build-veulay9n\\\\pygrib\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record C:\\Users\\Brandon\\AppData\\Local\\Temp\\pip-ff_s5247-record\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\Brandon\\AppData\\Local\\Temp\\pip-build-veulay9n\\pygrib\\\n</code></pre>\n\n<p>Using <code>easy_install</code> I get this error:</p>\n\n<pre><code>c:\\users\\brandon\\appdata\\local\\enthought\\canopy\\edm\\envs\\user\\lib\\site-packages\\numpy\\core\\include\\numpy\\npy_1_7_deprecated_api.h(12) : Warning Msg: Using deprecated NumPy API, disable it by #defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\n    pygrib.c(242): fatal error C1083: Cannot open include file: 'grib_api.h': No such file or directory\n    error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2\n</code></pre>\n\n<p>In fact, <code>pygrib</code> is the only package that doesn't work when I try <code>pip</code> or <code>easy_install</code> - it works for any package I try to install. What's going on here and how do I fix this issue?</p>\n"}, {"tags": ["python", "python-3.x", "unicode", "utf-8", "character-encoding"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1505335296, "post_id": 46206426, "comment_id": 79376305, "body": "Try with <code>f.write(convert().encode(&#39;utf-8&#39;))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 5, "last_activity_date": 1505351229, "creation_date": 1505351229, "answer_id": 46208981, "question_id": 46206426, "link": "https://stackoverflow.com/questions/46206426/cant-write-to-file-but-can-write-to-text/46208981#46208981", "title": "Can&#39;t write to file but can write to text", "body": "<p>The Python version makes a difference.  Here's Python 3.6:</p>\n\n<pre><code>Python 3.6.2 (v3.6.2:5fd33b5, Jul  8 2017, 04:57:36) [MSC v.1900 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; print('\\ufb01')\n\ufb01\n&gt;&gt;&gt; with open('out.txt','w') as f:\n...  f.write('\\ufb01')\n...\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 2, in &lt;module&gt;\n  File \"D:\\dev\\Python36\\lib\\encodings\\cp1252.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\nUnicodeEncodeError: 'charmap' codec can't encode character '\\ufb01' in position 0: character maps to &lt;undefined&gt;\n</code></pre>\n\n<p>The reason in this case is Python 3.6 on Windows writes to the console with Unicode APIs, so it works nicely.  Opening a file with the default encoding uses code page 1252 on my system, which doesn't support the Unicode character written.  Use an encoding that supports all Unicode characters:</p>\n\n<pre><code>&gt;&gt;&gt; with open('out.txt','w',encoding='utf8') as f:\n...  f.write('\\ufb01')\n...\n1\n</code></pre>\n"}], "owner": {"reputation": 11552, "user_id": 8112138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b1ddf31abbf37d5fe71ad387e2772c?s=128&d=identicon&r=PG&f=1", "display_name": "Primusa", "link": "https://stackoverflow.com/users/8112138/primusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 46208981, "answer_count": 1, "score": 2, "last_activity_date": 1505351229, "creation_date": 1505335034, "last_edit_date": 1505343424, "question_id": 46206426, "link": "https://stackoverflow.com/questions/46206426/cant-write-to-file-but-can-write-to-text", "title": "Can&#39;t write to file but can write to text", "body": "<p>I created a function <code>convert()</code>, which turns a pdf into html and outputs the html as a string.\nWhen I do :</p>\n\n<pre><code>print(convert())\n</code></pre>\n\n<p>It works, but when I try to write the result to file:</p>\n\n<pre><code>f.write(convert())\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>UnicodeEncodeError: 'charmap' codec can't encode character '\\ufb01' in position 978: character maps to &lt;undefined&gt;\n</code></pre>\n\n<p>In <code>pycharm</code> my project encoder is set to UTF-8, and I have a </p>\n\n<pre><code># -*- encoding: utf-8 -*-\n</code></pre>\n\n<p>At the beginning of the file. Any ideas on why I get this error?</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1505396240, "creation_date": 1505396240, "answer_id": 46220662, "question_id": 46206420, "link": "https://stackoverflow.com/questions/46206420/selenium-finds-element-but-cant-send-text-to-it/46220662#46220662", "title": "Selenium finds element but can&#39;t send text to it", "body": "<p><strong>Analysis:</strong></p>\n\n<p>Selenium can find element from page, only means the element has html code in the page source,  not equal the element is visible on page.  like the difference between isPresent() and isDisplay(). </p>\n\n<p>For selenium how to determine an element is visible, I knwo some rules as below:  <br>\n1. element size not be zero <br>\n2. element 'display' css value not be 'none' <br></p>\n\n<p>I feel very strange why you can run pass with firefox driver but on chrome driver, i guess even the webdirver specification on W3C had defined that, maybe firefox and chrome implement that with difference in their webdriver.</p>\n\n<p>Back to the reason why that input box not visible,  I look into the html code round that input box, I noticed there is a div layer cover on top on the input box, and the input box size set to 1x1 in css style. <br></p>\n\n<p><a href=\"https://i.stack.imgur.com/ErAgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ErAgq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried hidden the covered div layer and uncheck the width and height setting in css, after that you can see it and I can input value.</p>\n\n<p>I'm not sure t, Selenium used following rule to determine element is visible: <br></p>\n\n<pre><code>If there is something cover the element, the element will be not visible.\n</code></pre>\n\n<p>But from user experience, user can't see that element, and selenium API is try best to close to user experience.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>Even you make the element up to the div layer, but its size is too small, even you input some value, you sitll can't see the text you input. <br></p>\n\n<p>And this is a UI design issue, you need to communicate with dev team.</p>\n"}, {"tags": [], "owner": {"reputation": 277, "user_id": 7179080, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/13OcN.png?s=128&g=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/7179080/danny"}, "is_accepted": false, "score": 0, "last_activity_date": 1511798359, "creation_date": 1511798359, "answer_id": 47515037, "question_id": 46206420, "link": "https://stackoverflow.com/questions/46206420/selenium-finds-element-but-cant-send-text-to-it/47515037#47515037", "title": "Selenium finds element but can&#39;t send text to it", "body": "<p>Try the below:</p>\n\n<pre><code>element = driver.find_element_by_id(\"id\")\nactions = ActionChains(driver)\nactions.move_to_element(element).perform()\nelement.Clear() //if needed\nelement.SendKeys(\"sendKeysHere\")\n</code></pre>\n\n<p>For more information, see section 7.2 of the following documentation: <a href=\"http://selenium-python.readthedocs.io/api.html\" rel=\"nofollow noreferrer\">http://selenium-python.readthedocs.io/api.html</a></p>\n"}], "owner": {"reputation": 1016, "user_id": 4673518, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/10204785022759648/picture?type=large", "display_name": "Jstuff", "link": "https://stackoverflow.com/users/4673518/jstuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1355, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511798359, "creation_date": 1505334996, "question_id": 46206420, "link": "https://stackoverflow.com/questions/46206420/selenium-finds-element-but-cant-send-text-to-it", "title": "Selenium finds element but can&#39;t send text to it", "body": "<p>I'm trying to send text to <a href=\"https://www.google.com/flights/#search;f=SFO;d=2017-09-29;r=2017-10-03;mc=e;q=flights\" rel=\"nofollow noreferrer\">google flights</a> departure city input box. I am able to find it but when I try and send it text with <code>send_keys</code> I get the error <code>element not visible</code>. How is it possible that selenium is able to find the input box but when I send it keys it is not available. I did not have this error until I switched from firefox to chrome as my webdriver. My code is below</p>\n\n<pre><code>import \nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nclass Bot:\n\n    def __init__(self):\n        # self.browser = webdriver.Firefox(executable_path='./geckodriver')\n        self.browser = webdriver.Chrome('./chromedriver')\n        self.departure_city = \"COU\"\n        self.destination_city = \"HND\"\n        self.departure_day = \"December 1\"\n        self.return_day = \"December 10\"\n        self.prices = []\n        self.Run()\n\n    def Run(self):\n        try:\n            self.SetFlight()\n            self.SetDates()\n            self.FindPrices()\n            self.SendText()\n            time.sleep(10)\n            self.browser.quit()\n\n\n        except Exception as ex:\n            print(ex)\n            self.browser.quit()\n\n    def SetFlight(self):\n        self.browser.get('https://www.google.com/flights/');\n        departure_take_off_boxes = self.browser.execute_script(\n            \"return document.querySelectorAll('.EIGTDNC-Kb-f.EIGTDNC-Kb-b')\")\n        print(departure_take_off_boxes[0].get_attribute('outerHTML'))\n        print(departure_take_off_boxes[1].get_attribute('outerHTML'))\n        self.browser.implicitly_wait(20)\n        departure_take_off_boxes[0].send_keys(self.departure_city)\n        departure_take_off_boxes[0].send_keys(Keys.RETURN)\n        time.sleep(1)\n        # departure_take_off_boxes[1].send_keys(self.destination_city)\n        # departure_take_off_boxes\n</code></pre>\n"}, {"tags": ["python", "scripting"], "comments": [{"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1505335865, "post_id": 46206412, "comment_id": 79376574, "body": "Either there is something wrong with the tutorial you are following, or you did not understand something. You cannot use <code>add_creature</code> without also having the sex of the creature. If the file only contains the possible species then you probably should not add the to the creature list. Moreover, without telling us which tutorial it is we cannot say whether you are wrong or the tutorial is simply broken."}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505336309, "post_id": 46206412, "comment_id": 79376819, "body": "You may need to write the <code>creature_sex</code> in the file next to the <code>creature</code> separated by a space, and parse each line when you read the file (with <code>line.split()</code>). Don&#39;t forget to add the new parameter in every function : save_file... and when you call them too"}, {"owner": {"reputation": 107, "user_id": 6226819, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-lgiXlXHTtaI/AAAAAAAAAAI/AAAAAAAAADk/B-HhBlWHheg/photo.jpg?sz=128", "display_name": "Bishop Minter", "link": "https://stackoverflow.com/users/6226819/bishop-minter"}, "edited": false, "score": 0, "creation_date": 1505338930, "post_id": 46206412, "comment_id": 79377907, "body": "Bakuriu, obviously I don&#39;t understand something.  That&#39;s why I&#39;m asking the question.  I do understand how function calls work from working with other languages which is why I don&#39;t get why the tutorial calls the function with only one parameter.  I don&#39;t understand Python so I&#39;m asking hoping someone can explain the &#39;why&#39; to me.  Not sure why a negative vote is necessary for simply asking a question.  Even if it wasn&#39;t you..."}], "answers": [{"comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1505337577, "post_id": 46206848, "comment_id": 79377372, "body": "This will not help, since the resulting file will contain neither creature names nor sexes but the default formatting of a python list named <code>creatures</code>.  The tutorial seems not to explain how to write the file or parse it in a way that will allow the script to work.  Perhaps OP can tell us where the tutorial comes from."}, {"owner": {"reputation": 112, "user_id": 1947239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bad1e4afd74270998f10aa0ee160a3?s=128&d=identicon&r=PG", "display_name": "Mihail Gershkovich", "link": "https://stackoverflow.com/users/1947239/mihail-gershkovich"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1505337825, "post_id": 46206848, "comment_id": 79377476, "body": "true.... did not pay attention to it. Actually, I would not reccomend working with files right away, before understanding how other stuff work. All the programming pinciples, like DRY, encapsulation, and what a good algorithm is."}, {"owner": {"reputation": 107, "user_id": 6226819, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-lgiXlXHTtaI/AAAAAAAAAAI/AAAAAAAAADk/B-HhBlWHheg/photo.jpg?sz=128", "display_name": "Bishop Minter", "link": "https://stackoverflow.com/users/6226819/bishop-minter"}, "edited": false, "score": 0, "creation_date": 1505338415, "post_id": 46206848, "comment_id": 79377721, "body": "save_file(creature_race) is correct.  I double checked the tutorial to make sure.  I also get an error when I try your suggestion.  The tutorial I&#39;m taking is Python: Getting Started by Bo Milanovich on Pluralsight.  It&#39;s in the fouth module under Opening, Reading, and Writing...  Here is the link: <a href=\"https://app.pluralsight.com/player?course=python-getting-started&amp;author=bo-milanovich&amp;name=python-getting-started-m3&amp;clip=6&amp;mode=live\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 112, "user_id": 1947239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bad1e4afd74270998f10aa0ee160a3?s=128&d=identicon&r=PG", "display_name": "Mihail Gershkovich", "link": "https://stackoverflow.com/users/1947239/mihail-gershkovich"}, "edited": false, "score": 0, "creation_date": 1505339077, "post_id": 46206848, "comment_id": 79377964, "body": "unfortunatelly I cannot open the link. I&#39;ll try to provide you some usefull tutorials tomorrow. (need some sleep now)."}, {"owner": {"reputation": 112, "user_id": 1947239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bad1e4afd74270998f10aa0ee160a3?s=128&d=identicon&r=PG", "display_name": "Mihail Gershkovich", "link": "https://stackoverflow.com/users/1947239/mihail-gershkovich"}, "edited": false, "score": 0, "creation_date": 1505381782, "post_id": 46206848, "comment_id": 79393731, "body": "These here are good starting points: <a href=\"https://www.python.org/dev/peps/pep-0020/\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0020</a>  <a href=\"http://python-history.blogspot.de/2009/01/pythons-design-philosophy.html\" rel=\"nofollow noreferrer\">python-history.blogspot.de/2009/01/&hellip;</a>  www.pythonforbeginners.com/  <a href=\"https://www.tutorialspoint.com/python/python_files_io.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/python/python_files_io.htm</a>  Then you should watch some youtube videos on debugging in PyCharm (best thing ever)."}], "tags": [], "owner": {"reputation": 112, "user_id": 1947239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bad1e4afd74270998f10aa0ee160a3?s=128&d=identicon&r=PG", "display_name": "Mihail Gershkovich", "link": "https://stackoverflow.com/users/1947239/mihail-gershkovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1505337966, "last_edit_date": 1505337966, "creation_date": 1505336802, "answer_id": 46206848, "question_id": 46206412, "link": "https://stackoverflow.com/questions/46206412/why-is-pycharm-giving-me-an-unresolved-reference-nameerror/46206848#46206848", "title": "Why is PyCharm giving me an Unresolved Reference NameError", "body": "<p>Please learn how to debug your code!\nI'll just give some hints. These, however, will not lead to succes (as  Paul Cornelius pointed out)</p>\n\n<p>fix last line:</p>\n\n<p><code>save_file(creature_race)</code></p>\n\n<p>to</p>\n\n<p><code>save_file(creatures)</code></p>\n\n<p>Brief explanation:\nyou are saving only the race, while your functions await both: race and sex.</p>\n\n<p>You should also review hot to appropriatelly save your data in a file and read it. (check for python+csv for example).</p>\n\n<p>Also: the functions you created are bad - they are not encapsulated. Try to rethink the code in a way, that none of your functions have to call or change external variables. Then you can start your code, without executing any of the functions, and call them one by one to see what they do. Watch at your global variables changing and fix the code on the go.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 6226819, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-lgiXlXHTtaI/AAAAAAAAAAI/AAAAAAAAADk/B-HhBlWHheg/photo.jpg?sz=128", "display_name": "Bishop Minter", "link": "https://stackoverflow.com/users/6226819/bishop-minter"}, "is_accepted": false, "score": 0, "last_activity_date": 1505397144, "creation_date": 1505397144, "answer_id": 46221007, "question_id": 46206412, "link": "https://stackoverflow.com/questions/46206412/why-is-pycharm-giving-me-an-unresolved-reference-nameerror/46221007#46221007", "title": "Why is PyCharm giving me an Unresolved Reference NameError", "body": "<p>I figured out the problem.  I missed a minor detail in the code.  In the add_creature() definition I had to assign a default value to sex:</p>\n\n<pre><code>def add_creature(race, sex=\"male\"):\n    creature = {\"race\": race, \"creature_sex\": sex}\n    creatures.append(creature)\n</code></pre>\n\n<p>This is how the tutorial was able to call the function with only the race parameter.  Once I added <code>=\"male\"</code> the code works as expected.</p>\n"}], "owner": {"reputation": 107, "user_id": 6226819, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-lgiXlXHTtaI/AAAAAAAAAAI/AAAAAAAAADk/B-HhBlWHheg/photo.jpg?sz=128", "display_name": "Bishop Minter", "link": "https://stackoverflow.com/users/6226819/bishop-minter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1505397144, "creation_date": 1505334950, "question_id": 46206412, "link": "https://stackoverflow.com/questions/46206412/why-is-pycharm-giving-me-an-unresolved-reference-nameerror", "title": "Why is PyCharm giving me an Unresolved Reference NameError", "body": "<p>I'm taking a tutorial to learn Python.  I've written the code you see below:</p>\n\n<pre><code>creatures = []\n\ndef get_creature_race():\n    creature_race = []\n    for creature in creatures:\n        creature_race.append(creature[\"race\"].title())\n    return creature_race\n\n\ndef print_creature_race():\n    creature_race = get_creature_race()\n    print(creature_race)\n\n\ndef add_creature(race, sex):\n    creature = {\"race\": race, \"creature_sex\": sex}\n    creatures.append(creature)\n\n\ndef save_file(creature):\n    try:\n        f = open(\"creatures.txt\", \"a\")\n        f.write(creature + \"\\n\")\n        f.close()\n    except Exception:\n        print(\"Could not save file\")\n\n\ndef read_file():\n    f = open(\"creatures.txt\", \"r\")\n    for creature in f.readlines():\n        add_creature(creature)\n    f.close()\n\n\nread_file()\nprint_creature_race()\n\n\ncreature_race = input(\"Enter creature race: \")\ncreature_sex = input(\"Enter creature sex: \")\n\nadd_creature(creature_race, creature_sex)\nprint_creature_race()\nsave_file(creature_race)\n</code></pre>\n\n<p>When I try to run this I get the following:</p>\n\n<pre><code>...line 32, in read_file\n    add_creature(creature)\nTypeError: add_creature() missing 1 required positional argument: 'sex'\n</code></pre>\n\n<p>Line 32 is the 4th line in the read_file() function definition:</p>\n\n<pre><code>add_creature(creature)\n</code></pre>\n\n<p>If I hover over the right most parenthesis ')' I get:</p>\n\n<pre><code>Parameter 'sex' unfilled\n</code></pre>\n\n<p>If I put the second parameter in:</p>\n\n<pre><code>def read_file():\n    f = open(\"creatures.txt\", \"r\")\n    for creature in f.readlines():\n        add_creature(creature, sex)\n    f.close()\n    print(\"Could not read file\")\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>line 32, in read_file\n    add_creature(creature, sex)\nNameError: name 'sex' is not defined\n</code></pre>\n\n<p>When I hover over sex it gives me:</p>\n\n<pre><code>Unresolved reference sex\n</code></pre>\n\n<p>If I put a try block around def read_file() so I can run the program without it erroring out:</p>\n\n<pre><code>def read_file():\n    try:\n        f = open(\"creatures.txt\", \"r\")\n        for creature in f.readlines():\n            add_creature(creature, sex)\n        f.close()\n    except Exception:\n        print(\"Could not read file\")\n</code></pre>\n\n<p>and run it I get the following:</p>\n\n<pre><code>Could not read file\n[]\nEnter creature race: giant\nEnter creature sex: male\n['Giant']\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>The first line is the exception from the read_file() function because creatures.txt doesn't exist yet (or so I thought).  The [] is the output from print_creature_race() function since it is currently empty.  The next two \"Enter...\" statements should be self-explanatory.  ['Giant'] is the output from the second print_creature_race() function call.  I now have a creatures.txt file with the word 'giant' in it.</p>\n\n<p>Now, according to the tutorial, if I run this a second time what I should get is:</p>\n\n<pre><code>giant\n\nEnter creature race: elf\nEnter creature sex: female\n</code></pre>\n\n<p>There's no exception because the file creatures.txt now exists.  The print_creature_race() function call results in 'giant' being printed.  And I get the two prompts to enter another race and sex.  HOWEVER, what I actually get is:</p>\n\n<pre><code>Could not read file\n[]\nEnter creature race: \n</code></pre>\n\n<p>If I continue with the prompts I get:</p>\n\n<pre><code>Could not read file\n[]\nEnter creature race: elf\nEnter creature sex: female\n['Elf']\n</code></pre>\n\n<p>My creatures.txt file has giant and elf (each on its own line) but, obviously, I still can't read the file.  The definition for add_creature has two parameters but I get an error both for including it and not including it.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 8574948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4afe0381d609ab6f7eb07de71d9fcff9?s=128&d=identicon&r=PG&f=1", "display_name": "EEPBAH", "link": "https://stackoverflow.com/users/8574948/eepbah"}, "edited": false, "score": 0, "creation_date": 1505336186, "post_id": 46206665, "comment_id": 79376754, "body": "Will I have to make a new data frame every time I calculate for an additional year?"}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "reply_to_user": {"reputation": 103, "user_id": 8574948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4afe0381d609ab6f7eb07de71d9fcff9?s=128&d=identicon&r=PG&f=1", "display_name": "EEPBAH", "link": "https://stackoverflow.com/users/8574948/eepbah"}, "edited": false, "score": 0, "creation_date": 1505340594, "post_id": 46206665, "comment_id": 79378475, "body": "You could just take a slice and sort that dataframe, but it would be more complicated and there wouldn&#39;t be much benefit unless the dataframe is really large. So, for instance:"}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "reply_to_user": {"reputation": 103, "user_id": 8574948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4afe0381d609ab6f7eb07de71d9fcff9?s=128&d=identicon&r=PG&f=1", "display_name": "EEPBAH", "link": "https://stackoverflow.com/users/8574948/eepbah"}, "edited": false, "score": 0, "creation_date": 1505340944, "post_id": 46206665, "comment_id": 79378603, "body": "sorting_df = df.loc[:,&#39;Rank&#39;].sort_values()   df[&#39;Spend&#39;][sorting_df.index] = max(0,df[&#39;Cost&#39;]"}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 1, "last_activity_date": 1505361377, "last_edit_date": 1505361377, "creation_date": 1505335989, "answer_id": 46206665, "question_id": 46206371, "link": "https://stackoverflow.com/questions/46206371/summing-values-by-rank-in-pandas/46206665#46206665", "title": "summing values by rank in pandas", "body": "<pre><code>sorted_df = df.sort_values(col_name)\n</code></pre>\n\n<p>Also, I don't think your <code>cumsum()</code> is right; you're applying it to individual values in the column, rather than the column as a whole. </p>\n\n<p>Try this</p>\n\n<pre><code>df['Spend'] = max(0,df['Cost'].cumsum())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "is_accepted": false, "score": 1, "last_activity_date": 1505365053, "last_edit_date": 1505365053, "creation_date": 1505338872, "answer_id": 46207247, "question_id": 46206371, "link": "https://stackoverflow.com/questions/46206371/summing-values-by-rank-in-pandas/46207247#46207247", "title": "summing values by rank in pandas", "body": "<p>Something like this should work:</p>\n\n<pre><code>&gt;&gt;&gt; df\nOut[]:\n           Part  Rank(Y1)  Cost(Y1)  Spend(Y1)  Rank(Y2)\n0  Transmission         1       400        400         4\n1         Tires         2       400          0         1\n2    Windshield         3       100          0         2\n3        Wipers         4        20          0         3\n\nbudget_var = 400\n\ndf['Spend(Y2)'] = df['Cost(Y1)'].where(df['Cost(Y1)']\n                                         [pd.np.argsort(df['Rank(Y2)'])]\n                                         .cumsum()\n                                         .where(lambda x: x &lt;= budget_var), 0)\n\n\n&gt;&gt;&gt; df\nOut[]:\n           Part  Rank(Y1)  Cost(Y1)  Spend(Y1)  Rank(Y2)  Spend(Y2)\n0  Transmission         1       400        400         4          0\n1         Tires         2       400          0         1        400\n2    Windshield         3       100          0         2          0\n3        Wipers         4        20          0         3          0\n</code></pre>\n\n<p>Where:</p>\n\n<ul>\n<li><code>df['Cost(Y1)']</code> is of course the cost series</li>\n<li><code>where(..., 0)</code> slices the series and return 0 outside slice</li>\n<li><code>df['Cost(Y1)']</code> uses the cost data too</li>\n<li><code>[pd.np.argsort(df['Rank(Y2)'])]</code> slices <code>Cost(Y1)</code> to order it according to <code>Rank(Y2)</code> order</li>\n<li><code>cumsum()</code> get the cumulative sum of the sorted cost series</li>\n<li><code>where(lambda x: x &lt;= budget_var)</code> is a boolean mask for values less or equal <code>budget_var</code></li>\n</ul>\n\n<p>This way the full cost of each row is displayed in <code>Spend</code> if the cumulative sum is less than the budget.\n<code>budget_var = 500</code> would lead to</p>\n\n<pre><code>&gt;&gt;&gt; df\nOut[]:\n           Part  Rank(Y1)  Cost(Y1)  Spend(Y1)  Rank(Y2)  Spend(Y2)\n0  Transmission         1       400        400         4          0\n1         Tires         2       400          0         1        400\n2    Windshield         3       100          0         2        100\n3        Wipers         4        20          0         3          0\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8574948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4afe0381d609ab6f7eb07de71d9fcff9?s=128&d=identicon&r=PG&f=1", "display_name": "EEPBAH", "link": "https://stackoverflow.com/users/8574948/eepbah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1505365053, "creation_date": 1505334763, "question_id": 46206371, "link": "https://stackoverflow.com/questions/46206371/summing-values-by-rank-in-pandas", "title": "summing values by rank in pandas", "body": "<p>I am trying to do a multi-year financial forecast. I need to calculate spending based on rank that year and then re-rank  and calculate spending the next year.</p>\n\n<p>My data frame has the car parts and the cost to fix/replace it with a constrained budget (400 dollars) Once that budget is spent then I can no longer fix anything else that year  but it will be re prioritized for the following year.</p>\n\n<p>In year 1, the budget only covers the transmission,  but in year 2 the transmission is fine and so It is ranked the lowest. How can I run a cumulative sum based on rank up until the budget limit?</p>\n\n<pre><code>   df\n   Part           Rank(Year 1)     Cost(Y1)   Spend(Y1)   Rank(Y2)   Spend(Y2)\n\n   Transmission        1               400       400         4          0\n   Tires               2               400        0          1         400\n   Windshield          3               100        0          2          0\n   Wipers              4                20        0          3          0\n</code></pre>\n\n<p>Also want to add:</p>\n\n<pre><code>    for val in df['Spend']:\n        if val.cumsum() &gt;= budget_var:\n          val = 0\n</code></pre>\n\n<p>This is how it is right now but I need the sum to be in order of rank.</p>\n"}, {"tags": ["python", "curl", "urllib2"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 3, "creation_date": 1505334713, "post_id": 46206324, "comment_id": 79376050, "body": "If you can use Requests, you can use <a href=\"https://curl.trillworks.com/\" rel=\"nofollow noreferrer\">curl.trillworks.com</a> to translate the cURL command"}, {"owner": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1505335567, "post_id": 46206324, "comment_id": 79376428, "body": "What if we&#39;re stuck on Python 2.7 and can&#39;t use pip?"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1505335705, "post_id": 46206324, "comment_id": 79376500, "body": "Requests works just fine with 2.7, and you should be able to install it by <a href=\"https://github.com/requests/requests/releases\" rel=\"nofollow noreferrer\">downloading the repo</a> and running <code>python setup.py install</code>"}, {"owner": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1505336221, "post_id": 46206324, "comment_id": 79376777, "body": "Sorry - I should have been more clear. The devices where this is running from need to run &quot;pristine&quot; python and can&#39;t install extras unfortunately"}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "edited": false, "score": 0, "creation_date": 1505335564, "post_id": 46206518, "comment_id": 79376426, "body": "What if we&#39;re stuck on Python 2.7 and can&#39;t use pip?"}, {"owner": {"reputation": 3877, "user_id": 7732200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xOslk.jpg?s=128&g=1", "display_name": "Oleh Rybalchenko", "link": "https://stackoverflow.com/users/7732200/oleh-rybalchenko"}, "reply_to_user": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "edited": false, "score": 1, "creation_date": 1505336409, "post_id": 46206518, "comment_id": 79376869, "body": "@Numpty, see the updated answer with complicated version of the request without installing additional packages"}, {"owner": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "edited": false, "score": 0, "creation_date": 1505342373, "post_id": 46206518, "comment_id": 79379057, "body": "Thanks - might take me a day to adapt this and test. You weren&#39;t kidding about complexity :|"}], "tags": [], "owner": {"reputation": 3877, "user_id": 7732200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xOslk.jpg?s=128&g=1", "display_name": "Oleh Rybalchenko", "link": "https://stackoverflow.com/users/7732200/oleh-rybalchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1505336313, "last_edit_date": 1505336313, "creation_date": 1505335401, "answer_id": 46206518, "question_id": 46206324, "link": "https://stackoverflow.com/questions/46206324/converting-curl-post-into-urllib2-without-requests/46206518#46206518", "title": "Converting cURL POST into urllib2 without Requests", "body": "<p>With python3 you can do it with <code>requests</code>:</p>\n\n<pre><code>import requests\n\nheaders = {'Authorization': 'Bearer $Token'}\n\nfiles = [('file', open('${local_filename}', 'rb'))]\n\nrequests.post('https://interesting_url.com/', headers=headers, files=files, verify=False)\n</code></pre>\n\n<p>Uploading files with urllib2 is quite a complicated task (<a href=\"https://pymotw.com/2/urllib2/#uploading-files\" rel=\"nofollow noreferrer\">example</a>).\nSo I suggest you <code>requests</code>.</p>\n\n<h1>Long answer without using pip and third-party packages</h1>\n\n<p>You can implement custom class <code>MultiPartForm</code> and then use it to encode files:</p>\n\n<pre><code>import itertools\nimport mimetools\nimport mimetypes\nfrom cStringIO import StringIO\nimport urllib\nimport urllib2\n\nclass MultiPartForm(object):\n    \"\"\"Accumulate the data to be used when posting a form.\"\"\"\n\n    def __init__(self):\n        self.form_fields = []\n        self.files = []\n        self.boundary = mimetools.choose_boundary()\n        return\n\n    def get_content_type(self):\n        return 'multipart/form-data; boundary=%s' % self.boundary\n\n    def add_field(self, name, value):\n        \"\"\"Add a simple field to the form data.\"\"\"\n        self.form_fields.append((name, value))\n        return\n\n    def add_file(self, fieldname, filename, fileHandle, mimetype=None):\n        \"\"\"Add a file to be uploaded.\"\"\"\n        body = fileHandle.read()\n        if mimetype is None:\n            mimetype = mimetypes.guess_type(filename)[0] or 'application/octet-stream'\n        self.files.append((fieldname, filename, mimetype, body))\n        return\n\n    def __str__(self):\n        \"\"\"Return a string representing the form data, including attached files.\"\"\"\n        # Build a list of lists, each containing \"lines\" of the\n        # request.  Each part is separated by a boundary string.\n        # Once the list is built, return a string where each\n        # line is separated by '\\r\\n'.  \n        parts = []\n        part_boundary = '--' + self.boundary\n\n        # Add the form fields\n        parts.extend(\n            [ part_boundary,\n              'Content-Disposition: form-data; name=\"%s\"' % name,\n              '',\n              value,\n            ]\n            for name, value in self.form_fields\n            )\n\n        # Add the files to upload\n        parts.extend(\n            [ part_boundary,\n              'Content-Disposition: file; name=\"%s\"; filename=\"%s\"' % \\\n                 (field_name, filename),\n              'Content-Type: %s' % content_type,\n              '',\n              body,\n            ]\n            for field_name, filename, content_type, body in self.files\n            )\n\n        # Flatten the list and add closing boundary marker,\n        # then return CR+LF separated data\n        flattened = list(itertools.chain(*parts))\n        flattened.append('--' + self.boundary + '--')\n        flattened.append('')\n        return '\\r\\n'.join(flattened)\n\nwith open(`local_file.txt`) as f:\n    form = MultiPartForm()\n    form.add_file('file', `local_file`, \n                  fileHandle=f)\n\n    # Build the request\n    request = urllib2.Request('https://interesting_url.com/')\n    request.add_header('Authorization', 'Bearer $Token')\n    body = str(form)\n    request.add_header('Content-type', form.get_content_type())\n    request.add_header('Content-length', len(body))\n    request.add_data(body)\n\n    print\n    print 'OUTGOING DATA:'\n    print request.get_data()\n\n    print\n    print 'SERVER RESPONSE:'\n    print urllib2.urlopen(request).read()\n</code></pre>\n\n<p><a href=\"https://pymotw.com/2/urllib2/#uploading-files\" rel=\"nofollow noreferrer\">The source</a></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 8265119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-onKn8RaaElI/AAAAAAAAAAI/AAAAAAAAIc8/23fL7B-swqA/photo.jpg?sz=128", "display_name": "Srivishnu Piratla", "link": "https://stackoverflow.com/users/8265119/srivishnu-piratla"}, "is_accepted": false, "score": 0, "last_activity_date": 1505336776, "creation_date": 1505336776, "answer_id": 46206846, "question_id": 46206324, "link": "https://stackoverflow.com/questions/46206324/converting-curl-post-into-urllib2-without-requests/46206846#46206846", "title": "Converting cURL POST into urllib2 without Requests", "body": "<p>Try looking into the requests library. You can install it using <code>pip install requests</code> after that just search up some example code online. Depending on your application it will vary. The requests library allows you to do a lot of things. There is a lot of documentation. I highly recommend that you check it out.</p>\n"}], "owner": {"reputation": 1339, "user_id": 1296327, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d6ff36858207d1886fa0f70b414b7d6e?s=128&d=identicon&r=PG", "display_name": "Numpty", "link": "https://stackoverflow.com/users/1296327/numpty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 0, "accepted_answer_id": 46206518, "answer_count": 2, "score": 0, "last_activity_date": 1505384907, "creation_date": 1505334567, "last_edit_date": 1505384907, "question_id": 46206324, "link": "https://stackoverflow.com/questions/46206324/converting-curl-post-into-urllib2-without-requests", "title": "Converting cURL POST into urllib2 without Requests", "body": "<p>I currently have a cURL command that works in my environment. I need to convert this into a python 2.7 urllib equivalent and need some assistance</p>\n\n<p>cURL command in question:</p>\n\n<pre><code>curl -k -v -XPOST -H \"Authorization: Bearer $Token\" -F file=@${local_filename} https://interesting_url.com/\n</code></pre>\n\n<p>I need the ability to support both a Header (-H) and a form/file (-F) and have yet to be successful.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3238925/python-urllib-urllib2-post\">This post includes a discussion on headers</a>, but I have not been able to get the '-F' equivalent working</p>\n"}, {"tags": ["python", "python-3.x", "csv"], "comments": [{"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1505334647, "post_id": 46206297, "comment_id": 79376022, "body": "Use <code>with open(File_Name, &#39;w&#39;) as csvfile</code>"}, {"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 2, "creation_date": 1505335059, "post_id": 46206297, "comment_id": 79376206, "body": "where does <code>writerow</code> come from? You are overriding <code>filewriter</code>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1505335277, "post_id": 46206297, "comment_id": 79376295, "body": "In Python 3.x the proper way to open the csv file for writing is <code>open(open(File_Name, &#39;w&#39;, newline=&#39;&#39;) as csvfile:</code> as shown in the examples in the <a href=\"https://docs.python.org/3/library/csv.html#csv.writer\" rel=\"nofollow noreferrer\">documentation.</a>. You also need to use <code>filewriter.writerow([&#39;Paul&#39;,&#39;Mary&#39;])</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 2, "last_activity_date": 1505334954, "last_edit_date": 1505334954, "creation_date": 1505334583, "answer_id": 46206331, "question_id": 46206297, "link": "https://stackoverflow.com/questions/46206297/how-do-i-write-to-a-csv-file-with-python/46206331#46206331", "title": "How do I write to a .csv file with python", "body": "<p>If you don't need the binary mode, you can use this :</p>\n\n<pre><code>with open(File_Name, 'w') as csvfile:\n   filewriter = csv.writer(csvfile,delimiter=',')\n   filewriter.writerow(['Paul','Mary'])\n</code></pre>\n\n<p>Check the table <a href=\"https://docs.python.org/3.6/library/functions.html?highlight=open#open\" rel=\"nofollow noreferrer\">here</a> to see details about the different modes available.</p>\n"}, {"tags": [], "owner": {"reputation": 3877, "user_id": 7732200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xOslk.jpg?s=128&g=1", "display_name": "Oleh Rybalchenko", "link": "https://stackoverflow.com/users/7732200/oleh-rybalchenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1505335607, "last_edit_date": 1505335607, "creation_date": 1505334605, "answer_id": 46206334, "question_id": 46206297, "link": "https://stackoverflow.com/questions/46206297/how-do-i-write-to-a-csv-file-with-python/46206334#46206334", "title": "How do I write to a .csv file with python", "body": "<p>The thing is that you are opened file in a binary mode</p>\n\n<pre><code>with open(File_Name, 'wb') as csvfile:\n</code></pre>\n\n<p>This means that all data read from the file is returned as bytes objects, not str.\nIf you don't need it, try:</p>\n\n<pre><code>with open(File_Name, 'w') as csvfile:\n</code></pre>\n\n<p>Also you should use <code>writerow</code> method of the <code>csvwriter</code> instead of reassign it:</p>\n\n<pre><code>file_writer.writerow(['Paul','Mary'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": false, "score": 3, "last_activity_date": 1505335812, "last_edit_date": 1505335812, "creation_date": 1505335255, "answer_id": 46206493, "question_id": 46206297, "link": "https://stackoverflow.com/questions/46206297/how-do-i-write-to-a-csv-file-with-python/46206493#46206493", "title": "How do I write to a .csv file with python", "body": "<p>The <code>csvwriter</code> instance shouldn't be reassigned to. It should be used to write the rows.</p>\n\n<p>In python 3, you should open the file in write only mode with <code>newline=''</code> per <a href=\"https://docs.python.org/3/library/csv.html#csv.writer\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<pre><code>import csv\n\nfilename = 'Test.csv'\n\nwith open(filename, 'w', newline='') as csvfile:\n   file_writer = csv.writer(csvfile,delimiter=',')\n   file_writer.writerow(['Paul','Mary'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 2273055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/daa4faa43d63c52e9db5a8a4f750fae6?s=128&d=identicon&r=PG", "display_name": "sgetachew", "link": "https://stackoverflow.com/users/2273055/sgetachew"}, "is_accepted": false, "score": 2, "last_activity_date": 1505335959, "creation_date": 1505335959, "answer_id": 46206657, "question_id": 46206297, "link": "https://stackoverflow.com/questions/46206297/how-do-i-write-to-a-csv-file-with-python/46206657#46206657", "title": "How do I write to a .csv file with python", "body": "<p>You have to change from 'wb' to 'w' and file name should be in quotation(\"Test.csv\" or 'Test.csv') see below</p>\n\n<pre><code>import csv\nFile_Name = \"Test.csv\"\nwith open(File_Name, 'w') as csvfile:\n    filewriter = csv.writer(csvfile,delimiter=',')\n    filewriter.writerow(['Paul','Mary'])\n</code></pre>\n"}], "owner": {"reputation": 1199, "user_id": 2403819, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e2a67993748e1104299bea8d86656a65?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/2403819/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 46206331, "answer_count": 4, "score": 1, "last_activity_date": 1505335959, "creation_date": 1505334433, "question_id": 46206297, "link": "https://stackoverflow.com/questions/46206297/how-do-i-write-to-a-csv-file-with-python", "title": "How do I write to a .csv file with python", "body": "<p>I am writing a simple script with Python3.6 and am using the csv module to create a csv file.  My code is attached below, and is a carbon copy of multiple examples I have found online, but when I run the code, I get the error message <code>TypeError: a bytes-like object is required, not a 'str'</code>.</p>\n\n<pre><code>import csv\nFile_Name = Test.csv\nwith open(File_Name, 'wb') as csvfile:\n   filewriter = csv.writer(csvfile,delimiter=',')\n   filewriter = writerow(['Paul','Mary'])\n</code></pre>\n"}, {"tags": ["python", "performance", "pyqt", "pyqtgraph"], "comments": [{"owner": {"reputation": 4141, "user_id": 3419537, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e5899a36794df8696441dfa03069bad?s=128&d=identicon&r=PG&f=1", "display_name": "user3419537", "link": "https://stackoverflow.com/users/3419537/user3419537"}, "edited": false, "score": 3, "creation_date": 1505392068, "post_id": 46206296, "comment_id": 79400716, "body": "Interestingly, setting a pen width of 1 results in much faster plots. It seems this <a href=\"https://github.com/pyqtgraph/pyqtgraph/issues/533\" rel=\"nofollow noreferrer\">issue</a> has been reported recently."}, {"owner": {"reputation": 51584, "user_id": 839246, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9b0573c2b936b12828dd1e4cc04206dc?s=128&d=identicon&r=PG&f=1", "display_name": "bheklilr", "link": "https://stackoverflow.com/users/839246/bheklilr"}, "reply_to_user": {"reputation": 4141, "user_id": 3419537, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e5899a36794df8696441dfa03069bad?s=128&d=identicon&r=PG&f=1", "display_name": "user3419537", "link": "https://stackoverflow.com/users/3419537/user3419537"}, "edited": false, "score": 0, "creation_date": 1505396457, "post_id": 46206296, "comment_id": 79404177, "body": "@user3419537 Well that&#39;s interesting.  The native graphics system is now faster than using OpenGL, and it is at a much more acceptable level.  I was able to plot about half a million points without it taking more than 150ms to add a new set of plots.  That&#39;s a weird issue, but I&#39;ll follow it for future updates.  Thanks!"}, {"owner": {"reputation": 4602, "user_id": 625350, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qzA9A.jpg?s=128&g=1", "display_name": "titusjan", "link": "https://stackoverflow.com/users/625350/titusjan"}, "edited": false, "score": 0, "creation_date": 1505500781, "post_id": 46206296, "comment_id": 79455547, "body": "+1 to the line width remark. I want to note that your UI is getting progressively slower because you keep adding curves to the plots, but never delete them. Is that what you actually want? If you clear the plots (with <code>self.axes[axis].clear()</code> before adding the curve item) your plot times remain constant."}], "owner": {"reputation": 51584, "user_id": 839246, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9b0573c2b936b12828dd1e4cc04206dc?s=128&d=identicon&r=PG&f=1", "display_name": "bheklilr", "link": "https://stackoverflow.com/users/839246/bheklilr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2107, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1505334432, "creation_date": 1505334432, "question_id": 46206296, "link": "https://stackoverflow.com/questions/46206296/performance-issues-with-pyqtgraph", "title": "Performance issues with pyqtgraph", "body": "<p>I'm trying to convert some code from using matplotlib to pyqtgraph since it's supposed to be much more efficient, and it provides a lot more interactive features.  I've got the code mostly converted, but I'm running into issues where it just runs slowly.  Some code that reproduces this:</p>\n\n<pre><code>import numpy as np\nimport qtpy.QtWidgets as qt\nimport pyqtgraph as pg\n\n\nclass GraphWidget(qt.QWidget):\n    \"\"\"A widget for simplifying graphing tasks\n\n    :param qt.QWidget parent:\n    :param Dict[str, dict] layout: A mapping from title to row/col/rowspan/colspan kwargs\n    \"\"\"\n    def __init__(self, parent, layout_spec):\n        super(GraphWidget, self).__init__(parent=parent)\n\n        self.axes = {}\n        glw = pg.GraphicsLayoutWidget(parent=self)\n        for name, layout in layout_spec.items():\n            self.axes[name] = pg.PlotItem(name=name, title=name)\n            glw.addItem(self.axes[name], **layout)\n        box_layout = qt.QVBoxLayout()\n        box_layout.addWidget(glw, 1)\n        self.setLayout(box_layout)\n\n    @property\n    def normal_pen(self):\n        return pg.mkPen(color='w', width=2)\n\n    @property\n    def good_pen(self):\n        return pg.mkPen(color='g', width=2)\n\n    @property\n    def bad_pen(self):\n        return pg.mkPen(color='r', width=2)\n\n    def plot(self, mode, x, y, axis):\n        if mode == 'normal':\n            pen = self.normal_pen\n        elif mode == 'good':\n            pen = self.good_pen\n        elif mode == 'bad':\n            pen = self.bad_pen\n\n        plot_item = pg.PlotCurveItem(x, y, pen=pen)\n        self.axes[axis].addItem(plot_item)\n\n\nif __name__ == '__main__':\n    import random\n    import time\n\n    # qt.QApplication.setGraphicsSystem('opengl')\n\n    app = qt.QApplication([])\n    window = qt.QWidget(parent=None)\n    layout = qt.QVBoxLayout()\n\n    gw = GraphWidget(\n        window,\n        {\n            'A': dict(row=1, col=1, rowspan=2),\n            'B': dict(row=1, col=2),\n            'C': dict(row=2, col=2),\n            'D': dict(row=1, col=3),\n            'E': dict(row=2, col=3),\n            'F': dict(row=1, col=4),\n            'G': dict(row=2, col=4),\n        }\n    )\n    layout.addWidget(gw, 1)\n\n    def plot():\n        start = time.time()\n        for axis in 'ABCDEFG':\n            gw.plot(\n                random.choice(['normal', 'good', 'bad']),\n                np.arange(2000),\n                np.random.rand(2000),\n                axis,\n            )\n        # necessary because without it, the \"plotting\" completes in ms, \n        # but the UI doesn't update for a while still\n        app.processEvents()\n        print('Plotting time: {}'.format(time.time() - start))\n\n    button = qt.QPushButton(parent=window, text='Plot')\n    button.pressed.connect(plot)\n    layout.addWidget(button)\n\n    window.setLayout(layout)\n    window.showMaximized()\n    app.exec_()\n</code></pre>\n\n<p>The number and layout of plots, and the number of points, is chosen to reflect the real-world use case I have.  If I run this as is and click the plot button twice I see</p>\n\n<pre><code>Plotting time: 3.61599993706\nPlotting time: 7.04699993134\n</code></pre>\n\n<p>I stopped at this point because the application in general was suddenly very slow and took several seconds just to close.  If I uncomment the one line to enable opengl rendering, I can easily run it more times and it looks like</p>\n\n<pre><code>Plotting time: 0.0520000457764\nPlotting time: 0.328999996185\nPlotting time: 0.453000068665\nPlotting time: 0.55999994278\nPlotting time: 0.674000024796\nPlotting time: 1.21900010109\nPlotting time: 0.936000108719\nPlotting time: 1.06100010872\nPlotting time: 1.19899988174\nPlotting time: 1.35100007057\n</code></pre>\n\n<p>At this point I can also tell that the times reported here are not really accurate, it takes longer than these times for the UI to actually reflect the update.</p>\n\n<p>This is a fairly typical number of graphs for me to be able to deal with, this application could easily see 16 sets of graphs (one additional line per axis) in about 20 seconds.  If my UI is getting progressively slower this just isn't sufficiently fast.</p>\n\n<p>Down-sampling doesn't seem to apply with the PlotCurveItem (unlike PlotDataItem), but I did discover that doing</p>\n\n<pre><code>plot_item = pg.PlotCurveItem(x, y, pen=pen, connect='pairs')\n</code></pre>\n\n<p>results in much faster times:</p>\n\n<pre><code>Plotting time: 0.0520000457764\nPlotting time: 0.0900001525879\nPlotting time: 0.138000011444\nPlotting time: 0.108000040054\nPlotting time: 0.117000102997\nPlotting time: 0.12299990654\nPlotting time: 0.143000125885\nPlotting time: 0.15499997139\n</code></pre>\n\n<p>This still seems pretty slow to me though, and I'm wondering if there's anything that can be done to speed it up further.  It's also still very slow (on the order of several seconds per plot) if I don't set it to opengl.  I'm really looking for as fast of plotting as I can possibly manage.  My target would be &lt;100ms per plot.</p>\n\n<p>It's hard to tell where to slowdowns really are though, profiling this code seems like it will be difficult since some of it happens at the OpenGL level, some deep inside Qt code, and some in pyqtgraph itself.</p>\n\n<p>Is there any other way to speed up this code further?</p>\n\n<p>Note:  I am currently using Python 2.7 64bit, PyQt 4.10.4, and pyqtgraph 0.10.0 installed via conda, although this code will need to work equally well on Python 3.5+.</p>\n"}, {"tags": ["python", "mysql", "python-3.x", "string-formatting"], "comments": [{"owner": {"reputation": 966, "user_id": 5669167, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/2cc0p.jpg?s=128&g=1", "display_name": "zython", "link": "https://stackoverflow.com/users/5669167/zython"}, "edited": false, "score": 0, "creation_date": 1505334165, "post_id": 46206223, "comment_id": 79375811, "body": "what database are you using ?"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1505334439, "last_edit_date": 1505334439, "creation_date": 1505334314, "answer_id": 46206270, "question_id": 46206223, "link": "https://stackoverflow.com/questions/46206223/reuse-s-placeholder-without-duplicating-the-variable/46206270#46206270", "title": "Reuse %s placeholder without duplicating the variable?", "body": "<p>IIUC, use named formatters and pass a <code>dict</code> as the second argument.</p>\n\n<pre><code>query = (\"\"\"INSERT INTO table \n            SET col1 = %(var1)s, \n                col2 = %(var2)s, \n                col3 = %(var3)s \n            ON DUPLICATE KEY UPDATE col2 = %(var2)s, \n                                    col3 = %(var3)s\"\"\")\ncursor.execute(insert_post, {'var1' : var1, 'var2' : var2, 'var3' : var3})\n</code></pre>\n\n<p><a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlcursor-execute.html\" rel=\"nofollow noreferrer\">Reference.</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1026996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 46206270, "answer_count": 1, "score": 1, "last_activity_date": 1505383481, "creation_date": 1505334116, "last_edit_date": 1505383481, "question_id": 46206223, "link": "https://stackoverflow.com/questions/46206223/reuse-s-placeholder-without-duplicating-the-variable", "title": "Reuse %s placeholder without duplicating the variable?", "body": "<p><strong>mysql  Ver 14.14 Distrib 5.7.19, for Linux (x86_64)</strong></p>\n\n<p>I'm running an <code>INSERT / ON DUPLICATE KEY UPDATE</code> query like this:</p>\n\n<pre><code>query = (\"INSERT INTO table SET col1 = %s, col2 = %s, col3 = %s ON DUPLICATE KEY UPDATE col2 = %s, col3 = %s\")\ncursor.execute(insert_post, (var1, var2, var3, var2, var3,))\n</code></pre>\n\n<p>Is there a way to do this without reusing each of the variables in my <code>cursor.execute()</code> function, or am I better off doing string formatting with <code>format()</code>?</p>\n"}, {"tags": ["python", "pandas", "numpy", "series"], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1505335064, "last_edit_date": 1505335064, "creation_date": 1505334320, "answer_id": 46206273, "question_id": 46206214, "link": "https://stackoverflow.com/questions/46206214/incrementing-contiguous-positive-groups-in-array-series/46206273#46206273", "title": "Incrementing contiguous positive groups in array/Series", "body": "<p>You can try this:</p>\n\n<pre><code>vals.astype(int).diff().fillna(vals.iloc[0]).eq(1).cumsum().where(vals, 0)\n\n#0     0\n#1     0\n#2     0\n#3     1\n#4     1\n#5     1\n#6     1\n#7     0\n#8     0\n#9     2\n#10    2\n#11    0\n#12    3\n#13    3\n#14    3\n#dtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1505334426, "creation_date": 1505334426, "answer_id": 46206294, "question_id": 46206214, "link": "https://stackoverflow.com/questions/46206214/incrementing-contiguous-positive-groups-in-array-series/46206294#46206294", "title": "Incrementing contiguous positive groups in array/Series", "body": "<pre><code>m=(vals.diff().ne(0)&amp;vals.ne(0)).cumsum()\nm[vals.eq(0)]=0\nm\nOut[235]: \n0     0\n1     0\n2     0\n3     1\n4     1\n5     1\n6     1\n7     0\n8     0\n9     2\n10    2\n11    0\n12    3\n13    3\n14    3\ndtype: int32\n</code></pre>\n\n<hr>\n\n<p>Data Input </p>\n\n<pre><code>vals = pd.Series([0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 3, "last_activity_date": 1505337646, "last_edit_date": 1505337646, "creation_date": 1505334586, "answer_id": 46206332, "question_id": 46206214, "link": "https://stackoverflow.com/questions/46206214/incrementing-contiguous-positive-groups-in-array-series/46206332#46206332", "title": "Incrementing contiguous positive groups in array/Series", "body": "<p>Here's a NumPy approach -</p>\n\n<pre><code>def island_same_label(vals):\n\n    # Get array for faster processing with NumPy tools, ufuncs\n    a = vals.values\n\n    # Initialize output array\n    out = np.zeros(a.size, dtype=int)\n\n    # Get start indices for each island of 1s. Set those as 1s\n    out[np.flatnonzero(a[1:] &gt; a[:-1])+1] = 1\n\n    # In case 1st element was True, we would have missed it earlier, so add that\n    out[0] = a[0]\n\n    # Finally cumsum and mask out non-island regions\n    np.cumsum(out, out=out)\n    return pd.Series(np.where(a, out, 0))\n</code></pre>\n\n<p>Using the sample and tiling for a number of times for the input -</p>\n\n<pre><code>In [15]: vals=pd.Series([0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1]).astype(bool)\n\nIn [16]: vals = pd.Series(np.tile(vals,10000))\n\nIn [17]: %timeit Psidom_app(vals) # @Psidom's soln\n    ...: %timeit Wen_app(vals) # @Wen's soln\n    ...: %timeit island_same_label(vals) # Proposed in this post\n    ...: \n100 loops, best of 3: 9.53 ms per loop\n100 loops, best of 3: 13.2 ms per loop\n1000 loops, best of 3: 959 \u00b5s per loop\n</code></pre>\n"}], "owner": {"reputation": 1599, "user_id": 5636510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09b361064433b5c7272b92f4a0c6a8ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/5636510/eric-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 46206273, "answer_count": 3, "score": 2, "last_activity_date": 1505337646, "creation_date": 1505334076, "question_id": 46206214, "link": "https://stackoverflow.com/questions/46206214/incrementing-contiguous-positive-groups-in-array-series", "title": "Incrementing contiguous positive groups in array/Series", "body": "<p>Suppose I have a Pandas series of boolean values like so. </p>\n\n<pre><code>vals = pd.Series([0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1]).astype(bool)\n\n&gt;&gt;&gt; vals\n0     False\n1     False\n2     False\n3      True\n4      True\n5      True\n6      True\n7     False\n8     False\n9      True\n10     True\n11    False\n12     True\n13     True\n14     True\ndtype: bool\n</code></pre>\n\n<p>I want to turn this boolean Series into a series where each group of 1's is properly enumerated, like so </p>\n\n<pre><code>0     0\n1     0\n2     0\n3     1\n4     1\n5     1\n6     1\n7     0\n8     0\n9     2\n10    2\n11    0\n12    3\n13    3\n14    3\n</code></pre>\n\n<p><strong>How can I do this efficiently</strong>?</p>\n\n<hr>\n\n<p>I have been able to do so manually, looping over the series on a Python level and incrementing, but this is obviously slow. I'm looking for a vectorized solution - I saw <a href=\"https://stackoverflow.com/a/7353335/4686625\">this answer from unutbu</a> concerning splitting on increasing groups in NumPy, and was trying to get that to work with a <code>cumsum</code> of some sort but have been unsuccessful so far. </p>\n"}, {"tags": ["python", "pandas", "dataframe", "hdf5"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 8605380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8MOR.jpg?s=128&g=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8605380/karl"}, "edited": false, "score": 0, "creation_date": 1505336506, "post_id": 46206376, "comment_id": 79376905, "body": "That is it, thank you very much for the quick answer !"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 103, "user_id": 8605380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8MOR.jpg?s=128&g=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8605380/karl"}, "edited": false, "score": 0, "creation_date": 1505336545, "post_id": 46206376, "comment_id": 79376925, "body": "@Karl, glad i could help :)"}, {"owner": {"reputation": 3182, "user_id": 4360557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8847f873afc94349f4012906c616bc0a?s=128&d=identicon&r=PG&f=1", "display_name": "Mayou36", "link": "https://stackoverflow.com/users/4360557/mayou36"}, "edited": false, "score": 0, "creation_date": 1508497930, "post_id": 46206376, "comment_id": 80643081, "body": "could you add some explanation why <code>append</code> works and <code>put</code> does not?"}, {"owner": {"reputation": 783, "user_id": 3523176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUWoq.png?s=128&g=1", "display_name": "Pawel Kranzberg", "link": "https://stackoverflow.com/users/3523176/pawel-kranzberg"}, "edited": false, "score": 1, "creation_date": 1548242453, "post_id": 46206376, "comment_id": 95470507, "body": "It&#39;s important to note that appending works only with <code>format = &#39;table&#39;</code>.  The default &#39;fixed&#39; format is not-appendable (and not searchable) - see <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_hdf.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 12, "last_activity_date": 1548245080, "last_edit_date": 1548245080, "creation_date": 1505334777, "answer_id": 46206376, "question_id": 46206125, "link": "https://stackoverflow.com/questions/46206125/append-data-to-hdf5-file-with-pandas-python/46206376#46206376", "title": "Append data to HDF5 file with Pandas, Python", "body": "<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.HDFStore.put.html\" rel=\"noreferrer\">pandas.HDFStore.put()</a> has parameter <code>append</code> (which defaults to <code>False</code>) - that instructs Pandas to overwrite instead of appending.</p>\n\n<p>So try this:</p>\n\n<pre><code>store = pd.HDFStore('test.h5')\n\nstore.append('name_of_frame', ohlcv_candle, format='t',  data_columns=True)\n</code></pre>\n\n<p>we can also use <code>store.put(..., append=True)</code>, but this file should also be created in a table format:</p>\n\n<pre><code>store.put('name_of_frame', ohlcv_candle, format='t', append=True, data_columns=True)\n</code></pre>\n\n<p><strong>NOTE:</strong> appending works only for the <code>table</code> (<code>format='t'</code> - is an alias for <code>format='table'</code>) format.</p>\n"}, {"tags": [], "owner": {"reputation": 2760, "user_id": 4355695, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7dGEC.jpg?s=128&g=1", "display_name": "Nikhil VJ", "link": "https://stackoverflow.com/users/4355695/nikhil-vj"}, "is_accepted": false, "score": 3, "last_activity_date": 1526970495, "creation_date": 1526970495, "answer_id": 50461149, "question_id": 46206125, "link": "https://stackoverflow.com/questions/46206125/append-data-to-hdf5-file-with-pandas-python/50461149#50461149", "title": "Append data to HDF5 file with Pandas, Python", "body": "<pre><code>tohlcv_candle.to_hdf('test.h5',key='this_is_a_key', append=True, mode='r+', format='t')\n</code></pre>\n\n<p>You need to pass another argument <strong><code>append=True</code></strong> to specify that the data is to be appended to existing data if found under that key, instead of over-writing it. </p>\n\n<p>Without this, the default is <code>False</code> and if it encounters an existing table under <code>'this_is_a_key'</code> then it overwrites. </p>\n\n<p>The <code>mode=</code> argument is only at file-level, telling whether the file as a whole is to be overwritten or appended. </p>\n\n<p>One file can have any number of keys, so a <code>mode='a', append=False</code> setting will mean only one key gets over-written while the other keys stay. </p>\n\n<p>I had a similar experience as yours and found the additional append argument in the reference doc. After setting it, now it's appending properly for me. </p>\n\n<p>Ref: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_hdf.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_hdf.html</a></p>\n\n<p>Note: hdf5 won't bother doing anything with the dataframe's indexes. We need to iron those out before putting the data in or when we take it out.</p>\n"}], "owner": {"reputation": 103, "user_id": 8605380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8MOR.jpg?s=128&g=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8605380/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11660, "favorite_count": 3, "accepted_answer_id": 46206376, "answer_count": 2, "score": 9, "last_activity_date": 1548245080, "creation_date": 1505333662, "last_edit_date": 1505335634, "question_id": 46206125, "link": "https://stackoverflow.com/questions/46206125/append-data-to-hdf5-file-with-pandas-python", "title": "Append data to HDF5 file with Pandas, Python", "body": "<p>I have large pandas DataFrames with financial data.\nI have no problem appending and concatenating additional columns and DataFrames to my .h5 file.</p>\n\n<p>The financial data is being updated every minute, I need to append a row of data to all of my existing tables inside of my .h5 file every minute.</p>\n\n<p>Here is what i have tried so far, but no matter what i do, it overwrites the .h5 file and does not just append data.</p>\n\n<p>HDFStore way:</p>\n\n<pre><code>#we open the hdf5 file\nsave_hdf = HDFStore('test.h5') \n\nohlcv_candle.to_hdf('test.h5')\n\n#we give the dataframe a key value\n#format=table so we can append data\nsave_hdf.put('name_of_frame',ohlcv_candle, format='table',  data_columns=True)\n\n#we print our dataframe by calling the hdf file with the key\n#just doing this as a test\nprint(save_hdf['name_of_frame'])    \n</code></pre>\n\n<hr>\n\n<p>The other way I have tried it, to_hdf:   </p>\n\n<pre><code>#format=t so we can append data , mode=r+ to specify the file exists and\n#we want to append to it\ntohlcv_candle.to_hdf('test.h5',key='this_is_a_key', mode='r+', format='t')\n\n#again just printing to check if it worked \nprint(pd.read_hdf('test.h5', key='this_is_a_key'))\n</code></pre>\n\n<hr>\n\n<p>Here is what one of the DataFrames looks like after being read_hdf:</p>\n\n<pre><code>           time     open     high      low    close     volume           PP  \n0    1505305260  3137.89  3147.15  3121.17  3146.94   6.205397  3138.420000   \n1    1505305320  3146.86  3159.99  3130.00  3159.88   8.935962  3149.956667   \n2    1505305380  3159.96  3160.00  3159.37  3159.66   4.524017  3159.676667   \n3    1505305440  3159.66  3175.51  3151.08  3175.51   8.717610  3167.366667   \n4    1505305500  3175.25  3175.53  3170.44  3175.53   3.187453  3173.833333  \n</code></pre>\n\n<p>The next time I am getting data (every minute), i would like a row of it added to index 5 of all my columns..and then  6 and 7 ..and so on, without having to read and manipulate the entire file in memory as that would defeat the point of doing this.\nIf there is a better way of solving this, do not be shy to recommend it.</p>\n\n<p>P.S. sorry for the formatting of that table in here</p>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505333962, "post_id": 46206050, "comment_id": 79375704, "body": "Are you <code>return</code>ing the <code>module_names</code> variable?"}, {"owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "reply_to_user": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505334068, "post_id": 46206050, "comment_id": 79375761, "body": "Before returning I was trying to print the value. It is blank."}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505334236, "post_id": 46206050, "comment_id": 79375852, "body": "Oh ok. In that case, model definitions over the SQL-like table data will be better. Because from the current question, what I understand is that you are trying <code>instance.category</code> on a category instance, which doesn&#39;t seem right. You should be doing something like <code>category_instance.module_set.values_list(&#39;module_name&#39;)</code>."}, {"owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "reply_to_user": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505336003, "post_id": 46206050, "comment_id": 79376655, "body": "Getting a name error on category_instance."}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505365289, "post_id": 46206050, "comment_id": 79384748, "body": "Yes, use only <code>instance</code>, I added <code>category_</code>for clarity."}, {"owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "reply_to_user": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505379470, "post_id": 46206050, "comment_id": 79392050, "body": "There is an issue. It displays the module names even if no category is assigned to a user."}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505382092, "post_id": 46206050, "comment_id": 79393928, "body": "You need to add appropriate filters then."}, {"owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "reply_to_user": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505389113, "post_id": 46206050, "comment_id": 79398583, "body": "I tried with <code>instance.filter(user_id=56).module_set.values_list(&quot;module_n&zwnj;&#8203;ame&quot;, flat=True)</code>. Is it right way to do?"}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "reply_to_user": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "edited": false, "score": 0, "creation_date": 1505389194, "post_id": 46206050, "comment_id": 79398632, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/154440/discussion-between-ashish-nitin-patil-and-prithviraj-mitra\">continue this discussion in chat</a>."}, {"owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "reply_to_user": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "edited": false, "score": 0, "creation_date": 1505390949, "post_id": 46206050, "comment_id": 79399868, "body": "Ok..I am in the room."}], "owner": {"reputation": 7886, "user_id": 2455424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9df3e17871a8353aa8069c299c2add85?s=128&d=identicon&r=PG", "display_name": "Prithviraj Mitra", "link": "https://stackoverflow.com/users/2455424/prithviraj-mitra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505333386, "creation_date": 1505333386, "question_id": 46206050, "link": "https://stackoverflow.com/questions/46206050/get-column-data-based-on-foreign-key-and-manytomanyfield-in-django-admin", "title": "Get column data based on foreign key and manytomanyfield in django admin", "body": "<p>I am new in Django. I have the following models.</p>\n\n<p><code>Category</code></p>\n\n<pre><code>id      category_name\n1       A\n2       B\n</code></pre>\n\n<p><code>Module</code> (category_id is the foreignkey)</p>\n\n<pre><code>id      module_name    category_id\n1       X              1   \n2       Y              2     \n</code></pre>\n\n<p><code>category_user</code> (user_id is ManyToManyField with category_id)</p>\n\n<pre><code>id      category_id    user_id\n1       1              23 \n2       2              23   \n</code></pre>\n\n<p>So I want to display data <code>X</code> &amp; <code>Y</code> from <code>module</code>  in admin category edit page if that category id <code>1</code> &amp; <code>2</code> is assigned to user <code>23</code>.</p>\n\n<p><code>admin.py</code></p>\n\n<pre><code>class categoryAdmin(admin.ModelAdmin):\n    list_display = ('category_name','category_desc')\n    filter_horizontal = ('user',)\n    readonly_fields = ('allowed_module_names',)\n\n    def allowed_module_names(self, instance):\n        modules = []\n        module_names = instance.category.values_list(\"module_name\")\n        print(module_names)\n</code></pre>\n\n<p>The query returns blank. </p>\n\n<p>Any help is highly appreciated. Thanks in advance.</p>\n"}, {"tags": ["python", "pandas", "numpy", "graph", "networkx"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1505333679, "post_id": 46206039, "comment_id": 79375534, "body": "Can&#39;t really do this with pandas. Use something else like BFS or Dijkstra&#39;s alg..."}, {"owner": {"reputation": 2015, "user_id": 5858873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e3e680597fd5ec8eb03e4bbeb552e37?s=128&d=identicon&r=PG&f=1", "display_name": "Melsauce", "link": "https://stackoverflow.com/users/5858873/melsauce"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1505333892, "post_id": 46206039, "comment_id": 79375673, "body": "Sure, solutions not involving pandas operations would work too,as long as I can get them back to a pandas dataframe easily. Also, wouldn&#39;t something like BFS be a naive solution, given that there would be frequent subpatterns?"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7694152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad86f28d525738ca9187c9773b42df8?s=128&d=identicon&r=PG&f=1", "display_name": "jwlitts", "link": "https://stackoverflow.com/users/7694152/jwlitts"}, "is_accepted": true, "score": 3, "last_activity_date": 1505389414, "last_edit_date": 1505389414, "creation_date": 1505343647, "answer_id": 46208062, "question_id": 46206039, "link": "https://stackoverflow.com/questions/46206039/efficient-way-to-find-the-paths-with-highest-average-edge-value-between-two-poin/46208062#46208062", "title": "Efficient way to find the paths with highest average edge value between two points in a pandas dataframe?", "body": "<p>Thanks for the clarification, so you are asking for the path with the highest cost/(number of edges) between each pair of nodes in your graph where the paths are restricted to an upper limit of connecting edges. The longest path problem is np-hard so an efficient solution is only possible with restrictions\n (see <a href=\"https://en.wikipedia.org/wiki/Longest_path_problem\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Longest_path_problem</a>). I think your limit of edge connections artificially enforces a longest path of length L so could bring it down to exponential in L. </p>\n\n<p>The networkx module can take care of finding our simple paths by a depth-first search and we can rank the paths by manually summing the weights and sorting. We can do that for each pair  of nodes and add that as a new series to the dataframe.</p>\n\n<pre><code>import pandas\nimport networkx\n\n# Create a graph from the dataframe\nG = networkx.from_pandas_dataframe(path_frame, 'Fruit1', 'Fruit2', 'Weight')\n\n# Find the longest path between source and target up to length L\ndef maxpath_cond(G, source, target, edge_attr, L=None):\n    #Use networkx simple paths function which uses a depth first search\n    paths = networkx.simple_paths.all_simple_paths(G,source, target, L)\n    # Calculate and sort the costs of the path\n    costs = [(pathcost(G, pth, edge_attr), pth) for pth in paths]\n    return sorted(costs, key=lambda x:x[0], reverse=True)\n\ndef pathcost(G,path, edge_attr):\n    lp = len(path)-1\n    return sum(G[path[n]][path[n+1]][edge_attr] for n in range(lp))/lp\n#Iterate through the dataframe and create a new series made up of long paths\nmxs = []\nfor n in range(len(path_frame)):\n    src, targ = path_frame.loc[n]['Fruit1'], path_frame.loc[n]['Fruit2']\n    mxl = maxpath_cond(G, src, targ, 'Weight', 2)[0]\n    mxs.append( mxl[1])\n\nprint(path_frame.assign(MaxAvgPath=mxs))\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>      Fruit1     Fruit2  Weight                   MaxAvgPath\n0     orange      apple     0.2       [orange, grape, apple]\n1     orange      grape     0.4       [orange, apple, grape]\n2     orange  pineapple     0.6  [orange, banana, pineapple]\n3     orange     banana     0.8             [orange, banana]\n4      apple      grape     0.9               [apple, grape]\n5      apple  pineapple     0.3    [apple, grape, pineapple]\n6      apple     banana     0.2   [apple, pineapple, banana]\n7      grape  pineapple     0.1    [grape, apple, pineapple]\n8  pineapple     banana     0.8          [pineapple, banana]\n</code></pre>\n"}], "owner": {"reputation": 2015, "user_id": 5858873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e3e680597fd5ec8eb03e4bbeb552e37?s=128&d=identicon&r=PG&f=1", "display_name": "Melsauce", "link": "https://stackoverflow.com/users/5858873/melsauce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 46208062, "answer_count": 1, "score": 3, "last_activity_date": 1505389414, "creation_date": 1505333361, "last_edit_date": 1505353359, "question_id": 46206039, "link": "https://stackoverflow.com/questions/46206039/efficient-way-to-find-the-paths-with-highest-average-edge-value-between-two-poin", "title": "Efficient way to find the paths with highest average edge value between two points in a pandas dataframe?", "body": "<p>Pardon the seemingly confusing phrasing of the question. Here is what I'd like to do.</p>\n\n<p>Given a dataframe <strong>df</strong></p>\n\n<pre><code>Fruit1     Fruit2      Weight\norange     apple       0.2\norange     grape       0.4\norange     pineapple   0.6\norange     banana      0.8\napple      grape       0.9\napple      pineapple   0.3\napple      banana      0.2\ngrape      pineapple   0.1\npineapple  banana      0.8\n</code></pre>\n\n<p>and a constraint to the highest allowed path length, <strong>L</strong></p>\n\n<p>I wish to return a dataframe that has the highest average path (i.e. summation of all edges between points/path length to be maximum), where an edge is represented by the <strong>weight</strong> column, given that it does not exceed the length L.</p>\n\n<p>To illustrate with an example of what I mean by highest average path:</p>\n\n<p>Let's say we only have 4 points A, B, C &amp; D. We are interested in finding the highest average path between A &amp; D.</p>\n\n<p>The highest average path would be max( (A->D)/1, (A->B + B->D)/2, (A->C + C->D)/2, (A->B + B->C + C-> D)/3, (A->C + C->B + B-> D)/3 ) in the case of L=3</p>\n\n<p>For L=2, it would be max( (A->D)/1, (A->B + B->D)/2, (A->C + C->D)/2 ) </p>\n\n<p>In the case of df, for L=2 we would get something like</p>\n\n<pre><code>Fruit1     Fruit2      Weight   MaxAvgPath(L=2)\norange     apple       0.2       [orange, grape, apple]  \norange     grape       0.4       [orange, apple, grape]\norange     pineapple   0.6       [orange, banana, pineapple]\norange     banana      0.8       [orange, banana]\napple      grape       0.9       [apple, grape]\napple      pineapple   0.3       [apple, grape, pineapple]\napple      banana      0.2       [apple, pineapple, banana] \ngrape      pineapple   0.1       [grape, orange, pineapple]\ngrape      banana      0.1       [grape, apple, banana]\npineapple  banana      0.8       [pineapple, banana]\n</code></pre>\n\n<p>Note: This edge set contains just enough rows to represent the entire network. For instance, while (orange, apple) exists, (apple, orange) does not because the weight for (apple, orange) would be the same. However, if including those helps in creating the solution, feel free to use them and leave them out in the final output. The returned paths of the mirror pairs should be equal to the returned paths of the original pairs.</p>\n"}, {"tags": ["python", "xml", "namespaces", "sax"], "comments": [{"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1505372079, "post_id": 46206036, "comment_id": 79387704, "body": "What &quot;doesn&#39;t work&quot;?"}], "owner": {"reputation": 31, "user_id": 8605401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6c3fb526e3ba63b9d85322a19e6782?s=128&d=identicon&r=PG&f=1", "display_name": "Wulf", "link": "https://stackoverflow.com/users/8605401/wulf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505334347, "creation_date": 1505333343, "last_edit_date": 1505334347, "question_id": 46206036, "link": "https://stackoverflow.com/questions/46206036/how-to-use-namespaces-with-xml-sax-package", "title": "How to use namespaces with xml.sax package", "body": "<p>I am trying to parse an XML file, including namespaces, with the Python <code>xml.sax</code> package, but it doesn't work. Below you will find an example from the internet, which I extended with the namespace \"abc\". Can someone show me a way to work with it?</p>\n\n<p>This is the XML file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;collection shelf=\"New Arrivals\"&gt;\n    &lt;movie title=\"Enemy Behind\"&gt;\n        &lt;type&gt;War, Thriller&lt;/type&gt;\n        &lt;format&gt;DVD&lt;/format&gt;\n        &lt;abc:year&gt;2003&lt;/abc:year&gt;\n        &lt;rating&gt;PG&lt;/rating&gt;\n        &lt;stars&gt;10&lt;/stars&gt;\n        &lt;description&gt;Talk about a US-Japan war&lt;/description&gt;\n    &lt;/movie&gt;\n    &lt;movie title=\"Transformers\"&gt;\n        &lt;type&gt;Anime, Science Fiction&lt;/type&gt;\n        &lt;format&gt;DVD&lt;/format&gt;\n        &lt;abc:year&gt;1989&lt;/abc:year&gt;\n        &lt;rating&gt;R&lt;/rating&gt;\n        &lt;stars&gt;8&lt;/stars&gt;\n        &lt;description&gt;A schientific fiction&lt;/description&gt;\n    &lt;/movie&gt;\n    &lt;movie title=\"Trigun\"&gt;\n        &lt;type&gt;Anime, Action&lt;/type&gt;\n        &lt;format&gt;DVD&lt;/format&gt;\n        &lt;episodes&gt;4&lt;/episodes&gt;\n        &lt;rating&gt;PG&lt;/rating&gt;\n        &lt;stars&gt;10&lt;/stars&gt;\n        &lt;description&gt;Vash the Stampede!&lt;/description&gt;\n    &lt;/movie&gt;\n    &lt;movie title=\"Ishtar\"&gt;\n        &lt;type&gt;Comedy&lt;/type&gt;\n        &lt;format&gt;VHS&lt;/format&gt;\n        &lt;rating&gt;PG&lt;/rating&gt;\n        &lt;stars&gt;2&lt;/stars&gt;\n        &lt;description&gt;Viewable boredom&lt;/description&gt;\n    &lt;/movie&gt;\n&lt;/collection&gt;\n</code></pre>\n\n<p>This is the Python code. Without the namespace, it works.</p>\n\n<pre><code>from xml.sax import make_parser, handler \n\nclass Handler(handler.ContentHandler):  \n    def __init__(self):\n        self.CurrentData=\"\"\n        self.type = \"\"\n        self.format = \"\"\n        self.year = \"\"\n        self.rating = \"\"\n        self.stars = \"\"\n        self.description = \"\"\n\n    def startElement(self, tag, attributes):\n        self.CurrentData = tag\n        if tag == \"movie\":\n            print(\"*****Movie*****\")\n            title = attributes[\"title\"]\n            print(\"Title:\", title)\n\n    def endElement(self, tag):\n        if self.CurrentData == \"type\":\n            print(\"Type:\", self.type)\n        elif self.CurrentData == \"format\":\n            print(\"Format:\", self.format)\n        elif self.CurrentData == \"year\":\n            print(\"Year:\", self.year)\n        elif self.CurrentData == \"rating\":\n            print(\"Rating:\", self.rating)\n        elif self.CurrentData == \"stars\":\n            print(\"Stars:\", self.stars)\n        elif self.CurrentData == \"description\":\n            print(\"Description:\", self.description)\n        self.CurrentData = \"\"\n\n    def characters(self, content):\n        if self.CurrentData == \"type\":\n            self.type = content\n        elif self.CurrentData == \"format\":\n            self.format = content\n        elif self.CurrentData == \"year\":\n            self.year = content\n        elif self.CurrentData == \"rating\":\n            self.rating = content\n        elif self.CurrentData == \"stars\":\n            self.stars = content\n        elif self.CurrentData == \"description\":\n            self.description = content\n\nparser = make_parser()\np = Handler()\nparser.setContentHandler(p)\nparser.parse(\"sax03.xml\")\n</code></pre>\n"}, {"tags": ["python", "bokeh"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1505333560, "post_id": 46206007, "comment_id": 79375454, "body": "Yes, you can, just add header:` &#39;Content-Type: application/json&#39;`"}], "answers": [{"tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": true, "score": 2, "last_activity_date": 1574532750, "last_edit_date": 1574532750, "creation_date": 1505334211, "answer_id": 46206247, "question_id": 46206007, "link": "https://stackoverflow.com/questions/46206007/obtain-json-request-in-bokeh-server-application/46206247#46206247", "title": "Obtain JSON request in Bokeh server application", "body": "<p>A Bokeh core dev pointed me to this documentation page: </p>\n\n<p><a href=\"https://docs.bokeh.org/en/latest/docs/user_guide/server.html#accessing-the-http-request\" rel=\"nofollow noreferrer\">https://docs.bokeh.org/en/latest/docs/user_guide/server.html#accessing-the-http-request</a></p>\n\n<p>In particular, this is available on the document object:</p>\n\n<pre><code># request.arguments is a dict that maps argument names to lists of strings,\n# e.g, the query string ?N=10 will result in {'N': [b'10']}\n\nargs = curdoc().session_context.request.arguments\n\ntry:\n  N = int(args.get('N')[0])\nexcept:\n  N = 200\n</code></pre>\n"}], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 46206247, "answer_count": 1, "score": 0, "last_activity_date": 1574532750, "creation_date": 1505333200, "question_id": 46206007, "link": "https://stackoverflow.com/questions/46206007/obtain-json-request-in-bokeh-server-application", "title": "Obtain JSON request in Bokeh server application", "body": "<p>I would like to direct a user to a page hosted by the Bokeh server along with a bit of metadata.  For example I might want to direct a user to</p>\n\n<pre><code>http://my-server/my-page?var=value\n</code></pre>\n\n<p>I would then like to get the <code>{'var': 'value'}</code> request in my Bokeh server application code on the Python side so that I can respond accordingly.</p>\n\n<p>Is this possible?  If so, how?</p>\n"}, {"tags": ["python", "matplotlib", "jupyter"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1505333252, "post_id": 46205948, "comment_id": 79375315, "body": "<code>%matplotlib</code> is an <a href=\"http://ipython.readthedocs.io/en/stable/interactive/magics.html?highlight=magic#magic-matplotlib\" rel=\"nofollow noreferrer\">IPython magic</a>.  That&#39;s for interactive use."}, {"owner": {"reputation": 885, "user_id": 3854705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KW5Ku.jpg?s=128&g=1", "display_name": "alexanderjsingleton", "link": "https://stackoverflow.com/users/3854705/alexanderjsingleton"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1505333756, "post_id": 46205948, "comment_id": 79375579, "body": "Thanks @wim- are you suggesting to just comment out <code>%matplotlib</code> or that and <code>import matplotlib.pyplot as plt</code> altogether?"}], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 3854705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KW5Ku.jpg?s=128&g=1", "display_name": "alexanderjsingleton", "link": "https://stackoverflow.com/users/3854705/alexanderjsingleton"}, "edited": false, "score": 0, "creation_date": 1505334431, "post_id": 46206242, "comment_id": 79375937, "body": "Perfect!  Thanks for pointing me in the right direction- I hadn&#39;t seen those dox yet- was too focused on <a href=\"http://matplotlib.org/\" rel=\"nofollow noreferrer\">matplotlib dox</a>.  Thanks again."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 4, "last_activity_date": 1505334198, "creation_date": 1505334198, "answer_id": 46206242, "question_id": 46205948, "link": "https://stackoverflow.com/questions/46205948/invalid-syntax-error-returned-for-matplotlib/46206242#46206242", "title": "Invalid syntax error returned for %matplotlib", "body": "<p>As the <a href=\"http://ipython.readthedocs.io/en/stable/interactive/plotting.html#id1\" rel=\"nofollow noreferrer\">documentation explains</a>:</p>\n\n<blockquote>\n  <p>Starting with IPython 5.0 and matplotlib 2.0 you can avoid the use of IPython\u2019s specific magic and use <code>matplotlib.pyplot.ion()</code>/<code>matplotlib.pyplot.ioff()</code> <strong>which have the advantages of working outside of IPython as well</strong>.</p>\n</blockquote>\n\n<p>(emphasis mine)</p>\n\n<p>So in your case you could just use:</p>\n\n<pre><code>plt.ion()\n</code></pre>\n\n<p>instead of the <strong>bare</strong> <code>%matplotlib</code>.</p>\n"}], "owner": {"reputation": 885, "user_id": 3854705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KW5Ku.jpg?s=128&g=1", "display_name": "alexanderjsingleton", "link": "https://stackoverflow.com/users/3854705/alexanderjsingleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4118, "favorite_count": 1, "accepted_answer_id": 46206242, "answer_count": 1, "score": 2, "last_activity_date": 1505334473, "creation_date": 1505332931, "last_edit_date": 1505334473, "question_id": 46205948, "link": "https://stackoverflow.com/questions/46205948/invalid-syntax-error-returned-for-matplotlib", "title": "Invalid syntax error returned for %matplotlib", "body": "<p>I'm experiencing some trouble importing the below libraries displayed within the below markdown, which is required for a Python sentiment analysis via Twitter:</p>\n\n<pre><code># General:\nimport tweepy           # To consume Twitter's API\nimport pandas as pd     # To handle data\nimport numpy as np      # For number computing\n\n# For plotting and visualization:\nfrom IPython.display import display\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib\n</code></pre>\n\n<p>Although somewhat new to Python3/pip, as a Rubyist/elephpant, I'm certainly no stranger to homebrew- after commenting-out <code>%matplotlib</code> the file apparently imports all libraries listed except<code>%matplotlib</code>, which appears to be <a href=\"http://matplotlib.org\" rel=\"nofollow noreferrer\">the Jupyter invocation</a>- so how do I correctly load the import for <code>%matplotlib</code> in standard Python (3.6.2) in order to avoid the below error?  Is there an alternative approach?</p>\n\n<pre><code> File \"toolbox.py\", line 10\n    %matplotlib\n    ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1505333444, "post_id": 46205931, "comment_id": 79375401, "body": "I think your current code is not saving all the institutes&#39; names even from one single page, right? Shouldn&#39;t your <code>f.write</code> statement be inside the <code>for</code> loop?"}, {"owner": {"reputation": 9, "user_id": 8605432, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vzYiYpAoOg/AAAAAAAAAAI/AAAAAAAAAEU/DB8-aShnRGo/photo.jpg?sz=128", "display_name": "Saptarishi Das", "link": "https://stackoverflow.com/users/8605432/saptarishi-das"}, "reply_to_user": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1505334615, "post_id": 46205931, "comment_id": 79376011, "body": "The code runs fine.. I am extremely new to this. What i need to understand is how do I move to the next page.. ? This code scraps the names of 10 institutes on page one.. What do I need to do/learn to be able to make the program automatically traverse all the pages and keep scraping the names onto a csv file."}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1505384544, "post_id": 46205931, "comment_id": 79395626, "body": "going through separate pages requires you to rin the same loop over different URLs. so now you have to find out which URLs that are. maybe there&#39;s a simple structure to them, or you could scrape them form the page itself, or perhaps you could simply &#39;click&#39; a next button in the pagination links with a library that allows that."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8605375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z5KFD.jpg?s=128&g=1", "display_name": "Frank Stallone", "link": "https://stackoverflow.com/users/8605375/frank-stallone"}, "is_accepted": false, "score": 0, "last_activity_date": 1505334019, "creation_date": 1505334019, "answer_id": 46206201, "question_id": 46205931, "link": "https://stackoverflow.com/questions/46205931/scraping-multiple-pages-on-a-website/46206201#46206201", "title": "Scraping Multiple Pages On A Website", "body": "<p>I'm not 100% sure what you mean. If you're asking how to fix the bug in your code then you need to change your loop to: </p>\n\n<pre><code>for ins in insti:\n    ins_name = ins.div.a[\"title\"]\n    f.write(ins_name + \"\\n\")\n</code></pre>\n\n<p>As your code is you loop through the everything and write the last one due to the write not being in the loop.</p>\n\n<p>However if you're asking how to take that list and then scrap those then that's more involved and for starters you need to save the URL rather than the title but I'm going to leave the rest to you because that kind of sounds like homework.</p>\n"}], "owner": {"reputation": 9, "user_id": 8605432, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vzYiYpAoOg/AAAAAAAAAAI/AAAAAAAAAEU/DB8-aShnRGo/photo.jpg?sz=128", "display_name": "Saptarishi Das", "link": "https://stackoverflow.com/users/8605432/saptarishi-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505334842, "creation_date": 1505332836, "last_edit_date": 1592644375, "question_id": 46205931, "link": "https://stackoverflow.com/questions/46205931/scraping-multiple-pages-on-a-website", "title": "Scraping Multiple Pages On A Website", "body": "<p>I'm trying to scrape a list of all the coaching instiututes on thsi URL:\n<a href=\"https://www.sulekha.com/entrance-exam-coaching/delhi\" rel=\"nofollow noreferrer\">https://www.sulekha.com/entrance-exam-coaching/delhi</a></p>\n<p>The following is my Python code:</p>\n<pre><code>import bs4\nfrom urllib.request\nimport urlopen as uReq\nfrom bs4\nimport BeautifulSoup as soup\n\nmy_url = 'https://www.sulekha.com/entrance-exam-coaching/delhi'\n\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close() x\n\npage_soup = soup(page_html, &quot;lxml&quot;)\n\n\ninsti = page_soup.findAll(&quot;div&quot;, {&quot;class&quot;: &quot;list-title&quot;})\n\nfilename = &quot;entrance_institutes.csv&quot;\n\nf = open(filename, &quot;w&quot;)\nheaders = &quot;Institute \\n&quot;\nf.write(headers)\n\nfor ins in insti:\n    ins_name = ins.div.a[&quot;title&quot;]\n\nf.write(ins_name + &quot;\\n&quot;)\n\nf.close()\n</code></pre>\n<p>This code runs fine. Attached is the image of the csv it generates. How should I go about scraping all the listings one page after the other ?</p>\n<p>Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/xRTW8.png\" rel=\"nofollow noreferrer\">Output csv</a></p>\n"}, {"tags": ["python", "django", "middleware", "django-generic-views"], "answers": [{"comments": [{"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1505390004, "post_id": 46211918, "comment_id": 79399156, "body": "I would like not to repeat the same code all the time in dispatch method of the views. But yes, when everything else fails, I will use this. Thanks."}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1505390179, "post_id": 46211918, "comment_id": 79399290, "body": "If you are able to access the view inside the middleware, then sure, the repetition is not needed (you can handle it in the middleware), but if not, I don&#39;t see a better way."}, {"owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "reply_to_user": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1505390248, "post_id": 46211918, "comment_id": 79399350, "body": "You can access it in the middleware -<a href=\"https://docs.djangoproject.com/en/1.11/topics/http/middleware/#process-view\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.11/topics/http/middleware/&hellip;</a>"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1505390335, "post_id": 46211918, "comment_id": 79399427, "body": "I got it, <code>view_func.view_class</code>. Thanks."}], "tags": [], "owner": {"reputation": 11236, "user_id": 2689986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Y7wX.jpg?s=128&g=1", "display_name": "shad0w_wa1k3r", "link": "https://stackoverflow.com/users/2689986/shad0w-wa1k3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1505370113, "creation_date": 1505370113, "answer_id": 46211918, "question_id": 46205902, "link": "https://stackoverflow.com/questions/46205902/django-access-class-attributes-of-a-class-based-view-in-middleware/46211918#46211918", "title": "Django - access class attributes of a class-based view in middleware", "body": "<p>Unsure if you can access a view inside the middleware, so I am just suggesting something more simple and easy to implement / understand.</p>\n\n<p>Simply create a model <code>Lock</code> which would have the fields <code>view_name</code> (char field), <code>user</code> (foreign key) &amp; <code>is_acquired</code> (bool). Then, when you want to lock the view for a given request.user (check for anonymous users), simply instantiate the <code>Lock</code> model with the <code>user</code> &amp; <code>view_name</code>, then do a <code>.acquire()</code> which basically changes <code>is_acquired</code> to <code>True</code> (and saves).</p>\n\n<p>And when you want to check if a lock has been acquired, simply check if the given entry <code>.exists()</code>.</p>\n\n<p>If you want, you can run a periodic task that expires old locks.</p>\n"}], "owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1505370113, "creation_date": 1505332714, "question_id": 46205902, "link": "https://stackoverflow.com/questions/46205902/django-access-class-attributes-of-a-class-based-view-in-middleware", "title": "Django - access class attributes of a class-based view in middleware", "body": "<p>I have a couple of views and each of them must be accesed by no more than one user at a time. Therefore I use a locking service for this. My idea is as follows:</p>\n\n<h2>- Declare each view like this</h2>\n\n<pre><code>class DummyView(View):\n    lock = Lock()\n    def dispatch(self, request, *args, **kwargs):\n        ...\n</code></pre>\n\n<h2>- In a middleware, do something like this</h2>\n\n<pre><code>class Middleware:\n    ...\n    def __call__(self, request):\n        # lock = view.get_lock_if_it_has_one (this is what I need help with)\n        lock.acquire()\n\n        response = self.get_response(request)\n\n        lock.release()\n        return response\n</code></pre>\n\n<p>How can I access the lock attribute of the view as described?</p>\n"}, {"tags": ["python", "xml", "beautifulsoup", "xhtml", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 3036878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000036507438/picture?type=large", "display_name": "Emil", "link": "https://stackoverflow.com/users/3036878/emil"}, "edited": false, "score": 0, "creation_date": 1524050995, "post_id": 46209748, "comment_id": 86812555, "body": "On the other hand, lxml parser does not preserve case (so tags are all turned lowercase). Is there a parser, or an option in lxml to preserve case to have full solution?"}, {"owner": {"reputation": 813, "user_id": 7789884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYTxD.jpg?s=128&g=1", "display_name": "chad", "link": "https://stackoverflow.com/users/7789884/chad"}, "reply_to_user": {"reputation": 478, "user_id": 3036878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000036507438/picture?type=large", "display_name": "Emil", "link": "https://stackoverflow.com/users/3036878/emil"}, "edited": false, "score": 0, "creation_date": 1524130492, "post_id": 46209748, "comment_id": 86850525, "body": "You can try html5 parser"}], "tags": [], "owner": {"reputation": 813, "user_id": 7789884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYTxD.jpg?s=128&g=1", "display_name": "chad", "link": "https://stackoverflow.com/users/7789884/chad"}, "is_accepted": false, "score": 0, "last_activity_date": 1505357500, "creation_date": 1505357500, "answer_id": 46209748, "question_id": 46205880, "link": "https://stackoverflow.com/questions/46205880/beautifulsoup4-with-lxml-xml-parser-removes-xmlns-attributes-from-inline-svg-in/46209748#46209748", "title": "BeautifulSoup4 with lxml xml parser removes xmlns attributes from inline svg in xhtml file", "body": "<p>You should use <code>lxml</code> parser instead of the <code>xml</code>.</p>\n\n<pre><code>soup = BeautifulSoup(xhtml_string, 'lxml')\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4064103, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6548749ceb12f3b91ea741efaa85fc0e?s=128&d=identicon&r=PG", "display_name": "Justin", "link": "https://stackoverflow.com/users/4064103/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1506021645, "creation_date": 1505332646, "last_edit_date": 1506021645, "question_id": 46205880, "link": "https://stackoverflow.com/questions/46205880/beautifulsoup4-with-lxml-xml-parser-removes-xmlns-attributes-from-inline-svg-in", "title": "BeautifulSoup4 with lxml xml parser removes xmlns attributes from inline svg in xhtml file", "body": "<p>I have BeautifulSoup4 v4.6.0 and lxml v3.8.0 installed. I am trying to parse the following <code>xhtml</code>.  </p>\n\n<p>My code to parse:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nxhtml_string = \"\"\"\n&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n\n    &lt;body class=\"sgc-1\"&gt;\n      &lt;svg xmlns=\"http://www.w3.org/2000/svg\" height=\"100%\" preserveAspectRatio=\"xMidYMid meet\" version=\"1.1\" viewBox=\"0 0 600 800\" width=\"100%\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt;\n        &lt;image height=\"800\" width=\"573\" xlink:href=\"../Images/Cover.jpg\"&gt;&lt;/image&gt;\n      &lt;/svg&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\nsoup = BeautifulSoup(xhtml_string, 'xml')\n</code></pre>\n\n<p>However when I inspect the soup, it appears that BeautifulSoup has stripped the <code>xmlns=\"http://www.w3.org/2000/svg\"</code> and the <code>xmlns:xlink=\"http://www.w3.org/1999/xlink\"</code> on the <code>&lt;svg&gt;</code> tag and <code>xlink</code> prefix on the <code>href</code> attribute on the <code>&lt;image&gt;</code> tag.</p>\n\n<p>i.e. <code>soup.prettify()</code> returns the following</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"unicode-escape\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body class=\"sgc-1\"&gt;\n    &lt;svg height=\"100%\" preserveAspectRatio=\"xMidYMid meet\" version=\"1.1\" viewBox=\"0 0 600 800\" width=\"100%\"&gt;\n      &lt;image height=\"800\" href=\"../Images/Cover.jpg\" width=\"573\"/&gt;\n    &lt;/svg&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I do not have the option to change the source <code>xhtml</code> and from what I've seen the <code>xmlns</code> declarations are valid. Is there any way for to make BeautifulSoup preserve the <code>xhtml</code> as is?</p>\n"}, {"tags": ["python", "apache-spark", "dataframe", "spark-dataframe", "pyspark-sql"], "comments": [{"owner": {"reputation": 24499, "user_id": 143319, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/62uiV.jpg?s=128&g=1", "display_name": "Matt Parker", "link": "https://stackoverflow.com/users/143319/matt-parker"}, "edited": false, "score": 0, "creation_date": 1505339109, "post_id": 46205836, "comment_id": 79377978, "body": "Can you provide a little more context? Is this really a single huge table with a single event numbering sequence? Or is it the end-product of a bunch of aggregation that could maybe pulled out into a pandas DF?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8605361, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154939628315893/picture?type=large", "display_name": "Danny Brock", "link": "https://stackoverflow.com/users/8605361/danny-brock"}, "edited": false, "score": 0, "creation_date": 1505336075, "post_id": 46206632, "comment_id": 79376693, "body": "Correct Matt.  Getting the Event label to increment (e.g. Event1, Event2, etc.) is the challenge I am having..."}, {"owner": {"reputation": 12601, "user_id": 514878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2436423552aa319c4e960540ff091b0b?s=128&d=identicon&r=PG", "display_name": "FluffyKitten", "link": "https://stackoverflow.com/users/514878/fluffykitten"}, "edited": false, "score": 0, "creation_date": 1505366096, "post_id": 46206632, "comment_id": 79385013, "body": "Code-only answers are discouraged because they do not explain how they resolve the issue in the question. Consider updating your answer to explain what this does and how it addresses the problem. Please review <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>"}], "tags": [], "owner": {"reputation": 6016, "user_id": 833179, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/TPGnQ.jpg?s=128&g=1", "display_name": "Mahmoud Khaled", "link": "https://stackoverflow.com/users/833179/mahmoud-khaled"}, "is_accepted": false, "score": 0, "last_activity_date": 1505335847, "creation_date": 1505335847, "answer_id": 46206632, "question_id": 46205836, "link": "https://stackoverflow.com/questions/46205836/add-a-column-to-a-dataframe-whose-value-is-based-on-another-field-but-needs-to/46206632#46206632", "title": "Add a column to a dataframe whose value is based on another field, but needs to increment", "body": "<pre><code>from pyspark.sql import functions as F\n\ndf.withColumn('EventName', F.when(df[\"ConditionMet\"]&gt;0.0, \"Event1\").otherwise(\"\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 8605361, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154939628315893/picture?type=large", "display_name": "Danny Brock", "link": "https://stackoverflow.com/users/8605361/danny-brock"}, "is_accepted": false, "score": 0, "last_activity_date": 1505343233, "creation_date": 1505343233, "answer_id": 46208003, "question_id": 46205836, "link": "https://stackoverflow.com/questions/46205836/add-a-column-to-a-dataframe-whose-value-is-based-on-another-field-but-needs-to/46208003#46208003", "title": "Add a column to a dataframe whose value is based on another field, but needs to increment", "body": "<p>I believe I found a solution to my problem, although I don't know how elegant it is.  Essentially, I joined the dataset back to itself by the timestamp on the previous record (I supposed a lead() function could've helped me with this.  From there, I could pass in the current condition and the next condition to determine change (and that is when I increment the global counter used in the EventName creation.  Code below.</p>\n\n<pre><code>from pyspark import *\nfrom pyspark.sql import SQLContext\nfrom pyspark.sql.types import *\nimport pyspark.sql.functions as F\nfrom pyspark.sql.functions import lit, col, expr, when\nfrom pyspark.sql.types import StringType\nfrom pyspark.sql.functions import udf, array\n\ncnt=0\n\ndef tagTrip(t):\n     global cnt\n     if t[0]==1:\n         if t[1]==0:\n             cnt=cnt+1\n         return \"Event\" + str(cnt)\n     else:\n        return \"\"\n\ntagTripUdf = udf(lambda arr: tagTrip(arr), StringType())\n\n# I don't include the code that shows how I got to this df and how I can join it onto itself\ndfJoined = df.join(dfNext, df['time'] == dfNext['timeprev'], 'inner')\n\ndfNew=dfJoined.withColumn('EventName',tagTripUdf(array(col('ConditionMet'),col('ConditionMetNext'))))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 1477418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2HMfF.jpg?s=128&g=1", "display_name": "Islam Elbanna", "link": "https://stackoverflow.com/users/1477418/islam-elbanna"}, "is_accepted": true, "score": 0, "last_activity_date": 1505408953, "creation_date": 1505408953, "answer_id": 46224845, "question_id": 46205836, "link": "https://stackoverflow.com/questions/46205836/add-a-column-to-a-dataframe-whose-value-is-based-on-another-field-but-needs-to/46224845#46224845", "title": "Add a column to a dataframe whose value is based on another field, but needs to increment", "body": "<p>I think if the idea is to tag each sequential cluster with a unique tag then you can do this by calculating the cumulative sum</p>\n\n<ol>\n<li>Sort df, on <code>EventTime</code> for example </li>\n<li>invert <code>ConditionMet</code> </li>\n<li>Calculate cumulative sum of the inverted column</li>\n<li><p>Ignore cumulative sum for <code>ConditionMet</code> = 0, and take cumulative sum as a tag of the cluster for <code>ConditionMet</code> = 1</p>\n\n<pre><code>+-------------------+------------+-------+-------------+---------+\n|          EventTime|ConditionMet|InvCond|CumulativeSum|EventName|\n+-------------------+------------+-------+-------------+---------+\n|2017-09-11 00:00:01|           0|      1|            1|         |\n|2017-09-11 00:00:02|           0|      1|            2|         |\n|2017-09-11 00:00:03|           0|      1|            3|         |\n|2017-09-11 00:00:04|           1|      0|            3|   Event3|\n|2017-09-11 00:00:05|           1|      0|            3|   Event3|\n|2017-09-11 00:00:06|           1|      0|            3|   Event3|\n|2017-09-11 00:00:07|           0|      1|            4|         |\n|2017-09-11 00:00:08|           0|      1|            5|         |\n|2017-09-11 00:00:09|           1|      0|            5|   Event5|\n|2017-09-11 00:00:10|           1|      0|            5|   Event5|\n|2017-09-11 00:00:11|           1|      0|            5|   Event5|\n|2017-09-11 00:00:12|           1|      0|            5|   Event5|\n|2017-09-11 00:00:13|           0|      1|            6|         |\n+-------------------+------------+-------+-------------+---------+\n</code></pre></li>\n</ol>\n\n<p>Code</p>\n\n<pre><code>from pyspark.sql.functions import lag, udf, col\nfrom pyspark.sql import Row\nfrom pyspark.sql.types import StringType, IntegerType\nfrom pyspark.sql.window import Window\n\ndef tagSequentialClusters(df, condColumn, tagColumnName):\n    ## Invert condition 0 will be 1 and 1 will be 0\n    def InvCond(value):\n        if value == '1':\n            return 0\n        else:\n            return 1\n\n    ## Add Event for the valid clusters\n    def mapEventNumber(cond, number):\n        if cond == \"1\":\n            return \"Event\" + str(number)\n        else:\n            return \"\"\n\n    ## Add new columns to row\n    def addRowColumn(row, **kwargs):\n        rowData = row.asDict()\n        for column in kwargs:\n            rowData[column] = kwargs[column]\n        return Row(**rowData)\n\n    ## Calculate partial cumulative sum for partition iterator\n    def calcPartialCumulativeSum(iter):\n        counter = 0     \n        final_iterator = []\n        for row in iter:\n            counter = counter + row[\"InvCond\"]\n            newRow = addRowColumn(row, PartialSum=counter)\n            final_iterator.append(newRow)\n        return final_iterator\n\n    ## get tail of partiton with index\n    def getTailWithIndex(index, iter): \n        tailRow = None\n        for row in iter:\n            tailRow = row\n        return (index, tailRow[\"PartialSum\"])\n\n    ## Calculate sum map for each partition\n    def calcSumMap(collectedMap):\n        final_iterator = {}\n        for index, value in enumerate(collectedMap):\n            newVal = value\n            for i in range(0, index):\n                newVal += collectedMap[i]\n            final_iterator[index] = newVal\n        return final_iterator\n\n    ## Calculate global cumulative sum\n    def calcCumulativeSum(index, iter):\n        final_iterator = []\n        for row in iter:\n            newVal = row[\"PartialSum\"] + sumMap.value[index]\n            final_iterator.append(addRowColumn(row, EventNumber=newVal))\n        return final_iterator\n\n    ## Register udf functions\n    invCondUdf = udf(InvCond, IntegerType())\n    mapEventNumberUdf = udf(mapEventNumber, StringType())\n\n    ## Invert ConditionMet column\n    rdd = df.withColumn(\"InvCond\", invCondUdf(col(condColumn))).rdd\n\n    ## Calculate partial cumulative sum over each partition\n    rdd = rdd.mapPartitions(lambda iter: calcPartialCumulativeSum(iter)).cache()\n\n    ## Calculate max sum value for each partition\n    collctedMap = rdd.mapPartitionsWithIndex(getTailWithIndex).collect()\n    sumMap = spark.sparkContext.broadcast(calcSumMap(collctedMap))\n\n    ## Calculate global cumulative sum \n    df = rdd.mapPartitionsWithIndex(calcCumulativeSum).toDF()\n\n    ## Append `Event` before each cluster number and ignore the rest\n    df = df.withColumn(tagColumnName, mapEventNumberUdf(col(condColumn), col(\"EventNumber\")))\n\n    return df.drop(col(\"EventNumber\")).drop(col(\"InvCond\")).drop(col(\"PartialSum\"))\n\n## Read data\ndf = spark.read.csv(\"/home/eslam-elbanna/data.csv\", header=True)    \n\n## Tag sequnetial clusters\ndf = tagSequentialClusters(df, \"ConditionMet\", \"EventName\")\ndf.show()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8605361, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154939628315893/picture?type=large", "display_name": "Danny Brock", "link": "https://stackoverflow.com/users/8605361/danny-brock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46224845, "answer_count": 3, "score": 1, "last_activity_date": 1505408953, "creation_date": 1505332469, "last_edit_date": 1505333956, "question_id": 46205836, "link": "https://stackoverflow.com/questions/46205836/add-a-column-to-a-dataframe-whose-value-is-based-on-another-field-but-needs-to", "title": "Add a column to a dataframe whose value is based on another field, but needs to increment", "body": "<p>I have a problem I've been wrestling with and I have to imagine there is a more elegant solution than looping through my dataframe row by row.  I have a dataframe like the following:</p>\n\n<pre><code>          EventTime | ConditionMet\n\n--------- --------- | --------\n2017-09-11 00:00:01 | 0\n2017-09-11 00:00:02 | 0\n2017-09-11 00:00:03 | 0\n2017-09-11 00:00:04 | 1\n2017-09-11 00:00:05 | 1\n2017-09-11 00:00:06 | 1\n2017-09-11 00:00:07 | 0\n2017-09-11 00:00:08 | 0\n2017-09-11 00:00:09 | 1\n2017-09-11 00:00:10 | 1\n2017-09-11 00:00:11 | 1\n2017-09-11 00:00:12 | 1\n2017-09-11 00:00:13 | 0\n</code></pre>\n\n<p>Each time the condition is met (<code>ConditionMet=1</code>), I want to label the records with an event name (e.g. Event1).  I can't find an elegant way to do with <code>.withColumn()</code> using a <code>when</code> condition or with windowing.  The ideal result would be:</p>\n\n<pre><code>        EventTime   |ConditionMet|EventName\n----------------- - | ---------- | --------\n2017-09-11 00:00:01 |       0    |     \n2017-09-11 00:00:02 |       0    |\n2017-09-11 00:00:03 |       0    |\n2017-09-11 00:00:04 |       1    | Event1\n2017-09-11 00:00:05 |       1    | Event1\n2017-09-11 00:00:06 |       1    | Event1\n2017-09-11 00:00:07 |       0    |\n2017-09-11 00:00:08 |       0    |\n2017-09-11 00:00:09 |       1    | Event2\n2017-09-11 00:00:10 |       1    | Event2\n2017-09-11 00:00:11 |       1    | Event2\n2017-09-11 00:00:12 |       1    | Event2\n2017-09-11 00:00:13 |       0    | \n</code></pre>\n\n<p>Interested in any clever approaches here.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1505332623, "post_id": 46205807, "comment_id": 79375007, "body": "The whitespace is probably coming from your digit regex.  <code>(\\d*(\\.\\d+)?)</code> matches an empty string.  (<code>\\d*</code> matches 0 or more digits, and <code>(\\.\\d+)?</code> <i>optionally</i> matches 1 or more digits after a <code>.</code>.  Put those together and you match 0 digits with no decimal part, a.k.a. <code>&#39;&#39;</code>)"}, {"owner": {"reputation": 4842, "user_id": 2257675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjuUd.jpg?s=128&g=1", "display_name": "Brian Stephens", "link": "https://stackoverflow.com/users/2257675/brian-stephens"}, "reply_to_user": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1505332832, "post_id": 46205807, "comment_id": 79375115, "body": "Yes, as @0x5453 said, those blanks are the empty possible decimals. Your <code>vectors</code> variable contains all matching groups, whether empty or not. So when there is a decimal, you&#39;re getting one match of the outside group <code>(\\d*(\\.\\d+)?)</code>, and one for the inside group <code>(\\.\\d+)?</code>. Make them non-matching groups."}], "answers": [{"comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1505332822, "post_id": 46205861, "comment_id": 79375108, "body": "<code>\\d+\\.*\\d+</code> only matches numbers that are at least two digits long.  You probably want <code>\\d+(\\.\\d+)?</code>"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1505332576, "creation_date": 1505332576, "answer_id": 46205861, "question_id": 46205807, "link": "https://stackoverflow.com/questions/46205807/extracting-decimal-numbers-from-string-with-python-regex/46205861#46205861", "title": "Extracting decimal numbers from string with Python regex", "body": "<p>You can try this:</p>\n\n<pre><code>import re\ns = \"[240, 7821, 0, 12, 605, 0, 3]|[1.5, 7881.25, 0, 543, 876, 0, 121]|[237, 761, 0, 61, 7, 605, 605]\" \ndata = re.findall(\"\\d+\\.*\\d+\", s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['240', '7821', '12', '605', '1.5', '7881.25', '543', '876', '121', '237', '761', '61', '605', '605']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4842, "user_id": 2257675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjuUd.jpg?s=128&g=1", "display_name": "Brian Stephens", "link": "https://stackoverflow.com/users/2257675/brian-stephens"}, "is_accepted": true, "score": 4, "last_activity_date": 1505332941, "creation_date": 1505332941, "answer_id": 46205952, "question_id": 46205807, "link": "https://stackoverflow.com/questions/46205807/extracting-decimal-numbers-from-string-with-python-regex/46205952#46205952", "title": "Extracting decimal numbers from string with Python regex", "body": "<p>Those blanks are the empty possible decimals. Your <code>vectors</code> variable contains all capturing groups, whether empty or not. So when there is a decimal, you're getting one match of the outside group <code>(\\d*(\\.\\d+)?)</code>, and one for the inside group <code>(\\.\\d+)?</code>. Make the inside a non-capturing group:</p>\n\n<p><code>(\\d+(?:\\.\\d+)?)</code></p>\n\n<p>Note: I also changed it to require a number before the decimal (if any).</p>\n"}, {"tags": [], "owner": {"reputation": 6525, "user_id": 936083, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dace92a4c0b65a1f52abbabd294ca1a8?s=128&d=identicon&r=PG", "display_name": "Casey Kuball", "link": "https://stackoverflow.com/users/936083/casey-kuball"}, "is_accepted": false, "score": 1, "last_activity_date": 1505334430, "creation_date": 1505334430, "answer_id": 46206295, "question_id": 46205807, "link": "https://stackoverflow.com/questions/46205807/extracting-decimal-numbers-from-string-with-python-regex/46206295#46206295", "title": "Extracting decimal numbers from string with Python regex", "body": "<p>Another (potentially non-robust if the input format differs) way to do this would be to split the string on ']|[' to get the lists, and then split on ', ' to get the values:</p>\n\n<pre><code>from decimal import Decimal\ninput_str = '[240, 7821, 0, 12, 605, 0, 3]|[1.5, 7881.25, 0, 543, 876, 0, 121]|[237, 761, 0, 61, 7, 605, 605]'\n\n# ignore the first and last '[' and ']' chars, then split on list separators\nlist_strs = input_str[1:-1].split(']|[')\n\n# Split on ', ' to get individual decimal values\nint_lists = [[Decimal(i) for i in s.split(', ')] for s in list_strs]\n\n# int_lists contains a list of lists of decimal values, like the input format\n\nfor l in int_lists:\n    print(', '.join(str(d) for d in l))\n</code></pre>\n\n<p><strong>Result</strong>:</p>\n\n<pre><code>240, 7821, 0, 12, 605, 0, 3\n1.5, 7881.25, 0, 543, 876, 0, 121\n237, 761, 0, 61, 7, 605, 605\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 1, "last_activity_date": 1505336665, "creation_date": 1505336665, "answer_id": 46206830, "question_id": 46205807, "link": "https://stackoverflow.com/questions/46205807/extracting-decimal-numbers-from-string-with-python-regex/46206830#46206830", "title": "Extracting decimal numbers from string with Python regex", "body": "<p>regex has its place. However, grammars written with <a href=\"http://pyparsing.wikispaces.com/\" rel=\"nofollow noreferrer\">pyparsing</a> are often easier to write \u2014 and easier to read.</p>\n\n<pre><code>&gt;&gt;&gt; import pyparsing as pp\n</code></pre>\n\n<p>The numbers are like words made out of digits and period/full stop characters. They are optionally followed by commas which we can simply suppress.</p>\n\n<pre><code>&gt;&gt;&gt; number = pp.Word(pp.nums+'.') + pp.Optional(',').suppress()\n</code></pre>\n\n<p>One of the lists consists of a left square bracket, which we suppress, followed by one or more numbers (as just defined), followed by a right square bracket, which we also suppress, followed by an optional bar character, again suppressed. (Incidentally, this bar is, to some degree, redundant because the right bracket closes the list.)</p>\n\n<p>We apply <code>Group</code> to the entire construct so that pyparsing will organise the items we have not suppressed into separate Python lists for us.</p>\n\n<pre><code>&gt;&gt;&gt; one_list = pp.Group(pp.Suppress('[') + pp.OneOrMore(number) + pp.Suppress(']') + pp.Suppress(pp.Optional('|')))\n</code></pre>\n\n<p>The whole collection of lists is just one or more lists.</p>\n\n<pre><code>&gt;&gt;&gt; whole = pp.OneOrMore(one_list)\n</code></pre>\n\n<p>Here's the input,</p>\n\n<pre><code>&gt;&gt;&gt; line_input = '[240, 7821, 0, 12, 605, 0, 3]|[1.5, 7881.25, 0, 543, 876, 0, 121]|[237, 761, 0, 61, 7, 605, 605]'\n</code></pre>\n\n<p>... which we parse into result <code>r</code>.</p>\n\n<pre><code>&gt;&gt;&gt; r = whole.parseString(line_input)\n</code></pre>\n\n<p>We can display the resulting lists.</p>\n\n<pre><code>&gt;&gt;&gt; r[0]\n(['240', '7821', '0', '12', '605', '0', '3'], {})\n&gt;&gt;&gt; r[1]\n(['1.5', '7881.25', '0', '543', '876', '0', '121'], {})\n&gt;&gt;&gt; r[2]\n(['237', '761', '0', '61', '7', '605', '605'], {})\n</code></pre>\n\n<p>More likely, we would want the numbers as numbers. In this situation, we <em>know</em> that the strings in the lists represent either floats or integers.</p>\n\n<pre><code>&gt;&gt;&gt; for l in r.asList():\n...     [int(_) if _.isnumeric() else float(_) for _ in l]\n... \n[240, 7821, 0, 12, 605, 0, 3]\n[1.5, 7881.25, 0, 543, 876, 0, 121]\n[237, 761, 0, 61, 7, 605, 605]\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 2936380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24275ffb75ca10db14183febc0d42eea?s=128&d=identicon&r=PG&f=1", "display_name": "VictorHMartin", "link": "https://stackoverflow.com/users/2936380/victorhmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4332, "favorite_count": 1, "accepted_answer_id": 46205952, "answer_count": 4, "score": 2, "last_activity_date": 1505336665, "creation_date": 1505332365, "question_id": 46205807, "link": "https://stackoverflow.com/questions/46205807/extracting-decimal-numbers-from-string-with-python-regex", "title": "Extracting decimal numbers from string with Python regex", "body": "<p>I tried this using re library of Python.\nFrom a file i get several lines that contains elements separated by bars ('|'). I put them in a list and what I need is to get the numbers inside in order to operate with them.</p>\n\n<p>This would be one of the strings I want to split:</p>\n\n<pre><code>&gt;&gt;print(line_input)\n&gt;&gt;[240, 7821, 0, 12, 605, 0, 3]|[1.5, 7881.25, 0, 543, 876, 0, 121]|[237, 761, 0, 61, 7, 605, 605]\n</code></pre>\n\n<p>and my intention is to form a vector with each of the elements between square brackets.</p>\n\n<p>I created this regular expression</p>\n\n<pre><code>&gt;&gt;test_pattern=\"\\|\\[(\\d*(\\.\\d+)?), (\\d*(\\.\\d+)?), (\\d*(\\.\\d+)?)]\"\n</code></pre>\n\n<p>but the results are a bit confusing. In particular, the result is</p>\n\n<pre><code>&gt;&gt;vectors = re.findall(test_pattern, line_input)\n\n&gt;&gt;print(vectors)\n&gt;&gt;[('240', '', '7821', '', '0', '', '12', '', '605', '', '0', '', '3', ''), ('1.5', '.5', '7881.25', '.25', '0', '', '0', '', '0', '', '0', '', '0', ''), ('23437', '', '76611', '', '0', '', '0', '', '0', '', '605', '', '605', '')]\n</code></pre>\n\n<p>I don\u00b4t understand where the white spaces come from nor why the decimal part gets duplicated. I know that I almost get it, at least, I\u00b4m sure it\u00b4s a small simple detail, but I don't get.</p>\n\n<p>Thank you very much in advance.</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "comments": [{"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1505332310, "post_id": 46205760, "comment_id": 79374829, "body": "What exactly are you hoping to achieve with <code>np.(</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 5572951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/015b41255b9f448a1fe5078e73454d2a?s=128&d=identicon&r=PG&f=1", "display_name": "MRL", "link": "https://stackoverflow.com/users/5572951/mrl"}, "edited": false, "score": 0, "creation_date": 1505333557, "post_id": 46205828, "comment_id": 79375451, "body": "Cheers for that! I wasn&#39;t aware of those numpy functions, still learning and learning..."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1505332444, "creation_date": 1505332444, "answer_id": 46205828, "question_id": 46205760, "link": "https://stackoverflow.com/questions/46205760/calculate-the-tangent-of-an-angle-for-multiple-angles-in-a-pandas-dataframe/46205828#46205828", "title": "Calculate the tangent of an angle for multiple angles in a pandas dataframe", "body": "<p>Just use the numpy functions <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.degrees.html\" rel=\"nofollow noreferrer\"><code>np.degrees</code></a> and <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.arctan.html\" rel=\"nofollow noreferrer\"><code>np.arctan</code></a>. The <code>math</code> module functions aren't designed to work on vectors. </p>\n\n<pre><code>df['I'] = np.degrees(np.arctan(df['A']/df['B']))\ndf\n         DATE          TIME      A      B          I\n0  2016-01-01  00:00:00.000  443.3  469.8  43.337628\n1  2016-01-01  00:01:00.000  145.8  470.0  17.234557\n2  2016-01-01  00:03:00.000  452.2  471.0  43.833393\n3  2016-01-01  00:04:00.000  174.2  461.3  20.687963\n4  2016-01-01  00:05:00.000  345.3  471.9  36.193786\n</code></pre>\n\n<p>By the way, <code>np</code> \u2013 alias for <code>numpy</code> and <code>m</code> \u2013 alias for <code>math</code> (builtin). Not sure why you're trying to use them the way you are.</p>\n"}], "owner": {"reputation": 309, "user_id": 5572951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/015b41255b9f448a1fe5078e73454d2a?s=128&d=identicon&r=PG&f=1", "display_name": "MRL", "link": "https://stackoverflow.com/users/5572951/mrl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 46205828, "answer_count": 1, "score": -2, "last_activity_date": 1505383439, "creation_date": 1505332204, "last_edit_date": 1505383439, "question_id": 46205760, "link": "https://stackoverflow.com/questions/46205760/calculate-the-tangent-of-an-angle-for-multiple-angles-in-a-pandas-dataframe", "title": "Calculate the tangent of an angle for multiple angles in a pandas dataframe", "body": "<p>I have the following dataframe:</p>\n\n<pre><code>    DATE        TIME            A       B\n0   2016-01-01  00:00:00.000    443.30  469.80\n1   2016-01-01  00:01:00.000    145.80  470.00\n2   2016-01-01  00:03:00.000    452.20  471.00\n3   2016-01-01  00:04:00.000    174.20  461.30\n4   2016-01-01  00:05:00.000    345.30  471.90\n</code></pre>\n\n<p>I'm basically just trying to calculate the tangent of angles (A/B) for all  rows of the dataframe.</p>\n\n<p>My code:</p>\n\n<pre><code>import numpy as np\nimport math as m\n\ndf['I']=np.(m.degrees(m.atan(df['A']/df['B'])))\n</code></pre>\n\n<p>The error produced:</p>\n\n<pre><code>File \"&lt;ipython-input-70-0abce3902356&gt;\", line 3\ndf['I']=np.(m.degrees(m.atan(df['A']/df['B'])))\n           ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Taking the () out produces another error:</p>\n\n<pre><code>df['I']=np.m.degrees(m.atan(df['A']/df['B']))\n\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-71-7cfc6387d664&gt; in &lt;module&gt;()\n       1 \n       2 \n ----&gt; 3 df['I']=np.m.degrees(m.atan(df['A']/df['B']))\n\nAttributeError: module 'numpy' has no attribute 'm'\n</code></pre>\n\n<p>I understand what the errors are telling me, I just don't really know how to go about performing the calculation.  Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "trac"], "answers": [{"tags": [], "owner": {"reputation": 2592, "user_id": 121694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cAz0P.jpg?s=128&g=1", "display_name": "RjOllos", "link": "https://stackoverflow.com/users/121694/rjollos"}, "is_accepted": false, "score": 1, "last_activity_date": 1505336229, "creation_date": 1505336229, "answer_id": 46206718, "question_id": 46205756, "link": "https://stackoverflow.com/questions/46205756/trac-packages-not-properly-installed/46206718#46206718", "title": "Trac packages not properly installed", "body": "<p>The directories you found under <code>/root/.cpan</code> do not indicate that Trac is installed. The presence of a Trac environment at <code>/opt/trac</code> is the important find. Please make a backup of that directory at least, and preferably a backup of the entire server, before proceeding.</p>\n\n<p>To check if Trac is installed, start a python 2.x interpreter session and see if <code>import trac</code> succeeds. If it does not, Trac is not installed for that Python interpreter. It's possible you have other instances of Python installed. If Python 3 is your default you may need to run <code>python2</code> to start the interpreter.</p>\n\n<p>I would copy <code>/opt/trac</code> to my local machine and create a new Trac 1.2.2 installation. You probably don't know the version of Trac that was used with <code>/opt/trac</code>. You could determine that by inspecting the database, but it's easier to just create a new Trac installation for that Trac environment and upgrade the environment when prompted. If that goes well you can do the same on your remote server.</p>\n\n<p>I'm assuming you are using SQLite, in which case the database will be <code>/opt/trac/db/trac.db</code>. Check the <code>[trac]</code> <code>database</code> string in <code>/opt/trac/conf/trac.ini</code> to determine if you are using SQLite. If your Trac environment uses MySQL or PostgreSQL you'll need to copy the database to your local machine to test the upgrade process.</p>\n\n<p>Suggested reading is <a href=\"http://trac.edgewall.org/wiki/TracInstall\" rel=\"nofollow noreferrer\">TracInstall</a> and <a href=\"http://trac.edgewall.org/wiki/TracUpgrade\" rel=\"nofollow noreferrer\">TracUpgrade</a>.</p>\n"}], "owner": {"reputation": 305, "user_id": 3105533, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/b1d9ee79af558abff38c8a813efe1232?s=128&d=identicon&r=PG&f=1", "display_name": "user3105533", "link": "https://stackoverflow.com/users/3105533/user3105533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505336229, "creation_date": 1505332195, "question_id": 46205756, "link": "https://stackoverflow.com/questions/46205756/trac-packages-not-properly-installed", "title": "Trac packages not properly installed", "body": "<p>I am checking in a RedHat server to see if there is a trac installation, the trac-admin is not in the /usr/bin(is nowhere to be found). In the /usr/lib/python2.7/site-packages/ there are no trac packages at all, but i found the following paths with a trac directory in them:</p>\n\n<pre><code>/root/.cpan/build/Alien-SVN-v1.8.11.0-1/src/subversion/subversion/bindings/swig/python/tests/trac\n/root/.cpan/build/Alien-SVN-v1.8.11.0-0/src/subversion/subversion/bindings/swig/python/tests/trac\n/opt2/trac\n</code></pre>\n\n<p>These directories show the following:</p>\n\n<pre><code>__init__.py  test.py  versioncontrol\n</code></pre>\n\n<p>and the /opt/trac is the environment of the trac:</p>\n\n<pre><code>conf  db  files  htdocs  log  plugins  README  templates  trac_banner.png  VERSION\n</code></pre>\n\n<p>Does this mean that the trac is installed? Can I just delete those directories and try a new installation?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1505332312, "post_id": 46205754, "comment_id": 79374832, "body": "Can you explain what <code>ww</code> is supposed to do?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1505332316, "post_id": 46205754, "comment_id": 79374836, "body": "<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please ..."}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1505332547, "post_id": 46205754, "comment_id": 79374968, "body": "Try removing the square brackets."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1505332556, "post_id": 46205754, "comment_id": 79374972, "body": "Can you paste traceback?"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 0, "creation_date": 1505332660, "post_id": 46205754, "comment_id": 79375027, "body": "Not clear what you&#39;re trying to do, but wrapping the return of <code>ww</code> into a numpy array would allow the calculation to continue (whether it is correct or not is another matter), e.g. <code>return np.array([-1 + i*func(n) for i in range(0,n+1)])</code>"}, {"owner": {"reputation": 11, "user_id": 3794534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7030bd4c70fac5426a5e4f83065d82e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmocrazy", "link": "https://stackoverflow.com/users/3794534/cosmocrazy"}, "edited": false, "score": 0, "creation_date": 1505332852, "post_id": 46205754, "comment_id": 79375127, "body": "ww is the argument of the function g, in case of spherical harmonics it will be the $\\theta$."}, {"owner": {"reputation": 11, "user_id": 3794534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7030bd4c70fac5426a5e4f83065d82e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmocrazy", "link": "https://stackoverflow.com/users/3794534/cosmocrazy"}, "edited": false, "score": 0, "creation_date": 1505332993, "post_id": 46205754, "comment_id": 79375190, "body": "If I remove the square brackets returns &quot;invalid syntax&quot;"}, {"owner": {"reputation": 11, "user_id": 3794534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7030bd4c70fac5426a5e4f83065d82e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmocrazy", "link": "https://stackoverflow.com/users/3794534/cosmocrazy"}, "edited": false, "score": 0, "creation_date": 1505334185, "post_id": 46205754, "comment_id": 79375819, "body": "The np.array works! Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": false, "score": 0, "last_activity_date": 1505333069, "creation_date": 1505333069, "answer_id": 46205982, "question_id": 46205754, "link": "https://stackoverflow.com/questions/46205754/how-to-convert-a-list-in-a-float/46205982#46205982", "title": "How to convert a list in a float?", "body": "<p>Your <code>ww</code> function returns a list of floats, which are then passed into <code>g()</code>. The calculation fails because you cannot add a <code>list</code> to a number.</p>\n\n<p>It is not possible to \"convert a list of floats to a float\" without performing some sort of operation on the numbers \u2014 e.g. \"add\", \"subtract\", \"multiply\".</p>\n\n<p>However, you can convert the list to an numpy array, which can be operated on as a whole. Multiplying an array of numbers by a single number multiplies each value, returning the result.</p>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; a = np.array([1.0,2.0,3.0])\n&gt;&gt;&gt; b = 2\n&gt;&gt;&gt; b ** 2 + a\narray([5.0, 6.0, 7.0])\n</code></pre>\n\n<p>If you wrap the return value of <code>ww</code> to convert to a numpy array, the subsequent calculation in <code>g()</code> should work.</p>\n\n<pre><code>def ww(n):\n    return np.array([-1 + i*func(n) for i in range(0,n+1)])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3794534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7030bd4c70fac5426a5e4f83065d82e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmocrazy", "link": "https://stackoverflow.com/users/3794534/cosmocrazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505333069, "creation_date": 1505332184, "question_id": 46205754, "link": "https://stackoverflow.com/questions/46205754/how-to-convert-a-list-in-a-float", "title": "How to convert a list in a float?", "body": "<p>My code has the following error: float () argument must be a string or a number, not 'list'.</p>\n\n<p>I know that my ww function is a list of values, but I do not know how to convert it to float, since ww is a function. I tried list comprehension, following the question in:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37629828/typeerror-float-argument-must-be-a-string-or-a-number-not-list-python\">TypeError: float() argument must be a string or a number, not &#39;list&#39; python</a></p>\n\n<p>But it didn't work.</p>\n\n<pre><code>def func(n):\n    return 2/(n+1)\n\ndef ww(n):\n    return [-1 + i*func(n) for i in range(0,n+1)] \n\ndef g(x,y):\n    return x**2 + y\n</code></pre>\n\n<p>This g(x,y) is actually spherical harmonics, but I put this for simplicity.</p>\n\n<pre><code>def integral(n):\n    return [np.pi*func(n)*(1 + math.cos(np.pi*(-1 + i*func(n))))*g(np.pi*i,ww(n)) for i in range(0,n+1)]   \n</code></pre>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 1584, "user_id": 3775614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkkon.png?s=128&g=1", "display_name": "lee-pai-long", "link": "https://stackoverflow.com/users/3775614/lee-pai-long"}, "is_accepted": true, "score": 2, "last_activity_date": 1571039115, "last_edit_date": 1571039115, "creation_date": 1505336929, "answer_id": 46206875, "question_id": 46205694, "link": "https://stackoverflow.com/questions/46205694/how-can-i-better-handle-this-flask-sqlalchemy-commit-rollback/46206875#46206875", "title": "How can I better handle this Flask-SQLAlchemy commit/rollback?", "body": "<p>You need to rollback when exception occurs and finally close the session:</p>\n\n<pre><code>def _commit_to_database(): \n    \"\"\"A shared function to make a   \n       commit to the database and\n       handle exceptions if encountered.\n    \"\"\"\n    flask.current_app.logger.info('Committing changes to db...')\n    try: \n        db.session.commit() \n    except AssertionError as err:\n        db.session.rollback()\n        flask.abort(409, err) \n    except (exc.IntegrityError, sqlite3.IntegrityError) as err:\n        db.session.rollback()\n        flask.abort(409, err.orig) \n    except Exception as err:\n        db.session.rollback()\n        flask.abort(500, err) \n    finally: \n        db.session.close()\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 6806114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1fda83bf2ebf9f89ad00601a58c3386?s=128&d=identicon&r=PG", "display_name": "Bryson Tyrrell", "link": "https://stackoverflow.com/users/6806114/bryson-tyrrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2615, "favorite_count": 1, "accepted_answer_id": 46206875, "answer_count": 1, "score": 1, "last_activity_date": 1571039115, "creation_date": 1505331966, "last_edit_date": 1505403424, "question_id": 46205694, "link": "https://stackoverflow.com/questions/46205694/how-can-i-better-handle-this-flask-sqlalchemy-commit-rollback", "title": "How can I better handle this Flask-SQLAlchemy commit/rollback?", "body": "<p>I'm reviewing some old code I wrote and was looking at a shared commit function I had written to handle responses to the user on certain failures when attempting to commit changes to the database (such as deletes):</p>\n\n<pre><code>def _commit_to_database():\n    \"\"\"A shared function to make a commit to the database and handle exceptions\n    if encountered.\n    \"\"\"\n    flask.current_app.logger.info('Committing changes to database...')\n    try:\n        db.session.commit()\n    except AssertionError as err:\n        flask.abort(409, err)\n    except (exc.IntegrityError, sqlite3.IntegrityError) as err:\n        flask.abort(409, err.orig)\n    except Exception as err:\n        flask.abort(500, err)\n    finally:\n        db.session.rollback()\n</code></pre>\n\n<p>I think I understand my thought process: attempt the <code>commit</code>, upon certain failures trigger a <code>flask.abort</code> to send the response back, but I believe I found that the database was left with an open session requiring a rollback when I did this and adding the <code>rollback</code> into a <code>finally</code> statement resolved this allowing me to still use the <code>flask.abort</code>.</p>\n\n<p>The questions I have around me code are:</p>\n\n<p>1) Is this a bug: will the Flask-SQLAlchemy extension not close out the session as normal; is calling the <code>rollback</code> on the <code>finally</code> which will be triggering after the <code>abort</code> going to affect successful <code>commit</code>s? </p>\n\n<p>2) If this is a bug: what should I be doing differently in handling the <code>try-except-finally</code> and the <code>db</code> session?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1505331871, "post_id": 46205666, "comment_id": 79374628, "body": "just print your result..."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1505332076, "post_id": 46205666, "comment_id": 79374741, "body": "Where are there two digits and then a space? Why does your name have to be below your post twice?"}], "answers": [{"comments": [{"owner": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "edited": false, "score": 0, "creation_date": 1505332117, "post_id": 46205715, "comment_id": 79374753, "body": "Probably just <code>print(ar)</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "edited": false, "score": 0, "creation_date": 1505332245, "post_id": 46205715, "comment_id": 79374804, "body": "@JonDeaton how OP came up with complex slicing listcomp and isn&#39;t able to print it? it&#39;s like inventing the can of soup, and not the can opener ..."}, {"owner": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "edited": false, "score": 0, "creation_date": 1505332319, "post_id": 46205715, "comment_id": 79374839, "body": "I&#39;m not sure tbh, maybe hes just confused about why the interpreter automatically prints stuff out whereas running a program doesn&#39;t? I remember being confused about that once haha"}, {"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "edited": false, "score": 0, "creation_date": 1505332372, "post_id": 46205715, "comment_id": 79374875, "body": "<code>print(ar)</code> will print it as array and <code>print(*ar)</code> will unpacks the list and return every element in the list. What is the reason of down vote?"}, {"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "reply_to_user": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "edited": false, "score": 0, "creation_date": 1505332436, "post_id": 46205715, "comment_id": 79374910, "body": "@AdamMartin, glad to hear. If it so, mark it as accepted answer."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1505332448, "post_id": 46205715, "comment_id": 79374914, "body": "I understand what OP wants now, but it&#39;s wasn&#39;t clear before editing. now it&#39;s a duplicate of <a href=\"https://stackoverflow.com/questions/46119144/printing-variable-that-contains-string-and-2-other-variables\" title=\"printing variable that contains string and 2 other variables\">stackoverflow.com/questions/46119144/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "edited": false, "score": 0, "creation_date": 1505333002, "post_id": 46205715, "comment_id": 79375197, "body": "hi how do I mark it sorry and also one more question ill add it into main post"}, {"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "edited": false, "score": 0, "creation_date": 1505333097, "post_id": 46205715, "comment_id": 79375247, "body": "To mark an answer as accepted, click on the check mark beside the answer to toggle it from grayed out to filled in. Thank you."}, {"owner": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "edited": false, "score": 0, "creation_date": 1505333204, "post_id": 46205715, "comment_id": 79375292, "body": "I&#39;ve edited please can you see if you can help? cheers arsho"}, {"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "reply_to_user": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "edited": false, "score": 0, "creation_date": 1505333597, "post_id": 46205715, "comment_id": 79375481, "body": "@AdamMartin, updated my answer. It is good to see you playing with alternative solutions. Happy coding!"}, {"owner": {"reputation": 6525, "user_id": 936083, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dace92a4c0b65a1f52abbabd294ca1a8?s=128&d=identicon&r=PG", "display_name": "Casey Kuball", "link": "https://stackoverflow.com/users/936083/casey-kuball"}, "edited": false, "score": 1, "creation_date": 1505333704, "post_id": 46205715, "comment_id": 79375549, "body": "The list comprehension <code>[e for e in ar]</code> is redundant.  Why not just <code>str2 = &#39; | &#39;.join(ar)</code>?"}, {"owner": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "edited": false, "score": 1, "creation_date": 1505333732, "post_id": 46205715, "comment_id": 79375570, "body": "thank you arsho also thanks for the quick reply with a answer!"}, {"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "reply_to_user": {"reputation": 6525, "user_id": 936083, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dace92a4c0b65a1f52abbabd294ca1a8?s=128&d=identicon&r=PG", "display_name": "Casey Kuball", "link": "https://stackoverflow.com/users/936083/casey-kuball"}, "edited": false, "score": 0, "creation_date": 1505333940, "post_id": 46205715, "comment_id": 79375699, "body": "@Darthfett, you are absolutely right. thanks. updated the answer."}], "tags": [], "owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "is_accepted": true, "score": 0, "last_activity_date": 1505333778, "last_edit_date": 1505333778, "creation_date": 1505332064, "answer_id": 46205715, "question_id": 46205666, "link": "https://stackoverflow.com/questions/46205666/python-3-6-changing-a-list-to-a-2-digit-then-a-space/46205715#46205715", "title": "python 3.6 changing a list to a 2 digit then a space", "body": "<p>Is this what you want?</p>\n\n<pre><code>a = '345674655'\nar = [a[i:i+3] for i in range(0, len(a), 3)]\nprint(*ar)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>345 674 655\n</code></pre>\n\n<p><strong>Updated:</strong>\nSecond Update: No need to use <em>list comprehension</em> in this case as @Darthfett's comment.  </p>\n\n<pre><code>a = '345674655'\nar = [a[i:i+3] for i in range(0, len(a), 3)]\nprint(*ar)\n\nstr2= \" | \".join(ar)\nprint (str2)\n</code></pre>\n\n<p>Updated Output:</p>\n\n<pre><code>345 674 655\n345 | 674 | 655\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7312956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bb83c4ec538c45d6d16b61b3dae1684?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Martin", "link": "https://stackoverflow.com/users/7312956/adam-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1505387317, "accepted_answer_id": 46205715, "answer_count": 1, "score": 0, "last_activity_date": 1505333778, "creation_date": 1505331844, "last_edit_date": 1505333160, "question_id": 46205666, "link": "https://stackoverflow.com/questions/46205666/python-3-6-changing-a-list-to-a-2-digit-then-a-space", "closed_reason": "Needs details or clarity", "title": "python 3.6 changing a list to a 2 digit then a space", "body": "<p>I have saw this and this works on the shell but I need a way where it will work on the python editor can anyone help</p>\n\n<pre><code>a = '345674655'\n[a[i:i+3] for i in range(0, len(a), 3)]\n</code></pre>\n\n<p>and outputs </p>\n\n<pre><code>['345', '674', '655']\n</code></pre>\n\n<p>This is what I want but so I can do it not on the shell on  print </p>\n\n<p>how do I get this to work I do know how it works just can't get it too?</p>\n\n<pre><code>a = '345674655'\nar = [a[i:i+3] for i in range(0, len(a), 3)]\nprint(*ar)\n\nstr2= \" | \".join(ar(e) for e in ar)\nprint (str2)\n</code></pre>\n"}, {"tags": ["python", "pip", "setuptools"], "answers": [{"comments": [{"owner": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "edited": false, "score": 3, "creation_date": 1505336606, "post_id": 46206658, "comment_id": 79376958, "body": "Or, maybe you just want the requirements to be installed, but not the actual package?  AFAIK, pip doesn&#39;t have the ability to read <code>setup.cfg</code> itself, all of the options are read in to <code>setup.py</code> by <code>setuptools.config.read_configuration</code>."}, {"owner": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "edited": false, "score": 0, "creation_date": 1505399141, "post_id": 46206658, "comment_id": 79406225, "body": "The comment by @rnorris is correct. I don&#39;t want to install the Python package itself, I want to install its dependencies. I want something like <code>pip install -r requirements.txt</code>, but something like <code>pip install -r setup.cfg</code>."}, {"owner": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "reply_to_user": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "edited": false, "score": 0, "creation_date": 1505408598, "post_id": 46206658, "comment_id": 79412671, "body": "Pip itself does not support that.  You will probably need to roll your own solution.  Can I ask what you&#39;re trying to accomplish by installing the dependencies of a particular module, but not the module itself?"}, {"owner": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "edited": false, "score": 1, "creation_date": 1505408739, "post_id": 46206658, "comment_id": 79412754, "body": "Installing the dependencies in a virtual environment in order to develop the project itself (without necessarily installing it)."}, {"owner": {"reputation": 7348, "user_id": 1860309, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/dwcZe.jpg?s=128&g=1", "display_name": "Boris Brodski", "link": "https://stackoverflow.com/users/1860309/boris-brodski"}, "reply_to_user": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "edited": false, "score": 0, "creation_date": 1610348501, "post_id": 46206658, "comment_id": 116094036, "body": "@argentpepper I would like to have it also. Any solution to that one by now? Thank you."}, {"owner": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "edited": false, "score": 2, "creation_date": 1610647611, "post_id": 46206658, "comment_id": 116205492, "body": "I think for the use case argentpepper mentions, <code>pip install --editable .</code> would be an appropriate solution.  The intended use case of the <code>--editable</code> flag is to make the development package available in the install environment and have any source changes show up without having to re-install the package."}], "tags": [], "owner": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "is_accepted": true, "score": 5, "last_activity_date": 1505409031, "last_edit_date": 1505409031, "creation_date": 1505335961, "answer_id": 46206658, "question_id": 46205648, "link": "https://stackoverflow.com/questions/46205648/can-pip-install-from-setup-cfg-as-if-installing-from-a-requirements-file/46206658#46206658", "title": "Can pip install from setup.cfg, as if installing from a requirements file?", "body": "<p>No, pip does not currently have facilities for parsing requirements from <code>setup.cfg</code>.  It will only install dependencies along with the main package(s) provided in <code>setup.py</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "edited": false, "score": 0, "creation_date": 1513110636, "post_id": 46573039, "comment_id": 82523402, "body": "This script as-is does not support packages that must be installed via <code>dependency_links</code>."}], "tags": [], "owner": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "is_accepted": false, "score": 7, "last_activity_date": 1507146593, "creation_date": 1507146593, "answer_id": 46573039, "question_id": 46205648, "link": "https://stackoverflow.com/questions/46205648/can-pip-install-from-setup-cfg-as-if-installing-from-a-requirements-file/46573039#46573039", "title": "Can pip install from setup.cfg, as if installing from a requirements file?", "body": "<p>Here is my workaround. I use the following command to parse the <code>install_requires</code> element from the <code>setup.cfg</code> file and install the packages using <code>pip</code>.</p>\n\n<pre><code>python3 -c \"import configparser; c = configparser.ConfigParser(); c.read('setup.cfg'); print(c['options']['install_requires'])\" | xargs pip install\n</code></pre>\n\n<p>Here is a more readable version of the Python script before the pipe in the above command line.</p>\n\n<pre><code>import configparser\nc = configparser.ConfigParser()\nc.read('setup.cfg')\nprint(c['options']['install_requires'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 397, "user_id": 10134077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a299c17537a3e0a6327b177b2007fec?s=128&d=identicon&r=PG&f=1", "display_name": "pandichef", "link": "https://stackoverflow.com/users/10134077/pandichef"}, "edited": false, "score": 0, "creation_date": 1595814868, "post_id": 61762525, "comment_id": 111595004, "body": "Works like a charm, as documented <a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#configuring-setup-using-setup-cfg-files\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 6651, "user_id": 3937850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6867f34f2ae219bc83003843bfe9a5a?s=128&d=identicon&r=PG", "display_name": "Jakub Kukul", "link": "https://stackoverflow.com/users/3937850/jakub-kukul"}, "is_accepted": false, "score": 6, "last_activity_date": 1589319785, "creation_date": 1589319785, "answer_id": 61762525, "question_id": 46205648, "link": "https://stackoverflow.com/questions/46205648/can-pip-install-from-setup-cfg-as-if-installing-from-a-requirements-file/61762525#61762525", "title": "Can pip install from setup.cfg, as if installing from a requirements file?", "body": "<p>If you have all your dependencies and other metadata defined in <code>setup.cfg</code>, just create a minimal <code>setup.py</code> file in the same directory that looks like this:</p>\n\n<pre><code>from setuptools import setup\nsetup()\n</code></pre>\n\n<p>From now on you can run <code>pip install</code> and it will install all the dependencies defined in <code>setup.cfg</code> as if they were declared in <code>setup.py</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "is_accepted": false, "score": 0, "last_activity_date": 1616112232, "creation_date": 1616112232, "answer_id": 66700819, "question_id": 46205648, "link": "https://stackoverflow.com/questions/46205648/can-pip-install-from-setup-cfg-as-if-installing-from-a-requirements-file/66700819#66700819", "title": "Can pip install from setup.cfg, as if installing from a requirements file?", "body": "<p>If your <code>setup.cfg</code> belongs to a well-formed package, you can do e.g.:</p>\n<pre><code>pip install -e .[tests,dev]\n</code></pre>\n<p>(install this package in place, with given extras)</p>\n<p>afterwards you can <code>pip uninstall</code> that package by name, leaving deps in place.</p>\n"}], "owner": {"reputation": 3366, "user_id": 108197, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4ddea00d396b2f0b635bd1897a02edef?s=128&d=identicon&r=PG", "display_name": "argentpepper", "link": "https://stackoverflow.com/users/108197/argentpepper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5823, "favorite_count": 3, "accepted_answer_id": 46206658, "answer_count": 4, "score": 12, "last_activity_date": 1616112232, "creation_date": 1505331788, "question_id": 46205648, "link": "https://stackoverflow.com/questions/46205648/can-pip-install-from-setup-cfg-as-if-installing-from-a-requirements-file", "title": "Can pip install from setup.cfg, as if installing from a requirements file?", "body": "<p>According to the <a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#configuring-setup-using-setup-cfg-files\" rel=\"noreferrer\"><code>setuptools</code> documentation</a>, <code>setuptools</code> version 30.3.0 (December 8, 2016) \"allows using configuration files (usually <em>setup.cfg</em>) to define package\u2019s metadata and other options which are normally supplied to <code>setup()</code> function\". Similar to running <code>pip install -r requirements.txt</code> to install Python packages from a requirements file, is there a way to ask <code>pip</code> to install the packages listed in the <code>install_requires</code> option of a <code>setup.cfg</code> configuration file?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "categorical-data"], "comments": [{"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 2, "creation_date": 1505337747, "post_id": 46205630, "comment_id": 79377447, "body": "Ultimately you need to understand what SAS is doing &quot;under the hood&quot;  Computers deal with numerical values, not &quot;categories&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "is_accepted": false, "score": 2, "last_activity_date": 1505334477, "last_edit_date": 1505334477, "creation_date": 1505334066, "answer_id": 46206210, "question_id": 46205630, "link": "https://stackoverflow.com/questions/46205630/categorical-variable-in-python-scikitlearn-without-one-hot-encoding/46206210#46206210", "title": "Categorical variable in Python/Scikitlearn without one-hot encoding", "body": "<p>It actually depends on the data that you have. For instance, if you can assign some sort of order to the categorical variable (Ordinal Values) like <code>low</code>,<code>medium</code> and <code>high</code>, you can assign them numbers like 1, 2 and 3. However, it gets a little trickier if there is no order whatsoever. Besides One-hot Encoding, you can try <a href=\"http://contrib.scikit-learn.org/categorical-encoding/helmert.html\" rel=\"nofollow noreferrer\">Helmert Coding Scheme</a>. You can also read <a href=\"http://www.kdnuggets.com/2015/12/beyond-one-hot-exploration-categorical-variables.html\" rel=\"nofollow noreferrer\">this blog post</a> for more analysis. There are also various other coding schemes in sklearn for categorical variables:</p>\n\n<ul>\n<li><a href=\"http://contrib.scikit-learn.org/categorical-encoding/sum.html\" rel=\"nofollow noreferrer\">Sum Coding</a></li>\n<li><a href=\"http://contrib.scikit-learn.org/categorical-encoding/polynomial.html\" rel=\"nofollow noreferrer\">Polynomial Coding</a></li>\n<li><a href=\"http://httphttp://contrib.scikit-learn.org/categorical-encoding/backward_difference.html\" rel=\"nofollow noreferrer\">Backward Difference Coding</a></li>\n</ul>\n\n<p>You can read more about other <a href=\"http://contrib.scikit-learn.org/categorical-encoding/index.html?highlight=encoders\" rel=\"nofollow noreferrer\">Categorical Encoders in Sklearn here</a>.</p>\n"}], "owner": {"reputation": 665, "user_id": 1124702, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/eb9091629a2b70821a24e44df6613ee6?s=128&d=identicon&r=PG", "display_name": "user1124702", "link": "https://stackoverflow.com/users/1124702/user1124702"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505337149, "creation_date": 1505331728, "last_edit_date": 1505337149, "question_id": 46205630, "link": "https://stackoverflow.com/questions/46205630/categorical-variable-in-python-scikitlearn-without-one-hot-encoding", "title": "Categorical variable in Python/Scikitlearn without one-hot encoding", "body": "<p>Is it possible to use a categorical variable, as-is, in Python/Scikit-learn GLM models? I do realize the alternative of one-hot encoding. My issue with this approach is that I will be unable to test the entire variable for significance. I can only test the encoded variable (which is partial).</p>\n\n<p>Why is it that SAS can handle such a variable and not Python? Please advise.</p>\n"}, {"tags": ["python", "python-requests", "chunks"], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "is_accepted": false, "score": 6, "last_activity_date": 1583698636, "last_edit_date": 1583698636, "creation_date": 1505331829, "answer_id": 46205664, "question_id": 46205586, "link": "https://stackoverflow.com/questions/46205586/why-to-use-iter-content-and-chunk-size-in-python-requests/46205664#46205664", "title": "Why to use iter_content and chunk_size in python requests", "body": "<p>From the <a href=\"https://2.python-requests.org/en/master/api/#requests.Response.iter_content\" rel=\"nofollow noreferrer\">documentations</a> <code>chunk_size</code> is size of data, that app will be reading in memory when <code>stream=True</code>. </p>\n\n<p>For example, if the size of the response is 1000 and <code>chunk_size</code> set to 100, we split the response into ten chunks.</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "edited": false, "score": 1, "creation_date": 1505332425, "post_id": 46205745, "comment_id": 79374905, "body": "you mean , like using it to stream actual video in a player , with the use of available chunk of data while writing ?"}, {"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "reply_to_user": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "edited": false, "score": 0, "creation_date": 1505332617, "post_id": 46205745, "comment_id": 79375004, "body": "well yeah, in the example you gave, <code>sav</code> is an open file handle, it is possible to make it represents an open pipe to the player or something."}, {"owner": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "edited": false, "score": 0, "creation_date": 1505332837, "post_id": 46205745, "comment_id": 79375117, "body": "yes exactly i understand now the concept , anyways can you tell me what iter_lines does ?"}, {"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "reply_to_user": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "edited": false, "score": 1, "creation_date": 1505333274, "post_id": 46205745, "comment_id": 79375326, "body": "Normally, if you don&#39;t use <code>stream=True</code>, the <a href=\"http://docs.python-requests.org/en/master/api/#requests.Response\" rel=\"nofollow noreferrer\">Response</a> object returned by <code>.get()</code> holds the actual, entire response content in <code>Response.content</code>. But if you are streaming, the behavior of <code>.content</code> obviously needs to change (it can&#39;t hold all of the data), you use the <code>iter_content</code> method to fetch subsequent chunks of data from the server into <code>.content</code> and return it. This follows the typical python <a href=\"https://wiki.python.org/moin/Iterator\" rel=\"nofollow noreferrer\">iterator</a> pattern."}, {"owner": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "edited": false, "score": 0, "creation_date": 1505333663, "post_id": 46205745, "comment_id": 79375524, "body": "yeah i know that already when to use stream=True , i was just confused but now your answer as an example helped me understand ,Thanks , god bless you !"}], "tags": [], "owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "is_accepted": true, "score": 17, "last_activity_date": 1505332157, "creation_date": 1505332157, "answer_id": 46205745, "question_id": 46205586, "link": "https://stackoverflow.com/questions/46205586/why-to-use-iter-content-and-chunk-size-in-python-requests/46205745#46205745", "title": "Why to use iter_content and chunk_size in python requests", "body": "<p>This is to prevent loading the entire response into memory at once (it also allows you to implement some concurrency while you stream the response so that you can do work while waiting for request to finish).</p>\n\n<p>The purpose of setting streaming request is usually for media. Like try to download a 500 MB .mp4 file using requests, you want to stream the response (and write the stream in chunks of <code>chunk_size</code>) instead of waiting for all 500mb to be loaded into python at once.</p>\n\n<p>If you want to implement any UI feedback (such as download progress like \"downloaded <code>&lt;chunk_size&gt;</code> bytes...\"), you will need to stream and chunk. If your response contains a Content-Size header, you can calculate % completion on every chunk you save too.</p>\n"}], "owner": {"reputation": 177, "user_id": 6469671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Q2igr2tf-iw/AAAAAAAAAAI/AAAAAAAAAB0/moSWEAR3FOs/photo.jpg?sz=128", "display_name": "Andriken sonwane", "link": "https://stackoverflow.com/users/6469671/andriken-sonwane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22303, "favorite_count": 3, "accepted_answer_id": 46205745, "answer_count": 2, "score": 9, "last_activity_date": 1583698636, "creation_date": 1505331490, "last_edit_date": 1505335802, "question_id": 46205586, "link": "https://stackoverflow.com/questions/46205586/why-to-use-iter-content-and-chunk-size-in-python-requests", "title": "Why to use iter_content and chunk_size in python requests", "body": "<p>Why should I use <code>iter_content</code> and specially I'm really confused with the purpose using of chunk_size , as I have tried using it and in every way the file seems to be saved after downloading successfully.</p>\n\n<pre><code>g = requests.get(url, stream=True)\n\nwith open('c:/users/andriken/desktop/tiger.jpg', 'wb') as sav:\n    for chunk in g.iter_content(chunk_size=1000000):\n        print (chunk)\n        sav.write(chunk)\n</code></pre>\n\n<p>Help me understand the use of <code>iter_content</code> and what will happen as you see I am using 1000000 bytes as <code>chunk_size</code>, what is the purpose exactly and results?</p>\n"}, {"tags": ["python", "python-3.5", "python-asyncio"], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 4330657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae9011cd104be387049c8826b4df9a63?s=128&d=identicon&r=PG&f=1", "display_name": "mrh1997", "link": "https://stackoverflow.com/users/4330657/mrh1997"}, "is_accepted": false, "score": 3, "last_activity_date": 1505338378, "creation_date": 1505338378, "answer_id": 46207153, "question_id": 46205583, "link": "https://stackoverflow.com/questions/46205583/is-there-a-difference-between-await-future-and-await-asyncio-wait-forfuture/46207153#46207153", "title": "Is there a difference between &#39;await future&#39; and &#39;await asyncio.wait_for(future, None)&#39;?", "body": "<p>Unfortunately the python documentation is a little bit unclear here, but if you have a look into the <a href=\"https://github.com/python/cpython/blob/769ddb075ac3a840d473930a12a5b72bfbab366f/Lib/asyncio/tasks.py#L322\" rel=\"nofollow noreferrer\">sources</a> its pretty obvious:</p>\n\n<p>In contrary to <code>await</code> the coroutine <code>asyncio.wait_for()</code> allows to wait only for a limited time until the future/task completes. If it does not complete within this time a <code>concurrent.futures.TimeoutError</code> is raised. </p>\n\n<p>This timeout can be specified as second parameter. In your sample code this <code>timeout</code> parameter is <code>None</code> which results in <em>exactly</em> the same functionality as directly applying <code>await</code>/<code>yield from</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1505344154, "post_id": 46207283, "comment_id": 79379563, "body": "Can you think of a situation where it would matter to be able to specify the loop?"}], "tags": [], "owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "is_accepted": true, "score": 5, "last_activity_date": 1505379785, "last_edit_date": 1505379785, "creation_date": 1505339073, "answer_id": 46207283, "question_id": 46205583, "link": "https://stackoverflow.com/questions/46205583/is-there-a-difference-between-await-future-and-await-asyncio-wait-forfuture/46207283#46207283", "title": "Is there a difference between &#39;await future&#39; and &#39;await asyncio.wait_for(future, None)&#39;?", "body": "<p>The <code>wait_for</code> gives two more functionalities:</p>\n\n<ol>\n<li>allow to define timeout,</li>\n<li>let you specify the loop</li>\n</ol>\n\n<p>Your example:</p>\n\n<pre><code>await f1\nawait asyncio.wait_for(f1, None)  # or simply asyncio.wait_for(f1)\n</code></pre>\n\n<p>besides an overhead of calling additional wrapper (wait_for), they're the same (<a href=\"https://github.com/python/cpython/blob/master/Lib/asyncio/tasks.py#L318\" rel=\"nofollow noreferrer\">https://github.com/python/cpython/blob/master/Lib/asyncio/tasks.py#L318</a>).</p>\n\n<p>Both <code>awaits</code> will wait indefinitely for the results (or exception). In this case plain <code>await</code> is more appropriate.</p>\n\n<p>On the other hand if you provide timeout argument it will wait for the results with time constraint. And if it will take more than the timeout it will raise <code>TimeoutError</code> and the future will be cancelled.</p>\n\n<pre><code>async def my_func():\n    await asyncio.sleep(10)\n    return 'OK'\n\n# will wait 10s \nawait my_func()\n\n# will wait only 5 seconds and then will raise TimeoutError\nawait asyncio.wait_for(my_func(), 5)\n</code></pre>\n\n<p>Another thing is the loop argument. In the most cases you shouldn't be bothered, the use case is limited: inject different loop for tests, run other loop ... </p>\n\n<p>The problem with this parameter is, that all subsequent tasks/functions  should also have that loop passed along...</p>\n\n<p>More info <a href=\"https://github.com/python/asyncio/issues/362\" rel=\"nofollow noreferrer\">https://github.com/python/asyncio/issues/362</a></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/40340493/passing-asyncio-loop-by-argument-or-using-default-asyncio-loop\">Passing asyncio loop by argument or using default asyncio loop</a> </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/42350334/why-use-explicit-loop-parameter-with-aiohttp\">Why use explicit loop parameter with aiohttp?</a></p></li>\n</ul>\n"}], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2817, "favorite_count": 2, "accepted_answer_id": 46207283, "answer_count": 2, "score": 6, "last_activity_date": 1505379785, "creation_date": 1505331481, "question_id": 46205583, "link": "https://stackoverflow.com/questions/46205583/is-there-a-difference-between-await-future-and-await-asyncio-wait-forfuture", "title": "Is there a difference between &#39;await future&#39; and &#39;await asyncio.wait_for(future, None)&#39;?", "body": "<p>With python 3.5 or later, is there any difference between directly applying <code>await</code> to a future or task, and wrapping it with <code>asyncio.wait_for</code>?  The documentation is unclear on when it is appropriate to use <code>wait_for</code> and I'm wondering if it's a vestige of the old generator-based library.  The test program below <em>appears</em> to show no difference but that doesn't really prove anything.</p>\n\n<pre><code>import asyncio\n\nasync def task_one():\n    await asyncio.sleep(0.1)\n    return 1\n\nasync def task_two():\n    await asyncio.sleep(0.1)\n    return 2\n\nasync def test(loop):\n    t1 = loop.create_task(task_one())\n    t2 = loop.create_task(task_two())\n\n    print(repr(await t1))\n    print(repr(await asyncio.wait_for(t2, None)))\n\ndef main():\n    loop = asyncio.get_event_loop()\n    try:\n        loop.run_until_complete(test(loop))\n    finally:\n        loop.close()\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe"], "comments": [{"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1505331882, "post_id": 46205540, "comment_id": 79374635, "body": "I have already created a dictionary to access each dataframe. So the current method should be fine, i.e. in a dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1505332999, "post_id": 46205704, "comment_id": 79375194, "body": "I do not want to manually input the filename. Is there a way to get it from the dictionary dodf that I have created? I am completely new to Python so I do not know as such how it all works."}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1505333266, "post_id": 46205704, "comment_id": 79375322, "body": "yep \u2014 but you need you change your <code>pd.read_excel(f)</code> to <code>pd.ExcelFile(f)</code>. Once that is done, each object will have the <code>.sheet_names</code> attribute which is a list of sheets in that file."}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1505400367, "post_id": 46205704, "comment_id": 79407139, "body": "Yes, I already did. But then, I have to individually parse each of the sheet into the dataframe right?"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1505411834, "post_id": 46205704, "comment_id": 79414466, "body": "@ManasJani that&#39;s right. But you can iterate over the list of <code>sheet_names</code> to do this, e.g. <code>for sheet in your_xls_obj.sheetnames:  df = your_xls_obj.parse(sheet)</code>"}], "tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": false, "score": 1, "last_activity_date": 1505332008, "creation_date": 1505332008, "answer_id": 46205704, "question_id": 46205540, "link": "https://stackoverflow.com/questions/46205540/import-using-python-multiple-excel-files-into-a-dataframe/46205704#46205704", "title": "Import using Python - multiple excel files into a dataframe", "body": "<p>As described in <a href=\"https://stackoverflow.com/questions/17977540/pandas-looking-up-the-list-of-sheets-in-an-excel-file\">this answer</a> in Pandas you still have access to the <code>ExcelFile</code> class, which loads the file creating an object.</p>\n\n<p>This object has a <code>.sheet_names</code> property which gives you a list of sheet names in the current file.</p>\n\n<pre><code>xl = pd.ExcelFile('foo.xls')\nxl.sheet_names  # list of all sheet names\n</code></pre>\n\n<p>To actually handle the import of the specific sheet, use <code>.parse(sheet_name)</code> on the object of the imported Excel file:</p>\n\n<pre><code>xl.parse(sheet_name)  # read a specific sheet to DataFrame\n</code></pre>\n\n<p>For your code something like:</p>\n\n<pre><code>get_df = lambda f: pd.ExcelFile(f)\ndodf = {f: get_df(f) for f in files}\n</code></pre>\n\n<p>...gives you <code>dodf</code> a dictionary of <code>ExcelFile</code> objects.</p>\n\n<pre><code>filename = 'yourfilehere.xlsx'\na_valid_sheet = dodf[filename].sheet_names[0] #\u00a0First sheet\ndf = dodf[filename].parse(sheet_name)\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508417190, "creation_date": 1505331331, "last_edit_date": 1508417190, "question_id": 46205540, "link": "https://stackoverflow.com/questions/46205540/import-using-python-multiple-excel-files-into-a-dataframe", "title": "Import using Python - multiple excel files into a dataframe", "body": "<p>I want to loop through a directory and find specific xlsx files and then put them each into separate pandas dataframe. The thing here is that I also want all sheets in those excel files to be in the dataframe. </p>\n\n<p>Below is a sample of code that I implemented, I just need to add the logic to pick all sheets:</p>\n\n<pre><code>import pandas as pd\nfrom glob import glob\n\npath = 'path_to_file'\n\nfiles = glob(path + '/*file*.xlsx')\n\nget_df = lambda f: pd.read_excel(f)\n\ndodf = {f: get_df(f) for f in files}\n\ndodf[files[2]] --- dictionary of dataframes \n</code></pre>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 1010, "user_id": 8396779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/441f976dff6c2f09bf7978386959717a?s=128&d=identicon&r=PG&f=1", "display_name": "Unatiel", "link": "https://stackoverflow.com/users/8396779/unatiel"}, "edited": false, "score": 0, "creation_date": 1505336778, "post_id": 46205532, "comment_id": 79377037, "body": "Since it turns out what you&#39;re doing involves pandas, the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_sql.html\" rel=\"nofollow noreferrer\"><code>to_sql()</code></a> method may interest you."}], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 8388519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28a52ea60bfbc695fe9e95afc44cbadf?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/8388519/dylan"}, "edited": false, "score": 0, "creation_date": 1505336173, "post_id": 46206508, "comment_id": 79376749, "body": "Thank you, I will update my question to ask followup"}, {"owner": {"reputation": 1010, "user_id": 8396779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/441f976dff6c2f09bf7978386959717a?s=128&d=identicon&r=PG&f=1", "display_name": "Unatiel", "link": "https://stackoverflow.com/users/8396779/unatiel"}, "reply_to_user": {"reputation": 735, "user_id": 8388519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28a52ea60bfbc695fe9e95afc44cbadf?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/8388519/dylan"}, "edited": false, "score": 0, "creation_date": 1505336341, "post_id": 46206508, "comment_id": 79376834, "body": "@Dylan From your sample, yes it&#39;s very likely this is the float64 causing the issue. So you should try <code>price = float(All_Tickers[str(length) + &#39;day_MA&#39;][i])</code>."}], "tags": [], "owner": {"reputation": 1010, "user_id": 8396779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/441f976dff6c2f09bf7978386959717a?s=128&d=identicon&r=PG&f=1", "display_name": "Unatiel", "link": "https://stackoverflow.com/users/8396779/unatiel"}, "is_accepted": true, "score": 11, "last_activity_date": 1505335332, "creation_date": 1505335332, "answer_id": 46206508, "question_id": 46205532, "link": "https://stackoverflow.com/questions/46205532/numpy-float64-object-has-no-attribute-translate-inserting-value-to-mysql-in/46206508#46206508", "title": "&#39;numpy.float64&#39; object has no attribute &#39;translate&#39; Inserting value to Mysql in Python", "body": "<p>Your library tries to format the provided arguments to a format MySQL will understand. To do so, it checks the type of each argument, to determine how the input should be formatted.</p>\n\n<p>However, since your lib doesn't knows <code>numpy.float64</code>, it fallbacks to a default encoder, which happens to be one for <strong>strings</strong> (unicode). <a href=\"https://github.com/PyMySQL/PyMySQL/blob/master/pymysql/converters.py#L12\" rel=\"noreferrer\">Here is the relevent piece of code</a>.</p>\n\n<blockquote>\n<pre><code>def escape_item(val, charset, mapping=None):\n    if mapping is None:\n        mapping = encoders\n    encoder = mapping.get(type(val))\n\n    # Fallback to default when no encoder found\n    if not encoder:\n        try:\n            encoder = mapping[text_type]\n        except KeyError:\n            raise TypeError(\"no default type converter defined\")\n\n    if encoder in (escape_dict, escape_sequence):\n        val = encoder(val, charset, mapping)\n    else:\n        val = encoder(val, mapping)\n    return val\n</code></pre>\n</blockquote>\n\n<p>This encoder, assuming the input is indeed a string, tries to call the <code>translate()</code> method on this string. But, since this method isn't defined for float64, you get this error.</p>\n\n<p>You should try to convert your float64 to a regular float.</p>\n\n<p>Or, you can create your own encoder, and add it in the <code>encoders</code> dict used as the default mapping of python types to encoder. If you're going to use a lot this lib with float64, it may be worth doing.</p>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 8274399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1866e7cf50038f01af3800528b93d64?s=128&d=identicon&r=PG&f=1", "display_name": "Fitz_Hoo", "link": "https://stackoverflow.com/users/8274399/fitz-hoo"}, "is_accepted": false, "score": 8, "last_activity_date": 1535442050, "creation_date": 1535442050, "answer_id": 52052547, "question_id": 46205532, "link": "https://stackoverflow.com/questions/46205532/numpy-float64-object-has-no-attribute-translate-inserting-value-to-mysql-in/52052547#52052547", "title": "&#39;numpy.float64&#39; object has no attribute &#39;translate&#39; Inserting value to Mysql in Python", "body": "<p>You can solve this problem by just adding a float method for every np.float variable like below:</p>\n\n<pre><code>variable = float(variable)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1322, "user_id": 3238085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a69ea9e396d3051ebb947dcf7a027be?s=128&d=identicon&r=PG&f=1", "display_name": "user238607", "link": "https://stackoverflow.com/users/3238085/user238607"}, "edited": false, "score": 0, "creation_date": 1559750741, "post_id": 52949184, "comment_id": 99519977, "body": "As the answer says, please make sure to add these before making the pymysql connection. I got the same error as I was adding them at the point of query execution."}], "tags": [], "owner": {"reputation": 1676, "user_id": 1903430, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZBVUf.png?s=128&g=1", "display_name": "fx-kirin", "link": "https://stackoverflow.com/users/1903430/fx-kirin"}, "is_accepted": false, "score": 11, "last_activity_date": 1540299337, "last_edit_date": 1540299337, "creation_date": 1540297902, "answer_id": 52949184, "question_id": 46205532, "link": "https://stackoverflow.com/questions/46205532/numpy-float64-object-has-no-attribute-translate-inserting-value-to-mysql-in/52949184#52949184", "title": "&#39;numpy.float64&#39; object has no attribute &#39;translate&#39; Inserting value to Mysql in Python", "body": "<p>Add the command below to anywhere before making pymysql connection. It adds new encoder of numpy.float64.</p>\n\n<pre><code>pymysql.converters.encoders[np.float64] = pymysql.converters.escape_float\npymysql.converters.conversions = pymysql.converters.encoders.copy()\npymysql.converters.conversions.update(pymysql.converters.decoders)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 9158932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e016beeba9ac0b682a63ce84af7180b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrii Ladyhin", "link": "https://stackoverflow.com/users/9158932/andrii-ladyhin"}, "is_accepted": false, "score": 1, "last_activity_date": 1553160045, "last_edit_date": 1553160045, "creation_date": 1553159708, "answer_id": 55277049, "question_id": 46205532, "link": "https://stackoverflow.com/questions/46205532/numpy-float64-object-has-no-attribute-translate-inserting-value-to-mysql-in/55277049#55277049", "title": "&#39;numpy.float64&#39; object has no attribute &#39;translate&#39; Inserting value to Mysql in Python", "body": "<p>Another option, that could help it is:</p>\n\n<pre><code>from sqlalchemy import event\nimport numpy as np\nimport sqlalchemy\n\nengine = sqlalchemy.create_engine(...)\n\ndef add_own_encoders(conn, cursor, query, *args):\n    cursor.connection.encoders[np.float64] = lambda value, encoders: float(value)\n\nevent.listen(engine, \"before_cursor_execute\", add_own_encoders)\n</code></pre>\n"}], "owner": {"reputation": 735, "user_id": 8388519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28a52ea60bfbc695fe9e95afc44cbadf?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/8388519/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15101, "favorite_count": 3, "accepted_answer_id": 46206508, "answer_count": 4, "score": 11, "last_activity_date": 1553160045, "creation_date": 1505331298, "last_edit_date": 1505336351, "question_id": 46205532, "link": "https://stackoverflow.com/questions/46205532/numpy-float64-object-has-no-attribute-translate-inserting-value-to-mysql-in", "title": "&#39;numpy.float64&#39; object has no attribute &#39;translate&#39; Inserting value to Mysql in Python", "body": "<pre><code>import dataset\ndb = dataset.connect(....)\ntable = db[...]\n</code></pre>\n\n<p>When I try to insert some value into Mysql table, this error occurred. </p>\n\n<p>Sample Value I am inserting to the table:</p>\n\n<pre><code>print(\"Buy\", ticker, price, date, OType, OSize)\nBuy AAPL 93.4357142857 2016-05-12 Market 200\ndata = dict(Order_Side='Buy',Ticker=ticker, Price=price, \n                            Order_Date= date, Order_Type = OType, Volume = OSize )\ntable.insert(data)\n</code></pre>\n\n<p>error message:</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"&lt;ipython-input-3-b7ab0c98f72f&gt;\", line 1, in &lt;module&gt;\n    runfile('C:/Users/SwigelUser/Documents/GitHub/Trading/Strategies/strat_MA_ExecTest.py', wdir='C:/Users/SwigelUser/Documents/GitHub/Trading/Strategies')\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 880, in runfile\n    execfile(filename, namespace)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"C:/Users/SwigelUser/Documents/GitHub/Trading/Strategies/strat_MA_ExecTest.py\", line 69, in &lt;module&gt;\n    MA_Stra(start_length=7,end_length=10,start_date=date(2016,5,12),end_date=date(2016,6,18))\n\n  File \"C:/Users/SwigelUser/Documents/GitHub/Trading/Strategies/strat_MA_ExecTest.py\", line 66, in MA_Stra\n    table.insert(data1)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\dataset\\persistence\\table.py\", line 87, in insert\n    res = self.database.executable.execute(self.table.insert(row))\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 945, in execute\n    return meth(self, multiparams, params)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 263, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1053, in _execute_clauseelement\n    compiled_sql, distilled_params\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1189, in _execute_context\n    context)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1405, in _handle_dbapi_exception\n    util.reraise(*exc_info)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\util\\compat.py\", line 187, in reraise\n    raise value\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1182, in _execute_context\n    context)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 470, in do_execute\n    cursor.execute(statement, parameters)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\cursors.py\", line 164, in execute\n    query = self.mogrify(query, args)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\cursors.py\", line 143, in mogrify\n    query = query % self._escape_args(args, conn)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\cursors.py\", line 123, in _escape_args\n    return dict((key, conn.literal(val)) for (key, val) in args.items())\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\cursors.py\", line 123, in &lt;genexpr&gt;\n    return dict((key, conn.literal(val)) for (key, val) in args.items())\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\connections.py\", line 821, in literal\n    return self.escape(obj, self.encoders)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\connections.py\", line 814, in escape\n    return escape_item(obj, self.charset, mapping=mapping)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\converters.py\", line 27, in escape_item\n    val = encoder(val, mapping)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\converters.py\", line 110, in escape_unicode\n    return u\"'%s'\" % _escape_unicode(value)\n\n  File \"C:\\Users\\SwigelUser\\Anaconda3\\lib\\site-packages\\pymysql\\converters.py\", line 73, in _escape_unicode\n    return value.translate(_escape_table)\n\nAttributeError: 'numpy.float64' object has no attribute 'translate'\n</code></pre>\n\n<p>What have caused this error? How could I solve this.\nIt seems like I entered too much code here,thus I will have to type lots of none sense in order to submit.</p>\n\n<p>my price and date variable comes from a dataframe:</p>\n\n<pre><code>for i in range(len(All_Tickers)-1-len(Current_Date),len(All_Tickers)-1):\n    price = All_Tickers[str(length) + 'day_MA'][i]\n    date = All_Tickers['Date'][i+1]\n</code></pre>\n\n<p>According to the answer below, the problem should be the type of price is np.float64, how can I convert this variable to type float?</p>\n"}, {"tags": ["python", "opencv", "python-tesseract", "pytesser"], "comments": [{"owner": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "edited": false, "score": 0, "creation_date": 1505828481, "post_id": 46205514, "comment_id": 79566539, "body": "Can you share the original unprocessed image. Is the data in a table ?"}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "reply_to_user": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "edited": false, "score": 0, "creation_date": 1505841251, "post_id": 46205514, "comment_id": 79574449, "body": "@AmarpreetSinghSaini added the original image and the cleaned and cropped images and their respective outputs and I just dumping the data in a text file for now .I plan to write use database later once the output is more accurate and reliable"}, {"owner": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "edited": false, "score": 0, "creation_date": 1505888270, "post_id": 46205514, "comment_id": 79590622, "body": "@Divaker Check the updated answer"}, {"owner": {"reputation": 1410, "user_id": 768408, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0fe5f396835004cfdbf3456780dc8cb3?s=128&d=identicon&r=PG", "display_name": "Saedeas", "link": "https://stackoverflow.com/users/768408/saedeas"}, "edited": false, "score": 1, "creation_date": 1506027018, "post_id": 46205514, "comment_id": 79666027, "body": "You might try playing with the page segmentation method.  There&#39;s a list of them here, one might be better suited for your problem than the default: <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tesseract/wiki/ImproveQuality</a>"}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506101673, "post_id": 46205514, "comment_id": 79700045, "body": "I checked out the page do you have any python documentation of its implementation or any idea where to specify the segmentation attributes"}, {"owner": {"reputation": 1410, "user_id": 768408, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0fe5f396835004cfdbf3456780dc8cb3?s=128&d=identicon&r=PG", "display_name": "Saedeas", "link": "https://stackoverflow.com/users/768408/saedeas"}, "edited": false, "score": 0, "creation_date": 1506367314, "post_id": 46205514, "comment_id": 79783122, "body": "I don&#39;t know if you&#39;re using PyTesser or not, but there&#39;s an example in the original question here in which the OP specifies the page segmentation method (the PSM options): <a href=\"https://stackoverflow.com/questions/16303398/tesseractnotfound-pytesser\" title=\"tesseractnotfound pytesser\">stackoverflow.com/questions/16303398/tesseractnotfound-pytes&zwnj;&#8203;ser</a>  Hope this helps!"}], "answers": [{"comments": [{"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1505902297, "post_id": 46314584, "comment_id": 79599346, "body": "can you add the image on which you ran tesseract scan and regarding 1,2,3 I had read the image converted into greyscale and then saved it as 300+ dpi then did the scan so are you telling me if I pass a 300 dpi image to image_to_string It gets converted into 72 dpi ?"}, {"owner": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "reply_to_user": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1505906201, "post_id": 46314584, "comment_id": 79601810, "body": "No, the  image_to_string function doesn&#39;t take the argument for custom dpi. You need to override it."}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1505964035, "post_id": 46314584, "comment_id": 79630086, "body": "I may get a text from following grayscale.I started out there then ventured deep and tried out many things .So for this to work for me I have to clear the background and split the image in 4 cropped pics of team names and rest of score values .What I have right now is not the issue you just said .I am trying to find solution to something else which is why the purely blank image is not recognized.See I used sunnypage to recognize and train the new language.While using that if you try recognizing only 2 columns are found even if the image is in 300dpi or 1000dpi."}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1505964106, "post_id": 46314584, "comment_id": 79630108, "body": "but if I manually select the area to for recognizing then it gives me perfect output .The issue at hand is that tesseract is actually skipping over random areas while processing the image even though its of 300 dpi and clear background with only text remaining.I started out with what you did extracting the data from grayscale but it is highly inaccurate for it to work consistently .You need to  do what I did ,regarding player names I get 99.9% accuracy most of the time but.I am facing problem regarding the scores of the team as many a time randomly it skips detecting the columns ."}, {"owner": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "reply_to_user": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506094100, "post_id": 46314584, "comment_id": 79696035, "body": "Whosoever negative votes the answer,please mention the reason for it"}], "tags": [], "owner": {"reputation": 2072, "user_id": 2301434, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/DzbrO.jpg?s=128&g=1", "display_name": "Amarpreet Singh", "link": "https://stackoverflow.com/users/2301434/amarpreet-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1505906303, "last_edit_date": 1505906303, "creation_date": 1505888201, "answer_id": 46314584, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract/46314584#46314584", "title": "Highly inconsistent OCR result for tesseract", "body": "<p>My suggestion is to perform OCR on the full image.</p>\n\n<p>I have preprocessed the image to get a grayscale image.</p>\n\n<pre><code>import cv2\nimage_obj = cv2.imread('1D4bB.jpg')\ngray = cv2.cvtColor(image_obj, cv2.COLOR_BGR2GRAY)\ncv2.imwrite(\"gray.png\", gray)\n</code></pre>\n\n<p>I have run the tesseract on the image from the terminal and the accuracy also seems to be over 90% in this case.</p>\n\n<pre><code>tesseract gray.png out\n\n3579 10 1 7 148\n3142 9 o 5 10\n2962 3 o 7 101\n2214 2 2 7 99\n2205 1 3 6 78\nScore Kills Assists Deaths Connection\n8212 15 1 4 4o\n7198 7 3 6 40\n6307 6 1 5 60\n5640 2 3 6 80\n4884 1 1 5 so\n</code></pre>\n\n<p>Below are few suggestions - </p>\n\n<ol>\n<li>Do not use image_to_string method directly as it converts the image to bmp and saves it in 72 dpi.</li>\n<li>If you want to use image_to_string then override it to save the image in 300 dpi.</li>\n<li>You can use run_tesseract method and then read the output file.</li>\n</ol>\n\n<p>Image on which I ran OCR.\n<a href=\"https://i.stack.imgur.com/3cImN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3cImN.jpg\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Another approach for this problem can be to crop the digits and deep to a neural network for prediction.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506332036, "post_id": 46401303, "comment_id": 79761118, "body": "check the code I made the image 3tiimes the size before I tried cleaning the image.Please check the code before replying.see the screenshot and sample image.I cleared everything made it black and white have done everything you just typed down as the answer the problem I am facing right now is when a clear background image like this here <a href=\"https://i.stack.imgur.com/tytSQ.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/tytSQ.jpg</a> when fed as input to tesseract it fails to detect other than 2 columns whereas in case of this image  <a href=\"https://i.stack.imgur.com/tytSQ.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/tytSQ.jpg</a> it correctly identifies it.My question is specific the reason for the weird behaviour"}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506332293, "post_id": 46401303, "comment_id": 79761290, "body": "If anyone can give me explanation about it and possible fixes to it"}], "tags": [], "owner": {"reputation": 774, "user_id": 6393636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13a6bc94b135d28bb51aaa361c24a51?s=128&d=identicon&r=PG", "display_name": "Melardev", "link": "https://stackoverflow.com/users/6393636/melardev"}, "is_accepted": false, "score": -1, "last_activity_date": 1506329944, "creation_date": 1506329944, "answer_id": 46401303, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract/46401303#46401303", "title": "Highly inconsistent OCR result for tesseract", "body": "<p>I think that you have to preprocess the image first, the changes that works for me are:\nSupposing</p>\n\n<pre><code>import PIL\nimg= PIL.Image.open(\"yourimg.png\")\n</code></pre>\n\n<ul>\n<li><p>Make the image bigger, I usually double the image size.</p>\n\n<p>img.resize(img.size[0]*2, img.size[1]*2)</p></li>\n<li><p>Grayscale the image</p>\n\n<p>img.convert('LA')</p></li>\n<li><p>Make the characters bolder, you can see one approach here: <a href=\"https://blog.c22.cc/2010/10/12/python-ocr-or-how-to-break-captchas/\" rel=\"nofollow noreferrer\">https://blog.c22.cc/2010/10/12/python-ocr-or-how-to-break-captchas/</a>\nbut that approach is fairly slow, if you use it, I would suggest to use another approach</p></li>\n<li><p>Select, invert selection, fill with black, white using gimpfu</p>\n\n<p>image = pdb.gimp_file_load(file, file)\nlayer = pdb.gimp_image_get_active_layer(image)\nREPLACE= 2\npdb.gimp_by_color_select(layer,\"#000000\",20,REPLACE,0,0,0,0)\npdb.gimp_context_set_foreground((0,0,0))\npdb.gimp_edit_fill(layer,0)\npdb.gimp_context_set_foreground((255,255,255))\npdb.gimp_edit_fill(layer,0)</p>\n\n<p>pdb.gimp_selection_invert(image)\npdb.gimp_context_set_foreground((0,0,0))</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506402619, "post_id": 46415303, "comment_id": 79793872, "body": "let me check that and get back to you"}, {"owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "edited": false, "score": 0, "creation_date": 1506403616, "post_id": 46415303, "comment_id": 79794206, "body": "what I was looking for was how to pass this psm parameter .I find it quite funny since I did not just google image_to_string parameters.Tried everything but not that . <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tesseract/wiki/ImproveQuality</a> checked this sometime back but never saw a documentation."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1556988145, "post_id": 46415303, "comment_id": 98618528, "body": "There is a similar answer here: <a href=\"https://stackoverflow.com/questions/44619077/pytesseract-ocr-multiple-config-options\" title=\"pytesseract ocr multiple config options\">stackoverflow.com/questions/44619077/&hellip;</a>  with one small (big) difference, one dash instead of two before the <code>psm</code>.  I tried <code>--psm</code> and got nothing, then used <code>-psm</code> and the config option made a huge difference.  I&#39;m using python 2.7 and tesseract 3.04.01."}], "tags": [], "owner": {"reputation": 688, "user_id": 8321574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166b6dc2fa1f3a20046908ffe986997a?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/8321574/manoj"}, "is_accepted": true, "score": 8, "last_activity_date": 1506379806, "creation_date": 1506379806, "answer_id": 46415303, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract/46415303#46415303", "title": "Highly inconsistent OCR result for tesseract", "body": "<p>Tried with the command line which gives us option to decide which <strong>psm</strong> value to be used. </p>\n\n<p>Can you try with this:</p>\n\n<pre><code>pytesseract.image_to_string(image, config='-psm 6')\n</code></pre>\n\n<p>Tried with the image provided by you and below is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0qotZ.png\" rel=\"noreferrer\">Extracted Text Out of Image</a></p>\n\n<p>The only problem I am facing is that my tesseract dictionary is interpreting \"1\" provided in your image to \"\"I\" .</p>\n\n<p>Below is the list of psm options available:</p>\n\n<p>pagesegmode values are:\n0 = Orientation and script detection (OSD) only.</p>\n\n<p>1 = Automatic page segmentation with OSD.</p>\n\n<p>2 = Automatic page segmentation, but no OSD, or OCR</p>\n\n<p>3 = Fully automatic page segmentation, but no OSD. (Default)</p>\n\n<p>4 = Assume a single column of text of variable sizes.</p>\n\n<p>5 = Assume a single uniform block of vertically aligned text.</p>\n\n<p>6 = Assume a single uniform block of text.</p>\n\n<p>7 = Treat the image as a single text line.</p>\n\n<p>8 = Treat the image as a single word.</p>\n\n<p>9 = Treat the image as a single word in a circle.</p>\n\n<p>10 = Treat the image as a single character.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7652234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63934fe06003d9c8d6445e920bcf4d7?s=128&d=identicon&r=PG&f=1", "display_name": "akshat dashore", "link": "https://stackoverflow.com/users/7652234/akshat-dashore"}, "is_accepted": false, "score": 1, "last_activity_date": 1542894347, "last_edit_date": 1542894347, "creation_date": 1542892848, "answer_id": 53431930, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract/53431930#53431930", "title": "Highly inconsistent OCR result for tesseract", "body": "<p>I used this link</p>\n\n<p><a href=\"https://www.howtoforge.com/tutorial/tesseract-ocr-installation-and-usage-on-ubuntu-16-04/\" rel=\"nofollow noreferrer\">https://www.howtoforge.com/tutorial/tesseract-ocr-installation-and-usage-on-ubuntu-16-04/</a></p>\n\n<p>Just use below commands that may increase accuracy upto 50%`</p>\n\n<pre><code>sudo apt update\n\nsudo apt install tesseract-ocr\n\nsudo apt-get install tesseract-ocr-eng\n\nsudo apt-get install tesseract-ocr-all\n\nsudo apt install imagemagick\n\nconvert -h\n\ntesseract [image_path] [file_name]\n\nconvert -resize 150% [input_file_path] [output_file_path]\n\nconvert [input_file_path] -type Grayscale [output_file_path]\n\ntesseract [image_path] [file_name]\n</code></pre>\n\n<p>It will only show bold letters</p>\n\n<p>Thanks</p>\n"}, {"comments": [{"owner": {"reputation": 2728, "user_id": 10309342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e95623d18e7fff6249a8f4f922a9b22?s=128&d=identicon&r=PG&f=1", "display_name": "gehbiszumeis", "link": "https://stackoverflow.com/users/10309342/gehbiszumeis"}, "edited": false, "score": 1, "creation_date": 1578305703, "post_id": 59608847, "comment_id": 105383779, "body": "Please put your answer always in context instead of just pasting code. See <a href=\"https://stackoverflow.com/help/how-to-answer\">here</a> for more details."}], "tags": [], "owner": {"reputation": 629, "user_id": 9389666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165ae585030427efe6b9479051517523?s=128&d=identicon&r=PG&f=1", "display_name": "0x01h", "link": "https://stackoverflow.com/users/9389666/0x01h"}, "is_accepted": false, "score": -1, "last_activity_date": 1578299286, "creation_date": 1578299286, "answer_id": 59608847, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract/59608847#59608847", "title": "Highly inconsistent OCR result for tesseract", "body": "<pre class=\"lang-py prettyprint-override\"><code>fn = 'image.png'\nimg = cv2.imread(fn, 0)\nimg = cv2.bilateralFilter(img, 20, 25, 25)\nret, th = cv2.threshold(img, 0, 255, cv2.THRESH_BINARY+cv2.THRESH_OTSU)\n# Image.fromarray(th)\nprint(pytesseract.image_to_string(th, lang='eng'))\n</code></pre>\n"}], "owner": {"reputation": 3358, "user_id": 3127499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ede903e06e509bc0dfff01b6c8b159bd?s=128&d=identicon&r=PG&f=1", "display_name": "codefreaK", "link": "https://stackoverflow.com/users/3127499/codefreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12366, "favorite_count": 7, "accepted_answer_id": 46415303, "answer_count": 5, "score": 9, "last_activity_date": 1617907444, "creation_date": 1505331179, "last_edit_date": 1506351284, "question_id": 46205514, "link": "https://stackoverflow.com/questions/46205514/highly-inconsistent-ocr-result-for-tesseract", "title": "Highly inconsistent OCR result for tesseract", "body": "<p><a href=\"https://i.stack.imgur.com/1D4bB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1D4bB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is the original screenshot and I cropped the image into 4 parts and cleared the background of the image to the extent that I can possibly do but tesseract only detects the last column here and ignores the rest.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DvQV7.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DvQV7.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The output from the tesseract is shown as it is there are blank spaces which I  remove while processing result</p>\n\n<pre><code>  Femme\u2014Fatale.\n\n\n\n  DaRkLoRdEIa\n  aChineseN1gg4\n\n  Noob_Diablo_\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lYU1K.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lYU1K.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The output from the tesseract is shown as it is there are blank spaces which I  remove while processing result</p>\n\n<pre><code>Kicked.\n\nNosNoel\nChikiZD\nDeath_Eag|e_42\n\nChai\u2014.\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Etp3u.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Etp3u.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>3579 10 1 7 148\n\n2962 3 O 7 101\n\n2214 2 2 7 99\n\n2205 1 3 6 78\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tytSQ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tytSQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>8212\n\n7198\n\n6307\n\n5640\n\n4884\n\n15\n\n40\n\n40\n\n6O\n\n80\n\n80\n</code></pre>\n\n<p>Am just dumping the output of </p>\n\n<pre><code>result = `pytesseract.image_to_string(Image.open(\"D:/newapproach/B&amp;W\"+str(i)+\".jpg\"),lang=\"New_Language\")`\n</code></pre>\n\n<p>But I do not know how to proceed from here to get a consistent result.Is there anyway so that I can force the tesseract to recognize the text area and make it scan that.Because in trainer (SunnyPage), tesseract on default recognition scan it fails to recognize some areas  but once I select the manually  everything is detected and translated to text correctly</p>\n\n<h2><a href=\"http://pythonfiddle.com/ocr-with-python-and-tesseract\" rel=\"noreferrer\">Code</a></h2>\n"}, {"tags": ["python", "python-3.x", "ms-access", "data-cleaning"], "comments": [{"owner": {"reputation": 956, "user_id": 5758637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AjRiy.jpg?s=128&g=1", "display_name": "Michael Armes", "link": "https://stackoverflow.com/users/5758637/michael-armes"}, "edited": false, "score": 2, "creation_date": 1505331269, "post_id": 46205509, "comment_id": 79374322, "body": "&quot;I had been drinking so I immediately agreed&quot; -- oh dear. I&#39;m not a python coder by any means, just wanted to sympathize."}, {"owner": {"reputation": 1937, "user_id": 1335492, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bb7485134a4957636621aa28e6f9fae?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1335492/david"}, "edited": false, "score": 1, "creation_date": 1505440864, "post_id": 46205509, "comment_id": 79425006, "body": "&quot;Some people, when confronted with a problem, think \u201cI know, I&#39;ll use regular expressions.\u201d  Now they have two problems.&quot; The database engine that you are using to read the database has the ability to create new tables and databases and update queries and append queries. It is a /fabulous/ environment for doing data cleaning. In contrast, CSV is, sadly, a really sad environment for doing that..."}, {"owner": {"reputation": 331, "user_id": 106590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6P6MC.png?s=128&g=1", "display_name": "davey", "link": "https://stackoverflow.com/users/106590/davey"}, "edited": false, "score": 1, "creation_date": 1505459320, "post_id": 46205509, "comment_id": 79430727, "body": "Unfortunately, I no longer have Microsoft Access running on Windows 3.1"}], "owner": {"reputation": 331, "user_id": 106590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6P6MC.png?s=128&g=1", "display_name": "davey", "link": "https://stackoverflow.com/users/106590/davey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505333111, "creation_date": 1505331150, "last_edit_date": 1505333111, "question_id": 46205509, "link": "https://stackoverflow.com/questions/46205509/using-python-3-6-to-transform-dirty-data-from-and-access-database", "title": "Using python 3.6 to transform dirty data from and Access database", "body": "<p>When I was about 19 or 20 my Dad typed some records of British Army Officers in World War 1 into a an Access 1.0 database. All was for the last 27 years or so until he suddenly remembered he had done this and decided that I should \"put it on the internet\" for him (I had been drinking so I immediately agreed).</p>\n\n<p>The good news is it's a single table, the bad news is that the data typed in 1990 has not really stood the test of time. There is a lot of abbreviation and slightly different spellings of things which should be the same which will spoil the look of the document and make search difficult.</p>\n\n<p>The CSV header looks like:</p>\n\n<pre><code>Soldier,SoldierName,Notes,Christian Name,Rank,Regiment,Appointment,Grade,Date Appointed\n</code></pre>\n\n<p>The data looks like:</p>\n\n<pre><code>2876,\"Furber\",\"Vice Capt G W R Stacpoole DSO Res of Off LG29113 2984 26/3/1915.   Replaced by Lt A H Gordon Ind Army Res of Off LG29555 4121 20/4/1916.\",\"M\",\"Capt\",\"Re\n</code></pre>\n\n<p>See how the word \"captain\" is spelt \"capt\", it is also spelt \"cptn\", \"cpt\" and so on.</p>\n\n<p>I'd like to process the file and correct these. Using python 3.6 I read in the csv and substitute any ranks in the dictionary keys with their corrected ranks:</p>\n\n<pre><code>correct_ranks = {\n    'cap'                        : 'captain',\n    'temp cap'                   : 'temporary captain',\n    'temp capt'                  : 'temporary captain',\n    'temp capt act maj'          : 'temporary captain acting major',\n    'temp capt temp maj'         : 'temporary captain temporary major',\n    'temp capt hon maj'          : 'temporary captain the honorable major',\n    'temp capt hon'              : 'temporary captain the honorable',\n    'capt brevet lt col'         :  'captain brevet lieutenant colonel',\n    'capt earl of'               :  'captain earl of',\n    'capt hon'                   :  'captain the honorable',\n    'hon capt'                   :  'captain the honorable',\n}\n</code></pre>\n\n<p>I've got to do a similar job for the regiments they belong to also where my earliest solution was to use a list of regexes:</p>\n\n<pre><code>s =  re.sub(r'\\bdrgns\\b', 'Dragoons', s)\ns =  re.sub(r'\\bdgn\\b', 'Dragoon', s)\ns =  re.sub(r'\\bgds\\b', 'Guards', s)\ns =  re.sub(r'\\binf\\b', 'Infantry', s)\ns =  re.sub(r'\\bbde\\b', 'Brigade', s)\ns =  re.sub(r'\\bhsld\\b', 'Household', s)\ns =  re.sub(r'\\bres\\b', 'Reserve', s)\ns =  re.sub(r'\\byeo\\b', 'Yeomanry', s)\ns =  re.sub(r'\\bco of\\b', 'County of', s)\ns =  re.sub(r'\\bco\\b', 'County', s)\ns =  re.sub(r'\\blon(d?)\\b', 'London', s)\n</code></pre>\n\n<p>I've got this working pretty ok but sometimes a string doesn't seem to get transformed at the end so my solution seems \"naive\". My question:</p>\n\n<p>What are good ways of approaching a task like this (I can program a little in python and I've got most of the steps working like extracting from access mdb and publishing it back to a google sheet. Suggestions for strategies for cleanup and tidying are what would help.</p>\n"}, {"tags": ["python", "python-3.x", "python-requests", "httprequest", "grequests"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1505331345, "post_id": 46205491, "comment_id": 79374374, "body": "If you look at the <a href=\"https://github.com/kennethreitz/grequests\" rel=\"nofollow noreferrer\">README</a> it suggests that failed requests result in a <code>None</code>. I&#39;m guessing that Google is getting angry when you make too many unauthenticated requests all at once. Reading down slightly more in the README describes how to write an exception handler that would tell you what&#39;s going on."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1505333018, "post_id": 46205491, "comment_id": 79375206, "body": "Print the exception, rather than a fixed string"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1505334601, "post_id": 46205491, "comment_id": 79376004, "body": "If it&#39;s a system thing, you may need to include more information like your OS and it&#39;s version, Python version/build, and versions of requests, grequests, urllib3, PyOpenSSL (if installed). Sounds more like a bug report then..."}, {"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 3, "creation_date": 1512668255, "post_id": 46205491, "comment_id": 82361393, "body": "you could try to limit gevent concurrency with <code>grequests.map(rs, size=2)</code>"}, {"owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "edited": false, "score": 5, "creation_date": 1512670166, "post_id": 46205491, "comment_id": 82362337, "body": "I see this comment on the <a href=\"https://github.com/kennethreitz/grequests\" rel=\"nofollow noreferrer\">github site</a>: &quot;<b>Note</b>: You should probably use requests-threads or requests-futures instead.&quot; Also, the last code update appears to be 2 years ago."}, {"owner": {"reputation": 1528, "user_id": 6018688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60df8988ceec040b874007ecfd2867cb?s=128&d=identicon&r=PG&f=1", "display_name": "fabianegli", "link": "https://stackoverflow.com/users/6018688/fabianegli"}, "edited": false, "score": 0, "creation_date": 1512677512, "post_id": 46205491, "comment_id": 82366130, "body": "It might be related to the <code>htts</code> part of the query; meaning the 3DES/TLS secure(d) connection can&#39;t be established. This blog post mentions this connection type to be insecure for bulk transfer and prolonged connections, which your map call might be. <a href=\"https://lukasa.co.uk/2017/02/Configuring_TLS_With_Requests/\" rel=\"nofollow noreferrer\">lukasa.co.uk/2017/02/Configuring_TLS_With_Requests</a>"}, {"owner": {"reputation": 158, "user_id": 6195590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7602d44e4f01341ee33458c9a0ee62b3?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob", "link": "https://stackoverflow.com/users/6195590/jakob"}, "edited": false, "score": 0, "creation_date": 1513263428, "post_id": 46205491, "comment_id": 82594043, "body": "Based on the use case u mentioned I would use Scrapy (www.scrapy.org). With it you can write A web crawler in a simple manner. You can checkout my amazoncrawler here as an example: <a href=\"https://github.com/Kitzi/crawler\" rel=\"nofollow noreferrer\">github.com/Kitzi/crawler</a>    Scrapy is also Python-based so you will receive quick results"}], "answers": [{"tags": [], "owner": {"reputation": 1528, "user_id": 6018688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60df8988ceec040b874007ecfd2867cb?s=128&d=identicon&r=PG&f=1", "display_name": "fabianegli", "link": "https://stackoverflow.com/users/6018688/fabianegli"}, "is_accepted": false, "score": 5, "last_activity_date": 1512676237, "last_edit_date": 1512676237, "creation_date": 1512675897, "answer_id": 47702652, "question_id": 46205491, "link": "https://stackoverflow.com/questions/46205491/understanding-requests-versus-grequests/47702652#47702652", "title": "Understanding requests versus grequests", "body": "<p>I do not know the exact reason for the observed behavior with <code>.map()</code>. However, using the <code>.imap()</code> function with <code>size=1</code> always returned a 'Response 200' for my few minutes testing. Here is the code snipet:</p>\n\n<pre><code>rs = (grequests.get(u) for u in [BASE.format(t) for t in tickers])\nrsm_iterator = grequests.imap(rs, exception_handler=exception_handler, size=1)\nrsm_list = [r for r in rsm_iterator]\nprint(rsm_list)\n</code></pre>\n\n<p>And if you don't want to wait for all requests to finish before working on their answers, you can do this like so:</p>\n\n<pre><code>rs = (grequests.get(u) for u in [BASE.format(t) for t in tickers])\nrsm_iterator = grequests.imap(rs, exception_handler=exception_handler, size=1)\nfor r in rsm_iterator:\n    print(r)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1151, "user_id": 4391814, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zFahK2meiGE/AAAAAAAAAAI/AAAAAAAAAWA/Nar58WAcl2I/photo.jpg?sz=128", "display_name": "advance512", "link": "https://stackoverflow.com/users/4391814/advance512"}, "edited": false, "score": 0, "creation_date": 1592432699, "post_id": 47808868, "comment_id": 110427624, "body": "What does &quot;too fast&quot; mean? Where is the bottleneck, what is the limitation? Is it measurable or can it be optimized for? Why do you figure size=10 is optimal for your machine, and how do you find the value on other machines?"}, {"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "reply_to_user": {"reputation": 1151, "user_id": 4391814, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zFahK2meiGE/AAAAAAAAAAI/AAAAAAAAAWA/Nar58WAcl2I/photo.jpg?sz=128", "display_name": "advance512", "link": "https://stackoverflow.com/users/4391814/advance512"}, "edited": false, "score": 0, "creation_date": 1592439876, "post_id": 47808868, "comment_id": 110429553, "body": "The &quot;fast&quot; is to the server, the server doesn&#39;t want to accept so many requests from one client as it will crash the server. You reduce the speed to show respect to the server, so the server is happy to serve you."}], "tags": [], "owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "is_accepted": true, "score": 7, "last_activity_date": 1513299689, "last_edit_date": 1513299689, "creation_date": 1513240008, "answer_id": 47808868, "question_id": 46205491, "link": "https://stackoverflow.com/questions/46205491/understanding-requests-versus-grequests/47808868#47808868", "title": "Understanding requests versus grequests", "body": "<p>You are just sending requests too fast. As <code>grequests</code> is an async lib, all of these requests are almost sent simultaneously. They are too many.</p>\n\n<p>You just need to limit the concurrent tasks by <code>grequests.map(rs, size=your_choice)</code>, I have tested <code>grequests.map(rs, size=10)</code> and it works well. </p>\n"}], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5263, "favorite_count": 4, "accepted_answer_id": 47808868, "answer_count": 2, "score": 11, "last_activity_date": 1513299689, "creation_date": 1505331036, "last_edit_date": 1512667336, "question_id": 46205491, "link": "https://stackoverflow.com/questions/46205491/understanding-requests-versus-grequests", "title": "Understanding requests versus grequests", "body": "<p>I'm working with a process which is basically as follows:</p>\n\n<ol>\n<li>Take some list of urls.</li>\n<li>Get a <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#make-a-request\" rel=\"noreferrer\"><code>Response</code></a> object from each.</li>\n<li>Create a BeautifulSoup object from the <code>text</code> of each Response.</li>\n<li>Pull the text of a certain tag from that BeautifulSoup object.</li>\n</ol>\n\n<p>From my understanding, this seems ideal for <a href=\"https://pypi.python.org/pypi/grequests\" rel=\"noreferrer\">grequests</a>:</p>\n\n<blockquote>\n  <p>GRequests allows you to use Requests with Gevent to make asynchronous\n  HTTP Requests easily.</p>\n</blockquote>\n\n<p>But yet, the two processes (one with requests, one with grequests) seem to be getting me different results, with some of the requests in grequests returning <code>None</code> rather than a response.</p>\n\n<h3>Using requests</h3>\n\n<pre><code>import requests\n\ntickers = [\n    'A', 'AAL', 'AAP', 'AAPL', 'ABBV', 'ABC', 'ABT', 'ACN', 'ADBE', 'ADI', \n    'ADM',  'ADP', 'ADS', 'ADSK', 'AEE', 'AEP', 'AES', 'AET', 'AFL', 'AGN', \n    'AIG', 'AIV', 'AIZ', 'AJG', 'AKAM', 'ALB', 'ALGN', 'ALK', 'ALL', 'ALLE',\n    ]\n\nBASE = 'https://finance.google.com/finance?q={}'\n\nrs = (requests.get(u) for u in [BASE.format(t) for t in tickers])\nrs = list(rs)\n\nrs\n# [&lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # ...\n # &lt;Response [200]&gt;]\n\n# All are okay (status_code == 200)\n</code></pre>\n\n<h3>Using grequests</h3>\n\n<pre><code># Restarted my interpreter and redefined `tickers` and `BASE`\nimport grequests\n\nrs = (grequests.get(u) for u in [BASE.format(t) for t in tickers])\nrs = grequests.map(rs)\n\nrs\n# [None,\n # &lt;Response [200]&gt;,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # None,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;,\n # &lt;Response [200]&gt;]\n</code></pre>\n\n<p><strong>Why the difference in results?</strong></p>\n\n<p>Update: I can print the exception type as follows.  Related discussion <a href=\"https://github.com/requests/requests/issues/2022\" rel=\"noreferrer\">here</a> but I have no idea what's going on.</p>\n\n<pre><code>def exception_handler(request, exception):\n    print(exception)\n\nrs = grequests.map(rs, exception_handler=exception_handler)\n\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n# (\"bad handshake: SysCallError(-1, 'Unexpected EOF')\",)\n</code></pre>\n\n<h3>System/version info</h3>\n\n<ul>\n<li>requests: 2.18.4</li>\n<li>grequests: 0.3.0</li>\n<li>Python: 3.6.3</li>\n<li>urllib3: 1.22</li>\n<li>pyopenssl: 17.2.0</li>\n<li>All via Anaconda</li>\n<li>System: same issue on both Mac OSX HS &amp; Windows 10, build 10.0.16299</li>\n</ul>\n"}, {"tags": ["python", "flask", "python-importlib"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1505331338, "post_id": 46205467, "comment_id": 79374369, "body": "Is <code>formmodules</code> a subdirectory of <code>cas</code> or not?"}, {"owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1505331407, "post_id": 46205467, "comment_id": 79374401, "body": "yes, formodules is a subdirectory of cas"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "edited": false, "score": 1, "creation_date": 1505333358, "post_id": 46205767, "comment_id": 79375363, "body": "I almost missed the leading period. Works great!"}], "tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": true, "score": 10, "last_activity_date": 1505335468, "last_edit_date": 1505335468, "creation_date": 1505332232, "answer_id": 46205767, "question_id": 46205467, "link": "https://stackoverflow.com/questions/46205467/python-importlib-no-module-named/46205767#46205767", "title": "python importlib no module named", "body": "<p>This is one of the classical relative vs absolute import problems.</p>\n\n<p><code>formmodules</code> only exists relative to <code>cas</code>, but <code>import_module</code> does an absolute import (as with <a href=\"https://www.python.org/dev/peps/pep-0328/\" rel=\"noreferrer\"><code>from __future__ import absolute_imports</code></a>). Since <code>formmodules</code> cannot be found via <code>sys.path</code>, the import fails.</p>\n\n<p>One way to fix this is to use a <a href=\"https://docs.python.org/2/library/importlib.html#module-importlib\" rel=\"noreferrer\">relative import</a>.</p>\n\n<blockquote>\n  <p>If the name is specified in relative terms, then the package argument must be specified to the package which is to act as the anchor for resolving the package name.</p>\n</blockquote>\n\n<p>You might want to try with:</p>\n\n<pre><code>module = importlib.import_module('.formmodules.' + my_module, package=__package__)\n</code></pre>\n\n<p>Note the <code>.</code>.</p>\n\n<p>The other option is to muck about with <code>sys.path</code>, which really isn't necessary, here.</p>\n"}], "owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9061, "favorite_count": 1, "accepted_answer_id": 46205767, "answer_count": 1, "score": 9, "last_activity_date": 1505335468, "creation_date": 1505330954, "last_edit_date": 1505332000, "question_id": 46205467, "link": "https://stackoverflow.com/questions/46205467/python-importlib-no-module-named", "title": "python importlib no module named", "body": "<p>I am using flask and have the following structure</p>\n\n<pre><code>&lt;root&gt;\nmanage_server.py\ncas &lt;directory&gt;\n--- __init__.py\n--- routes.py\n--- models.py\n--- templates &lt;directory&gt;\n--- static &lt;directory&gt;\n--- formmodules &lt;directory&gt;\n------ __init__.py\n------ BaseFormModule.py\n------ Interview.py\n</code></pre>\n\n<p>In routes.py, I'm trying to create an instance of the Interview class in the Interview module, like so</p>\n\n<pre><code>my_module = \"Interview\"\nmodule = importlib.import_module('formmodules.\"+my_module)\n</code></pre>\n\n<p>I get an error here that says</p>\n\n<pre><code>ImportError: No module named formmodules.Interview\n</code></pre>\n\n<p>Some info about the init files:</p>\n\n<pre><code>/cas/formmodules/__init__.py is empty\n/cas/__init__.py is where I initialize my flask app. \n</code></pre>\n\n<p>Let me know if it is helpful to know the contents of any of these files.</p>\n"}, {"tags": ["python", "vba", "powerpoint", "python-pptx"], "comments": [{"owner": {"reputation": 12482, "user_id": 1667023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXaUt.png?s=128&g=1", "display_name": "Steve Rindsberg", "link": "https://stackoverflow.com/users/1667023/steve-rindsberg"}, "edited": false, "score": 0, "creation_date": 1505355612, "post_id": 46205450, "comment_id": 79382218, "body": "&quot;I don&#39;t want to use VBA because (as far as I understand) I would have to open each presentation to run the script.&quot;  Each presentation would need to be opened in PPT in order for VBA to do any good, but the VBA in one presentation or add-in could automate the work of opening each presentation in a list or in a folder and doing whatever&#39;s needed, then saving and closing it before moving on to the next presentation."}, {"owner": {"reputation": 3, "user_id": 3520190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc26f49d98a5e342da31a7e3a2642ee?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Lide", "link": "https://stackoverflow.com/users/3520190/brad-lide"}, "reply_to_user": {"reputation": 12482, "user_id": 1667023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXaUt.png?s=128&g=1", "display_name": "Steve Rindsberg", "link": "https://stackoverflow.com/users/1667023/steve-rindsberg"}, "edited": false, "score": 0, "creation_date": 1505450540, "post_id": 46205450, "comment_id": 79427034, "body": "That&#39;s a really interesting idea. I&#39;ll have to take a look into that. Any way you could point me in the direction of a good source for inexperienced-friendly documentation?  Thanks again!"}, {"owner": {"reputation": 12482, "user_id": 1667023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXaUt.png?s=128&g=1", "display_name": "Steve Rindsberg", "link": "https://stackoverflow.com/users/1667023/steve-rindsberg"}, "edited": false, "score": 0, "creation_date": 1505488191, "post_id": 46205450, "comment_id": 79449257, "body": "There&#39;s a section on PowerPoint programming in the PPT FAQ site that I maintain here:  <a href=\"http://www.pptfaq.com/index.html#name_PROGRAMMING_POWERPOINT\" rel=\"nofollow noreferrer\">pptfaq.com/index.html#name_PROGRAMMING_POWERPOINT</a>  Lots of examples and links to other sites on the subject.  This entry might be useful for your project:  <a href=\"http://www.pptfaq.com/FAQ00536_Batch-_Do_something_to_every_file_in_a_folder.htm\" rel=\"nofollow noreferrer\">pptfaq.com/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 3520190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc26f49d98a5e342da31a7e3a2642ee?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Lide", "link": "https://stackoverflow.com/users/3520190/brad-lide"}, "reply_to_user": {"reputation": 12482, "user_id": 1667023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXaUt.png?s=128&g=1", "display_name": "Steve Rindsberg", "link": "https://stackoverflow.com/users/1667023/steve-rindsberg"}, "edited": false, "score": 0, "creation_date": 1507135661, "post_id": 46205450, "comment_id": 80093938, "body": "Better late than never, thanks so much for your guidance. We ended up grabbing a team to workhorse it manually, but I learned a lot using those resources and have them in my toolbelt for the future when a project may not be so time sensitive. Thanks again."}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 5918696, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-t_Gmo6DSxrU/AAAAAAAAAAI/AAAAAAAAYqk/E-zNA4NlF4Y/photo.jpg?sz=128", "display_name": "Statham", "link": "https://stackoverflow.com/users/5918696/statham"}, "is_accepted": false, "score": -2, "last_activity_date": 1510146497, "creation_date": 1510146497, "answer_id": 47180580, "question_id": 46205450, "link": "https://stackoverflow.com/questions/46205450/how-can-i-combine-two-presentations-pptx-into-one-master-presentation/47180580#47180580", "title": "How can I combine two presentations (pptx) into one master presentation?", "body": "<p>A free tool called \"powerpoint join\" can help you.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12028642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b95c36ca55c381981ba2f59604b1f6?s=128&d=identicon&r=PG&f=1", "display_name": "Zeynel", "link": "https://stackoverflow.com/users/12028642/zeynel"}, "is_accepted": false, "score": 0, "last_activity_date": 1616442750, "last_edit_date": 1616442750, "creation_date": 1616438309, "answer_id": 66752002, "question_id": 46205450, "link": "https://stackoverflow.com/questions/46205450/how-can-i-combine-two-presentations-pptx-into-one-master-presentation/66752002#66752002", "title": "How can I combine two presentations (pptx) into one master presentation?", "body": "<p>I was able to achieve this by using python and win32com.client. However, this doesn't work quietly. What I mean is that it launches Microsoft PowerPoint and opens input files one by one, then copies all slides from an input file and pastes them to an output file in a loop.</p>\n<pre><code>import win32com.client\nfrom os import walk\n\ndef mergePresentations(inputFileNames, outputFileName):\n\n    Application = win32com.client.Dispatch(&quot;PowerPoint.Application&quot;)\n    outputPresentation = Application.Presentations.Add() \n    outputPresentation.SaveAs(outputFileName)\n\n    for file in inputFileNames:    \n        currentPresentation = Application.Presentations.Open(file)\n        currentPresentation.Slides.Range(range(1, currentPresentation.Slides.Count+1)).copy()\n        Application.Presentations(outputFileName).Windows(1).Activate()    \n        outputPresentation.Application.CommandBars.ExecuteMso(&quot;PasteSourceFormatting&quot;)    \n        currentPresentation.Close()\n\n    outputPresentation.save()\n    outputPresentation.close()\n    Application.Quit()\n\n# Example; let's say you have a folder of presentations that need to be merged \n#           to new file named &quot;allSildesMerged.pptx&quot; in the same folder\n\npath,_,files = next(walk('C:\\\\Users\\\\..\\\\..\\\\myFolder'))\noutputFileName = path + '\\\\' + 'allSildesMerged.pptx'\n\ninputFiles = []\nfor file in files:\n    inputFiles.append(path + '\\\\' + file)\n\nmergePresentations(inputFiles, outputFileName)\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 788, "user_id": 1368028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e017baa4172d33fae9847507e5b7e96?s=128&d=identicon&r=PG", "display_name": "Tilal Ahmad", "link": "https://stackoverflow.com/users/1368028/tilal-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1618602510, "creation_date": 1618602510, "answer_id": 67131380, "question_id": 46205450, "link": "https://stackoverflow.com/questions/46205450/how-can-i-combine-two-presentations-pptx-into-one-master-presentation/67131380#67131380", "title": "How can I combine two presentations (pptx) into one master presentation?", "body": "<p>The <a href=\"https://products.groupdocs.cloud/merger\" rel=\"nofollow noreferrer\">GroupDocs.Merger REST API</a> is also another option to merge multiple PowerPoint presentations into a single document. It is paid API but provides 150 monthly free API calls.</p>\n<p>Currently, it supports working with cloud providers: Amazon S3, DropBox, Google Drive Storage, Google Cloud Storage, Windows Azure Storage, FTP Storage along with GroupDocs internal Cloud Storage. However, in near future, it has a plan to support merge files from the request body(stream).</p>\n<p>P.S: I'm developer evangelist at GroupDocs.</p>\n<pre><code># For complete examples and data files, please go to https://github.com/groupdocs-merger-cloud/groupdocs-merger-cloud-python-samples\n# Get Client ID and Client Secret from https://dashboard.groupdocs.cloud\nclient_id = &quot;XXXX-XXXX-XXXX-XXXX&quot; \nclient_secret = &quot;XXXXXXXXXXXXXXXX&quot;\n  \ndocumentApi = groupdocs_merger_cloud.DocumentApi.from_keys(client_id, client_secret)\n \nitem1 = groupdocs_merger_cloud.JoinItem()\nitem1.file_info = groupdocs_merger_cloud.FileInfo(&quot;four-slides.pptx&quot;)\nitem2 = groupdocs_merger_cloud.JoinItem()\nitem2.file_info = groupdocs_merger_cloud.FileInfo(&quot;one-slide.docx&quot;)\n \noptions = groupdocs_merger_cloud.JoinOptions()\noptions.join_items = [item1, item2]\noptions.output_path = &quot;Output/joined.pptx&quot;\n \nresult = documentApi.join(groupdocs_merger_cloud.JoinRequest(options))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3520190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc26f49d98a5e342da31a7e3a2642ee?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Lide", "link": "https://stackoverflow.com/users/3520190/brad-lide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2606, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1618602510, "creation_date": 1505330875, "question_id": 46205450, "link": "https://stackoverflow.com/questions/46205450/how-can-i-combine-two-presentations-pptx-into-one-master-presentation", "title": "How can I combine two presentations (pptx) into one master presentation?", "body": "<p>I'm part of a project team that created PPTX presentations to present to clients. After creating all of the files, we need to add additional slides to each presentation. All of the new slides will be the same across the each presentation.</p>\n\n<p>What is the best way to accomplish this programmatically?</p>\n\n<p>I don't want to use VBA because (as far as I understand) I would have to open each presentation to run the script.</p>\n\n<p>I've tried using the python-pptx library. But the documentation states: </p>\n\n<p>\"Copying a slide from one presentation to another turns out to be pretty hard to get right in the general case, so that probably won\u2019t come until more of the backlog is burned down.\"</p>\n\n<p>I was hoping something like the following would work -</p>\n\n<pre><code>from pptx import Presentation\n\nmain = Presentation('Universal.pptx')\nabc = Presentation('Test1.pptx')\n\nmain_slides = main.slides.get(1)\nabc_slides = abc.slides.get(1)\n\nfull = main.slides.add_slide(abc_slides[1])\n\nfull.save('Full.pptx')\n</code></pre>\n\n<p>Has anyone had success do anything like that?</p>\n"}, {"tags": ["python", "json", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1505332320, "post_id": 46205399, "comment_id": 79374842, "body": "can you post a sample data set in text/CSV form, so we could copy and paste it?"}, {"owner": {"reputation": 3322, "user_id": 3972769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FlScV.jpg?s=128&g=1", "display_name": "Bendy", "link": "https://stackoverflow.com/users/3972769/bendy"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1505333857, "post_id": 46205399, "comment_id": 79375649, "body": "@MaxU - I&#39;ve updated the start of the question with my input dummy DataFrame - thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "reply_to_user": {"reputation": 3322, "user_id": 3972769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FlScV.jpg?s=128&g=1", "display_name": "Bendy", "link": "https://stackoverflow.com/users/3972769/bendy"}, "edited": false, "score": 0, "creation_date": 1505725413, "post_id": 46274275, "comment_id": 79513413, "body": "I got the nested_dict method from <a href=\"https://stackoverflow.com/a/36299615/1562285\">this SO-post</a>. Apparently it can be even <a href=\"https://stackoverflow.com/a/8702435/1562285\">shorter</a> <code>nested_dict = lambda: defaultdict(nested_dict)</code>"}, {"owner": {"reputation": 578, "user_id": 1696605, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/SqAxs.jpg?s=128&g=1", "display_name": "Shankar Panda", "link": "https://stackoverflow.com/users/1696605/shankar-panda"}, "edited": false, "score": 0, "creation_date": 1543295810, "post_id": 46274275, "comment_id": 93855946, "body": "Could you please help me on this question. I am consfused as how to achieve that. <a href=\"https://stackoverflow.com/questions/53477724/pyspark-how-to-create-a-nested-json-from-spark-data-frame\" title=\"pyspark how to create a nested json from spark data frame\">stackoverflow.com/questions/53477724/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "is_accepted": true, "score": 8, "last_activity_date": 1505721399, "creation_date": 1505721399, "answer_id": 46274275, "question_id": 46205399, "link": "https://stackoverflow.com/questions/46205399/how-to-generate-n-level-hierarchical-json-from-pandas-dataframe/46274275#46274275", "title": "How to generate n-level hierarchical JSON from pandas DataFrame?", "body": "<p>You can use itertuples to generate a nested <code>dict</code>, and then dump to <code>json</code>. To do this, you need to change the date timestamp to <code>string</code></p>\n\n<pre><code>df4=df3.stack(level=[0,1,2]).reset_index() \ndf4['Date'] = df4['Date'].dt.strftime('%Y-%m-%d')\ndf4 = df4.set_index(['Date','Job Role','Department','Team']) \\\n    .sort_index()\n</code></pre>\n\n<p>create the nested dict</p>\n\n<pre><code>def nested_dict():\n    return collections.defaultdict(nested_dict)\nresult = nested_dict()\n</code></pre>\n\n<p>Use <code>itertuples</code> to populate it</p>\n\n<pre><code>for row in df4.itertuples():\n    result[row.Index[0]][row.Index[1]][row.Index[2]][row.Index[3]]['sales'] = row._1\n    # print(row)\n</code></pre>\n\n<p>and then use the <code>json</code> module to dump it.</p>\n\n<pre><code>import json\njson.dumps(result)\n</code></pre>\n\n<blockquote>\n  <p>'{\"2017-12-31\": {\"Junior\": {\"Electronics\": {\"A\": {\"sales\": -0.3947134370101142}, \"B\": {\"sales\": -0.9873530754403204}, \"C\": {\"sales\": -1.1182598058984508}}, \"Household\": {\"A\": {\"sales\": -1.1211850078098677}, \"B\": {\"sales\": 2.0330914483907847}, \"C\": {\"sales\": 3.94762379718749}}}, \"Senior\": {\"Electronics\": {\"A\": {\"sales\": 1.4528493451404196}, \"B\": {\"sales\": -2.3277322345261005}, \"C\": {\"sales\": -2.8040263791743922}}, \"Household\": {\"A\": {\"sales\": 3.0972591929279663}, \"B\": {\"sales\": 9.884565742502392}, \"C\": {\"sales\": 2.9359830722457576}}}}, \"2018-01-31\": {\"Junior\": {\"Electronics\": {\"A\": {\"sales\": -1.3580300149125217}, \"B\": {\"sales\": 1.414665000013205}, \"C\": {\"sales\": -1.432795129108244}}, \"Household\": {\"A\": {\"sales\": 2.7783259569115346}, \"B\": {\"sales\": 2.717700275321333}, \"C\": {\"sales\": 1.4358377416259644}}}, \"Senior\": {\"Electronics\": {\"A\": {\"sales\": 2.8981726774941485}, \"B\": {\"sales\": 12.022897003654117}, \"C\": {\"sales\": 0.01776855733076088}}, \"Household\": {\"A\": {\"sales\": -3.342163776613092}, \"B\": {\"sales\": -5.283208386572307}, \"C\": {\"sales\": 2.942580121975619}}}}}'</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2201, "user_id": 3521179, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03e5137ca08082f2d28fe28ec0a7745b?s=128&d=identicon&r=PG", "display_name": "Nolan Conaway", "link": "https://stackoverflow.com/users/3521179/nolan-conaway"}, "is_accepted": false, "score": 3, "last_activity_date": 1536162280, "creation_date": 1536162280, "answer_id": 52189044, "question_id": 46205399, "link": "https://stackoverflow.com/questions/46205399/how-to-generate-n-level-hierarchical-json-from-pandas-dataframe/52189044#52189044", "title": "How to generate n-level hierarchical JSON from pandas DataFrame?", "body": "<p>I ran into this and was confused by the complexity of the OP's setup. Here is a minimal example and solution (based on the answer provided by @Maarten Fabr\u00e9).</p>\n\n<pre><code>import collections\nimport pandas as pd\n\n# build init DF\nx = ['a', 'a']\ny = ['b', 'c']\nz = [['d'], ['e', 'f']]\ndf = pd.DataFrame(list(zip(x, y, z)), columns=['x', 'y', 'z'])\n\n#    x  y       z\n# 0  a  b     [d]\n# 1  a  c  [e, f]\n</code></pre>\n\n<p>Set up the the regular, flat, index, and then make that a multi index</p>\n\n<pre><code># set flat index\ndf = df.set_index(['x', 'y'])\n\n# set up multi index\ndf = df.reindex(pd.MultiIndex.from_tuples(zip(x, y)))      \n\n#           z\n# a b     [d]\n#   c  [e, f]\n</code></pre>\n\n<p>Then init a nested dictionary, and fill it out item-by-item</p>\n\n<pre><code>nested_dict = collections.defaultdict(dict)\n\nfor keys, value in df.z.iteritems():\n    nested_dict[keys[0]][keys[1]] = value\n\n# defaultdict(dict, {'a': {'b': ['d'], 'c': ['e', 'f']}})\n</code></pre>\n\n<p>At this point you can JSON dump it, etc.</p>\n"}], "owner": {"reputation": 3322, "user_id": 3972769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FlScV.jpg?s=128&g=1", "display_name": "Bendy", "link": "https://stackoverflow.com/users/3972769/bendy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6380, "favorite_count": 8, "accepted_answer_id": 46274275, "answer_count": 2, "score": 13, "last_activity_date": 1536162280, "creation_date": 1505330707, "last_edit_date": 1505719521, "question_id": 46205399, "link": "https://stackoverflow.com/questions/46205399/how-to-generate-n-level-hierarchical-json-from-pandas-dataframe", "title": "How to generate n-level hierarchical JSON from pandas DataFrame?", "body": "<p>Is there an efficient way to create hierarchical JSON (n-levels deep) where the parent values are the keys and not the variable label? i.e:</p>\n\n<pre><code>{\"2017-12-31\":\n    {\"Junior\":\n        {\"Electronics\":\n            {\"A\":\n                {\"sales\": 0.440755\n                }\n            },\n            {\"B\":\n                {\"sales\": -3.230951\n                }\n            }\n        }, ...etc...\n    }, ...etc...\n}, ...etc... \n</code></pre>\n\n<hr>\n\n<p><strong>1. My testing DataFrame:</strong></p>\n\n<pre><code>colIndex=pd.MultiIndex.from_product([['New York','Paris'],\n                                     ['Electronics','Household'],\n                                     ['A','B','C'],\n                                     ['Junior','Senior']],\n                               names=['City','Department','Team','Job Role'])\n\nrowIndex=pd.date_range('25-12-2017',periods=12,freq='D')\n\ndf1=pd.DataFrame(np.random.randn(12, 24), index=rowIndex, columns=colIndex)\ndf1.index.name='Date'\ndf2=df1.resample('M').sum()\ndf3=df2.stack(level=0).groupby('Date').sum()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/F8CSK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F8CSK.png\" alt=\"Source DataFrame\"></a></p>\n\n<hr>\n\n<p><strong>2. Transformation I'm making as it seems to be the most logical structure to build the JSON from:</strong></p>\n\n<pre><code>df4=df3.stack(level=[0,1,2]).reset_index() \\\n    .set_index(['Date','Job Role','Department','Team']) \\\n    .sort_index()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/is3RK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/is3RK.png\" alt=\"Transformed DataFrame\"></a></p>\n\n<hr>\n\n<p><strong>3. My attempts-so-far</strong></p>\n\n<p>I came across this <a href=\"https://stackoverflow.com/a/40490276/3972769\">very helpful SO question</a> which solves the problem for one level of nesting using code along the lines of:</p>\n\n<pre><code>j =(df.groupby(['ID','Location','Country','Latitude','Longitude'],as_index=False) \\\n    .apply(lambda x: x[['timestamp','tide']].to_dict('r'))\\\n    .reset_index()\\\n    .rename(columns={0:'Tide-Data'})\\\n    .to_json(orient='records'))\n</code></pre>\n\n<p>...but I can't find a way to get nested <code>.groupby()</code>s working:</p>\n\n<pre><code>j=(df.groupby('date', as_index=True).apply(\n    lambda x: x.groupby('Job Role', as_index=True).apply(\n        lambda x: x.groupby('Department', as_index=True).apply(\n            lambda x: x.groupby('Team', as_index=True).to_dict())))  \\\n                .reset_index().rename(columns={0:'sales'}).to_json(orient='records'))\n</code></pre>\n"}, {"tags": ["python", "multithreading", "web-scraping", "multiprocessing"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1505331044, "post_id": 46205279, "comment_id": 79374188, "body": "Scrapy, Splash, Frontera"}], "answers": [{"tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": false, "score": 1, "last_activity_date": 1505330799, "creation_date": 1505330799, "answer_id": 46205430, "question_id": 46205279, "link": "https://stackoverflow.com/questions/46205279/python-web-scraping-performance/46205430#46205430", "title": "Python &amp; web scraping performance", "body": "<p>\"evaluating js on the webpage is a requirement\" &lt;- I think this is your problem right here.  Simply downloading 50 web pages is fairly trivially parallelized and should only take as long as the slowest server takes to respond.\nNow, spawning 50 javascript engines in parallel (which is essentially what I guess it is you are doing) to run the scripts on every page is a different matter. Imagine firing up 50 chrome browsers at the same time.</p>\n\n<p>Anyway: <em>profile and measure the parts of your application</em> to find where the bottleneck lies.  Only then you can see if you're dealing with an I/O bottleneck (sounds unlikely), a CPU bottleneck (more likely) or a global lock somewhere that serializes stuff (also likely but impossible to say without any code posted)</p>\n"}], "owner": {"reputation": 1, "user_id": 8605217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef798c6c44a0b53d9879d18593dfa48d?s=128&d=identicon&r=PG&f=1", "display_name": "ravenhearth", "link": "https://stackoverflow.com/users/8605217/ravenhearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1505330823, "creation_date": 1505330223, "last_edit_date": 1505330575, "question_id": 46205279, "link": "https://stackoverflow.com/questions/46205279/python-web-scraping-performance", "title": "Python &amp; web scraping performance", "body": "<p>I am trying to do some python based web scraping where execution time is pretty critical.</p>\n\n<p>I've tried phantomjs, selenium, and pyqt4 now, and all three libraries have given me similar response times. I'd post example code, but my problem affects all three, so I believe the problem either lies in a shared dependency or outside of my code. At around 50 concurrent requests, we see a huge desegregation in response time. It takes about 40 seconds to get back all 50 pages, and that time gets exponentially slower with greater page demands. Ideally I'm looking for ~200+ requests in about 10 seconds. I used multiprocessing to spawn each instance of phantonjs/pyqt4/selenium, so each url request gets it's own instance so that I'm not blocked by single threading.</p>\n\n<p>I don't believe it's a hardware bottleneck, it's running on 32 dedicated cpu cores, totaling to 64 threads, and cpu usage doesn't typically spike to over 10-12%. Bandwidth as well sits reasonably comfortably at around 40-50% of my total throughput.</p>\n\n<p>I've read about the GIL, which I believe I've addressed with using multiprocessing. Is webscraping just an inherently slow thing? Should I stop expecting to pull 200ish webpages in ~10 seconds?</p>\n\n<p>My overall question is, what is the best approach to high performance web scraping, where evaluating js on the webpage is a requirement?</p>\n"}]