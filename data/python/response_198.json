[{"tags": ["python", "python-3.x", "multiprocessing"], "comments": [{"owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1540426171, "post_id": 52979502, "comment_id": 92865527, "body": "Probably the process killed is doing something that it shouldn&#39;t do. But there&#39;s no way of knowing <b>until you post the code</b> of your workers/<code>process_event_thread</code>. Btw, dict comprehension is not necessary in your code (you could use a list or set); but that&#39;s not causing the problems you&#39;re seeing."}, {"owner": {"reputation": 19, "user_id": 8244896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06d78e63b0cc566359d41a749d0762c3?s=128&d=identicon&r=PG", "display_name": "Kevin Wells", "link": "https://stackoverflow.com/users/8244896/kevin-wells"}, "reply_to_user": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1540519412, "post_id": 52979502, "comment_id": 92905314, "body": "Thanks for the pointer.  I posted the worker code, but it&#39;s not reasonable to post all of the code / files backing that.  Thanks for your help."}], "owner": {"reputation": 19, "user_id": 8244896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06d78e63b0cc566359d41a749d0762c3?s=128&d=identicon&r=PG", "display_name": "Kevin Wells", "link": "https://stackoverflow.com/users/8244896/kevin-wells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2825, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540520380, "creation_date": 1540425550, "last_edit_date": 1540520380, "question_id": 52979502, "link": "https://stackoverflow.com/questions/52979502/concurrent-futures-a-process-in-the-process-pool-was-terminated-abruptly-while", "title": "concurrent.futures: &quot;A process in the process pool was terminated abruptly while the future was running or pending.&quot;", "body": "<p>While using the Python 3.6 <code>concurrent</code> package, I am getting these on some processes errors seemingly randomly:</p>\n\n<p><code>Thread generated an exception: A process in the process pool was terminated abruptly while the future was running or pending.</code></p>\n\n<p>My dispatch code is as follows:</p>\n\n<pre><code>ks_par = []\nwith concurrent.futures.ProcessPoolExecutor(max_workers=pool_size) as executor:\n    future_histogram = {executor.submit(process_event_thread, fname, ix, indices[ix], bn_arr): ix for ix in range(index, index + min(pool_size, remaining_events))}\n    for future in concurrent.futures.as_completed(future_histogram):\n        try:\n            data = future.result()\n        except Exception as exc:\n            print('Thread generated an exception: %s' % (exc))\n        else:\n            ks_par.append(data)\n</code></pre>\n\n<p>And my worker code is:</p>\n\n<pre><code>def process_event_thread(fname, ix, i_idx, bn_arr):\n    with h5py.File(fname,'r') as f:\n        f_idx = f['idx_tr'][ix]\n        hit_pos = f['coord'][0,i_idx:f_idx,:]\n        means = f['coord'][1,i_idx:f_idx,:]\n        sigmas = f['sigma'][i_idx:f_idx]\n        r_lens = f['r_lens'][()]\n    n_ph = f_idx - i_idx\n    i_idx = f_idx\n    try:\n        tr_dist, er_dist = ia.new_track_dist(hit_pos, means, sigmas, False, r_lens)\n    except Exception as ex:\n        logger.info('Thread generated an exception: %s' % (ex))\n\n    err_dist = 1./np.asarray(er_dist)\n    hist = ia.make_hist(bn_arr, tr_dist, err_dist)\n    return hist\n</code></pre>\n\n<p>(There are many methods in <code>ia</code> and supporting modules, so it is not practical to post all of it.  And a short test case does not fail.)</p>\n\n<p>How can I debug this?</p>\n"}, {"tags": ["python", "variables", "merge"], "comments": [{"owner": {"reputation": 4171, "user_id": 4599824, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mEYh0.png?s=128&g=1", "display_name": "Fawzan", "link": "https://stackoverflow.com/users/4599824/fawzan"}, "edited": false, "score": 0, "creation_date": 1540425374, "post_id": 52979452, "comment_id": 92865351, "body": "Can you share the expected output for this?"}, {"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "reply_to_user": {"reputation": 4171, "user_id": 4599824, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mEYh0.png?s=128&g=1", "display_name": "Fawzan", "link": "https://stackoverflow.com/users/4599824/fawzan"}, "edited": false, "score": 0, "creation_date": 1540425422, "post_id": 52979452, "comment_id": 92865360, "body": "w1 = 2.06591917001"}, {"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "reply_to_user": {"reputation": 4171, "user_id": 4599824, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mEYh0.png?s=128&g=1", "display_name": "Fawzan", "link": "https://stackoverflow.com/users/4599824/fawzan"}, "edited": false, "score": 0, "creation_date": 1540425446, "post_id": 52979452, "comment_id": 92865369, "body": "I also tried str(count), but that doesn&#39;t work"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540428348, "post_id": 52979452, "comment_id": 92865949, "body": "The order of the contents of dictionaries wasn&#39;t maintained until Python 3.6\u2014so it looks like you&#39;re using a version earlier than that. In those use <a href=\"https://docs.python.org/3.5/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\"><code>collections.OrderedDict</code></a> instead (which will still order in the later versions)."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540426674, "post_id": 52979489, "comment_id": 92865617, "body": "I added something to my question, what relates to your awnser"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540428171, "post_id": 52979489, "comment_id": 92865915, "body": "dictionaries are unsorted... so yeah thats expected ... you can always count up in order and access the keys in order"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 0, "last_activity_date": 1540425450, "creation_date": 1540425450, "answer_id": 52979489, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value/52979489#52979489", "title": "Merge a string and integer to assign to a value", "body": "<p>you need to use a dictionary</p>\n\n<pre><code>data = {}\n\ncount = 1\ndata['w%s'%count] = 22\n\nprint(data)\n</code></pre>\n\n<p>if you really really want the variables not in a dictionary you can use the <code>locals()</code> or <code>globals()</code> dictionaries but i would not recommend it</p>\n\n<pre><code>globals()['w%s'%count] = 22\nprint(w1)\n</code></pre>\n\n<p>or if you feel like living really dangerously you could use exec (<strong>NOTE YOU SHOULD NOT DO THIS ... its a bad idea!!!</strong>)</p>\n\n<pre><code>exec(\"w%s = 23\"%count)\nprint(w1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 8691323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f97e831ee35878d2f0cffc3d84c4291?s=128&d=identicon&r=PG&f=1", "display_name": "jtwilson", "link": "https://stackoverflow.com/users/8691323/jtwilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1540425492, "creation_date": 1540425492, "answer_id": 52979493, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value/52979493#52979493", "title": "Merge a string and integer to assign to a value", "body": "<pre><code>'w' + count = np.random.randn()\n</code></pre>\n\n<p>you have an operator (+) on the assignment (left) side of the operation, which is forbidden in Python</p>\n"}, {"tags": [], "owner": {"reputation": 276, "user_id": 8895717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NRZT.jpg?s=128&g=1", "display_name": "Samantha Miller", "link": "https://stackoverflow.com/users/8895717/samantha-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1540425557, "creation_date": 1540425557, "answer_id": 52979505, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value/52979505#52979505", "title": "Merge a string and integer to assign to a value", "body": "<p>Your error comes from the fact that your <code>=</code> sign (assignment) is to the right of your plus sign (a basic arithmetic operator). You cannot assign values to something that you are performing an operation on.</p>\n\n<p>For example, if I were to try running the code</p>\n\n<pre><code>&gt;&gt;&gt; 'hello' + '123' = 'world'\n</code></pre>\n\n<p>I would get the same error error</p>\n\n<pre><code>  File \"&lt;stdin&gt;\", line 1\nSyntaxError: can't assign to operator\n</code></pre>\n\n<p>If you want to create variable names dynamically, like you have described (i.e. <code>w1</code>, <code>w2</code>, and so on), you may benefit from reading the answer to <a href=\"https://stackoverflow.com/questions/1373164/how-do-i-create-a-variable-number-of-variables\">this question</a>, as a data structure such as a dictionary is well-suited to storing information in this way.</p>\n"}, {"tags": [], "owner": {"reputation": 746, "user_id": 1449447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2923559d868a6734c328452957ab0f22?s=128&d=identicon&r=PG", "display_name": "Peritract", "link": "https://stackoverflow.com/users/1449447/peritract"}, "is_accepted": false, "score": 0, "last_activity_date": 1540425594, "creation_date": 1540425594, "answer_id": 52979508, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value/52979508#52979508", "title": "Merge a string and integer to assign to a value", "body": "<pre><code>'w' + count = np.random.randn()\n</code></pre>\n\n<p>That's your problem line. Python doesn't understand that you want to assign a value to the variable w1, it thinks you are trying to turn a value into a different value, which is impossible.</p>\n\n<p>What you are trying to do is perfectly logical, but it doesn't work - even if you create the string \"w1\", Python won't associate it with the variable of the same name.</p>\n\n<p>Your best bet is probably to use a dictionary with \"w1\" as a key. </p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8238381"}, "is_accepted": false, "score": 0, "last_activity_date": 1540425639, "creation_date": 1540425639, "answer_id": 52979514, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value/52979514#52979514", "title": "Merge a string and integer to assign to a value", "body": "<p>As far as I know what you are trying to do is not possible in python.  You could put each value in a list:</p>\n\n<pre><code>w = []\nfor I in range(10):\n    w.append(I * 22)\n</code></pre>\n\n<p>then w[0] would equal 0, w[1] would equal 22 and so on.\nor you could use a dictionary.  setting that up is very similar to the list option. </p>\n"}], "owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1540425758, "accepted_answer_id": 52979489, "answer_count": 5, "score": -2, "last_activity_date": 1540427844, "creation_date": 1540425218, "last_edit_date": 1540427844, "question_id": 52979452, "link": "https://stackoverflow.com/questions/52979452/merge-a-string-and-integer-to-assign-to-a-value", "closed_reason": "Duplicate", "title": "Merge a string and integer to assign to a value", "body": "<p>I have a little problem what I can't figure out by my own.<br>\nI have 200 values in an array. Each value needs a multiplier. So what I want was to assign each value to a string with a counter. So for example:</p>\n\n<pre><code>w1 = 22\nw2 = 44\nw3 = 42\nw4 = 78\n</code></pre>\n\n<p>So what I tried was:</p>\n\n<pre><code>count = 1\n'w' + count = np.random.randn()\n</code></pre>\n\n<p>But the error is: SyntaxError: can't assign to operator</p>\n\n<p>What am I doing wrong!?</p>\n\n<p>EDIT:\nAfter the first awnser of Joran Beasley, my code changed into this:</p>\n\n<pre><code>weights = {}\ncount = 1\n\nwhile (count &lt;= len(data[0])):\n\nweights['w%s'%count] = 0\ncount += 1\n\nprint(weights)\n</code></pre>\n\n<p>But when I print the data, I see a very strange order. Here is an sample of what I get:</p>\n\n<pre><code>{'w75': 0, 'w74': 0, 'w77': 0, 'w76': 0, 'w71': 0, 'w70': 0, 'w73': 0, 'w72': 0, 'w79': 0, 'w78': 0, 'w234': 0\n</code></pre>\n\n<p>As you can see, there are some numbers in the right order, but most of them are randomly placed. Is this normal?</p>\n"}, {"tags": ["python", "selenium", "firefox", "selenium-webdriver", "geckodriver"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540424506, "post_id": 52979337, "comment_id": 92865178, "body": "a 500 error indicates that the server(page) crashed trying to process your request.... it has nothing to do with selenium and we are not going to be able to help solve it without seeing the server log or at a minimum seeing your actual code (not your logfiles)"}, {"owner": {"reputation": 341, "user_id": 295174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf5b16fffbb8b4e877537ccd02644f3?s=128&d=identicon&r=PG", "display_name": "dabal", "link": "https://stackoverflow.com/users/295174/dabal"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1540424735, "post_id": 52979337, "comment_id": 92865222, "body": "but this is code (python snippet), which producess this error. This is on firefox initialization. this 500 error comes from selenium server. At this momemnt I even do any get driver.get stuff."}], "answers": [{"comments": [{"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1540483778, "post_id": 52982998, "comment_id": 92892531, "body": "you are only using Log() to store  string?"}, {"owner": {"reputation": 341, "user_id": 295174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf5b16fffbb8b4e877537ccd02644f3?s=128&d=identicon&r=PG", "display_name": "dabal", "link": "https://stackoverflow.com/users/295174/dabal"}, "edited": false, "score": 0, "creation_date": 1540582635, "post_id": 52982998, "comment_id": 92934148, "body": "thanks, that gave me the reason of 500. Funny thing is that, as always after reboot everything works."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 1, "last_activity_date": 1540450041, "creation_date": 1540450041, "answer_id": 52982998, "question_id": 52979337, "link": "https://stackoverflow.com/questions/52979337/how-to-configure-geckodriver-with-log-level-as-trace-through-firefox-options/52982998#52982998", "title": "How to configure geckodriver with log level as trace through firefox_options?", "body": "<p>As per the documentation of <a href=\"https://seleniumhq.github.io/selenium/docs/api/py/webdriver_firefox/selenium.webdriver.firefox.options.html#module-selenium.webdriver.firefox.options\" rel=\"nofollow noreferrer\">selenium.webdriver.firefox.options</a> of <em>Selenium Python Client v3.14.0</em> you need to use:</p>\n\n<pre><code>class selenium.webdriver.firefox.options.Log\n</code></pre>\n\n<p>Example Code Block:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\nfrom selenium.webdriver.firefox.options import Log\n\nlog = Log()\nlog.level = \"TRACE\"\noptions = Options()\noptions.add_argument(log.level)\nbrowser = webdriver.Firefox(firefox_options=options,executable_path=\"C:\\\\path\\\\to\\\\geckodriver.exe\")\nbrowser.get('http://google.com/')\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 295174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf5b16fffbb8b4e877537ccd02644f3?s=128&d=identicon&r=PG", "display_name": "dabal", "link": "https://stackoverflow.com/users/295174/dabal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 52982998, "answer_count": 1, "score": 2, "last_activity_date": 1540483740, "creation_date": 1540424194, "last_edit_date": 1540450166, "question_id": 52979337, "link": "https://stackoverflow.com/questions/52979337/how-to-configure-geckodriver-with-log-level-as-trace-through-firefox-options", "title": "How to configure geckodriver with log level as trace through firefox_options?", "body": "<p>I try to run selenium on VPS to run tests in python. I've got some python code</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\n\noptions = Options()\noptions.log.level = 'trace'\nselenium = Firefox(firefox_options=options)\n</code></pre>\n\n<p>And I get an error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/testy/.local/lib/python2.7/site-packages/selenium/webdriver/firefox/webdriver.py\", line 174, in __init__\n    keep_alive=True)\n  File \"/home/testy/.local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 157, in __init__\n    self.start_session(capabilities, browser_profile)\n  File \"/home/testy/.local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 252, in start_session\n    response = self.execute(Command.NEW_SESSION, parameters)\n  File \"/home/testy/.local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 321, in execute\n    self.error_handler.check_response(response)\n  File \"/home/testy/.local/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 242, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: connection refused\n</code></pre>\n\n<p>Firefox starts but, it is avaible after python throws an exception, and its useless by that.</p>\n\n<p>geckodriver.log says that</p>\n\n<pre><code>1540423460336   geckodriver INFO    geckodriver 0.21.0\n1540423460465   geckodriver INFO    Listening on 127.0.0.1:34241\n1540423461245   mozrunner::runner   INFO    Running command: \"/usr/bin/firefox\" \"-marionette\" \"-foreground\" \"-no-remote\" \"-profile\" \"/tmp/rust_mozprofile.MmPzTonVHFIu\"\n1540423461272   geckodriver::marionette DEBUG   Waiting 60s to connect to browser on 127.0.0.1:36731\n1540423475244   Marionette  DEBUG   Received observer notification \"profile-after-change\"\n1540423476412   Marionette  DEBUG   Received observer notification \"command-line-startup\"\n1540423476412   Marionette  INFO    Enabled via --marionette\n1540423514528   Marionette  DEBUG   Received observer notification \"sessionstore-windows-restored\"\n1540423521297   webdriver::server   DEBUG   &lt;- 500 Internal Server Error {\"value\":{\"error\":\"unknown error\",\"message\":\"connection refused\",\"stacktrace\":\"\"}}\n1540423524134   addons.xpi  WARN    Exception running bootstrap method shutdown on activity-stream@mozilla.org: [Exception... \"Component returned failure code: 0x80070057 (NS_ERROR_ILLEGAL_VALUE) [nsINavHistoryService.removeObserver]\"  nsresult: \"0x80070057 (NS_ERROR_ILLEGAL_VALUE)\"  location: \"JS frame :: resource://activity-stream/lib/PlacesFeed.jsm :: removeObservers :: line 220\"  data: no] Stack trace: removeObservers()@resource://activity-stream/lib/PlacesFeed.jsm:220 &lt; onAction()@resource://activity-stream/lib/PlacesFeed.jsm:257 &lt; _middleware/&lt;/&lt;()@resource://activity-stream/lib/Store.jsm:51 &lt; Store/this[method]()@resource://activity-stream/lib/Store.jsm:30 &lt; uninit()@resource://activity-stream/lib/Store.jsm:153 &lt; uninit()@resource://activity-stream/lib/ActivityStream.jsm:274 &lt; uninit()@resource://gre/modules/addons/XPIProvider.jsm -&gt; jar:file:///usr/lib/firefox/browser/features/activity-stream@mozilla.org.xpi!/bootstrap.js:80 &lt; shutdown()@resource://gre/modules/addons/XPIProvider.jsm -&gt; jar:file:///usr/lib/firefox/browser/features/activity-stream@mozilla.org.xpi!/bootstrap.js:196 &lt; callBootstrapMethod()@resource://gre/modules/addons/XPIProvider.jsm:4419 &lt; observe()@resource://gre/modules/addons/XPIProvider.jsm:2279\nPromise rejected after context unloaded: Message manager disconnected\n1540423541320   Marionette  DEBUG   Setting recommended pref apz.content_response_timeout to 60000\n1540423541388   Marionette  DEBUG   Setting recommended pref browser.download.panel.shown to true\n1540423541390   Marionette  DEBUG   Setting recommended pref browser.EULA.override to true\n1540423541390   Marionette  DEBUG   Setting recommended pref browser.newtabpage.enabled to false\n1540423541598   Marionette  DEBUG   Setting recommended pref browser.newtabpage.introShown to true\n1540423541598   Marionette  DEBUG   Setting recommended pref browser.offline to false\n1540423541598   Marionette  DEBUG   Setting recommended pref browser.pagethumbnails.capturing_disabled to true\n1540423541630   Marionette  DEBUG   Setting recommended pref browser.search.update to false\n1540423541688   Marionette  DEBUG   Setting recommended pref toolkit.cosmeticAnimations.enabled to false\n1540423541822   Marionette  DEBUG   Setting recommended pref browser.tabs.disableBackgroundZombification to false\n1540423541822   Marionette  DEBUG   Setting recommended pref browser.tabs.warnOnCloseOtherTabs to false\n1540423541822   Marionette  DEBUG   Setting recommended pref browser.tabs.warnOnOpen to false\n1540423541822   Marionette  DEBUG   Setting recommended pref browser.usedOnWindows10.introURL to \n1540423541824   Marionette  DEBUG   Setting recommended pref browser.urlbar.suggest.searches to false\n1540423541960   Marionette  DEBUG   Setting recommended pref browser.urlbar.userMadeSearchSuggestionsChoice to true\n1540423542166   Marionette  DEBUG   Setting recommended pref datareporting.policy.dataSubmissionPolicyAccepted to false\n1540423542166   Marionette  DEBUG   Setting recommended pref dom.disable_open_during_load to false\n1540423542166   Marionette  DEBUG   Setting recommended pref dom.file.createInChild to true\n1540423542168   Marionette  DEBUG   Setting recommended pref dom.max_chrome_script_run_time to 0\n1540423542208   Marionette  DEBUG   Setting recommended pref dom.max_script_run_time to 0\n1540423542320   Marionette  DEBUG   Setting recommended pref extensions.getAddons.cache.enabled to false\n1540423542320   Marionette  DEBUG   Setting recommended pref extensions.webservice.discoverURL to http://%(server)s/dummy/discoveryURL\n1540423542320   Marionette  DEBUG   Setting recommended pref network.http.prompt-temp-redirect to false\n1540423542320   Marionette  DEBUG   Setting recommended pref network.http.speculative-parallel-limit to 0\n1540423542320   Marionette  DEBUG   Setting recommended pref security.fileuri.strict_origin_policy to false\n1540423542322   Marionette  DEBUG   Setting recommended pref security.notification_enable_delay to 0\n1540423542322   Marionette  DEBUG   Setting recommended pref signon.autofillForms to false\n1540423542322   Marionette  DEBUG   Setting recommended pref signon.rememberSignons to false\n1540423542372   Marionette  DEBUG   New connections are accepted\n1540423542372   Marionette  INFO    Listening on port 36731\nconsole.error: \n  Message: Error: SessionFile is closed\n  Stack:\n    write@resource:///modules/sessionstore/SessionFile.jsm:385:29\nwrite@resource:///modules/sessionstore/SessionFile.jsm:73:12\n_writeState@resource:///modules/sessionstore/SessionSaver.jsm:363:12\n_saveState@resource:///modules/sessionstore/SessionSaver.jsm:301:12\n_saveStateAsync@resource:///modules/sessionstore/SessionSaver.jsm:347:5\nsaveStateAsyncWhenIdle@resource:///modules/sessionstore/SessionSaver.jsm:198:9\n\n1540423545096   addons.productaddons    WARN    Failed downloading XML, status: 0, reason: error\n1540423545192   addons.productaddons    WARN    Failed downloading via XHR, status: 0, reason: error\n1540423546620   Marionette  DEBUG   Received observer notification \"xpcom-shutdown\"\n1540423546622   Marionette  DEBUG   Resetting recommended pref apz.content_response_timeout\n1540423546622   Marionette  DEBUG   Resetting recommended pref browser.download.panel.shown\n1540423546622   Marionette  DEBUG   Resetting recommended pref browser.EULA.override\n1540423546622   Marionette  DEBUG   Resetting recommended pref browser.newtabpage.enabled\n1540423546724   Marionette  DEBUG   Resetting recommended pref browser.newtabpage.introShown\n1540423546724   Marionette  DEBUG   Resetting recommended pref browser.offline\n1540423546724   Marionette  DEBUG   Resetting recommended pref browser.pagethumbnails.capturing_disabled\n1540423546724   Marionette  DEBUG   Resetting recommended pref browser.search.update\n1540423546724   Marionette  DEBUG   Resetting recommended pref toolkit.cosmeticAnimations.enabled\n1540423546726   Marionette  DEBUG   Resetting recommended pref browser.tabs.disableBackgroundZombification\n1540423546726   Marionette  DEBUG   Resetting recommended pref browser.tabs.warnOnCloseOtherTabs\n1540423546726   Marionette  DEBUG   Resetting recommended pref browser.tabs.warnOnOpen\n1540423546726   Marionette  DEBUG   Resetting recommended pref browser.usedOnWindows10.introURL\n1540423546726   Marionette  DEBUG   Resetting recommended pref browser.urlbar.suggest.searches\n1540423546866   Marionette  DEBUG   Resetting recommended pref browser.urlbar.userMadeSearchSuggestionsChoice\n1540423547056   Marionette  DEBUG   Resetting recommended pref datareporting.policy.dataSubmissionPolicyAccepted\n1540423547056   Marionette  DEBUG   Resetting recommended pref dom.disable_open_during_load\n1540423547056   Marionette  DEBUG   Resetting recommended pref dom.file.createInChild\n1540423547056   Marionette  DEBUG   Resetting recommended pref dom.max_chrome_script_run_time\n1540423547056   Marionette  DEBUG   Resetting recommended pref dom.max_script_run_time\n1540423547172   Marionette  DEBUG   Resetting recommended pref extensions.getAddons.cache.enabled\n1540423547172   Marionette  DEBUG   Resetting recommended pref extensions.webservice.discoverURL\n1540423547172   Marionette  DEBUG   Resetting recommended pref network.http.prompt-temp-redirect\n1540423547172   Marionette  DEBUG   Resetting recommended pref network.http.speculative-parallel-limit\n1540423547172   Marionette  DEBUG   Resetting recommended pref security.fileuri.strict_origin_policy\n1540423547172   Marionette  DEBUG   Resetting recommended pref security.notification_enable_delay\n1540423547172   Marionette  DEBUG   Resetting recommended pref signon.autofillForms\n1540423547172   Marionette  DEBUG   Resetting recommended pref signon.rememberSignons\n1540423547172   Marionette  DEBUG   New connections will no longer be accepted\n</code></pre>\n\n<p>Can you tell me, do you know other debug methods for case like that?\nI'am using\npython 2.7</p>\n\n<p>selenium 3.14.1</p>\n\n<p>firefox 59.0.2 (the same error is produced by ff62)</p>\n\n<p>geckodriver 0.21 (the same error is produced by 0.23)</p>\n"}, {"tags": ["python", "python-3.x", "csv"], "comments": [{"owner": {"reputation": 4175, "user_id": 467379, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28ebaf1c76954ab94e24766f199fc01d?s=128&d=identicon&r=PG", "display_name": "ncmathsadist", "link": "https://stackoverflow.com/users/467379/ncmathsadist"}, "edited": false, "score": 1, "creation_date": 1540424686, "post_id": 52979330, "comment_id": 92865214, "body": "What is your attempt?  Show some code so we can comment knowledgeably."}], "answers": [{"comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540430429, "post_id": 52979805, "comment_id": 92866370, "body": "Indeed. Edited as suggested then. Thanks."}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540448178, "post_id": 52979805, "comment_id": 92870860, "body": "Oops. Got it mixed up in a haste indeed. Thanks."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1540448158, "last_edit_date": 1540448158, "creation_date": 1540428515, "answer_id": 52979805, "question_id": 52979330, "link": "https://stackoverflow.com/questions/52979330/how-to-get-the-average-length-of-the-strings-in-each-column-in-csv/52979805#52979805", "title": "How to get the average length of the strings in each column in csv?", "body": "<p>You can <code>zip</code> the rows and <code>map</code> the columns to <code>len</code> and use <code>statistics.mean</code> to calculate averages:</p>\n\n<pre><code>import csv\nfrom statistics import mean\nwith open('someFile.csv', 'r', newline='') as f, open('results.csv', 'w', newline='') as output:\n    reader = csv.reader(f, delimiter=' ', skipinitialspace=True)\n    headers = next(reader)\n    writer = csv.writer(output, delimiter = ' ')\n    writer.writerow(headers)\n    writer.writerow([mean(map(len, col)) for col in zip(*reader)])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 543, "user_id": 8431101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb3dba23180ab706c7234b2a0694b2e?s=128&d=identicon&r=PG&f=1", "display_name": "Pinyi Wang", "link": "https://stackoverflow.com/users/8431101/pinyi-wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1540429638, "creation_date": 1540429638, "answer_id": 52979925, "question_id": 52979330, "link": "https://stackoverflow.com/questions/52979330/how-to-get-the-average-length-of-the-strings-in-each-column-in-csv/52979925#52979925", "title": "How to get the average length of the strings in each column in csv?", "body": "<p>You can try pandas. In case you don't have pandas installed, do <code>pip install pandas</code> to install pandas.</p>\n\n<pre><code>import pandas as pd\n# df = pd.read_csv('my_csv.csv')\ndf = pd.DataFrame([['aa', 'aaa', 'a'], ['bbbb', 'bbbbbb', 'aa']], \n                  columns=['Header1', 'Header2', 'Header3'])\nresult = pd.DataFrame([[]])\nfor col in df:\n    result[col] = df[col].apply(len).mean()\n\nresult.to_csv('result.csv')\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 10113213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_HkX7M2jWzM/AAAAAAAAAAI/AAAAAAAAAeY/sO4p6-w4xEI/photo.jpg?sz=128", "display_name": "Bhanu Tez", "link": "https://stackoverflow.com/users/10113213/bhanu-tez"}, "is_accepted": false, "score": 0, "last_activity_date": 1540430479, "last_edit_date": 1540430479, "creation_date": 1540430106, "answer_id": 52979970, "question_id": 52979330, "link": "https://stackoverflow.com/questions/52979330/how-to-get-the-average-length-of-the-strings-in-each-column-in-csv/52979970#52979970", "title": "How to get the average length of the strings in each column in csv?", "body": "<p>Here is a simple code. I provided two blocks, if no null in dataframe and if Nulls are present.</p>\n\n<pre><code>import pandas as pd\n\n#df = pd.DataFrame([['aa','aaa','a'],['bbbb','bbbbbb','aa']],columns=['Header1','Header2','Header3'])\ndf = pd.read_csv('file.csv')\n\n#if No Null\nNo_of_Row=df.shape[0]\nfor Col in df.sum():\n    print(len(Col)/No_of_Row)\n\n#if Null are there\nfor Col,Header in zip(df.sum(),df.columns):\n    print(len(Col)/df[[Header]].dropna().shape[0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 418, "user_id": 9358196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81e7a5c646b53369db8322d67a87f79e?s=128&d=identicon&r=PG&f=1", "display_name": "Noctsol", "link": "https://stackoverflow.com/users/9358196/noctsol"}, "is_accepted": false, "score": 0, "last_activity_date": 1540432176, "last_edit_date": 1540432176, "creation_date": 1540431843, "answer_id": 52980161, "question_id": 52979330, "link": "https://stackoverflow.com/questions/52979330/how-to-get-the-average-length-of-the-strings-in-each-column-in-csv/52980161#52980161", "title": "How to get the average length of the strings in each column in csv?", "body": "<p>This isn't the best way to do it. There are other ways to do this quickly. However, I do think this is a fairly straight forward and easy-to-understand example that was put together very hastily. I used this on your example and it works.</p>\n\n<pre><code>import csv\n\n# replace \"yourusername\" with your PC user name\ninput_file = 'C:/Users/yourusername/Desktop/someFile.csv' \noutput_file = 'C:/Users/yourusername/Desktop/output.csv'\n\ncsv_file = open(input_file, newline='')  # opening csv file\ninfo = list(csv.reader(csv_file))  # convert data in csv file to array/list\ncsv_file.close()\n\nlength = len(info[0])  # if you ever add more headers, this will account for it\navg_container = [0 for i in range(length)]  # creates empty array with zeros for each header\nn = len(info[1:])  # for dividing by n to get average\n\n# adding the lengths of all the items to one sum for each \"column\"\nfor k in info[1:]:\n    for n,i in enumerate(k):\n        avg_container[n] += len(i)\n\n# diviving all sums by n\nfor i in range(len(avg_container)):\n    avg_container[i] = avg_container[i]/n\n\n# combine header and average array into one item to write to csv\navg_output = []\navg_output.extend((info[0],avg_container))\nprint(avg_output)  # just for you to see for yourself\n\n# outputting the new file\noutput_csv = open(output_file, 'w', newline='')  # creates an instance of the file\ncsv_writer = csv.writer(output_csv)  # creates an \"Writer\" to write to the csv\ncsv_writer.writerows(avg_output)  # outputs the avg_output variable to the csv file\noutput_csv.close()  # finished\n</code></pre>\n\n<p>References</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46614526/how-to-import-a-csv-file-into-a-data-array\">How to import a csv-file into a data array?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/2084069/create-a-csv-file-with-values-from-a-python-list\">Create a .csv file with values from a Python list</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14037540/writing-a-python-list-of-lists-to-a-csv-file\">Writing a Python list of lists to a csv file</a></p>\n"}], "owner": {"reputation": 1472, "user_id": 6509816, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/44tMB.jpg?s=128&g=1", "display_name": "yalpsid eman", "link": "https://stackoverflow.com/users/6509816/yalpsid-eman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2436, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1540474132, "creation_date": 1540424176, "last_edit_date": 1540474132, "question_id": 52979330, "link": "https://stackoverflow.com/questions/52979330/how-to-get-the-average-length-of-the-strings-in-each-column-in-csv", "title": "How to get the average length of the strings in each column in csv?", "body": "<p>I have a csv that looks like this:</p>\n\n<p><code>someFile.csv</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Header1 Header2 Header3\naa      aaa     a\nbbbb    bbbbbb  aa\n</code></pre>\n\n<p>I want to calculate the average string length in each column and create a csv of the results. This is what it would look like in the example:</p>\n\n<p><code>results.csv</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Header1 Header2 Header3\n3       4.5     1.5\n</code></pre>\n\n<p>I've been trying to use the csv library in Python but I'm not having success. Is there a simple way to accomplish this?</p>\n"}, {"tags": ["python", "matplotlib", "anaconda"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1582569400, "post_id": 52979322, "comment_id": 106814951, "body": "<i>have a base environment running python 3.7 where matplotlib works fine.</i> It&#39;s best not to touch the base environment."}], "answers": [{"comments": [{"owner": {"reputation": 288, "user_id": 8299243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7970d4296c81b7787462928152baf6?s=128&d=identicon&r=PG&f=1", "display_name": "user121664", "link": "https://stackoverflow.com/users/8299243/user121664"}, "edited": false, "score": 1, "creation_date": 1540425483, "post_id": 52979429, "comment_id": 92865374, "body": "This is in python 3.6.7, so that alone doesn&#39;t solve it. But using matplotlib 2.2.3 works, so I will just keep it downgraded."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 288, "user_id": 8299243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7970d4296c81b7787462928152baf6?s=128&d=identicon&r=PG&f=1", "display_name": "user121664", "link": "https://stackoverflow.com/users/8299243/user121664"}, "edited": false, "score": 2, "creation_date": 1540425672, "post_id": 52979429, "comment_id": 92865420, "body": "@user121664: It is the issue; the change that broke matplotlib 3.0.0 in Python 3.7 was also merged into Python 3.6.7. You can see the commit <a href=\"https://github.com/python/cpython/commit/d45a9613402b686f8afd3dd5b6acf8141f14d711\" rel=\"nofollow noreferrer\">here</a>. Python 3.6.6 would probably be fine, and once matplotlib 3.0.1 comes out, matplotlib 3.0.1 shouldn&#39;t have the compatibility issues."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 18, "last_activity_date": 1540430771, "last_edit_date": 1540430771, "creation_date": 1540424986, "answer_id": 52979429, "question_id": 52979322, "link": "https://stackoverflow.com/questions/52979322/matplotlib-3-0-0-cannot-import-name-get-backend-from-matplotlib/52979429#52979429", "title": "matplotlib 3.0.0, cannot import name &#39;get_backend&#39; from &#39;matplotlib&#39;", "body": "<p>This issue has been reported <a href=\"https://github.com/matplotlib/matplotlib/issues/12601\" rel=\"noreferrer\">here</a> and has been fixed <a href=\"https://github.com/matplotlib/matplotlib/pull/12604\" rel=\"noreferrer\">here</a>. The fix will be available in matplotlib 3.0.1, which is scheduled to be release within the next few days. </p>\n\n<p>Until then you may either use python &lt;= 3.6.6 with matplotlib 3.0.0. Or you may use matplotlib 2.2.3 or you may try the fix proposed in <a href=\"https://github.com/matplotlib/matplotlib/issues/12601\" rel=\"noreferrer\">the linked issue</a>, namely to create a matplotlibrc file in one of the paths where matplotlib would find it.</p>\n"}, {"comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 1, "creation_date": 1582569461, "post_id": 55406291, "comment_id": 106814984, "body": "The accepted answer says that this was an issue with matplotlib, which has since been fixed. How does this answer relate to the situation?"}], "tags": [], "owner": {"reputation": 61, "user_id": 7216952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lp-8pODBkps/AAAAAAAAAAI/AAAAAAAAAE4/R1fkv7DcQak/photo.jpg?sz=128", "display_name": "Moses Dada", "link": "https://stackoverflow.com/users/7216952/moses-dada"}, "is_accepted": false, "score": 6, "last_activity_date": 1553804794, "last_edit_date": 1553804794, "creation_date": 1553804697, "answer_id": 55406291, "question_id": 52979322, "link": "https://stackoverflow.com/questions/52979322/matplotlib-3-0-0-cannot-import-name-get-backend-from-matplotlib/55406291#55406291", "title": "matplotlib 3.0.0, cannot import name &#39;get_backend&#39; from &#39;matplotlib&#39;", "body": "<p>Try this:</p>\n\n<pre><code>pip uninstall matplotlib\npython -m pip install --upgrade pip\npip install matplotlib\n</code></pre>\n\n<p>Worked perfectly for me</p>\n"}, {"comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 1, "creation_date": 1582569453, "post_id": 60381068, "comment_id": 106814982, "body": "The accepted answer says that this was an issue with matplotlib, which has since been fixed. How does this answer relate to the situation?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9466002, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XgVLmjEZx4E/AAAAAAAAAAI/AAAAAAAABjo/FfxP1NDCSYs/photo.jpg?sz=128", "display_name": "Aime Valentin", "link": "https://stackoverflow.com/users/9466002/aime-valentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1582567125, "last_edit_date": 1582567125, "creation_date": 1582565271, "answer_id": 60381068, "question_id": 52979322, "link": "https://stackoverflow.com/questions/52979322/matplotlib-3-0-0-cannot-import-name-get-backend-from-matplotlib/60381068#60381068", "title": "matplotlib 3.0.0, cannot import name &#39;get_backend&#39; from &#39;matplotlib&#39;", "body": "<pre><code>pip uninstall matplotlib\npip install --upgrade matplotlib\n</code></pre>\n\n<p>works perfectly!</p>\n"}], "owner": {"reputation": 288, "user_id": 8299243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7970d4296c81b7787462928152baf6?s=128&d=identicon&r=PG&f=1", "display_name": "user121664", "link": "https://stackoverflow.com/users/8299243/user121664"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21972, "favorite_count": 1, "accepted_answer_id": 52979429, "answer_count": 3, "score": 15, "last_activity_date": 1582567125, "creation_date": 1540424130, "last_edit_date": 1540843563, "question_id": 52979322, "link": "https://stackoverflow.com/questions/52979322/matplotlib-3-0-0-cannot-import-name-get-backend-from-matplotlib", "title": "matplotlib 3.0.0, cannot import name &#39;get_backend&#39; from &#39;matplotlib&#39;", "body": "<p>Using Windows 10, anaconda as a package manager. I have a base environment running python 3.7 where matplotlib works fine. When I create a new environment and install both keras and matplotlib, I start to run into problems:</p>\n\n<pre><code>&gt;&gt;&gt; import matplotlib.pyplot as plt\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\__init__.py\", line 1111, in &lt;module&gt;\n    rcParamsOrig = RcParams(rcParams.copy())\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\__init__.py\", line 891, in __getitem__\n    from matplotlib import pyplot as plt\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\pyplot.py\", line 32, in &lt;module&gt;\n    import matplotlib.colorbar\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\colorbar.py\", line 40, in &lt;module&gt;\n    import matplotlib._constrained_layout as constrained_layout\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\_constrained_layout.py\", line 52, in &lt;module&gt;\n    from matplotlib.legend import Legend\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\legend.py\", line 43, in &lt;module&gt;\n    from matplotlib.offsetbox import HPacker, VPacker, TextArea, DrawingArea\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\offsetbox.py\", line 33, in &lt;module&gt;\n    from matplotlib.image import BboxImage\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\image.py\", line 19, in &lt;module&gt;\n    from matplotlib.backend_bases import FigureCanvasBase\n  File \"C:\\...\\Anaconda3\\envs\\keras_env\\lib\\site-packages\\matplotlib\\backend_bases.py\", line 46, in &lt;module&gt;\n    from matplotlib import (\nImportError: cannot import name 'get_backend'\n</code></pre>\n\n<p>Any suggestions? This is a fresh installation of conda. All I've done to get here is run <code>conda create --name keras_env keras matplotlib</code>, enter the environment, and try to import matplotlib. These are the packages conda installs:</p>\n\n<pre><code>## Package Plan ##\n\nenvironment location: C:\\...\\Anaconda3\\envs\\keras_env\n\nadded / updated specs:\n- keras\n- matplotlib\n\n\nThe following NEW packages will be INSTALLED:\n\n_tflow_select:       2.2.0-eigen\nabsl-py:             0.5.0-py36_0\nastor:               0.7.1-py36_0\nblas:                1.0-mkl\nca-certificates:     2018.03.07-0\ncertifi:             2018.10.15-py36_0\ncycler:              0.10.0-py36h009560c_0\nfreetype:            2.9.1-ha9979f8_1\ngast:                0.2.0-py36_0\ngrpcio:              1.12.1-py36h1a1b453_0\nh5py:                2.8.0-py36h3bdd7fb_2\nhdf5:                1.10.2-hac2f561_1\nicc_rt:              2017.0.4-h97af966_0\nicu:                 58.2-ha66f8fd_1\nintel-openmp:        2019.0-118\njpeg:                9b-hb83a4c4_2\nkeras:               2.2.4-0\nkeras-applications:  1.0.6-py36_0\nkeras-base:          2.2.4-py36_0\nkeras-preprocessing: 1.0.5-py36_0\nkiwisolver:          1.0.1-py36h6538335_0\nlibpng:              1.6.35-h2a8f88b_0\nlibprotobuf:         3.6.0-h1a1b453_0\nmarkdown:            3.0.1-py36_0\nmatplotlib:          3.0.0-py36hd159220_0\nmkl:                 2019.0-118\nmkl_fft:             1.0.6-py36hdbbee80_0\nmkl_random:          1.0.1-py36h77b88f5_1\nnumpy:               1.15.3-py36ha559c80_0\nnumpy-base:          1.15.3-py36h8128ebf_0\nopenssl:             1.0.2p-hfa6e2cd_0\npip:                 10.0.1-py36_0\nprotobuf:            3.6.0-py36he025d50_0\npyparsing:           2.2.2-py36_0\npyqt:                5.9.2-py36h6538335_2\npython:              3.6.7-h33f27b4_0\npython-dateutil:     2.7.3-py36_0\npytz:                2018.5-py36_0\npyyaml:              3.13-py36hfa6e2cd_0\nqt:                  5.9.6-vc14h1e9a669_2\nscipy:               1.1.0-py36h4f6bf74_1\nsetuptools:          40.4.3-py36_0\nsip:                 4.19.8-py36h6538335_0\nsix:                 1.11.0-py36_1\nsqlite:              3.25.2-hfa6e2cd_0\ntensorboard:         1.11.0-py36he025d50_0\ntensorflow:          1.11.0-eigen_py36h346fd36_0\ntensorflow-base:     1.11.0-eigen_py36h45df0d8_0\ntermcolor:           1.1.0-py36_1\ntornado:             5.1.1-py36hfa6e2cd_0\nvc:                  14.1-h0510ff6_4\nvs2015_runtime:      14.15.26706-h3a45250_0\nwerkzeug:            0.14.1-py36_0\nwheel:               0.32.2-py36_0\nwincertstore:        0.2-py36h7fe50ca_0\nyaml:                0.1.7-hc54c509_2\nzlib:                1.2.11-h8395fce_2\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 0, "creation_date": 1540424231, "post_id": 52979310, "comment_id": 92865111, "body": "<code>dict[&#39;last_trade&#39;][&#39;price&#39;]</code> Have you tried something like this?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 3, "creation_date": 1540424353, "post_id": 52979310, "comment_id": 92865140, "body": "<code>sorted(my_dict_list,key=lambda item:item[&#39;last_trade&#39;][&#39;price&#39;])</code>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1540426070, "post_id": 52979310, "comment_id": 92865508, "body": "<code>[{{}}]</code> is an empty dict in a set in a list. Probably not what you meant."}], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 1449447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2923559d868a6734c328452957ab0f22?s=128&d=identicon&r=PG", "display_name": "Peritract", "link": "https://stackoverflow.com/users/1449447/peritract"}, "is_accepted": false, "score": 0, "last_activity_date": 1540424495, "creation_date": 1540424495, "answer_id": 52979369, "question_id": 52979310, "link": "https://stackoverflow.com/questions/52979310/python-access-dictionary-inside-dictionary-inside-of-list/52979369#52979369", "title": "Python - Access Dictionary Inside Dictionary Inside of List", "body": "<p>Have a look at the <a href=\"https://wiki.python.org/moin/HowTo/Sorting\" rel=\"nofollow noreferrer\">sorted()</a> function.</p>\n\n<p>It allows you to specify a function as  the key parameter to sort an iterable by. You could call sorted() on your array and provide a key that sorts by the price of the last_trade of each element.</p>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 0, "last_activity_date": 1540427757, "creation_date": 1540427757, "answer_id": 52979725, "question_id": 52979310, "link": "https://stackoverflow.com/questions/52979310/python-access-dictionary-inside-dictionary-inside-of-list/52979725#52979725", "title": "Python - Access Dictionary Inside Dictionary Inside of List", "body": "<p>You can use a key function that returns the dict value you want the sort order to be based on:</p>\n\n<pre><code>thelist.sort(key=lambda d: d['last_trade']['price'])\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10307700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d4c9698ca6198cbbae712bc17af819?s=128&d=identicon&r=PG&f=1", "display_name": "Dwayne", "link": "https://stackoverflow.com/users/10307700/dwayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "accepted_answer_id": 52979725, "answer_count": 2, "score": 1, "last_activity_date": 1564030494, "creation_date": 1540424049, "last_edit_date": 1564030494, "question_id": 52979310, "link": "https://stackoverflow.com/questions/52979310/python-access-dictionary-inside-dictionary-inside-of-list", "title": "Python - Access Dictionary Inside Dictionary Inside of List", "body": "<p>I'm trying to sort a list of stocks by their name and their last trade(price),\nbut the way it's setup makes it difficult for me to figure out how to sort it from either smallest to highest or highest to smallest.</p>\n\n<p>so the list is setup this way:</p>\n\n<p>thelist = [list{dictionay1{dictonary2}}]</p>\n\n<p>the dictionary inside the list:</p>\n\n<pre><code>{'symbol_id': 'APPL', 'time_exchange': '2018-10-24T22:44:36.5280358Z', 'ask_price': 610.67, 'bid_price': 610.45, 'last_trade': {'time_exchange': '2018-10-24T21:38:13.0000000Z', 'price': 608.99938084, 'size': 651.39819405, 'taker_side': 'BUY'}}\n</code></pre>\n\n<p>the list contains at least 400 of these dictionaries.</p>\n\n<p>so i choose to loop like this:</p>\n\n<pre><code>stocks = ['APPL']\n\nfor item in thelist:\n   name = item[\"symbol_id\"]\n   if name in stocks:\n     price = round(item['last_trade']['price'], 2)\n     print(name, price)\n</code></pre>\n\n<p>that prints the stocks with its last trade price, but how do i go about sorting something like that? </p>\n\n<p>i've tried sorting with itemgetter but can't access the last_trade dictionary with that... any help?</p>\n"}, {"tags": ["python", "wxpython", "network-protocols"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9732420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b22b3ffb8dbe47a5ff7e4d3854edee1?s=128&d=identicon&r=PG&f=1", "display_name": "Bikas", "link": "https://stackoverflow.com/users/9732420/bikas"}, "edited": false, "score": 0, "creation_date": 1540927652, "post_id": 53010077, "comment_id": 93041538, "body": "Hey, can you help me again? Whenever I click on open, I get this error: &#39;module&#39; object has no attribute &#39;OPEN&#39;. Can you tell me the reason?"}, {"owner": {"reputation": 23, "user_id": 9732420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b22b3ffb8dbe47a5ff7e4d3854edee1?s=128&d=identicon&r=PG&f=1", "display_name": "Bikas", "link": "https://stackoverflow.com/users/9732420/bikas"}, "edited": false, "score": 0, "creation_date": 1540931466, "post_id": 53010077, "comment_id": 93043300, "body": "I have found the possible reason. I have advanced version of wxpython than I need. I have version 4.0.3 while I need 2.6 / 2.7. Can you tell me how to downgrade the version of wxpython?"}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 23, "user_id": 9732420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b22b3ffb8dbe47a5ff7e4d3854edee1?s=128&d=identicon&r=PG&f=1", "display_name": "Bikas", "link": "https://stackoverflow.com/users/9732420/bikas"}, "edited": false, "score": 0, "creation_date": 1540992726, "post_id": 53010077, "comment_id": 93065903, "body": "You can get older versions on SourceForge - <a href=\"https://sourceforge.net/projects/wxpython/files/wxPython/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/wxpython/files/wxPython</a>"}], "tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 0, "last_activity_date": 1540561254, "creation_date": 1540561254, "answer_id": 53010077, "question_id": 52979299, "link": "https://stackoverflow.com/questions/52979299/installation-error-in-scyther-for-windows/53010077#53010077", "title": "Installation error in Scyther for Windows", "body": "<p>The <code>SplashScreen</code> widget is no longer in <code>wx.SplashScreen</code> in wxPython 4. It is in <code>wx.adv.SplashScreen</code></p>\n\n<p>See the docs for more details:</p>\n\n<ul>\n<li><a href=\"https://wxpython.org/Phoenix/docs/html/wx.adv.SplashScreen.html\" rel=\"nofollow noreferrer\">https://wxpython.org/Phoenix/docs/html/wx.adv.SplashScreen.html</a></li>\n</ul>\n\n<p>You will have to use an older version of wxPython to make that work.</p>\n"}], "owner": {"reputation": 23, "user_id": 9732420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b22b3ffb8dbe47a5ff7e4d3854edee1?s=128&d=identicon&r=PG&f=1", "display_name": "Bikas", "link": "https://stackoverflow.com/users/9732420/bikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 53010077, "answer_count": 1, "score": 0, "last_activity_date": 1540561254, "creation_date": 1540423959, "question_id": 52979299, "link": "https://stackoverflow.com/questions/52979299/installation-error-in-scyther-for-windows", "title": "Installation error in Scyther for Windows", "body": "<p>I was trying to verify a protocol using a protocol verifier tool called Scyther and was trying to install it for my windows. I was following the instructions from this link (<a href=\"https://people.cispa.io/cas.cremers/scyther/install-generic.html\" rel=\"nofollow noreferrer\">https://people.cispa.io/cas.cremers/scyther/install-generic.html</a>). I have python 2.7, graphviz 2.38 and wxpython 4.0.3. However, whenever I run the code (scyther-gui.py), I get the following error message:</p>\n\n<p><strong>\"Traceback (most recent call last):\n  File \".......\\scyther-gui.py\", line 141, in \n    class MySplashScreen(wx.SplashScreen):\nAttributeError: 'module' object has no attribute 'SplashScreen' \"</strong></p>\n\n<p>What can be the possible issue for such error? </p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1540424094, "post_id": 52979290, "comment_id": 92865078, "body": "you would just use <code>itertools.product</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540424976, "post_id": 52979290, "comment_id": 92865274, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1540424251, "post_id": 52979323, "comment_id": 92865116, "body": "or better yet use the builtin that does this :P (+1 all  the same)"}], "tags": [], "owner": {"reputation": 746, "user_id": 1449447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2923559d868a6734c328452957ab0f22?s=128&d=identicon&r=PG", "display_name": "Peritract", "link": "https://stackoverflow.com/users/1449447/peritract"}, "is_accepted": false, "score": 2, "last_activity_date": 1540424131, "creation_date": 1540424131, "answer_id": 52979323, "question_id": 52979290, "link": "https://stackoverflow.com/questions/52979290/how-do-i-make-a-nested-while-loop-that-will-generate-this-output-with-the-give/52979323#52979323", "title": "How do i make a nested &quot;while loop&quot; that will generate this output with the given lists", "body": "<p>Don't use a while loop; for loops are a better option here because you know how many times you want to iterate.</p>\n\n<p>Essentially, you want an outer for loop that runs as many times as there are items in your first list. Each time it runs, run the inner loop as many times as there are items in your second list. Inside that inner loop, print out the relevant element from both lists.</p>\n"}, {"tags": [], "owner": {"reputation": 4081, "user_id": 3288092, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D6zZM.png?s=128&g=1", "display_name": "BernardL", "link": "https://stackoverflow.com/users/3288092/bernardl"}, "is_accepted": false, "score": 2, "last_activity_date": 1540424926, "last_edit_date": 1540424926, "creation_date": 1540424437, "answer_id": 52979358, "question_id": 52979290, "link": "https://stackoverflow.com/questions/52979290/how-do-i-make-a-nested-while-loop-that-will-generate-this-output-with-the-give/52979358#52979358", "title": "How do i make a nested &quot;while loop&quot; that will generate this output with the given lists", "body": "<p>You should check out the itertools standard library for effecient looping <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>For your case, you can use <code>product</code> which is explained in the documentation as:</p>\n\n<blockquote>\n  <p>cartesian product, equivalent to a nested for-loop</p>\n</blockquote>\n\n<pre><code>from itertools import product\n\nnum = [1,2,3]\nalphaSet = ['a','b','c']\n\nfor (num,alpha) in product(num,alphaSet):\n    print(num,alpha)\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10554869, "user_type": "registered", "profile_image": "https://graph.facebook.com/957543354430170/picture?type=large", "display_name": "Milo Del Campo", "link": "https://stackoverflow.com/users/10554869/milo-del-campo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1540436311, "answer_count": 2, "score": -2, "last_activity_date": 1540424926, "creation_date": 1540423862, "question_id": 52979290, "link": "https://stackoverflow.com/questions/52979290/how-do-i-make-a-nested-while-loop-that-will-generate-this-output-with-the-give", "closed_reason": "Needs details or clarity", "title": "How do i make a nested &quot;while loop&quot; that will generate this output with the given lists", "body": "<p>Using two lists.\nnumSet = [1,2,3]\nalphaSet = ['A', 'B', 'C']\nProvide for both the while and for loops, create nested loops that print a table that looks like this\n1 A\n1 B\n1 C\n2 A\n2 B\n2 C\n3 A\n3 B\n3 C</p>\n"}, {"tags": ["python", "python-3.x", "pip", "homebrew"], "comments": [{"owner": {"reputation": 1535, "user_id": 66646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab4f5de9d7938c323df823797e7e51e?s=128&d=identicon&r=PG&f=1", "display_name": "emirc", "link": "https://stackoverflow.com/users/66646/emirc"}, "edited": false, "score": 1, "creation_date": 1540424595, "post_id": 52979266, "comment_id": 92865191, "body": "Maybe it\u2019s just what it says in error - insufficient permissions. Can you try with \u201csudo\u201d?"}], "owner": {"reputation": 21, "user_id": 895559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a40d709c75356dfb29768588a65d963?s=128&d=identicon&r=PG", "display_name": "sepulworld", "link": "https://stackoverflow.com/users/895559/sepulworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 775, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540423678, "creation_date": 1540423678, "question_id": 52979266, "link": "https://stackoverflow.com/questions/52979266/pipenv-not-working-after-upgrade-to-python-homebrew-installed", "title": "Pipenv not working after upgrade to python (Homebrew installed)", "body": "<p>It appears pipenv and other python packages on my Mac are tied to Python 3.6 but should work fine with 3.7. I recently updated to python via</p>\n\n<p><code>\nbrew upgrade python\n</code></p>\n\n<p>Running 3.7.0</p>\n\n<p>$ pipenv update\nWarning: Python 3.6 was not found on your system\u2026\nYou can specify specific versions of Python with:\n  $ pipenv --python path/to/python</p>\n\n<p>When I try to specify the path... I get:</p>\n\n<p>```\n$ pipenv --python 3.7 update\nCreating a virtualenv for this project\u2026\nPipfile: /Users/zane/src/dinghy-ping/Pipfile\nUsing /usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/bin/python3.7 (3.7.0) to create virtualenv\u2026\n\u2838Running virtualenv with interpreter /usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/bin/python3.7\nUsing base prefix '/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7'\n/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py:1041: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n  import imp\nNew python executable in /Users/zane/.local/share/virtualenvs/dinghy-ping-ePAjWOtt/bin/python3.7\nNot overwriting existing python script /Users/zane/.local/share/virtualenvs/dinghy-ping-ePAjWOtt/bin/python (you must use /Users/zane/.local/share/virtualenvs/dinghy-ping-ePAjWOtt/bin/python3.7)\nPlease make sure you remove any previous custom paths from your /Users/zane/.pydistutils.cfg file.\nInstalling setuptools, pip, wheel...\n  Complete output from command /Users/zane/.local/s...AjWOtt/bin/python3.7 - setuptools pip wheel:\n  Looking in links: /usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages, /usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv_support, /Users/zane/Library/Python/3.7/lib/python/site-packages/virtualenv_support\nCollecting setuptools\n  Using cached <a href=\"https://files.pythonhosted.org/packages/96/06/c8ee69628191285ddddffb277bd5abdf769166e7a14b867c2a172f0175b1/setuptools-40.4.3-py2.py3-none-any.whl\" rel=\"nofollow noreferrer\">https://files.pythonhosted.org/packages/96/06/c8ee69628191285ddddffb277bd5abdf769166e7a14b867c2a172f0175b1/setuptools-40.4.3-py2.py3-none-any.whl</a>\nCollecting pip\n  Using cached <a href=\"https://files.pythonhosted.org/packages/c2/d7/90f34cb0d83a6c5631cf71dfe64cc1054598c843a92b400e55675cc2ac37/pip-18.1-py2.py3-none-any.whl\" rel=\"nofollow noreferrer\">https://files.pythonhosted.org/packages/c2/d7/90f34cb0d83a6c5631cf71dfe64cc1054598c843a92b400e55675cc2ac37/pip-18.1-py2.py3-none-any.whl</a>\nCollecting wheel\n  Using cached <a href=\"https://files.pythonhosted.org/packages/5a/9b/6aebe9e2636d35d1a93772fa644c828303e1d5d124e8a88f156f42ac4b87/wheel-0.32.2-py2.py3-none-any.whl\" rel=\"nofollow noreferrer\">https://files.pythonhosted.org/packages/5a/9b/6aebe9e2636d35d1a93772fa644c828303e1d5d124e8a88f156f42ac4b87/wheel-0.32.2-py2.py3-none-any.whl</a>\nInstalling collected packages: setuptools, pip, wheel\nCould not install packages due to an EnvironmentError: [Errno 1] Operation not permitted: '/bin/easy_install'</p>\n\n<h2>```</h2>\n\n<p>...Installing setuptools, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py\", line 2343, in \n    main()\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py\", line 712, in main\n    symlink=options.symlink)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py\", line 947, in create_environment\n    download=download,\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py\", line 904, in install_wheel\n    call_subprocess(cmd, show_stdout=False, extra_env=env, stdin=SCRIPT)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/virtualenv.py\", line 796, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /Users/zane/.local/s...AjWOtt/bin/python3.7 - setuptools pip wheel failed with error code 1\n```</p>\n\n<p>```\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/bin/pipenv\", line 11, in \n    load_entry_point('pipenv==2018.10.13', 'console_scripts', 'pipenv')()\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 764, in <strong>call</strong>\n    return self.main(*args, **kwargs)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 1134, in invoke\n    Command.invoke(self, ctx)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py\", line 64, in new_func\n    return ctx.invoke(f, obj, *args, **kwargs)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py\", line 17, in new_func\n    return f(get_current_context(), *args, **kwargs)\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/cli/command.py\", line 203, in cli\n    clear=state.clear,\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/core.py\", line 565, in ensure_project\n    pypi_mirror=pypi_mirror,\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/core.py\", line 500, in ensure_virtualenv\n    python=python, site_packages=site_packages, pypi_mirror=pypi_mirror\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/core.py\", line 901, in do_create_virtualenv\n    click.echo(crayons.blue(\"{0}\".format(c.err)), err=True) File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/delegator.py\", line 146, in err\n    return self._pexpect_out\n  File \"/usr/local/Cellar/pipenv/2018.10.13/libexec/lib/python3.7/site-packages/pipenv/vendor/delegator.py\", line 114, in _pexpect_out\n    result += self.subprocess.after\nTypeError: can only concatenate str (not \"type\") to str</p>\n\n<p>```</p>\n\n<p>The problem seems to be with:</p>\n\n<p><code>\nInstalling collected packages: setuptools, pip, wheel\nCould not install packages due to an EnvironmentError: [Errno 1] Operation not permitted: '/bin/easy_install'\n</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540423646, "post_id": 52979241, "comment_id": 92864949, "body": "you need to splitlines first ... then encrypt each line ... after its encrypted the endlines are gone until its decrypted again... (as an aside you should do <code>encrypted_message = my_message.translate(alphabet,shifted_alphabet)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9503778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KM9ah7a62GM/AAAAAAAAAAI/AAAAAAAAAD8/EAEQqvPEPbw/photo.jpg?sz=128", "display_name": "J.L", "link": "https://stackoverflow.com/users/9503778/j-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1540429934, "last_edit_date": 1540429934, "creation_date": 1540423863, "answer_id": 52979291, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines/52979291#52979291", "title": "How do I split text from a text file at newlines?", "body": "<p>Instead of reading the file all at once. Read the lines individually. </p>\n\n<pre><code>f = open(\"file.txt\")\nfor i in f.readlines():\n    print (i)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 596100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1df682ecad0aabeb97749fe8c5fea798?s=128&d=identicon&r=PG", "display_name": "AlphaTested", "link": "https://stackoverflow.com/users/596100/alphatested"}, "is_accepted": false, "score": 0, "last_activity_date": 1540424260, "creation_date": 1540424260, "answer_id": 52979344, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines/52979344#52979344", "title": "How do I split text from a text file at newlines?", "body": "<p>Try changing:</p>\n\n<pre><code>message = fileInputOpen.read()\n</code></pre>\n\n<p>to </p>\n\n<p><code>message = fileInputOpen.readlines()</code></p>\n\n<p>This will make your file reads handle the file line by line. This will allow you to do your processing on a line by line basis first. Beyond that, If you want to encrypt each character, you'll need another for loop for the characters. </p>\n"}, {"tags": [], "owner": {"reputation": 831, "user_id": 2867337, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fbf0273a08cfad4e5f1f1485d3618222?s=128&d=identicon&r=PG&f=1", "display_name": "vinayawsm", "link": "https://stackoverflow.com/users/2867337/vinayawsm"}, "is_accepted": false, "score": 1, "last_activity_date": 1540491305, "last_edit_date": 1540491305, "creation_date": 1540424472, "answer_id": 52979365, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines/52979365#52979365", "title": "How do I split text from a text file at newlines?", "body": "<p>Instead of splitting at <code>'\\n'</code>, you can append all the characters in <code>message</code> that are not in <code>alphabet</code> to <code>encryptedMessage</code> when you encounter one.</p>\n\n<pre><code>for character in message:\n    if !(character in alphabet):\n        encryptedMessage += character\n        continue  # this takes back to begin of the loop\n    letterIndex = alphabet.find(character)\n    encryptedCharacter = shiftedAlphabet[letterIndex]\n    #print( \"{0} -&gt; {1}\".format(character, encryptedCharacter))\n    encryptedMessage += encryptedCharacter\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 1, "creation_date": 1540433044, "post_id": 52979414, "comment_id": 92866919, "body": "Files opened with <code>with</code> are closed automatically."}], "tags": [], "owner": {"reputation": 276, "user_id": 8895717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NRZT.jpg?s=128&g=1", "display_name": "Samantha Miller", "link": "https://stackoverflow.com/users/8895717/samantha-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1540438059, "last_edit_date": 1540438059, "creation_date": 1540424891, "answer_id": 52979414, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines/52979414#52979414", "title": "How do I split text from a text file at newlines?", "body": "<p>As the other answers have said, you can replace </p>\n\n<pre><code>fileInputOpen = open(fileInputName, \"r\")\nmessage = fileInputOpen.read()\n</code></pre>\n\n<p>with </p>\n\n<pre><code>with open(fileInputName, \"r\") as f:\n    messages = f.readlines()\n</code></pre>\n\n<p>This way, <code>messages</code> will be a list of strings, where each string is the text from a single line in your input file. Then, with some slight modifications to your loop over each character in messages, you can encrypt each string from your <code>messages</code> list. Here, I replaced your <code>encryptedMessage</code> with <code>currentEncryptedMessage</code> and added <code>encryptedMessages</code>, a list that keeps track of the encrypted version of each string in <code>messages</code>.</p>\n\n<pre><code>encryptedMessages = []\ncurrentEncryptedMessage = \"\"\n\nfor message in messages:\n    for character in message:\n        ... # same as code provided\n        currentEncryptedMessage += encryptedCharacter\n    encryptedMessages.append(currentEncryptedMessage)\n</code></pre>\n\n<p>When writing to your file, you can iterate through each element in <code>encryptedMessages</code> to print line-by-line.</p>\n\n<pre><code>with open( outputFileName, \"w\") as outputFile:\n    for message in encryptedMessages:\n        print(message, file=outputFile)\n</code></pre>\n\n<p>And so your output text file will preserve the line breaks from your input file.</p>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 0, "last_activity_date": 1540433187, "last_edit_date": 1540433187, "creation_date": 1540432845, "answer_id": 52980269, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines/52980269#52980269", "title": "How do I split text from a text file at newlines?", "body": "<ol>\n<li>You'll have to loop each line and every character you want to\nun-shift;</li>\n<li>The script should only un-shift characters present in <code>alphabet</code>;</li>\n<li>Checking for file existence is also a must or you may get errors if it doesn't exist.</li>\n<li><code>with open...</code> is the recommended way of reading and writing files in python.</li>\n</ol>\n\n<p>Here's an approach:</p>\n\n<pre><code>import os\nimport string\n\nfileInputName = input(\"Enter the file you want to encrypt: \")\nwhile not os.path.exists(fileInputName):\n    fileInputName = input(\"{} file doesn't exist.\\nEnter the file you want to encrypt : \".format(fileInputName))\n\nkey = int(input(\"Enter your shift key (&gt; 0): \"))\nwhile key &lt; 1 :\n    key = int(input(\"Invalid shift key value ({}) \\nEnter your shift key (&gt; 0): \".format(key)))\n\nfileOutputName = input(\"Enter the file name to write to: \")\nif os.path.exists(fileOutputName) :\n    ow = input(\"{} exists, overwrite? (y/n): \".format(fileOutputName))\n    if not ow.startswith(\"y\"):\n        fileOutputName = input(\"Enter the file name to write to: \") # asks for output filename again\n\nalphabet = string.ascii_letters + \" \"\nshiftedStart = alphabet[len(alphabet) - key:]\nshiftedEnd = alphabet[:len(alphabet) - key]\nshiftedAlphabet = shiftedStart + shiftedEnd\n\nwith open(fileOutputName, \"a\") as outputFile: # opens out file\n    with open(fileInputName, \"r\") as inFile:  # opens in file\n        for line in inFile.readlines(): # loop all lines in fileInput\n            encryptedCharacter = \"\"\n            for character in line: # loop all characters in line\n                if character in alphabet: # un-shift only if character is present in `alphabet`\n                    letterIndex = alphabet.find(character)\n                    encryptedCharacter += shiftedAlphabet[letterIndex]\n                else:\n                    encryptedCharacter += character # add the original character un-shifted\n            outputFile.write(\"{}\".format(encryptedCharacter)) # append line to outfile\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10475882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cC5ix.jpg?s=128&g=1", "display_name": "Allie M", "link": "https://stackoverflow.com/users/10475882/allie-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1540491305, "creation_date": 1540423471, "last_edit_date": 1540447480, "question_id": 52979241, "link": "https://stackoverflow.com/questions/52979241/how-do-i-split-text-from-a-text-file-at-newlines", "title": "How do I split text from a text file at newlines?", "body": "<p>I need to encrypt a message. The message follows, it is saved in a file named assignmenttest.txt</p>\n\n<pre><code>Hi my name is Allie\nI am a Junior\nI like to play volleyball\n</code></pre>\n\n<p>I need the program to encrypt each line and keep it's format so that So, I wrote the following program:</p>\n\n<pre><code>fileInputName = input(\"Enter the file you want to encrypt: \")\nkey = int(input(\"Enter your shift key: \"))\noutputFileName = input(\"Enter the file name to write to: \")\n\nfileInputOpen = open(fileInputName, \"r\")\nmessage = fileInputOpen.read()\n\n\nalphabet = \" ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\nshiftedStart = alphabet[len(alphabet) - key:]\nshiftedEnd = alphabet[:len(alphabet) - key]\n\nshiftedAlphabet = shiftedStart + shiftedEnd\n\nencryptedMessage = \"\"\n\nfor character in message:\n    letterIndex = message.split(\"\\n\")\n    letterIndex = alphabet.find(character)\n    encryptedCharacter = shiftedAlphabet[letterIndex]\n    #print( \"{0} -&gt; {1}\".format(character, encryptedCharacter))\n    encryptedMessage += encryptedCharacter\n\nprint(\"The encrypted message is: {0}\".format(encryptedMessage))\n\n\noutputFile = open( outputFileName, \"w\")\nprint(encryptedMessage, file=outputFile)\noutputFile.close()\n\nprint(\"Done writing encrypted message to file {0}\".format(outputFileName))\n</code></pre>\n\n<p>I tried to use a split at \\n, but the output is not formatted in three separate lines, instead it is all just one long string of encrypted letters.</p>\n\n<p>Any ideas on how to split the encrypted message at the correct spot and have it display as such? I've tried multiple split methods and none have worked. Thank you so much.</p>\n"}, {"tags": ["python", "web-scraping"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 0, "creation_date": 1540424086, "post_id": 52979238, "comment_id": 92865076, "body": "Doesn&#39;t the first <code>&lt;td&gt;</code> under each <code>&lt;tr&gt;</code> uniquely identifies the value? Also, if you&#39;re trying to get everything on page, it doesn&#39;t matter if anything identify uniquely does it?"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "edited": false, "score": 0, "creation_date": 1540424197, "post_id": 52979238, "comment_id": 92865105, "body": "Which part exactly are you trying to fetch?  Can you just split the page content on <code>&lt;tr style=&quot;background-image</code>?  Do you only want every second row?"}, {"owner": {"reputation": 43423, "user_id": 1011724, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/2JAXi.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1011724/dan"}, "edited": false, "score": 0, "creation_date": 1540457890, "post_id": 52979238, "comment_id": 92876066, "body": "Can&#39;t you just loop through the <code>&lt;tr&gt;</code>s? Why does the alternating rows matter in this situation?"}, {"owner": {"reputation": 159, "user_id": 3549729, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/daf6fbe33803488e12b99aa59b6e1cdb?s=128&d=identicon&r=PG&f=1", "display_name": "MixedBeans", "link": "https://stackoverflow.com/users/3549729/mixedbeans"}, "edited": false, "score": 0, "creation_date": 1540470859, "post_id": 52979238, "comment_id": 92883909, "body": "I could loop trough all the tr&#39;s but there are issues. There are other &lt;tr&gt;&#39;s in this table that I don&#39;t want(tables headers and nav). There are multiple tables on this page so I can&#39;t do a generalized scrape of just &lt;tr&gt;&#39;s. As mentioned before the only way to distinguish this particular table might be the div ID  id=&quot;generalBody&quot;. If I start with the div and then scrape all of the &lt;td&gt;&#39;s with the two background images that might be best. I had considered using only style=&quot;background-image&quot; but I believe there are several elements on that pages that use the same base styling. Make sense?"}], "owner": {"reputation": 159, "user_id": 3549729, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/daf6fbe33803488e12b99aa59b6e1cdb?s=128&d=identicon&r=PG&f=1", "display_name": "MixedBeans", "link": "https://stackoverflow.com/users/3549729/mixedbeans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540423456, "creation_date": 1540423456, "question_id": 52979238, "link": "https://stackoverflow.com/questions/52979238/how-do-i-scrape-a-website-that-has-alternating-rows", "title": "How do I scrape a website that has alternating rows?", "body": "<p>I am working on scraping this website. <a href=\"http://www.vgchartz.com/games/games.php?page=1&amp;results=500\" rel=\"nofollow noreferrer\">http://www.vgchartz.com/games/games.php?page=1&amp;results=500</a> . There are no unique tags but it looks like the background-img does a good job of identifying the rows. Below is the opening  tag for the first two rows. </p>\n\n<pre><code>&lt;tr style=\"background-image:url(../imgs/chartBar_alt_large.gif); height:70px\"&gt;\n&lt;tr style=\"background-image:url(../imgs/chartBar_large.gif); height:70px\"&gt;\n</code></pre>\n\n<p>The backround-img alternates. Can this be used to scrape or do I need to go down the HTML tree? </p>\n\n<p>There are a few  tags above these 's within the same  . The  does not have any identifiable metadata but the div which holds it does - id=\"generalBody\".</p>\n"}, {"tags": ["python", "python-3.x", "git", "github", "gitpython"], "answers": [{"comments": [{"owner": {"reputation": 2907, "user_id": 2199012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf011d700f154ddca78912f90401ddb9?s=128&d=identicon&r=PG", "display_name": "Tharanga Abeyseela", "link": "https://stackoverflow.com/users/2199012/tharanga-abeyseela"}, "edited": false, "score": 0, "creation_date": 1540429013, "post_id": 52979789, "comment_id": 92866090, "body": "first I need to merge local branch to local master , and then merge master to origin/master ?"}, {"owner": {"reputation": 597, "user_id": 7106043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad186da33c9c5db8a7af0e1b0bf31026?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/7106043/jonah"}, "reply_to_user": {"reputation": 2907, "user_id": 2199012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf011d700f154ddca78912f90401ddb9?s=128&d=identicon&r=PG", "display_name": "Tharanga Abeyseela", "link": "https://stackoverflow.com/users/2199012/tharanga-abeyseela"}, "edited": false, "score": 0, "creation_date": 1540429420, "post_id": 52979789, "comment_id": 92866187, "body": "I&#39;m not totally sure from your explanation what you&#39;re trying to accomplish in this code snippet. Why don&#39;t you just checkout master and merge the branches? Make sure you have a solid recipe to execute manually before trying to script it... But to answer the specific question about the error, you should be passing the names of the branches as strings to <code>repo.git.checkout</code>."}, {"owner": {"reputation": 2907, "user_id": 2199012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf011d700f154ddca78912f90401ddb9?s=128&d=identicon&r=PG", "display_name": "Tharanga Abeyseela", "link": "https://stackoverflow.com/users/2199012/tharanga-abeyseela"}, "edited": false, "score": 0, "creation_date": 1540430234, "post_id": 52979789, "comment_id": 92866338, "body": "my expectation is  cloning all repositories to my CI/CD server and then merge all branches to master, then push to origin/master"}], "tags": [], "owner": {"reputation": 597, "user_id": 7106043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad186da33c9c5db8a7af0e1b0bf31026?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/7106043/jonah"}, "is_accepted": true, "score": 2, "last_activity_date": 1540584029, "last_edit_date": 1540584029, "creation_date": 1540428380, "answer_id": 52979789, "question_id": 52979229, "link": "https://stackoverflow.com/questions/52979229/how-to-checkout-and-merge-branches-to-master-gitpython/52979789#52979789", "title": "How to checkout and merge branches to master - GITPYTHON", "body": "<p>I don't think you're using the API properly.</p>\n\n<pre><code>&gt;&gt;&gt; current=repo.git.checkout('origin/master')\n&gt;&gt;&gt; current\n''\n&gt;&gt;&gt; master = repo.git.checkout('master')\n&gt;&gt;&gt; master\n'Your branch is ahead of \\'origin/master\\' by 1 commit.\\n  (use \"git push\" to \npublish your local commits)'\n</code></pre>\n\n<p>I don't think you mean to pass these strings to <code>merge-base</code>. Passing the branch names has the desired effect:</p>\n\n<pre><code>&gt;&gt;&gt; repo.merge_base('origin/master', 'master')\n[&lt;git.Commit \"5999d3082d4051acd9d107eb3e70b3ee0e14d33f\"&gt;]\n</code></pre>\n\n<hr>\n\n<p>To simplify the recipe a bit, if you're trying to merge all remote branches into local master this should do the job:</p>\n\n<pre><code>repo = git.Repo(gdwlocalpath)\nrepo.git.fetch()\nremote_branches = repo.git.branch('-r').splitlines()\n\nrepo.git.checkout(ref)\nfor branch in remote_branches:\n    repo.git.merge(branch)\n</code></pre>\n\n<p>If there are merge conflicts then you should get a <code>GitCommandError</code>.</p>\n"}], "owner": {"reputation": 2907, "user_id": 2199012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf011d700f154ddca78912f90401ddb9?s=128&d=identicon&r=PG", "display_name": "Tharanga Abeyseela", "link": "https://stackoverflow.com/users/2199012/tharanga-abeyseela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1392, "favorite_count": 1, "accepted_answer_id": 52979789, "answer_count": 1, "score": 1, "last_activity_date": 1540584029, "creation_date": 1540423396, "last_edit_date": 1540423801, "question_id": 52979229, "link": "https://stackoverflow.com/questions/52979229/how-to-checkout-and-merge-branches-to-master-gitpython", "title": "How to checkout and merge branches to master - GITPYTHON", "body": "<p>I need to merge all my branches to the master using python. branch local path,buildno getting via environment variables. I have the following code to checkout each branch and merge to master. but it gives some errors when executing the code.</p>\n\n<pre><code>from git import Repo\nimport git\n\ndef mergeRepo(user, buildno, repo, branches, gdwlocalpath, ref=\"master\" ):\n\nbranch_list = branches.split(\",\")\nrepo = git.Repo(gdwlocalpath)\nrepo.git.checkout(ref)\ncurrent = repo.active_branch\nremote_branches = []\nfor ref in repo.git.branch('-r').split('\\n'):\n    remote_branches.append(ref.replace(\"origin/\",\"\").strip())\nprint(remote_branches)\n\nmergeFailure = False\nmergeResult = None\nprefix='origin/'\n\nfor branch in branch_list:\n    if branch in remote_branches:\n        print(prefix+branch)\n        current=repo.git.checkout(prefix+branch)\n        master = repo.git.checkout('master')\n        base = repo.merge_base( master,current)\n        repo.git.index.merge_tree(master, base=base)\n        repo.index.commit(\"Merge into master\",parent_commits=(current.commit, master.commit))\n        current.checkout(force=True)\n    else:\n        print(\"Branch doesn't exist:\",branch)\n</code></pre>\n\n<p>when I execute the code, it gives the following error. (I manually modified the om.docker.dev/xxx/releasekit/VERSION and commit to bug branch and pushed to the bug branch' and trying to execute the script, expected behaviour is new VERSION file should be merge with the master. </p>\n\n<p>error is actually  correct,as my bug branch is ahead of 1 commit to master, but I need to merge that commit to master. but it gives 128 exit code.</p>\n\n<p>if conflict happens it should display an error. (I dont have any exceptions at the moment). if I want to add any exceptions for merge failures and merge conflict how should I modify this. second question is why it is giving exit code 128. </p>\n\n<p>im using python 3.6</p>\n\n<pre><code> Traceback (most recent call last):\n  File \"./SingleMergeUp.py\", line 82, in &lt;module&gt;\n    mergeRepo(username,buildno,arguments.repo,arguments.sources,gdwpath)\n  File \"./SingleMergeUp.py\", line 40, in mergeRepo\n    base = repo.merge_base( master,current)\n  File \"/Users/ab/.virtualenvs/python_core/lib/python3.6/site-packages/git/repo/base.py\", line 490, in merge_base\n    lines = self.git.merge_base(*rev, **kwargs).splitlines()\n  File \"/Users/ab/.virtualenvs/python_core/lib/python3.6/site-packages/git/cmd.py\", line 440, in &lt;lambda&gt;\n    return lambda *args, **kwargs: self._call_process(name, *args, **kwargs)\n  File \"/Users/ab/.virtualenvs/python_core/lib/python3.6/site-packages/git/cmd.py\", line 834, in _call_process\n    return self.execute(make_call(), **_kwargs)\n  File \"/Users/ab/.virtualenvs/python_core/lib/python3.6/site-packages/git/cmd.py\", line 627, in execute\n    raise GitCommandError(command, status, stderr_value)\ngit.exc.GitCommandError: 'git merge-base Your branch is ahead of 'origin/master' by 1 commit.\n  (use \"git push\" to publish your local commits) ' returned with exit code 128\nstderr: 'fatal: Not a valid object name Your branch is ahead of 'origin/master' by 1 commit.\n  (use \"git push\" to publish your local commits)'\n</code></pre>\n"}, {"tags": ["python", "fractals", "mandelbrot"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540423590, "post_id": 52979218, "comment_id": 92864933, "body": "See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help. What values does this code produce for display?  Please supply an illustrative tracing output."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540423636, "post_id": 52979218, "comment_id": 92864947, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your posted code fails for undefined symbols -- probably a missing <code>import</code>."}, {"owner": {"reputation": 13, "user_id": 10173748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TSf6bU-cwKU/AAAAAAAAAAI/AAAAAAAAAZw/AJwbJ9JD-p4/photo.jpg?sz=128", "display_name": "Alex Ruan", "link": "https://stackoverflow.com/users/10173748/alex-ruan"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540423802, "post_id": 52979218, "comment_id": 92864997, "body": "@Prune Sorry, forgot to upload image"}], "answers": [{"tags": [], "owner": {"reputation": 644, "user_id": 8585568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sTdXfvkam3w/AAAAAAAAAAI/AAAAAAAAAOM/nOZfY0y98D8/photo.jpg?sz=128", "display_name": "Tadeusz Sznuk", "link": "https://stackoverflow.com/users/8585568/tadeusz-sznuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1540424220, "creation_date": 1540424220, "answer_id": 52979339, "question_id": 52979218, "link": "https://stackoverflow.com/questions/52979218/julia-set-code-creates-a-circle-instead-of-a-fractal/52979339#52979339", "title": "Julia set code creates a circle instead of a fractal", "body": "<p>This line:</p>\n\n<p><code>z = c + complex(0.25, 0.1)</code></p>\n\n<p>always yields the same value (current point + a constant) in each iteration, so your code just draws a circle. Change that line to</p>\n\n<p><code>z = z**2 + complex(0.25, 0.1)</code></p>\n\n<p>and initialize <code>z</code> based on the current point (like <code>c</code> is in your current code).</p>\n"}], "owner": {"reputation": 13, "user_id": 10173748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TSf6bU-cwKU/AAAAAAAAAAI/AAAAAAAAAZw/AJwbJ9JD-p4/photo.jpg?sz=128", "display_name": "Alex Ruan", "link": "https://stackoverflow.com/users/10173748/alex-ruan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 52979339, "answer_count": 1, "score": -2, "last_activity_date": 1540424220, "creation_date": 1540423328, "last_edit_date": 1540423718, "question_id": 52979218, "link": "https://stackoverflow.com/questions/52979218/julia-set-code-creates-a-circle-instead-of-a-fractal", "title": "Julia set code creates a circle instead of a fractal", "body": "<p>I have this code:</p>\n\n<pre><code>from PIL import Image\nimport colorsys\n\nxmin, xmax = -2.0, 2.0\nymin, ymax = -2.0, 2.0\n\ndepth = 12\n\nimgx, imgy = 512, 512\n\nmaxIter = 256\n\nimage = Image.new(\"RGB\", (imgx, imgy))\n\nfor y in range(imgy):\n    cy = y * (ymax - ymin)/(imgy - 1) + ymin\n    for x in range(imgx):\n        cx = x * (xmax - xmin)/(imgx - 1) + xmin\n        c = complex(cx, cy)\n        z = 0\n        for i in range(maxIter):\n            if abs(z) &gt; 2.0:\n                break\n            z = c + complex(0.25, 0.1)\n        r = i\n        g = int((i*50)%256)\n        b = int(255 - i)\n        image.putpixel((x, y), (r, g, b))\n</code></pre>\n\n<p>It creates an image of a circle (image below), and I can't understand why. I think it might have something to do with the for loops and the if statements, but I can't figure out what the problem would be. If it's not that, what is it?</p>\n\n<p>Side note: this code is adapted from a Mandelbrot set code I wrote. The only difference is that instead of <code>z = c + complex(0.25, 0.1),</code> I have <code>z = z**2 + c.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/cWFug.png\" rel=\"nofollow noreferrer\">Julia Set</a> </p>\n"}, {"tags": ["python", "selenium", "flask"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1540450356, "post_id": 52979209, "comment_id": 92871888, "body": "Update the question with error stack trace"}], "owner": {"reputation": 747, "user_id": 982599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5ce788443cc1d83351b7073be9eb1ca3?s=128&d=identicon&r=PG", "display_name": "user982599", "link": "https://stackoverflow.com/users/982599/user982599"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540573449, "creation_date": 1540423222, "last_edit_date": 1540573449, "question_id": 52979209, "link": "https://stackoverflow.com/questions/52979209/python-selenium-webdriverexception-message-process-unexpectedly-closed-with-st", "title": "Python selenium WebDriverException: Message: Process unexpectedly closed with status 127", "body": "<p>I built a Flask app that allows users to input a URL.  The app calls a function that leverages Selenium's Firefox Webdriver to go out and take a screen shot of the inputed URL.  The error I am getting is:\n<code>WebDriverException: Message: Process unexpectedly closed with status 127</code></p>\n\n<p>I am not sure what I am missing any help would be appreciated.</p>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>File \"/opt/scraper_ui/scraper_engine/simple_scraper.py\", line 101, in \npage_shot_stitched\n    driver = webdriver.Firefox(capabilities=cap, \nfirefox_options=options, executable_path='/usr/local/bin/geckodriver')\n  File \"/opt/scraper_ui/scraper_ui_env/local/lib/python2.7/site-packages/selenium/webdriver/firefox/webdriver.py\", line 170, in __init__\nkeep_alive=True)\n  File \"/opt/scraper_ui/scraper_ui_env/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 156, in __init__\n    self.start_session(capabilities, browser_profile)\n  File \"/opt/scraper_ui/scraper_ui_env/local/lib/python2.7/site- \npackages/selenium/webdriver/remote/webdriver.py\", line 251, in \nstart_session\n    response = self.execute(Command.NEW_SESSION, parameters)\n  File \"/opt/scraper_ui/scraper_ui_env/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 320, in execute\nself.error_handler.check_response(response)\n  File \"/opt/scraper_ui/scraper_ui_env/local/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 242, in check_response\n    raise exception_class(message, screen, stacktrace)\nWebDriverException: Message: Process unexpectedly closed with status 127\n</code></pre>\n\n<p>Here is the function code:</p>\n\n<pre><code>def page_shot_stitched(**kwargs):\n    url = kwargs.pop('url', None)\n    site_folder = kwargs.pop('site_folder', None)\n    options = Options()\n    options.binary = '/usr/bin/firefox'\n    options.add_argument(\"--headless\")\n    options.add_argument(\"--start-maximized\")\n    try:\n        cap = DesiredCapabilities().FIREFOX\n        cap[\"marionette\"] = True\n        driver = webdriver.Firefox(capabilities=cap, \n firefox_options=options, executable_path='/usr/local/bin/geckodriver')\n    driver.get(url)\n        js = 'return Math.max( document.body.scrollHeight, \ndocument.body.offsetHeight,  document.documentElement.clientHeight,  \ndocument.documentElement.scrollHeight,  \ndocument.documentElement.offsetHeight);'\n        scrollheight = driver.execute_script(js)\n        slices = []\n        offset = 0\n        while offset &lt; scrollheight:\n            driver.execute_script(\"window.scrollTo(0, %s);\" % offset)\n            img = Image.open(StringIO(driver.get_screenshot_as_png()))\n            offset += img.size[1]\n            slices.append(img)\n            screenshot = Image.new('RGB', (slices[0].size[0], scrollheight))\n        offset = 0\n\n        for img in slices:\n            screenshot.paste(img, (0, offset))\n            offset += img.size[1]\n        screenshot.save('{0}.png'.format(site_folder),'PNG')\n        driver.quit()\n    except Exception as e:\n        import traceback\n        print traceback.format_exc()\n        retriever_logger.error('Error {0}'.format(traceback.format_exc()))\n</code></pre>\n\n<p>When not using Flask calling the function works fine and a screenshot is taken.</p>\n"}, {"tags": ["python", "sql", "sqlite"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1540423583, "post_id": 52979204, "comment_id": 92864930, "body": "Also, don&#39;t make the (extremely common) beginner mistake of thinking sqlite has an actual <code>DATE</code> type. Read <a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">sqlite.org/datatype3.html</a> for details."}, {"owner": {"reputation": 369, "user_id": 2036120, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f98d00bac2d98cd1f97b7215c899067e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Ciceri", "link": "https://stackoverflow.com/users/2036120/andrea-ciceri"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1540423728, "post_id": 52979204, "comment_id": 92864979, "body": "Thanks, I corrected the syntax, however this is an example I created ad hoc to expose my problem, it&#39;s not meant to be executed. I&#39;ve already read something about the &quot;fake&quot; Date type, I&#39;ll take this opportunity to read your link and understand more."}, {"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 1, "creation_date": 1540423815, "post_id": 52979204, "comment_id": 92865007, "body": "Are you in charge of the part of program updating table? because if you are, you probably should create object at the same time so you don&#39;t have to do this. Also, one table is better -&gt; you don&#39;t have to have from_0to1 and from1to0, just have a column saying that."}, {"owner": {"reputation": 369, "user_id": 2036120, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f98d00bac2d98cd1f97b7215c899067e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Ciceri", "link": "https://stackoverflow.com/users/2036120/andrea-ciceri"}, "edited": false, "score": 0, "creation_date": 1540424109, "post_id": 52979204, "comment_id": 92865089, "body": "Yes I am, but I don&#39;t know how to write the query. I have to insert a row in this table only if the status field in the \u2019things\u2019 table is set to a different value from the new. How can I achieve that?"}], "owner": {"reputation": 369, "user_id": 2036120, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f98d00bac2d98cd1f97b7215c899067e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Ciceri", "link": "https://stackoverflow.com/users/2036120/andrea-ciceri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540423603, "creation_date": 1540423199, "last_edit_date": 1540423603, "question_id": 52979204, "link": "https://stackoverflow.com/questions/52979204/best-approach-to-store-time-intervals", "title": "Best approach to store time intervals", "body": "<p>I have a table like this:</p>\n\n<pre><code>CREATE TABLE things\n(id INTEGER PRIMARY KEY,\n name TEXT,\n status INTEGER);\n</code></pre>\n\n<p>There are these \"things\" which have a status that can be 1 or 0, this status is changed automatically by another part of my program.\nI would like to store information about the time intervals when these things status is 0 or 1, what can I do?\nI thought to create two tables:</p>\n\n<pre><code>CREATE TABLE status_from_0_to_1\n(id INTEGER PRIMARY KEY,\n datetime DATE,\n things_id INTEGER,\n FOREIGN KEY (id) REFERENCES things (id));\n\nCREATE TABLE status_from_1_to_0\n(id INTEGER PRIMARY KEY,\n datetime DATE,\n things_id INTEGER,\n FOREIGN KEY (id) REFERENCES things (id));\n</code></pre>\n\n<p>But now I don't know how to write the query that check if the new status is different from the status in the table <code>things</code> and only in this case add a row in one of the two tables.\nI don't know if this is the best approach, I also thought to create a single table (besides <code>things</code>) with two <code>DATE</code> fields but I think the query would be even more diffult.</p>\n"}, {"tags": ["python", "telegram", "telepot"], "answers": [{"comments": [{"owner": {"reputation": 40, "user_id": 8838667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MoJ6bmP1HjQ/AAAAAAAAAAI/AAAAAAAAACc/MJDpN_yy8wg/photo.jpg?sz=128", "display_name": "Ali Mohammad Movahedian", "link": "https://stackoverflow.com/users/8838667/ali-mohammad-movahedian"}, "edited": false, "score": 0, "creation_date": 1540471482, "post_id": 52979587, "comment_id": 92884353, "body": "yes it works.thanks but I thought the chat_id is the id of the person who is chatting with the bot"}, {"owner": {"reputation": 1535, "user_id": 66646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab4f5de9d7938c323df823797e7e51e?s=128&d=identicon&r=PG&f=1", "display_name": "emirc", "link": "https://stackoverflow.com/users/66646/emirc"}, "reply_to_user": {"reputation": 40, "user_id": 8838667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MoJ6bmP1HjQ/AAAAAAAAAAI/AAAAAAAAACc/MJDpN_yy8wg/photo.jpg?sz=128", "display_name": "Ali Mohammad Movahedian", "link": "https://stackoverflow.com/users/8838667/ali-mohammad-movahedian"}, "edited": false, "score": 0, "creation_date": 1540472945, "post_id": 52979587, "comment_id": 92885335, "body": "glad it helps. can you please accept answer? thanks."}], "tags": [], "owner": {"reputation": 1535, "user_id": 66646, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab4f5de9d7938c323df823797e7e51e?s=128&d=identicon&r=PG&f=1", "display_name": "emirc", "link": "https://stackoverflow.com/users/66646/emirc"}, "is_accepted": true, "score": 0, "last_activity_date": 1540426364, "creation_date": 1540426364, "answer_id": 52979587, "question_id": 52979201, "link": "https://stackoverflow.com/questions/52979201/how-to-forward-a-message-from-the-botnot-a-person-to-a-chat/52979587#52979587", "title": "how to forward a message from the bot(not a person) to a chat", "body": "<p>Second param to forward should be originating chat id, not user id.\nTry calling:</p>\n\n<p>bot.forwardMessage(my_id, bot_msg['chat']['id'], bot_msg['message_id'])</p>\n"}], "owner": {"reputation": 40, "user_id": 8838667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MoJ6bmP1HjQ/AAAAAAAAAAI/AAAAAAAAACc/MJDpN_yy8wg/photo.jpg?sz=128", "display_name": "Ali Mohammad Movahedian", "link": "https://stackoverflow.com/users/8838667/ali-mohammad-movahedian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 52979587, "answer_count": 1, "score": 0, "last_activity_date": 1540426364, "creation_date": 1540423169, "question_id": 52979201, "link": "https://stackoverflow.com/questions/52979201/how-to-forward-a-message-from-the-botnot-a-person-to-a-chat", "title": "how to forward a message from the bot(not a person) to a chat", "body": "<p>I want to forward the whole conversation of my bot and another person to myself</p>\n\n<p>This is my code:</p>\n\n<pre><code>import telepot\nbot = telepot.Bot('&lt;Token&gt;')\ndef handle(msg):\n    my_id = 123456789    # this is my id for example\n    chat_id = telepot.glance(msg)[2]\n    bot_msg = bot.sendMessage(chat_id, 'this message is sent by bot')\n    bot.forwardMessage(my_id, bot_msg['from']['id'], bot_msg['message_id']) # this line gets error\n</code></pre>\n\n<p>But when I try to forward messages from bot I get this error:</p>\n\n<pre><code>telepot.exception.TelegramError: ('Bad Request: message to forward not found', 400, {'ok': False, 'error_code': 400, 'description': 'Bad Request: message to forward not found'})\n</code></pre>\n\n<p>Am I doing somthing wrong?\nor It's just restricted by telegram?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 3, "creation_date": 1540422686, "post_id": 52979136, "comment_id": 92864707, "body": "your <code>key</code> is nested in the dictionary object, you are expected to use nested dictionary calls: <code>element[&#39;fields&#39;][&#39;idb_metric&#39;]</code>"}, {"owner": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "edited": false, "score": 0, "creation_date": 1540425811, "post_id": 52979136, "comment_id": 92865453, "body": "as an FYI, be careful about deleting elements from a <code>dict</code> that you are iterating over. in this case it&#39;s ok, because the you aren&#39;t actually removing the elements over which you are iterating <a href=\"https://stackoverflow.com/a/5385075/5491375\">stackoverflow.com/a/5385075/5491375</a>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540425875, "post_id": 52979136, "comment_id": 92865472, "body": "<a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">please limit to one question per post</a>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540426357, "post_id": 52979136, "comment_id": 92865562, "body": "please include your desired output/result in the question?"}, {"owner": {"reputation": 781, "user_id": 3712321, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/164e07d0086c414ddd750ee9214e0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "timsterc", "link": "https://stackoverflow.com/users/3712321/timsterc"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540478938, "post_id": 52979136, "comment_id": 92889536, "body": "@davedwards Added expected results. Also, I wouldn&#39;t say this is a second question as the original question was not satisfactorily answered. This is why I updated my comments for clarity."}, {"owner": {"reputation": 590, "user_id": 3594687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qhyxG.jpg?s=128&g=1", "display_name": "Joel Carlson", "link": "https://stackoverflow.com/users/3594687/joel-carlson"}, "edited": false, "score": 0, "creation_date": 1540487108, "post_id": 52979136, "comment_id": 92894235, "body": "To your second question, use another <code>if</code> rather than <code>elif</code>. The <code>elif</code> won&#39;t run if the the first <code>if</code> is satisfied."}], "answers": [{"comments": [{"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 2, "creation_date": 1540423667, "post_id": 52979225, "comment_id": 92864956, "body": "You can simplify that check to <code>if &#39;idb_metric&#39; in element[&quot;fields&quot;]</code>"}, {"owner": {"reputation": 781, "user_id": 3712321, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/164e07d0086c414ddd750ee9214e0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "timsterc", "link": "https://stackoverflow.com/users/3712321/timsterc"}, "edited": false, "score": 0, "creation_date": 1540425037, "post_id": 52979225, "comment_id": 92865286, "body": "Thanks, that worked but then next question is how to find/delete multiple keys. Updated question accordingly."}], "tags": [], "owner": {"reputation": 590, "user_id": 3594687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qhyxG.jpg?s=128&g=1", "display_name": "Joel Carlson", "link": "https://stackoverflow.com/users/3594687/joel-carlson"}, "is_accepted": false, "score": 2, "last_activity_date": 1540487309, "last_edit_date": 1540487309, "creation_date": 1540423358, "answer_id": 52979225, "question_id": 52979136, "link": "https://stackoverflow.com/questions/52979136/removing-json-key-from-file-in-python/52979225#52979225", "title": "Removing JSON key from file in python", "body": "<p>As one of the commenters mentioned, you aren't indexing into the correct field in your json dictionary.</p>\n\n<p>To fix:</p>\n\n<pre><code>with open('input.json',encoding='utf8') as in_file:\n    data = json.load(in_file)\n    for element in data:\n        del element[\"fields\"][\"idb_metric\"]\n\n    print(element[\"fields\"])\n</code></pre>\n\n<p>It may also save you some headaches if you make sure that the key exists before trying to delete it. This is one way to check if it exists:</p>\n\n<pre><code>with open('input.json',encoding='utf8') as in_file:\n    data = json.load(in_file)\n    for element in data:\n        if element.get(\"fields\") is not None:\n            if element[\"fields\"].get(\"idb_metric\") is not None:\n                del element[\"fields\"][\"idb_metric\"]\n    print(element[\"fields\"])\n</code></pre>\n\n<p>As an answer to your edited question, don't use elif:</p>\n\n<pre><code>if 'idb_metric' in element[\"fields\"]:\n    print(\"Found idb_metric!\")\n    del element['fields']['idb_metric']\n    print(element)\n\nif 'sequence' in element[\"fields\"]:\n    print(\"Found sequence!\")\n    del element['fields']['sequence']\n    print(element)\n</code></pre>\n"}], "owner": {"reputation": 781, "user_id": 3712321, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/164e07d0086c414ddd750ee9214e0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "timsterc", "link": "https://stackoverflow.com/users/3712321/timsterc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3937, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540487309, "creation_date": 1540422543, "last_edit_date": 1540478854, "question_id": 52979136, "link": "https://stackoverflow.com/questions/52979136/removing-json-key-from-file-in-python", "title": "Removing JSON key from file in python", "body": "<p>I have a file with multiple JSON objects, like so:</p>\n\n<pre><code>[\n  {\n\"fields\": {\n    \"project\": {\n        \"key\": \"GID\"\n    },\n    \"description\": \"\",\n    \"documentKey\": \"AB-TC-678\",\n    \"globalId\": \"GID-462256\",\n    \"idb_metric\": \"framework.jama.infra.tagged.testcases\",\n    \"lastActivityDate\": \"2017-12-19\",\n    \"name\": \"Admin: Action commands\",\n    \"sequence\": \"4.13.2.13.5.1.17\",\n    \"testCaseStatus\": \"PASSED\",\n    \"testCaseSteps\": \"FIELD_NOT_PRESENT\"\n   }\n},\n{\n\"fields\": {\n    \"project\": {\n        \"key\": \"GID\"\n    },\n    \"description\": \"\",\n    \"documentKey\": \"AB-TC-679\",\n    \"globalId\": \"GID-462256\",\n    \"idb_metric\": \"framework.jama.infra.tagged.testcases\",\n    \"lastActivityDate\": \"2017-12-19\",\n    \"name\": \"Admin: Action not\",\n    \"sequence\": \"4.13.2.13.5.1.18\",\n    \"testCaseStatus\": \"PASSED\",\n    \"testCaseSteps\": \"FIELD_NOT_PRESENT\"\n    }\n}\n]\n</code></pre>\n\n<p>What I'm trying to do is delete lines where key=x, for example, where key=\"idb_metric\". Using answers/comments below (thanks!), I'm almost there:</p>\n\n<pre><code>if 'idb_metric' in element[\"fields\"]:\n    print(\"Found idb_metric!\")\n    del element['fields']['idb_metric']\n    print(element)\n</code></pre>\n\n<p>But if I look for a second key by adding an elif, only the first key (in the first if block) is found/deleted: </p>\n\n<pre><code>elif 'sequence' in element[\"fields\"]:\n        print(\"Found sequence!\")\n        del element['fields']['sequence']\n        print(element)\n</code></pre>\n\n<p>Expected results if I were to use the above code:</p>\n\n<pre><code>[\n  {\n\"fields\": {\n    \"project\": {\n        \"key\": \"GID\"\n    },\n    \"description\": \"\",\n    \"documentKey\": \"AB-TC-678\",\n    \"globalId\": \"GID-462256\",\n    \"lastActivityDate\": \"2017-12-19\",\n    \"name\": \"Admin: Action commands\",\n    \"testCaseStatus\": \"PASSED\",\n    \"testCaseSteps\": \"FIELD_NOT_PRESENT\"\n   }\n},\n{\n\"fields\": {\n    \"project\": {\n        \"key\": \"GID\"\n    },\n    \"description\": \"\",\n    \"documentKey\": \"AB-TC-679\",\n    \"globalId\": \"GID-462256\",\n    \"lastActivityDate\": \"2017-12-19\",\n    \"name\": \"Admin: Action not\",\n    \"testCaseStatus\": \"PASSED\",\n    \"testCaseSteps\": \"FIELD_NOT_PRESENT\"\n    }\n}\n]\n</code></pre>\n"}, {"tags": ["python", "dataframe", "time-series"], "answers": [{"tags": [], "owner": {"reputation": 449, "user_id": 9668379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec783e2870636abdbee28234b334a1fc?s=128&d=identicon&r=PG&f=1", "display_name": "A.Abs", "link": "https://stackoverflow.com/users/9668379/a-abs"}, "is_accepted": false, "score": 3, "last_activity_date": 1542292462, "creation_date": 1542292462, "answer_id": 53321757, "question_id": 52979131, "link": "https://stackoverflow.com/questions/52979131/none-freq-not-allowing-seasonal-decompose/53321757#53321757", "title": "None freq not allowing seasonal_decompose", "body": "<p>I have faced the same problem and fixed it by specifying the frequency argument.</p>\n\n<pre><code>seasonal_decompose(Ts, model = 'additive', freq=1)\n</code></pre>\n\n<p>I hope this help. \nI found <a href=\"https://www.analyticsvidhya.com/blog/2016/02/time-series-forecasting-codes-python/\" rel=\"nofollow noreferrer\">https://www.analyticsvidhya.com/blog/2016/02/time-series-forecasting-codes-python/</a> helpful. </p>\n"}, {"tags": [], "owner": {"reputation": 4016, "user_id": 7109869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/661pb.jpg?s=128&g=1", "display_name": "Gon&#231;alo Peres \u9f9a\u71ff\u7984", "link": "https://stackoverflow.com/users/7109869/gon%c3%a7alo-peres-%e9%be%9a%e7%87%bf%e7%a6%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1595925965, "creation_date": 1595925965, "answer_id": 63130286, "question_id": 52979131, "link": "https://stackoverflow.com/questions/52979131/none-freq-not-allowing-seasonal-decompose/63130286#63130286", "title": "None freq not allowing seasonal_decompose", "body": "<p><a href=\"https://www.statsmodels.org/stable/generated/statsmodels.tsa.seasonal.seasonal_decompose.html\" rel=\"nofollow noreferrer\">Statsmodel</a> requires the frequency to decompose the series.</p>\n<p>Usually, that frequency is in the metadata of the index (be it daily, weekly, mothly,...). However, yours doesn't have and that it why it gives you that error.</p>\n<p>There at least two ways to solve it (let's consider the <code>df</code> named <code>x</code>):</p>\n<p>\u2022 The one @A.Abs mentions, where you will pass <code>freq</code> in the seasonal_decompose, such as <code>seasonal_decompose(x['Price'], freq=365)</code>.</p>\n<p>\u2022 Setting the frequency to one's index column as <code>x.index.adfreq(freq='d')</code>, where <code>'d'</code> corresponds to the day (daily frequency).</p>\n<p>For more information on the frequency strings (or offset aliases) that can be passed into freq keyword arguments, check <a href=\"https://stackoverflow.com/a/17001474/7109869\">this answer</a> or <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html\" rel=\"nofollow noreferrer\">this Pandas Documentation page</a>.</p>\n"}], "owner": {"reputation": 65, "user_id": 7528191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b39363d2601fc71a751f026c7af088ee?s=128&d=identicon&r=PG&f=1", "display_name": "Vipul Rustagi", "link": "https://stackoverflow.com/users/7528191/vipul-rustagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2323, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1612537744, "creation_date": 1540422529, "last_edit_date": 1612537744, "question_id": 52979131, "link": "https://stackoverflow.com/questions/52979131/none-freq-not-allowing-seasonal-decompose", "title": "None freq not allowing seasonal_decompose", "body": "<p>Trying to apply seasonal_decompose on timeseries data whose freq is irregular. It looks something like this:</p>\n\n<pre><code>            modal_price\nPeriod  \n2014-11-01  1469\n2015-01-01  1258\n2015-03-01  1112\n2015-04-01  1373\n2015-06-01  1370\n2015-07-01  1406\n2015-08-01  1520\n2015-09-01  1860\n2015-10-01  1436\n2015-11-01  1455\n</code></pre>\n\n<p>freq comes out to be None when I use df.index.freq</p>\n\n<p>When I use seasonal_decompose function like this:</p>\n\n<pre><code>seasonal_decompose(x, model = 'additive')\n</code></pre>\n\n<p>it shows an error</p>\n\n<pre><code>ValueError: You must specify a freq or x must be a pandas object with a timeseries index with a freq not set to None.\n</code></pre>\n\n<p>Need help.</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 962, "user_id": 596100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1df682ecad0aabeb97749fe8c5fea798?s=128&d=identicon&r=PG", "display_name": "AlphaTested", "link": "https://stackoverflow.com/users/596100/alphatested"}, "is_accepted": true, "score": 0, "last_activity_date": 1540425376, "creation_date": 1540425376, "answer_id": 52979478, "question_id": 52979089, "link": "https://stackoverflow.com/questions/52979089/read-and-write-to-a-specific-cell-in-a-file/52979478#52979478", "title": "Read and Write to a specific cell in a file", "body": "<p>From the example code on openpyxl:</p>\n\n<pre><code>from openpyxl import Workbook\nwb = Workbook()\n\n# grab the active worksheet\nws = wb.active\n\n# Data can be assigned directly to cells\nws['A1'] = 42\n</code></pre>\n\n<p>Given this, you should be able to see assigned the value of a given cell with </p>\n\n<pre><code>ws['A1']\n</code></pre>\n\n<p>and assign random other with:</p>\n\n<pre><code>ws['A1']=ws[random[row]+random[cell]]\n</code></pre>\n\n<p>ramdom[row/cell] is psudocode. You'd select how you want to define the random[row/cell] data.</p>\n\n<p>Don't forget to save, btw.</p>\n\n<pre><code># Save the file\nwb.save(\"sample.xlsx\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8877682"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 52979478, "answer_count": 1, "score": 0, "last_activity_date": 1540425376, "creation_date": 1540422244, "last_edit_date": 1540423200, "question_id": 52979089, "link": "https://stackoverflow.com/questions/52979089/read-and-write-to-a-specific-cell-in-a-file", "title": "Read and Write to a specific cell in a file", "body": "<p>I am writing a program where it reads from an excel sheet, it randomly picks a row (100 rows, 2 columns). </p>\n\n<pre><code>with open(\"file1.csv\") as f:\n     reader = csv.reader(f)\n     for index, row in enumerate(reader):\n         if index == 0:\n            chosen_row = row\n         else:\n            r = random.randint(0, index)\n            if r == 0:\n                chosen_row = row\n</code></pre>\n\n<p>I want it to write to a specific row/column. \nFor example; if it randomly picks from row 4, column A. It would write the answer to row4, column B.</p>\n\n<p>Here is what I have (it's wrong and it doesn't write to the specific cell)</p>\n\n<pre><code>    x = input(chosen_row[0])\n    srcfile = openpyxl.load_workbook(\"file1.csv\",read_only=False, \n    keep_vba= True)\n    sheetname = srcfile.get_sheet_by_name('Sheet1')\n    sheetname.cell(row=chosen_index,column=2).value = x \n    srcfile.save('file1.csv')\n</code></pre>\n\n<p>I want to know how it can randomly pick a row, and have my code get the user's input and write it to the specific cell of the that row.</p>\n"}, {"tags": ["python", "python-3.x", "windows-services", "pywin32"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540422595, "post_id": 52979088, "comment_id": 92864678, "body": "im pretty sure that http.HTTPServer is not designed to be a production server... Ive seen a few questions like this recently, which makes me a bit nervous"}, {"owner": {"reputation": 298, "user_id": 4291923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vjxlD.jpg?s=128&g=1", "display_name": "koshachok", "link": "https://stackoverflow.com/users/4291923/koshachok"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540422705, "post_id": 52979088, "comment_id": 92864711, "body": ":D i just need some sort of a light daemon on windows machine, so maybe that&#39;s a new trend"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540423249, "post_id": 52979088, "comment_id": 92864838, "body": "why not use one of the 100000000 million better solutions out there (ie apache or gunicorn) that are actually designed for this ?  I suspect any form of <code>HTTPServer.start()</code> will end up hanging and becoming unresponsive requiring restarting the service more frequently than you would like (yes even if you are just running locally) (I know this doesnt actually address your question...)"}, {"owner": {"reputation": 298, "user_id": 4291923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vjxlD.jpg?s=128&g=1", "display_name": "koshachok", "link": "https://stackoverflow.com/users/4291923/koshachok"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540423938, "post_id": 52979088, "comment_id": 92865037, "body": "As I know(i can be wrong) , apache cant run server and infinite loop at the same time."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540424181, "post_id": 52979088, "comment_id": 92865101, "body": "there is no infinite loop if you use apache (or gunicorn) ... you would stop the service by stopping apache or gunicorn"}, {"owner": {"reputation": 298, "user_id": 4291923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vjxlD.jpg?s=128&g=1", "display_name": "koshachok", "link": "https://stackoverflow.com/users/4291923/koshachok"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540424995, "post_id": 52979088, "comment_id": 92865276, "body": "i&#39;m not sure, that I understand, what u mean. What I want to have : server which accepts post requests, and once per day I need to send an email. That&#39;s all."}], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 523854, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3642bd893611496eeac7b71e67942660?s=128&d=identicon&r=PG", "display_name": "gumo", "link": "https://stackoverflow.com/users/523854/gumo"}, "is_accepted": false, "score": 0, "last_activity_date": 1579169795, "creation_date": 1579169795, "answer_id": 59767371, "question_id": 52979088, "link": "https://stackoverflow.com/questions/52979088/pywin32-windows-service-doesnt-want-to-send-request-status/59767371#59767371", "title": "pywin32 Windows service doesn&#39;t want to send request status", "body": "<p>I had the same error while writing a plugin for <a href=\"https://qgis.org\" rel=\"nofollow noreferrer\">QGIS</a> in python 3.7.\nAfter some digging it tourned out that <code>send_response()</code> internally calls <code>sys.stderr.write</code> (in <a href=\"https://github.com/python/cpython/blob/970188c2d792133e2273924a987e0542659a676f/Lib/http/server.py#L577\" rel=\"nofollow noreferrer\">log_message</a>) and <code>stderr</code> here is null. As I don<code>t know much about QGIS and python and plugins and all I can</code>t tell, why it<code>s like that. I solved this by simply overriding</code>log_message` in my plugin.</p>\n"}], "owner": {"reputation": 298, "user_id": 4291923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vjxlD.jpg?s=128&g=1", "display_name": "koshachok", "link": "https://stackoverflow.com/users/4291923/koshachok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1579169795, "creation_date": 1540422242, "last_edit_date": 1540427418, "question_id": 52979088, "link": "https://stackoverflow.com/questions/52979088/pywin32-windows-service-doesnt-want-to-send-request-status", "title": "pywin32 Windows service doesn&#39;t want to send request status", "body": "<p>I have a python server made from <code>HTTPServer</code>. And I want to use this server as a Windows service: </p>\n\n<p>This is how server looks:</p>\n\n<pre><code>class Handler(BaseHTTPRequestHandler):\n\n        def do_GET(self):\n            self.send_response(200)\n            self.wfile.write(bytes(\"Hi, guys.\", \"utf8\"))\n\n\nclass Server:\n    def __init__(self, host, port):\n        self.http_server = HTTPServer((host, port), Handler)\n        self.thread = threading.Thread(target=self.http_server.serve_forever)\n\n    def start(self):\n        self.thread.start()\n\n    def stop(self):\n        self.http_server.shutdown()\n        self.thread.join()\n\n    @staticmethod\n    def do_job():\n        do_some_staff_here()\n        time.sleep(1)\n</code></pre>\n\n<p>So, it's very simple. To create Windows service I use pywin32. Let's have a look at my code:</p>\n\n<pre><code> class AppServerSvc(win32serviceutil.ServiceFramework):\n    _svc_name_ = \"TestService\"\n    _svc_display_name_ = \"TestService\"\n\n    def __init__(self, args):\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)\n        socket.setdefaulttimeout(60)\n        self.stop_requested = False\n\n    def SvcStop(self):\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        win32event.SetEvent(self.hWaitStop)\n        self.stop_requested = True\n\n    def SvcDoRun(self):\n        servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE,\n                              servicemanager.PYS_SERVICE_STARTED,\n                              (self._svc_name_, ''))\n        self.main()\n\n    def main(self):\n        server = Server(\"\", 8080)\n        server.start()\n        while not self.stop_requested:\n            server.do_job()\n        server.stop()\n\n\nif __name__ == '__main__':\n    win32serviceutil.HandleCommandLine(AppServerSvc)\n</code></pre>\n\n<p>And there are some problems:</p>\n\n<ul>\n<li>In usual \"service\" mode (when I'm enabling it though desktop app), if I'm trying to open this page, it doesn't respond. In debug mode everything works fine.</li>\n<li>When I'm removing <code>self.send_response(200)</code>, service starts work fine in both modes.</li>\n</ul>\n\n<p>So, what can be a reason of a such behavior?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm receiving next error, when I'm trying to execute <code>send_response()</code> : </p>\n\n<blockquote>\n  <p>'NoneType' object has no attribute 'write'</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "dictionary", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 3, "last_activity_date": 1540422463, "creation_date": 1540422463, "answer_id": 52979120, "question_id": 52979054, "link": "https://stackoverflow.com/questions/52979054/how-to-switch-the-value-of-different-keys-inside-a-dicitonary/52979120#52979120", "title": "How to switch the value of different keys inside a dicitonary?", "body": "<p>You could use the normal assignment and pop:</p>\n\n<pre><code>data = {'Fruit': 'PAR',\n'Brand': 'best',\n'date': 'imorgon',\n'type': 'true',\n'class': 'Good',\n'time': '2018-10-25',\n'number': 234}\n\ndata['date'] = data.pop('time')\n\nprint(data)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{'date': '2018-10-25', 'type': 'true', 'number': 234, 'Fruit': 'PAR', 'class': 'Good', 'Brand': 'best'}\n</code></pre>\n"}], "owner": {"reputation": 742, "user_id": 9978457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r70xA.jpg?s=128&g=1", "display_name": "anon", "link": "https://stackoverflow.com/users/9978457/anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1540423278, "accepted_answer_id": 52979120, "answer_count": 1, "score": -1, "last_activity_date": 1540422463, "creation_date": 1540422107, "question_id": 52979054, "link": "https://stackoverflow.com/questions/52979054/how-to-switch-the-value-of-different-keys-inside-a-dicitonary", "closed_reason": "Duplicate", "title": "How to switch the value of different keys inside a dicitonary?", "body": "<p>Given a dictionary like this:</p>\n\n<pre><code>{'Fruit': 'PAR',\n'Brand': 'best',\n'date': 'imorgon',\n'type': 'true',\n'class': 'Good',\n'time': '2018-10-25',\n'number': 234}\n</code></pre>\n\n<p>How can I replace a value associated to one key, with the value of another key? For example, I would like to delete and replace in date value, the value of time:</p>\n\n<pre><code>{'Fruit': 'PAR',\n'Brand': 'best',\n'date': '2018-10-25',      &lt;----- HERE\n'type': 'true',\n'class': 'Good',\n                           &lt;----- This one is removed and replaced into the data key\n'number': 234}\n</code></pre>\n\n<p>I tried to:</p>\n\n<pre><code>{value : key for key,value in a.items()}\n</code></pre>\n\n<p>However its just switching the keys for values.</p>\n"}, {"tags": ["python", "selenium", "xpath", "webdriver", "timeoutexception"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1540470819, "post_id": 52978999, "comment_id": 92883888, "body": "Why do you want to access the element with <code>src=&quot;&#47;Scripts&#47;AppScripts&#47;GeneralController.js?v=1.2</code>? What is your next action?"}, {"owner": {"reputation": 1, "user_id": 10153325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vvdcbjlnZ7E/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAZxt6PtPMYvGoekoCsIbQU11EaA/mo/photo.jpg?sz=128", "display_name": "theyoungercyrus", "link": "https://stackoverflow.com/users/10153325/theyoungercyrus"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1540477687, "post_id": 52978999, "comment_id": 92888704, "body": "It&#39;s generating HTML that&#39;s spitting out the election results which I want to read in to BS4 for an election webscraper."}], "answers": [{"tags": [], "owner": {"reputation": 2121, "user_id": 10413416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceedf65b5c2b247ee12ed7b3420ee77d?s=128&d=identicon&r=PG&f=1", "display_name": "Infern0", "link": "https://stackoverflow.com/users/10413416/infern0"}, "is_accepted": false, "score": 0, "last_activity_date": 1540455510, "creation_date": 1540455510, "answer_id": 52984539, "question_id": 52978999, "link": "https://stackoverflow.com/questions/52978999/selenium-python-raise-timeoutexceptionmessage-screen-stacktrace-timeoutexc/52984539#52984539", "title": "Selenium, Python (raise TimeoutException(message, screen, stacktrace) TimeoutException)", "body": "<p>Script elements are in the DOM but without state for visibility.</p>\n\n<p>You can check them with <strong>EC.presence_of_element_located</strong></p>\n\n<pre><code>element = WebDriverWait(driver,20).until(\n            EC.presence_of_element_located((By.XPATH, \"/html/body/script[15]\"))\n            )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10153325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vvdcbjlnZ7E/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAZxt6PtPMYvGoekoCsIbQU11EaA/mo/photo.jpg?sz=128", "display_name": "theyoungercyrus", "link": "https://stackoverflow.com/users/10153325/theyoungercyrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1384, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540455510, "creation_date": 1540421696, "question_id": 52978999, "link": "https://stackoverflow.com/questions/52978999/selenium-python-raise-timeoutexceptionmessage-screen-stacktrace-timeoutexc", "title": "Selenium, Python (raise TimeoutException(message, screen, stacktrace) TimeoutException)", "body": "<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait \n\nurl = \"https://www.electionreturns.pa.gov/General/OfficeResults?OfficeID=13&amp;ElectionID=undefined&amp;ElectionType=undefined&amp;IsActive=1\" \n\noptions = webdriver.ChromeOptions()\noptions.add_argument('--ignore-certificate-errors')\noptions.add_argument(\"--test-type\")\n\ndriver = webdriver.Chrome(r\"...\\chromedriver.exe\", options = options)\ndriver.get(url)\n\n\ntry: \n    element = WebDriverWait(driver,20).until(\n            EC.visibility_of_element_located((By.XPATH, \"/html/body/script[15]\"))\n            )\n\nfinally: \n    driver.quit()\n</code></pre>\n\n<p>Very new at this but I can't seem to figure this out between the Selenium doc, and StackO.  </p>\n\n<p>This raises the: </p>\n\n<pre><code>raise TimeoutException(message, screen, stacktrace)\n\nTimeoutException\n</code></pre>\n\n<p>Again, new at this. I'm fairly sure the java script I want to access is <code>src=\"/Scripts/AppScripts/GeneralController.js\"</code> (<code>?v=1.2</code>). Which has the xpath of <code>/html/body/script[15]</code>. However, my access method could be the mistake itself. </p>\n\n<p>Any insight is appreciated. Thanks, C. </p>\n"}, {"tags": ["python", "scrapy", "web-crawler", "yield"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540422159, "post_id": 52978989, "comment_id": 92864559, "body": "i for one do not understand what your question is ... but perhaps you need to look up some tutorials on yield and what it does"}], "answers": [{"tags": [], "owner": {"reputation": 12943, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/da5d12e4b0c319022432a23fc5344831?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "is_accepted": false, "score": 0, "last_activity_date": 1540440152, "creation_date": 1540440152, "answer_id": 52981175, "question_id": 52978989, "link": "https://stackoverflow.com/questions/52978989/how-to-reuse-yield-on-spider/52981175#52981175", "title": "How to reuse yield on spider", "body": "<p>Looks like you want something like this</p>\n\n<pre><code>item = {\n            'url'  : response.url,\n            'html' : response.css('body').extract(),\n            'title': response.css('title::text').extract_first(),\n        }\n\nyield item\nyield item\nyield item\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3401, "user_id": 408951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82eda1711eeafd65c59205a5454458e?s=128&d=identicon&r=PG", "display_name": "Thiago Curvelo", "link": "https://stackoverflow.com/users/408951/thiago-curvelo"}, "is_accepted": true, "score": 2, "last_activity_date": 1549140935, "last_edit_date": 1549140935, "creation_date": 1540442247, "answer_id": 52981439, "question_id": 52978989, "link": "https://stackoverflow.com/questions/52978989/how-to-reuse-yield-on-spider/52981439#52981439", "title": "How to reuse yield on spider", "body": "<p>You can define a method for that code, eg:</p>\n\n<pre><code>def parse_item(self, response): \n    yield {\n        'url'  : response.url,\n        'html' : response.css('body').extract(),\n        'title': response.css('title::text').extract_first(),\n    }\n</code></pre>\n\n<p>And call it from another method using <code>yield from</code>. Eg:</p>\n\n<pre><code>def another_method(self, response)\n    # ...\n    yield from self.parse_item(response)\n</code></pre>\n"}], "owner": {"reputation": 942, "user_id": 5886270, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4e78436f8364a4f92c43edb24807a688?s=128&d=identicon&r=PG&f=1", "display_name": "Bigair", "link": "https://stackoverflow.com/users/5886270/bigair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 52981439, "answer_count": 2, "score": 1, "last_activity_date": 1549140935, "creation_date": 1540421592, "last_edit_date": 1549140907, "question_id": 52978989, "link": "https://stackoverflow.com/questions/52978989/how-to-reuse-yield-on-spider", "title": "How to reuse yield on spider", "body": "<p>I'm new to Scrapy and quite new to python also.\nI have multiple <code>yield</code> with the same body within a spider.</p>\n\n<pre><code>yield {\n    'url'  : response.url,\n    'html' : response.css('body').extract(),\n    'title': response.css('title::text').extract_first(),\n}\n</code></pre>\n\n<p>Each <code>yield</code> is inside different parse methods, but I would only like to write the <code>yield</code> once and reuse it.</p>\n\n<p>I first tried a method takes response as an argument and returns <code>yield</code>.\nThen I called that method from the parse method, but Scrapy claims that I cannot return <code>yield</code>.</p>\n"}, {"tags": ["python", "scope", "namespaces", "eval"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 2, "creation_date": 1540421694, "post_id": 52978978, "comment_id": 92864422, "body": "Your functions are defined within <code>main()</code> so they are local. Put them out and they will be global."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "reply_to_user": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1540421795, "post_id": 52978978, "comment_id": 92864451, "body": "I don&#39;t want them to be global. is there a way to make it work as nested functions?"}, {"owner": {"reputation": 15486, "user_id": 719547, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/51e61f099c7b1ac0588ecda69193f75c?s=128&d=identicon&r=PG", "display_name": "Jim Stewart", "link": "https://stackoverflow.com/users/719547/jim-stewart"}, "edited": false, "score": 0, "creation_date": 1540421854, "post_id": 52978978, "comment_id": 92864467, "body": "See <a href=\"https://stackoverflow.com/a/36617153/719547\">stackoverflow.com/a/36617153/719547</a>"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1540421854, "post_id": 52978978, "comment_id": 92864468, "body": "Yes: put them in a list or a tuple and iterate through it instead of <code>dir()</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1540422080, "post_id": 52978978, "comment_id": 92864536, "body": "This is because list comprehensions essentially create a function scope, note, <code>eval(&#39;fxn_bar&#39;)</code> outside the comprehension works"}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1540422937, "last_edit_date": 1540422937, "creation_date": 1540422175, "answer_id": 52979072, "question_id": 52978978, "link": "https://stackoverflow.com/questions/52978978/whats-the-name-of-a-nested-function-why-doesnt-eval-see-the-nested-function/52979072#52979072", "title": "what&#39;s the name of a nested function ? why doesn&#39;t eval see the nested function?", "body": "<p>The problem is you are not passing <code>locals</code> explicitly, so . From the <a href=\"https://docs.python.org/3/library/functions.html#eval\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>If both dictionaries are omitted, the expression is executed in the\n  environment where eval() is called.</p>\n</blockquote>\n\n<p>However, the environment is the list comprehension, which creates it's own scope, and neither of those functions are in the list-comprehension's local namespace, nor in the global namespace. You want <em><code>main</code>'s local namespace</em> So note, this works:</p>\n\n<pre><code>&gt;&gt;&gt; def main():\n...    def foo(): 'foo'\n...    print(eval('foo'))\n...\n&gt;&gt;&gt; main()\n&lt;function main.&lt;locals&gt;.foo at 0x10c3ba6a8&gt;\n</code></pre>\n\n<p>Pass <code>globals</code> and <code>locals()</code> explicitly! <strong>But</strong> you have to use them as free variables to the list-comprehension's scope, since it is essentially like another nested function scope, you can't just do this either:</p>\n\n<pre><code>&gt;&gt;&gt; def main():\n...    def foo(): 'foo'\n...    def bar(): 'bar'\n...    print([eval(x, globals(), locals()) for x in dir()])\n...\n&gt;&gt;&gt; main()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 4, in main\n  File \"&lt;stdin&gt;\", line 4, in &lt;listcomp&gt;\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'bar' is not defined\n</code></pre>\n\n<p>Indeed, that is equivalent to <em>not passing the arguments at all</em>.</p>\n\n<p>You could do:</p>\n\n<pre><code>&gt;&gt;&gt; def main():\n...    def foo(): 'foo'\n...    def bar(): 'bar'\n...    locs, globs = locals(), globals()\n...    print([eval(x, globs, locs) for x in dir()])\n...\n&gt;&gt;&gt; main()\n[&lt;function main.&lt;locals&gt;.bar at 0x10bded1e0&gt;, &lt;function main.&lt;locals&gt;.foo at 0x10c3ba6a8&gt;, {'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, 'n1': 1014.308, 'n0': 961.06, 'p1': 18.59, 'p0': 19.65, 'q1': 1014.308, 'q0': 961.06, 'main': &lt;function main at 0x10c3ba620&gt;}, {'foo': &lt;function main.&lt;locals&gt;.foo at 0x10c3ba6a8&gt;, 'bar': &lt;function main.&lt;locals&gt;.bar at 0x10bded1e0&gt;, 'globs': {'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, 'n1': 1014.308, 'n0': 961.06, 'p1': 18.59, 'p0': 19.65, 'q1': 1014.308, 'q0': 961.06, 'main': &lt;function main at 0x10c3ba620&gt;}, 'locs': {...}}]\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "closed_date": 1540428028, "accepted_answer_id": 52979072, "answer_count": 1, "score": 1, "last_activity_date": 1540422937, "creation_date": 1540421531, "last_edit_date": 1540422598, "question_id": 52978978, "link": "https://stackoverflow.com/questions/52978978/whats-the-name-of-a-nested-function-why-doesnt-eval-see-the-nested-function", "closed_reason": "Duplicate", "title": "what&#39;s the name of a nested function ? why doesn&#39;t eval see the nested function?", "body": "<p>I get the below error when I try to run this code. I'm trying to initialize a list with function pointers. It appears the eval doesn't see the functions. I'm guessing there's some kind of scoping going on that I don't understand. It works when I create the table by hand as you can see. I'm trying to avoid having to maintain a list of functions. This also worked when I made the functions global.</p>\n\n<pre><code> Traceback (most recent call last):\n   File \"/home/westgate/code/python/try/x.py\", line 27, in &lt;module&gt;\n     main()\n   File \"/home/westgate/code/python/try/x.py\", line 23, in main\n     fxns_eval = [eval(fxn_name) for fxn_name in dir() if fxn_name.startswith('fxn_')]\n   File \"/home/westgate/code/python/try/x.py\", line 23, in &lt;listcomp&gt;\n     fxns_eval = [eval(fxn_name) for fxn_name in dir() if fxn_name.startswith('fxn_')]\n   File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n NameError: name 'fxn_bar' is not defined\n</code></pre>\n\n<hr>\n\n<pre><code>import inspect\n\ndef main():\n\n    def fxn_foo():\n        print('in foo '+inspect.currentframe().f_code.co_name)\n\n    def fxn_bar():\n        print('in bar '+inspect.currentframe().f_code.co_name)\n\n    for i in dir():\n        if i.startswith('fxn_'):\n            print(i)\n\n    fxn_bar()\n\n    fxns = [ fxn_foo, fxn_bar ]\n\n    fxns[1]()\n\n    fxns_eval = [eval(fxn_name) for fxn_name in dir() if fxn_name.startswith('fxn_')]\n\n    fxns_eval[1]()\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-3.6"], "answers": [{"comments": [{"owner": {"reputation": 4073, "user_id": 3257992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcX5Z.png?s=128&g=1", "display_name": "Tim Seed", "link": "https://stackoverflow.com/users/3257992/tim-seed"}, "edited": false, "score": 0, "creation_date": 1540422714, "post_id": 52979111, "comment_id": 92864714, "body": "It should be - depends how &quot;utils&quot; like macchanger effect this module."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 4073, "user_id": 3257992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcX5Z.png?s=128&g=1", "display_name": "Tim Seed", "link": "https://stackoverflow.com/users/3257992/tim-seed"}, "edited": false, "score": 0, "creation_date": 1540422783, "post_id": 52979111, "comment_id": 92864727, "body": "its not bulletproof ... but it should solve the problem if you are not (very) concerned with &quot;malicious&quot; actors"}, {"owner": {"reputation": 81, "user_id": 5821692, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lc5x-p28hFQ/AAAAAAAAAAI/AAAAAAAAAAA/TcUtMGdO4Qo/photo.jpg?sz=128", "display_name": "MostHated", "link": "https://stackoverflow.com/users/5821692/mosthated"}, "edited": false, "score": 1, "creation_date": 1540425722, "post_id": 52979111, "comment_id": 92865433, "body": "I will definitely give this a go. I appreciate it."}, {"owner": {"reputation": 81, "user_id": 5821692, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lc5x-p28hFQ/AAAAAAAAAAI/AAAAAAAAAAA/TcUtMGdO4Qo/photo.jpg?sz=128", "display_name": "MostHated", "link": "https://stackoverflow.com/users/5821692/mosthated"}, "edited": false, "score": 0, "creation_date": 1540579998, "post_id": 52979111, "comment_id": 92933046, "body": "I am wondering about this method in a server environment, would it be reliable if it&#39;s running on a virtualized machine?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1540580975, "post_id": 52979111, "comment_id": 92933473, "body": "if you clone another machine the mac address will be the same ... if you create a new machine it should have a new mac address (you can also hardcode these yourself to unique values in your virtualized environment)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1540422406, "creation_date": 1540422406, "answer_id": 52979111, "question_id": 52978977, "link": "https://stackoverflow.com/questions/52978977/what-is-a-good-way-to-generate-a-string-unique-to-each-pc-the-same-each-time-on/52979111#52979111", "title": "What is a good way to generate a string unique to each pc, the same each time on a given pc, works for Win, Linux, and Mac?", "body": "<p>the mac address <strong>should</strong> be a unique ID </p>\n\n<pre><code>from uuid import getnode as get_mac\nmac = get_mac()\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5821692, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lc5x-p28hFQ/AAAAAAAAAAI/AAAAAAAAAAA/TcUtMGdO4Qo/photo.jpg?sz=128", "display_name": "MostHated", "link": "https://stackoverflow.com/users/5821692/mosthated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 52979111, "answer_count": 1, "score": -2, "last_activity_date": 1540422406, "creation_date": 1540421519, "last_edit_date": 1540421768, "question_id": 52978977, "link": "https://stackoverflow.com/questions/52978977/what-is-a-good-way-to-generate-a-string-unique-to-each-pc-the-same-each-time-on", "title": "What is a good way to generate a string unique to each pc, the same each time on a given pc, works for Win, Linux, and Mac?", "body": "<p>I am wondering if anyone has any recommendations on how I could go about generating a string based on probably something to do with the host pc's environment so that each PC would probably have a different string but each time it runs the string would always be the same on a given pc that would work for Windows, Linux, and Mac if it's possible?</p>\n"}, {"tags": ["python", "python-3.x", "networkx", "k-means"], "comments": [{"owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 1, "creation_date": 1540422235, "post_id": 52978930, "comment_id": 92864574, "body": "Normally you need a metric you can apply to measure the distance between the centroid and any data point. What would be your metric in this case?"}, {"owner": {"reputation": 621, "user_id": 1378365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397d151de070eb420cb9802924a78dac?s=128&d=identicon&r=PG", "display_name": "mb567", "link": "https://stackoverflow.com/users/1378365/mb567"}, "reply_to_user": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 0, "creation_date": 1540422603, "post_id": 52978930, "comment_id": 92864682, "body": "Since I am choosing centers that are nodes in the graph the distance is just nx.shortest_path_length(G, 3, G.nodes())"}, {"owner": {"reputation": 621, "user_id": 1378365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397d151de070eb420cb9802924a78dac?s=128&d=identicon&r=PG", "display_name": "mb567", "link": "https://stackoverflow.com/users/1378365/mb567"}, "reply_to_user": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 0, "creation_date": 1540423136, "post_id": 52978930, "comment_id": 92864812, "body": "Can you please be more explicit with your code?"}, {"owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 0, "creation_date": 1540423278, "post_id": 52978930, "comment_id": 92864848, "body": "Sorry, that was not very readable :P The idea is to associate each node to the centroid it is closest to, right?!"}, {"owner": {"reputation": 621, "user_id": 1378365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397d151de070eb420cb9802924a78dac?s=128&d=identicon&r=PG", "display_name": "mb567", "link": "https://stackoverflow.com/users/1378365/mb567"}, "reply_to_user": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 1, "creation_date": 1540423464, "post_id": 52978930, "comment_id": 92864891, "body": "Yes, that&#39;s exactly what I am looking for!"}, {"owner": {"reputation": 3225, "user_id": 578696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1a4eabc091836c78f0e7595429c9bb?s=128&d=identicon&r=PG", "display_name": "geekazoid", "link": "https://stackoverflow.com/users/578696/geekazoid"}, "edited": false, "score": 0, "creation_date": 1540432685, "post_id": 52978930, "comment_id": 92866858, "body": "What are you exactly trying to do? If you are trying to find communities, you can try Louvain&#39;s algorithm. K-means applied to adjacency matrix is not really meaningful."}], "answers": [{"tags": [], "owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "is_accepted": true, "score": 5, "last_activity_date": 1540464317, "last_edit_date": 1540464317, "creation_date": 1540426973, "answer_id": 52979650, "question_id": 52978930, "link": "https://stackoverflow.com/questions/52978930/cluster-nodes-of-graph-around-specific-nodes/52979650#52979650", "title": "cluster nodes of graph around specific nodes", "body": "<p>Note that you cannot directly apply k-means clustering to a network, as there does not necessarily exist a metric to measure distances between nodes and centroids. <strong>But</strong>...</p>\n\n<p>.. provided you assume:</p>\n\n<ul>\n<li><strong>The path length of the weighted shortest-path is a distance measure between a pair of nodes.</strong></li>\n<li><strong>centroids are nodes</strong>. Note: In traditional k-means clustering <a href=\"https://en.wikipedia.org/wiki/Centroids\" rel=\"noreferrer\">centroids</a> are not necessarily data points themselves.</li>\n</ul>\n\n<p>Under these assumptions the sum of distances to the centroids is minimal if you associate to each node the centroid with the shortest weighted shortest-path. </p>\n\n<p>So the procedure could be:</p>\n\n<ul>\n<li>Associate each node to a centroid such that the sum of the distances from each node to its centroid is minimal (i.e. the withing cluster sum of distances)</li>\n<li>Update the centroids </li>\n<li>Repeat previous two steps until the centroids are stable.</li>\n</ul>\n\n<p>This procedure corresponds loosely to the procedure of <a href=\"https://en.wikipedia.org/wiki/K-means_clustering\" rel=\"noreferrer\">k-mean clustering</a>, that is to  minimize the within-cluster sum of squares (WCSS).</p>\n\n<p><em>Although this procedure is similar to k-means clustering in data points in a metric-space, I would not call it k-means clustering. Especially because the position of the centroids is restricted to nodes in the network.</em></p>\n\n<hr>\n\n<p>Here is how you could approach this with python:</p>\n\n<p><strong>1.</strong> <strong>Define the initial centroids</strong>:</p>\n\n<p></p>\n\n<pre><code>centroids = [3, 6]\n</code></pre>\n\n<p><strong>2.</strong> For each node, <strong>get all shortest paths to all centroids</strong> .</p>\n\n<p><em>For example:</em>\n</p>\n\n<pre><code>shortest_paths = [[(cent, nx.shortest_path(\n                 G, source=n ,target=cent, weight='weight'\n             )) for cent in centroids] for n in G.nodes\n             ]\n</code></pre>\n\n<p>This gives (here they are reported together with the id of the centroid):</p>\n\n<pre><code>In [26]: shortest_paths                                                         \nOut[26]: \n[[(3, [0, 1, 5, 6, 4, 3]), (6, [0, 1, 5, 6])],\n[(3, [1, 5, 6, 4, 3]), (6, [1, 5, 6])],\n[(3, [3]), (6, [3, 4, 6])],\n[(3, [2, 3]), (6, [2, 3, 4, 6])],\n[(3, [7, 2, 3]), (6, [7, 2, 3, 4, 6])],\n[(3, [4, 3]), (6, [4, 6])],\n[(3, [6, 4, 3]), (6, [6])],\n[(3, [5, 6, 4, 3]), (6, [5, 6])]]\n</code></pre>\n\n<p><strong>3.</strong> <strong>Calculate the actual distance</strong>, i.e. sum the weights over the paths, for all shortest paths for all nodes:</p>\n\n<p><em>For example:</em>\n</p>\n\n<pre><code>distances = [\n    [\n        (\n            sp[0],  # this is the id of the centroid\n            sum([\n                G[sp[1][i]][sp[1][i+1]]['weight'] \n                for i in range(len(sp[1]) - 1)\n            ]) if len(sp[1]) &gt; 1 else 0\n        ) for sp in sps\n    ] for sps in shortest_paths\n    ]\n</code></pre>\n\n<p>So the distances are:</p>\n\n<pre><code>In [28]: distances                                                              \nOut[28]: \n[[(3, 15), (6, 9)],\n[(3, 12), (6, 6)],\n[(3, 0), (6, 6)],\n[(3, 2), (6, 8)],\n[(3, 7), (6, 13)],\n[(3, 1), (6, 5)],\n[(3, 6), (6, 0)],\n[(3, 10), (6, 4)]]\n</code></pre>\n\n<p><strong>4.</strong> <strong>Get the centroid with the minimal distance</strong> for all nodes:</p>\n\n<p><em>For example:</em>\n</p>\n\n<pre><code>closest_centroid = [\n    min(dist, key=lambda d: d[1])[0] for dist in distances\n]\n</code></pre>\n\n<p>Leading to the grouping according to the centroids:</p>\n\n<pre><code>In [30]: closest_centroid                                                       \nOut[30]: [6, 6, 3, 3, 3, 3, 6, 6]\n</code></pre>\n\n<p><strong>5.</strong> <strong>Update the centroids</strong> as the current centroids might no longer be the actual centroids of the group:</p>\n\n<p><em>Approach:</em>\n</p>\n\n<pre><code># for each group\n    # for each member of the group\n        # get the distance of shortest paths to all the other members of the group\n        # sum this distances\n    # find the node with the minimal summed distance &gt; this is the new centroid of the group\n</code></pre>\n\n<p><strong><em>Iteration</em></strong>: If the new centroids are not the same as the old one, use the new centroids and repeat <strong>steps 2.- 5.</strong>     </p>\n\n<p><strong>Final step:</strong> If the new centroids found in <strong>step 5.</strong> are the same as the old ones or you've reached a iteration limit, <strong>associate the closest centroid to each node</strong>:</p>\n\n<p><em>For example:</em>\n</p>\n\n<pre><code>nodes = [n for n in G]  # the actual id of the nodes\ncent_dict = {nodes[i]: closest_centroid[i] for i in range(len(nodes))}\nnx.set_node_attributes(G, cent_dict, 'centroid')\n</code></pre>\n\n<p><em>Or <code>nx.set_node_attributes(G, 'centroid', cent_dict)</code> if you are still at v1.x.</em></p>\n\n<p>This would be an approach to do a sort-of k-means clustering for a network.</p>\n\n<p><em>Hope that helped and happy coding!</em></p>\n"}], "owner": {"reputation": 621, "user_id": 1378365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397d151de070eb420cb9802924a78dac?s=128&d=identicon&r=PG", "display_name": "mb567", "link": "https://stackoverflow.com/users/1378365/mb567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 52979650, "answer_count": 1, "score": 4, "last_activity_date": 1540464317, "creation_date": 1540421163, "last_edit_date": 1540428627, "question_id": 52978930, "link": "https://stackoverflow.com/questions/52978930/cluster-nodes-of-graph-around-specific-nodes", "title": "cluster nodes of graph around specific nodes", "body": "<p>Considering a graph of nodes from networkx how can I apply a kmean cluster of all the nodes where specific nodes are considered the centroids of the clusters. In other words, assume we have this graph:</p>\n\n<pre><code>import networkx as nx\n\ns = [0,3,2,3,4,5,1]\nt = [1,2,7,4,6,6,5]\ndist = [3,2,5,1,5,4,2]\n\nG = nx.Graph()\nfor i in range(len(s)):\n    G.add_edge(s[i],t[i],weight=dist[i])\n</code></pre>\n\n<p>I want to apply a kmean clustering on the network where for example I choose the centroids to be 3 and 6 and the graph will be clustered accordingly to produce two subgraphs (or as many centroids as I input)</p>\n\n<p>I have been looking at the kmean clustering here <a href=\"https://www.learndatasci.com/tutorials/k-means-clustering-algorithms-python-intro/\" rel=\"nofollow noreferrer\">https://www.learndatasci.com/tutorials/k-means-clustering-algorithms-python-intro/</a> and what that doesn't cover is the inputted centroids but rather it only considers number of clusters without a centroid node.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 3, "creation_date": 1540421258, "post_id": 52978929, "comment_id": 92864307, "body": "Is <code>b_imgs_96</code> a numpy array or a Python list?"}, {"owner": {"reputation": 2352, "user_id": 5754992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/953dd1892c726ceecc7f0240e982e11f?s=128&d=identicon&r=PG&f=1", "display_name": "user2699", "link": "https://stackoverflow.com/users/5754992/user2699"}, "edited": false, "score": 1, "creation_date": 1540421380, "post_id": 52978929, "comment_id": 92864338, "body": "Take a look at the <code>reshape</code> and <code>transpose</code> functions.  A combination of those is the typical way to do what it appears you&#39;re trying to do."}, {"owner": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "edited": false, "score": 0, "creation_date": 1540423402, "post_id": 52978929, "comment_id": 92864877, "body": "It is a numpy array"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "edited": false, "score": 0, "creation_date": 1540423468, "post_id": 52979001, "comment_id": 92864896, "body": "It randomly crashes. I suspect a memory issue too. Is there anyway to free the memory which numpy occupied?"}, {"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "reply_to_user": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "edited": false, "score": 0, "creation_date": 1540423804, "post_id": 52979001, "comment_id": 92864998, "body": "<code>del b_imgs_96</code> would delete the object and free the memory."}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": false, "score": -1, "last_activity_date": 1540421700, "creation_date": 1540421700, "answer_id": 52979001, "question_id": 52978929, "link": "https://stackoverflow.com/questions/52978929/numpy-n-d-array/52979001#52979001", "title": "Numpy N-D array", "body": "<p>I can't reproduce your error.  This runs fine:</p>\n\n<pre><code>b_imgs_96 = np.ones([128,128,128,3])\n\nb_imgs_96_reshape = np.empty([16,128,128,24])\nfor i in range(0,128):\n    b_imgs_96_reshape[i//8,:,:,(i%8)*3:(i%8)*3+3] = b_imgs_96[i,:,:,:]\n</code></pre>\n\n<p>If it's intermittent I might suspect a memory issue.</p>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "edited": false, "score": 0, "creation_date": 1540430045, "post_id": 52979795, "comment_id": 92866304, "body": "I used your code and it still randomly crashes with the message:             ValueError: could not broadcast input array from shape (128,128,3) into shape (128)"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "edited": false, "score": 0, "creation_date": 1540431647, "post_id": 52979795, "comment_id": 92866640, "body": "@JiajuOrangeYue Please copy&#39;n&#39;paste the exact output of <code>type(b_imgs_96)</code>, <code>b_imgs_96.shape</code> and <code>b_imgs_96.dtype</code>"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1540428464, "creation_date": 1540428464, "answer_id": 52979795, "question_id": 52978929, "link": "https://stackoverflow.com/questions/52978929/numpy-n-d-array/52979795#52979795", "title": "Numpy N-D array", "body": "<p>If your input <code>b_imgs_96</code> has shape (128, 128, 128, 3) and a scalar dtype then</p>\n\n<p>1) there are no lists in the snippet you posted that could possibly trigger the error you are reporting</p>\n\n<p>2) memory should not be an issue here unless you are doing this on your smart watch; indeed 128x128x128x3x8 ~50MB for a 64bit dtype</p>\n\n<p>You can and probably should avoid the loop, though, and instead do</p>\n\n<pre><code> b_imgs_96_reshape = np.moveaxis(b_imgs_96.reshape(16, 8, 128, 128, 3), 1, 3).reshape(16, 128, 128, 24)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 10332319, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153782184666447/picture?type=large", "display_name": "Jiaju Orange Yue", "link": "https://stackoverflow.com/users/10332319/jiaju-orange-yue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540428464, "creation_date": 1540421159, "last_edit_date": 1540421256, "question_id": 52978929, "link": "https://stackoverflow.com/questions/52978929/numpy-n-d-array", "title": "Numpy N-D array", "body": "<p>I have an numpy array with size[128,128,128,3]. You can see this as a stack of 1 16 groups of 8-image stack of size 128x128x3. I want to reshape it to size[16,128,128,24]. \nThe code I have is as follows: </p>\n\n<pre><code>b_imgs_96_reshape = np.empty([16,128,128,24])\nfor i in range(0,128):\n    b_imgs_96_reshape[i//8,:,:,(i%8)*3:(i%8)*3+3] = b_imgs_96[i,:,:,:]\n</code></pre>\n\n<p>but I got the error and it crashes sometimes randomly. \nHere is the error message:</p>\n\n<blockquote>\n  <p>TypeError: list indices must be integers or slices, not tuple</p>\n</blockquote>\n\n<p>Can anyone help me out with this issue?? I really appreciate your help. </p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1372, "user_id": 3632894, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea1e442688d36400b0c12474d36a9e87?s=128&d=identicon&r=PG&f=1", "display_name": "user1211", "link": "https://stackoverflow.com/users/3632894/user1211"}, "edited": false, "score": 0, "creation_date": 1540420997, "post_id": 52978884, "comment_id": 92864216, "body": "Can you give a sample input?\\"}, {"owner": {"reputation": 459, "user_id": 10108438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EPhWY.png?s=128&g=1", "display_name": "thedatasleuth", "link": "https://stackoverflow.com/users/10108438/thedatasleuth"}, "reply_to_user": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1540421595, "post_id": 52978884, "comment_id": 92864394, "body": "@Nick, can you help? I&#39;m a little confused about how to fix."}, {"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "reply_to_user": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1540422062, "post_id": 52978884, "comment_id": 92864532, "body": "@Nick:  Those aren&#39;t needed in a python <code>r&quot;xyz&quot;</code> &quot;raw&quot; string."}, {"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "reply_to_user": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1540422271, "post_id": 52978884, "comment_id": 92864587, "body": "@wallyk that&#39;s cool. makes life much easier!"}, {"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1540422331, "post_id": 52978884, "comment_id": 92864605, "body": "I don&#39;t think you should have the single quotes in your regex..."}, {"owner": {"reputation": 459, "user_id": 10108438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EPhWY.png?s=128&g=1", "display_name": "thedatasleuth", "link": "https://stackoverflow.com/users/10108438/thedatasleuth"}, "reply_to_user": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 0, "creation_date": 1540422432, "post_id": 52978884, "comment_id": 92864628, "body": "@Nick, yes, that was it - thank you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1540427557, "post_id": 52978884, "comment_id": 92865801, "body": "<a href=\"https://regex101.com/r/sNei6T/1\" rel=\"nofollow noreferrer\">r&quot;(?m)^((&#39;\\d{2}/\\d{2}/\\d{2,4}&#39;)|(&#39;\\d{2}/\\d{4}&#39;)|(&#39;\\d{2}/\\d{2&zwnj;&#8203;,4}.+&#39;))$&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "is_accepted": false, "score": 0, "last_activity_date": 1540446507, "creation_date": 1540446507, "answer_id": 52982144, "question_id": 52978884, "link": "https://stackoverflow.com/questions/52978884/regex-expression-working-in-debugger-but-returns-empty-list-in-python-regex/52982144#52982144", "title": "Regex Expression Working in Debugger but returns empty list in Python - REGEX", "body": "<p>In your <code>mylist</code> , each element did not contain <code>'</code> and i can not understand why you are using <code>.+</code> , which will match almost everything. I feel you want to match this</p>\n\n<pre><code>import re\nmylist = ['01/01/2018', '01/01/18', '01/2018J', '01/2018AB', '01/2018/DEFGH']\nregex = r\"((\\d{2}\\/\\d{2}\\/\\d{2,4})|(\\d{2}\\/\\d{4})|(\\d{2}\\/\\d{2,4}))\"\n\ndates = [re.search(regex,x).group(0) for x in mylist ]\nprint(dates)\n# ['01/01/2018', '01/01/18', '01/2018', '01/2018', '01/2018']\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 10108438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EPhWY.png?s=128&g=1", "display_name": "thedatasleuth", "link": "https://stackoverflow.com/users/10108438/thedatasleuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540446507, "creation_date": 1540420803, "last_edit_date": 1540422253, "question_id": 52978884, "link": "https://stackoverflow.com/questions/52978884/regex-expression-working-in-debugger-but-returns-empty-list-in-python-regex", "title": "Regex Expression Working in Debugger but returns empty list in Python - REGEX", "body": "<p>I have a regex that is working in the Regex101.com debugger, but then when I try to use it on my data in Python, it returns an empty list.  I have tried this with and without carats, with and without the $, wrapping the regex in parentheses and not, triple backticks v. double quotes.  What am I missing here?</p>\n\n<pre><code>dates = [x for x in mylist if re.match(r\"^(('\\d{2}\\/\\d{2}\\/\\d{2,4}')|('\\d{2}\\/\\d{4}')|('\\d{2}\\/\\d{2,4}.+'))$\", x)]\n</code></pre>\n\n<p>Below are true matches in mylist:</p>\n\n<pre><code>   my list = ['01/01/2018', '01/01/18', '01/2018J', '01/2018AB', '01/2018/DEFGH'] \n</code></pre>\n"}, {"tags": ["python", "class", "instance", "robotframework"], "answers": [{"tags": [], "owner": {"reputation": 2322, "user_id": 6110169, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c92235ac0abcd8ec2df0b9b1a6faeaf?s=128&d=identicon&r=PG&f=1", "display_name": "AutoTester213", "link": "https://stackoverflow.com/users/6110169/autotester213"}, "is_accepted": false, "score": 2, "last_activity_date": 1540465212, "creation_date": 1540465212, "answer_id": 52987668, "question_id": 52978858, "link": "https://stackoverflow.com/questions/52978858/instantiating-a-class-in-robot-framework/52987668#52987668", "title": "Instantiating a class in Robot Framework", "body": "<p>You can have keyword file and a Library file.</p>\n\n<p>To have an library file you need to create a class and then call it within robot framework script, Then in your test library you should created methods that will act as Keywords in robot framework</p>\n\n<p>example:</p>\n\n<p>HelloWorld.py</p>\n\n<pre><code>class HelloWorld():\n    def Keyword_Robot(hello, world):\n        print(hello + \" \" + world)\n</code></pre>\n\n<p>Keyword.robot</p>\n\n<pre><code>*** Settings ***       \nLibrary         HelloWorld.py\n\n*** Test Cases ***\n\nFirst custom Keyword\n    Keyword Robot  \"Hello\"  \"World\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hello World\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>that this keyword is taking arguments which needs to be passed inside of robot framework just after the custom keyword.</p>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 1728788, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mc6Nc.jpg?s=128&g=1", "display_name": "Aimee Jones", "link": "https://stackoverflow.com/users/1728788/aimee-jones"}, "edited": false, "score": 0, "creation_date": 1540931283, "post_id": 52991774, "comment_id": 93043212, "body": "I have created my own keywords files for the API calls I wish to make with one tweak to the above. I moved the <code>init</code> to it&#39;s own <code>AuthenticationKeywords</code> file so I can create a connection for different users. Thanks for your help!"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 4, "last_activity_date": 1540477767, "creation_date": 1540477767, "answer_id": 52991774, "question_id": 52978858, "link": "https://stackoverflow.com/questions/52978858/instantiating-a-class-in-robot-framework/52991774#52991774", "title": "Instantiating a class in Robot Framework", "body": "<p>You shouldn't try to directly use your api library in a robot test since it wasn't designed to work as a keyword library.</p>\n\n<p>Instead, create your own keyword library that can call the api to do the work. Then, instead of creating a <code>get keywords</code> keyword in your test, you do it in the library.</p>\n\n<p>For example, create a file named \"APIKeywords.py\" which will establish a connection to your server. In it, create a keyword named <code>get_users</code> which uses the connection to get the users:</p>\n\n<pre><code>from api.MyApi import *\n\nclass APIKeywords() :\n    ROBOT_LIBRARY_SCOPE = 'GLOBAL'\n\n    def __init__(self, server):\n        self.server = server\n        self.client = MyAPI(self.server)\n\n    def get_users(self):\n        return self.client.user.get_users()\n</code></pre>\n\n<p>You can use this keyword library like any other library. For example:</p>\n\n<pre><code>*** Variable ***\n${SERVER}  localhost\n\n*** Settings ***\nLibrary  APIKeywords.py  ${SERVER}  WITH NAME  client\n\n*** Test cases ***\nExample \n    ${users}=  get users\n</code></pre>\n\n<p>If you want to explicitly use <code>client</code> when calling the keyword, you can change that last line to:</p>\n\n<pre><code>${users}=  client.get_users\n</code></pre>\n\n<p>or</p>\n\n<pre><code>${users}=  client.get users\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 1728788, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mc6Nc.jpg?s=128&g=1", "display_name": "Aimee Jones", "link": "https://stackoverflow.com/users/1728788/aimee-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2600, "favorite_count": 0, "accepted_answer_id": 52991774, "answer_count": 2, "score": 1, "last_activity_date": 1540477767, "creation_date": 1540420631, "last_edit_date": 1540459183, "question_id": 52978858, "link": "https://stackoverflow.com/questions/52978858/instantiating-a-class-in-robot-framework", "title": "Instantiating a class in Robot Framework", "body": "<p>I have a python API wrapper that I can use like so:</p>\n\n<pre><code>from api.MyApi import *\n\nclient = MyApi(server)\n\nusers = client.user.get_users()\n</code></pre>\n\n<p>I would like to write a Test Library that uses it which I can use within Robot Framework, but I'm having trouble getting it to work the way I want. \nI have tried the following ways:</p>\n\n<p><strong>test.robot</strong></p>\n\n<pre><code>*** Settings ***\nLibrary  api.MyApi  ${SERVER}  WITH NAME  client\n\n*** Variables ***\n\n*** Keywords ***\nGet users\n    ${response}=  client.user.get_users()\n    Log  ${response.content}   \n\n*** Test Cases ***\nTest: Test 1\n    Get users\n</code></pre>\n\n<p>Which results in </p>\n\n<pre><code>No keyword with name 'client.user.get_users()' found.\n</code></pre>\n\n<p>how can I create and use an instance of my API client? </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10554719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-3Dx1dPp4o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBETuhUN6wsVEk8MBremYHiKCJjRQ/mo/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/10554719/alexander"}, "edited": false, "score": 1, "creation_date": 1540421466, "post_id": 52978939, "comment_id": 92864355, "body": "Thanks a lot mate. Much appreciated. I&#39;ll work on this."}], "tags": [], "owner": {"reputation": 1619, "user_id": 7228140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOKG6.png?s=128&g=1", "display_name": "Stephen Cowley", "link": "https://stackoverflow.com/users/7228140/stephen-cowley"}, "is_accepted": false, "score": 3, "last_activity_date": 1540421244, "creation_date": 1540421244, "answer_id": 52978939, "question_id": 52978846, "link": "https://stackoverflow.com/questions/52978846/creating-a-game-where-the-computer-guesses-a-value-through-inputs-of-or/52978939#52978939", "title": "Creating a game where the computer guesses a value through inputs of &lt;,&gt; or =", "body": "<p>Purposely not a complete solution, but some hints for you:</p>\n\n<p>I'd recommend avoiding the global variables like <code>count</code>, <code>maxguess</code>, and <code>minguess</code>. Instead, make a function that holds all these variables.</p>\n\n<p>Change your <code>midpoint</code> function to return z instead, then call it inside your <code>guessing</code> function. </p>\n\n<p>Your <code>continue</code> and <code>break</code> functions would need to be inside a <code>for</code> or <code>while</code> loop. Since you aren't sure how many iterations you need to guess the number, I think a <code>while</code> loop would make sense here</p>\n"}, {"comments": [{"owner": {"reputation": 201, "user_id": 10501149, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CWVQt9luzIw/AAAAAAAAAAI/AAAAAAAAAEU/tj7r2SvfxU0/photo.jpg?sz=128", "display_name": "Tommy Lawrence", "link": "https://stackoverflow.com/users/10501149/tommy-lawrence"}, "edited": false, "score": 0, "creation_date": 1540422347, "post_id": 52979096, "comment_id": 92864608, "body": "I gave you the whole code as I made sure it worked and it was annoying so yea, there the code. You can check this code when your done or something as that works for me."}, {"owner": {"reputation": 201, "user_id": 10501149, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CWVQt9luzIw/AAAAAAAAAAI/AAAAAAAAAEU/tj7r2SvfxU0/photo.jpg?sz=128", "display_name": "Tommy Lawrence", "link": "https://stackoverflow.com/users/10501149/tommy-lawrence"}, "edited": false, "score": 0, "creation_date": 1540423150, "post_id": 52979096, "comment_id": 92864814, "body": "Why is everyone making it complex, all you do is get rid of the def function and add a while loop. Simple"}, {"owner": {"reputation": 11, "user_id": 10554719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-3Dx1dPp4o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBETuhUN6wsVEk8MBremYHiKCJjRQ/mo/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/10554719/alexander"}, "edited": false, "score": 0, "creation_date": 1540508616, "post_id": 52979096, "comment_id": 92903141, "body": "Thank you Tommy. This solution seems simple and effective."}, {"owner": {"reputation": 201, "user_id": 10501149, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CWVQt9luzIw/AAAAAAAAAAI/AAAAAAAAAEU/tj7r2SvfxU0/photo.jpg?sz=128", "display_name": "Tommy Lawrence", "link": "https://stackoverflow.com/users/10501149/tommy-lawrence"}, "reply_to_user": {"reputation": 11, "user_id": 10554719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-3Dx1dPp4o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBETuhUN6wsVEk8MBremYHiKCJjRQ/mo/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/10554719/alexander"}, "edited": false, "score": 0, "creation_date": 1540509397, "post_id": 52979096, "comment_id": 92903323, "body": "No problem, it uses the while loop to keep it going until it is equal, where it makes the condition false and stops it, make sure to use // otherwise it will divide to the proper division, not to a whole number."}], "tags": [], "owner": {"reputation": 201, "user_id": 10501149, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CWVQt9luzIw/AAAAAAAAAAI/AAAAAAAAAEU/tj7r2SvfxU0/photo.jpg?sz=128", "display_name": "Tommy Lawrence", "link": "https://stackoverflow.com/users/10501149/tommy-lawrence"}, "is_accepted": false, "score": 0, "last_activity_date": 1540422304, "creation_date": 1540422304, "answer_id": 52979096, "question_id": 52978846, "link": "https://stackoverflow.com/questions/52978846/creating-a-game-where-the-computer-guesses-a-value-through-inputs-of-or/52979096#52979096", "title": "Creating a game where the computer guesses a value through inputs of &lt;,&gt; or =", "body": "<pre><code>minguess=1\nmaxguess=100\nz=50\ncount=0\nprint(\"Think of a number between 1 and 100\")\ncondition = True\nwhile condition:\n\n    z=((maxguess + minguess)//2)\n    print(\"Is your number greater (&gt;) , equal (=) ,or less (&lt;) than\" ,z,)\n    print(\"Please answer &lt;,=, or &gt;! &gt;\")\n    x = input()\n    if x == (\"&gt;\"):\n        minguess=z\n        count += 1\n    elif x == (\"&lt;\") : \n        maxguess=z\n        count += 1\n    elif x == (\"=\") :\n        print (\"I have guessed it!\")\n        count += 1\n        condition=False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 7135146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a76970eb72e8ff2eafd641503cd47ff7?s=128&d=identicon&r=PG&f=1", "display_name": "directive-41", "link": "https://stackoverflow.com/users/7135146/directive-41"}, "is_accepted": false, "score": 2, "last_activity_date": 1540428729, "last_edit_date": 1540428729, "creation_date": 1540422658, "answer_id": 52979150, "question_id": 52978846, "link": "https://stackoverflow.com/questions/52978846/creating-a-game-where-the-computer-guesses-a-value-through-inputs-of-or/52979150#52979150", "title": "Creating a game where the computer guesses a value through inputs of &lt;,&gt; or =", "body": "<p>Your functions are never run. On a style point, bring all your 'main' statements down to the bottom so they're together. After the prompt to think of a number, you need to call the guessing() function. When you call it, you should pass the minguess and maxguess values to it.</p>\n\n<p>I can see what you're trying to do with the if...elif statements, but they need to be in a <em>while True:</em> block. So should the three statements preceding them so the script repeatedly asks for new advice from you.</p>\n\n<p>Either bring the content of the midpoint() function into guessing() or make it return the value of z.</p>\n\n<p>You also offer the user a choice of '>1' but don't handle it - and you don't need it as far as I can tell.</p>\n\n<p>You never use minpoint or maxpoint - and you dont need them. Call the midpoint function instead and pass it the appropriate values, e.g., if '>', z = midpoint(z, maxguess).</p>\n\n<p>Also, you're going to spend forever trying to get it to guess as you are using floats. Make sure everything is an integer.</p>\n\n<p>Finally, you should add some code to manage input that isn't expected, i.e., not '&lt;', '>' or '='.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 11, "user_id": 10554719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-3Dx1dPp4o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBETuhUN6wsVEk8MBremYHiKCJjRQ/mo/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/10554719/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1540428729, "creation_date": 1540420564, "question_id": 52978846, "link": "https://stackoverflow.com/questions/52978846/creating-a-game-where-the-computer-guesses-a-value-through-inputs-of-or", "title": "Creating a game where the computer guesses a value through inputs of &lt;,&gt; or =", "body": "<p>I am trying to create a game where i think of a number in my head. And then the computer guesses the number through me telling it if its guess is too low or high.</p>\n\n<p>This is what I've come up with but i am pretty lost tbh.</p>\n\n<pre><code>maxguess = 100\nminguess = 1\n\ncount = 0\n\nprint(\"Think of a number between {} and {}\".format(minguess,maxguess))\n\ndef midpoint(maxguess, minguess) :\n    z = ((maxguess + minguess)/2)\n\ndef guessing(x) :\n    print(\"Is you number greater (&gt;) , equal (=) ,or less (&lt;) than\" ,z,)\n    print(\"please answer &lt;,=, or &gt;! &gt;\")\n    x = input()\n    if x == (\"&gt;\") :\n       minpoint = z \n       count += 1\n       continue\n    elif x == (\"&lt;\") : \n       maxpoint = z\n       count += 1\n       continue\n    elif x == (\"=\") :\n       print (\"I have guessed it!\")\n       count += 1\n       break\n\nprint(\"I needed {} steps!\".format(count))\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540421022, "post_id": 52978842, "comment_id": 92864224, "body": "@PatrickArtner file1.csv has about 20000 rows and file2.csv has about 300 rows."}, {"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540421280, "post_id": 52978842, "comment_id": 92864312, "body": "@PatrickArtner and I can verify items count in each csv reader using <code>sum(1 for row in reader1)</code>"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540422144, "post_id": 52978842, "comment_id": 92864554, "body": "you have dupes in both. you want the shorter file enhanced by the first value in the longer file? keep duplicates in the shorter file?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540422203, "post_id": 52978842, "comment_id": 92864572, "body": "wich of (87100,16.2531,39.2989   //  87100,16.2944,39.2674   // 87100,16.3039,39.2709) and &quot;Raond2&quot;,87100 // &quot;Raondm3&quot;,87100 will be in the third file?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540422487, "post_id": 52978842, "comment_id": 92864641, "body": "what happens with stuff only in 2nd file?"}, {"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1540425491, "post_id": 52978842, "comment_id": 92865376, "body": "Showing desired output file that should result from the sample input would clear up what you want."}, {"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540427943, "post_id": 52978842, "comment_id": 92865872, "body": "@PatrickArtner I want to match the first occurrence of 87100 in the file1.csv that&#39;s why I was breaking out of loop as soon as I found a match"}], "answers": [{"comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540454432, "post_id": 52979156, "comment_id": 92874146, "body": "why does it match ABC twice? Its just once in his 2nd file? Why does it match <code>Random,88068</code> three time - its not even once in the first file? Why does it match <code>Raondm3,87100</code> with three different values if always the first value from file1 should be used? There something wrong here...."}, {"owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540480001, "post_id": 52979156, "comment_id": 92890212, "body": "ah, I used a different version that captured all occurrences. Fixed that  , Answer updated. It should work at your end. Let me know if it doesn&#39;t."}], "tags": [], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1540479943, "last_edit_date": 1592644375, "creation_date": 1540422709, "answer_id": 52979156, "question_id": 52978842, "link": "https://stackoverflow.com/questions/52978842/wrong-output-in-matching-a-column-values-between-two-csv-files-using-python/52979156#52979156", "title": "Wrong output in matching a column values between two csv files using python", "body": "<p>After running your code and putting <code>print</code> statements at few places, it was observed that only for first value of <code>file2.csv</code> i.e. &quot;ABC,66100&quot; comparison is made. Rest code just skips through.</p>\n<p>That because  <a href=\"https://docs.python.org/2/library/csv.html#csv.reader\" rel=\"nofollow noreferrer\">csv.reader</a>  returns an reader object which is an iterator.<br />\nHence, once you iterate the entire object, it becomes empty.\nAs a work-around, You need to save your reader as a list in order to iterate it repeatedly.</p>\n<p>Modifying line<br />\n<code>reader1 = csv.reader(in_file1)</code></p>\n<p>to</p>\n<p><code>reader1 = list(csv.reader(in_file1))</code></p>\n<p>should give you desired result.</p>\n<pre><code>import csv\n  \nupdated_list = []\n\nwith open(&quot;file1.csv&quot;,&quot;r&quot;) as in_file1, open(&quot;file2.csv&quot;, &quot;r&quot;) as in_file2, open(&quot;file3.csv&quot;, &quot;w&quot;, newline='') as out_file:\n    reader2 = csv.reader(in_file2)\n    reader1 = list(csv.reader(in_file1))\n    writer_final = csv.writer(out_file)\n    for row2 in reader2:   #reader2 is for file2\n        for row1 in reader1:  #reader1 is for file1\n            if str(row2[1].strip()) == str(row1[0].strip()):\n                updated_list.append([row2[0],row2[1],row1[1],row1[2]])\n                break\n\n    writer_final.writerows(updated_list)\n\ncat file3.csv \nABC,66100,14.116,42.3301\nRandom,88068,16.5339,38.6899\nRaond2,87100,16.2531,39.2989\nRaondm3,87100,16.2531,39.2989\nRaondom4,87054,16.3171,39.1784\n</code></pre>\n<p><strong>Note</strong>\nConverting reader to list may be detrimental if you have large file as it may impact memory. Better option will be to use <code>openpyxl</code> or load your data into <code>pandas</code> dataframe and manipulate there.</p>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1540454571, "last_edit_date": 1540454571, "creation_date": 1540422741, "answer_id": 52979161, "question_id": 52978842, "link": "https://stackoverflow.com/questions/52978842/wrong-output-in-matching-a-column-values-between-two-csv-files-using-python/52979161#52979161", "title": "Wrong output in matching a column values between two csv files using python", "body": "<p>As mentioned in my comment: file objects are streams, once you are past a certain point you can not see it anymore - you would need to put a file into memory to compare all lines of one against the other.  </p>\n\n<p>This code reads the smaller file into memory and processes the larger file line-wise.</p>\n\n<p>The first matching line supplicants data for all rows from smaller file, afterwards the row of the smaller file is deleted from memory so it does not match with later ones:</p>\n\n<p>Create files:</p>\n\n<pre><code>with open(\"f1.txt\",\"w\") as f:\n    f.write(\"\"\"66054,14.7065,42.1115\n66054,14.7085,42.106\n66054,14.7268,42.0937\n66054,14.6739,42.125\n66054,14.7268,42.0937\n66100,14.116,42.3301\n66100,14.1405,42.3392\n88067,16.431,38.7287\n88068,16.5339,38.6899\n88068,16.5499,38.685\n88068,16.5419,38.6875\n87076,16.4795,39.7905\n87076,16.4743,39.8161\n87100,16.2531,39.2989\n87100,16.2944,39.2674\n87100,16.3039,39.2709\n87052,16.43,39.3449\n87053,16.3399,39.3101\n87054,16.3171,39.1784\"\"\")\n\nwith open (\"f2.txt\",\"w\") as f:\n    f.write(\"\"\"ABC,66100\n\"CDF\",65125\n\"123\",65125\n1234,64100\n0123,75025\nlmn,85025\nabc,88046\n\"Random\",88068\n\"Raond2\",87100\n\"Raondm3\",87100\nRaondom4,87054\"\"\")\n</code></pre>\n\n<p>Program </p>\n\n<pre><code>import csv\n\nd2 ={}\n# smaller file: load in memory\nwith open(\"f2.txt\") as f:\n    cr = csv.reader(f)\n    for row in cr:\n        # store under same key as list of rows to keep same order and \n        # allow multiple rows with same row[1] value\n        k = d2.setdefault(row[1],[])\n        k.append(row)\n\n# process larger file \nwith open(\"f1.txt\") as f, open(\"f3.txt\",\"w\",newline=\"\") as nf:\n    cr = csv.reader(f)\n    writer = csv.writer(nf)\n    for row in cr:\n        if d2.get(row[0],[]):\n            for sl in d2.get(row[0]):\n                writer.writerow( (sl + [row[1],row[2]]) )\n            # remove from d2 so no reappearing rows will be written\n            del d2[row[0]] \n\nwith open(\"f3.txt\") as f:\n    print(f.read())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ABC,66100,14.116,42.3301\nRandom,88068,16.5339,38.6899\nRaond2,87100,16.2531,39.2989\nRaondm3,87100,16.2531,39.2989\nRaondom4,87054,16.3171,39.1784\n</code></pre>\n\n<p>Only things from file2 that are matched at all in file1 are put into file3.</p>\n"}], "owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540479943, "creation_date": 1540420534, "question_id": 52978842, "link": "https://stackoverflow.com/questions/52978842/wrong-output-in-matching-a-column-values-between-two-csv-files-using-python", "title": "Wrong output in matching a column values between two csv files using python", "body": "<p>I have two <code>csv</code> files whose structure is as below:</p>\n\n<p><strong>Fil1.csv:</strong></p>\n\n<pre><code>66054,14.7065,42.1115\n66054,14.7085,42.106\n66054,14.7268,42.0937\n66054,14.6739,42.125\n66054,14.7268,42.0937\n66100,14.116,42.3301\n66100,14.1405,42.3392\n88067,16.431,38.7287\n88068,16.5339,38.6899\n88068,16.5499,38.685\n88068,16.5419,38.6875\n87076,16.4795,39.7905\n87076,16.4743,39.8161\n87100,16.2531,39.2989\n87100,16.2944,39.2674\n87100,16.3039,39.2709\n87052,16.43,39.3449\n87053,16.3399,39.3101\n87054,16.3171,39.1784\n</code></pre>\n\n<p><strong>file2.csv:</strong></p>\n\n<pre><code>ABC,66100\n\"CDF\",65125\n\"123\",65125\n1234,64100\n0123,75025\nlmn,85025\nabc,88046\n\"Random\",88068\n\"Raond2\",87100\n\"Raondm3\",87100\nRaondom4,87054\n</code></pre>\n\n<p>Now what I want to do is for each <code>row2[1]</code> in <code>file2.csv</code>, find its first occurrence in <code>row1[0]</code> and extract the <code>row1[1]</code> and <code>row1[2]</code> from that row to be inserted along with <code>row2[0]</code> and <code>row2[1]</code> and write it to another <code>csv</code> file. Here is the code I wrote for this:</p>\n\n<pre><code>updated_list = []\n\nwith open(\"file1.csv\",\"r\") as in_file1, open(\"file2.csv\", \"r\") as in_file2, open(\"file3.csv\", \"w\", newline='') as out_file:\n    reader1 = csv.reader(in_file1)\n    reader2 = csv.reader(in_file2)\n    writer_final = csv.writer(out_file)\n    for row2 in reader2: #reader2 is for file2\n\n        for row1 in reader1:#reader1 is for file1\n            if str(row2[1].strip()) == str(row1[0].strip()):\n                print(\"Found match for {}\".format(row2[1]))\n                updated_list.append([row2[0],row2[1],row1[1],row1[2]])\n                break\n            else:\n                continue\n\n\n    writer_final.writerows(updated_geo_list)\n</code></pre>\n\n<p>The above code is able to match some but for a lot of <code>row2[1]</code> in <code>file2.csv</code>, its not able to match with <code>row1[0]</code> in <code>file1.csv</code> even though its present. For example in above sample data, the code is not able to match <code>87100</code> and <code>87054</code> from <code>file2.csv</code> to <code>file1.csv</code> despite <code>file1.csv</code> containing the two values. I though there might be some extra spaces coming in these strings so I used <code>split()</code> as well but its still not working. Why is the matching not being done?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1540421215, "post_id": 52978829, "comment_id": 92864288, "body": "try: <code>idx = 0, np.random.choice(b, 2, False)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1540421823, "creation_date": 1540421823, "answer_id": 52979016, "question_id": 52978829, "link": "https://stackoverflow.com/questions/52978829/change-value-of-a-randomly-chosen-entry-of-a-sparse-matrix-row/52979016#52979016", "title": "Change value of a randomly chosen entry of a sparse matrix row", "body": "<p>This converts your sparse row to a boolean mask for your operations.</p>\n\n<pre><code>ones = np.stack(np.where((vec==1).toarray())).T # [[i,j],[i,j]..]\nchosen = np.random.choice(len(ones), 2) # [1,3]\nfor index in chosen:\n    vec[tuple(ones[index])] = 8\n</code></pre>\n\n<p>Since this is by row I think you'll not run into memory problems.</p>\n"}], "owner": {"reputation": 113, "user_id": 10206779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pQzFM.jpg?s=128&g=1", "display_name": "NetUser5y62", "link": "https://stackoverflow.com/users/10206779/netuser5y62"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540421823, "creation_date": 1540420486, "question_id": 52978829, "link": "https://stackoverflow.com/questions/52978829/change-value-of-a-randomly-chosen-entry-of-a-sparse-matrix-row", "title": "Change value of a randomly chosen entry of a sparse matrix row", "body": "<p><code>vec</code> is one row of a sparse matrix.</p>\n\n<pre><code>vec = sparse.csc_matrix([[0,0,1,1,0,1,0,1]])\n</code></pre>\n\n<p>How can I randomly choose 2 entries with value '1' and change its value to 8?</p>\n\n<p>I have tried </p>\n\n<pre><code>a,b,c = sparse.find(vec==1)\nidx = numpy.random.choice(vec[a,b],2)\nvec[idx] = 8\n</code></pre>\n\n<p>However I am getting dimension error because <code>vec</code> is one of the rows of a larger sparse matrix and is something like a nested array.</p>\n"}, {"tags": ["python", "python-3.x", "loops", "numpy", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 1409, "user_id": 7938658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b0fe37848fa39291257168555aa2e5?s=128&d=identicon&r=PG&f=1", "display_name": "imperialgendarme", "link": "https://stackoverflow.com/users/7938658/imperialgendarme"}, "is_accepted": true, "score": 1, "last_activity_date": 1540420947, "creation_date": 1540420947, "answer_id": 52978903, "question_id": 52978792, "link": "https://stackoverflow.com/questions/52978792/iterating-through-a-multidimensional-array-in-a-specific-way/52978903#52978903", "title": "Iterating through a multidimensional array in a specific way", "body": "<p>It was actually VERY simple: Just use transpose..</p>\n\n<pre><code>array = array.T\nfor row in array:\n    for channel in row:\n        print(channel.shape)\n    print()\n</code></pre>\n"}], "owner": {"reputation": 1409, "user_id": 7938658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b0fe37848fa39291257168555aa2e5?s=128&d=identicon&r=PG&f=1", "display_name": "imperialgendarme", "link": "https://stackoverflow.com/users/7938658/imperialgendarme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 52978903, "answer_count": 1, "score": 1, "last_activity_date": 1540420947, "creation_date": 1540420272, "question_id": 52978792, "link": "https://stackoverflow.com/questions/52978792/iterating-through-a-multidimensional-array-in-a-specific-way", "title": "Iterating through a multidimensional array in a specific way", "body": "<p>I have an array with shape <code>(1000, 4, 200)</code></p>\n\n<pre><code>import numpy as np \narray = np.ndarray((1000, 4, 200), dtype=int)\n</code></pre>\n\n<p><code>4</code> is used to represent the number of channels, <code>200</code> is used to represent the number of samples, and 1000 is used to represent, well.. the time domain (not sure how to put it)</p>\n\n<p>How do I iterate through this array in a specific order such that inside a for loop when I print the shape of my array, for each of 200 samples, it must print, </p>\n\n<pre><code>SAMPLE: 1 \n(1000, ) #Channel1\n(1000, ) #Channel2\n(1000, ) #Channel3\n(1000, ) #Channel4\n\nSAMPLE: 2 \n(1000, ) #Channel1\n(1000, ) #Channel2\n(1000, ) #Channel3\n(1000, ) #Channel4\n\nSAMPLE: 3 \n(1000, ) #Channel1\n(1000, ) #Channel2\n(1000, ) #Channel3\n(1000, ) #Channel4\n.\n.\n.\nSAMPLE: 200 \n(1000, ) #Channel1\n(1000, ) #Channel2\n(1000, ) #Channel3\n(1000, ) #Channel4\n</code></pre>\n\n<p>It's not so much that my print statement should be exact, I just want to be able to extract each channel one after another with the time domain as a column vector..</p>\n\n<p>What did I try?</p>\n\n<p>Well.. I haven't done anything special, I simply have a nested loop that does through each dimension from left to right and that's not what I want.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "edited": false, "score": 0, "creation_date": 1540420951, "post_id": 52978785, "comment_id": 92864196, "body": "So if the value is a list of events and you only want to delete one event from each one, how do you choose which one to delete? And by &quot;delete the whole thing&quot; when there is only one event do you mean remove the date&#39;s key and value from the dictionary, or just the value?"}, {"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1540420990, "post_id": 52978785, "comment_id": 92864210, "body": "What does that do (or not do) that isn&#39;t what you expect?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540421028, "post_id": 52978785, "comment_id": 92864228, "body": "<code>del days[key]</code>, i.e. <code>del days[&#39;12&#47;03&#39;]</code>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540421690, "post_id": 52978785, "comment_id": 92864420, "body": "dodging downvotes: @ninjaguy-558  would something like this work? <a href=\"https://repl.it/@downshift/RepentantQuaintService\" rel=\"nofollow noreferrer\">repl.it/@downshift/RepentantQuaintService</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540430781, "post_id": 52978964, "comment_id": 92866444, "body": "so if i were to put that in a function how would it look"}], "tags": [], "owner": {"reputation": 71, "user_id": 10547103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KegS-GLbsfc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC87JKT8y_jmrRQKY2L4OTVqPGJJQ/mo/photo.jpg?sz=128", "display_name": "Omid Ghahroodi", "link": "https://stackoverflow.com/users/10547103/omid-ghahroodi"}, "is_accepted": false, "score": -1, "last_activity_date": 1540421447, "creation_date": 1540421447, "answer_id": 52978964, "question_id": 52978785, "link": "https://stackoverflow.com/questions/52978785/how-remove-an-element-from-a-list-inside-of-a-dictionary/52978964#52978964", "title": "How remove an element from a list inside of a dictionary?", "body": "<p>Try this:</p>\n\n<pre><code>days = {'10/02':['Eat Pie', 'Eat Pizza'], '12/03': ['Drink Wine']}\nfor i in days.values():\n    del i[0]\nprint (days)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540432167, "post_id": 52980185, "comment_id": 92866751, "body": "Why did you put an =None next to to_remove\\"}, {"owner": {"reputation": 125, "user_id": 9617393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LNlj.jpg?s=128&g=1", "display_name": "BerryMan", "link": "https://stackoverflow.com/users/9617393/berryman"}, "reply_to_user": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540432306, "post_id": 52980185, "comment_id": 92866785, "body": "@Ninjaguy558 It means if I give only 2 parameters, <code>to_remove</code> sets to None as a default. This way, you can remove the set of key &amp; values at once without giving which one to remove."}, {"owner": {"reputation": 125, "user_id": 9617393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LNlj.jpg?s=128&g=1", "display_name": "BerryMan", "link": "https://stackoverflow.com/users/9617393/berryman"}, "reply_to_user": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540432395, "post_id": 52980185, "comment_id": 92866799, "body": "@Ninjaguy558 For example, if I do <code>remove_schedule(days, &#39;10&#47;02&#39;)</code>, it sets <code>to_remove</code> as None and results in removing the all values of <code>10&#47;02</code>. And if I do <code>remove_schedule(days,&#39;10&#47;02&#39;, &#39;Eat Pie&#39;)</code>, then I specified that <code>to_remove</code> is <code>&#39;Eat Pie&#39;</code> which will result in removing only <code>&#39;Eat Pie&#39;</code>."}, {"owner": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540432565, "post_id": 52980185, "comment_id": 92866828, "body": "Thank you so much this really helped."}, {"owner": {"reputation": 125, "user_id": 9617393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LNlj.jpg?s=128&g=1", "display_name": "BerryMan", "link": "https://stackoverflow.com/users/9617393/berryman"}, "reply_to_user": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "edited": false, "score": 0, "creation_date": 1540432851, "post_id": 52980185, "comment_id": 92866891, "body": "@Ninjaguy558 Also note that even if you do <code>remove_schedule(days, &#39;12&#47;03&#39;, &#39;Drink Wine&#39;)</code> , <code>&#39;12&#47;03&#39;</code> key remains as <code>&#39;12&#47;03&#39; : []</code>. If you don&#39;t want to leave an empty list, then you could add <code>if not days[date]: del days[date]</code> at the end of the <code>else:</code> statement."}], "tags": [], "owner": {"reputation": 125, "user_id": 9617393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LNlj.jpg?s=128&g=1", "display_name": "BerryMan", "link": "https://stackoverflow.com/users/9617393/berryman"}, "is_accepted": true, "score": 0, "last_activity_date": 1540431994, "creation_date": 1540431994, "answer_id": 52980185, "question_id": 52978785, "link": "https://stackoverflow.com/questions/52978785/how-remove-an-element-from-a-list-inside-of-a-dictionary/52980185#52980185", "title": "How remove an element from a list inside of a dictionary?", "body": "<pre><code>def remove_schedule(days, date, to_remove=None):\n    if to_remove is None:\n        del days[date]\n    else:\n        days[date].remove(to_remove)\n\ndays = {'10/02': ['Eat Pie', 'Eat Pizza'], '12/03': ['Drink Wine']}\nremove_schedule(days, '10/02', 'Eat Pizza')\nprint(days)\n</code></pre>\n\n<p>Here is the codes.</p>\n\n<p>the result of this codes above would be</p>\n\n<p><code>{'10/02': ['Eat Pie'], '12/03': ['Drink Wine']}</code></p>\n\n<p>if you want to remove the whole dictionary key, you can just do</p>\n\n<p><code>remove_schedule(days, '10/02')</code></p>\n\n<p>And this will remove the key and value</p>\n"}, {"tags": [], "owner": {"reputation": 992, "user_id": 7374610, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xFSdX.jpg?s=128&g=1", "display_name": "Zito Relova", "link": "https://stackoverflow.com/users/7374610/zito-relova"}, "is_accepted": false, "score": 0, "last_activity_date": 1540432041, "creation_date": 1540432041, "answer_id": 52980194, "question_id": 52978785, "link": "https://stackoverflow.com/questions/52978785/how-remove-an-element-from-a-list-inside-of-a-dictionary/52980194#52980194", "title": "How remove an element from a list inside of a dictionary?", "body": "<p>Use this function:</p>\n\n<pre><code>def deleter(my_dict, date, event):\n    try:\n        my_dict[date].remove(event)\n        if not my_dict[date]:\n            my_dict.pop(date)\n    except:\n        del my_dict[date]\n</code></pre>\n\n<p>It accepts your dict, your date, and your event</p>\n\n<p>eg. </p>\n\n<pre><code>days = {'10/02':['Eat Pie', 'Eat Pizza'], '12/03': 'Drink Wine'}\ndeleter(days, '12/03', 'Drink Wine')\ndeleter(days, '10/02', 'Eat Pie')\n\nprint(days)\n&gt;&gt; {'10/02': ['Eat Pizza']}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10554746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N71cze4nID4/AAAAAAAAAAI/AAAAAAAAACw/OenQSsZPm4s/photo.jpg?sz=128", "display_name": "Ninjaguy 558", "link": "https://stackoverflow.com/users/10554746/ninjaguy-558"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 52980185, "answer_count": 3, "score": -1, "last_activity_date": 1540432041, "creation_date": 1540420223, "last_edit_date": 1540431058, "question_id": 52978785, "link": "https://stackoverflow.com/questions/52978785/how-remove-an-element-from-a-list-inside-of-a-dictionary", "title": "How remove an element from a list inside of a dictionary?", "body": "<pre><code>days = {'10/02':['Eat Pie', 'Eat Pizza'], '12/03': 'Drink Wine'}\n\ndef delete_event(k, x, y):\n  if type(days[k]) == list:\n    for k in days:\n  days[k] = days[k][x:y]\n  elif type(days[k]) != list:\n    del days[k]\n  print('That event has been deleted. Here is the new list: ')\n  print(days)\n</code></pre>\n\n<p>I have a dictionary that contains dates and events. A date can save more than one event in a form of a list. How would I go about deleting a specific event from the list? But if there isn't more than one event just delete the whole thing (the key and value). Is it possible to do it? I need to have a function with an algorithm. Any time i put in a value for x and y it gets rid of the values in all keys instead of just the specific key i want.\n<a href=\"https://repl.it/@footballmania1/Mock\" rel=\"nofollow noreferrer\">https://repl.it/@footballmania1/Mock</a>\nThat is the link to my current project I need help fixing the delete function.</p>\n"}, {"tags": ["python", "stdin"], "answers": [{"tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1540420238, "creation_date": 1540420238, "answer_id": 52978789, "question_id": 52978761, "link": "https://stackoverflow.com/questions/52978761/sys-stdin-in-python-on-unix-shell/52978789#52978789", "title": "sys.stdin in python on unix shell", "body": "<p>With</p>\n\n<pre><code>python3 sample.py data.txt\n</code></pre>\n\n<p>you are passing <code>data.txt</code> as an <em>argument</em>. To pass its content as input (to stdin), do:</p>\n\n<pre><code>python3 sample.py &lt; data.txt\n</code></pre>\n\n<p>The <a href=\"https://www.gnu.org/software/bash/manual/html_node/Redirections.html\" rel=\"nofollow noreferrer\">redirection operator <code>&lt;</code></a> is a shell construct and refers to the stdin. </p>\n"}], "owner": {"reputation": 17, "user_id": 10338745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2849e487d1f4b2fb7c55152e76e9bb93?s=128&d=identicon&r=PG&f=1", "display_name": "Molls", "link": "https://stackoverflow.com/users/10338745/molls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 52978789, "answer_count": 1, "score": 0, "last_activity_date": 1540420238, "creation_date": 1540420080, "question_id": 52978761, "link": "https://stackoverflow.com/questions/52978761/sys-stdin-in-python-on-unix-shell", "title": "sys.stdin in python on unix shell", "body": "<p>I am writing a python program through a unix shell. While I have written the program, I had to hard code my data in. However my goal is to be able to be able to stdin the data through the shell like this</p>\n\n<pre><code>python3 sample.py data.txt\n</code></pre>\n\n<p>Where sample.py is the program and data.txt is the data. Data.txt contains two column of data seperated by a tab. Then I have print to make sure it is working. The way I wrote the code to read the data in is as follows</p>\n\n<pre><code>for line in sys.stdin:\n    words = re.split(r'\\t',line)\n    print(words)\n</code></pre>\n\n<p>Splitting the content of the lines the tab, and printing to make sure it is working. When running line \"python3 sample.py data.txt\", it does nothing, however the program will not exit like there is an infinite loop or something. How can I get this to print?</p>\n"}, {"tags": ["python", "flask", "cassandra", "cql"], "answers": [{"tags": [], "owner": {"reputation": 7191, "user_id": 4929646, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HWc5G.jpg?s=128&g=1", "display_name": "Danila Ganchar", "link": "https://stackoverflow.com/users/4929646/danila-ganchar"}, "is_accepted": false, "score": 2, "last_activity_date": 1540556341, "creation_date": 1540556341, "answer_id": 53008613, "question_id": 52978751, "link": "https://stackoverflow.com/questions/52978751/flask-cqlalchemy-db-objects-dont-have-query-attribute/53008613#53008613", "title": "Flask-CQLAlchemy DB objects dont have &#39;query&#39; attribute", "body": "<p>As I understood you try to use <code>Flask-CQLAlchemy</code> as <code>Flask-SQLAlchemy</code>. But this is different libraries. </p>\n\n<p>To find objects with limit:</p>\n\n<pre><code>for p in Person.objects().limit(100):\n    print(p)\n</code></pre>\n\n<p>To find by field:</p>\n\n<pre><code>print(Person.get(uid='uid_here'))\n</code></pre>\n\n<p>You can find other useful methods <a href=\"https://github.com/datastax/python-driver/blob/master/cassandra/cqlengine/query.py#L884\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 335, "user_id": 5320103, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iQcrg.jpg?s=128&g=1", "display_name": "s_om", "link": "https://stackoverflow.com/users/5320103/s-om"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540556341, "creation_date": 1540420024, "question_id": 52978751, "link": "https://stackoverflow.com/questions/52978751/flask-cqlalchemy-db-objects-dont-have-query-attribute", "title": "Flask-CQLAlchemy DB objects dont have &#39;query&#39; attribute", "body": "<p>I am trying to write a flask application with Cassandra. I am using the Flask-CQLAlchemy library to do this and the basic querying supported by the ORM doesn't seem to work.</p>\n\n<p>My code looks something like this :</p>\n\n<pre><code>class Person(db.Model):\n    id = db.columns.UUID(primary_key=True)\n    first_name  = db.columns.Text()\n    last_name = db.columns.Text()\n</code></pre>\n\n<p>When I open up the terminal and go to Python, I create a new person with </p>\n\n<pre><code>person1 = Person(first_name='ABC', last_name='WYZ')\n</code></pre>\n\n<p>It goes through but when I query the Person database with :</p>\n\n<pre><code>Person.query.limit(1).all()\n</code></pre>\n\n<p>I get an error saying : </p>\n\n<pre><code>AttributeError: type object 'Person' has no attribute 'query'\n</code></pre>\n\n<p>Is there something else that needs to be added in the CQLAlchemy program?</p>\n"}, {"tags": ["python", "sql"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1540420398, "post_id": 52978702, "comment_id": 92864001, "body": "generally speaking - a sql database queried like you did should <i>never</i> return the same id multiple times unless you have a composite key defined on the table (a key that spans multiple columns)"}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 761485, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/51af9b9ae989c9b63780800c3ddaccda?s=128&d=identicon&r=PG", "display_name": "therealtypon", "link": "https://stackoverflow.com/users/761485/therealtypon"}, "is_accepted": false, "score": 1, "last_activity_date": 1540420149, "creation_date": 1540420149, "answer_id": 52978771, "question_id": 52978702, "link": "https://stackoverflow.com/questions/52978702/python-remove-all-duplicate-enteries-from-array/52978771#52978771", "title": "Python - Remove all duplicate enteries from array", "body": "<p>Maybe make a dictionary that's keyed by the ID?</p>\n\n<p>Something like this:</p>\n\n<pre><code>from collections import defaultdict\ndata_dict = defaultdict(list)\nfor row in result:\n    id_ = row[0]\n    for item in row[1:]:\n        data[id_].append(item)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540420877, "post_id": 52978811, "comment_id": 92864169, "body": "Error: &#39;tuple&#39; object has no attribute &#39;extend&#39;  Am I making a dumb mistake?"}, {"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "reply_to_user": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540421034, "post_id": 52978811, "comment_id": 92864229, "body": "Should be fixed now. <code>list()</code> can convert <code>set</code> and <code>tuple</code> to <code>list</code> type"}, {"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540421732, "post_id": 52978811, "comment_id": 92864435, "body": "Thank you so much!"}, {"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "reply_to_user": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1540421900, "post_id": 52978811, "comment_id": 92864485, "body": "Glad I can help."}], "tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": true, "score": 0, "last_activity_date": 1540421005, "last_edit_date": 1540421005, "creation_date": 1540420399, "answer_id": 52978811, "question_id": 52978702, "link": "https://stackoverflow.com/questions/52978702/python-remove-all-duplicate-enteries-from-array/52978811#52978811", "title": "Python - Remove all duplicate enteries from array", "body": "<p>To have a list of list with the same structure:</p>\n\n<pre><code>lofl = []\nfor row in data:\n    headers = [e[0] for e in lofl]\n    if row[0] in headers:\n        lofl[headers.index(row[0])].extend(row[1:])\n    else:\n        lofl.append(list(row))\n</code></pre>\n\n<p><code>lofl</code> would be what you wanted in your description.</p>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1540420471, "creation_date": 1540420471, "answer_id": 52978826, "question_id": 52978702, "link": "https://stackoverflow.com/questions/52978702/python-remove-all-duplicate-enteries-from-array/52978826#52978826", "title": "Python - Remove all duplicate enteries from array", "body": "<p>MySQL's results are returned as a tuple of values. Each time that you call <code>data.append()</code> you're just appending that row to the list, so you get a list containing the returned values of all of the rows in the table. What you're expecting is a list with unique row IDs as the first element and all of the possible other column values returned by the query as the rest of the elements. </p>\n\n<p>Since you want unique IDs anyway you should use a dict:</p>\n\n<pre><code>data_results = {}\nfor row in results:\n    row_id = query_results[0]\n    if row_id in data_results:\n        data_results[row_id]).extend(query_results[1:])\n    else:\n        data_results[row_id] = query_results[1:]\n</code></pre>\n\n<p>This should have the desired effect, albeit as a dictionary of lists instead of a list of lists. If you need the list to remain in a specific order then I'd suggest looking up details on OrderedDict. </p>\n"}], "owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 52978811, "answer_count": 3, "score": 1, "last_activity_date": 1540421005, "creation_date": 1540419719, "question_id": 52978702, "link": "https://stackoverflow.com/questions/52978702/python-remove-all-duplicate-enteries-from-array", "title": "Python - Remove all duplicate enteries from array", "body": "<p>I'm stuck with a problem.</p>\n\n<p>I'm doing a SQL command to get some data. In the data, I created rows with an equal id. What I want is that I put all the data with the same ID in one array.\nHere is what I have:</p>\n\n<pre><code>             ID Var1 Var2\n    data = [[1,  A,   B],\n            [1,  C,   D],\n            [1,  E,   F],\n            [2,  A,   B],\n            [2,  C,   D],\n            [2,  E,   F]]\n</code></pre>\n\n<p>As you can see, rows with an equal ID are put into a seperate array. This is what I want:</p>\n\n<pre><code>    data = [[1,  A,   B,   C,   D,   E,   F],\n            [2,  A,   B,   C,   D,   E,   F]]\n</code></pre>\n\n<p>So I only want 1 ID and put all the values with that ID in 1 array.</p>\n\n<p>This is my code:</p>\n\n<pre><code>mycursor.execute(\"SELECT ID, Var1, Var2 FROM Test_Database\")\nresult = mycursor.fetchall ()\n\ndata = []\nfor row in result :\ndata.append(row)\n\nprint(data)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "mocking", "pytest", "magicmock"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 2, "creation_date": 1540419560, "post_id": 52978673, "comment_id": 92863770, "body": "<a href=\"http://www.reactiongifs.com/r/mgc.gif\" rel=\"nofollow noreferrer\">It&#39;s magic</a>. ;)"}, {"owner": {"reputation": 2280, "user_id": 2094168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf7f39f46237a00ea06cd9706be9efab?s=128&d=identicon&r=PG", "display_name": "2ank3th", "link": "https://stackoverflow.com/users/2094168/2ank3th"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1540419887, "post_id": 52978673, "comment_id": 92863870, "body": "I thought there was a special method that got called every time a function is called. And MagicMock overrides that."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1540419925, "post_id": 52978673, "comment_id": 92863880, "body": "The mock documentation refers to this repeatedly; you need to <i>spec</i> the mock if you want to see attribute errors."}, {"owner": {"reputation": 2280, "user_id": 2094168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf7f39f46237a00ea06cd9706be9efab?s=128&d=identicon&r=PG", "display_name": "2ank3th", "link": "https://stackoverflow.com/users/2094168/2ank3th"}, "edited": false, "score": 0, "creation_date": 1540420023, "post_id": 52978673, "comment_id": 92863911, "body": "I understand that with autospec=True, it will throw AttributeError. My question is how is MagicMock able to return mock for any method that get&#39;s called open it&#39;s object."}], "answers": [{"comments": [{"owner": {"reputation": 2280, "user_id": 2094168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf7f39f46237a00ea06cd9706be9efab?s=128&d=identicon&r=PG", "display_name": "2ank3th", "link": "https://stackoverflow.com/users/2094168/2ank3th"}, "edited": false, "score": 1, "creation_date": 1540420836, "post_id": 52978853, "comment_id": 92864150, "body": "This is exactly what I was looking for, Thanks!"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 2280, "user_id": 2094168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf7f39f46237a00ea06cd9706be9efab?s=128&d=identicon&r=PG", "display_name": "2ank3th", "link": "https://stackoverflow.com/users/2094168/2ank3th"}, "edited": false, "score": 2, "creation_date": 1540426415, "post_id": 52978853, "comment_id": 92865575, "body": "@2ank3th I suggest changing the accept to wim&#39;s answer. I only posted one because people more familiar with the subject didn&#39;t seem to bite."}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": false, "score": 1, "last_activity_date": 1540420587, "creation_date": 1540420587, "answer_id": 52978853, "question_id": 52978673, "link": "https://stackoverflow.com/questions/52978673/how-does-magicmock-avoid-throwing-attributeerror-when-a-random-method-is-called/52978853#52978853", "title": "How does MagicMock avoid throwing AttributeError when a random method is called?", "body": "<p>I don't actually know how specifically <code>MagicMock</code> works (I've never used it, but I've Heard Good Things), but this part of the behaviour can be replicated (along with probably multiple other possible solutions) by hijacking <code>__getattr__</code> in a way that it returns a callable that creates a new mock instance when called:</p>\n\n<pre><code>class MM:\n    def __init__(self, name=None):\n        # store a name, TODO: random id, etc.\n        self.name = name\n\n    def __repr__(self):\n        # make it pretty\n        if self.name:\n            r = f'&lt;MM name={self.name}&gt;'\n        else:\n            r = f'&lt;MM&gt;'\n        return r\n\n    def __getattr__(self, attrname):\n        # we want a factory for a mock instance with a name corresponding to attrname\n        def magicattr():\n            return MM(name=f\"'mock.{attrname}()'\")\n        return magicattr\n</code></pre>\n\n<p>When executed, we see the following:</p>\n\n<pre><code>&gt;&gt;&gt; MM()\n&lt;MM&gt;\n&gt;&gt;&gt; MM().hello()\n&lt;MM name='mock.hello()'&gt;\n</code></pre>\n\n<p>I didn't go overboard with defining an <code>id</code> and whatnot, but the basic trick can be seen on the above stripped-down example.</p>\n\n<p>The way the above works is that accessing <code>.hello</code> or any other attribute goes through our custom <code>__getattr__</code> which gives us a chance to generate a fake (mocked) method on the fly, with whatever properties we want to. As I understand one of the many benefits of <code>MagicMock</code> is exactly that we don't have to worry about <code>AttributeError</code>s being thrown by default, it <em>just works</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1540429289, "last_edit_date": 1540429289, "creation_date": 1540425254, "answer_id": 52979455, "question_id": 52978673, "link": "https://stackoverflow.com/questions/52978673/how-does-magicmock-avoid-throwing-attributeerror-when-a-random-method-is-called/52979455#52979455", "title": "How does MagicMock avoid throwing AttributeError when a random method is called?", "body": "<p>The Python datamodel documents a hook, <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__getattr__\" rel=\"nofollow noreferrer\"><code>__getattr__</code></a>, which shall be called when attribute access fails to resolve in the usual ways. Mocks use it to return a new mock instance - i.e. mocks define unknown attributes as <a href=\"https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)\" rel=\"nofollow noreferrer\"><em>factories</em></a>.</p>\n\n<p>Reproducing mock's implementation in a simpler way, you would just turn <code>__getattr__</code> and <code>__call__</code> into factory functions:</p>\n\n<pre><code>class M:\n    def __call__(self):\n        return M()\n    def __getattr__(self, name):\n        return M()\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>&gt;&gt;&gt; mock = M()\n&gt;&gt;&gt; mock.potato\n&lt;__main__.M at 0xdeadbeef&gt;\n&gt;&gt;&gt; mock.potato()\n&lt;__main__.M at 0xcafef00d&gt;\n</code></pre>\n\n<blockquote>\n  <p>How is MagicMock able to do this? </p>\n</blockquote>\n\n<p>This part is not specific to <code>MagicMock</code>, an ordinary <code>Mock</code> will do the same (the \"magic\" in the name is just referring to additional features allowing better mocking of <a href=\"https://docs.python.org/3/reference/datamodel.html#special-lookup\" rel=\"nofollow noreferrer\">magic methods</a>).  <code>MagicMock</code> <a href=\"https://github.com/python/cpython/blob/e80e77a484983ffb527ef22d336ff9500589dce3/Lib/unittest/mock.py#L575\" rel=\"nofollow noreferrer\">inherits such behavior from one of the base classes</a>:</p>\n\n<pre><code>&gt;&gt;&gt; MagicMock.mro()\n[unittest.mock.MagicMock,\n unittest.mock.MagicMixin,\n unittest.mock.Mock,\n unittest.mock.CallableMixin,\n unittest.mock.NonCallableMock,  # &lt;--- this one overrides __getattr__!\n unittest.mock.Base,\n object]\n</code></pre>\n\n<blockquote>\n  <p>How can I create a class that can perform an action when any method (which might not be defined) is called on it?</p>\n</blockquote>\n\n<p>It depends if you want to be in front of, or behind, a normal attribute access.  If you want to get in front, you should define <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__getattribute__\" rel=\"nofollow noreferrer\"><code>__getattribute__</code></a>, it's called unconditionally to implement attribute accesses before searching the class/instance namespaces. However, if you want to take a lower precedence to normal attributes (i.e. those living in the object <code>__dict__</code>) and to <a href=\"https://docs.python.org/3/howto/descriptor.html#descriptor-protocol\" rel=\"nofollow noreferrer\">descriptors</a>, then you should define <code>__getattr__</code> as previously discussed.</p>\n"}], "owner": {"reputation": 2280, "user_id": 2094168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf7f39f46237a00ea06cd9706be9efab?s=128&d=identicon&r=PG", "display_name": "2ank3th", "link": "https://stackoverflow.com/users/2094168/2ank3th"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 52979455, "answer_count": 2, "score": 3, "last_activity_date": 1540429289, "creation_date": 1540419484, "last_edit_date": 1540425468, "question_id": 52978673, "link": "https://stackoverflow.com/questions/52978673/how-does-magicmock-avoid-throwing-attributeerror-when-a-random-method-is-called", "title": "How does MagicMock avoid throwing AttributeError when a random method is called?", "body": "<p>In Python, if you call a method that doesn't exist it throws an AttributeError. Ex </p>\n\n<pre><code>&gt;&gt;&gt; class A:\n...     def yo(self):\n...             print(1)\n... \n&gt;&gt;&gt; a = A()\n&gt;&gt;&gt; a.yo()\n1\n&gt;&gt;&gt; a.hello()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'A' object has no attribute 'hello'\n</code></pre>\n\n<p>In the below code, MagicMock class doesn't have a function named hello or no patch was created for a method hello. Still below code doesn't throw an AttributeError</p>\n\n<pre><code>&gt;&gt;&gt; from unittest.mock import MagicMock \n&gt;&gt;&gt; obj = MagicMock()\n&gt;&gt;&gt; obj.hello()\n&lt;MagicMock name='mock.hello()' id='4408758568'&gt;\n</code></pre>\n\n<p>How is MagicMock able to do this? How can I create a class that can perform an action when any method (which might not be defined) is called on it?</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10554608, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RcsPYa_iWyo/AAAAAAAAAAI/AAAAAAAAAAA/hXslG4Yowhc/photo.jpg?sz=128", "display_name": "Kerbash", "link": "https://stackoverflow.com/users/10554608/kerbash"}, "edited": false, "score": 1, "creation_date": 1540423064, "post_id": 52978906, "comment_id": 92864790, "body": "Ok, I tried it out that that works now, thanks but is there any way for Tkinter to keep updating the time? Since the while True loop don&#39;t work with tkinter is there any other way I can make it so that tkinter repeats a command? Like import?"}, {"owner": {"reputation": 4975, "user_id": 2323393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d52f68fba51eda4b59593a83a3c1250?s=128&d=identicon&r=PG", "display_name": "scotty3785", "link": "https://stackoverflow.com/users/2323393/scotty3785"}, "edited": false, "score": 1, "creation_date": 1540465939, "post_id": 52978906, "comment_id": 92880887, "body": "Tkinter includes a method called &#39;after&#39; which is used to schedule a function to be called after a specified period of time. It is described on StackOverflow in many places <a href=\"https://stackoverflow.com/questions/25753632/tkinter-how-to-use-after-method\" title=\"tkinter how to use after method\">stackoverflow.com/questions/25753632/&hellip;</a> This would be a better option than the schedule code you have right now."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1540479023, "post_id": 52978906, "comment_id": 92889596, "body": "In Tkinter you can use the <code>after()</code> method to control a function that can do the same thing as your while loop without blocking the mainloop like a while statement does.."}], "tags": [], "owner": {"reputation": 113, "user_id": 7135146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a76970eb72e8ff2eafd641503cd47ff7?s=128&d=identicon&r=PG&f=1", "display_name": "directive-41", "link": "https://stackoverflow.com/users/7135146/directive-41"}, "is_accepted": true, "score": 0, "last_activity_date": 1540420998, "creation_date": 1540420998, "answer_id": 52978906, "question_id": 52978636, "link": "https://stackoverflow.com/questions/52978636/how-to-make-tkinter-python-script-take-variable-every-x-seconds/52978906#52978906", "title": "How to make Tkinter python script take variable every X seconds?", "body": "<p>You're importing a variable from a function. I think you should be importing the class (restructure day.py as a class first), then calling the mooninfo() method to return the value of the moon_phase variable.</p>\n"}], "owner": {"reputation": 23, "user_id": 10554608, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RcsPYa_iWyo/AAAAAAAAAAI/AAAAAAAAAAA/hXslG4Yowhc/photo.jpg?sz=128", "display_name": "Kerbash", "link": "https://stackoverflow.com/users/10554608/kerbash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 52978906, "answer_count": 1, "score": 1, "last_activity_date": 1540420998, "creation_date": 1540419269, "question_id": 52978636, "link": "https://stackoverflow.com/questions/52978636/how-to-make-tkinter-python-script-take-variable-every-x-seconds", "title": "How to make Tkinter python script take variable every X seconds?", "body": "<p>First of excused my poor coding skills. Just started learning about a week ago</p>\n\n<p>Anyway, I'm trying to right now create a GUI for this weather/clock thing for a project. Right now I need it so that the GUI, I was thinking of using Tkinter, updates every second and basically pulled strings from this program. Currently, the program calculates the time of sunrise and sunset and lunar cycle.</p>\n\n<p>I tried two ways so far, the first method, running the entire program under one script, but it doesn't work due to the mainloop() prevent the calculation from repeating itself for the next day.</p>\n\n<p>So now I was hoping to separate the program into two parts. One with the calculations and the other as the main GUI program. So what I did was basically.</p>\n\n<p>Simplified Calculation Script (Its very long so I write the important part):</p>\n\n<p>its day.py</p>\n\n<pre><code>import datetime\nimport math\nimport schedule\nimport astral\n\na = Astral()\n\ndef tick():\n    d = datetime.datetimee.today()\n    second = d.second\n    minutes = d.minute\n    hour = d.hour\n    month = d.month\n    print(str(hour) + \":\" + str(minute) + \":\" + str(second))\n\ndef mooninfo():\n    global percent_illuminate\n    global moon_phase\n    moon_phase = a.moon_phase(date=datetime.date(year,month,day)\n    percent_illuminate = VERY LONG EQUATIONS\n    print(\"Moon is at... \" + str(moon_phase))\n    print(percent_illuminate)\n\nschedule.every(1).second.do(tick)\nschedule.every().day.do(mooninfo)\n\nwhile True:\n    schedule.run_pending()\n</code></pre>\n\n<p>And for the tkinter script I tried</p>\n\n<pre><code>from day import moon_phase\n</code></pre>\n\n<p>Instead of just importing the moon_phase it started to run the program printing out the time of day nonstop.</p>\n\n<p>So if anyone could help me</p>\n\n<ul>\n<li>Let the tkinter script update everytime the different variable, second, minutes, hour, day, month, and moon_phase changed.</li>\n<li>Or is there a way to get around the mainloop() of tkinter and just make it run while True: loop too?</li>\n<li>Or any other better way to do it.</li>\n</ul>\n\n<p>I saw that you can let Tkinter track the time making a digital clock of the sort but I need the calculations and also I am also sending variables over to an Arduino too (But I already figured that out).</p>\n\n<p>Any help is greatly appreciated, thanks</p>\n"}, {"tags": ["python", "amazon-web-services", "flask", "wsgi", "amazon-elastic-beanstalk"], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "edited": false, "score": 0, "creation_date": 1540421665, "post_id": 52978887, "comment_id": 92864413, "body": "So you&#39;re saying that, after my original app factory &#39;create_app&#39;, I need to add a &#39;application = create_app()&#39; and it&#39;ll work?"}, {"owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "edited": false, "score": 1, "creation_date": 1540428600, "post_id": 52978887, "comment_id": 92866016, "body": "Hey there, your suggestion seemed to have worked! Thanks!"}], "tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": true, "score": 2, "last_activity_date": 1540420817, "creation_date": 1540420817, "answer_id": 52978887, "question_id": 52978597, "link": "https://stackoverflow.com/questions/52978597/how-to-deploy-flask-app-to-aws-elastic-beanstalk-using-an-application-factory/52978887#52978887", "title": "How to deploy Flask app to AWS Elastic beanstalk using an application factory", "body": "<p>The application factory creates the application instance, registers routes for it and returns the instance. </p>\n\n<p>Assigning <code>application</code> to be equal to the value returned from the call to <code>create_app</code> fulfills the requirement by EB that a callable object which implements WSGI is exposed as <code>application</code> name.</p>\n"}], "owner": {"reputation": 828, "user_id": 9362785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6902b16fb7213b6d360125bb89e1ebdc?s=128&d=identicon&r=PG&f=1", "display_name": "albert", "link": "https://stackoverflow.com/users/9362785/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 1, "accepted_answer_id": 52978887, "answer_count": 1, "score": 1, "last_activity_date": 1540420817, "creation_date": 1540419081, "question_id": 52978597, "link": "https://stackoverflow.com/questions/52978597/how-to-deploy-flask-app-to-aws-elastic-beanstalk-using-an-application-factory", "title": "How to deploy Flask app to AWS Elastic beanstalk using an application factory", "body": "<p>I'm trying to deploy my Flask application to AWS and am getting a 403 Forbidden error. After much testing with AWS, I've seemed to figure out that it's an error on there end. My Flask App currently is written using an application factory, and looks something like this (simplified):</p>\n\n<pre><code>from flask import Flask\n\ndef create_app(test_config=None):\n    application = Flask(__name__)\n    app = application\n\n    @app.route('/')\n    def index():\n        return \"The index page\"\n\n    ...\n\n    return app\n</code></pre>\n\n<p>However, after I set up an environment on Elastic beanstalk and deploy my Flask app there, I visit the index page, I get a 403 Forbidden error. I check my logs for EB, and see an error saying </p>\n\n<blockquote>\n  <p>\"Target WSGI script '/opt/python/current/app/server/application.py'\n  does not contain WSGI application 'application'.\"</p>\n</blockquote>\n\n<p>At first I was confused. I had previously had other errors with EB and had looked online. I don't really understand what the WSGI standard is, but I saw people saying that EB will only work if the Flask \"app\" object is named \"application\", which I purposefully changed. Then I looked at the AWS documentation and realized their examples didn't use an application factory, so on a hunch I tested not using the application factory:</p>\n\n<pre><code>from flask import Flask\n\napplication = Flask(__name__)    \napp = application\n\n...    \n\n@app.route('/')\ndef index():\n    return \"The index page\"\n\nif __name__ == \"__main__\":\n    application.run()\n</code></pre>\n\n<p>This worked. I can only conclude that because the \"application\" object is defined in the application factory, or the fact that it's returning the application instead of using application.run(), it isn't registering with EB. Again, I don't really understand WSGI and what it has to do with the error. How can I get around this and deploy with the application factory, since I don't want to get around rewriting most of my project?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1540419414, "post_id": 52978561, "comment_id": 92863724, "body": "Simple: <code>re.search(r&#39;\\bwill\\b.*\\bin case I need\\b&#39;, s)</code>"}, {"owner": {"reputation": 19, "user_id": 10554555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67afee6761c81e591021a0ec172f02a9?s=128&d=identicon&r=PG&f=1", "display_name": "K B", "link": "https://stackoverflow.com/users/10554555/k-b"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1540858403, "post_id": 52978561, "comment_id": 93010649, "body": "This works great, thanks a lot !"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10554555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67afee6761c81e591021a0ec172f02a9?s=128&d=identicon&r=PG&f=1", "display_name": "K B", "link": "https://stackoverflow.com/users/10554555/k-b"}, "edited": false, "score": 0, "creation_date": 1540858425, "post_id": 52978897, "comment_id": 93010654, "body": "Thanks, with the addition of \\b, this solves the question posted"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1540420886, "creation_date": 1540420886, "answer_id": 52978897, "question_id": 52978561, "link": "https://stackoverflow.com/questions/52978561/match-if-string-contains-one-substring-followed-by-another-using-regex-in-python/52978897#52978897", "title": "Match if string contains one substring followed by another using regex in python", "body": "<p>That complicated regexp is only needed because the order doesn't matter. If order matters, it's much simpler:</p>\n\n<pre><code>re.search(r'pattern1.*pattern2', string_to_search)\n</code></pre>\n\n<p>will look for <code>pattern1</code> followed by <code>pattern2</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 10554555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67afee6761c81e591021a0ec172f02a9?s=128&d=identicon&r=PG&f=1", "display_name": "K B", "link": "https://stackoverflow.com/users/10554555/k-b"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "closed_date": 1540653881, "answer_count": 1, "score": 1, "last_activity_date": 1540448867, "creation_date": 1540418874, "last_edit_date": 1540448867, "question_id": 52978561, "link": "https://stackoverflow.com/questions/52978561/match-if-string-contains-one-substring-followed-by-another-using-regex-in-python", "closed_reason": "Duplicate", "title": "Match if string contains one substring followed by another using regex in python", "body": "<p>I am trying to match one substring followed by another in a string input at word boundaries using regex. For e.g.  if\n<code>string_1 = \"I will give you a call in case I need some help in future\"</code><br>\nand if 2 substrings are \"will\" and \"in case I need\"\nit should return true for string 1\nbut should return false for string below</p>\n\n<pre><code>string_2 = \"in case I need some help I will call you\" \n</code></pre>\n\n<p>I need a case insensitive match and can only use regex.</p>\n\n<p>It should also return false for the below since it does not contain \"in case I need\" followed by the \"will\"</p>\n\n<pre><code>string_3 = \"I will let you know\" \n\nstring_4 = \"I will let you know in case we need\"\n</code></pre>\n\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/8240765/is-there-a-regex-to-match-a-string-that-contains-a-but-does-not-contain-b\">Is there a regex to match a string that contains A but does not contain B</a> but unable to determine how I can do look ahead/ look backward for my scenario. That post covers when 2 strings are present without determining if one follows another.\nNeed the solution in python and cant use substring/find etc, so need to be a regex</p>\n\n<pre><code>str = 'I will give you a call in case I need some help in future' \n\nresult = bool(re.search(r'^(?=.*\\bwill\\b)(?=.*\\bin case I need\\b).*', str)) \n\nprint(result)\n</code></pre>\n\n<p>Above matches presence of \"will\" and \"in case I need\" without a order. I need  order to be enforced and one string to be followed by another i.e. \"will\" to be followed by \"in case I need\".</p>\n"}, {"tags": ["python", "timer", "python-asyncio"], "answers": [{"tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": false, "score": 1, "last_activity_date": 1540423172, "last_edit_date": 1540423172, "creation_date": 1540422119, "answer_id": 52979056, "question_id": 52978550, "link": "https://stackoverflow.com/questions/52978550/how-to-wait-for-python-asyncio-call-later-to-finish-all-pending/52979056#52979056", "title": "How to wait for Python asyncio call_later to finish all pending", "body": "<p>You may introspect using <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.all_tasks\" rel=\"nofollow noreferrer\">asyncio.all_tasks()</a> but it's probably the wrong way to do it.</p>\n\n<p>The right way would be to create futures and allow <code>call_later</code> to mark them as done:</p>\n\n<pre><code>import asyncio\nfrom functools import partial\nSTART_RATE = 1\n\n\ndef say_hi(who):\n    print(f'hello {who}')\n\n\ndef run_on_finish(callback):\n    def wrapper(func, *args, **kwargs):\n        try:\n            return func(*args, **kwargs)\n        finally:\n            callback()\n    return wrapper\n\n\ndef release_waiter(waiter, *args):\n    \"\"\"Taken from standard library\"\"\"\n    if not waiter.done():\n        waiter.set_result(None)\n\n\ndef run():\n    # Let's go!\n    incr = START_RATE\n    loop = asyncio.get_event_loop()\n    tasks = []\n    for x in range(5):\n        wait_delta = 5 - x\n\n        # Create a waiter\n        waiter = loop.create_future()\n        release_cb = partial(release_waiter, waiter)\n\n        # Schedule the function, making sure we release the waiter on finish\n        handle = loop.call_later(incr * wait_delta, run_on_finish(release_cb),\n                                 say_hi, x)\n\n        # If waiter is cancelled, cancel the handle too.\n        waiter.add_done_callback(lambda *args: handle.cancel)\n\n        tasks.append(waiter)\n\n    loop.run_until_complete(asyncio.gather(*tasks))\n\n\nrun()\n</code></pre>\n\n<p>Keep in mind <code>call_later</code> is used for normal functions and not coroutines. If <code>say_hi</code> needs to be a coroutine, you should add <code>ensure_future</code> or <code>loop.create_task</code> into the mix.</p>\n\n<p>Adding them does come with more complications -  you'll need to add a few more functions to take <code>ensure_future</code>'s resulting future, and chain it with your waiter in a similar way to <code>futures._chain_future</code>.</p>\n\n<p>I highly suggest using your own coroutine in that case, as you have already done.</p>\n"}], "owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540800797, "creation_date": 1540418813, "last_edit_date": 1540800797, "question_id": 52978550, "link": "https://stackoverflow.com/questions/52978550/how-to-wait-for-python-asyncio-call-later-to-finish-all-pending", "title": "How to wait for Python asyncio call_later to finish all pending", "body": "<p>I want to write a program that utilizes <a href=\"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.call_later\" rel=\"nofollow noreferrer\">call_later</a> to signal something (or things) to happen later, which themselves might add more routines to be invoked, and then signal to the program to run until there's nothing remaining to be run. For an example, I can do the following:</p>\n\n<pre><code>import  asyncio\nSTART_RATE = 1\n\nasync def say_hi(who):\n    print(f'hello {who}')\n\nasync def call_later(t, func, *params):\n    await asyncio.sleep(t)\n    await func(*params)\n\ndef run():\n    # Let's go!\n    incr = START_RATE\n    loop = asyncio.get_event_loop()\n    tasks = []\n    for x in range(5):\n        wait_delta = 5 - x\n        tasks.append(\n            call_later(incr * wait_delta, say_hi, x)\n        )\n\n    loop.run_until_complete(asyncio.gather(*tasks))\n\nrun()\n</code></pre>\n\n<p>But you'll notice that <code>call_later</code> is a bespoke coroutine.</p>\n\n<p>Is it possible to use the event loop's <code>call_later</code>, but somehow inspect the event loop or otherwise await the completion of all pending callbacks?</p>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 3091, "user_id": 7941251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd737c36d4225c66b8f647faecf5b793?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStormer", "link": "https://stackoverflow.com/users/7941251/superstormer"}, "edited": false, "score": 0, "creation_date": 1540418949, "post_id": 52978535, "comment_id": 92863592, "body": "Why can&#39;t you just make a fixture that calls load_image,perhaps with some formatting first?"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1540422318, "post_id": 52978535, "comment_id": 92864600, "body": "What are you trying to accomplish? Do you want to have a test that is executed for each image and move the file reading to a fixture? test or fixture parametrization is most probably what you need instead."}, {"owner": {"reputation": 4478, "user_id": 557406, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99836456ec6d87389df32d2cdcf8d825?s=128&d=identicon&r=PG", "display_name": "Charles L.", "link": "https://stackoverflow.com/users/557406/charles-l"}, "edited": false, "score": 0, "creation_date": 1540425432, "post_id": 52978535, "comment_id": 92865363, "body": "Yea, I have a folder full of images that trigger different outputs, so I have a test for each image.  I want to read the file data to pass them as inputs to the functions being tested"}], "answers": [{"tags": [], "owner": {"reputation": 597, "user_id": 7106043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad186da33c9c5db8a7af0e1b0bf31026?s=128&d=identicon&r=PG&f=1", "display_name": "Jonah", "link": "https://stackoverflow.com/users/7106043/jonah"}, "is_accepted": false, "score": 1, "last_activity_date": 1540428849, "creation_date": 1540428849, "answer_id": 52979839, "question_id": 52978535, "link": "https://stackoverflow.com/questions/52978535/programmatically-create-pytest-fixtures/52979839#52979839", "title": "Programmatically create pytest fixtures", "body": "<p>Something like this:</p>\n\n<pre><code>@pytest.mark.parametrize('pic', ['f1', 'f2', 'f3'])\ndef test_pics(pic):\n    load_image(pic)\n</code></pre>\n\n<p>See the docs for details\n<a href=\"https://docs.pytest.org/en/latest/parametrize.html\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/parametrize.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 5, "last_activity_date": 1540430463, "creation_date": 1540430463, "answer_id": 52980009, "question_id": 52978535, "link": "https://stackoverflow.com/questions/52978535/programmatically-create-pytest-fixtures/52980009#52980009", "title": "Programmatically create pytest fixtures", "body": "<p>Write a fixture that reads the image file and returns file contents and use indirect parametrization to invoke it. Example:</p>\n\n<pre><code>import pathlib\nimport pytest\n\n\nfiles = [p for p in pathlib.Path('images').iterdir() if p.is_file()]\n\n\n@pytest.fixture\ndef image(request):\n    path = request.param\n    with path.open('rb') as fileobj:\n        yield fileobj.read()\n\n\n@pytest.mark.parametrize('image', files, indirect=True, ids=str)\ndef test_with_file_contents(image):\n    assert image is not None\n</code></pre>\n\n<p>The test run will yield:</p>\n\n<pre><code>test_spam.py::test_with_file_contents[images/spam.png] PASSED\ntest_spam.py::test_with_file_contents[images/eggs.png] PASSED\ntest_spam.py::test_with_file_contents[images/bacon.png] PASSED\n</code></pre>\n"}], "owner": {"reputation": 4478, "user_id": 557406, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99836456ec6d87389df32d2cdcf8d825?s=128&d=identicon&r=PG", "display_name": "Charles L.", "link": "https://stackoverflow.com/users/557406/charles-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 1, "accepted_answer_id": 52980009, "answer_count": 2, "score": 6, "last_activity_date": 1540430463, "creation_date": 1540418723, "question_id": 52978535, "link": "https://stackoverflow.com/questions/52978535/programmatically-create-pytest-fixtures", "title": "Programmatically create pytest fixtures", "body": "<p>I have a directory full of data files to feed into tests, and I load them using something along the lines of</p>\n\n<pre><code>@pytest.fixture(scope=\"function\")\ndef test_image_one():\n     return load_image(\"test_image_one.png\")\n</code></pre>\n\n<p>As the test suite grows, this is becoming unmaintainable.  Is there a way to programatically create fixtures?  Ideally it would be something like:</p>\n\n<pre><code>for fname in [\"test_image_one\", \"test_image_two\", ...]:\n    def pytest_fixutre_function():\n        return load_image(\"{}.png\".format(fname))\n    pytest.magic_create_fixture_function(fname, pytest_fixutre_function)\n</code></pre>\n\n<p>Is there a way to accomplish this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540418832, "post_id": 52978532, "comment_id": 92863561, "body": "<code>return line.rfind(ch)</code>?"}, {"owner": {"reputation": 63, "user_id": 9058591, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134728929991736/picture?type=large", "display_name": "Suwan  Wang", "link": "https://stackoverflow.com/users/9058591/suwan-wang"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1540419074, "post_id": 52978532, "comment_id": 92863630, "body": "It should work. But what if using loop and recursion. Sorry for the stupid question, it is only because I need to practice them:( Thank you in any case!!!"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1540419241, "post_id": 52978532, "comment_id": 92863686, "body": "@SuwanWang I suggest you tried to implement it yourself, if get stuck, comeback and ask a question."}, {"owner": {"reputation": 63, "user_id": 9058591, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134728929991736/picture?type=large", "display_name": "Suwan  Wang", "link": "https://stackoverflow.com/users/9058591/suwan-wang"}, "edited": false, "score": 0, "creation_date": 1540419450, "post_id": 52978532, "comment_id": 92863740, "body": "I tried for ca 1 hour...but you are right! Thank you!!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540419958, "post_id": 52978532, "comment_id": 92863888, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">&quot;Can Someone Help Me?&quot; is not a valid SO question</a>.  This usually suggests that what you need is time with a local tutor or walk through a tutorial, rather than Stack Overflow."}, {"owner": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "edited": false, "score": 0, "creation_date": 1540420316, "post_id": 52978532, "comment_id": 92863978, "body": "@SuwanWang what should happen if the character is not found? What should the function return?"}, {"owner": {"reputation": 63, "user_id": 9058591, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134728929991736/picture?type=large", "display_name": "Suwan  Wang", "link": "https://stackoverflow.com/users/9058591/suwan-wang"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540451367, "post_id": 52978532, "comment_id": 92872382, "body": "@Prune Thank you:) I figured out the loop-Method this morning!"}, {"owner": {"reputation": 63, "user_id": 9058591, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134728929991736/picture?type=large", "display_name": "Suwan  Wang", "link": "https://stackoverflow.com/users/9058591/suwan-wang"}, "reply_to_user": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "edited": false, "score": 0, "creation_date": 1540451443, "post_id": 52978532, "comment_id": 92872415, "body": "@YakovDan Thank you for your help! I just figured out the loop-method and have edited the post, now working on recursion."}], "answers": [{"tags": [], "owner": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1540421708, "creation_date": 1540421708, "answer_id": 52979003, "question_id": 52978532, "link": "https://stackoverflow.com/questions/52978532/python-3-x-find-last-occurrence-of-character-in-string-by-using-recursion-and/52979003#52979003", "title": "Python 3.x -&gt; Find Last Occurrence of character in string by using recursion and loop", "body": "<p>With iteration:</p>\n\n<pre><code>def find_last(line,ch):\n    last_seen =-1\n    for i in range(len(line)):\n        if line[i] == ch:\n            last_seen=i\n    return last_seen\n</code></pre>\n\n<p>With recursion:</p>\n\n<pre><code>def find_last_rec(line,ch,count):\n    if count==line(len)-1:\n        return -1\n    elif line[count] ==ch:\n        return max(count, find_last_rec(line,ch,count+1))\n    else:\n        return find_last_rec(line,ch,count+1)\n\n\ndef find_last(line,ch):\n    return find_last_rec(line,ch,0)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9058591, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134728929991736/picture?type=large", "display_name": "Suwan  Wang", "link": "https://stackoverflow.com/users/9058591/suwan-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 52979003, "answer_count": 1, "score": -4, "last_activity_date": 1540451151, "creation_date": 1540418700, "last_edit_date": 1540451151, "question_id": 52978532, "link": "https://stackoverflow.com/questions/52978532/python-3-x-find-last-occurrence-of-character-in-string-by-using-recursion-and", "title": "Python 3.x -&gt; Find Last Occurrence of character in string by using recursion and loop", "body": "<p>Could someone teach me how to find the last occurrence of a character in string by using recursion/loop instead of build-in function?</p>\n\n<p>I figured out the loop-method(below), but have no clue about recursion...</p>\n\n<pre><code>def find_last(line,ch):\n    if line == None or len(line)==0:\n        return -1\n\n    else:\n        found_at = 0\n        index= 0\n        for ch_line in line:\n            if ch_line == ch:\n                found_at = index\n            index+=1\n        return found_at\n\nprint(find_last(\"The quick brown fox jumps over the lazy dog\", \"g\"))\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>returns 42</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>Many thanks from a python beginner!!</p>\n"}, {"tags": ["python", "django", "model"], "comments": [{"owner": {"reputation": 1145, "user_id": 10322652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea8a8d2082f7abea596dfd001b31b9?s=128&d=identicon&r=PG&f=1", "display_name": "Cheche", "link": "https://stackoverflow.com/users/10322652/cheche"}, "edited": false, "score": 0, "creation_date": 1540419738, "post_id": 52978524, "comment_id": 92863829, "body": "Your code is right!, just recommend to use <code>self.barcode is None:</code> instead of equal symbol. There&#39;s no need to self.save since you&#39;re calling super.save after that."}, {"owner": {"reputation": 654, "user_id": 10303173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d06a483a3177651fdd09073a17d5a53?s=128&d=identicon&r=PG&f=1", "display_name": "Martins", "link": "https://stackoverflow.com/users/10303173/martins"}, "reply_to_user": {"reputation": 1145, "user_id": 10322652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea8a8d2082f7abea596dfd001b31b9?s=128&d=identicon&r=PG&f=1", "display_name": "Cheche", "link": "https://stackoverflow.com/users/10322652/cheche"}, "edited": false, "score": 0, "creation_date": 1540419805, "post_id": 52978524, "comment_id": 92863847, "body": "I was thinking maybe I should add convert Id to sting before saving it?"}, {"owner": {"reputation": 1145, "user_id": 10322652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea8a8d2082f7abea596dfd001b31b9?s=128&d=identicon&r=PG&f=1", "display_name": "Cheche", "link": "https://stackoverflow.com/users/10322652/cheche"}, "edited": false, "score": 1, "creation_date": 1540420367, "post_id": 52978524, "comment_id": 92863993, "body": "I think it&#39;s better for you to check and see if Django casts your id before saving or not. If it saves, it means it was converted to str. If not, you&#39;ll get an error."}], "owner": {"reputation": 654, "user_id": 10303173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d06a483a3177651fdd09073a17d5a53?s=128&d=identicon&r=PG&f=1", "display_name": "Martins", "link": "https://stackoverflow.com/users/10303173/martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540418667, "creation_date": 1540418667, "question_id": 52978524, "link": "https://stackoverflow.com/questions/52978524/check-if-field-is-empty-and-populate-it-with-another-field-in-django", "title": "check if field is empty and populate it with another field in django", "body": "<p>Recently i built a super tiny inventory system. it generates barcode from the item id. so now now I want to add the functionality of using an already generated code to search for item.</p>\n\n<pre><code>So i have the fields like this previously \nclass Inv(models.Model):\n    description = models.CharField()  \n    model_number = models.CharField()  \n    manufacturer = models.CharField()\n    def __str__(self):\n        return self.id\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>class Inv(models.Model):\n    description = models.CharField()  \n    model_number = models.CharField()  \n    manufacturer = models.CharField()\n    barcode = models.CharField(blank=True)\n    def __str__(self):\n        return self.id\n</code></pre>\n\n<p>what I want to achieve is in a situation where an item doesn't have a barcode image and I  want to save the item and add the id into the barcode field how do I do that efficiently? \nthis is the save method I have written</p>\n\n<pre><code>def save(self, force_insert=False, force_update=False, *args,**kwargs):\n    # if self.barcode == None:\n    #     self.barcode = self.id\n    #     self.save()\nsuper(Inv, self).save(force_insert, force_update, *args, **kwargs)\n</code></pre>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 10554648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77f7c6f161a1dadb85a38b60ae7ae55?s=128&d=identicon&r=PG&f=1", "display_name": "kilamondrow", "link": "https://stackoverflow.com/users/10554648/kilamondrow"}, "is_accepted": true, "score": 2, "last_activity_date": 1540439349, "creation_date": 1540439349, "answer_id": 52981065, "question_id": 52978478, "link": "https://stackoverflow.com/questions/52978478/python-selenium-drop-down-in-span-tag/52981065#52981065", "title": "Python Selenium drop-down in Span tag", "body": "<p>I was able to get this working. I had to get the xpath of the input, and send data to that attribute. </p>\n\n<p>HTML</p>\n\n<pre><code>&lt;span class=\"Select-multi-value-wrapper\" id=\"react- \nselect-5--value\"&gt;&lt;div class=\"Select-value\"&gt;&lt;span \nclass=\"Select-value-label\" role=\"option\" aria- \nselected=\"true\" id=\"react-select-5--value- \nitem\"&gt;Male&lt;/span&gt;&lt;/div&gt;  \n</code></pre>\n\n<p>Python: </p>\n\n<pre><code>gender = browser.find_element_by_xpath('//[@id=\"react-select-5--value\"]/div[2]/input')\ngender.send_keys(\"Female\")\ngender.send_keys(Keys.RETURN)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10554648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77f7c6f161a1dadb85a38b60ae7ae55?s=128&d=identicon&r=PG&f=1", "display_name": "kilamondrow", "link": "https://stackoverflow.com/users/10554648/kilamondrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1482, "favorite_count": 0, "accepted_answer_id": 52981065, "answer_count": 1, "score": 1, "last_activity_date": 1540439349, "creation_date": 1540418387, "question_id": 52978478, "link": "https://stackoverflow.com/questions/52978478/python-selenium-drop-down-in-span-tag", "title": "Python Selenium drop-down in Span tag", "body": "<p>I'm new to selenium, and need some help with selecting a an item from drop down. This is after research, but didn't seem to find anything.</p>\n\n<pre><code>&lt;div class=\"Select-value\"&gt;\n&lt;span \nclass=\"Select-value-label\" role=\"option\" \naria-selected=\"true\" id=\"react-select-5-- \nvalue-item\"&gt;Female&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>In the code above, the value of 'Female' can be changed by 'Male' or 'Unspecified' via drop down menu. </p>\n\n<p>I can get the tag with <br>\n<code>gender = browser.find_element_by_xpath('//*[@id=\"react-select-5--value\"]/div[1]')</code>,\nbut how do I change the value?</p>\n"}, {"tags": ["python", "scikit-learn", "neural-network", "keras", "cross-validation"], "comments": [{"owner": {"reputation": 914, "user_id": 8544925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osPR0.jpg?s=128&g=1", "display_name": "avchauzov", "link": "https://stackoverflow.com/users/8544925/avchauzov"}, "edited": false, "score": 0, "creation_date": 1540462879, "post_id": 52978434, "comment_id": 92879216, "body": "You can use SKF also. But as I know it is better to covert dictionary to pandas dataframe.  Also, sklearn supports KerasClassifier/KerasRegressor so you can rewrite your code like here: <a href=\"https://machinelearningmastery.com/use-keras-deep-learning-models-scikit-learn-python/\" rel=\"nofollow noreferrer\">machinelearningmastery.com/&hellip;</a>"}, {"owner": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "reply_to_user": {"reputation": 914, "user_id": 8544925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osPR0.jpg?s=128&g=1", "display_name": "avchauzov", "link": "https://stackoverflow.com/users/8544925/avchauzov"}, "edited": false, "score": 0, "creation_date": 1540474037, "post_id": 52978434, "comment_id": 92886086, "body": "Yes but they don&#39;t work with multi input..."}], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "edited": false, "score": 1, "creation_date": 1540502795, "post_id": 52994859, "comment_id": 92901337, "body": "I did the exact same this morning! Anyway I will post this as solution as it is working how it should! Actually I passed only the Y:   <code>kfold = KFold(n_splits=5)     </code>for train_indices, test_indices in kfold.split(Y):     train_1, train_2, train_3, train_4 = data[0][train_indices], data[1][train_indices], data[2][train_indices], data[3][train_indices]`"}, {"owner": {"reputation": 914, "user_id": 8544925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osPR0.jpg?s=128&g=1", "display_name": "avchauzov", "link": "https://stackoverflow.com/users/8544925/avchauzov"}, "reply_to_user": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "edited": false, "score": 0, "creation_date": 1540531823, "post_id": 52994859, "comment_id": 92908098, "body": "Good to hear, Francesco! Thanks!"}, {"owner": {"reputation": 705, "user_id": 682661, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/394398d1c2ac9044830c19ea850d9443?s=128&d=identicon&r=PG", "display_name": "Daisy", "link": "https://stackoverflow.com/users/682661/daisy"}, "reply_to_user": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "edited": false, "score": 0, "creation_date": 1556398438, "post_id": 52994859, "comment_id": 98427740, "body": "@FrancescoPegoraro can I use shuffel=True in the StratifiedKFold when splitting on Y only?"}, {"owner": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "reply_to_user": {"reputation": 705, "user_id": 682661, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/394398d1c2ac9044830c19ea850d9443?s=128&d=identicon&r=PG", "display_name": "Daisy", "link": "https://stackoverflow.com/users/682661/daisy"}, "edited": false, "score": 0, "creation_date": 1556398680, "post_id": 52994859, "comment_id": 98427788, "body": "@Daisy: I don&#39;t see why not... Did you try it?"}, {"owner": {"reputation": 705, "user_id": 682661, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/394398d1c2ac9044830c19ea850d9443?s=128&d=identicon&r=PG", "display_name": "Daisy", "link": "https://stackoverflow.com/users/682661/daisy"}, "edited": false, "score": 0, "creation_date": 1556400063, "post_id": 52994859, "comment_id": 98428041, "body": "maybe it is a dumb question, but I thought it will shuffel the Ys only."}, {"owner": {"reputation": 705, "user_id": 682661, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/394398d1c2ac9044830c19ea850d9443?s=128&d=identicon&r=PG", "display_name": "Daisy", "link": "https://stackoverflow.com/users/682661/daisy"}, "edited": false, "score": 0, "creation_date": 1556401854, "post_id": 52994859, "comment_id": 98428370, "body": "It is not an option in case of using the StratifiedKFold. A solution could be found: <a href=\"https://github.com/scikit-learn/scikit-learn/issues/7126\" rel=\"nofollow noreferrer\">github.com/scikit-learn/scikit-learn/issues/7126</a>"}, {"owner": {"reputation": 914, "user_id": 8544925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osPR0.jpg?s=128&g=1", "display_name": "avchauzov", "link": "https://stackoverflow.com/users/8544925/avchauzov"}, "reply_to_user": {"reputation": 705, "user_id": 682661, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/394398d1c2ac9044830c19ea850d9443?s=128&d=identicon&r=PG", "display_name": "Daisy", "link": "https://stackoverflow.com/users/682661/daisy"}, "edited": false, "score": 0, "creation_date": 1556450555, "post_id": 52994859, "comment_id": 98436536, "body": "@Daisy With or without shuffling you get train and test indices. Every index value reflects exactly the same value/row from the original dataset."}], "tags": [], "owner": {"reputation": 914, "user_id": 8544925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osPR0.jpg?s=128&g=1", "display_name": "avchauzov", "link": "https://stackoverflow.com/users/8544925/avchauzov"}, "is_accepted": true, "score": 2, "last_activity_date": 1540488094, "creation_date": 1540488094, "answer_id": 52994859, "question_id": 52978434, "link": "https://stackoverflow.com/questions/52978434/is-it-possible-to-use-stratifiedkfold-from-sklearn-in-multi-input-neural-network/52994859#52994859", "title": "Is it possible to use StratifiedKFold from sklearn in multi input Neural Networks?", "body": "<p>skf.split() returns you indices and it depends only on Y:</p>\n\n<pre><code>for train_index, test_index in skf.split(X, y):\n...    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n...    X_train, X_test = X[train_index], X[test_index]\n...    y_train, y_test = y[train_index], y[test_index]\n</code></pre>\n\n<p>So you can pass any X array here (even X1 for layer 1 converted to dataframe or synthetic X). Then you take your</p>\n\n<pre><code>train_index\n</code></pre>\n\n<p>and</p>\n\n<pre><code>test_index\n</code></pre>\n\n<p>and filter all your inputs.</p>\n\n<p>Again, skf() depends on your Y only. So the goal is to pass proper Y and get indices.</p>\n\n<p>Other way: union all you inputs in outputs in one dataframe and keep column names for each layer. In this case you have one 'big' X. Split it firstly train_index and test_index and then split into X1, X2 and X3 using column names you saved above.</p>\n"}], "owner": {"reputation": 683, "user_id": 6145828, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207373113578692/picture?type=large", "display_name": "Francesco Pegoraro", "link": "https://stackoverflow.com/users/6145828/francesco-pegoraro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 1, "accepted_answer_id": 52994859, "answer_count": 1, "score": 2, "last_activity_date": 1550178010, "creation_date": 1540418040, "last_edit_date": 1540474388, "question_id": 52978434, "link": "https://stackoverflow.com/questions/52978434/is-it-possible-to-use-stratifiedkfold-from-sklearn-in-multi-input-neural-network", "title": "Is it possible to use StratifiedKFold from sklearn in multi input Neural Networks?", "body": "<p>I have a dataset that can be passed to a multi input neural network in the shape of a python <em>dictionary</em> or a <em>list</em>:</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>#dict\n{'input1': X1, 'input2': X2, 'input3': X3}, {'output': Y}\n#list\n[ X1, X2, X3], y\n</code></pre>\n\n<p>Now I would like to use <strong>K-fold cross validation</strong> to estimate the performance of my model. Do you think I can use <code>StratifiedKFold</code> from <code>sklearn</code> as in this mono-input example?</p>\n\n<pre><code>for train, test in kfold.split(X, Y):\n  # create model\n    model = Sequential()\n    model.add(Dense(12, input_dim=8, activation='relu'))\n    model.add(Dense(8, activation='relu'))\n    model.add(Dense(1, activation='sigmoid'))\n    # Compile model\n    model.compile(loss='binary_crossentropy', optimizer='adam', metrics=['accuracy'])\n    # Fit the model\n    model.fit(X[train], Y[train], epochs=150, batch_size=10, verbose=0)\n    # evaluate the model\n    scores = model.evaluate(X[test], Y[test], verbose=0)\n    print(\"%s: %.2f%%\" % (model.metrics_names[1], scores[1]*100))\n    cvscores.append(scores[1] * 100)\n</code></pre>\n\n<p>Otherwise, what would be the best way?</p>\n"}, {"tags": ["python", "dimensions", "h5py"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1540429501, "post_id": 52978389, "comment_id": 92866204, "body": "Yesterday&#39;s question: <a href=\"https://stackoverflow.com/questions/52959068/h5py-writing-a-hdf-file-question-about-dimension\" title=\"h5py writing a hdf file question about dimension\">stackoverflow.com/questions/52959068/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1540419890, "creation_date": 1540419890, "answer_id": 52978734, "question_id": 52978389, "link": "https://stackoverflow.com/questions/52978389/h5py-how-to-rename-dimensions/52978734#52978734", "title": "h5py : how to rename dimensions?", "body": "<p>Your output says that the first dimension label of the <code>varname</code> dataset is \"m\". Those phony_dim_N labels just hold the actual size of each dimension, they aren't the labels.</p>\n\n<p>What's the output of <code>print([dim.label for dim in fw['grp1/varname'].dims])</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1540434183, "last_edit_date": 1540434183, "creation_date": 1540433531, "answer_id": 52980346, "question_id": 52978389, "link": "https://stackoverflow.com/questions/52978389/h5py-how-to-rename-dimensions/52980346#52980346", "title": "h5py : how to rename dimensions?", "body": "<p>Part of the problem may your use of <code>ncdump</code>.</p>\n\n<p>I can make a simple file, and set the <code>dims</code> label for a dataset:</p>\n\n<pre><code>In [420]: import h5py\nIn [421]: f = h5py.File('testdim.h5','w')\nIn [422]: ds = f.create_dataset('grp1/varname', data = np.arange(10))\nIn [423]: ds\nOut[423]: &lt;HDF5 dataset \"varname\": shape (10,), type \"&lt;i8\"&gt;\n</code></pre>\n\n<p>Look at the <code>dims</code> attribute:</p>\n\n<pre><code>In [424]: ds.dims\nOut[424]: &lt;Dimensions of HDF5 object at 140382697336904&gt;\nIn [426]: ds.dims[0]\nOut[426]: &lt;\"\" dimension 0 of HDF5 dataset at 140382697336904&gt;\nIn [427]: ds.dims[0].label\nOut[427]: ''\nIn [428]: ds.dims[0].label = 'm'\n\nIn [436]: dd=ds.dims[0]\nIn [437]: dd?\nType:        DimensionProxy\nString form: &lt;\"m\" dimension 0 of HDF5 dataset at 140382697336904&gt;\nLength:      0\nFile:        ~/.local/lib/python3.6/site-packages/h5py/_hl/dims.py\nDocstring:   Represents an HDF5 \"dimension\".\nIn [439]: dd.values()\nOut[439]: []\nIn [440]: dd.label\nOut[440]: 'm'\n</code></pre>\n\n<p>The group does not have a <code>dims</code>:</p>\n\n<pre><code>In [442]: g = f['grp1']\nIn [443]: g\nOut[443]: &lt;HDF5 group \"/grp1\" (1 members)&gt;\nIn [444]: g.dims\nAttributeError: 'Group' object has no attribute 'dims'\n\nIn [446]: f.flush()\n</code></pre>\n\n<p>With <code>h5dump</code>:</p>\n\n<pre><code>1902:~/mypy$ h5dump testdim.h5 \nHDF5 \"testdim.h5\" {\nGROUP \"/\" {\n   GROUP \"grp1\" {\n      DATASET \"varname\" {\n         DATATYPE  H5T_STD_I64LE\n         DATASPACE  SIMPLE { ( 10 ) / ( 10 ) }\n         DATA {\n         (0): 0, 1, 2, 3, 4, 5, 6, 7, 8, 9\n         }\n         ATTRIBUTE \"DIMENSION_LABELS\" {\n            DATATYPE  H5T_STRING {\n               STRSIZE H5T_VARIABLE;\n               STRPAD H5T_STR_NULLTERM;\n               CSET H5T_CSET_ASCII;\n               CTYPE H5T_C_S1;\n            }\n            DATASPACE  SIMPLE { ( 1 ) / ( 1 ) }\n            DATA {\n            (0): \"m\"\n            }\n         }\n      }\n   }\n}\n}\n</code></pre>\n\n<p>With <code>ncdump</code> which is designed to show <code>netcdf</code> files:</p>\n\n<pre><code>1902:~/mypy$ ncdump -h testdim.h5 \nnetcdf testdim {\n\ngroup: grp1 {\n  dimensions:\n    phony_dim_0 = 10 ;\n  variables:\n    int64 varname(phony_dim_0) ;\n        string varname:DIMENSION_LABELS = \"m\" ;\n  } // group grp1\n}\n</code></pre>\n\n<p>As best I can the <code>h5df</code> format does not have group dimensions; <code>ncdump</code> creates a dummy attribute for that.</p>\n\n<p>To reiterate the answer to your previous question, the documentation of HDF5 dimensions is:</p>\n\n<p><a href=\"http://docs.h5py.org/en/latest/high/dims.html\" rel=\"nofollow noreferrer\">http://docs.h5py.org/en/latest/high/dims.html</a></p>\n\n<p><a href=\"https://www.unidata.ucar.edu/software/netcdf/docs/interoperability_hdf5.html\" rel=\"nofollow noreferrer\">https://www.unidata.ucar.edu/software/netcdf/docs/interoperability_hdf5.html</a></p>\n\n<p>For HDF5 file</p>\n\n<blockquote>\n  <p>If dimension scales are not used, then netCDF-4 can still edit the file, and will invent anonymous dimensions for each variable shape.</p>\n</blockquote>\n\n<p>NETCDF has shared dimensions, HDF5 has dimension scales.  They aren't quite the same.</p>\n\n<p><a href=\"http://www.stcorp.nl/beat/documentation/harp/conventions/hdf5.html\" rel=\"nofollow noreferrer\">http://www.stcorp.nl/beat/documentation/harp/conventions/hdf5.html</a></p>\n\n<blockquote>\n  <p>In the HDF5 data model there is no concept of shared dimensions (unlike netCDF). The shape of an HDF5 dataset is specified as a list of dimension lengths. However, the netCDF-4 library uses HDF5 as its storage backend. It represents shared dimensions using HDF5 dimension scales.</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 10549024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a31e3079dd75307ee9fe92ac620a18f?s=128&d=identicon&r=PG&f=1", "display_name": "P W", "link": "https://stackoverflow.com/users/10549024/p-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540583972, "creation_date": 1540417861, "last_edit_date": 1540583972, "question_id": 52978389, "link": "https://stackoverflow.com/questions/52978389/h5py-how-to-rename-dimensions", "title": "h5py : how to rename dimensions?", "body": "<p>I created a new file whose handle is fw.</p>\n\n<pre><code>fw.create_dataset('grp1/varname',data=arr)\n</code></pre>\n\n<p>The groups are created before this command. arr is a numpy array with dimensions (2,3). The file is created successfully. However, the dimensions are named phony_0, and phony_1. How do I change them to say m and n ?</p>\n\n<p>In general how does one create dimensions within a group and then associate variables with them?</p>\n\n<p>I tried,</p>\n\n<pre><code>fw['grp1/varname'].dims[0].label = 'm'\n</code></pre>\n\n<p>But this does not have the desired effect.</p>\n\n<p><code>ncdump -h</code> on the created file shows :</p>\n\n<pre><code>group: grp1 {\n\n        dimensions:\n                phony_dim_0 = 2 ;\n                phony_dim_1 = 3 ;\n\n        variables:\n\n                float varname(phony_dim_0, phony_dim_1) ;\n                        string varname:DIMENSION_LABELS = \"m\", NIL, NIL ;\n        } // group grp1\n</code></pre>\n\n<p>Thanks</p>\n\n<p>print([ dim.label for dim in fw['grp1/varname'].dims])\ndoes produce consistent output.\n[u'm', u'']</p>\n\n<p>It does seem that hdffiles do not have provision to associate dimensions with groups. However varname is a variable. How does one get :</p>\n\n<pre><code>   variables:\n            float varname(m, phony_dim_1) ;\n                    string varname:DIMENSION_LABELS = \"m\", NIL ;\n    } // group grp1\n</code></pre>\n\n<p>in the output of ncdump -h or h5dump ? I did try different options  with h5dump.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "string", "date"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1540418252, "post_id": 52978357, "comment_id": 92863407, "body": "You can&#39;t use strings the same way you would use dates.  You have to convert them <i>first</i>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1540418547, "post_id": 52978357, "comment_id": 92863486, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}, {"owner": {"reputation": 1, "user_id": 8952500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e262e3fa7e84525bc701e99ce94ff51?s=128&d=identicon&r=PG&f=1", "display_name": "Gotham", "link": "https://stackoverflow.com/users/8952500/gotham"}, "edited": false, "score": 0, "creation_date": 1540418588, "post_id": 52978357, "comment_id": 92863498, "body": "Its not homework. I am using this for my current project where I need to check certain conditions for previous dates. I decided not to give much information as it is not very relevant to the issue."}], "answers": [{"tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1540441356, "last_edit_date": 1540441356, "creation_date": 1540419462, "answer_id": 52978667, "question_id": 52978357, "link": "https://stackoverflow.com/questions/52978357/creating-a-list-of-past-5-dates-from-given-date-in-string-format-in-python/52978667#52978667", "title": "Creating a list of past 5 dates from given date in string format in Python", "body": "<p>You need to use <code>datetime</code> to parse the strings into dates and calculate <code>timedelta</code> </p>\n\n<pre><code>from datetime import datetime, timedelta\nd='09-24-2016'\nd1=datetime.strptime(d, '%m-%d-%Y')\n[(d1-timedelta(days=i)).strftime('%m-%d-%Y') for i in range(6,0,-1)]\n['09-20-2016','09-21-2016', '09-22-2016', '09-23-2016', '09-24-2016', '09-25-2016']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10559150, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A4j-jLLHiBM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1Aozot7icUTJe6X3apVz_9Cp-kw/mo/photo.jpg?sz=128", "display_name": "Sravani Kakaraparthi", "link": "https://stackoverflow.com/users/10559150/sravani-kakaraparthi"}, "is_accepted": false, "score": 0, "last_activity_date": 1540489661, "last_edit_date": 1540489661, "creation_date": 1540488239, "answer_id": 52994901, "question_id": 52978357, "link": "https://stackoverflow.com/questions/52978357/creating-a-list-of-past-5-dates-from-given-date-in-string-format-in-python/52994901#52994901", "title": "Creating a list of past 5 dates from given date in string format in Python", "body": "<pre><code>from datetime import datetime, timedelta\ndate = ['09-26-2016']\ndate_time_obj = datetime.strptime(date[0], '%m-%d-%Y')\n\ndates=[]\n\ndates.append(date_time_obj)\n\nfor i in range(0,4):\n    print(i)\n    j=i+1\n    print(j)\n    dates_list= date_time_obj.date() - timedelta(days=j)\n    dates.append(dates_list)\n\nprint(dates)  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8952500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e262e3fa7e84525bc701e99ce94ff51?s=128&d=identicon&r=PG&f=1", "display_name": "Gotham", "link": "https://stackoverflow.com/users/8952500/gotham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 52978667, "answer_count": 2, "score": -5, "last_activity_date": 1540489661, "creation_date": 1540417728, "last_edit_date": 1540418155, "question_id": 52978357, "link": "https://stackoverflow.com/questions/52978357/creating-a-list-of-past-5-dates-from-given-date-in-string-format-in-python", "title": "Creating a list of past 5 dates from given date in string format in Python", "body": "<p>I have a string which contains a date. I need to create a list with previous 5 dates including the given date in python.</p>\n\n<p>Example: </p>\n\n<pre><code>date = ['09-26-2016']\n\ndates = ['09-21-2016','09-22-2016','09-23-2016','09-24-2016','09-25-2016','09-26-2016']\n</code></pre>\n\n<p>I need to create dates given date as input. The input is in string format.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1540417810, "post_id": 52978338, "comment_id": 92863275, "body": "You don&#39;t plot on figures. You plot on axes that live in figures."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6787996, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f551128257b138ea25d9296b85ac1cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/6787996/nate"}, "edited": false, "score": 0, "creation_date": 1540418980, "post_id": 52978422, "comment_id": 92863606, "body": "Thanks for your reply - I was able to get it working by just passing ax into the class. There&#39;s a lot I&#39;m not getting about how event-oriented Python works. The purpose of this class is to gather some input data from the user before continuing to execute, but right now the script just finishes immediately even while the class waits for input. I need to find out how to force my script to wait for the callback to be completed x times, but I suppose that&#39;s another question."}, {"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "reply_to_user": {"reputation": 85, "user_id": 6787996, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f551128257b138ea25d9296b85ac1cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/6787996/nate"}, "edited": false, "score": 0, "creation_date": 1540420072, "post_id": 52978422, "comment_id": 92863923, "body": "Try <code>async</code> - but this would be a much larger subject"}], "tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1540418130, "last_edit_date": 1540418130, "creation_date": 1540417984, "answer_id": 52978422, "question_id": 52978338, "link": "https://stackoverflow.com/questions/52978338/matplotlib-figure-object-has-no-attribute-plot-reference-problems/52978422#52978422", "title": "matplotlib - Figure object has no attribute &#39;plot&#39;. Reference problems", "body": "<p>You can't both plot an <code>ax</code> and use it again. The <code>series</code> in your code is a <code>Line2D</code> Object, which doesn't have an attribute <code>plot</code>.</p>\n\n<p>What you can do is to add a <code>ax</code> object to your Class like this:</p>\n\n<pre><code>class MyClass:\n    def __init__(self, series, fig):\n        self.series = series\n        self.figure = fig\n        self.cid = self.figure.canvas.mpl_connect('button_press_event', self)\n\n    def __call__(self, event):\n        self.series.plot([xdata], [ydata])  \n        self.figure.canvas.draw()\n\nfig, ax = plt.subplots()\nseries = ax\nclassthing = MyClass(series)\nclassthing(some_event) # call your class\n</code></pre>\n\n<p>Now since you're passing an <code>ax</code> to the <code>class</code> your call will be successful, you still need to pass <code>xdata</code> and <code>ydata</code> to your call, though.</p>\n\n<p>Since you'll be calling <code>figure</code> due to canvas draws, you'll need to pass that into your object as well.</p>\n"}], "owner": {"reputation": 85, "user_id": 6787996, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f551128257b138ea25d9296b85ac1cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/6787996/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1698, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540418130, "creation_date": 1540417604, "question_id": 52978338, "link": "https://stackoverflow.com/questions/52978338/matplotlib-figure-object-has-no-attribute-plot-reference-problems", "title": "matplotlib - Figure object has no attribute &#39;plot&#39;. Reference problems", "body": "<p>I know there are other people asking this question in their specific context, but none of those answers have gotten me closer to figuring this out. I am trying to use a class in matplotlib to add plots to a figure. </p>\n\n<p>I'm trying to get the class to take as an argument a Line2D object and interpret it a bit - this is working. The class also registers a callback to mouse click events on the plot window - this is also working. Here's what's not working: </p>\n\n<pre><code>fig, ax = plt.subplots()\nseries, = ax.plot(x_data, y_data)\nclassthing = MyClass(series)\nplt.show()\n</code></pre>\n\n<p>And here is the class that is being instanced:</p>\n\n<pre><code>class MyClass:\n    def __init__(self, series):\n        self.series = series\n        self.cid = series.figure.canvas.mpl_connect('button_press_event', self)\n\n    def __call__(self, event):\n        self.series.figure.plot([xdata], [ydata])  \n        self.series.figure.canvas.draw()\n</code></pre>\n\n<p>On mouse click I want to add a plot to the figure that I clicked on. This is really similar to the example here: <a href=\"https://matplotlib.org/users/event_handling.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/users/event_handling.html</a></p>\n\n<p>This code successfully creates the plot and the object, but obviously I'm not calling the plot() method from the correct reference since I get the title error on the second to last line. How can I reference the plot object properly given only the Line2D object that is in it? I am not anywhere near competent with OOP. </p>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1540417806, "post_id": 52978272, "comment_id": 92863273, "body": "Out of curiosity, why are you calling transform twice when you just concat the two DFs together after? If you want to use a pipeline, you generally use it once your data engineering has been done, i.e., after a train test split. The reason is this: If you <code>fit()</code> a model or transformer on your full dataset, it creates data leakage into the model between the train and test sets"}, {"owner": {"reputation": 6592, "user_id": 3711219, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5fpS9.png?s=128&g=1", "display_name": "Claudiu Creanga", "link": "https://stackoverflow.com/users/3711219/claudiu-creanga"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1540418417, "post_id": 52978272, "comment_id": 92863459, "body": "@G.Anderson ok I see, probably that&#39;s why I didn&#39;t find examples. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "is_accepted": true, "score": 1, "last_activity_date": 1540420423, "creation_date": 1540420423, "answer_id": 52978820, "question_id": 52978272, "link": "https://stackoverflow.com/questions/52978272/how-to-simplify-my-data-preprocessing-with-scikit-learn-pipelines/52978820#52978820", "title": "How to simplify my data preprocessing with scikit learn pipelines", "body": "<p>The thing about an <code>sklearn.pipeline.Pipeline</code> is that every step needs to implement <code>fit</code> and <code>transform</code>.  So, for instance, if you know for a fact that you will ALWAYS need to perform the concatenation step, and you really are dying to put it into a <code>Pipeline</code> (which I wouldn't, but that's just my humble opinion), you need to create a <code>Concatenator</code> <code>class</code> with the appropriate <code>fit</code> and <code>transform</code> methods.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class Encoder(object):\n    def fit(self, X, *args, **kwargs):\n        return self\n    def transform(self, X):\n        return X*2\n\nclass Concatenator(object):\n    def fit(self, X, *args, **kwargs):\n        return self\n    def transform(self, Xs):\n        return np.concatenate(Xs, axis=0)\n\nclass MultiEncoder(Encoder):\n    def transform(self, Xs):\n        return list(map(super().transform, Xs))\n\npipe = sklearn.pipeline.Pipeline((\n    (\"encoder\", MultiEncoder()),\n    (\"concatenator\", Concatenator())\n))\n\npipe.fit_transform((\n    pd.DataFrame([[1,2],[3,4]]), \n    pd.DataFrame([[5,6],[7,8]])\n))\n</code></pre>\n"}], "owner": {"reputation": 6592, "user_id": 3711219, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5fpS9.png?s=128&g=1", "display_name": "Claudiu Creanga", "link": "https://stackoverflow.com/users/3711219/claudiu-creanga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 1, "accepted_answer_id": 52978820, "answer_count": 1, "score": 0, "last_activity_date": 1540420423, "creation_date": 1540417181, "last_edit_date": 1540417692, "question_id": 52978272, "link": "https://stackoverflow.com/questions/52978272/how-to-simplify-my-data-preprocessing-with-scikit-learn-pipelines", "title": "How to simplify my data preprocessing with scikit learn pipelines", "body": "<p>I have 2 dfs. df1 are examples of cats and df2 are examples of dogs.</p>\n\n<p>I have to do some preprocessing with these dfs that at the moment I'm doing by calling different functions. I would like to use scikit learn pipelines.</p>\n\n<p>One of these functions is a special encoder function that will look at a column in the df and will return a special value. I rewrote that function in a class like <strong>I saw being used</strong> in scikit learn:</p>\n\n<pre><code>class Encoder(BaseEstimator, TransformerMixin):\n\n    def __init__(self):\n        self.values = []\n        super().__init__()\n\n    def fit(self, X, y=None):\n        return self\n\n    def encode(self,row):\n        result = []\n        for base in row:\n            result.append(bases[base])\n\n        self.values.append(result)\n\n    def transform(self, X):\n        assert isinstance(X, pd.DataFrame)\n        X[\"seq_new\"].apply(self.encode)\n\n        return self.values\n</code></pre>\n\n<p>so now I would have 2 lists as a result:</p>\n\n<pre><code>encode = Encoder()\nX1 = encode.transform(df1)\nX2 = encode.transform(df2)\n</code></pre>\n\n<p>next step would be:</p>\n\n<pre><code>features = np.concatenate((X1, X1), axis=0)\n</code></pre>\n\n<p>next step build the labels:</p>\n\n<pre><code>Y_dog = [[1]] * len(X1)\nY_cat = [[0]] * len(X2)\nlabels = np.concatenate((Y_dog, Y_cat), axis=0)\n</code></pre>\n\n<p>and some other manipulations and then I'll do a <code>model_selection.train_test_split()</code> to split the data into train and test.</p>\n\n<p>How would I call all these functions in a scikit pipeline? The examples that I found start from where the train/test split has already been done. </p>\n"}, {"tags": ["python", "python-3.x", "python-asyncio"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1540417571, "post_id": 52978264, "comment_id": 92863198, "body": "How many requests are you making per second? I don;t see anything in this script in terms of <code>time.sleep</code> and <code>service temporarily unavailable</code> generally means you are either sending too many requests to process, or (more likely) you are being rate limited to prevent spamming/DOSing"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1540417959, "post_id": 52978264, "comment_id": 92863320, "body": "5xx normally should mean that there&#39;s something wrong with the server. 4xx codes indicate that the client did something wrong. <b>429 Too Many Requests</b> would be the proper status code to signal that your crawler should calm down."}], "answers": [{"comments": [{"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 1, "creation_date": 1540673397, "post_id": 53020791, "comment_id": 92954080, "body": "Nice work. I guess with semaphore only allowing one connection, the code could be made even simpler. The semaphore itself is redundant, as is assembling the list of tasks and <code>gather</code>. Each step of the loop could just <code>await downloadFile(...)</code>."}], "tags": [], "owner": {"reputation": 27029, "user_id": 1113207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UWak6.jpg?s=128&g=1", "display_name": "Mikhail Gerasimov", "link": "https://stackoverflow.com/users/1113207/mikhail-gerasimov"}, "is_accepted": true, "score": 2, "last_activity_date": 1540634755, "creation_date": 1540634755, "answer_id": 53020791, "question_id": 52978264, "link": "https://stackoverflow.com/questions/52978264/503-error-when-downloading-wikipedia-dumps/53020791#53020791", "title": "503 error when downloading wikipedia dumps", "body": "<p>I played with code and I can say following:</p>\n\n<ul>\n<li>Wikipedia doesn't allow multiple requests per IP</li>\n<li>Timeout 10 for this url is too low</li>\n</ul>\n\n<p>To make your code work:</p>\n\n<ul>\n<li>Change <code>asyncio.Semaphore(10)</code> to <code>asyncio.Semaphore(1)</code></li>\n<li>Change <code>async_timeout.timeout(10)</code> to <code>async_timeout.timeout(120)</code></li>\n<li>Completely remove line <code>asyncio.ensure_future(aux(urls))</code>, you don't need it since you pass you pass <code>aux(urls)</code> to <code>run_until_complete</code></li>\n</ul>\n\n<p>Final version that successfully downloads single archive:</p>\n\n<pre><code>import argparse\nimport aiohttp\nimport asyncio\nimport async_timeout\nimport re\n\nbase_url = \"http://dumps.wikimedia.org/other/pagecounts-raw/{year}/{year}-{month:02d}/pagecounts-{year}{month:02d}{day:02d}-{hour:02d}0000.gz\"\n\nasync def downloadFile(semaphore, session, url):\n    try:\n        async with semaphore:\n            with async_timeout.timeout(120):\n                async with session.get(url, ssl=False) as remotefile:\n                    if remotefile.status == 200:\n                        data = await remotefile.read()\n                        outfile = re.sub(\"/\", \"_\", url[7:])\n                        with open(outfile, 'wb') as fp:\n                            print('Saving')\n                            fp.write(data)\n                    else:\n                        print('status:', remotefile.status)\n                        return\n    except Exception as e:\n        print('exception:', type(e), str(e))\n        return\n\nasync def aux(urls):\n    sem = asyncio.Semaphore(1)\n    tasks = []\n    async with aiohttp.ClientSession() as session:\n        for url in urls:\n            print('url:', url)\n            task = asyncio.ensure_future(downloadFile(sem, session, url))\n            tasks.append(task)\n        await asyncio.gather(*tasks)\n\n\ndef main():\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"--year\", type=int, default=2016)\n    parser.add_argument(\"--month\", type=int, default=4)\n    parser.add_argument(\"--temp_folder\", type=str)\n    args = parser.parse_args()\n\n    urls = []\n\n    for day in range(1, 32)[:1]:\n        for hour in range(24)[:1]:\n            urls.append(base_url.format(\n                year=args.year, month=args.month, day=day, hour=hour))\n\n    loop = asyncio.get_event_loop()\n    loop.run_until_complete(aux(urls))\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 5609462, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bd96efa55c9091cc79013d94977fd7c2?s=128&d=identicon&r=PG&f=1", "display_name": "mariob6", "link": "https://stackoverflow.com/users/5609462/mariob6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 53020791, "answer_count": 1, "score": 2, "last_activity_date": 1540634755, "creation_date": 1540417140, "question_id": 52978264, "link": "https://stackoverflow.com/questions/52978264/503-error-when-downloading-wikipedia-dumps", "title": "503 error when downloading wikipedia dumps", "body": "<p>I have the following script to download (and later on process) Wikipedia's pageviews dumps. I am getting 503 errors on all the pages (whose urls are correct).</p>\n\n<pre><code>import argparse\nimport aiohttp\nimport asyncio\nimport async_timeout\nimport re\n\nbase_url = \"http://dumps.wikimedia.org/other/pagecounts-raw/{year}/{year}-{month:02d}/pagecounts-{year}{month:02d}{day:02d}-{hour:02d}0000.gz\"\n\nasync def downloadFile(semaphore, session, url):\n    try:\n        async with semaphore:\n            with async_timeout.timeout(10):\n                async with session.get(url) as remotefile:\n                    if remotefile.status == 200:\n                        data = await remotefile.read()\n                        outfile = re.sub(\"/\", \"_\", url[7:])\n                        with open(outfile, 'wb') as fp:\n                            print('Saving')\n                            fp.write(data)\n                    else:\n                        print(remotefile.status)\n                        return\n    except Exception as e:\n        print(e)\n        return\n\nasync def aux(urls):\n    sem = asyncio.Semaphore(10)\n    tasks = []\n    async with aiohttp.ClientSession() as session:\n        for url in urls:\n            print(url)\n            task = asyncio.ensure_future(downloadFile(sem, session, url))\n            tasks.append(task)\n        await asyncio.gather(*tasks)\n\n\ndef main():\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"--year\", type=int, default=2016)\n    parser.add_argument(\"--month\", type=int, default=4)\n    parser.add_argument(\"--temp_folder\", type=str)\n    args = parser.parse_args()\n\n    urls = []\n\n    for day in range(1, 32)[:3]:\n        for hour in range(24)[:2]:\n            urls.append(base_url.format(\n                year=args.year, month=args.month, day=day, hour=hour))\n\n    loop = asyncio.get_event_loop()\n    asyncio.ensure_future(aux(urls))\n    loop.run_until_complete(aux(urls))\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>&lt;ClientResponse(https://dumps.wikimedia.org/other/pagecounts-raw/2016/2016-04/pagecounts-20160402-000000.gz) [503 Service Temporarily Unavailable]&gt;\n&lt;CIMultiDictProxy('Server': 'nginx/1.13.6', 'Date': 'Wed, 24 Oct 2018 21:27:58 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Content-Length': '213', 'Connection': 'keep-alive', 'Strict-Transport-Security': 'max-age=106384710; includeSubDomains; preload')&gt;\n</code></pre>\n\n<p>But this is really weird as copy-pasting the same urls on my chrome browser does the job! </p>\n"}, {"tags": ["java", "python", "google-cloud-platform", "apache-beam", "database-metadata"], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 10184250, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TC-wiL9UFbU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pZdiSTDDv2AZkSonk5DZHmsErgCg/mo/photo.jpg?sz=128", "display_name": "not_a_comp_scientist", "link": "https://stackoverflow.com/users/10184250/not-a-comp-scientist"}, "edited": false, "score": 0, "creation_date": 1540476561, "post_id": 52980803, "comment_id": 92887914, "body": "Thanks John. I will look into this further."}], "tags": [], "owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1540437188, "creation_date": 1540437188, "answer_id": 52980803, "question_id": 52978251, "link": "https://stackoverflow.com/questions/52978251/change-file-metadata-using-apache-beam-on-a-cloud-database/52980803#52980803", "title": "Change file metadata using Apache Beam on a cloud database?", "body": "<p>You could code Cloud Dataflow to handle this but I would not. A simple GCE instance would be easier to develop and run the job. An even better choice might be UDF (see below).</p>\n\n<p>There are some guidelines for when Cloud Dataflow is appropriate:</p>\n\n<ol>\n<li>Your data is not tabular and you can not use SQL to do the analysis.</li>\n<li>Large portions of the job are parallel -- in other words, you can process different subsets of the data on different machines.</li>\n<li>Your logic involves custom functions, iterations, etc...</li>\n<li>The distribution of the work varies across your data subsets.</li>\n</ol>\n\n<p>Since your task involves modifying a database, I am assuming a SQL database, it would be much easier and faster to write a UDF to process and modify the database.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7320266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646f4b81150031ecb7b1666cbcd8a5cd?s=128&d=identicon&r=PG&f=1", "display_name": "tcthanh", "link": "https://stackoverflow.com/users/7320266/tcthanh"}, "is_accepted": false, "score": 0, "last_activity_date": 1540471550, "creation_date": 1540471550, "answer_id": 52989621, "question_id": 52978251, "link": "https://stackoverflow.com/questions/52978251/change-file-metadata-using-apache-beam-on-a-cloud-database/52989621#52989621", "title": "Change file metadata using Apache Beam on a cloud database?", "body": "<p>First, Apache Beam does not currently support schema update yet. There is a <a href=\"https://issues.apache.org/jira/browse/BEAM-876\" rel=\"nofollow noreferrer\">feature request</a> for some times but no news  </p>\n\n<p>Another option is to alter your current dataflow written with Apache Beam pipeline to migrate your table to another (corrected schema) table. This, unfortunately, is not scale if you have a lot of data and plus if you need to frequently change table schema ( renaming columns, renaming table name, changing data types, ..etc). </p>\n\n<p>What I propose is issue SQL queries to update your table schema instead. You can write a bash script using this <a href=\"https://cloud.google.com/sql/docs/mysql/connect-admin-ip\" rel=\"nofollow noreferrer\">guide</a> that executes <code>ALTER TABLE</code> statement. </p>\n"}], "owner": {"reputation": 118, "user_id": 10184250, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TC-wiL9UFbU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pZdiSTDDv2AZkSonk5DZHmsErgCg/mo/photo.jpg?sz=128", "display_name": "not_a_comp_scientist", "link": "https://stackoverflow.com/users/10184250/not-a-comp-scientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1540471550, "creation_date": 1540417073, "question_id": 52978251, "link": "https://stackoverflow.com/questions/52978251/change-file-metadata-using-apache-beam-on-a-cloud-database", "title": "Change file metadata using Apache Beam on a cloud database?", "body": "<p>Can you change the file metadata on a cloud database using Apache Beam? From what I understand, Beam is used to set up dataflow pipelines for Google Dataflow. But is it possible to use Beam to change the metadata if you have the necessary changes in a CSV file without setting up and running an entire new pipeline? If it is possible, how do you do it?</p>\n"}, {"tags": ["python", "oracle"], "comments": [{"owner": {"reputation": 37365, "user_id": 5683823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8551ed09606092a75f36b0638e5c318f?s=128&d=identicon&r=PG&f=1", "display_name": "mathguy", "link": "https://stackoverflow.com/users/5683823/mathguy"}, "edited": false, "score": 0, "creation_date": 1540439705, "post_id": 52978231, "comment_id": 92868380, "body": "What is a qry? I am not familiar with the term."}], "answers": [{"comments": [{"owner": {"reputation": 37365, "user_id": 5683823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8551ed09606092a75f36b0638e5c318f?s=128&d=identicon&r=PG&f=1", "display_name": "mathguy", "link": "https://stackoverflow.com/users/5683823/mathguy"}, "edited": false, "score": 1, "creation_date": 1540439893, "post_id": 52979462, "comment_id": 92868422, "body": "The Oracle way is to use <code>decode</code>, which treats two <code>null</code> as the same. <code>... where decode(some_user_id, :2, 0) = 0</code>."}], "tags": [], "owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1540425296, "creation_date": 1540425296, "answer_id": 52979462, "question_id": 52978231, "link": "https://stackoverflow.com/questions/52978231/python-query-for-oracle/52979462#52979462", "title": "Python query for Oracle", "body": "<p>Change</p>\n\n<pre><code>SOME_USER_ID = :2\n</code></pre>\n\n<p>to</p>\n\n<pre><code>NVL(SOME_USER_ID, '***NULL SENTINEL VALUE***') = NVL(:2, '***NULL SENTINEL VALUE***')\n</code></pre>\n\n<p>or something similar.</p>\n\n<p>To ensure reasonable performance you may need to add a function-based index on <code>NVL(SOME_USER_ID, '***NULL SENTINEL VALUE***')</code></p>\n"}], "owner": {"reputation": 433, "user_id": 4172411, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/54d733aa4fd996f14a1c6fddbec6b0ff?s=128&d=identicon&r=PG&f=1", "display_name": "jscriptor", "link": "https://stackoverflow.com/users/4172411/jscriptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52979462, "answer_count": 1, "score": -1, "last_activity_date": 1540444125, "creation_date": 1540417002, "last_edit_date": 1540444125, "question_id": 52978231, "link": "https://stackoverflow.com/questions/52978231/python-query-for-oracle", "title": "Python query for Oracle", "body": "<p>I'm running a query with the following fragment:</p>\n\n<p><code>... WHERE SOME_RECORD_ID = :1 AND SOME_USER_ID = :2</code>  .... and so on</p>\n\n<p>The issue is that <code>:2</code> can be a Python None (Oracle NULL) and the condition</p>\n\n<p><code>SOME_USER_ID = NULL</code> will be false, even if SOME_USER_ID is indeed NULL in the ORACLE table.</p>\n\n<p>I am looking to change the query so that if <code>:2</code> in None (or Null), then the query should behave as</p>\n\n<pre><code>WHERE SOME_RECORD_ID = :1 AND SOME_USER_ID **IS** :2\n</code></pre>\n\n<p>otherwise</p>\n\n<pre><code>WHERE SOME_RECORD_ID = :1 AND SOME_USER_ID **=** :2\n</code></pre>\n\n<p>I would appreciate any suggestion on a query rework</p>\n"}, {"tags": ["python", "django", "reverse"], "comments": [{"owner": {"reputation": 35, "user_id": 8845093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f111ae5a9f25033c1368c26bc7725741?s=128&d=identicon&r=PG&f=1", "display_name": "mamee al", "link": "https://stackoverflow.com/users/8845093/mamee-al"}, "edited": false, "score": 0, "creation_date": 1540417067, "post_id": 52978212, "comment_id": 92863030, "body": "What is the meaning of this mistake Reverse for &#39;note_detail&#39; with arguments &#39;(&#39;&#39;,)&#39; not found. 1 pattern(s) tried: [&#39;notes\\\\/(?P&lt;slug&gt;[-\\\\w]+)/$&#39;]"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1540417226, "post_id": 52978212, "comment_id": 92863091, "body": "The problem is in the template, you construct an URL, but without setting proper parameters."}, {"owner": {"reputation": 35, "user_id": 8845093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f111ae5a9f25033c1368c26bc7725741?s=128&d=identicon&r=PG&f=1", "display_name": "mamee al", "link": "https://stackoverflow.com/users/8845093/mamee-al"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1540417653, "post_id": 52978212, "comment_id": 92863226, "body": "thes templats::                                                                                                                      &lt;h1&gt;Welcome in my notes&lt;/h1&gt;  &lt;h3&gt;All The Available Notes&lt;/h3&gt;  &lt;a href=&quot;{% url &#39;notes:add_note&#39; %}&quot;&gt;Add New Notes&lt;/a&gt; &lt;br&gt; &lt;hr&gt; {% for note in all_notes %} &lt;a href=&quot;{% url &#39;notes:note_detail&#39; note.slug %}&quot;&gt;{{note}}&lt;/a&gt; &lt;br&gt; {% endfor %}"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 10399495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98fda0bf2f5cc2c8a01b5f6008c5b80?s=128&d=identicon&r=PG&f=1", "display_name": "seanucd2000", "link": "https://stackoverflow.com/users/10399495/seanucd2000"}, "is_accepted": false, "score": 0, "last_activity_date": 1540422666, "creation_date": 1540422666, "answer_id": 52979151, "question_id": 52978212, "link": "https://stackoverflow.com/questions/52978212/reverse-for-note-detail-with-arguments-not-found-1-patterns-tried/52979151#52979151", "title": "Reverse for &#39;note_detail&#39; with arguments &#39;(&#39;&#39;,)&#39; not found. 1 pattern(s) tried: [&#39;notes\\\\/(?P&lt;slug&gt;[-\\\\w]+)/$&#39;]", "body": "<p>\n\n<p>The note.slug in this line is not returning a value.  Either there are no objects in the context value all_notes, or there is no slug, the context object name is wrong  etc.  If you know the value of an existing slug, just hardcore it in there to see if it works, like \n"}], "owner": {"reputation": 35, "user_id": 8845093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f111ae5a9f25033c1368c26bc7725741?s=128&d=identicon&r=PG&f=1", "display_name": "mamee al", "link": "https://stackoverflow.com/users/8845093/mamee-al"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1540461260, "creation_date": 1540416844, "last_edit_date": 1540461260, "question_id": 52978212, "link": "https://stackoverflow.com/questions/52978212/reverse-for-note-detail-with-arguments-not-found-1-patterns-tried", "title": "Reverse for &#39;note_detail&#39; with arguments &#39;(&#39;&#39;,)&#39; not found. 1 pattern(s) tried: [&#39;notes\\\\/(?P&lt;slug&gt;[-\\\\w]+)/$&#39;]", "body": "<p>NoReverseMatch at /notes/\nReverse for 'note_detail' with arguments '('',)' not found. 1 pattern(s) tried: ['notes\\/(?P[-\\w]+)/$']\nRequest Method: GET\nRequest URL:    <a href=\"http://127.0.0.1:8000/notes/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/notes/</a>\nDjango Version: 2.0.3\nException Type: NoReverseMatch\nException Value:<br>\nReverse for 'note_detail' with arguments '('',)' not found. 1 pattern(s) tried: ['notes\\/(?P[-\\w]+)/$']\nException Location: C:\\Users\\auwwa\\Desktop\\notes\\lib\\site-packages\\django\\urls\\resolvers.py in _reverse_with_prefix, line 632\nPython Executable:  C:\\Users\\auwwa\\Desktop\\notes\\Scripts\\python.exe\nPython Version: 3.6.4\nPython Path:<br>\n['C:\\Users\\auwwa\\Desktop\\notes\\src\\notes',\n 'C:\\Users\\auwwa\\Desktop\\notes\\Scripts\\python36.zip',\n 'C:\\Users\\auwwa\\Desktop\\notes\\DLLs',\n 'C:\\Users\\auwwa\\Desktop\\notes\\lib',\n 'C:\\Users\\auwwa\\Desktop\\notes\\Scripts',\n 'C:\\Users\\auwwa\\AppData\\Local\\Programs\\Python\\Python36\\Lib',\n 'C:\\Users\\auwwa\\AppData\\Local\\Programs\\Python\\Python36\\DLLs',\n 'C:\\Users\\auwwa\\Desktop\\notes',\n 'C:\\Users\\auwwa\\Desktop\\notes\\lib\\site-packages']\nServer time:    Wed, 24 Oct 2018 21:18:57 +0000</p>\n\n<p>I have problem Reverse for 'note_detail' with arguments '('',)' not found. 1 pattern(s) tried: ['notes\\/(?P[-\\w]+)/$']</p>\n\n<p>this is viewes :</p>\n\n<pre><code>from django.shortcuts import render\nfrom .models import Note\nfrom django.contrib.auth.models import User\nfrom .forms import NoteForm\n# Create your views here.\n\ndef all_notes(request):\n    all_notes = Note.objects.all()\n    context = {\n        'all_notes':all_notes,\n\n    }\n    return render(request, 'all_notes.html',context)\n\n\n\ndef detail(request, slug):\n    note = Note.objects.get(slug=slug)\n    context = {\n        'note':note\n    }\n    return render(request, 'note_details.html', context)\n\ndef note_add(request):\n\n    if request.method == 'POST':\n        form = NoteForm(request.POST)\n        if form.is_valid():\n            new_form = form.save(commit=False)\n            new_form.user = request.user\n            new_form.save()\n    else:\n        form = NoteForm()\n    context={ \n        'form':form\n    }\n    return render(request, 'add.html',context)\n</code></pre>\n\n<p>and url nots_app:</p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\napp_name = \"notes_app\"\nurlpatterns = [\n    url(r'^$', views.all_notes, name='all_notes'),\n    url(r'^(?P&lt;slug&gt;[-\\w]+)/$', views.detail , name='note_detail'),\n    url(r'^Add$', views.note_add, name='add_note'),\n]\n</code></pre>\n\n<p>forms.py::</p>\n\n<pre><code>from django import forms\nfrom .models import Note\n\nclass NoteForm(forms.ModelForm):    \n    class Meta:\n        model = Note\n        fields = ['title', 'content', 'tags']\n</code></pre>\n\n<p>all-notes.html::</p>\n\n<pre><code>&lt;h1&gt;Welcome in my notes&lt;/h1&gt;\n\n&lt;h3&gt;All The Available Notes&lt;/h3&gt;\n&lt;a href=\"{% url 'notes:add_note' %}\"&gt;Add New Notes&lt;/a&gt;\n\n&lt;br&gt;\n&lt;hr&gt;\n{% for note in all_notes %}\n&lt;a href=\"{% url 'notes:note_detail' note.slug %}\"&gt;{{note}}&lt;/a&gt;\n&lt;br&gt;\n{% endfor %}\n</code></pre>\n\n<p>notes_detail.html::</p>\n\n<pre><code>&lt;h1&gt;welcome&lt;/h1&gt;\n\n{{note}}&lt;br&gt;\n{{note.content}}&lt;br&gt;\n{{note.created}}&lt;br&gt;\n{{note.tags}} &lt;br&gt;\n</code></pre>\n\n<p>models.py:::</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User\nimport datetime\nfrom django.utils.text import slugify\n\n\n# Create your models here.\nclass Note(models.Model):\n    user = models.ForeignKey(User, on_delete=models.CASCADE)\n    title = models.CharField(max_length=50)\n    slug = models.SlugField(null=True,blank=True)\n    content = models.TextField(blank=True)\n    created = models.DateTimeField(blank=True, default=datetime.datetime.now)\n    active = models.BooleanField(default=True)\n    tags = models.CharField(blank=True, max_length=100)\n\n    def save(self, *args, **kwargs ):\n        if not self.slug:\n            self.slug = slugify(self.title)\n        super(Note, self).save(*args, **kwargs )\n\n    def __str__(self):\n        return self.title\n</code></pre>\n"}, {"tags": ["python", "apache", "mod-wsgi"], "comments": [{"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540443617, "post_id": 52978208, "comment_id": 92869312, "body": "In your httpd.conf, put <code>LogLevel debug</code> and make sure <code>CustomLog</code> and <code>ErrorLog</code> are defined to an existing path on your window.  Restart.  Hopefully you will get more detailed errors with debug logs."}, {"owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "reply_to_user": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540481978, "post_id": 52978208, "comment_id": 92891468, "body": "thanks I appreciate the suggestion.  I tried many LogLevel settings and both Logs are correctly created.  I suppose it might just be something specific to my machine, but I don&#39;t really know how to probe it any further"}, {"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540515223, "post_id": 52978208, "comment_id": 92904477, "body": "The logs are created, but do they contain any hint that might help?  Event logs show nothing more?  I did some research, but in most cases it was ports issues, but the errors were quite clear when put in debug level."}, {"owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "reply_to_user": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540515280, "post_id": 52978208, "comment_id": 92904486, "body": "Nothing is populated in the logs in this instance even though the files are there and populated when httpd is just called from the command line"}, {"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540515367, "post_id": 52978208, "comment_id": 92904507, "body": "Wow...  does the service definition force which configuration file to use (i.e. use the <code>-f</code> argument)?  I wonder if it uses the same configuration as when you run it from cmd."}, {"owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "reply_to_user": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1540515464, "post_id": 52978208, "comment_id": 92904530, "body": "I haven\u2019t tried but for both I was using the default conf/http.conf. I suppose I could try and see if with a different conf it works"}, {"owner": {"reputation": 923, "user_id": 3578245, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/kfvCZ.png?s=128&g=1", "display_name": "witoong623", "link": "https://stackoverflow.com/users/3578245/witoong623"}, "edited": false, "score": 0, "creation_date": 1579100927, "post_id": 52978208, "comment_id": 105654563, "body": "Did you fix this error? I get the same error as you."}, {"owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "edited": false, "score": 0, "creation_date": 1579102650, "post_id": 52978208, "comment_id": 105655612, "body": "No I gave up and switched to Linux"}], "owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3811, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540416827, "creation_date": 1540416827, "question_id": 52978208, "link": "https://stackoverflow.com/questions/52978208/how-to-diagnose-apache2-4-service-error-7024-incorrect-function", "title": "how to diagnose Apache2.4 service error 7024 Incorrect function", "body": "<p>System:</p>\n\n<ul>\n<li>Windows 10 x64 (enterprise computer with some restrictions)</li>\n<li>Apache 2.4 64-bit</li>\n<li>Python 3.7.1 64-bit</li>\n<li>mod_wsgi (built today from github using python setup.py install)</li>\n</ul>\n\n<p>I am working on getting an Apache server with Python on a Windows machine and I have the server configured correctly in order to get the <code>Hello World!</code> example from <a href=\"https://modwsgi.readthedocs.io/en/develop/user-guides/quick-configuration-guide.html#wsgi-application-script-file\" rel=\"nofollow noreferrer\">mod_wsig documentation</a> working.</p>\n\n<p>If I simply launch <code>C:\\Apache24\\bin\\httpd.exe</code>, this works and I see Hello World at <a href=\"http://localhost:5000/\" rel=\"nofollow noreferrer\">http://localhost:5000/</a></p>\n\n<p>Then I wanted to get it running as a service, so I call</p>\n\n<p><code>httpd.exe -k install</code></p>\n\n<p>In the ApacheMonitor I start the new Apache2.4 service but I get a failed to start error.  In the Windows system event log it says <code>Event ID: 7024</code> with a service specific error: <code>Incorrect function</code>.</p>\n\n<p>When I run <code>httpd.exe -k start -n \"Apache2.4\" -t</code> it says <code>Syntax OK</code></p>\n\n<p>What I can't find is any more information about the service error.  Nothing populates in the <code>error.log</code> file and I don't know where else to look, and I am asking for any further information on how to diagnose this.</p>\n\n<p>Before I started configuring Apache to use mod_wsgi, launching the service was successful, so this happened after doing that, and I haven't configured anything else at this point.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "edited": false, "score": 1, "creation_date": 1540416921, "post_id": 52978199, "comment_id": 92862972, "body": "What have you tried so far?"}, {"owner": {"reputation": 822, "user_id": 2143547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5e103e042e03b436cb90826b940d9f1?s=128&d=identicon&r=PG", "display_name": "chriopp", "link": "https://stackoverflow.com/users/2143547/chriopp"}, "edited": false, "score": 0, "creation_date": 1540417520, "post_id": 52978199, "comment_id": 92863184, "body": "You really should show how you tried to approach the problem when asking your next question. Welcome to stackoverflow!"}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": true, "score": 7, "last_activity_date": 1540417053, "creation_date": 1540417053, "answer_id": 52978245, "question_id": 52978199, "link": "https://stackoverflow.com/questions/52978199/python-creating-nested-lists/52978245#52978245", "title": "Python creating nested lists", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"noreferrer\"><code>itertools.groupby</code></a> to group everything into lists of adjacent identical values, then unpack the lists of length one out of the nested lists:</p>\n\n<pre><code>from itertools import groupby\n\ndef group_adjacent(iterable):\n    lists = (list(g) for k, g in groupby(iterable))\n    return [subl[0] if len(subl) == 1 else subl for subl in lists]\n\ngroup_adjacent([1,2,4,5,5,7,6,6,6])\n# [1, 2, 4, [5, 5], 7, [6, 6, 6]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": false, "score": 2, "last_activity_date": 1540417169, "creation_date": 1540417169, "answer_id": 52978270, "question_id": 52978199, "link": "https://stackoverflow.com/questions/52978199/python-creating-nested-lists/52978270#52978270", "title": "Python creating nested lists", "body": "<p>Pure basic python solution:</p>\n\n<p>Create a new list and append to it with past tracking:</p>\n\n<pre><code>new_list = []\ntemp_list = []\nfor i in old_list:\n    if temp_list and i == temp_list[-1]:\n        temp_list.append(i)\n        continue\n    if len(temp_list) == 1:\n        new_list.append(temp_list[0])\n    elif temp_list: # avoid first case.\n        new_list.append(temp_list)\n    temp_list = [i]\nif len(temp_list) == 1:\n    new_list.append(temp_list[0])\nelse:\n    new_list.append(temp_list)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "is_accepted": false, "score": 2, "last_activity_date": 1540417866, "creation_date": 1540417866, "answer_id": 52978392, "question_id": 52978199, "link": "https://stackoverflow.com/questions/52978199/python-creating-nested-lists/52978392#52978392", "title": "Python creating nested lists", "body": "<p>Approach with only for loop:</p>\n\n<pre><code>list = [1,2,2,2,3,4,4,4,4,4,4,5,6,7,8,8,8,8,8,9,9]\nout = []\nt = []\ni = 0\nfirst = True\nfor v in list:\n  n = ''\n  if (i+1) &lt; len(list):\n    n = list[i+1]\n  if v == n:\n    t.append(v)\n  else:\n    if len(t) &gt; 0:\n      t.append(v)\n      out.append(t)\n    else:\n      out.append(v)\n    t = []\n  i+=1\n\nprint(out)\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>[1, [2, 2, 2], 3, [4, 4, 4, 4, 4, 4], 5, 6, 7, [8, 8, 8, 8, 8], [9, 9]]</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 10480832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-35jLjh2NsDs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXrZwyKYgzk4BwSPLPwlcB9xYH3uw/mo/photo.jpg?sz=128", "display_name": "Anthony J Longo", "link": "https://stackoverflow.com/users/10480832/anthony-j-longo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 0, "closed_date": 1612003604, "accepted_answer_id": 52978245, "answer_count": 3, "score": -8, "last_activity_date": 1540417866, "creation_date": 1540416758, "last_edit_date": 1540416838, "question_id": 52978199, "link": "https://stackoverflow.com/questions/52978199/python-creating-nested-lists", "closed_reason": "Needs more focus", "title": "Python creating nested lists", "body": "<p>I am working on a program that will take lists and return a list with nested lists of adjacent identical values. For example an input list of </p>\n\n<pre><code>[1,2,4,5,5,7,6,6,6] \n</code></pre>\n\n<p>would return </p>\n\n<pre><code>[1,2,4,[5,5],7,[6,6,6]]\n</code></pre>\n\n<p>How would i go about programming a function to do this?</p>\n"}, {"tags": ["python", "html", "web-scraping", "beautifulsoup", "extract"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 1, "creation_date": 1540416784, "post_id": 52978174, "comment_id": 92862925, "body": "Use <code>soup.select</code> with css selectors - you&#39;re almost there!"}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 0, "creation_date": 1540418183, "post_id": 52978174, "comment_id": 92863379, "body": "Something like <code>soup.find_all(&#39;div&#39;, class_=&#39;text-auto-link&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 10113213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_HkX7M2jWzM/AAAAAAAAAAI/AAAAAAAAAeY/sO4p6-w4xEI/photo.jpg?sz=128", "display_name": "Bhanu Tez", "link": "https://stackoverflow.com/users/10113213/bhanu-tez"}, "is_accepted": true, "score": 2, "last_activity_date": 1540452979, "last_edit_date": 1540452979, "creation_date": 1540423366, "answer_id": 52979227, "question_id": 52978174, "link": "https://stackoverflow.com/questions/52978174/extract-an-objects-description-through-beautifulsoup-in-python/52979227#52979227", "title": "Extract an object&#39;s description through Beautifulsoup in python", "body": "<p>This works for me, not proud of the script because of the way I used the break statement. But the script works.</p>\n\n<pre><code>from urllib.request import urlopen\nfrom bs4 import BeautifulSoup as BS\n\nurl = r'https://www.myminifactory.com/object/3d-print-the-little-prince-4707'\n\nhtml = urlopen(url).read()\nSoup = BS(html,\"lxml\")\nDesc = Soup.find('div',{'class':'short-text text-auto-link'}).text\ndescription = ''\nfor line in Desc.split('\\n'):\n    if line.strip() == '_________________________________________________________________________':\n        break\n    if line.strip():\n        description += line.strip()\nprint(description)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58, "user_id": 10547511, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XOevZaxC20c/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDE3NwIdZMrX7fOxpDwloHfW1hPJw/mo/photo.jpg?sz=128", "display_name": "Emanuele Bellucci", "link": "https://stackoverflow.com/users/10547511/emanuele-bellucci"}, "edited": false, "score": 0, "creation_date": 1540452891, "post_id": 52983558, "comment_id": 92873226, "body": "It is not a &quot;clean&quot; output (I still get &#39;\\xa0&#39; or other things like this inside the text)."}], "tags": [], "owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "is_accepted": false, "score": 1, "last_activity_date": 1540453563, "last_edit_date": 1540453563, "creation_date": 1540452089, "answer_id": 52983558, "question_id": 52978174, "link": "https://stackoverflow.com/questions/52978174/extract-an-objects-description-through-beautifulsoup-in-python/52983558#52983558", "title": "Extract an object&#39;s description through Beautifulsoup in python", "body": "<p>Find the parent tag then looking for <code>&lt;p&gt;</code>, fliter the spaces and <code>____</code></p>\n\n<pre><code>parent = soup.find(\"div\",class_=\"row container-info-obj margin-t-10\")\nresult = [\" \".join(p.text.split()) for p in parent.find_all(\"p\") if p.text.strip() and not \"_\"*8  in p.text]\n#youtube_v = parent.find(\"iframe\")[\"src\"]\nprint(result)\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 10547511, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XOevZaxC20c/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDE3NwIdZMrX7fOxpDwloHfW1hPJw/mo/photo.jpg?sz=128", "display_name": "Emanuele Bellucci", "link": "https://stackoverflow.com/users/10547511/emanuele-bellucci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 1, "accepted_answer_id": 52979227, "answer_count": 2, "score": 0, "last_activity_date": 1540453563, "creation_date": 1540416644, "question_id": 52978174, "link": "https://stackoverflow.com/questions/52978174/extract-an-objects-description-through-beautifulsoup-in-python", "title": "Extract an object&#39;s description through Beautifulsoup in python", "body": "<p>I want to extract the description near the figure (the one that goes from \"Figurine model\" to \"Stay Tuned :)\") and store it into the variable <code>information</code> through BeautifulSoup. How can I do it? \nHere's my code, but I don't know how to continue it:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nresponse = requests.get('https://www.myminifactory.com/object/3d-print-the-little-prince-4707')\nsoup = BeautifulSoup(response.text, \"lxml\")\ninformation = \n</code></pre>\n\n<p>I show you below the page from where I want to extract the object's description. Thank you in advance!\n<a href=\"https://i.stack.imgur.com/aszA4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aszA4.png\" alt=\"The Page from where I want to extract the text\"></a></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 71, "user_id": 8238845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o6pFvRICuak/AAAAAAAAAAI/AAAAAAAAAAw/5OQuObI0P1c/photo.jpg?sz=128", "display_name": "Matthew Manning", "link": "https://stackoverflow.com/users/8238845/matthew-manning"}, "edited": false, "score": 0, "creation_date": 1540417132, "post_id": 52978164, "comment_id": 92863046, "body": "<a href=\"https://stackoverflow.com/questions/13567507/passing-csrftoken-with-python-requests\" title=\"passing csrftoken with python requests\">stackoverflow.com/questions/13567507/&hellip;</a>"}, {"owner": {"reputation": 326, "user_id": 3239668, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/be5df142192ec651d9523952fb1bc23d?s=128&d=identicon&r=PG&f=1", "display_name": "Tianbing Leng", "link": "https://stackoverflow.com/users/3239668/tianbing-leng"}, "reply_to_user": {"reputation": 71, "user_id": 8238845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o6pFvRICuak/AAAAAAAAAAI/AAAAAAAAAAw/5OQuObI0P1c/photo.jpg?sz=128", "display_name": "Matthew Manning", "link": "https://stackoverflow.com/users/8238845/matthew-manning"}, "edited": false, "score": 0, "creation_date": 1540417267, "post_id": 52978164, "comment_id": 92863105, "body": "My LOGIN_URL is successful, I failed the second one."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 6884849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENYVq.jpg?s=128&g=1", "display_name": "Larissa Ford", "link": "https://stackoverflow.com/users/6884849/larissa-ford"}, "edited": false, "score": 0, "creation_date": 1608059441, "post_id": 52978495, "comment_id": 115465316, "body": "I got client as undefined when I tried this"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 103, "user_id": 6884849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENYVq.jpg?s=128&g=1", "display_name": "Larissa Ford", "link": "https://stackoverflow.com/users/6884849/larissa-ford"}, "edited": false, "score": 0, "creation_date": 1608083787, "post_id": 52978495, "comment_id": 115472784, "body": "@LarissaFord: The answer only includes the lines that should be changed. The rest of the code is in the question. <code>client = requests.session()</code> etc."}], "tags": [], "owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "is_accepted": true, "score": 5, "last_activity_date": 1540572999, "last_edit_date": 1540572999, "creation_date": 1540418473, "answer_id": 52978495, "question_id": 52978164, "link": "https://stackoverflow.com/questions/52978164/forbidden-csrf-token-missing-or-incorrect-after-csrf-token-login-success/52978495#52978495", "title": "Forbidden (CSRF token missing or incorrect.) After CSRF token login success", "body": "<p>This is explained at the very end of Django's <a href=\"https://docs.djangoproject.com/en/2.1/ref/csrf/#why-might-a-user-encounter-a-csrf-validation-failure-after-logging-in\" rel=\"nofollow noreferrer\">\"Cross Site Request Forgery protection\" documentation</a>:</p>\n\n<blockquote>\n  <h2>Why might a user encounter a CSRF validation failure after logging in?</h2>\n  \n  <p>For security reasons, CSRF tokens are rotated each time a user logs\n  in. Any page with a form generated before a login will have an old,\n  invalid CSRF token and need to be reloaded. This might happen if a\n  user uses the back button after a login or if they log in a different\n  browser tab.</p>\n</blockquote>\n\n<p>This also goes for cookies. After you log in, django will send a new csrf cookie to the client. This will be stored in <code>client.cookies</code> and replaces the old one. The django server does not keep any record of the old token, so that's why you get the \"CSRF token missing or incorrect.\" response. </p>\n\n<p>You can access the new token from <code>client.cookies['csrftoken']</code> as before.  </p>\n\n<pre><code>r1 = client.post(LOGIN_URL, data=login_data, headers=dict(Referer=LOGIN_URL))\ncsrftoken = client.cookies['csrftoken']\n</code></pre>\n\n<p>In fact, you can just use the client cookie directly. This would have avoided this bug in the first place. Requests keeps track of cookies for you when you use <code>requests.session()</code>.</p>\n\n<pre><code>r2 = client.post(\n    API_URL, \n    data=payload, \n    headers={'X-CSRFToken': client.cookies['crsftoken']}\n)\n</code></pre>\n\n<p>When you use the x-csrftoken http header, I don't think there's any reason to also include the token in the post payload (request body).</p>\n"}], "owner": {"reputation": 326, "user_id": 3239668, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/be5df142192ec651d9523952fb1bc23d?s=128&d=identicon&r=PG&f=1", "display_name": "Tianbing Leng", "link": "https://stackoverflow.com/users/3239668/tianbing-leng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 0, "accepted_answer_id": 52978495, "answer_count": 1, "score": 1, "last_activity_date": 1540572999, "creation_date": 1540416606, "question_id": 52978164, "link": "https://stackoverflow.com/questions/52978164/forbidden-csrf-token-missing-or-incorrect-after-csrf-token-login-success", "title": "Forbidden (CSRF token missing or incorrect.) After CSRF token login success", "body": "<p>I use below code to first login to my website to get the valid CSRF token, then I would like to use that token to make API call, however, it failed. Please help me..</p>\n\n<pre><code>import requests\n\nLOGIN_URL = 'http://localhost:8000/admin/login/'\nclient = requests.session()\n# Retrieve the CSRF token first\nclient.get(LOGIN_URL)\ncsrftoken = client.cookies['csrftoken']\nprint('token:'+ csrftoken)\nlogin_data = dict(username='xxxx', password='xxxx', csrfmiddlewaretoken=csrftoken)\nr1 = client.post(LOGIN_URL, data=login_data, headers=dict(Referer=LOGIN_URL))\nprint(r1.status_code, r1.reason)\n\nprint('token:'+ csrftoken)\nAPI_URL = 'http://localhost:8000/collection/api/job_submit/'\npayload = {'csrfmiddlewaretoken': csrftoken, 'value1': 'val', 'value2': 'val'}\n\nr2 = client.post(API_URL, data=payload, headers={'referer': API_URL, 'X-CSRFToken': csrftoken})\nprint(r2.status_code, r2.reason)\n</code></pre>\n\n<p>And this is what I get from the server:</p>\n\n<pre><code>[24/Oct/2018 21:28:59] \"GET /admin/login/ HTTP/1.1\" 200 1806\n[24/Oct/2018 21:28:59] \"POST /admin/login/ HTTP/1.1\" 302 0\n[24/Oct/2018 21:28:59] \"GET /accounts/profile/ HTTP/1.1\" 404 91\n2018-10-24 21:28:59,914 [WARNING] django.security.csrf: Forbidden (CSRF token missing or incorrect.): /collection/api/job_submit/\n[24/Oct/2018 21:28:59] \"POST /collection/api/job_submit/ HTTP/1.1\" 403 1019\n</code></pre>\n\n<p>So, how can I pass the token correctly?</p>\n"}, {"tags": ["python", "flask"], "owner": {"reputation": 81, "user_id": 2726634, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/917213cd708360201609d4369e50aa78?s=128&d=identicon&r=PG&f=1", "display_name": "user2726634", "link": "https://stackoverflow.com/users/2726634/user2726634"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "closed_date": 1540417699, "answer_count": 0, "score": 1, "last_activity_date": 1540417956, "creation_date": 1540416548, "question_id": 52978153, "link": "https://stackoverflow.com/questions/52978153/flasks-send-file-function-keeps-changing-directories-while-looking-for-the-fi", "closed_reason": "Duplicate", "title": "Flask&#39;s send_file() function keeps changing directories while looking for the file", "body": "<p>There are 2 functions or views located in the same file <code>version.py</code>, one for upload the other for downloading that file. The issue is that the send_file function keeps changing directories while opening the file.\nCode 1:\nFile Upload function:</p>\n\n<pre><code>                binfile = form.binfile.data\n                filename = secure_filename(\"arduino.bin\")\n#without the app folder\n                binfile.save(os.path.join(\n                    app.config['UPLOAD_FOLDER'], \n                    device_names.farm_id, \n                    device_names.mqtt_id, \n                    filename))\n                flash('File Uploaded', 'success')\n</code></pre>\n\n<p>File Download Function:</p>\n\n<pre><code>file_path = os.path.join(\n                    app.config['UPLOAD_FOLDER'], \n                    farm_id, \n                    device_id, \n                    'arduino.bin')\n                print(file_path)\n                response = make_response(send_file(\n                    file_path, \n                    mimetype='application/octet-stream',\n                    as_attachment=True\n                    ))\n                response.headers['x-MD5'] = md5(file_path)\n                print(response.headers)\n                return response, 200\n</code></pre>\n\n<p>Here the file gets uploaded to the project root folder.\nWhen I send a request for this file, I get this error:</p>\n\n<blockquote>\n  <p>[Errno 2] No such file or directory:\n  \u2018/home/maxwell/Desktop/python/aquaponics-monitor/app/firmware-manager/FARM0/node2/arduino.bin\u2019</p>\n</blockquote>\n\n<p>When I manually move the file to the 'app' folder I get no errors and a 200 response code while requesting. So I assume that the function is looking for the file inside the 'app' folder. I changed the upload location by adding 'app' to the path while uploading.</p>\n\n<p>Code 2:\nFile Upload Function:</p>\n\n<pre><code>                binfile = form.binfile.data\n                filename = secure_filename(\"arduino.bin\")\n#app folder included\n                binfile.save(os.path.join(\n                    'app',\n                    app.config['UPLOAD_FOLDER'], \n                    device_names.farm_id, \n                    device_names.mqtt_id, \n                    filename))\n                flash('File Uploaded', 'success')\n</code></pre>\n\n<p>The file download function is the same as code 1. For this code I get this error:</p>\n\n<blockquote>\n  <p>[Errno 2] No such file or directory:\n  \u2018firmware-manager/FARM0/node2/arduino.bin\u2019</p>\n</blockquote>\n\n<p>The file download function now looks in the project root folder. I manually moved the file to the root folder this time and I again get a status code 200 and no errors when I send a request for it. \nThe only code change I made in the entire application is adding 'app' to the path in the File Upload function. Why is this happening?</p>\n"}, {"tags": ["python", "fetch", "scrape"], "comments": [{"owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "edited": false, "score": 1, "creation_date": 1540416684, "post_id": 52978113, "comment_id": 92862889, "body": "I wouldn&#39;t care about that since it&#39;s obviously broken JSON. But if you need, simply find the first opening curly-bracket and remove everything before..."}], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "is_accepted": false, "score": 0, "last_activity_date": 1540416708, "creation_date": 1540416708, "answer_id": 52978190, "question_id": 52978113, "link": "https://stackoverflow.com/questions/52978113/medium-com-invalid-json/52978190#52978190", "title": "Medium.com Invalid Json?", "body": "<p>You can try splitting that string by <code>&lt;/x&gt;</code> and then get the second index:</p>\n\n<pre><code>clean_json = raw_json.split('&lt;/x&gt;')[1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "edited": false, "score": 0, "creation_date": 1540417747, "post_id": 52978209, "comment_id": 92863255, "body": "Fair point, this surely is the better solution for most cases :) Only downside to both approaches is if we have something like this <code>]{)}while(1);&lt;&#47;x&gt;</code>. That would be even trickier, but its messy to parse anyhow."}, {"owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "reply_to_user": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "edited": false, "score": 0, "creation_date": 1540419347, "post_id": 52978209, "comment_id": 92863704, "body": "@LeKhan9 Yep, but it looks like it&#39;s some static garbage Medium is intentionally adding to JSON outputs, this about one year old module is also <a href=\"https://github.com/frandiox/medium-json-feed/blob/e6f5654febf60b95d17701bc6d3a43be5ecf2864/index.js#L29\" rel=\"nofollow noreferrer\">stripping it</a> before parsing."}], "tags": [], "owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "is_accepted": false, "score": 1, "last_activity_date": 1540419228, "last_edit_date": 1540419228, "creation_date": 1540416833, "answer_id": 52978209, "question_id": 52978113, "link": "https://stackoverflow.com/questions/52978113/medium-com-invalid-json/52978209#52978209", "title": "Medium.com Invalid Json?", "body": "<p>I wouldn't bother with it since it's obviously not a valid JSON but if you need it, you can try to locate the first opening curly-bracket and simply remove everything before it:</p>\n\n<pre><code>valid_json = broken_json[broken_json.find('{'):]\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>broken_json.find('{')</code> returns the position (index) of the first occurrence of the character <code>{</code> in the string <code>broken_json</code></li>\n<li><code>broken_json[X:]</code> - is a string slice, it returns the substring of <code>broken_json</code> starting on the position <code>X</code></li>\n</ul>\n\n<p>An advantage over the LeKhan's solution is that when that JSON becomes valid, your code will be still working even with this fix in place. Also, his solution will return a broken JSON if it contains the substring <code>&lt;/x&gt;</code> inside its fields (which may be valid).</p>\n\n<p><strong>Note:</strong> it's probably not a bug but it's there intentionally for some reason. There's for example the module Medium JSON feed which <a href=\"https://github.com/frandiox/medium-json-feed/blob/e6f5654febf60b95d17701bc6d3a43be5ecf2864/index.js#L29\" rel=\"nofollow noreferrer\">handles it very similarly</a> - it's also stripping everything before the first opening curly-bracket.</p>\n\n<p>According to <a href=\"https://medium.com/statuscode/building-a-basic-web-service-to-display-your-medium-blog-posts-on-your-website-using-aws-api-48597b1771c5\" rel=\"nofollow noreferrer\">this article</a>, it's there to prevent \"<em>JSON hacking</em>\", whatever it means.</p>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 8629258, "user_type": "registered", "profile_image": "https://graph.facebook.com/1468493719893130/picture?type=large", "display_name": "Sabesan", "link": "https://stackoverflow.com/users/8629258/sabesan"}, "is_accepted": false, "score": 0, "last_activity_date": 1576163268, "creation_date": 1576163268, "answer_id": 59307555, "question_id": 52978113, "link": "https://stackoverflow.com/questions/52978113/medium-com-invalid-json/59307555#59307555", "title": "Medium.com Invalid Json?", "body": "<p>Medium didn't provide JSON objects But they are providing RSS feeds. Therefore you could convert the RSS feeds to JSON objects. Use the link below and replace your user name instead of userName.</p>\n\n<pre><code>https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/&lt;userName&gt;\n</code></pre>\n\n<p>for this question, you can use the below link</p>\n\n<p><a href=\"https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/circle-blog\" rel=\"nofollow noreferrer\">https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/circle-blog</a></p>\n"}], "owner": {"reputation": 55, "user_id": 9734831, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "xvienxz2", "link": "https://stackoverflow.com/users/9734831/xvienxz2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1576163268, "creation_date": 1540416351, "question_id": 52978113, "link": "https://stackoverflow.com/questions/52978113/medium-com-invalid-json", "title": "Medium.com Invalid Json?", "body": "<p>I am trying to fetch the latest posts from Medium.com so for example, I go here</p>\n\n<p><a href=\"https://medium.com/circle-blog/latest?format=json\" rel=\"nofollow noreferrer\">https://medium.com/circle-blog/latest?format=json</a></p>\n\n<p>But when I copy and paste that entire JSON into JSONEditorOnline.org, I get error saying</p>\n\n<pre><code>Error: Parse error on line 1:\n])}while(1);&lt;/x&gt;{\"su\n^\nExpecting 'STRING', 'NUMBER', 'NULL', 'TRUE', 'FALSE', '{', '[', got ']'\n</code></pre>\n\n<p>I realize error is because of the random stuff in the front</p>\n\n<pre><code>])}while(1);&lt;/x&gt;\n</code></pre>\n\n<p>So how would I remove that using Python?</p>\n\n<p>After I remove, I want to dump it into a JSON file</p>\n\n<pre><code>with open('medium.json', 'w') as json1:\n    json1.write(json.dumps(JSONWITHWHILE(1)REMOVED))\n</code></pre>\n\n<p>How would I go about doing this?</p>\n"}, {"tags": ["python", "html", "django", "variables"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1540416620, "post_id": 52978108, "comment_id": 92862863, "body": "You need to pass them in a dictionary as third parameter of the <code>render(..)</code> call."}, {"owner": {"reputation": 885, "user_id": 2568279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Aj50J.jpg?s=128&g=1", "display_name": "Agust&#237;n Lado", "link": "https://stackoverflow.com/users/2568279/agust%c3%adn-lado"}, "edited": false, "score": 1, "creation_date": 1540425089, "post_id": 52978108, "comment_id": 92865291, "body": "You should take this opportunity to learn about <i>scope</i>. <code>fname</code> was defined in the &quot;hello&quot; function. It doesn&#39;t magically exist anywhere else."}], "answers": [{"tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1540416616, "creation_date": 1540416616, "answer_id": 52978166, "question_id": 52978108, "link": "https://stackoverflow.com/questions/52978108/unable-to-use-python-variables-in-html-django/52978166#52978166", "title": "Unable to use python variables in html | Django", "body": "<p>In order for <code>fname</code> to show up you'll need to pass that into the render function. You're not doing that in <code>def hello</code></p>\n\n<p>You need to correctly return the argument into the render function like this:</p>\n\n<pre><code>def hello(request):\n\n    ...\n\n    context = {'fname': fname}\n    return render(request, 'pops/index.html', context)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "is_accepted": false, "score": 3, "last_activity_date": 1540416650, "creation_date": 1540416650, "answer_id": 52978176, "question_id": 52978108, "link": "https://stackoverflow.com/questions/52978108/unable-to-use-python-variables-in-html-django/52978176#52978176", "title": "Unable to use python variables in html | Django", "body": "<p>You can only reference a variable in a template if you include it in the \"context\" that is passed to the template. This is a dictionary linking variable names to the Python values they represent. The usual way to pass this to the template is as the third argument of the <code>render</code> method. So in your <code>views.py</code>, you should alter the final line to:</p>\n\n<pre><code>return render(request, 'main/hello.html', {\"fname\": fname})\n</code></pre>\n"}], "owner": {"reputation": 584, "user_id": 10372572, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DTty-xE8CY4/AAAAAAAAAAI/AAAAAAAAAgc/UtgZ2OsTcv0/photo.jpg?sz=128", "display_name": "Joyal Mathew", "link": "https://stackoverflow.com/users/10372572/joyal-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 52978166, "answer_count": 2, "score": 0, "last_activity_date": 1540416650, "creation_date": 1540416309, "question_id": 52978108, "link": "https://stackoverflow.com/questions/52978108/unable-to-use-python-variables-in-html-django", "title": "Unable to use python variables in html | Django", "body": "<p>I am using django to create a web app. I have run into a problem when trying to use variables from python in html. The variable does not show up. The app has a lot of messy code so I have recreated the problem including only relevant files. </p>\n\n<p>views.py:</p>\n\n<pre><code>from django.shortcuts import render\n\n\n# Create your views here.\ndef home(request):\n    return render(request, 'main/index.html')\n\ndef hello(request):\n  if request.method == 'POST':\n    fname = request.POST.get('fname', None)\n  else:\n    fname = \"there\"\n  return render(request, 'main/hello.html')\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>{% extends \"base.html\" %} {% block content %}\n&lt;form action=\"hello\" method=\"POST\"&gt;\n  {% csrf_token %}\n    &lt;input name=\"fname\" placeholder=\"First Name\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n{% endblock content %}\n</code></pre>\n\n<p>hello.html</p>\n\n<pre><code>{% extends \"base.html\" %} {% block content %}\n&lt;p&gt;Hello {{fname}}&lt;/p&gt;\n{% endblock content %}\n</code></pre>\n\n<p>base.html:</p>\n\n<pre><code>{% load staticfiles %}\n&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Hello&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"/&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/&gt;\n    &lt;link rel=\"stylesheet\" href=\"{% static \"css/style.css\" %}\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% block content %}{% endblock content %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is what the \"hello\" page looks like(only part of the screen):<br>\n<a href=\"https://i.stack.imgur.com/S0S0C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0S0C.png\" alt=\"html output(says hello but not &quot;name&quot;)\"></a></p>\n\n<p>I want it to be able to output the users input.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 1, "creation_date": 1540416234, "post_id": 52978062, "comment_id": 92862738, "body": "You need to understand that each function can only <code>return</code> <i>once</i>. In your second case, as long as the first iteration didn&#39;t satisfy that it will immediately return <code>True</code>, all subsequent iteration <i>will not run</i>. In the first function, only if every iteration statisfied the condition will <code>True</code> be returned, else it can never get to that line."}], "answers": [{"tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1540416264, "creation_date": 1540416264, "answer_id": 52978101, "question_id": 52978062, "link": "https://stackoverflow.com/questions/52978062/beginner-python-user-boolean-query/52978101#52978101", "title": "Beginner Python user Boolean Query", "body": "<p>The <code>return False</code> causes the function to exit completely while returning False, so the <code>return True</code> line is never reached in that case. Placing an early return statement is a way of interrupting function execution</p>\n"}, {"tags": [], "owner": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "is_accepted": false, "score": 0, "last_activity_date": 1540416484, "creation_date": 1540416484, "answer_id": 52978138, "question_id": 52978062, "link": "https://stackoverflow.com/questions/52978062/beginner-python-user-boolean-query/52978138#52978138", "title": "Beginner Python user Boolean Query", "body": "<p>If your statement <code>if lst1[index] != lst2[len(lst2)-1-index]</code> statement finds any items that do not match, our function will end right at that moment. No more code will be executed.</p>\n\n<p>When you add that else statement, it means that if there are any items that do match, the function will return True and no more code will be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 8126904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K9ToU.jpg?s=128&g=1", "display_name": "programmar", "link": "https://stackoverflow.com/users/8126904/programmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1540416555, "creation_date": 1540416555, "answer_id": 52978154, "question_id": 52978062, "link": "https://stackoverflow.com/questions/52978062/beginner-python-user-boolean-query/52978154#52978154", "title": "Beginner Python user Boolean Query", "body": "<p>The first and the second code you proposed give different outputs.\nAnd you should know that functions can use <code>return</code> only once.</p>\n\n<p>What helps is to print out intermediate results.</p>\n\n<p>1</p>\n\n<pre><code>def reversed_list(lst1, lst2):\n  for index in range(len(lst1)):\n    print(index)\n\n    if lst1[index] != lst2[len(lst2)-1-index]:\n      print('False')\n      return False\n\n  print('True')\n  return True\n</code></pre>\n\n<p>2</p>\n\n<pre><code>def reversed_list(lst1, lst2):\n  for index in range(len(lst1)):\n    print(index)\n\n    if lst1[index] != lst2[len(lst2)-1-index]:\n      print('False')\n      return False\n    else:\n      print('True')\n      return True\n</code></pre>\n\n<p>Run my code with the added lines that prints you intermediate results. You will see that the second function will only iterate over the first element and then return either <code>True</code> or <code>False</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "is_accepted": false, "score": 0, "last_activity_date": 1540416723, "creation_date": 1540416723, "answer_id": 52978193, "question_id": 52978062, "link": "https://stackoverflow.com/questions/52978062/beginner-python-user-boolean-query/52978193#52978193", "title": "Beginner Python user Boolean Query", "body": "<p>In the first case <code>return True</code> is the end of your function. You have to iterate through the whole <code>range(len(lst1))</code> in order to reach it. So if the condition of the <code>if</code>in the loop is matched, the <code>return False</code> statement is executed and the function ends there.</p>\n\n<p>In your second case, you never iterate through the whole list. At the first iteration, you check the condition <code>lst1[index] != lst2[len(lst2)-1-index]</code> where <code>index = 0</code> and return a True or a False.</p>\n"}], "owner": {"reputation": 19, "user_id": 10554518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3377c39bfbf34fac4e6b92cc3a435074?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatAttractor", "link": "https://stackoverflow.com/users/10554518/thegreatattractor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1540416723, "creation_date": 1540416061, "question_id": 52978062, "link": "https://stackoverflow.com/questions/52978062/beginner-python-user-boolean-query", "title": "Beginner Python user Boolean Query", "body": "<p>CodeAcademy's Python course is running me through loop functions and I don't understand an outcome. The goal is to see if a list is a mirror of the other list. i.e. [1,2,3] to [3,2,1]</p>\n\n<p>After 20 minutes I looked at the solution and I don't understand why this does not return True every time?:</p>\n\n<pre><code>def reversed_list(lst1, lst2):\n  for index in range(len(lst1)):\n    if lst1[index] != lst2[len(lst2)-1-index]:\n      return False\n  return True\n</code></pre>\n\n<p>The \"return True\" is indented to the same level as \"for index\", which would override any value returned from the prior line.</p>\n\n<p>Alternatively, when I introduce an \"else\" at the \"if\" indentation, everything returns True:</p>\n\n<pre><code>def reversed_list(lst1, lst2):\n  for index in range(len(lst1)):\n    if lst1[index] != lst2[len(lst2)-1-index]:\n      return False\n    else:\n      return True\n</code></pre>\n\n<p>Can anyone help a noob?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "finance"], "comments": [{"owner": {"reputation": 309, "user_id": 10113213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_HkX7M2jWzM/AAAAAAAAAAI/AAAAAAAAAeY/sO4p6-w4xEI/photo.jpg?sz=128", "display_name": "Bhanu Tez", "link": "https://stackoverflow.com/users/10113213/bhanu-tez"}, "edited": false, "score": 0, "creation_date": 1540424104, "post_id": 52978037, "comment_id": 92865083, "body": "Hi, APIs are the best way to scrape the data, which changes every second like share market, youtube(view count, subscribers), Twitter, Facebook etc.,"}, {"owner": {"reputation": 45, "user_id": 10106697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155843478753722/picture?type=large", "display_name": "Nico Rodriguez", "link": "https://stackoverflow.com/users/10106697/nico-rodriguez"}, "reply_to_user": {"reputation": 309, "user_id": 10113213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_HkX7M2jWzM/AAAAAAAAAAI/AAAAAAAAAeY/sO4p6-w4xEI/photo.jpg?sz=128", "display_name": "Bhanu Tez", "link": "https://stackoverflow.com/users/10113213/bhanu-tez"}, "edited": false, "score": 0, "creation_date": 1540469497, "post_id": 52978037, "comment_id": 92882968, "body": "Thanks Bhanu Tez, I will look for one that can help me with markets info."}], "answers": [{"tags": [], "owner": {"reputation": 997, "user_id": 4688457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zQfT.jpg?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/4688457/milo"}, "is_accepted": true, "score": 0, "last_activity_date": 1540417959, "creation_date": 1540417959, "answer_id": 52978413, "question_id": 52978037, "link": "https://stackoverflow.com/questions/52978037/python-etfs-daily-data-web-scraping/52978413#52978413", "title": "Python - ETFs Daily Data Web Scraping", "body": "<p>Yes, I agree that Beautiful Soup is a good approach. Here is some Python code which uses the Beautiful Soup library to extract the intraday price from the IVV fund page:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nr = requests.get(\"https://www.marketwatch.com/investing/fund/ivv\")\nhtml = r.text\n\nsoup = BeautifulSoup(html, \"html.parser\")\n\nif soup.h1.string == \"Pardon Our Interruption...\":\n    print(\"They detected we are a bot. We hit a captcha.\")\nelse:\n    price = soup.find(\"h3\", class_=\"intraday__price\").find(\"bg-quote\").string\n    print(price)\n</code></pre>\n\n<p>The fact that the price changes frequently is not a problem. The names and classes of the HTML tags will remain constant. And this is all you need for Beautiful Soup to work.</p>\n\n<p>Your main challenge is that the website is able to detect you are not using an Internet browser, and will display a captcha to your Python script. So you will need to find a method around this. Also, I recommend checking the legality of scraping and whether it violates their terms of service.</p>\n\n<p>You can learn more about Beautiful Soup here:</p>\n\n<p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a></p>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 2971574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08921f6e64d65a3eab2f9f45c5082ad4?s=128&d=identicon&r=PG&f=1", "display_name": "the_economist", "link": "https://stackoverflow.com/users/2971574/the-economist"}, "is_accepted": false, "score": 1, "last_activity_date": 1584879928, "creation_date": 1584879928, "answer_id": 60799270, "question_id": 52978037, "link": "https://stackoverflow.com/questions/52978037/python-etfs-daily-data-web-scraping/60799270#60799270", "title": "Python - ETFs Daily Data Web Scraping", "body": "<p>If you use the package <a href=\"https://investpy.readthedocs.io/\" rel=\"nofollow noreferrer\">investpy</a> you don't have to use web scraping to get the required data. investpy allows you to get daily ETF data. It also helps you to find an ETF by its ISIN (International Securities Identification Number):</p>\n\n<pre><code>investpy.search_etfs(by=\"isin\", value=\"my_isin\")\n</code></pre>\n\n<p>And that's the way you get the data:</p>\n\n<pre><code>investpy.get_etf_recent_data(etf=etf_name, country=\"my_country\")\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10106697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155843478753722/picture?type=large", "display_name": "Nico Rodriguez", "link": "https://stackoverflow.com/users/10106697/nico-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2027, "favorite_count": 0, "accepted_answer_id": 52978413, "answer_count": 2, "score": -2, "last_activity_date": 1613315657, "creation_date": 1540415858, "last_edit_date": 1613315657, "question_id": 52978037, "link": "https://stackoverflow.com/questions/52978037/python-etfs-daily-data-web-scraping", "title": "Python - ETFs Daily Data Web Scraping", "body": "<p>I'm trying to web scrape some daily info of differents ETFs. I found that <a href=\"https://www.marketwatch.com/\" rel=\"nofollow noreferrer\">https://www.marketwatch.com/</a> have a accurate info. The most relevant info is the open Price, outstanding shares, NAV, total assets of the ETF. Here is the link for IVV US Equity: <a href=\"https://www.marketwatch.com/investing/fund/ivv\" rel=\"nofollow noreferrer\">https://www.marketwatch.com/investing/fund/ivv</a></p>\n<p>I'm just starting to get Python experience, would like to recieve some tips and guidelines on how to start a web scraping program. I have been told BeutifulSoup is the package to use for web scraping.</p>\n<p>I have web scraped with VBA before but the HTML of the pages I had used are different, I don't know if this is because some values of the ETFs (such as Price and Taded Volume) change constantly.</p>\n<p>I am open to any suggestion or any other website that could be useful (I have tried with Yahoo Finance and Morningstar and I get the same problema with the HTML code).</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1540416070, "post_id": 52978035, "comment_id": 92862671, "body": "<code>df.y = df.y.astype(int)</code> and then it works. It&#39;s of <code>object</code> type currently. I&#39;m not quite sure why."}], "answers": [{"comments": [{"owner": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "edited": false, "score": 0, "creation_date": 1540416371, "post_id": 52978079, "comment_id": 92862775, "body": "It is a good workaround, thanks. Do you know <i>why</i> it is that way, perchance?  Documented anywhere?"}, {"owner": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "reply_to_user": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "edited": false, "score": 0, "creation_date": 1540416573, "post_id": 52978079, "comment_id": 92862848, "body": "You never articulated the type of your numpy array so it defaults to object, given your constructor for example it would be perfectly legitimate to have your &quot;y&quot; column to have the following data: <code>[1, 2, 3, &quot;some_str&quot;]</code>"}], "tags": [], "owner": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "is_accepted": false, "score": 1, "last_activity_date": 1540416159, "creation_date": 1540416159, "answer_id": 52978079, "question_id": 52978035, "link": "https://stackoverflow.com/questions/52978035/why-does-pandas-series-isin-work-for-strings-but-not-numbers/52978079#52978079", "title": "Why does Pandas Series.isin work for strings but not numbers?", "body": "<p>If you look at <code>df.y</code> it is of type <code>object</code>, if you convert it to an int you will get the behavior you expect</p>\n\n<pre><code>In [8]: df.y\nOut[8]: \n0     1\n1     2\n2     3\n3    99\nName: y, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1540416414, "creation_date": 1540416414, "answer_id": 52978127, "question_id": 52978035, "link": "https://stackoverflow.com/questions/52978035/why-does-pandas-series-isin-work-for-strings-but-not-numbers/52978127#52978127", "title": "Why does Pandas Series.isin work for strings but not numbers?", "body": "<p>Let's look at the source of the problem. It's actually the call to <code>np.array</code>.</p>\n\n<pre><code>np.array([['a', 1, 'foo'],\n          ['b', 2, 'bar'],\n          ['c', 3, 'biz'],\n          ['d', 99, 'baz']])\n</code></pre>\n\n<p>This actually coerces the integers to strings:</p>\n\n<pre><code>array([['a', '1', 'foo'],\n       ['b', '2', 'bar'],\n       ['c', '3', 'biz'],\n       ['d', '99', 'baz']], dtype='&lt;U3')\n</code></pre>\n\n<p>Notice the second column is all strings, because of type coercion. OTOH, if you initialise the array with an explicit <code>dtype=object</code>, the individual types are preserved:</p>\n\n<pre><code>data = np.array([['a', 1, 'foo'],\n                 ['b', 2, 'bar'],\n                 ['c', 3, 'biz'],\n                 ['d', 99, 'baz']], dtype=object)\n\ndf = pd.DataFrame(columns=['x', 'y', 'z'], data=data)\ndf.y.isin([1,3])\n\n0     True\n1    False\n2     True\n3    False\nName: y, dtype: bool\n</code></pre>\n\n<p>Or, better still, pass a heterogenous list of lists (without conversion to array).</p>\n\n<pre><code>df = pd.DataFrame(data=[['a', 1, 'foo'],\n                        ['b', 2, 'bar'],\n                        ['c', 3, 'biz'],\n                        ['d', 99, 'baz']], \n                  columns=list('xyz'))\ndf.y.isin([1,3])\n\n0     True\n1    False\n2     True\n3    False\nName: y, dtype: bool\n</code></pre>\n"}], "owner": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 52978127, "answer_count": 2, "score": 1, "last_activity_date": 1540416414, "creation_date": 1540415850, "question_id": 52978035, "link": "https://stackoverflow.com/questions/52978035/why-does-pandas-series-isin-work-for-strings-but-not-numbers", "title": "Why does Pandas Series.isin work for strings but not numbers?", "body": "<p>Simple example:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame(\n         columns=['x', 'y', 'z'],\n         data=np.array([\n             ['a', 1, 'foo'],\n             ['b', 2, 'bar'],\n             ['c', 3, 'biz'],\n             ['d', 99, 'baz'] ]))\n&gt;&gt;&gt; df\n   x   y    z\n0  a   1  foo\n1  b   2  bar\n2  c   3  biz\n3  d  99  baz\n\n&gt;&gt;&gt; df[df.z.isin(['foo', 'biz'])]\n   x  y    z\n0  a  1  foo\n2  c  3  biz\n</code></pre>\n\n<p>That works as expected!</p>\n\n<p>However, now I try to use <code>y</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df[df.y.isin([1,3])]\nEmpty DataFrame\nColumns: [x, y, z]\nIndex: []\n</code></pre>\n\n<p>What just happened?</p>\n\n<p>I would have expected the same two rows to be output as in the above <code>.z.isin(...)</code> example.</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "matplotlib", "spyder"], "comments": [{"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 0, "creation_date": 1540415622, "post_id": 52977936, "comment_id": 92862507, "body": "<code>plt.plot(x1,y1, &#39;b-&#39;)</code> will plot blue line, <code>g-</code> will plot green line, etc."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10553396"}, "edited": false, "score": 0, "creation_date": 1540416181, "post_id": 52978015, "comment_id": 92862717, "body": "But this gives another error <code>AttributeError: module &#39;matplotlib&#39; has no attribute &#39;plot&#39;</code>. Did you try to run it?"}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1540416305, "post_id": 52978015, "comment_id": 92862759, "body": "@Brown I&#39;ve updated the answer with the code I ran and the result I get"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10553396"}, "edited": false, "score": 0, "creation_date": 1540416565, "post_id": 52978015, "comment_id": 92862844, "body": "Thanks and I have marked it as an accepted answer. You can also do me a favor by upvoting the question :-)"}, {"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1540416652, "post_id": 52978015, "comment_id": 92862875, "body": "Glad to have helped :-) and well done for a good first question!"}], "tags": [], "owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "is_accepted": true, "score": 1, "last_activity_date": 1540416282, "last_edit_date": 1540416282, "creation_date": 1540415718, "answer_id": 52978015, "question_id": 52977936, "link": "https://stackoverflow.com/questions/52977936/how-to-change-the-default-plotting-color-in-matplotlib-spyder/52978015#52978015", "title": "How to change the default plotting color in matplotlib - spyder?", "body": "<p>There were quite a few changes when matplotlib upgraded to version 2. Using <code>plt.style.use('classic')</code> changes back to the defaults before this upgrade. Some examples are a change in background colour and the addition of default x and y axis margins which can be seen in the two plots in the question.</p>\n\n<p>The colour cycle was also changed in matplotlib versions 2 and above. Reading the <a href=\"https://matplotlib.org/users/dflt_style_changes.html#colors-in-default-property-cycle\" rel=\"nofollow noreferrer\">documentation</a> shows you how to change the colour cycle back without affecting other parameters such as the background colour:</p>\n\n<pre><code>import matplotlib as mpl\nfrom cycler import cycler\nmpl.rcParams['axes.prop_cycle'] = cycler(color='bgrcmyk')\n</code></pre>\n\n<p>Your code would look like:</p>\n\n<pre><code>import matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom cycler import cycler\n\nmpl.rcParams['axes.prop_cycle'] = cycler(color='bgrcmyk')\n\nx1 = np.arange(0,4*np.pi,0.1)   # start,stop,step\ny1 = np.sin(x1)\nz1 = np.cos(x1)\nplt.plot(x1,y1, z1)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HgxfW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgxfW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1540416011, "creation_date": 1540416011, "answer_id": 52978055, "question_id": 52977936, "link": "https://stackoverflow.com/questions/52977936/how-to-change-the-default-plotting-color-in-matplotlib-spyder/52978055#52978055", "title": "How to change the default plotting color in matplotlib - spyder?", "body": "<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nx1 = np.arange(0,4*np.pi,0.1)   # start,stop,step\ny1 = np.sin(x1)\nz1 = np.cos(x1)\nplt.plot(x1,y1,'blue')\nplt.plot(x1,z1,'red')\nplt.show()\n</code></pre>\n\n<p>Note, you don't have to do everything in a single plot - you can <code>plot</code> multiple times and they'll all be shown at a same time with <code>show</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10553396"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1814, "favorite_count": 0, "closed_date": 1540420300, "accepted_answer_id": 52978015, "answer_count": 2, "score": 2, "last_activity_date": 1540416282, "creation_date": 1540415333, "last_edit_date": 1540415970, "question_id": 52977936, "link": "https://stackoverflow.com/questions/52977936/how-to-change-the-default-plotting-color-in-matplotlib-spyder", "closed_reason": "Duplicate", "title": "How to change the default plotting color in matplotlib - spyder?", "body": "<p>I am using <code>matplotlib</code> in <code>Spyder</code> for a simple plotting of sine and cosine. When i run this code  </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nx1 = np.arange(0,4*np.pi,0.1)   # start,stop,step\ny1 = np.sin(x1)\nz1 = np.cos(x1)\nplt.plot(x1,y1, z1)\nplt.show()\n</code></pre>\n\n<p>I get this plot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UpRXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpRXv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I didn't like the default plotting colors I am getting as you see in my plot above. However, I wanted to change them with good looking colors. I tried it with <code>plt.style.use('classic')</code> as the following</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nplt.style.use('classic')\n\nx1 = np.arange(0,4*np.pi,0.1)   # start,stop,step\ny1 = np.sin(x1)\nz1 = np.cos(x1)\nplt.plot(x1,y1, z1)\nplt.show()\n</code></pre>\n\n<p>But this again seems to add grayed background outside of the wall as you can see it and besides it seems to shrink the space of the plot lines to touch the X axis and this seems to be a bit odd. </p>\n\n<p><a href=\"https://i.stack.imgur.com/tcTgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tcTgq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any elegant way of doing this in <code>matplotlib</code> without the grayed background outside the plot and without shrinking the space?</p>\n"}, {"tags": ["python", "python-3.x", "anaconda", "jupyter-notebook"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1540444466, "post_id": 52977912, "comment_id": 92869551, "body": "Just a wild speculation: conda-forge is currently migrating packages to a new compiler infrastructure, but xbpch is not yet migrated. Maybe installing xbpch forced conda do pull in now incompatible packages. I would try reinstalling jupyter and jupyter-notebook and see if that helps."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 11530550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6d72c4884450fc905d22ae856fcb63f?s=128&d=identicon&r=PG&f=1", "display_name": "gtsonkov", "link": "https://stackoverflow.com/users/11530550/gtsonkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568750926, "creation_date": 1568750926, "answer_id": 57981392, "question_id": 52977912, "link": "https://stackoverflow.com/questions/52977912/jupyter-kernel-error-after-installing-xbpch/57981392#57981392", "title": "Jupyter kernel error after installing xbpch", "body": "<p>Go to you Jupyter directory (ex.<code>C:\\Users\\Admin\\AppData\\Roaming\\jupyter\\kernels\\python3</code>)\nThen make a copy of <code>kernel.json</code> (e.x <code>kernel_old.json</code>) then open with notepad or you JS IDE.\nShoud be like this : \n<code>{\n\"argv\": [\n\"C:\\Users\\Admin\\AppData\\Local\\Programs\\python\\python37\\python.exe\",\n\"-m\",\n\"ipykernel_launcher\",\n\"-f\",\n\"{connection_file}\"\n],\n\"display_name\": \"Python 3\",\n\"language\": \"python\"\n}</code>\nChange the path with you Anaconda3 python in you case: <code>C:\\Users\\Anaconda3\\python.exe</code>\nThen start jupyter again. </p>\n"}], "owner": {"reputation": 11, "user_id": 10554444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Twmrs0FA3LU/AAAAAAAAAAI/AAAAAAAAABA/W3-yb8rf9nM/photo.jpg?sz=128", "display_name": "Cristina", "link": "https://stackoverflow.com/users/10554444/cristina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568750926, "creation_date": 1540415186, "last_edit_date": 1540444071, "question_id": 52977912, "link": "https://stackoverflow.com/questions/52977912/jupyter-kernel-error-after-installing-xbpch", "title": "Jupyter kernel error after installing xbpch", "body": "<p>I'm a new user of python and jupyter notebook. Recently I installed xbpch(<a href=\"https://xbpch.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">https://xbpch.readthedocs.io/en/latest/index.html</a>) package in anaconda prompt using: conda install -c conda-forge xbpch\nAnd after that every time I open jupyter notebook, there is a kernel error with this traceback message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\web.py\", line 1592, in _execute\n    result = yield result\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1133, in run\n    value = future.result()\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1141, in run\n    yielded = self.gen.throw(*exc_info)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\notebook\\services\\sessions\\handlers.py\", line 73, in post\n    type=mtype))\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1133, in run\n    value = future.result()\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1141, in run\n    yielded = self.gen.throw(*exc_info)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\notebook\\services\\sessions\\sessionmanager.py\", line 79, in create_session\n    kernel_id = yield self.start_kernel_for_session(session_id, path, name, type, kernel_name)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1133, in run\n    value = future.result()\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1141, in run\n    yielded = self.gen.throw(*exc_info)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\notebook\\services\\sessions\\sessionmanager.py\", line 92, in start_kernel_for_session\n    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 1133, in run\n    value = future.result()\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\tornado\\gen.py\", line 326, in wrapper\n    yielded = next(result)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\notebook\\services\\kernels\\kernelmanager.py\", line 160, in start_kernel\n    super(MappingKernelManager, self).start_kernel(**kwargs)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\jupyter_client\\multikernelmanager.py\", line 110, in start_kernel\n    km.start_kernel(**kwargs)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\jupyter_client\\manager.py\", line 259, in start_kernel\n    **kw)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\jupyter_client\\manager.py\", line 204, in _launch_kernel\n    return launch_kernel(kernel_cmd, **kw)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\site-packages\\jupyter_client\\launcher.py\", line 128, in launch_kernel\n    proc = Popen(cmd, **kwargs)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\subprocess.py\", line 709, in __init__\n    restore_signals, start_new_session)\n  File \"C:\\Users\\Anaconda3\\envs\\snowflakes\\lib\\subprocess.py\", line 997, in _execute_child\n    startupinfo)\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n</code></pre>\n\n<p>Does anyone know how to fix this?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "list", "dataframe"], "owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1540415350, "answer_count": 0, "score": 1, "last_activity_date": 1540415170, "creation_date": 1540415170, "question_id": 52977907, "link": "https://stackoverflow.com/questions/52977907/applying-dataframe-row-values-to-a-column-in-python", "closed_reason": "Duplicate", "title": "Applying dataframe row values to a column in Python", "body": "<p>I've cut up an ugly csv file to a reasonable form. I'm left with a row of values in the dataframe that I need to apply to other columns.</p>\n\n<p>Each region (NA, SA, Eur) has different sectors (energy, food, etc) that have market values (1,2,3...etc). I want to group the market values to the sectors and repeat them through.</p>\n\n<p>Right now it looks like:</p>\n\n<pre><code>'Left over header to be discarded' |  Market   |       1       |         2     |     3         |....\nNorth America                      |   Energy  |  valueenergy1 |  valueenergy2 |   valueenergy3 |...\nNorth America                      |   Food    |  valuefood1   |   valuefood2  |   valuefood3    |...\nNorth America                      |   Shelter |      .\nSouth America                      |   Energy  |      .\nSouth America                      |   Food    |      .\nEurope                             |   Energy  |  valueenergy1  |..\nEurope                             |   Food    |  valuefood1    |..\nEurope                             |   Shelter |  valueshelter1 |..\n.\n.\n</code></pre>\n\n<p>I've stored the row as a list with .values.tolist() and removed it from the dataframe to apply it; I'm just not sure how to apply it. I want to have an output that looks like:</p>\n\n<pre><code>    North America          |     1      |   Energy  | valueenergy1 | \n    South America          |     1      |   Energy  | valueenergy1 |\n    Europe                 |     1      |   Energy  | valueenergy1 |\n        .\n        .\n    North America          |     2      |   Food    | valuefood2   | \n    South America          |     2      |   Food    | valuefood2   | \n    Europe                 |     2      |   Energy  | valueenergy2 |\n       .\n       .\n    North America          |     3      |   Food    | valuefood3   | \n    South America          |     3      |   Food    | valuefood3   | \n    Europe                 |     3      |   Shelter | valuehelter3 |\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1540415303, "post_id": 52977904, "comment_id": 92862392, "body": "Why would there be a predefined function for this? As you&#39;ve proved, the language allows you to define it yourself in just one line anyway."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 2, "creation_date": 1540415313, "post_id": 52977904, "comment_id": 92862394, "body": "<code>set(list1)&amp;set(list2)</code>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1540415454, "post_id": 52977904, "comment_id": 92862445, "body": "@mad_ and how does that test for membership of a particular, external value?"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1540415537, "post_id": 52977904, "comment_id": 92862474, "body": "@roganjosh of course that is not the final output that is why I haven&#39;t posted as an answer but better than <code>in</code> operator. I know it is a dupe"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1540415553, "post_id": 52977904, "comment_id": 92862482, "body": "@mad_ why compute the whole intersection? Why make two sets for one mebership test?"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1540415734, "post_id": 52977904, "comment_id": 92862542, "body": "@timegb If both list values are constant and not variable."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 1, "creation_date": 1540416115, "post_id": 52977904, "comment_id": 92862690, "body": "There is nothing faster than <code>value in list1 and value in list2</code> if the test is performed only once. If this is repeated, then there are possible optimizations depending on information not available in the question. Anyway, optimizations should not be done until they are needed! (google &quot;premature optimization&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1540415695, "post_id": 52977954, "comment_id": 92862527, "body": "If list1 and list2 are constant then yes it is fine but if they are variable then you have to create different set"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1540415739, "post_id": 52977954, "comment_id": 92862545, "body": "@mad_ yes, but maybe it is possible to use <code>set1</code> and <code>set2</code> throughout the code instead of the lists, if order and duplicated elements don&#39;t matter."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1540415823, "post_id": 52977954, "comment_id": 92862573, "body": "The whole point of defining a function is to consume the variable lists otherwise there is no need to define the function"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1540415960, "post_id": 52977954, "comment_id": 92862627, "body": "@mad_ again, I am trying to point out that OP can improve the efficiency by using two sets as input for his function. If he must have two lists, which may or may not be mutated, then the sets don&#39;t apply."}, {"owner": {"reputation": 49, "user_id": 10554084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c7983f2371c2a278438e729b5e525cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lopoo", "link": "https://stackoverflow.com/users/10554084/lopoo"}, "edited": false, "score": 0, "creation_date": 1540416185, "post_id": 52977954, "comment_id": 92862722, "body": "Thanks for you comment. I don&#39;t understand how exactly I would implement that into my function. As far as I understood I define both lists as sets. What do you mean with O(n)? Sorry I&#39;m pretty new to Python.."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 49, "user_id": 10554084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c7983f2371c2a278438e729b5e525cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lopoo", "link": "https://stackoverflow.com/users/10554084/lopoo"}, "edited": false, "score": 0, "creation_date": 1540416346, "post_id": 52977954, "comment_id": 92862771, "body": "@Lopoo O(n) in this conext means that the time for the <code>in</code> check grows linearly with the size of the list. O(1) means something runs in contant time, no matter the size of the data. <a href=\"https://www.youtube.com/watch?v=duvZ-2UK0fc\" rel=\"nofollow noreferrer\">This</a> is an excellent introduction for the Big-O notation. As far as your function goes, I want you to pass it two sets instead of lists - if possible."}], "tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1540415819, "last_edit_date": 1540415819, "creation_date": 1540415453, "answer_id": 52977954, "question_id": 52977904, "link": "https://stackoverflow.com/questions/52977904/python-check-if-value-exists-in-two-separate-lists/52977954#52977954", "title": "Python - check if value exists in two separate lists", "body": "<p>If you are doing this check often, keep two sets around for their O(1) membership test.</p>\n\n<pre><code>set1 = set(list1)\nset2 = set(list2)\n</code></pre>\n\n<p>Do <strong>not</strong> create these sets inside of your function every time it is called, creating a set is an O(n) operation!</p>\n\n<p>The fastest way to check whether a value <code>v</code> is in both of these set is <code>v in set1 and v in set2</code>.</p>\n\n<p>Another possibility is <code>v in set1 &amp; set2</code>, but <code>set1 &amp; set2</code> is unnecessarily computing the complete intersection of both sets here.</p>\n\n<p>If you want to read on, here's the <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow noreferrer\">Time Complexity Reference</a> for the builtin data structures.</p>\n\n<p>edit: For very small lists, it's still possible that <code>v in list1 and v in list2</code> outperforms the sets. The lists will have no chance for lots of elements, though. You'll need to do some timings yourself with your actual data structures.</p>\n"}, {"comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1540415882, "post_id": 52978028, "comment_id": 92862599, "body": "This is slower than <code>value in list1 and value in list2</code> because it has to iterate over both lists and then compute an intersection and then hash <code>value</code>."}], "tags": [], "owner": {"reputation": 310, "user_id": 7409519, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/201e5c693f4a4e5c2b646d3573e777fc?s=128&d=identicon&r=PG&f=1", "display_name": "Yousef", "link": "https://stackoverflow.com/users/7409519/yousef"}, "is_accepted": false, "score": 2, "last_activity_date": 1540415821, "creation_date": 1540415821, "answer_id": 52978028, "question_id": 52977904, "link": "https://stackoverflow.com/questions/52977904/python-check-if-value-exists-in-two-separate-lists/52978028#52978028", "title": "Python - check if value exists in two separate lists", "body": "<p>You can use </p>\n\n<pre><code>intersection = set(list1).intersection(list2) \n</code></pre>\n\n<p>to have the common values between the two sets, \nthen you can see </p>\n\n<pre><code>if value in intersection\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 180513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fbe05e600bced1a176a1ecade65070?s=128&d=identicon&r=PG", "display_name": "Jared Grubb", "link": "https://stackoverflow.com/users/180513/jared-grubb"}, "is_accepted": false, "score": 1, "last_activity_date": 1540416076, "creation_date": 1540416076, "answer_id": 52978064, "question_id": 52977904, "link": "https://stackoverflow.com/questions/52977904/python-check-if-value-exists-in-two-separate-lists/52978064#52978064", "title": "Python - check if value exists in two separate lists", "body": "<p>What you have looks great :) You can use sets, but constructing a set from a list is O(n), so unless you're gonna do more than just this one check, it's not worth it.</p>\n"}], "owner": {"reputation": 49, "user_id": 10554084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c7983f2371c2a278438e729b5e525cb?s=128&d=identicon&r=PG&f=1", "display_name": "Lopoo", "link": "https://stackoverflow.com/users/10554084/lopoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "closed_date": 1540416682, "answer_count": 3, "score": 2, "last_activity_date": 1540416076, "creation_date": 1540415150, "question_id": 52977904, "link": "https://stackoverflow.com/questions/52977904/python-check-if-value-exists-in-two-separate-lists", "closed_reason": "Duplicate", "title": "Python - check if value exists in two separate lists", "body": "<p>I created the following function</p>\n\n<pre><code>list1 = [6,2,3,8,1]\nlist2 = [9,3,5,2,1]\n\ndef value_in_both(list1,list2,value):\n    return value in list1 and value in list2\n</code></pre>\n\n<p><code>value_in_both(list1,list2,value)</code></p>\n\n<p>The code seems to work and basically shows if the value entered in the function exists in both lists by giving back True or False. However, I'm asking myself, if there is not a more efficient or different way to solve that problem. Does there exist a specific predefined function for that? Tried some other approaches which didn't work and couldn't find a function so far.</p>\n\n<p>Cheers</p>\n"}, {"tags": ["python", "python-2.7", "pip", "elastalert", "gccfilter"], "comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1540417315, "post_id": 52977895, "comment_id": 92863127, "body": "Please show the output of the failing <code>pip install</code> with <code>-v</code>. It should show the progress of looking for the distribution."}, {"owner": {"reputation": 177, "user_id": 5879277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc69ab0626938464fe06e9863cec0763?s=128&d=identicon&r=PG&f=1", "display_name": "Test1 Test2", "link": "https://stackoverflow.com/users/5879277/test1-test2"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1540418285, "post_id": 52977895, "comment_id": 92863415, "body": "OK. I have added a larger portion of the output"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 1, "creation_date": 1540418708, "post_id": 52977895, "comment_id": 92863537, "body": "I think you have an outdated OpenSSL.  What does this return:  <code>python -c &quot;import ssl; print(ssl.OPENSSL_VERSION)&quot;</code>"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1540418962, "post_id": 52977895, "comment_id": 92863598, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49768770/not-able-to-install-python-packages-ssl-tlsv1-alert-protocol-version\">Not able to install Python packages &#91;SSL: TLSV1_ALERT_PROTOCOL_VERSION&#93;</a>"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1540422674, "post_id": 52977895, "comment_id": 92864703, "body": "It looks like you&#39;re on MacOS, <code>python</code> is the system python (<code>&#47;usr&#47;bin&#47;python</code>), also you have brewed <code>python2</code>. Your <code>pip</code> command installs packages for brewed python, so the system python won&#39;t see it. if you use brewed python explicitly, e.g. <code>&#47;usr&#47;local&#47;bin&#47;python setup.py install</code>, <code>cffi</code> installation will be found."}, {"owner": {"reputation": 177, "user_id": 5879277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc69ab0626938464fe06e9863cec0763?s=128&d=identicon&r=PG&f=1", "display_name": "Test1 Test2", "link": "https://stackoverflow.com/users/5879277/test1-test2"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1540424769, "post_id": 52977895, "comment_id": 92865229, "body": "@hoefling thanks. I didn&#39;t have python2 in /usr/local/bin/python. However i did have a &quot;pip2&quot; in /usr/local/bin/ (1. so I think this means I installed pip2 with brew?). I ran &quot;brew install python@2&quot; then I ran &quot;brew link --overwrite python@2&quot;. In my $PATH I have /usr/local/bin before /usr/bin. So I think you are correct that I was using a &quot;brew pip2&quot; and a &quot;system python2&quot;"}], "owner": {"reputation": 177, "user_id": 5879277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc69ab0626938464fe06e9863cec0763?s=128&d=identicon&r=PG&f=1", "display_name": "Test1 Test2", "link": "https://stackoverflow.com/users/5879277/test1-test2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540418228, "creation_date": 1540415088, "last_edit_date": 1540418228, "question_id": 52977895, "link": "https://stackoverflow.com/questions/52977895/python-setup-py-cannot-find-required-package", "title": "python setup.py cannot find required package", "body": "<p>I am following the setup for elastAlert here: <a href=\"https://elastalert.readthedocs.io/en/latest/running_elastalert.html\" rel=\"nofollow noreferrer\">https://elastalert.readthedocs.io/en/latest/running_elastalert.html</a></p>\n\n<p>when I run the command <code>python setup.py install --user</code> I get the error <code>error: Could not find suitable distribution for Requirement.parse('cffi&gt;=1.11.5')</code></p>\n\n<p>So I attempted to solve this by running <code>pip install cffi --user</code>\nWhen i run this command I get the output</p>\n\n<pre><code>Requirement already satisfied: cffi in /usr/local/lib/python2.7/site-packages (1.11.5)\nRequirement already satisfied: pycparser in /usr/local/lib/python2.7/site-packages (from cffi) (2.19)\n</code></pre>\n\n<p>but then when I rerun <code>python setup.py install --user</code> I still get the same error:</p>\n\n<pre><code>Installing elastalert-rule-from-kibana script to /Users/Colin/Library/Python/2.7/bin\nInstalling elastalert-test-rule script to /Users/Colin/Library/Python/2.7/bin\n\nInstalled /Users/Colin/Library/Python/2.7/lib/python/site-packages/elastalert-0.1.36-py2.7.egg\nProcessing dependencies for elastalert==0.1.36\nSearching for cffi&gt;=1.11.5\nReading https://pypi.python.org/simple/cffi/\nDownload error on https://pypi.python.org/simple/cffi/: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) -- Some packages may not be found!\nCouldn't find index page for 'cffi' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nDownload error on https://pypi.python.org/simple/: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) -- Some packages may not be found!\nNo local packages or download links found for cffi&gt;=1.11.5\nerror: Could not find suitable distribution for Requirement.parse('cffi&gt;=1.11.5')\n</code></pre>\n\n<p>Why can't this package be found?</p>\n\n<pre><code>python --version = Python 2.7.10\npip --version = pip 18.1 from /usr/local/lib/python2.7/site-packages/pip (python 2.7)\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "concatenation"], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 5, "last_activity_date": 1540415948, "creation_date": 1540415948, "answer_id": 52978046, "question_id": 52977871, "link": "https://stackoverflow.com/questions/52977871/concatenate-3-d-arrays-python/52978046#52978046", "title": "Concatenate 3-d arrays python", "body": "<p>Use <code>concatenate</code> along the last axis to mimic the behavior you're seeing with <code>2D</code> arrays:</p>\n\n<pre><code>np.concatenate([bb, ss], -1)\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; np.concatenate([bb, ss], -1).shape\n(1080, 1920, 2)\n</code></pre>\n"}], "owner": {"reputation": 1007, "user_id": 2130515, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/32250cc8d503ccf3208d894863bf199c?s=128&d=identicon&r=PG&f=1", "display_name": "BetterEnglish", "link": "https://stackoverflow.com/users/2130515/betterenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6589, "favorite_count": 0, "accepted_answer_id": 52978046, "answer_count": 1, "score": 2, "last_activity_date": 1540416284, "creation_date": 1540414962, "last_edit_date": 1540416284, "question_id": 52977871, "link": "https://stackoverflow.com/questions/52977871/concatenate-3-d-arrays-python", "title": "Concatenate 3-d arrays python", "body": "<p>I want to concatenate empty 3d numpy array</p>\n\n<pre><code>   #2d array works \n   xs = np.array([[1,2,3,4,5],[10,20,30,40,50]])\n   ys = np.array([]).reshape(0,5)\n   zs = np.vstack([ys, xs])\n\n   #3D does not work\n   bb = np.array([]).reshape(1080, 1920, 0) # empty \n\n   ss = np.random.rand(1080, 1920,2) #\n\n   dd = np.vstack([bb, ss]) # generate an error\n</code></pre>\n\n<p>It is possible to do that ?</p>\n"}, {"tags": ["python", "performance", "dictionary", "random", "big-o"], "comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1540414766, "post_id": 52977806, "comment_id": 92862180, "body": "Does this help: <a href=\"https://stackoverflow.com/questions/613183/how-do-i-sort-a-dictionary-by-value\" title=\"how do i sort a dictionary by value\">stackoverflow.com/questions/613183/&hellip;</a>?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1540414922, "post_id": 52977806, "comment_id": 92862245, "body": "This is a dupe. Essentially you want to use <code>random.choices( your_keys, ..) </code> and provide weights to it: see <a href=\"https://docs.python.org/3/library/random.html#random.choices\" rel=\"nofollow noreferrer\">random.choices(population, weights=None, *, cum_weights=None, k=1)</a> - the population are your keys and the weights are taken from your values...."}], "answers": [{"tags": [], "owner": {"reputation": 11191, "user_id": 5224926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f280a3c82415bdba68680536e277e19b?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/5224926/randy"}, "is_accepted": true, "score": 1, "last_activity_date": 1540415027, "creation_date": 1540415027, "answer_id": 52977885, "question_id": 52977806, "link": "https://stackoverflow.com/questions/52977806/how-do-i-get-random-objects-from-a-dictionary-weighted-by-value/52977885#52977885", "title": "How do I get random objects from a dictionary, weighted by value", "body": "<p><code>numpy</code> provides an optional probability parameter that should work for your problem:</p>\n\n<pre><code>In [14]: s = sum(myDict.values())\n\nIn [15]: d2 = {k: v/float(s) for k, v in myDict.items()}\n\nIn [16]: res = np.random.choice(list(d2.keys()), 10000, p=list(d2.values()))\n\nIn [17]: from collections import Counter\n\nIn [18]: Counter(res)\nOut[18]: Counter({'foo': 4723, 'moo': 1426, 'boo': 2411, 'roo': 945, 'goo': 495})\n</code></pre>\n"}], "owner": {"reputation": 827, "user_id": 6431780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjYaG.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/6431780/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "closed_date": 1540418828, "accepted_answer_id": 52977885, "answer_count": 1, "score": 0, "last_activity_date": 1540415027, "creation_date": 1540414636, "question_id": 52977806, "link": "https://stackoverflow.com/questions/52977806/how-do-i-get-random-objects-from-a-dictionary-weighted-by-value", "closed_reason": "Duplicate", "title": "How do I get random objects from a dictionary, weighted by value", "body": "<p>I have a large dictionary. The keys are objects and the values are how often the given object appears in my data.</p>\n\n<p>I would like to randomly choose an object from the dictionary but have the choice be weighted towards objects with higher corresponding values.</p>\n\n<p>So far, I have been able to achieve this by adding x number of objects to a list where x is the corresponding value in the dictionary. Then I call <code>random.choice()</code> on this list. Like so:</p>\n\n<pre><code>import random\n\nmyDict = { 'foo' : 10,\n           'boo' : 5,\n           'moo' : 3,\n           'roo' : 2,\n           'goo' : 1,\n           'oo' : 0}\n\nselection = []\nfor obj in myDict.keys():\n    for n in range(myDict[obj]):\n        selection.append(obj)\n</code></pre>\n\n<p>To make sure that this is working I've run <code>random.choice()</code> on the list 10000 times and saved the results. Here are 4 of the results I've gotten.</p>\n\n<pre><code>{'foo': 4841, 'boo': 2397, 'moo': 1391, 'roo': 907, 'goo': 464, 'oo': 0}\n{'foo': 4771, 'boo': 2410, 'moo': 1435, 'roo': 917, 'goo': 467, 'oo': 0}\n{'foo': 4815, 'boo': 2340, 'moo': 1431, 'roo': 953, 'goo': 461, 'oo': 0}\n{'foo': 4718, 'boo': 2443, 'moo': 1404, 'roo': 947, 'goo': 488, 'oo': 0}\n</code></pre>\n\n<p>As you can see, the distribution fits the frequency described in the dictionary.</p>\n\n<p>My problem is that in my production code I have thousands of dictionaries each containing thousands of objects. The dictionaries are of variable length. My current method is very inefficient and slow. Is there a better way? I don't mind using a different structure to store the data as it comes in.</p>\n"}, {"tags": ["python", "windows", "tkinter"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10474264"}, "edited": false, "score": 0, "creation_date": 1540415497, "post_id": 52977753, "comment_id": 92862461, "body": "You can add a variable and set it to True when creating your window and when destroying set variable to False. Or use singleton."}, {"owner": {"reputation": 147, "user_id": 10436172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c284792e0bbc112dad75ca3be7db1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Bahlsen", "link": "https://stackoverflow.com/users/10436172/bahlsen"}, "edited": false, "score": 0, "creation_date": 1540416282, "post_id": 52977753, "comment_id": 92862754, "body": "You\u2018re right, maybe that\u2018s the easiest way to solve my problem. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 10436172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c284792e0bbc112dad75ca3be7db1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Bahlsen", "link": "https://stackoverflow.com/users/10436172/bahlsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1540626822, "creation_date": 1540626822, "answer_id": 53019845, "question_id": 52977753, "link": "https://stackoverflow.com/questions/52977753/avoid-multiple-windows-of-the-same-kind/53019845#53019845", "title": "Avoid multiple windows of the same kind", "body": "<p>Meanwhile I found a solution for my problem. Like MediaEU said, I use a variable which I set to true or false. However, one important \"trick\" is to use the method state().\nIf a main window is open, state() returns 'normal'. If a main window is closed state() throws an exception. Took me - as a starter - quite some time to figure it out.\nHere is my suggestion:</p>\n\n<pre><code>class info_window:\n    def __init__(self, rect): # has an argument rect, for a specific bar in your plot\n        self.rect = rect\n        self.win_open = False\n        self.state = 'normal'\n        self.temp = self.rect.figure.canvas.mpl_connect('button_press_event', self)\n\n    def label(self):\n        self.label1 = ttk.Label(self.win, text =\"Test1\").grid(column=0,row=0)\n        self.label2 = ttk.Label(self.win, text =\"Test2\").grid(column=0,row=1)\n        self.label3 = ttk.Label(self.win, text =\"Test3\").grid(column=0,row=2)\n\n    def __call__(self, event):\n        cont, att = self.rect.contains(event) \n        try:                    # here is the \"trick\", in case window was closed self.win.state() throws an exception\n            self.win.state()\n        except:                 # setting win_open to False ensures that a window can be opened again\n            self.win_open = False\n        if cont == True:    \n            if self.win_open == False: # if window does not exist, create it\n                self.win = tk.Tk()\n                self.label()\n                self.win_open = True # as long as window is open, you can't create it again\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 10436172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c284792e0bbc112dad75ca3be7db1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Bahlsen", "link": "https://stackoverflow.com/users/10436172/bahlsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 53019845, "answer_count": 1, "score": 0, "last_activity_date": 1540626822, "creation_date": 1540414341, "question_id": 52977753, "link": "https://stackoverflow.com/questions/52977753/avoid-multiple-windows-of-the-same-kind", "title": "Avoid multiple windows of the same kind", "body": "<p>My goal is to have an interactive bar chart. I want to open a window containing a text. This shall happen when the user clicks on one of the bars. I started playing around a bit. In the following example, if you click on the left bar a window containing a text pops up. The problem I have, I only want to have the window opening once. So if you click a second time on the left bar, I don't want to open a second window. Therefore my question, how can I check if the window already exists and avoid multiple windows of the same kind. I already found a post regarding this topic, but I do not understand the solution, which was only explained  poorly. </p>\n\n<p>Thank you very much for your help.</p>\n\n<pre><code>def on_press(event):\n    cont,att = rect[0].contains(event)\n    if cont == True:\n        win = tk.Tk()\n        label1 = ttk.Label(win, text =\"Test1\").grid(column=0,row=0)\n        label2 = ttk.Label(win, text =\"Test2\").grid(column=0,row=1)\n        label3 = ttk.Label(win, text =\"Test3\").grid(column=0,row=2)\n\n\nfig = plt.figure()\nax = fig.add_subplot(111)\nx = [1,2,3]\ny = [10,20,5]\nrect = ax.bar(x,y)\n\n\n\ntest = rect[0].figure.canvas.mpl_connect('button_press_event', on_press)\n\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 13073034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04613a63bce9987023dd4cbb9b7dc30f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhouibi iheb ", "link": "https://stackoverflow.com/users/13073034/dhouibi-iheb"}, "edited": false, "score": 0, "creation_date": 1600170658, "post_id": 52977999, "comment_id": 112997716, "body": "I&#39;m having the same error here it says logits_size = [288,10] and labels_size = [32,1]   batch_size is equal to 32 so according to your explanation logits_size should be [32,10] I don&#39;t know where 288 came from  can you please explain it a little bit more"}, {"owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "reply_to_user": {"reputation": 553, "user_id": 13073034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04613a63bce9987023dd4cbb9b7dc30f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhouibi iheb ", "link": "https://stackoverflow.com/users/13073034/dhouibi-iheb"}, "edited": false, "score": 0, "creation_date": 1600198223, "post_id": 52977999, "comment_id": 113010953, "body": "32 is assuming a batch size of 32. Your 288 number doesn&#39;t fit in there. It looks like something is misshaped on the last layer and loss of your network. I suggest you post a separate question describing the error you get and show the code, at least the last layer and output, and what the shape of the input you are feeding the network."}, {"owner": {"reputation": 553, "user_id": 13073034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04613a63bce9987023dd4cbb9b7dc30f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhouibi iheb ", "link": "https://stackoverflow.com/users/13073034/dhouibi-iheb"}, "edited": false, "score": 0, "creation_date": 1602086851, "post_id": 52977999, "comment_id": 113610998, "body": "I managed to fix that error yet am getting a very high loss value so I think you&#39;re right, somewhere there is an issue, probably in the last layer  my input share is (128,128,3)"}], "tags": [], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "is_accepted": true, "score": 7, "last_activity_date": 1540415971, "last_edit_date": 1540415971, "creation_date": 1540415656, "answer_id": 52977999, "question_id": 52977700, "link": "https://stackoverflow.com/questions/52977700/logits-and-labels-must-be-broadcastable-logits-size-32-1-labels-size-16-1/52977999#52977999", "title": "logits and labels must be broadcastable: logits_size=[32,1] labels_size=[16,1]", "body": "<p><code>logits</code> is the name typically given to the output of the network, these are your predictions. A size of <code>[32, 10]</code> tells me that you have a batch size of 32, and 10 outputs, such as is common with mnist, as you appear to be working with.</p>\n\n<p>Your labels are sized <code>[16, 10]</code>, which is to say, you're providing 16 labels/vectors of size 10. The number of labels you're providing is in conflict with the output of the network, they should be the same.</p>\n\n<p>I'm not quite clear what you're doing with the extra dimension in the input, but I guess you must be accidentally doubling the samples in some way. Perhaps the <code>[500, 2, 784]</code> shape is being reshaped to <code>[1000, 784]</code> automatically somewhere along the way, which is then not matching the 500 labels. Also, your <code>self.y</code> should be shaped <code>[500, 10]</code> not, <code>[500, 1]</code>, your labels need to be in one-hot encoding format. E.g. a single label of shape <code>[1, 10]</code> for digit 3 would be <code>[[0,0,0,1,0,0,0,0,0,0,0]]</code>, not in digit representation, e.g. <code>[3]</code> as you seem to have it set up in your sanity-test here.</p>\n"}], "owner": {"reputation": 721, "user_id": 1141351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b1b81ad12312bac0a76ca886a6a232b?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/1141351/jab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5393, "favorite_count": 1, "accepted_answer_id": 52977999, "answer_count": 1, "score": 3, "last_activity_date": 1540420915, "creation_date": 1540414092, "last_edit_date": 1540420915, "question_id": 52977700, "link": "https://stackoverflow.com/questions/52977700/logits-and-labels-must-be-broadcastable-logits-size-32-1-labels-size-16-1", "title": "logits and labels must be broadcastable: logits_size=[32,1] labels_size=[16,1]", "body": "<p>I'm trying to learn tensorflow and I'm getting the following error: \nlogits and labels must be broadcastable: logits_size=[32,1] labels_size=[16,1]</p>\n\n<p>The code runs fine when I got this as input:     </p>\n\n<pre><code>self.input = np.ones((500, 784))\nself.y = np.ones((500, 1))\n</code></pre>\n\n<p>However, when I add and extra dimension the error is thrown:</p>\n\n<pre><code>self.input = np.ones((500, 2, 784))\n    self.y = np.ones((500, 1))\n</code></pre>\n\n<p>The code to build the graph</p>\n\n<pre><code>    self.x = tf.placeholder(tf.float32, shape=[None] + self.config.state_size)\n    self.y = tf.placeholder(tf.float32, shape=[None, 1])\n\n    # network architecture\n    d1 = tf.layers.dense(self.x, 512, activation=tf.nn.relu, name=\"dense1\")\n    d2 = tf.layers.dense(d1, 1, name=\"dense2\")\n\n\n    with tf.name_scope(\"loss\"):\n        self.cross_entropy = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(labels=self.y, logits=d2))\n        self.train_step = tf.train.AdamOptimizer(self.config.learning_rate).minimize(self.cross_entropy,\n                                                                                     global_step=self.global_step_tensor)\n        correct_prediction = tf.equal(tf.argmax(d2, 1), tf.argmax(self.y, 1))\n        self.accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))\n</code></pre>\n\n<p>Could someone explain me why this is happening and how I can fix this?</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10201498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TqMonN7es9M/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oBJGBmj9x9XgUnXY_IOXyPvmFxxQ/mo/photo.jpg?sz=128", "display_name": "John Xu", "link": "https://stackoverflow.com/users/10201498/john-xu"}, "edited": false, "score": 0, "creation_date": 1540561683, "post_id": 52982532, "comment_id": 92923767, "body": "with y_true and y_pred, it seems that I can not do GradU. &#39;Cause I still need to have x?"}], "tags": [], "owner": {"reputation": 1961, "user_id": 3114765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrkYp.jpg?s=128&g=1", "display_name": "Novak", "link": "https://stackoverflow.com/users/3114765/novak"}, "is_accepted": false, "score": 0, "last_activity_date": 1540448253, "creation_date": 1540448253, "answer_id": 52982532, "question_id": 52977683, "link": "https://stackoverflow.com/questions/52977683/custom-keras-loss-function/52982532#52982532", "title": "custom keras loss function", "body": "<p>You can write your custom loss function. All you should know is it's form:</p>\n\n<pre><code>def custom_loss(y_true, y_pred):\n  # do something to compute loss\n  ...\n  return loss\n</code></pre>\n\n<p>And that should be it.</p>\n"}], "owner": {"reputation": 23, "user_id": 10201498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TqMonN7es9M/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oBJGBmj9x9XgUnXY_IOXyPvmFxxQ/mo/photo.jpg?sz=128", "display_name": "John Xu", "link": "https://stackoverflow.com/users/10201498/john-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540448253, "creation_date": 1540413990, "last_edit_date": 1540434290, "question_id": 52977683, "link": "https://stackoverflow.com/questions/52977683/custom-keras-loss-function", "title": "custom keras loss function", "body": "<p>I want to write a custom loss function in keras, which also uses the gradient of the output w.r.t the input</p>\n\n<pre><code>import numpy as np\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Dropout\n\nmodel = Sequential()\nmodel.add(Dense(200, input_dim=20, activation='relu'))\nmodel.add(Dense(64, input_dim=20, activation='relu'))\nmodel.add(Dropout(0.5))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dropout(0.5))\nmodel.add(Dense(1, activation='sigmoid'))\nmodel.compile(loss='binary_crossentropy',\n          optimizer='rmsprop',\n          metrics=['accuracy']) \n</code></pre>\n\n<p>Now, I want to replace the loss function. I only know how to write using tensorflow as follows:</p>\n\n<pre><code>x = tf.placeholder(tf.float32, shape=[None, 1], name=\"x\") \next_f0 = tf.placeholder(tf.float32, shape=[None, 1], name=\"f\") \nxx0 = tf.concat([[[R_variable['x_start'] * 1.0],[R_variable['x_end'] * 1.0]], x], 0)\nyy0 = univAprox(xx0)\nBoundary_y = yy0[0:2]\ny = yy0[2:]\nGradU = tf.gradients(y,x)  #***KEY***\nGradSum = tf.reduce_sum(tf.square(GradU)) / 2 * dx_train\nFSum = tf.reduce_sum(tf.multiply(ext_f0,y)) * dx_train\nloss = GradSum + FSum + Beta * tf.reduce_sum(tf.square(Boundary_y))\n</code></pre>\n\n<p>The key is I need to get the <code>GradU</code>. How should I do this in keras?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1540414065, "post_id": 52977630, "comment_id": 92861865, "body": "Please post code for what you&#39;ve tried so far"}, {"owner": {"reputation": 171, "user_id": 8709941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6d0f58cc9a42baa5407deff34ce79e9?s=128&d=identicon&r=PG&f=1", "display_name": "DH_III", "link": "https://stackoverflow.com/users/8709941/dh-iii"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1540475634, "post_id": 52977630, "comment_id": 92887303, "body": "<i>Update</i> It&#39;s not exactly what I was looking for but this gets me colors without a gradient based on the target value.  <code>.apply(lambda x: [&#39;background-color:red&#39; if v &lt; x.iloc[-1] else &#39;background-color:green&#39; for v in x], subset = percent_cols)</code>"}], "owner": {"reputation": 171, "user_id": 8709941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6d0f58cc9a42baa5407deff34ce79e9?s=128&d=identicon&r=PG&f=1", "display_name": "DH_III", "link": "https://stackoverflow.com/users/8709941/dh-iii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540414521, "creation_date": 1540413718, "last_edit_date": 1540414521, "question_id": 52977630, "link": "https://stackoverflow.com/questions/52977630/how-to-use-a-pandas-styler-function-to-color-an-html-table-by-column-value", "title": "How to use a pandas Styler function to color an html table by column value", "body": "<p>I have a dataframe that I'm rendering to an html table that I'd like to style using a gradient coloring based on a target value for each column.</p>\n\n<p>Ideally, the target value would not have a background applied, and the other values would have shades of red or green depending on whether they were higher or lower than the target value.</p>\n\n<pre><code>df = pd.DataFrame({'Col 1': [7, 8, 12, 4, 'Target Val 1'],\n                   'Col 2': [1, 4, 5, 8, 'Target Val 2'],\n                   'Col 3': [7, 5, 3, 24, 'Target Val 3']})\n</code></pre>\n\n<p>I've tried to use <code>Styler.background_gradient</code> but I can only get that to use the largest value in the column as the high for the gradient and the target value ends up styled along with the rest of the column.</p>\n\n<p><em>Edit</em> Current code:</p>\n\n<pre><code>cm = sns.light_palette('green', as_cmap = True)\n\n[t.style.set_table_attributes('border=\"1\" class=\"dataframe table table-hover \ntable-bordered\"').background_gradient(cm).set_properties(**{'font-size': \n'12px', 'font-family':'Calibri', 'text-align':'center'}).format(\"{:.0f}%\", \nsubset=percent_cols).render() for t in style_teams]\n</code></pre>\n"}, {"tags": ["python", "function", "import", "module", "call"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 1, "creation_date": 1540413735, "post_id": 52977598, "comment_id": 92861711, "body": "<code>from volumes import volumeofcube</code> is the correct syntax for what you are trying to do."}, {"owner": {"reputation": 1875, "user_id": 8803266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PJdh.png?s=128&g=1", "display_name": "Oliver Baumann", "link": "https://stackoverflow.com/users/8803266/oliver-baumann"}, "edited": false, "score": 0, "creation_date": 1540413809, "post_id": 52977598, "comment_id": 92861748, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2349991/how-to-import-other-python-files\">How to import other Python files?</a>"}, {"owner": {"reputation": 1142, "user_id": 10254804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCdtJ.png?s=128&g=1", "display_name": "deadvoid", "link": "https://stackoverflow.com/users/10254804/deadvoid"}, "edited": false, "score": 0, "creation_date": 1540413948, "post_id": 52977598, "comment_id": 92861802, "body": "just <code>from volumes import volumeofcube</code> without <code>()</code> will do if your .py is named <code>volume</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540417371, "post_id": 52977655, "comment_id": 92863143, "body": "The correct syntax in the second case would be just <code>from volumes import volumeofcube</code> (i.e. with no parentheses at the end)."}], "tags": [], "owner": {"reputation": 932, "user_id": 4903846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1a1ec117d44421d2a9bbc63cf95206?s=128&d=identicon&r=PG&f=1", "display_name": "Rodolfo Don&#227; Hosp", "link": "https://stackoverflow.com/users/4903846/rodolfo-don%c3%a3-hosp"}, "is_accepted": false, "score": 1, "last_activity_date": 1540413837, "creation_date": 1540413837, "answer_id": 52977655, "question_id": 52977598, "link": "https://stackoverflow.com/questions/52977598/im-trying-to-import-a-module-into-my-main-py-python-file-both-of-which-are-in-th/52977655#52977655", "title": "Im trying to import a module into my main.py python file both of which are in the same directory", "body": "<p>If you are trying to import as </p>\n\n<pre><code>import volumes\n</code></pre>\n\n<p>the call for <code>volumeofcube</code> method should be </p>\n\n<pre><code>volumes.volumeofcube()\n</code></pre>\n\n<p>if you try to import as</p>\n\n<pre><code>from volumes import volumeofcube()\n</code></pre>\n\n<p>you need to take the parenthesis off, the right syntax is:</p>\n\n<pre><code>from volumes import volumeofcube\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8938496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6nu-4RzNxCE/AAAAAAAAAAI/AAAAAAAAABU/kWMmvXY_ZcE/photo.jpg?sz=128", "display_name": "Jake Slogan", "link": "https://stackoverflow.com/users/8938496/jake-slogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540413837, "creation_date": 1540413595, "question_id": 52977598, "link": "https://stackoverflow.com/questions/52977598/im-trying-to-import-a-module-into-my-main-py-python-file-both-of-which-are-in-th", "title": "Im trying to import a module into my main.py python file both of which are in the same directory", "body": "<pre><code>def volumeofcube():\n    a = int(input('Enter the length of the side:'))\n    volume = a**3\n    #Rounded to one decimal place\n    volume = str(round(volume, 1))\n    #The volume is added to its corresponding list\n    volumeofcubelist.append(volume)\n    print('The volume of the cube with the side', a,'is', volume)\n    return volume\n</code></pre>\n\n<p>this is a funtion that i want to import into another file (main.py) to work like this:</p>\n\n<pre><code>elif shape == 'cube':\n    volumeofcube()\n</code></pre>\n\n<p>however when I try to import:</p>\n\n<pre><code>import volumes\nor\nfrom volumes import volumeofcube()\n</code></pre>\n\n<p>none of these are able to find the volumes.py module and import it</p>\n"}, {"tags": ["python", "python-3.x", "aws-sdk", "boto3"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1540414293, "post_id": 52977563, "comment_id": 92861964, "body": "What is the type of <code>OUdetails</code>? It seems to be a list and not a dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10266733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iZsCQeAaFhI/AAAAAAAAAAI/AAAAAAAAALs/hbE5d6Vw6vM/photo.jpg?sz=128", "display_name": "Jiya", "link": "https://stackoverflow.com/users/10266733/jiya"}, "edited": false, "score": 0, "creation_date": 1540482164, "post_id": 52979647, "comment_id": 92891588, "body": "I tried to print OUdetails. It seems like list of organization unit information."}, {"owner": {"reputation": 962, "user_id": 596100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1df682ecad0aabeb97749fe8c5fea798?s=128&d=identicon&r=PG", "display_name": "AlphaTested", "link": "https://stackoverflow.com/users/596100/alphatested"}, "reply_to_user": {"reputation": 133, "user_id": 10266733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iZsCQeAaFhI/AAAAAAAAAAI/AAAAAAAAALs/hbE5d6Vw6vM/photo.jpg?sz=128", "display_name": "Jiya", "link": "https://stackoverflow.com/users/10266733/jiya"}, "edited": false, "score": 0, "creation_date": 1540486744, "post_id": 52979647, "comment_id": 92894070, "body": "Yes, if it&#39;s a list then you&#39;ll have to first select the list element in question (OUID[0]) then, the dictionary in question."}], "tags": [], "owner": {"reputation": 962, "user_id": 596100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1df682ecad0aabeb97749fe8c5fea798?s=128&d=identicon&r=PG", "display_name": "AlphaTested", "link": "https://stackoverflow.com/users/596100/alphatested"}, "is_accepted": true, "score": 0, "last_activity_date": 1540426959, "creation_date": 1540426959, "answer_id": 52979647, "question_id": 52977563, "link": "https://stackoverflow.com/questions/52977563/how-to-store-aws-organization-unit-id-and-scp-policy-id-in-variable-in-python/52979647#52979647", "title": "How to store aws organization unit ID and scp policy ID in variable in python?", "body": "<p>It appears that <code>OUID</code> is being stored as a list and not a dictionary. So when you're trying to access <code>OUdetails</code> later, python things you're trying to pull an element from a list, not a dictionary. </p>\n\n<p>Try printing the variable <code>OUdetails</code> and see if it shows up as a list or dictionary.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 10266733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iZsCQeAaFhI/AAAAAAAAAAI/AAAAAAAAALs/hbE5d6Vw6vM/photo.jpg?sz=128", "display_name": "Jiya", "link": "https://stackoverflow.com/users/10266733/jiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1540492064, "creation_date": 1540492064, "answer_id": 52995865, "question_id": 52977563, "link": "https://stackoverflow.com/questions/52977563/how-to-store-aws-organization-unit-id-and-scp-policy-id-in-variable-in-python/52995865#52995865", "title": "How to store aws organization unit ID and scp policy ID in variable in python?", "body": "<p>Thanks for your help\nNow I am able to store both values in the variable: </p>\n\n<pre><code>                OUdetails = client.list_organizational_units_for_parent(\n                      ParentId='', \n                     # NextToken='string',\n                     # MaxResults=123 \n                   )\n                print(OUdetails)\n\n                 for key in OUdetails ['OrganizationalUnits']:\n                   ouid=key['Id']\n                   print(\"\\033[92m\"+\"OrganizationUnit's ID\"+\"\\033[0m\",ouid)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10266733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iZsCQeAaFhI/AAAAAAAAAAI/AAAAAAAAALs/hbE5d6Vw6vM/photo.jpg?sz=128", "display_name": "Jiya", "link": "https://stackoverflow.com/users/10266733/jiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 52979647, "answer_count": 2, "score": 1, "last_activity_date": 1540492064, "creation_date": 1540413415, "question_id": 52977563, "link": "https://stackoverflow.com/questions/52977563/how-to-store-aws-organization-unit-id-and-scp-policy-id-in-variable-in-python", "title": "How to store aws organization unit ID and scp policy ID in variable in python?", "body": "<p>I am working on AWS organization : I have created organizations units(OUs) and policies through python script separately ...Now I want attach created policies to the OUs.</p>\n\n<pre><code>   response = client.attach_policy(\n         PolicyId=policyID,\n         TargetId=OUID\n   )\n</code></pre>\n\n<p>I can get the list of policies and OUs which has <em>organizationalunits-ID</em> and <em>Policy-ID</em></p>\n\n<p>I tried as below to store value of ID to use in attach_policy but got error :</p>\n\n<pre><code>      OUID=str(OUdetails['OrganizationalUnits']['Id'])\n      policyID=str(listpolicy['Policies']['Id'])\n</code></pre>\n\n<p><strong>example of ID\n          {'Id': 'ou-uwjh-radcf5d4'}</strong></p>\n\n<p><strong>error:</strong></p>\n\n<pre><code>       OUID=str(OUdetails['OrganizationalUnits']['Id'])\n       TypeError: list indices must be integers or slices, not str\n\n       OUID=int(OUdetails['OrganizationalUnits']['Id'])\n       TypeError: list indices must be integers or slices, not str\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "scikit-learn", "keras"], "comments": [{"owner": {"reputation": 760, "user_id": 580736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f874daa7b782dc6c2bff9b59c3ed3e1?s=128&d=identicon&r=PG", "display_name": "sukhbinder", "link": "https://stackoverflow.com/users/580736/sukhbinder"}, "edited": false, "score": 0, "creation_date": 1540556478, "post_id": 52977513, "comment_id": 92920671, "body": "Can you please print out predicted_classes and true_classess, and check they are correct type?"}], "owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2142, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1540550564, "creation_date": 1540413128, "last_edit_date": 1540550564, "question_id": 52977513, "link": "https://stackoverflow.com/questions/52977513/using-classification-report-to-evaluate-a-keras-model", "title": "Using classification_report to evaluate a Keras model", "body": "<p><strong>The Problem:</strong></p>\n\n<p>During training the performance of my model looks quite allright. However, the results of the classification_report from sklearn yields a precision, recall and f1 of zero almost everywhere. What am I doing wrong to get such a missmatch between training performance and inference? (I am using Keras with a TensorFlow backend.)</p>\n\n<p><strong>My code:</strong></p>\n\n<p>I use the <code>valiation_split</code> argument to generate two generators (train, validation) like so:</p>\n\n<pre><code>train_datagen = ImageDataGenerator(\nrescale=1. / 255, validation_split=0.15)\n\ntrain_generator = train_datagen.flow_from_directory(\ntrain_data_dir,\ntarget_size=(img_height, img_width),\nbatch_size=batch_size,\nclass_mode='categorical', subset=\"training\")\n\nvalidation_generator = train_datagen.flow_from_directory(\ntrain_data_dir,\ntarget_size=(img_height, img_width),\nbatch_size=batch_size,\nclass_mode='categorical', subset=\"validation\", shuffle=False)\n</code></pre>\n\n<p>I set <code>shuffle=False</code> in my validation_generator to make sure it does not mix the relationship of images and labels for my evaluation later on.</p>\n\n<p>Next, I train my model like so:</p>\n\n<pre><code>history = model.fit_generator(\n    train_generator,\n    steps_per_epoch=nb_train_samples // batch_size,\n    epochs=epochs,\n    validation_data=validation_generator,\n    validation_steps=nb_validation_samples // batch_size,\n    verbose=1)\n</code></pre>\n\n<p>Performance is allright:</p>\n\n<pre><code>Epoch 1/5\n187/187 [==============================] - 44s 233ms/step - loss: 0.7835 - acc: 0.6744 - val_loss: 1.2918 - val_acc: 0.6079\nEpoch 2/5\n187/187 [==============================] - 42s 225ms/step - loss: 0.7578 - acc: 0.6901 - val_loss: 1.2962 - val_acc: 0.6149\nEpoch 3/5\n187/187 [==============================] - 40s 216ms/step - loss: 0.7535 - acc: 0.6907 - val_loss: 1.3426 - val_acc: 0.6061\nEpoch 4/5\n187/187 [==============================] - 41s 217ms/step - loss: 0.7388 - acc: 0.6977 - val_loss: 1.2866 - val_acc: 0.6149\nEpoch 5/5\n187/187 [==============================] - 41s 217ms/step - loss: 0.7282 - acc: 0.6960 - val_loss: 1.2988 - val_acc: 0.6297\n</code></pre>\n\n<p>Now, I extract the necessary info for the classification_report following the method suggested here <a href=\"https://github.com/keras-team/keras/issues/2607#issuecomment-302365916\" rel=\"nofollow noreferrer\">https://github.com/keras-team/keras/issues/2607#issuecomment-302365916</a> . This gives me the following:</p>\n\n<pre><code>validation_steps_per_epoch = np.math.ceil(validation_generator.samples / validation_generator.batch_size)\n\npredictions = model.predict_generator(validation_generator, steps=validation_steps_per_epoch)\n# Get most likely class\npredicted_classes = np.argmax(predictions, axis=1) \n\ntrue_classes = validation_generator.classes\nclass_labels = list(validation_generator.class_indices.keys())  \n</code></pre>\n\n<p>Finally, I output the classification report using:</p>\n\n<pre><code>from sklearn.metrics import classification_report\nreport = classification_report(true_classes, predicted_classes, target_names=class_labels)\nprint(report)    \n</code></pre>\n\n<p>Which results in zeros all over the place (see avgs. below): </p>\n\n<pre><code>                   precision    recall  f1-score   support\n      micro avg       0.01      0.01      0.01      2100\n      macro avg       0.01      0.01      0.01      2100\n   weighted avg       0.01      0.01      0.01      2100\n</code></pre>\n"}, {"tags": ["python", "dictionary", "defaultdict"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1540413077, "post_id": 52977459, "comment_id": 92861422, "body": "So 0 stands for not found?"}, {"owner": {"reputation": 53, "user_id": 9657076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c3859464eee8ae081139381fa176a?s=128&d=identicon&r=PG&f=1", "display_name": "panaceanoob", "link": "https://stackoverflow.com/users/9657076/panaceanoob"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1540413183, "post_id": 52977459, "comment_id": 92861452, "body": "correct, but would rather append <code>0</code> than None or something like that."}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1540413391, "post_id": 52977459, "comment_id": 92861545, "body": "The value of &#39;f&#39; is 2 in the dictionary but 5 in the output is that correct?"}, {"owner": {"reputation": 53, "user_id": 9657076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c3859464eee8ae081139381fa176a?s=128&d=identicon&r=PG&f=1", "display_name": "panaceanoob", "link": "https://stackoverflow.com/users/9657076/panaceanoob"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1540413415, "post_id": 52977459, "comment_id": 92861558, "body": "nope, my bad. fixing it."}, {"owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 0, "creation_date": 1540413460, "post_id": 52977459, "comment_id": 92861581, "body": "what is collections?"}, {"owner": {"reputation": 53, "user_id": 9657076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c3859464eee8ae081139381fa176a?s=128&d=identicon&r=PG&f=1", "display_name": "panaceanoob", "link": "https://stackoverflow.com/users/9657076/panaceanoob"}, "reply_to_user": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 0, "creation_date": 1540413512, "post_id": 52977459, "comment_id": 92861603, "body": "@RileyHughes collections is a python datatype. <a href=\"https://docs.python.org/3/library/collections.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/collections.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9657076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c3859464eee8ae081139381fa176a?s=128&d=identicon&r=PG&f=1", "display_name": "panaceanoob", "link": "https://stackoverflow.com/users/9657076/panaceanoob"}, "edited": false, "score": 0, "creation_date": 1540413996, "post_id": 52977574, "comment_id": 92861827, "body": "This is very elegant. Thanks!"}], "tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 2, "last_activity_date": 1540413490, "creation_date": 1540413490, "answer_id": 52977574, "question_id": 52977459, "link": "https://stackoverflow.com/questions/52977459/iterate-over-list-of-dictionaries-and-find-matching-elements-from-a-list-and-app/52977574#52977574", "title": "Iterate over list of dictionaries and find matching elements from a list and append value of matching key to defaultdict", "body": "<p>You could do this, no need to use defaultdict:</p>\n\n<pre><code>list_of_dict = [{'a': 1, 'b': 5,\n                 'c': 3,\n                 'd': 6}, {'a': 3,\n                           'f': 2,\n                           'g': 1,\n                           'h': 3,\n                           'i': 5,\n                           'j': 3}]\n\nlist_to_match = ['a', 'f', 'x']\n\nd = {}\nfor match in list_to_match:\n    for ld in list_of_dict:\n        d.setdefault(match, []).append(ld.get(match, 0))\n\nprint(d)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{'a': [1, 3], 'x': [0, 0], 'f': [0, 2]}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1540413897, "post_id": 52977590, "comment_id": 92861776, "body": "<code>j[i] if i in j else 0</code> is the same as <code>j.get(i, 0)</code>, which is more readable, I think."}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 3, "last_activity_date": 1540413930, "last_edit_date": 1540413930, "creation_date": 1540413565, "answer_id": 52977590, "question_id": 52977459, "link": "https://stackoverflow.com/questions/52977459/iterate-over-list-of-dictionaries-and-find-matching-elements-from-a-list-and-app/52977590#52977590", "title": "Iterate over list of dictionaries and find matching elements from a list and append value of matching key to defaultdict", "body": "<p>You can use a dictionary comprehension:</p>\n\n<pre><code>{i: [j[i] if i in j else 0 for j in list_of_dict] for i in list_to_match}\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>{'a': [1, 3], 'f': [0, 2], 'x': [0, 0]}\n</code></pre>\n\n<p>Even simpler:</p>\n\n<pre><code>{i: [j.get(i, 0) for j in list_of_dict] for i in list_to_match}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 1, "last_activity_date": 1540413776, "creation_date": 1540413776, "answer_id": 52977639, "question_id": 52977459, "link": "https://stackoverflow.com/questions/52977459/iterate-over-list-of-dictionaries-and-find-matching-elements-from-a-list-and-app/52977639#52977639", "title": "Iterate over list of dictionaries and find matching elements from a list and append value of matching key to defaultdict", "body": "<p>IIUC, you can just do:</p>\n\n<pre><code>for m in list_to_match:\n    d[m] = [ld.get(m, 0) for ld in list_of_dict]\nprint(d)\n#defaultdict(list, {'a': [1, 3], 'f': [0, 2], 'x': [0, 0]})\n</code></pre>\n\n<p>This would also work for a regular dictionary if you didn't want to use a <code>defaultdict</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 9657076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c3859464eee8ae081139381fa176a?s=128&d=identicon&r=PG&f=1", "display_name": "panaceanoob", "link": "https://stackoverflow.com/users/9657076/panaceanoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 52977574, "answer_count": 3, "score": 1, "last_activity_date": 1540413930, "creation_date": 1540412875, "last_edit_date": 1540413435, "question_id": 52977459, "link": "https://stackoverflow.com/questions/52977459/iterate-over-list-of-dictionaries-and-find-matching-elements-from-a-list-and-app", "title": "Iterate over list of dictionaries and find matching elements from a list and append value of matching key to defaultdict", "body": "<p>I have a list of dictionaries. Let's call it: <code>list_of_dict</code>. The dictionaries in the list are in the form:</p>\n\n<pre><code>{'a' : 1,\n'b' : 5,\n'c' : 3,\n'd' : 6}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>{'a' : 3,\n'f' : 2,\n'g' : 1,\n'h' : 3,\n'i' : 5,\n'j' : 3}\n</code></pre>\n\n<p>I have another list called <code>list_to_match</code> which only holds some letters: <code>['a', 'f', 'x']</code></p>\n\n<p>I need to iterate over <code>list_of_dict</code> and find the keys that match with the element in the list and append the values to a an empty defaultdict of list items. If not found, append 0 to the list.</p>\n\n<p>The <code>defaultdict</code> is initialized as:</p>\n\n<pre><code>d = collections.defaultdict(list)\n</code></pre>\n\n<p>I want the eventual defaultdict to look like:</p>\n\n<pre><code>{'a' : [1, 3],\n'f' : [0, 2],\n'x' : [0, 0]}\n</code></pre>\n\n<p>So far, I have:</p>\n\n<pre><code>for ld in list_of_dict:\n    for match in list_to_match:\n        for k, v in ld.items():\n            d[match].append(v)\n    d[match].append(0)\n</code></pre>\n\n<p>Now all of this works apart from the last line because obviously, match does not exist in that scope.\nNow, all I get in the defaultdict is:</p>\n\n<pre><code>{'a' : [1, 3],\n'f' : [2]}\n</code></pre>\n\n<p>The 0 is missing and so is x. How do I fix it?</p>\n"}, {"tags": ["python", "tensorflow", "pip", "artificial-intelligence"], "comments": [{"owner": {"reputation": 932, "user_id": 4903846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1a1ec117d44421d2a9bbc63cf95206?s=128&d=identicon&r=PG&f=1", "display_name": "Rodolfo Don&#227; Hosp", "link": "https://stackoverflow.com/users/4903846/rodolfo-don%c3%a3-hosp"}, "edited": false, "score": 0, "creation_date": 1540414040, "post_id": 52977453, "comment_id": 92861854, "body": "Is your pip updated? Also, try uninstalling tensorflow completely and doing a fresh install instead of <code>--upgrade</code>. Perhaps some dependencies didn&#39;t get updated properly"}, {"owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "reply_to_user": {"reputation": 932, "user_id": 4903846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1a1ec117d44421d2a9bbc63cf95206?s=128&d=identicon&r=PG&f=1", "display_name": "Rodolfo Don&#227; Hosp", "link": "https://stackoverflow.com/users/4903846/rodolfo-don%c3%a3-hosp"}, "edited": false, "score": 0, "creation_date": 1540414260, "post_id": 52977453, "comment_id": 92861952, "body": "The error <code>Could not find a version that satisfies the requirement tensorflow (from versions: ) No matching distribution found for tensorflow</code> is being shown now"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1540422971, "post_id": 52977453, "comment_id": 92864771, "body": "0.12.0 is way too old. What do following commands return: <code>python3 -V</code>, <code>pip3 -V</code>, <code>python3 -c &quot;from pip._internal import pep425tags; print(pep425tags.get_platform())&quot;</code> and <code>python3 -c &quot;from pip._internal import pep425tags; print(pep425tags.get_abi_tag())&quot;</code>"}, {"owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "edited": false, "score": 0, "creation_date": 1540495593, "post_id": 52977453, "comment_id": 92898338, "body": "Here&#39;s what I got: Python version: <code>3.7.0</code>, pip version <code>18.0</code>, <code>macosx_10_13_x86_64</code>, and <code>cp37m</code>"}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "is_accepted": true, "score": 0, "last_activity_date": 1540550275, "creation_date": 1540550275, "answer_id": 53006871, "question_id": 52977453, "link": "https://stackoverflow.com/questions/52977453/why-is-pip-not-updating-tensorflow-correctly-and-if-it-is-why-is-the-attrib/53006871#53006871", "title": "Why is pip not updating tensorflow correctly, and, if it is, why is the &#39;attrib error&#39; still thrown?", "body": "<p>As mentioned in the comments, the most probable solution to the attribute error is the update problem. However, if you're encountering the <code>Could not find a version that satisfies the requirement tensorflow (from versions: ) No matching distribution found for tensorflow</code>, the easiest solution is to use following code.</p>\n\n<p><code>pip install --upgrade  https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.1.0-py2-none-any.whl</code> (for python 2)</p>\n\n<p>or</p>\n\n<p><code>pip install --upgrade  https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.1.0-py3-none-any.whl</code> (for python 3)</p>\n"}], "owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 53006871, "answer_count": 1, "score": 0, "last_activity_date": 1540550275, "creation_date": 1540412831, "last_edit_date": 1540415616, "question_id": 52977453, "link": "https://stackoverflow.com/questions/52977453/why-is-pip-not-updating-tensorflow-correctly-and-if-it-is-why-is-the-attrib", "title": "Why is pip not updating tensorflow correctly, and, if it is, why is the &#39;attrib error&#39; still thrown?", "body": "<p>I've installed tensorflow over pip3 and python3, and am working on it. While using the colum function, the commonly experienced error <code>AttributeError: module 'tensorflow' has no attribute 'feature_column'</code>. </p>\n\n<p>It might look like a duplicate question, but I've looked at the other occurrences of the same question, but, after updating the file (<code>pip3 install --upgrade tensorflow</code>), I checked the version. The version 0.12.0 is shown. So why does pip still show its completely new. Is 0.12.0 the newest version?</p>\n\n<p>When I attempted to uninstall tensorflow and re-install it, it refuses to re-install. I'm using <code>python3 -m pip install tensorflow</code>. The error thrown here is <code>Could not find a version that satisfies the requirement tensorflow (from versions: ) No matching distribution found for tensorflow</code></p>\n\n<p>Thanks in advance for your help</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1540413798, "post_id": 52977442, "comment_id": 92861743, "body": "The code in your question makes little sense...and renders the rest of it meaningless. Also, what would a two printer simulation be or do?"}, {"owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540414042, "post_id": 52977442, "comment_id": 92861858, "body": "This is what was given to us unfortunately.  I just need to understand how to use the queue methods they gave us here at the very least. We are supposed to alter it(the whole code given so add or remove unnecessary stuff) to be able to simulate two printers &#39;Red&#39; and &#39;Green&#39; that take in job inputs from the main function and dequeue it when Print Jobs is called."}, {"owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540415309, "post_id": 52977442, "comment_id": 92862393, "body": "It&#39;s like when you are trying to print at a school printer. So sending it(enqueue) then print it (dequeue). BUT it assumes that there are two printers that can split all the incoming jobs.  For example: Job 1 has 5 pages. Job 2 has 7 pages and Job 3 has 14 pages. Job 1 goes to the first printer or &#39;Red&#39; and Job 2 goes to goes to &#39;Green&#39; while Job 3 waits till one printer finishes printing a job then it gets sent to that printer so Job 3 gets sent to &#39;Red&#39; when Job 1 finishes dequeueing(or printing) its pages. It is simulated so I need to show progress using print statements."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540415629, "post_id": 52977442, "comment_id": 92862510, "body": "I think you haven&#39;t inserted the code in your question correctly, which is causing it to be displayed improperly. To answer the part about using the two methods: If you have a class instance: e.g. <code>lnkque = LinkedQueue()</code>, then afterwards you can use them via <code>lnkque.enqueue(e)</code> and <code>lnkque.dequeue()</code>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540416175, "post_id": 52977442, "comment_id": 92862715, "body": "Regarding the rest of your question about doing the simulation: I think you need to also add the code you&#39;ve written that isn&#39;t working that tries to do that part, then folks can maybe help you get it working."}, {"owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540416427, "post_id": 52977442, "comment_id": 92862793, "body": "I get that part. Sorry I wasn&#39;t more clear on this and yes I think the code isn&#39;t displaying properly. I&#39;ll see if I can fix that. But what I meant is in the context of the question that I don&#39;t know when exactly to use both methods. Like how do I go about putting those two things you posted. Should I call enqueue in the main function under Add Jobs and dequeue under Print Jobs? Also, how would I go about printing the progress of the program?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540416514, "post_id": 52977442, "comment_id": 92862823, "body": "I think I fixed the code formatting in your question....and I still think what I said earlier about how to use the two methods is correct. To print the process of the program, I suppose you could show the length of the queue getting shorter along with the printers displaying something whenever one of them starts (and maybe finishes) printing something."}, {"owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540416971, "post_id": 52977442, "comment_id": 92862994, "body": "SORRY! I reverted the given code back to what was provided. I was playing around with it and ended up with the PrinterQueue name."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540417151, "post_id": 52977442, "comment_id": 92863054, "body": "That&#39;s better. However, at this point I&#39;m not sure what the problem is with respect to the <code>main()</code> function shown. Doesn&#39;t it work, and if not, in what way exactly?"}, {"owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540417594, "post_id": 52977442, "comment_id": 92863210, "body": "It does work. It displays the UI properly. But that is where it ends. I have no idea if the enqueue and dequeue even works as intended. I don&#39;t have a way to display the third option which is status &lt;- that is supposed to display all the jobs and how many pages they have all together after adding them. And if both enqueue and dequeue works, what is the next step to achieve what is intended by the program expected of us. Like displaying which Jobs are currently being printed or w/c page it is on currently and all that."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1540422280, "post_id": 52977442, "comment_id": 92864589, "body": "You&#39;re asking a very broad question\u2014probably by too much to be on-topic here. One big thing is that It sounds like you may need to use threading to simulate the two <code>Printer</code>s running at the same time as the user interface. Beyond that somewhat complex effort, the <code>LinkedQueue</code> class needs one or more additional methods to allow its current contents to be examined/iterated over. These will allow you to implement displaying its status. Similarly, the <code>Printer</code> class needs methods added to allow its current state to be also examined/queried. With those it would become possible do the rest."}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1540505566, "last_edit_date": 1540505566, "creation_date": 1540505259, "answer_id": 52998788, "question_id": 52977442, "link": "https://stackoverflow.com/questions/52977442/linkedqueues-and-simulated-printer/52998788#52998788", "title": "LinkedQueues and simulated printer", "body": "<p>While this is by no means a complete answer, it shows how to print out what's currently in a <code>LinkedQueue</code> instance. </p>\n\n<p>First, add the following method to the class. It will allow the contents to be iterated.</p>\n\n<pre><code>class LinkedQueue:\n\n    def __iter__(self):\n        if self.is_empty():\n            return None  # No jobs in print queue.\n\n        cur = self._head\n        while cur:\n            yield cur._element\n            cur = cur._next\n</code></pre>\n\n<p>Here's something demonstrating how to use it:</p>\n\n<pre><code>def test():\n    q = LinkedQueue()  # Create a queue.\n\n    # Add some jobs to the LinkedQueue.\n    for j in range(3):\n        pages = randint(1, 10)\n        q.enqueue(('job #{}'.format(j), pages))\n\n    # Show what's currently in the LinkedQueue.\n    for v in q:\n        print(v)\n\n    # Modify the LinkedQueue and then show what's left in it.\n    j = q.dequeue()\n    print('\\nafter removing one job')\n    for v in q:\n        print(v)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10554289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a75db265833c13acaf0793c42fd9a34?s=128&d=identicon&r=PG&f=1", "display_name": "bluekozo", "link": "https://stackoverflow.com/users/10554289/bluekozo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 52998788, "answer_count": 1, "score": 0, "last_activity_date": 1540505566, "creation_date": 1540412780, "last_edit_date": 1540416911, "question_id": 52977442, "link": "https://stackoverflow.com/questions/52977442/linkedqueues-and-simulated-printer", "title": "LinkedQueues and simulated printer", "body": "<p>I am aware that there is another post asking about simulated printers but I didn't find any actual answers to my own question there.</p>\n\n<pre><code>class LinkedQueue :\n\n    class _Node :\n        __slots__ = '_element', '_next'\n\n        def __init__(self, element, next = None):\n            self._element = element\n            self._next = next\n\n    def __init__(self) :\n        self._head = None\n        self._tail = None\n        self._size = 0\n\n    def __len__(self) :\n        return self._size\n\n    def is_empty(self) :\n        return self._size == 0\n\n    def first(self) :\n        if self.is_empty() :\n            raise Empty('Queue is empty')\n        return self._head._element\n\n    def dequeue(self) :\n        if self.is_empty():\n            raise Empty('Queue is empty')\n        answer = self._head._element\n        self._head = self._head._next\n        self._size -= 1\n        if self.is_empty() :\n            self._tail = None\n        return answer\n\n    def enqueue(self, e) :\n        newest = self._Node(e,None)\n        if self.is_empty() :\n            self._head = newest\n        else :\n            self._tail._next = newest\n        self._tail = newest\n        self._size += 1\n\nclass Printer:\n   def __init__(self, name, job_queue):\n     self._name = name\n     self._job_queue\n     self._current_job = None\n\nclass Empty(Exception) :\n   pass\n\ndef main():\n   p_jobs = LinkedQueue() \n   red = Printer(\"Red\", p_jobs)                # Creates Printer Red\n   green = Printer(\"Green\", p_jobs)            # Creates Printer Green\n\n   print(\"\\nOptions:\\n 1. Add Job \\n 2. Print Pages \\n 3. Status \\\n   \\n 4. Quit\")\n   i = 0\n   while True:\n    n = str(input(\"\\nChoice (Type the number): \"))\n\n    if n == '1':                            # Add Job\n        i += 1\n        p = int(input(\"\\nHow many pages? \"))\n        j = p_jobs.job_list(i,p,next)\n        p_jobs.enqueue(j)\n\n    if n == '2':                            # Print Job\n        print()\n        p_jobs.dequeue()\n        i -= 1\n\n\n    if n == '3':                            # Status\n        print()\n\n    if n == '4':                            # Quit\n        print(\"\\nGoodbye!\")\n        break\n</code></pre>\n\n<p>This is the provided code for us. We are supposed to simulate two printers that print out pages from jobs using LinkedQueue and Node.</p>\n\n<p>I have the main function barebones w/c consists of 4 options:\nAdd Job, Print Jobs, Status, and Quit</p>\n\n<p>I have trouble understanding how to use (refer) to the  enqueue and dequeue methods. Can somebody break down each part of this program so I can at least understand where to start. I also would appreciate any hints that tell me where to go from here. Thank you.</p>\n\n<p>EDIT: I added my main function w/c is basically just a UI</p>\n"}, {"tags": ["php", "python", "python-import"], "comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1540412554, "post_id": 52977348, "comment_id": 92861215, "body": "what&#39;s the error you get? I have sometimes written tracebacks to a file inside a try-except block when the script I was calling was being called by a parent process that didn&#39;t nicely pass stderr along."}, {"owner": {"reputation": 43, "user_id": 10044731, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0FUbJ6BDrUo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2FK7xD2JsuaLO2ed6xb5pd91qa-A/mo/photo.jpg?sz=128", "display_name": "Raid Lafi", "link": "https://stackoverflow.com/users/10044731/raid-lafi"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1540414263, "post_id": 52977348, "comment_id": 92861953, "body": "there is ni output when i run with dlib imported but what i think is a directory permesion becuase when i change the python script folder to desktop i can run it!"}], "owner": {"reputation": 43, "user_id": 10044731, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0FUbJ6BDrUo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2FK7xD2JsuaLO2ed6xb5pd91qa-A/mo/photo.jpg?sz=128", "display_name": "Raid Lafi", "link": "https://stackoverflow.com/users/10044731/raid-lafi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540412283, "creation_date": 1540412283, "question_id": 52977348, "link": "https://stackoverflow.com/questions/52977348/calling-python-script-from-php-import-module-error", "title": "calling python script from PHP import module error", "body": "<p>I have this python script that i need to call it from php,\nthis my python script:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport dlib\nimport sys\nimport os\nimport cv2\nfrom shutil import copyfile\n\nif __name__ == \"__main__\":\n    print \"Test\"\n</code></pre>\n\n<p>this is my php code to call python script:</p>\n\n<pre><code>&lt;?php\n$out =  shell_exec(\"/usr/bin/python2.7 /opt/lampp/htdocs/test.py\");\necho $out;\n?&gt;\n</code></pre>\n\n<p>My problem is the python code works perfectly from terminal, but using php he doesn't work because of <code>import dlib</code> when i delete it the python script works fine from php and when i add it he doesn't work.</p>\n\n<p>The dlib libray works perfectly since when i test the python code from terminal he works. </p>\n"}, {"tags": ["python", "anaconda", "matplotlib-venn"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1540414264, "post_id": 52977346, "comment_id": 92861955, "body": "There are 2 separate problems here. 1 is that <code>matplotlib_venn</code> probably relies on an older version of Matplotlib that has that function, but they didn&#39;t properly specify that in their setup file (see <a href=\"https://github.com/konstantint/matplotlib-venn/blob/c26796c9925bdac512edf48387452fbd1848c791/setup.py#L48\" rel=\"nofollow noreferrer\">github.com/konstantint/matplotlib-venn/blob/&hellip;</a>). Second, you need to install Spyder into that environment if you want to be able to import packages from the environment."}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1540414351, "post_id": 52977346, "comment_id": 92861993, "body": "spyder is installed in py37 and that&#39;s where I&#39;m using it, see above"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1540414419, "post_id": 52977346, "comment_id": 92862019, "body": "Please show the complete output of <code>conda list</code> If spyder is installed in the base environment, it will still run <b>even if not installed in the <code>py37</code> environment</b>! It will just pick up the wrong packages. This is because of how the <code>PATH</code> environment variable works."}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1540414718, "post_id": 52977346, "comment_id": 92862154, "body": "got it, you&#39;re right it was running the base spyder. After restarting terminal and conda install spyder everything works now. Not sure what was going on with matplotlib. If you answer I&#39;ll accept"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1540476810, "post_id": 52977346, "comment_id": 92888078, "body": "It seems like @Michael has got the answer, feel free to accept theirs"}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "edited": false, "score": 0, "creation_date": 1540412740, "post_id": 52977402, "comment_id": 92861289, "body": "you&#39;re 100% right, but unfortunately that error is the result of my typo when reproducing the error I got to make the post, but not the error that&#39;s giving me trouble. I&#39;ll edit."}, {"owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "reply_to_user": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "edited": false, "score": 0, "creation_date": 1540413692, "post_id": 52977402, "comment_id": 92861691, "body": "Spyder can&#39;t find the module now? Is that the same Spyder installed in your Anaconda area? Show us the which"}, {"owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "reply_to_user": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "edited": false, "score": 0, "creation_date": 1540413740, "post_id": 52977402, "comment_id": 92861715, "body": "Also, are you able to execute <code>from matplotlib import get_backend</code> from Python?"}, {"owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "reply_to_user": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "edited": false, "score": 1, "creation_date": 1540414648, "post_id": 52977402, "comment_id": 92862127, "body": "Oh, I just double-checked your conda list: matplotlib isn&#39;t installed. Try installing that with conda and importing matplotlib_venn again. My other suspicion is that the spyder you have is not aware of your anaconda environment (because your conda list doesn&#39;t show it, so it&#39;s probably not associated with anaconda), so it doesn&#39;t know where any of your packages are. Try running &quot;conda install spyder&quot; to install spyder to your anaconda environment"}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "edited": false, "score": 0, "creation_date": 1540414822, "post_id": 52977402, "comment_id": 92862198, "body": "matplotlib is actually there (I didn&#39;t paste in the full output of conda list because it&#39;s pretty long) but spyder wasn&#39;t. restarted terminal and installed spyder, now for some reason it works"}], "tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1540416173, "last_edit_date": 1540416173, "creation_date": 1540412560, "answer_id": 52977402, "question_id": 52977346, "link": "https://stackoverflow.com/questions/52977346/anaconda-cant-import-installed-package-matplotlib-venn/52977402#52977402", "title": "Anaconda can&#39;t import installed package matplotlib-venn", "body": "<p>According to matplotlib-venn's PyPi page (<a href=\"https://pypi.org/project/matplotlib-venn/\" rel=\"nofollow noreferrer\">https://pypi.org/project/matplotlib-venn/</a>), the import should look like this:</p>\n\n<pre><code>import matplotlib_venn as venn\n</code></pre>\n\n<p>Note that the module is named with an underscore whereas the package is named with a dash; this is a tricky inconsistency</p>\n\n<hr>\n\n<p>Update for updated question: the issues with spyder were due to spyder not being installed as part of anaconda, resulting in the system's spyder not being aware of the anaconda environment's packages. Being unable to import get_backend from matplotlib would suggest either a missing or borked matplotlib installation. Both just require installing (or reinstalling) the packages using conda</p>\n"}], "owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3348, "favorite_count": 0, "accepted_answer_id": 52977402, "answer_count": 1, "score": 2, "last_activity_date": 1540416173, "creation_date": 1540412276, "last_edit_date": 1540414045, "question_id": 52977346, "link": "https://stackoverflow.com/questions/52977346/anaconda-cant-import-installed-package-matplotlib-venn", "title": "Anaconda can&#39;t import installed package matplotlib-venn", "body": "<p>I'm about to give up on Anaconda. I never had trouble managing my packages with <code>pip</code> and I just thought I'd try it since now there's one package I can't get with <code>pip</code> and I'd heard so many good things about it.</p>\n\n<p>I can't import a package I just installed with Anaconda, similar to <a href=\"https://stackoverflow.com/questions/45386933/cant-import-a-package-installed-in-anaconda\">this</a> but on MacOS instead of Windows.</p>\n\n<p>I really don't <em>want</em> multiple environments unless I have to have them. I want to be able to run most/all of my packages from the same scripts. I have a virtual environment named py37 where I've been putting most things. Among other packages:</p>\n\n<pre><code>(py37) jennifers-mbp:~ jenniferlongdiaz$ conda list\n#packages in environment at /anaconda3/envs/py37:\n#\n# Name                    Version                   Build  Channel    \nmatplotlib-venn           0.11.5                     py_1    conda-forge\nnumpy                     1.15.3           py37h6a91979_0  \npython                    3.7.1                haf84260_3  \n</code></pre>\n\n<p>Python goes to the right installation:</p>\n\n<pre><code>(py37) jennifers-mbp:~ jenniferlongdiaz$ which python\n/anaconda3/envs/py37/bin/python\n(py37) jennifers-mbp:~ jenniferlongdiaz$ python\nPython 3.7.1 (default, Oct 23 2018, 14:07:42) \n[Clang 4.0.1 (tags/RELEASE_401/final)] :: Anaconda, Inc. on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</code></pre>\n\n<p>I can import numpy but not matplotlib-venn:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import matplotlib_venn as venn\n</code></pre>\n\n<p>...bunch of stuff and then:</p>\n\n<pre><code>ImportError: cannot import name 'get_backend' from 'matplotlib' (/anaconda3/envs/py37/lib/python3.7/site-packages/matplotlib/__init__.py)\n</code></pre>\n\n<p>Similiarly:</p>\n\n<pre><code>&gt;&gt;&gt; from matplotlib import get_backend\n</code></pre>\n\n<p>...bunch of stuff and then:</p>\n\n<pre><code>ImportError: cannot import name 'get_backend' from 'matplotlib' (/anaconda3/envs/py37/lib/python3.7/site-packages/matplotlib/__init__.py)\n</code></pre>\n\n<p>From within the IDE spyder (<code>(py37) jennifers-mbp:~ jenniferlongdiaz$ spyder</code>), I get:</p>\n\n<pre><code>In [1]: import matplotlib_venn as venn\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-9-aafbc15b97e7&gt;\", line 1, in &lt;module&gt;\n    import matplotlib_venn as venn\n\nModuleNotFoundError: No module named 'matplotlib_venn'\n</code></pre>\n\n<p>Please help!</p>\n"}, {"tags": ["python", "django", "testing", "django-forms"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1540412300, "post_id": 52977331, "comment_id": 92861101, "body": "The question is: what do you want to test? At what level do you want to develop tests (end-to-end, ...)?"}, {"owner": {"reputation": 1817, "user_id": 1544500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b4bb4899b045ff2151b03836e2c29ba?s=128&d=identicon&r=PG&f=1", "display_name": "user1544500", "link": "https://stackoverflow.com/users/1544500/user1544500"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1540412360, "post_id": 52977331, "comment_id": 92861121, "body": "I would like to test that the form is successfully created, so this form_valid method."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1540412861, "post_id": 52977331, "comment_id": 92861346, "body": "I&#39;m not sure where your difficulty is. If you want to test that the item is created, then use the test client to post some data to the view, then check the database to verify it has been created, surely?"}], "answers": [{"comments": [{"owner": {"reputation": 62, "user_id": 8737338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b7137040b16e6a972348c265fd20b2?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/8737338/prometheus"}, "edited": false, "score": 0, "creation_date": 1586810078, "post_id": 53045969, "comment_id": 108260162, "body": "Could you please be more detailed on the lower part? How do you handle the request.user data in the form - THX"}], "tags": [], "owner": {"reputation": 596, "user_id": 6168639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PTBbe.jpg?s=128&g=1", "display_name": "Hanny", "link": "https://stackoverflow.com/users/6168639/hanny"}, "is_accepted": false, "score": 0, "last_activity_date": 1540817628, "creation_date": 1540817628, "answer_id": 53045969, "question_id": 52977331, "link": "https://stackoverflow.com/questions/52977331/how-to-test-django-createview-and-form-valid/53045969#53045969", "title": "How to test Django CreateView and form_valid", "body": "<p>I believe you'd have to create the post data and such in the <code>setUp</code> of your test.</p>\n\n<pre><code>class NewPatientFormTest(TestCase):\n\n    def setUp(self):\n        self.form_data = {\n            'name': 'Billy',\n            'surname': 'Masters',\n            'phone': '123-358-2382',\n            *...the rest of your form data...*\n        }\n</code></pre>\n\n<p>In your <code>setUp</code> make sure the rest of your data is setup appropriately. Then use your test - probably something like this:</p>\n\n<pre><code>def test_new_patient_form_is_valid(self):\n    form = NewPatientForm(data=self.form_data)\n    self.assertTrue(form.is_valid())\n</code></pre>\n\n<p>Obviously this is super simplified - but should get you on in the right direction on getting this tested.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 4397021, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/62a03a0bfac7ccceba315350941d0e03?s=128&d=identicon&r=PG", "display_name": "Josh Martin", "link": "https://stackoverflow.com/users/4397021/josh-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1607725408, "last_edit_date": 1607725408, "creation_date": 1607714929, "answer_id": 65257463, "question_id": 52977331, "link": "https://stackoverflow.com/questions/52977331/how-to-test-django-createview-and-form-valid/65257463#65257463", "title": "How to test Django CreateView and form_valid", "body": "<p>Here once again is the class you have:</p>\n<pre><code>class NewPatientFormView(LoginRequiredMixin, CreateView):\n    model = Patient\n    fields = ['name', 'surname', 'phone', 'email', 'PESEL', 'age',\n      'patient_agreement']\n    \n\n    def form_valid(self, form):\n        self.object = form.save(commit=False)\n        self.object.created_by_user = self.request.user\n        self.object.save()\n        return super().form_valid(form)\n</code></pre>\n<p>We can test the form validation by using a <a href=\"https://docs.djangoproject.com/en/3.1/topics/testing/advanced/#example\" rel=\"nofollow noreferrer\">Request Factory</a>:</p>\n<pre><code>import pytest\nfrom django.test import RequestFactory\nfrom django.contrib.auth.models import User    \n\nfactory = RequestFactory()\n\n@pytest.mark.django_db\ndef test_form_valid_on_create_view():\n    # Arrange\n    data = {\n       'name': 'Billy',\n       'surname': 'Masters',\n       'phone': '123-358-2382',\n       # other fields\n    } \n  \n    user = User.objects.create_user(\n        username='jacob', email='jacob@\u2026', password='top_secret')\n\n    request = factory.post( '/[Path to new Patient Form]/', data=data)\n    request.user = user\n   \n    # Act\n    response = NewPatientFormView.as_view()(request) # this will submit the form and run the form_valid.  \n\n    # Assert\n    \n    Assert True\n\n    \n</code></pre>\n"}], "owner": {"reputation": 1817, "user_id": 1544500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b4bb4899b045ff2151b03836e2c29ba?s=128&d=identicon&r=PG&f=1", "display_name": "user1544500", "link": "https://stackoverflow.com/users/1544500/user1544500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1477, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1607725408, "creation_date": 1540412212, "question_id": 52977331, "link": "https://stackoverflow.com/questions/52977331/how-to-test-django-createview-and-form-valid", "title": "How to test Django CreateView and form_valid", "body": "<p>This maybe very basic but I still fail to understand how to test a Django <code>CreateView</code> which has a <code>form_valid(self, form)</code> method ? </p>\n\n<p>Here's my code: </p>\n\n<pre><code>class NewPatientFormView(LoginRequiredMixin, CreateView):\n    model = Patient\n    fields = ['name', 'surname', 'phone', 'email', 'PESEL', 'age',\n          'patient_agreement']\n\n    def form_valid(self, form):\n        self.object = form.save(commit=False)\n        self.object.created_by_user = self.request.user\n        self.object.save()\n        return super().form_valid(form)`\n</code></pre>\n\n<p>I'm using pytest and I simply fail to understand how to test this one. I would be really grateful for a short example how this could be tested ... Thanks! </p>\n"}, {"tags": ["python", "excel", "pandas"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1540412436, "post_id": 52977325, "comment_id": 92861164, "body": "Well, I would not recommend using a loop here, but to get it to work you need <code>for index, row in enumerate(x):</code>"}, {"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1540412552, "post_id": 52977325, "comment_id": 92861212, "body": "@rahlf23 what would be an ideal approach to achieve the outcome?"}], "answers": [{"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 1, "last_activity_date": 1540412566, "creation_date": 1540412566, "answer_id": 52977404, "question_id": 52977325, "link": "https://stackoverflow.com/questions/52977325/error-in-iterating-over-a-pandas-dataframe-created-from-a-excel-file-column/52977404#52977404", "title": "Error in iterating over a pandas dataframe created from a excel file column", "body": "<p>You can use <code>extract()</code>:</p>\n\n<pre><code>df['Zip Code'] = df['Address'].str.extract(r'(\\d{5})')\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>                            Address Zip Code\n0           Via abc che - 66110 Chi    66110\n1    Via vivo, 44\\n65125 Paris (PR)    65125\n2     Via vivo, 44\\n65125 Pesc (PI)    65125\n3  Contrada contra\\n64100 Term (PI)    64100\n4        Via Mvico\\n75025 Poli (PR)    75025\n</code></pre>\n\n<p>In your original code, the reason you are receiving the error <code>ValueError: too many values to unpack (expected 2)</code> is because you did not use <code>enumerate(x)</code>, as you are attempting to iterate both indices and values.</p>\n"}], "owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1540412566, "creation_date": 1540412202, "last_edit_date": 1540412436, "question_id": 52977325, "link": "https://stackoverflow.com/questions/52977325/error-in-iterating-over-a-pandas-dataframe-created-from-a-excel-file-column", "title": "Error in iterating over a pandas dataframe created from a excel file column", "body": "<p>I am reading an <code>excel</code> file column into a <code>pandas</code> <code>dataframe</code>. This is the code I have written for this:</p>\n\n<pre><code>df = pd.ExcelFile('address.xlsx').parse('sheet1')  \n\nx = df['Address']\nprint(x)\n</code></pre>\n\n<p>Output of above code is:</p>\n\n<pre><code>0                         Via abc che - 66110 Chi\n1                 Via vivo, 44\\n65125 Paris (PR)\n2                 Via vivo, 44\\n65125 Pesc (PI)\n3            Contrada contra\\n64100 Term (PI)\n4                    Via Mvico\\n75025 Poli (PR)\n</code></pre>\n\n<p>There is only item in each row, which is an <code>address</code>. Now what I want to do is iterate through each row of this <code>dataframe</code>, get the address and then extract zip code out of that address. I wrote this code for this:</p>\n\n<pre><code>for index ,row in x:\n    reg = re.compile('^.*(?P&lt;zipcode&gt;\\d{5}).*$')\n    match = reg.match(row[0])\n    fitered_match = match.groupdict().zipcode  \n    print(fitered_match)\n</code></pre>\n\n<p>When I execute this I get error as <code>ValueError: too many values to unpack (expected 2)</code>.</p>\n\n<p>I am unable to understand:</p>\n\n<ol>\n<li>Why this error is coming?</li>\n<li>Is my logic to extract zip code out of the address is correct? </li>\n</ol>\n"}, {"tags": ["python", "excel", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 319, "user_id": 7764112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nN5Zb.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/7764112/matthew"}, "edited": false, "score": 1, "creation_date": 1540414630, "post_id": 52977316, "comment_id": 92862119, "body": "Just curious: Does <code>xl = pd.read_excel(&quot;..&#47;data&#47;sample.xlsx&quot;)</code> solve your problem? It should return the whole pandas DataFrame. Note that if there are more than one sheet, you&#39;ll have to provide the sheet_name. Refer to <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "reply_to_user": {"reputation": 319, "user_id": 7764112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nN5Zb.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/7764112/matthew"}, "edited": false, "score": 0, "creation_date": 1540429087, "post_id": 52977316, "comment_id": 92866113, "body": "Thanks, sorry I tested that out already and it didn&#39;t resolve the need."}], "answers": [{"comments": [{"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1540428529, "post_id": 52979432, "comment_id": 92865995, "body": "Thank you very much, how can I get the sheet&#39;s name?"}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1540429039, "post_id": 52979432, "comment_id": 92866101, "body": "I am also looking for an auto number id as the identity to be assigned to the df, can you tell me how to do it? Thank you again for your time."}, {"owner": {"reputation": 696, "user_id": 5078698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50587652c9e763535266945ef6ef9ac0?s=128&d=identicon&r=PG&f=1", "display_name": "alexdor", "link": "https://stackoverflow.com/users/5078698/alexdor"}, "reply_to_user": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1540439738, "post_id": 52979432, "comment_id": 92868387, "body": "Maybe pack the dataframes in a dictionary and use the excel filename + sheetname as the keyval?"}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1540695311, "post_id": 52979432, "comment_id": 92957381, "body": "Thank you, indeed I am able to get the sheet name, more wondering on how to retrieve the excel cell row by row and generate data row and append it to the new dataframe."}], "tags": [], "owner": {"reputation": 696, "user_id": 5078698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50587652c9e763535266945ef6ef9ac0?s=128&d=identicon&r=PG&f=1", "display_name": "alexdor", "link": "https://stackoverflow.com/users/5078698/alexdor"}, "is_accepted": true, "score": 0, "last_activity_date": 1540435988, "last_edit_date": 1540435988, "creation_date": 1540425021, "answer_id": 52979432, "question_id": 52977316, "link": "https://stackoverflow.com/questions/52977316/how-to-retrieve-value-from-series-created-in-pandas-dataframe-in-python/52979432#52979432", "title": "How to retrieve value from series created in pandas dataframe in python", "body": "<p>This type of operation is called a melt. It is essentially the inverse of pivoting a dataframe. Also, as Mathew pointed out in a comment, using the read_excel is a bit simpler since it directly returns a dataframe. The following code block runs the melt. </p>\n\n<pre><code>fname = ../data/sample.xlsx''\ndate_pull = pd.to_datetime('2018-10-18')\neom =  pd.to_datetime('2018-10-31')\n\n# get product name out of excel file\nproduct = pd.read_excel(fname, nrows=1, header=None, usecols=[1])\nproduct = product.loc[0, 0]\nproduct\n\n# load data from excel fail\ndf = pd.read_excel(fname, header=1)\n\n# rename index to p_date and make a column\ndf.index.rename('p_date', inplace=True)\ndf = df.reset_index()\n\n# add product to df\ndf['product'] = product\n\n# melt \ndf = pd.melt(df, id_vars=['product', 'p_date'], var_name='region', value_name='p_value')\n\n# add c_date and eom to data frame\ndf['c_date'] = date_pull\ndf['eom'] = eom\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "is_accepted": false, "score": 0, "last_activity_date": 1544042484, "creation_date": 1544042484, "answer_id": 53640403, "question_id": 52977316, "link": "https://stackoverflow.com/questions/52977316/how-to-retrieve-value-from-series-created-in-pandas-dataframe-in-python/53640403#53640403", "title": "How to retrieve value from series created in pandas dataframe in python", "body": "<p>With @alexdor's code plus my own code I am now able to generate the needed result like below:</p>\n\n<pre><code>,product,p_date,region,p_value,c_date,eom\n0,CD Short-Term WAMP,2010-01-01,MA,0.8763918845487475,201812,2018-12-31\n1,CD Short-Term WAMP,2010-01-08,MA,0.8600652449166932,201812,2018-12-31\n2,CD Short-Term WAMP,2010-01-15,MA,0.8593079486202981,201812,2018-12-31\n</code></pre>\n\n<p>To remove the sequence number which will cause issue later, set the index=False as below:</p>\n\n<pre><code>df_csv.to_csv(physical_file, index=False)\n</code></pre>\n"}], "owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 52979432, "answer_count": 2, "score": 1, "last_activity_date": 1544042484, "creation_date": 1540412166, "last_edit_date": 1544042434, "question_id": 52977316, "link": "https://stackoverflow.com/questions/52977316/how-to-retrieve-value-from-series-created-in-pandas-dataframe-in-python", "title": "How to retrieve value from series created in pandas dataframe in python", "body": "<p>This is about using python and pandas to read excel file, I have not been able to find a working example.</p>\n\n<p>My file's name is something like: </p>\n\n<pre><code>2018 Historical Banking Record For Branch 12345.xlsx\n</code></pre>\n\n<p>The Excel has content like below (sorry I don't know how to attach the file to this post):</p>\n\n<pre><code> 2  CD ABC PRODUCT                                                                  \n    MA  RI  NH  CT  VT  CA  CR  DE  PHI NJ  ON  FL  WA  DX  HW  AK  MI  IL\n01/01/18    1.01    1.61    1.80    1.46    1.69    1.73    1.64    1.64    1.74    1.71    1.68    1.74    1.68    1.87    1.77    2.04    2.05    1.76\n01/08/18    2.01    2.61    2.80    2.46    2.69    2.73    2.64    2.64    2.74    2.71    2.68    1.73    1.67    1.84    1.74    2.06    2.04    1.76\n01/15/18    3.01    3.61    3.80    3.46    3.69    3.73    3.64    3.64    3.74    3.71    3.68    1.74    1.68    1.86    1.75    2.06    2.04    1.76\n01/22/18    4.01    4.61    4.80    4.46    4.69    4.73    4.64    4.64    4.74    4.71    4.68    1.76    1.74    1.73    1.66    1.93    1.84    1.87\n01/29/18    5.01    5.61    5.80    5.46    2.01    5.73    1.82    5.64    5.74    5.71    5.68    1.74    1.72    1.71    1.62    1.91    1.82    1.85\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hErqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hErqb.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code is something like below:</p>\n\n<pre><code>import pandas as pd\nxl = pd.ExcelFile(\"../data/sample.xlsx\", engine='xlrd')\n</code></pre>\n\n<p>I am able to get the first row cells's value with </p>\n\n<pre><code>xl.book._sharedstrings[0] ~ xl.book._sharedstrings[18]\n</code></pre>\n\n<p>What I need to do is how to loop all the rows and get all the cell's value?</p>\n\n<p>Eventually I need to generate a new dataframe with the structure like below:</p>\n\n<pre><code>product p_date region p_value c_date eom\nCD ABC PRODUCT 01/01/18 MA 1.01 18/10/24 18/10/31\n</code></pre>\n\n<p>All the fields are explained as below:</p>\n\n<ol>\n<li>product: for this sheet, it is always the same: CD ABC PRODUCT</li>\n<li><p>p_date: should be from the first column: </p>\n\n<pre><code>01/01/18\n01/08/18\n01/15/18\n01/22/18\n01/29/18\n</code></pre></li>\n<li><p>region:</p>\n\n<pre><code>MA\nRI\nNH\nCT\n....\n</code></pre></li>\n<li><p>p_value: the decimal under each region, e.g. 1.01</p></li>\n<li>c_date: today's date, 18/10/24</li>\n<li>eom: the last date for this month, 18/10/31</li>\n</ol>\n\n<p>there are 18 regions in this sheet, meaning 18 records will be created for the new dataframe.</p>\n\n<p>I am able to get all the cells except for the first column for p_date:</p>\n\n<pre><code>01/01/18\n01/08/18\n01/15/18\n01/22/18\n01/29/18\n</code></pre>\n\n<p>It seems to be from a \"Series\" as shown below, but I don't know how to retrieve value from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7gnxT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gnxT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can use list(df[\"MA\"]) to convert Series df[\"MA\"] to a list, but I still cannot get the p_date.</p>\n\n<p>Ideally I need to loop each row when generate/append the dataframe </p>\n\n<pre><code>cur_row=[wampproduct, wamp_date, wampregion, rsp, wamp, date_pull, eom]\ndf_row = pd.DataFrame(columns=cols, data=cur_row)\ndf = df.append(df_row, ignore_index=True)\n</code></pre>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["python", "c++", "pyqt", "translate", "qmodelindex"], "comments": [{"owner": {"reputation": 962, "user_id": 596100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1df682ecad0aabeb97749fe8c5fea798?s=128&d=identicon&r=PG", "display_name": "AlphaTested", "link": "https://stackoverflow.com/users/596100/alphatested"}, "edited": false, "score": 0, "creation_date": 1540412009, "post_id": 52977242, "comment_id": 92860947, "body": "Can you articulate what this line is doing in english? That&#39;ll help us identify what your code is trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1540412267, "creation_date": 1540412267, "answer_id": 52977343, "question_id": 52977242, "link": "https://stackoverflow.com/questions/52977242/need-to-translate-one-line-of-code-in-from-c-qt-to-pyqt/52977343#52977343", "title": "Need To Translate One Line of Code in from C++ Qt to PyQt", "body": "<p><code>index = self.listView.currentIndex()</code></p>\n"}], "owner": {"reputation": 63, "user_id": 10377349, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W_MhDLlGpis/AAAAAAAAAAI/AAAAAAAAABw/GAMxtIq2PI8/photo.jpg?sz=128", "display_name": "Osama Adel", "link": "https://stackoverflow.com/users/10377349/osama-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1540413740, "creation_date": 1540411849, "last_edit_date": 1540413740, "question_id": 52977242, "link": "https://stackoverflow.com/questions/52977242/need-to-translate-one-line-of-code-in-from-c-qt-to-pyqt", "title": "Need To Translate One Line of Code in from C++ Qt to PyQt", "body": "<p>What is the equivalent of this</p>\n\n<pre><code>QModelIndex index = ui-&gt;listView-&gt;currentIndex();\n</code></pre>\n\n<p>in Python, if my listView is self.listView</p>\n\n<p>It's all I need to know, I spent hours trying to search for an answer for a question and I only found it in C++.</p>\n\n<p>EDIT:</p>\n\n<p>Basically, in PyQt, to access the index of QListView you need to use QModelIndex, so I'm confused as to how to apply the QModelIndex on the QListView.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 1, "creation_date": 1540412422, "post_id": 52977236, "comment_id": 92861154, "body": "It looks like you are trying to do list comprehension with range. But you are passing a float as the second argument from range. <code>for i in range(0,n&#47;2):</code>. n/2 is not always an integer. It throws the error <code>TypeError float can not be interpreted as an integer</code>"}, {"owner": {"reputation": 752, "user_id": 5736700, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-YvcYJKRXxmg/AAAAAAAAAAI/AAAAAAAAARs/zGOz0_twPdI/photo.jpg?sz=128", "display_name": "Riley Hughes", "link": "https://stackoverflow.com/users/5736700/riley-hughes"}, "edited": false, "score": 0, "creation_date": 1540412776, "post_id": 52977236, "comment_id": 92861310, "body": "can you edit this and add the exact error you are getting? I do not see where you tried to use <i>getitem</i>"}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 4372081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c400c521f6152b30b677d71516a850b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Searle", "link": "https://stackoverflow.com/users/4372081/kevin-searle"}, "is_accepted": false, "score": 1, "last_activity_date": 1540412526, "creation_date": 1540412526, "answer_id": 52977395, "question_id": 52977236, "link": "https://stackoverflow.com/questions/52977236/datatype-definition-typeerror/52977395#52977395", "title": "Datatype definition - TypeError", "body": "<p>This is introducing a float:</p>\n\n<pre><code>for i in range(0,n/2):\n</code></pre>\n\n<p>Checkout: <a href=\"https://stackoverflow.com/questions/19824721/i-keep-getting-this-error-for-my-simple-python-program-typeerror-float-obje\">I keep getting this error for my simple python program: &quot;TypeError: &#39;float&#39; object cannot be interpreted as an integer&quot;</a></p>\n"}, {"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 1, "last_activity_date": 1540413455, "creation_date": 1540413455, "answer_id": 52977569, "question_id": 52977236, "link": "https://stackoverflow.com/questions/52977236/datatype-definition-typeerror/52977569#52977569", "title": "Datatype definition - TypeError", "body": "<p><code>Sole</code> and <code>Solo</code> are the return values from recursive calls to <code>FFT()</code>, but <code>FFT()</code>'s base case (when <code>n == 1</code>) returns a float, not a list, so the step above the base case will fail by trying to index a float.  Presumably, you want to change <code>return P[0]</code> in the base case to <code>return [P[0]]</code>.</p>\n"}], "owner": {"reputation": 133, "user_id": 5228094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1310cecdc225fc918f5de1c0b82e574c?s=128&d=identicon&r=PG&f=1", "display_name": "Rejoy Mathews", "link": "https://stackoverflow.com/users/5228094/rejoy-mathews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 52977569, "answer_count": 2, "score": 0, "last_activity_date": 1540413455, "creation_date": 1540411829, "last_edit_date": 1540412954, "question_id": 52977236, "link": "https://stackoverflow.com/questions/52977236/datatype-definition-typeerror", "title": "Datatype definition - TypeError", "body": "<pre><code>import cmath\nimport math\nimport random\nimport time\n\nP = []\nV = []\nVin = []\n\ndef Compute_wn_win(n,V,Vin):\n    for i in range (0,n):\n        V.append(complex(math.cos(2*math.pi*i/n),math.sin(2*math.pi*i/n)))\n        Vin.append(1/(complex(math.cos(2*math.pi*i/n),math.sin(2*math.pi*i/n))))    \n\nCompute_wn_win(8,V,Vin)\n\nfor i in range(0,8):\n    random_number = random.uniform(-1.0,1.0)\n    P.append(random_number)\n\ndef FFT(P,V,n):\n    if(n==1):\n        return P[0]\n    else:\n        Peven = []\n        Podd = []\n        for i in range(0,n/2):\n            Peven.append(P[2*i])\n            Podd.append(P[(2*i)+1])\n        Vsquared = []\n        for i in range(0,n/2):\n            Vsquared.append(V[i]*V[i])\n        Sole = FFT(Peven,Vsquared,n/2)\n        Solo = FFT(Podd,Vsquared,n/2)\n        Sol = [0 for x in range(0,n)]\n        for i in range(0,n/2):\n            Sol[i] = Sole[i]+V[i]*Solo[i]\n            Sol[i+n/2] = Sole[i]-V[i]*Solo[i]\n        return Sol\nSol = FFT(P,V,8)\n</code></pre>\n\n<p>I am new to Python. I have the following code. However I get the following error for lines <code>Sole = FFT(Peven,Vsquared,n/2)</code> and <code>Sol[i] = Sole[i]+V[i]*Solo[i]</code>. However, I have defined, Sole, Solo and Sol as list data type so I don't understand why it mentions that float datatype does not have an attribute <strong>getitem</strong></p>\n\n<p>Exact Error is</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/globetrekker/Documents/CS5050/Assignment7/Test_py.py\", line 40, in &lt;module&gt;\n    Sol = FFT(P,V,8)\n  File \"/Users/globetrekker/Documents/CS5050/Assignment7/Test_py.py\", line 33, in FFT\n    Sole = FFT(Peven,Vsquared,n//2)\n  File \"/Users/globetrekker/Documents/CS5050/Assignment7/Test_py.py\", line 33, in FFT\n    Sole = FFT(Peven,Vsquared,n//2)\n  File \"/Users/globetrekker/Documents/CS5050/Assignment7/Test_py.py\", line 37, in FFT\n    Sol[i] = Sole[i]+V[i]*Solo[i]\nTypeError: 'float' object has no attribute '__getitem__'\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe", "data-manipulation"], "answers": [{"tags": [], "owner": {"reputation": 3400, "user_id": 5436930, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5a549d841c057b40d6af0d82da734dd5?s=128&d=identicon&r=PG&f=1", "display_name": "Grigoriy Mikhalkin", "link": "https://stackoverflow.com/users/5436930/grigoriy-mikhalkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1540414578, "creation_date": 1540414578, "answer_id": 52977796, "question_id": 52977233, "link": "https://stackoverflow.com/questions/52977233/merge-dict-in-for-loop/52977796#52977796", "title": "Merge dict in for loop", "body": "<p>You don't need to create dataframe for each item in dict and then merge them. Use list comprehension to create rows list and create dataframe from it:</p>\n\n<pre><code>rows = [[\n    name, series.size, (sum(series.isnull().values.ravel()) / series.size) * 100, \n    series.unique().size, series.min(), series.quantile(0.25), series.mean(), \n    series.median(), series.quantile(0.75), series.max(), series.std()\n] for name, series in Quantitative.iteritems()]\n\ndt = pd.DataFrame(\n    rows, \n    columns=['Name', 'Count', '% Miss.', 'Card.', 'Min', '1st Qrt.',\n             'Mean', 'Median', '3rd Qrt.', 'Max', 'Std.'])\nprint(dt)\n</code></pre>\n"}], "owner": {"reputation": 1206, "user_id": 7651845, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fa3778b8c2abf35e7ebb2363aba38b23?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Chen", "link": "https://stackoverflow.com/users/7651845/peter-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52977796, "answer_count": 1, "score": 0, "last_activity_date": 1540414578, "creation_date": 1540411819, "last_edit_date": 1540413394, "question_id": 52977233, "link": "https://stackoverflow.com/questions/52977233/merge-dict-in-for-loop", "title": "Merge dict in for loop", "body": "<p>I want to create a new data frame using for loop.  </p>\n\n<pre><code>for (name, series) in Quantitative.iteritems():\ndata = {'Name': pd.Series(name), 'Count': pd.Series(Quantitative[name].size), \n        '% Miss.': pd.Series((sum(Quantitative[name].isnull().values.ravel()) / Quantitative[name].size) * 100), \n        'Card.': pd.Series(Quantitative[name].unique().size), 'Min': pd.Series(Quantitative[name].min()), \n        '1st Qrt.': pd.Series(Quantitative[name].quantile(0.25)), 'Mean': pd.Series(Quantitative[name].mean()), \n        'Median': pd.Series(Quantitative[name].median()), '3rd Qrt.': pd.Series(Quantitative[name].quantile(0.75)), \n        'Max': pd.Series(Quantitative[name].max()), 'Std.': pd.Series(Quantitative[name].std())}\ndt = pd.DataFrame(data)\nprint(pd.DataFrame(dt))\n</code></pre>\n\n<p>However, it creates multiple dictionaries. How can I merge them together?</p>\n"}, {"tags": ["python", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "edited": false, "score": 0, "creation_date": 1540479077, "post_id": 52982158, "comment_id": 92889631, "body": "I haven&#39;t f-string like f &quot;string&quot;. So I adapted <code>class MySpider(Spider):  name = &#39;arg&#39; global day day = None  def start_requests(self): url = &quot;https:&#47;&#47;www.website.com&#47;details&#47;2018-10-{day}&#47;pmu&#47;meeting&quot;.&zwnj;&#8203;format(**globals()) yield scrapy.Request(url=url, callback=self.parse) </code>  When I run <code>scrapy crawl arg -a day = 19</code> or even <code>day = &quot;19&quot;</code>, the argument day keep the value None. The command shows : <code>&lt;GET https:&#47;&#47;www.website.com&#47;details&#47;2018-10-None&#47;pmu&#47;meeting&gt;(fa&zwnj;&#8203;iled 1 times): 404 Not Found</code>"}, {"owner": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "edited": false, "score": 0, "creation_date": 1540479286, "post_id": 52982158, "comment_id": 92889764, "body": "and I tried with <code>self.day</code>, it kept <code>https:&#47;&#47;www.website.com&#47;details&#47;2018-10-{self.day}&#47;pmu&#47;meeti&zwnj;&#8203;ng</code>and it says <code>KeyError: &#39;self&#39; </code>. That is why I adapted too with <code>(**globals())</code>"}, {"owner": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "edited": false, "score": 0, "creation_date": 1540482817, "post_id": 52982158, "comment_id": 92891946, "body": "After some researchs that you inspired me with your <code>scrapy crawl arg -a foo=1 -a bar=2</code> example.  I found a way that works. Inspired by this <a href=\"http://neuralfoundry.com/pass-user-defined-argument-scrapy-spider/\" rel=\"nofollow noreferrer\">website&#39;s example</a>, I did  <code>class MySpider(scrapy.Spider): \tname = &quot;arg&quot; \tallowed_domains = [&#39;www.website.com&#39;] \t def __init__ (self, day=None, *args, **kwargs) : \tsuper(MySpider, self).__init__(*args, **kwargs) \tself.start_urls = [&quot;https:&#47;&#47;www.website.com&#47;details&#47;2018-10-{0}&#47;pmu&#47;meeting&quot;.f&zwnj;&#8203;ormat(day)] \t def parse(self, response): \t... </code> Thank you for your help."}, {"owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "reply_to_user": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "edited": false, "score": 0, "creation_date": 1540515093, "post_id": 52982158, "comment_id": 92904454, "body": "The constructor in your example is completely unnecessary other than for visual explicitness."}], "tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": false, "score": 0, "last_activity_date": 1540446585, "creation_date": 1540446585, "answer_id": 52982158, "question_id": 52977185, "link": "https://stackoverflow.com/questions/52977185/how-to-run-several-versions-of-one-single-spider-at-one-time-with-scrapy/52982158#52982158", "title": "How to run several versions of one single spider at one time with Scrapy?", "body": "<p>Scrapy supports spider arguments. Weirdly enough there's no straightforward documentation, but I'll try to fill in:</p>\n\n<p>When you run a <code>crawl</code> command you may provide <code>-a NAME=VALUE</code> arguments and these will be set as your spider class instance variables. For example:</p>\n\n<pre><code>class MySpider(Spider):\n    name = 'arg'\n    # we will set below when running the crawler\n    foo = None \n    bar = None\n\n    def start_requests(self):\n        url = f'http://example.com/{self.foo}/{self.bar}'\n        yield Request(url)\n</code></pre>\n\n<p>And if we run it:</p>\n\n<pre><code>scrapy crawl arg -a foo=1 -a bar=2\n# will crawl example.com/1/2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "is_accepted": true, "score": 0, "last_activity_date": 1549903686, "last_edit_date": 1549903686, "creation_date": 1540548198, "answer_id": 53006233, "question_id": 52977185, "link": "https://stackoverflow.com/questions/52977185/how-to-run-several-versions-of-one-single-spider-at-one-time-with-scrapy/53006233#53006233", "title": "How to run several versions of one single spider at one time with Scrapy?", "body": "<p>So, I find a solution inspired of the <code>scrapy crawl -a variable=value</code></p>\n\n<p>The spider concerned, in \"spiders\" folder was transformed:</p>\n\n<pre><code>class MySpider(scrapy.Spider):\nname = \"arg\"\nallowed_domains = ['www.website.com']\n\n    def __init__ (self, lo_lim=None, up_lim=None , type_of_race = None) : #lo_lim = 2017 , up_lim = 2019, type_of_race = pmu\n        year  = range(int(lo_lim), int(up_lim)) # lower limit, upper limit, must be convert to integer type, instead this is string type\n        month = range(1,13) #12 months\n        day   = range(1,32) #31 days\n        url   = []\n        for y in year:\n            for m in month:\n                for d in day:\n                    url.append(\"https://www.website.com/details/{}-{}-{}/{}/meeting\".format(y,m,d,type_of_race))\n\n        self.start_urls = url #where url = [\"https://www.website.com/details/2017-1-1/pmu/meeting\",\n                                        #\"https://www.website.com/details/2017-1-2/pmu/meeting\",\n                                        #...\n                                        #\"https://www.website.com/details/2017-12-31/pmu/meeting\"\n                                        #\"https://www.website.com/details/2018-1-1/pmu/meeting\",\n                                        #\"https://www.website.com/details/2018-1-2/pmu/meeting\",\n                                        #...\n                                        #\"https://www.website.com/details/2018-12-31/pmu/meeting\"]\n\n    def parse(self, response):\n        ...`\n</code></pre>\n\n<p>Then, it answers to my problematic: to keep <strong>one single</strong> spider, and to run several versions of it by serveral commands <strong>at one time</strong> without trouble.</p>\n\n<p>Without a <code>def __init__</code> it didn't work for me. I tried a lot of ways, that is this perfectible code that works for me.</p>\n\n<p>Scrapy version: 1.5.0, Python version: 2.7.9, Mongodb version: 3.6.4, Pymongo version: 3.6.1</p>\n"}], "owner": {"reputation": 774, "user_id": 10314460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Ukp.jpg?s=128&g=1", "display_name": "AvyWam", "link": "https://stackoverflow.com/users/10314460/avywam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 53006233, "answer_count": 2, "score": 1, "last_activity_date": 1549903686, "creation_date": 1540411623, "question_id": 52977185, "link": "https://stackoverflow.com/questions/52977185/how-to-run-several-versions-of-one-single-spider-at-one-time-with-scrapy", "title": "How to run several versions of one single spider at one time with Scrapy?", "body": "<p>My problematic is the following:</p>\n\n<p>To win time, I would like to run several versions of <strong>one single</strong> spider.\nThe process (parsing definitions) is the same, the items are the same, and the collection in database is the same. What is changing is the start_url variable.\nIt looks like this: </p>\n\n<pre><code>\"https://www.website.com/details/{0}-{1}-{2}/{3}/meeting\".format(year,month,day,type_of_meeting)\n</code></pre>\n\n<p>Considering the date is the same, for instance 2018-10-24, I would like to launch two versions in the same time:</p>\n\n<ul>\n<li>version 1 <code>type_of_meeting = pmu</code></li>\n<li>version 2 with <code>type_of_meeting = pmh</code></li>\n</ul>\n\n<p>This is the first part of my problematic. And here I wonder if I must create two different classes in <strong>one single</strong> spider, like <code>class SpiderPmu(scrapy.Spider):</code> and <code>class SpiderPmh(scrapy.Spider):</code> in <code>spider.py</code>. But if it is the best way you think I must do, I don't know how to implement it considering settings.py, pipelines.py. I already read about <code>CrawlerProcess</code> from <code>scrapy.crawler</code> module but I don't understand well how to implement it in my project. <a href=\"https://stackoverflow.com/questions/10943745/running-multiple-spiders-in-scrapy\">stack subject</a>, <a href=\"https://doc.scrapy.org/en/latest/topics/practices.html#running-multiple-spiders-in-the-same-process\" rel=\"nofollow noreferrer\">scrapy doc</a>. I am not sure the part \n<code>process = CrawlerProcess()\nprocess.crawl(MySpider1)\nprocess.crawl(MySpider2)\nprocess.start()</code> must be in the spider.py file. Above all, I am not sure it answers to my problematic.</p>\n\n<p>The second part, is how to launch several versions considering different date intervals.</p>\n\n<p>I already created some range of intervals in my spider class like: </p>\n\n<ul>\n<li><code>year  = range(2005,2019)</code></li>\n<li><code>month = range(1,13)</code></li>\n<li><code>day   = range(1,32)</code></li>\n</ul>\n\n<p>and put it in a loop. That works well.</p>\n\n<p>But to win time, I would like to launch several spiders, with different intervals of years.</p>\n\n<ul>\n<li>1st version with <code>year = range(2005,2007)</code></li>\n<li>2nd version with <code>year = range(2007,2009)</code></li>\n<li>and so on, until <code>year = range(2017,2019)</code></li>\n</ul>\n\n<p>Seven versions in the same time means seven times faster.</p>\n\n<p>I could create 7 different projects for each range of years, but I think this is not the smartest way... and I am not sure if it will, or not, create a conflict to use the same collection database for 7 different projects running in the same time.</p>\n\n<p>I expect to do something like opening 7 commands:</p>\n\n<ol>\n<li><code>scrapy crawl spiderpmu</code> for the version <code>type_of_race = pmu</code></li>\n<li><code>\"Enter a range of year\":</code> with <code>raw_input = 2010, 2012</code> ==> <code>range(2010,2012)</code></li>\n<li>Spider is crawling</li>\n</ol>\n\n<p>in parallel, if this is compulsory, to do:</p>\n\n<ol>\n<li><code>scrapy crawl spiderpmh</code> for the version <code>type_of_race = pmh</code></li>\n<li><code>\"Enter a range of year\":</code> with <code>raw_input = 2010, 2012</code> ==> <code>range(2010,2012)</code></li>\n<li>Spider is crawling</li>\n</ol>\n\n<p>Possibly using <strong>one single</strong> spider, or <strong>one single</strong> project if needed.</p>\n\n<p>How can I do?</p>\n\n<p>PS: I already made arrangements with prolipo as proxy, Tor network to change IP, and <code>USER_AGENT</code> always changing. So, I avoid to be banned by crawling with multiple spiders in the same time. And my spider is \"polite\" with <code>AUTOTHROTTLE_ENABLED = True</code>. I want to keep it polite, but faster.</p>\n\n<p>Scrapy version: 1.5.0, Python version: 2.7.9, Mongodb version: 3.6.4, Pymongo version: 3.6.1</p>\n"}, {"tags": ["python", "tensorflow", "tensor", "transformer"], "comments": [{"owner": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1540412147, "post_id": 52977150, "comment_id": 92861022, "body": "Can you create a <a href=\"https://stackoverflow.com/help/mcve\">minimal verifiable</a> example? Are you doing something like using a <code>Jupyter notebook</code> where you&#39;re retaining state?"}, {"owner": {"reputation": 3302, "user_id": 5833067, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d9af3c601efba23a5f6850110240d951?s=128&d=identicon&r=PG&f=1", "display_name": "noob", "link": "https://stackoverflow.com/users/5833067/noob"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1540419562, "post_id": 52977150, "comment_id": 92863772, "body": "@user49593 Hi, I will do that and edit it in thanks. But in the mean time, yes, I believe it must have something to do with it point to an old graph model or something. But I&#39;ve restarted the terminal and looked into clearing some kind of cache, but no success :("}, {"owner": {"reputation": 3302, "user_id": 5833067, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d9af3c601efba23a5f6850110240d951?s=128&d=identicon&r=PG&f=1", "display_name": "noob", "link": "https://stackoverflow.com/users/5833067/noob"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1540421132, "post_id": 52977150, "comment_id": 92864263, "body": "@user49593 I have just added a specific link to the file via github, don&#39;t think it&#39;s feasible to create a shorter snippet. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3458, "user_id": 268408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ff6fc119ef9401ca3d5342dc156acdd?s=128&d=identicon&r=PG", "display_name": "forefinger", "link": "https://stackoverflow.com/users/268408/forefinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1540938952, "creation_date": 1540938952, "answer_id": 53073854, "question_id": 52977150, "link": "https://stackoverflow.com/questions/52977150/invalidargumenterror-mismatch-between-the-current-graph-and-the-graph-from-the/53073854#53073854", "title": "InvalidArgumentError: Mismatch between the current graph and the graph from the checkpoint", "body": "<p>The large number is almost certainly the size of your vocabulary. The initial matrix will have size [vocab_size, hidden_dim]. So by changing the size of your vocab you are breaking things.</p>\n\n<p>Presumably the solution is just to make sure you clean out all your checkpoints so that you are only looking at models trained with the vocabulary you want.</p>\n"}, {"tags": [], "owner": {"reputation": 791, "user_id": 4940835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def3d5c79586a74ea6911db90d08fb04?s=128&d=identicon&r=PG&f=1", "display_name": "kevin", "link": "https://stackoverflow.com/users/4940835/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1552388250, "creation_date": 1552388250, "answer_id": 55119829, "question_id": 52977150, "link": "https://stackoverflow.com/questions/52977150/invalidargumenterror-mismatch-between-the-current-graph-and-the-graph-from-the/55119829#55119829", "title": "InvalidArgumentError: Mismatch between the current graph and the graph from the checkpoint", "body": "<p>I was getting a similar error, I my case it seems that the output of previous failed jobs was remaining on the output dir and there were some incompatibilities when saving/restoring the checkpoints of the new job, so I just <strong>cleaned it up the output dir</strong> and then the new job worked correctly. </p>\n"}, {"tags": [], "owner": {"reputation": 1255, "user_id": 1490940, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HIiBv.jpg?s=128&g=1", "display_name": "siraj pathan", "link": "https://stackoverflow.com/users/1490940/siraj-pathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1589534850, "last_edit_date": 1589534850, "creation_date": 1588794797, "answer_id": 61644152, "question_id": 52977150, "link": "https://stackoverflow.com/questions/52977150/invalidargumenterror-mismatch-between-the-current-graph-and-the-graph-from-the/61644152#61644152", "title": "InvalidArgumentError: Mismatch between the current graph and the graph from the checkpoint", "body": "<p>I was facing same issue while exporting/saving the model. I was referring to example given in this URL: <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/exporting_models.md\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/exporting_models.md</a></p>\n\n<p><strong>There are three things which you have to make sure are correct, if you are facing above issue:</strong></p>\n\n<ol>\n<li><p>Cleanup model directory and extract fresh model</p></li>\n<li><p>Make sure that you are using correct pair of pipeline-config file and its corresponding TF model.</p></li>\n<li><p>use correct model checkpoint. see below example for that:</p></li>\n</ol>\n\n<p>I updated my TRAINED_CKPT_PREFIX value to the saving point of my model and it worked from me (see below example):</p>\n\n<pre><code>TRAINED_CKPT_PREFIX=./data/model.ckpt-139\n</code></pre>\n\n<p>In your case please use your saving point number in my case it is 139</p>\n\n<p>Previously I was using <code>./data/model.ckpt</code> only which was not working.</p>\n"}], "owner": {"reputation": 3302, "user_id": 5833067, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d9af3c601efba23a5f6850110240d951?s=128&d=identicon&r=PG&f=1", "display_name": "noob", "link": "https://stackoverflow.com/users/5833067/noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4474, "favorite_count": 1, "answer_count": 3, "score": 11, "last_activity_date": 1589534850, "creation_date": 1540411468, "last_edit_date": 1540421086, "question_id": 52977150, "link": "https://stackoverflow.com/questions/52977150/invalidargumenterror-mismatch-between-the-current-graph-and-the-graph-from-the", "title": "InvalidArgumentError: Mismatch between the current graph and the graph from the checkpoint", "body": "<p>So I am basically using this transformer implementation for my project: <a href=\"https://github.com/Kyubyong/transformer\" rel=\"noreferrer\">https://github.com/Kyubyong/transformer</a> . \nIt works great on the German to English translation it was originally written for and I modified the processing python script in order to create vocabulary files for the languages that I want to translate. This seems to work fine.</p>\n\n<p>However when it comes to training I get the following error:</p>\n\n<blockquote>\n  <p>InvalidArgumentError (see above for traceback): Restoring from\n  checkpoint failed. This is most likely due to a mismatch between the\n  current graph and the graph from the checkpoint. Please ensure that\n  you have not altered the graph expected based on the checkpoint.\n  Original error:</p>\n  \n  <p>Assign requires shapes of both tensors to match. lhs shape= [9796,512]\n  rhs shape= [9786,512]      [[{{node save/Assign_412}} =\n  Assign[T=DT_FLOAT, _class=[\"loc:@encoder/enc_embed/lookup_table\"],\n  use_locking=true, validate_shape=true,\n  _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](encoder/enc_embed/lookup_table/Adam_1,\n  save/RestoreV2:412)]]</p>\n</blockquote>\n\n<p>Now I have no idea why I am getting the above error. I also reverted to the original code to translate from German to English and now I get the same error (except the lhs and rhs tensor shapes are different of course), when before it was working! </p>\n\n<p>Any ideas on why this could be happening?</p>\n\n<p>Thanks in advance</p>\n\n<p>EDIT: This is the specific file in question here, the train.py when it is run: <a href=\"https://github.com/Kyubyong/transformer/blob/master/train.py\" rel=\"noreferrer\">https://github.com/Kyubyong/transformer/blob/master/train.py</a> \nNothing has been modified other than the fact that the vocab loaded for de and en are differently (they're in fact vocab files with single letters as words). However as I mentioned that even when resorting back to the prevous working example I get the same error with different lhs and rhs dimensions. </p>\n"}, {"tags": ["python", "arrays", "tensorflow", "keras", "training-data"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 8506781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpnBFTf3EPg/AAAAAAAAAAI/AAAAAAAAAGo/BZzuuDG-z5g/photo.jpg?sz=128", "display_name": "Paul SZ", "link": "https://stackoverflow.com/users/8506781/paul-sz"}, "edited": false, "score": 0, "creation_date": 1540712979, "post_id": 52977916, "comment_id": 92959694, "body": "So, a possible fix would be passing say img_width and img_height to input_shape? As such input_shape(3, img_width, img_height)"}, {"owner": {"reputation": 1021, "user_id": 9919799, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EB55YtN7LqE/AAAAAAAAAAI/AAAAAAAABAo/Hecj9-oeMqs/photo.jpg?sz=128", "display_name": "Kurtis Streutker", "link": "https://stackoverflow.com/users/9919799/kurtis-streutker"}, "reply_to_user": {"reputation": 67, "user_id": 8506781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpnBFTf3EPg/AAAAAAAAAAI/AAAAAAAAAGo/BZzuuDG-z5g/photo.jpg?sz=128", "display_name": "Paul SZ", "link": "https://stackoverflow.com/users/8506781/paul-sz"}, "edited": false, "score": 0, "creation_date": 1540747027, "post_id": 52977916, "comment_id": 92968230, "body": "No, I am saying resize your images to be the same <code>img_arr_conv = np.array([cv2.resize(img, dsize=(48, 48)) for img in training_images])</code>"}, {"owner": {"reputation": 67, "user_id": 8506781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpnBFTf3EPg/AAAAAAAAAAI/AAAAAAAAAGo/BZzuuDG-z5g/photo.jpg?sz=128", "display_name": "Paul SZ", "link": "https://stackoverflow.com/users/8506781/paul-sz"}, "edited": false, "score": 0, "creation_date": 1540808657, "post_id": 52977916, "comment_id": 92986057, "body": "Will try that. Thanks."}, {"owner": {"reputation": 67, "user_id": 8506781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpnBFTf3EPg/AAAAAAAAAAI/AAAAAAAAAGo/BZzuuDG-z5g/photo.jpg?sz=128", "display_name": "Paul SZ", "link": "https://stackoverflow.com/users/8506781/paul-sz"}, "edited": false, "score": 0, "creation_date": 1540811919, "post_id": 52977916, "comment_id": 92988000, "body": "Thank you so much, good sir. You have no idea how much time I have wasted on this error. Guess I was just being dumb. Again, thank you!"}], "tags": [], "owner": {"reputation": 1021, "user_id": 9919799, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EB55YtN7LqE/AAAAAAAAAAI/AAAAAAAABAo/Hecj9-oeMqs/photo.jpg?sz=128", "display_name": "Kurtis Streutker", "link": "https://stackoverflow.com/users/9919799/kurtis-streutker"}, "is_accepted": true, "score": 2, "last_activity_date": 1540415205, "creation_date": 1540415205, "answer_id": 52977916, "question_id": 52977133, "link": "https://stackoverflow.com/questions/52977133/expected-ndim-4-found-ndim-5-and-other-errors-keras-gtsrb-dataset/52977916#52977916", "title": "expected ndim = 4 found ndim = 5 and other errors - Keras - GTSRB dataset", "body": "<p>You cannot reshape an np.array to something the dimesions do not allow. Here is what you can do </p>\n\n<pre><code>import numpy as np \nimg_arr = np.array([np.ones((30, 29, 3)), \n                    np.ones((54, 57, 3)), \n                    np.ones((69, 63, 3)), \n                    np.ones((52, 51, 3))])\n\nprint(img_arr.shape)\n\nimport cv2\nimg_arr_conv = np.array([cv2.resize(img, dsize=(48, 48)) for img in img_arr])\nprint(img_arr_conv.shape)\n\n&gt;&gt;&gt;(4,)\n&gt;&gt;&gt;(4, 48, 48, 3)\n</code></pre>\n\n<p>You were getting the <code>ValueError: cannot reshape array of size 9030 into shape (48,48,3)</code> because numpy cannot infer the dimensions of an array if the elements are all different sizes and it cannot reshape an array that the dimensions do not allow. This is also the case for <code>ValueError: Error when checking input: expected conv2d_41_input to have 4 dimensions, but got array with shape (9030, 1)</code>. Numpy only knows there are 9030 elements in the array. It cannot do anything more than that because all the dimensions of the elements are different.<br>\nExample</p>\n\n<pre><code>img_arr_bad = np.array([np.ones((30, 29, 3)), \n                        np.ones((54, 57, 3)), \n                        np.ones((69, 63, 3)), \n                        np.ones((52, 51, 3))])\n\nimg_arr_good = np.array([np.ones((48, 48, 3)), \n                         np.ones((48, 48, 3)), \n                         np.ones((48, 48, 3)), \n                         np.ones((48, 48, 3))])\n\nprint(img_arr_bad.shape)\nprint(img_arr_good.shape)\n\n&gt;&gt;&gt;(4,)\n&gt;&gt;&gt;(4, 48, 48, 3)\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 67, "user_id": 8506781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gpnBFTf3EPg/AAAAAAAAAAI/AAAAAAAAAGo/BZzuuDG-z5g/photo.jpg?sz=128", "display_name": "Paul SZ", "link": "https://stackoverflow.com/users/8506781/paul-sz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 52977916, "answer_count": 1, "score": 0, "last_activity_date": 1540415205, "creation_date": 1540411402, "last_edit_date": 1540411748, "question_id": 52977133, "link": "https://stackoverflow.com/questions/52977133/expected-ndim-4-found-ndim-5-and-other-errors-keras-gtsrb-dataset", "title": "expected ndim = 4 found ndim = 5 and other errors - Keras - GTSRB dataset", "body": "<p>I'm trying to make a CNN model based on the GTSRB dataset (link given below), but I'm faced with the following error:</p>\n\n<p>When I set the input_shape = input_shape=(3, IMG_SIZE, IMG_SIZE), I get this error:</p>\n\n<blockquote>\n  <p>ValueError: Error when checking input: expected conv2d_34_input to\n  have 4 dimensions, but got array with shape (9030, 1)</p>\n</blockquote>\n\n<p>When I researched the problem, I found that one solution may be passing the batch_size as a parameter, when I try that, I get this error:</p>\n\n<blockquote>\n  <p>ValueError: Input 0 is incompatible with layer conv2d_40: expected\n  ndim=4, found ndim=5</p>\n</blockquote>\n\n<p>When I try to reshape the training_images, I get this error:</p>\n\n<blockquote>\n  <p>ValueError: cannot reshape array of size 9030 into shape (48,48,3)</p>\n</blockquote>\n\n<p>Snippets of the code:\nLoading the training dataset:</p>\n\n<pre><code>import csv\n\n# Training dataset\ndef readTrafficSignsTrain(rootpath):\n    '''Reads traffic sign data for German Traffic Sign Recognition Benchmark.\n\n    Arguments: path to the traffic sign data, for example './GTSRB/Training'\n    Returns:   list of images, list of corresponding labels'''\n    images = [] # images\n    labels = [] # corresponding labels\n\n    # loop over all 42 classes\n    for c in range(0,43):\n#         prefix = rootpath + '/' + format(c, '05d') + '/' # subdirectory for class\n#         annFile = open(prefix + 'GT-'+ format(c, '05d') + '.csv') # annotations file\n        prefix = rootpath + '/00000' + '/'\n        annFile = open(prefix + 'GT-00000' + '.csv')\n        annReader = csv.reader(annFile, delimiter=';') # csv parser for annotations file\n        next(annReader, None) # skip header\n\n        # loop over all images in current annotations file\n        for row in annReader:\n            images.append(plt.imread(prefix + row[0])) # the 1st column is the filename\n            labels.append(row[7]) # the 8th column is the label\n\n        annFile.close()\n    return images, labels\n\ntraining_images, training_labels = readTrafficSignsTrain('./GTSRB/Training')\n</code></pre>\n\n<p>Here's a problem, the images shapes are not the same, for example</p>\n\n<pre><code>print(len(training_images))\nprint(len(training_labels))\nprint()\nprint(training_images[0].shape)\nprint(training_images[20].shape)\nprint(training_images[200].shape)\nprint(training_images[2000].shape)\n</code></pre>\n\n<p>Outputs</p>\n\n<blockquote>\n  <p>9030 9030</p>\n  \n  <p>(30, 29, 3) (54, 57, 3) (69, 63, 3) (52, 51, 3)</p>\n</blockquote>\n\n<p>Layer setup (copied and pasted from a Keras documentation linked below):</p>\n\n<pre><code>IMG_SIZE = 48\nNUM_CLASSES = 43\nK.set_image_data_format('channels_first')\n\nbatch_size = 32\n\ndef cnn_model():\n    model = Sequential()\n\n    model.add(Conv2D(32, (3, 3), padding='same',\n                     input_shape=(3, IMG_SIZE, IMG_SIZE),\n                     activation='relu',\n                     data_format=\"channels_first\"))\n    model.add(Conv2D(32, (3, 3), activation='relu'))\n    model.add(MaxPooling2D(pool_size=(2, 2), data_format=\"channels_first\"))\n    model.add(Dropout(0.2))\n\n    model.add(Conv2D(64, (3, 3), padding='same',\n                     activation='relu'))\n    model.add(Conv2D(64, (3, 3), activation='relu'))\n    model.add(MaxPooling2D(pool_size=(2, 2)))\n    model.add(Dropout(0.2))\n\n    model.add(Conv2D(128, (3, 3), padding='same',\n                     activation='relu'))\n    model.add(Conv2D(128, (3, 3), activation='relu'))\n    model.add(MaxPooling2D(pool_size=(2, 2)))\n    model.add(Dropout(0.2))\n\n    model.add(Flatten())\n    model.add(Dense(512, activation='relu'))\n    model.add(Dropout(0.5))\n    model.add(Dense(NUM_CLASSES, activation='softmax'))\n    return model\n\nmodel = cnn_model()\n</code></pre>\n\n<p>Training the model (just model.fit for the time being</p>\n\n<pre><code>import numpy\n\ntrim = numpy.array(training_images)\ntrlb = numpy.array(training_labels)\n\nprint(training_images[0].shape)\nprint(trim.shape)\n\ntrim - trim.reshape(48, 48, 3)\n\nmodel.fit(trim, trlb, epochs = 30, batch_size = 32)\n</code></pre>\n\n<p>Output</p>\n\n<blockquote>\n  <p>ValueError: cannot reshape array of size 9030 into shape (48,48,3)</p>\n</blockquote>\n\n<p>When I remove the reshape</p>\n\n<blockquote>\n  <p>ValueError: Error when checking input: expected conv2d_41_input to\n  have 4 dimensions, but got array with shape (9030, 1)</p>\n</blockquote>\n\n<p>When I use this instead</p>\n\n<pre><code>model.fit(training_images, training_labels, epochs = 30, batch_size = 32)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>&gt; ValueError: Error when checking model input: the list of Numpy arrays\n&gt; that you are passing to your model is not the size the model expected.\n&gt; Expected to see 1 array(s), but instead got the following list of 9030\n&gt; arrays: [array([[[ 75,  78,  80],\n&gt;             [ 74,  76,  78],\n&gt;             [ 86,  87,  84],\n&gt;             ...,\n&gt;             [ 68,  75,  75],\n&gt;             [ 65,  69,  68],\n&gt;             [ 66,  67,  66]],\n&gt;     \n&gt;            [[ 83,  84,  86],\n&gt;             [...\n</code></pre>\n\n<p>So, if I do that (not really sure why)</p>\n\n<pre><code>for i in range(len(training_images)):\n    model.fit(training_images[i], training_labels[i], epochs = 30, batch_size = 32)\n</code></pre>\n\n<p>I get</p>\n\n<blockquote>\n  <p>ValueError: Error when checking input: expected conv2d_41_input to\n  have 4 dimensions, but got array with shape (30, 29, 3)</p>\n</blockquote>\n\n<p>That is with </p>\n\n<pre><code>input_shape=(3, IMG_SIZE, IMG_SIZE)\n</code></pre>\n\n<p>If I make </p>\n\n<pre><code>input_shape=(batch_size, 3, IMG_SIZE, IMG_SIZE)\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>ValueError: Input 0 is incompatible with layer conv2d_47: expected\n  ndim=4, found ndim=5</p>\n</blockquote>\n\n<p>Output of model.summary()</p>\n\n<pre><code>_________________________________________________________________\nLayer (type)                 Output Shape              Param #   \n=================================================================\nconv2d_34 (Conv2D)           (None, 32, 48, 48)        896       \n_________________________________________________________________\nconv2d_35 (Conv2D)           (None, 32, 46, 46)        9248      \n_________________________________________________________________\nmax_pooling2d_14 (MaxPooling (None, 32, 23, 23)        0         \n_________________________________________________________________\ndropout_14 (Dropout)         (None, 32, 23, 23)        0         \n_________________________________________________________________\nconv2d_36 (Conv2D)           (None, 64, 23, 23)        18496     \n_________________________________________________________________\nconv2d_37 (Conv2D)           (None, 64, 21, 21)        36928     \n_________________________________________________________________\nmax_pooling2d_15 (MaxPooling (None, 64, 10, 10)        0         \n_________________________________________________________________\ndropout_15 (Dropout)         (None, 64, 10, 10)        0         \n_________________________________________________________________\nconv2d_38 (Conv2D)           (None, 128, 10, 10)       73856     \n_________________________________________________________________\nconv2d_39 (Conv2D)           (None, 128, 8, 8)         147584    \n_________________________________________________________________\nmax_pooling2d_16 (MaxPooling (None, 128, 4, 4)         0         \n_________________________________________________________________\ndropout_16 (Dropout)         (None, 128, 4, 4)         0         \n_________________________________________________________________\nflatten_4 (Flatten)          (None, 2048)              0         \n_________________________________________________________________\ndense_10 (Dense)             (None, 512)               1049088   \n_________________________________________________________________\ndropout_17 (Dropout)         (None, 512)               0         \n_________________________________________________________________\ndense_11 (Dense)             (None, 43)                22059     \n=================================================================\nTotal params: 1,358,155\nTrainable params: 1,358,155\nNon-trainable params: 0\n_________________________________________________________________\nNone\n</code></pre>\n\n<p>If anyone can help, that would be mostly appreciated.</p>\n\n<p>Links\nGTSRB: <a href=\"http://benchmark.ini.rub.de/?section=gtsrb&amp;subsection=news\" rel=\"nofollow noreferrer\">http://benchmark.ini.rub.de/?section=gtsrb&amp;subsection=news</a>\nKeras documentation I got the model from: <a href=\"https://chsasank.github.io/keras-tutorial.html\" rel=\"nofollow noreferrer\">https://chsasank.github.io/keras-tutorial.html</a></p>\n\n<p>Link for the full project on github: <a href=\"https://github.com/PavlySz/TSR-Project\" rel=\"nofollow noreferrer\">https://github.com/PavlySz/TSR-Project</a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "json", "api", "instagram", "urllib"], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 8220110, "user_type": "registered", "profile_image": "https://graph.facebook.com/1368216509881989/picture?type=large", "display_name": "Brice Frisco", "link": "https://stackoverflow.com/users/8220110/brice-frisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1540412425, "creation_date": 1540412425, "answer_id": 52977376, "question_id": 52977081, "link": "https://stackoverflow.com/questions/52977081/how-to-get-all-images-by-hashtag-using-instagram-api/52977376#52977376", "title": "How to get all images by hashtag using instagram API?", "body": "<p>Please read a similar post on this topic <a href=\"https://stackoverflow.com/questions/34734962/instagram-api-get-all-photos-by-hashtag\">here</a>. In order to access any public data, you need to get your app approved by Instagram.</p>\n\n<p>The only thing the query will return before your app is approved is your own photos.</p>\n"}], "owner": {"reputation": 461, "user_id": 2856064, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/53fc0571902685d290eb08cdd08c1602?s=128&d=identicon&r=PG&f=1", "display_name": "user2856064", "link": "https://stackoverflow.com/users/2856064/user2856064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1521, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1608560175, "creation_date": 1540411209, "last_edit_date": 1608560175, "question_id": 52977081, "link": "https://stackoverflow.com/questions/52977081/how-to-get-all-images-by-hashtag-using-instagram-api", "title": "How to get all images by hashtag using instagram API?", "body": "<p>I am trying to get all images using specific hashtag e.g. egipt. My query is</p>\n<p><a href=\"https://api.instagram.com/v1/tags/egipt/media/recent?access_token=%7Baccess.token%7D\" rel=\"nofollow noreferrer\">https://api.instagram.com/v1/tags/egipt/media/recent?access_token={access.token}</a></p>\n<p>Different combinations as well.</p>\n<p>I am not getting any data or getting empty data or\ndeprecation_warning &quot;next_max_id and min_id are deprecated for this endpoint; use min_tag_id and max_tag_id instead&quot;.</p>\n<p>Is is possible to write simple request and get related data via Instagram API?</p>\n"}, {"tags": ["python", "arrays", "list", "arguments", "python-3.7"], "comments": [{"owner": {"reputation": 276, "user_id": 8895717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NRZT.jpg?s=128&g=1", "display_name": "Samantha Miller", "link": "https://stackoverflow.com/users/8895717/samantha-miller"}, "edited": false, "score": 1, "creation_date": 1540411765, "post_id": 52977060, "comment_id": 92860821, "body": "I&#39;m having trouble understanding your question. Would you like to be able to print the location of items from an array, using indices from a list? Like if you had a list <code>a = [&#39;apple&#39;, &#39;banana&#39;, &#39;carrot&#39;]</code> and another list of indices <code>b = [0, 2]</code>, you would get <code>apple, carrot</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10387946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9721745d4e634aff21f20fc02af2f2ef?s=128&d=identicon&r=PG&f=1", "display_name": "ChefJ", "link": "https://stackoverflow.com/users/10387946/chefj"}, "edited": false, "score": 0, "creation_date": 1540414002, "post_id": 52977284, "comment_id": 92861833, "body": "Quick question Patrick why changing  for pos in range(0, len(wydatki)): to : for pos,value in enumerate(wydatki): is it just making code more efficient? or does it serve any other purpouse?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 3, "user_id": 10387946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9721745d4e634aff21f20fc02af2f2ef?s=128&d=identicon&r=PG&f=1", "display_name": "ChefJ", "link": "https://stackoverflow.com/users/10387946/chefj"}, "edited": false, "score": 0, "creation_date": 1540414213, "post_id": 52977284, "comment_id": 92861935, "body": "@ChefJ: because it feels clumsy to do it. If I need positions while iterating an iterable I use <code>enumerate(iterable)</code> wich gives me position AND value without need to index back into my iterable usign the index. Same for <code>found=True</code> - its simply not needed - you declare a variable that captures if something was put into <code>location</code> - you can instead simply use <code>location</code> itself - if there is anything in it, it is <code>True</code>, else it is <code>False</code>: see <a href=\"https://docs.python.org/3/library/stdtypes.html#truth-value-testing\" rel=\"nofollow noreferrer\">truth-value-testing</a>"}, {"owner": {"reputation": 3, "user_id": 10387946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9721745d4e634aff21f20fc02af2f2ef?s=128&d=identicon&r=PG&f=1", "display_name": "ChefJ", "link": "https://stackoverflow.com/users/10387946/chefj"}, "edited": false, "score": 0, "creation_date": 1540414508, "post_id": 52977284, "comment_id": 92862052, "body": "appreciate it just starting off with python 5 weeks in so all is new."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 3, "user_id": 10387946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9721745d4e634aff21f20fc02af2f2ef?s=128&d=identicon&r=PG&f=1", "display_name": "ChefJ", "link": "https://stackoverflow.com/users/10387946/chefj"}, "edited": false, "score": 0, "creation_date": 1540414532, "post_id": 52977284, "comment_id": 92862066, "body": "@ChefJ if you want to read about input validation as well, read up on <a href=\"https://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\">Asking user for input until they give a valid response</a> - if you are new you might want to go to the [python] tab and switch to <b>Votes</b> (<a href=\"https://stackoverflow.com/questions/tagged/python?sort=votes&amp;pageSize=50\">stackoverflow.com/questions/tagged/&hellip;</a>) - the first 100 or so are a really great read of does and donts - same for the python-3.x tag : <a href=\"https://stackoverflow.com/questions/tagged/python-3.x?sort=votes&amp;pageSize=50\">stackoverflow.com/questions/tagged/&hellip;</a> - they are highest ranked Q&amp;A topics"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 0, "last_activity_date": 1540412034, "creation_date": 1540412034, "answer_id": 52977284, "question_id": 52977060, "link": "https://stackoverflow.com/questions/52977060/array-as-position-argument/52977284#52977284", "title": "array as position argument", "body": "<p>You can if you change your output a bit:</p>\n\n<pre><code>target = 42\nlocation = []\n# 42 occures at positions 3,6,8\n#           0 1 2 3  4 5 6  7 8  9\nwydatki = [ 1,2,3,42,4,5,42,6,42,8]\n\n#         pos: 01234567890\nmonths = list(\"abcdefghijk\")\n\n# get the positions unsing enumerate\nfor pos,value in enumerate(wydatki):\n    if value == target:\n        location.append(pos)\n\nif location: # empty lists are False, lists with elements are True\n    #prints the locations in the list that the target was found\n    print (target,\"\\nappears in the following locations: \", \n           ','.join( (months[a] for a in location) ) )\nelse:\n    print (target,\"\\nwas not found in the list.\")\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>42 \nappears in the following locations:  d,g,i\n</code></pre>\n\n<p>Essentially you need to plug and join all month-entries into a string - f.e. using a generator expression inside a <code>\",\"join( ... )</code> statement.</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 3631706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aTbNi.jpg?s=128&g=1", "display_name": "IAmBullsaw", "link": "https://stackoverflow.com/users/3631706/iambullsaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1540412629, "creation_date": 1540412629, "answer_id": 52977416, "question_id": 52977060, "link": "https://stackoverflow.com/questions/52977060/array-as-position-argument/52977416#52977416", "title": "array as position argument", "body": "<p>As you noticed, you can't pass a list and use it as the index.</p>\n\n<p>You'd have to loop over each index, or build one complete string and print that. </p>\n\n<p>For example</p>\n\n<pre><code>print(target,\"\\nappears in the following locations: \", end=\"\")\nfor index in location:\n    print(months[index], end=\" \")\nprint(\"\")\n</code></pre>\n\n<p>the <code>end=\"\"</code> means that print will add an empty string at the end, instead of the usual new line.</p>\n\n<p>Also, you could improve your code in two other ways.</p>\n\n<p>The boolean <code>found</code> could correspond to the list <code>location</code> having any values in it, so </p>\n\n<pre><code>if location: # an empty list evaluates to False\n  print(\"Found\")\nelse:\n  print(\"Not found\")\n</code></pre>\n\n<p>And your input could look like this instead</p>\n\n<pre><code>target = None\ndone = False\nwhile not done:\n  try:\n    target = int( input(\"Please enter the amount you are looking for:\") )\n    done = True\n  except ValueError:\n    print(\"Wrong value, input a number.\")\n</code></pre>\n\n<p>so the user can fail multiple times and the program won't proceed.</p>\n"}], "owner": {"reputation": 3, "user_id": 10387946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9721745d4e634aff21f20fc02af2f2ef?s=128&d=identicon&r=PG&f=1", "display_name": "ChefJ", "link": "https://stackoverflow.com/users/10387946/chefj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 52977284, "answer_count": 2, "score": 0, "last_activity_date": 1540412629, "creation_date": 1540411162, "last_edit_date": 1540411928, "question_id": 52977060, "link": "https://stackoverflow.com/questions/52977060/array-as-position-argument", "title": "array as position argument", "body": "<pre><code>try:\n    target = int(input(\"Please enter the ammount you are looking for :\"))\nexcept ValueError:\n    print(\"wrong value please enter a number\")\n    target = int(input(\"Please enter the ammount you are looking for :\"))\nfound = False\nlocation = [] # I want to use this list as position argument for another array passed from another function. is it possible?\n\n\nfor pos in range(0, len(wydatki)):\n    if wydatki[pos] == target:\n        found=True\n        location.append(pos)\n\nif found==True:\n    #prints the locations in the list that the target was found\n    print (target,\"\\nappears in the following locations: \",months[location])\nelse:\n    print (target,\"\\nwas not found in the list.\")\n</code></pre>\n\n<p><strong>months[location]</strong> &lt;------ I would like to use list called location that holds more than one variable to print onto screen values assigned to positions in list called months is it possible?</p>\n\n<p>As normally you can only use single variable to point to position in array?</p>\n"}, {"tags": ["python", "image", "loops", "image-processing"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 2, "creation_date": 1540411005, "post_id": 52976978, "comment_id": 92860486, "body": "Work through one or two numpy tutorials. The keyword is vectorization."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1540411087, "post_id": 52976978, "comment_id": 92860524, "body": "<i>I always do this by writing two inner loops</i> What two things are you looping over?  Why aren&#39;t you (conceptually) just doing <code>for pixel in image</code>?"}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 2, "creation_date": 1540411127, "post_id": 52976978, "comment_id": 92860539, "body": "Numpy and many other libraries provide functions that do the same thing on every element in an array (pixel in an image). Use those functions. Write your logic in terms of those functions."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1540411234, "post_id": 52976978, "comment_id": 92860584, "body": "@stressedout there are other reasons for downvoting a question than the question being unclear. Your question is very clear, yet still very off-topic."}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1540411305, "post_id": 52976978, "comment_id": 92860618, "body": "@timgeb  I agree that there could be other reasons for downvoting. I have been an active user on MSE from time to time. Generally speaking, if a question is off-topic, we write a comment under it and explain how it could be improved. We don&#39;t just downvote without explaining what&#39;s wrong with it."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1540411405, "post_id": 52976978, "comment_id": 92860657, "body": "@stressedout I guess MSE has less bad questions per second than SO. People here expect you to have read the &quot;Asking&quot; section of the <a href=\"https://stackoverflow.com/help\">help center</a> and will not always give an explanation for their downvote."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6501909"}, "edited": false, "score": 0, "creation_date": 1540411474, "post_id": 52976978, "comment_id": 92860684, "body": "@stressedout I believe you&#39;re getting downvotes because you&#39;re asking a question that can have multiple (but perhaps inefficient) solutions. Rather than asking a specific algorithm, you&#39;re asking about a general idea. I always give an example on here: It&#39;s like asking how a computer works rather than asking how a <i>particular part</i> in a computer works."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1540411484, "post_id": 52976978, "comment_id": 92860687, "body": "For loops are not inherently inefficient.  If your loops are written correctly so that each pixel is only processed once, then your problem must be elsewhere."}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1540411572, "post_id": 52976978, "comment_id": 92860727, "body": "@timgeb  Believe me. We get hundreds of low quality questions there everyday. We always explain why a question is not suitable for the website or how the OP can improve their post."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1540411653, "post_id": 52976978, "comment_id": 92860769, "body": "@stressedout yeah, that&#39;s about a difference of a factor of ten."}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540411710, "post_id": 52976978, "comment_id": 92860794, "body": "@KingDuken Thanks. But you also have to agree that not everyone is a programmer. I believe the downvoting system on SE is there to improve the quality of posts, not just to make people think they don&#39;t belong here."}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1540411811, "post_id": 52976978, "comment_id": 92860845, "body": "@JohnGordon  Well, let&#39;s say I want to do an affine transformation on a photo. I have done it by for-loops and by using libraries. And each pixel is only processed once. There&#39;s a significance difference in elapsed times between our algorithms."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6501909"}, "edited": false, "score": 0, "creation_date": 1540412248, "post_id": 52976978, "comment_id": 92861072, "body": "I think the downvoting system can let the OP know that they&#39;re not asking the question properly because it doesn&#39;t follow the objectives of the website. You can redeem your lost points by deleting your question (unless someone answers the question). Digressing... But there a few (but extremely slow in executing) ways I can think about doing this... such as branching... and lists... and defining functions... or using <code>reduce</code>!  I think better question here to ask whether or not there are alternatives to using loops."}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540412544, "post_id": 52976978, "comment_id": 92861205, "body": "@KingDuken  Yes, thanks for the help. I can&#39;t care less about the reputation points lost here. I still think only losers would downvote a post without explaining why. I can&#39;t read people&#39;s minds. Being downvoted means that people didn&#39;t like my question. But it tells me nothing about how I should improve it. Anyway, I&#39;m going to ask for alternatives to for-loops. Please feel free to write an answer. I&#39;m not going to delete my question."}], "answers": [{"comments": [{"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540413857, "post_id": 52977554, "comment_id": 92861765, "body": "Thank you, Michael. This answer helped me. (+1). The thing is that I&#39;m a pure math student taking a course in 3D Reconstruction from the computer engineering department. We have to write every algorithm like finding homographies, interests points, etc. from scratch on our own and we are not allowed to use OpenCV or similar libraries for that. I have written all the codes using for-loops, but then somebody told me there were more efficient ways to do the calculations. Anyway, could you please explain your last paragraph? So, after I have compiled a part of my code, how can I load it in python?"}, {"owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "reply_to_user": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540420781, "post_id": 52977554, "comment_id": 92864133, "body": "You define the function normally, and you decorate it with @jit (or @jit with some options). In other words you&#39;re just adding 1 line right before the function declaration. From there you just call the function normally, as though it were a normal Python function. Numba will auto-compile the function for you using a just-in-time (JIT) compiler.  The key to squeezing performance out of Numba functions is to be very explicit with the @jit options; passing the <code>nopython=True</code> flag and explicitly defining the variable types going in and out of the function can result in huge performance boosts"}, {"owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "reply_to_user": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540420926, "post_id": 52977554, "comment_id": 92864188, "body": "But note that Numba can make debugging a pain, and you need to be careful to be using primitive types as much as possible (floats, ints, etc). I recommend trying to use Numpy as much as possible first, then if you really can&#39;t escape from nested for loops then try moving them to a function and test to make sure you have the desired behavior, then compile it with Numba&#39;s @jit decorator (with nopython=True and the function signature explicitly declared, ideally; there are tutorials out there that can show this in more detail)"}, {"owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "edited": false, "score": 0, "creation_date": 1540424019, "post_id": 52977554, "comment_id": 92865059, "body": "Thanks. I looked up &#39;numba&#39; and I found many interesting stuff about it. It&#39;s an amazing functionality in python really. Thank you for introducing it. :)"}], "tags": [], "owner": {"reputation": 2086, "user_id": 10543528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3a9d1ea239d645f62babcbb003c5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/10543528/michael"}, "is_accepted": true, "score": 2, "last_activity_date": 1540413334, "creation_date": 1540413334, "answer_id": 52977554, "question_id": 52976978, "link": "https://stackoverflow.com/questions/52976978/alternatives-to-using-for-loops-in-image-processing-in-python/52977554#52977554", "title": "Alternatives to using for-loops in image processing in python?", "body": "<p>I agree with your comment that people shouldn't downvote questions from people authentically looking for help. Anyway:</p>\n\n<p>The simple answer is to try and use numpy. So for instance you may be filling an array like this:</p>\n\n<pre><code>import numpy as np\nx = np.zeros((100, 100), dtype=np.uint8)\nfor i in range(100):\n    for j in range(100):\n        x[i][j] = 10\n</code></pre>\n\n<p>But you could do this much more cleanly and quickly like this:</p>\n\n<pre><code>import numpy as np\nx = np.zeros((100, 100), dtype=np.uint8)\nx += 10\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>import numpy as np\nx = 10*np.ones((100, 100), dtype=np.uint8)\n</code></pre>\n\n<p>etc.</p>\n\n<p>If you need to apply a common operation to all pixels, then a numpy broadcast operation is a quick and easy way to go. There are many common image processing operations available in numpy, scipy, and elsewhere (go look at OpenCV's python features, they're great) that let you use simple syntax like the above and that will run many orders of magnitude faster than 2 Python loops. It's also easy to apply operations to subsets of images using slicing</p>\n\n<p>If you have some complicated operation that isn't easily offloaded to a numpy or scipy function, then I recommend taking a look at the Numba module. It lets you write functions using loops (as is your instinct) and then compile them, and then those loops execute very quickly. This can require a bit of planning and forethought, as you get the best speed when you combine multiple operations in the innermost loop but you also want to be working with primitives as much as possible and shouldn't just compile everything.</p>\n"}], "owner": {"reputation": 462, "user_id": 6547573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d61726abd06adf1dafc07d0c5c9e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "stressed out", "link": "https://stackoverflow.com/users/6547573/stressed-out"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "closed_date": 1540414067, "accepted_answer_id": 52977554, "answer_count": 1, "score": -3, "last_activity_date": 1540413334, "creation_date": 1540410854, "last_edit_date": 1540412762, "question_id": 52976978, "link": "https://stackoverflow.com/questions/52976978/alternatives-to-using-for-loops-in-image-processing-in-python", "closed_reason": "Needs more focus", "title": "Alternatives to using for-loops in image processing in python?", "body": "<p>I'm new to image processing. It happens time and time again that I have to do an operation (like matrix multiplication) on all pixels of an image. Since I'm not a professional programmer, I always do this by writing two inner loops to loop through each pixel of the image and it usually takes a long time to run. I have been told that it's usually possible to use vectors instead of for-loops for doing this and using for-loops is inefficient. I'm also 100% sure that for-loops aren't the best way to do this because libraries like OpenCV can do the same thing in less than 5 seconds while my code takes a significantly longer time.</p>\n\n<p>So, my question is: what are the alternatives to using for-loops when I need to apply matrix transformations to every pixels of an image? (consider homography transformations, for example)</p>\n"}, {"tags": ["python", "numpy", "tensorflow", "scipy", "itertools"], "comments": [{"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 2, "creation_date": 1540410945, "post_id": 52976958, "comment_id": 92860464, "body": "Just generating the different product combinations using <code>product</code> is already as fast as it is, using another library won&#39;t make it faster. - You&#39;re not calculating anything"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1540411053, "post_id": 52976958, "comment_id": 92860510, "body": "Did you calculate how many results this will give? What do you intend to do with the result?"}, {"owner": {"reputation": 11, "user_id": 10550092, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ye3RwWMi3lA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCTw4RiJt-YV9PZfszmCuf1ibLMHg/mo/photo.jpg?sz=128", "display_name": "JibJib", "link": "https://stackoverflow.com/users/10550092/jibjib"}, "edited": false, "score": 0, "creation_date": 1540411386, "post_id": 52976958, "comment_id": 92860646, "body": "The intent is to generate the different possibilities as quickly as possible. So speed is the deciding factor."}, {"owner": {"reputation": 8423, "user_id": 463796, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Yihjq.png?s=128&g=1", "display_name": "w-m", "link": "https://stackoverflow.com/users/463796/w-m"}, "edited": false, "score": 0, "creation_date": 1540456525, "post_id": 52976958, "comment_id": 92875255, "body": "When you have the product, what are you then intending to do with it? Is it always just two elements, or is the amount variable?"}], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 8317830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/544d1b756f7c6a6eba06d3be75b58633?s=128&d=identicon&r=PG&f=1", "display_name": "Rudolf Morkovskyi", "link": "https://stackoverflow.com/users/8317830/rudolf-morkovskyi"}, "is_accepted": false, "score": 1, "last_activity_date": 1540475439, "creation_date": 1540475439, "answer_id": 52990996, "question_id": 52976958, "link": "https://stackoverflow.com/questions/52976958/convert-python-iterative-method-to-parallel/52990996#52990996", "title": "convert python iterative method to parallel", "body": "<p>Generators and functions will work a little faster.</p>\n\n<p>Generator:</p>\n\n<pre><code>import itertools as it\nc=it.product('AB', repeat=10)\na = [''.join(elem) for elem in c]\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>import itertools as it\nc=it.product('AB', repeat=10)\na = map(lambda x: ''.join(x),c)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10550092, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ye3RwWMi3lA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCTw4RiJt-YV9PZfszmCuf1ibLMHg/mo/photo.jpg?sz=128", "display_name": "JibJib", "link": "https://stackoverflow.com/users/10550092/jibjib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540475439, "creation_date": 1540410776, "last_edit_date": 1540410995, "question_id": 52976958, "link": "https://stackoverflow.com/questions/52976958/convert-python-iterative-method-to-parallel", "title": "convert python iterative method to parallel", "body": "<p>I am using python itertools and I have method that creates a product of the elements in an array. It looks like this:</p>\n\n<pre><code>import itertools as it\nc=it.product('AB', repeat=10)\nfor elem in c:\n     print (''.join(elem))\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>AAAAAAAAAA\nAAAAAAAAAB\nAAAAAAAABA\nAAAAAAAABB\nAAAAAAABAA\nAAAAAAABAB\n.\n.\n.\nBBBBBBBBBB\n</code></pre>\n\n<p>I am looking for a way to convert this iterative process to a matrix calculation. Would NumPy, or TensorFlow, or some other such method be of use in converting it? If so, how? Is this something better or more quickly done with a GPU?</p>\n"}, {"tags": ["python", "postgresql", "datetime", "sqlalchemy", "timezone"], "answers": [{"tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": true, "score": 1, "last_activity_date": 1548357490, "last_edit_date": 1548357490, "creation_date": 1540412113, "answer_id": 52977307, "question_id": 52976955, "link": "https://stackoverflow.com/questions/52976955/sqlalchemy-postgresql-not-creating-column-with-the-correct-timestamp-format/52977307#52977307", "title": "SQLAlchemy / PostgreSQL not creating column with the correct timestamp format", "body": "<p><a href=\"https://docs.sqlalchemy.org/en/latest/core/type_basics.html#sqlalchemy.types.DateTime\" rel=\"nofollow noreferrer\"><code>DateTime</code></a> columns in SQLAlchemy default to <code>timezone=False</code>. Set <code>timezone=True</code> like:</p>\n\n<pre><code>Column('created_at', DateTime(timezone=True), server_default=func.current_timestamp())\n</code></pre>\n"}], "owner": {"reputation": 7956, "user_id": 994165, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8e6bcae1a2e69c8c7c36eb3ed091d0f9?s=128&d=identicon&r=PG", "display_name": "user994165", "link": "https://stackoverflow.com/users/994165/user994165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 52977307, "answer_count": 1, "score": 1, "last_activity_date": 1548357490, "creation_date": 1540410763, "last_edit_date": 1540412462, "question_id": 52976955, "link": "https://stackoverflow.com/questions/52976955/sqlalchemy-postgresql-not-creating-column-with-the-correct-timestamp-format", "title": "SQLAlchemy / PostgreSQL not creating column with the correct timestamp format", "body": "<p>I have the following table I'm creating.  After running this in a script to populate a database, the <code>created_at</code> columns come back with a value of \"2018-10-24 19:47:22.60331\".</p>\n\n<p>I'm not getting the time zone offset even though <a href=\"https://www.postgresql.org/docs/9.2/static/functions-datetime.html#FUNCTIONS-DATETIME-CURRENT\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.2/static/functions-datetime.html#FUNCTIONS-DATETIME-CURRENT</a> shows that function as adding the time zone offset.</p>\n\n<pre><code>def simulation_version_metadata(metadata):\n    simulation_version = Table('simulation_version', metadata,\n                               Column('id', Integer, primary_key=True),\n                               Column('simulation_id', None,\n                                      ForeignKey('simulation.id')),\n                               Column('created_at', DateTime,\n                                      server_default=func.current_timestamp()),\n                               Column('updated_at', DateTime,\n                                      server_default=func.current_timestamp()),\n                               )\n    return simulation_version\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1540411275, "post_id": 52976900, "comment_id": 92860603, "body": "I can&#39;t think of a use for either, as posted, so that unites them"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1540419319, "last_edit_date": 1540419319, "creation_date": 1540411774, "answer_id": 52977224, "question_id": 52976900, "link": "https://stackoverflow.com/questions/52976900/what-is-difference-between-following-two-format-methods/52977224#52977224", "title": "What is difference between following two format() methods?", "body": "<p>Your first snippet uses the <code>format</code> built-in function, documented in the <a href=\"https://docs.python.org/3/library/functions.html#format\" rel=\"nofollow noreferrer\">docs</a> for the built-in functions. Your second snippet uses <code>str.format</code>, a method of the <code>str</code> class, documented in the <a href=\"https://docs.python.org/3/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\">docs</a> for the standard types. These are closely related, but the correspondence doesn't quite work the way you have things.</p>\n\n<p><code>format(thing, 'format_spec')</code> is equivalent to <code>'{:format_spec}'.format(thing)</code>. The format spec defaults to an empty string, so <code>format(thing)</code> is equivalent to <code>'{:}'.format(thing)</code>, which is usually equivalent to <code>str(thing)</code>.</p>\n\n<p><code>format('abc')</code> corresponds to <code>'{}'.format('abc')</code>, not <code>'abc'.format()</code>. The results happen to be equivalent because <code>'abc'</code> is a string with no format placeholders in it. If you had used <code>'I love braces{}'</code> or <code>3</code> instead of <code>'abc'</code>, you would have seen different behavior.</p>\n"}], "owner": {"reputation": 99, "user_id": 10197849, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YHbyMbbzc0M/AAAAAAAAAAI/AAAAAAAAAEo/wfQ2nFNsK_M/photo.jpg?sz=128", "display_name": "Damodara Sahu", "link": "https://stackoverflow.com/users/10197849/damodara-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540419319, "creation_date": 1540410562, "last_edit_date": 1540411038, "question_id": 52976900, "link": "https://stackoverflow.com/questions/52976900/what-is-difference-between-following-two-format-methods", "title": "What is difference between following two format() methods?", "body": "<p>Are these two format() methods are different? If so, then how can i know which class they belong to and how they behave differently?</p>\n\n<pre><code>format('abc') \n</code></pre>\n\n<p>and</p>\n\n<pre><code>'abc'.format()\n</code></pre>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1540415731, "post_id": 52976894, "comment_id": 92862538, "body": "Well of course it&#39;s not drawing anything. You told it not to draw anything!"}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 1, "last_activity_date": 1540416691, "creation_date": 1540416691, "answer_id": 52978187, "question_id": 52976894, "link": "https://stackoverflow.com/questions/52976894/python-turtle-tracer-function-isnt-working/52978187#52978187", "title": "Python turtle tracer function isn&#39;t working", "body": "<p>Once you turn the tracer off, generally you won't see any drawing until you turn the tracer back on again or send an <code>update()</code> method to the screen.  (There are a few turtle operations that will trigger an <code>update()</code> all by themselves.)</p>\n\n<pre><code>import turtle\n\nturtle.title(\"Trippy Shape\")\n\nturtle.tracer(False)\n\nfor i in range(360):\n    turtle.circle(200)\n    turtle.left(1)\n\nturtle.tracer(True)\n\nturtle.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10415072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-18JOzfrO_XA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXLeVHk9X6G4JRnXWhlcQkzbmgZqQ/mo/photo.jpg?sz=128", "display_name": "Leo Gortz", "link": "https://stackoverflow.com/users/10415072/leo-gortz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 0, "accepted_answer_id": 52978187, "answer_count": 1, "score": -1, "last_activity_date": 1540416691, "creation_date": 1540410549, "last_edit_date": 1540415633, "question_id": 52976894, "link": "https://stackoverflow.com/questions/52976894/python-turtle-tracer-function-isnt-working", "title": "Python turtle tracer function isn&#39;t working", "body": "<p>I tried to use the tracer function to ignore animation to draw the shape quicker. This has worked for me in the past but now after using it it doesn't work. When I put the tracer line in the program does't draw anything; when I take it out it works, but very slowly which is why I wanted to take out animation.\nIs this function still valid and I am using it wrong or is there a new funcion in it's place> Any recommendations?</p>\n\n<pre><code>#!/usr/bin/python3\nimport turtle\nimport random\nimport time\nturtle.tracer(False)\n\nturtle.title(\"Trippy Shape\")\nfor i in range(360):\n    turtle.circle(200)\n    turtle.left(1)\n</code></pre>\n"}]