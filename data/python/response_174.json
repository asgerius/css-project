[{"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1525912160, "creation_date": 1525912160, "answer_id": 50263847, "question_id": 50263637, "link": "https://stackoverflow.com/questions/50263637/convert-multiple-column-dataframe-into-series/50263847#50263847", "title": "Convert multiple column dataframe into series", "body": "<p>You can use <code>pandas.melt</code> to unpivot your dataframe. In this particular case, you need to elevate your index to a column:</p>\n\n<pre><code>res = pd.melt(df.reset_index(), id_vars=['index'])\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>print(res)\n\n    index      variable         value\n0   count  TradesBefore  31540.000000\n1    mean  TradesBefore     39.151712\n2     std  TradesBefore    130.948917\n3     min  TradesBefore  -1611.000000\n4     25%  TradesBefore     29.000000\n5     50%  TradesBefore     74.000000\n6     75%  TradesBefore     99.000000\n7     max  TradesBefore    184.000000\n8   count   TradesAfter   1000.000000\n9    mean   TradesAfter     42.216000\n10    std   TradesAfter    143.153156\n11    min   TradesAfter  -1371.000000\n12    25%   TradesAfter     34.000000\n13    50%   TradesAfter     79.000000\n14    75%   TradesAfter    109.000000\n15    max   TradesAfter    179.000000\n16  count     Predicted   1000.000000\n17   mean     Predicted     90.144811\n18    std     Predicted      1.345089\n19    min     Predicted     88.234987\n20    25%     Predicted     89.052902\n21    50%     Predicted     89.979200\n22    75%     Predicted     91.127657\n23    max     Predicted     93.915568\n24  count        Change     -0.968294\n25   mean        Change      0.078267\n26    std        Change      0.093198\n27    min        Change     -0.148976\n28    25%        Change      0.172414\n29    50%        Change      0.067568\n30    75%        Change      0.101010\n31    max        Change     -0.027174\n</code></pre>\n"}], "owner": {"reputation": 1948, "user_id": 3697550, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/583000646/picture?type=large", "display_name": "nicholas.reichel", "link": "https://stackoverflow.com/users/3697550/nicholas-reichel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 1, "accepted_answer_id": 50263847, "answer_count": 1, "score": 0, "last_activity_date": 1525912357, "creation_date": 1525910358, "last_edit_date": 1525912357, "question_id": 50263637, "link": "https://stackoverflow.com/questions/50263637/convert-multiple-column-dataframe-into-series", "title": "Convert multiple column dataframe into series", "body": "<p>I'd like to convert the following into a series.</p>\n\n<pre><code>       Trades Before  Trades After    Predicted    Change\ncount   31540.000000   1000.000000  1000.000000 -0.968294\nmean       39.151712     42.216000    90.144811  0.078267\nstd       130.948917    143.153156     1.345089  0.093198\nmin     -1611.000000  -1371.000000    88.234987 -0.148976\n25%        29.000000     34.000000    89.052902  0.172414\n50%        74.000000     79.000000    89.979200  0.067568\n75%        99.000000    109.000000    91.127657  0.101010\nmax       184.000000    179.000000    93.915568 -0.027174\n</code></pre>\n\n<p>Where the index is the combination of the row name and the column name, for example:</p>\n\n<pre><code>Trades After 50%    79.000000    \n</code></pre>\n"}, {"tags": ["python", "heroku", "flask", "web-deployment"], "comments": [{"owner": {"reputation": 1467, "user_id": 9718110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTdLM.jpg?s=128&g=1", "display_name": "ktzr", "link": "https://stackoverflow.com/users/9718110/ktzr"}, "edited": false, "score": 1, "creation_date": 1525914162, "post_id": 50263558, "comment_id": 87546101, "body": "It looks like you&#39;re missing a few closing brackets on the app.run call."}, {"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "reply_to_user": {"reputation": 1467, "user_id": 9718110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTdLM.jpg?s=128&g=1", "display_name": "ktzr", "link": "https://stackoverflow.com/users/9718110/ktzr"}, "edited": false, "score": 0, "creation_date": 1525919516, "post_id": 50263558, "comment_id": 87547254, "body": "@ktzr, Oh sorry, that was just a mistake in the copy and pasting..."}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525922479, "post_id": 50263558, "comment_id": 87547910, "body": "@DupDup Do you still get the error, or did that fix it?"}, {"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525923161, "post_id": 50263558, "comment_id": 87548067, "body": "@pushkin I still get the error ( I didn&#39;t copy the full line of code when is was making this post)."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "edited": false, "score": 0, "creation_date": 1525996853, "post_id": 50279055, "comment_id": 87582640, "body": "It works for serving the web-page, but I get this javascript error concerning the websocket:   <code>Mixed Content: The page at &#39;https:&#47;&#47;dertio.herokuapp.com&#47;&#39; was loaded over HTTPS, but attempted to connect to the insecure WebSocket endpoint &#39;ws:&#47;&#47;dertio.herokuapp.com&#47;ws&#39;. This request has been blocked; this endpoint must be available over WSS. (anonymous) @ (index):266</code>"}, {"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "edited": false, "score": 0, "creation_date": 1526002556, "post_id": 50279055, "comment_id": 87583839, "body": "If I set my browser to connect to the websocket (the websocket connection was blocked for being unsafe) , the app works, but the performance is unbelievably slow, any fix for this?"}, {"owner": {"reputation": 1992, "user_id": 9231401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Er0Yz.jpg?s=128&g=1", "display_name": "pgjones", "link": "https://stackoverflow.com/users/9231401/pgjones"}, "reply_to_user": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "edited": false, "score": 0, "creation_date": 1526063399, "post_id": 50279055, "comment_id": 87613311, "body": "Sorry, but there isn&#39;t enough information for me to answer either of those questions - nor really for me to take a guess."}, {"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "edited": false, "score": 0, "creation_date": 1526063866, "post_id": 50279055, "comment_id": 87613531, "body": "The websocket runs as you explained in my <a href=\"https://stackoverflow.com/questions/49837294/websockets-with-the-python-web-framework-quart\">previous question</a>, but I don&#39;t have a clue whats causing the slowness (It runs fast on localhost)."}, {"owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "edited": false, "score": 0, "creation_date": 1526142026, "post_id": 50279055, "comment_id": 87632545, "body": "As it turns out, I can fix the websockets by having my URL as http instead of https. I still don&#39;t know why its so slow though."}, {"owner": {"reputation": 613, "user_id": 8068744, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-yo-mbmDXpiw/AAAAAAAAAAI/AAAAAAAAAIk/i4PUeTQoKNE/photo.jpg?sz=128", "display_name": "Abhishta Gatya", "link": "https://stackoverflow.com/users/8068744/abhishta-gatya"}, "edited": false, "score": 0, "creation_date": 1552070569, "post_id": 50279055, "comment_id": 96885779, "body": "can i replace all that with \u2018hypercorn app:app\u2019?"}, {"owner": {"reputation": 1992, "user_id": 9231401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Er0Yz.jpg?s=128&g=1", "display_name": "pgjones", "link": "https://stackoverflow.com/users/9231401/pgjones"}, "edited": false, "score": 0, "creation_date": 1552074555, "post_id": 50279055, "comment_id": 96887652, "body": "Almost, given the example it would be <code>hypercorn main_loop:app</code>"}], "tags": [], "owner": {"reputation": 1992, "user_id": 9231401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Er0Yz.jpg?s=128&g=1", "display_name": "pgjones", "link": "https://stackoverflow.com/users/9231401/pgjones"}, "is_accepted": false, "score": 1, "last_activity_date": 1525975881, "last_edit_date": 1592644375, "creation_date": 1525975881, "answer_id": 50279055, "question_id": 50263558, "link": "https://stackoverflow.com/questions/50263558/python-error-when-attempting-to-run-on-heroku/50279055#50279055", "title": "Python error when attempting to run on heroku", "body": "<p>Quart requires a specific Gunicorn worker class<a href=\"https://pgjones.gitlab.io/quart/deployment.html\" rel=\"nofollow noreferrer\">1</a>. I think if your procfile was</p>\n<pre><code>web: gunicorn --worker-class quart.worker.GunicornWorker main_loop:app \n</code></pre>\n<p>it would work. (I don't have a heroku dyno available to test though).</p>\n<p>(I am the Quart author)</p>\n"}], "owner": {"reputation": 55, "user_id": 9647246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4FH61nVct8/AAAAAAAAAAI/AAAAAAAAAAc/tqUSspZE290/photo.jpg?sz=128", "display_name": "Dup Dup", "link": "https://stackoverflow.com/users/9647246/dup-dup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1525975881, "creation_date": 1525909677, "last_edit_date": 1525920173, "question_id": 50263558, "link": "https://stackoverflow.com/questions/50263558/python-error-when-attempting-to-run-on-heroku", "title": "Python error when attempting to run on heroku", "body": "<p>Im trying to deploy a python app to heroku. I use a web framework called quart (an asyncio adaptation of flask). The build succeeds when I try to deploy, but in the heroku logs, I get this error message:</p>\n\n<pre><code>TypeError: __call__() takes 1 positional argument but 3 were\n</code></pre>\n\n<p>This is the code that runs the app:</p>\n\n<pre><code>if __name__ == '__main__': \n     app.run(host='0.0.0.0', port=int(os.environ['PORT']))\n</code></pre>\n\n<p>My procfile consists of this:</p>\n\n<pre><code>web: gunicorn main_loop:app \n</code></pre>\n\n<p>Help would be appreciated. </p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qmainwindow"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 0, "last_activity_date": 1525911103, "last_edit_date": 1525911103, "creation_date": 1525910181, "answer_id": 50263614, "question_id": 50263545, "link": "https://stackoverflow.com/questions/50263545/cant-open-gui-class-window-with-specified-options/50263614#50263614", "title": "Can&#39;t open gui class window with specified options", "body": "<p><code>QMainWindow</code> is a special widget because it has a defined structure, <a href=\"http://doc.qt.io/qt-5/qmainwindow.html#qt-main-window-framework\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/qmainwindow.html#qt-main-window-framework</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/V5gma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V5gma.png\" alt=\"enter image description here\"></a></p>\n\n<p>As shown in the image there is already an area destined to place the widgets called Central Widget, in it you must place the widgets that you want to be displayed for it, you use <code>setCentralWidget()</code>.</p>\n\n<p>In your case the solution is:</p>\n\n<pre><code>class secondwindow(QtWidgets.QMainWindow):\n    def __init__(self):\n        super(secondwindow, self).__init__()\n        central_widget = QtWidgets.QWidget()\n        self.label1 = QtWidgets.QLabel(\"Second Window\")\n        self.button1 = QtWidgets.QPushButton(\"Click Me\")\n        hbox = QtWidgets.QHBoxLayout(central_widget)\n        hbox.addWidget(self.label1)\n        hbox.addWidget(self.button1)\n        self.setCentralWidget(central_widget)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9707585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb97d490a42eae01fcede4302f413f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Reese_E", "link": "https://stackoverflow.com/users/9707585/reese-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525911103, "creation_date": 1525909596, "last_edit_date": 1525909792, "question_id": 50263545, "link": "https://stackoverflow.com/questions/50263545/cant-open-gui-class-window-with-specified-options", "title": "Can&#39;t open gui class window with specified options", "body": "<p>I'm new to python and pyqt. I'm trying to open a new window after the first screen. My second window opens but without the options I specified, label and pushbutton.  </p>\n\n<pre><code>from PyQt5 import QtWidgets\nimport sys\n\nclass secondwindow(QtWidgets.QMainWindow):\n    def __init__(self):\n        super(secondwindow, self).__init__()\n        self.label1 = QtWidgets.QLabel(\"Second Window\");\n        self.button1 = QtWidgets.QPushButton(\"Click Me\");\n        hbox = QtWidgets.QHBoxLayout()\n        hbox.addWidget(self.label1)\n        hbox.addWidget(self.button1)\n        self.setLayout(hbox)\n\nclass Window(QtWidgets.QWidget):\n    def btnclicked(self):\n        sender = self.sender()\n        if sender.text() == \"OK\":\n            self.secwin.show()\n\n    def __init__(self, parent=None):\n        super(Window, self).__init__(parent)\n        self.button1 = QtWidgets.QPushButton(\"OK\");\n        vbox = QtWidgets.QVBoxLayout()\n        vbox.addWidget(self.button1)\n        self.setLayout(vbox)\n\n        self.button1.clicked.connect(self.btnclicked)\n        self.secwin = secondwindow()\n        self.show()\n\ndef main():\n    app = QtWidgets.QApplication(sys.argv)\n    main = Window()\n    main.show\n    sys.exit(app.exec())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 1, "creation_date": 1525941168, "post_id": 50263518, "comment_id": 87555037, "body": "You can get a list of the Line2D objects using <code>ax.lines</code>. Although with no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it&#39;s hard to tell how you are selecting which line should have a different colour?"}], "owner": {"reputation": 171, "user_id": 3713727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gx691GyaF2o/AAAAAAAAAAI/AAAAAAAAADs/O7N6vF7tL0k/photo.jpg?sz=128", "display_name": "Yetti", "link": "https://stackoverflow.com/users/3713727/yetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525909315, "creation_date": 1525909315, "question_id": 50263518, "link": "https://stackoverflow.com/questions/50263518/change-violinplot-stick-color-in-seaborn", "title": "change violinplot stick color in seaborn", "body": "<p>Id like to be able to change the color of individual sticks in seaborn's violin plot to highlight a specific datapoint. Any seaborn pros have ideas how to do this? </p>\n\n<p><a href=\"https://i.stack.imgur.com/1Vk3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Vk3X.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "oop", "methods"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525909859, "post_id": 50263510, "comment_id": 87545160, "body": "It&#39;s not clear what you want, but no, this is not possible. <code>dynamically_defined_method</code> is just a function local to the body of <code>method</code>, not a method of <code>TestClass</code>."}], "answers": [{"tags": [], "owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "is_accepted": true, "score": 2, "last_activity_date": 1525910195, "creation_date": 1525910195, "answer_id": 50263618, "question_id": 50263510, "link": "https://stackoverflow.com/questions/50263510/python-is-it-possible-to-define-an-instance-method-inside-another-instance-met/50263618#50263618", "title": "Python - Is it possible to define an instance method inside another instance method?", "body": "<p>Defining the function in the method doesn't automatically make it visible to the instance--it's just a function that is scoped to live within the method.</p>\n\n<p>To expose it, you'd be tempted to do:</p>\n\n<pre><code>self.dynamically_defined_method = dynamically_defined_method\n</code></pre>\n\n<p>Only that doesn't work:</p>\n\n<pre><code>TypeError: dynamically_defined_method() takes exactly 1 argument (0 given)\n</code></pre>\n\n<p>You have to mark the function as being a method (which we do by using MethodType).  So the full code to make that happen looks like this:</p>\n\n<pre><code>from types import MethodType\n\nclass TestClass(object):\n    def method(self):\n        def dynamically_defined_method(self):\n            print \"two\"\n        self.dynamically_defined_method = MethodType(dynamically_defined_method, self)\n\nc = TestClass()\nc.method()\nc.dynamically_defined_method()\n</code></pre>\n"}], "owner": {"reputation": 4383, "user_id": 2593878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d48b3fc093f704b646e75703dea29107?s=128&d=identicon&r=PG", "display_name": "dkv", "link": "https://stackoverflow.com/users/2593878/dkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 50263618, "answer_count": 1, "score": 0, "last_activity_date": 1525910195, "creation_date": 1525909289, "question_id": 50263510, "link": "https://stackoverflow.com/questions/50263510/python-is-it-possible-to-define-an-instance-method-inside-another-instance-met", "title": "Python - Is it possible to define an instance method inside another instance method?", "body": "<p>Is it possible to do something like this? (This syntax doesn't actually work)</p>\n\n<pre><code>class TestClass(object):\n    def method(self):\n        print 'one'\n        def dynamically_defined_method(self):\n            print 'two'\n\nc = TestClass()\nc.method()\nc.dynamically_defined_method() #this doesn't work\n</code></pre>\n\n<p>If it's possible, is it terrible programming practice? What I'm really trying to do is to have one of two variations of the same method be called (both with identical names and signatures), depending on the state of the instance. </p>\n"}, {"tags": ["python", "json", "python-3.x", "performance", "file-io"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1525910454, "post_id": 50263495, "comment_id": 87545296, "body": "I don&#39;t see any issue keeping the file open for the whole time, reopening it certainly seems wasteful. As alternative to a list, you could use a generator. This is one of the typical use cases for generators."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525911118, "post_id": 50263495, "comment_id": 87545449, "body": "Applications use virtual memory, the amount of RAM you have doesn&#39;t limit the amount of memory that Python can use."}, {"owner": {"reputation": 128, "user_id": 7584394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4ee589b78e8852b09ccb69b2637ea2af?s=128&d=identicon&r=PG&f=1", "display_name": "Shea", "link": "https://stackoverflow.com/users/7584394/shea"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1525911301, "post_id": 50263495, "comment_id": 87545502, "body": "@PaulRooney so would it be better to go with the second implementation (writing to a file in each iteration) or is the first implementation (storing it in memory until the end) fine?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525911306, "post_id": 50263495, "comment_id": 87545510, "body": "Let&#39;s say each <code>dict</code> object in <code>results</code> requires 500 bytes of memory; <code>long_list</code> as a whole will only be ~50MB, which isn&#39;t that much."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1525911344, "post_id": 50263495, "comment_id": 87545522, "body": "@Shea you should try both options and see which one works best for you."}], "owner": {"reputation": 128, "user_id": 7584394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4ee589b78e8852b09ccb69b2637ea2af?s=128&d=identicon&r=PG&f=1", "display_name": "Shea", "link": "https://stackoverflow.com/users/7584394/shea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525909179, "creation_date": 1525909179, "question_id": 50263495, "link": "https://stackoverflow.com/questions/50263495/when-iterating-through-a-very-large-list-and-writing-to-a-file-each-iteration-s", "title": "When iterating through a very large list and writing to a file each iteration, should the file be opened in the loop or outside the loop?", "body": "<p>I know the title probably isn't the best way of wording my question, so please feel free to change it if you can come up with something better!</p>\n\n<p>I have a large list of strings (somewhere between 50k-100k) that I would like to iterate through, and within each iteration, get some information about the file, then write the item with its information to a file.</p>\n\n<p>My initial implementation had a second list, and each iteration would append a dict with the item and its information. Then, once the list had been iterated through, the second list (of dicts) would be written to a json file. However, I did not consider the fact that all of this would be stored in memory and due to the size of the list, there was the possibility that it would run out of memory before finishing, and I'd have to restart.</p>\n\n<p>Original implementation:</p>\n\n<pre><code>results = []\nfor f in long_list:\n    results.append({\"item\": f, \"otherdata\": some_function(f)})\n    print(results[len(results)-1])\n\nwith open(\"results.json\", \"w\") as fp:\n    json.dump(results, fp)\n</code></pre>\n\n<p>So my second implementation instead writes to a file (I'm fine if it's not JSON, I can convert it later) every iteration, so running out of memory won't be a problem (unless it will, please correct me if I'm wrong). But with this implementation, I'm not sure if the <code>with open(\"file_name.txt\", \"a\") as f</code> should go in the for loop or outside the for loop. </p>\n\n<p>So here are my questions:</p>\n\n<ol>\n<li>Will my script run out of memory or is the list too small for that to happen (32GB of RAM on the computer I'm using)?</li>\n<li>If running out of memory is not going to be a problem, should I stick with the first implementation or should I still opt for the second implementation (write to file each iteration)?</li>\n<li>If I should opt for the second implementation, should I put the <code>with open</code> inside the loop or outside? What would be more efficient and less likely to cause issues?</li>\n<li>Is there a better way to do this? Using CSV files instead?</li>\n</ol>\n"}, {"tags": ["python", "python-2.7", "pygame", "collision-detection"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1525909025, "post_id": 50263472, "comment_id": 87544971, "body": "provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "edited": false, "score": 0, "creation_date": 1525909938, "post_id": 50263472, "comment_id": 87545183, "body": "Click the link to see what is missing to make it an mcve. Also: Getting rude this way won&#39;t help you."}, {"owner": {"reputation": 5, "user_id": 9343060, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-3OZjIZx0Gp8/AAAAAAAAAAI/AAAAAAAACLs/5d95zQzUbzg/photo.jpg?sz=128", "display_name": "Unknown Hamster", "link": "https://stackoverflow.com/users/9343060/unknown-hamster"}, "edited": false, "score": 0, "creation_date": 1525911069, "post_id": 50263472, "comment_id": 87545437, "body": "It&#39;s ironic that was one of the ones i tried that did not work. LOL"}], "answers": [{"tags": [], "owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "is_accepted": false, "score": 1, "last_activity_date": 1525909584, "creation_date": 1525909584, "answer_id": 50263541, "question_id": 50263472, "link": "https://stackoverflow.com/questions/50263472/easy-way-to-detect-collision-in-pygame/50263541#50263541", "title": "Easy way to Detect Collision in Pygame", "body": "<p>You need to read up more on how collisions work. Compare the xy coordinates of your car to the xy coordinates of other obstacles. Say your car is 30px wide and 20px tall. The obstacle is 30px wide and 30px tall.</p>\n\n<p>then you calculate whether they are within (.5 * width) units for x or (.5 * height) units for y. You can do this by subtracting one from the other and using absolute value. If the absolute value from car.x - obstacle.x &lt;= (carwidth * .5) + obstaclewidth * .5) then you have a collision. Do the same for Y using height of course.</p>\n\n<p>I haven't done collisions in a while so that might not be 100% accurate, but that's the general idea.</p>\n"}], "owner": {"reputation": 5, "user_id": 9343060, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-3OZjIZx0Gp8/AAAAAAAAAAI/AAAAAAAACLs/5d95zQzUbzg/photo.jpg?sz=128", "display_name": "Unknown Hamster", "link": "https://stackoverflow.com/users/9343060/unknown-hamster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "closed_date": 1525909922, "answer_count": 1, "score": -4, "last_activity_date": 1525909584, "creation_date": 1525908923, "question_id": 50263472, "link": "https://stackoverflow.com/questions/50263472/easy-way-to-detect-collision-in-pygame", "closed_reason": "Duplicate", "title": "Easy way to Detect Collision in Pygame", "body": "<p>I've been trying to figure out how to detect collision in pygame I've look online for some examples and help but the ones i find don't work or i can't understand.\nI want a object (Car) to go to a x and y position when object (thing) collides with it here is the code can you try to make a working version or explain it</p>\n\n<pre><code>if pygame.sprite.collide_mask(car, thing):\n                x = 300\n                y = 250\n</code></pre>\n\n<p>btw this is my third attempt and it did not work.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1525908662, "post_id": 50263410, "comment_id": 87544905, "body": "You need to call your functions and pass in the string values."}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 7929472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55b502d2c876fe418401e8498da51c2?s=128&d=identicon&r=PG&f=1", "display_name": "Heaven", "link": "https://stackoverflow.com/users/7929472/heaven"}, "is_accepted": true, "score": 2, "last_activity_date": 1525908743, "creation_date": 1525908743, "answer_id": 50263449, "question_id": 50263410, "link": "https://stackoverflow.com/questions/50263410/python-3-how-to-print-a-program-that-validates-strings/50263449#50263449", "title": "Python 3: How to print a program that validates strings", "body": "<p>You can use it in this way.</p>\n\n<pre><code>for old_s in old_string:\n    print('consecutive {s} = {ans}'.format(s = old_s, ans = consecutive(old_s)))\n    print('one_digit {s} = {ans}'.format(s = old_s, ans = one_digit(old_s)))\n    print('not_nums {s} = {ans}'.format(s = old_s, ans = not_nums(old_s)))\n    print('length {s} = {ans}'.format(s = old_s, ans = length(old_s)))\nfor new_s in strings:\n    print('string_req of {s} and {L} = {ans}'.format(\n           s = new_s, L = old_strings, ans = string_req(new_s, old_strings)))\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 9303872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47f66a38424997f8dc3efdee3023c2c?s=128&d=identicon&r=PG&f=1", "display_name": "DwightD", "link": "https://stackoverflow.com/users/9303872/dwightd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 50263449, "answer_count": 1, "score": 3, "last_activity_date": 1525908876, "creation_date": 1525908395, "last_edit_date": 1525908876, "question_id": 50263410, "link": "https://stackoverflow.com/questions/50263410/python-3-how-to-print-a-program-that-validates-strings", "title": "Python 3: How to print a program that validates strings", "body": "<p>I'm trying to complete my code with a main function that should be able to produce an output that looks like this:</p>\n\n<pre><code>consecutive('qqrrb12ss') = True\none_digit('qqrrb12ss') = True\nnot_nums('qqrrb12ss') = True\nlength('qqrrb12ss') =True\nstring_req('qqrrb12ss', old_strings) = True\n\nconsecutive('y123bz') = True\none_digit('y123bz') = True\nnot_nums('y123bz') = True\nlength('y123bz') = False\nstring_req('y123bz', old_strings) = False\n\nconsecutive('1222345') = False\none_digit('1222345') = True\nnot_nums('1222345') = False\nlength('1222345') = False\nstring_req('1222345', old_strings) = False\n\nconsecutive('top89hat') = True\none_digit('top89hat') = True\nnot_nums('top89hat') = True\nlength('top89hat') = True\nstring_req('top89hat', old_strings) = False\n</code></pre>\n\n<p>My helper functions should be able to do this:</p>\n\n<ul>\n<li>consecutive: if string has no substring of 3 of the same characters consecutively, returns True</li>\n<li>one_digit: if string has at least 1 digit, returns True</li>\n<li>not_nums: if first and last chars are letters, returns True</li>\n<li>length: string length must be between 8 and 16 for it to return True</li>\n<li>string_req: it's basically all of the other helper functions in one, in addition to ensuring that the new string hasn't been inputted previously</li>\n</ul>\n\n<p>All my helper functions (i.e 'consecutive', 'one_digit', etc.) work perfectly on its own. But I'm having a hard time putting it all together to create this output. Here is what I have so far for the main function:</p>\n\n<pre><code># Strings used to test function\nold_strings = [ 'xyz556677abc', 'top89hat' ]\nstrings = [ 'qqrrb12ss', 'y123bz','1222345', 'top89hat' ]\n\ndef function():\n    s = strings\n    L = old_strings\n\n    for # I do know I have to use a loop.. But how exactly should I use it?:\n        print(\"consecutive\", s, \"=\", consecutive) # should return True or False\n        print(\"one_digit\", s, \"=\", one_digit)\n        print(\"not_nums\", s, \"=\", not_nums)\n        print(\"length\", s, \"=\", length)\n        print(\"string_req\", s, L, \"=\", string_req)\n</code></pre>\n\n<p>Additionally, this is the output I'm getting:</p>\n\n<pre><code>consecutive['aabb12cc', 'a123b', 'a1234546b', 'a1234546b0', 'abcdef1pqrstuvwx', 'abcdef1pqrstuvw', '1222345', 'bat23man']  --&gt; &lt;function consecutive at 0x101d9a950&gt;\none_digit ['aabb12cc', 'a123b', 'a1234546b', 'a1234546b0', 'abcdef1pqrstuvwx', 'abcdef1pqrstuvw', '1222345', 'bat23man']  --&gt; &lt;function one_digit at 0x101d9a9d8&gt;\nnot_nums ['aabb12cc', 'a123b', 'a1234546b', 'a1234546b0', 'abcdef1pqrstuvwx', 'abcdef1pqrstuvw', '1222345', 'bat23man']  --&gt; &lt;function not_nums at 0x101d9a8c8&gt;\nlength ['aabb12cc', 'a123b', 'a1234546b', 'a1234546b0', 'abcdef1pqrstuvwx', 'abcdef1pqrstuvw', '1222345', 'bat23man']  --&gt; &lt;function length at 0x101d9a730&gt;\nstring_req ['aabb12cc', 'a123b', 'a1234546b', 'a1234546b0', 'abcdef1pqrstuvwx', 'abcdef1pqrstuvw', '1222345', 'bat23man'] ['abc112233xyz', 'bat23man']  --&gt; &lt;function string_req at 0x101d9a6a8&gt;\n</code></pre>\n"}, {"tags": ["python", "zipfile", "errno"], "comments": [{"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1525909740, "post_id": 50263380, "comment_id": 87545135, "body": "@metatoaster I see. I try -- path = &quot;P:\\\\2018\\\\Archive\\\\&quot; -- os.path.isdir(path) -- it returns false. And there is problem! Coworker added new folder to directory before archive! Still having problem though. Changed path name and did check. Returned &quot;True&quot; but now get this error: IOError: [Errno 22] invalid mode (&#39;wb&#39;) or filename: &#39; P:\\\\2018\\\\Workspaces\\\\Archive\\\\CO_001_Model.zip&#39;"}, {"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1525910005, "post_id": 50263380, "comment_id": 87545196, "body": "You may have a space before <code>P:</code>, check to be sure that isn&#39;t the case in your code."}, {"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1525910145, "post_id": 50263380, "comment_id": 87545229, "body": "@metatoaster yes! right again. thank you. I don&#39;t know if this qualifies as answer but I will check it if you like to post one."}], "answers": [{"tags": [], "owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "is_accepted": true, "score": 2, "last_activity_date": 1525910189, "creation_date": 1525910189, "answer_id": 50263616, "question_id": 50263380, "link": "https://stackoverflow.com/questions/50263380/python-zipfile-zipfile-no-such-file-or-directory/50263616#50263616", "title": "python: zipfile.ZipFile No such file or directory", "body": "<p>The only way this could be reproduced was to create a zipfile in a directory that does NOT exist yet. The only way to be sure (you cannot trust a file manager; only way to verify is to check from within the program itself) is to assign the desired path of the new zip file to a variable (e.g. path), and then call <code>isdir(dirname(path))</code>.  For example:</p>\n\n<pre><code>from os.path import isdir\nfrom os.path import dirname\n\ntarget = \"P:\\\\2018\\\\Archive\\\\CO_007_II.zip\"\nif not isdir(dirname(target)):\n    print('cannot create zipfile because target does not exists')\nelse:\n    # create the zipfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4276401, "user_type": "registered", "profile_image": "https://graph.facebook.com/1607992001/picture?type=large", "display_name": "Dawson Young", "link": "https://stackoverflow.com/users/4276401/dawson-young"}, "is_accepted": false, "score": 1, "last_activity_date": 1617215269, "creation_date": 1617215269, "answer_id": 66893308, "question_id": 50263380, "link": "https://stackoverflow.com/questions/50263380/python-zipfile-zipfile-no-such-file-or-directory/66893308#66893308", "title": "python: zipfile.ZipFile No such file or directory", "body": "<p>I also encountered a similar issue and came here looking for answers. Since this was the top hit, I'll add what I discovered.</p>\n<p>The answer provided by @metatoaster didn't work for me, when stepping through the code I found that the path returned true to isdir.</p>\n<p>In my case, the path length exceeded the Windows max path length (260 chars) which was causing it to fail despite the folder path being valid.</p>\n<p>Hope that helps someone else down the line!</p>\n"}], "owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5643, "favorite_count": 0, "accepted_answer_id": 50263616, "answer_count": 2, "score": 5, "last_activity_date": 1617215269, "creation_date": 1525908134, "question_id": 50263380, "link": "https://stackoverflow.com/questions/50263380/python-zipfile-zipfile-no-such-file-or-directory", "title": "python: zipfile.ZipFile No such file or directory", "body": "<p>There is folder path:</p>\n\n<pre><code>P:\\\\2018\\\\Archive\\\\\n</code></pre>\n\n<p>There are many zipfiles I want to create programmatically, but am starting with test. I will name this test zip file \"CO_007_II.zip\" and will attempt to create in above location:</p>\n\n<pre><code>import zipfile as zp\n\nwith zp.ZipFile(\"P:\\\\2018\\\\Archive\\\\CO_007_II.zip\",'w') as myzip:\n    myzip.write(r\"P:\\2018\\CO_007_II\")\n</code></pre>\n\n<p>But I get error!</p>\n\n<p>...     </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;interactive input&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\zipfile.py\", line 752, in __init__\n    self.fp = open(file, modeDict[mode])\nIOError: [Errno 2] No such file or directory: 'P:\\\\2018\\\\Archive\\\\CO_007_II.zip'\n</code></pre>\n\n<p>Is this not method for creating new zipfile? I know file does not exist. Is why I am using 'w' mode, no?</p>\n\n<p>This is documentation:</p>\n\n<p><a href=\"https://docs.python.org/3/library/zipfile.html\" rel=\"noreferrer\">https://docs.python.org/3/library/zipfile.html</a></p>\n\n<p>It says:</p>\n\n<p>'w' to truncate and <strong><em>write a new file</em></strong></p>\n\n<p>Example on documentation page:</p>\n\n<pre><code>with ZipFile('spam.zip', 'w') as myzip:\n    myzip.write('eggs.txt')\n</code></pre>\n\n<p>code worked two days ago to create new zip file but did not add folder. Today nothing works! Why not? All paths valid. How do I create new zip file with python and add folders to it?</p>\n"}, {"tags": ["python", "python-click"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1525911556, "post_id": 50263363, "comment_id": 87545570, "body": "Do you realize that the decorator <code>bypass_upgrade_check</code> will run only once, just after the interpreter processes the function definition of <code>cmd2</code>?  It will not produce any output that you can see at that point, nor will it call the original <code>cmd2</code>.  It&#39;s not clear what you are trying to do here.  You seem to want clicks to execute some particular function &quot;by default&quot; but don&#39;t want &quot;developers&quot; of future event handlers to forget to call that function.  But you don&#39;t tell us what your environment is or how those developers go about adding a handler."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 2638791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251478a58700db4fbd6593aa545bd459?s=128&d=identicon&r=PG", "display_name": "agelter", "link": "https://stackoverflow.com/users/2638791/agelter"}, "edited": false, "score": 0, "creation_date": 1525973942, "post_id": 50273080, "comment_id": 87573680, "body": "This works perfectly!  I had no idea that you could pull in the invoked_subcommand.  So simple and elegant, just what I needed.  Thanks!"}, {"owner": {"reputation": 311, "user_id": 2638791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251478a58700db4fbd6593aa545bd459?s=128&d=identicon&r=PG", "display_name": "agelter", "link": "https://stackoverflow.com/users/2638791/agelter"}, "edited": false, "score": 0, "creation_date": 1525976000, "post_id": 50273080, "comment_id": 87574715, "body": "This answer works great for top-level commands, but it doesn&#39;t work for subcommands.  Say I have sub-commands &#39;cmd1 sub1&#39; and &#39;cmd1 sub2&#39; and I want to disable the check for sub1 but not for sub2?  I tried adding the getattr check to the group definition for the subcommand, but that doesn&#39;t work because the top-level group will catch it first and since the &#39;cmd1&#39; doesn&#39;t have an @bypass_upgrade_check, then it runs the upgrade check.  I think there needs to be a way to search through subcommands from the top-level.  Or perhaps there&#39;s another way to do this?"}, {"owner": {"reputation": 311, "user_id": 2638791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251478a58700db4fbd6593aa545bd459?s=128&d=identicon&r=PG", "display_name": "agelter", "link": "https://stackoverflow.com/users/2638791/agelter"}, "edited": false, "score": 0, "creation_date": 1525990239, "post_id": 50273080, "comment_id": 87580939, "body": "New question posted: <a href=\"https://stackoverflow.com/questions/50282200/click-ow-do-i-apply-an-action-to-all-commands-and-subcommands-but-allow-a-comma\" title=\"click ow do i apply an action to all commands and subcommands but allow a comma\">stackoverflow.com/questions/50282200/&hellip;</a>"}], "tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1525955529, "creation_date": 1525955529, "answer_id": 50273080, "question_id": 50263363, "link": "https://stackoverflow.com/questions/50263363/how-do-i-create-an-exception-to-a-group-action-in-click/50273080#50273080", "title": "How do I create an exception to a group action in click", "body": "<p>To keep track of which commands bypass the upgrade check, I suggest that in the bypass marking decorator you store that state on the <code>click.Command</code> object.  Then if you pass the <code>click.Context</code> to your group, you can then look at the command object to see if it is marked to allow skipping upgrade like:</p>\n\n<h3>Code:</h3>\n\n<pre><code>def bypass_upgrade_check(func):\n    setattr(func, 'do_upgrade_check', False)\n\n@click.group()\n@click.pass_context\ndef cli(ctx):\n    sub_cmd = ctx.command.commands[ctx.invoked_subcommand]\n    if getattr(sub_cmd, 'do_upgrade_check', True):\n        check_upgrade()\n</code></pre>\n\n<h3>Test Code:</h3>\n\n<pre><code>import click\n\ndef check_upgrade():\n    click.echo('Checking Upgrade!')\n\ndef bypass_upgrade_check(func):\n    setattr(func, 'do_upgrade_check', False)\n\n@click.group()\n@click.pass_context\ndef cli(ctx):\n    sub_cmd = ctx.command.commands[ctx.invoked_subcommand]\n    if getattr(sub_cmd, 'do_upgrade_check', True):\n        check_upgrade()\n\n@cli.command()\ndef cmd1():\n    # check_upgrade() runs here\n    click.echo('cmd1')\n\n@bypass_upgrade_check\n@cli.command()\ndef cmd2():\n    # don't run check_upgrade() here\n    click.echo('cmd2')\n\n\nif __name__ == \"__main__\":\n    commands = (\n        'cmd1',\n        'cmd2',\n    )\n\n    import sys, time\n\n    time.sleep(1)\n    print('Click Version: {}'.format(click.__version__))\n    print('Python Version: {}'.format(sys.version))\n    for cmd in commands:\n        try:\n            time.sleep(0.1)\n            print('-----------')\n            print('&gt; ' + cmd)\n            time.sleep(0.1)\n            cli(cmd.split())\n\n        except BaseException as exc:\n            if str(exc) != '0' and \\\n                    not isinstance(exc, (click.ClickException, SystemExit)):\n                raise\n</code></pre>\n\n<h3>Results:</h3>\n\n<pre><code>Click Version: 6.7\nPython Version: 3.6.3 (v3.6.3:2c5fed8, Oct  3 2017, 18:11:49) [MSC v.1900 64 bit (AMD64)]\n-----------\n&gt; cmd1\nChecking Upgrade!\ncmd1\n-----------\n&gt; cmd2\ncmd2\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 2638791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251478a58700db4fbd6593aa545bd459?s=128&d=identicon&r=PG", "display_name": "agelter", "link": "https://stackoverflow.com/users/2638791/agelter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 50273080, "answer_count": 1, "score": 1, "last_activity_date": 1525955582, "creation_date": 1525907945, "last_edit_date": 1525955582, "question_id": 50263363, "link": "https://stackoverflow.com/questions/50263363/how-do-i-create-an-exception-to-a-group-action-in-click", "title": "How do I create an exception to a group action in click", "body": "<p>I have a case where I'd like to run a common function (<code>check_upgrade()</code>) for most of my click commands, but there are a few cases where I don't want to run it.  Rather than relying on developers to remember to add a decorator or function call to explicitly run this check, I'd prefer to instead run it by default and then have a decorator that one can add (e.g. <code>@bypass_upgrade_check</code>) for commands where <code>check_upgrade()</code> should not run.</p>\n\n<p>I was hoping for something like:</p>\n\n<pre><code>class State(object):\n    def __init__(self):\n        self.bypass_upgrade_check = False\n\npass_state = click.make_pass_decorator(State, ensure=True)\n\ndef bypass_upgrade_check(func):\n    @pass_state\n    def wrapper(state, *args, **kwargs):\n        state.bypass_upgrade_check = True\n        func(*args, **kwargs)\n    return wrapper \n\n@click.group()\n@pass_state\ndef common(state):\n    if not state.bypass_upgrade_check:\n        check_upgrade()\n\n@common.command()\ndef cmd1():\n    # check_upgrade() runs here\n    pass\n\n@bypass_upgrade_check\n@common.command()\ndef cmd2():\n    # don't run check_upgrade() here\n    pass\n</code></pre>\n\n<p>But this doesn't work.  It doesn't actually ever call the <code>bypass_upgrade_check()</code> function.</p>\n\n<p>Is there a way to decorate a command in such a way that I can modify the state before the group code runs?  Or another method altogether that accomplishes this?</p>\n"}, {"tags": ["python", "python-3.x", "list"], "comments": [{"owner": {"reputation": 2884, "user_id": 3658166, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/X8dHk.png?s=128&g=1", "display_name": "ninesalt", "link": "https://stackoverflow.com/users/3658166/ninesalt"}, "edited": false, "score": 0, "creation_date": 1525908128, "post_id": 50263311, "comment_id": 87544781, "body": "You could read all the rows and then filter out 4 numbers at a time if the first one &lt; 0"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1525908286, "post_id": 50263311, "comment_id": 87544820, "body": "<code>if float(split(f.readline())[0]) != 0:</code> would be one way, although be ready to catch exceptions for the headers."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1525909868, "post_id": 50263311, "comment_id": 87545163, "body": "What is <code>0.3.</code>?"}, {"owner": {"reputation": 3009, "user_id": 4737952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db7418d4c4c9c8e6baac49129f4919aa?s=128&d=identicon&r=PG", "display_name": "Ashish Acharya", "link": "https://stackoverflow.com/users/4737952/ashish-acharya"}, "edited": false, "score": 0, "creation_date": 1525911955, "post_id": 50263311, "comment_id": 87545640, "body": "I think you might be able to do it quite cleanly with pandas as well."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525977567, "post_id": 50263311, "comment_id": 87575499, "body": "Can you show what you actually did?"}], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525919866, "post_id": 50263613, "comment_id": 87547353, "body": "Passing on all errors for starters. Make sure to only pass ValueError."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525920001, "post_id": 50263613, "comment_id": 87547387, "body": "Converting to float when you&#39;re dealing with integers"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525920041, "post_id": 50263613, "comment_id": 87547397, "body": "Stripping off decimal points for no reason. If you&#39;re using float type conversion, commit to it. Your code says .2 &gt; 1 because you interpret it as 2."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525920182, "post_id": 50263613, "comment_id": 87547428, "body": "Splitting the line twice and converting the first element twice."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525920309, "post_id": 50263613, "comment_id": 87547469, "body": "Not using bool type for flag, which is also poorly named (though those are just nitpicks)"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525920369, "post_id": 50263613, "comment_id": 87547484, "body": "Turning the file into a 1D instead of a 2D list."}, {"owner": {"reputation": 381, "user_id": 6526367, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71213be47aa1020b264126fe29bef5bf?s=128&d=identicon&r=PG&f=1", "display_name": "S_Ymln", "link": "https://stackoverflow.com/users/6526367/s-ymln"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525971669, "post_id": 50263613, "comment_id": 87572579, "body": "@MadPhysicist The data has been modified. The data contained float values before. (0.3. 0.8) Thanks for many of your suggestions."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1526035553, "post_id": 50263613, "comment_id": 87597160, "body": "I didn&#39;t check the modification. If the data did indeed contain floats, your answer would be even more wrong."}], "tags": [], "owner": {"reputation": 381, "user_id": 6526367, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71213be47aa1020b264126fe29bef5bf?s=128&d=identicon&r=PG&f=1", "display_name": "S_Ymln", "link": "https://stackoverflow.com/users/6526367/s-ymln"}, "is_accepted": false, "score": -3, "last_activity_date": 1525911642, "last_edit_date": 1525911642, "creation_date": 1525910181, "answer_id": 50263613, "question_id": 50263311, "link": "https://stackoverflow.com/questions/50263311/read-text-file-into-list-based-on-specific-criterion/50263613#50263613", "title": "Read text file into list based on specific criterion", "body": "<pre><code>lst = []\nflag = 0 \n\nwith open('a.txt') as f:\n    for line in f:\n        try:\n            if float(line.split()[0].strip('.')) &gt;0:\n                flag = 1 \n            if flag == 1:\n                lst += [float(i.strip('.')) for i in line.split()]\n        except: \n            pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525977659, "post_id": 50269274, "comment_id": 87575549, "body": "OP is not asking to skip rows with zeros unless they are in the inital block."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1525977699, "post_id": 50269274, "comment_id": 87575572, "body": "Aside from that, this seems like a reasonable approach."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1525943268, "creation_date": 1525943268, "answer_id": 50269274, "question_id": 50263311, "link": "https://stackoverflow.com/questions/50263311/read-text-file-into-list-based-on-specific-criterion/50269274#50269274", "title": "Read text file into list based on specific criterion", "body": "<p>This is one way with <code>csv</code> module.</p>\n\n<pre><code>import csv\nfrom io import StringIO\n\nmystr = StringIO(\"\"\"\\\nstr1 str2 str3 str4\n0        1    12     34\n0        2      4     6\n0        3     5      22\n0       56    2      18\n0         3    99    12    \n0         8    5       7      \n1       66    78    9\n2       50    45    4\n\"\"\")\n\nres = []\n\n# replace mystr with open('file.csv', 'r')\nwith mystr as f:\n    reader = csv.reader(mystr, delimiter=' ', skipinitialspace=True)\n    next(reader)  # skip header\n    for line in reader:\n        row = list(map(int, filter(None, line)))  # convert to integers\n        if row[0] &gt; 0:  # apply condition\n            res.append(row)\n\nprint(res)\n\n[[1, 66, 78, 9], [2, 50, 45, 4]]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9767814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90faf4adb4c935e29a7d74eb888f0664?s=128&d=identicon&r=PG&f=1", "display_name": "tetris", "link": "https://stackoverflow.com/users/9767814/tetris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525943268, "creation_date": 1525907583, "last_edit_date": 1525919710, "question_id": 50263311, "link": "https://stackoverflow.com/questions/50263311/read-text-file-into-list-based-on-specific-criterion", "title": "Read text file into list based on specific criterion", "body": "<p>I have a text file with the following content:</p>\n\n<pre><code>str1 str2 str3 str4\n0        1    12     34\n0        2      4     6\n0        3     5      22\n0       56    2      18\n0         3    99    12    \n0         8    5       7      \n1       66    78    9\n</code></pre>\n\n<p>I want to read the above text file into a list such that program starts reading from the row where first column has a value greater than zero. </p>\n\n<p>How do I do it in Python 3.5?</p>\n\n<p>I tried genfromtxt() but i can only skip fixed number of lines from top. Since I will be reading different files i need something else.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525907614, "post_id": 50263299, "comment_id": 87544644, "body": "could you paste the code so that i may look at it"}, {"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525907707, "post_id": 50263299, "comment_id": 87544671, "body": "i think i understand the problem if you could paste the code i might fix it"}, {"owner": {"reputation": 13, "user_id": 9767792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steven Reiber", "link": "https://stackoverflow.com/users/9767792/steven-reiber"}, "reply_to_user": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525907933, "post_id": 50263299, "comment_id": 87544741, "body": "There you go, sorry about that. I included a gyazo link to it also."}, {"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525908244, "post_id": 50263299, "comment_id": 87544810, "body": "do you have to use functions at the end??"}, {"owner": {"reputation": 13, "user_id": 9767792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steven Reiber", "link": "https://stackoverflow.com/users/9767792/steven-reiber"}, "reply_to_user": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525908377, "post_id": 50263299, "comment_id": 87544838, "body": "I&#39;m not sure. I could use anything you recommend. I&#39;m just trying to make a program that spits out the missing variable. If you have a better idea please share."}, {"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1525908625, "post_id": 50263299, "comment_id": 87544890, "body": "ok so what happens if he gives value to all of the stuff  (i am just finishing the code)"}], "answers": [{"comments": [{"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "reply_to_user": {"reputation": 13, "user_id": 9767792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steven Reiber", "link": "https://stackoverflow.com/users/9767792/steven-reiber"}, "edited": false, "score": 0, "creation_date": 1525917767, "post_id": 50263522, "comment_id": 87546877, "body": "accept my answer it will come a long way ty in advance"}], "tags": [], "owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "is_accepted": true, "score": 0, "last_activity_date": 1525909377, "creation_date": 1525909377, "answer_id": 50263522, "question_id": 50263299, "link": "https://stackoverflow.com/questions/50263299/python-calculator-kinematics/50263522#50263522", "title": "Python Calculator Kinematics", "body": "<p>ok so the problem was that you were taking the input in the form of an Int but you asked the user to enter '/' which is a string.\nIn some versions, this doesn't give an error but here it does</p>\n\n<p>secondly, you were calculating in the Int variable which is ineffective in multiplication and division so instead, I used float which has better accuracy.</p>\n\n<pre><code>dontuse=''\n\nvf = input(\"What is the final velocity?\")\nif vf == \"/\":\n dontuse = \"vf\"\nelse:\n    vf=float(vf)\n\nvi = str(input(\"What is the floatial velocity?\"))\nif vi == \"/\":\n  dontuse = \"vi\"\nelse:\n  vi=float(vi)\n\na = str(input(\"What is the acceleration?\"))\nif a == \"/\":\n  dontuse = \"a\"\nelse:\n  a=float(a)\n\nt = str(input(\"What is the time?\"))\nif t == \"/\":\n  dontuse = \"t\"\nelse:\n  t=float(t)\n\n\ndef eq1():\n    vf = vi + a*t\n    print(\"vf: \"+str(vf))\ndef eq2():\n    vi = vf/(a*t)\n    print(\"vi: \"+str(vi))\ndef eq3():\n    t = (vf - vi)/a\n    print(\"t: \"+str(t))\n\ndef eq4():\n    a = (vf - vi)/t\n    print(\"a: \"+str(a))\n\n\n\nif dontuse == \"vf\":\n    eq1()\nelif dontuse=='vi':\n    eq2()\nelif dontuse=='a':\n    eq4()\nelif dontuse=='t':\n    eq3()\nelse:\n    print('All value known')\n</code></pre>\n\n<p>Enjoy :)</p>\n"}], "owner": {"reputation": 13, "user_id": 9767792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steven Reiber", "link": "https://stackoverflow.com/users/9767792/steven-reiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 50263522, "answer_count": 1, "score": 0, "last_activity_date": 1525909377, "creation_date": 1525907441, "last_edit_date": 1525907895, "question_id": 50263299, "link": "https://stackoverflow.com/questions/50263299/python-calculator-kinematics", "title": "Python Calculator Kinematics", "body": "<p>Hey guys what I'm trying to do here is make a very basic kinematics variable solver, so I've got the basic equation vf = vi + at. Now what I'm trying to do is make it so if you don't know the variable, you input / which is the variable you solve for. But the problem is, when I try to enter the variable as / it gives me an error because I'm using integers. But if I remove the int() from each variable it wont let the equations work! I'm stuck, if anyone can give me some input it'd be greatly appreciated. It seems my image isn't uploading so heres a gyazo link for it <a href=\"https://gyazo.com/3325b42c51f839dc901cdefc1fe9b7fd\" rel=\"nofollow noreferrer\">https://gyazo.com/3325b42c51f839dc901cdefc1fe9b7fd</a></p>\n\n<pre><code>vf = input(\"What is the final velocity?\")\nif vf == \"/\":\n dontuse = \"vf\"\nelse:\n    pass\nvi = int(input(\"What is the intial velocity?\"))\nif vi == \"/\":\n  dontuse = \"vi\"\nelse:\n  pass\na = int(input(\"What is the acceleration?\"))\nif a == \"/\":\n  dontuse = \"a\"\nelse:\n  pass\nt = int(input(\"What is the time?\"))\nif t == \"/\":\n  dontuse = \"t\"\nelse:\n  pass\ndef eq1():\n vf = vi + a*t\ndef eq2():\n  vi = vf/(a*t)\ndef eq3():\n  t = (vf - vi)/a\nif dontuse == \"vf\":\n  eq1()\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1525906730, "post_id": 50263191, "comment_id": 87544459, "body": "You exhausted your file ierator. It&#39;s only good for a single pass."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1525906849, "post_id": 50263191, "comment_id": 87544484, "body": "Also, don&#39;t use the <code>repr</code> of the delimeter of the dialect object returned by the sniffer... <i>It&#39;s already what you want it to be</i>"}], "answers": [{"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 0, "last_activity_date": 1525973255, "creation_date": 1525973255, "answer_id": 50278362, "question_id": 50263191, "link": "https://stackoverflow.com/questions/50263191/open-file-has-data-but-reports-back-length-0-in-python/50278362#50278362", "title": "Open file has data but reports back length 0 in python", "body": "<p>You need to move the file pointer back to the start of the file after sniffing it. You don't need to read the whole file in to do that, just enough to include a few rows:</p>\n\n<pre><code>import csv\n\nwith open(filepath, 'r') as f_input:\n    dialect = csv.Sniffer().sniff(f_input.read(2048))\n    f_input.seek(0)\n    csv_input = csv.reader(f_input, dialect)\n    csv_data = list(csv_input)\n</code></pre>\n\n<p>Also, the <code>csv.reader()</code> will do the splitting for you.    </p>\n"}], "owner": {"reputation": 51, "user_id": 8501883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c71f0b3536607ad787b43fea6d2270?s=128&d=identicon&r=PG&f=1", "display_name": "qwertytam", "link": "https://stackoverflow.com/users/8501883/qwertytam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 50278362, "answer_count": 1, "score": 0, "last_activity_date": 1525973255, "creation_date": 1525906660, "question_id": 50263191, "link": "https://stackoverflow.com/questions/50263191/open-file-has-data-but-reports-back-length-0-in-python", "title": "Open file has data but reports back length 0 in python", "body": "<p>I must be missing something very simple here, but I've been hitting my head against the wall for a while and don't understand where the error is. I am trying to open a csv file and read the data. I am detecting the delimiter, then reading in the data with this code:</p>\n\n<pre><code>with open(filepath, 'r') as csvfile:\n    dialect = csv.Sniffer().sniff(csvfile.read())\n    delimiter = repr(dialect.delimiter)[1:-1]\n    csvdata = [line.split(delimiter) for line in csvfile.readlines()]\n</code></pre>\n\n<p>However, my csvfile is being read as having no length. If I run:</p>\n\n<pre><code>print(sum(1 for line in csvfile))\n</code></pre>\n\n<p>The result is zero. If I run:</p>\n\n<pre><code>print(sum(1 for line in open(filepath, 'r')))\n</code></pre>\n\n<p>Then I get five lines, as expected. I've checked for name clashes by changing csvfile to other random names, but this does not change the result. Am I missing a step somewhere?</p>\n"}, {"tags": ["python", "python-3.x", "jupyter-notebook"], "comments": [{"owner": {"reputation": 8215, "user_id": 367319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cLGQd.jpg?s=128&g=1", "display_name": "Saher Ahwal", "link": "https://stackoverflow.com/users/367319/saher-ahwal"}, "edited": false, "score": 0, "creation_date": 1525906838, "post_id": 50263189, "comment_id": 87544477, "body": "Yes but your question needs to be specific you are talking about Jupyter kernel. This is not the OS kernel."}, {"owner": {"reputation": 508, "user_id": 8446738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/973a32317f443520ef6ebb8b54289b20?s=128&d=identicon&r=PG&f=1", "display_name": "Elegant Code", "link": "https://stackoverflow.com/users/8446738/elegant-code"}, "reply_to_user": {"reputation": 8215, "user_id": 367319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cLGQd.jpg?s=128&g=1", "display_name": "Saher Ahwal", "link": "https://stackoverflow.com/users/367319/saher-ahwal"}, "edited": false, "score": 0, "creation_date": 1525907903, "post_id": 50263189, "comment_id": 87544731, "body": "You are correct. I will edit that to clarify. Thank you."}], "owner": {"reputation": 508, "user_id": 8446738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/973a32317f443520ef6ebb8b54289b20?s=128&d=identicon&r=PG&f=1", "display_name": "Elegant Code", "link": "https://stackoverflow.com/users/8446738/elegant-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1561058715, "creation_date": 1525906638, "last_edit_date": 1592644375, "question_id": 50263189, "link": "https://stackoverflow.com/questions/50263189/can-a-recursive-call-crash-the-jupyter-notebook-kernel", "title": "Can a recursive call crash the Jupyter notebook kernel", "body": "<p>i'm new here. I hope this question could be of value to others too.</p>\n<p>Obviously a recursive call can overflow the stack and that will &quot;crash&quot; any program/script.</p>\n<p>However, I was wondering, in particular, whether overflowing the stack with a recursive call could generate the following message in Jupyter Notebook (python 3.x):</p>\n<blockquote>\n<p>Kernel Restarting</p>\n<p>The kernel appears to have died. It will restart automatically.</p>\n</blockquote>\n<p>Edit: The above message, refers to the python Kernel that the Jupyter Notebook is running.</p>\n<p>I am aware that something else might be causing the crash, but in order to help me narrow my options (and confirm my very strong suspicion) I will like to make sure that this is indeed the message Jupyter Notebook would display in the case of a recursive stack overflow.</p>\n<p>Thank you very much.</p>\n"}, {"tags": ["python", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 9419734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60dd3424caf2a46ab8671ada5dabf127?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/9419734/ahmed"}, "edited": false, "score": 0, "creation_date": 1525938603, "post_id": 50263184, "comment_id": 87553815, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1525906599, "creation_date": 1525906599, "answer_id": 50263184, "question_id": 50263166, "link": "https://stackoverflow.com/questions/50263166/how-to-create-a-stack-and-a-queue-in-python/50263184#50263184", "title": "How to create a Stack and a Queue in python", "body": "<p>You can use a deque object, which functions as both - check the docs for the functions it supports, and how to use it as a queue or stack. </p>\n\n<pre><code>from collections import deque\nd = deque()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 9419734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60dd3424caf2a46ab8671ada5dabf127?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/9419734/ahmed"}, "edited": false, "score": 0, "creation_date": 1525938587, "post_id": 50263208, "comment_id": 87553809, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 1, "user_id": 2191867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cadcd060d82412ef5388b5a6123d1d9?s=128&d=identicon&r=PG", "display_name": "SimpleSeeker", "link": "https://stackoverflow.com/users/2191867/simpleseeker"}, "is_accepted": false, "score": 0, "last_activity_date": 1525906808, "creation_date": 1525906808, "answer_id": 50263208, "question_id": 50263166, "link": "https://stackoverflow.com/questions/50263166/how-to-create-a-stack-and-a-queue-in-python/50263208#50263208", "title": "How to create a Stack and a Queue in python", "body": "<p>You can use list as a stack with the following methods list.append(x) and list.pop(). As for a queue, you can use list.append(x) and list.list.remove(). </p>\n\n<p>For further reading, <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/tutorial/datastructures.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 9419734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60dd3424caf2a46ab8671ada5dabf127?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/9419734/ahmed"}, "edited": false, "score": 0, "creation_date": 1525938592, "post_id": 50263227, "comment_id": 87553811, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 81, "user_id": 5649826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FxgIP.jpg?s=128&g=1", "display_name": "Manish Yadav", "link": "https://stackoverflow.com/users/5649826/manish-yadav"}, "is_accepted": true, "score": 2, "last_activity_date": 1525906967, "creation_date": 1525906967, "answer_id": 50263227, "question_id": 50263166, "link": "https://stackoverflow.com/questions/50263166/how-to-create-a-stack-and-a-queue-in-python/50263227#50263227", "title": "How to create a Stack and a Queue in python", "body": "<p>You may use list as stack. A good documentation could be found over <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">here</a>. Your code may look something like this </p>\n\n<pre><code>&gt;&gt;&gt; stack = [3, 4, 5]\n&gt;&gt;&gt; stack.append(6)\n&gt;&gt;&gt; stack.append(7)\n&gt;&gt;&gt; stack\n[3, 4, 5, 6, 7]\n&gt;&gt;&gt; stack.pop()\n7\n&gt;&gt;&gt; stack\n[3, 4, 5, 6]\n&gt;&gt;&gt; stack.pop()\n6\n&gt;&gt;&gt; stack.pop()\n5\n&gt;&gt;&gt; stack\n[3, 4]\n</code></pre>\n\n<p>You might want to <code>import queue</code> in your code for queue implementation</p>\n\n<pre><code>&gt;&gt;&gt; import queue\n\n&gt;&gt;&gt; L = queue.Queue(maxsize=20)\n&gt;&gt;&gt; L.put(5)\n&gt;&gt;&gt; L.put(9)\n&gt;&gt;&gt; L.put(1)\n&gt;&gt;&gt; L.put(7)\n\n&gt;&gt;&gt; print(L.get())\n5\n&gt;&gt;&gt; print(L.get())\n9\n&gt;&gt;&gt; print(L.get())\n1\n&gt;&gt;&gt; print(L.get())\n7\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 9419734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60dd3424caf2a46ab8671ada5dabf127?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/9419734/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 50263227, "answer_count": 3, "score": 0, "last_activity_date": 1525906967, "creation_date": 1525906462, "question_id": 50263166, "link": "https://stackoverflow.com/questions/50263166/how-to-create-a-stack-and-a-queue-in-python", "title": "How to create a Stack and a Queue in python", "body": "<p>I need to create a stack and a queue for search algorithms (depth first/ breadth first/ best first) therefore I need to create a stack and a queue.</p>\n\n<p>How can I create a Stack and a Queue in python?</p>\n"}, {"tags": ["python", "image", "tkinter", "tkinter-canvas"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6305631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d553ff5540ab7427e98a8407394f97f1?s=128&d=identicon&r=PG&f=1", "display_name": "GEOJOE", "link": "https://stackoverflow.com/users/6305631/geojoe"}, "edited": false, "score": 0, "creation_date": 1526151049, "post_id": 50263364, "comment_id": 87635192, "body": "Bryan, I see you&#39;re a fellow Okie. Thanks for your answer, I stuck some pieces together of code I found online and got something that works."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1525907948, "creation_date": 1525907948, "answer_id": 50263364, "question_id": 50263155, "link": "https://stackoverflow.com/questions/50263155/how-do-i-display-an-extremly-long-image-in-tkinter-how-to-get-around-canvas-ma/50263364#50263364", "title": "How do I display an extremly long image in Tkinter? (how to get around canvas max limit)", "body": "<p>There is no way around the size limit of the canvas, short of modifying and recompiling the underlying tk code. This would likely not be a trivial task.</p>\n\n<p>Assuming you are trying to display the image on a typical computer screen, there are still ways to view the image. Basically it boils down to only loading the part of the image that the user can see at any one time. </p>\n\n<p>For example, an image of the world is considerably larger than 64k by 64k, yet google maps is able to let you scroll around all you want. It does this by displaying the map as a series of tiles. As you move around the image, off-screen tiles are thrown away and new tiles are loaded. </p>\n\n<p>This same technique can be used in tkinter, and can even be used with scrollbars instead of a dragging motion. You just need to hook the scrollbars up to a function rather than directly to the canvas. Then, when the function is called, it can compute which part of the image that the user is looking at, and load it into memory.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6305631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d553ff5540ab7427e98a8407394f97f1?s=128&d=identicon&r=PG&f=1", "display_name": "GEOJOE", "link": "https://stackoverflow.com/users/6305631/geojoe"}, "is_accepted": true, "score": 0, "last_activity_date": 1526150950, "creation_date": 1526150950, "answer_id": 50309636, "question_id": 50263155, "link": "https://stackoverflow.com/questions/50263155/how-do-i-display-an-extremly-long-image-in-tkinter-how-to-get-around-canvas-ma/50309636#50309636", "title": "How do I display an extremly long image in Tkinter? (how to get around canvas max limit)", "body": "<p>This is a rather unattractive answer, but an answer non-the-less. This divides up extremely long images into \"tiles\" of 1000 pixel lengths. It does not divide the width. I've spliced together code from several sources until I got it all to work. If someone could make this with a scroll-bar functionality, that would be cool.</p>\n\n<pre><code>from tkinter import *\nfrom PIL import ImageTk as itk\nfrom PIL import Image\nimport math\nimport numpy as np\nImage.MAX_IMAGE_PIXELS = None #prevents the \"photo bomb\" warning from popping up. Have to have this for really large images.\n\n#----------------------------------------------------------------------\n# makes a simple window with a button right in the middle that let's you go \"down\" an image.\nclass MainWindow():\n\n    #----------------\n\n    def __init__(self, main):\n        # canvas for image\n        _, th, tw, rows, cols = self.getrowsandcols()\n        self.canvas = Canvas(main, width=tw, height=th)\n        #self.canvas.grid(row=0, column=0)\n        self.canvas.pack()\n\n        # images\n        self.my_images = self.cropimages() # crop the really large image down into several smaller images and append to this list\n        self.my_image_number = 0 #\n\n        # set first image on canvas\n        self.image_on_canvas = self.canvas.create_image(0, 0, anchor = NW, image = self.my_images[self.my_image_number])\n\n        # button to change image\n        self.upbutton = Button(main, text=\"UP\", command=self.onUpButton)\n        self.downbutton = Button(main, text=\"DOWN\", command=self.onDownButton)\n        self.upbutton.pack()\n        self.downbutton.pack()\n        #self.downbutton.grid(row=1, column=0)\n        #self.upbutton.grid(row=1, column=0)\n\n    #----------------\n    def getimage(self):\n        im = Image.open(\"Test_3.png\") # import the image\n        im = im.convert(\"RGBA\") # convert the image to color including the alpha channel (which is the transparency best I understand)\n        width, height = im.size # get the width and height\n        return width, height, im # return relevent variables/objects\n    def getrowsandcols(self):\n        width, height, im = self.getimage()\n        im = np.asarray(im) # Convert image to Numpy Array\n        tw = width  # Tile width will equal the width of the image\n        th = int(math.ceil(height / 100))  # Tile height\n        rows = int(math.ceil(height / th))  # Number of tiles/row\n        cols = int(math.ceil(width / tw))  # Number of tiles/column\n        return im, th, tw, rows, cols #return selected variables\n    def cropimages(self):\n        self.my_images = [] # initialize list to hold Tkinter \"PhotoImage objects\"\n        im, th, tw, rows, cols = self.getrowsandcols() # pull in needed variables to crop the really long image\n        for r in range(rows): # loop row by row to crop all of the image\n            crop_im =im[r * th:((r * th) + th), 0:tw] # crop the image for the current row (r). (th) stands for tile height.\n            crop_im = Image.fromarray(crop_im) # convert the image from an Numpy Array to a PIL image.\n            crop_im = itk.PhotoImage(crop_im) # convert the PIL image to a Tkinter Photo Object (whatever that is)\n            self.my_images.append(crop_im) # Append the photo object to the list\n            crop_im = None\n        return self.my_images\n    def onUpButton(self):\n        # next image\n        if self.my_image_number == 0:\n            self.my_image_number = len(self.my_images)-1\n        else:\n            self.my_image_number -= 1  # every button pressed will\n\n\n\n        # change image\n        self.canvas.itemconfig(self.image_on_canvas, image=self.my_images[self.my_image_number])  # attaches the image from the image list to the canvas\n    def onDownButton(self):\n        # next image\n        self.my_image_number += 1 #every button pressed will\n\n        # return to first image\n        if self.my_image_number == len(self.my_images):\n            self.my_image_number = 0\n\n        # change image\n        self.canvas.itemconfig(self.image_on_canvas, image = self.my_images[self.my_image_number]) #attaches the image from the image list to the canvas\n\n#----------------------------------------------------------------------\n\nroot = Tk()\nMainWindow(root)\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6305631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d553ff5540ab7427e98a8407394f97f1?s=128&d=identicon&r=PG&f=1", "display_name": "GEOJOE", "link": "https://stackoverflow.com/users/6305631/geojoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 50309636, "answer_count": 2, "score": 0, "last_activity_date": 1526150950, "creation_date": 1525906358, "question_id": 50263155, "link": "https://stackoverflow.com/questions/50263155/how-do-i-display-an-extremly-long-image-in-tkinter-how-to-get-around-canvas-ma", "title": "How do I display an extremly long image in Tkinter? (how to get around canvas max limit)", "body": "<p>I've tried multiple ways of displaying large images with tkinter<a href=\"https://i.stack.imgur.com/pGIbr.jpg\" rel=\"nofollow noreferrer\">really long image</a> No matter what I've tried, there doesn't seem to be any code that works. The main issue is that Canvas has a maximum height limit of around 30,000 pixels. </p>\n\n<p>Is there a way to display this whole image? increase, or get around the canvas limit? See the example image below.</p>\n"}, {"tags": ["python", "list", "reference", "append", "late-binding"], "owner": {"reputation": 77, "user_id": 6522798, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0c1c34555a5d72b5eeb830eff669b9de?s=128&d=identicon&r=PG&f=1", "display_name": "Anoop Sharma", "link": "https://stackoverflow.com/users/6522798/anoop-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1525906484, "answer_count": 0, "score": 1, "last_activity_date": 1525906343, "creation_date": 1525906343, "question_id": 50263151, "link": "https://stackoverflow.com/questions/50263151/python-lists-appending-in-a-function-works-unexpectedly", "closed_reason": "Duplicate", "title": "Python Lists appending in a function works unexpectedly", "body": "<p>I came across this below Python code which is showing an unexpected behavior.</p>\n\n<pre><code>def extendList(val, list=[] ):\n    list.append(val)\n    return list\n\nlist1 = extendList(10)\nprint \"value of list1 before = %s\" % list1\n\nlist2 = extendList(123,[])\nlist3 = extendList('a')\n\nprint \"value of list1 after = %s\" % list1    \n</code></pre>\n\n<p>According to me, the expected output of this code should be:</p>\n\n<pre><code>value of list1 before = [10]\nvalue of list1 after = [10]\n</code></pre>\n\n<p>The actual output of this code is:</p>\n\n<pre><code>value of list1 before = [10]\nvalue of list1 after = [10, 'a']\n</code></pre>\n\n<p>I am not sure why <code>list1</code> would change its value later when list3 is being assigned and append <code>'a'</code> to its current value i.e. <code>[10]</code>.</p>\n"}, {"tags": ["python", "python-2.7", "flask"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "edited": false, "score": 0, "creation_date": 1525968522, "post_id": 50263301, "comment_id": 87570761, "body": "Yes, I am doing sys,path.append but it is breaking my Flask.  I created a test.py file and was able to import ip.py and run the script on my Linux box.  The issue is, for some reason, Flask does not like this import.  If i move ip.py to same dir as flask.py, it works."}, {"owner": {"reputation": 1522, "user_id": 9760446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799ec2569f8425b7463cba54f91bf9bb?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Dent", "link": "https://stackoverflow.com/users/9760446/arthur-dent"}, "reply_to_user": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "edited": false, "score": 0, "creation_date": 1525978123, "post_id": 50263301, "comment_id": 87575789, "body": "If you put it into another folder, you have to make it a package in order to import from that folder, i.e. add an <code>__init__.py</code> file to the folder."}, {"owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "edited": false, "score": 0, "creation_date": 1525991406, "post_id": 50263301, "comment_id": 87581317, "body": "@ Arthur Dent I have init in every folder including /"}, {"owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "edited": false, "score": 0, "creation_date": 1526056279, "post_id": 50263301, "comment_id": 87610045, "body": "Thanks.  I will have to change my file structure."}], "tags": [], "owner": {"reputation": 1522, "user_id": 9760446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799ec2569f8425b7463cba54f91bf9bb?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Dent", "link": "https://stackoverflow.com/users/9760446/arthur-dent"}, "is_accepted": true, "score": 1, "last_activity_date": 1525908670, "last_edit_date": 1525908670, "creation_date": 1525907453, "answer_id": 50263301, "question_id": 50263132, "link": "https://stackoverflow.com/questions/50263132/having-issue-importing-py-file-in-flask/50263301#50263301", "title": "Having issue importing py file in Flask", "body": "<p>It needs to be in your Python path. If you don't want it in <code>www</code> folder, then install in path where other Python libraries are installed on your system. Otherwise add that location to the path before importing like so:</p>\n\n<pre><code>import sys\nsys.path.append(\"/scripts/python/\")\n</code></pre>\n\n<p>Even so, you wouldn't import it from <code>python</code> unless that python folder has an <code>__init__.py</code> folder in it to make it a package (unless that <em>is</em> your system Python path). So in this case you'd just do:</p>\n\n<pre><code>from IP import ip\n</code></pre>\n\n<p>Assuming you appended it to system path dynamically as shown above.</p>\n"}], "owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 50263301, "answer_count": 1, "score": 0, "last_activity_date": 1525908670, "creation_date": 1525906241, "question_id": 50263132, "link": "https://stackoverflow.com/questions/50263132/having-issue-importing-py-file-in-flask", "title": "Having issue importing py file in Flask", "body": "<p>I am having issues when importing py files in flask.  Here are how my files are structured:</p>\n\n<p>Flask: /var/www/html/flask_app/flask.py</p>\n\n<p>Current location of python script: /var/www/html/flask_app/python/IP/ip.py</p>\n\n<p>Desired location of python script: /scripts/python/IP/ip.py</p>\n\n<p>I would like to move my script from www directory and create a new folder in /. I am having issues when after I move, i can't seem to import it and get 500 error message.</p>\n\n<p>Please see below:</p>\n\n<pre><code>// flask.py   \n@app.route('/ipcheck', methods=['POST'])\ndef ip_check():    \n    from python.IP import ip\n    return ip.check_ip_range()\n\n// Above works when python folder is in same directory.  However when I move python folder to /scripts/, I get Error 500.\n\n// Flask.py after folder move - should import from /scripts/pyton/IP/ip.py\n\n@app.route('/ipcheck', methods=['POST'])\ndef ip_check():\n    sys.path.append('/scripts/')     \n    from python.IP import ip\n    return ip.check_ip_range()\n</code></pre>\n\n<p>How do I import ip.py?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 3, "creation_date": 1525906857, "post_id": 50263129, "comment_id": 87544486, "body": "Your first file does not have a trailing newline. <code>&#39;...&#39; != &#39;...\\n&#39;</code>"}, {"owner": {"reputation": 531, "user_id": 7933418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec40b228d90adc86ec949347733d2e1?s=128&d=identicon&r=PG&f=1", "display_name": "iprof0214", "link": "https://stackoverflow.com/users/7933418/iprof0214"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1525988246, "post_id": 50263129, "comment_id": 87580260, "body": "Thanks for identifying the issue Dan."}], "answers": [{"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 2, "last_activity_date": 1525973731, "creation_date": 1525973731, "answer_id": 50278481, "question_id": 50263129, "link": "https://stackoverflow.com/questions/50263129/issue-computing-difference-between-two-csv-files/50278481#50278481", "title": "Issue computing difference between two csv files", "body": "<p>You need to be careful with trailing newlines. As such it is safer to remove the newlines before comparing and then add them back when writing:</p>\n\n<pre><code>input_file1 = \"A.csv\"\ninput_file2 = \"B.csv\"\noutput_path = \"out.csv\"\n\nwith open(input_file1, 'r') as t1:\n    fileone = set(t1.read().splitlines())\n\nwith open(input_file2, 'r') as t2, open(output_path, 'w') as outFile:\n    for line in t2:\n        line = line.strip()\n\n        if line not in fileone:\n            outFile.write(line + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 531, "user_id": 7933418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec40b228d90adc86ec949347733d2e1?s=128&d=identicon&r=PG&f=1", "display_name": "iprof0214", "link": "https://stackoverflow.com/users/7933418/iprof0214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 50278481, "answer_count": 1, "score": 0, "last_activity_date": 1525973731, "creation_date": 1525906223, "question_id": 50263129, "link": "https://stackoverflow.com/questions/50263129/issue-computing-difference-between-two-csv-files", "title": "Issue computing difference between two csv files", "body": "<p>I'm trying to obtain the difference between two csv files A.csv and B.csv in order to obtain new rows added in the second file. A.csv has the following data.</p>\n\n<pre><code>acct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    Redundant/RSK\n</code></pre>\n\n<p>B.csv has the following data.</p>\n\n<pre><code>acct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    Redundant/RSK\nacct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    DT/89\n</code></pre>\n\n<p>To write the new rows added into an output file I'm using the following script. </p>\n\n<pre><code>input_file1 = \"A.csv\"\ninput_file2 = \"B.csv\"\noutput_path = \"out.csv\"\n\nwith open(input_file1, 'r') as t1:\n    fileone = set(t1)\nwith open(input_file2, 'r') as t2, open(output_path, 'w') as outFile:\n    for line in t2:\n        if line not in fileone:\n            outFile.write(line)\n</code></pre>\n\n<p>Expected output is :</p>\n\n<pre><code>acct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    DT/89 \n</code></pre>\n\n<p>Output obtained through the above script is :</p>\n\n<pre><code>acct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    Redundant/RSK\nacct    ABC     88888888    99999999    ABC-GHD 4/1/18  4   1   2018    DT/89\n</code></pre>\n\n<p>I'm not sure where I'm making a mistake, tried debugging it but with no progress. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525906435, "post_id": 50263126, "comment_id": 87544383, "body": "Use a regular expression: <code>GUGU(.*?)AGAG</code>"}, {"owner": {"reputation": 705, "user_id": 1762073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e58e5fca2b1b253dd9edb7f32159db?s=128&d=identicon&r=PG", "display_name": "PrasadK", "link": "https://stackoverflow.com/users/1762073/prasadk"}, "edited": false, "score": 0, "creation_date": 1525906500, "post_id": 50263126, "comment_id": 87544403, "body": "You should use <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> for getting your code reviewed."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 705, "user_id": 1762073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e58e5fca2b1b253dd9edb7f32159db?s=128&d=identicon&r=PG", "display_name": "PrasadK", "link": "https://stackoverflow.com/users/1762073/prasadk"}, "edited": false, "score": 0, "creation_date": 1525906569, "post_id": 50263126, "comment_id": 87544430, "body": "@PrasadK CR is not for help fixing bugs."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 9330368, "user_type": "registered", "profile_image": "https://graph.facebook.com/182087459226249/picture?type=large", "display_name": "Nauman Shahid", "link": "https://stackoverflow.com/users/9330368/nauman-shahid"}, "edited": false, "score": 0, "creation_date": 1525909472, "post_id": 50263277, "comment_id": 87545052, "body": "Could you please explain the following: final = strand.find(&quot;AGAG&quot;, initial+4)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 377, "user_id": 9330368, "user_type": "registered", "profile_image": "https://graph.facebook.com/182087459226249/picture?type=large", "display_name": "Nauman Shahid", "link": "https://stackoverflow.com/users/9330368/nauman-shahid"}, "edited": false, "score": 0, "creation_date": 1525909621, "post_id": 50263277, "comment_id": 87545101, "body": "I thought I did explain it. That&#39;s the optional <code>start</code> argument, which tells <code>find</code> where to start looking for <code>AGAG</code>. So it starts looking after the <code>GUGU</code>."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1525907231, "creation_date": 1525907231, "answer_id": 50263277, "question_id": 50263126, "link": "https://stackoverflow.com/questions/50263126/splice-a-string-multiple-times-using-a-keyword/50263277#50263277", "title": "Splice a string, multiple times, using a keyword", "body": "<p>Your code doesn't work if <code>AGAG</code> is right before <code>GUGU</code>. After the first iteration on that input, the value of <code>strand</code> is </p>\n\n<pre><code>GUCACACAGACAGAUGUAGAGGUGUUGUGUAACCCGUAGAGCAAAGGCAACAGUGUGUAAAGAGGUGUAAAGAG\n</code></pre>\n\n<p>Then <code>initial</code> is <code>21</code> and <code>final</code> is <code>17</code>, so you do:</p>\n\n<pre><code>strand = strand[:21] + strand[21:]\n</code></pre>\n\n<p>which just sets <code>strand</code> back to the same value, so you get stuck in a loop.</p>\n\n<p>The <code>string.find()</code> method has an optional <code>start</code> argument, so you can tell it to start looking for <code>AGAG</code> after <code>initial</code>:</p>\n\n<pre><code>final = strand.find(\"AGAG\", initial+4)\n</code></pre>\n\n<p>You can also do the whole thing with a regexp substitution:</p>\n\n<pre><code>import re\nstrand = re.sub(r'GUGU(.*?)AGAG', '', strand)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2858, "user_id": 1054154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/274a8902ebfa77671b35cc3be0948522?s=128&d=identicon&r=PG", "display_name": "tozCSS", "link": "https://stackoverflow.com/users/1054154/tozcss"}, "is_accepted": false, "score": 0, "last_activity_date": 1525907661, "creation_date": 1525907661, "answer_id": 50263323, "question_id": 50263126, "link": "https://stackoverflow.com/questions/50263126/splice-a-string-multiple-times-using-a-keyword/50263323#50263323", "title": "Splice a string, multiple times, using a keyword", "body": "<pre><code>import re\npattern = '(.*?)GUGU.*?AGAG'\ns1 = 'AGCGUGUGAGAGCUCCGA'\ns2 = 'GUGUAGAGGUCACAGUGUAAAAGCUCUAGAGCAGACAGAUGUAGAGGUGUUGUGUAACCCGUAGAGCAAAGGCAACAGUGUGUAAAGAGGUGUAAAGAG'\nprint ''.join(re.findall(pattern,s1)) + s1[s1.rfind('AGAG')+4:]\nprint ''.join(re.findall(pattern,s2)) + s2[s2.rfind('AGAG')+4:]\n</code></pre>\n\n<blockquote>\n  <p>AGCCUCCGA <br>\n  GUCACACAGACAGAUGUAGAGCAAAGGCAACA</p>\n</blockquote>\n"}], "owner": {"reputation": 377, "user_id": 9330368, "user_type": "registered", "profile_image": "https://graph.facebook.com/182087459226249/picture?type=large", "display_name": "Nauman Shahid", "link": "https://stackoverflow.com/users/9330368/nauman-shahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 50263277, "answer_count": 2, "score": 0, "last_activity_date": 1525907661, "creation_date": 1525906214, "question_id": 50263126, "link": "https://stackoverflow.com/questions/50263126/splice-a-string-multiple-times-using-a-keyword", "title": "Splice a string, multiple times, using a keyword", "body": "<p>I am trying to break a string apart by removing segments that occur between two words.</p>\n\n<p>Example:</p>\n\n<pre><code>AGCGUGUGAGAGCUCCGA\n</code></pre>\n\n<p>I will remove the parts that occur between: GUGU and AGAG</p>\n\n<p>So, the new string will be:</p>\n\n<pre><code>AGCCUCCGA\n</code></pre>\n\n<p>I wrote a code that utilises while loop to keep 'splicing' a string over and over till it can't find the GUGU and AGAG in the string. The process works, most of the time. </p>\n\n<p>I encountered one case where the 'input' is extremely long and then my code is stuck in an infinite loop and I don't understand why that is the case.</p>\n\n<p>I was hoping that someone could review it and help me improve on what I am doing.</p>\n\n<pre><code>def splice(strand):\n    while True:\n        initial = strand.find('GUGU')\n        final = strand.find('AGAG')\n        if initial == -1:\n            break\n        if final == -1:\n            break\n        strand = strand[:initial] + strand[final+4:]\n    return strand\n\nif __name__ == \"__main__\":\n    strand = input(\"Input strand: \")\n    print()\n    spliced = splice(strand)\n    print(\"Output is {}\".format(spliced))\n</code></pre>\n\n<p>The case where it is failing is: </p>\n\n<pre><code>GUGUAGAGGUCACAGUGUAAAAGCUCUAGAGCAGACAGAUGUAGAGGUGUUGUGUAACCCGUAGAGCAAAGGCAACAGUGUGUAAAGAGGUGUAAAGAG\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>GUCACACAGACAGAUGUAGAGCAAAGGCAACA\n</code></pre>\n\n<p>I haven't encountered any other cases where the code will not work.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525906064, "post_id": 50263066, "comment_id": 87544285, "body": "Just use string replacement functions."}, {"owner": {"reputation": 1229, "user_id": 3161253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860baa703ae4165a5b42f945d10feec7?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/3161253/sean"}, "edited": false, "score": 0, "creation_date": 1525906696, "post_id": 50263066, "comment_id": 87544452, "body": "You should prefer using something that parses HTML tags over string replacement. What would be better than either of those, is disabling the comments from being output in the PHP config:  <a href=\"https://stackoverflow.com/questions/30158095/why-does-some-php-code-render-as-html-comments\" title=\"why does some php code render as html comments\">stackoverflow.com/questions/30158095/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 9767742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f169e248e5628dc8e85e4b4278c1ecef?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/9767742/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525905792, "creation_date": 1525905792, "question_id": 50263066, "link": "https://stackoverflow.com/questions/50263066/remove-extra-part-of-string", "title": "Remove extra part of string", "body": "<pre><code>from http.server import HTTPServer, BaseHTTPRequestHandler\n\nclass xxx(BaseHTTPRequestHandler):\n    def do_GET(self):\n        self.path = \"/index.php\"\n        try:\n            file_to_open = open(self.path).read()\n            self.send_response(200)\n        except:\n            file_to_open = \"File cannout found!\"\n            self.send_response(404)\n    self.end_headers()\n    self.wfile.write(bytes(file_to_open, \"utf-8\"))\n\nhttpd = HTTPServer((\"localhost\", 8080), xxx)\nhttpd.serve_forever()\n</code></pre>\n\n<p>PHP is save in HTML comments.<br><br>How can I remove extra part of string in <strong>index.php</strong>?<br><br>I would like to remove all <code>&lt;!--</code> and <code>--&gt;</code>.</p>\n"}, {"tags": ["python", "python-3.x", "math", "probability", "probability-density"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 2, "creation_date": 1525906078, "post_id": 50263061, "comment_id": 87544290, "body": "You probably want a <code>break</code> statement after <code>choice = k</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17989, "user_id": 365102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e3139989e6548e7deac2cd45253d60df?s=128&d=identicon&r=PG", "display_name": "Mateen Ulhaq", "link": "https://stackoverflow.com/users/365102/mateen-ulhaq"}, "is_accepted": false, "score": 1, "last_activity_date": 1525907944, "creation_date": 1525907944, "answer_id": 50263362, "question_id": 50263061, "link": "https://stackoverflow.com/questions/50263061/why-does-this-implementation-of-the-monty-hall-give-the-probability-to-be-50/50263362#50263362", "title": "Why does this implementation of the Monty Hall give the probability to be 50%?", "body": "<p>You've found the answer, but I thought I'd just post my shot at this:</p>\n\n<pre><code>from random import randint\n\ndef monty(n_doors):\n    car = randint(0, n_doors - 1)\n    first_choice = 0  # always pick 0 for convenience\n    remaining_door = car if first_choice != car else 1  # 1 for convenience\n    return remaining_door == car\n\ntotal_runs = 10000\ntrials = [monty(3) for x in range(total_runs)]\nprint(sum(trials) / total_runs)\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>0.6705\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 7736899, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b443f7f1142116f94def429ba44c1c89?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Coder", "link": "https://stackoverflow.com/users/7736899/anonymous-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525907944, "creation_date": 1525905763, "question_id": 50263061, "link": "https://stackoverflow.com/questions/50263061/why-does-this-implementation-of-the-monty-hall-give-the-probability-to-be-50", "title": "Why does this implementation of the Monty Hall give the probability to be 50%?", "body": "<p>I recently watched a video about the <a href=\"https://en.wikipedia.org/wiki/Monty_Hall_problem\" rel=\"nofollow noreferrer\">Monty Hall Problem</a> and was interested in the fact that the contestant had a 2/3 chance of winning when switching. So, I decided to write a simulation for it to see it for myself. However, my simulation gave the answer to be 50%. Could somebody point out why? Note: the number of doors can be adjusted by changing <code>num_of_doors</code>.</p>\n\n<pre><code>from random import randint\n\nnum_of_doors = 3\nnum_of_simulations = 0\nwins = 0\n\nwhile True:\n    num_of_simulations += 1\n    doors = {k: \"Donkey\" for k in range(1, num_of_doors + 1)}\n    car = randint(1, num_of_doors)\n    doors[car] = \"Car\"\n    choice = randint(1, num_of_doors)\n\n    while len(doors) &gt; 2:\n        reveal = randint(1, num_of_doors)\n        if reveal in doors:\n            if reveal != choice and doors[reveal] != \"Car\":\n                del doors[reveal]\n\n    for k in doors:\n        if k != choice:\n            choice = k\n\n    if doors[choice] == \"Car\":\n        wins += 1\n    print(100 * wins / num_of_simulations)\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "neural-network", "deep-learning", "regression"], "comments": [{"owner": {"reputation": 3384, "user_id": 6632199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a1d0417b6c144772be06286bd58d06?s=128&d=identicon&r=PG&f=1", "display_name": "Jan K", "link": "https://stackoverflow.com/users/6632199/jan-k"}, "edited": false, "score": 0, "creation_date": 1525938810, "post_id": 50263007, "comment_id": 87553911, "body": "Is it not a classification problem?"}, {"owner": {"reputation": 17, "user_id": 9605728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81754427bb7396706be2bc01d03ccf2f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshit A.", "link": "https://stackoverflow.com/users/9605728/akshit-a"}, "reply_to_user": {"reputation": 3384, "user_id": 6632199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a1d0417b6c144772be06286bd58d06?s=128&d=identicon&r=PG&f=1", "display_name": "Jan K", "link": "https://stackoverflow.com/users/6632199/jan-k"}, "edited": false, "score": 0, "creation_date": 1525939134, "post_id": 50263007, "comment_id": 87554076, "body": "Yes it&#39;s a multiclass classification problem. Thanks for pointing it out."}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 9014655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9MvPK.jpg?s=128&g=1", "display_name": "Akshay Bahadur", "link": "https://stackoverflow.com/users/9014655/akshay-bahadur"}, "is_accepted": false, "score": 0, "last_activity_date": 1525938727, "creation_date": 1525938727, "answer_id": 50268130, "question_id": 50263007, "link": "https://stackoverflow.com/questions/50263007/number-of-neurons-in-the-input-layer-of-a-feedforward-neural-network/50268130#50268130", "title": "Number of neurons in the input layer of a feedforward neural network", "body": "<p>So I don't think there is a hard and fast rule for specifying the number of neurons.\nI usually use trial and error method. I train my network with a few different architectures until I get good result.</p>\n\n<p>Few things to keep in mind </p>\n\n<ol>\n<li>Deeper network take a lot of time to train so try building smaller network. The accuracy and generalization may be less in that case.</li>\n<li>If you go for deeper network, take care of the gradient vanishing/exploding problem which is quite prevalent in deep networks.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9754058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tim Schwabe", "link": "https://stackoverflow.com/users/9754058/tim-schwabe"}, "is_accepted": false, "score": -1, "last_activity_date": 1525958761, "creation_date": 1525958761, "answer_id": 50274034, "question_id": 50263007, "link": "https://stackoverflow.com/questions/50263007/number-of-neurons-in-the-input-layer-of-a-feedforward-neural-network/50274034#50274034", "title": "Number of neurons in the input layer of a feedforward neural network", "body": "<p>With your network, you are trying to approximate a function F(x_1,x_2,..) mapping from some Input to the 10-dimensional vector of the wine quality. </p>\n\n<p>In your case, the Input can be the 11 features, or maybe just 1. If for example the wine price is a feature, there will definitely be a correlation between price and quality. But this Correlation will probably approximate the \"True function\" just roughly. So, by incorporating more features in your model, you can approximate the True underlying function better and better. But be aware, that some features could be useless or have almost no influence as well !</p>\n"}, {"tags": [], "owner": {"reputation": 51908, "user_id": 702361, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e2a400cef6dbb94a8777c161d5b43d0c?s=128&d=identicon&r=PG", "display_name": "phoxis", "link": "https://stackoverflow.com/users/702361/phoxis"}, "is_accepted": false, "score": 2, "last_activity_date": 1525992109, "creation_date": 1525992109, "answer_id": 50282491, "question_id": 50263007, "link": "https://stackoverflow.com/questions/50263007/number-of-neurons-in-the-input-layer-of-a-feedforward-neural-network/50282491#50282491", "title": "Number of neurons in the input layer of a feedforward neural network", "body": "<p><strong>Input units</strong>:\nThe question asks how many neurons should there be in the input layer. You have  11 variables. Therefore with the bias unit you will have a total of 12 units in the input layer. </p>\n\n<p><strong>Output units</strong>:\nThe number of output units will be determined by if it is a regression or a classification problem, and how many outputs does the problem have. For example for the wine dataset there would be 3 classes. In a one-hot encoding scheme, there would be 3 output units, one for each class.</p>\n\n<p>The input and output units are therefore determined by the dataset (unless you are doing something crazy).</p>\n\n<p><strong>Hidden layers and units</strong>:\nThe number of hidden layers, and number of units per hidden layer is something which has to be tuned. For this specific problem, it might not be necessary to go much deep. One single hidden layer would do. Although, for smaller datasets you could train multiple models with different hidden units and different number of layers and select the model based on validation set score or based on cross-validation.</p>\n\n<p>Trained with one hidden layer with 5 hidden units, three outputs. Wine dataset.\n<a href=\"https://i.stack.imgur.com/RNjU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RNjU0.png\" alt=\"Trained with one hidden layer with 5 hidden units, three outputs. Wine dataset.\"></a></p>\n\n<p>Trained with two hidden layers, with 10 and 5 hidden units respectively.\n<a href=\"https://i.stack.imgur.com/a6XB7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a6XB7.png\" alt=\"Trained with two hidden layers, with 10 and 5 hidden units respectively. \"></a></p>\n\n<p>In both the cases the bias units are present. In my case this specific wine dataset have 13 inputs, and three outputs for a three class classification. </p>\n\n<p>As this can be time consuming for larger datasets, you might use some heuristics to select the the number of layers. Eg. start with one hidden layer and, say, 5 units. Then train the model. Next, use 10 units and train another model, continue adding 5 units, and training models until the validation score does not improve much. Then stop adding units to the layer. Afterwards, you might want to add another layer and again change the number of hidden units and continue.</p>\n\n<p>This is a very basic method. I would recommend you to read scholarly articles for effective methods. There are plenty of methods used. For a start I would like to point you here: <a href=\"http://Literature%20on%20Neural%20Architecture%20Search\" rel=\"nofollow noreferrer\">http://www.ml4aad.org/literature-on-neural-architecture-search/</a>. Also check <a href=\"http://www.ml4aad.org/automl/\" rel=\"nofollow noreferrer\">AutoML</a></p>\n"}], "owner": {"reputation": 17, "user_id": 9605728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81754427bb7396706be2bc01d03ccf2f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshit A.", "link": "https://stackoverflow.com/users/9605728/akshit-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1525992109, "creation_date": 1525905374, "last_edit_date": 1525939199, "question_id": 50263007, "link": "https://stackoverflow.com/questions/50263007/number-of-neurons-in-the-input-layer-of-a-feedforward-neural-network", "title": "Number of neurons in the input layer of a feedforward neural network", "body": "<p>I am a beginner in <code>Machine Learning</code>, and doing the multiclass <code>multiclass classsification task</code> of predicting the wine quality (0 to 10), based on 11 input variables\nHow do I decide the number of neurons in the input layer of my feedforward <code>neural network</code>?\nFor example, 11 variables in my dataset. \nIn the input layer should I keep 11 neurons?\nHow about having more/less than 11 neurons?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-forms", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 2093, "user_id": 8495108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZW5Oe.png?s=128&g=1", "display_name": "Chiefir", "link": "https://stackoverflow.com/users/8495108/chiefir"}, "edited": false, "score": 0, "creation_date": 1525962106, "post_id": 50262997, "comment_id": 87566787, "body": "can you please explain how this should work? does <code>self</code> contain a <code>QuerySet</code>? But <code>request</code> is not a part of a QuerySet, how do u apply <code>.filter()</code> there? Or <code>request.user</code> by itself is a <code>QuerySet</code>?"}, {"owner": {"reputation": 1553, "user_id": 4452004, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/262c32f7add160a19c186b007c417938?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Kirkpatrick", "link": "https://stackoverflow.com/users/4452004/ian-kirkpatrick"}, "edited": false, "score": 0, "creation_date": 1525976112, "post_id": 50262997, "comment_id": 87574775, "body": "You can push this logic even further down to the form class itself."}], "tags": [], "owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "is_accepted": false, "score": 2, "last_activity_date": 1525905937, "last_edit_date": 1525905937, "creation_date": 1525905262, "answer_id": 50262997, "question_id": 50262951, "link": "https://stackoverflow.com/questions/50262951/how-do-i-loop-through-a-drop-down-model-form-field-to-display-only-some-values-i/50262997#50262997", "title": "How do I loop through a drop down model form field to display only some values in Django", "body": "<p>All the logic can be done in backend (<code>your views</code>) before sending the form to template:</p>\n\n<pre><code>if request.user.groups.filter(name__iexact=\"ADMIN\").exists():\n    form.fields['target'].choices = ( ('Day', 'Daily target'))\n</code></pre>\n\n<p>Since you're using Django CBV, override <code>get_form()</code> method</p>\n\n<pre><code>def get_form(self, *args, **kwargs):\n    form = super(ClassBasedView, self).get_form(*args, **kwargs)\n    if self.request.user.groups.filter(name__iexact=\"ADMIN\").exists():\n        form.fields['target'].choices = ( ('Day', 'Daily target'))\n    return form\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1553, "user_id": 4452004, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/262c32f7add160a19c186b007c417938?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Kirkpatrick", "link": "https://stackoverflow.com/users/4452004/ian-kirkpatrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1525976034, "creation_date": 1525976034, "answer_id": 50279090, "question_id": 50262951, "link": "https://stackoverflow.com/questions/50262951/how-do-i-loop-through-a-drop-down-model-form-field-to-display-only-some-values-i/50279090#50279090", "title": "How do I loop through a drop down model form field to display only some values in Django", "body": "<p>You can modify the choices in the ModelForm (<a href=\"https://docs.djangoproject.com/en/2.0/topics/forms/modelforms/#django.forms.ModelForm\" rel=\"nofollow noreferrer\">ModelForm documentation here</a>).</p>\n\n<p>In your form:</p>\n\n<pre><code>from ____ import target # idk where your target variable is but it needs to be visible to your ChangeTaskForm in here. So you may have to import it.\n\nclass ChangeTaskForm(forms.ModelForm):\n\n    class Meta:\n        model = GoalStatus\n        fields = '__all__'\n\n    def __init__(self, *args, **kwargs):\n        super(ChangeTaskForm, self).__init__(*args, **kwargs)\n        self.initialize_widgets()\n\n    def initialize_widgets(self):\n        \"\"\"\n        Initializes widgets for the form. This is not a built in\n        method. It's a method I'm adding. You can manipulate any field \n        in the form along with their widgets. This is where the choices \n        can be filtered down from the overall choices to specific \n        choices.\n        \"\"\"\n        target_choices_for_field = []\n        for target_option_tuple in target: # loop through each option.\n            can_choose_option = ... # This is where you do the logic to determine whether or not the option should be available.\n            if can_choose_option:\n                target_choices_for_field.append(target_option_tuple)\n        self.fields[\"target\"].widget = forms.Select(choices=target_choices_for_field)\n</code></pre>\n\n<p>Then, in your html:</p>\n\n<pre><code>{% if user.is_authenticated %}\n{% if request.user|has_group:\"ADMIN\" %}\n\n&lt;form action=\"{% url 'myapp:move_goal' %}\"  method=\"post\"&gt;\n    {% csrf_token %}\n    {% form %}\n    &lt;input type=\"submit\" value=\"submit\"&gt;Submit&lt;/input&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Now, the ModelForm has already dealt with filtering the options in the code so you don't need to do anything about that in the template. It's generally a good idea to push logic like that down the stack as much as possible. So form choices should be set in the form class, not the template. As a side note, the same thing (pushing logic as far down as possible) should be done with your validation. Use <a href=\"https://docs.djangoproject.com/en/2.0/topics/auth/default/#the-login-required-decorator\" rel=\"nofollow noreferrer\">view decorators</a> along with <a href=\"https://docs.djangoproject.com/en/2.0/topics/auth/default/#django.contrib.auth.decorators.user_passes_test\" rel=\"nofollow noreferrer\">@user_passes_test</a> to deal with groups to do authentication.</p>\n"}], "owner": {"reputation": 195, "user_id": 7951901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e1607f16aaeadda69d6531d22ac418?s=128&d=identicon&r=PG&f=1", "display_name": "A.Sasori", "link": "https://stackoverflow.com/users/7951901/a-sasori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1525990370, "creation_date": 1525904957, "last_edit_date": 1525990370, "question_id": 50262951, "link": "https://stackoverflow.com/questions/50262951/how-do-i-loop-through-a-drop-down-model-form-field-to-display-only-some-values-i", "title": "How do I loop through a drop down model form field to display only some values in Django", "body": "<p>I have 4 choices</p>\n\n<pre><code>target = (('Week', 'Weekly target'),\n          ('Day', 'Daily target'),\n          ('Verify', 'Verify'),\n          ('Done', 'Done'))\n</code></pre>\n\n<p>and this is my model to implement the choices:</p>\n\n<pre><code>class GoalStatus(models.Model):\n\n    target = models.CharField(max_length=100, choices=target, default=\"Week\")\n    name = models.ForeignKey(ScrummyUser, on_delete=models.CASCADE)\n    goal_status = models.ForeignKey(ScrummyGoals, on_delete=models.CASCADE)\n</code></pre>\n\n<p>This is my Model form</p>\n\n<pre><code>class ChangeTaskForm(forms.ModelForm):\n\n    class Meta:\n        model = GoalStatus\n        fields = '__all__'\n</code></pre>\n\n<p>and this is my html file</p>\n\n<pre><code>{% if user.is_authenticated %}\n{% if request.user|has_group:\"ADMIN\" %}\n\n    &lt;form action=\"{% url 'myapp:move_goal' %}\"  method=\"post\"&gt;\n        {% csrf_token %}\n        {% for field in form.data.target %}\n            {% for foo in field %}\n                {% if foo == Day %}\n                    {{ foo }}\n                {% endif %}\n            {% endfor %}\n\n        {% endfor %}\n    &lt;/form&gt;\n</code></pre>\n\n<p>How do I iterate through the drop down list in my form to display only a desired choice say 'Day' for a user that has permission to choose only 'Day'. I am very new to Django.</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525908375, "post_id": 50262913, "comment_id": 87544837, "body": "Are you trying to use both tensorflow keras and the keras together? I just <a href=\"https://stackoverflow.com/questions/50259158/keras-custom-layer-node-object-has-no-attribute-output-masks#comment87540259_50259158\">solved one same error in another question</a>. Can you upload all your imports or a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> if possible?"}, {"owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525932365, "post_id": 50262913, "comment_id": 87550813, "body": "Can you better explain what you mean? I thought that there were only one keras."}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525933063, "post_id": 50262913, "comment_id": 87551106, "body": "You can import keras related api from either <code>tensorflow.python.keras</code> or from <code>keras</code> directly. I&#39;m not sure what you did in your code. Based on the stack trace, you seem to have both <code>tensorflow&#47;python&#47;keras&#47;_impl&#47;keras&#47;engine&#47;...</code> and <code>keras&#47;engine&#47;...</code>."}, {"owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525933952, "post_id": 50262913, "comment_id": 87551548, "body": "Yes you are right...I probably mixed both...which ones shold I use? Probably the tensorflow ones as I leverage with extimator and tfrecord format as input files"}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525934263, "post_id": 50262913, "comment_id": 87551719, "body": "They are similar but not the same. That&#39;s why it may cause problems. As for now, I&#39;d say try either one and see if that solves your problem first."}, {"owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525934399, "post_id": 50262913, "comment_id": 87551778, "body": "Thanks a lot! I really appreciated your help! I will try tonight :)"}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525934569, "post_id": 50262913, "comment_id": 87551867, "body": "You are welcome!"}, {"owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525979657, "post_id": 50262913, "comment_id": 87576541, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170807/discussion-between-seba-and-y-luo\">continue this discussion in chat</a>."}, {"owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1526148842, "post_id": 50262913, "comment_id": 87634511, "body": "Thanks a lot using all tf.keras api solvede the problem :)"}], "owner": {"reputation": 91, "user_id": 6695432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd769311884938b465f7c1216194396?s=128&d=identicon&r=PG&f=1", "display_name": "Seba", "link": "https://stackoverflow.com/users/6695432/seba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525904690, "creation_date": 1525904690, "question_id": 50262913, "link": "https://stackoverflow.com/questions/50262913/keras-mobilenet-cannot-previous-saved-model-h5-file", "title": "Keras MobileNet cannot previous saved model h5 file", "body": "<p>I just trained a MobileNet model with keras (using tensorflow as backend).\nWhen the training was finished I saved the model with</p>\n\n<pre><code># serialize weights to HDF5\nmodel_with_weights = os.path.join(model_dir, \"model.h5\")\nmodel.save(model_with_weights)\nprint(\"Saved model to disk\")\n</code></pre>\n\n<p>Now I would like to re-load the same model...\nso I tried this (model is in the right directory)</p>\n\n<pre><code>model = load_model('model.h5', custom_objects={\n                       'relu6': keras.applications.mobilenet.relu6,\n                       'DepthwiseConv2D': keras.applications.mobilenet.DepthwiseConv2D})\n</code></pre>\n\n<p>But I got this error and I don't know what to do in order to load the previous trainied model.</p>\n\n<pre><code>File \"load_model.py\", line 79, in &lt;module&gt;\n    'relu6': keras.applications.mobilenet.relu6})\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/engine/saving.py\", line 241, in load_model\n    model = model_from_config(model_config, custom_objects=custom_objects)\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/engine/saving.py\", line 318, in model_from_config\n    return deserialize(config, custom_objects=custom_objects)\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/layers/serialization.py\", line 64, in deserialize\n    printable_module_name='layer')\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/utils/generic_utils.py\", line 173, in deserialize_keras_object\n    list(custom_objects.items())))\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/engine/network.py\", line 1098, in from_config\n    process_node(layer, node_data)\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/tensorflow/python/keras/_impl/keras/engine/network.py\", line 1056, in process_node\n    layer(input_tensors[0], **kwargs)\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/keras/engine/topology.py\", line 606, in __call__\n    previous_mask = _collect_previous_mask(inputs)\n  File \"/home/seba/Projects/venv3.5/lib/python3.5/site-packages/keras/engine/topology.py\", line 2834, in _collect_previous_mask\n    mask = node.output_masks[tensor_index]\nAttributeError: 'Node' object has no attribute 'output_masks'\n</code></pre>\n\n<p>Can someone point me into the right direction?</p>\n"}, {"tags": ["python", "api"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525905184, "post_id": 50262937, "comment_id": 87544020, "body": "Hi Pamela, Im sorry im having trouble understanding you. What do you mean by &quot;{&#39;list&#39;:&quot; + this_data + &quot;}&quot; ?  I was able to convert it into a json object using &quot;json.dumps(strip)&quot; but then im unsure of how to save it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1525905366, "post_id": 50262937, "comment_id": 87544085, "body": "You can save a <code>list</code> object as a JSON just fine. A JSON array is fine as a top-level object. However, will need to use the <code>json</code> module, and use <code>json.dump</code> because the string representation of the Python data-structures is not quite valid JSON (although it looks similar, but, for example, will use single-quotes instead of double quotes and <code>None</code> instead of <code>null</code> etc)"}, {"owner": {"reputation": 157, "user_id": 3029189, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1722686928/picture?type=large", "display_name": "PamelaTabak", "link": "https://stackoverflow.com/users/3029189/pamelatabak"}, "edited": false, "score": 0, "creation_date": 1525905403, "post_id": 50262937, "comment_id": 87544096, "body": "Oh, if you already have a json file, ignore what I&#39;ve said about transforming this data into a json! Then you just need to write it to the file, I&#39;m pretty sure you can just writeFile.write(the_result_from_json_dumps)"}, {"owner": {"reputation": 157, "user_id": 3029189, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1722686928/picture?type=large", "display_name": "PamelaTabak", "link": "https://stackoverflow.com/users/3029189/pamelatabak"}, "edited": false, "score": 0, "creation_date": 1525905599, "post_id": 50262937, "comment_id": 87544157, "body": "I&#39;ve just tried this and it works. Just replace the json dumps input with whatever you need to turn in a json          import json          writeFile =open(&#39;file_name.json&#39;, &#39;w&#39;)          writeFile.write(json.dumps([1,2,3,{&#39;4&#39;: 5, &#39;6&#39;: 7}], separators=(&#39;,&#39;,&#39;:&#39;))) writeFile.close()"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1525906401, "post_id": 50262937, "comment_id": 87544371, "body": "@PamelaTabak you can just use <code>json.dump(my_python_object, writeFile)</code>"}], "tags": [], "owner": {"reputation": 157, "user_id": 3029189, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1722686928/picture?type=large", "display_name": "PamelaTabak", "link": "https://stackoverflow.com/users/3029189/pamelatabak"}, "is_accepted": false, "score": 1, "last_activity_date": 1525904882, "creation_date": 1525904882, "answer_id": 50262937, "question_id": 50262879, "link": "https://stackoverflow.com/questions/50262879/python-saving-api-result-into-json-file/50262937#50262937", "title": "Python: Saving API result into json file?", "body": "<p>I'm assuming you have the data into a variable inside your code. So:</p>\n\n<p>You first need to transform this data into a json object (if you just add this list into an object, like \"{'list':\" + this_data + \"}\" you have a json!).</p>\n\n<p>So then you only need to get this json data and write it into a file:</p>\n\n<pre><code>    writeFile =open('file_name.json', 'w')\n    writeFile.write(your_data)\n    writeFile.close()\n</code></pre>\n\n<p>Hope this might help you :)</p>\n"}], "owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6970, "favorite_count": 4, "closed_date": 1525905522, "answer_count": 1, "score": 3, "last_activity_date": 1525905577, "creation_date": 1525904480, "last_edit_date": 1525905577, "question_id": 50262879, "link": "https://stackoverflow.com/questions/50262879/python-saving-api-result-into-json-file", "closed_reason": "Duplicate", "title": "Python: Saving API result into json file?", "body": "<p>this is a preview of the data that im able to access via API using python 3.</p>\n\n<pre><code>   [{'DBNOs': 2,\n  'assists': 0,\n  'boosts': 0,\n  'damageDealt': 129.820038,\n  'deathType': 'byplayer',\n  'headshotKills': 0,\n  'heals': 0,\n  'killPlace': 35,\n  'killPoints': 1295,\n  'killPointsDelta': 3.15819788,\n  'killStreaks': 0,\n  'kills': 1,\n  'lastKillPoints': 0,\n  'lastWinPoints': 0,\n  'longestKill': 3,\n  'mostDamage': 0,\n  'name': 'Esskedit',\n  'playerId': 'account.7a54835609584b9c943b213345ea7ffb',\n  'revives': 1,\n  'rideDistance': 2023.24707,\n  'roadKills': 0,\n  'teamKills': 1,\n  'timeSurvived': 655,\n  'vehicleDestroys': 0,\n  'walkDistance': 1113.72375,\n  'weaponsAcquired': 0,\n  'winPlace': 17,\n  'winPoints': 1281,\n  'winPointsDelta': -6.71400356}]\n</code></pre>\n\n<p>I was able to dump it and make it into a json object using json.dumps(variablename), but how do i save it as a json file?</p>\n\n<p>Thank you </p>\n"}, {"tags": ["python", "css", "google-chrome", "flask"], "comments": [{"owner": {"reputation": 347, "user_id": 7563449, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mpPXF.jpg?s=128&g=1", "display_name": "Exil", "link": "https://stackoverflow.com/users/7563449/exil"}, "edited": false, "score": 0, "creation_date": 1525904785, "post_id": 50262871, "comment_id": 87543894, "body": "Can you give us a live example of your code using jsfiddle?"}, {"owner": {"reputation": 149, "user_id": 6297534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AYtMU5KVPuk/AAAAAAAAAAI/AAAAAAAAAsY/C5PHlxRjs0k/photo.jpg?sz=128", "display_name": "user6297534", "link": "https://stackoverflow.com/users/6297534/user6297534"}, "edited": false, "score": 0, "creation_date": 1525904831, "post_id": 50262871, "comment_id": 87543910, "body": "Can you share your HTML too? Is correct reference of CSS file is applied?"}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1525905280, "post_id": 50262871, "comment_id": 87544055, "body": "Seems like possible browser cache issue if you recently updated. Check your CSS file in the browser and see if your code is there"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1525906967, "post_id": 50263086, "comment_id": 87544503, "body": "Thank you so much, I moved main.css to be the last file to load and everything worked."}, {"owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1525908239, "post_id": 50263086, "comment_id": 87544806, "body": "I am having a new problem, where the updates I make in the css code doesnt work when I restart the server and refresh?"}, {"owner": {"reputation": 127, "user_id": 3307648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xK1V6.jpg?s=128&g=1", "display_name": "vsevolodts", "link": "https://stackoverflow.com/users/3307648/vsevolodts"}, "reply_to_user": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1525972434, "post_id": 50263086, "comment_id": 87572949, "body": "I assume you are using a local server to test the code. I would recommend checking if there is any configuration of the caching enabled. Just to endure the issue is in the environment, not the code, try to upload the files to an online server. Are you using any overrides (Chrome Dev Tool)?"}], "tags": [], "owner": {"reputation": 127, "user_id": 3307648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xK1V6.jpg?s=128&g=1", "display_name": "vsevolodts", "link": "https://stackoverflow.com/users/3307648/vsevolodts"}, "is_accepted": true, "score": 0, "last_activity_date": 1525905904, "creation_date": 1525905904, "answer_id": 50263086, "question_id": 50262871, "link": "https://stackoverflow.com/questions/50262871/part-of-css-code-not-rendering-in-chrome/50263086#50263086", "title": "Part of CSS Code Not Rendering in Chrome", "body": "<p>There are no errors in the CSS code.</p>\n\n<p>The suggested list of steps to troubleshoot:</p>\n\n<ul>\n<li>Open the main.css file in an editor that displays \"all characters\" to make sure you don't have any non-displayable characters;</li>\n<li>Check the order of style sheets as they loaded in your HTML. Make sure the bootstrap styling is not overriding the custom styling (main.css should be the last file to load)</li>\n<li>Clear cache of your browser</li>\n<li>Make sure the server doesn't have caching enabled</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    font-family: josefin;\r\n}\r\n\r\n.splash-content {\r\n    text-align: center;\r\n}\r\n\r\n.register-button  {\r\n    color: #6A136C;\r\n    width: 300px;\r\n    height: 100px;\r\n    border: 5px solid #6A136C;\r\n}\r\n\r\n.btn {\r\n    padding: 14px 24px;\r\n    border: 0 none;\r\n    font-weight: 700;\r\n    letter-spacing: 1px;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.btn.sharp {\r\n    border-radius: 0;\r\n}\r\n\r\n.btn.outline {\r\n    background: none;\r\n    padding: 12px 22px;\r\n}\r\n\r\n.btn-primary.outline {\r\n    border: 2px solid #6A136C;\r\n    color: #6A136C;\r\n}\r\n\r\n.btn:focus, .btn:active:focus, .btn.active:focus {\r\n    outline: 0 none;\r\n}\r\n\r\n.btn-primary {\r\n    background: #0099cc;\r\n    color: #ffffff;\r\n}\r\n\r\n.btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active, .open &gt; .dropdown-toggle.btn-primary {\r\n    background: #33a6cc;\r\n}\r\n\r\n.btn-primary:active, .btn-primary.active {\r\n    background: #007299;\r\n    box-shadow: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input class=\"btn btn-primary\" value=\"test button\"&gt;&lt;/input&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 50263086, "answer_count": 1, "score": 1, "last_activity_date": 1525905904, "creation_date": 1525904419, "question_id": 50262871, "link": "https://stackoverflow.com/questions/50262871/part-of-css-code-not-rendering-in-chrome", "title": "Part of CSS Code Not Rendering in Chrome", "body": "<p>This is my <code>main.css</code> file:</p>\n\n<pre><code>body {\n    font-family: josefin;\n}\n\n.splash-content {\n    text-align: center;\n}\n\n.register-button  {\n    color: #6A136C;\n    width: 300px;\n    height: 100px;\n    border: 5px solid #6A136C;\n}\n\n.btn {\n    padding: 14px 24px;\n    border: 0 none;\n    font-weight: 700;\n    letter-spacing: 1px;\n    text-transform: uppercase;\n}\n\n.btn.sharp {\n    border-radius: 0;\n}\n\n.btn.outline {\n    background: none;\n    padding: 12px 22px;\n}\n\n.btn-primary.outline {\n    border: 2px solid #6A136C;\n    color: #6A136C;\n}\n\n.btn:focus, .btn:active:focus, .btn.active:focus {\n    outline: 0 none;\n}\n\n.btn-primary {\n    background: #0099cc;\n    color: #ffffff;\n}\n\n.btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active, .open &gt; .dropdown-toggle.btn-primary {\n    background: #33a6cc;\n}\n\n.btn-primary:active, .btn-primary.active {\n    background: #007299;\n    box-shadow: none;\n}\n</code></pre>\n\n<p>However when I start my website and go to it, the styling isnt applied, then I go to the chrome dev-tools and look at the css, this is all that chrom shows:</p>\n\n<pre><code>body {\n    font-family: josefin;\n}\n\n.splash-content {\n    text-align: center;\n}\n\n.register-button  {\n    color: #6A136C;\n    width: 300px;\n    height: 100px;\n    border: 5px solid #6A136C;\n}\n</code></pre>\n\n<p>And when I copy and paste the missing code, the styling works completely fine and the way it should, I have no clue whats going wrong or what Im doing wrong. Does anyone know what might be happening, this hasnt happened to me before. Im using flask, bootstrap, jquery, if that makes a difference.</p>\n\n<p>Thank you so much!</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 676, "user_id": 9767541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cillian Collins", "link": "https://stackoverflow.com/users/9767541/cillian-collins"}, "is_accepted": false, "score": 1, "last_activity_date": 1525904780, "creation_date": 1525904780, "answer_id": 50262924, "question_id": 50262866, "link": "https://stackoverflow.com/questions/50262866/tkinter-make-an-image-smaller-without-losing-detail/50262924#50262924", "title": "Tkinter make an image smaller without losing detail", "body": "<p>I'd recommend using Pillow (formerly known as PIL, which is now deprecated).</p>\n\n<p>Using Pillow you can make an image smaller using the <code>thumbnail()</code> function, or if you are looking to increase the size of an image, the <code>resize()</code> function will also work.</p>\n\n<pre><code>from PIL import Image\nsize = 128, 128    \nim = Image.open(infile)\nim.thumbnail(size)\nim.save(file + \".thumbnail\", \"JPEG\")\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 6471455, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1GbUP.jpg?s=128&g=1", "display_name": "Jared Parker", "link": "https://stackoverflow.com/users/6471455/jared-parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525904780, "creation_date": 1525904396, "question_id": 50262866, "link": "https://stackoverflow.com/questions/50262866/tkinter-make-an-image-smaller-without-losing-detail", "title": "Tkinter make an image smaller without losing detail", "body": "<p>At the moment I'm using \"subsample\" so that images don't fill the screen, but I've noticed it loses it quality when doing this.</p>\n\n<pre><code>PhotoImage(file=image).subsample(5)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Oa6qp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oa6qp.png\" alt=\"\"></a></p>\n\n<p>(Left = Image on tkinter, Right = Image on paint)</p>\n\n<p>How can I make the image smaller without losing its quality?</p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1525904587, "post_id": 50262856, "comment_id": 87543835, "body": "I&#39;m assuming your actual lines of code are more complicated than just printing different things?"}, {"owner": {"reputation": 165, "user_id": 9464566, "user_type": "registered", "profile_image": "https://graph.facebook.com/1597399980367951/picture?type=large", "display_name": "Ninja", "link": "https://stackoverflow.com/users/9464566/ninja"}, "edited": false, "score": 0, "creation_date": 1525904740, "post_id": 50262856, "comment_id": 87543881, "body": "go for a simple for loop, i think thats what you want"}, {"owner": {"reputation": 2388, "user_id": 3574494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f268114bcebb3f37e10267629359fe6?s=128&d=identicon&r=PG&f=1", "display_name": "larsgrefer", "link": "https://stackoverflow.com/users/3574494/larsgrefer"}, "edited": false, "score": 0, "creation_date": 1525905976, "post_id": 50262856, "comment_id": 87544260, "body": "Why do you want your program to sleep so often? I think you have different problem to solve."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9736825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "johnn trann", "link": "https://stackoverflow.com/users/9736825/johnn-trann"}, "edited": false, "score": 0, "creation_date": 1525906210, "post_id": 50262935, "comment_id": 87544327, "body": "what if i want to do something like this? after1 = discord.get(&quot;<a href=\"https://discordapp.com/api/channels/&quot;+(discordchannelid1)+&quot;/messages?limit=2&quot;).json()\" rel=\"nofollow noreferrer\">discordapp.com/api/channels/&quot;+(discordchannelid&zwnj;&#8203;1)+&quot;/&hellip;</a> \t\t\ttime.sleep(1)  can i keep making the variable after(counter) and (discordchannelid(counter)) increase by 1?"}, {"owner": {"reputation": 199, "user_id": 7939344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1721481691200992/picture?type=large", "display_name": "Colin Hancey", "link": "https://stackoverflow.com/users/7939344/colin-hancey"}, "reply_to_user": {"reputation": 19, "user_id": 9736825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "johnn trann", "link": "https://stackoverflow.com/users/9736825/johnn-trann"}, "edited": false, "score": 0, "creation_date": 1525906841, "post_id": 50262935, "comment_id": 87544479, "body": "If you&#39;re trying to create a new variable each time, then this is a variable variables problem.  You can make each variable a class object, then simply create each instance of the class object inside of a for loop.  So, if you want 4 different variables, then you can say &quot;for i in range(4): new_class = class_type() &quot;"}], "tags": [], "owner": {"reputation": 199, "user_id": 7939344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1721481691200992/picture?type=large", "display_name": "Colin Hancey", "link": "https://stackoverflow.com/users/7939344/colin-hancey"}, "is_accepted": false, "score": 0, "last_activity_date": 1525905236, "last_edit_date": 1525905236, "creation_date": 1525904874, "answer_id": 50262935, "question_id": 50262856, "link": "https://stackoverflow.com/questions/50262856/python-do-same-code-every-other-line/50262935#50262935", "title": "Python - do same code every other line?", "body": "<pre><code>counter = 0\nfor i in range(60):\n    print(\"something different\" + str(counter))\n    time.sleep(1)\n    counter += 1\n</code></pre>\n\n<p>This is called a \"for loop\".</p>\n\n<p>\"for i in range()\" will repeat an action a number of times equal to the input integer.  You can use any variable name you want for \"i\" and even refer to it in the code as a reference to the specific index (for example, you can refer to a list element with \"list[i]\").  The integer can come from a variable, such as \"for i in range(x)...\"</p>\n\n<p>If you're specifically looking to make each line different, you can specify the rules that do that inside your for loop.  In the code I provided above, I incremented a counter by 1 to match your question statement.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 9736825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "johnn trann", "link": "https://stackoverflow.com/users/9736825/johnn-trann"}, "edited": false, "score": 0, "creation_date": 1525906272, "post_id": 50263050, "comment_id": 87544338, "body": "what if i want to do something like this? after1 = discord.get(&quot;<a href=\"https://discordapp.com/api/channels/&quot;+(discordchannelid1)+&quot;/messages?limit=2&quot;).json()\" rel=\"nofollow noreferrer\">discordapp.com/api/channels/&quot;+(discordchannelid&zwnj;&#8203;1)+&quot;/&hellip;</a> \t\t\ttime.sleep(1)  can i keep making the variable after(counter) and (discordchannelid(counter)) increase by 1?"}], "tags": [], "owner": {"reputation": 1893, "user_id": 8940931, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fTuu5.jpg?s=128&g=1", "display_name": "Simeon Ikudabo", "link": "https://stackoverflow.com/users/8940931/simeon-ikudabo"}, "is_accepted": false, "score": 1, "last_activity_date": 1525905702, "creation_date": 1525905702, "answer_id": 50263050, "question_id": 50262856, "link": "https://stackoverflow.com/questions/50262856/python-do-same-code-every-other-line/50263050#50263050", "title": "Python - do same code every other line?", "body": "<p>You can use a while loop depending on how many times you want to print this message, along with a for loop. You can break out of the loop when you\u2019ve printed the message as many times as you want in order to avoid an infinite loop. Here is an example. </p>\n\n<pre><code>message_number = 0\nwhile message &lt;= 4:\n       print(\u201cDo something\u201d + str(message_number))\n       message_number += 1\n       time.sleep(1)\n</code></pre>\n\n<p>This will continue to print your message so long as the message count is &lt;= 4. The loop will automatically break once we have entered four messages (I chose for because you printed \u201cDo something\u201d 4 times). Each time through the loop it will increment message by += 1 until we print the message four times. We can add time.sleep(1) as the last line of code so that the loop will wait 1 second before executing the code again. We also combine the string with the message count each time we iterate through the while loop. </p>\n"}], "owner": {"reputation": 19, "user_id": 9736825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "johnn trann", "link": "https://stackoverflow.com/users/9736825/johnn-trann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525906335, "creation_date": 1525904350, "last_edit_date": 1525906335, "question_id": 50262856, "link": "https://stackoverflow.com/questions/50262856/python-do-same-code-every-other-line", "title": "Python - do same code every other line?", "body": "<p>Let's say I have the following code:</p>\n\n<pre><code>print(\"something different1\")\ntime.sleep(1)\nprint(\"something different2\")\ntime.sleep(1)\nprint(\"something different3\")\ntime.sleep(1)\nprint(\"something different4\")\ntime.sleep(1)\n</code></pre>\n\n<p>How can I rewrite it so that I don't have to type time.sleep(1) every other line? just want to save time here. i looked loop functions up on google but im not entirely sure how to do it.</p>\n\n<p>thanks !</p>\n\n<p>edit: thanks for comments so far.</p>\n\n<p>what if i want to do something like this? </p>\n\n<pre><code>after1 = discord.get(\"https://discordapp.com/api/channels/\"+(discordchannelid1)+\"/messages?limit=2\").json()\ntime.sleep(1)\n</code></pre>\n\n<p>can i keep making the variable after(counter) and (discordchannelid(counter)) increase by 1?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1525904874, "post_id": 50262853, "comment_id": 87543920, "body": "Long story short: you build the corresponding dfa, minimize it and compare."}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 3, "creation_date": 1525905194, "post_id": 50262853, "comment_id": 87544026, "body": "Don&#39;t think this is really a duplicate. I presume OP wants to compare them <i>from</i> Python. Not using some external regex to DFA tool."}], "owner": {"reputation": 23, "user_id": 6339834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82dfb76d90d98aae7983c94f454f320?s=128&d=identicon&r=PG&f=1", "display_name": "Chertkov Pavel", "link": "https://stackoverflow.com/users/6339834/chertkov-pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1527512487, "creation_date": 1525904341, "last_edit_date": 1525905275, "question_id": 50262853, "link": "https://stackoverflow.com/questions/50262853/how-can-i-compare-regular-expression-objects-by-their-functionality", "title": "How can I compare Regular Expression Objects by their functionality", "body": "<p>The two following regular expression objects that match a decimal number are functionally equal:</p>\n\n<pre><code>a = re.compile(r\"\"\"\\d +  # the integral part\n                   \\.    # the decimal point\n                   \\d *  # some fractional digits\"\"\", re.X)\nb = re.compile(r\"\\d+\\.\\d*\")\n</code></pre>\n\n<p>How can I compare them by their functionality?<br>\nIn this case <code>a == b</code> should be <code>True</code>.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1525904127, "creation_date": 1525904127, "answer_id": 50262815, "question_id": 50262785, "link": "https://stackoverflow.com/questions/50262785/setting-group-value-in-pandas-groupby/50262815#50262815", "title": "Setting Group Value in Pandas Groupby", "body": "<pre><code>In [101]: (df.groupby('ind')['val']\n             .transform(lambda x: ['Hat'] * len(x) if x.str.contains('Hat').any() else x))\nOut[101]:\n0    Hat\n1    Hat\n2    Hat\n3    Dog\n4    Log\n5    Hat\n6    Hat\nName: val, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1525917648, "creation_date": 1525917648, "answer_id": 50264419, "question_id": 50262785, "link": "https://stackoverflow.com/questions/50262785/setting-group-value-in-pandas-groupby/50264419#50264419", "title": "Setting Group Value in Pandas Groupby", "body": "<p>What I will do </p>\n\n<pre><code>df.loc[df.val.eq('Hat').groupby(df.ind).transform('any'),'val']='Hat'\ndf\n   ind  val\n0    1  Hat\n1    1  Hat\n2    1  Hat\n3    2  Dog\n4    2  Log\n5    3  Hat\n6    3  Hat \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1525918295, "creation_date": 1525918295, "answer_id": 50264485, "question_id": 50262785, "link": "https://stackoverflow.com/questions/50262785/setting-group-value-in-pandas-groupby/50264485#50264485", "title": "Setting Group Value in Pandas Groupby", "body": "<p>One way without <code>groupby</code> or <code>lambda</code> is to use <code>pd.DataFrame.loc</code>:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'ind': [1, 1, 1, 2, 2, 3, 3],\n                   'val': ['Hat', 'Cat', 'Cat', 'Dog', 'Log', 'Hat', 'Hat']})\n\nidx = set(df.loc[df['val'].str.contains('Hat', regex=False), 'ind'])\n\ndf.loc[df['ind'].isin(idx), 'val'] = 'Hat'\n\n   ind  val\n0    1  Hat\n1    1  Hat\n2    1  Hat\n3    2  Dog\n4    2  Log\n5    3  Hat\n6    3  Hat\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4326550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/875957c98baf054674d537b967ef4716?s=128&d=identicon&r=PG&f=1", "display_name": "SharpObject", "link": "https://stackoverflow.com/users/4326550/sharpobject"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 50264485, "answer_count": 3, "score": 4, "last_activity_date": 1525918295, "creation_date": 1525903879, "last_edit_date": 1525906585, "question_id": 50262785, "link": "https://stackoverflow.com/questions/50262785/setting-group-value-in-pandas-groupby", "title": "Setting Group Value in Pandas Groupby", "body": "<p>Given an example dataframe df, when grouping by 'ind' I want to set the values in a group to 'Hat' if 'Hat' is in the group. i.e</p>\n\n<pre><code>ind | val              ind | val\n----------             ---------\n1   | Hat               1  | Hat\n1   | Cat               1  | Hat\n1   | Cat        - &gt;    1  | Hat\n2   | Dog               2  | Dog\n2   | Log               2  | Log\n3   | Hat               3  | Hat\n3   | Hat               3  | Hat\n</code></pre>\n\n<p>I have the following code to tell me if 'Hat' is in a group, but whats the best way to set every value in that group to hat?</p>\n\n<pre><code>for i, x in df.groupby('ind'):\n     if(x['val'].str.contains('Hat').any()):   \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 23, "user_id": 7542688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBtz.jpg?s=128&g=1", "display_name": "jhumphreys", "link": "https://stackoverflow.com/users/7542688/jhumphreys"}, "edited": false, "score": 0, "creation_date": 1525905147, "post_id": 50262773, "comment_id": 87544006, "body": "Words with multiple pronunciations will have &quot;(some_number)&quot; attached to the end of them. I&#39;m trying to keep all pronunciations of each match. That&#39;s why I tried to check for both scenarios (with a number on the end and not)."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7542688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBtz.jpg?s=128&g=1", "display_name": "jhumphreys", "link": "https://stackoverflow.com/users/7542688/jhumphreys"}, "edited": false, "score": 0, "creation_date": 1525907988, "post_id": 50262947, "comment_id": 87544758, "body": "Thank you for responding. I&#39;m having some trouble with this line: common = set(line.strip().lower() for in line in n). I assume it&#39;s storing each line as an element in the set but I&#39;m not sure. I get a syntax error and when I removed that first &#39;in&#39; to resolve it I get a message that &#39;line&#39; is not defined."}, {"owner": {"reputation": 23, "user_id": 7542688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBtz.jpg?s=128&g=1", "display_name": "jhumphreys", "link": "https://stackoverflow.com/users/7542688/jhumphreys"}, "edited": false, "score": 0, "creation_date": 1525909416, "post_id": 50262947, "comment_id": 87545047, "body": "I got it to work using a list instead of a set (just because I&#39;m more familiar with that) and tweaked a couple of things. Thanks again for your help and advice."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 23, "user_id": 7542688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBtz.jpg?s=128&g=1", "display_name": "jhumphreys", "link": "https://stackoverflow.com/users/7542688/jhumphreys"}, "edited": false, "score": 1, "creation_date": 1525909659, "post_id": 50262947, "comment_id": 87545110, "body": "Thanks for letting me know about the bugs. I updated the answer. A <code>set</code> is similar to a list except that it only allows 1 entry of a given value (if the orginal file as &quot;abend&quot; multiple times you&#39;ll only get one copy) and the &quot;in&quot; operator is faster. If you&#39;ve got 15K common words, it will have a significant benefit. That said, the list will work too."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 5, "last_activity_date": 1525909474, "last_edit_date": 1525909474, "creation_date": 1525904941, "answer_id": 50262947, "question_id": 50262773, "link": "https://stackoverflow.com/questions/50262773/trying-to-compare-lines-of-2-large-files-and-keep-lines-that-match-but-no-match/50262947#50262947", "title": "Trying to compare lines of 2 large files and keep lines that match, but no matches", "body": "<p>You have a couple of problems. First, you iterate the entire file but don't save anything</p>\n\n<pre><code>for line in n:\n        line = line[:-1] #remove newline char\n</code></pre>\n\n<p>Then you ask if the word you want is in the file that you've already exhausted with that loop</p>\n\n<pre><code>if dict_entry[0] in n:\n</code></pre>\n\n<p>As soon as you are in the business of checking containment, you should be thinking sets. They provide fast lookup of hashable objects like strings. You can also \"normalize\" the data by stripping off things like the <code>(2)</code> and deciding on a case to compare. Perhaps both files are already lower case, but I assumed the case can vary.</p>\n\n<pre><code>file_name = 'small_cmudict-en-us.dict'\n\nwith open(file_name, 'w+') as f:\n\n    with open('common_names_words.txt', 'r') as n:\n        common = set(line.strip().lower() for line in n)\n\n    with open('cmudict-en-us.dict', 'r') as d:\n        for line2 in d:\n            # account for e.g, \"abend\" and \"abend(2)\"\n            word = line2.split()[0].split('(')[0].strip().lower()\n            if word in common:\n                f.write(line2)\n</code></pre>\n\n<p>You could also compress that code a bit by using <code>writelines</code> and a generator that filters lines for you.</p>\n\n<pre><code>    with open('cmudict-en-us.dict', 'r') as d:\n        f.writelines(line for line in d\n            if line.split()[0].split('(')[0].strip().lower() in common)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7542688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBtz.jpg?s=128&g=1", "display_name": "jhumphreys", "link": "https://stackoverflow.com/users/7542688/jhumphreys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50262947, "answer_count": 1, "score": 2, "last_activity_date": 1525909474, "creation_date": 1525903832, "question_id": 50262773, "link": "https://stackoverflow.com/questions/50262773/trying-to-compare-lines-of-2-large-files-and-keep-lines-that-match-but-no-match", "title": "Trying to compare lines of 2 large files and keep lines that match, but no matches", "body": "<p>I have a dictionary file for a speech recognition engine that I'm trying to reduce the size of. The dictionary contains 133k+ lines like so:</p>\n\n<pre><code>abella AH B EH L AH\nabeln AE B IH L N\nabelow AE B AH L OW\nabels EY B AH L Z\nabelson AE B IH L S AH N\nabend AE B EH N D\nabend(2) AH B EH N D\n</code></pre>\n\n<p>I'm trying to reduce it to only hold the most common words and names in the U.S. from a file with 15k+ lines like so:</p>\n\n<pre><code>configurations\npoison\njames\njohn\nrobert\n</code></pre>\n\n<p>When I run the following script it results in a blank file, as if there no matches between the first token of lines in the dictionary and the lines of the common words dataset. Are my files too big for the way I'm doing this? What am I doing wrong?</p>\n\n<pre><code>import os\n\nfile_name = 'small_cmudict-en-us.dict'\nf = open(file_name, 'w+')\n\nwith open('common_names_words.txt', 'r') as n:\n        for line in n:\n                line = line[:-1] #remove newline char\n        with open('cmudict-en-us.dict', 'r') as d:\n                for line2 in d:\n                        dict_entry = line2.split()\n\n                        #words with multiple pronunciations; abend, abend(2)\n                        if dict_entry[0][-3:] == '(': \n                                if dict_entry[0][:-3] in n:\n                                        f.write(line)\n\n                        if dict_entry[0] in n:\n                                f.write(line)\nf.close \n</code></pre>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["python", "exception-handling", "crash", "systemd"], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 8341166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQPY7.jpg?s=128&g=1", "display_name": "esilk", "link": "https://stackoverflow.com/users/8341166/esilk"}, "edited": false, "score": 0, "creation_date": 1525966252, "post_id": 50263853, "comment_id": 87569501, "body": "Cool, ok. So,a prudent cutoff between &quot;known&quot; and &quot;unknown&quot; would be considering all custom exceptions created by the modules I&#39;m importing, as well as any reasonably expected exceptions caused by my own code, as &quot;known&quot;? Whereas FooException, raised only by unused class Foo, would be a safe one to disregard and handled by systemd (with appropriate logging)?"}], "tags": [], "owner": {"reputation": 11251, "user_id": 254318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fqtBB.jpg?s=128&g=1", "display_name": "Mark Stosberg", "link": "https://stackoverflow.com/users/254318/mark-stosberg"}, "is_accepted": true, "score": 1, "last_activity_date": 1525912207, "creation_date": 1525912207, "answer_id": 50263853, "question_id": 50262750, "link": "https://stackoverflow.com/questions/50262750/crash-proofing-script-vs-using-systemd-to-guarantee-near-constant-operation/50263853#50263853", "title": "&quot;Crash-proofing&quot; script vs.using systemd to guarantee near-constant operation", "body": "<p>All known exceptional cases should be handled. Any undefined behavior is a potential security issue. </p>\n\n<p>As you suggest, it is also prudent to plan for unknown exceptions. Perhaps there's also a small memory leak that will also cause the application to crash even when it's running correctly. So, it's still prudent to have <code>systemd</code> automatically restart it if it fails, even when all expected failure modes have been handled.</p>\n"}], "owner": {"reputation": 273, "user_id": 8341166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQPY7.jpg?s=128&g=1", "display_name": "esilk", "link": "https://stackoverflow.com/users/8341166/esilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50263853, "answer_count": 1, "score": 0, "last_activity_date": 1525912207, "creation_date": 1525903686, "question_id": 50262750, "link": "https://stackoverflow.com/questions/50262750/crash-proofing-script-vs-using-systemd-to-guarantee-near-constant-operation", "title": "&quot;Crash-proofing&quot; script vs.using systemd to guarantee near-constant operation", "body": "<p>Perhaps this is a broad question, but I haven't found an answer elsewhere, so here goes.</p>\n\n<p>The Python script I'm writing needs to run constantly (in a perfect world, I recognize this may not be exactly possible) on a deployed device. I've already dedicated time to adding \"try...except\" statements throughout so that, should an issue arise, the script will recover and continue to work.</p>\n\n<p>The issue is that I'm not sure I can (nor should) handle every single possible exception that may be thrown. As such, I've decided it may be better to allow the script to die and to use systemd to restart it.</p>\n\n<p>The three options:</p>\n\n<ul>\n<li>Making no attempt to handle any exception, and just allowing systemd to restart it whenever it dies.</li>\n<li>Meticulously creating handlers for every possible exception to guarantee that, short of loss of power, interpreter bug, or heat death of the universe, the script will always run.</li>\n<li>A mix of the two -- making an effort to prevent crashes in some cases while allowing them in others and letting systemd restart the script.</li>\n</ul>\n\n<p>The third choice seems the most reasonable to me. So the question is this: <strong>What factors should be considered when optimizing between \"crash-proof\" code and allowing a crash and restart by systemd?</strong></p>\n\n<p>For some more application specific information: there is a small but noticeable overhead involved with starting the script, the main portion will run between 50 to 100 times per second, it is not \"mission critical\" in that there will be no death/damage in the event of failure (just some data loss), and I already expect intermittent issues with the network it will be on.</p>\n"}, {"tags": ["python", "packages", "python-import"], "comments": [{"owner": {"reputation": 5483, "user_id": 9589593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7320d6e4f742cdb90e53c45c3dfd90f?s=128&d=identicon&r=PG&f=1", "display_name": "pkpnd", "link": "https://stackoverflow.com/users/9589593/pkpnd"}, "edited": false, "score": 0, "creation_date": 1525903617, "post_id": 50262722, "comment_id": 87543483, "body": "You need to import whichever ones you use, if any."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1525903622, "post_id": 50262722, "comment_id": 87543487, "body": "I usually import the modules that I plan to use."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525903642, "post_id": 50262722, "comment_id": 87543499, "body": "If you use a name that isn&#39;t either built-in or locally defined, then it has to be imported from somewhere."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1525904101, "post_id": 50262722, "comment_id": 87543682, "body": "Usually, you know this by reading documentation for the functions you want to use."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1525905223, "post_id": 50262722, "comment_id": 87544040, "body": "When your first learning, you probably won&#39;t know what to import till you run into a problem you can&#39;t solve then you go looking through the tutorial and documentation and hopefully find something that will help you then you add that to your imports and after a while you&#39;ll have a feel for what you might need before you start but it seems every once and a while you still need more help and then you go find another module/package."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 7939344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1721481691200992/picture?type=large", "display_name": "Colin Hancey", "link": "https://stackoverflow.com/users/7939344/colin-hancey"}, "is_accepted": false, "score": 0, "last_activity_date": 1525904139, "creation_date": 1525904139, "answer_id": 50262817, "question_id": 50262722, "link": "https://stackoverflow.com/questions/50262722/how-to-know-what-packages-modules-you-need-to-import-in-python-code/50262817#50262817", "title": "How to know what packages/modules you need to import in Python code", "body": "<p>It depends on what you want your code to do.</p>\n\n<p>Modules are usually just collections of functions that do different things.  For example, the module \"random\" contains functions for generating random numbers; and \"colored\" lets you change the font and background of the text you print in your terminal.</p>\n\n<p>You can look around on sites like github.com to find cool libraries that may help you, or you may simply google around.</p>\n"}], "owner": {"reputation": 3, "user_id": 9728122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ann Catherine Bokinsky", "link": "https://stackoverflow.com/users/9728122/ann-catherine-bokinsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525904139, "creation_date": 1525903557, "question_id": 50262722, "link": "https://stackoverflow.com/questions/50262722/how-to-know-what-packages-modules-you-need-to-import-in-python-code", "title": "How to know what packages/modules you need to import in Python code", "body": "<p>How do you know which python modules/packages you need to import in the beginning of your code? </p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 19375, "user_id": 1735003, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qNeQo.png?s=128&g=1", "display_name": "P-Gn", "link": "https://stackoverflow.com/users/1735003/p-gn"}, "is_accepted": true, "score": 1, "last_activity_date": 1525942474, "creation_date": 1525942474, "answer_id": 50269045, "question_id": 50262703, "link": "https://stackoverflow.com/questions/50262703/mixture-density-networks-with-shared-centroids/50269045#50269045", "title": "Mixture Density Networks with shared centroids", "body": "<p>All of these inputs are tensors, so you can always apply operations before. Here, you probably want to <code>tile</code> the means and sigmas to the entire batch.</p>\n\n<pre><code>import tensorflow as tf\ntfd = tf.contrib.distributions\n\nnum_mixtures = 7\noutput_ndim = 5\n\ninputs = tf.placeholder(dtype='float32', shape=(None, output_ndim), name='inputs')\nalphas = tf.placeholder(name='alphas', dtype='float32', shape=(None, num_mixtures))\n\nmu = tf.Variable(name='mu', dtype='float32',\n                 initial_value=tf.zeros((output_ndim, num_mixtures)), trainable=True)\n\nsigma_chol = tf.Variable(name='sigma_chol', dtype='float32',\n                         initial_value=tf.zeros((output_ndim, output_ndim, num_mixtures)), trainable=True)\n\n<b>\n# tile distribution parameters to the entire batch\nbatch_size = tf.shape(inputs)[0]\nmu = tf.tile(mu[None], (batch_size, 1, 1))\nsigma_chol = tf.tile(sigma_chol[None], (batch_size, 1, 1, 1))\n</b>\ncomponents=[\n    tfd.MultivariateNormalTriL(loc=<b>mu[...,i]</b>,\n                               scale_tril=<b>sigma_chol[...,i]</b>,\n                               validate_args=True,\n                               name='Mixture_Component_{}'.format(i)) for i in range(num_mixtures)\n]\n\nbimix_gauss = tfd.Mixture(cat=tfd.Categorical(alphas),\n                          components=components, validate_args=True)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 1574073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8e50178b9a65017380fefadd0ba65a?s=128&d=identicon&r=PG", "display_name": "Fede_v", "link": "https://stackoverflow.com/users/1574073/fede-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 50269045, "answer_count": 1, "score": 1, "last_activity_date": 1525942484, "creation_date": 1525903484, "last_edit_date": 1525942484, "question_id": 50262703, "link": "https://stackoverflow.com/questions/50262703/mixture-density-networks-with-shared-centroids", "title": "Mixture Density Networks with shared centroids", "body": "<p>I am trying to define a particular variant of mixture density networks where, for each sample in a batch, the neural network predicts a distribution of centroids (each of which is a Gaussian with a full covariance matrix).  The caveat is that I'd like to learn the location and covariance matrix of each centroid (ie, it should be a <em>parameter</em> of the neural network) and then predict a distribution over each centroid.</p>\n\n<p>I've seen lots of examples (ie, <a href=\"http://edwardlib.org/tutorials/mixture-density-network\" rel=\"nofollow noreferrer\">http://edwardlib.org/tutorials/mixture-density-network</a>) where the neural network is outputting means, sigmas and alphas for each sample.  I want to learn means and sigmas, and then just output alphas.</p>\n\n<p>I'm trying to do this with the following code:</p>\n\n<pre><code>inputs = tf.placeholder(dtype='float32', shape=(None, output_ndim), name='inputs')\nalphas = tf.placeholder(name='alphas', dtype='float32', shape=(None, num_mixtures))\n\nmu = tf.Variable(name='mu', dtype='float32',\n                 initial_value=true_means, trainable=True)\n\nsigma_chol = tf.Variable(name='sigma_chol', dtype='float32',\n                         initial_value=true_sigmas, trainable=True)\n\ncomponents=[\n    tfd.MultivariateNormalTriL(loc=mu[i],\n                               scale_tril=sigma_chol[i],\n                               validate_args=True,\n                               name='Mixture_Component_{}'.format(i)) for i in range(num_mixtures)\n]\n\n\nbimix_gauss = tfd.Mixture(cat=tfd.Categorical(alphas),\n                          components=components, validate_args=True)\n</code></pre>\n\n<p>But this throws an error because the mixture parameter (<code>alphas</code>) is of higher rank than the means and sigmas:</p>\n\n<hr>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/tensor_shape.py in merge_with(self, other)\n    666       try:\n--&gt; 667         self.assert_same_rank(other)\n    668         new_dims = []\n\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/tensor_shape.py in assert_same_rank(self, other)\n    711         raise ValueError(\"Shapes %s and %s must have the same rank\" % (self,\n--&gt; 712                                                                        other))\n    713 \n\nValueError: Shapes (?,) and () must have the same rank\n\nDuring handling of the above exception, another exception occurred:\n\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-27-a0aab2614708&gt; in &lt;module&gt;()\n     17 \n     18 bimix_gauss = tfd.Mixture(cat=tfd.Categorical(alphas),\n---&gt; 19                           components=components, validate_args=True)\n     20 \n\n~/anaconda3/lib/python3.6/site-packages/tensorflow/contrib/distributions/python/ops/mixture.py in __init__(self, cat, components, validate_args, allow_nan_stats, use_static_graph, name)\n    139     for d in components:\n    140       static_event_shape = static_event_shape.merge_with(d.event_shape)\n--&gt; 141       static_batch_shape = static_batch_shape.merge_with(d.batch_shape)\n    142     if static_event_shape.ndims is None:\n    143       raise ValueError(\n\n~/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/tensor_shape.py in merge_with(self, other)\n    671         return TensorShape(new_dims)\n    672       except ValueError:\n--&gt; 673         raise ValueError(\"Shapes %s and %s are not compatible\" % (self, other))\n    674 \n    675   def concatenate(self, other):\n\nValueError: Shapes (?,) and () are not compatible\n</code></pre>\n\n<p>I could fix this by manually writing the likelihood (it's messy, but not that messy) - but I'm sure there's a better way of doing this using tensorflow.distributions.  Any suggestions?</p>\n"}, {"tags": ["python", "arrays", "list", "dictionary"], "comments": [{"owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903465, "post_id": 50262652, "comment_id": 87543432, "body": "Dictionary items do not have a defined order. If you want to preserve order you need to use an OrderedDict."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903520, "post_id": 50262652, "comment_id": 87543446, "body": "@jbch actually not true in modern Python, but that doesn&#39;t appear to be the issue here anyway."}, {"owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903614, "post_id": 50262652, "comment_id": 87543480, "body": "True, dicts keep their orders as of 3.7."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525905464, "post_id": 50262652, "comment_id": 87544118, "body": "@jbch thanks for the sanity check there -- I forgot which version that went live in. I thought it was 3.6 -- now I see it was only an implementation detail in CPython 3.6"}], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903685, "post_id": 50262705, "comment_id": 87543514, "body": "If their expected output is correct it looks like they want a new dict for each line, not to print each line."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903780, "post_id": 50262705, "comment_id": 87543546, "body": "@jbch that&#39;s true, but I can&#39;t imagine a legitimate use for that expected output, so I&#39;m taking poetic license that it&#39;s a mistake"}, {"owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525903827, "post_id": 50262705, "comment_id": 87543565, "body": "That&#39;s probably fair. It would be quite a strange use case."}, {"owner": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "reply_to_user": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525904050, "post_id": 50262705, "comment_id": 87543654, "body": "@jbch I may be going wrong but just thought to clarify. I wanted to write the modified contents of this file (every line) in a newly created file. And hence was using the dictionary method. So I will make a dictionary for the entire file or each line? P.S. haven&#39;t used dictionary much. Sorry."}, {"owner": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "edited": false, "score": 0, "creation_date": 1525904217, "post_id": 50262705, "comment_id": 87543726, "body": "@AdamSmithI wanted to add you to my above question but I couldn&#39;t hence mention in the new comment."}, {"owner": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "edited": false, "score": 0, "creation_date": 1525904458, "post_id": 50262705, "comment_id": 87543802, "body": "@AdamSmith  I modified the code and also added: <code>newgtdict = collections.OrderedDict()</code>. However,I get an error <code>name &#39;collections&#39; is not defined</code> though I have done <code>from collections import OrderedDict</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "edited": false, "score": 0, "creation_date": 1525904721, "post_id": 50262705, "comment_id": 87543871, "body": "@Sulphur unless you need the information in memory somehow, I wouldn&#39;t bother collating the info as a dictionary. I&#39;d write straight across <a href=\"https://repl.it/repls/CrookedInterestingEvaluations\" rel=\"nofollow noreferrer\">like so</a>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "edited": false, "score": 1, "creation_date": 1525904769, "post_id": 50262705, "comment_id": 87543892, "body": "@Sulphur if you&#39;ve done <code>from collections import OrderedDict</code>, then just declare as <code>newgtdict = OrderedDict</code>. You only need the fully-qualified name if you&#39;ve written <code>import collections</code>."}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 3, "last_activity_date": 1525905438, "last_edit_date": 1525905438, "creation_date": 1525903489, "answer_id": 50262705, "question_id": 50262652, "link": "https://stackoverflow.com/questions/50262652/dictionary-is-being-appended-and-printed-randomly/50262705#50262705", "title": "Dictionary is being &#39;appended&#39; and printed randomly", "body": "<p>You're printing the dictionary on each iteration, rather than the <em>new item to the dictionary</em> on each iteration.</p>\n\n<p>You could either do:</p>\n\n<pre><code>for line in lines:\n    # &lt;snip&gt;\n    newgtdict[str(filePath)+str(linenumber)] = box \n    print box\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for line in lines:\n    # &lt;snip&gt;\n    newgtdict[str(filePath)+str(linenumber)] = box \n    # don't print here\n\nfor line in newgtdict:\n    print(line)\n</code></pre>\n\n<hr>\n\n<p>Do note that you're not using an OrderedDict, which you should (if you want ordered results in versions of Python earlier than 3.7)</p>\n\n<pre><code>newgtdict = collections.OrderedDict()\n# rather than = {}\n</code></pre>\n"}], "owner": {"reputation": 364, "user_id": 7951709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTg61.png?s=128&g=1", "display_name": "Sulphur", "link": "https://stackoverflow.com/users/7951709/sulphur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 50262705, "answer_count": 1, "score": 0, "last_activity_date": 1525905438, "creation_date": 1525903186, "question_id": 50262652, "link": "https://stackoverflow.com/questions/50262652/dictionary-is-being-appended-and-printed-randomly", "title": "Dictionary is being &#39;appended&#39; and printed randomly", "body": "<p>Okay, before I ask, I have already seen the following answers:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15733558/python-ordereddict-not-keeping-element-order\">Python OrderedDict not keeping element order</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/15711755/converting-dict-to-ordereddict\">Converting dict to OrderedDict</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/26232936/ordereddict-does-not-preserve-the-order?noredirect=1&amp;lq=1\">OrderedDict does not preserve the order</a></p>\n\n<p>but still I am unable to make it right.</p>\n\n<p>Background: I have a groundtruth file, like, jp1_GT.txt (there are other files too, at different paths but currently I am concerned with just one file) at some path. In this file, each line represents one bounding box in the format . I am changing the  with some calculation, and aim to write them in a new groundtruth file.</p>\n\n<pre><code>#Path containing old folders\nsrc_path = r\"C:\\Users\\username\\Downloads\\LITIV_dataset\"\n\n#dictionary creation\nnewgtdict ={}\n\nfor folderName in os.listdir(src_path):\n  folderPath = src_path + \"\\\\\" + folderName\n\n  if not os.path.isdir(folderPath):\n    continue\n\n  listOfFilePaths = glob.glob(folderPath + \"\\\\\"+ folderName +\"_GT.txt\")\n  for filePath in listOfFilePaths:\n\n    openedFile = open(filePath, 'r')\n    lines = openedFile.readlines()\n    linecount =0\n\n    for line in lines:\n        linecount+=1\n        linenumber = str(linecount)\n        my_list = str(line).split(\",\")\n        bboxes=[]\n\n        #checking for non-empty lines\n        if len(my_list)&gt;0:\n            x_br = int(my_list[2])\n            y_br = int(my_list[3])\n            x_tl = int(my_list[0]) - (x_br/2)\n            y_tl = int(my_list[1]) - (y_br/2)\n            box = [x_tl,y_tl,x_br,y_br]\n        newgtdict[str(filePath)+str(linenumber)] = box \n        print newgtdict\n</code></pre>\n\n<p>The first four lines of my jp1_GT.txt looks like this:</p>\n\n<pre><code>189,163,72,72\n190,162,72,72\n188,160,72,72\n189,163,72,72\n</code></pre>\n\n<p>However, first four lines of output looks like this:</p>\n\n<pre><code>{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt1': [153, 127, 72, 72]} \n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt1': [153, 127, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt2': [154, 126, 72, 72]} \n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt1': [153, 127, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt3': [152, 124, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt2': [154, 126, 72, 72]}\n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt4': [153, 127, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt1': [153, 127, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt3': [152, 124, 72, 72], 'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt2': [154, 126, 72, 72]}\n</code></pre>\n\n<p>Expected first 4 lines of output:</p>\n\n<pre><code>{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt1': [153, 127, 72, 72]} \n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt2': [154, 126, 72, 72]} \n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt3': [152, 124, 72, 72]} \n{'C:\\\\Users\\\\username\\\\Downloads\\\\LITIV_dataset\\\\jp1\\\\jp1_GT.txt4': [153, 127, 72, 72]} \n</code></pre>\n\n<p>Just a side question: Do you suggest any other better way to this.</p>\n"}, {"tags": ["python", "python-3.x", "pydicom"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525903190, "post_id": 50262629, "comment_id": 87543346, "body": "Do you have any Python 2-specific concerns that warrant tagging this Python 2? You don&#39;t seem to be using Python 2."}, {"owner": {"reputation": 706, "user_id": 8155727, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/11e4d866d859b02f077ffe09cb3ae44d?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/8155727/mehdi"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525904178, "post_id": 50262629, "comment_id": 87543714, "body": "I use python 3 and this post is for python 3 but I have this problem with python 2 too."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9374072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLluXFTu8A4/AAAAAAAAAAI/AAAAAAAACHQ/wnObbOfOFHk/photo.jpg?sz=128", "display_name": "DJAG", "link": "https://stackoverflow.com/users/9374072/djag"}, "is_accepted": false, "score": 1, "last_activity_date": 1525934268, "creation_date": 1525934268, "answer_id": 50266977, "question_id": 50262629, "link": "https://stackoverflow.com/questions/50262629/hide-warning-message-on-import-in-python-script/50266977#50266977", "title": "Hide warning message on import in python script", "body": "<p>maybe -> python -W ignore archive.py</p>\n\n<p>the option -W skips the warnings</p>\n"}, {"comments": [{"owner": {"reputation": 706, "user_id": 8155727, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/11e4d866d859b02f077ffe09cb3ae44d?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/8155727/mehdi"}, "edited": false, "score": 0, "creation_date": 1525965554, "post_id": 50267096, "comment_id": 87569088, "body": "I used that in my python3 script but it is not working yet!"}], "tags": [], "owner": {"reputation": 15431, "user_id": 264837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ae0b652777cdb06717ee252cb72871f?s=128&d=identicon&r=PG", "display_name": "Nathan Villaescusa", "link": "https://stackoverflow.com/users/264837/nathan-villaescusa"}, "is_accepted": false, "score": 1, "last_activity_date": 1525934727, "creation_date": 1525934727, "answer_id": 50267096, "question_id": 50262629, "link": "https://stackoverflow.com/questions/50262629/hide-warning-message-on-import-in-python-script/50267096#50267096", "title": "Hide warning message on import in python script", "body": "<p>This seems to work for me:</p>\n\n<pre><code>&gt;&gt;&gt; import warnings\n&gt;&gt;&gt; try:\n...     import pydicom as dicom\n... except ImportError:\n...     with warnings.catch_warnings():\n...         warnings.simplefilter(\"ignore\")\n...         import dicom\n... \n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 706, "user_id": 8155727, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/11e4d866d859b02f077ffe09cb3ae44d?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/8155727/mehdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525934727, "creation_date": 1525903058, "last_edit_date": 1525931615, "question_id": 50262629, "link": "https://stackoverflow.com/questions/50262629/hide-warning-message-on-import-in-python-script", "title": "Hide warning message on import in python script", "body": "<p>I want to import pydicom in python script. So, I use the following command to do so without having any warning message:</p>\n\n<pre><code>import sys, warnings\nif not sys.warnoptions:\n   warnings.simplefilter(\"ignore\")\n   try:\n       import pydicom as dicom\n   except ImportError:\n       import dicom\n</code></pre>\n\n<p>But I get the following warning message yet!!!!</p>\n\n<pre><code>/Users/anaconda3/lib/python3.6/site-packages/dicom/__init__.py:53: UserWarning: \nThis code is using an older version of pydicom, which is no longer \nmaintained as of Jan 2017.  You can access the new pydicom features and API \nby installing `pydicom` from PyPI.\nSee 'Transitioning to pydicom 1.x' section at pydicom.readthedocs.org \nfor more information.\nwarnings.warn(msg)\n/Users/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\nfrom ._conv import register_converters as _register_converters \n</code></pre>\n\n<p>How can I hide it? </p>\n"}, {"tags": ["python", "python-3.x", "tensorflow"], "comments": [{"owner": {"reputation": 3335, "user_id": 2504700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0abf29ecc7c49d76db8e9820608297?s=128&d=identicon&r=PG", "display_name": "OriolAbril", "link": "https://stackoverflow.com/users/2504700/oriolabril"}, "edited": false, "score": 0, "creation_date": 1525905618, "post_id": 50262618, "comment_id": 87544160, "body": "Hi Joshua, welcome to stack overflow. We are glad to help, and to do so, we must be able to reproduce your problem (and not a similar one) in order to be able to solve it and post an answer. Right now, it is quite difficult to do so from your question, please consider reading this page of the help center on how to create a minimal, complete and verifiable example: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4435, "user_id": 4320693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70285b65cf3479028fac427ae92096f?s=128&d=identicon&r=PG", "display_name": "Peter Szoldan", "link": "https://stackoverflow.com/users/4320693/peter-szoldan"}, "is_accepted": false, "score": 2, "last_activity_date": 1525906770, "creation_date": 1525906770, "answer_id": 50263202, "question_id": 50262618, "link": "https://stackoverflow.com/questions/50262618/tensorboard-duplicateflagerror/50263202#50263202", "title": "Tensorboard DuplicateFlagError", "body": "<p>Looks like somehow you're running the code block defining your <code>batch_size</code> parameter twice. Maybe it's within a function, and you call it multiple times, or some other way.</p>\n\n<p>Possibly, if you're running it from jupyter notebook, and you're re-running the cell (after some code changes, maybe) the flags are not cleared, and you're trying to define it again. In this case you have to restart the runtime before each run of this cell, or alternatively, separate the flags into their own cell, run them once, and run and re-run the rest of the code.</p>\n\n<p>If none of these apply, you have to post your code, including a description of how you run it, to be able to say more.</p>\n"}], "owner": {"reputation": 76, "user_id": 9767590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joshua Ong", "link": "https://stackoverflow.com/users/9767590/joshua-ong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525908477, "creation_date": 1525902970, "last_edit_date": 1525908477, "question_id": 50262618, "link": "https://stackoverflow.com/questions/50262618/tensorboard-duplicateflagerror", "title": "Tensorboard DuplicateFlagError", "body": "<p>I'm modifying tensorboards example code for CNN's:\n<a href=\"https://www.tensorflow.org/tutorials/deep_cnn#launching_and_training_the_model\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/deep_cnn#launching_and_training_the_model</a></p>\n\n<p>I'm getting this error:</p>\n\n<pre><code>DuplicateFlagError: The flag 'batch_sizes' is defined twice. First from D:/UofU/.../mycifar10.py, Second from D:/UofU/.../mycifar10.py. (Where both path names are the same)  Description from first occurrence: Numbers of images to process in a batch.\n</code></pre>\n\n<p>This is the jist of the code that must be producing the error:</p>\n\n<pre><code>tf.app.flags.DEFINE_integer('batch_size', 49,\n                           \"\"\"Numbers of images to process in a batch.\"\"\")\n</code></pre>\n"}, {"tags": ["python", "performance", "pandas", "numba"], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525903614, "post_id": 50262648, "comment_id": 87543479, "body": "Thanks this is helpful, produces the correct answer and looks faster. It still takes awhile to run given the size of the data, is there anything else that would help? thank you"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 1, "creation_date": 1525903809, "post_id": 50262648, "comment_id": 87543554, "body": "@avocet, I don&#39;t know faster Pandas approach for this case... AFAIK Numba doesn&#39;t work for strings. One could try to write a Cython function, but I have no experiense with Cython..."}, {"owner": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525963460, "post_id": 50262648, "comment_id": 87567726, "body": "Thanks MaxU, your help is appreciated. Just wondered if I could follow up. When trying it on my data I get the following error - &#39;sre_constants.error: multiple repeat at position&#39; I&#39;m guessing this to do with the regex? If you know how to solve I&#39;d really appreciate it, thanks!"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525963639, "post_id": 50262648, "comment_id": 87567859, "body": "@avocet, i don&#39;t think i can help without a <b>reproducible</b> sample ..."}, {"owner": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525964012, "post_id": 50262648, "comment_id": 87568104, "body": "I understand, i&#39;ll have a think on how to reproduce. The replacement items include *s could this cause an issue? If i turn the regex=True parameter off, it seems to work. Would this cause any issues?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525964627, "post_id": 50262648, "comment_id": 87568510, "body": "@avocet, yes, asterisk (<code>*</code>) - is a special RegEx symbol, so you might want to escape it by a backslash character..."}, {"owner": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 0, "creation_date": 1525965140, "post_id": 50262648, "comment_id": 87568832, "body": "Thank you, makes sense. Apologies I&#39;m not sure sure how to add an escape.. :("}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "edited": false, "score": 1, "creation_date": 1525965219, "post_id": 50262648, "comment_id": 87568884, "body": "@avocet, replace <code>&#39;*s&#39;</code> --&gt; <code>&#39;\\*s&#39;</code>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1525903160, "creation_date": 1525903160, "answer_id": 50262648, "question_id": 50262612, "link": "https://stackoverflow.com/questions/50262612/parallelise-string-replace-in-pandas/50262648#50262648", "title": "Parallelise string replace in pandas", "body": "<p>You can use vectorized method: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.replace.html\" rel=\"nofollow noreferrer\">Series.replace(lst1, lst2, regex=True)</a></p>\n\n<pre><code>In [90]: (text_df.Text\n                 .replace(replace_terms_df.Text.tolist(), \n                          replace_terms_df.Replace_item.tolist(),\n                          regex=True))\nOut[90]:\n0    &lt;HERE_REPLACED&gt; is &lt;SOME_REPLACED&gt; &lt;RANDOM_REP...\n1               &lt;RANDOM_REPLACED&gt; text &lt;HERE_REPLACED&gt;\n2                          more &lt;RANDOM_REPLACED&gt; text\nName: Text, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 1569, "user_id": 8784015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2733173f5b643bbf93278b76f39747f5?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8784015/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 1, "accepted_answer_id": 50262648, "answer_count": 1, "score": 1, "last_activity_date": 1525903160, "creation_date": 1525902911, "question_id": 50262612, "link": "https://stackoverflow.com/questions/50262612/parallelise-string-replace-in-pandas", "title": "Parallelise string replace in pandas", "body": "<p>I have two pandas dataframes. One contains text, the other a set of terms i'd like to search for and replace within the text. There are many permutations of the text where the same word can appear multiple times in the text and have multiple terms.</p>\n\n<p>I have created a loop which is able to replace each word in the text with a term however it's very slow, especially given that it is working over a large corpus.</p>\n\n<p>My question is:\nIs there a way of running the below function in a parallelised for speed? Alternatively could the function use Numba or some other type of optimisation to speed it up? NB note the fact that there can be many permutations within the text that need replacing.</p>\n\n<p>Example text dataframe:</p>\n\n<pre><code>d = {'ID': [1, 2, 3], 'Text': ['here is some random text', 'random text here', 'more random text']}\ntext_df = pd.DataFrame(data=d)\n</code></pre>\n\n<p>Example terms dataframe:</p>\n\n<pre><code>d = {'Replace_item': ['&lt;RANDOM_REPLACED&gt;', '&lt;HERE_REPLACED&gt;', '&lt;SOME_REPLACED&gt;'], 'Text': ['random', 'here', 'some']}\nreplace_terms_df = pd.DataFrame(data=d)\n</code></pre>\n\n<p>Example of current solution:</p>\n\n<pre><code>def find_replace(text, terms):\nfor _, row in terms.iterrows():\n    term = row['Text']\n    item = row['Replace_item']\n    text.Text = text.Text.str.replace(term, item)\n    return text\nfind_replace(text_df, replace_terms_df)\n</code></pre>\n\n<p>Please let me know if anything above requires clarifying. Thank you,</p>\n"}, {"tags": ["python", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1525903068, "post_id": 50262594, "comment_id": 87543313, "body": "Why do you loop through <code>NewDict</code>? Just use <code>NewDict[op]</code> to find it."}], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 9519442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XUpBrUTm8eY/AAAAAAAAAAI/AAAAAAAAALc/KRzYUwyb2kk/photo.jpg?sz=128", "display_name": "DevOps", "link": "https://stackoverflow.com/users/9519442/devops"}, "is_accepted": false, "score": 1, "last_activity_date": 1525903551, "creation_date": 1525903551, "answer_id": 50262720, "question_id": 50262594, "link": "https://stackoverflow.com/questions/50262594/python-adding-tuple-to-list-based-on-string-representation/50262720#50262720", "title": "python adding tuple to list based on string representation", "body": "<pre><code>i = 0\nL = []\n\nwhile i &lt; len(data):\n    op = data[i:i+2]\n\n    for item in NewDict:\n        if op in item:\n            i += NewDict[item][1] * 2\n\n            pep = NewDict[item][0] + ' ' + data[i:i+NewDict[item][1] * 2]\n            L.append(pep)     \n    else:\n        i += 2\n\nprint(','.join(L))\n</code></pre>\n\n<p><code>','.join(L)</code> removes the quotes around it. Hope this is what you meant? you can't really add a tuple to a list because those are different things. A tuple is, easy said, an unchangeable list.</p>\n"}, {"comments": [{"owner": {"reputation": 323, "user_id": 6173232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b90860939be03a8d3c04e078b8dcd98?s=128&d=identicon&r=PG&f=1", "display_name": "kieron", "link": "https://stackoverflow.com/users/6173232/kieron"}, "edited": false, "score": 0, "creation_date": 1525903808, "post_id": 50262730, "comment_id": 87543553, "body": "that works great except it doesn&#39;t add the last dict key to the end of the list, which is &#39;ADD&#39;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 323, "user_id": 6173232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b90860939be03a8d3c04e078b8dcd98?s=128&d=identicon&r=PG&f=1", "display_name": "kieron", "link": "https://stackoverflow.com/users/6173232/kieron"}, "edited": false, "score": 0, "creation_date": 1525904010, "post_id": 50262730, "comment_id": 87543639, "body": "<code>data</code> ends with <code>10</code>, but <code>ADD</code> is <code>12</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 323, "user_id": 6173232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b90860939be03a8d3c04e078b8dcd98?s=128&d=identicon&r=PG&f=1", "display_name": "kieron", "link": "https://stackoverflow.com/users/6173232/kieron"}, "edited": false, "score": 0, "creation_date": 1525904061, "post_id": 50262730, "comment_id": 87543659, "body": "@kieron Change to <code>data = &#39;604452601061112212&#39;</code> and it ends with <code>ADD</code>."}, {"owner": {"reputation": 323, "user_id": 6173232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b90860939be03a8d3c04e078b8dcd98?s=128&d=identicon&r=PG&f=1", "display_name": "kieron", "link": "https://stackoverflow.com/users/6173232/kieron"}, "edited": false, "score": 0, "creation_date": 1525904078, "post_id": 50262730, "comment_id": 87543669, "body": "oops my bad, sorry!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1525904138, "last_edit_date": 1525904138, "creation_date": 1525903590, "answer_id": 50262730, "question_id": 50262594, "link": "https://stackoverflow.com/questions/50262594/python-adding-tuple-to-list-based-on-string-representation/50262730#50262730", "title": "python adding tuple to list based on string representation", "body": "<p>The problem is that you're incrementing <code>i</code> by <code>NewDict[item][1] * 2</code> <em>before</em> you extract the parameter after the operator. You should do this after extracting.</p>\n\n<p>You also don't need the <code>for item in NewDict:</code> loop, just access the element of <code>NewDict</code> directly.</p>\n\n<pre><code>while i &lt; len(data):\n    op = data[i:i+2]\n    if op in NewDict:\n        opname, oplen = NewDict[op]\n        param = data[i+2:i+2+oplen*2]\n        L.append(opname + \" \" + param)\n        i += 2 + oplen*2\n    else:\n        i += 2\n</code></pre>\n\n<p>Even after fixing this you don't get <code>ADD</code> in the result because the last op in <code>data</code> is <code>10</code>, not <code>12</code>.</p>\n"}], "owner": {"reputation": 323, "user_id": 6173232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b90860939be03a8d3c04e078b8dcd98?s=128&d=identicon&r=PG&f=1", "display_name": "kieron", "link": "https://stackoverflow.com/users/6173232/kieron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50262730, "answer_count": 2, "score": -1, "last_activity_date": 1525904138, "creation_date": 1525902777, "last_edit_date": 1525903005, "question_id": 50262594, "link": "https://stackoverflow.com/questions/50262594/python-adding-tuple-to-list-based-on-string-representation", "title": "python adding tuple to list based on string representation", "body": "<p>so I have this string dictionary of tuples:</p>\n\n<pre><code>data = '604452601061112210'\n\nNewDict = {'60': ('PUSH1', 1), '61': ('PUSH2', 2), '52' : ('MSTORE', 0 ), '12' : ('ADD', 0)}\n</code></pre>\n\n<p>im trying to scan the string for the dictionary keys, to add to add the dict key to the list, along with the following bytes within the string, for example, it should print out in this order:</p>\n\n<pre><code>[PUSH1 44, MSTORE, PUSH1 10, PUSH2 1122, ADD]\n</code></pre>\n\n<p>however, my output is:</p>\n\n<pre><code>['PUSH1 44', 'MSTORE ', 'PUSH1 10', 'PUSH2 2210']\n</code></pre>\n\n<p>this is my code: </p>\n\n<pre><code>i = 0\nL = []\n\nwhile i &lt; len(data):\n    op = data[i:i+2]\n\n    for item in NewDict:\n        if op in item:\n            i += NewDict[item][1] * 2\n\n            pep = NewDict[item][0] + ' ' + data[i:i+NewDict[item][1] * 2]\n            L.append(pep)     \n    else:\n        i += 2\n\nprint(L)\n</code></pre>\n\n<p>any help would be appreciated, thanks </p>\n"}, {"tags": ["python", "python-3.x", "loops", "list-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 9723516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc94a47bb5525d806f52d8001893497?s=128&d=identicon&r=PG&f=1", "display_name": "user669132", "link": "https://stackoverflow.com/users/9723516/user669132"}, "edited": false, "score": 0, "creation_date": 1525903733, "post_id": 50262623, "comment_id": 87543526, "body": "Wow, thanks! I didn&#39;t know how to use regex with map and didn&#39;t consider importing re. This is great! :)"}], "tags": [], "owner": {"reputation": 537, "user_id": 9369728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97917e59545bf74d3e378c74345592bd?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/9369728/konstantin"}, "is_accepted": true, "score": 2, "last_activity_date": 1525903001, "creation_date": 1525903001, "answer_id": 50262623, "question_id": 50262569, "link": "https://stackoverflow.com/questions/50262569/python-find-all-integers-inside-string-and-store-in-list-as-an-integer/50262623#50262623", "title": "Python: Find all integers inside string and store in list as an integer", "body": "<p>Use regular expressions:</p>\n\n<pre><code>import re\n\nprint(list(map(int, re.findall(r'\\d+', user_input))))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 7939344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1721481691200992/picture?type=large", "display_name": "Colin Hancey", "link": "https://stackoverflow.com/users/7939344/colin-hancey"}, "is_accepted": false, "score": 0, "last_activity_date": 1525904565, "creation_date": 1525904565, "answer_id": 50262899, "question_id": 50262569, "link": "https://stackoverflow.com/questions/50262569/python-find-all-integers-inside-string-and-store-in-list-as-an-integer/50262899#50262899", "title": "Python: Find all integers inside string and store in list as an integer", "body": "<p>If</p>\n\n<pre><code>new_string = \"lol69on420for666\"\n</code></pre>\n\n<p>then you can do something like, </p>\n\n<pre><code>for letter in new_string:\n    if letter == \"0\" or \\\n       letter == \"1\" or \\\n             ...\n       letter == \"9\":\n            append the letter to some list\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if \"6\" in new_string:\n    append \"6\" to some list\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1525905517, "creation_date": 1525905517, "answer_id": 50263024, "question_id": 50262569, "link": "https://stackoverflow.com/questions/50262569/python-find-all-integers-inside-string-and-store-in-list-as-an-integer/50263024#50263024", "title": "Python: Find all integers inside string and store in list as an integer", "body": "<p>Assuming there are no negative numbers, you could use <code>itertools.groupby</code> together with <code>str.isdecimal</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from operator import itemgetter\n&gt;&gt;&gt; from itertools import groupby\n&gt;&gt;&gt; list(map(int, map(''.join, map(itemgetter(1), filter(itemgetter(0), groupby('(3, 10)', str.isdecimal))))))\n[3, 10]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 9723516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc94a47bb5525d806f52d8001893497?s=128&d=identicon&r=PG&f=1", "display_name": "user669132", "link": "https://stackoverflow.com/users/9723516/user669132"}, "edited": false, "score": 0, "creation_date": 1525923565, "post_id": 50263164, "comment_id": 87548179, "body": "i like that it&#39;s a list comprehension, although this separates the integers. So &#39;3 13&#39; would become [3,1,3] when i need it to do [3, 13]. Do you know a way to do this in a list compression and without any modules?"}], "tags": [], "owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "is_accepted": false, "score": 0, "last_activity_date": 1525906456, "creation_date": 1525906456, "answer_id": 50263164, "question_id": 50262569, "link": "https://stackoverflow.com/questions/50262569/python-find-all-integers-inside-string-and-store-in-list-as-an-integer/50263164#50263164", "title": "Python: Find all integers inside string and store in list as an integer", "body": "<p>Pretty much better without importing any package. <code>v</code> is the string</p>\n\n<pre><code>new_list = [int(item) for item in v if item.isdigit()]\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 9723516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc94a47bb5525d806f52d8001893497?s=128&d=identicon&r=PG&f=1", "display_name": "user669132", "link": "https://stackoverflow.com/users/9723516/user669132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 50262623, "answer_count": 4, "score": 0, "last_activity_date": 1525906456, "creation_date": 1525902639, "question_id": 50262569, "link": "https://stackoverflow.com/questions/50262569/python-find-all-integers-inside-string-and-store-in-list-as-an-integer", "title": "Python: Find all integers inside string and store in list as an integer", "body": "<p>Looking for an efficient way to search for all integers in a string and append them to a list. E.g. '(12, 15)' should become [12, 15]. Integers that are greater than 9, should remain joined and not separated when appended to the list. </p>\n\n<p>If there is a way to use built-in functions, lambda or list comprehension, could you share those specifically? Thanks.</p>\n\n<p>What I have so far seems too bloated.</p>\n\n<pre><code>user_input = '(3, 10)' # or '3 10'\n\ndef sti(n):\n    s = ''\n    l = []\n    for index, item in enumerate(n):\n        if item.isdigit():\n            s += item\n        if not item.isdigit():\n            l.append(s)\n            s = ''\n\n    l.append(s)\n    a = list(filter(None, l)) # remove spaces\n    a = list(map(lambda x: int(x), a)) # convert to int\n    return a\n\nprint(sti(user_input))\n</code></pre>\n"}, {"tags": ["python", "postgresql", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 8522818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRfm5.jpg?s=128&g=1", "display_name": "Wesley Gon&#231;alves", "link": "https://stackoverflow.com/users/8522818/wesley-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1525909969, "post_id": 50263538, "comment_id": 87545185, "body": "It worked well. I didn&#39;t know how to concatenate the strings. Thanks @BShaps."}], "tags": [], "owner": {"reputation": 1203, "user_id": 6850443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf2Uj.png?s=128&g=1", "display_name": "BShaps", "link": "https://stackoverflow.com/users/6850443/bshaps"}, "is_accepted": true, "score": 1, "last_activity_date": 1525909558, "creation_date": 1525909558, "answer_id": 50263538, "question_id": 50262542, "link": "https://stackoverflow.com/questions/50262542/spare-apostrophe-sign-in-sql-query-in-sqlalchemy/50263538#50263538", "title": "Spare apostrophe sign in SQL query in SQLAlchemy", "body": "<p>The reason that is happening is because it is passing the variable as a string (as it should in this instance).  Knowing this, you'll want to concatenate the % symbol with the search string.  Something like this should work:</p>\n\n<pre><code>books = db.execute(f\"SELECT * FROM books JOIN authors ON books.author_id = authors.id \\\n                   WHERE ({searchBy} = :searchFor) OR ({searchBy} LIKE (:searchFor || '%'))\", \n                   {\"searchFor\": searchFor}).fetchall()\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 8522818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRfm5.jpg?s=128&g=1", "display_name": "Wesley Gon&#231;alves", "link": "https://stackoverflow.com/users/8522818/wesley-gon%c3%a7alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 50263538, "answer_count": 1, "score": 0, "last_activity_date": 1525909558, "creation_date": 1525902507, "question_id": 50262542, "link": "https://stackoverflow.com/questions/50262542/spare-apostrophe-sign-in-sql-query-in-sqlalchemy", "title": "Spare apostrophe sign in SQL query in SQLAlchemy", "body": "<p>I am trying to search for a book in the database so I first check if the data informed by the user (can be the title, ISBN or author's name) exists in the DB then I check if part of the data exists and, finally I return all the results.</p>\n\n<p>To do so I wrote this code in Python using SQLAlchemy and FLASK where </p>\n\n<ul>\n<li><code>searchBy</code> is the name of the column in the DB and </li>\n<li><code>searchFor</code> is the data the user input</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>books = db.execute(f\"SELECT * FROM books JOIN authors ON books.author_id = authors.id \\\n                   WHERE ({searchBy} = :searchFor) OR ({searchBy} LIKE :searchFor%)\", \n                   {\"searchFor\": searchFor}).fetchall()\n</code></pre>\n\n<p>However, when <code>:searchFor</code> is replaced by its corresponding value, it is outputed between aphostropes. </p>\n\n<pre><code> ...(title = 'Animal Farm') OR (title LIKE 'Animal Farm'%)\n</code></pre>\n\n<p>causing this error</p>\n\n<pre><code>sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near \")\"\nLINE 1: ...              WHERE (title = 'Love') OR (title LIKE 'Love'%)\n                                                                      ^\n</code></pre>\n\n<p>Can anyone help me to understand why this is happening and how to correctly do it? </p>\n"}, {"tags": ["python", "list", "iteration"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1525902355, "post_id": 50262475, "comment_id": 87543085, "body": "What is the first index of <code>1</code> in <code>[1, 1, 1]</code>?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1525902451, "post_id": 50262475, "comment_id": 87543119, "body": "You&#39;re searching for the first occurrence of <code>1</code> in the list.  Why do you expect it to return something other than 0?  What did you not understand from the documentation?"}, {"owner": {"reputation": 327, "user_id": 2762279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CAMoJ.png?s=128&g=1", "display_name": "Amr Keleg", "link": "https://stackoverflow.com/users/2762279/amr-keleg"}, "edited": false, "score": 0, "creation_date": 1525902470, "post_id": 50262475, "comment_id": 87543125, "body": "You can read more about list functions here: <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/datastructures.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9767563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc659243898358326b11a08345da779?s=128&d=identicon&r=PG&f=1", "display_name": "insp", "link": "https://stackoverflow.com/users/9767563/insp"}, "edited": false, "score": 0, "creation_date": 1525902431, "post_id": 50262516, "comment_id": 87543113, "body": "Ahhhh.. I wasn&#39;t aware of that. Thank you!"}], "tags": [], "owner": {"reputation": 2284, "user_id": 3684792, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/24880a587c5f7bece55cd19c733e223e?s=128&d=identicon&r=PG&f=1", "display_name": "user3684792", "link": "https://stackoverflow.com/users/3684792/user3684792"}, "is_accepted": false, "score": 4, "last_activity_date": 1525902379, "creation_date": 1525902379, "answer_id": 50262516, "question_id": 50262475, "link": "https://stackoverflow.com/questions/50262475/python-doesnt-increment-position-of-a-list-element/50262516#50262516", "title": "PYTHON: Doesn&#39;t increment position of a list element", "body": "<p>Because <code>sequence2.index(value)</code> returns the first instance of 'value' , and you have repeated 1's in sequence2</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9354216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f98c5ac29abb6085ef9e9176b92fead1?s=128&d=identicon&r=PG", "display_name": "Sebastian Correa", "link": "https://stackoverflow.com/users/9354216/sebastian-correa"}, "is_accepted": false, "score": 1, "last_activity_date": 1525902552, "creation_date": 1525902552, "answer_id": 50262551, "question_id": 50262475, "link": "https://stackoverflow.com/questions/50262475/python-doesnt-increment-position-of-a-list-element/50262551#50262551", "title": "PYTHON: Doesn&#39;t increment position of a list element", "body": "<p>Because you have 3 '1s' and it show the first if you tried with different data</p>\n"}], "owner": {"reputation": 31, "user_id": 9767563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc659243898358326b11a08345da779?s=128&d=identicon&r=PG&f=1", "display_name": "insp", "link": "https://stackoverflow.com/users/9767563/insp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1525902552, "creation_date": 1525902107, "question_id": 50262475, "link": "https://stackoverflow.com/questions/50262475/python-doesnt-increment-position-of-a-list-element", "title": "PYTHON: Doesn&#39;t increment position of a list element", "body": "<pre><code>sequence = [1, 1, 1, 2, 3]\n\nsequence2 = []\nk = 0\nif len(sequence) == 2 or len(sequence) == 1:\n    print('Great!')\nelse:\n    for element in range(0, (len(sequence))):\n        sequence2.append(sequence[element])\n        sq = sequence2.index(sequence2[-1])\n        print(sequence2, sq)\n        if sequence2 == sorted(sequence2):\n            print('This is good thus far:', sequence2)\n        else:\n            print(sequence2[sq-1], sequence2[sq])\n            print(sequence2.index(sequence2[-1]))\n            if sequence2[sq-1] &gt;= sequence2[sq]:\n                sequence2.pop(sequence2.index(sequence2[sq - 1]))\n                print('We poppoed an element')\n                print(sequence2)\n                k = k+1\nif k &gt;= 2:\n    print(sequence2)\n    print('This doesnt work')\nelse:\n    print('Works properly!')\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>[1] 0  \nThis is good thus far: [1]  \n[1, 1] 0  \nThis is good thus far: [1, 1]  \n[1, 1, 1] 0  \nThis is good thus far: [1, 1, 1]  \n[1, 1, 1, 2] 3  \nThis is good thus far: [1, 1, 1, 2]  \n[1, 1, 1, 2, 3] 4  \nThis is good thus far: [1, 1, 1, 2, 3]  \nWorks properly!  \n</code></pre>\n\n<p>Hey guys; I've got a question why does the program gives me back 0 for sq, the first 3 times it iterates? Shouldn't it give me 0, 1, 2..? I can't wrap my head around it for the past 2 days... </p>\n"}, {"tags": ["python", "pandas", "dataframe", "timezone"], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1525902398, "post_id": 50262405, "comment_id": 87543099, "body": "You need to consider both date and time as the timezone change may go over midnight, altering the date."}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1525902829, "last_edit_date": 1525902829, "creation_date": 1525901701, "answer_id": 50262405, "question_id": 50262364, "link": "https://stackoverflow.com/questions/50262364/how-to-change-entire-columns-timezone/50262405#50262405", "title": "How to change entire column&#39;s timezone?", "body": "<p>Maybe this works for you</p>\n\n<pre><code>&gt;&gt;&gt; new_dt = pd.to_datetime(df2.Date + \" \" + df2.Time).dt.tz_localize('Israel').dt.tz_convert('UTC')\n&gt;&gt;&gt; df.Date = new_dt.transform(lambda k:k.date())\n&gt;&gt;&gt; df.Time = new_dt.transform(lambda k:k.time())\n\n\n        Date    Time        Open    High    Low     Close   Volume  OpenInt DateTime\n0   2017-11-17  13:35:00    68.5300 68.72   68.38   68.67   79411   0   2017-11-17 15:35:00\n1   2017-11-17  13:40:00    68.5956 68.69   68.56   68.59   10014   0   2017-11-17 15:40:00\n2   2017-11-17  13:45:00    68.5700 68.67   68.51   68.62   14182   0   2017-11-17 15:45:00\n3   2017-11-17  13:50:00    68.5900 68.62   68.49   68.58   15756   0   2017-11-17 15:50:00\n4   2017-11-17  13:55:00    68.5500 68.61   68.51   68.55   15984   0   2017-11-17 15:55:00\n</code></pre>\n\n<p>The difference here is that you can get to keep both <code>Date</code> and <code>Time</code> columns. </p>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1525901873, "creation_date": 1525901873, "answer_id": 50262434, "question_id": 50262364, "link": "https://stackoverflow.com/questions/50262364/how-to-change-entire-columns-timezone/50262434#50262434", "title": "How to change entire column&#39;s timezone?", "body": "<p>Assuming that <code>Date</code> and <code>Time</code> are of <code>object</code> dtype:</p>\n\n<pre><code>In [54]: df['Date'] = (pd.to_datetime(df['Date'] + ' ' + df.pop('Time'))\n                         .dt.tz_localize('Israel')\n                         .dt.tz_convert('UTC'))\n\nIn [55]: df\nOut[55]:\n                       Date     Open   High    Low  Close  Volume  OpenInt\n0 2017-11-17 13:35:00+00:00  68.5300  68.72  68.38  68.67   79411        0\n1 2017-11-17 13:40:00+00:00  68.5956  68.69  68.56  68.59   10014        0\n2 2017-11-17 13:45:00+00:00  68.5700  68.67  68.51  68.62   14182        0\n3 2017-11-17 13:50:00+00:00  68.5900  68.62  68.49  68.58   15756        0\n4 2017-11-17 13:55:00+00:00  68.5500  68.61  68.51  68.55   15984        0\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 8798570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5313c9e8f756f042de11c1dae467eefc?s=128&d=identicon&r=PG&f=1", "display_name": "Carson P", "link": "https://stackoverflow.com/users/8798570/carson-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525902829, "creation_date": 1525901435, "question_id": 50262364, "link": "https://stackoverflow.com/questions/50262364/how-to-change-entire-columns-timezone", "title": "How to change entire column&#39;s timezone?", "body": "<p>I have a pandas dataframe as such:</p>\n\n<pre><code>           Date      Time     Open     High      Low    Close  Volume  OpenInt\n0    2017-11-17  15:35:00  68.5300  68.7200  68.3800  68.6700   79411        0\n1    2017-11-17  15:40:00  68.5956  68.6900  68.5600  68.5900   10014        0\n2    2017-11-17  15:45:00  68.5700  68.6700  68.5100  68.6200   14182        0\n3    2017-11-17  15:50:00  68.5900  68.6200  68.4900  68.5800   15756        0\n4    2017-11-17  15:55:00  68.5500  68.6100  68.5100  68.5500   15984        0\n</code></pre>\n\n<p>and I just want to change the <code>Time</code> Column's  timezone from Israel to UTC. What is the easiest and quickest way to do this for all the rows with that column? I need to loop this many times, FYI.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "scipy", "scientific-computing"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 1859170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2b99072c8d265096835e83f0bc8f2?s=128&d=identicon&r=PG", "display_name": "Zee", "link": "https://stackoverflow.com/users/1859170/zee"}, "is_accepted": true, "score": 1, "last_activity_date": 1525963566, "last_edit_date": 1525963566, "creation_date": 1525960839, "answer_id": 50274710, "question_id": 50262350, "link": "https://stackoverflow.com/questions/50262350/use-solve-ivp-with-varying-parameters/50274710#50274710", "title": "Use solve_ivp with varying parameters", "body": "<p>I found an answer. Here's the code: </p>\n\n<pre><code>EMat = np.array([[10, 0.1], \n                 [0.1, 10]])\n\n# number of enviroments and phenotypes\nE = 2\nP = 2\n\nrow_sums = EMat.sum(axis=1).reshape(E, 1)\nQ = EMat / row_sums\n\nH = np.array([[0, 0.05],\n              [1e-6, 0]])\n\nF = np.array([[2, -0.05], \n              [-7, -0.05]]) \n\n\nimport scipy\n\nN = 1000\ntfinal = 25\nt = np.linspace(start=0, stop=tfinal, num=N)\nt0 = 0\nx0 = [20, 20]\ne0 = 0\n\n\nsolver = scipy.integrate.ode(Aeps_x).set_integrator('dopri5', nsteps=100)\nsolver.set_initial_value(x0, t0).set_f_params(e0, Q, F, H)\n\nsol = np.zeros((N, E))\nsol[0] = x0\nEnviroments = np.zeros(N)\n\nk = 1\nwhile solver.successful() and solver.t &lt; tfinal:\n    solver.integrate(t[k])\n    sol[k] = solver.y\n    k += 1\n\n    Enviroments[k-1] = e0\n\n    e0 =  next_enviroment(e0, Q=Q)\n    solver.set_f_params(e0, Q, F, H)\n</code></pre>\n\n<p>Here's a pplot of the simulation: </p>\n\n<p><a href=\"https://i.stack.imgur.com/zuisV.png\" rel=\"nofollow noreferrer\">Evolution of two phenotypes in an stochastic random enviroment with two states. State j favors phenotype j</a></p>\n"}], "owner": {"reputation": 41, "user_id": 1859170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2b99072c8d265096835e83f0bc8f2?s=128&d=identicon&r=PG", "display_name": "Zee", "link": "https://stackoverflow.com/users/1859170/zee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 1, "accepted_answer_id": 50274710, "answer_count": 1, "score": 3, "last_activity_date": 1525963566, "creation_date": 1525901369, "last_edit_date": 1525909489, "question_id": 50262350, "link": "https://stackoverflow.com/questions/50262350/use-solve-ivp-with-varying-parameters", "title": "Use solve_ivp with varying parameters", "body": "<p>I am trying to solve the following simple linear system of equations: </p>\n\n<p>x'(t) = A_eps(t) x(t)</p>\n\n<p>where x is an n-diemnsional vector and A_eps(t) is a matrix that changes over time. </p>\n\n<p>Here is what I have tried so far following the post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45693274/scipy-ode-update-set-f-params-inside-function-set-as-set-solout\">scipy ode update set_f_params inside function set as set_solout</a></p>\n\n<p>First I defined the right hand side as a function: </p>\n\n<pre><code>from functools import partial\nfrom scipy.integrate import solve_ivp\n\ndef Aeps_x(t, x, enviroment, Q, F, H):\n\n    '''\n    inputs: \n        - t = time.\n        - x[j] = # of cell with phenotype j in an enviroment. \n        - enviroment = number of enviroment. There are E in total.  \n        - Q = ExE transition matrix of a Markov Chain.  \n        - F = ExP matrix with growth rate of phenotypes for each enviroment. \n        - H = PxP matrix with the switching rates from phenotype i to j.\n    '''\n    E = Q.shape[0]\n    P = F.shape[1]\n\n    A = np.diag(F[enviroment]) - H\n\n    dx = A.dot(x)\n\n    return(dx)\n</code></pre>\n\n<p>Then, I just set up some parameters for the r.h.s.: </p>\n\n<pre><code>EMat = np.array([[0, 1, 1, 1], \n             [1, 0, 1, 1],\n             [1, 1, 0, 1],\n             [1, 1, 1, 0]])\nE0 = EMat.shape[0]\n\nrow_sums = EMat.sum(axis=1).reshape(E0, 1)\nQ = EMat / row_sums\n\nF = linalg.toeplitz([1, 0.1, 0.1, 0.1]) # only one strong phenotype for each \nenviroment\nF = F[0:E0, ] # only 4 enviroments\n\nP0 = F.shape[1]\nH = np.diag([0.5]*P0)\n</code></pre>\n\n<p>To set up the solver, I did: </p>\n\n<pre><code>sol_param = solve_ivp(\n    partial(Aeps_x, enviroment = 2, Q=Q, F=F, H=H), (0, 4, 20), x0, dense_output=True)\n</code></pre>\n\n<p>I would like to write something like: </p>\n\n<pre><code>sol_param = solve_ivp(\n    partial(Aeps_x, enviroment = next_enviroment(current_env, Q), \n    Q=Q, F=F, H=H), (0, 4, 20), x0, dense_output=True)\n</code></pre>\n\n<p>where next_enviroment(current_env, Q) is: </p>\n\n<pre><code>def next_enviroment(current_env, Q):\n    '''\n    Given an current state, computes the next state in a markov chain with transition matrix Q. \n    '''\n    sample = np.random.multinomial(1, Q[intitial_env], size = 1)\n    next_env = np.argmax(sample)\n    return(next_env)\n</code></pre>\n\n<p>is a function that takes the current state and choose a random new state according to a given rule. My problem is two folded: </p>\n\n<ul>\n<li>First, I don't know how to read the current enviroment in the solver. </li>\n<li>Second, given the current enviroment, how to pass it into the function. </li>\n</ul>\n\n<p>Thanks for the help. </p>\n"}, {"tags": ["python", "python-2.7", "metaclass"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525901314, "post_id": 50262312, "comment_id": 87542750, "body": "<code>func.__class__</code> isn&#39;t the class where the function was defined; it&#39;s <code>types.FunctionType</code>, the class of the function object itself."}], "answers": [{"comments": [{"owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "edited": false, "score": 0, "creation_date": 1526052804, "post_id": 50262471, "comment_id": 87608113, "body": "<code>name</code> does give me name of class from which method is from. i.e. if <code>test1</code> method is in <code>TestChild1</code> class, and I call <code>test1</code> as ``` testChild1Class = TestChild1() testChild1Class.nest1() ``` I get <code>name</code> as TestChild1. But if I call method <code>test1parent</code> in parent class like <code>testChild1Class.test1parent()</code> I get parent class in name. Can I get child class name here?"}, {"owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "reply_to_user": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "edited": false, "score": 1, "creation_date": 1526073759, "post_id": 50262471, "comment_id": 87617641, "body": "<code>func.__name__</code> is  by construction the name of the class that declared the method. If you want the class name of current object, just use <code>self.__class__.__name__</code> as shown in edited post"}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": true, "score": 1, "last_activity_date": 1526073954, "last_edit_date": 1526073954, "creation_date": 1525902089, "answer_id": 50262471, "question_id": 50262312, "link": "https://stackoverflow.com/questions/50262312/metaclass-pass-classname-as-parameter/50262471#50262471", "title": "Metaclass pass classname as parameter", "body": "<p>You forgot to return the wrapper from the decorator. It should be:</p>\n\n<pre><code>class Metaclass(type):\n    def __new__(self, name, bases, attrs):\n\n        for k, v in attrs.iteritems():\n            if isinstance(v, types.FunctionType):\n               attrs[k] = self.decorator(v)\n        return super(Metaclass, self).__new__(self, name, bases, attrs)\n\n    @classmethod\n    def decorator(cls, func):\n        def wrapper(*args, **kwargs):\n            print(func.__name__)\n        return wrapper\n</code></pre>\n\n<p>You can now use the metaclass:</p>\n\n<pre><code>&gt;&gt;&gt; class TestClass(object):\n    __metaclass__ = Metaclass\n    def foo(self):\n        return \"bar\"\n\n&gt;&gt;&gt; t = TestClass()\n&gt;&gt;&gt; x = t.foo()\nfoo\n&gt;&gt;&gt; print x\nNone\n</code></pre>\n\n<p>The method has been correctly be replaced by the wrapper.</p>\n\n<hr>\n\n<p>In you previous (now deleted) question you asked for <em>print \"this method is from Testclass\"</em>. You can simply pass the class name to the decorator:</p>\n\n<pre><code>class Metaclass(type):\n    def __new__(self, name, bases, attrs):\n\n        for k, v in attrs.iteritems():\n            if isinstance(v, types.FunctionType):\n               attrs[k] = self.decorator(v, name)\n        return super(Metaclass, self).__new__(self, name, bases, attrs)\n\n    @classmethod\n    def decorator(cls, func, name):\n        def wrapper(self, *args, **kwargs):\n            print \"%s defined in %s called from %s instance\" % (func.__name__,\n                name, self.__class__.__name__)\n            return func(self, *args, **kwargs)\n        return wrapper\n</code></pre>\n\n<p>You obtain now:</p>\n\n<pre><code>&gt;&gt;&gt; class TestClass(object):\n    __metaclass__ = Metaclass\n    def foo(self):\n        return \"bar\"\n\n\n&gt;&gt;&gt; t = TestClass()\n&gt;&gt;&gt; x = t.foo()\nfoo defined in TestClass called from TestClass instance\n&gt;&gt;&gt; print x\nbar\n</code></pre>\n"}], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 50262471, "answer_count": 1, "score": 0, "last_activity_date": 1526073954, "creation_date": 1525901217, "last_edit_date": 1525903506, "question_id": 50262312, "link": "https://stackoverflow.com/questions/50262312/metaclass-pass-classname-as-parameter", "title": "Metaclass pass classname as parameter", "body": "<p>I have metaclass like:</p>\n\n<pre><code>class Metaclass(type):\n    def __new__(self, name, bases, attrs):\n\n        for k, v in attrs.iteritems():\n            if isinstance(v, types.FunctionType):\n               attrs[k] = self.decorator(v)\n        return super(MetaClass, self).__new__(self, name, bases, attrs)\n\n    @classmethod\n    def decorator(cls, func):\n        def wrapper(*args, **kwargs):\n            print(func.__name__)\n</code></pre>\n\n<p>But I can't get <code>func.__class__.__name__</code> it prints metaclass. I want to get name of class of <code>func.__name__</code>.\nApparently It's not possible it python 2.7(?)\nCan I pass classname as a parameter? for method who calls this decorator? \ni.e. if <code>testmethod</code> calls metaclass decorator and passes <code>Testclass</code> as parameter. So if I know <code>func.__name__</code> is from specific class do specific things.</p>\n"}, {"tags": ["python", "python-3.x", "gtk", "pygobject", "gtktreeview"], "comments": [{"owner": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "edited": false, "score": 1, "creation_date": 1525936916, "post_id": 50262296, "comment_id": 87552970, "body": "It would be nice if you can make your program as simple as possible. 1, five rows aren&#39;t necessary. 2, Use a single class. Anyway, I have a minimum working example, <a href=\"https://gist.github.com/mywtfmp3/1d50c8f722b0f2729c7adaf61e06dc06\" rel=\"nofollow noreferrer\">gist.github.com/mywtfmp3/1d50c8f722b0f2729c7adaf61e06dc06</a>. You need to increase &quot;pulse&quot; value of cellrendererspinner, and do increment repeatedly with <code>GObject.timeout</code> function."}, {"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "reply_to_user": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "edited": false, "score": 0, "creation_date": 1525937871, "post_id": 50262296, "comment_id": 87553451, "body": "I thought it is a MWE. Please give me an example of a PyGObject based MWE. Maybe you can edit my question. I don&#39;t see how to make this code more simple and more readable."}, {"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "reply_to_user": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "edited": false, "score": 0, "creation_date": 1525938045, "post_id": 50262296, "comment_id": 87553535, "body": "Please add your link as an answer. btw: I think it is unworthy for a GUI lib like Gtk to force the user to spin such a widget by her/himself!"}, {"owner": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "edited": false, "score": 1, "creation_date": 1525939689, "post_id": 50262296, "comment_id": 87554290, "body": "I think it&#39;s awkward the default behavior of a spinner is to not spin. But who knows."}], "answers": [{"comments": [{"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1525936703, "post_id": 50267416, "comment_id": 87552878, "body": "<i>increment ... :pulse property at regular intervals</i>? What does it mean in code? I have to spin it manualy? I imagine an on/off switch like <code>active</code>."}], "tags": [], "owner": {"reputation": 1896, "user_id": 4226702, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-siukF5ObSUs/AAAAAAAAAAI/AAAAAAAAAEc/Qww5nEqBNDw/photo.jpg?sz=128", "display_name": "Alexander Dmitriev", "link": "https://stackoverflow.com/users/4226702/alexander-dmitriev"}, "is_accepted": false, "score": 0, "last_activity_date": 1525935959, "creation_date": 1525935959, "answer_id": 50267416, "question_id": 50262296, "link": "https://stackoverflow.com/questions/50262296/spinner-in-a-pygobject-gtk-treeview-does-not-spin/50267416#50267416", "title": "Spinner in a PyGObject Gtk.TreeView does not spin", "body": "<p>From the <a href=\"http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/CellRendererSpinner.html#Gtk.CellRendererSpinner\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>To start the animation in a cell, set the Gtk.CellRendererSpinner :active property to True and increment the Gtk.CellRendererSpinner :pulse property at regular intervals. The usual way to set the cell renderer properties for each cell is to bind them to columns in your tree model using e.g. Gtk.TreeViewColumn.add_attribute().</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1525949810, "post_id": 50268299, "comment_id": 87559696, "body": "Why is there the <code>pulse</code> limit of <code>150</code>? Where in the docs are this limit?"}, {"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1525949850, "post_id": 50268299, "comment_id": 87559714, "body": "Your code works fine. But please add more then two columns and there are problems: Sometimes they spin, sometimes they don&#39;t. I expanded your code to explain this <a href=\"https://gist.github.com/buhtz/81526447695fa7dc7d31259e8617aff1\" rel=\"nofollow noreferrer\">gist.github.com/buhtz/81526447695fa7dc7d31259e8617aff1</a>"}, {"owner": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "reply_to_user": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 1, "creation_date": 1525962309, "post_id": 50268299, "comment_id": 87566920, "body": "The limt 150 is just a random value I choose. If you change the line <code>row[1] += 1</code> t o<code>row[1] += -1</code>. You will see a warning issued, <code>OverflowError: -1 not in range 0 to 4294967295</code>."}, {"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1525982206, "post_id": 50268299, "comment_id": 87577738, "body": "When they don&#39;t spin (in my gist-example code) it depends on some drawing issues. It is hard to reproduce. But when I move the mouse they spin."}, {"owner": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "reply_to_user": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1526028473, "post_id": 50268299, "comment_id": 87592931, "body": "I don&#39;t know why it doesn&#39;t work sometimes. I translate this program to D programming language. It always spins(even for 10 rows). <a href=\"https://gist.github.com/mywtfmp3/0ded49c3646b2dddcc098c782cfef7e5\" rel=\"nofollow noreferrer\">gist.github.com/mywtfmp3/0ded49c3646b2dddcc098c782cfef7e5</a>"}], "tags": [], "owner": {"reputation": 823, "user_id": 5360439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af098829647e5301ac07f7dce222d18?s=128&d=identicon&r=PG&f=1", "display_name": "JohnKoch", "link": "https://stackoverflow.com/users/5360439/johnkoch"}, "is_accepted": true, "score": 1, "last_activity_date": 1525939455, "creation_date": 1525939455, "answer_id": 50268299, "question_id": 50262296, "link": "https://stackoverflow.com/questions/50262296/spinner-in-a-pygobject-gtk-treeview-does-not-spin/50268299#50268299", "title": "Spinner in a PyGObject Gtk.TreeView does not spin", "body": "<pre><code>#!/usr/bin/env python3\nimport random\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\nfrom gi.repository import GObject\n\nclass TreeView(Gtk.TreeView):\n    def __init__(self):\n        # model\n        self.model = Gtk.ListStore.new([bool, int])\n        for i in range(5):\n            self.model.append([random.choice([True, True, False]), i])\n\n        # view\n        Gtk.TreeView.__init__(self, self.model)\n\n        # column bool (as spinner)\n        self.spinner_renderer = Gtk.CellRendererSpinner()\n        col_bool = Gtk.TreeViewColumn('bool', self.spinner_renderer, active=0)\n        self.append_column(col_bool)\n\n        # column int\n        col_int = Gtk.TreeViewColumn('int', Gtk.CellRendererText(), text=1)\n        self.append_column(col_int)\n\n    def on_spinner_pulse(self):\n        for row in self.model:\n            if row[0]:\n                if row[1] == 150:\n                    row[1] = 0\n                else:\n                    row[1] += 1\n        self.spinner_renderer.set_property(\"pulse\", row[1])\n        return True\n\nclass Window(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title='CellRendererSpinner')\n        self.set_default_size(200, 400)\n\n        self.view = TreeView()\n        self.add(self.view)\n\n        self.connect('destroy', Gtk.main_quit)\n        self.show_all()\n\nif __name__ == '__main__':\n    win = Window()\n    GObject.timeout_add(100, win.view.on_spinner_pulse)\nGtk.main()\n</code></pre>\n\n<blockquote>\n  <p>increment the Gtk.CellRendererSpinner :pulse property at regular intervals</p>\n</blockquote>\n\n<ol>\n<li><p>Increase \"pulse\" value of cellrendererspinner by calling <code>self.spinner_renderer.set_property(\"pulse\", newValue)</code> in a method</p></li>\n<li><p>Call that method repeatedly with <code>GObject.timeout_add(milliseconds, method)</code> function</p></li>\n</ol>\n"}], "owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 50268299, "answer_count": 2, "score": 0, "last_activity_date": 1525951623, "creation_date": 1525901122, "last_edit_date": 1525951623, "question_id": 50262296, "link": "https://stackoverflow.com/questions/50262296/spinner-in-a-pygobject-gtk-treeview-does-not-spin", "title": "Spinner in a PyGObject Gtk.TreeView does not spin", "body": "<p>It is not clear for me how to use <code>Gtk.SpinnerCellRenderer</code> in a <code>Gtk.TreeView</code> with a <code>Gtk.ListStore</code> as model.</p>\n\n<p>In this example the spinner is shown but it is <em>inactive</em>. It doesn't spin.</p>\n\n<pre><code>#!/usr/bin/env python3\nimport random\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\n\nclass TreeView(Gtk.TreeView):\n    def __init__(self):\n        # model\n        self.model = Gtk.ListStore.new([bool, int])\n        for i in range(5):\n            self.model.append([random.choice([True, True, False]), i])\n\n        # view\n        Gtk.TreeView.__init__(self, self.model)\n\n        # column bool (as spinner)\n        self.spinner_renderer = Gtk.CellRendererSpinner.new()\n        col_bool = Gtk.TreeViewColumn('bool',\n                                      self.spinner_renderer,\n                                      active=0)\n        self.append_column(col_bool)\n\n        # column int\n        col_int = Gtk.TreeViewColumn('int',\n                                     Gtk.CellRendererText(),\n                                     text=1)\n        self.append_column(col_int)\n\n\nclass Window(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title='Mein Gtk-Fenster')\n        self.set_default_size(100, 120)\n\n        self.view = TreeView()\n        self.add(self.view)\n\n        self.connect('destroy', Gtk.main_quit)\n        self.show_all()\n\nif __name__ == '__main__':\n    win = Window()\n    Gtk.main()\n</code></pre>\n"}, {"tags": ["python", "pandas", "merge", "dask"], "comments": [{"owner": {"reputation": 1680, "user_id": 6772171, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bc07c67f42651f77624694bfd9ad6923?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Weissburg", "link": "https://stackoverflow.com/users/6772171/evan-weissburg"}, "edited": false, "score": 1, "creation_date": 1525901475, "post_id": 50262291, "comment_id": 87542798, "body": "Please provide a minimum verifiable example of code and the stacktrace for the error."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1525902337, "post_id": 50262291, "comment_id": 87543078, "body": "Take a look at how here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 930, "user_id": 3886071, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0e0fe737a69237bfef844a55e2cf0294?s=128&d=identicon&r=PG&f=1", "display_name": "n3utrino", "link": "https://stackoverflow.com/users/3886071/n3utrino"}, "edited": false, "score": 0, "creation_date": 1525982425, "post_id": 50262291, "comment_id": 87577817, "body": "There shouldn&#39;t be a problem merging two dfs of that size in Pandas if you&#39;re doing the right type of join. By doing an appropriate inner join you shouldn&#39;t end up with a df larger than the combined size of the initial two. Other types of joins will end up doing combinatorics and getting you enormous results. Try with a very small subset of each dataframe to verify your join is working correctly before trying on the full data sets."}, {"owner": {"reputation": 1, "user_id": 9732151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5a7a831c0210ee2ba61a98b76feee?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/9732151/vikram"}, "edited": false, "score": 0, "creation_date": 1526324055, "post_id": 50262291, "comment_id": 87690491, "body": "I have used inner join on one paramater. Also i have tried using a sample of the whole data. It then worked fine. But when am dealing with the whole df, it&#39;s giving memory error. I have reduced the size of df by converting into suitable data type also. I have used dask in the end. But still that&#39;s taking way more time."}, {"owner": {"reputation": 1, "user_id": 9732151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5a7a831c0210ee2ba61a98b76feee?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/9732151/vikram"}, "edited": false, "score": 0, "creation_date": 1535643455, "post_id": 50262291, "comment_id": 91152289, "body": "Thanks for your suggestion. I was making some mistake in using pandas.merge only."}], "owner": {"reputation": 1, "user_id": 9732151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5a7a831c0210ee2ba61a98b76feee?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/9732151/vikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525901105, "creation_date": 1525901105, "question_id": 50262291, "link": "https://stackoverflow.com/questions/50262291/merging-two-large-pandas-dataframe", "title": "Merging two large pandas Dataframe", "body": "<p>I am trying to merge two dataframes with common id. I have tried dask, merge, pandas. Still am getting the memory error.\nSize of one dataframe is 120 mb and another one is 198 mb.\nWhat is the best way to do so?</p>\n"}, {"tags": ["python", "django", "search", "django-queryset"], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 1, "last_activity_date": 1525901070, "creation_date": 1525901070, "answer_id": 50262284, "question_id": 50262222, "link": "https://stackoverflow.com/questions/50262222/django-queryset-based-on-input-type/50262284#50262284", "title": "Django queryset based on input type", "body": "<p>You can check for that when constructing the query:</p>\n\n<pre><code>expression = Q()\nif query.isdigit():\n    expression |= Q(cvscore__gte=query)\nelse:\n    expression |= Q(cv__icontains=query)\n\ncvs = cvs.filter(expression).distinct()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 264, "user_id": 8939405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Ql3Yey-wK_c/AAAAAAAAAAI/AAAAAAAAAFY/CuS8lTQvQgc/photo.jpg?sz=128", "display_name": "Yunter", "link": "https://stackoverflow.com/users/8939405/yunter"}, "edited": false, "score": 0, "creation_date": 1525902293, "post_id": 50262287, "comment_id": 87543067, "body": "This causes a &quot;Cannot use None as a query value&quot;. It works with this: query = self.request.GET.get(&#39;q&#39;, &#39;&#39;) courtesy of Lemayzeur"}], "tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": false, "score": 1, "last_activity_date": 1525901086, "creation_date": 1525901086, "answer_id": 50262287, "question_id": 50262222, "link": "https://stackoverflow.com/questions/50262222/django-queryset-based-on-input-type/50262287#50262287", "title": "Django queryset based on input type", "body": "<p>You could try something like this:</p>\n\n<pre><code>def get_queryset(self):\n    cvs = Clean.objects.all()\n    query = self.request.GET.get('q')\n\n    cvs = cvs.filter(cv__icontains=query)\n\n    try:\n        cvs = cvs.filter(cvscore__gte=query).order_by('cvscore')\n    except ValueError:\n        # no additional filtering is done if 'query' cannot be coerced to a number\n        pass\n\n    cvs = cvs.distinct()\n    return cvs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 264, "user_id": 8939405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Ql3Yey-wK_c/AAAAAAAAAAI/AAAAAAAAAFY/CuS8lTQvQgc/photo.jpg?sz=128", "display_name": "Yunter", "link": "https://stackoverflow.com/users/8939405/yunter"}, "edited": false, "score": 0, "creation_date": 1525902391, "post_id": 50262305, "comment_id": 87543095, "body": "This works when the following is changed: query = self.request.GET.get(&#39;q&#39;, &#39;&#39;) courtesy of Lemayzeur. Thanks Messaoud"}], "tags": [], "owner": {"reputation": 851, "user_id": 7196038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JaFyC.jpg?s=128&g=1", "display_name": "Messaoud Zahi", "link": "https://stackoverflow.com/users/7196038/messaoud-zahi"}, "is_accepted": false, "score": 1, "last_activity_date": 1525901174, "creation_date": 1525901174, "answer_id": 50262305, "question_id": 50262222, "link": "https://stackoverflow.com/questions/50262222/django-queryset-based-on-input-type/50262305#50262305", "title": "Django queryset based on input type", "body": "<p>What About </p>\n\n<pre><code>def get_queryset(self):\n    cvs = Clean.objects.all()\n    query = self.request.GET.get('q')\n    try:\n        cvs = cvs.filter(Q(cvscore__gte=int(query))).distinct()\n        cvs = cvs.order_by('cvscore')\n    except ValueError:\n        cvs = cvs.filter(Q(cv__icontains=query)).distinct()\n\n    return cvs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 264, "user_id": 8939405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Ql3Yey-wK_c/AAAAAAAAAAI/AAAAAAAAAFY/CuS8lTQvQgc/photo.jpg?sz=128", "display_name": "Yunter", "link": "https://stackoverflow.com/users/8939405/yunter"}, "edited": false, "score": 0, "creation_date": 1525901931, "post_id": 50262308, "comment_id": 87542940, "body": "This works, however refreshing the page should return cvs unfiltered. This causes a &#39;NoneType&#39; object has no attribute &#39;isdigit&#39;"}, {"owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "reply_to_user": {"reputation": 264, "user_id": 8939405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Ql3Yey-wK_c/AAAAAAAAAAI/AAAAAAAAAFY/CuS8lTQvQgc/photo.jpg?sz=128", "display_name": "Yunter", "link": "https://stackoverflow.com/users/8939405/yunter"}, "edited": false, "score": 0, "creation_date": 1525901978, "post_id": 50262308, "comment_id": 87542958, "body": "note this <code>self.request.GET.get(&#39;q&#39;,&#39;&#39;)</code> in my answer, the second parameter is the <code>default value</code> to avoid <code>None</code> value"}], "tags": [], "owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "is_accepted": true, "score": 2, "last_activity_date": 1525901200, "creation_date": 1525901200, "answer_id": 50262308, "question_id": 50262222, "link": "https://stackoverflow.com/questions/50262222/django-queryset-based-on-input-type/50262308#50262308", "title": "Django queryset based on input type", "body": "<p>Inside query everything is <code>string</code>. So, you should consider using <code>isdigit()</code>:<br>\nThis method returns true if all characters in the string are digits and there is at least one character, false otherwise. <a href=\"https://www.tutorialspoint.com/python/string_isdigit.htm\" rel=\"nofollow noreferrer\">More Info</a></p>\n\n<pre><code>query = self.request.GET.get('q','') # Note this .get('q','')\nif query.isdigit(): # i.e '31231' as string, will be True\n   cvs = cvs.filter(Q(cvscore__gte=int(query))).distinct()\n   cvs = cvs.order_by('cvscore')\nelse:\n   cvs = cvs.filter(Q(cv__icontains=query)).distinct()\n</code></pre>\n"}], "owner": {"reputation": 264, "user_id": 8939405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Ql3Yey-wK_c/AAAAAAAAAAI/AAAAAAAAAFY/CuS8lTQvQgc/photo.jpg?sz=128", "display_name": "Yunter", "link": "https://stackoverflow.com/users/8939405/yunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 50262308, "answer_count": 4, "score": 1, "last_activity_date": 1525901200, "creation_date": 1525900746, "question_id": 50262222, "link": "https://stackoverflow.com/questions/50262222/django-queryset-based-on-input-type", "title": "Django queryset based on input type", "body": "<p>on Django 1.9, I have a form that allows the user to filter models based on their input:</p>\n\n<pre><code>def get_queryset(self):\n        cvs = Clean.objects.all()\n        query = self.request.GET.get('q')\n\n        if query:\n            cvs = cvs.filter(Q(cvscore__gte=query)).distinct()\n            cvs = cvs.order_by('cvscore')            \n        return cvs\n</code></pre>\n\n<p>I want them to be able to search for a string also and have tried:</p>\n\n<pre><code>cvs = cvs.filter(Q(cvscore__gte=query) | Q(cv__icontains=query)).distinct()\n</code></pre>\n\n<p>The problem with this is if the input is a str, an error will be thrown:</p>\n\n<pre><code>invalid literal for int() with base 10: \n</code></pre>\n\n<p>Is there a way around this? Something like:</p>\n\n<pre><code>def get_queryset(self):\n        cvs = Clean.objects.all()\n        query = self.request.GET.get('q')\n\n        if query **is an integer**:\n            cvs = cvs.filter(Q(cvscore__gte=query)).distinct()\n            cvs = cvs.order_by('cvscore')\n        else:\n            cvs = cvs.filter(Q(cv__icontains=query)).distinct()\n\n        return cvs\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "keras", "deep-learning"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525903030, "post_id": 50262215, "comment_id": 87543302, "body": "Suggest you a) structure your code as described in the multiprocessing docs <a href=\"https://docs.python.org/2/library/multiprocessing.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/multiprocessing.html</a>  i.e. protect the last two lines by <code>if __name__ == \u2018__main__\u2019</code> and therefore I don\u2019t think it makes much sense/adds value for the test method to call the foo method, and b) add some more debugging print statements - e.g. in foo and in test - to add more granualrity to where the code hangs."}, {"owner": {"reputation": 110, "user_id": 3369049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03f53de4b024783c8d24df28a2091dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tristhal", "link": "https://stackoverflow.com/users/3369049/tristhal"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904038, "post_id": 50262215, "comment_id": 87543647, "body": "I made the changes you suggested. It didn&#39;t change the output however it should be noted that when the import is removed and it works &quot;In foo&quot; is never printed anyways. Thanks."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904063, "post_id": 50262215, "comment_id": 87543662, "body": "You added some more prints but didn\u2019t move the <code>if __name__</code> protection: this matters, each of the subprocesses reads this same .py file, so follow the documentation. Follow the documentation. Follow the documentation. Got it? (May still not explain the problem with keras, but building on shaky foundations is - how shall I put it - shakier)"}, {"owner": {"reputation": 110, "user_id": 3369049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03f53de4b024783c8d24df28a2091dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tristhal", "link": "https://stackoverflow.com/users/3369049/tristhal"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904096, "post_id": 50262215, "comment_id": 87543678, "body": "I did change it i just hadn&#39;t updated it there. Its updated now."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904122, "post_id": 50262215, "comment_id": 87543692, "body": "Difficult to telepath that from here."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904297, "post_id": 50262215, "comment_id": 87543757, "body": "How does foo get it\u2019s \u2018self\u2019 as its not a class method. Humour me, try removing the class. Literally, delete the class definition line and outdent the two methods and call test() and foo()."}, {"owner": {"reputation": 110, "user_id": 3369049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03f53de4b024783c8d24df28a2091dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tristhal", "link": "https://stackoverflow.com/users/3369049/tristhal"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1525904537, "post_id": 50262215, "comment_id": 87543823, "body": "The result is the same. It works without the import but not with."}], "answers": [{"tags": [], "owner": {"reputation": 110, "user_id": 3369049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03f53de4b024783c8d24df28a2091dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tristhal", "link": "https://stackoverflow.com/users/3369049/tristhal"}, "is_accepted": true, "score": 0, "last_activity_date": 1527865877, "last_edit_date": 1527865877, "creation_date": 1525921034, "answer_id": 50264799, "question_id": 50262215, "link": "https://stackoverflow.com/questions/50262215/importing-keras-breaks-multiprocessing/50264799#50264799", "title": "Importing Keras breaks multiprocessing", "body": "<p>Here is a possible solution to this problem that worked for me since the child processes don't require keras to be imported.</p>\n\n<pre><code>if __name__ != '__mp_main__': #This line solves the problem\n    import keras\nfrom multiprocessing import Pool\n\ndef foo(q,y):\n    print(\"In foo\")\n    return q,y\ndef test(a, b):\n    x = []\n    if __name__ == '__main__':\n        p = Pool(5)\n        print(\"Starting\")\n        x = p.starmap(foo, [[a,2],[b,4]])\n        print(\"Finished\")\n        p.close()\n        p.join()\n    print(x)\n\nif __name__ == '__main__':\n    test(1,3)\n    print(keras.backend)\n</code></pre>\n\n<p>How I found this solution was very weird. I ran the original code and it hung as normal. Then even as it was hung I commented out the import line and saved the file for the next test. As soon as I did this the code finished executing somehow. I tested this several times to make sure it was no fluke. How can editing the file of an already run program affect its operation? I then figured the if __name__ == '__main__' might be similar to if(fork() == 0) in c so I put it around the import so the children processes would not run it. Just as if I was manually commenting it out and saving during the run time. I tested it and it works.</p>\n\n<p>Edit: If you use if __name__ == __main__ then inheritance gets broken since they aren't main it seems. <strong>mp_main</strong> is the <strong>name</strong> of the pool workers and this works as well</p>\n"}], "owner": {"reputation": 110, "user_id": 3369049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03f53de4b024783c8d24df28a2091dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tristhal", "link": "https://stackoverflow.com/users/3369049/tristhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 50264799, "answer_count": 1, "score": 3, "last_activity_date": 1527865877, "creation_date": 1525900720, "last_edit_date": 1525904500, "question_id": 50262215, "link": "https://stackoverflow.com/questions/50262215/importing-keras-breaks-multiprocessing", "title": "Importing Keras breaks multiprocessing", "body": "<p>While using keras I found that I couldn't use multiprocessing.Pool. After some troubleshooting I think importing keras is the source of the problem and have created a simple example of this. </p>\n\n<pre><code>import keras\nfrom multiprocessing import Pool\n\ndef foo(q,y):\n    print(\"In foo\")\n    return q,y\ndef test(a, b):\n    x = []\n    if __name__ == '__main__':\n        p = Pool(5)\n        print(\"Starting\")\n        x = p.starmap(foo, [[a,2],[b,4]])\n        print(\"Finished\")\n        p.close()\n        p.join()\n    print(x)\n\nif __name__ == '__main__':\n    test(1,3)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>&gt; Starting\n</code></pre>\n\n<p>When run it outputs \"Starting\" then hangs. If I remove the keras import it runs fine and outputs [(1, 2), (3, 4)] as expected. Any idea how I can resolve this issue or what might be causing it? I  don't fully understand how multiprocessing works with python yet. Thanks!</p>\n\n<p>I am using anaconda and spyder for my code.</p>\n"}, {"tags": ["python", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "is_accepted": false, "score": 2, "last_activity_date": 1525900843, "creation_date": 1525900843, "answer_id": 50262238, "question_id": 50262199, "link": "https://stackoverflow.com/questions/50262199/where-is-the-documentation-for-elasticsearch-elasticsearch-indices-create/50262238#50262238", "title": "Where is the documentation for elasticsearch.Elasticsearch.indices.create()?", "body": "<p>I found out the answer myself. <code>elasticsearch.Elasticsearch()</code> returns an object which has a property <code>indices</code>, which is an instance of <code>IndicesClient</code>. Thus, <code>elasticsearch.client.IndicesClient.create</code> is the same function as the one I am calling in my code snippet.</p>\n"}], "owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525900843, "creation_date": 1525900648, "question_id": 50262199, "link": "https://stackoverflow.com/questions/50262199/where-is-the-documentation-for-elasticsearch-elasticsearch-indices-create", "title": "Where is the documentation for elasticsearch.Elasticsearch.indices.create()?", "body": "<p>One can create an index in Elasticsearch with this line of code:</p>\n\n<pre><code>from elasticsearch import Elasticsearch\nes = Elasticsearch()\nes.indices.create(index = \"new_index\")\n</code></pre>\n\n<p>But where is the documentation for the <code>indices.create</code> function? I've looked <a href=\"http://elasticsearch-py.readthedocs.io/en/master/api.html#indices\" rel=\"nofollow noreferrer\">here</a> but all I found was <code>elasticsearch.client.IndicesClient.create</code>. Is it the same somehow? If so, why is it said to be located at <code>elasticsearch.client.IndicesClient.create</code> rather than <code>elasticsearch.Elasticsearch.indices.create</code>?</p>\n"}, {"tags": ["python", "http", "server"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7116997, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yrMHXy5l1Bk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rffvsftRDOIveBMZ4M_MOF4r_e2_A/photo.jpg?sz=128", "display_name": "TheAlgoMan", "link": "https://stackoverflow.com/users/7116997/thealgoman"}, "is_accepted": false, "score": 1, "last_activity_date": 1525902857, "last_edit_date": 1525902857, "creation_date": 1525902451, "answer_id": 50262530, "question_id": 50262195, "link": "https://stackoverflow.com/questions/50262195/python-httpbaseserver-route-requests-to-multiple-request-handlers/50262530#50262530", "title": "Python HTTPBaseServer: route requests to multiple request handlers", "body": "<p>Ok, I figured out I just have to inherit the already implemented handlers classes in my main handler class.</p>\n\n<pre><code>from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler\n\n\nclass Api1Handler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        print(\"win\")\n        print(self.headers)\n\n\nclass MyHandler(BaseHTTPRequestHandler, Api1Handler):\n    def do_GET(self):\n        print(self.path)\n        Api1Handler.do_GET(self)\n\n\nif __name__ == '__main__':\n    server = HTTPServer(('127.0.0.1', 8080), MyHandler)\n\n    try:\n        server.serve_forever()\n    except KeyboardInterrupt:\n        pass\n\n    server.server_close()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7116997, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yrMHXy5l1Bk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rffvsftRDOIveBMZ4M_MOF4r_e2_A/photo.jpg?sz=128", "display_name": "TheAlgoMan", "link": "https://stackoverflow.com/users/7116997/thealgoman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1525902857, "creation_date": 1525900642, "last_edit_date": 1525902475, "question_id": 50262195, "link": "https://stackoverflow.com/questions/50262195/python-httpbaseserver-route-requests-to-multiple-request-handlers", "title": "Python HTTPBaseServer: route requests to multiple request handlers", "body": "<p>I have couple of standalone HTTP servers (based on <code>BaseHTTPServer</code>) which I want to combine into one server (based on <code>BaseHTTPServer</code> as well)</p>\n\n<p>I want to fire up the request handler class of each of my already implemented servers based on the incoming request URL.</p>\n\n<p>For example: for a reqeust to <code>/api1</code> in my new server use <code>Api1RequestHandler</code> and so on..</p>\n\n<p>Do you have an idea how should i do this? Can i use the instance of the new server's request handler in order to call other handlers?</p>\n\n<p>This is an example of the idea:</p>\n\n<pre><code>from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler\n\n\nclass Api1Handler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        print(self.headers)\n\n\nclass MyHandler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        print(self.path)\n        my_handler2 = Api1Handler(self.request, self.client_address, self.server)\n        my_handler2.do_GET()\n\n\nif __name__ == '__main__':\n    server = HTTPServer(('127.0.0.1', 8080), MyHandler)\n\n    try:\n        server.serve_forever()\n    except KeyboardInterrupt:\n        pass\n\n    server.server_close()\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "lstm"], "answers": [{"tags": [], "owner": {"reputation": 13174, "user_id": 8143158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGO7.png?s=128&g=1", "display_name": "vijay m", "link": "https://stackoverflow.com/users/8143158/vijay-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1526030536, "creation_date": 1526030536, "answer_id": 50289099, "question_id": 50262174, "link": "https://stackoverflow.com/questions/50262174/effect-of-setting-sequence-length-on-the-returned-state-in-dynamic-rnn/50289099#50289099", "title": "Effect of setting sequence_length on the returned state in dynamic_rnn", "body": "<p>You should be getting the same output in both the cases. I'll illustrate this with a toy example below:</p>\n\n<p><strong><em>> 1. Setting up the inputs and the parameters of the network:</em></strong></p>\n\n<pre><code># Set RNN params\nbatch_size = 2\ntime_steps = 10\nvector_size = 5\n\n# Create a random input\ndataset= tf.random_normal((batch_size, time_steps, vector_size), dtype=tf.float32, seed=42)\n\n# input tensor to the RNN\nX = tf.Variable(dataset, dtype=tf.float32)\n</code></pre>\n\n<p><strong><em>> 2. Time series LSTM with input: <code>[batch_size, time_steps, vector_size]</code></em></strong></p>\n\n<pre><code># Initializers cannot be set to random value, so set it a fixed value.\nwith tf.variable_scope('rnn_full', initializer=tf.initializers.ones()):\n   basic_cell= tf.contrib.rnn.BasicRNNCell(num_units=10)\n   output_f, state_f= tf.nn.dynamic_rnn(basic_cell, X, dtype=tf.float32)\n</code></pre>\n\n<p><strong><em>> 3. LSTM called in a loop count of <code>time_steps</code> to create tim_series, where each LSTM is fed an input: <code>[batch_size, vector_size]</code> and the returned state is set as the initial state</em></strong></p>\n\n<pre><code># Unstack the inputs across time_steps    \nunstack_X = tf.unstack(X,axis=1)\n\noutputs = []\nwith tf.variable_scope('rnn_unstacked', initializer=tf.initializers.ones()):\n   basic_cell= tf.contrib.rnn.BasicRNNCell(num_units=10)\n\n   #init_state has to be set to zero\n   init_state = basic_cell.zero_state(batch_size, dtype=tf.float32)\n\n   # Create a loop of N LSTM cells, N = time_steps.\n   for i in range(len(unstack_X)):\n      output, state= tf.nn.dynamic_rnn(basic_cell, tf.expand_dims(unstack_X[i], 1), dtype=tf.float32, initial_state= init_state)\n      # copy the init_state with the new state\n      init_state = state\n      outputs.append(output)\n   # Transform the output to [batch_size, time_steps, vector_size]        \n   output_r = tf.transpose(tf.squeeze(tf.stack(outputs)), [1, 0, 2])\n</code></pre>\n\n<p><strong><em>> 4. Checking the outputs</em></strong></p>\n\n<pre><code>with tf.Session() as sess:\n   sess.run(tf.global_variables_initializer())\n   out_f, st_f =sess.run([output_f, state_f])\n   out_r, st_r =sess.run([output_r, state])\n\n   npt.assert_almost_equal(out_f, out_r)\n   npt.assert_almost_equal(st_f, st_r)\n</code></pre>\n\n<p>Both the <code>states</code> and the <code>outputs</code> matches.</p>\n"}], "owner": {"reputation": 2538, "user_id": 2277331, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/4b8efcf4537807785c9fbc9472bb8f6d?s=128&d=identicon&r=PG", "display_name": "Anton.P", "link": "https://stackoverflow.com/users/2277331/anton-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526030536, "creation_date": 1525900533, "question_id": 50262174, "link": "https://stackoverflow.com/questions/50262174/effect-of-setting-sequence-length-on-the-returned-state-in-dynamic-rnn", "title": "Effect of setting sequence_length on the returned state in dynamic_rnn", "body": "<p>Suppose I have an LSTM network to classify timeseries on length 10, the standard way to feed the timeseries to the LSTM is to form a [batch size X 10 X vector size] array and feed it to the LSTM:</p>\n\n<pre><code>self.rnn_t, self.new_state = tf.nn.dynamic_rnn( \\\n        inputs=self.X, cell=self.lstm_cell, dtype=tf.float32, initial_state=self.state_in)\n</code></pre>\n\n<p>When using the <code>sequence_length</code> parameter I can specify the length of the timeseries. </p>\n\n<p>My question, for the scenario defined above, if I call <code>dynamic_rnn</code> 10 time with a vector of size [batch size X 1 X vector size], taking the matching index in the timeseries and passing the returned state as the initial_state of the preceding call, would I end up having the same results? outputs and state? or not? </p>\n"}, {"tags": ["python", "pandas", "date", "dataframe", "merge"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 2, "creation_date": 1525900705, "post_id": 50262171, "comment_id": 87542513, "body": "Welcome to SO. Please look here for how you can <a href=\"https://stackoverflow.com/posts/50262171/edit\">edit</a> your question to make it clearer: <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">How to make good reproducible pandas examples</a>. For example, do not use links or images; include data as text in your question."}, {"owner": {"reputation": 17, "user_id": 1151801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af8b4f112c9f44f798b81f12e564284?s=128&d=identicon&r=PG", "display_name": "SJEL", "link": "https://stackoverflow.com/users/1151801/sjel"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1525902420, "post_id": 50262171, "comment_id": 87543109, "body": "Thank you, I will review now and update.  Apologies, thought images would be the easiest way :)"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 2, "creation_date": 1525902497, "post_id": 50262171, "comment_id": 87543135, "body": "No problem, the main issue is we can&#39;t copy-paste images into an interpreter. So writing and testing some code becomes difficult."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 7764112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nN5Zb.png?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/7764112/matthew"}, "is_accepted": false, "score": 0, "last_activity_date": 1525913041, "creation_date": 1525913041, "answer_id": 50263923, "question_id": 50262171, "link": "https://stackoverflow.com/questions/50262171/joining-two-dataframes-by-summing-values-between-two-dates-sumif-equivalent/50263923#50263923", "title": "Joining two dataframes by summing values between two dates, sumif equivalent", "body": "<p>This may not the most efficient, but it works! I'd love to learn about the most efficient way to do it too!</p>\n\n<p><strong>Solution:</strong></p>\n\n<pre><code>def getForDF1(row):\n    row['Value_1'],row['Value_2']= \\\n    df2[(df2['Date']&gt;=row['StartDate']) &amp; (df2['Date']&lt;=row['EndDate'])].sum()[['Value_1','Value_2']]\n    return row \n\ndf1=df1.apply(getForDF1,axis=1)\n</code></pre>\n\n<p>P.S. Your code does not seem to work as timedelta cannot work for the whole series.</p>\n\n<p><code>df1[\"EndDate\"] = df1[\"StartDate\"] + datetime.timedelta(5)</code></p>\n\n<p>To make the illustration easier, I changed the values of your df:</p>\n\n<p><strong>Initial setup:</strong></p>\n\n<pre><code>import pandas as pd\n\nStartDate=['2016-01-01','2016-01-13','2016-01-25','2016-02-06','2016-02-18']\nEndDate=['2016-01-12','2016-01-24','2016-01-05','2016-02-17','2016-02-29']\nvalue_3=[1,2,3,4,5]\n\nDate=['2016-01-01','2016-01-02','2016-02-10','2016-02-11','2016-02-18']\nvalue_1=[3,4,5,6,7]\nvalue_2=[0,1,3,5,7]\n\ndf1=pd.DataFrame({'StartDate':StartDate,'EndDate':EndDate,'Value_3':value_3})\ndf2=pd.DataFrame({'Date':Date,'Value_1':value_1,'Value_2':value_2})\n\ndf1['EndDate']=pd.to_datetime(df1['EndDate'])\ndf1['StartDate']=pd.to_datetime(df1['StartDate'])\ndf2['Date']=pd.to_datetime(df2['Date'])\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 1151801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af8b4f112c9f44f798b81f12e564284?s=128&d=identicon&r=PG", "display_name": "SJEL", "link": "https://stackoverflow.com/users/1151801/sjel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1525913041, "creation_date": 1525900510, "last_edit_date": 1525903896, "question_id": 50262171, "link": "https://stackoverflow.com/questions/50262171/joining-two-dataframes-by-summing-values-between-two-dates-sumif-equivalent", "title": "Joining two dataframes by summing values between two dates, sumif equivalent", "body": "<p>I have two dataframes, df1 and df2:</p>\n\n<pre><code>import pandas as pd\nimport datetime\nimport numpy as np\ndf1 = pd.DataFrame()\ndf1[\"StartDate\"] = pd.date_range(start=('2016/01/01'), end = ('2017/12/31'), \nfreq=\"6D\")\ndf1[\"EndDate\"] = df1[\"StartDate\"] + datetime.timedelta(5)\ndf1[\"Value_three\"] =  pd.Series(np.random.randn(len(df.Date))+2)\n</code></pre>\n\n<p>df1 has a start date, end date and value (named value_three).  df2 has a date, value_one and value two.</p>\n\n<pre><code>df2 = pd.DataFrame()\ndf2[\"Date\"] = pd.date_range(start=('2016/01/01'), end=('2017/12/31'), freq=\"D\")\ndf2[\"Value_one\"] = pd.Series(np.random.randn(len(df.Date)))\ndf2[\"Value_two\"] = pd.Series(np.random.randn(len(df.Date))+1)\n</code></pre>\n\n<p>What am I looking to achieve is something similar to the SUMIFS function in Excel:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FG5EN.png\" rel=\"nofollow noreferrer\">SUMIFS</a></p>\n\n<p>In this case, I'd like add two columns to df1 that are values_1 and value_2 summed respectively where the \"Date\" column is df2 is between df1.StartDate and df1.EndDate.</p>\n\n<p>Let's assume it is not possible to pre-aggregate this in Vertica/MSSQL/etc. We also cannot use resample as the start date and end date can be irregular (in this case, separated by 11 days, but the gap can be ever changing).</p>\n\n<p>I've tried join, merge, melt, concat, and I am proving a failure! Hopefully someone can kindly assist.</p>\n"}, {"tags": ["python", "discord.py"], "comments": [{"owner": {"reputation": 80, "user_id": 9683921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xo2XwpmOEwk/AAAAAAAAAAI/AAAAAAAAA14/mE6b1k4-8Bg/photo.jpg?sz=128", "display_name": "tristan360", "link": "https://stackoverflow.com/users/9683921/tristan360"}, "edited": false, "score": 0, "creation_date": 1526053796, "post_id": 50262096, "comment_id": 87608712, "body": "um... I did everything u asked me to do... wat..."}, {"owner": {"reputation": 224, "user_id": 6779209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cpqbN.jpg?s=128&g=1", "display_name": "BanjoFox", "link": "https://stackoverflow.com/users/6779209/banjofox"}, "edited": false, "score": 0, "creation_date": 1571929664, "post_id": 50262096, "comment_id": 103409813, "body": "It would certainly help to have the source code that you are working with. At the moment I am having a similar issue, but I am not able to get the (at)mentions working.&lt;br /&gt; if you do something like <code>await ctx.send(ctx.message.author)</code> that should give you the ID (MyName #0000)"}], "answers": [{"comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1525918183, "post_id": 50262855, "comment_id": 87546964, "body": "There&#39;s also <a href=\"https://discordpy.readthedocs.io/en/latest/api.html#discord.User.mention\" rel=\"nofollow noreferrer\"><code>User.mention</code></a>, which looks like what they&#39;re looking for."}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1525918211, "post_id": 50262855, "comment_id": 87546973, "body": "Good note. Will edit in thanks."}], "tags": [], "owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "is_accepted": true, "score": 3, "last_activity_date": 1525918252, "last_edit_date": 1525918252, "creation_date": 1525904347, "answer_id": 50262855, "question_id": 50262096, "link": "https://stackoverflow.com/questions/50262096/for-discord-py-how-would-i-turn-the-authors-id-into-the-discord-users-actual/50262855#50262855", "title": "For discord.py, how would I turn the author&#39;s id into the discord user&#39;s actual name?", "body": "<p>If you have a <code>Member</code> object already, you can access the name straight away.</p>\n\n<pre><code># member is &lt;Member id=... name=MyName#0000&gt;\nmember.name  # MyName\nmember.nick  # MyNick\nmember.display_name  # MyNick if nick is not None, else MyName\nmember.mention  # @MyName\nstr(member)  # MyName#0000\n</code></pre>\n\n<p>If you do not have a <code>Member</code> object, but do have a <code>Guild</code> (<code>Server</code> in discord.py 0.x,) you can use the <a href=\"http://discordpy.readthedocs.io/en/rewrite/api.html#discord.Guild.get_member\" rel=\"nofollow noreferrer\"><code>Guild.get_member</code></a> method.</p>\n\n<pre><code>member = guild.get_member(userID)\nmember.name  # MyName\n</code></pre>\n\n<p>If you don't have any information at all starting, you can use the <a href=\"http://discordpy.readthedocs.io/en/rewrite/api.html#discord.Client.get_user_info\" rel=\"nofollow noreferrer\"><code>Client.get_user_info</code></a> method. Note, this returns a <code>User</code> not a <code>Member</code>, so you will not have access to nicknames, roles, etc.</p>\n\n<pre><code>user = bot.get_user_info(userID)\nuser.name  # MyName\nuser.nick  # Error\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 9683921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xo2XwpmOEwk/AAAAAAAAAAI/AAAAAAAAA14/mE6b1k4-8Bg/photo.jpg?sz=128", "display_name": "tristan360", "link": "https://stackoverflow.com/users/9683921/tristan360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2800, "favorite_count": 0, "closed_date": 1525956993, "accepted_answer_id": 50262855, "answer_count": 1, "score": -1, "last_activity_date": 1525918252, "creation_date": 1525900174, "question_id": 50262096, "link": "https://stackoverflow.com/questions/50262096/for-discord-py-how-would-i-turn-the-authors-id-into-the-discord-users-actual", "closed_reason": "Not suitable for this site", "title": "For discord.py, how would I turn the author&#39;s id into the discord user&#39;s actual name?", "body": "<p>I'm having trouble with message.author.id. When I ask a bot to return the user's ID, it returns the well... user ID. But that's not what I want. I want it to say the user's discord name (for an example, instead of like 13284701972315 it would say MyName #0000). I'm making a bot which will give out brownie points on command. Here's and example of what it might say. </p>\n\n<blockquote>\n  <p>311661286213550091 has given 22 brownie points to @AceFTW. They currently have 22\n  brownie points!</p>\n</blockquote>\n\n<p>I'd like it to say something like this: </p>\n\n<blockquote>\n  <p>@tristan360 has given 22 brownie points to @AceFTW. They currently have 22\n  brownie points!</p>\n</blockquote>\n\n<p>I'm looking for a way for the bot to display the user's name instead of the user's ID.</p>\n"}, {"tags": ["php", "python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1525900282, "post_id": 50262095, "comment_id": 87542328, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2592764/what-does-a-b-prefix-before-a-python-string-mean\">What does a b prefix before a python string mean?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1525900486, "creation_date": 1525900486, "answer_id": 50262168, "question_id": 50262095, "link": "https://stackoverflow.com/questions/50262095/confusing-output-from-executing-php-in-python/50262168#50262168", "title": "Confusing output from executing Php in Python", "body": "<p><code>result.stdout</code> is a <code>bytes</code> object, and the <code>bytes.__str__()</code> methods returns its representation (see <a href=\"https://docs.python.org/3/library/functions.html#repr\" rel=\"nofollow noreferrer\"><code>repr()</code></a>).</p>\n\n<p>Try with <code>print(result.stdout.decode('utf-8'))</code> to decode the bytes as UTF-8.</p>\n\n<p>Suggested reading: <a href=\"https://docs.python.org/3/howto/unicode.html\" rel=\"nofollow noreferrer\">Unicode HOWTO</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9767084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525900486, "creation_date": 1525900171, "question_id": 50262095, "link": "https://stackoverflow.com/questions/50262095/confusing-output-from-executing-php-in-python", "title": "Confusing output from executing Php in Python", "body": "<p>Why I get output with <em>b</em> and <em>''</em>?</p>\n\n<pre><code>import subprocess\n\nresult = subprocess.run(['php', 'index.php'], stdout=subprocess.PIPE, check=True)\nprint(result.stdout) \n</code></pre>\n\n<p><strong>Output => b'Hello'</strong></p>\n\n<p>In Php I have just echo().</p>\n"}, {"tags": ["python", "c++", "opencv"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1525902449, "post_id": 50262079, "comment_id": 87543118, "body": "<code>zip</code> lets you iterate over two arrays at once, and the <code>enumerate</code> adds an index. So the simplest way in c++ is to just do <code>for (int i(0); i &lt; good_new.rows; ++i)</code> and then <code>cv::Mat new_row(good_new.row(i)); cv::Mat old_row(good_old.row(i);</code>. | <code>ravel</code> just flattens the array..."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1525902454, "post_id": 50262079, "comment_id": 87543121, "body": "BTW: <a href=\"https://github.com/opencv/opencv/blob/master/samples/cpp/lkdemo.cpp\" rel=\"nofollow noreferrer\">github.com/opencv/opencv/blob/master/samples/cpp/lkdemo.cpp</a>"}, {"owner": {"reputation": 1123, "user_id": 6121695, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b15074dc4dca52f491bdcd50f9e5d910?s=128&d=identicon&r=PG&f=1", "display_name": "hereForLearing", "link": "https://stackoverflow.com/users/6121695/hereforlearing"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1526078571, "post_id": 50262079, "comment_id": 87618978, "body": "Thank you, I&#39;ll see if I can do it now"}, {"owner": {"reputation": 1123, "user_id": 6121695, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b15074dc4dca52f491bdcd50f9e5d910?s=128&d=identicon&r=PG&f=1", "display_name": "hereForLearing", "link": "https://stackoverflow.com/users/6121695/hereforlearing"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1527300934, "post_id": 50262079, "comment_id": 88089369, "body": "By the way, is this numpy.ravel method? because in the docs here (link below), it says that it returns one value, but in the code above it returns two <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.htm&zwnj;&#8203;l</a>"}], "owner": {"reputation": 1123, "user_id": 6121695, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b15074dc4dca52f491bdcd50f9e5d910?s=128&d=identicon&r=PG&f=1", "display_name": "hereForLearing", "link": "https://stackoverflow.com/users/6121695/hereforlearing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1783, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525900529, "creation_date": 1525900102, "last_edit_date": 1525900529, "question_id": 50262079, "link": "https://stackoverflow.com/questions/50262079/lucas-kanade-optical-flow-in-opencv-c-translating-code-from-python", "title": "Lucas-Kanade Optical Flow in OpenCV C++ : Translating code from Python", "body": "<p>I'm trying to draw the \"path\" of several moving objects in a video, and the output will be an image, with the final state (of the moving objects) and the drawn path, <a href=\"https://docs.opencv.org/3.3.1/d7/d8b/tutorial_py_lucas_kanade.html\" rel=\"nofollow noreferrer\">I found a code doing this in Python</a> (see the \"Lucas-Kanade Optical Flow in OpenCV\" part) , and I'm trying to translate it to C++, the problem is that I'm new to both OpenCv and Python, I've been successful to translate the first part, but not to draw the lines, here is what I've done : </p>\n\n<pre><code>#include \"opencv2/imgcodecs.hpp\"\n#include \"opencv2/highgui.hpp\"\n#include \"opencv2/video/tracking.hpp\"\n#include \"opencv2/imgproc.hpp\"\n#include &lt;iostream&gt;\n\nusing namespace cv;\nusing namespace std;\n\n/**\n* @function main\n*/\nint main(int argc, char** argv)\n{\n    //TODO\n    VideoCapture src = VideoCapture(\"C:\\\\Users\\\\youss\\\\Desktop\\\\opencv\\\\movingCars.mp4\");\n    Mat currentFrame, oldGrayedFrame, grayedFrame, mask ;\n    vector&lt;Point2f&gt; prevPts, nextPts;\n    vector&lt;uchar&gt; status;\n    vector&lt;float&gt; err;\n    vector&lt;Point2f&gt; corners;\n    Mat good_new = Mat(), good_old = Mat();\n    int maxCorners = 100,\n        minDistance = 7,\n        blockSize = 7;\n    double qualityLevel = 0.3;\n    src.read(currentFrame);\n    cvtColor(currentFrame, oldGrayedFrame, COLOR_BGR2GRAY);\n\n    goodFeaturesToTrack(oldGrayedFrame, corners, maxCorners, qualityLevel, minDistance, Mat(), blockSize);\n\n    mask = Mat::zeros(currentFrame.size(), currentFrame.type());\n    prevPts = corners;\n    //while (true) {\n        src.read(currentFrame);\n        cvtColor(currentFrame, grayedFrame, COLOR_BGR2GRAY);\n        calcOpticalFlowPyrLK(oldGrayedFrame, grayedFrame, prevPts, nextPts, status, err);\n        int i, k;\n        for (i = k = 0; i &lt; nextPts.size(); i++) {\n            if (!status[i]) continue;\n            prevPts[k] = prevPts[i];\n            nextPts[k] = nextPts[i];\n            err[k] = err[i];\n            k++;\n        }\n        prevPts.resize(k);\n        nextPts.resize(k);\n        err.resize(k);\n    //}\n}\n</code></pre>\n\n<p>I'm not looking for someone to do the work for me, but I will appreciate any explanation/hints on how to translate the remaining part : </p>\n\n<pre><code># draw the tracks\n    for i,(new,old) in enumerate(zip(good_new,good_old)):\n        a,b = new.ravel()\n        c,d = old.ravel()\n        mask = cv2.line(mask, (a,b),(c,d), color[i].tolist(), 2)\n        frame = cv2.circle(frame,(a,b),5,color[i].tolist(),-1)\n    img = cv2.add(frame,mask)\n</code></pre>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1525899878, "post_id": 50261988, "comment_id": 87542162, "body": "What variables do you mean?"}, {"owner": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1525900366, "post_id": 50261988, "comment_id": 87542365, "body": "@eyllanesc thanks for always helping, I have specified the variables at the end of the post and its location."}, {"owner": {"reputation": 1893, "user_id": 8940931, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fTuu5.jpg?s=128&g=1", "display_name": "Simeon Ikudabo", "link": "https://stackoverflow.com/users/8940931/simeon-ikudabo"}, "edited": false, "score": 0, "creation_date": 1525900586, "post_id": 50261988, "comment_id": 87542450, "body": "What exactly is your issue? Are you saying that these variables cannot be used in your other method within the class where you defined the variables?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1525900783, "post_id": 50261988, "comment_id": 87542536, "body": "@immeeh what is <code>level one bedroom choice</code>?"}, {"owner": {"reputation": 1893, "user_id": 8940931, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fTuu5.jpg?s=128&g=1", "display_name": "Simeon Ikudabo", "link": "https://stackoverflow.com/users/8940931/simeon-ikudabo"}, "edited": false, "score": 0, "creation_date": 1525900805, "post_id": 50261988, "comment_id": 87542538, "body": "I think that I see your issue. You are changing the value of the variable, but this does not change the text that you are attempting to change. You will have to specifically Change the value of the text on the widget that you want to alter."}, {"owner": {"reputation": 1893, "user_id": 8940931, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fTuu5.jpg?s=128&g=1", "display_name": "Simeon Ikudabo", "link": "https://stackoverflow.com/users/8940931/simeon-ikudabo"}, "edited": false, "score": 0, "creation_date": 1525901072, "post_id": 50261988, "comment_id": 87542647, "body": "It looks like you are attempting to update example_var_b, and example_var_a if example_var_a meets a certain condition. Then (i\u2019m Assuming) you want to change the text in the Kivy app when you change the value of these variables. That won\u2019t work by only updating the variable because it is not connected to the UI. You will have to specifically change the value of the labels text attribute \u201clevel_one_bedroom_progress\u201d"}, {"owner": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525903219, "post_id": 50261988, "comment_id": 87543357, "body": "I see, thanks for all your help guys."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525903581, "post_id": 50262298, "comment_id": 87543467, "body": "This worked!  Thank you @eyllanesc.  My original code worked, but it was getting increasingly unreadable and this makes it much better so thank you."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525903995, "post_id": 50262298, "comment_id": 87543631, "body": "@immeeh  I recommend you improve your question, for example place an appropriate title and a description focused on your problem but clear, a way to verify that your question is understandable is to read it by another person and understand it. The questions are not just for you but for future askers, and the title is the main filter, do you think someone could find your question with the initial title? if you continue with bad writing you will receive more downvotes, and you will not be able to ask."}, {"owner": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525910402, "post_id": 50262298, "comment_id": 87545286, "body": "Oh yikes, for some reason I thought i made the title something to do with variables in classes on kivy... i&#39;ll change it.. in regards to titles and questions, I do understand that they are not for me, but the problem is I&#39;m not entirely sure what good questions are yet.  I get that I should have all relevant information, clearly state the problem, and try not to have too much extra stuff in it, and so I try but I&#39;m not that great at asking questions yet.  I will try to improve."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525910898, "post_id": 50262298, "comment_id": 87545394, "body": "@immeeh  Your question should talk about your underlying problem, not about possible solutions, that is called <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. Check the link for more information."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "edited": false, "score": 0, "creation_date": 1525910915, "post_id": 50262298, "comment_id": 87545399, "body": "@immeeh [cont.]  I would recommend you use a paragraph to indicate what you want (few lines), another paragraph to indicate your solution, giving information on which you based yourself. Then place a code, but that can be reproduced, that is, those of us who wish to help you do not waste time patching, guessing, etc., but focus on the question. and finally to paragraph that points to a single question. also follow the recommendations indicated in the previous comment."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1525901138, "creation_date": 1525901138, "answer_id": 50262298, "question_id": 50261988, "link": "https://stackoverflow.com/questions/50261988/python-kivy-using-variables-within-classes-with-kivy/50262298#50262298", "title": "Python Kivy: using variables within classes with Kivy", "body": "<p>With the following line:</p>\n\n<pre><code>example_var_b = self.ids.level_one_bedroom_text.text\n</code></pre>\n\n<p>you are not assigning the property but the value of it, so after modifying <code>example_var_b</code> the text will not be modified.</p>\n\n<p>If you want to make your code more readable then create 2 properties that store the text and progress, and these are assigned to the text of the Label and the Button as I show below:</p>\n\n<p><strong>*.kv</strong></p>\n\n<pre><code>...\n&lt;LevelOneBedroomScreen&gt;:\n    name: 'level one bedroom'\n    level_one_bedroom_progress: \"a01\" # &lt;--- property\n    level_one_bedroom_text: '*YAWN*'  # &lt;--- property\n    FloatLayout:\n        Label:\n            text: root.level_one_bedroom_progress # &lt;--- set value\n    Image:\n        id: level_one_bedroom_image\n        source: 'placeholder_background.png'\n        size: self.size\n        pos: self.pos\n        allow_stretch: True\n        keep_ratio: False\n    BoxLayout:\n        orientation: 'vertical'\n        BoxLayout:\n            orientation: 'vertical'\n            Label:\n                text: 'Image of Bedroom'\n                text_size: self.width, None\n                valign: 'middle'\n                halign: 'center'\n            Button:\n                size_hint_y: .32\n                text: root.level_one_bedroom_text # &lt;--- set value\n                color: .5,.2,1,1\n                background_color: 0,0,0,0\n                text_size: self.width, None\n                valign: 'middle'\n                halign: 'center'\n                on_release: root.next_text()\n        BoxLayout:\n            size_hint_y: .15\n            Button:\n                id: level_one_bedroom_left_button\n                background_color: 0,0,0,0\n                on_release: root.next_move()\n            Button:\n                text: 'Home'    \n                on_release: root.manager.current = 'levels'         \n            Button:\n                id: level_one_bedroom_right_button\n                background_color: 0,0,0,0\n</code></pre>\n\n<p><strong>*.py</strong></p>\n\n<pre><code>...\nclass LevelOneBedroomScreen(Screen):\n    def next_text(self):\n        if self.level_one_bedroom_progress == 'a01':\n            self.level_one_bedroom_text = 'Why is it that no matter how much I sleep, I always wake up tired?'\n            self.level_one_bedroom_progress = 'a02'\n        elif self.level_one_bedroom_progress == 'a02':\n            self.level_one_bedroom_text = 'But hey, at least it\u2019s the weekend.  What should I do first?'\n            self.level_one_bedroom_progress = 'a03'\n        elif self.level_one_bedroom_progress == 'a03': #Decision time!\n            self.manager.current = 'level one bedroom choice' \n\n        elif self.level_one_bedroom_progress == 'a03c1':\n            self.level_one_bedroom_text = 'Do I look like a responsible adult to you?'\n            self.level_one_bedroom_progress = 'a03c1a'\n\n        elif self.level_one_bedroom_progress == 'a03c1a': #Decision time!  \n            self.manager.ids.level_one_bedroom_choice.ids.level_one_bedroom_choice_progress.text = 'a01a'\n            self.manager.current = 'level one bedroom choice'       \n        elif self.level_one_bedroom_progress == 'a03c2':\n            self.level_one_bedroom_text = 'Nothing gets your day started like a hearty brownie!'\n            self.level_one_bedroom_progress = 'a03c2a' \n        elif self.level_one_bedroom_progress == 'a03c2a': #Time to Move!\n            self.level_one_bedroom_text = 'To the Kitchen!  Post-haste!'\n            self.level_one_bedroom_left_button = 'Kitchen'\n        elif self.level_one_bedroom_progress == 'a03c3':\n            self.level_one_bedroom_text = 'I\\'m too tired for this.  Back to sleep it is!'\n            self.level_one_bedroom_progress = 'a03c3a'\n        elif self.level_one_bedroom_progress == 'a03c3a':\n            self.level_one_bedroom_text = 'Goodnight World!'\n            self.level_one_bedroom_progress = 'a03cb'             \n        elif self.level_one_bedroom_progress == 'a03cb':\n            self.manager.current = 'game over'\n            self.manager.ids.game_over.ids.game_over_text.text = 'a01'\n            self.manager.ids.game_over.ids.game_over_text.text = 'And so you went to sleep.'\n\n    def next_move(self):\n        if self.level_one_bedroom_progress == 'a03c2a':\n            self.manager.current = 'level one kitchen' \n\n...\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 9525011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d354951c07486a4f061a9226beccfb9?s=128&d=identicon&r=PG&f=1", "display_name": "immeeh", "link": "https://stackoverflow.com/users/9525011/immeeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1525938028, "accepted_answer_id": 50262298, "answer_count": 1, "score": 0, "last_activity_date": 1525910433, "creation_date": 1525899712, "last_edit_date": 1525910433, "question_id": 50261988, "link": "https://stackoverflow.com/questions/50261988/python-kivy-using-variables-within-classes-with-kivy", "closed_reason": "Not suitable for this site", "title": "Python Kivy: using variables within classes with Kivy", "body": "<p>My code is getting quite dense so I'm hoping to simplify it by using variables but it's not working.  Here is the code with a comment near the problem area:</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.screenmanager import ScreenManager, Screen, FadeTransition\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.uix.floatlayout import FloatLayout\nfrom kivy.uix.button import Button\nfrom kivy.core.image import Image\nfrom kivy.graphics import Color, Rectangle\nfrom kivy.core.audio import SoundLoader\nfrom kivy.core.text import LabelBase\n\nimport pygame\nfrom pygame.locals import*\n\nimport random\n\nclass RootScreen(ScreenManager):\n\n    pass\n\nclass StartScreen(Screen):\n\n    pass\n\nclass StartScreen(Screen):\n\n    pass\n\nclass LevelsScreen(Screen):\n\n    pass\n\n\nclass LevelOneBedroomScreen(Screen):\n\n    def __init__(self, **kwargs):\n        super(LevelOneBedroomScreen, self).__init__(**kwargs)\n\n    def next_text(self):\n        #Here is where I want to use variables\n        example_var_a = self.ids.level_one_bedroom_progress.text\n        example_var_b = self.ids.level_one_bedroom_text.text\n        if example_var_a == 'a01':\n            example_var_b = 'Why is it that no matter how much I sleep, I always wake up tired?'\n            example_var_a = 'a02'\n        elif example_var_a == 'a02':\n            example_var_b = 'But hey, at least it\u2019s the weekend.  What should I do first?'\n            example_var_a = 'a03'\n        elif self.ids.level_one_bedroom_progress.text == 'a03': #Decision time!\n            self.manager.current = 'level one bedroom choice' \n        elif self.ids.level_one_bedroom_progress.text == 'a03c1':\n            self.ids.level_one_bedroom_text.text = 'Do I look like a responsible adult to you?'\n            self.ids.level_one_bedroom_progress.text = 'a03c1a'\n        elif self.ids.level_one_bedroom_progress.text == 'a03c1a': #Decision time!  \n            self.manager.ids.level_one_bedroom_choice.ids.level_one_bedroom_choice_progress.text = 'a01a'\n            self.manager.current = 'level one bedroom choice'       \n        elif self.ids.level_one_bedroom_progress.text == 'a03c2':\n            self.ids.level_one_bedroom_text.text = 'Nothing gets your day started like a hearty brownie!'\n            self.ids.level_one_bedroom_progress.text = 'a03c2a' \n        elif self.ids.level_one_bedroom_progress.text == 'a03c2a': #Time to Move!\n            self.ids.level_one_bedroom_text.text = 'To the Kitchen!  Post-haste!'\n            self.ids.level_one_bedroom_left_button.text = 'Kitchen'\n        elif self.ids.level_one_bedroom_progress.text == 'a03c3':\n            self.ids.level_one_bedroom_text.text = 'I\\'m too tired for this.  Back to sleep it is!'\n            self.ids.level_one_bedroom_progress.text = 'a03c3a'\n        elif self.ids.level_one_bedroom_progress.text == 'a03c3a':\n            self.ids.level_one_bedroom_text.text = 'Goodnight World!'\n            self.ids.level_one_bedroom_progress.text = 'a03cb'             \n        elif self.ids.level_one_bedroom_progress.text == 'a03cb':\n            self.manager.current = 'game over'\n            self.manager.ids.game_over.ids.game_over_text.text = 'a01'\n            self.manager.ids.game_over.ids.game_over_text.text = 'And so you went to sleep.'\n\n    def next_move(self):\n        if self.ids.level_one_bedroom_progress.text == 'a03c2a':\n            self.manager.current = 'level one kitchen' \n</code></pre>\n\n<p>Here is the .kv:\n    #:import FadeTransition kivy.uix.screenmanager.FadeTransition</p>\n\n<pre><code>&lt;RootScreen&gt;:\n    transition: FadeTransition() \n    StartScreen:\n        id: start_screen\n    LevelsScreen:\n        id: levels_screen\n    LevelOneBedroomScreen:\n        id: level_one_bedroom\n\n\n&lt;StartScreen&gt;:\n    name: 'start'\n    canvas.before:\n        Rectangle:\n            pos: self.pos\n            size: self.size\n            source: 'start_screen.png'\n    FloatLayout:\n        Image:     \n            source: 'start_screen.png'\n            allow_stretch: True\n            keep_ratio: False\n            size_hint: 1, 1\n        Button:\n            text: 'Start'\n            size_hint: 0.4, 0.3\n            pos_hint: {'center_x':.5, 'center_y':.5}\n            font_size: 70\n            on_release: root.manager.current = 'levels' \n\n\n&lt;LevelsScreen&gt;:\n    name: 'levels'\n    BoxLayout:\n        padding: 20\n        spacing: 10\n        orientation: 'vertical'\n        BoxLayout:\n            spacing: 10\n            Button:\n                text: 'Level 1'\n                on_release: root.manager.current = 'level one bedroom'\n            Button:\n            Button:\n        BoxLayout:\n            spacing: 10\n            Button:\n            Button:\n            Button:     \n        BoxLayout:\n            spacing: 10\n            Button:\n            Button:\n            Button:     \n\n\n&lt;LevelOneBedroomScreen&gt;:\n    name: 'level one bedroom'\n    FloatLayout:\n        Label:\n            id: level_one_bedroom_progress\n            text: 'a01'\n    Image:\n        id: level_one_bedroom_image\n        source: 'placeholder_background.png'\n        size: self.size\n        pos: self.pos\n        allow_stretch: True\n        keep_ratio: False\n    BoxLayout:\n        orientation: 'vertical'\n        BoxLayout:\n            orientation: 'vertical'\n            Label:\n                text: 'Image of Bedroom'\n                text_size: self.width, None\n                valign: 'middle'\n                halign: 'center'\n            Button:\n                id: level_one_bedroom_text\n                size_hint_y: .32\n                text: '*YAWN*'\n                color: .5,.2,1,1\n                background_color: 0,0,0,0\n                text_size: self.width, None\n                valign: 'middle'\n                halign: 'center'\n                on_release: root.next_text()\n        BoxLayout:\n            size_hint_y: .15\n            Button:\n                id: level_one_bedroom_left_button\n                background_color: 0,0,0,0\n                on_release: root.next_move()\n            Button:\n                text: 'Home'    \n                on_release: root.manager.current = 'levels'         \n            Button:\n                id: level_one_bedroom_right_button\n                background_color: 0,0,0,0\n</code></pre>\n\n<p>When I write the entire thing out without using variables it works fine.  The variables I'm talking about are in the class: LevelOneBedroomScreen, and the variables are: example_var_a, example_var_b.  Thank you in advanced.</p>\n"}, {"tags": ["python", "tkinter", "python-3.6"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525899891, "post_id": 50261986, "comment_id": 87542166, "body": "Do you have any particular reason to rewrite the input field&#39;s contents as the user types, rather than just processing the entered value internally after the user enters it? Rewriting a user&#39;s input as they type can be really annoying."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1525908192, "post_id": 50261986, "comment_id": 87544793, "body": "Have you seen this answer, which shows how to use the built-in input validation features of the entry widget? <a href=\"http://stackoverflow.com/a/4140988/7432\">stackoverflow.com/a/4140988/7432</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1525902092, "post_id": 50262194, "comment_id": 87543003, "body": "Is there a way to make it replace the 0 if the number is not follwed by a 0 instead of bringing a message box and then deleting it?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1525903364, "post_id": 50262194, "comment_id": 87543407, "body": "@JohnSmith sure see my 2nd example."}, {"owner": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1525903533, "post_id": 50262194, "comment_id": 87543451, "body": "thank you thats what i was looking for but can you make it update instantly for example when typing it into the entry it updates without having to finish the equation and press enter?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1525903729, "post_id": 50262194, "comment_id": 87543524, "body": "Probably but I am not at my desk any more. I will check when I get home"}, {"owner": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1526002847, "post_id": 50262194, "comment_id": 87583901, "body": "brother? are you still there"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1526005030, "post_id": 50262194, "comment_id": 87584393, "body": "@JohnSmith ya but I keep running into problems with my attempts. I have some code that will remove the zero if it is by itself but its not tracking properly with the <code>.</code> or other numbers. I am sure there is a better way then what I am trying to do."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1526048322, "post_id": 50262194, "comment_id": 87605116, "body": "@JohnSmith I have added a new example to my answer. Let me know if this is what you want. I think it will work for your needs. You can likely combine it with normal validation to prevent the use of letters as well."}, {"owner": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1526372887, "post_id": 50262194, "comment_id": 87706883, "body": "a guy in my class has it so that when he types into his entry the 0 is replaced instantly without the enter key being pressed or if it is not followed by a decimal point the other instances how is this?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "edited": false, "score": 0, "creation_date": 1526385862, "post_id": 50262194, "comment_id": 87715121, "body": "@JohnSmith that is the same thing my 3rd example is doing."}], "tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 0, "last_activity_date": 1526052303, "last_edit_date": 1526052303, "creation_date": 1525900631, "answer_id": 50262194, "question_id": 50261986, "link": "https://stackoverflow.com/questions/50261986/tkinter-how-to-stop-a-0-being-typed-first-in-entry-unless-followed-by-a-decimal/50262194#50262194", "title": "Tkinter how to stop a 0 being typed first in entry unless followed by a decimal point", "body": "<p>I would check the field with an if/else statement.</p>\n\n<p>Update:</p>\n\n<p>Here is my next attempt based off of your comments.\nI am not 100% sure it will work perfectly but from my testing it seams to do what you want.</p>\n\n<p>I have created some conditional if/else statements that will check to see if a specific combination of characters exist in the string. If so then reformat to remove the zero.</p>\n\n<p>Take a look at the below code.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import messagebox\n\nmaster = tk.Tk()\n\nstring_converter_main = tk.StringVar()\nentry1 = tk.Entry(master, width = \"33\", textvariable = string_converter_main, font = (\"Helvetica\", 23), bg=\"gray13\", fg = \"ghostwhite\", bd=\"10\")\nentry1.grid(row=1, column=0, columnspan=5, sticky=\"nsew\")\n\n\ndef check_format_of_string(event):\n    if event.keysym not in [\"BackSpace\", \"Control_L\", \"Control_R\", \"Delete\"] and \"0\" in entry1.get():\n        word_list = entry1.get().split(\" \")\n        reformated_word_list = []\n        final_string = \"\"\n        for word_section in word_list:\n            if word_section[:2] in [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\"]:\n                reformated_word_list.append(word_section[1:])\n            elif word_section == \"00\":\n                reformated_word_list.append(\"\")\n            else:\n                reformated_word_list.append(word_section)\n\n        for item in reformated_word_list:\n            cs = \"{} {}\".format(final_string, item)\n            if cs[-3:] in [\"0 \", \" 0 \"]:\n                cs = cs[:-2]\n            if cs[-2:] in [\"  \"]:\n                cs = cs[:-1]\n\n            final_string = cs\n\n        entry1.delete(0, \"end\")\n        entry1.insert(0, final_string.lstrip())\n\nentry1.bind(\"&lt;Key&gt;\",check_format_of_string)\n\nmaster.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9735389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604f07aaea42ad6465263a4dadf5a00f?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9735389/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526052303, "creation_date": 1525899703, "question_id": 50261986, "link": "https://stackoverflow.com/questions/50261986/tkinter-how-to-stop-a-0-being-typed-first-in-entry-unless-followed-by-a-decimal", "title": "Tkinter how to stop a 0 being typed first in entry unless followed by a decimal point", "body": "<pre><code>from tkinter import *\ndef setup():\n    master = Tk()\n    string_converter_main = StringVar()\n    entry1 = Entry(master, width = \"13\", textvariable = string_converter_main, font = (\"Helvetica\", 23), bg=\"gray13\", fg = \"ghostwhite\", bd=\"10\")\n    entry1.grid(row=1, column=0, columnspan=5, sticky=W+E+S+N)\n\nsetup()\n</code></pre>\n\n<p>This is a bit of my code which i am using for my python tkinter calculator. It is to long to put everything but the problem i am facing is you can type a 0 first in the entry and then put a normal number following it. For example i can type 0 then a 5 and it would say 05 in my entry. How can i make this delete the 0 and replace it unless if it is followed by a decimal point or if there is a number in front of it already. Also how to stop multiple zeroes being typed into entry as well.</p>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1525899691, "post_id": 50261941, "comment_id": 87542081, "body": "You haven&#39;t shown how you call any of these functions."}, {"owner": {"reputation": 192, "user_id": 443704, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f4638766359d1294f1c567ff7ccbef5?s=128&d=identicon&r=PG", "display_name": "cooke", "link": "https://stackoverflow.com/users/443704/cooke"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525900603, "post_id": 50261941, "comment_id": 87542460, "body": "I showed you how I call all of the functions except do_parallel_work, but I don&#39;t see how that is relevant. All the functions are part of a class. Made a small edit because I forget the &quot;self&quot; for the do_work function."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525900811, "post_id": 50261941, "comment_id": 87542543, "body": "No you haven&#39;t. &quot;Call&quot; doesn&#39;t mean &quot;give a name to&quot;, it means &quot;make the code run inside the function&quot;. The code you&#39;ve posted does absolutely nothing. You haven&#39;t called the functions."}, {"owner": {"reputation": 192, "user_id": 443704, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f4638766359d1294f1c567ff7ccbef5?s=128&d=identicon&r=PG", "display_name": "cooke", "link": "https://stackoverflow.com/users/443704/cooke"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525901187, "post_id": 50261941, "comment_id": 87542694, "body": "OK, well you weren&#39;t very clear. How I call a function is not the same as what the function does. I have not show what the do_work function does. I can&#39;t show that exactly but i can provide more detail."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525902116, "post_id": 50261941, "comment_id": 87543008, "body": "I don&#39;t believe I was unclear. &quot;call&quot; a function is the correct terminology; just like you&#39;d call your friends and expect a response. The code inside a function body will not execute unless you call that function. It can be evaluated in terms of being syntactically correct, but it doesn&#39;t actually <i>do</i> something to your data until it&#39;s called."}, {"owner": {"reputation": 192, "user_id": 443704, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f4638766359d1294f1c567ff7ccbef5?s=128&d=identicon&r=PG", "display_name": "cooke", "link": "https://stackoverflow.com/users/443704/cooke"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525918621, "post_id": 50261941, "comment_id": 87547056, "body": "OK, its not clear to me what you need if anything to help. So if you do intend on helping let me know if I can provide any more info."}], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 443704, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f4638766359d1294f1c567ff7ccbef5?s=128&d=identicon&r=PG", "display_name": "cooke", "link": "https://stackoverflow.com/users/443704/cooke"}, "is_accepted": true, "score": 0, "last_activity_date": 1554212812, "creation_date": 1554212812, "answer_id": 55476421, "question_id": 50261941, "link": "https://stackoverflow.com/questions/50261941/python-multiprocessing-runs-serial-with-certain-parameters/55476421#55476421", "title": "python multiprocessing runs serial with certain parameters", "body": "<p>My issue was that I was doing this in a class and not all the functions were static. So it was copying the full class for each thread and I did not want this to happen. I believe just one sub function was not static which was forcing the entire class to get copied.</p>\n"}], "owner": {"reputation": 192, "user_id": 443704, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f4638766359d1294f1c567ff7ccbef5?s=128&d=identicon&r=PG", "display_name": "cooke", "link": "https://stackoverflow.com/users/443704/cooke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 55476421, "answer_count": 1, "score": 0, "last_activity_date": 1554212812, "creation_date": 1525899478, "last_edit_date": 1525901542, "question_id": 50261941, "link": "https://stackoverflow.com/questions/50261941/python-multiprocessing-runs-serial-with-certain-parameters", "title": "python multiprocessing runs serial with certain parameters", "body": "<p>I am trying run a set of code in parallel and it seems to work in some cases but not others. The code below runs in parallel with saved_models[item] is None or not present but runs very slow and in serially when it has data.</p>\n\n<p>Any thoughts? The saved_model object is not that big and its different for every single run.\n    from statsmodels.tsa.arima_model import ARIMA\n    def do_parallel_work(self):\n        with mp.Pool(processes=self.max_workers) as pool:\n            job_args = [(item\n                         , target_col\n                         , saved_models[item] if saved_models is not None and item in saved_models else None\n                         ) for item in items]\n            results = pool.map(self.do_work_helper, job_args)</p>\n\n<pre><code>        for result in results:\n            if result[1] is not None:\n                results_dict[result[0]] = result[1]\n\ndef do_work_helper(self, args):\n    return self.do_work(*args)\n\ndef do_work(self, item, target_cols, saved_model):\n    # can't show exactly what this but essentially it does something to the affect of:\n    my_model = ARIMA()\n    # if saved_model is None\n    fit_model = my_model.fit(trend='nc', maxiter=1000, disp=0)\n    # else\n    my_model.predict()\n    return item, stuff\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 7362723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf7a03ac73c8d87316ab3a0fde7451?s=128&d=identicon&r=PG&f=1", "display_name": "JonasUJ", "link": "https://stackoverflow.com/users/7362723/jonasuj"}, "edited": false, "score": 0, "creation_date": 1525949594, "post_id": 50263320, "comment_id": 87559561, "body": "Thanks so much, this finally worked. Turns out i was also using the wrong password, but what i was doing didn&#39;t work with the correct one either."}], "tags": [], "owner": {"reputation": 7231, "user_id": 4915798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb8af3ae95300addb5dfa2e6cb5940c3?s=128&d=identicon&r=PG&f=1", "display_name": "afonso", "link": "https://stackoverflow.com/users/4915798/afonso"}, "is_accepted": true, "score": 2, "last_activity_date": 1525907639, "creation_date": 1525907639, "answer_id": 50263320, "question_id": 50261869, "link": "https://stackoverflow.com/questions/50261869/python-requests-422-error-on-post/50263320#50263320", "title": "Python requests 422 error on post", "body": "<p>That's because the form <code>action</code> is different from the login page.</p>\n\n<p>This is how you can do it using <code>requests</code> and <code>BeautifulSoup</code>:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = \"https://github.com/login\"\nuser = \"&lt;username&gt;\"\npwd = \"&lt;password&gt;\"\n\nwith requests.Session() as s:\n\n    r = s.get(url)\n    soup = BeautifulSoup(r.content, \"lxml\")\n\n    hidden = soup.find_all(\"input\", {'type':'hidden'})\n    target = \"https://github.com\" + soup.find(\"form\")['action']\n    payload = {x[\"name\"]: x[\"value\"] for x in hidden}\n\n    #add login creds to the dict\n    payload['login'] = user\n    payload['password'] = pwd\n\n    r = s.post(target, data=payload)\n    print(r)\n</code></pre>\n"}], "owner": {"reputation": 108, "user_id": 7362723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf7a03ac73c8d87316ab3a0fde7451?s=128&d=identicon&r=PG&f=1", "display_name": "JonasUJ", "link": "https://stackoverflow.com/users/7362723/jonasuj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 50263320, "answer_count": 1, "score": 3, "last_activity_date": 1525907639, "creation_date": 1525899157, "question_id": 50261869, "link": "https://stackoverflow.com/questions/50261869/python-requests-422-error-on-post", "title": "Python requests 422 error on post", "body": "<p>I've been trying to scrape a website like GitHub that requires login authentication, but unlike Github, it does not have and an API. I've followed <a href=\"https://brennan.io/2016/03/02/logging-in-with-requests/\" rel=\"nofollow noreferrer\">these</a> instructions and many others, but nothing seems to work and just returns a 422 error. </p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>from lxml import html\n\nurl = \"https://github.com/login\"\nuser = \"my email\"\npas = \"associated password\"\n\nsess = requests.Session()\nr = sess.get(url)\n\nrhtml = html.fromstring(r.text)\n\n#get all hidden input fields and make a dict of them\nhidden = rhtml.xpath(r'//form//input[@type=\"hidden\"]')\nform = {x.attrib[\"name\"]: x.attrib[\"value\"] for x in hidden}\n\n#add login creds to the dict\nform['login'] = user\nform['password'] = pas\n\n#post\nres = sess.post(url, data=form)\n\nprint(res)\n# &lt;Response [422]&gt;\n</code></pre>\n\n\n\n<p>I've also tried just <code>sess.post(url, data={'login':user, 'password':pas})</code> with the same result. <code>get</code>ing the cookies first and using them in the post doesn't seem to work either.</p>\n\n<p>How can i get my login page, preferably without using Selenium? </p>\n"}, {"tags": ["python", "mysql", "pymysql"], "comments": [{"owner": {"reputation": 1583, "user_id": 3971621, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/749bcf567169040ef741ed8e3756b3e8?s=128&d=identicon&r=PG&f=1", "display_name": "Merlin1896", "link": "https://stackoverflow.com/users/3971621/merlin1896"}, "edited": false, "score": 0, "creation_date": 1525899363, "post_id": 50261847, "comment_id": 87541941, "body": "Have you tried this: <a href=\"https://stackoverflow.com/questions/6885164/pymysql-cant-connect-to-mysql-on-localhost\" title=\"pymysql cant connect to mysql on localhost\">stackoverflow.com/questions/6885164/&hellip;</a>"}, {"owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "reply_to_user": {"reputation": 1583, "user_id": 3971621, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/749bcf567169040ef741ed8e3756b3e8?s=128&d=identicon&r=PG&f=1", "display_name": "Merlin1896", "link": "https://stackoverflow.com/users/3971621/merlin1896"}, "edited": false, "score": 0, "creation_date": 1525899541, "post_id": 50261847, "comment_id": 87542013, "body": "OMG, switching to 127.0.0.1 from localhost fixes."}], "owner": {"reputation": 687, "user_id": 5120817, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/00a69b2e66d22b52bfbf7324b400a7b3?s=128&d=identicon&r=PG", "display_name": "lpt", "link": "https://stackoverflow.com/users/5120817/lpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525899594, "creation_date": 1525899085, "last_edit_date": 1525899594, "question_id": 50261847, "link": "https://stackoverflow.com/questions/50261847/error-on-connecting-mysql-hosted-locally", "title": "error on connecting mysql hosted locally", "body": "<p>I restored mysql dump and can be accessed in my terminal (I need to issue <code>sudo mysql</code> to access this db or even to start mysql) :</p>\n\n<p><a href=\"https://i.stack.imgur.com/8kHuC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8kHuC.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know this is privilege issue. But when I call mysql in python program, I get this error:</p>\n\n<pre><code>   OperationalError: (1045, \"Access denied for user 'root'@'localhost' (using password: NO)\")\n</code></pre>\n\n<p>I tried both ways supplying password and keeping it blank. </p>\n\n<p>Here is the screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/19zla.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/19zla.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>replace '<code>localhost</code>' by <code>127.0.0.1</code></p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "edited": false, "score": 0, "creation_date": 1525899272, "post_id": 50261835, "comment_id": 87541890, "body": "The section of the documentation on data structures will have your answer (don&#39;t worry, it&#39;s short, clear, and has clear examples): <a href=\"https://docs.python.org/3.6/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">docs.python.org/3.6/tutorial/datastructures.html</a>"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1525899382, "post_id": 50261835, "comment_id": 87541948, "body": "look up lists, pop(), slicing syntax and insert() - a combination of any of these will bring you there."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1525899428, "post_id": 50261835, "comment_id": 87541964, "body": "Are you familiar with the concept of a stack?  Python lists act as stacks, so you can <code>pop</code> elements off the top of each deck, then use <code>insert(0, card)</code> to put the card at the bottom of the winning deck."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6150880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68871d4cad814a034372fbd0ee7962e0?s=128&d=identicon&r=PG&f=1", "display_name": "oldchemist", "link": "https://stackoverflow.com/users/6150880/oldchemist"}, "is_accepted": false, "score": 0, "last_activity_date": 1525899921, "creation_date": 1525899921, "answer_id": 50262040, "question_id": 50261835, "link": "https://stackoverflow.com/questions/50261835/remove-an-item-from-one-list-and-store-it-into-the-end-of-another-list/50262040#50262040", "title": "remove an item from one list and store it into the end of another list", "body": "<pre><code>if float(computer_deck[0].weight) &gt; float(user_deck[0].weight):\n    print(\"Computer wins.\")\n    computer_deck.append(user_deck.pop(0))\nelse:\n    print(\"You win.\")\n    user_deck.append(computer_deck.pop(0))\n</code></pre>\n\n<p>Are you also aware that the user wins ties? I'm not sure that's what you intended based on reading your question.</p>\n"}], "owner": {"reputation": 11, "user_id": 8870577, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2QEvMsG04x4/AAAAAAAAAAI/AAAAAAAABPo/VpH6Q5a3fqA/photo.jpg?sz=128", "display_name": "Mateusz Kuzniewski", "link": "https://stackoverflow.com/users/8870577/mateusz-kuzniewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577885507, "creation_date": 1525899033, "last_edit_date": 1577885507, "question_id": 50261835, "link": "https://stackoverflow.com/questions/50261835/remove-an-item-from-one-list-and-store-it-into-the-end-of-another-list", "title": "remove an item from one list and store it into the end of another list", "body": "<p>I am making a simple card game in python in which players compare a stat of a card, the card with the higher stat value wins the round and the loser gives them that card, removing it from their deck and putting it into the end of the winners deck.</p>\n\n<p>Here is my code for the game which includes a round of gameplay:</p>\n\n<pre><code>import random\n   class Ram():\n        def __init__(self, name, weight, milk, wool, offs, thigh, fert, meat, fat):\n           self.name = name\n           self.weight = weight\n           self.milk = milk\n           self.wool = wool\n           self.offs = offs\n           self.thigh = thigh\n           self.fert = fert\n           self.meat = meat\n           self.fat = fat\n\n       def __repr__(self):\n           return f\"{self.name,self.weight,self.milk,self.wool,self.offs,self.thigh,self.fert,self.meat,self.fat}\"\n\n\ndef Read(txtfile):\n    datalist=[]\n    f = open(txtfile, \"r\", encoding=\"utf-8\")\n    for line in f:\n        datalist.append(line.split(','))\n    f.close()\n    cardlist = []\n    for i in datalist:\n        cardlist.append(Ram(i[0], i[1], i[2], i[3], i[4], i[5], i[6], i[7]))\n    return cardlist\n\ndef RandomChoice():\n   l=[\"User\",\"Computer\"]\n   return random.choice(l)\n\n cardlist=Read(\"hrutaspil.txt\")\n\n random.shuffle(cardlist)\n split = len(cardlist) // 2\n\nuser_deck = cardlist[:split]\ncomputer_deck = cardlist[split:]\n\n\ngame=input(\"Do you want to play?(y/n)\")\nif game == \"y\":\n    if RandomChoice() == \"User\":\n       print(\"The user chooses first\")\n       print(\"Your top card is:\",user_deck[0].name)\n       print(\"1 = weight =\",user_deck[0].weight)\n       print(\"2 = milk =\", user_deck[0].milk)\n       print(\"3 = wool =\", user_deck[0].wool)\n       print(\"4 = offs =\", user_deck[0].offs)\n       print(\"5 = thigh =\", user_deck[0].thigh)\n       print(\"6 = fert =\", user_deck[0].fert)\n       print(\"7 = meat =\", user_deck[0].meat)\n       print(\"8 = fat =\", user_deck[0].fat)\n       choice=input(\"Choose stat: \")\n       if choice == (\"1\"):\n          print(\"Weight is:\",float(user_deck[0].weight))\n          print(\"compared with computer:\",float(computer_deck[0].weight))\n          if float(computer_deck[0].weight) &gt; float(user_deck[0].weight):\n             print(\"Computer wins.\")\n          else:\n             print(\"You win.\")\n</code></pre>\n\n<p>Now, how do I remove a card from the losers deck and add it to the bottom of the winners deck?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2051, "user_id": 6883295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Opjo7.jpg?s=128&g=1", "display_name": "cfort", "link": "https://stackoverflow.com/users/6883295/cfort"}, "edited": false, "score": 0, "creation_date": 1525904610, "post_id": 50261942, "comment_id": 87543842, "body": "Thanks for looking at that so closely. The expected output is correct. My description is poor. I want to match on the borehole and then find the <code>lith</code> that has <code>depthTop</code> &lt;= <code>depthTest</code>."}, {"owner": {"reputation": 2051, "user_id": 6883295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Opjo7.jpg?s=128&g=1", "display_name": "cfort", "link": "https://stackoverflow.com/users/6883295/cfort"}, "edited": false, "score": 0, "creation_date": 1525904693, "post_id": 50261942, "comment_id": 87543866, "body": "In B-42 there is clay from a depth of 1 m to 26 m. The test in B-42 at 15.0 m should be classified as clay because 15 is between 1 and 26."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 2051, "user_id": 6883295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Opjo7.jpg?s=128&g=1", "display_name": "cfort", "link": "https://stackoverflow.com/users/6883295/cfort"}, "edited": false, "score": 1, "creation_date": 1525906446, "post_id": 50261942, "comment_id": 87544389, "body": "Then why is <code>7     B-09       10.0  shale</code> if there should be <code>sand</code> from 0 to 12? @ChuHo"}, {"owner": {"reputation": 2051, "user_id": 6883295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Opjo7.jpg?s=128&g=1", "display_name": "cfort", "link": "https://stackoverflow.com/users/6883295/cfort"}, "edited": false, "score": 0, "creation_date": 1525907967, "post_id": 50261942, "comment_id": 87544749, "body": "You&#39;re right! I screwed that one up. Edit forthcoming."}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1525908377, "last_edit_date": 1525908377, "creation_date": 1525899479, "answer_id": 50261942, "question_id": 50261807, "link": "https://stackoverflow.com/questions/50261807/find-range-that-point-falls-into/50261942#50261942", "title": "Find range that point falls into?", "body": "<p>Find the closest value on <code>df2</code> and categorize:</p>\n\n<pre><code>def logic(k):\n    vals = df2.loc[df2.borehole == k.borehole,:]\n    return vals[vals.depthTop == max(vals[vals.depthTop &lt;= k.depthTest].depthTop)].lith.item()\n\ndf.transform(logic, 1)\n\n\n0     sand\n1    shale\n2     clay\n3     clay\n4     clay\n5    shale\n6     sand\n7     sand\n8    shale\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1525900420, "last_edit_date": 1525900420, "creation_date": 1525899918, "answer_id": 50262039, "question_id": 50261807, "link": "https://stackoverflow.com/questions/50261807/find-range-that-point-falls-into/50262039#50262039", "title": "Find range that point falls into?", "body": "<p>Let's try this:</p>\n\n<pre><code>tests['lith'] = tests.groupby('borehole')['depthTest'].transform(lambda x: pd.cut(x,\n       bins = liths.loc[liths.borehole == x.name,'depthTop'].values.tolist() + [np.inf],\n       labels=liths.loc[liths.borehole == x.name,'lith'], right=False))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  borehole  depthTest   lith\n0      B-1        1.5   sand\n1      B-1       20.0  shale\n2     B-42        1.0   clay\n3     B-42        2.0   clay\n4     B-42       15.0   clay\n5     B-42       30.0  shale\n6     B-09        1.0   sand\n7     B-09       10.0   sand\n8     B-09       15.0  shale\n</code></pre>\n\n<p>Let's use <code>pd.cut</code> to label values in a range.<br>\nAnd by using groupby to get the appropriate <code>bins</code> and <code>labels</code> for <code>pd.cut</code> from liths dataframe by borehole.</p>\n"}], "owner": {"reputation": 2051, "user_id": 6883295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Opjo7.jpg?s=128&g=1", "display_name": "cfort", "link": "https://stackoverflow.com/users/6883295/cfort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 50262039, "answer_count": 2, "score": 0, "last_activity_date": 1525908377, "creation_date": 1525898920, "last_edit_date": 1525908091, "question_id": 50261807, "link": "https://stackoverflow.com/questions/50261807/find-range-that-point-falls-into", "title": "Find range that point falls into?", "body": "<p>Consider the dataframe, <code>tests</code>, of individual tests in some boreholes:</p>\n\n<pre><code>  borehole  depthTest\n0      B-1        1.5\n1      B-1       20.0\n2     B-42        1.0\n3     B-42        2.0\n4     B-42       15.0\n5     B-42       30.0\n6     B-09        1.0\n7     B-09       10.0\n8     B-09       15.0\n</code></pre>\n\n<p>I have another dataframe, <code>liths</code>, with ranges of lithologies of each borehole:</p>\n\n<pre><code>  borehole  depthTop   lith\n0      B-1         0   sand\n1      B-1         5   clay\n2      B-1        18  shale\n3     B-42         0   sand\n4     B-42         1   clay\n5     B-42        26  shale\n6     B-09         0   sand\n7     B-09        12  shale\n</code></pre>\n\n<p>The lithologies are a continuous sequence for each borehole. For example: in B-1 there is sand from a depth of 0 to 5 m, clay from 5 to 18 m, and shale from 18 m onwards. The bottom of each lithology is the top of the next. In other words, the bottom of each lithology would be <code>liths.groupby('borehole').depthTop.shift(-1)</code></p>\n\n<p><strong>Edit:</strong> I want to join the two dfs so I can get the lithology of each test: I want to match on the <code>borehole</code> and then find the <code>lith</code> that has the closest <code>depthTop</code> &lt;= <code>depthTest</code>.</p>\n\n<p>For example: In B-42 there is clay from a depth of 1 m to 26 m. The test in B-42 at 15.0 m should be classified as clay because 15 is between 1 and 26.</p>\n\n<p>Here's the desired result:</p>\n\n<pre><code>  borehole  depthTest   lith\n0      B-1        1.5   sand\n1      B-1       20.0  shale\n2     B-42        1.0   clay\n3     B-42        2.0   clay\n4     B-42       15.0   clay\n5     B-42       30.0  shale\n6     B-09        1.0   sand\n7     B-09       10.0   sand\n8     B-09       15.0  shale\n</code></pre>\n\n<p>This seems like a <code>groupby</code> and <code>merge_asof</code> problem, but I can't figure out how to get them together.</p>\n\n<p>My solution so far, which works, is to dump this into <code>sqlite3</code> and then do a <code>between</code> join (like I did <a href=\"https://stackoverflow.com/questions/30627968/merge-pandas-dataframes-where-one-value-is-between-two-others/42796283#42796283\">here</a>), but that really seems like defeat.</p>\n"}, {"tags": ["python", "html", "django", "django-templates"], "comments": [{"owner": {"reputation": 1206, "user_id": 9504370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carl Brubaker", "link": "https://stackoverflow.com/users/9504370/carl-brubaker"}, "edited": false, "score": 0, "creation_date": 1525913896, "post_id": 50261760, "comment_id": 87546048, "body": "If you don\u2019t want the <code>clear filters</code> to display at all delete your code at the bottom of the form. If it is supposed to display sometimes, your <code>if</code> statement looks wrong"}], "answers": [{"tags": [], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "is_accepted": false, "score": 0, "last_activity_date": 1526317506, "creation_date": 1526317506, "answer_id": 50335562, "question_id": 50261760, "link": "https://stackoverflow.com/questions/50261760/submitting-two-forms-at-once-in-django/50335562#50335562", "title": "Submitting two forms at once in Django", "body": "<p>I managed to include the hidden <code>filter_form</code> correctly (with multiple choice fields correctly represented) by using the field's <a href=\"https://github.com/django/django/blob/5e06fa1469180909c51c07151692412269e51ea3/django/forms/forms.py#L582\" rel=\"nofollow noreferrer\"><code>as_hidden</code></a> property. So the <code>_search.html</code> template becomes</p>\n\n<pre><code>&lt;form action=\"{% url action %}\" method=\"get\" class=\"left search col s6 hide-on-small-and-down\" novalidate&gt;\n  &lt;div class=\"input-field\"&gt;\n    &lt;input id=\"search\" placeholder=\"{{ placeholder }}\"\n        autocomplete=\"off\" type=\"search\" name=\"q\"\n        value=\"{{ search_form.q.value.strip|default:'' }}\"\n        data-query=\"{{ search_form.q.value.strip|default:'' }}\"&gt;\n    &lt;label for=\"search\" class=\"active\"&gt;&lt;i class=\"material-icons search-icon\"&gt;search&lt;/i&gt;&lt;/label&gt;\n    &lt;i data-behavior=\"search-clear\"\n        class=\"material-icons search-icon\"\n        {% if not search_form.q.value %}style=\"display: none;\"{% endif %}&gt;close&lt;/i&gt;\n  &lt;/div&gt;\n  {% for field in filter_form %}\n    {{ field.as_hidden }}\n  {% endfor %}\n&lt;/form&gt;\n</code></pre>\n\n<p>Similarly, the filter form contains</p>\n\n<pre><code>{{ search_form.q.as_hidden }}\n</code></pre>\n\n<p>to persist search queries.</p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526317506, "creation_date": 1525898728, "question_id": 50261760, "link": "https://stackoverflow.com/questions/50261760/submitting-two-forms-at-once-in-django", "title": "Submitting two forms at once in Django", "body": "<p>I'm working on a <code>ListView</code> which includes two forms, a search form and a filter form. Both of the forms ultimately change the view's <code>queryset</code> through its <code>get_queryset</code> method. I would like to make it such that when you search for something, the filters are persisted, and vice versa.</p>\n\n<p>It is more-or-less working, but there is still one bug: whenever I search for something, a 'CLEAR FILTERS' button appears which should not be there:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hGMec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hGMec.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the template, the search form is included like so:</p>\n\n<pre><code>{% block search_form %}\n  {% with action='dashboard:families' placeholder='Search Families' %}\n    {% include '_search.html' %}\n  {% endwith %}\n{% endblock %}\n</code></pre>\n\n<p>where <code>_search.html</code> is</p>\n\n<pre><code>{% load get %}\n\n&lt;form action=\"{% url action %}\" method=\"get\" class=\"left search col s6 hide-on-small-and-down\" novalidate&gt;\n  &lt;div class=\"input-field\"&gt;\n    &lt;input id=\"search\" placeholder=\"{{ placeholder }}\"\n        autocomplete=\"off\" type=\"search\" name=\"q\"\n        value=\"{{ search_form.q.value.strip|default:'' }}\"\n        data-query=\"{{ search_form.q.value.strip|default:'' }}\"&gt;\n    &lt;label for=\"search\" class=\"active\"&gt;&lt;i class=\"material-icons search-icon\"&gt;search&lt;/i&gt;&lt;/label&gt;\n    &lt;i data-behavior=\"search-clear\"\n        class=\"material-icons search-icon\"\n        {% if not search_form.q.value %}style=\"display: none;\"{% endif %}&gt;close&lt;/i&gt;\n  &lt;/div&gt;\n  {% if filter_form %}\n    {% for field in filter_form %}\n      &lt;input type=\"hidden\" name=\"{{ field.name }}\" value=\"{{ request.GET|get:field.name }}\"/&gt;\n    {% endfor %}\n  {% endif %}\n&lt;/form&gt;\n</code></pre>\n\n<p>and the custom filter <code>get</code> simply implements the <code>dict.get</code> method:</p>\n\n<pre><code>from django import template\n\nregister = template.Library()\n\n\n@register.filter\ndef get(dictionary, key):\n    return dictionary.get(key)\n</code></pre>\n\n<p>In short, the search form includes a hidden <code>filter_form</code> which gets submitted with the search query.</p>\n\n<p>The part of the template which contains the filter form reads as follows:</p>\n\n<pre><code>          &lt;form action={% url 'dashboard:families' %} method=\"GET\" data-behavior=\"filters\"&gt;\n            &lt;input type=\"hidden\" name=\"q\" value=\"{{ request.GET.q.strip }}\"/&gt;\n\n            &lt;div class=\"input-field col s2\"&gt;\n              {{ filter_form.guide }}\n              &lt;label class=\"active\"&gt;Guide&lt;/label&gt;\n              {% if filter_form.is_guide_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s2\"&gt;\n              {{ filter_form.status }}\n              &lt;label class=\"active\"&gt;Status&lt;/label&gt;\n              {% if filter_form.is_status_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s2\"&gt;\n              {{ filter_form.package }}\n              &lt;label class=\"active\"&gt;Company / Package&lt;/label&gt;\n              {% if filter_form.is_package_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s2\"&gt;\n              {{ filter_form.next_outreach }}\n              &lt;label&gt;Outreach&lt;/label&gt;\n              {% if filter_form.is_next_outreach_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s2\"&gt;\n              {{ filter_form.country }}\n              &lt;label class=\"active\"&gt;Country&lt;/label&gt;\n              {% if filter_form.is_country_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s1\"&gt;\n              {{ filter_form.vip }}\n              &lt;label&gt;VIP&lt;/label&gt;\n              {% if filter_form.is_vip_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;div class=\"input-field col s1\"&gt;\n              {{ filter_form.app }}\n              &lt;label&gt;App&lt;/label&gt;\n              {% if filter_form.is_app_filled %}\n                &lt;a href=\"\" class=\"clear\"&gt;&lt;i class=\"material-icons tiny\"&gt;clear&lt;/i&gt;&lt;/a&gt;\n              {% endif %}\n            &lt;/div&gt;\n\n            &lt;a href=\"{% url 'dashboard:families' %}?q={{ request.GET.q.strip }}\"\n                data-behavior=\"clear-filters\"\n                class=\"btn-flat\" {% if not filter_form.is_filled %}style=\"display: none;\"{% endif %}&gt;\n              &lt;i class=\"material-icons\"&gt;close&lt;/i&gt;Clear Filters\n            &lt;/a&gt;\n          &lt;/form&gt;\n</code></pre>\n\n<p>Note that the filter form also contains a hidden field named <code>q</code> with the search query. Since this is a <code>CharField</code>, it makes sense to set the <code>value</code> as <code>request.GET.q.strip</code>.</p>\n\n<p>The problem is that if I drop into the debugger in the <code>FamilyFilterForm</code>, I see that that the form's data is a 'stringified' version of what I'd expect it to be:</p>\n\n<pre><code>ipdb&gt; self.data\n&lt;QueryDict: {'q': ['Christine'], 'status': ['None'], 'next_outreach': [''], 'country': ['None'], 'vip': [''], 'app': [''], 'guide': ['6'], 'package': ['None']}&gt;\n</code></pre>\n\n<p>Note how a <code>None</code> value has been converted into the string <code>'None'</code>. This causes the <code>is_filled</code> property of the filter form to 'think' that a value has been filled out, whereas actually there hasn't. </p>\n\n<p>Instead, I would like to have the form's data be equivalent to</p>\n\n<pre><code>ipdb&gt; from django.http import QueryDict\nipdb&gt; query_dict = QueryDict('q=Christine&amp;guide=6')\nipdb&gt; query_dict.dict()\n{'q': 'Christine', 'guide': '6'}\n</code></pre>\n\n<p>and in particular, if no filters are applied, it should be just an empty <code>QueryDict()</code> or <code>{}</code>.</p>\n\n<p>How can I avoid the <code>request.GET</code> values from getting 'stringified' when passed as a <code>value</code> in a template in this fashion?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525899332, "post_id": 50261759, "comment_id": 87541927, "body": "It appears that <code>temp</code> is a dict whose values are lists and you want all combinations of each of those list items. So, <code>{&#39;foo&#39;:[1,2], &#39;bar&#39;:[3,4]}</code> would give 4 results. Did I get that right?"}, {"owner": {"reputation": 1320, "user_id": 6145945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tcVF8.jpg?s=128&g=1", "display_name": "SuperCiocia", "link": "https://stackoverflow.com/users/6145945/superciocia"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525899369, "post_id": 50261759, "comment_id": 87541944, "body": "Yes that it exactly it"}], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525901350, "post_id": 50262102, "comment_id": 87542760, "body": "I don&#39;t think that <code>dict</code> guarantees that keys will list in the same order of values. And if some <code>temp</code> value lists have different sizes, the zip won&#39;t work either."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525901995, "post_id": 50262102, "comment_id": 87542963, "body": "@tdelaney <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.items\" rel=\"nofollow noreferrer\">it does guarantee that</a>, and the zip works fine in that case since the length of my <code>values</code> variable doesn&#39;t depend on the length of those values lists."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": true, "score": 1, "last_activity_date": 1525900201, "creation_date": 1525900201, "answer_id": 50262102, "question_id": 50261759, "link": "https://stackoverflow.com/questions/50261759/python-automation-of-for-loop-to-cover-arbitrary-number-of-keys-in-dict/50262102#50262102", "title": "python - automation of for loop to cover arbitrary number of keys in dict", "body": "<p>Here's the general idea you can use:</p>\n\n<pre><code>from itertools import product\n\ntemp = {'integration': [1, 2], 'upper': [3, 4], 'other': [5, 6]}\nkeys = list(temp.keys())\ndata = {}\nfor values in product(*temp.values()):\n    data.update(zip(keys, values))\n    print(data)\n</code></pre>\n\n<p>(because of the separate accesses to keys and values, this is not thread safe on <code>temp</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901500, "creation_date": 1525901500, "answer_id": 50262381, "question_id": 50261759, "link": "https://stackoverflow.com/questions/50261759/python-automation-of-for-loop-to-cover-arbitrary-number-of-keys-in-dict/50262381#50262381", "title": "python - automation of for loop to cover arbitrary number of keys in dict", "body": "<p><code>itertools.product</code> gives you the combinations that you want. The problem is that you need to rebuild dictionaries from its result. In this example, I expanded <code>temp</code> into <code>(key, value)</code> tuples which can be used to update the <code>data</code> dictionary. I copy <code>data</code> so that I don't have to worry about stale data on each loop.</p>\n\n<p>I made this a runnable python 2 script with extra prints to show the intermediate steps.</p>\n\n<pre><code>import numpy as np\nimport itertools\n\ndef f(data, t):\n    x = data['focus']*data['integration']*data['upper']\n    return t*x\n\ndef Trial(t, temp, data):\n\n    calcdata = {}\n\n    # make list of (key:value) pairs for each value list\n    temp_vector = [[(key, value) for value in valuelist]\n        for key,valuelist in temp.iteritems()]\n    print \"temp_vector\"\n    for item in temp_vector:\n        print item\n    print \"-------------------------------\"\n\n    # run for all combinations\n    for counter, subs in enumerate(itertools.product(*temp_vector)):\n        mydata = data.copy()\n        mydata.update(subs)\n        print \"dict for calcuation:\", mydata\n        x_axis, y_axis = np.vstack((t,np.vectorize(f)(mydata,t)))\n        mydata['xaxis'] = x_axis\n        mydata['yaxis'] = y_axis\n        calcdata[counter] = mydata \n\n    print \"--------------------------------\"\n    return calcdata\n\n#data['focus'] = 100\ndata = {'focus':100}\nt = np.linspace(1,10,10)\ntemp = {'integration': [1,2], 'upper':  [3,4], 'other':  [5,6]}\n\ncalcdata = Trial(t, temp, data)\n\nfor item in sorted(calcdata.items()):\n    print(item)\n</code></pre>\n"}], "owner": {"reputation": 1320, "user_id": 6145945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tcVF8.jpg?s=128&g=1", "display_name": "SuperCiocia", "link": "https://stackoverflow.com/users/6145945/superciocia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50262102, "answer_count": 2, "score": 0, "last_activity_date": 1525901500, "creation_date": 1525898724, "question_id": 50261759, "link": "https://stackoverflow.com/questions/50261759/python-automation-of-for-loop-to-cover-arbitrary-number-of-keys-in-dict", "title": "python - automation of for loop to cover arbitrary number of keys in dict", "body": "<p>So I need to look at the some function <code>f</code>, which depends on a variety of parameters, summarised in a <code>dict</code> that I called <code>data</code>.</p>\n\n<p>Some paramters in <code>data</code> are fixed, like <code>data['focus']</code>, while others I would like to change.</p>\n\n<p>I write in <code>temp</code>, another <code>dict</code>, the parameters that I want to change. My function <code>Trial</code> then takes all combinations of the varying parameters and calculates <code>f</code> each time, saving its result and the parameters into a <code>dict</code> of <code>dicts</code> <code>calcdata</code>, where each computation is saved in <code>calcdata[counter]</code>.</p>\n\n<p>I have provided a minimal working example below.\nThis works and I can already use it (I have simplified the function <code>f</code> though). <br>\nAs you can see, though, I am limited to sets of 3 parameters.</p>\n\n<hr>\n\n<p>Is there a way I can make it such that this can accept an arbitrary number of <code>keys</code> in <code>temp</code>? <br> Basically I would like some sort of automation such that I don't have to write <code>value0</code> and <code>keys[0]</code>. <br> So ideally it would read off how many <code>keys</code> there are, and performs as many <code>for</code> loops required to cover them all.</p>\n\n<pre><code>import numpy as np\n\ndef f(data, t):\n    x = data['focus']*data['integration']*data['upper']\n    return t*x\n\ndef Trial(t, temp, data):\n\n    calcdata = {}\n    counter = 0\n\n    keys = temp.keys()\n\n    for value0 in temp[keys[0]]:\n        for value1 in temp[keys[1]]:\n            for value2 in temp[keys[2]]:\n                data[keys[0]] = value0\n                data[keys[1]] = value1\n                data[keys[2]] = value2\n                x_axis, y_axis = np.vstack((t,np.vectorize(f)(data,t)))\n                calcdata[counter] = {}\n                calcdata[counter]['xaxis'] = x_axis\n                calcdata[counter]['yaxis'] = y_axis            \n                calcdata[counter][keys[0]] = value0  \n                calcdata[counter][keys[1]] = value1\n                calcdata[counter][keys[2]] = value2\n                counter+=1\n\n    return calcdata\n\ndata['focus'] = 100\nt = np.linspace(1,10,10)\ntemp = {'integration': [1,2], 'upper':  [3,4], 'other':  [5,6]}\n\ncalcdata = Trial(t, temp, data)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1525898904, "post_id": 50261684, "comment_id": 87541705, "body": "Maybe try this one ?<a href=\"https://stackoverflow.com/questions/48338381/transposing-a-column-in-a-pandas-dataframe-while-keeping-other-column-intact-wit\" title=\"transposing a column in a pandas dataframe while keeping other column intact wit\">stackoverflow.com/questions/48338381/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1525899031, "creation_date": 1525899031, "answer_id": 50261834, "question_id": 50261684, "link": "https://stackoverflow.com/questions/50261684/add-a-new-column-for-each-duplicate-variable/50261834#50261834", "title": "Add a new column for each duplicate variable", "body": "<pre><code>In [30]: (df.assign(col=df.groupby('ID').cumcount())\n            .pivot_table(index='ID', columns='col', values='X', fill_value=0)\n            .add_prefix('X_')\n            .reset_index()\n            .rename_axis(None,1))\nOut[30]:\n      ID  X_0  X_1  X_2\n0    125    2    1    0\n1    130    2    1    3\n</code></pre>\n"}], "owner": {"reputation": 864, "user_id": 8627559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a5ba760dc2b2ec8cabee703ad415414?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Dresl", "link": "https://stackoverflow.com/users/8627559/lucas-dresl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 50261834, "answer_count": 1, "score": 0, "last_activity_date": 1525899031, "creation_date": 1525898454, "question_id": 50261684, "link": "https://stackoverflow.com/questions/50261684/add-a-new-column-for-each-duplicate-variable", "title": "Add a new column for each duplicate variable", "body": "<p>I am trying to transform the following dataframe </p>\n\n<pre><code>df = pd.DataFrame ({'ID' : [125,125,130,130,130],\n                     'X' : [2,1,2,1,3]})\n\ndf\n\nID     X\n125    2\n125    1\n130    2\n130    1\n130    3\n</code></pre>\n\n<p>With new columns with the following criteria (this df is an example of my hole dataset just to illustrate my problem):\n     Add a new column for each duplicate id containing the value of <code>X</code></p>\n\n<pre><code>df\n\nID     X  X_1  X_2\n125    2   1   NaN\n130    2   1    3\n</code></pre>\n"}, {"tags": ["python", "macos", "numpy", "homebrew"], "comments": [{"owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "edited": false, "score": 0, "creation_date": 1525898867, "post_id": 50261680, "comment_id": 87541681, "body": "What do you mean &quot; it still uses python 2.7&quot;? Is part of your problem that it&#39;s installing numpy for python 2 instead of python 3?"}, {"owner": {"reputation": 55, "user_id": 7095218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d12709861fe016d910d1f77e0a1320?s=128&d=identicon&r=PG&f=1", "display_name": "Richie Singh", "link": "https://stackoverflow.com/users/7095218/richie-singh"}, "reply_to_user": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "edited": false, "score": 0, "creation_date": 1525899633, "post_id": 50261680, "comment_id": 87542064, "body": "I want the default version to be python 3.6 or the latest version, but the default is python 2.7"}], "answers": [{"tags": [], "owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1525911539, "creation_date": 1525911539, "answer_id": 50263774, "question_id": 50261680, "link": "https://stackoverflow.com/questions/50261680/issues-concerning-brew-link-numpy/50263774#50263774", "title": "Issues concerning &#39;brew link numpy&#39;", "body": "<p>If you have 2 different versions of python you should create a virtual environment for each flavor of python.</p>\n\n<p>If python 3.6 was installed using Anaconda, search the Anaconda documentation for creating virtual environment.</p>\n\n<p>If you installed python 3.6 another way, there are unix commands to create virtual environments.</p>\n\n<p>You can create one environment for python 2.7 and another for python 3.6. Activate whichever version you want to run.</p>\n"}], "owner": {"reputation": 55, "user_id": 7095218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d12709861fe016d910d1f77e0a1320?s=128&d=identicon&r=PG&f=1", "display_name": "Richie Singh", "link": "https://stackoverflow.com/users/7095218/richie-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525911539, "creation_date": 1525898446, "last_edit_date": 1525902231, "question_id": 50261680, "link": "https://stackoverflow.com/questions/50261680/issues-concerning-brew-link-numpy", "title": "Issues concerning &#39;brew link numpy&#39;", "body": "<p>Dear Stackoverflow community,</p>\n\n<p>I have a problem with <code>brew link numpy</code>. I have installed the latest python but it still uses python 2.7. With the error logs shown below, with what ever way I did, I'm still stuck here. Furthermore, I have a problem installing opencv functionalities with the current python environment on my mac.</p>\n\n<pre><code>Error: Could not symlink lib/python2.7/site-packages/numpy/LICENSE.txt\nTarget /usr/local/lib/python2.7/site-packages/numpy/LICENSE.txt\nalready exists. You may want to remove it:\nrm '/usr/local/lib/python2.7/site-packages/numpy/LICENSE.txt'\n\nTo force the link and overwrite all conflicting files:\nbrew link --overwrite numpy\n\nTo list all files that would be deleted:\n  brew link --overwrite --dry-run numpy\n</code></pre>\n"}, {"tags": ["python", "numbers"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1525898731, "post_id": 50261666, "comment_id": 87541630, "body": "<code>for number &gt; 0:</code> is invalid syntax, and your <code>if</code> statements aren&#39;t consistent about whether they compare <code>number</code> to a string or an int."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1525898909, "post_id": 50261666, "comment_id": 87541708, "body": "yep, sometimes you are comparing to strings and sometimes to numbers."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1525899306, "post_id": 50261666, "comment_id": 87541910, "body": "Use a dictionary instead of that awfully long <code>if</code>: <code>chr2num = {str(i) if i &lt; 10 else chr(ord(&#39;A&#39;) + i - 10) : i for i in range(16)}</code>. Then simply do this: <code>chr2num[number]</code> to get the &quot;actual&quot; number (in base 10)."}], "answers": [{"comments": [{"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 1, "creation_date": 1525901217, "post_id": 50261968, "comment_id": 87542710, "body": "<code>encode</code>-ing using lists (especially if saved as a constant) is probably even faster than the dictionary idea that I suggested in the comments. +1"}], "tags": [], "owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 4, "last_activity_date": 1525967500, "last_edit_date": 1525967500, "creation_date": 1525899596, "answer_id": 50261968, "question_id": 50261666, "link": "https://stackoverflow.com/questions/50261666/number-system-converter-python/50261968#50261968", "title": "number system converter python", "body": "<p>I would recommend generic <code>encode</code> and <code>dec_to_base</code> functions</p>\n\n<pre><code>ALPHABET = \\\n  \"0123456789abcdefghijklmnopqrstuvwxyz\"\n\ndef encode (n):\n  try:\n    return ALPHABET [n]\n  except IndexError:\n    raise Exception (\"cannot encode: %s\" % n)\n\ndef dec_to_base (dec = 0, base = 16):\n  if dec &lt; base:\n    return encode (dec)\n  else:\n    return dec_to_base (dec // base, base) + encode (dec % base)\n\nprint (dec_to_base (9))\n# 9\n\nprint (dec_to_base (10))\n# a\n\nprint (dec_to_base (255))\n# ff\n\nprint (dec_to_base (256))\n# 100\n</code></pre>\n\n<p>Of course it works with other bases</p>\n\n<pre><code>print (dec_to_base (255, base = 2))\n# 11111111\n\nprint (dec_to_base (256, base = 2))\n# 100000000\n</code></pre>\n\n<p>Reversing an encoding is done by providing the isomorphisms <code>decode</code> and <code>base_to_dec</code></p>\n\n<pre><code>def decode (s):\n  try:\n    return ALPHABET.index(s)\n  except ValueError:\n    raise Exception (\"cannot decode: %s\" % s)\n\ndef base_to_dec (s, base = 16, pow = 0):\n  if s is \"\":\n    return 0\n  else:\n    return decode (s[-1]) * (base ** pow) + base_to_dec (s[0:-1], base, pow + 1)\n\nprint (base_to_dec ('ff'))\n# 255\n\nprint (base_to_dec ('100'))\n# 256\n</code></pre>\n\n<p>And using a different base</p>\n\n<pre><code>print (dec_to_base ('11111111', base = 2))\n# 255\n\nprint (dec_to_base ('100000000', base = 2))\n# 256\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48, "user_id": 8279121, "user_type": "registered", "profile_image": "https://graph.facebook.com/1757388657892527/picture?type=large", "display_name": "Uma Shankar Tewari", "link": "https://stackoverflow.com/users/8279121/uma-shankar-tewari"}, "is_accepted": false, "score": 1, "last_activity_date": 1595325434, "last_edit_date": 1595325434, "creation_date": 1525899834, "answer_id": 50262021, "question_id": 50261666, "link": "https://stackoverflow.com/questions/50261666/number-system-converter-python/50262021#50262021", "title": "number system converter python", "body": "<p>You can try this:</p>\n<pre><code>def hextodec(str_in, base):\n    dec = int(str_in, base)\n    return dec\n\nif __name__ == &quot;__main__&quot;:\n    hex = input()\n    base = int(input()) \n    hextodec(hex, base)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 13963836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6ef3e1dda2d739cbcbee3b7037ea97?s=128&d=identicon&r=PG", "display_name": "Dave Benson", "link": "https://stackoverflow.com/users/13963836/dave-benson"}, "is_accepted": false, "score": 0, "last_activity_date": 1595409101, "last_edit_date": 1595409101, "creation_date": 1595253743, "answer_id": 62997112, "question_id": 50261666, "link": "https://stackoverflow.com/questions/50261666/number-system-converter-python/62997112#62997112", "title": "number system converter python", "body": "<p>I wrote a function to translate from any base to any base. It might be some slow, but it works.</p>\n<pre><code>import math\ndef convert(number, number_base, output_base):\n    number = str(number)\n    output = ''\n    decimal_input = 0\n    index = len(number)-1\n    for char in number:\n        decimal_input += number_base.index(char)*(len(number_base)**index)\n        index -= 1  \n    index = math.ceil(math.sqrt(decimal_input / len(output_base)))\n    while index &gt;= 0:\n        if not (len(output) == 0 and decimal_input // len(output_base)**index == 0):\n            output += output_base[decimal_input // len(output_base)**index]\n        decimal_input %= len(output_base)**index\n        index -= 1\n    return output\n</code></pre>\n<p>To use that, just create two strings like this:</p>\n<pre><code>decimal = '0123456789'\nhex = '0123456789ABCDEF'\nhex_100 = convert('100', decimal, hex)\nprint(hex_100)  #64\n</code></pre>\n<p>You can use this for any numeric base, also like: <code>weird = '.g'</code>.\nIn this case, <code>weird</code> would be a binary system where &quot;.&quot; is 0 and &quot;g&quot; is 1. Attention: not working with float or negative numbers.</p>\n"}], "owner": {"reputation": 11, "user_id": 9117914, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YR5LQqucBEQ/AAAAAAAAAAI/AAAAAAAAAEg/QPd01W5ckBQ/photo.jpg?sz=128", "display_name": "Kyle Fleming", "link": "https://stackoverflow.com/users/9117914/kyle-fleming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3439, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1595409101, "creation_date": 1525898374, "question_id": 50261666, "link": "https://stackoverflow.com/questions/50261666/number-system-converter-python", "title": "number system converter python", "body": "<p>Hi I want to make my own number converter that converts an input of binary, octal or hexadecimal to the corresponding decimal value. </p>\n\n<p>I have to use 2 separate functions, the first to convert the alphabetical digits to numerical values then the second to convert the result of that by using the input base to be converted to a decimal value...</p>\n\n<pre><code>   def hexConvert (x):\n    return int(x, base)\n\nx = str(input(\"input value to convert to decimal: \"))\nbase = int(input(\"Base of value to be converted to decimal: \"))\nprint(x, \" in base \", base, \" = \", hexConvert(x), \" in decimal\")\n</code></pre>\n\n<p>I know this works very well and is robust. I want to learn how to use more python functions by doing it manually.</p>\n\n<p>This is what I currently have:</p>\n\n<pre><code>    number = (input(\"Enter value to be converted to decimal: \"))\nbase = int(input(\"Enter the base of the value: \"))\n\nfor index in number:\n    print(index)\ndef hexConvert(number, base):\n    for number &gt; 0:\n        if number == 1:\n            return 1\n        if number == 2:\n            return 2\n        if number == 3:\n            return 3\n        if number == 4:\n            return 4\n        if number == 5:\n            return 5\n        if number == 6:\n            return 6\n        if number == \"7\":\n            return 7\n        if number == \"8\":\n            return 8\n        if number == \"9\":\n            return 9\n        if number == \"A\":\n            return 10\n        if number == \"B\":\n            return 11\n        if number == \"C\":\n            return 12\n        if number == \"D\":\n            return 13\n        if number == \"E\":\n            return  14\n        elif number == \"F\":\n            return 15\n        else:\n            print(number)\n\n\nnString = \"\"\ndef deciConvert(number, base):\n    number = int(number)\n    while number &gt; 0:\n        bString = number%base\n        nString = nString + str(bString)\n        number = number // base\n\nprint(deciConvert(number, base))\n</code></pre>\n\n<p>I've lost myself at this point, I think I haven't started any calculations yet, I would really appreciate any 2nd opinions.\nThank you!        </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1433, "user_id": 7757415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155125952958756/picture?type=large", "display_name": "Ali Y\u0131lmaz", "link": "https://stackoverflow.com/users/7757415/ali-y%c4%b1lmaz"}, "edited": false, "score": 0, "creation_date": 1525898480, "post_id": 50261659, "comment_id": 87541501, "body": "Can you please elaborate? What is the desired output for this case? What key do you want to use for each element of the list?"}, {"owner": {"reputation": 4074, "user_id": 808101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdb24053e79c428dad4e874daa4da0cb?s=128&d=identicon&r=PG", "display_name": "benjarobin", "link": "https://stackoverflow.com/users/808101/benjarobin"}, "edited": false, "score": 0, "creation_date": 1525898523, "post_id": 50261659, "comment_id": 87541518, "body": "You already have a dictionary which is inside an array. I don&#39;t really understand what&#39;s you want..."}, {"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525898615, "post_id": 50261659, "comment_id": 87541575, "body": "Hi Ali,  so right now there is a list holding this data (you can see the [] enclosing the data)  Is there a way i can convert the [] into a dictionary? but maintain the data inside.  once i am able to convert the list into a dictionary, then i can do search functions using keys and values.   Hope this clears things up! Thank you for asking"}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 2, "creation_date": 1525898704, "post_id": 50261659, "comment_id": 87541614, "body": "The only thing in the list is a dictionary. So suppose your current list is called <code>myList</code>, you could just get the dictionary with <code>myDictionary = myList[0]</code>"}, {"owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "edited": false, "score": 0, "creation_date": 1525900997, "post_id": 50261659, "comment_id": 87542618, "body": "You&#39;ll have to give an example of that your expected result is. Your question is very unclear."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525899090, "post_id": 50261774, "comment_id": 87541798, "body": "Thank you so much, this is exactly what i was hoping for.  I ran this code, but it was only able to store 1 dictionary. Do you perhaps know why? there are 29 dictionaries holding similar data"}, {"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "reply_to_user": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525899421, "post_id": 50261774, "comment_id": 87541961, "body": "@Raegis You want 29 new dictionaries to get created? Do the dictionaries have the same keys?"}, {"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525899782, "post_id": 50261774, "comment_id": 87542115, "body": "I am sorry if i am unclear since i am a beginner.  I have 29 dictionaries stored inside a list. very similar to the dictionary i showed above.  I want to store all 29 of these dictionaries inside 1 dictionary.  The method you showed me above worked, but it only stored 1 of the 29 dictionaries inside the new_dict"}, {"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "reply_to_user": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525900039, "post_id": 50261774, "comment_id": 87542225, "body": "@Raegis A dict in python cannot have 2 of the same key. I&#39;m wondering if all 29 of your dicts have identical keys and so each loop through is overwriting the previous values. Do each of your dicts have identical keys and different values?"}, {"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525900156, "post_id": 50261774, "comment_id": 87542272, "body": "I see.   Yes, each of my dictionaries have the identical keys and different values.  There is also another issues. Inside this list there are also random dictionaries which are different from the dictionary i mentioned above.... i&#39;m relatively new in handling json and i don&#39;t know how to remove them.  e.g. : {&#39;rank&#39;: 15, &#39;teamId&#39;: 2}   I don&#39;t have use for these, but i am unsure of how to remove them."}, {"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525900814, "post_id": 50261774, "comment_id": 87542545, "body": "i edited the question to show you the random dictionaries inside the data. Other than a few of those random ones, the rest of the dictionaries should look like the first set of data."}], "tags": [], "owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "is_accepted": true, "score": 0, "last_activity_date": 1525898789, "creation_date": 1525898789, "answer_id": 50261774, "question_id": 50261659, "link": "https://stackoverflow.com/questions/50261659/python-trouble-converting-list-of-dictionary-data-into-a-dictionary-so-i-can-us/50261774#50261774", "title": "Python: Trouble converting list of dictionary data into a dictionary so i can use key, value functions", "body": "<p>assume your list is called items.</p>\n\n<pre><code>new_dict = {}\nfor i in items:\n    for k, v in i.items():\n        new_dict[k] = v\n</code></pre>\n\n<p>This takes the 1 value from your list, that dict, and adds each key and value to a new dict. You can then retrieve keys/values from the new_dict variable. </p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "edited": false, "score": 0, "creation_date": 1525901504, "post_id": 50262362, "comment_id": 87542809, "body": "@jbch this is how it should look like. Thank you for looking at my problem"}], "tags": [], "owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901419, "creation_date": 1525901419, "answer_id": 50262362, "question_id": 50261659, "link": "https://stackoverflow.com/questions/50261659/python-trouble-converting-list-of-dictionary-data-into-a-dictionary-so-i-can-us/50262362#50262362", "title": "Python: Trouble converting list of dictionary data into a dictionary so i can use key, value functions", "body": "<p>my expected results is for it to look like this</p>\n\n<pre><code>  {\n {'DBNOs': 2,\n  'assists': 0,\n  'boosts': 0,\n  'damageDealt': 129.820038,\n  'deathType': 'byplayer',\n  'headshotKills': 0,\n  'heals': 0,\n  'killPlace': 35,\n  'killPoints': 1295,\n  'killPointsDelta': 3.15819788,\n  'killStreaks': 0,\n  'kills': 1,\n  'lastKillPoints': 0,\n  'lastWinPoints': 0,\n  'longestKill': 3,\n  'mostDamage': 0,\n  'name': 'Esskedit',\n  'playerId': 'account.7a54835609584b9c943b213345ea7ffb',\n  'revives': 1,\n  'rideDistance': 2023.24707,\n  'roadKills': 0,\n  'teamKills': 1,\n  'timeSurvived': 655,\n  'vehicleDestroys': 0,\n  'walkDistance': 1113.72375,\n  'weaponsAcquired': 0,\n  'winPlace': 17,\n  'winPoints': 1281,\n  'winPointsDelta': -6.71400356},\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9767312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2fa24b64bd94a870049a80422267ab?s=128&d=identicon&r=PG&f=1", "display_name": "Raegis", "link": "https://stackoverflow.com/users/9767312/raegis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 50261774, "answer_count": 2, "score": -1, "last_activity_date": 1525901419, "creation_date": 1525898333, "last_edit_date": 1525900703, "question_id": 50261659, "link": "https://stackoverflow.com/questions/50261659/python-trouble-converting-list-of-dictionary-data-into-a-dictionary-so-i-can-us", "title": "Python: Trouble converting list of dictionary data into a dictionary so i can use key, value functions", "body": "<pre><code>[{'DBNOs': 2,\n  'assists': 0,\n  'boosts': 0,\n  'damageDealt': 129.820038,\n  'deathType': 'byplayer',\n  'headshotKills': 0,\n  'heals': 0,\n  'killPlace': 35,\n  'killPoints': 1295,\n  'killPointsDelta': 3.15819788,\n  'killStreaks': 0,\n  'kills': 1,\n  'lastKillPoints': 0,\n  'lastWinPoints': 0,\n  'longestKill': 3,\n  'mostDamage': 0,\n  'name': 'Esskedit',\n  'playerId': 'account.7a54835609584b9c943b213345ea7ffb',\n  'revives': 1,\n  'rideDistance': 2023.24707,\n  'roadKills': 0,\n  'teamKills': 1,\n  'timeSurvived': 655,\n  'vehicleDestroys': 0,\n  'walkDistance': 1113.72375,\n  'weaponsAcquired': 0,\n  'winPlace': 17,\n  'winPoints': 1281,\n  'winPointsDelta': -6.71400356},\n {'rank': 6, 'teamId': 9},\n {'rank': 10, 'teamId': 1},\n {'rank': 13, 'teamId': 28}]\n</code></pre>\n\n<p>This is just a portion of the list, i want to convert the [] into {}. </p>\n\n<p>A second problem is at the end of the data. there are random dictionaries containing 'rank' and 'teamID, that i would like to NOT include inside my new dict. </p>\n\n<p>I hope this clears up some of the questions that you may have.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 2, "last_activity_date": 1525898547, "creation_date": 1525898547, "answer_id": 50261714, "question_id": 50261651, "link": "https://stackoverflow.com/questions/50261651/how-to-plot-pandas-dataframe-data-categorically-instead-of-numerically-in-python/50261714#50261714", "title": "How to plot Pandas Dataframe data categorically instead of numerically in Python", "body": "<p>You can try plotting the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.value_counts.html\" rel=\"nofollow noreferrer\"><code>value_counts()</code></a> of the sex column in your <code>final</code> dataframe:</p>\n\n<pre><code>final.sex.value_counts().plot.bar()\nplt.xlabel('sex')\nplt.ylabel('number died')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O29I3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O29I3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898660, "creation_date": 1525898660, "answer_id": 50261748, "question_id": 50261651, "link": "https://stackoverflow.com/questions/50261651/how-to-plot-pandas-dataframe-data-categorically-instead-of-numerically-in-python/50261748#50261748", "title": "How to plot Pandas Dataframe data categorically instead of numerically in Python", "body": "<p>You can use:</p>\n\n<pre><code>suicide_df.groupby('sex')['intent'].count().plot.bar()\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GOwXF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOwXF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 5538685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBuPH.jpg?s=128&g=1", "display_name": "ZaneK", "link": "https://stackoverflow.com/users/5538685/zanek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525898660, "creation_date": 1525898287, "question_id": 50261651, "link": "https://stackoverflow.com/questions/50261651/how-to-plot-pandas-dataframe-data-categorically-instead-of-numerically-in-python", "title": "How to plot Pandas Dataframe data categorically instead of numerically in Python", "body": "<pre><code>print(final)\n    OUTPUT:\n             intent sex   age\n2        Suicide   F  21.0\n3        Suicide   M  60.0\n4        Suicide   M  64.0\n5        Suicide   M  31.0\n7   Undetermined   M  48.0\n9     Accidental   M  50.0\n11       Suicide   M  30.0\n13       Suicide   M  43.0\n15      Homicide   M  27.0\n17       Suicide   M  55.0\n20       Suicide   M  51.0\n22       Suicide   F  52.0\n24       Suicide   M  19.0\n25      Homicide   M  51.0\n26      Homicide   M  41.0\n28       Suicide   M  21.0\n29       Suicide   M  56.0\n30      Homicide   M  43.0\n32       Suicide   M  55.0\n34       Suicide   M  27.0\n\npro = final['intent'] == 'Suicide'\nsuicide_df = final[pro]\n\nsuicide_df.plot.bar('sex')\nplt.ylabel('age')\nplt.xlabel('sex')\nplt.show()\n</code></pre>\n\n<p>So I just recently started taking some online classes for Data Science using Python and we're on the Panadas library now.</p>\n\n<p>I took a dataset from a csv file of Death rate and now have it in the form of a pandas dataframe that is represented as shown above...</p>\n\n<p>I wish to make the bar graph be categorized by gender so only showing two bars (one for male and one for female) and indicating how many of each died instead of how it is in the image attached. Any guidance appreciated.<a href=\"https://i.stack.imgur.com/sZdtz.jpg\" rel=\"nofollow noreferrer\">Graph of what displays so far</a></p>\n"}, {"tags": ["python", "pandas", "lambda"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1525898454, "post_id": 50261638, "comment_id": 87541485, "body": "df.Date.diff().dt.days.cumsum() ?"}, {"owner": {"reputation": 607, "user_id": 7679796, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/zN1DX.jpg?s=128&g=1", "display_name": "OptimusPrime", "link": "https://stackoverflow.com/users/7679796/optimusprime"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1525898677, "post_id": 50261638, "comment_id": 87541605, "body": "how would that even work?"}], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 7679796, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/zN1DX.jpg?s=128&g=1", "display_name": "OptimusPrime", "link": "https://stackoverflow.com/users/7679796/optimusprime"}, "edited": false, "score": 0, "creation_date": 1525902222, "post_id": 50262462, "comment_id": 87543046, "body": "hey kaitlyn, I tired the above code.  DaySinceEarnings = is missing x2 values after the groupby line of code.   Then after the lambda apply it is missing x3 values for daysinceearnings"}], "tags": [], "owner": {"reputation": 1139, "user_id": 3533960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302e12d88c6f7d6678d95509b2ee149a?s=128&d=identicon&r=PG&f=1", "display_name": "kait", "link": "https://stackoverflow.com/users/3533960/kait"}, "is_accepted": false, "score": 0, "last_activity_date": 1525902716, "last_edit_date": 1525902716, "creation_date": 1525902007, "answer_id": 50262462, "question_id": 50261638, "link": "https://stackoverflow.com/questions/50261638/calculate-duration-based-on-date-and-events/50262462#50262462", "title": "Calculate Duration based on date and events", "body": "<pre><code>import pandas as pd\n\ndf = pd.DataFrame(\n    {'Date': ['2018-04-02',\n              '2018-04-03',\n              '2018-04-04',\n              '2018-04-05',\n              '2018-04-06',\n              '2018-04-07', ],\n     'Earnings Reported': [1, 0, 0, 1, 1, 0]}\n)\n\ndf['Date'] = pd.to_datetime(df['Date'])\n\n\ndef only_include_reported_days(x):\n    x['DaySinceEarnings'] = 0\n    if x['Earnings Reported'] == 1:\n        return x\n\n    sub = df[(df['Date'] &lt; x['Date']) &amp;\n             (df['Earnings Reported'] == 1)]\n\n    x['DaySinceEarnings'] = (x['Date'] - max(sub['Date'])).days\n    return x\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 7679796, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/zN1DX.jpg?s=128&g=1", "display_name": "OptimusPrime", "link": "https://stackoverflow.com/users/7679796/optimusprime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1525902716, "creation_date": 1525898247, "question_id": 50261638, "link": "https://stackoverflow.com/questions/50261638/calculate-duration-based-on-date-and-events", "title": "Calculate Duration based on date and events", "body": "<p>I have a DF and I want to calculate the time between earnings dates.</p>\n\n<p>DF</p>\n\n<pre><code>Date          Earnings Reported           \n2018-04-02    1          \n2018-04-03    0\n2018-04-04    0\n</code></pre>\n\n<p>DF - Desired </p>\n\n<pre><code>Date          Earnings Reported       DaySinceEarnings      \n2018-04-02    1                       0\n2018-04-03    0                       1\n2018-04-04    0                       2 \n</code></pre>\n\n<p>I tried to do a lambda function but couldn't get it working</p>\n\n<pre><code>df['DaySinceEarnings'] = df.groupby['Earnings Reported'].apply(lambda x: (x == '1') * (x == '1').cumsum())\n</code></pre>\n"}, {"tags": ["python", "numpy", "scikit-learn", "decision-tree"], "comments": [{"owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 0, "creation_date": 1525899379, "post_id": 50261604, "comment_id": 87541947, "body": "have you tried converting your columns to <a href=\"http://pandas.pydata.org/pandas-docs/version/0.19/generated/pandas.to_numeric.html\" rel=\"nofollow noreferrer\"><code>numeric</code></a>?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 2, "creation_date": 1525899839, "post_id": 50261604, "comment_id": 87542137, "body": "Almost all machine learning algorithms expect numerical matrices as an input. So you will need to convert your input data set to numeric values or to binarize it (depending on your data and your goals)..."}, {"owner": {"reputation": 35, "user_id": 8730848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9spTD.jpg?s=128&g=1", "display_name": "Tobias Piechowiak", "link": "https://stackoverflow.com/users/8730848/tobias-piechowiak"}, "edited": false, "score": 0, "creation_date": 1526029570, "post_id": 50261604, "comment_id": 87593553, "body": "Thanks, guys. And for the patience ;-).  What would be the appropriate method there - something like X.astype(int)? Because I tried that and it didn&#39;t work. Can you just do int(X.values)?"}, {"owner": {"reputation": 35, "user_id": 8730848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9spTD.jpg?s=128&g=1", "display_name": "Tobias Piechowiak", "link": "https://stackoverflow.com/users/8730848/tobias-piechowiak"}, "edited": false, "score": 0, "creation_date": 1526152897, "post_id": 50261604, "comment_id": 87635663, "body": "Just FYI - after playing a bit more I found a solution for it one can use the astype method directly on the panda frame:  <code>X = data[[&#39;clump_thickness&#39;,&#39;size_uniformity&#39;,&#39;shape_uniformity&#39;&zwnj;&#8203;,&#39;marginal_adhesion&#39;&zwnj;&#8203;,&#39;epithelial_size&#39;,&#39;&zwnj;&#8203;bland_chromatin&#39;,&#39;no&zwnj;&#8203;rmal_nucleoli&#39;,&#39;mito&zwnj;&#8203;ses&#39;]].astype(&#39;float&zwnj;&#8203;32&#39;)</code>  <code>Y = data[[&#39;class&#39;]].astype(&#39;int&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "is_accepted": false, "score": 0, "last_activity_date": 1565818180, "creation_date": 1565818180, "answer_id": 57502323, "question_id": 50261604, "link": "https://stackoverflow.com/questions/50261604/python-decicion-tree-classifier/57502323#57502323", "title": "Python Decicion Tree Classifier", "body": "<p>Try this to make sure you are passing integers, if your set contains strings or categorical values, or shows another issue, I'll edit this answer with the solution:</p>\n\n<pre><code>cols = ['clump_thickness','shape_uniformity','marginal_adhesion','epithelial_size','bare_nucleoli','bland_chromatin','normal_nucleoli','mitoses']\nfor col in cols:\n     data[col] = data[col].astype('int') \nX.train = data[cols]\nY.train = data[['class]]\n\nmodel = DecissionTreeClassifier()\nmodel.fit(X_train,Y_train)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8730848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9spTD.jpg?s=128&g=1", "display_name": "Tobias Piechowiak", "link": "https://stackoverflow.com/users/8730848/tobias-piechowiak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565841602, "creation_date": 1525898030, "last_edit_date": 1565841602, "question_id": 50261604, "link": "https://stackoverflow.com/questions/50261604/python-decicion-tree-classifier", "title": "Python Decicion Tree Classifier", "body": "<p>trying to built a tree classifier with the scikit package but I have problems getting the correct format for the classifier input..</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split\n\n#import dataset\ndata = pd.read_table('Data/Breast.csv')\ndata.head(10)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Dk7jg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dk7jg.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>  X=data[['clump_thickness','shape_uniformity','marginal_adhesion','epithelial_size','bare_nucleoli','bland_chromatin','normal_nucleoli','mitoses']]\n\nX_train = X.values\n\nY = data[['class']]\nY_train = Y.values\n\nmodel = DecisionTreeClassifier()\nmodel \n\nmodel.fit(X_train,Y_train)\n</code></pre>\n\n<p>But I get the following error message: </p>\n\n<blockquote>\n  <p>ValueError                                Traceback (most recent call\n  last)  in ()\n  ----> 1 model.fit(X_train,Y_train)</p>\n  \n  <p>c:\\users\\tobias\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\sklearn\\tree\\tree.py\n  in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\n      788             sample_weight=sample_weight,\n      789             check_input=check_input,\n  --> 790             X_idx_sorted=X_idx_sorted)\n      791         return self\n      792 </p>\n  \n  <p>c:\\users\\tobias\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\sklearn\\tree\\tree.py\n  in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\n      114         random_state = check_random_state(self.random_state)\n      115         if check_input:\n  --> 116             X = check_array(X, dtype=DTYPE, accept_sparse=\"csc\")\n      117             y = check_array(y, ensure_2d=False, dtype=None)\n      118             if issparse(X):</p>\n  \n  <p>c:\\users\\tobias\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\sklearn\\utils\\validation.py\n  in check_array(array, accept_sparse, dtype, order, copy,\n  force_all_finite, ensure_2d, allow_nd, ensure_min_samples,\n  ensure_min_features, warn_on_dtype, estimator)\n      431                                       force_all_finite)\n      432     else:\n  --> 433         array = np.array(array, dtype=dtype, order=order, copy=copy)\n      434 \n      435         if ensure_2d:</p>\n  \n  <p>ValueError: could not convert string to float: '?'</p>\n</blockquote>\n\n<p>What do I do wrong? \nI can see that X.values is of dType = Object...</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "matplotlib", "flask"], "answers": [{"tags": [], "owner": {"reputation": 2285, "user_id": 1761521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3bf9cdee52067928d3f9aa20b18a27b6?s=128&d=identicon&r=PG", "display_name": "spitfiredd", "link": "https://stackoverflow.com/users/1761521/spitfiredd"}, "is_accepted": false, "score": 0, "last_activity_date": 1525908263, "creation_date": 1525908263, "answer_id": 50263394, "question_id": 50261578, "link": "https://stackoverflow.com/questions/50261578/flask-render-a-word-cloud/50263394#50263394", "title": "Flask render a word cloud", "body": "<p>wordcloud <code>to_image</code> method creates a PIL object so all you have to do is just call the PIL's <code>save</code> method.</p>\n\n<pre><code>img = BytesIO()\nwordcloud.to_image().save(img, 'PNG')\nimg.seek(0)\n</code></pre>\n"}], "owner": {"reputation": 2285, "user_id": 1761521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3bf9cdee52067928d3f9aa20b18a27b6?s=128&d=identicon&r=PG", "display_name": "spitfiredd", "link": "https://stackoverflow.com/users/1761521/spitfiredd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1372, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525908263, "creation_date": 1525897934, "last_edit_date": 1525899500, "question_id": 50261578, "link": "https://stackoverflow.com/questions/50261578/flask-render-a-word-cloud", "title": "Flask render a word cloud", "body": "<p>I am trying to render a wordcloud that I can run on my computer w/o flask.</p>\n\n<p>I am using <a href=\"https://stackoverflow.com/questions/20107414/passing-a-matplotlib-figure-to-html-flask?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this question as a base</a></p>\n\n<h1>Route</h1>\n\n<pre><code>@app.route('/wordcloud/&lt;vendor_duns&gt;')\ndef images(vendor_duns):\n    words = Words.query.filter(Words.vendor_duns == vendor_duns).with_entities(Words.words).all()\n    # t = [r.__dict__ for r in words]\n    # print(t)\n    one_row = list(itertools.chain.from_iterable(words))\n    text = ' '.join(one_row)\n    return render_template(\"wordcloud.html\", text=text)\n\n\n@app.route('/fig/&lt;vendor_duns&gt;')\ndef fig(vendor_duns):\n    # TODO add test model and query\n    words = Words.query.filter(Words.vendor_duns == vendor_duns).with_entities(Words.words).all()\n    one_row = list(itertools.chain.from_iterable(words))\n    text = ' '.join(one_row)\n    wordcloud = WordCloud().generate(text)\n    plt.imshow(wordcloud, interpolation='bilinear')\n    plt.axis(\"off\")\n    img = BytesIO()\n    plt.savefig(img)\n    img.seek(0)\n    return send_file(img, mimetype='image/png')\n</code></pre>\n\n<h1>Template</h1>\n\n<pre><code>{% extends \"base.html\" %}\n\n{% block title %}Wordcloud{% endblock %}\n{% block content %}  \n{{text}}\n    &lt;div&gt;\n      &lt;img src=\"{{ url_for('sam.fig', vendor_duns=vendor_duns) }}\" alt=\"Image Placeholder\" height=\"100\"&gt;\n    &lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>First off the <code>{{text}}</code> in the template is just for view.  If I nav to a specific vendor_duns I will get a long string of text, but no image.</p>\n\n<p>So two questions, where exactly do I need to run the query? in the <code>fig</code> or image <code>function</code>.</p>\n\n<p>The second question, I get a blank image, so I am not sure exactly how to write the wordcloud to a buffer.</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 3442, "user_id": 5951320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aZ8G2.jpg?s=128&g=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5951320/ash"}, "edited": false, "score": 0, "creation_date": 1525899151, "post_id": 50261525, "comment_id": 87541832, "body": "Flask should give a proper traceback in the server console/logs, or in the browser itself if you enable debug mode. Please post that traceback, it will say exactly why this is not working."}, {"owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "reply_to_user": {"reputation": 3442, "user_id": 5951320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aZ8G2.jpg?s=128&g=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5951320/ash"}, "edited": false, "score": 0, "creation_date": 1525899491, "post_id": 50261525, "comment_id": 87541988, "body": "I have &quot;app.run(debug=True)&quot; already enable but not sure where would I see traceback.  /var/log/apache2/error.log is empty.  I am using REST API and using browser dev tools."}], "owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525900207, "creation_date": 1525897718, "last_edit_date": 1525900207, "question_id": 50261525, "link": "https://stackoverflow.com/questions/50261525/sys-path-append-causing-500-error-in-flask", "title": "sys.path.append causing 500 error in Flask", "body": "<p>I have a flask app that is giving me 500 when I import a file using sys.path.append('path/to/file.py)</p>\n\n<p>Here is my file located in /var/www/html/ip.py which flask is calling:</p>\n\n<pre><code>import sys\nsys.path.append('/auto/conf/') \nfrom config import config  \n\nserver_username = config['server_username']\nserver_password = config['server_prod_password']\n\ndef check_ip(ip_addr):\n    return \"test\"\n</code></pre>\n\n<p>Here is my /auto/conf/config.py:</p>\n\n<pre><code>import os\nimport ConfigParser\n\n# Define names of dir and file\nCRED_DIR = 'cred'\nFILE_NAME = 'cred.conf'\n\n# Path to cred file\nmy_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\ncred_dir = os.path.join(my_dir, CRED_DIR)\nfile_path = os.path.join(cred_dir, FILE_NAME)\n\n# Load the conf file with ConfigParser\nconfig = ConfigParser.SafeConfigParser()\nconfig.read(file_path)\n\n\n# Build a config dictionary\nconfig = {\n    'server_username': config.get('server', 'username'),\n    'server_password': config.get('server', 'password'),\n    }\n</code></pre>\n\n<p>and cred.conf is located in /auto/cred/cred.conf and contains server info.</p>\n\n<p>Now, here is the issue.  If I run python ip.py, it runs fine.  I added print statement and it was fetching proper server username and password.  But when I run it via Flask, it gives me 500 error.</p>\n\n<p>Here are some of the things I tried:</p>\n\n<p>-- If I comment out \"from config import config\" from ip.py, Flask runs returns \"test\" meaning it worked. It will not get server un and pw but atleast it does not 500.</p>\n\n<p>-- If I move cred.conf and config.py to same directory as ip.py and comment out \"sys.path.append('/auto/conf/')\" and uncomment \"from config import config\", Flask works. </p>\n\n<p>Any ideas why its happening?  I am thinking Flask does not like sys.path.append.  Is there any alternative I can use so Flask works?</p>\n\n<p>Edit:</p>\n\n<p>I changed ip.py to this:</p>\n\n<pre><code>import sys\nsys.path.append('/auto/conf/') \nimport config\n</code></pre>\n\n<p>and removed all code in config.py and it is still gving me error.  If I comment out \"import config\", Flask works.  Definitely it does not like importing in this fashion..</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 1, "creation_date": 1525897815, "post_id": 50261498, "comment_id": 87541160, "body": "You only need to change the mapping function, it&#39;s almost exactly the same thing as your last question."}], "answers": [{"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898153, "creation_date": 1525898153, "answer_id": 50261618, "question_id": 50261498, "link": "https://stackoverflow.com/questions/50261498/using-pandas-to-add-list-of-dicts-together/50261618#50261618", "title": "Using pandas to add list of dicts together", "body": "<p>Barring anything else, I don't think Pandas would give you any real benefit here:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(list)\nfor e in items:\n    d[(e['FirstName'], e['LastName'])].append(e['Residence'])\nitems = [{'FirstName': k[0], 'LastName': k[1], 'Residence': v} for k, v in d.items()]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1525898636, "post_id": 50261662, "comment_id": 87541583, "body": "OMG, this solution serves more as a testament to your Pandas proficiency, than to Pandas&#39;s suitability to this problem, IMHO :-)"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1525898785, "post_id": 50261662, "comment_id": 87541652, "body": "You can change <code>apply(lambda x: x.sum())</code> for <code>apply(sum)</code> only :)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1525898342, "creation_date": 1525898342, "answer_id": 50261662, "question_id": 50261498, "link": "https://stackoverflow.com/questions/50261498/using-pandas-to-add-list-of-dicts-together/50261662#50261662", "title": "Using pandas to add list of dicts together", "body": "<p>Solution from <code>pandas</code></p>\n\n<pre><code>#df=pd.DataFrame(items)\ndf.groupby(['FirstName','LastName']).Residence.\\\n    apply(lambda x : x.sum()).\\\n       apply(lambda x : [dict(y) for y in set(tuple(t.items()) for t in x)]).\\\n         reset_index().to_dict('r')\nOut[104]: \n[{'FirstName': 'Bob',\n  'LastName': 'Jones',\n  'Residence': [{'Age': 20, 'Place': 'Z'}]},\n {'FirstName': 'David',\n  'LastName': 'Smith',\n  'Residence': [{'Age': 20, 'Place': 'Z'},\n   {'Age': 23, 'Place': 'Y'},\n   {'Age': 22, 'Place': 'X'}]}]\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525899062, "creation_date": 1525897624, "question_id": 50261498, "link": "https://stackoverflow.com/questions/50261498/using-pandas-to-add-list-of-dicts-together", "title": "Using pandas to add list of dicts together", "body": "<p>This is a follow-up to this question: <a href=\"https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together\">Using pandas to add list elements together</a>. I would like to generalize this function to getting unique elements in an array, even if they're not of a 'hashable' type, such as a dict. Here is the input array:</p>\n\n<pre><code>items = [ \n{\n    'FirstName': 'David',\n    'LastName': 'Smith',\n    'Residence': [{'Place': 'X', 'Age': 22}, {'Place': 'Y', 'Age': 23}]\n},\n\n{\n    'FirstName': 'David',\n    'LastName': 'Smith',\n    'Residence': [{'Place': 'Z', 'Age': 20}]\n},\n\n{\n    'FirstName': 'David',\n    'LastName': 'Smith',\n    'Residence': [{'Place': 'Z', 'Age': 20}]\n},\n{\n    'FirstName': 'Bob',\n    'LastName': 'Jones',\n    'Residence': [{'Place': 'Z', 'Age': 20}]\n}\n]\n</code></pre>\n\n<p>I want to add together the unique Residences (dicts) together, so the final result would be:</p>\n\n<pre><code>items = [ \n{\n    'FirstName': 'David',\n    'LastName': 'Smith',\n    'Residence': [{'Place': 'X', 'Age': 22}, {'Place': 'Y', 'Age': 23}, {'Place': 'Z', 'Age': 20}]\n},\n\n{\n    'FirstName': 'Bob',\n    'LastName': 'Jones',\n    'Residence': [{'Place': 'Z', 'Age': 20}]\n}\n]\n</code></pre>\n\n<p>The SQL I would use would be something like this:</p>\n\n<pre><code>SELECT FirstName, LastName, GROUP_CONCAT(DISTINCT **Residence Object**)\nFROM items\nGROUP BY FirstName, LastName\n</code></pre>\n\n<p>How would I do this in <code>pandas</code>, so that I don't get an <code>unhashable type</code> error when trying to get the distinct array elements?</p>\n"}, {"tags": ["python", "numpy", "indexing"], "comments": [{"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 1, "creation_date": 1525898118, "post_id": 50261473, "comment_id": 87541306, "body": "is there any reason why your vectors are 2D? One index <code>[0]</code> can be dropped if you would have 1D vectors: <code>selected_parents =  [array([4, 6, 3, 1, 0, 7, 5, 2]), array([0, 2, 7, 3, 5, 4, 1, 6])]</code>"}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1525898185, "post_id": 50261473, "comment_id": 87541335, "body": "And likewise, having <code>co_point</code> as an integer rather than a 1-element array would simplify things."}, {"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1525898649, "post_id": 50261473, "comment_id": 87541589, "body": "@rth They are built as 2D arrays through another process! Do you think if it is a good idea to define a new array as something like 1D_selected_parents = selected_parents[0] and work with that?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "edited": false, "score": 2, "creation_date": 1525898675, "post_id": 50261473, "comment_id": 87541604, "body": "please use the appropriate tags. numpy is not the same as python"}, {"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 0, "creation_date": 1525898751, "post_id": 50261473, "comment_id": 87541638, "body": "@hop just did; thanks for your constructive comment!"}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1525899527, "post_id": 50261473, "comment_id": 87542004, "body": "@Antonio I&#39;m confused by your PS. Where you got replacement 275 there is no such string in the  the second parent in your example"}], "answers": [{"comments": [{"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 0, "creation_date": 1525899116, "post_id": 50261778, "comment_id": 87541813, "body": "Well thanks for the response, but for the specific problem that I am solving, I need to apply crossover in the way I explained in the P.S."}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "reply_to_user": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 1, "creation_date": 1525899875, "post_id": 50261778, "comment_id": 87542158, "body": "As I stated, I&#39;m confused by your example. My answer shows you a way to minimize indexes and loops. Hope you can adapt this style to your algorithm."}], "tags": [], "owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "is_accepted": false, "score": 1, "last_activity_date": 1525899214, "last_edit_date": 1525899214, "creation_date": 1525898795, "answer_id": 50261778, "question_id": 50261473, "link": "https://stackoverflow.com/questions/50261473/how-to-avoid-so-many-indexing-in-the-code-python/50261778#50261778", "title": "How to avoid so many indexing in the code - python", "body": "<p>It seems the simplest way to make a crossover if your gens are 1D lists:</p>\n\n<pre><code>&gt;&gt;&gt; selected_parents = [[4, 6, 3, 1, 0, 7, 5, 2], [0, 2, 7, 3, 5, 4, 1, 6]]\n</code></pre>\n\n<p>Let's create two parants, and selecet point of crossover:</p>\n\n<pre><code>&gt;&gt;&gt; p1, p2 = selected_parents\n&gt;&gt;&gt; cx = random.randint(len(p1))\n&gt;&gt;&gt; p1\n[4, 6, 3, 1, 0, 7, 5, 2]\n&gt;&gt;&gt; p2\n[0, 2, 7, 3, 5, 4, 1, 6]\n&gt;&gt;&gt; cx\n4\n</code></pre>\n\n<p>First and second chlidrens are conjuctions of two tancated lists</p>\n\n<pre><code>&gt;&gt;&gt; ch1=p1[:cx]+p2[cx:]\n&gt;&gt;&gt; ch1\n[4, 6, 3, 1, 5, 4, 1, 6]\n&gt;&gt;&gt; ch2=p2[:cx]+p1[cx:]\n&gt;&gt;&gt; ch2\n[0, 2, 7, 3, 0, 7, 5, 2]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>If you need numpy, it is not a problem. The same idea below:</p>\n\n<pre><code>&gt;&gt;&gt; selected_parents = [array([[4, 6, 3, 1, 0, 7, 5, 2]]), array([[0, 2, 7, 3, 5, 4, 1, 6]])]\n&gt;&gt;&gt; p1, p2 = selected_parents\n&gt;&gt;&gt; p1\narray([[4, 6, 3, 1, 0, 7, 5, 2]])\n&gt;&gt;&gt; p2\narray([[0, 2, 7, 3, 5, 4, 1, 6]])\n&gt;&gt;&gt; cx = random.randint(p1.shape[1])\n&gt;&gt;&gt; cx\n5\n&gt;&gt;&gt; ch1=append(p1[0][:cx],p2[0][cx:])\n&gt;&gt;&gt; ch1\narray([4, 6, 3, 1, 0, 4, 1, 6])\n&gt;&gt;&gt; ch2=append(p2[0][:cx],p1[0][cx:])\n&gt;&gt;&gt; ch2\narray([0, 2, 7, 3, 5, 7, 5, 2])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1525900524, "last_edit_date": 1525900524, "creation_date": 1525900167, "answer_id": 50262094, "question_id": 50261473, "link": "https://stackoverflow.com/questions/50261473/how-to-avoid-so-many-indexing-in-the-code-python/50262094#50262094", "title": "How to avoid so many indexing in the code - python", "body": "<p>Most of the index is to elements of the <code>selected_parents</code> list, which are 2d arrays:</p>\n\n<pre><code>selected_parents[0][0][0:co_point[0]]\n</code></pre>\n\n<p>arrays can be indexed with one set of []:</p>\n\n<pre><code>selected_parents[0][0, 0:co_point[0]]\n</code></pre>\n\n<p>notationally it might be convenient to 'name' the 2 elements of the list (unpacking):</p>\n\n<pre><code>p1, p2 = selected_parents\np1[0, 0:co_point[0]]\n</code></pre>\n\n<p>Generally it is better to use <code>shape</code> than <code>len</code> on an array.  Replace</p>\n\n<pre><code>len(selected_parents[0][0])\n</code></pre>\n\n<p>with</p>\n\n<pre><code>p1.shape[1]\n</code></pre>\n\n<p><code>p1.shape</code> is (1,8)</p>\n\n<p>Looks like <code>p1, p2</code> have the same shape.  In which case</p>\n\n<pre><code>np.stack(selected_parents)\n</code></pre>\n\n<p>should produce a (2,1,8) array, which could be reshaped to (2,8).  Or</p>\n\n<pre><code>np.concatenate(selected_parents, axis=0)\n</code></pre>\n\n<p>producing a (2,8) array.</p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1525902618, "creation_date": 1525902618, "answer_id": 50262563, "question_id": 50261473, "link": "https://stackoverflow.com/questions/50261473/how-to-avoid-so-many-indexing-in-the-code-python/50262563#50262563", "title": "How to avoid so many indexing in the code - python", "body": "<p>Here is a vectorized version of your code. One pleasant side effect of vectorization is that it often does away with most of the indices.</p>\n\n<p>This code assumes that the parent vectors are shuffles of <code>0, 1, 2, ...</code>. If that's not the case some more work is needed:</p>\n\n<pre><code>def invperm(p):\n    out = np.empty_like(p)\n    idx = np.ogrid[tuple(map(slice, p.shape))]\n    idx[-1] = p\n    out[idx] = np.arange(p.shape[-1])\n    return out\n\ndef f_pp(selected_parents):\n    sp = np.reshape(selected_parents, (2, -1))\n    _, N = sp.shape\n    co = np.random.randint(0, N)\n    out = sp.copy()\n    slc = np.s_[:co] if 2*co &lt; N else np.s_[co:]\n    out[::-1, slc] = out[\n        np.c_[:2], np.sort(invperm(sp)[np.c_[:2], sp[::-1, slc]], axis=1)]\n    return out\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 50262094, "answer_count": 3, "score": 0, "last_activity_date": 1525902618, "creation_date": 1525897490, "last_edit_date": 1525898715, "question_id": 50261473, "link": "https://stackoverflow.com/questions/50261473/how-to-avoid-so-many-indexing-in-the-code-python", "title": "How to avoid so many indexing in the code - python", "body": "<p>I am new to python and I feel like I am using the absolutely wrong strategy for programming in python. Here is an example: </p>\n\n<p>I have a list like this:</p>\n\n<pre><code>selected_parents = \n[array([[4, 6, 3, 1, 0, 7, 5, 2]]), array([[0, 2, 7, 3, 5, 4, 1, 6]])]\n</code></pre>\n\n<p>Now I want to apply crossover to the elements of the list (please see the <strong>P.S.</strong> for what I mean by crossover and how it is done, but again, my question is how I should avoid so many indexing that I use while programming in python):</p>\n\n<pre><code>crossed_p1 = np.zeros((len(selected_parents[0][0]))).astype(int)\ncrossed_p2 = np.zeros((len(selected_parents[0][0]))).astype(int)\n\nco_point = rd.sample(range(len(selected_parents[0][0])),1)\n\nif co_point[0] &gt;= len(selected_parents[0][0])/2:\n        crossed_p1[0:co_point[0]] = selected_parents[0][0][0:co_point[0]]\n\n        indeces = []\n        for i in range(co_point[0],len(selected_parents[0][0])):\n            a = np.where(selected_parents[1][0] == selected_parents[0][0][i])\n            indeces.append(a)\n            indeces = sorted(indeces)\n\n        for i in range(len(indeces)):\n            crossed_p1[i + co_point[0]] = selected_parents[1][0][indeces[i][0][0]]\n\n        crossed_p2[0:co_point[0]] = selected_parents[1][0][0:co_point[0]]\n\n        indeces = []\n        for i in range(co_point[0],len(selected_parents[0][0])):\n            a = np.where(selected_parents[0][0] == selected_parents[1][0][i])\n            indeces.append(a)\n            indeces = sorted(indeces)\n\n        for i in range(len(indeces)):\n            crossed_p2[i + co_point[0]] = selected_parents[0][0][indeces[i][0][0]]\n\n    else:\n        crossed_p1[co_point[0]:] = selected_parents[0][0][co_point[0]:]\n\n        indeces = []\n        for i in range(co_point[0]):\n            a = np.where(selected_parents[1][0] == selected_parents[0][0][i])\n            indeces.append(a)\n            indeces = sorted(indeces)\n\n        for i in range(len(indeces)):\n            crossed_p1[i] = selected_parents[1][0][indeces[i][0][0]]\n\n        crossed_p2[co_point[0]:] = selected_parents[1][0][co_point[0]:]\n\n        indeces = []\n        for i in range(co_point[0]):\n            a = np.where(selected_parents[0][0] == selected_parents[1][0][i])\n            indeces.append(a)\n            indeces = sorted(indeces)\n\n        for i in range(len(indeces)):\n            crossed_p2[i] = selected_parents[0][0][indeces[i][0][0]]\n</code></pre>\n\n<p>The code works like a charm, but I hate the way I am writing it! Like I keep questioning myself, do I really have to write something like <code>selected_parents[0][0][indeces[i][0][0]]</code>?! Like is there a better way of doing what I am doing?!</p>\n\n<p><strong>P.S.</strong> This is an example of genetic algorithm and I have the two arrays in <code>selected_parents</code> as the first generation parents. Now I want to apply crossover, which means: A cutting point (i.e. <code>co_point</code> in the code) which is a random integer between 1 and the parents length (herein 8), is selected randomly; the \ufb01rst descendant (i.e. <code>crossed_p1</code>) inherits a longer substring from the \ufb01rst parent and replaces the numbers of shorter substring in the order of numbers appeared in the second parent. And similar procedure is repeated for the second descendant (i.e. <code>crossed_p2</code>). For example, based on the current <code>selected_parents</code> list, and for a <code>co_point = 5</code>, the first descendant (i.e. <code>crossed_p1</code>) inherits the substring of <code>46310</code> from the \ufb01rst parent, and the remaining substring of <code>752</code> is replaced by <code>275</code> which is the order of numbers appeared in the second parent. Hence, the first descendant (i.e. <code>crossed_p1</code>) is <code>46310275</code> and the second descendant (i.e. <code>crossed_p2</code>) will be <code>02735461</code>.</p>\n"}, {"tags": ["python", "curl", "google-oauth"], "comments": [{"owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "edited": false, "score": 0, "creation_date": 1525898125, "post_id": 50261442, "comment_id": 87541311, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25491090/how-to-use-python-to-execute-a-curl-command\">how to use python to execute a curl command</a>"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1525898129, "post_id": 50261442, "comment_id": 87541313, "body": "What&#39;s your question?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1525898352, "post_id": 50261442, "comment_id": 87541432, "body": "You could use <code>subprocess</code> to run <code>oauth2l header --json key.json mobileinsights</code> from Python... Then use whatever HTTP library in python to pass a header"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 9761315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2aa8c83c9956f718218f7f6b73a90e3?s=128&d=identicon&r=PG", "display_name": "user9761315", "link": "https://stackoverflow.com/users/9761315/user9761315"}, "is_accepted": false, "score": 0, "last_activity_date": 1525898564, "creation_date": 1525898564, "answer_id": 50261717, "question_id": 50261442, "link": "https://stackoverflow.com/questions/50261442/curl-command-in-python-3/50261717#50261717", "title": "Curl command in Python 3", "body": "<p>You may load an OS and JSON load modules and then run\nos.execute(curl URL) store it in any variable then convert it into JSON format with JSON load module</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 7498115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6opdy.jpg?s=128&g=1", "display_name": "Wesley Smith", "link": "https://stackoverflow.com/users/7498115/wesley-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1525899227, "creation_date": 1525899227, "answer_id": 50261887, "question_id": 50261442, "link": "https://stackoverflow.com/questions/50261442/curl-command-in-python-3/50261887#50261887", "title": "Curl command in Python 3", "body": "<p>Use the <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.check_output\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> module to run your shell command. </p>\n\n<pre><code>import subprocess\nresult = subprocess.check_output('curl -H \"`oauth2l header --json \nkey.json mobileinsights`\" https://mobileinsights.googleapis.com/v2/networks', shell=True)\n</code></pre>\n\n<p>Then, use the <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\"><code>json</code></a> module to parse the JSON data returned by the server.</p>\n\n<pre><code>import json\nresult_json = json.loads(result) \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7574932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac37923cfe1cd7a9f574efa2f5ba4ff1?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/7574932/leol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1643, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526180975, "creation_date": 1525897357, "last_edit_date": 1526180975, "question_id": 50261442, "link": "https://stackoverflow.com/questions/50261442/curl-command-in-python-3", "title": "Curl command in Python 3", "body": "<p>I want to execute a curl with command in python.</p>\n\n<p>Usually, I just need enter the command in terminal and press return key.</p>\n\n<p>The command shows below:</p>\n\n<pre><code>curl -H \"`oauth2l header --json key.json mobileinsights`\"  https://mobileinsights.googleapis.com/v2/networks\n</code></pre>\n\n<p>The result is in json format.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1525896955, "post_id": 50261318, "comment_id": 87540789, "body": "Of course there is a clean way. Either give variable a value if None beforehand and check for that. Or probably the value in the else clause."}, {"owner": {"reputation": 1114, "user_id": 1864267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f638dbde5799632bf2e1622fc31f1e81?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/1864267/ron"}, "edited": false, "score": 0, "creation_date": 1525896973, "post_id": 50261318, "comment_id": 87540796, "body": "try using try except ?"}, {"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 1, "creation_date": 1525897010, "post_id": 50261318, "comment_id": 87540813, "body": "No this won&#39;t work. &quot;name &#39;variable&#39; is not defined&quot; would get thrown. It won&#39;t make it to the else. You would need try/except."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525897055, "post_id": 50261318, "comment_id": 87540827, "body": "You can catch the <code>NameError</code>, but it would be far better to design your code to ensure <code>variable</code> <i>is</i> defined in the first place."}, {"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 0, "creation_date": 1525897427, "post_id": 50261318, "comment_id": 87540980, "body": "if you just want to be sure it runs for the first time you can initialize <code>variable = float(&#39;inf&#39;)</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525897721, "post_id": 50261318, "comment_id": 87541106, "body": "Don&#39;t put band-aids on symptoms, fix the problem."}, {"owner": {"reputation": 97, "user_id": 9549355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6f5dc6e9c66e011fb2f96b44a7ef28?s=128&d=identicon&r=PG&f=1", "display_name": "user9549355", "link": "https://stackoverflow.com/users/9549355/user9549355"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525899294, "post_id": 50261318, "comment_id": 87541904, "body": "@Barmar I would, but I don&#39;t think that the problem is my code here."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525899357, "post_id": 50261318, "comment_id": 87541938, "body": "No, the problem is in the earlier code that isn&#39;t initializing <code>variable</code>. Fix that."}], "answers": [{"comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1525900424, "post_id": 50261764, "comment_id": 87542392, "body": "This is NEVER a solution to a problem. Not defining variables is a big that needs fixing. Not working around."}, {"owner": {"reputation": 1433, "user_id": 7757415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155125952958756/picture?type=large", "display_name": "Ali Y\u0131lmaz", "link": "https://stackoverflow.com/users/7757415/ali-y%c4%b1lmaz"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1526021787, "post_id": 50261764, "comment_id": 87589274, "body": "@deets that was his use case, his choice to figure things out, and I provided a legit solution for him. In this regard, I believe that my solution do not deserve a downvote. Nevertheless, I would be pleased to know if these is an alternative way you can suggest to solve this issue."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1526031155, "post_id": 50261764, "comment_id": 87594521, "body": "The alternative is to define variables properly so you can\u2019t run into a situation where one code path introduces one and another one not. You can e.g. assign None and later check for that instead. And giving an answer like yours to a code quality problem reinforces bad coding, leading to increased problems further down. Thus it warrants a Downvote."}], "tags": [], "owner": {"reputation": 1433, "user_id": 7757415, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155125952958756/picture?type=large", "display_name": "Ali Y\u0131lmaz", "link": "https://stackoverflow.com/users/7757415/ali-y%c4%b1lmaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1525898755, "creation_date": 1525898755, "answer_id": 50261764, "question_id": 50261318, "link": "https://stackoverflow.com/questions/50261318/checking-if-variable-used-in-an-if-statement-exists/50261764#50261764", "title": "Checking if variable used in an if statement exists", "body": "<p>try <code>locals()</code> for local variables, <code>globals()</code> for global variables.</p>\n\n<pre><code>if variable in locals():\n  # variable named 'variable' exists\nelse:\n  variable = \"I exist!\"\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 9549355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6f5dc6e9c66e011fb2f96b44a7ef28?s=128&d=identicon&r=PG&f=1", "display_name": "user9549355", "link": "https://stackoverflow.com/users/9549355/user9549355"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525898755, "creation_date": 1525896808, "question_id": 50261318, "link": "https://stackoverflow.com/questions/50261318/checking-if-variable-used-in-an-if-statement-exists", "title": "Checking if variable used in an if statement exists", "body": "<p>I have made a program that sometimes works and sometimes it doesn't.\nI have no idea why and the code is really simple (I am using an unofficial firmware for external hardware so it's likely a bug there).</p>\n\n<p>To fix this, I made a check that determines if the program is going correctly or not.</p>\n\n<p>This is the roughly the code:</p>\n\n<pre><code>if variable &gt; whatever.value()\n    ....\nelse: \n    ....\n    variable = ....\n</code></pre>\n\n<p><code>variable</code> is not initialized before.</p>\n\n<p>Would this work? Or is this is wrong and there is a clean way to do this? (The code is in a while loop)</p>\n"}, {"tags": ["python", "callback", "fortran", "external", "f2py"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9767121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4d4tIVR4NoA/AAAAAAAAAAI/AAAAAAAAAJw/o_Ugy9COI6A/photo.jpg?sz=128", "display_name": "John Luke Lusty", "link": "https://stackoverflow.com/users/9767121/john-luke-lusty"}, "edited": false, "score": 0, "creation_date": 1525898662, "post_id": 50261385, "comment_id": 87541598, "body": "This worked perfectly! Thank you for answering so quickly."}], "tags": [], "owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "is_accepted": true, "score": 4, "last_activity_date": 1525897119, "creation_date": 1525897119, "answer_id": 50261385, "question_id": 50261285, "link": "https://stackoverflow.com/questions/50261285/external-function-f-at-1-has-no-implicit-type-in-subroutine-with-f2py/50261385#50261385", "title": "External function \u2018f\u2019 at (1) has no IMPLICIT type in subroutine with f2py", "body": "<p>The error is correct and it is a Fortran error, it will happen even without any f2py or Python</p>\n\n<pre><code>subroutine callback(f,x,y)\n  implicit none\n  external :: f\n  real(kind=kind(0.0d0)), intent(in) :: x\n  real(kind=kind(0.0d0)), intent(inout) :: y\n\n  y = f(x)\nend subroutine\n</code></pre>\n\n<p><code>f</code> has no type declared and <code>implicit none</code> is enabled so that is a Fortran error.</p>\n\n<p>Use</p>\n\n<pre><code>  real(kind=kind(0.0d0)), external :: f\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  external :: f\n  real(kind=kind(0.0d0)) :: f\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9767121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4d4tIVR4NoA/AAAAAAAAAAI/AAAAAAAAAJw/o_Ugy9COI6A/photo.jpg?sz=128", "display_name": "John Luke Lusty", "link": "https://stackoverflow.com/users/9767121/john-luke-lusty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 50261385, "answer_count": 1, "score": 2, "last_activity_date": 1525897307, "creation_date": 1525896593, "last_edit_date": 1525897307, "question_id": 50261285, "link": "https://stackoverflow.com/questions/50261285/external-function-f-at-1-has-no-implicit-type-in-subroutine-with-f2py", "title": "External function \u2018f\u2019 at (1) has no IMPLICIT type in subroutine with f2py", "body": "<p>I've used Fortran 90 for a while now and recently decided to wrap up some modules using f2py to simplifying prototyping by using Python as a front end.</p>\n\n<p>However, I've come across an error when trying to compile a subroutine that is passed an external function (from Python). Here is code that replicates the error:</p>\n\n<pre><code>! file: callback.f90\nsubroutine callback(f,x,y)\n  implicit none\n  ! - args -\n  ! in\n  external :: f\n  real(kind=kind(0.0d0)), intent(in) :: x\n  ! out\n  real(kind=kind(0.0d0)), intent(inout) :: y\n\n  y = f(x)\nend subroutine\n</code></pre>\n\n<p>Now, if I use f2py to generate a signature file (.pyf), here is what I obtain:          </p>\n\n<pre><code>!    -*- f90 -*- \n! Note: the context of this file is case sensitive.\npython module callback__user__routines \ninterface callback_user_interface \n    function f(x) result (y) ! in :callback:callback.f90\n        intent(inout) f\n        real(kind=kind(0.0d0)) intent(in) :: x\n        real(kind=kind(0.0d0)) intent(inout) :: y\n    end function f\nend interface callback_user_interface\nend python module callback__user__routines\npython module callback ! in  \n    interface  ! in :callback\n        subroutine callback(f,x,y) ! in :callback:callback.f90\n            use callback__user__routines\n            external f\n            real(kind=kind(0.0d0)) intent(in) :: x\n            real(kind=kind(0.0d0)) intent(inout) :: y\n        end subroutine callback\n    end interface \nend python module callback\n\n! This file was auto-generated with f2py (version:2).\n! See http://cens.ioc.ee/projects/f2py2e/\n</code></pre>\n\n<p>Which is not correct, so I alter it in the following way:</p>\n\n<pre><code>!    -*- f90 -*- \n! Note: the context of this file is case sensitive.\npython module __user__routines\n    interface\n        function f(x) result (y) \n            real(kind=kind(0.0d0)) intent(in) :: x\n            real(kind=kind(0.0d0)) :: y\n        end function f\n    end interface\nend python module __user__routines\npython module callback ! in  \n    interface  ! in :callback\n        subroutine callback(f,x,y)\n            use __user__routines\n            external f\n            real(kind=kind(0.0d0)) intent(in) :: x\n            real(kind=kind(0.0d0)) intent(inout) :: y\n        end subroutine callback\n    end interface \nend python module callback\n\n! This file was auto-generated with f2py (version:2).\n! See http://cens.ioc.ee/projects/f2py2e/\n</code></pre>\n\n<p>Nonetheless, both throw an error telling me that I have not defined f:</p>\n\n<pre><code>callback.f90:1:21:\nsubroutine callback(f,x,y)\n                    1\nError: Symbol \u2018f\u2019 at (1) has no IMPLICIT type\ncallback.f90:10:6:\n\n  y = f(x)\n      1\nError: Can't convert UNKNOWN to REAL(8) at (1)\ncallback.f90:1:21:\n\nsubroutine callback(f,x,y)\n                    1\nError: Symbol \u2018f\u2019 at (1) has no IMPLICIT type\ncallback.f90:10:6:\n\n   y = f(x)\n       1\nError: Can't convert UNKNOWN to REAL(8) at (1)\n</code></pre>\n\n<p>I've done as much research as I can on properly editing the .pyf signature file manually, but to no avail in this case. Has anyone encountered a similar error when trying to use f2py with external functions?</p>\n"}, {"tags": ["python", "scipy", "fipy"], "answers": [{"tags": [], "owner": {"reputation": 1804, "user_id": 2019542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/babadd6dc33f525821fe6fbd967be276?s=128&d=identicon&r=PG", "display_name": "jeguyer", "link": "https://stackoverflow.com/users/2019542/jeguyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1525958653, "creation_date": 1525958653, "answer_id": 50273989, "question_id": 50261232, "link": "https://stackoverflow.com/questions/50261232/fipy-doesnt-seem-to-want-to-use-scipy-as-a-solver/50273989#50273989", "title": "Fipy doesn&#39;t seem to want to use SciPy as a solver", "body": "<p>Based on <code>File \"fipy/__init__.py\", line 44, in &lt;module&gt;</code> and <code>File \"fipy/solvers/__init__.py\", line 68, in &lt;module&gt;</code>, you appear to be running FiPy 2.1.x, which is quite old. </p>\n\n<p>Please upgrade.</p>\n"}], "owner": {"reputation": 3246, "user_id": 815612, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aff0866587273eeae903c6bd2715b717?s=128&d=identicon&r=PG", "display_name": "Jack M", "link": "https://stackoverflow.com/users/815612/jack-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525958653, "creation_date": 1525896355, "question_id": 50261232, "link": "https://stackoverflow.com/questions/50261232/fipy-doesnt-seem-to-want-to-use-scipy-as-a-solver", "title": "Fipy doesn&#39;t seem to want to use SciPy as a solver", "body": "<p>According to the FiPy website, you need \"at least one of the solvers\", and they <a href=\"https://www.ctcms.nist.gov/fipy/documentation/SOLVERS.html#solvers\" rel=\"nofollow noreferrer\">list SciPy</a> as one possible \"solver\". I definitely have SciPy installed - I can import it with <code>import scipy</code>. I haven't formally installed FiPy with setup.py or anything like that, I just have the code in a folder called fipy. When I then go into the Python shell and type <code>import fipy</code>, I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"fipy/__init__.py\", line 44, in &lt;module&gt;\n    from solvers import *\n  File \"fipy/solvers/__init__.py\", line 68, in &lt;module&gt;\n    raise ImportError, \"Could not import any solver package. If you are using Trilinos, make sure you have all of the necessary Trilinos packages installed - Epetra, EpetraExt, AztecOO, Amesos, ML, and IFPACK.\" \nImportError: Could not import any solver package. If you are using Trilinos, make sure you have all of the necessary Trilinos packages installed - Epetra, EpetraExt, AztecOO, Amesos, ML, and IFPACK.\n</code></pre>\n\n<p>I've already tried doing this after formally installing FiPy via setup.py (using pip didn't work, I got some strange error relating to tensorflow). Setting the FIPY_SOLVERS environment variable didn't work either (same error).</p>\n\n<p>I'm on Ubuntu with Python 2.7.</p>\n"}, {"tags": ["python", "debugging", "gnu-screen"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1525896258, "post_id": 50261146, "comment_id": 87540488, "body": "Like any other problem, you need to strip it down to a minimal example to post here that replicates your problem."}, {"owner": {"reputation": 492, "user_id": 1658072, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ce787614c49f65271b5c98ef8d054cb6?s=128&d=identicon&r=PG", "display_name": "user1991", "link": "https://stackoverflow.com/users/1658072/user1991"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525896943, "post_id": 50261146, "comment_id": 87540784, "body": "I&#39;m not sure how I can do that though. As I state in the question, it doesn&#39;t seem due to the python program so I&#39;m wondering if it&#39;s the setup of screen, something someone else ran into, or such. What I&#39;m looking for is, therefore, is expertise about the ins- and outs of screen."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1525897325, "post_id": 50261146, "comment_id": 87540930, "body": "<code>screen</code> itself isn&#39;t that complicated; it creates a pseudoterminal and provides that as the controlling terminal for your process.  Start looking at the parts of your code that do I/O."}], "owner": {"reputation": 492, "user_id": 1658072, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ce787614c49f65271b5c98ef8d054cb6?s=128&d=identicon&r=PG", "display_name": "user1991", "link": "https://stackoverflow.com/users/1658072/user1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531741690, "creation_date": 1525895972, "last_edit_date": 1531741690, "question_id": 50261146, "link": "https://stackoverflow.com/questions/50261146/fatal-io-error-when-using-python-in-screen-session", "title": "Fatal IO error when using Python in screen session", "body": "<p>I'm running a python script in a screen session. That is: I open the screen session, start the script and intend to let it run in the background, shutting down the terminal.</p>\n\n<p>When I re-open the screen session, it tells me a 'Fatal IO error: client killed' occurred. \nI don't think it's because of my specific code, since it runs fine as long as I stay active in the window (I don't detach the screen session).</p>\n\n<p>What could be the cause of this and/or how could I troubleshoot?</p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1525896672, "post_id": 50261144, "comment_id": 87540678, "body": "Please use a random seed so we can easily reproduce the data.  Try putting this at the top of your code and update your post <code>np.random.seed(0)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21903, "user_id": 9274732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2713715b9156a66c16d7c1331528dce8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben.T", "link": "https://stackoverflow.com/users/9274732/ben-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1525898954, "creation_date": 1525898954, "answer_id": 50261818, "question_id": 50261144, "link": "https://stackoverflow.com/questions/50261144/merge-subgroup-into-adjacent-subgroup-after-groupby/50261818#50261818", "title": "Merge subgroup into adjacent subgroup after groupby", "body": "<p>A simple way to do it is with a loop <code>for</code> on indexes meeting your condition:</p>\n\n<pre><code>df_group = df.groupby(features)['target'].agg(['mean','count'])\n# Fist reset_index to get an easier manipulation\ndf_group = df_group.reset_index()\nlist_indexes = df_group[df_group['count'] &lt;=58].index.values # put any value you want\n# loop for on list_indexes\nfor ind in list_indexes:\n    # check again your condition in case at the previous iteration \n    # merging the row has increase the count above your cirteria\n    if df_group['count'].loc[ind] &lt;= 58:\n        # add the count values to the next row\n        df_group['count'].loc[ind+1] = df_group['count'].loc[ind+1] + df_group['count'].loc[ind]\n        # do anything you want on mean\n        # drop the row\n        df_group = df_group.drop(axis = 0, index = ind)\n# Reindex your df\ndf_group = df_group.set_index(features)\n</code></pre>\n"}], "owner": {"reputation": 839, "user_id": 4260762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b72598499d345ba4dcedbc9debfc785?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/4260762/wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 50261818, "answer_count": 1, "score": 1, "last_activity_date": 1525942109, "creation_date": 1525895963, "last_edit_date": 1525942109, "question_id": 50261144, "link": "https://stackoverflow.com/questions/50261144/merge-subgroup-into-adjacent-subgroup-after-groupby", "title": "Merge subgroup into adjacent subgroup after groupby", "body": "<p>If we run the following code</p>\n\n<pre><code>np.random.seed(0) \nfeatures = ['f1','f2','f3']\n\ndf = pd.DataFrame(np.random.rand(5000,4), columns=features+['target'])\nfor f in features:\n    df[f] = np.digitize(df[f], bins=[0.13,0.66])\n    df['target'] = np.digitize(df['target'], bins=[0.5]).astype(float)\n\ndf.groupby(features)['target'].agg(['mean','count']).head(9)\n</code></pre>\n\n<p>We get average values for each grouping of the feature set:</p>\n\n<pre><code>            mean    count\nf1  f2  f3      \n0   0   0   0.571429    7\n        1   0.414634    41\n        2   0.428571    28\n    1   0   0.490909    55\n        1   0.467337    199\n        2   0.486726    113\n    2   0   0.518519    27\n        1   0.446281    121\n        2   0.541667    72\n</code></pre>\n\n<p>In the table above, some of the groups has too few observations and I want to merge it into 'adjacent' group by some rules. For example, I may want to merge the group [0,0,0] with group [0,0,1] since it has no more than 30 observations. I wonder if there is any good way of operating such group combinations according to columns values without creating a separate dictionary? More specifically, I may want to merge from the smallest count group to its adjacent group (the next group within the index order) until the total number of groups is no more than 10. </p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": false, "score": 18, "last_activity_date": 1540909089, "last_edit_date": 1540909089, "creation_date": 1525899164, "answer_id": 50261872, "question_id": 50261135, "link": "https://stackoverflow.com/questions/50261135/importing-flask-ext-raises-modulenotfounderror/50261872#50261872", "title": "Importing flask.ext raises ModuleNotFoundError", "body": "<p>Something in your code, or in code you're using, is trying to import <code>flask.ext</code> or <code>flask.exthook</code>, which no longer exists in Flask 1.0. They were completely removed after being visibly deprecated for at least a year, and implicitly deprecated for many years before that. Anything that still depends on it must be upgraded.</p>\n\n<p>Any use of <code>from flask.ext import ...</code> should be replaced with a direct import of the extension. For example <code>flask.ext.sqlalchemy</code> becomes <code>flask_sqlalchemy</code>.</p>\n\n<p>The only reason to import <code>from flask.exthook import ExtDeprecationWarning</code> is to silence the previous deprecation warnings. Since it no longer exists, there is no warning to silence, and that code can be removed.</p>\n"}, {"tags": [], "owner": {"reputation": 535, "user_id": 3356424, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ad19a78db7079b72dfc59549608e934a?s=128&d=identicon&r=PG&f=1", "display_name": "khanna", "link": "https://stackoverflow.com/users/3356424/khanna"}, "is_accepted": false, "score": 1, "last_activity_date": 1567061147, "creation_date": 1567061147, "answer_id": 57704469, "question_id": 50261135, "link": "https://stackoverflow.com/questions/50261135/importing-flask-ext-raises-modulenotfounderror/57704469#57704469", "title": "Importing flask.ext raises ModuleNotFoundError", "body": "<p>I had this problem in <code>/bin/superset</code> and it was only for warnings, so I muted it like this :</p>\n\n<pre><code>#from flask.exthook import ExtDeprecationWarning\nfrom superset.cli import create_app\n\n#warnings.simplefilter('ignore', ExtDeprecationWarning)\n</code></pre>\n\n<p>see the commented lines. additionally, installing sqlalchemy==1.2.18 helped for errors that followed (this line may not be relevant so just an FYI)!</p>\n"}], "owner": {"reputation": 2206, "user_id": 5707563, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-ejroD92f8ow/AAAAAAAAAAI/AAAAAAAAAIQ/Jn0DB3gpNjs/photo.jpg?sz=128", "display_name": "Sam Chats", "link": "https://stackoverflow.com/users/5707563/sam-chats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3893, "favorite_count": 1, "answer_count": 2, "score": 12, "last_activity_date": 1567061147, "creation_date": 1525895919, "last_edit_date": 1540909006, "question_id": 50261135, "link": "https://stackoverflow.com/questions/50261135/importing-flask-ext-raises-modulenotfounderror", "title": "Importing flask.ext raises ModuleNotFoundError", "body": "<p>When I try to use Flask extensions, my application is raising <code>ModuleNotFound</code> errors on lines like <code>from flask.ext.sqlalchemy import SQLAlchemy</code> or <code>from flask.exthook import ExtDeprecationWarning</code>. I have Flask and the extension installed. Why do I get this error?</p>\n"}, {"tags": ["python", "scikit-learn", "grid-search"], "answers": [{"tags": [], "owner": {"reputation": 2310, "user_id": 3656081, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/69071f1a4855e7a35b785ca46e150962?s=128&d=identicon&r=PG&f=1", "display_name": "tangy", "link": "https://stackoverflow.com/users/3656081/tangy"}, "is_accepted": false, "score": 1, "last_activity_date": 1525909682, "last_edit_date": 1525909682, "creation_date": 1525904489, "answer_id": 50262881, "question_id": 50261094, "link": "https://stackoverflow.com/questions/50261094/scikit-learn-grid-cross-validation-returning-incorrect-mean/50262881#50262881", "title": "scikit learn Grid Cross Validation returning incorrect mean", "body": "<p>I think what your seeing is a weighed mean not a direct average.</p>\n"}, {"tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1525931490, "creation_date": 1525931490, "answer_id": 50266324, "question_id": 50261094, "link": "https://stackoverflow.com/questions/50261094/scikit-learn-grid-cross-validation-returning-incorrect-mean/50266324#50266324", "title": "scikit learn Grid Cross Validation returning incorrect mean", "body": "<p>Try setting <code>iid=False</code> in <code>GridSearchCV(...)</code> and compare. </p>\n\n<p>According to documentation:</p>\n\n<blockquote>\n<pre><code>iid : boolean, default=True\n\n    If True, the data is assumed to be identically distributed across \n    the folds, and the loss minimized is the total loss per sample,\n    and not the mean loss across the folds.\n</code></pre>\n</blockquote>\n\n<p>So when <code>iid</code> is True (by default), averaging of test scores include a weight as specified <a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/model_selection/_search.py#L725\" rel=\"nofollow noreferrer\">here in source code</a>:</p>\n\n<pre><code>    _store('test_%s' % scorer_name, test_scores[scorer_name],\n                   splits=True, rank=True,\n                   weights=test_sample_counts if iid else None)\n</code></pre>\n\n<p>Please note that train scores are not affected by it, so also cross-check the mean of train scores.</p>\n"}], "owner": {"reputation": 95, "user_id": 3924957, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e400a4c42b8466a7cf48b1ca2a4d3045?s=128&d=identicon&r=PG&f=1", "display_name": "mlengg", "link": "https://stackoverflow.com/users/3924957/mlengg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1525931490, "creation_date": 1525895707, "question_id": 50261094, "link": "https://stackoverflow.com/questions/50261094/scikit-learn-grid-cross-validation-returning-incorrect-mean", "title": "scikit learn Grid Cross Validation returning incorrect mean", "body": "<p>I used the GridCV to do cross validation across k folds to tune my hyper parameters. The mean results which should have been mean over individual folds is wrong in my results attribute \"cv_results_\". Following is my code for same:</p>\n\n<pre><code>gscv = GridSearchCV(n_jobs=n_jobs,cv=train_test_iterable, estimator=pipeline, param_grid=param_grid, \n                verbose=10, scoring=['accuracy', 'precision','recall','f1'], refit='f1', \n                    return_train_score=return_train_score, error_score=error_score,\n                   )\ngscv.fit(X,Y)\ngscv.cv_results_\n</code></pre>\n\n<p>The cv_results_ contains following json(displayed as table)</p>\n\n<pre><code>    mean_test_f1    split0_test_f1  split1_test_f1  Actual Mean\n    0.934310796     0.935603198     0.933665455     0.934634326\n    0.931279716     0.908430118     0.942689316     0.925559717\n    0.927683609     0.912005672     0.935512149     0.923758911\n    0.680908006     0.741198823     0.650802701     0.696000762\n    0.680908006     0.741198823     0.650802701     0.696000762\n    0.646005028     0.684483208     0.626791532     0.65563737\n    0.840273248     0.847484083     0.836672627     0.842078355\n    0.837160828     0.847484083     0.832006068     0.839745075\n    0.833637        0.842109375     0.829406448     0.835757911\n</code></pre>\n\n<p>You can see above: the \"mean_test_f1\" is not the mean of two folds \"split0_test_f1\", \"split1_test_f1\". Actual mean is the last column. </p>\n\n<p>Note: F1 means the f1-score.</p>\n\n<p>Did anyone face similar issues?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1525896346, "post_id": 50261076, "comment_id": 87540531, "body": "Does the language key always have a single item the first <code>items</code> list?"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1525896845, "post_id": 50261076, "comment_id": 87540748, "body": "@user2285236 no, the language could have multiple values."}], "answers": [{"comments": [{"owner": {"reputation": 1298, "user_id": 9435107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e0a5095d1dee0d01c4b5f24f4be428?s=128&d=identicon&r=PG&f=1", "display_name": "W Stokvis", "link": "https://stackoverflow.com/users/9435107/w-stokvis"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1525896588, "post_id": 50261197, "comment_id": 87540639, "body": "@RafaelC, can you explain how it doesn&#39;t answer the question? The result is what OP is looking for."}, {"owner": {"reputation": 1298, "user_id": 9435107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e0a5095d1dee0d01c4b5f24f4be428?s=128&d=identicon&r=PG&f=1", "display_name": "W Stokvis", "link": "https://stackoverflow.com/users/9435107/w-stokvis"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1525896729, "post_id": 50261197, "comment_id": 87540696, "body": "No worries. Didn&#39;t add the result originally so may have been a misunderstanding."}], "tags": [], "owner": {"reputation": 1298, "user_id": 9435107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e0a5095d1dee0d01c4b5f24f4be428?s=128&d=identicon&r=PG&f=1", "display_name": "W Stokvis", "link": "https://stackoverflow.com/users/9435107/w-stokvis"}, "is_accepted": false, "score": 1, "last_activity_date": 1525896622, "last_edit_date": 1525896622, "creation_date": 1525896197, "answer_id": 50261197, "question_id": 50261076, "link": "https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together/50261197#50261197", "title": "Using pandas to add list elements together", "body": "<pre><code>from more_itertools import flatten\ndf.groupby('FirstName')['Language'].apply(lambda x: list(set(flatten([i for i in x]))))\n.reset_index()\n.to_dict(orient='records')\n\n[{'FirstName': 'Bob', 'Language': ['en']},\n {'FirstName': 'David', 'Language': ['en', 'fr']}]\n</code></pre>\n\n<p>I assume you kept getting <code>unhashable type: 'list'</code> so I simply use a list comprehension to get the value from it and then flatten it since it ended up looking like this after just a list comprehension: </p>\n\n<pre><code>FirstName\nBob                  [[en]]\nDavid    [[en], [fr], [en]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1525899079, "post_id": 50261200, "comment_id": 87541795, "body": "Also need to be specify &#39;Language&#39; somewhere (trivial in the above example, but sometimes will have additional fields)."}], "tags": [], "owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "is_accepted": false, "score": 3, "last_activity_date": 1525896800, "last_edit_date": 1525896800, "creation_date": 1525896201, "answer_id": 50261200, "question_id": 50261076, "link": "https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together/50261200#50261200", "title": "Using pandas to add list elements together", "body": "<p>You can use:</p>\n\n<pre><code>df.groupby('FirstName').sum().applymap(lambda s: list(set(s)))\n</code></pre>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.applymap.html\" rel=\"nofollow noreferrer\">applymap</a> will apply a function to every element, mapping a list to a de-duplicated list.</p>\n\n<pre><code>In [185]: df = pd.DataFrame(items)\n\nIn [186]: df\nOut[186]: \n  FirstName Language\n0     David     [en]\n1     David     [fr]\n2     David     [en]\n3       Bob     [en]\n\nIn [187]: df.groupby('FirstName').sum().applymap(lambda s: list(set(s)))\nOut[187]: \n           Language\nFirstName          \nBob            [en]\nDavid      [en, fr]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 6, "last_activity_date": 1525896283, "creation_date": 1525896283, "answer_id": 50261216, "question_id": 50261076, "link": "https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together/50261216#50261216", "title": "Using pandas to add list elements together", "body": "<p>Aggregate all with sum, <code>transform</code> values to set and then <code>to_dict()</code></p>\n\n<pre><code>&gt;&gt;&gt; df.groupby('FirstName').sum()[\"Language\"].transform(set).reset_index().to_dict(orient='records')\n\n[{'FirstName': 'Bob', 'Language': {'en'}},\n {'FirstName': 'David', 'Language': {'en', 'fr'}}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1525898398, "post_id": 50261237, "comment_id": 87541454, "body": "@david542  Not the timing differences between applyman and apply greater than 3x faster."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 2, "last_activity_date": 1525898223, "last_edit_date": 1592644375, "creation_date": 1525896369, "answer_id": 50261237, "question_id": 50261076, "link": "https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together/50261237#50261237", "title": "Using pandas to add list elements together", "body": "<p>Use:</p>\n<pre><code>df.groupby('FirstName')['Language']\\\n  .apply(lambda x: list(set(x.str[0])))\\\n  .reset_index().to_dict('r')\n</code></pre>\n<p>Output:</p>\n<pre><code>[{'FirstName': 'Bob', 'Language': ['en']},\n {'FirstName': 'David', 'Language': ['fr', 'en']}]\n</code></pre>\n<p>Create a set our of the first element of the list in each group.</p>\n<h3>Timings</h3>\n<pre><code>%timeit df.groupby('FirstName').sum().applymap(lambda s: list(set(s)))\n</code></pre>\n<blockquote>\n<p>7.31 ms \u00b1 534 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)</p>\n</blockquote>\n<pre><code>%timeit df.groupby('FirstName')['Language'].apply(lambda x: list(set(x.str[0]))).to_frame()\n</code></pre>\n<blockquote>\n<p>2.09 ms \u00b1 207 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)</p>\n</blockquote>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 50261216, "answer_count": 4, "score": 2, "last_activity_date": 1525898223, "creation_date": 1525895620, "question_id": 50261076, "link": "https://stackoverflow.com/questions/50261076/using-pandas-to-add-list-elements-together", "title": "Using pandas to add list elements together", "body": "<p>I have the following array of dicts:</p>\n\n<pre><code>items = [ \n{\n    'FirstName': 'David',\n    'Language': ['en',]\n},\n{\n    'FirstName': 'David',\n    'Language': ['fr',]\n},\n\n{\n    'FirstName': 'David',\n    'Language': ['en',]\n},\n{\n    'FirstName': 'Bob',\n    'Language': ['en',]\n}\n]\n</code></pre>\n\n<p>Which I want to group by on FirstName and add the unique languages together, like so:</p>\n\n<pre><code>items = [ \n{\n    'FirstName': 'David',\n    'Language': ['en', 'fr']\n},\n\n{\n    'FirstName': 'Bob',\n    'Language': ['en',]\n}\n]\n</code></pre>\n\n<p>The SQL I would use would be:</p>\n\n<pre><code>SELECT FirstName, GROUP_CONCAT(DISTINCT Language ORDER BY Language)\nFROM items\nGROUP BY FirstName\n</code></pre>\n\n<p>Using pandas, how would I combine this and do a group by on FirstName and get an array of unique languages? Here is what I have so far:</p>\n\n<pre><code>&gt;&gt;&gt; df = pandas.DataFrame(items)\n&gt;&gt;&gt; df.groupby('FirstName')['Language']\n      .apply(lambda x: list(set(x))) # this line is off\n      .reset_index()\n      .to_dict(orient='records')\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "dask"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1525895893, "post_id": 50261070, "comment_id": 87540299, "body": "Isn&#39;t this equivalent to <code>df[FOI[1:]]</code> (which should work on dask dataframes as well)?"}, {"owner": {"reputation": 57, "user_id": 9368090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d173cb467d8ae33108fcb62d5417649?s=128&d=identicon&r=PG&f=1", "display_name": "Dave L", "link": "https://stackoverflow.com/users/9368090/dave-l"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1525897385, "post_id": 50261070, "comment_id": 87540958, "body": "I facepalmed after posting this question because I realized that as well. Thank you for pointing that out Rafael."}, {"owner": {"reputation": 21140, "user_id": 3821154, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RYr9X.jpg?s=128&g=1", "display_name": "mdurant", "link": "https://stackoverflow.com/users/3821154/mdurant"}, "edited": false, "score": 1, "creation_date": 1526174252, "post_id": 50261070, "comment_id": 87640106, "body": "(you may want to put that as an answer, so that this question doesn&#39;t appear unanswered)"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "reply_to_user": {"reputation": 21140, "user_id": 3821154, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RYr9X.jpg?s=128&g=1", "display_name": "mdurant", "link": "https://stackoverflow.com/users/3821154/mdurant"}, "edited": false, "score": 0, "creation_date": 1543579603, "post_id": 50261070, "comment_id": 93979769, "body": "@mdurant are you planning to implement <code>filter</code> at some point?"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 9368090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d173cb467d8ae33108fcb62d5417649?s=128&d=identicon&r=PG&f=1", "display_name": "Dave L", "link": "https://stackoverflow.com/users/9368090/dave-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1543545415, "creation_date": 1543545415, "answer_id": 53550432, "question_id": 50261070, "link": "https://stackoverflow.com/questions/50261070/what-is-the-dask-equivalent-of-the-pandas-filter-attribute/53550432#53550432", "title": "What is the Dask equivalent of the Pandas .filter() attribute?", "body": "<p>As @ayhan pointed out, this equivalent to <code>df[FOI[1:]]</code></p>\n"}], "owner": {"reputation": 57, "user_id": 9368090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d173cb467d8ae33108fcb62d5417649?s=128&d=identicon&r=PG&f=1", "display_name": "Dave L", "link": "https://stackoverflow.com/users/9368090/dave-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1543545568, "creation_date": 1525895579, "last_edit_date": 1543545568, "question_id": 50261070, "link": "https://stackoverflow.com/questions/50261070/what-is-the-dask-equivalent-of-the-pandas-filter-attribute", "title": "What is the Dask equivalent of the Pandas .filter() attribute?", "body": "<p>I am trying to make sub-DataFrames from a larger DataFrame in Dask. I realize that a lot of the tools found in Pandas used to manipulate DataFrames are present in Dask, however the devs are very transparent about what is not.</p>\n\n<p>One such tool is the <code>df.filter()</code> attribute for DataFrames. I have code that looks like this:</p>\n\n<pre><code>comp2phys = df.filter(FOI[1:], axis=1)\n</code></pre>\n\n<p>where <code>df</code> is a DataFrame and <code>FOI</code> is a list containing the \"fieldnames of interest\".</p>\n\n<p>I get this error when I try to filter the dataframe (as I explained above, it is not a tool in Dask) </p>\n\n<pre><code>AttributeError: 'DataFrame' object has no attribute 'filter'\n</code></pre>\n\n<p>Is there a tool in Dask that will allow me to do this?\nThanks!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As @ayhan pointed out, this equivalent to <code>df[FOI[1:]]</code></p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 1, "last_activity_date": 1525912139, "creation_date": 1525912139, "answer_id": 50263843, "question_id": 50261024, "link": "https://stackoverflow.com/questions/50261024/moving-scalable-rectangle-with-mouse-in-pygame/50263843#50263843", "title": "Moving scalable rectangle with mouse in pygame", "body": "<p>You could check which mouse button is pressed in the <code>elif event.type == pg.MOUSEMOTION:</code> block, e.g. <code>if event.buttons[0]:</code>, and then either move or scale the rect depending on the button. To move the rect, just add the <code>event.rel</code> to the <code>rect.x</code> and <code>rect.y</code> attributes.</p>\n\n<pre><code>import pygame as pg\n\n\npg.init()\nscreen = pg.display.set_mode((640, 480))\nclock = pg.time.Clock()\nrect1 = pg.Rect(100, 100, 161, 100)\nrect2 = pg.Rect(300, 200, 161, 100)\nselected_rect = None\n\ndone = False\nwhile not done:\n    for event in pg.event.get():\n        if event.type == pg.QUIT:\n            done = True\n        elif event.type == pg.MOUSEBUTTONDOWN:\n            for rect in (rect1, rect2):\n                if rect.collidepoint(event.pos):\n                    selected_rect = rect  # Select the colliding rect.\n        elif event.type == pg.MOUSEBUTTONUP:\n            selected_rect = None  # De-select the rect.\n        elif event.type == pg.MOUSEMOTION:\n            if selected_rect is not None:  # If a rect is selected.\n                if event.buttons[0]:  # Left mouse button is down.\n                    # Move the rect.\n                    selected_rect.x += event.rel[0]\n                    selected_rect.y += event.rel[1]\n                else:  # Right or middle mouse button.\n                    # Scale the rect.\n                    selected_rect.w += event.rel[0]\n                    selected_rect.h += event.rel[1]\n                    selected_rect.w = max(selected_rect.w, 10)\n                    selected_rect.h = max(selected_rect.h, 10)\n\n    screen.fill((30, 30, 30))\n    pg.draw.rect(screen, (0, 100, 250), rect1)\n    pg.draw.rect(screen, (0, 200, 120), rect2)\n    pg.display.flip()\n    clock.tick(30)\n</code></pre>\n"}], "owner": {"reputation": 222, "user_id": 9699232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YChTAPlUQLY/AAAAAAAAAAI/AAAAAAAAAEM/61_Qv1p-UiQ/photo.jpg?sz=128", "display_name": "ChewyCarrot", "link": "https://stackoverflow.com/users/9699232/chewycarrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 50263843, "answer_count": 1, "score": 2, "last_activity_date": 1525912139, "creation_date": 1525895352, "question_id": 50261024, "link": "https://stackoverflow.com/questions/50261024/moving-scalable-rectangle-with-mouse-in-pygame", "title": "Moving scalable rectangle with mouse in pygame", "body": "<p>I'm trying to move a rectangle inside of pygame, and making it scalable.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/50242597/scaling-an-image-rectangle-in-pygame/50243327#50243327\">The scalable rectangle code is something like this</a> then I tried to add an event like this:</p>\n\n<pre><code>from pygame imports *\ninit()\n\nrect1 = (rect1x, rect1y, 300,300)\nrect1x = 0\nrect1y = 0\n\nwhile running: \n    x,y = mouse.get_pos()\n        if rect1Pressed == True:\n        rect1x = x\n        rect1y = y\n    for evnt in event.get():\n            if evnt.type == QUIT:\n                running = False\n    if evnt.type == MOUSEBUTTONDOWN:\n        if evnt.button == 1:\n            if rect1.collidepoint(mouse.get_pos()):\n                rect1Pressed == True\n</code></pre>\n\n<p>How would i incorporate the scalable rectangle and being able to make it move with the mouse? So that the window will follow the mouse motion. So it kinda is like a on your laptop where your able to scale the window and also move it around.</p>\n"}, {"tags": ["python", "nlp", "spacy"], "answers": [{"tags": [], "owner": {"reputation": 657, "user_id": 4930914, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c21b79a49df8d602dda7203fb6a4abd?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_nltk", "link": "https://stackoverflow.com/users/4930914/programmer-nltk"}, "is_accepted": false, "score": 0, "last_activity_date": 1526000492, "creation_date": 1526000492, "answer_id": 50283532, "question_id": 50261008, "link": "https://stackoverflow.com/questions/50261008/identify-personal-comments-python/50283532#50283532", "title": "Identify personal comments python", "body": "<p>Try Textacy: Something on this line</p>\n\n<p>list(textacy.extract.semistructured_statements(doc, 'I', cue='be'))</p>\n"}], "owner": {"reputation": 1, "user_id": 8742978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Kl_x2RSNryk/AAAAAAAAAAI/AAAAAAAAABA/9QdXRt48DSw/photo.jpg?sz=128", "display_name": "Srikanth Tadisetty", "link": "https://stackoverflow.com/users/8742978/srikanth-tadisetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1526000492, "creation_date": 1525895292, "question_id": 50261008, "link": "https://stackoverflow.com/questions/50261008/identify-personal-comments-python", "title": "Identify personal comments python", "body": "<p>So I'm currently trying to identify comments wherein a person is talking about him/her-self.  I'm using Spacy's POS tagging and have chosen to use 'nsubj', 'poss' and 'nsubjpass' as indicator tags for first person.  Ofcourse, this fails with more complex sentences such as </p>\n\n<p>\"Yeah, mostly delusion. Occasionally laughter\"\nor \"Brain down dragging in the dirt, parasites and grubs all around the folds. Whisper whisper, will it all go away?\"</p>\n\n<pre><code>Yeah intj\nmostly advmod\ndelusions ROOT\n. punct\nOccasional amod\nvoices ROOT\n. punct\n</code></pre>\n\n<p>Would appreciate some help to identify such sentences as being personal.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pandas", "pivot-table"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1525895903, "post_id": 50261000, "comment_id": 87540305, "body": "Can you provide data and code that generates this error?  I am not able to duplicate your issue by what is described in this question."}, {"owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1525900507, "post_id": 50261000, "comment_id": 87542421, "body": "edited my original post"}], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1525903636, "post_id": 50262358, "comment_id": 87543493, "body": "Looks like either (1) something went wrong when you copy-pasted the code from my answer, or (2) your data isn&#39;t comparable to what&#39;s here. If (2), you can <a href=\"https://stackoverflow.com/posts/50261000/edit\">edit</a> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with data presented as in my answer."}, {"owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1525906558, "post_id": 50262358, "comment_id": 87544426, "body": "this is just a sample of data I have....I can&#39;t show the entire table. But when I&#39;m group by (year,month, source) it looks fine."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1525906584, "post_id": 50262358, "comment_id": 87544435, "body": "@H.Z., Sorry, I can&#39;t solve a problem I can&#39;t <i>see</i>."}, {"owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "edited": false, "score": 0, "creation_date": 1525921851, "post_id": 50262358, "comment_id": 87547778, "body": "Do you know the reason i\u2019m getting this error message? After applying the pivot_table, there should be unique index"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1525901395, "creation_date": 1525901395, "answer_id": 50262358, "question_id": 50261000, "link": "https://stackoverflow.com/questions/50261000/creating-a-pivot-table-fails-on-a-pandas-dataframe/50262358#50262358", "title": "creating a pivot_table fails on a pandas dataframe", "body": "<p>Your desired output can be reached by using <code>aggfunc=len</code>.</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame([[2001, '02', 'A'], [2001, '02', 'A'], [2001, '03', 'B'],\n                   [2001, '03', 'B'], [2001, '03', 'B']],\n                  columns=['Year', 'Month', 'Source'])\n\nres = df.pivot_table(index=['Year', 'Month'], columns='Source',\n                     aggfunc=len, fill_value=0)\n\nprint(res)\n\nSource      A  B\nYear Month      \n2001 02     2  0\n     03     0  3\n</code></pre>\n"}], "owner": {"reputation": 4825, "user_id": 1899010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6d8b9b48d0b008273eb8b21417d0e19d?s=128&d=identicon&r=PG", "display_name": "HHH", "link": "https://stackoverflow.com/users/1899010/hhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525901395, "creation_date": 1525895251, "last_edit_date": 1525900497, "question_id": 50261000, "link": "https://stackoverflow.com/questions/50261000/creating-a-pivot-table-fails-on-a-pandas-dataframe", "title": "creating a pivot_table fails on a pandas dataframe", "body": "<p>I have a dataframe with columns <code>year</code>, <code>month</code>, <code>source</code>, ... there are multiple records per (year,month,source) and I need to generate a pivot table whose index is (year, month) and source is the column and count of the records per (year,month, source) are the values. I have the following code</p>\n\n<pre><code>df.privot_table(index = ['year','month'], columns = ['source'], aggfunc = np.size, fill_value = 0)\n</code></pre>\n\n<p>here is how my data look like</p>\n\n<pre><code>2001,02,A, ....\n2001,02,A,....\n2001,03,B,....\n2001,03,B,....\n2001,03,B,....\n</code></pre>\n\n<p>and this is how I want the data to be</p>\n\n<pre><code>           A  B\n2001, 02,  2, 0\n2001, 03,  0, 3\n</code></pre>\n\n<p>but it throws the following error message</p>\n\n<pre><code> Reindexing only valid with uniquely values index objects\n</code></pre>\n\n<p>What's wrong?</p>\n"}, {"tags": ["python", "elasticsearch", "kibana", "elasticsearch-dsl", "elasticsearch-dsl-py"], "comments": [{"owner": {"reputation": 1149, "user_id": 3708175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/17131040/picture?type=large", "display_name": "sramalingam24", "link": "https://stackoverflow.com/users/3708175/sramalingam24"}, "edited": false, "score": 0, "creation_date": 1525904062, "post_id": 50260971, "comment_id": 87543661, "body": "What is the mapping on your index?"}, {"owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "reply_to_user": {"reputation": 1149, "user_id": 3708175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/17131040/picture?type=large", "display_name": "sramalingam24", "link": "https://stackoverflow.com/users/3708175/sramalingam24"}, "edited": false, "score": 0, "creation_date": 1525905176, "post_id": 50260971, "comment_id": 87544015, "body": "Index maps entire  cars sector that includes other car manufacturers."}, {"owner": {"reputation": 1149, "user_id": 3708175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/17131040/picture?type=large", "display_name": "sramalingam24", "link": "https://stackoverflow.com/users/3708175/sramalingam24"}, "edited": false, "score": 0, "creation_date": 1525905997, "post_id": 50260971, "comment_id": 87544268, "body": "I mean the output of GET <a href=\"http://host:port/myIndex\" rel=\"nofollow noreferrer\">host:port/myIndex</a>"}, {"owner": {"reputation": 573, "user_id": 4987448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c02804596bada9c571f88be03022a215?s=128&d=identicon&r=PG&f=1", "display_name": "Praneeth", "link": "https://stackoverflow.com/users/4987448/praneeth"}, "edited": false, "score": 1, "creation_date": 1525955676, "post_id": 50260971, "comment_id": 87562909, "body": "You can use <code>terms</code> query to search for multiple values on a single field, though take care of the mapping to have as <code>non-analyzed</code> since it&#39;ll be <code>analyzed</code> by default(text fields are <code>analyzed</code>)"}], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525895799, "creation_date": 1525895117, "last_edit_date": 1525895799, "question_id": 50260971, "link": "https://stackoverflow.com/questions/50260971/search-for-more-than-one-string-in-a-field-using-elasticsearch-dsl", "title": "Search for more than one string in a field using elasticsearch_dsl", "body": "<p>I am looking for ways to use <code>elasticsearch_dsl</code> to query for multiple strings on a single field.<br>\nWhen I try using wildcard option, it just lists last string found</p>\n\n<p>For example, I need to look for following strings in field called <code>cars_model</code></p>\n\n<pre><code>\u201chonda_accord\u201d\n\u201chonda_crv\u201d\n\u201chonda_civic\u201d \u2026 etc\n</code></pre>\n\n<p>So the query I am forming is </p>\n\n<pre><code>from elasticsearch import Elasticsearch\nfrom elasticsearch_dsl import Search\nclient = Elasticsearch([{'host': MY_HOST, 'port': MY_PORT, 'timeout': TIME_OUT}])\n\ns = Search(using=client,index=\u201cmyIndex\u201d).query(\"wildcard\",cars_model=\u201chonda*\u201d).execute()\n</code></pre>\n\n<p>Here, Its returning only listing for \u201chonda_crv\u201d , which I am assuming last  data.</p>\n\n<p>I\u2019ve tried using following options after doing some research</p>\n\n<pre><code>body = {'query_string': {'query': \u2018honda*\u2019, 'default_operator': 'or', 'analyze_wildcard': True}}\ns = Search(using=client, index=\u201cmyIndex\u201d).query(body).execute()\n</code></pre>\n\n<p>Even tried <code>multi_match</code> option which still gives me last query found.</p>\n\n<pre><code>from elasticsearch_dsl.query import MultiMatch, Match\ns = Search(using=client, index=\u201cmy_index\u201d).query(\"multi_match\", query=\"wildcard\", cars_model=[\u201chonda_accord\u201d,\u201chonda_crv\u201d, \u201chonda_civic\u201d ])\n</code></pre>\n\n<p>Logically, it should list all the cars model that matches \"honda*\"</p>\n\n<p>Any help is appreciaited.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 361, "user_id": 8150822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97f792f2ae77cc92ed283bba8a85465f?s=128&d=identicon&r=PG&f=1", "display_name": "Theodore Howell", "link": "https://stackoverflow.com/users/8150822/theodore-howell"}, "edited": false, "score": 0, "creation_date": 1525895221, "post_id": 50260946, "comment_id": 87539990, "body": "Could you verify one thing for me? Please try this command"}, {"owner": {"reputation": 361, "user_id": 8150822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97f792f2ae77cc92ed283bba8a85465f?s=128&d=identicon&r=PG&f=1", "display_name": "Theodore Howell", "link": "https://stackoverflow.com/users/8150822/theodore-howell"}, "edited": false, "score": 0, "creation_date": 1525895368, "post_id": 50260946, "comment_id": 87540058, "body": "C:\\Python27\\python.exe pdfminer.py"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "reply_to_user": {"reputation": 361, "user_id": 8150822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97f792f2ae77cc92ed283bba8a85465f?s=128&d=identicon&r=PG&f=1", "display_name": "Theodore Howell", "link": "https://stackoverflow.com/users/8150822/theodore-howell"}, "edited": false, "score": 0, "creation_date": 1525895699, "post_id": 50260946, "comment_id": 87540214, "body": "Same thing, unfortunately"}], "answers": [{"comments": [{"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 1, "creation_date": 1525895522, "post_id": 50260993, "comment_id": 87540123, "body": "I am running Python with <code>py -2 myscript.py</code>. It is getting the right version of Python, I verified this by printing <code>sys.version</code>"}], "tags": [], "owner": {"reputation": 542, "user_id": 3967975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560a367d9d2ca718fef405867f48c385?s=128&d=identicon&r=PG", "display_name": "Watty62", "link": "https://stackoverflow.com/users/3967975/watty62"}, "is_accepted": false, "score": 0, "last_activity_date": 1525895234, "creation_date": 1525895234, "answer_id": 50260993, "question_id": 50260946, "link": "https://stackoverflow.com/questions/50260946/python-import-statements-with-two-pythons-installed/50260993#50260993", "title": "python import statements with two pythons installed", "body": "<p>Have you tried specifying which Python installation to use at the start of your programme, providing a link to the installation. </p>\n\n<p>e.g. </p>\n\n<pre><code>#!/usr/bin/python\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 2, "creation_date": 1525895937, "post_id": 50261082, "comment_id": 87540325, "body": "Oh man, that was it. I also had a directory named <code>pdfminer</code>, not sure which of the two was the cause but once I fixed both it started working. THANK YOU!!!!!"}], "tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1525895656, "creation_date": 1525895656, "answer_id": 50261082, "question_id": 50260946, "link": "https://stackoverflow.com/questions/50260946/python-import-statements-with-two-pythons-installed/50261082#50261082", "title": "python import statements with two pythons installed", "body": "<p>You've called your own script <code>pdfminer.py</code> which is now shadowing the module you're trying to import. Rename your script.</p>\n\n<p>You can see this in the traceback:</p>\n\n<p><code>File \"C:\\Users\\me\\Documents\\myprog\\pdfminer.py\", line 4, in &lt;module&gt;</code></p>\n\n<p>That isn't the path that you installed the package on, but we can see that there is a file called <code>pdfminer</code>.</p>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1525898526, "accepted_answer_id": 50261082, "answer_count": 2, "score": 0, "last_activity_date": 1525895656, "creation_date": 1525895009, "question_id": 50260946, "link": "https://stackoverflow.com/questions/50260946/python-import-statements-with-two-pythons-installed", "closed_reason": "Duplicate", "title": "python import statements with two pythons installed", "body": "<p>On my Windows 7 laptop I have both Python 2 and Python 3 installed, and I've been switching back and forth between them like <code>py -2 myscript.py</code> etc.</p>\n\n<p>I explicitly installed a package called <code>pdfminer</code> by using <code>pip2</code> and I've verified that it's on my disk at <code>C:\\Python27\\Lib\\site-packages\\pdfminer</code></p>\n\n<p>However, when I try to run a script I get an error:</p>\n\n<pre><code>&gt; py -2 pdfminer.py\nTraceback (most recent call last):\n  File \"pdfminer.py\", line 4, in &lt;module&gt;\n    from pdfminer.pdfparser import PDFParser\n  File \"C:\\Users\\me\\Documents\\myprog\\pdfminer.py\", line 4, in &lt;module&gt;\n    from pdfminer.pdfparser import PDFParser\nImportError: No module named pdfparser\n</code></pre>\n\n<p>The import statement is exactly as given in the PDFMiner documentation, and I even added the Python 2 scripts directory explicitly to the PATH just in case that would help, but it didn't (I actually think that's redundant because from printing out <code>sys.path</code> it seems it was already there):</p>\n\n<pre><code>import sys\nsys.path.append(\"C:\\Python27\\Lib\\site-packages\\\\\")\n\nfrom pdfminer.pdfparser import PDFParser\n</code></pre>\n\n<p>Within <code>site-packages\\pdfminer</code> there is a file <code>pdfparser.py</code> and within it <code>class PDFParser(PSStackParser)</code>. The case doesn't match the import statement, but actually making the import statement lowercase to match the file also doesn't help.</p>\n\n<p>I don't really see anything wrong here. Is there anything else I could try?</p>\n"}, {"tags": ["python", "amazon-web-services", "boto3", "amazon-kinesis"], "answers": [{"tags": [], "owner": {"reputation": 3144, "user_id": 1622134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01518b7758695f86e5e32d3a8ba58082?s=128&d=identicon&r=PG", "display_name": "az3", "link": "https://stackoverflow.com/users/1622134/az3"}, "is_accepted": true, "score": 3, "last_activity_date": 1526038908, "creation_date": 1526038908, "answer_id": 50291585, "question_id": 50260854, "link": "https://stackoverflow.com/questions/50260854/kinesis-consumer-returning-empty-record-boto-python/50291585#50291585", "title": "Kinesis consumer returning empty record (boto, python)", "body": "<p>If you'll use LATEST checkpoint, you should first start reading the stream, then place the record. In your example the timeline is as follows;</p>\n\n<ul>\n<li>at t0: The latest checkpoint in stream is at 101.</li>\n<li>at t1 (main thread): You put record to the stream, and the record is at checkpoint 102.</li>\n<li>at t2 (main thread): You start tailing the stream at the LATEST point which is 103.</li>\n</ul>\n\n<p>To fix this, you should run the producer and the consumer in different threads. The correct flow should be like this;</p>\n\n<ul>\n<li>at t0 (consumer thread): Start tailing the steam at LATEST position, which is 201.</li>\n<li>at t1 (producer thread): You put record to the stream, and the record is placed on checkpoint 202.</li>\n<li>at t2 (consumer thread): As the shard on server side moves forward (because you just added data) and you have been tailin the shard since checkpoint 201, you iterate the new checkpoint 202 and your data is displayed.</li>\n</ul>\n"}], "owner": {"reputation": 1063, "user_id": 2801450, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/923a20d8f31b9a2b0f1a4e2b4dfb7d7c?s=128&d=identicon&r=PG&f=1", "display_name": "TH22", "link": "https://stackoverflow.com/users/2801450/th22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 50291585, "answer_count": 1, "score": 3, "last_activity_date": 1526038908, "creation_date": 1525894616, "question_id": 50260854, "link": "https://stackoverflow.com/questions/50260854/kinesis-consumer-returning-empty-record-boto-python", "title": "Kinesis consumer returning empty record (boto, python)", "body": "<p>I am having trouble checking the data I am writing to Kinesis. It seems like the following example should work, but I am getting an empty list returned from get_records (in the Records field).  Any ideas what could be going on?</p>\n\n<pre><code>import uuid\nimport boto3\nimport time\n\n\nstreamname = 'mytestStream'\nsession = boto3.session.Session() \nkinesis_client = session.client('kinesis', region_name='us-east-1')\n\n\n##### WRITE TO KINESIS\n\npartitionkey = str(uuid.uuid4())[:8]\nput_response = kinesis_client.put_record(StreamName=streamname,Data='mytestdata',PartitionKey=partitionkey)\n\ntime.sleep(5)\n\n\n##### READ FROM KINESIS\n\nshard_id = kinesis_client.describe_stream(StreamName=streamname)['StreamDescription']['Shards'][0]['ShardId']\nshard_iterator = kinesis_client.get_shard_iterator(StreamName=streamname, ShardId=shard_id, ShardIteratorType=\"LATEST\")[\"ShardIterator\"]\ndata_from_kinesis = kinesis_client.get_records(ShardIterator=shard_iterator)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 990, "user_id": 4012716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ffdabe605d5b55e6a5f3b5c7f58df1b?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Zeez", "link": "https://stackoverflow.com/users/4012716/stan-zeez"}, "edited": false, "score": 0, "creation_date": 1525894903, "post_id": 50260840, "comment_id": 87539846, "body": "<a href=\"https://docs.python.org/3/tutorial/controlflow.html#arbitrary-argument-lists\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/&hellip;</a>"}, {"owner": {"reputation": 990, "user_id": 4012716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ffdabe605d5b55e6a5f3b5c7f58df1b?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Zeez", "link": "https://stackoverflow.com/users/4012716/stan-zeez"}, "edited": false, "score": 0, "creation_date": 1525895061, "post_id": 50260840, "comment_id": 87539920, "body": "See this tutorial about or_: <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.or_\" rel=\"nofollow noreferrer\">docs.sqlalchemy.org/en/latest/core/&hellip;</a>"}, {"owner": {"reputation": 431, "user_id": 9165051, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NmIf22tfeLo/AAAAAAAAAAI/AAAAAAAAAFg/lM-mRb8563k/photo.jpg?sz=128", "display_name": "Heron Rossi", "link": "https://stackoverflow.com/users/9165051/heron-rossi"}, "reply_to_user": {"reputation": 990, "user_id": 4012716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ffdabe605d5b55e6a5f3b5c7f58df1b?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Zeez", "link": "https://stackoverflow.com/users/4012716/stan-zeez"}, "edited": false, "score": 0, "creation_date": 1525896068, "post_id": 50260840, "comment_id": 87540394, "body": "@StanZeez Ah, so its passing a <code>list</code> of clauses to the <code>or_()</code> function, right? <code>or_(instance1.street==instance2.stree, instance1.zip_code==instance2.zip_code)</code>. I get it now. Thanks!"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1525896343, "post_id": 50260840, "comment_id": 87540529, "body": "It doesn&#39;t mean anything special in SQLAlchemy.  It&#39;s just an unpacking of the list comprehension that follows it into the arguments of <code>or_(...)</code>, which takes one argument for each operand being or&#39;d."}], "answers": [{"tags": [], "owner": {"reputation": 990, "user_id": 4012716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ffdabe605d5b55e6a5f3b5c7f58df1b?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Zeez", "link": "https://stackoverflow.com/users/4012716/stan-zeez"}, "is_accepted": true, "score": 2, "last_activity_date": 1525896202, "creation_date": 1525896202, "answer_id": 50261201, "question_id": 50260840, "link": "https://stackoverflow.com/questions/50260840/sql-alchemy-orm-and-the-meaning-of-asterisk/50261201#50261201", "title": "SQL Alchemy ORM and the meaning of asterisk(*)", "body": "<p>or_: produce a conjunction of expressions joined by OR SQL operator.</p>\n\n<p>\"*\" means that the list produced in epression:</p>\n\n<pre><code>[(getattr(Building, k) == getattr(self, k)) for k in ('street', 'zip_code') if getattr(self, k) is not None]\n</code></pre>\n\n<p>will be wrapped up in a tuple before pass in or_.</p>\n\n<p>Simple example (foo can get the variable number of arguments):</p>\n\n<pre><code>def foo(*args):\n    print(type(args))\n    for a in args:\n        print(a)\n\nfoo(*[a for a in [1, 2, 3, 4, 5] if a % 2 == 0])\n&lt;type 'tuple'&gt;\n2\n4\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 9165051, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NmIf22tfeLo/AAAAAAAAAAI/AAAAAAAAAFg/lM-mRb8563k/photo.jpg?sz=128", "display_name": "Heron Rossi", "link": "https://stackoverflow.com/users/9165051/heron-rossi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "closed_date": 1525898926, "accepted_answer_id": 50261201, "answer_count": 1, "score": 0, "last_activity_date": 1525896202, "creation_date": 1525894547, "question_id": 50260840, "link": "https://stackoverflow.com/questions/50260840/sql-alchemy-orm-and-the-meaning-of-asterisk", "closed_reason": "Duplicate", "title": "SQL Alchemy ORM and the meaning of asterisk(*)", "body": "<p>I'm trying to find out what exactly the asterisk(*) means on the SQLAlchemy query below. Could anyone clarify please?</p>\n\n<pre><code>import uuid\nfrom sqlalchemy import Column\nfrom sqlalchemy import Integer\nfrom sqlalchemy import or_\nfrom sqlalchemy_utils.types.uuid import UUIDType\n\nclass House(Base):\n    id = Column(Integer, primary_key=True)\n    street = Column(UUIDType, default=uuid.uuid4, nullable=False, unique=True)\n    zip_code = Column(UUIDType, index=True)\n\n# Shell session\n$: [...]\nquery = request.dbsession.query(House)\nquery = query.filter(or_(*[(getattr(Building, k) == getattr(self, k))\n                          for k in ('street', 'zip_code')\n                          if getattr(self, k) is not None]))\n</code></pre>\n"}, {"tags": ["php", "python", "web", "server"], "comments": [{"owner": {"reputation": 173, "user_id": 3236440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYPLm.jpg?s=128&g=1", "display_name": "St1id3r", "link": "https://stackoverflow.com/users/3236440/st1id3r"}, "edited": false, "score": 0, "creation_date": 1525894828, "post_id": 50260825, "comment_id": 87539801, "body": "You can check this <a href=\"https://stackoverflow.com/questions/8984287/execute-php-code-in-python\" title=\"execute php code in python\">stackoverflow.com/questions/8984287/execute-php-code-in-pyth&zwnj;&#8203;on</a>"}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1525895155, "post_id": 50260825, "comment_id": 87539962, "body": "Maybe your mime types are misconfigured?  Try <a href=\"https://stackoverflow.com/help/how-to-ask\">these tips</a> to get more, better, and faster answers."}], "owner": {"user_type": "does_not_exist", "display_name": "user9767084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1525934677, "answer_count": 0, "score": 0, "last_activity_date": 1525932396, "creation_date": 1525894465, "last_edit_date": 1525932396, "question_id": 50260825, "link": "https://stackoverflow.com/questions/50260825/python-web-server-with-php-code", "closed_reason": "Duplicate", "title": "Python Web Server with PHP code?", "body": "<p>Can I load PHP to a Python Web Server or it is impossible?</p>\n\n<p>I want to use Python for Web Server and PHP, but PHP is loading to notes in HTML.</p>\n"}, {"tags": ["python", "database", "mobile", "web-crawler", "extract"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1525894480, "post_id": 50260803, "comment_id": 87539646, "body": "Email them and ask them if you can have the data. If you can&#39;t, you&#39;re likely competition. Presumably they would monetise it through ads or something (I&#39;m not sure why a government would build such a thing but I can definitely be wrong without knowing enough about the location)."}, {"owner": {"reputation": 1229, "user_id": 3161253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860baa703ae4165a5b42f945d10feec7?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/3161253/sean"}, "edited": false, "score": 0, "creation_date": 1525894488, "post_id": 50260803, "comment_id": 87539655, "body": "Is there a public API to use?"}, {"owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "edited": false, "score": 0, "creation_date": 1525894699, "post_id": 50260803, "comment_id": 87539751, "body": "It&#39;s not competition, because they don&#39;t profit from it. It&#39;s a government app. It&#39;s just a tool that they made available. No, I don&#39;t think that is."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525894803, "post_id": 50260803, "comment_id": 87539791, "body": "I&#39;m really curious about why the government would build such a thing? For sure I could be well of the mark; why invest national finance in such a project?"}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1525894987, "post_id": 50260803, "comment_id": 87539878, "body": "&quot;It is public, so it&#39;s not a crime&quot;  Just because someone made a public frontend does not mean it will be legal to hack your way to the DB in the backend."}, {"owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "edited": false, "score": 0, "creation_date": 1525895244, "post_id": 50260803, "comment_id": 87540000, "body": "Probably so that the costumers could buy the cheapest products."}, {"owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1525895362, "post_id": 50260803, "comment_id": 87540053, "body": "@DeepSpace Ok, so... THAT I can&#39;t confirm. I&#39;m just thinking that if they made it possible to search for all the products that you want, it wouldn&#39;t be a problem to me (or anyone) to get that databse of prices and use."}, {"owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "reply_to_user": {"reputation": 2267, "user_id": 8242447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6884.gif?s=128&g=1", "display_name": "\u1e42\u0173\u1efb\u1ecbg\u01fb\u0148\u1ea1c\u1ec3\u01a1\u1eed\u1e69", "link": "https://stackoverflow.com/users/8242447/%e1%b9%82%c5%b3%e1%bb%bb%e1%bb%8bg%c7%bb%c5%88%e1%ba%a1c%e1%bb%83%c6%a1%e1%bb%ad%e1%b9%a9"}, "edited": false, "score": 0, "creation_date": 1525895578, "post_id": 50260803, "comment_id": 87540153, "body": "@Mulliganaceous I just want to know the way. I don&#39;t even know how to start to building such an app to sweep through the database."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1525941552, "post_id": 50260803, "comment_id": 87555207, "body": "Is this a publicly available web app? If so you can open up the devtools in your web browser and view the network traffic. You can inspect the actual urls that the app is getting its data from. If you are lucky this is an api that provides some way to fetch the data you want."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "edited": false, "score": 1, "creation_date": 1525895209, "post_id": 50260896, "comment_id": 87539987, "body": "Ok, so... That database is not actually restricted. Here in Brasil we have something that I can&#39;t really translate, that is &quot;nota fiscal&quot;. It&#39;s like a receipt that every store has to give to the costumer. It has all the taxes information and etc. So, everytime you buy something you get that receipt. Recently, the government adopted an &quot;Online receipt&quot; So, you still receive that piece of paper, but at the same time, it goes to the government database. They just made an app so you can search the cheapest product of the stores t hat uses that &quot;Online receipt&quot;."}, {"owner": {"reputation": 1532, "user_id": 7942600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce62068af1e741852d7b96a1555d7ba?s=128&d=identicon&r=PG", "display_name": "toonarmycaptain", "link": "https://stackoverflow.com/users/7942600/toonarmycaptain"}, "edited": false, "score": 1, "creation_date": 1525897179, "post_id": 50260896, "comment_id": 87540868, "body": "Link, please! This sounds interesting."}], "tags": [], "owner": {"reputation": 920, "user_id": 6069557, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wZ3e5.png?s=128&g=1", "display_name": "Elroy Jetson", "link": "https://stackoverflow.com/users/6069557/elroy-jetson"}, "is_accepted": false, "score": 2, "last_activity_date": 1525894805, "creation_date": 1525894805, "answer_id": 50260896, "question_id": 50260803, "link": "https://stackoverflow.com/questions/50260803/how-can-i-get-the-database-of-an-app-that-only-has-a-search-field/50260896#50260896", "title": "How can I get the database of an app that only has a search field", "body": "<p><strong>\"How can I get that database? \"</strong>  The legal way would be to just <em>ask them</em> for it. Their database likely has passwords/etc which means it is not meant for public use outside of the functionality that the application you mentioned provides. <strong>Are there ways to access this data without asking the owner of the information?</strong> Possibly. But to <em>attain</em> the data in any other way then asking for it and receiving it, then my friend you are entering a grey area. A crawler won't be much help for what you're trying to do. </p>\n"}], "owner": {"reputation": 11, "user_id": 9767044, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matusa", "link": "https://stackoverflow.com/users/9767044/matusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525894805, "creation_date": 1525894373, "question_id": 50260803, "link": "https://stackoverflow.com/questions/50260803/how-can-i-get-the-database-of-an-app-that-only-has-a-search-field", "title": "How can I get the database of an app that only has a search field", "body": "<p>Here in Brazil, the government made an app that you can type in the name of the item, for example <em>\"Refined Sugar 2kg\"</em> and the app return to you the location of the nearest market that has the cheapest item.\nIt extends to all sort of products, and I'm thinking about creating an app using that database. It is public, so it's not a crime, but they do not list all the products on the screen right away with categories and etc. The app only have a search bar, and that's it.\nHow can I get that database? I thought of an crawler (probably python), but all the crawlers that i see has an webpage as a 'target'. I never programmed mobile, so I don't know if a crawler can do that job.\n<strong>So, what should I study in order to make an tool to extract that information?</strong></p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1525894740, "creation_date": 1525894740, "answer_id": 50260880, "question_id": 50260799, "link": "https://stackoverflow.com/questions/50260799/how-ffill-a-dataframe-forward-four-times-with-pandas/50260880#50260880", "title": "How ffill a dataframe forward four times with pandas", "body": "<p>I think this is <code>repeat</code> not <code>ffill</code></p>\n\n<pre><code>df.reindex(df.index.repeat(4))\nOut[63]: \n   A  B  C\n0  1  1  1\n0  1  1  1\n0  1  1  1\n0  1  1  1\n1  2  2  2\n1  2  2  2\n1  2  2  2\n1  2  2  2\n2  3  3  3\n2  3  3  3\n2  3  3  3\n2  3  3  3\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 8798570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5313c9e8f756f042de11c1dae467eefc?s=128&d=identicon&r=PG&f=1", "display_name": "Carson P", "link": "https://stackoverflow.com/users/8798570/carson-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 50260880, "answer_count": 1, "score": 1, "last_activity_date": 1525894740, "creation_date": 1525894365, "question_id": 50260799, "link": "https://stackoverflow.com/questions/50260799/how-ffill-a-dataframe-forward-four-times-with-pandas", "title": "How ffill a dataframe forward four times with pandas", "body": "<p>So if I have a dataframe like such:</p>\n\n<pre><code>  A  B  C\n  1  1  1\n  2  2  2\n  3  3  3\n</code></pre>\n\n<p>I want to achieve this:</p>\n\n<pre><code>  A   B   C\n  1   1   1\n  1   1   1\n  1   1   1\n  1   1   1\n  2   2   2\n  2   2   2\n  2   2   2\n  2   2   2\n  3   3   3\n  3   3   3\n  3   3   3\n  3   3   3\n  3   3   3\n</code></pre>\n\n<p>I know that this will probably involve ffill and the general process as describes in my question, but if there is a simpler way to do this, I'm perfectly happy with that. I just want the quickest and easiest way, because my script will be repeating this many times.</p>\n\n<p>Thanks for all the help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1525899156, "post_id": 50260775, "comment_id": 87541835, "body": "What is the definition of <code>crit</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 9742266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "julhien", "link": "https://stackoverflow.com/users/9742266/julhien"}, "is_accepted": false, "score": 1, "last_activity_date": 1525963318, "creation_date": 1525963318, "answer_id": 50275564, "question_id": 50260775, "link": "https://stackoverflow.com/questions/50260775/scipy-optimize-minimize-how-to-specify-bounds-when-one-is-a-numpy-array/50275564#50275564", "title": "scipy.optimize.minimize -- how to specify bounds when one is a numpy array", "body": "<p>First of all, scipy.optimize.minimize expects a flat array as its second argument x0 (<a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize\" rel=\"nofollow noreferrer\">documentation</a>) (which means the function it optimizes also takes a flat array and optional additional arguments). Therefore it is my understanding you would have to give it something like :</p>\n\n<pre><code> b_init = [0.2,0.01,0.5,-0.02]\n sig_init = [2]\n params_init = np.array(b_init + sig_init])\n</code></pre>\n\n<p>for the optimization to work.\nThen, if you will have to give the bounds for each scalar in you array. One rudimentary example if you wanted [-1, 1] bounds on sig and didn't want bounds on b : </p>\n\n<pre><code>bounds = [(-np.inf, np.inf) for _ in b_init] + [(-1, 1)]\n</code></pre>\n"}], "owner": {"reputation": 1614, "user_id": 4422095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62eef831911aa459ae9e18e0ce4dee02?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shunpike", "link": "https://stackoverflow.com/users/4422095/stan-shunpike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2126, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1525963318, "creation_date": 1525894253, "question_id": 50260775, "link": "https://stackoverflow.com/questions/50260775/scipy-optimize-minimize-how-to-specify-bounds-when-one-is-a-numpy-array", "title": "scipy.optimize.minimize -- how to specify bounds when one is a numpy array", "body": "<p>I am running an optimization with scipy.optimize.minimize</p>\n\n<pre><code>sig_init = 2\nb_init = np.array([0.2,0.01,0.5,-0.02])\nparams_init = np.array([b_init, sig_init])\nmle_args = (y,x)\nresults = opt.minimize(crit, params_init, args=(mle_args))\n</code></pre>\n\n<p>The problem is, I need to set a bound on <code>sig_init</code>. But the <code>opt.minimize()</code> requires that I specify bounds for each of the input parameters. But one of my inputs is a numpy array. </p>\n\n<p>How can I specify the bounds given that one of my inputs is a numpy array?</p>\n"}, {"tags": ["python", "list", "slice", "python-3.6"], "answers": [{"comments": [{"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "reply_to_user": {"reputation": 43, "user_id": 9546086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b706d7da9f934b1dda6fc4bc226baaa1?s=128&d=identicon&r=PG&f=1", "display_name": "K_ Douli", "link": "https://stackoverflow.com/users/9546086/k-douli"}, "edited": false, "score": 0, "creation_date": 1525894673, "post_id": 50260812, "comment_id": 87539741, "body": "Glad to hear it works, I would be happy if you accept the answer then :)"}], "tags": [], "owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "is_accepted": true, "score": 1, "last_activity_date": 1525894398, "creation_date": 1525894398, "answer_id": 50260812, "question_id": 50260772, "link": "https://stackoverflow.com/questions/50260772/how-to-slice-a-list-that-contains-two-list-for-each/50260812#50260812", "title": "How to slice a list that contains two list for each?", "body": "<p>This should work for you:</p>\n\n<pre><code>list(map(lambda x: x[0], l))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[[0, 1, 1, 0, 0, 0, 2, 1, 2, 0, 1, 2],\n [1, 1, 0, 2, 0, 0, 0, 1, 2, 1, 2, 2],\n [0, 2, 2, 1, 2, 1, 0, 2, 2, 2, 1, 0],\n [1, 1, 0, 1, 2, 2, 2, 2, 0, 0, 2, 2],\n [1, 2, 2, 0, 0, 2, 1, 1, 1, 2, 1, 0],\n [0, 2, 1, 2, 0, 1, 2, 1, 1, 2, 2, 2],\n [0, 0, 2, 0, 0, 1, 1, 1, 1, 0, 0, 2],\n [0, 2, 1, 2, 2, 0, 0, 0, 0, 0, 1, 2],\n [1, 1, 1, 2, 1, 2, 2, 1, 0, 2, 0, 2],\n [0, 1, 1, 0, 0, 0, 1, 2, 1, 0, 1, 0]]\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9546086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b706d7da9f934b1dda6fc4bc226baaa1?s=128&d=identicon&r=PG&f=1", "display_name": "K_ Douli", "link": "https://stackoverflow.com/users/9546086/k-douli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 50260812, "answer_count": 1, "score": 1, "last_activity_date": 1525940864, "creation_date": 1525894239, "last_edit_date": 1525940864, "question_id": 50260772, "link": "https://stackoverflow.com/questions/50260772/how-to-slice-a-list-that-contains-two-list-for-each", "title": "How to slice a list that contains two list for each?", "body": "<p>I am trying to select the first list in each row and return them as list \nusing the slicing methods:                                                        </p>\n\n<pre><code>l = [[[0, 1, 1, 0, 0, 0, 2, 1, 2, 0, 1, 2], [0.0]],\n     [[1, 1, 0, 2, 0, 0, 0, 1, 2, 1, 2, 2], [0.0]],\n     [[0, 2, 2, 1, 2, 1, 0, 2, 2, 2, 1, 0], [0.0]],\n     [[1, 1, 0, 1, 2, 2, 2, 2, 0, 0, 2, 2], [0.0]],\n     [[1, 2, 2, 0, 0, 2, 1, 1, 1, 2, 1, 0], [0.0]],\n     [[0, 2, 1, 2, 0, 1, 2, 1, 1, 2, 2, 2], [0.0]],\n     [[0, 0, 2, 0, 0, 1, 1, 1, 1, 0, 0, 2], [0.0]],\n     [[0, 2, 1, 2, 2, 0, 0, 0, 0, 0, 1, 2], [0.0]],\n     [[1, 1, 1, 2, 1, 2, 2, 1, 0, 2, 0, 2], [0.0]],\n     [[0, 1, 1, 0, 0, 0, 1, 2, 1, 0, 1, 0], [0.0]]]\n\n# i want to get this \n\nl1 = [[0, 1, 1, 0, 0, 0, 2, 1, 2, 0, 1, 2],\n     [1, 1, 0, 2, 0, 0, 0, 1, 2, 1, 2, 2],\n     [0, 2, 2, 1, 2, 1, 0, 2, 2, 2, 1, 0],\n     [1, 1, 0, 1, 2, 2, 2, 2, 0, 0, 2, 2],\n     [1, 2, 2, 0, 0, 2, 1, 1, 1, 2, 1, 0],\n     [0, 2, 1, 2, 0, 1, 2, 1, 1, 2, 2, 2],\n     [0, 0, 2, 0, 0, 1, 1, 1, 1, 0, 0, 2],\n     [0, 2, 1, 2, 2, 0, 0, 0, 0, 0, 1, 2],\n     [1, 1, 1, 2, 1, 2, 2, 1, 0, 2, 0, 2],\n     [0, 1, 1, 0, 0, 0, 1, 2, 1, 0, 1, 0]]\n</code></pre>\n"}, {"tags": ["python", "gpio"], "comments": [{"owner": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "edited": false, "score": 0, "creation_date": 1525910054, "post_id": 50260767, "comment_id": 87545209, "body": "The error is clear you have not setup the GPIO channel as an output <code>GPIO.setup(channel, GPIO.OUT, initial=GPIO.HIGH)</code> <code>chan_list = [11,12]                             # also works with tuples GPIO.output(chan_list, GPIO.LOW)                # sets all to GPIO.LOW GPIO.output(chan_list, (GPIO.HIGH, GPIO.LOW))   # sets first HIGH and second LOW</code>"}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 9722265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BB29N.png?s=128&g=1", "display_name": "pypalms", "link": "https://stackoverflow.com/users/9722265/pypalms"}, "is_accepted": false, "score": 0, "last_activity_date": 1525894880, "creation_date": 1525894880, "answer_id": 50260916, "question_id": 50260767, "link": "https://stackoverflow.com/questions/50260767/gpio-raspberry-pi-python/50260916#50260916", "title": "GPIO Raspberry Pi Python", "body": "<p>On fist glance, I would think the issue would be the GPIO.setup is not propagated to the defined functions. Rather than define them globally at the top, make a sub method </p>\n\n<pre><code>def gpio_setup():\n  pin = 15\n\n  GPIO.setwarnings(False)\n  GPIO.setmode(GPIO.BCM)\n\n  GPIO.setup(pin, GPIO.OUT)\n  GPIO.setup(pin, GPIO.HIGH)\n</code></pre>\n\n<p>And then call that method in each of the other methods:</p>\n\n<pre><code>def on_message(client, userdata, msg):\n  gpio_setup()\n</code></pre>\n\n<p>You could even start just by setting the GPIO.setup manually in each method to find where it breaks.</p>\n"}, {"tags": [], "owner": {"reputation": 2507, "user_id": 1867427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26a824d58d8524a0cf6cc2bd1c40c36d?s=128&d=identicon&r=PG&f=1", "display_name": "ajdawson", "link": "https://stackoverflow.com/users/1867427/ajdawson"}, "is_accepted": true, "score": 1, "last_activity_date": 1525894987, "creation_date": 1525894987, "answer_id": 50260942, "question_id": 50260767, "link": "https://stackoverflow.com/questions/50260767/gpio-raspberry-pi-python/50260942#50260942", "title": "GPIO Raspberry Pi Python", "body": "<p>You are calling <code>GPIO.setup(pin, GPIO.HIGH)</code> to set the initial value (after setting mode output) when you should be calling <code>GPIO.output(pin, GPIO.HIGH)</code>. Alternatively you could use <code>GPIO.setup(pin, GPIO.OUT, initial=GPIO.HIGH)</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 8144797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939a65b667ff17caf92e38d3ec8082d1?s=128&d=identicon&r=PG", "display_name": "user8144797", "link": "https://stackoverflow.com/users/8144797/user8144797"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 50260942, "answer_count": 2, "score": 0, "last_activity_date": 1525894987, "creation_date": 1525894208, "question_id": 50260767, "link": "https://stackoverflow.com/questions/50260767/gpio-raspberry-pi-python", "title": "GPIO Raspberry Pi Python", "body": "<p>I can't figure out where my problem is. Would be nice if anyone is able to help me. Mqtt works good, but everytime the GPIO gets triggered the program crashes.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Connected with result code 0</p>\n  \n  <p>/test/light1 0 0 Traceback (most recent call last):   File\n  \"garage.py\", line 33, in \n      client.loop_forever()   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  1481, in loop_forever\n      rc = self.loop(timeout, max_packets)   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  1003, in loop\n      rc = self.loop_read(max_packets)   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  1284, in loop_read\n      rc = self._packet_read()   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  1849, in _packet_read\n      rc = self._packet_handle()   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  2305, in _packet_handle\n      return self._handle_publish()   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  2500, in _handle_publish\n      self._handle_on_message(message)   File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line\n  2647, in _handle_on_message\n      self.on_message(self, self._userdata, message)   File \"garage.py\", line 22, in on_message\n      GPIO.output(pin, GPIO.LOW) RuntimeError: The GPIO channel has not been set up as an OUTPUT</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/env python\nimport paho.mqtt.client as mqtt\nimport RPi.GPIO as GPIO\n\npin = 15\n\nGPIO.setwarnings(False)\nGPIO.setmode(GPIO.BCM)\n\nGPIO.setup(pin, GPIO.OUT)\nGPIO.setup(pin, GPIO.HIGH)\n\ndef on_connect(client, userdata, flags, rc):\n    print(\"Connected with result code \" + str(rc))\n\n    client.subscribe(\"/test/light1\")\n\ndef on_message(client, userdata, msg):\n        print(msg.topic + \" \" + str(msg.payload))\n        if msg.payload == \"0\":\n                print(\"0\")\n                GPIO.output(pin, GPIO.LOW)\n        if msg.payload == \"1\":\n                print(\"1\")\n                GPIO.output(pin, GPIO.HIGH)\n\nclient = mqtt.Client()\nclient.on_connect = on_connect\nclient.on_message = on_message\n\nclient.connect(\"192.168.178.60\", 1883, 60)\n\nclient.loop_forever()\n</code></pre>\n"}]