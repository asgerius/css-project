[{"tags": ["python", "python-2.7", "numpy", "newtons-method"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1545264029, "post_id": 53860772, "comment_id": 94569572, "body": "You need to first solve these equations for y in terms of x."}, {"owner": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "reply_to_user": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1545264177, "post_id": 53860772, "comment_id": 94569614, "body": "I&#39;ve done that, but all I get is for the 1st equation, i get y = (), and in the bracket is <code>(sin^-1(y&#47;x)&#47;0.16</code> which is y in terms of x, but I can&#39;t seem to get the other y term out as it&#39;s in the sine term."}, {"owner": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "reply_to_user": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1545264231, "post_id": 53860772, "comment_id": 94569628, "body": "The second equation is fine, that I can get y in terms of x out, but the 1st equation i can&#39;t get y on it&#39;s own equal to numbers and x terms :/"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "edited": false, "score": 0, "creation_date": 1545307570, "post_id": 53863815, "comment_id": 94583670, "body": "Thank you so much for this, this has helped. I just wanted to understand a couple of things, why did you put for a,b,c,d = -5,5,-5,3?  Can this be any numbers? as this is the range of the axis right?  And are there different grids, as I see you&#39;ve used meshgrid or does it have to be meshgrid in order for this to work?"}, {"owner": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "edited": false, "score": 0, "creation_date": 1545308317, "post_id": 53863815, "comment_id": 94584065, "body": "Also what does the <code>X=np.linspace(a,b,1000) Y=np.linspace(c,d,1000)</code>, as in the (a,b,1000) bit mean?"}, {"owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "reply_to_user": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "edited": false, "score": 0, "creation_date": 1545321300, "post_id": 53863815, "comment_id": 94591214, "body": "of course a,b,c,d are the bounding box coordinates. look at numpy linspace docs and meshgrid docs in the very complete scipy docs to understand this functions."}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1545289106, "creation_date": 1545289106, "answer_id": 53863815, "question_id": 53860772, "link": "https://stackoverflow.com/questions/53860772/how-to-draw-a-graph-of-two-linear-equations-on-a-single-graph/53863815#53863815", "title": "How to draw a graph of two linear equations on a single graph", "body": "<p>This are implicit functions. you can see <a href=\"https://stackoverflow.com/questions/2484527/is-it-possible-to-plot-implicit-equations-using-matplotlib\">here</a> for  a related post.</p>\n\n<p>Here is nearly what you want :</p>\n\n<pre><code>from pylab import *\na,b,c,d = -5,5,-5,3\nX=np.linspace(a,b,1000)\nY=np.linspace(c,d,1000)\nx,y=np.meshgrid(X,Y)\nz1 = (x**2)/4**2 + ((y+1)**2)/2**2 - 1\nz2 = x*np.sin(x+.16*y)-y\nimshow((abs(z1)&gt;2e-2)&amp;(abs(z2)&gt;4e-2),extent=[a,b,c,d])\n</code></pre>\n\n<p>For <a href=\"https://i.stack.imgur.com/Qi75G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qi75G.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3, "user_id": 10813442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b5aa.jpg?s=128&g=1", "display_name": "The Statistician", "link": "https://stackoverflow.com/users/10813442/the-statistician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 53863815, "answer_count": 1, "score": 0, "last_activity_date": 1545289106, "creation_date": 1545263889, "question_id": 53860772, "link": "https://stackoverflow.com/questions/53860772/how-to-draw-a-graph-of-two-linear-equations-on-a-single-graph", "title": "How to draw a graph of two linear equations on a single graph", "body": "<p>I've written some code which allows me to see 3 linear equations on a single graph and their intersections, using numpy in python, and here is the code for this part:</p>\n\n<pre><code>import numpy as np\n\nimport math\n\nimport matplotlib.pyplot as plt\n\n`t = np.linspace(0, 2*math.pi, 5)`\n\n`a = np.sin(t)`\n\n`b = np.cos(t)`\n\n`c = a + b`\n\nplt.plot(t, a, 'y')\n\nplt.plot(t, b, 'b')\n\nplt.plot(t, c, 'r')\n\nplt.show()\n</code></pre>\n\n<p>This shows 3 graphs on a single axis which shows my intersections.\nNow I have 2 different linear equations with variables <code>x</code> and <code>y</code> in the equations, but using the method I've used above, the python program won't run and don't see how I can go about drawing the 2 linear equations as graphs on a single axis in python numpy code.</p>\n\n<p>Here are the 2 equations:</p>\n\n<p><code>x*sin\u2061(x + 0.16y) = y</code></p>\n\n<p>and</p>\n\n<p><code>(x^2)/(4)^2 + ((y+1)^2)/4 = 1</code></p>\n\n<p>Any help on how to program code for graphs of these linear equations would be very much appreciated, thank you.</p>\n"}, {"tags": ["python", "tensorflow", "keras", "weighted"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4477476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918f7c72f75ccce614170311d12c659?s=128&d=identicon&r=PG&f=1", "display_name": "jeez", "link": "https://stackoverflow.com/users/4477476/jeez"}, "edited": false, "score": 0, "creation_date": 1545266707, "post_id": 53860887, "comment_id": 94570154, "body": "Thank you for your response. My classes are 0, 1, 2, 3 and 4 in my .csv file. I tried making a dict like you suggested:  class_weights={&quot;0&quot;: 1, &quot;1&quot;: 10.5, &quot;2&quot;: 4.8, &quot;3&quot;: 29.5, &quot;4&quot;: 36.4}    I&#39;m getting the following error: ValueError: <code>class_weight</code> must contain all classes in the data. The classes {0, 1, 2, 3, 4} exist in the data but not in <code>class_weight</code>. Have you any idea of why this is happening, is it wrong naming calling them 0, 1, 2, 3, 4?"}, {"owner": {"reputation": 39, "user_id": 4477476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918f7c72f75ccce614170311d12c659?s=128&d=identicon&r=PG&f=1", "display_name": "jeez", "link": "https://stackoverflow.com/users/4477476/jeez"}, "edited": false, "score": 0, "creation_date": 1545267341, "post_id": 53860887, "comment_id": 94570260, "body": "My csv file is structured like this: image, level as the header and 10_left, 0, 15_left, 1, 15_right, 2, 16_left, 4 etc. Am I wrong to assume the class names should be 0, 1, 2, 3, 4 as that the classes i have?"}, {"owner": {"reputation": 1200, "user_id": 6419513, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9e16e8e070a276ad6ee0ca5f2b8d94a2?s=128&d=identicon&r=PG&f=1", "display_name": "a.powell", "link": "https://stackoverflow.com/users/6419513/a-powell"}, "reply_to_user": {"reputation": 39, "user_id": 4477476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918f7c72f75ccce614170311d12c659?s=128&d=identicon&r=PG&f=1", "display_name": "jeez", "link": "https://stackoverflow.com/users/4477476/jeez"}, "edited": false, "score": 1, "creation_date": 1587497690, "post_id": 53860887, "comment_id": 108534340, "body": "@jeez very late, but your dictionary should not have strings as the keys. So it should be <code>class_weights = {0: 1, 1: 10.5, 2: 4.8, 3: 29.5, 4: 36.4}</code>"}], "tags": [], "owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "is_accepted": false, "score": 4, "last_activity_date": 1545264920, "creation_date": 1545264920, "answer_id": 53860887, "question_id": 53860734, "link": "https://stackoverflow.com/questions/53860734/adding-class-weights-for-imbalanced-dataset-in-convolutional-neural-network/53860887#53860887", "title": "Adding Class Weights for imbalanced dataset in Convolutional Neural Network", "body": "<p>First of all make sure to pass a dictionary since the <code>class_weights</code> parameter takes a dictionary.</p>\n\n<p>Second, the point of weighting the classes is as follows. Lets say that you have a binary classification problem where <code>class_1</code> has 1000 instances and <code>class_2</code> 100 instances. Since you wanna make up for the imbalanced data you can set the weights as:</p>\n\n<pre><code>class_weights={\"class_1\": 1, \"class_2\": 10}\n</code></pre>\n\n<p>In other words, this would mean that if the model makes a mistake where the true label is <code>class_2</code> it is going to be penalized 10 times more than if it makes a mistake on a sample where the true class is <code>class_1</code>. You want to have something like this because given the class distribution in the data, the model will have an inherent tendency of overfitting on the <code>class_1</code> since it is overpopulated by default. By setting the class weights you are imposing an implicit constraint on the model that it is equally bad to make a wrong prediction on 10 instances of the <code>class_1</code> and 1 wrong prediction on an instance of the <code>class_2</code>.</p>\n\n<p>With that said, you can set the <code>class_weights</code> anyhow you want meaning that there is no right or wrong way to do it. The way you set the weights seems reasonable to me. </p>\n"}, {"comments": [{"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1545295347, "post_id": 53861412, "comment_id": 94577494, "body": "Well yes that makes sense since the classes you have are not strings but integers instead."}], "tags": [], "owner": {"reputation": 39, "user_id": 4477476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918f7c72f75ccce614170311d12c659?s=128&d=identicon&r=PG&f=1", "display_name": "jeez", "link": "https://stackoverflow.com/users/4477476/jeez"}, "is_accepted": false, "score": 0, "last_activity_date": 1545269905, "creation_date": 1545269905, "answer_id": 53861412, "question_id": 53860734, "link": "https://stackoverflow.com/questions/53860734/adding-class-weights-for-imbalanced-dataset-in-convolutional-neural-network/53861412#53861412", "title": "Adding Class Weights for imbalanced dataset in Convolutional Neural Network", "body": "<p>I solved the problem, thank you so much gorjan.</p>\n\n<pre><code>class_weight = {0: 1.0,\n            1: 10.5,\n            2: 4.8,\n            3: 29.5,\n            4: 36.4}\n</code></pre>\n\n<p>Instead of typing for example \"0\" or \"1\" around classname, it was without the \"\" that did the trick :-) and to use the dict as you suggested instead of the np array.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 12783164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21968a3d02356ef17eb9203951eeba5?s=128&d=identicon&r=PG&f=1", "display_name": "Swetha_Kalla", "link": "https://stackoverflow.com/users/12783164/swetha-kalla"}, "is_accepted": false, "score": 2, "last_activity_date": 1584424850, "creation_date": 1584424850, "answer_id": 60716949, "question_id": 53860734, "link": "https://stackoverflow.com/questions/53860734/adding-class-weights-for-imbalanced-dataset-in-convolutional-neural-network/60716949#60716949", "title": "Adding Class Weights for imbalanced dataset in Convolutional Neural Network", "body": "<p>Please visit this answer for a proper solution <a href=\"https://datascience.stackexchange.com/a/18722\">https://datascience.stackexchange.com/a/18722</a> </p>\n\n<p>I understand that you are trying to set class weights, but also consider image augmentation to generate more images for the underrepresented classes.</p>\n"}], "owner": {"reputation": 39, "user_id": 4477476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918f7c72f75ccce614170311d12c659?s=128&d=identicon&r=PG&f=1", "display_name": "jeez", "link": "https://stackoverflow.com/users/4477476/jeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4398, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1584424850, "creation_date": 1545263502, "question_id": 53860734, "link": "https://stackoverflow.com/questions/53860734/adding-class-weights-for-imbalanced-dataset-in-convolutional-neural-network", "title": "Adding Class Weights for imbalanced dataset in Convolutional Neural Network", "body": "<p>I have a dataset of images that has the following distribution:</p>\n\n<ul>\n<li>Class 0: 73,5% </li>\n<li>Class 1: 7% </li>\n<li>Class 2: 15%</li>\n<li>Class 3: 2,5% </li>\n<li>Class 4: 2%</li>\n</ul>\n\n<p>I think I need to add Class Weights to make up for the low amount of images in class 1, 2, 3 and 4.</p>\n\n<p>I have tried calculating the class weights by dividing class 0 with class 1, class 0 with class 2 and so forth.</p>\n\n<p>I'm assuming that class 0 corresponds to 1, as it doesnt need to be scaled? Not sure if that is correct though.</p>\n\n<pre><code>class_weights = np.array([1, 10.5, 4.9, 29.4, 36.75]) \n</code></pre>\n\n<p>and added them to my fit function:</p>\n\n<pre><code>model.fit(x_train, y_train, batch_size=batch_size, class_weight=class_weights, epochs=epochs, validation_data=(x_test, y_test))\n</code></pre>\n\n<p>I'm unsure if I have calculated the weights correctly, and if this is even how it is supposed to be done?</p>\n\n<p>Hopefully anyone can help clarifying it.</p>\n"}, {"tags": ["python", "selenium"], "owner": {"reputation": 1984, "user_id": 4439019, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ef8889f7e466495157e2527a85930a9c?s=128&d=identicon&r=PG&f=1", "display_name": "JD2775", "link": "https://stackoverflow.com/users/4439019/jd2775"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "closed_date": 1545288521, "answer_count": 0, "score": 1, "last_activity_date": 1545288550, "creation_date": 1545263489, "last_edit_date": 1545263972, "question_id": 53860732, "link": "https://stackoverflow.com/questions/53860732/connection-aborted-issue-selenium", "closed_reason": "Duplicate", "title": "Connection aborted issue - Selenium", "body": "<p>I am working through a Selenium/Python book and when I run the below code as is, it runs fine and returns the results of the single test.  When I uncomment out the 2nd test however (commented out below), it returns an error:</p>\n\n<pre><code>ConnectionAbortedError: [WinError 10053] An established connection was aborted by the software in your host machine\n</code></pre>\n\n<p>I can't figure out the issue, the code looks identical to what is in the book.  Any ideas?</p>\n\n<pre><code>from selenium import webdriver\nimport unittest\n\n\nclass SearchTests(unittest.TestCase):\n    @classmethod\n    def setUpClass(cls):\n        # create a new Chrome session\n        cls.driver = webdriver.Chrome()\n        cls.driver.implicitly_wait(30)\n        cls.driver.maximize_window()\n\n        # navigate to the application home page\n        cls.driver.get('http://demo-store.seleniumacademy.com/')\n        cls.driver.title\n\n    def test_search_by_category(self):\n\n        # get the search textbox\n        self.search_field = self.driver.find_element_by_name(\"q\")\n        self.search_field.clear()\n\n        # enter search keyword and submit\n        self.search_field.send_keys('phones')\n        self.search_field.submit()\n\n        # get all the anchor elements which have product names displayed\n        # currently on result page using find_elements_by_xpath method\n        products = self.driver.find_elements_by_xpath(\"//h2[@class='product-name']/a\")\n        self.assertEqual(3, len(products))\n\n    # def test_search_by_name(self):\n    #     # get the search textbox\n    #     self.search_field = self.driver.find_element_by_name(\"q\")\n    #     self.search_field.clear()\n    #\n    #     # enter search keyword and submit\n    #     self.search_field.send_keys('salt shaker')\n    #     self.search_field.submit()\n    #\n    #     # get all the anchor elements which have product names displayed\n    #     # currently on result page using find_elements_by_xpath method\n    #     products = self.driver.find_elements_by_xpath(\"//h2[@class='product-name']/a\")\n    #     self.assertEqual(1, len(products))\n\n    @classmethod\n    def tearDown(cls):\n\n        # close the browser window\n        cls.driver.quit()\n\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>EDIT:  I have confirmed that when I comment out the first test and run the second test only, that runs fine as well.  So it's something about having both tests running that is throwing the error...</p>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 1, "creation_date": 1545263778, "post_id": 53860726, "comment_id": 94569517, "body": "@KenY-N: Even then it doesn&#39;t work and give the same error"}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1545263978, "post_id": 53860726, "comment_id": 94569559, "body": "I&#39;m not sure what this implementation is really trying to do (perhaps explain the thinking behind it?) - but I can&#39;t actually think of a good way to do this using recursion. (The data structure has only 2 levels, and only one of those can actually contain the value 0.) I&#39;d probably just do this in a loop instead."}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1545264048, "post_id": 53860726, "comment_id": 94569579, "body": "I think <code>if isinstance(lst, list): return 0</code> is needed. Please also note we expect the actual code to be posted, so please correct the declaration."}, {"owner": {"reputation": 103, "user_id": 10695408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a2781a16988af5f2aa05274716be683?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/10695408/avocado"}, "edited": false, "score": 1, "creation_date": 1545264441, "post_id": 53860726, "comment_id": 94569677, "body": "Edited, now it is )"}], "answers": [{"comments": [{"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1545264392, "post_id": 53860795, "comment_id": 94569665, "body": "But the call stack indicates that the error is after one level of recursion and the OP has pointed out their typo."}], "tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 0, "last_activity_date": 1545264124, "creation_date": 1545264124, "answer_id": 53860795, "question_id": 53860726, "link": "https://stackoverflow.com/questions/53860726/finding-an-element-in-a-list-of-lists-using-recursion/53860795#53860795", "title": "Finding an element in a list of lists using recursion", "body": "<p>The declaration for your list really only creates one list of integers.</p>\n\n<pre><code>l = [0, 0, 0, 0, 0]\n    [0, 2, 1, 1, 0]\n    [0, 1, 0, 0, 0]\n    [0, 1, 1, 3, 0]\n    [0, 0, 0, 0, 0]\n</code></pre>\n\n<p>Python assigns <code>l</code> to <code>[0, 0, 0, 0, 0]</code> and doesn't care about the next 4 lines. Because of that, this line:</p>\n\n<pre><code>if len(lst[0])==0:\n</code></pre>\n\n<p>attempts to find the length of <code>l[0]</code>, which is an integer.</p>\n\n<p>Simply change your declaration for <code>l</code> to this:</p>\n\n<pre><code>l = [[0, 0, 0, 0, 0],\n    [0, 2, 1, 1, 0],\n    [0, 1, 0, 0, 0],\n    [0, 1, 1, 3, 0],\n    [0, 0, 0, 0, 0]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5416, "user_id": 935627, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc5b38b7f9303643b92a0640aa8b98a6?s=128&d=identicon&r=PG", "display_name": "slybloty", "link": "https://stackoverflow.com/users/935627/slybloty"}, "is_accepted": false, "score": 1, "last_activity_date": 1545269322, "last_edit_date": 1545269322, "creation_date": 1545264434, "answer_id": 53860828, "question_id": 53860726, "link": "https://stackoverflow.com/questions/53860726/finding-an-element-in-a-list-of-lists-using-recursion/53860828#53860828", "title": "Finding an element in a list of lists using recursion", "body": "<p>When you do this:</p>\n\n<pre><code>return f(element,lst[0][1:])\n</code></pre>\n\n<p><code>lst[0][1:]</code> cuts down your list of list into just a list. You get:</p>\n\n<pre><code>[0, 0, 0, 0]\n</code></pre>\n\n<p>That's why <code>len(lst[0])</code> fails because <code>lst[0] = 0</code>, an <code>int</code>, therefore you can't get <code>len()</code> from it.</p>\n\n<p>You have to rethink your process.</p>\n\n<h2>Part II:</h2>\n\n<p>What you're looking for will end up with a pretty ugly approach. Keep in mind you have to navigate both sides of your array. A nested loop can handle that nicely, unlike recursion. </p>\n\n<p>Python has easier ways to do what you want, such as:</p>\n\n<pre><code>[print('yay') for i in l for j in i if j == element]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 10813463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RByWNItLv0/AAAAAAAAAAI/AAAAAAAAAGg/n1O8RqzoTQU/photo.jpg?sz=128", "display_name": "Nick Vitha", "link": "https://stackoverflow.com/users/10813463/nick-vitha"}, "is_accepted": true, "score": 1, "last_activity_date": 1545264631, "creation_date": 1545264631, "answer_id": 53860855, "question_id": 53860726, "link": "https://stackoverflow.com/questions/53860726/finding-an-element-in-a-list-of-lists-using-recursion/53860855#53860855", "title": "Finding an element in a list of lists using recursion", "body": "<p>When debugging, I usually find it very helpful to print out the values to see where they're erroring out. In this case (after fixing your assignment for <code>l</code> since you seemed to have copied it wrong):</p>\n\n<pre><code>l = [[0, 0, 0, 0, 0],\n    [0, 2, 1, 1, 0],\n    [0, 1, 0, 0, 0],\n    [0, 1, 1, 3, 0],\n    [0, 0, 0, 0, 0]]\n\n\ndef f(element, lst):\n    print(\"Element: \" + str(element))\n    print(\"List: \" + str(lst))\n    if not lst:\n        return 0\n    if len(lst[0])==0:\n        return f(element,lst[1:])\n    if lst[0][0]==2:\n        print(\"yay\")\n        return f(element,lst[0][1:])\n    return f(element, lst[0][1:])\n\nf(2, l)\n</code></pre>\n\n<p>Which leads to:</p>\n\n<pre><code>Element: 2\nList: [[0, 0, 0, 0, 0], [0, 2, 1, 1, 0], [0, 1, 0, 0, 0], [0, 1, 1, 3, 0], [0, 0, 0, 0, 0]]\nElement: 2\nList: [0, 0, 0, 0]\nTraceback (most recent call last):\n  File \"test.py\", line 20, in &lt;module&gt;\n    f(2, l)\n  File \"test.py\", line 18, in f\n    return f(element, lst[0][1:])\n  File \"test.py\", line 13, in f\n    if len(lst[0])==0:\nTypeError: object of type 'int' has no len()\n</code></pre>\n\n<p>It is erroring out on this line <code>if len(lst[0])==0:</code> because you're trying to take the <code>len()</code> of whatever object is in the 0th place of your list, which is a number.</p>\n\n<p>As an example, this is almost exactly what is happening:</p>\n\n<pre><code>&gt;&gt;&gt; len(0)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: object of type 'int' has no len()\n</code></pre>\n\n<p>@slybloty's answer is why you're only getting a list.</p>\n"}], "owner": {"reputation": 103, "user_id": 10695408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a2781a16988af5f2aa05274716be683?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/10695408/avocado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "accepted_answer_id": 53860855, "answer_count": 3, "score": 0, "last_activity_date": 1545269322, "creation_date": 1545263446, "last_edit_date": 1545264411, "question_id": 53860726, "link": "https://stackoverflow.com/questions/53860726/finding-an-element-in-a-list-of-lists-using-recursion", "title": "Finding an element in a list of lists using recursion", "body": "<p>Given the following array,</p>\n\n<pre><code>l = [\n    [0, 0, 0, 0, 0],\n    [0, 2, 1, 1, 0],\n    [0, 1, 0, 0, 0],\n    [0, 1, 1, 3, 0],\n    [0, 0, 0, 0, 0]\n    ]\n</code></pre>\n\n<p>I am asked to define a recursive function that outputs <code>\"yay\"</code> every time we find a certain element in this 2D array.</p>\n\n<hr>\n\n<pre><code>def f(element, lst):\n    if not lst:\n        return 0\n    if len(lst[0])==0:\n        return f(element,lst[1:])\n    if lst[0][0]==2:\n        print(\"yay\")\n        return f(element,lst[0][1:])\n    return f(element, lst[0][1:])\n\nf(2, l)\n</code></pre>\n\n<p>I should be getting <code>\"yay\"</code> printed once. Instead I get the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"finder.py\", line 37, in &lt;module&gt;\n    f(2, l)\n  File \"finder.py\", line 35, in f\n    return f(element, lst[0][1:])\n  File \"finder.py\", line 30, in f\n    if len(lst[0])==0:\nTypeError: object of type 'int' has no len()\n</code></pre>\n\n<p>Normally you can get the <code>len()</code> of a sublist, but not in the case where you check inside a function.\n<hr>\n<strong>How can I check for an element in a 2D list using recursion?</strong></p>\n"}, {"tags": ["python", "python-2.7", "ip"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "edited": false, "score": 0, "creation_date": 1545324238, "post_id": 53860759, "comment_id": 94592727, "body": "I do have CIDR in my database so your last solution might work perfect and minimize code.  I will give it a try!  Thanks"}, {"owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "edited": false, "score": 0, "creation_date": 1545325184, "post_id": 53860759, "comment_id": 94593234, "body": "I am going to use the first solution.  I am using python 2 so I had to convert all IP strings to Unicode first to make it work."}], "tags": [], "owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 3, "last_activity_date": 1545265023, "last_edit_date": 1545265023, "creation_date": 1545263753, "answer_id": 53860759, "question_id": 53860712, "link": "https://stackoverflow.com/questions/53860712/python-best-way-to-count-ips-that-fall-under-ip-range/53860759#53860759", "title": "Python - Best way to count IPs that fall under IP range", "body": "<p>Two ways. The simple way:</p>\n\n<p>IP addresses compare octet-by-octet. Interestingly, Python lists compare element-by-element. So if you just split the IP addresses by dot and map the list to <code>int</code>, you can compare them correctly.</p>\n\n<p>The even simpler way:</p>\n\n<p><code>ipaddress.ip_address</code> is comparable, as long the compared addresses are the same version (IPv4 or IPv6).</p>\n\n<p>However, string comparison does not provide a correct ordering of IP addresses:</p>\n\n<pre><code>'1.12.1.1' &lt; '1.2.1.1'\n# =&gt; True (should be False)\n</code></pre>\n\n<p>Except for those issues, your code is fine. It could be written more concisely:</p>\n\n<pre><code>import ipaddress\narps = ['10.20.30.130','10.20.30.131','10.20.30.132', '10.20.30.133', \n    '10.20.30.136', '10.20.30.137', '10.20.30.138', '10.20.30.139', \n    '10.20.30.140', '10.20.30.141', '10.20.30.143', '10.20.30.149']\nstart_ip = \"10.20.30.132\"\nend_ip = \"10.20.30.142\"\n\nstart_ip_ip = ipaddress.ip_address(start_ip)\nend_ip_ip = ipaddress.ip_address(end_ip)\n\nsum(1 for ip in arps if start_ip_ip &lt;= ipaddress.ip_address(ip) &lt;= end_ip_ip)\n# =&gt; 8\n</code></pre>\n\n<p>If you specifically want to see addresses in specific subnet, you don't even need to use start and end addresses, if you know the subnet specification:</p>\n\n<pre><code>ipaddress.ip_address('192.168.1.17') in ipaddress.ip_network('192.168.0.0/16')\n# =&gt; True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1545264583, "post_id": 53860837, "comment_id": 94569705, "body": "This is not correct, due to the issue I explain in my answer - <code>sort</code> will not sort string-IPs in the right order."}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1545264855, "post_id": 53860837, "comment_id": 94569749, "body": "@Amadan Yeah, you are right. Let me show a workaround."}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1545265119, "post_id": 53860837, "comment_id": 94569803, "body": "Also, the Method 2 has complexity of O(log N) if you ignore the fact that you sort them. Sort itself is O(N log N). (Of course, big-O is not a measure of speed, just complexity...)"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1545265640, "post_id": 53860837, "comment_id": 94569925, "body": "@Amadan True. Thanks. How about now?"}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1545265787, "post_id": 53860837, "comment_id": 94569964, "body": "It&#39;ll work, though I think <code>list(map(int, x.split(&quot;.&quot;)))</code> is much simpler and faster than <code>&quot;.&quot;.join(list(map(padding, x.split(&quot;.&quot;))))</code>."}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1545265927, "post_id": 53860837, "comment_id": 94569996, "body": "Agree. I intended to keep some meaningful forms, which may or may not be necessary."}, {"owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "edited": false, "score": 0, "creation_date": 1545324269, "post_id": 53860837, "comment_id": 94592744, "body": "Thanks for the answer.  I will give it a try and see what works best for me.  Thanks again."}, {"owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "edited": false, "score": 0, "creation_date": 1545329985, "post_id": 53860837, "comment_id": 94595370, "body": "Method 1 worked for me.  Is there any way I can also add a print for all matched IPs?"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "edited": false, "score": 0, "creation_date": 1545330430, "post_id": 53860837, "comment_id": 94595551, "body": "<code>l = [x for x in arps if start_ip &lt;= x &lt;= end_ip]</code> <code>print(l)</code> <code>print(len(l))</code>"}, {"owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "edited": false, "score": 0, "creation_date": 1545331512, "post_id": 53860837, "comment_id": 94596029, "body": "Thanks!!!!!  That worked like a charm.  The zfill&#39;d IP address is messing up the output and I am trying to find a way to remove leading 0s.  I need to perform further actions on the IP so when they are zfill&#39;d they fail.  I do want to keep the 0 in cse an octet only has 0.  Example:  10.0.10.0"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "edited": false, "score": 0, "creation_date": 1545332134, "post_id": 53860837, "comment_id": 94596297, "body": "Say you have an IP string <code>a</code>. Then you can do <code>&quot;.&quot;.join([x.lstrip(&#39;0&#39;) or &#39;0&#39; for x in a.split(&quot;.&quot;)])</code>."}], "tags": [], "owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "is_accepted": true, "score": 2, "last_activity_date": 1545265803, "last_edit_date": 1545265803, "creation_date": 1545264481, "answer_id": 53860837, "question_id": 53860712, "link": "https://stackoverflow.com/questions/53860712/python-best-way-to-count-ips-that-fall-under-ip-range/53860837#53860837", "title": "Python - Best way to count IPs that fall under IP range", "body": "<p>I can think of two solutions as below. Method 1 has a time complexity of <code>O(N)</code> and Method 2 has a time complexity of <code>O(Nlog N)</code>. As suggested by Amadan, the IP addresses need to be preprocessed beforehand.</p>\n\n<pre><code>import bisect\n\narps = ['10.20.30.130','10.20.30.131','10.20.30.132', '10.20.30.133', \n'10.20.30.136', '10.20.30.137', '10.20.30.138', '10.20.30.139', '10.20.30.140', '10.20.30.141', '10.20.30.143', '10.20.30.149']\nstart_ip = \"10.20.30.132\"\nend_ip = \"10.20.30.142\"\n\n# Padding zeros to the IP addresses to make sure they are directly comparable\ndef padding(s):\n    return s.zfill(3)\n\narps = [\".\".join(list(map(padding, x.split(\".\")))) for x in arps]\nstart_ip = \".\".join(list(map(padding, start_ip.split(\".\"))))\nend_ip   = \".\".join(list(map(padding, end_ip.split(\".\"))))\n\n# Method 1: Pythonic one-liner\nprint(sum(start_ip &lt;= x &lt;= end_ip for x in arps))\n\n# Method 2: Sort and binary search\ndef find_lt(a, x):\n    i = bisect.bisect_right(a, x)\n    if i:\n        return i - 1\n    else:\n        return 0\n\ndef find_gt(a, x):\n    i = bisect.bisect_right(a, x)\n    if i != len(a):\n        return i\n    else:\n        return i\n\narps.sort()\nprint(find_gt(arps, end_ip) - find_lt(arps, start_ip))\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2430183, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/97f1efdb371932b8a1b288f0fc169b0b?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/2430183/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 53860837, "answer_count": 2, "score": 2, "last_activity_date": 1545265803, "creation_date": 1545263312, "last_edit_date": 1545263773, "question_id": 53860712, "link": "https://stackoverflow.com/questions/53860712/python-best-way-to-count-ips-that-fall-under-ip-range", "title": "Python - Best way to count IPs that fall under IP range", "body": "<p>I have a python script that grabs all IP from the arp table and assign it to a variable.  I have for loop that creates another two variables start_IP containing the first IP of a subnet and last_IP containing the last IP in that same subnet.  For each loop I will have a different start and last IPs.</p>\n\n<p>I am trying to do check the variable containing all IPs and see how many IPs fall under each subnet.  </p>\n\n<p>What would be the best way to do this?  Here is a hardcoded example:\ncount = 0</p>\n\n<pre><code>arps = ['10.20.30.130','10.20.30.131','10.20.30.132', '10.20.30.133', \n'10.20.30.136', '10.20.30.137', '10.20.30.138', '10.20.30.139', '10.20.30.140', '10.20.30.141', '10.20.30.143', '10.20.30.149']\n start_ip = \"10.20.30.132\"\n end_ip = \"10.20.30.142\"\n count = 0      \n for arp in arps:\n    if arp &gt;= start_ip and arp &lt;= end_ip:\n        count = count + 1\n        print count\n    else:\n        continue\n\n print \"Count: \", count\n</code></pre>\n\n<p>Is there a better an faster way of doing this?</p>\n"}, {"tags": ["python", "python-2.7", "tkinter"], "comments": [{"owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "edited": false, "score": 0, "creation_date": 1545265430, "post_id": 53860696, "comment_id": 94569878, "body": "Why not use <code>Label</code> instead of <code>Entry</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 1, "last_activity_date": 1545264460, "creation_date": 1545264460, "answer_id": 53860832, "question_id": 53860696, "link": "https://stackoverflow.com/questions/53860696/how-to-block-typing-in-entry-while-still-keeping-its-functionality/53860832#53860832", "title": "How to block typing in Entry while still keeping its functionality?", "body": "<p>Pass <code>state=\"readonly\"</code> when constructing the <code>Entry</code>; it still allows selecting the text, and changing <code>display_input</code> programmatically still changes the display, but it doesn't allow direct user input.</p>\n\n<p>Per <a href=\"http://effbot.org/tkinterbook/entry.htm#Tkinter.Entry.config-method\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p><em>state=</em></p>\n  \n  <blockquote>\n    <p>The entry state: <strong>NORMAL</strong>, <strong>DISABLED</strong>, or \u201creadonly\u201d (same as <strong>DISABLED</strong>, but contents can still be selected and copied). Default is <strong>NORMAL</strong>. Note that if you set this to <strong>DISABLED</strong> or \u201creadonly\u201d, calls to <code>insert</code> and <code>delete</code> are ignored. (state/State) </p>\n  </blockquote>\n</blockquote>\n"}], "owner": {"reputation": 17, "user_id": 10668903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MWpb1.gif?s=128&g=1", "display_name": "Based_Octahedron", "link": "https://stackoverflow.com/users/10668903/based-octahedron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 53860832, "answer_count": 1, "score": -1, "last_activity_date": 1545332092, "creation_date": 1545263064, "last_edit_date": 1545332092, "question_id": 53860696, "link": "https://stackoverflow.com/questions/53860696/how-to-block-typing-in-entry-while-still-keeping-its-functionality", "title": "How to block typing in Entry while still keeping its functionality?", "body": "<p>I'm making a calculator using Tkinter. I want to be able to block the user from typing directly in the Entry, but still, i don't want to simply deactivate the Entry entirely, because i need my input commands from the buttons for it to work.</p>\n\n<pre><code>from Tkinter import *\nroot = Tk()\nroot.title(\"Calculadora\")\nroot.resizable(height = False, width = False)\n\n#functions------------------------------------------------------------------\n\ndisplay_input = StringVar()\n\nnumber_storage = \"\"\n\ndef button_click(buttons):\n    global number_storage\n    number_storage = number_storage + str(buttons)\n    display_input.set(number_storage)\n\n\n#row 1---------------------------------------------------------------------------\n\ndisplay = Entry(root, textvariable = display_input, justify = 'right', font = (\"Simplified Arabian Fixed\", 18), bg = \"black\", fg = \"white\", bd = 25).grid(columnspan = 4)\n\nButton7 = Button(root, command = lambda: button_click(7), bd = 10, text= \"7\", padx = 9, font = (\"Simplified Arabian Fixed\", 15), bg = \"black\", fg = \"white\").grid(column = 0, row = 1, sticky = 'ew')\n\nButton8 = Button(root, command = lambda: button_click(8), bd = 10, text = \"8\", padx = 9, font = (\"Simplified Arabian Fixed\", 15), bg = \"black\", fg = \"white\").grid(column = 1, row = 1, sticky = 'ew')\n\nButton9 =  Button(root, command = lambda: button_click(9), bd = 10, text = \"9\", padx = 9, font = (\"Simplified Arabian Fixed\", 15), bg = \"black\", fg = \"white\").grid(column = 2, row = 1, sticky = 'ew')\n\nDivision = Button(root, command = lambda: button_click(\"/\"), bd = 10, text = \"/\", padx = 9, font = (\"Simplified Arabian Fixed\", 15), bg = \"grey30\", fg = \"white\").grid(column = 3, row = 1, sticky = 'ew')\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "angular", "amazon-ec2"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 10596481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66172426f632d2c69806c87bae860476?s=128&d=identicon&r=PG&f=1", "display_name": "UnholyRaven", "link": "https://stackoverflow.com/users/10596481/unholyraven"}, "is_accepted": false, "score": 0, "last_activity_date": 1545294808, "creation_date": 1545294808, "answer_id": 53864964, "question_id": 53860690, "link": "https://stackoverflow.com/questions/53860690/django-websocket-works-on-local-but-not-in-amazon-ec2-server-error-during-webso/53864964#53864964", "title": "Django websocket works on local but not in Amazon EC2 server, error during Websocket handshake", "body": "<p>You are running your server on localhost (127.0.0.1:8000). It's not accessible from outside. You have to run it on a public IP or configure a proxy to route requests to your localhost server. Also do not forget to open the port to the world via EC2 management interface.</p>\n\n<p>Also note that you shouldn't run your server via <code>./manage.py runserver</code> on production. You should use application WSGI server (e.g. Gunicorn) and webserver (e.g. Nginx). Check out <a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-18-04\" rel=\"nofollow noreferrer\">this good tutorial</a>. Basically you run Gunicorn which is bound to unix socket, and Nginx which proxies (<code>proxy_pass</code>) all requests to the unix socket.</p>\n"}], "owner": {"reputation": 11, "user_id": 3556605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69edcb8b5a5c2c506faac516e08b39f7?s=128&d=identicon&r=PG&f=1", "display_name": "vhiguita857", "link": "https://stackoverflow.com/users/3556605/vhiguita857"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545294808, "creation_date": 1545263005, "question_id": 53860690, "link": "https://stackoverflow.com/questions/53860690/django-websocket-works-on-local-but-not-in-amazon-ec2-server-error-during-webso", "title": "Django websocket works on local but not in Amazon EC2 server, error during Websocket handshake", "body": "<p>I have a project in websockets with angular and django, it works fine locally with Linux, when I have deployed it to Amazon EC2 that is also Linux and did the same with Linux locally, I have attached a screenshot of the server in django in Amazon EC2 that it looks that is running ok, <a href=\"https://i.stack.imgur.com/EwvtB.png\" rel=\"nofollow noreferrer\">server screenshot</a>, the client that is an angular app, when I'm trying to connect to the server <strong>this.globals.socket = new WebSocket('ws://mydomain.com.com/stocks')</strong>, I'm getting this error <strong>WebSocket connection to 'ws://mydomain.com.com/stocks' failed: Error during WebSocket handshake: Unexpected response code: 404</strong>. Do I have to configure something in nginx.conf in Amazon EC2 server?, or do I have to enable something additional in the server?. Any help or clue would really be appreciated. Thank you very much.</p>\n"}, {"tags": ["python", "python-3.x", "matlab"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1545262778, "post_id": 53860628, "comment_id": 94569280, "body": "Well, do you have python3 installed by this name on the mac?"}, {"owner": {"reputation": 51, "user_id": 10813416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mR3yHevT2fU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBI26QUZMq2T06yQeoXnZbVctlfTA/mo/photo.jpg?sz=128", "display_name": "MrKaplan", "link": "https://stackoverflow.com/users/10813416/mrkaplan"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1545262877, "post_id": 53860628, "comment_id": 94569307, "body": "Yes, edited post accordingly"}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "edited": false, "score": 1, "creation_date": 1545263010, "post_id": 53860628, "comment_id": 94569345, "body": "run <code>echo $PATH</code> in terminal and post the result here"}, {"owner": {"reputation": 51, "user_id": 10813416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mR3yHevT2fU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBI26QUZMq2T06yQeoXnZbVctlfTA/mo/photo.jpg?sz=128", "display_name": "MrKaplan", "link": "https://stackoverflow.com/users/10813416/mrkaplan"}, "edited": false, "score": 0, "creation_date": 1545263407, "post_id": 53860628, "comment_id": 94569442, "body": "Thank you! Posted result as an edit to the question"}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "edited": false, "score": 1, "creation_date": 1545263669, "post_id": 53860628, "comment_id": 94569495, "body": "try to change <code>cmdStr = &#39;python3 osx_conversion.py&#39;</code> to <code>cmdStr = &#39;&#47;anaconda3&#47;bin&#47;python3 osx_conversion.py&#39;</code> (firstly, run <code>&#47;anaconda3&#47;bin&#47;python3 osx_conversion.py</code> in terminal just to make sure it works)"}, {"owner": {"reputation": 51, "user_id": 10813416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mR3yHevT2fU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBI26QUZMq2T06yQeoXnZbVctlfTA/mo/photo.jpg?sz=128", "display_name": "MrKaplan", "link": "https://stackoverflow.com/users/10813416/mrkaplan"}, "edited": false, "score": 0, "creation_date": 1545265268, "post_id": 53860628, "comment_id": 94569840, "body": "Hero! That does it. What is the explanation behind that? And more importantly, how do I make it as smooth as possible for collaborators to be able to use this? Assumedly they&#39;ll have to run the echo path command then copy and paste part of that result into cmdStr. PS: How do I mark my question as answered?"}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "edited": false, "score": 0, "creation_date": 1545266727, "post_id": 53860628, "comment_id": 94570160, "body": "I&#39;ve added a complete explanation, just mark it as the answer. Hope it made sense, if you have any more questions, don&#39;t hesitate!"}], "answers": [{"comments": [{"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 1, "creation_date": 1545273201, "post_id": 53861071, "comment_id": 94571440, "body": "No, MATLAB is not run as root, that would be dangerous. On MacOS, programs started from Finder (the desktop program) do not receive any environment variables or settings defined in <code>.bashrc</code> or <code>.profile</code>."}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "reply_to_user": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1545323949, "post_id": 53861071, "comment_id": 94592582, "body": "That makes more sense"}], "tags": [], "owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "is_accepted": true, "score": 3, "last_activity_date": 1545266591, "creation_date": 1545266591, "answer_id": 53861071, "question_id": 53860628, "link": "https://stackoverflow.com/questions/53860628/bin-bash-python3-command-not-found-when-running-python-script-through-syste/53861071#53861071", "title": "(/bin/bash: python3: command not found) When running python script through system command in Matlab", "body": "<p>Your problem is that the command run by Matlab wasn't finding your python 3 interpreter, my guess is that it runs as root user, so the PATH is different than the one in your user.</p>\n\n<p>Basically, what you can do is specify the complete PATH for your desired Python interpreter, in your case, it is <code>/anaconda3/bin/python3</code>, but that PATH might be different for another user.</p>\n\n<p>In any case, you can always run <code>whereis python3</code> in terminal to find out the complete PATH of the user Python interpreter, and use the complete PATH inside Matlab.</p>\n"}], "owner": {"reputation": 51, "user_id": 10813416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mR3yHevT2fU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBI26QUZMq2T06yQeoXnZbVctlfTA/mo/photo.jpg?sz=128", "display_name": "MrKaplan", "link": "https://stackoverflow.com/users/10813416/mrkaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4510, "favorite_count": 0, "accepted_answer_id": 53861071, "answer_count": 1, "score": 2, "last_activity_date": 1545266591, "creation_date": 1545262551, "last_edit_date": 1545263385, "question_id": 53860628, "link": "https://stackoverflow.com/questions/53860628/bin-bash-python3-command-not-found-when-running-python-script-through-syste", "title": "(/bin/bash: python3: command not found) When running python script through system command in Matlab", "body": "<p>I have a large Matlab project, and due to an issue with xlsread and Mac OS, I have included a Mac switch. If that switch is on, I want Matlab to execute a python script through a system command as such:</p>\n\n<pre><code>cmdStr = 'python3 osx_conversion.py'\nif osxSwitch == 1\n    [status,result] = system(cmdStr);\n    if status ~= 0\n        error('System could not run Python conversion file')\n    end\nelse\n...\n</code></pre>\n\n<p>This returns the result:</p>\n\n<pre><code>/bin/bash: python3: command not found\n</code></pre>\n\n<p>Now, if instead I use 'python osx_conversion.py', the error I get is to do with using python 3 syntax, as the command python on my mac calls python 2. \nAny ideas as to what is going on will be really appreciated.</p>\n\n<p>EDIT: To clarify, if I run 'python3 osx_conversion.py' through the terminal it runs smoothly</p>\n\n<p>EDIT 2: Result from running </p>\n\n<pre><code>echo $PATH\n</code></pre>\n\n<p>in the terminal:</p>\n\n<pre><code>    /anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/Library/TeX/texbin:/usr/local/go/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/opt/ImageMagick/bin:/Applications/Wireshark.app/Contents/MacOS:/usr/local/go/bin\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "fft"], "comments": [{"owner": {"reputation": 1755, "user_id": 3757757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhHJj.jpg?s=128&g=1", "display_name": "CrepeGoat", "link": "https://stackoverflow.com/users/3757757/crepegoat"}, "edited": false, "score": 0, "creation_date": 1545262818, "post_id": 53860624, "comment_id": 94569289, "body": "Do you mean, &quot;I want to detect <b>non</b>-seasonal alerts&quot;? I.e., ignore seasonal spikes, look for outlying spikes?"}, {"owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "edited": false, "score": 0, "creation_date": 1545262921, "post_id": 53860624, "comment_id": 94569323, "body": "Are your alerts binary 0/1?"}, {"owner": {"reputation": 1755, "user_id": 3757757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhHJj.jpg?s=128&g=1", "display_name": "CrepeGoat", "link": "https://stackoverflow.com/users/3757757/crepegoat"}, "edited": false, "score": 0, "creation_date": 1545262946, "post_id": 53860624, "comment_id": 94569327, "body": "Also, can the <code>alert_once_a_day</code> array just be made as a boolean array? Or is it expect to be an array of decimal values? E.g., is <code>0.5</code> a possible value?"}, {"owner": {"reputation": 1, "user_id": 10783391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7109ee38972c1bf881d0b8bcab86a929?s=128&d=identicon&r=PG&f=1", "display_name": "jkshisa111", "link": "https://stackoverflow.com/users/10783391/jkshisa111"}, "edited": false, "score": 0, "creation_date": 1545263113, "post_id": 53860624, "comment_id": 94569369, "body": "It will be a boolean array. There will not be any other values expect 0 and 1."}, {"owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "edited": false, "score": 0, "creation_date": 1545263357, "post_id": 53860624, "comment_id": 94569430, "body": "Do you know the time between seasons or can the difference be any number?"}, {"owner": {"reputation": 1, "user_id": 10783391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7109ee38972c1bf881d0b8bcab86a929?s=128&d=identicon&r=PG&f=1", "display_name": "jkshisa111", "link": "https://stackoverflow.com/users/10783391/jkshisa111"}, "edited": false, "score": 0, "creation_date": 1545263740, "post_id": 53860624, "comment_id": 94569509, "body": "It can be any number. Can I use something like scipy.signal.welch to find periodogram?"}], "answers": [{"tags": [], "owner": {"reputation": 3541, "user_id": 5625497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f200aaa56fa9cba9baa9170c514fb125?s=128&d=identicon&r=PG&f=1", "display_name": "Mstaino", "link": "https://stackoverflow.com/users/5625497/mstaino"}, "is_accepted": false, "score": 0, "last_activity_date": 1545315936, "creation_date": 1545315936, "answer_id": 53870551, "question_id": 53860624, "link": "https://stackoverflow.com/questions/53860624/how-to-predict-seasonal-spikes-in-time-series-and-ignore-spikes-which-are-not-se/53870551#53870551", "title": "How to predict seasonal spikes in time series and ignore spikes which are not seasonal?", "body": "<p>Simplest answer, use a mask:</p>\n\n<pre><code>alert_once_a_day = [1.0 if i % 20 == 0 else 0.0  for i in range(100)]\n\nseasonal_alerts = list(alert_once_a_day)\nmask = np.array(seasonal_alerts) == 0\n\n#Adding an outlier at 27, which does not fit pattern of spikes at every 20 th interval.\nalert_once_a_day[27] =1.0\n\n# assuming your zeros are \"non alert\" values, the mask will eliminate seasonal peaks:    \ntrue_alerts = np.where(np.array(alert_once_a_day) * mask==1)\ntrue_alerts\n&gt;&gt; (array([27], dtype=int64),)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10783391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7109ee38972c1bf881d0b8bcab86a929?s=128&d=identicon&r=PG&f=1", "display_name": "jkshisa111", "link": "https://stackoverflow.com/users/10783391/jkshisa111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545315936, "creation_date": 1545262548, "last_edit_date": 1545263080, "question_id": 53860624, "link": "https://stackoverflow.com/questions/53860624/how-to-predict-seasonal-spikes-in-time-series-and-ignore-spikes-which-are-not-se", "title": "How to predict seasonal spikes in time series and ignore spikes which are not seasonal?", "body": "<p>I have just started with time series forecasting and trying to figure out the solution for following use case.\nI want to detect non-seasonal alerts coming into our system. If incoming alerts are seasonal I want to ignore them. Outliers which do not fit into a seasonal pattern I need to escalate them to the processing module.</p>\n\n<pre><code>#Creating time series which has spikes every 20th time interval.\nalert_once_a_day = [1.0 if i % 20 == 0 else 0.0  for i in range(100)]\n#Adding an outlier at 27, which does not fit pattern of spikes at every 20 th interval.\nalert_once_a_day[27] =1.0\n</code></pre>\n\n<p>In the above series, I want to find all alerts occur in seasonal pattern and ignore them.</p>\n"}, {"tags": ["python", "regex", "pattern-matching"], "answers": [{"tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 1, "last_activity_date": 1545262638, "creation_date": 1545262638, "answer_id": 53860641, "question_id": 53860592, "link": "https://stackoverflow.com/questions/53860592/replacing-all-instances-of-substring-using-a-dictionary/53860641#53860641", "title": "Replacing all instances of substring using a dictionary", "body": "<p>You can replace all the matching items found in the string:</p>\n\n<pre><code>mydict = {'a':'1', 'b':'2'}\nmystr = '#a#b'\nfor k, v in mydict.items():\n    mystr = mystr.replace('#' + k, v)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 4414359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a8314189196f1f31ae825807125de8d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raksha", "link": "https://stackoverflow.com/users/4414359/raksha"}, "edited": false, "score": 0, "creation_date": 1545263578, "post_id": 53860669, "comment_id": 94569475, "body": "Nice! That&#39;s exactly what I was looking for. Thank you."}], "tags": [], "owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "is_accepted": true, "score": 3, "last_activity_date": 1545262875, "creation_date": 1545262875, "answer_id": 53860669, "question_id": 53860592, "link": "https://stackoverflow.com/questions/53860592/replacing-all-instances-of-substring-using-a-dictionary/53860669#53860669", "title": "Replacing all instances of substring using a dictionary", "body": "<p>The second argument to <code>re.sub</code> (the replacement for any matches) can be a callable. If so, it's called with a single argument, the match object, for each match, and its result is substituted into the string. So you can do something like:</p>\n\n<pre><code>d = {'a': 'A', 'b': 'B'}\ns = '#a #b and #c'\ndef replace_it(m):\n    return d.get(m.group('key'), m.group(0))\nprint re.sub('#(?P&lt;key&gt;[a-zA-Z]+)', replace_it, s)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 4414359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a8314189196f1f31ae825807125de8d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raksha", "link": "https://stackoverflow.com/users/4414359/raksha"}, "edited": false, "score": 0, "creation_date": 1545263370, "post_id": 53860680, "comment_id": 94569432, "body": "True, but then you have to iterate through the string for every key in the dictionary. I was thinking there might be a way to get them all in one go and without loops."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "is_accepted": false, "score": 0, "last_activity_date": 1545262944, "creation_date": 1545262944, "answer_id": 53860680, "question_id": 53860592, "link": "https://stackoverflow.com/questions/53860592/replacing-all-instances-of-substring-using-a-dictionary/53860680#53860680", "title": "Replacing all instances of substring using a dictionary", "body": "<p>if you know the exact things you want to replace, you don't need a regex.  Those are more for when you are looking for patterns, rather than exact matches.  string.replace should work for this.</p>\n\n<pre><code>string = \"a#acbb#bd\"\ndictionary = {'a':'1', 'b':'2'}\nnewstring1 = string.replace('#a', dictionary['a'])\nnewstring = newstring1.replace('#b', dictionary['b'])\nprint(newstring)\n&gt;&gt;&gt;a1cbb2d\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 4414359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a8314189196f1f31ae825807125de8d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raksha", "link": "https://stackoverflow.com/users/4414359/raksha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 53860669, "answer_count": 3, "score": -1, "last_activity_date": 1545262944, "creation_date": 1545262225, "question_id": 53860592, "link": "https://stackoverflow.com/questions/53860592/replacing-all-instances-of-substring-using-a-dictionary", "title": "Replacing all instances of substring using a dictionary", "body": "<p>I know there's a way to replace all instances that match some pattern like so: <code>re.sub(r'x', 'y', string)</code>.</p>\n\n<p>But is there a way to replace all instances like <code>#a</code>, <code>#b</code>, with the values corresponding to the last character's values in a dictionary?</p>\n\n<p><code>dict = {'a': '1', 'b': 2', ... }</code></p>\n\n<p>so <code>abc#bcd#ae</code> becomes <code>abc2cd1e</code> and such.</p>\n"}, {"tags": ["python", "python-3.x", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 5277, "user_id": 2237916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/074db60f1ec6161c996e9c08bf71f5bd?s=128&d=identicon&r=PG", "display_name": "silgon", "link": "https://stackoverflow.com/users/2237916/silgon"}, "is_accepted": false, "score": 0, "last_activity_date": 1545262510, "creation_date": 1545262510, "answer_id": 53860620, "question_id": 53860536, "link": "https://stackoverflow.com/questions/53860536/python-plotly-use-buttons-to-update-sets-of-subplots-arbitrarily-assign-trace/53860620#53860620", "title": "Python Plotly: use buttons to update sets of subplots &amp; arbitrarily assign traces", "body": "<p>Please check the documentation (<a href=\"https://plot.ly/python/subplots/\" rel=\"nofollow noreferrer\">this link</a>)</p>\n\n<p>In the documentation the example they use to append is by using <code>fig.append_trace()</code> with the first argument the trace you already generated, and the second and third are the position of the subplot.</p>\n\n<pre><code>fig = tools.make_subplots(rows=1, cols=2)\n\nfig.append_trace(trace1, 1, 1)\nfig.append_trace(trace2, 1, 2)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10605349, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Zy-R7fvmkXA/AAAAAAAAAAI/AAAAAAAANQw/Mk2RvOxuEMc/photo.jpg?sz=128", "display_name": "Louis Steele", "link": "https://stackoverflow.com/users/10605349/louis-steele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1483, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545262510, "creation_date": 1545261787, "last_edit_date": 1545261998, "question_id": 53860536, "link": "https://stackoverflow.com/questions/53860536/python-plotly-use-buttons-to-update-sets-of-subplots-arbitrarily-assign-trace", "title": "Python Plotly: use buttons to update sets of subplots &amp; arbitrarily assign traces", "body": "<p>Let's say I have 6 sets of data:</p>\n\n<pre><code>X = [i for i in range(100)]\nY1 = [2*i for i in range(100)]\nY2 = [3*i for i in range(100)]\nY3 = [4*i for i in range(100)]\nY4 = [5*i for i in range(100)]\nY5 = [6*i for i in range(100)]\nY6 = [7*i for i in range(100)]\n</code></pre>\n\n<p>Using the example here (<a href=\"https://plot.ly/python/custom-buttons/\" rel=\"nofollow noreferrer\">https://plot.ly/python/custom-buttons/</a>), I can create buttons that will allow me to switch between displaying these six sets of data on a single plot.  I, however, would like to separate the data onto sets of subplots, and have buttons to switch between subplot sets.</p>\n\n<p>For example, I would like two sets of subplots consisting of two subplots each (so, 4 plots total, 2 sets of 2 subplots).  On the first set of subplots, I would like to place Y1 &amp; Y2 on the first plot and Y3 on the second plot.  On the second set of subplots, I would like to place Y4 on the first subplot and Y5 &amp; Y6 on the second subplot.  I would then like two buttons that would allow me to switch between the first set of subplots (Y1/Y2 &amp; Y3) and the second set of subplots (Y4, Y5/Y6).</p>\n\n<p>Another example would be to have two sets of subplots consisting of 2 and 3 subplots, respectively (as opposed to 2 subplots each set).  In the first set of subplots (2 subplots) placing Y1 on the first and Y2 on the second.  In the second set of subplots (3 subplots) placing Y3 &amp; Y4 on the first subplot, Y5 on the second, and Y6 on the third.  The two buttons would update between the first and second set of subplots.</p>\n\n<p>The ultimate goal is to have a basis for having an arbitrary number of subplot sets with an arbitrary number of subplots assigned to each subset (not the same), then arbitrarily assigning any number of traces to each subplot in each set of subplots, and use buttons to switch between the subplot sets.</p>\n\n<p>If not with buttons, could this be accomplished with a menu?  Also, is there a menu widget that allows one to use the up/down buttons to step through the subplot sets?</p>\n\n<p>Another similar reference (but not one that addresses this specific question) can be found here: <a href=\"https://stackoverflow.com/questions/50518090/python-plotly-multiple-dropdown-plots-each-of-which-have-subplots\">Python Plotly - Multiple dropdown plots, each of which have subplots</a></p>\n\n<p>Below is a code I have been working on to try to develop this (it is incomplete, of course, but might serve as a basis for a solution.)</p>\n\n<p>Thanks so much for your replies!</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport plotly.offline as offline\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode, iplot, plot\nfrom plotly import tools\ninit_notebook_mode(connected=True)\n\n# 6 sets of data\nX = [i for i in range(100)]\nY1 = [2*i for i in range(100)]\nY2 = [3*i for i in range(100)]\nY3 = [4*i for i in range(100)]\nY4 = [5*i for i in range(100)]\nY5 = [6*i for i in range(100)]\nY6 = [7*i for i in range(100)]\nlabels = [\"One\", \"Two\"]\n\n# 2 subplots\nfig = tools.make_subplots(rows=1, cols=2)\n\ntrace1 = go.Scatter(\n                x=X,\n                y=Y1, \n                showlegend=False\n            )\ntrace2 = go.Scatter(\n                x=X,\n                y=Y2, \n                showlegend=False\n            )\ntrace3 = go.Scatter(\n                x=X,\n                y=Y3, \n                showlegend=False\n            )\ntrace4 = go.Scatter(\n                x=X,\n                y=Y4, \n                showlegend=False\n            )\ntrace5 = go.Scatter(\n                x=X,\n                y=Y5, \n                showlegend=False\n            )\ntrace6 = go.Scatter(\n                x=X,\n                y=Y6, \n                showlegend=False\n            )\n\ndata = [trace1,trace2]\n\nupdatemenus = list([\n    dict(type=\"buttons\",\n         active=-1,\n         buttons = list([\n             dict(label = 'first',\n                  method = 'update',\n                  args = [{'visible':[True,False]},\n                           {'title': 'first'}]),\n             dict(label = 'second',\n                  method = 'update',\n                  args = [{'visible':[False,True]},\n                           {'title': 'second'}])\n        ])\n    )])\n\nlayout = dict(title = 'test', showlegend=False,\n              updatemenus=updatemenus)\n\nfig = dict(data=data,layout=layout)\n\noffline.plot(fig, filename='tmp.html')\n</code></pre>\n"}, {"tags": ["python", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "is_accepted": false, "score": 1, "last_activity_date": 1545263596, "last_edit_date": 1592644375, "creation_date": 1545263596, "answer_id": 53860743, "question_id": 53860521, "link": "https://stackoverflow.com/questions/53860521/pyqt5-how-to-print-the-result-of-a-function-without-pressing-any-buttons/53860743#53860743", "title": "(pyqt5) How to print the result of a function without pressing any buttons?", "body": "<blockquote>\n<p>The QTimer class provides repetitive and single-shot timers.</p>\n<p>The QTimer class provides a high-level programming interface for timers. To use it, create a QTimer, connect its timeout() signal to the appropriate slots, and call start(). From then on, it will emit the timeout() signal at constant intervals.</p>\n</blockquote>\n<pre><code>import sys\nfrom PyQt5 import QtCore, QtGui, QtWidgets\n\nclass Ui_Dialog(QtWidgets.QWidget):\n#    _signal=QtCore.pyqtSignal(str)\n    def __init__(self):\n        super(Ui_Dialog,self).__init__()\n#        self.setupUi(self)\n#        self._signal.connect(self.print_out)\n\n        self.textBrowser = QtWidgets.QTextBrowser()\n        layout = QtWidgets.QVBoxLayout()\n        layout.addWidget(self.textBrowser)\n        self.setLayout(layout)\n\n        timer = QtCore.QTimer(self, interval=1000, timeout=self.print_out)\n        timer.start()\n\n#    def emit_(self):\n#        self._signal.emit(&quot;Hello world!&quot;)\n\n    def print_out(self, string=&quot;Hello world!&quot;):\n        print (string)\n        self.textBrowser.append(string)\n\n#def call(): \n#    while True:   \n#        emit_()\n#        time.sleep(1)\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    myWin = Ui_Dialog()\n    myWin.show()\n#    call()\n    sys.exit(app.exec_())\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SeJpp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SeJpp.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 9, "user_id": 10794398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0iVPRYz6EOE/AAAAAAAAAAI/AAAAAAAAABM/bo9gbvTHMvA/photo.jpg?sz=128", "display_name": "Ke Lv", "link": "https://stackoverflow.com/users/10794398/ke-lv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1545264219, "answer_count": 1, "score": 0, "last_activity_date": 1545263596, "creation_date": 1545261682, "question_id": 53860521, "link": "https://stackoverflow.com/questions/53860521/pyqt5-how-to-print-the-result-of-a-function-without-pressing-any-buttons", "closed_reason": "Duplicate", "title": "(pyqt5) How to print the result of a function without pressing any buttons?", "body": "<p>I am learning pyqt5 now. I want to print the result of a loop function to the QTextBrowser. For example, to print \"hello world\" every second. But I don't want to press any pushbutton. I want to let \"hello world\" automatic print when I run this script. I have tried the following code: </p>\n\n<pre><code>class Ui_Dialog(QtWidgets.QWidget):\n    _signal=QtCore.pyqtSignal(str)\n\n    def __init__(self):\n        super(Ui_Dialog,self).__init__()\n        self.setupUi(self)\n        self._signal.connect(self.print_out)\n\n             .....................\n             .....................\n\n    def emit_(self):\n        self._signal.emit(\"Hello world!\")\n\n    def print_out(self, string):\n        print (string)\n        self.textBrowser.append(string)\n\ndef call(): \n    while True:   \n        emit_()\n        time.sleep(1)\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    myWin = Ui_Dialog()\n    myWin.show()\n    call()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>However, it doesn't work. In the terminal, I can see the print result, but this result can not print in the textBrowser. The textBrowser is always empty. </p>\n"}, {"tags": ["python", "pandas", "python-2.7", "join"], "answers": [{"comments": [{"owner": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 0, "creation_date": 1545261788, "post_id": 53860522, "comment_id": 94569018, "body": "Why not <code>how=&#39;left&#39;</code>?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 1, "creation_date": 1545261855, "post_id": 53860522, "comment_id": 94569036, "body": "@ycx, Because there may be an <code>A</code> value in <code>df2</code> which isn&#39;t in <code>df1</code>. It&#39;s not clear whether or not this will ever be the case, but the outer join is safer generally."}, {"owner": {"reputation": 3199, "user_id": 2005490, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f7a105be69d2445655481949141f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Atihska", "link": "https://stackoverflow.com/users/2005490/atihska"}, "edited": false, "score": 0, "creation_date": 1545261926, "post_id": 53860522, "comment_id": 94569055, "body": "@jpp: I get <code>*** AttributeError: &#39;builtin_function_or_method&#39; object has no attribute &#39;rename&#39;</code>"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545261974, "post_id": 53860522, "comment_id": 94569068, "body": "Looks like your <code>df1</code> (or <code>df2</code>) isn&#39;t a dataframe. Check your inputs."}, {"owner": {"reputation": 3199, "user_id": 2005490, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f7a105be69d2445655481949141f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Atihska", "link": "https://stackoverflow.com/users/2005490/atihska"}, "edited": false, "score": 0, "creation_date": 1545262577, "post_id": 53860522, "comment_id": 94569220, "body": "@jpp: oh yeah sorry, added wrong var name. but my current output has 6 columns as <code>index A_x  count1 A_y  count2  change</code> instead of <code>A  count1  count2  change</code> and it does not subtract on same column A&#39;s value but first 4 rows of any value of A. So first row of df1 gets subtracted from first row of df2 and second row of df1 gets subtracted from second row of df2 and so on."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 3199, "user_id": 2005490, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f7a105be69d2445655481949141f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Atihska", "link": "https://stackoverflow.com/users/2005490/atihska"}, "edited": false, "score": 0, "creation_date": 1545262686, "post_id": 53860522, "comment_id": 94569251, "body": "@Atihska, I can&#39;t replicate on Pandas v0.23 / Python 3.6.5."}, {"owner": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 0, "creation_date": 1545271310, "post_id": 53860522, "comment_id": 94571066, "body": "@jpp In that case, what if the values in df1 are NaN because the join key don&#39;t exist? How would your calculation work? It goes into negative?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 0, "creation_date": 1545271397, "post_id": 53860522, "comment_id": 94571083, "body": "@ycx, No, it&#39;ll give <code>NaN</code>. For example, <code>np.nan - 5</code> gives <code>NaN</code>."}, {"owner": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 0, "creation_date": 1545294480, "post_id": 53860522, "comment_id": 94577098, "body": "@jpp Noted. Thanks"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1545261683, "creation_date": 1545261683, "answer_id": 53860522, "question_id": 53860485, "link": "https://stackoverflow.com/questions/53860485/how-can-i-subtract-2-columns-if-another-columns-value-is-same-in-pandas-datafra/53860522#53860522", "title": "How can I subtract 2 columns if another column&#39;s value is same in pandas dataframe", "body": "<p>You can perform an outer merge followed by a calculation:</p>\n\n<pre><code>res = pd.merge(df1.rename(columns={'count': 'count1'}),\n               df2.rename(columns={'count': 'count2'}), how='outer')\\\n        .eval('change = count1 - count2')\n\nprint(res)\n\n    A  count1  count2  change\n0  s1      10     2.0     8.0\n1  s2       5     NaN     NaN\n2  s3       3     NaN     NaN\n3  s4       7     4.0     3.0\n</code></pre>\n"}], "owner": {"reputation": 3199, "user_id": 2005490, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f7a105be69d2445655481949141f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Atihska", "link": "https://stackoverflow.com/users/2005490/atihska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 53860522, "answer_count": 1, "score": 3, "last_activity_date": 1545263530, "creation_date": 1545261392, "last_edit_date": 1545263530, "question_id": 53860485, "link": "https://stackoverflow.com/questions/53860485/how-can-i-subtract-2-columns-if-another-columns-value-is-same-in-pandas-datafra", "title": "How can I subtract 2 columns if another column&#39;s value is same in pandas dataframe", "body": "<p>I have 2 data frames, df1 and df2 both having columns 'A', 'count'. I want to join these based on column A and then subtract count from those rows if column is same. So for example: </p>\n\n<pre><code>df1\nA    count\ns1   10\ns2    5\ns3    3\ns4    7\n\ndf2\nA    count\ns1    2\ns4    4\n</code></pre>\n\n<p>My final output should be</p>\n\n<pre><code>combined\nA    count1   count2   change\ns1    10        2       8 // count1-count2\ns2    5         none    none\ns3    3         none    none\ns4    7         4        3\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "audio"], "answers": [{"tags": [], "owner": {"reputation": 3573, "user_id": 3142971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GvXzQ.png?s=128&g=1", "display_name": "Steampunkery", "link": "https://stackoverflow.com/users/3142971/steampunkery"}, "is_accepted": false, "score": 1, "last_activity_date": 1545265233, "creation_date": 1545265233, "answer_id": 53860929, "question_id": 53860423, "link": "https://stackoverflow.com/questions/53860423/saving-an-audio-file/53860929#53860929", "title": "Saving an audio file", "body": "<p>Hello and welcome to StackOverflow! Looks like you can call <code>get_wav_data</code> on your <code>audio</code> variable to obtain a byte string that represents the WAV data. You can then write it to a file. The documentation for <code>get_wav_data</code> is <a href=\"https://github.com/Uberi/speech_recognition/blob/master/reference/library-reference.rst#audiodata_instanceget_wav_dataconvert_rate-unionint-none--none-convert_width-unionint-none--none---bytes\" rel=\"nofollow noreferrer\">here</a>. You can write bytes to a file like so:</p>\n\n<pre><code>with open('your_file.wav', 'wb') as file:\n    wav_data = audio.get_wav_data()\n    file.write(wav_data)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10797974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b397888db4835ef1431af5872cba944f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/10797974/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1545300105, "creation_date": 1545261017, "last_edit_date": 1545300105, "question_id": 53860423, "link": "https://stackoverflow.com/questions/53860423/saving-an-audio-file", "title": "Saving an audio file", "body": "<p>I'm building a script that is using voice recognition. It works, but the recognizing part often gives me bad results. So I thought I record the quality and check if a bad quality could be the result of my results.</p>\n\n<p>i installed using</p>\n\n<pre><code>sudo pip3 install SpeechRecognition\nsudo pip3 install PyAudio\n</code></pre>\n\n<p>the script:</p>\n\n<pre><code>import speech_recognition as sr    \nr = sr.Recognizer()\nwith sr.Microphone() as source:\n    print(\"Ich h\u00f6re zu....\")\n    audio = r.listen(source)\n\nprint(r.recognize_google(audio, language=\"de_DE\"))\n</code></pre>\n\n<p>How can I change the script to save <code>audio</code> to a <code>wav/mp3</code>-file?</p>\n"}, {"tags": ["python", "python-3.x", "pypdf2"], "comments": [{"owner": {"reputation": 134, "user_id": 3184195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wPlib.png?s=128&g=1", "display_name": "hardika", "link": "https://stackoverflow.com/users/3184195/hardika"}, "edited": false, "score": 1, "creation_date": 1604014797, "post_id": 53860411, "comment_id": 114226144, "body": "I have asked a similar question here <a href=\"https://stackoverflow.com/questions/64566153/how-do-i-calculate-the-md5-checksum-of-a-file-contents-in-python\" title=\"how do i calculate the md5 checksum of a file contents in python\">stackoverflow.com/questions/64566153/&hellip;</a>  My solution is, I have extracted all text from the pdf file and calculate the md5 checksum on that content which gives me result what I want but PyPdf2 is not good with the password-protected pdf."}], "answers": [{"tags": [], "owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1545270430, "creation_date": 1545270430, "answer_id": 53861456, "question_id": 53860411, "link": "https://stackoverflow.com/questions/53860411/excluding-metadata-when-generating-a-pdf-file-checksum-in-python/53861456#53861456", "title": "Excluding metadata when generating a pdf file checksum in Python", "body": "<p>You could do it how the NIX package manager does it. You insert 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx' as the hash, checksum the file and then replace that with the real hash. When the file is checked you replace the hash with the X's and hash the file.</p>\n\n<p>But I wouldn't do this with PDFs. For PDFs it would be better to sign them.</p>\n"}], "owner": {"reputation": 256, "user_id": 7580248, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lWggAUd4Dpo/AAAAAAAAAAI/AAAAAAAAA-c/1PeGXOm-UFw/photo.jpg?sz=128", "display_name": "Imam Digmi", "link": "https://stackoverflow.com/users/7580248/imam-digmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1603952713, "creation_date": 1545260924, "question_id": 53860411, "link": "https://stackoverflow.com/questions/53860411/excluding-metadata-when-generating-a-pdf-file-checksum-in-python", "title": "Excluding metadata when generating a pdf file checksum in Python", "body": "<p>I intend to generate a checksum on the file then I put the checksum as metadata of the file itself. However, the problem I faced was that the checksum generated before and after the metadata was placed in the file is different, I realized that this happened because the metadata in the file was changed.\nAnd this is what I did with PyPDF2 in Python 3 :</p>\n\n<pre><code>import os\nimport sys\nimport time\nimport hashlib\n\nfrom PyPDF2 import PdfFileReader, PdfFileWriter\nfrom PyPDF2.generic import NameObject, createStringObject\n</code></pre>\n\n<p><strong>1. Function to generate MD5 Checksum of a file</strong></p>\n\n<pre><code>def md5_checksum(filePath):\n    try:\n        with open(filePath, 'rb') as file:\n            m = hashlib.md5()\n            while True:\n                data = file.read(8192)\n                if not data:\n                    break\n\n                m.update(data)\n\n            return m.hexdigest()\n    except IOError:\n        print('[ERROR][NOT FOUND]: ' + filePath)\n        return 'NULL'\n    finally:\n        file.close()\n</code></pre>\n\n<p><strong>2. Function to embedd metadata to PDF file</strong></p>\n\n<pre><code>def embedd_metadata_file(file_in, file_out, metadatas):\n    with open(file_in, 'rb') as fin:\n        pdf = PdfFileReader(fin)\n        writer = PdfFileWriter()\n        metadata = writer._info.getObject()\n        info = pdf.documentInfo\n\n        for page in range(pdf.getNumPages()):\n            writer.addPage(pdf.getPage(page))\n\n        for key in info:\n            metadata.update({NameObject(key): createStringObject(info[key])})\n\n        for key in metadatas:\n            metadata.update({NameObject(key): createStringObject(str(metadatas[key]))})\n\n        metadata.update({\n            NameObject('/Pages'): createStringObject(str(pdf.getNumPages()))\n        })\n\n        with open(file_out, 'wb') as fout:\n            writer.write(fout)\n\n    fin.close()\n    fout.close()\n\n    os.unlink(file_in)\n    os.rename(file_out, file_in)\n\n    pdf = PdfFileReader(open(file_in, 'rb'))\n    return pdf.getDocumentInfo()\n</code></pre>\n\n<p><strong>3. Call the function</strong></p>\n\n<pre><code>file = 'example.pdf'\nfile_in = os.path.join(DIR, file)\nfile_out = os.path.join(DIR, file + '.OUT.pdf')\n\nchecksum = md5_checksum(file_in)\nmetadata = embedd_metadata_file(file_in, file_out, {\n    '/MD5Checksum': checksum,\n    '/ISBN': 'xxx-xxxx-xxxxxxx-xxx',\n    '/eISBN': 'xxx-xxxx-xxxxxxx-xxx,\n    '/Title': 'Blablablabla',\n    '/Size': '2.3 MB',\n    '/Author': 'Some Author',\n    '/Copyright': 'Blabla Blablabla',\n    '/Version': '2',\n    '/Publisher': 'Blablablabla Blabla'\n})\n</code></pre>\n\n<p>The question is, how can I put the checksum as metadata file without changing the checksum of the file itself? Any help I appreciate it.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545261155, "post_id": 53860398, "comment_id": 94568855, "body": "kindly edit the table format. Hard to comprehend now."}, {"owner": {"reputation": 590, "user_id": 1384890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c050d31929bf518cf68d4b34aa4a7f3e?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1384890/eric"}, "reply_to_user": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545261506, "post_id": 53860398, "comment_id": 94568954, "body": "saw the same, just finished edits."}], "answers": [{"tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": false, "score": 17, "last_activity_date": 1545261837, "creation_date": 1545261837, "answer_id": 53860543, "question_id": 53860398, "link": "https://stackoverflow.com/questions/53860398/pandas-dataframe-how-do-i-split-one-row-into-multiple-rows-by-multi-value-colum/53860543#53860543", "title": "Pandas dataframe: how do I split one row into multiple rows by multi-value column?", "body": "<p>Let's say <code>dd</code> is your data frame. You can do:</p>\n\n<pre><code># convert to list\ndd['component'] = dd['component'].str.split(',')\n\n# convert list of pd.Series then stack it\ndd = (dd\n .set_index(['issue_key','date','pkey','case_count'])['component']\n .apply(pd.Series)\n .stack()\n .reset_index()\n .drop('level_4', axis=1)\n .rename(columns={0:'component'}))\n\n       issue_key        date   pkey  case_count      component\n0       1060  2018-03-08   PROJ           8        console\n1       1060  2018-03-08   PROJ           8  configuration\n2       1060  2018-03-08   PROJ           8     management\n3       1464  2018-04-24  PROJ2           1       protocol\n4        611  2017-03-31   PROJ           2           None\n5       2057  2018-10-30   PROJ           0             ha\n6       2057  2018-10-30   PROJ           0        console\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 1384890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c050d31929bf518cf68d4b34aa4a7f3e?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1384890/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10662, "favorite_count": 1, "closed_date": 1545278729, "answer_count": 1, "score": 11, "last_activity_date": 1545261837, "creation_date": 1545260830, "last_edit_date": 1545261475, "question_id": 53860398, "link": "https://stackoverflow.com/questions/53860398/pandas-dataframe-how-do-i-split-one-row-into-multiple-rows-by-multi-value-colum", "closed_reason": "Duplicate", "title": "Pandas dataframe: how do I split one row into multiple rows by multi-value column?", "body": "<p>I have a dataframe that appears as follows:</p>\n\n<pre><code>   issue_key date     pkey          component              case_count\n0  1060  2018-03-08  PROJ  console,configuration,management    8   \n1  1464  2018-04-24  PROJ2 protocol                            1   \n2  611   2017-03-31  PROJ  None                                2\n3  2057  2018-10-30  PROJ  ha, console                         0\n</code></pre>\n\n<p>I need to split the rows with multiple values in the component column into one row per component.</p>\n\n<p>When done, the dataframe should appear as follows:</p>\n\n<pre><code>   issue_key date     pkey          component              case_count\n0  1060  2018-03-08  PROJ  console                           8\n1  1060  2018-03-08  PROJ  configuration                     8\n2  1060  2018-03-08  PROJ  management                        8   \n3  1464  2018-04-24  PROJ2 protocol                          1   \n4  611   2017-03-31  PROJ  None                              2\n5  2057  2018-10-30  PROJ  ha                                0\n6  2057  2018-10-30  PROJ  console                           0\n</code></pre>\n\n<p>Any suggestions on how best to do this?</p>\n"}, {"tags": ["python", "python-xarray"], "comments": [{"owner": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "edited": false, "score": 0, "creation_date": 1545267407, "post_id": 53860384, "comment_id": 94570274, "body": "I see you also posted this on the xarray issue tracker (<a href=\"https://github.com/pydata/xarray/issues/2623\" rel=\"nofollow noreferrer\">github.com/pydata/xarray/issues/2623</a>) -- I&#39;ll answer over there"}, {"owner": {"reputation": 317, "user_id": 7645392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bab980b6ab080ac89c5be15b472ab78?s=128&d=identicon&r=PG&f=1", "display_name": "ferengi", "link": "https://stackoverflow.com/users/7645392/ferengi"}, "reply_to_user": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "edited": false, "score": 0, "creation_date": 1545358521, "post_id": 53860384, "comment_id": 94604005, "body": "@shoyer Thanks! I&#39;ll direct my questions there from here on."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 7645392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bab980b6ab080ac89c5be15b472ab78?s=128&d=identicon&r=PG&f=1", "display_name": "ferengi", "link": "https://stackoverflow.com/users/7645392/ferengi"}, "is_accepted": false, "score": 0, "last_activity_date": 1545358558, "creation_date": 1545358558, "answer_id": 53878379, "question_id": 53860384, "link": "https://stackoverflow.com/questions/53860384/how-can-i-export-an-xarray-dataset-that-is-leading-to-a-truediv-error/53878379#53878379", "title": "How can I export an xarray dataset that is leading to a __truediv__ error?", "body": "<p>Updated Pandas to Numpy to latest versions. </p>\n"}], "owner": {"reputation": 317, "user_id": 7645392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bab980b6ab080ac89c5be15b472ab78?s=128&d=identicon&r=PG&f=1", "display_name": "ferengi", "link": "https://stackoverflow.com/users/7645392/ferengi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545358558, "creation_date": 1545260750, "question_id": 53860384, "link": "https://stackoverflow.com/questions/53860384/how-can-i-export-an-xarray-dataset-that-is-leading-to-a-truediv-error", "title": "How can I export an xarray dataset that is leading to a __truediv__ error?", "body": "<p>I have an xarray dataset that is concatenated from a bunch of files.</p>\n\n<pre><code>&lt;xarray.Dataset&gt;\nDimensions:               (hru: 17, time: 233)\nCoordinates:\n  * hru                   (hru) int64 9 17 11 8 3 2 6 4 7 12 1 13 10 16 15 5 14\n  * time                  (time) datetime64[ns] 2010-01-01 ... 2010-01-30\nData variables:\n    pptrate               (time, hru) float64 9.241e-05 9.241e-05 ... 2.717e-09\n    hruId                 (hru) int64 dask.array&lt;shape=(17,), chunksize=(1,)&gt;\n    averageInstantRunoff  (time, hru) float64 9.241e-05 9.241e-05 ... 2.717e-09\n    nSnow                 (time, hru) int32 dask.array&lt;shape=(233, 17), chunksize=(233, 1)&gt;\n    nSoil                 (time, hru) int32 dask.array&lt;shape=(233, 17), chunksize=(233, 1)&gt;\n    nLayers               (time, hru) int32 dask.array&lt;shape=(233, 17), chunksize=(233, 1)&gt;\n</code></pre>\n\n<p>When I try to export this <code>ds.to_netcdf('test.nc')</code></p>\n\n<p>I get this error message:</p>\n\n<p><code>TypeError: cannot perform __truediv__ with this index type: &lt;class 'pandas.core.indexes.datetimes.DatetimeIndex'&gt;</code></p>\n\n<p>Not sure what the issue is.</p>\n\n<p>This is the code that generates <code>ds</code></p>\n\n<pre><code>import xarray as xr\nimport glob, os\n\nNCDIR = './output/out/'\nfinalfile = 'summaout.nc'\n\noutfilelist = glob.glob((NCDIR+'/*{}*.nc').format('basin_*timestep'))\n\nds=xr.open_mfdataset(outfilelist, concat_dim='hru')\n\nreplace = ds['pptrate']\nrunoff = ds['averageInstantRunoff'].values\nrunoff = np.squeeze(runoffdata, axis=2)\nrunoff = runoff.transpose()\nreplace.values = runoff\n\nncconvert = ds.drop('averageInstantRunoff')\nrunoffarray = xr.DataArray(runoff, dims=['time','hru'])\nds['averageInstantRunoff'] = runoffarray\nds.to_netcdf('test.nc')\n</code></pre>\n"}, {"tags": ["python", "selenium", "drop-down-menu", "selenium-chromedriver", "dropdown"], "comments": [{"owner": {"reputation": 1587, "user_id": 3520965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31fd95e9573fb19ea05a8f928d905f39?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvenjia", "link": "https://stackoverflow.com/users/3520965/dalvenjia"}, "edited": false, "score": 0, "creation_date": 1545352970, "post_id": 53860363, "comment_id": 94603013, "body": "please provide the code you have tried, and a little more context on the HTML since the page has a login. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "owner": {"reputation": 11, "user_id": 10813335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae56b4c1a4b5ea887163e77ac6b27f9?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/10813335/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545260586, "creation_date": 1545260586, "question_id": 53860363, "link": "https://stackoverflow.com/questions/53860363/need-help-hovering-over-a-dropdown-list-and-selecting-a-specific-dropdown-option", "title": "Need help hovering over a dropdown list and selecting a specific dropdown option (Selenium, Python)", "body": "<p>This is my first post so bear with me. I'm trying to go into a dropdown list (Products) that is located in a toolbar at the top of the webpage. Once hovering over the dropdown Products, I'd like to click the one that is named ModMaster so I can navigate to the link '<a href=\"https://www.modmaster.com\" rel=\"nofollow noreferrer\">https://www.modmaster.com</a>'. How do I go about doing this?</p>\n\n<p>I've tried several different methods but the core issue is that's unable to locate the element. If I explicitly wait for it to be visible, it times out.</p>\n\n<p>I've tried using Select, javascript execute, simple find_by_element.click to no avail. </p>\n\n<p>Really the end result just needs to be the current webpage needs to change into www.modmaster.com and keep me logged in. I appreciate any help!</p>\n\n<p>Here is the HTML:</p>\n\n<pre><code>`&lt;ul class=\"topbar-module-wrap\"&gt;&lt;li class=\"topbar-module\"&gt;&lt;div class=\"login-info dropdown\"&gt;&lt;a href=\"javascript:void(0)\"&gt;&lt;span&gt;Welcome, hidden&lt;/span&gt;&lt;/a&gt;&lt;ul class=\"dropdown-menu\"&gt;&lt;li&gt;&lt;label&gt;User name:&lt;/label&gt; hidden&lt;/li&gt;&lt;li&gt;&lt;label&gt;Agency:&lt;/label&gt; hidden&lt;/li&gt;&lt;li class=\"divider\"&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"/logout\"&gt;Log out&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\"topbar-module\"&gt;&lt;div id=\"product-dropdown\" class=\"product-menu dropdown\"&gt;&lt;a href=\"javascript:void(0)\"&gt;&lt;i class=\"icon-menu-white-small\"&gt;&lt;/i&gt;&lt;span&gt;Products&lt;/span&gt;&lt;/a&gt;&lt;ul class=\"dropdown-menu\"&gt;&lt;li&gt;&lt;a href=\"https://amc.zywave.com/\" target=\"\"&gt;&lt;div class=\"topbar-product-name\"&gt;Account Management Center&lt;/div&gt;&lt;div class=\"topbar-product-subtext\"&gt;&lt;/div&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"https://www.brokerbriefcase.com/\" target=\"_blank\"&gt;&lt;div class=\"topbar-product-name\"&gt;Broker Briefcase\u00ae&lt;/div&gt;&lt;div class=\"topbar-product-subtext\"&gt;Sales and Marketing Platform&lt;/div&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"https://www.modmaster.com/\" target=\"_blank\"&gt;&lt;div class=\"topbar-product-name\"&gt;ModMaster\u00ae&lt;/div&gt;&lt;div class=\"topbar-product-subtext\"&gt;Mod Analysis Tool\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "edited": false, "score": 0, "creation_date": 1545261914, "post_id": 53860346, "comment_id": 94569050, "body": "I&#39;m not 100% sure because the code is technically valid either way, but it looks like the formatting got a bit messed up and that the <code>r[i][0]=...</code> line and the loop below it were meant to be indented and inside the <code>for i</code> loop."}], "answers": [{"tags": [], "owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "is_accepted": false, "score": 0, "last_activity_date": 1545261544, "creation_date": 1545261544, "answer_id": 53860504, "question_id": 53860346, "link": "https://stackoverflow.com/questions/53860346/runtimewarning-invalid-value-encountered-in-double-scalars-and-nans-in-array/53860504#53860504", "title": "RuntimeWarning: invalid value encountered in double_scalars and nans in array", "body": "<p>Note that <code>range(n)</code> gives you a list from 0 to <code>n-1</code>, inclusive. So <code>4**j-1</code> will evaluate to 0 the first time through the loop, which leads to an attempt to divide by zero.</p>\n\n<p>It looks like the code expects both <code>range</code> invocations to be of the form <code>range(1, n)</code> instead.</p>\n"}], "owner": {"reputation": 9, "user_id": 10798810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jN1bC.jpg?s=128&g=1", "display_name": "sasche", "link": "https://stackoverflow.com/users/10798810/sasche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545288493, "creation_date": 1545260460, "last_edit_date": 1592644375, "question_id": 53860346, "link": "https://stackoverflow.com/questions/53860346/runtimewarning-invalid-value-encountered-in-double-scalars-and-nans-in-array", "title": "RuntimeWarning: invalid value encountered in double_scalars and nans in array", "body": "<p>I've got an algorithm for calculating Bessel's function and an error RuntimeWarning: invalid value encountered in double_scalars keeps popping up</p>\n<blockquote>\n<p>RuntimeWarning: invalid value encountered in double_scalars</p>\n<p>r[i][j] = r[i][j-1] + (r[i][j-1]-r[i-1][j-1])/(4**j-1)</p>\n</blockquote>\n<p>I also got an array that looks like this, obviously I don't want any nans out there.</p>\n<pre><code>[[ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]                                                                                     \n\n [nan  0.  0.  0.  0.  0.  0.  0.  0.  0.]                                                                                     \n [nan nan  0.  0.  0.  0.  0.  0.  0.  0.]                                                                                     \n [nan nan nan  0.  0.  0.  0.  0.  0.  0.]                                                                                     \n [nan nan nan nan  0.  0.  0.  0.  0.  0.]                                                                                     \n [nan nan nan nan nan  0.  0.  0.  0.  0.]\n\n [nan nan nan nan nan nan  0.  0.  0.  0.]                                                                                     \n [nan nan nan nan nan nan nan  0.  0.  0.]                                                                                     \n [nan nan nan nan nan nan nan nan  0.  0.]                                                                                     \n [nan nan nan nan nan nan nan nan nan  0.]] \n</code></pre>\n<p>The code:</p>\n<pre><code>import numpy as np\nfrom pylab import *\n\ndef romberg(f,a,b,n):\n    i=0\n    j=0\n    h = float(b) - float(a)\n\n    r[i][j] = (float(h/2)) * (f(float(a)) + f(float(b)))\n    for i in range(n):\n        h=h/2\n        sum=float(0)\n        for k in range(2**i-1):\n          k=float(1)\n          sum = float(sum) + f(float(a + k*h))\n    r[i][0]=(float(1/2))*r[i-1][0] + sum*h\n    for j in range(i):\n        # error occurs on this line:\n        r[i][j] = r[i][j-1] + (r[i][j-1]-r[i-1][j-1])/(4**j-1)\n        \ndef funkcja(t):\n  return np.cos(np.sin(t))/np.pi\n\nr = np.zeros((10, 10))\nwynik=romberg(funkcja,0,np.pi,10)\nprint(r)\n</code></pre>\n<p>What should be changed here?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2721, "user_id": 9757927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jajU2.jpg?s=128&g=1", "display_name": "ycx", "link": "https://stackoverflow.com/users/9757927/ycx"}, "edited": false, "score": 0, "creation_date": 1545259977, "post_id": 53860237, "comment_id": 94568513, "body": "Just being curious. What is the purpose of intentionally leaving it in the expected output&#39;s format? I just want to know when it is applicable to do it for future work."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 3, "last_activity_date": 1545260215, "creation_date": 1545260215, "answer_id": 53860309, "question_id": 53860237, "link": "https://stackoverflow.com/questions/53860237/how-to-collapse-index-with-same-value-in-multi-index-dataframe/53860309#53860309", "title": "How to collapse index with same value in multi-index dataframe", "body": "<p>This will do the trick , at least when you print it. Notice here you will have 3 level multiple index, this is only for view purpose , not recommended you overwrite your original dataframe</p>\n\n<pre><code>test.assign(d='').set_index('d',append=True).rename_axis(['n','alpha',''])\nOut[190]: \n          number text\nn alpha              \n1 a          100  tom\n             200  ann\n  b          200  pet\n2 a          100  dig\n  b          200  goo\n</code></pre>\n"}], "owner": {"reputation": 2996, "user_id": 3553228, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b48e7a43f7c3cca4a3826be398b8e32a?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/3553228/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1545278879, "creation_date": 1545259689, "last_edit_date": 1545278879, "question_id": 53860237, "link": "https://stackoverflow.com/questions/53860237/how-to-collapse-index-with-same-value-in-multi-index-dataframe", "title": "How to collapse index with same value in multi-index dataframe", "body": "<p>Below code get me the dataframe as below. for the index level=0, 1 and 2 only shows once. How to have the same behavior in level=1? I want  below results:</p>\n\n<pre><code>test = pd.DataFrame([[1,'a',100, 'tom'],[1,'b',200,'ann'], [1,'a',200,'pet'],[2,'a',100,'dig'],[2,'b',200,'goo']], columns=['n', 'alpha','number', 'text'])\ntest.set_index(['n','alpha']).sort_index(level=0, axis=0)\n\n         number text\nn alpha             \n1 a         100  tom\n  a         200  pet\n  b         200  ann\n2 a         100  dig\n  b         200  goo\n</code></pre>\n\n<p>What I want:</p>\n\n<pre><code>         number text\nn alpha             \n1 a         100  tom\n            200  pet\n  b         200  ann\n2 a         100  dig\n  b         200  goo\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1545259304, "post_id": 53860169, "comment_id": 94568311, "body": "<code>max_nets = df[&#39;Nets&#39;].max</code> --&gt; <code>max_nets = df[&#39;Nets&#39;].max()</code>, with the <code>()</code>. You didn&#39;t <i>call</i> the function/method, just bound it to another name."}, {"owner": {"reputation": 743, "user_id": 2702285, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f70964e6f86aded5cd6d3e91ec97d41e?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy Lombard", "link": "https://stackoverflow.com/users/2702285/timothy-lombard"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1545261289, "post_id": 53860169, "comment_id": 94568891, "body": "@roganjosh that did the trick.  thank you"}], "owner": {"reputation": 743, "user_id": 2702285, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f70964e6f86aded5cd6d3e91ec97d41e?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy Lombard", "link": "https://stackoverflow.com/users/2702285/timothy-lombard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1545259579, "answer_count": 0, "score": 0, "last_activity_date": 1611107504, "creation_date": 1545259217, "question_id": 53860169, "link": "https://stackoverflow.com/questions/53860169/create-data-frame-column-based-on-calculation-using-column-max", "closed_reason": "Duplicate", "title": "create data frame column based on calculation using column.max", "body": "<p>I have a data frame that looks like this: </p>\n\n<pre><code>                        Nets  plot_height\n2018-04-01 11:35:47  30000.6          250\n2018-04-02 11:35:47  10000.5          250\n2018-04-03 11:35:47  70000.5          250\n2018-04-04 11:35:47   9000.8          250\n2018-04-05 11:35:47  20000.5          250\n</code></pre>\n\n<p>I want to add another column \"ratio\" that is calculated by the df['Nets'].max divided by df['plot_height]</p>\n\n<p>I tried</p>\n\n<pre><code>max_nets = df['Nets'].max\ndf['ratio'] = df['Nets'] / max_nets\n</code></pre>\n\n<p>that errors with: TypeError: unsupported operand type(s) for /: 'float' and 'method'</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545259389, "post_id": 53860144, "comment_id": 94568339, "body": "This is nice, but a bit manual. How do you suggest OP can automatically add the required number of <code>np.nan</code> values to each input list?"}, {"owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545260179, "post_id": 53860144, "comment_id": 94568579, "body": "There&#39;s not an obvious way with the information we&#39;re given - we don&#39;t know which list is the longest, or where the <code>NaN</code>s should be, etc.  I mostly posted this method to show OP that the <code>np.nan</code> datatype is what he&#39;s after."}], "tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1545259081, "creation_date": 1545259081, "answer_id": 53860144, "question_id": 53860116, "link": "https://stackoverflow.com/questions/53860116/constructing-dictionary-list-not-same-length/53860144#53860144", "title": "Constructing Dictionary - List not same length", "body": "<p>Sure - you can fill the missing values with <code>numpy.nan</code>:</p>\n\n<pre><code>import numpy as np\n\ncol1 = [\"Bottom\", \"sss\", \"ddd\"]\ncol2 = [\"boo\", \"sss\", \"foo\"]\ncol3 = [999, 89, np.nan]\n\nd = {\"Type\": col1, \"Style\": col2, \"Profit\": col3}\ndf = pd.DataFrame.from_dict(d)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>   Profit Style    Type\n0   999.0   boo  Bottom\n1    89.0   sss     sss\n2     NaN   foo     ddd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545259227, "post_id": 53860149, "comment_id": 94568285, "body": "Is there an easy way to turn series <code>P</code> to dtype <code>float</code>?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545259412, "post_id": 53860149, "comment_id": 94568348, "body": "@jpp I do not think so , since this result by the <code>T</code>."}, {"owner": {"reputation": 300, "user_id": 6817325, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210988111127393/picture?type=large", "display_name": "David O&#39;Neill", "link": "https://stackoverflow.com/users/6817325/david-oneill"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1545259687, "post_id": 53860149, "comment_id": 94568429, "body": "@jpp Once you have the dataframe constructed, you can call <code>.astype(np.float)</code> on the series you wish to convert."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1545259593, "last_edit_date": 1545259593, "creation_date": 1545259112, "answer_id": 53860149, "question_id": 53860116, "link": "https://stackoverflow.com/questions/53860116/constructing-dictionary-list-not-same-length/53860149#53860149", "title": "Constructing Dictionary - List not same length", "body": "<p>Doing with </p>\n\n<pre><code>df=pd.DataFrame([col1,col2,col3],index=['T','S','P']).T\ndf\nOut[165]: \n        T    S     P\n0  Bottom  boo   999\n1     sss  sss    89\n2     ddd  foo  None\n</code></pre>\n\n<p>Another option </p>\n\n<pre><code>pd.Series(d).apply(pd.Series).T\nOut[174]: \n     Type Style Profit\n0  Bottom   boo    999\n1     sss   sss     89\n2     ddd   foo    NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1545259177, "creation_date": 1545259177, "answer_id": 53860162, "question_id": 53860116, "link": "https://stackoverflow.com/questions/53860116/constructing-dictionary-list-not-same-length/53860162#53860162", "title": "Constructing Dictionary - List not same length", "body": "<p>A dictionary isn't strictly required. Using <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\"><code>itertools.zip_longest</code></a>:</p>\n\n<pre><code>from itertools import zip_longest\n\ndf = pd.DataFrame(list(zip_longest(col1, col2, col3)),\n                  columns=['Type', 'Style', 'Profit'])\n\nprint(df)\n\n     Type Style  Profit\n0  Bottom   boo   999.0\n1     sss   sss    89.0\n2     ddd   foo     NaN\n</code></pre>\n\n<p>Notice the <a href=\"https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.html\" rel=\"nofollow noreferrer\"><code>pd.DataFrame</code></a> constructor is smart enough to convert numeric series to numeric, even though each tuple in the input list of tuples contains mixed types.</p>\n"}], "owner": {"reputation": 150, "user_id": 8194206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ERBjq.jpg?s=128&g=1", "display_name": "OPM_OK", "link": "https://stackoverflow.com/users/8194206/opm-ok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53860149, "answer_count": 3, "score": 3, "last_activity_date": 1545259593, "creation_date": 1545258919, "last_edit_date": 1545259483, "question_id": 53860116, "link": "https://stackoverflow.com/questions/53860116/constructing-dictionary-list-not-same-length", "title": "Constructing Dictionary - List not same length", "body": "<p>I was wondering if it possible to create a dictionary and convert it into a Pandas dataframe where each dictionary key has an array of values, but the array will vary in length.</p>\n\n<p>e.g. <code>col3</code> only has 2 values and all other lists have 3 values. Can I somehow put <code>NaN</code> to \"fill\" in the missing values and not get an error?</p>\n\n<pre><code>col1 = [\"Bottom\", \"sss\", \"ddd\"]\ncol2 = [\"boo\", \"sss\", \"foo\"]\ncol3 = [999, 89]\n\nd = {\"Type\": col1, \"Style\": col2, \"Profit\": col3}\ndf = pd.DataFrame.from_dict(d)\n</code></pre>\n"}, {"tags": ["python", "google-cloud-platform", "gitlab", "gitlab-ci", "gitlab-ci-runner"], "answers": [{"tags": [], "owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "is_accepted": true, "score": 0, "last_activity_date": 1545259790, "creation_date": 1545259790, "answer_id": 53860251, "question_id": 53860066, "link": "https://stackoverflow.com/questions/53860066/gitlab-ci-runner-cant-import-google-cloud-in-python/53860251#53860251", "title": "Gitlab CI Runner can&#39;t import Google.Cloud in Python", "body": "<p>The package <code>google-cloud</code> is deprecated and should not be used. </p>\n\n<p>Normally you would import the library that you need. </p>\n\n<p>Example: <code>google-cloud-core</code> and <code>google-cloud-storage</code>. </p>\n\n<p><a href=\"https://pypi.org/project/google-cloud/\" rel=\"nofollow noreferrer\">google-cloud deprecation notice</a></p>\n"}], "owner": {"reputation": 793, "user_id": 7359502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa37a2368ac48af5d5c08c36a67085f3?s=128&d=identicon&r=PG", "display_name": "Steven Ensslen", "link": "https://stackoverflow.com/users/7359502/steven-ensslen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 1, "accepted_answer_id": 53860251, "answer_count": 1, "score": 1, "last_activity_date": 1545259790, "creation_date": 1545258615, "question_id": 53860066, "link": "https://stackoverflow.com/questions/53860066/gitlab-ci-runner-cant-import-google-cloud-in-python", "title": "Gitlab CI Runner can&#39;t import Google.Cloud in Python", "body": "<p>I'm just trying to run access GCP from python in a shared gitlab runner. I suspect there is something about the runner's OS that I don't understand.  I can't seem to <code>import google.cloud</code>.  I get\n<code>ImportError: No module named 'google.cloud'</code> no matter what I try.</p>\n\n<p>My .gitlab-ci.yml</p>\n\n<pre><code>---\n\nbefore_script:\n  - chmod -v -v +x build/*.sh\n\ntest_in_test_job:\n  environment: \n    name: test\n  script:\n    - bash -x build/test.sh\n</code></pre>\n\n<p>The test shell script:</p>\n\n<pre><code>#!/usr/bin/env bash\n\n# create verbose logging output for remote execution\nfunction verbose() {\n    # Where is the executable that is being called\n    command -v \"$1\"\n    # What version is the executable being called\n    \"$1\" --version\n    # And make the call\n    \"${@}\"\n}\n\nfunction install_python {\n    verbose apt-get install python3 python3-pip -y\n    verbose pip3 install virtualenv\n    VENV_NAME=\"gitlabci\"\n    verbose virtualenv \"${VENV_NAME}\"\n    source \"${VENV_NAME}/bin/activate\"\n    verbose pip3 install --requirement requirements.txt\n}\n\nfunction run_tests {\n    verbose python3 build/test_google_import.py\n}\n\napt-get update\ninstall_python\nrun_tests\n\n# finally exit virtualenv\ndeactivate\n</code></pre>\n\n<p>The python code:</p>\n\n<pre><code>#!/usr/bin/env python3\n\ndef import_info(module):\n    print(module)\n    print(module.__class__)\n    print(dir(module))\n\nimport google\nimport_info(google)\n\nimport google.cloud\nimport_info(google.cloud)\n</code></pre>\n\n<p>And the log output</p>\n\n<pre><code>$ bash -x build/test.sh\n+ apt-get update\nIgn:1 http://deb.debian.org/debian stretch InRelease\nGet:2 http://security.debian.org/debian-security stretch/updates InRelease [94.3 kB]\nGet:3 http://deb.debian.org/debian stretch-updates InRelease [91.0 kB]\nGet:4 http://deb.debian.org/debian stretch Release [118 kB]\nGet:5 http://deb.debian.org/debian stretch Release.gpg [2434 B]\nGet:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [461 kB]\nGet:7 http://deb.debian.org/debian stretch-updates/main amd64 Packages [5152 B]\nGet:8 http://deb.debian.org/debian stretch/main amd64 Packages [7089 kB]\nFetched 7861 kB in 1s (4528 kB/s)\nReading package lists...\n+ install_python\n+ verbose apt-get install python3 python3-pip -y\n+ command -v apt-get\n/usr/bin/apt-get\n+ apt-get --version\napt 1.4.8 (amd64)\nSupported modules:\n*Ver: Standard .deb\n*Pkg:  Debian dpkg interface (Priority 30)\n Pkg:  Debian APT solver interface (Priority -1000)\n Pkg:  Debian APT planner interface (Priority -1000)\n S.L: 'deb' Debian binary tree\n S.L: 'deb-src' Debian source tree\n Idx: Debian Source Index\n Idx: Debian Package Index\n Idx: Debian Translation Index\n Idx: Debian dpkg status file\n Idx: Debian deb file\n Idx: Debian dsc file\n Idx: Debian control file\n Idx: EDSP scenario file\n Idx: EIPP scenario file\n+ apt-get install python3 python3-pip -y\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3 is already the newest version (3.5.3-1).\npython3 set to manually installed.\nThe following additional packages will be installed:\n  build-essential dbus dpkg-dev fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libapparmor1\n  libdbus-glib-1-2 libfakeroot libpython3-dev libpython3.5 libpython3.5-dev\n  python-pip-whl python3-cffi-backend python3-crypto python3-cryptography\n  python3-dbus python3-dev python3-gi python3-idna python3-keyring\n  python3-keyrings.alt python3-pkg-resources python3-pyasn1\n  python3-secretstorage python3-setuptools python3-six python3-wheel\n  python3-xdg python3.5-dev\nSuggested packages:\n  default-dbus-session-bus | dbus-session-bus debian-keyring\n  python3-crypto-dbg python-crypto-doc python-cryptography-doc\n  python3-cryptography-vectors python-dbus-doc python3-dbus-dbg gnome-keyring\n  libkf5wallet-bin gir1.2-gnomekeyring-1.0 python3-pykde4 doc-base\n  python-secretstorage-doc python-setuptools-doc\nThe following NEW packages will be installed:\n  build-essential dbus dpkg-dev fakeroot libalgorithm-diff-perl\n  libalgorithm-diff-xs-perl libalgorithm-merge-perl libapparmor1\n  libdbus-glib-1-2 libfakeroot libpython3-dev libpython3.5 libpython3.5-dev\n  python-pip-whl python3-cffi-backend python3-crypto python3-cryptography\n  python3-dbus python3-dev python3-gi python3-idna python3-keyring\n  python3-keyrings.alt python3-pip python3-pkg-resources python3-pyasn1\n  python3-secretstorage python3-setuptools python3-six python3-wheel\n  python3-xdg python3.5-dev\n0 upgraded, 32 newly installed, 0 to remove and 13 not upgraded.\nNeed to get 45.2 MB of archives.\nAfter this operation, 72.7 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian stretch/main amd64 libapparmor1 amd64 2.11.0-3+deb9u2 [78.9 kB]\nGet:2 http://deb.debian.org/debian stretch/main amd64 dbus amd64 1.10.26-0+deb9u1 [210 kB]\nGet:3 http://deb.debian.org/debian stretch/main amd64 dpkg-dev all 1.18.25 [1595 kB]\nGet:4 http://deb.debian.org/debian stretch/main amd64 build-essential amd64 12.3 [7346 B]\nGet:5 http://deb.debian.org/debian stretch/main amd64 libfakeroot amd64 1.21-3.1 [45.7 kB]\nGet:6 http://deb.debian.org/debian stretch/main amd64 fakeroot amd64 1.21-3.1 [85.6 kB]\nGet:7 http://deb.debian.org/debian stretch/main amd64 libalgorithm-diff-perl all 1.19.03-1 [48.7 kB]\nGet:8 http://deb.debian.org/debian stretch/main amd64 libalgorithm-diff-xs-perl amd64 0.04-4+b2 [11.6 kB]\nGet:9 http://deb.debian.org/debian stretch/main amd64 libalgorithm-merge-perl all 0.08-3 [12.7 kB]\nGet:10 http://deb.debian.org/debian stretch/main amd64 libdbus-glib-1-2 amd64 0.108-2 [206 kB]\nGet:11 http://deb.debian.org/debian stretch/main amd64 libpython3.5 amd64 3.5.3-1+deb9u1 [1372 kB]\nGet:12 http://deb.debian.org/debian stretch/main amd64 libpython3.5-dev amd64 3.5.3-1+deb9u1 [37.7 MB]\nGet:13 http://deb.debian.org/debian stretch/main amd64 libpython3-dev amd64 3.5.3-1 [18.7 kB]\nGet:14 http://deb.debian.org/debian stretch/main amd64 python-pip-whl all 9.0.1-2 [1406 kB]\nGet:15 http://deb.debian.org/debian stretch/main amd64 python3-cffi-backend amd64 1.9.1-2 [70.1 kB]\nGet:16 http://deb.debian.org/debian stretch/main amd64 python3-crypto amd64 2.6.1-7 [259 kB]\nGet:17 http://deb.debian.org/debian stretch/main amd64 python3-idna all 2.2-1 [32.7 kB]\nGet:18 http://deb.debian.org/debian stretch/main amd64 python3-pyasn1 all 0.1.9-2 [34.5 kB]\nGet:19 http://deb.debian.org/debian stretch/main amd64 python3-pkg-resources all 33.1.1-1 [137 kB]\nGet:20 http://deb.debian.org/debian stretch/main amd64 python3-setuptools all 33.1.1-1 [215 kB]\nGet:21 http://deb.debian.org/debian stretch/main amd64 python3-six all 1.10.0-3 [14.4 kB]\nGet:22 http://deb.debian.org/debian stretch/main amd64 python3-cryptography amd64 1.7.1-3 [210 kB]\nGet:23 http://deb.debian.org/debian stretch/main amd64 python3-dbus amd64 1.2.4-1+b1 [184 kB]\nGet:24 http://deb.debian.org/debian stretch/main amd64 python3.5-dev amd64 3.5.3-1+deb9u1 [413 kB]\nGet:25 http://deb.debian.org/debian stretch/main amd64 python3-dev amd64 3.5.3-1 [1154 B]\nGet:26 http://deb.debian.org/debian stretch/main amd64 python3-gi amd64 3.22.0-2 [473 kB]\nGet:27 http://deb.debian.org/debian stretch/main amd64 python3-secretstorage all 2.3.1-2 [14.2 kB]\nGet:28 http://deb.debian.org/debian stretch/main amd64 python3-keyring all 10.1-1 [36.8 kB]\nGet:29 http://deb.debian.org/debian stretch/main amd64 python3-keyrings.alt all 1.3-1 [16.2 kB]\nGet:30 http://deb.debian.org/debian stretch/main amd64 python3-pip all 9.0.1-2 [142 kB]\nGet:31 http://deb.debian.org/debian stretch/main amd64 python3-wheel all 0.29.0-2 [51.8 kB]\nGet:32 http://deb.debian.org/debian stretch/main amd64 python3-xdg all 0.25-4 [35.7 kB]\ndebconf: delaying package configuration, since apt-utils is not installed\nFetched 45.2 MB in 0s (69.3 MB/s)\nSelecting previously unselected package libapparmor1:amd64.\n(Reading database ... \n(Reading database ... 5%\n(Reading database ... 10%\n(Reading database ... 15%\n(Reading database ... 20%\n(Reading database ... 25%\n(Reading database ... 30%\n(Reading database ... 35%\n(Reading database ... 40%\n(Reading database ... 45%\n(Reading database ... 50%\n(Reading database ... 55%\n(Reading database ... 60%\n(Reading database ... 65%\n(Reading database ... 70%\n(Reading database ... 75%\n(Reading database ... 80%\n(Reading database ... 85%\n(Reading database ... 90%\n(Reading database ... 95%\n(Reading database ... 100%\n(Reading database ... 29375 files and directories currently installed.)\nPreparing to unpack .../00-libapparmor1_2.11.0-3+deb9u2_amd64.deb ...\nUnpacking libapparmor1:amd64 (2.11.0-3+deb9u2) ...\nSelecting previously unselected package dbus.\nPreparing to unpack .../01-dbus_1.10.26-0+deb9u1_amd64.deb ...\nUnpacking dbus (1.10.26-0+deb9u1) ...\nSelecting previously unselected package dpkg-dev.\nPreparing to unpack .../02-dpkg-dev_1.18.25_all.deb ...\nUnpacking dpkg-dev (1.18.25) ...\nSelecting previously unselected package build-essential.\nPreparing to unpack .../03-build-essential_12.3_amd64.deb ...\nUnpacking build-essential (12.3) ...\nSelecting previously unselected package libfakeroot:amd64.\nPreparing to unpack .../04-libfakeroot_1.21-3.1_amd64.deb ...\nUnpacking libfakeroot:amd64 (1.21-3.1) ...\nSelecting previously unselected package fakeroot.\nPreparing to unpack .../05-fakeroot_1.21-3.1_amd64.deb ...\nUnpacking fakeroot (1.21-3.1) ...\nSelecting previously unselected package libalgorithm-diff-perl.\nPreparing to unpack .../06-libalgorithm-diff-perl_1.19.03-1_all.deb ...\nUnpacking libalgorithm-diff-perl (1.19.03-1) ...\nSelecting previously unselected package libalgorithm-diff-xs-perl.\nPreparing to unpack .../07-libalgorithm-diff-xs-perl_0.04-4+b2_amd64.deb ...\nUnpacking libalgorithm-diff-xs-perl (0.04-4+b2) ...\nSelecting previously unselected package libalgorithm-merge-perl.\nPreparing to unpack .../08-libalgorithm-merge-perl_0.08-3_all.deb ...\nUnpacking libalgorithm-merge-perl (0.08-3) ...\nSelecting previously unselected package libdbus-glib-1-2:amd64.\nPreparing to unpack .../09-libdbus-glib-1-2_0.108-2_amd64.deb ...\nUnpacking libdbus-glib-1-2:amd64 (0.108-2) ...\nSelecting previously unselected package libpython3.5:amd64.\nPreparing to unpack .../10-libpython3.5_3.5.3-1+deb9u1_amd64.deb ...\nUnpacking libpython3.5:amd64 (3.5.3-1+deb9u1) ...\nSelecting previously unselected package libpython3.5-dev:amd64.\nPreparing to unpack .../11-libpython3.5-dev_3.5.3-1+deb9u1_amd64.deb ...\nUnpacking libpython3.5-dev:amd64 (3.5.3-1+deb9u1) ...\nSelecting previously unselected package libpython3-dev:amd64.\nPreparing to unpack .../12-libpython3-dev_3.5.3-1_amd64.deb ...\nUnpacking libpython3-dev:amd64 (3.5.3-1) ...\nSelecting previously unselected package python-pip-whl.\nPreparing to unpack .../13-python-pip-whl_9.0.1-2_all.deb ...\nUnpacking python-pip-whl (9.0.1-2) ...\nSelecting previously unselected package python3-cffi-backend.\nPreparing to unpack .../14-python3-cffi-backend_1.9.1-2_amd64.deb ...\nUnpacking python3-cffi-backend (1.9.1-2) ...\nSelecting previously unselected package python3-crypto.\nPreparing to unpack .../15-python3-crypto_2.6.1-7_amd64.deb ...\nUnpacking python3-crypto (2.6.1-7) ...\nSelecting previously unselected package python3-idna.\nPreparing to unpack .../16-python3-idna_2.2-1_all.deb ...\nUnpacking python3-idna (2.2-1) ...\nSelecting previously unselected package python3-pyasn1.\nPreparing to unpack .../17-python3-pyasn1_0.1.9-2_all.deb ...\nUnpacking python3-pyasn1 (0.1.9-2) ...\nSelecting previously unselected package python3-pkg-resources.\nPreparing to unpack .../18-python3-pkg-resources_33.1.1-1_all.deb ...\nUnpacking python3-pkg-resources (33.1.1-1) ...\nSelecting previously unselected package python3-setuptools.\nPreparing to unpack .../19-python3-setuptools_33.1.1-1_all.deb ...\nUnpacking python3-setuptools (33.1.1-1) ...\nSelecting previously unselected package python3-six.\nPreparing to unpack .../20-python3-six_1.10.0-3_all.deb ...\nUnpacking python3-six (1.10.0-3) ...\nSelecting previously unselected package python3-cryptography.\nPreparing to unpack .../21-python3-cryptography_1.7.1-3_amd64.deb ...\nUnpacking python3-cryptography (1.7.1-3) ...\nSelecting previously unselected package python3-dbus.\nPreparing to unpack .../22-python3-dbus_1.2.4-1+b1_amd64.deb ...\nUnpacking python3-dbus (1.2.4-1+b1) ...\nSelecting previously unselected package python3.5-dev.\nPreparing to unpack .../23-python3.5-dev_3.5.3-1+deb9u1_amd64.deb ...\nUnpacking python3.5-dev (3.5.3-1+deb9u1) ...\nSelecting previously unselected package python3-dev.\nPreparing to unpack .../24-python3-dev_3.5.3-1_amd64.deb ...\nUnpacking python3-dev (3.5.3-1) ...\nSelecting previously unselected package python3-gi.\nPreparing to unpack .../25-python3-gi_3.22.0-2_amd64.deb ...\nUnpacking python3-gi (3.22.0-2) ...\nSelecting previously unselected package python3-secretstorage.\nPreparing to unpack .../26-python3-secretstorage_2.3.1-2_all.deb ...\nUnpacking python3-secretstorage (2.3.1-2) ...\nSelecting previously unselected package python3-keyring.\nPreparing to unpack .../27-python3-keyring_10.1-1_all.deb ...\nUnpacking python3-keyring (10.1-1) ...\nSelecting previously unselected package python3-keyrings.alt.\nPreparing to unpack .../28-python3-keyrings.alt_1.3-1_all.deb ...\nUnpacking python3-keyrings.alt (1.3-1) ...\nSelecting previously unselected package python3-pip.\nPreparing to unpack .../29-python3-pip_9.0.1-2_all.deb ...\nUnpacking python3-pip (9.0.1-2) ...\nSelecting previously unselected package python3-wheel.\nPreparing to unpack .../30-python3-wheel_0.29.0-2_all.deb ...\nUnpacking python3-wheel (0.29.0-2) ...\nSelecting previously unselected package python3-xdg.\nPreparing to unpack .../31-python3-xdg_0.25-4_all.deb ...\nUnpacking python3-xdg (0.25-4) ...\nSetting up python-pip-whl (9.0.1-2) ...\nSetting up python3-cffi-backend (1.9.1-2) ...\nSetting up python3-crypto (2.6.1-7) ...\nSetting up libdbus-glib-1-2:amd64 (0.108-2) ...\nSetting up libpython3.5:amd64 (3.5.3-1+deb9u1) ...\nSetting up python3-idna (2.2-1) ...\nSetting up python3-xdg (0.25-4) ...\nSetting up python3-keyrings.alt (1.3-1) ...\nSetting up python3-six (1.10.0-3) ...\nSetting up python3-wheel (0.29.0-2) ...\nSetting up python3-pkg-resources (33.1.1-1) ...\nSetting up python3-gi (3.22.0-2) ...\nSetting up libpython3.5-dev:amd64 (3.5.3-1+deb9u1) ...\nSetting up python3-pyasn1 (0.1.9-2) ...\nSetting up dpkg-dev (1.18.25) ...\nProcessing triggers for libc-bin (2.24-11+deb9u3) ...\nSetting up libapparmor1:amd64 (2.11.0-3+deb9u2) ...\nSetting up libfakeroot:amd64 (1.21-3.1) ...\nSetting up python3-pip (9.0.1-2) ...\nSetting up libalgorithm-diff-perl (1.19.03-1) ...\nSetting up dbus (1.10.26-0+deb9u1) ...\ninvoke-rc.d: could not determine current runlevel\ninvoke-rc.d: policy-rc.d denied execution of start.\nSetting up python3-setuptools (33.1.1-1) ...\nSetting up python3.5-dev (3.5.3-1+deb9u1) ...\nSetting up libpython3-dev:amd64 (3.5.3-1) ...\nSetting up python3-cryptography (1.7.1-3) ...\nSetting up python3-dbus (1.2.4-1+b1) ...\nSetting up build-essential (12.3) ...\nSetting up python3-dev (3.5.3-1) ...\nSetting up fakeroot (1.21-3.1) ...\nupdate-alternatives: using /usr/bin/fakeroot-sysv to provide /usr/bin/fakeroot (fakeroot) in auto mode\nSetting up libalgorithm-merge-perl (0.08-3) ...\nSetting up libalgorithm-diff-xs-perl (0.04-4+b2) ...\nSetting up python3-secretstorage (2.3.1-2) ...\nSetting up python3-keyring (10.1-1) ...\nProcessing triggers for libc-bin (2.24-11+deb9u3) ...\n+ verbose pip3 install virtualenv\n+ command -v pip3\n/usr/bin/pip3\n+ pip3 --version\npip 9.0.1 from /usr/lib/python3/dist-packages (python 3.5)\n+ pip3 install virtualenv\nCollecting virtualenv\n  Downloading https://files.pythonhosted.org/packages/7c/17/9b7b6cddfd255388b58c61e25b091047f6814183e1d63741c8df8dcd65a2/virtualenv-16.1.0-py2.py3-none-any.whl (1.9MB)\nInstalling collected packages: virtualenv\nSuccessfully installed virtualenv-16.1.0\n+ VENV_NAME=gitlabci\n+ verbose virtualenv gitlabci\n+ command -v virtualenv\n/usr/local/bin/virtualenv\n+ virtualenv --version\n16.1.0\n+ virtualenv gitlabci\nUsing base prefix '/usr'\nNew python executable in /builds/powerco-analytics/poco-analytics-terraform/gitlabci/bin/python3\nAlso creating executable in /builds/powerco-analytics/poco-analytics-terraform/gitlabci/bin/python\nInstalling setuptools, pip, wheel...\ndone.\n+ source gitlabci/bin/activate\n++ deactivate nondestructive\n++ unset -f pydoc\n++ '[' -z '' ']'\n++ '[' -z '' ']'\n++ '[' -n /bin/bash ']'\n++ hash -r\n++ '[' -z '' ']'\n++ unset VIRTUAL_ENV\n++ '[' '!' nondestructive = nondestructive ']'\n++ VIRTUAL_ENV=/builds/powerco-analytics/poco-analytics-terraform/gitlabci\n++ export VIRTUAL_ENV\n++ _OLD_VIRTUAL_PATH=/usr/local/bundle/bin:/usr/local/bundle/gems/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ PATH=/builds/powerco-analytics/poco-analytics-terraform/gitlabci/bin:/usr/local/bundle/bin:/usr/local/bundle/gems/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n++ export PATH\n++ '[' -z '' ']'\n++ '[' -z '' ']'\n++ _OLD_VIRTUAL_PS1=\n++ '[' x '!=' x ']'\n+++ basename /builds/powerco-analytics/poco-analytics-terraform/gitlabci\n++ PS1='(gitlabci) '\n++ export PS1\n++ alias pydoc\n++ '[' -n /bin/bash ']'\n++ hash -r\n+ verbose pip3 install --requirement requirements.txt\n+ command -v pip3\n/builds/powerco-analytics/poco-analytics-terraform/gitlabci/bin/pip3\n+ pip3 --version\npip 18.1 from /builds/powerco-analytics/poco-analytics-terraform/gitlabci/lib/python3.5/site-packages/pip (python 3.5)\n+ pip3 install --requirement requirements.txt\nCollecting pytest&gt;=3.7 (from -r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/19/80/1ac71d332302a89e8637456062186bf397abc5a5b663c1919b73f4d68b1b/pytest-4.0.2-py2.py3-none-any.whl (217kB)\nCollecting behave&gt;=1.2 (from -r requirements.txt (line 2))\n  Downloading https://files.pythonhosted.org/packages/a8/6c/ec9169548b6c4cb877aaa6773408ca08ae2a282805b958dbc163cb19822d/behave-1.2.6-py2.py3-none-any.whl (136kB)\nCollecting google-cloud&gt;=0.34 (from -r requirements.txt (line 3))\n  Downloading https://files.pythonhosted.org/packages/ba/b1/7c54d1950e7808df06642274e677dbcedba57f75307adf2e5ad8d39e5e0e/google_cloud-0.34.0-py2.py3-none-any.whl\nCollecting google-auth&gt;=1.6 (from -r requirements.txt (line 4))\n  Downloading https://files.pythonhosted.org/packages/4e/85/71b2dfbf5b4241cd031cc333ed71f90a271074a97cb2c517bb65f07a1a90/google_auth-1.6.2-py2.py3-none-any.whl (73kB)\nRequirement already satisfied: setuptools in ./gitlabci/lib/python3.5/site-packages (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1)) (40.6.3)\nCollecting more-itertools&gt;=4.0.0 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/79/b1/eace304ef66bd7d3d8b2f78cc374b73ca03bc53664d78151e9df3b3996cc/more_itertools-4.3.0-py3-none-any.whl (48kB)\nCollecting attrs&gt;=17.4.0 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/3a/e1/5f9023cc983f1a628a8c2fd051ad19e76ff7b142a0faf329336f9a62a514/attrs-18.2.0-py2.py3-none-any.whl\nCollecting py&gt;=1.5.0 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/3e/c7/3da685ef117d42ac8d71af525208759742dd235f8094221fdaafcd3dba8f/py-1.7.0-py2.py3-none-any.whl (83kB)\nCollecting pathlib2&gt;=2.2.0; python_version &lt; \"3.6\" (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/2a/46/c696dcf1c7aad917b39b875acdc5451975e3a9b4890dca8329983201c97a/pathlib2-2.3.3-py2.py3-none-any.whl\nCollecting pluggy&gt;=0.7 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/1c/e7/017c262070af41fe251401cb0d0e1b7c38f656da634cd0c15604f1f30864/pluggy-0.8.0-py2.py3-none-any.whl\nCollecting atomicwrites&gt;=1.0 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/3a/9a/9d878f8d885706e2530402de6417141129a943802c084238914fa6798d97/atomicwrites-1.2.1-py2.py3-none-any.whl\nCollecting six&gt;=1.10.0 (from pytest&gt;=3.7-&gt;-r requirements.txt (line 1))\n  Downloading https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\nCollecting parse-type&gt;=0.4.2 (from behave&gt;=1.2-&gt;-r requirements.txt (line 2))\n  Downloading https://files.pythonhosted.org/packages/a2/c9/e6fd8092a5a06f2519ec434ca8e9e42238384f64c9b659456d98b0593b89/parse_type-0.4.2-py2.py3-none-any.whl\nCollecting parse&gt;=1.8.2 (from behave&gt;=1.2-&gt;-r requirements.txt (line 2))\n  Downloading https://files.pythonhosted.org/packages/b6/98/809e53e5778c59c4af9eb920605e7a8ab439407efbe89a6d51a46efd1937/parse-1.9.0.tar.gz\nCollecting pyasn1-modules&gt;=0.2.1 (from google-auth&gt;=1.6-&gt;-r requirements.txt (line 4))\n  Downloading https://files.pythonhosted.org/packages/19/02/fa63f7ba30a0d7b925ca29d034510fc1ffde53264b71b4155022ddf3ab5d/pyasn1_modules-0.2.2-py2.py3-none-any.whl (62kB)\nCollecting rsa&gt;=3.1.4 (from google-auth&gt;=1.6-&gt;-r requirements.txt (line 4))\n  Downloading https://files.pythonhosted.org/packages/02/e5/38518af393f7c214357079ce67a317307936896e961e35450b70fad2a9cf/rsa-4.0-py2.py3-none-any.whl\nCollecting cachetools&gt;=2.0.0 (from google-auth&gt;=1.6-&gt;-r requirements.txt (line 4))\n  Downloading https://files.pythonhosted.org/packages/76/7e/08cd3846bebeabb6b1cfc4af8aae649d90249b4aeed080bddb5297f1d73b/cachetools-3.0.0-py2.py3-none-any.whl\nCollecting pyasn1&lt;0.5.0,&gt;=0.4.1 (from pyasn1-modules&gt;=0.2.1-&gt;google-auth&gt;=1.6-&gt;-r requirements.txt (line 4))\n  Downloading https://files.pythonhosted.org/packages/d1/a1/7790cc85db38daa874f6a2e6308131b9953feb1367f2ae2d1123bb93a9f5/pyasn1-0.4.4-py2.py3-none-any.whl (72kB)\nBuilding wheels for collected packages: parse\n  Running setup.py bdist_wheel for parse: started\n  Running setup.py bdist_wheel for parse: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/ef/db/c6/18568a2cc574848f3996ac4552241fbec046b7be29feb2077d\nSuccessfully built parse\nInstalling collected packages: six, more-itertools, attrs, py, pathlib2, pluggy, atomicwrites, pytest, parse, parse-type, behave, google-cloud, pyasn1, pyasn1-modules, rsa, cachetools, google-auth\nSuccessfully installed atomicwrites-1.2.1 attrs-18.2.0 behave-1.2.6 cachetools-3.0.0 google-auth-1.6.2 google-cloud-0.34.0 more-itertools-4.3.0 parse-1.9.0 parse-type-0.4.2 pathlib2-2.3.3 pluggy-0.8.0 py-1.7.0 pyasn1-0.4.4 pyasn1-modules-0.2.2 pytest-4.0.2 rsa-4.0 six-1.12.0\n+ run_tests\n+ verbose python3 build/test_google_import.py\n+ command -v python3\n/builds/powerco-analytics/poco-analytics-terraform/gitlabci/bin/python3\n+ python3 --version\nPython 3.5.3\n+ python3 build/test_google_import.py\n&lt;module 'google' (namespace)&gt;\n&lt;class 'module'&gt;\n['__doc__', '__loader__', '__name__', '__package__', '__path__', '__spec__']\nTraceback (most recent call last):\n  File \"build/test_google_import.py\", line 11, in &lt;module&gt;\n    import google.cloud\nImportError: No module named 'google.cloud'\n</code></pre>\n\n<p>For what little this is worth, the python works on my machine (OS X 10.14.2 and Python 3.7.1).</p>\n\n<p>I've tried with and without virtualenv, and I've installed the GCP SDK too.  None of which changed the import error.</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545262591, "post_id": 53860053, "comment_id": 94569228, "body": "You might want to google for &quot;gradient fill under curve matplotlib&quot;."}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1545285901, "post_id": 53860053, "comment_id": 94574119, "body": "Related to <a href=\"https://stackoverflow.com/questions/22081361/pyplot-vertical-gradient-fill-under-curve\">this</a>, although it&#39;s vertical gradient, but I think you can figure out how to make it horizontal."}, {"owner": {"reputation": 556, "user_id": 10964685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfc3c9b4878cb5064b260dcbdd98de?s=128&d=identicon&r=PG&f=1", "display_name": "jonboy", "link": "https://stackoverflow.com/users/10964685/jonboy"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1590026394, "post_id": 53860053, "comment_id": 109528006, "body": "@QuangHoang, that example works ok for filling but what if you&#39;re hoping to pass the gradient to a histogram?"}], "owner": {"reputation": 915, "user_id": 4662624, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6403c3e87df8b3146d4dbbeb8cb441a?s=128&d=identicon&r=PG&f=1", "display_name": "Bociek", "link": "https://stackoverflow.com/users/4662624/bociek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545258560, "creation_date": 1545258560, "question_id": 53860053, "link": "https://stackoverflow.com/questions/53860053/distplot-with-varying-color-from-left-to-right", "title": "Distplot with varying color from left to right", "body": "<p>I came across this image today and I am curious if it is possible to reproduce it using matplotlib or seaborn. The waterfall part can be done with <strong>sns.FacetGrid</strong>, but I do not know how to force area under the curve to change color from left to right. Any ideas? \n<a href=\"https://i.stack.imgur.com/jcaBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jcaBg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 23634, "user_id": 432021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c16a68dfa5030f9b6df4d4ae4a337a?s=128&d=identicon&r=PG", "display_name": "Nikolay Shmyrev", "link": "https://stackoverflow.com/users/432021/nikolay-shmyrev"}, "edited": false, "score": 0, "creation_date": 1546979064, "post_id": 53860050, "comment_id": 95031175, "body": "Related <a href=\"https://github.com/keras-team/keras/issues/11749\" rel=\"nofollow noreferrer\">github.com/keras-team/keras/issues/11749</a>"}], "owner": {"reputation": 195, "user_id": 10813286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636fd526596818c0f264f1a54d926494?s=128&d=identicon&r=PG&f=1", "display_name": "A. LaBella", "link": "https://stackoverflow.com/users/10813286/a-labella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 828, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1553809971, "creation_date": 1545258549, "last_edit_date": 1553809971, "question_id": 53860050, "link": "https://stackoverflow.com/questions/53860050/keras-sparse-categorical-accuracy-metric-produces-incompatible-shapes-error", "title": "Keras sparse_categorical_accuracy metric produces &quot;Incompatible shapes&quot; error", "body": "<p>I'm relatively new to Keras and am trying to implement a U-Net architecture with TensorFlow backend for pixel-wise, multi-class classification on many 256x256 images. Input shape and output shapes are both 256x256x1 (batch size is also 1). </p>\n\n<p>I have over 30 classes so I'm trying to use <code>sparse_categorical_crossentropy</code> as my loss function (regular categorical cross entropy gives me a memory error), as many online forums suggested to do. When I change the \"metric\" parameter from 'accuracy' to 'sparse_categorical_accuracy', I get this error:</p>\n\n<pre><code>InvalidArgumentError: Incompatible shapes: [65536] vs. [1,256,256]   \n[[{{node metrics_3/sparse_categorical_accuracy/Equal}} = \nEqual[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](metrics_3/sparse_categorical_accuracy/Reshape, metrics_3/sparse_categorical_accuracy/Cast)]]   \n[[{{node metrics_3/sparse_categorical_accuracy/Mean/_749}} =\n_Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3000_metrics_3/sparse_categorical_accuracy/Mean\", tensor_type=DT_FLOAT,\n_device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n</code></pre>\n\n<p>It seems it's expecting my output to be 1D instead of 2D? Do I need to change the format of my data? However when I try to flatten my output using a flatten layer followed by a dense layer (to produce a 65536 vector output) at the end of my U-Net I get another error saying the expected output dimension is 1. I've also tried changing the number of channels in the last layer to the total number of classes I'm working with (to make the output 256x256xnum_classes) but I get the same error.</p>\n\n<p>Also when I just leave the \"metric\" parameter as 'accuracy' the code runs but the loss is always <code>NaN</code> and the accuracy converges very quickly to about 0.008. What does 'accuracy' default to in this case?</p>\n\n<p>Are these any known issues with <code>sparse_categorical_accuracy</code>? I haven't been able to find much information online and the Keras documentation on this particular loss function is scarce as well. Any help is appreciated! Please let me know if other parts of my code are needed as well to help debug.</p>\n"}, {"tags": ["python", "jwt", "pyjwt"], "answers": [{"comments": [{"owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1545262399, "post_id": 53860498, "comment_id": 94569176, "body": "I&#39;m not sure if I have the public key. I think I do. But I&#39;m not 100% sure. Is <code>curr_jwk[&#39;x5c&#39;][0]</code> the public key?"}, {"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "reply_to_user": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1545262576, "post_id": 53860498, "comment_id": 94569219, "body": "Well, honestly I don&#39;t know. You can have a try. If you succeed, then it is."}, {"owner": {"reputation": 4450, "user_id": 1767169, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/aff424fa9972067f4473028917888425?s=128&d=identicon&r=PG", "display_name": "python1981", "link": "https://stackoverflow.com/users/1767169/python1981"}, "edited": false, "score": 0, "creation_date": 1565048121, "post_id": 53860498, "comment_id": 101220360, "body": "My understanding is that you can decode RS256 token (which is just base64 encoded - use argument: verify=False) - but you cannot <b>verify</b> it without the public key."}], "tags": [], "owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "is_accepted": false, "score": 1, "last_activity_date": 1545261510, "creation_date": 1545261510, "answer_id": 53860498, "question_id": 53860030, "link": "https://stackoverflow.com/questions/53860030/how-to-use-pyjwt-to-verify-signature-on-this-jwt/53860498#53860498", "title": "How to use pyJWT to verify signature on this JWT?", "body": "<p>First, you should directly decode base64 encoded message. That is a whole jwt message, not just the signature. Which should be:</p>\n\n<pre><code>jwt.decode(my_jwt, algorithms='RS256')\n</code></pre>\n\n<p>Second, it won't work because by default there isn't <code>RS256</code> support. You can refer to this issue: <a href=\"https://github.com/jpadilla/pyjwt/issues/181\" rel=\"nofollow noreferrer\">https://github.com/jpadilla/pyjwt/issues/181</a></p>\n\n<p>Finally, I don't think you can decode this <code>RS256</code> encoded message without public key. Do you have that key?</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 3285009, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/728931684/picture?type=large", "display_name": "flyiinhigh", "link": "https://stackoverflow.com/users/3285009/flyiinhigh"}, "edited": false, "score": 1, "creation_date": 1595732266, "post_id": 63095541, "comment_id": 111574329, "body": "It really helped me thanks so much. I have been looking at this jwt token issue for a while in my Lambda function but couldn&#39;t really figure out how to do it. @D3vRandom your comment truly came at the right time for me."}], "tags": [], "owner": {"reputation": 107, "user_id": 7324186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58b983c65394ed6a73380f0430d55d9?s=128&d=identicon&r=PG&f=1", "display_name": "D3vRandom", "link": "https://stackoverflow.com/users/7324186/d3vrandom"}, "is_accepted": false, "score": 2, "last_activity_date": 1595732838, "last_edit_date": 1595732838, "creation_date": 1595731101, "answer_id": 63095541, "question_id": 53860030, "link": "https://stackoverflow.com/questions/53860030/how-to-use-pyjwt-to-verify-signature-on-this-jwt/63095541#63095541", "title": "How to use pyJWT to verify signature on this JWT?", "body": "<p>Your making your decoding process very difficult.</p>\n<p>This is a one liner to decode JWT tokens:</p>\n<pre><code>JWT_SECRET = 'secretpassphrase'\nJWT_ALGORITHM = 'HS256'\ndecoded = json.loads(json.dumps(jwt.decode(token, JWT_SECRET, JWT_ALGORITHM)))\n</code></pre>\n<p>What this line does is decodes the token using the secret password that was used to generate it then, &quot;json.dumps&quot; loads it into byte format, next &quot;json.loads&quot; allows you to parse it with the code below.</p>\n<p>After this your able to get the individual attributes of the token like this:</p>\n<pre><code>user_id = decoded['user_id']\nexpiry_time = decoded['exp']\n</code></pre>\n<p>NOTE: This should be put into a Try: Catch statement because if the token is expired or doesn't use the same signature then python will throw an error.\nEither Invalid Signature or Token has Expired.</p>\n<pre><code>def verify_token(token):\n    try:\n        decoded = json.loads(json.dumps(jwt.decode(token, JWT_SECRET, JWT_ALGORITHM)))\n        return {\n           'name': decoded['user_id'],\n           'exp': decoded['exp']\n           }\n    except:\n        print(&quot;Generic Error&quot;)\n</code></pre>\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5074, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1595732838, "creation_date": 1545258452, "last_edit_date": 1545262368, "question_id": 53860030, "link": "https://stackoverflow.com/questions/53860030/how-to-use-pyjwt-to-verify-signature-on-this-jwt", "title": "How to use pyJWT to verify signature on this JWT?", "body": "<p>I have received a JWT token.\nI'm interested in unpacking it and validating it's contents.</p>\n\n<p>I want to use the <a href=\"https://github.com/jpadilla/pyjwt/\" rel=\"nofollow noreferrer\">pyJWT</a> library to do it. See the small program below.</p>\n\n<p>I have base64 decoded my JWT successfully. And I have retrieved the matching JWK from the web. But I don't know what to do next to verify the signature.</p>\n\n<p>When I try to do the <code>jwt.decode()</code> below I get the error <code>jwt.exceptions.DecodeError: Not enough segments</code>.</p>\n\n<pre><code># !/usr/bin/env python\n\nimport jwt\nimport base64\nimport json\nimport requests\n\nmy_jwt = \"eyJqa3UiOiJodHRwczovL2U5N2I4YTlkNjcyZTRjZTQ4NDVlYzY5NDdjZDY2ZW\" \\\n         \"Y2LXNiLmJhYXMubmludGVuZG8uY29tLzEuMC4wL2NlcnRpZmljYXRlcyIsImtp\" \\\n         \"ZCI6ImZlOWRiYmZmLTQ3MGItNDZjOC04YmFmLTFiNzY5OGRlZTViZSIsImFsZy\" \\\n         \"I6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL2U5N2I4YTlkNjcyZTRjZTQ4NDVl\" \\\n         \"YzY5NDdjZDY2ZWY2LXNiLmJhYXMubmludGVuZG8uY29tIiwiZXhwIjoxNTQ1MT\" \\\n         \"g1NDk2LCJ0eXAiOiJpZF90b2tlbiIsImF1ZCI6IjhkOTc1NTllNjNlY2NkNTYi\" \\\n         \"LCJiczpkaWQiOiI2NjJhZTQwOWYwNTQyYTBjIiwic3ViIjoiOTNkYmYwNDdiYT\" \\\n         \"I3NzQ5NSIsImp0aSI6IjY1NDg4ZjJmLTI1NzAtNDBkYy04ODQ3LTMzODNlZWIx\" \\\n         \"MGJiYiIsIm5pbnRlbmRvIjp7ImFpIjoiMDEwMGY4MDAwMDQ5MjAwMCIsImF2Ij\" \\\n         \"oiMDAwMCIsImVkaSI6ImJjNTdiYmM3MTZlMDA1MGFmOWRhN2NkYTIzMWRjZDgy\" \\\n         \"IiwiYXQiOjE1NDUxNzQ2OTZ9LCJpYXQiOjE1NDUxNzQ2OTZ9.ZMUIt3wYrbfhX\" \\\n         \"nnDh4WraGlKrZy0YuL5prluY70sU_-0W5XvWIB-xmTrLz7LJWHEGwTskcWf81_\" \\\n         \"HBq_mSb75rMfTAEBwBmOJ4ITmhdnXksz8w7EDOWuPPSEft5XLMNOMD16ztEOYe\" \\\n         \"5ddU_iqNEbT56L7fcAJEXv0FWy6H_OutxOglYpDaNkcj6CWJ7dpA0JbqerR9dE\" \\\n         \"szaLwyn1ZBDPVD0YeAIm5bEr61imeedzMb0amxlTl4R87mqK6epsFUnRy6p6Kl\" \\\n         \"r27_DlTLQ-gej09W7NeNzONCj4thHgCr9szAiaN28krfTc2fobz3qFCoC_eQgh\" \\\n         \"iIIZBe_-Lksng3Eg6tw\"\n\ndecoded_token = [\n    base64.b64decode(i + '=' * (-len(i) % 4))\n    for i in my_jwt.split('.')\n]\nheader = json.loads(decoded_token[0])\nclaims = json.loads(decoded_token[1])\nsignature = decoded_token[2]\n\nprint 'Header = \\n{}\\n\\n'.format(header)\nprint 'Claims = \\n{}\\n\\n'.format(claims)\nprint 'Signature = \\n{}\\n\\n'.format(signature)\n\nkey_found = False\nfor curr_jwk in requests.get(header['jku']).json()['keys']:\n    if curr_jwk['kid'] == header['kid']:\n        key_found = True\n        break\nassert key_found\nprint 'curr_jwk = {}\\n\\n'.format(curr_jwk)\n\n# I am not sure if the following line is correct\njwt.decode(signature, curr_jwk['x5c'][0], algorithms=['RS256'])\n</code></pre>\n\n<p>Below is the full output. Please show me how I can verify the signature. I haven't found any python examples out there on the web that worked for me.</p>\n\n<pre><code>Header =\n{u'jku': u'https://e97b8a9d672e4ce4845ec6947cd66ef6-sb.baas.nintendo.com/1.0.0/certificates', u'alg': u'RS256', u'kid': u'fe9dbbff-470b-46c8-8baf-1b7698dee5be'}\n\n\nClaims =\n{u'aud': u'8d97559e63eccd56', u'iss': u'https://e97b8a9d672e4ce4845ec6947cd66ef6-sb.baas.nintendo.com', u'jti': u'65488f2f-2570-40dc-8847-3383eeb10bbb', u'exp': 1545185496, u'nintendo': {u'ai': u'0100f80000492000', u'edi': u'bc57bbc716e0050af9da7cda231dcd82', u'at': 1545174696, u'av': u'0000'}, u'iat': 1545174696, u'bs:did': u'662ae409f0542a0c', u'typ': u'id_token', u'sub': u'93dbf047ba277495'}\n\n\nSignature =\n\ufffddr&gt;\ufffdX\ufffd\u0764n\ufffd\ufffdG\ufffdD\ufffd6\ufffd\ufffd)\ufffdd\ufffdT=x&amp;\ufffd+\ufffdX\ufffdy\ufffds1\ufffd\ufffdS\ufffd\ufffd|\ufffdj\ufffd\ufffd\ufffdlI\ufffd\u02eaz*Z\ufffd\ufffd9S\ufffdOV\ufffd\u05cd\ufffd\ufffdB\ufffd\ufffda\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdv\ufffdJ\ufffdM\u035f\ufffd\ufffd\ufffdP\ufffdm&gt;z/\ufffd \ufffdd\ufffd\ufffd\ufffd\ufffd\ufffdH:\ufffd)\n\n\ncurr_jwk = {\n    u'use': u'sig', \n    u'e': u'AQAB', \n    u'kty': u'RSA', \n    u'alg': u'RS256', \n    u'n': u'twZRFUFinbzSF9aCaLqSdDSfS4Lfz6bSB-4ymwqkgJPLMLtX0meEVOSsx2qP_OQFkb6_RAZk3GK2CSM46V8A-bZqYn1jHyRyQeQmAfrzvXxAiXBdSq4Eso1C_roFQDjR3p-RnLWDLdMPUHkmAQSPEpVAUbcCvUD8zZwQ-go8GAzG0iQNNvZxma1JQoDsHPgY5LiBVBlqY43tp_jeW_sb3SxZ30zzIckKtQfYDfph_vns-q1_raNRPgS0TQw4E470n27UgLE30yoVn_DlYwmtZneCOWIByVPrMBMIkrv_Gh9VW3GszbqZz2u3K9Aj7rtnCtmUrI9dQbeTnruWOn_Fjw', \n    u'x5c': [u'MIIC/zCCAeegAwIBAgIHBX0u6g3YCzANBgkqhkiG9w0BAQUFADBAMT4wPAYDVQQDEzVlOTdiOGE5ZDY3MmU0Y2U0ODQ1ZWM2OTQ3Y2Q2NmVmNi1zYi5iYWFzLm5pbnRlbmRvLmNvbTAeFw0xNzEyMTYwMDAwMDBaFw0xOTEyMTcwMDAwMDBaMEAxPjA8BgNVBAMTNWU5N2I4YTlkNjcyZTRjZTQ4NDVlYzY5NDdjZDY2ZWY2LXNiLmJhYXMubmludGVuZG8uY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtwZRFUFinbzSF9aCaLqSdDSfS4Lfz6bSB+4ymwqkgJPLMLtX0meEVOSsx2qP/OQFkb6/RAZk3GK2CSM46V8A+bZqYn1jHyRyQeQmAfrzvXxAiXBdSq4Eso1C/roFQDjR3p+RnLWDLdMPUHkmAQSPEpVAUbcCvUD8zZwQ+go8GAzG0iQNNvZxma1JQoDsHPgY5LiBVBlqY43tp/jeW/sb3SxZ30zzIckKtQfYDfph/vns+q1/raNRPgS0TQw4E470n27UgLE30yoVn/DlYwmtZneCOWIByVPrMBMIkrv/Gh9VW3GszbqZz2u3K9Aj7rtnCtmUrI9dQbeTnruWOn/FjwIDAQABMA0GCSqGSIb3DQEBBQUAA4IBAQBsXUY5j/m4pAB0R3zDEHHBXZUCkdN53zCr5M7/Kn4ak0vKb9Hk1gNJqdS+dNyW1C7aNGFPmmcMhOos3tv0KsjNoftA4A27uIA7U6QYtJSUVbtVJgYCu8XUa2VDongGNxB72UvFiD++qY3Xe95b0kzsoSOqGaguicAeRSG/HARDaNJT5I9MhCYdCmjU/z83dGI0t8v33Zua92YVmzL6E06lxQ7KrVa9MlKgVJEiAnju3GESVFmrhEoVt516EVxvTVmFlrsvN6rh+c/jC3mBDkE7E23ukg6FpM8oCVRU/5o8/lnKVcRhYPnBgHwg/wTL/Is5rteMtLihV/mvgt3InWkc'],\n    u'usage': u'developer', \n    u'kid': u'fe9dbbff-470b-46c8-8baf-1b7698dee5be'\n}\n\nTraceback (most recent call last):\n  File \"./saqib_test.py\", line 46, in &lt;module&gt;\n    jwt.decode(signature, curr_jwk['x5c'][0], algorithms=['RS256'])\n  File \"/Users/saqib.ali/saqib-env-987/lib/python2.7/site-packages/jwt/api_jwt.py\", line 84, in decode\n    payload, _, _, _ = self._load(jwt)\n  File \"/Users/saqib.ali/saqib-env-987/lib/python2.7/site-packages/jwt/api_jws.py\", line 183, in _load\n    raise DecodeError('Not enough segments')\njwt.exceptions.DecodeError: Not enough segments\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1545290906, "post_id": 53860022, "comment_id": 94575715, "body": "You can&#39;t have a concatenation layer in a Sequential model, since it would be no longer a Sequential model."}, {"owner": {"reputation": 1, "user_id": 10813281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343f5749e6de5f31ffb562c1b98af883?s=128&d=identicon&r=PG&f=1", "display_name": "Erez", "link": "https://stackoverflow.com/users/10813281/erez"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1545326651, "post_id": 53860022, "comment_id": 94593947, "body": "I was following this guide: <a href=\"https://faroit.github.io/keras-docs/1.2.2/getting-started/sequential-model-guide/#the-merge-layer\" rel=\"nofollow noreferrer\">faroit.github.io/keras-docs/1.2.2/getting-started/&hellip;</a> Is this no longer relevant in later keras?"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1545326745, "post_id": 53860022, "comment_id": 94593979, "body": "That is an old version of Keras (1.2.2). The latest Keras version is 2.2.4 and it no longer has a <code>Merge</code> layer at all :)"}], "owner": {"reputation": 1, "user_id": 10813281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343f5749e6de5f31ffb562c1b98af883?s=128&d=identicon&r=PG&f=1", "display_name": "Erez", "link": "https://stackoverflow.com/users/10813281/erez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545282438, "creation_date": 1545258407, "last_edit_date": 1545282438, "question_id": 53860022, "link": "https://stackoverflow.com/questions/53860022/keras-sequential-api-issue-with-calling-model-predict-on-multiple-inputs", "title": "Keras sequential API: issue with calling model.predict on multiple inputs", "body": "<p>I'm having an issue calling model.predict on a model defined using the sequential API. Seems to work OK using the functional API. Maybe this has nothing to do with sequential/functional and I just have a bug. </p>\n\n<p>Using the keras sequential API with multiple inputs I have this toy model: </p>\n\n<pre><code>left_branch = keras.models.Sequential()\nleft_branch.add(keras.layers.Dense(32, input_dim=784))\n\nright_branch = keras.models.Sequential()\nright_branch.add(keras.layers.Dense(32, input_dim=784))\n\nmerged = keras.layers.Concatenate([left_branch, right_branch])\n\nfinal_model = keras.models.Sequential()\nfinal_model.add(merged)\nfinal_model.add(keras.layers.Dense(10, activation='softmax'))\n</code></pre>\n\n<p>When I call model.predict like this: </p>\n\n<pre><code>x1 = np.random.random_sample(size = [1,784])\nx2 = np.random.random_sample(size = [1,784])\nfinal_model.predict([x1,x2])\n</code></pre>\n\n<p>I'm getting the error: <code>AttributeError: 'list' object has no attribute 'shape'</code>, even though both list items are np arrays. The full error is below. </p>\n\n<p>The error does <em>NOT</em> happen when I code up the same model in the functional API like this: </p>\n\n<pre><code>x1 = keras.layers.Input(shape=(784,))\nleft_branch = keras.layers.Dense(32)(x1)\n\nx2 = keras.layers.Input(shape=(784,))\nright_branch = keras.layers.Dense(32)(x2)\n\nmerged = keras.layers.Concatenate()([x1, x2])\nout = keras.layers.Dense(10, activation='softmax')(merged)\n\nfinal_model = keras.models.Model(inputs=[x1, x2], outputs=out)\n</code></pre>\n\n<p>Here's the full error output from the sequential model: </p>\n\n<pre><code>---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-41-4b45e1bec6dd&gt; in &lt;module&gt;()\n      1 x1 = np.random.random_sample(size = [1,784])\n      2 x2 = np.random.random_sample(size = [1,784])\n----&gt; 3 final_model.predict([x1,x2])\n\n/Library/Python/2.7/site-packages/tensorflow/python/keras/engine/training.pyc in predict(self, x, batch_size, verbose, steps)\n   1750     # Validate and standardize user data.\n   1751     x, _, _ = self._standardize_user_data(\n-&gt; 1752         x, check_steps=True, steps_name='steps', steps=steps)\n   1753 \n   1754     if context.executing_eagerly():\n\n/Library/Python/2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _standardize_user_data(self, x, y, sample_weight, class_weight, batch_size, check_steps, steps_name, steps, validation_split)\n    991       x, y = next_element\n    992     x, y, sample_weights = self._standardize_weights(x, y, sample_weight,\n--&gt; 993                                                      class_weight, batch_size)\n    994     return x, y, sample_weights\n    995 \n\n/Library/Python/2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _standardize_weights(self, x, y, sample_weight, class_weight, batch_size)\n   1027       if not self.inputs:\n   1028         is_build_called = True\n-&gt; 1029         self._set_inputs(x)\n   1030 \n   1031     if y is not None:\n\n/Library/Python/2.7/site-packages/tensorflow/python/training/checkpointable/base.pyc in _method_wrapper(self, *args, **kwargs)\n    424     self._setattr_tracking = False  # pylint: disable=protected-access\n    425     try:\n--&gt; 426       method(self, *args, **kwargs)\n    427     finally:\n    428       self._setattr_tracking = previous_value  # pylint: disable=protected-access\n\n/Library/Python/2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _set_inputs(self, inputs, training)\n   1219         self.build(input_shape=input_shape)\n   1220       else:\n-&gt; 1221         input_shape = (None,) + inputs.shape[1:]\n   1222         self.build(input_shape=input_shape)\n   1223     if context.executing_eagerly():\n\nAttributeError: 'list' object has no attribute 'shape'\n</code></pre>\n"}, {"tags": ["python", "exception", "exception-handling"], "comments": [{"owner": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 0, "creation_date": 1545258463, "post_id": 53860007, "comment_id": 94568012, "body": "Please add any code you have tried, without some effort on your part to answer your question, this will probably be closed. At least, can you add the code you are trying to run, and the exceptions you are seeing?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1545258561, "post_id": 53860007, "comment_id": 94568037, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 519, "user_id": 6839356, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f238783b35c99e28968b3f5465225fb4?s=128&d=identicon&r=PG&f=1", "display_name": "Codevan", "link": "https://stackoverflow.com/users/6839356/codevan"}, "reply_to_user": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 0, "creation_date": 1545258635, "post_id": 53860007, "comment_id": 94568069, "body": "@Tony I added an example"}, {"owner": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 1, "creation_date": 1545258804, "post_id": 53860007, "comment_id": 94568131, "body": "@Codevan - in the example you gave, and I realise it&#39;s only an example, it would be better to check the divisor is not zero, rather than waiting for an exception to be thrown. My point is there are usually other ways to handle the situation, other than using exceptions."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10742128"}, "is_accepted": true, "score": 1, "last_activity_date": 1545258568, "creation_date": 1545258568, "answer_id": 53860054, "question_id": 53860007, "link": "https://stackoverflow.com/questions/53860007/run-a-python-function-until-has-no-exception-at-all/53860054#53860054", "title": "Run a python function until has no exception at all", "body": "<pre><code>while True:\n    try:\n        callFunction()\n        break\n    except:\n        pass\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10654536"}, "is_accepted": false, "score": 0, "last_activity_date": 1545260970, "creation_date": 1545260970, "answer_id": 53860416, "question_id": 53860007, "link": "https://stackoverflow.com/questions/53860007/run-a-python-function-until-has-no-exception-at-all/53860416#53860416", "title": "Run a python function until has no exception at all", "body": "<p>keep calling the function until it doesn't make an error:</p>\n\n<pre><code>done = False\nwhile not done:\n    try:\n        #call your function here\n    except:\n        done = False\n    else:\n        done = True\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 6839356, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f238783b35c99e28968b3f5465225fb4?s=128&d=identicon&r=PG&f=1", "display_name": "Codevan", "link": "https://stackoverflow.com/users/6839356/codevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 53860054, "answer_count": 2, "score": -2, "last_activity_date": 1545260970, "creation_date": 1545258306, "last_edit_date": 1545258615, "question_id": 53860007, "link": "https://stackoverflow.com/questions/53860007/run-a-python-function-until-has-no-exception-at-all", "title": "Run a python function until has no exception at all", "body": "<p>A generic question - \nSuppose I have a function that can throw any kind of exception sometimes, and sometimes not. As a simple example draw randomly 2 numbers and divide them (the second one could be 0).\nI want to run it until there are no exceptions at all, is that possible?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 2, "creation_date": 1545258601, "post_id": 53859993, "comment_id": 94568054, "body": "Could you please restate your question? At least for me it&#39;s not clear what you want"}, {"owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "edited": false, "score": 1, "creation_date": 1545258667, "post_id": 53859993, "comment_id": 94568081, "body": "not sure I understand what you want as your output. But when I run through it with debugger, it does change the current value/number to what ever the minimum value is at that particular moment in your list <code>s</code>."}, {"owner": {"reputation": 23, "user_id": 10471806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KB_qfbc4XMM/AAAAAAAAAAI/AAAAAAAABHk/IXDLfLY8UkM/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10471806/max"}, "edited": false, "score": 0, "creation_date": 1545258707, "post_id": 53859993, "comment_id": 94568100, "body": "I create a list of &#39;a&#39; random numbers. And than I need to change odd numbers to the minimum number of this list"}, {"owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "edited": false, "score": 0, "creation_date": 1545258834, "post_id": 53859993, "comment_id": 94568142, "body": "you need to separate your loops. also, your code is changing the even numbers"}, {"owner": {"reputation": 23, "user_id": 10471806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KB_qfbc4XMM/AAAAAAAAAAI/AAAAAAAABHk/IXDLfLY8UkM/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10471806/max"}, "edited": false, "score": 0, "creation_date": 1545259078, "post_id": 53859993, "comment_id": 94568232, "body": "Yoo meant to create second loop to change odd to min?"}, {"owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "edited": false, "score": 0, "creation_date": 1545259171, "post_id": 53859993, "comment_id": 94568263, "body": "yes (see below). as you currently have it, it puts a random number in your list 1 at a time, then checks, then changes it to whatever the min is at that particular moment. Unless that&#39;s how you want it to work, but you stated you create a list of &#39;a&#39; random numbers first"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10471806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KB_qfbc4XMM/AAAAAAAAAAI/AAAAAAAABHk/IXDLfLY8UkM/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10471806/max"}, "edited": false, "score": 0, "creation_date": 1545259555, "post_id": 53860125, "comment_id": 94568392, "body": "this code didn&#39;t work, I had next output: Changing 1 \tbefore [9, 4] \t after [9, 4] Changing 3 \tbefore [9, 4, 3, 10] \t after [9, 4, 3, 3] Changing 5 \tbefore [9, 4, 3, 3, 5, 4] \t after [9, 4, 3, 3, 5, 3] Changing 6 \tbefore [9, 4, 3, 3, 5, 3, 8] \t after [9, 4, 3, 3, 5, 3, 3] Changing 7 \tbefore [9, 4, 3, 3, 5, 3, 3, 6] \t after [9, 4, 3, 3, 5, 3, 3, 3] Changing 9 \tbefore [9, 4, 3, 3, 5, 3, 3, 3, 9, 4] \t after [9, 4, 3, 3, 5, 3, 3, 3, 9, 3]"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 23, "user_id": 10471806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KB_qfbc4XMM/AAAAAAAAAAI/AAAAAAAABHk/IXDLfLY8UkM/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10471806/max"}, "edited": false, "score": 0, "creation_date": 1545260389, "post_id": 53860125, "comment_id": 94568636, "body": "You need to <i>specify</i> how it fails.  As per your posting, this takes each odd number of the list and replaces it with the list minimum up to that point.  The output in your comment <i>does</i> operate in that fashion.  If you want something else, you need to specify that in your posting."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1545258980, "creation_date": 1545258980, "answer_id": 53860125, "question_id": 53859993, "link": "https://stackoverflow.com/questions/53859993/i-want-to-change-random-numbers-from-the-list-of-them-to-the-minimal-meaning-of/53860125#53860125", "title": "I want to change random numbers from the list of them to the minimal meaning of list", "body": "<p>You program does, indeed, change the numbers as you requested.  I added trivial <code>print</code> statements to track this:</p>\n\n<p>import random</p>\n\n<pre><code>a = 10\ns = []\nfor i in range(a):\n    s.append(random.randint(0,10))\n    if s[i]%2==0:\n        print(\"Changing\", i)\n        print(\"\\tbefore\", s)\n        s[i]=min(s)\n        print(\"\\t after\", s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Changing 1\n    before [3, 10]\n     after [3, 3]\nChanging 6\n    before [3, 3, 5, 9, 9, 1, 8]\n     after [3, 3, 5, 9, 9, 1, 1]\nChanging 7\n    before [3, 3, 5, 9, 9, 1, 1, 6]\n     after [3, 3, 5, 9, 9, 1, 1, 1]\nChanging 8\n    before [3, 3, 5, 9, 9, 1, 1, 1, 6]\n     after [3, 3, 5, 9, 9, 1, 1, 1, 1]\nChanging 9\n    before [3, 3, 5, 9, 9, 1, 1, 1, 1, 0]\n     after [3, 3, 5, 9, 9, 1, 1, 1, 1, 0]\n</code></pre>\n\n<p>As you can see, the even numbers <em>do</em> get replaced with the list minimum.  Your claim that it doesn't change any number is incorrect.</p>\n\n<p>If you want to change <em>odd</em> numbers, then you need to invert your check:</p>\n\n<pre><code>if s[i]%2 == 1:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "is_accepted": true, "score": 0, "last_activity_date": 1545259396, "last_edit_date": 1545259396, "creation_date": 1545259048, "answer_id": 53860140, "question_id": 53859993, "link": "https://stackoverflow.com/questions/53859993/i-want-to-change-random-numbers-from-the-list-of-them-to-the-minimal-meaning-of/53860140#53860140", "title": "I want to change random numbers from the list of them to the minimal meaning of list", "body": "<p>changed <code>if s[i]%2==0</code> to <code>if s[i]%2!=0</code> to pick out the odd numbers. The first way will change even numbers</p>\n\n<pre><code>import random\n\na = int(input('Num -&gt; '))\n\n# creates your list of x random numbers\ns = []\nfor i in range(a):\n    s.append(random.randint(0,10))\n\n\n# change odd numbers to the min of the original list    \nfor i in range(a):    \n    if s[i]%2!=0:\n        s[i]=min(s)\n</code></pre>\n\n<p>so let's say a is 10:</p>\n\n<pre><code>&gt;&gt;&gt; [2, 2, 8, 1, 2, 2, 10, 7, 5, 7]\n</code></pre>\n\n<p>now change all odd numbers to min (in this case it's '1')</p>\n\n<pre><code>&gt;&gt;&gt; [2, 2, 8, 1, 2, 2, 10, 1, 1, 1]\n</code></pre>\n\n<p>The answer below works too, it's just a matter of if you need it to change after each iteration of creating the list, or create the list first, and then apply your rule.</p>\n"}], "owner": {"reputation": 23, "user_id": 10471806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KB_qfbc4XMM/AAAAAAAAAAI/AAAAAAAABHk/IXDLfLY8UkM/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10471806/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 53860140, "answer_count": 2, "score": 0, "last_activity_date": 1545259396, "creation_date": 1545258251, "last_edit_date": 1545259003, "question_id": 53859993, "link": "https://stackoverflow.com/questions/53859993/i-want-to-change-random-numbers-from-the-list-of-them-to-the-minimal-meaning-of", "title": "I want to change random numbers from the list of them to the minimal meaning of list", "body": "<p>I create a list of 'a' random numbers. And than I need to change odd numbers to the minimum number of this list. but it doesn't change any number, what's wrong?</p>\n\n<pre><code>import random\n\na = int(input('Num -&gt; '))\ns = []\nfor i in range(a):\n    s.append(random.randint(0,10))\n    if s[i]%2!=0:\n        s[i]=min(s)\n</code></pre>\n"}, {"tags": ["python", "genetic-algorithm", "deap"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10812012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-08pqbxx9LAg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxCt4BKrt8un--ZruX9-RDcq6ZGQ/mo/photo.jpg?sz=128", "display_name": "bob smith", "link": "https://stackoverflow.com/users/10812012/bob-smith"}, "edited": false, "score": 0, "creation_date": 1545272703, "post_id": 53861142, "comment_id": 94571347, "body": "so i think you mean avoid the code in onemax_short.py and onemax_mp.py and just add multi-processing to the original onemax.py, did i read that right?"}, {"owner": {"reputation": 393, "user_id": 3438102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add54ef97a6659573cc3d131c3974348?s=128&d=identicon&r=PG", "display_name": "Matthew Woodruff", "link": "https://stackoverflow.com/users/3438102/matthew-woodruff"}, "reply_to_user": {"reputation": 23, "user_id": 10812012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-08pqbxx9LAg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxCt4BKrt8un--ZruX9-RDcq6ZGQ/mo/photo.jpg?sz=128", "display_name": "bob smith", "link": "https://stackoverflow.com/users/10812012/bob-smith"}, "edited": false, "score": 0, "creation_date": 1545319800, "post_id": 53861142, "comment_id": 94590348, "body": "Yup, if I&#39;m reading the docs right, all you have to do is drop those lines in the original <code>onemax.py</code>."}], "tags": [], "owner": {"reputation": 393, "user_id": 3438102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add54ef97a6659573cc3d131c3974348?s=128&d=identicon&r=PG", "display_name": "Matthew Woodruff", "link": "https://stackoverflow.com/users/3438102/matthew-woodruff"}, "is_accepted": true, "score": 0, "last_activity_date": 1545267395, "creation_date": 1545267395, "answer_id": 53861142, "question_id": 53859991, "link": "https://stackoverflow.com/questions/53859991/how-to-add-maxor-min-fitness-halting-condition-to-multiprocessing-deap-python/53861142#53861142", "title": "how to add max(or min) fitness halting condition to multiprocessing deap python genetic algorithm", "body": "<p>So, the line you're looking at is the termination condition.  The evolution stops when an individual with fitness greater than 100 is found or after 1000 generations.  I've done a lot of work with MOEAs, but I'm not too familiar with DEAP.  That disclaimer aside, it looks like it's not evolving separate populations, just doing parallelized evaluation.  So there's only one population.  From the docs, it looks like you could take <code>onemax.py</code> and slot in a multiprocessing pool by doing this:</p>\n\n<pre><code>import multiprocessing\n\npool = multiprocessing.Pool()\ntoolbox.register(\"map\", pool.map)\n</code></pre>\n\n<p>I took this code from here: <a href=\"https://deap.readthedocs.io/en/master/tutorials/basic/part4.html\" rel=\"nofollow noreferrer\">https://deap.readthedocs.io/en/master/tutorials/basic/part4.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 10812012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-08pqbxx9LAg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jxCt4BKrt8un--ZruX9-RDcq6ZGQ/mo/photo.jpg?sz=128", "display_name": "bob smith", "link": "https://stackoverflow.com/users/10812012/bob-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 1, "accepted_answer_id": 53861142, "answer_count": 1, "score": 2, "last_activity_date": 1545267395, "creation_date": 1545258242, "question_id": 53859991, "link": "https://stackoverflow.com/questions/53859991/how-to-add-maxor-min-fitness-halting-condition-to-multiprocessing-deap-python", "title": "how to add max(or min) fitness halting condition to multiprocessing deap python genetic algorithm", "body": "<p>this question is a follow-on to answer of this question about python deap genetic algorithm library:\n<a href=\"https://stackoverflow.com/questions/41661637/how-to-add-elimination-mechanism-in-python-genetic-algorithm-based-on-deap\">How to add elimination mechanism in Python genetic algorithm based on DEAP</a></p>\n\n<p>using reference code from deap github:\n<a href=\"https://github.com/DEAP/deap/blob/master/examples/ga/onemax.py\" rel=\"nofollow noreferrer\">https://github.com/DEAP/deap/blob/master/examples/ga/onemax.py</a></p>\n\n<p>line 112\n<code>while max(fits) &lt; 100 and g &lt; 1000: #from onemax.py</code></p>\n\n<p>on the deap github example 'onemax_mp.py':\n<a href=\"https://github.com/DEAP/deap/blob/master/examples/ga/onemax_mp.py\" rel=\"nofollow noreferrer\">https://github.com/DEAP/deap/blob/master/examples/ga/onemax_mp.py</a></p>\n\n<p>how do i add a max(or min) condition similar to <code>max(fits) &lt; 100</code> in the onemax_mp.py? </p>\n\n<p>if i do add this condition is this condition applied to each process in the entire multi-process pool of processes? \nif one process meets the end condition are the other processes halted?<br>\nright now it seems that i can only control the number of generations:</p>\n\n<p><a href=\"https://github.com/DEAP/deap/blob/master/examples/ga/onemax_mp.py\" rel=\"nofollow noreferrer\">https://github.com/DEAP/deap/blob/master/examples/ga/onemax_mp.py</a></p>\n\n<p>line 40 </p>\n\n<p><code>algorithms.eaSimple(pop, toolbox, cxpb=0.5, mutpb=0.2, ngen=40, stats=stats, halloffame=hof) #ngen=40 means calculate 40 generations</code></p>\n\n<p>i am new to stackoverflow, please let me know if i need to edit this question to fit forum rules</p>\n"}, {"tags": ["python", "dictionary", "difference"], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1545266527, "post_id": 53860031, "comment_id": 94570116, "body": "@prashantrana I declined your edit since a tuple is actually the wrong data structure here (even if it&#39;s what the OP requested as output)"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1545258453, "creation_date": 1545258453, "answer_id": 53860031, "question_id": 53859977, "link": "https://stackoverflow.com/questions/53859977/display-only-difference-in-nested-dicts/53860031#53860031", "title": "Display only difference in nested dicts", "body": "<p>You need to nest a list comp in your dict comp.</p>\n\n<pre><code>{o: [{b: d2[o][b]} for b in d2[o].keys() if d1[o][b] != d2[o][b]] for o in d1.keys()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "is_accepted": false, "score": 0, "last_activity_date": 1545261201, "last_edit_date": 1545261201, "creation_date": 1545258956, "answer_id": 53860120, "question_id": 53859977, "link": "https://stackoverflow.com/questions/53859977/display-only-difference-in-nested-dicts/53860120#53860120", "title": "Display only difference in nested dicts", "body": "<p>here is solution (if you don't mind the solution  in more elaborate way)    </p>\n\n<pre><code>d1={}\nd2={}\nd1[1] = {'a': 10, 'b': 20}\nd1[2] = {'a': 11, 'b': 21}\nd2[1] = {'b': 10, 'a': 20}\nd2[2] = {'b': 21, 'a': 19}\n\nd4={}\n\nfor o in d1.keys():\n    d3=[]\n    for b in d2[o].keys():\n        if d1[o][b] != d2[o][b]:\n               d3.append({b: d2[o][b]})\n    d4.update({o:tuple(d3)})\nprint(d4) # require solution.\n# print {1: ({'b': 10}, {'a': 20}), 2: ({'a': 19},)}\n</code></pre>\n\n<p>in your code you forgot to add/update the inner values . </p>\n"}], "owner": {"reputation": 1153, "user_id": 5097372, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/06e375ba700f4ca573c0d5b12dd7012b?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor", "link": "https://stackoverflow.com/users/5097372/gabor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 53860031, "answer_count": 2, "score": 1, "last_activity_date": 1545261201, "creation_date": 1545258183, "question_id": 53859977, "link": "https://stackoverflow.com/questions/53859977/display-only-difference-in-nested-dicts", "title": "Display only difference in nested dicts", "body": "<p>The data is coming from a database and from a csv file.\nI have to compare them as fast as possible and update the database table by the corresponding value.\nLet's suppose the dict d1 is coming from the database as d2 from in input file.\nThe main key is a primary key in the db. (here 1 and 2)</p>\n\n<pre><code>d1[1] = {'a': 10, 'b': 20}\nd1[2] = {'a': 11, 'b': 21}\n</code></pre>\n\n<p>Now is coming the data from the input file:</p>\n\n<pre><code>d2[1] = {'b': 10, 'a': 20}\nd2[2] = {'b': 21, 'a': 19}\n</code></pre>\n\n<p>As you can see all values are different for the key 1 and only the value of 'a' is different for the key 2.\nI have the following query:</p>\n\n<pre><code>print({o: ({b: d2[o][b]}) for o in d1.keys() for b in d2[o].keys() if d1[o][b] != d2[o][b]})\n</code></pre>\n\n<p>Expected result would be:</p>\n\n<pre><code>{1: ({'a': 20}, {'b': 10}), 2: {'a': 19}}\n</code></pre>\n\n<p>Instead of the this I have this result (I do not have all the modified values listed for 1):</p>\n\n<pre><code>{1: {'a': 20}, 2: {'a': 19}}\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "pandas", "apply"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1545258121, "creation_date": 1545258121, "answer_id": 53859969, "question_id": 53859920, "link": "https://stackoverflow.com/questions/53859920/filling-a-pandas-column-based-on-another-column/53859969#53859969", "title": "Filling a pandas column based on another column", "body": "<p>You can first create a series mapping:</p>\n\n<pre><code>ticker_name_map = get_nasdaq_symbols()['Security Name'].str[:-15]\n</code></pre>\n\n<p>Then use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.map.html\" rel=\"nofollow noreferrer\"><code>pd.Series.map</code></a><sup>1</sup>:</p>\n\n<pre><code>df1['Name'] = df1['ticker'].map(ticker_name_map)\n</code></pre>\n\n<p>If you wish unmapped values to remain unchanged, then use a subsequent <code>fillna</code>:</p>\n\n<pre><code>df1['Name'] = df1['ticker'].map(ticker_name_map).fillna(df1['Name'])\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.replace.html\" rel=\"nofollow noreferrer\"><code>pd.Series.replace</code></a> is also possible, but <a href=\"https://stackoverflow.com/questions/49259580/replace-values-in-a-pandas-series-via-dictionary-efficiently\">inefficient</a>.</p>\n"}], "owner": {"reputation": 545, "user_id": 3398324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fa8b1e498dd1d0c7b79614c8e9d88d4?s=128&d=identicon&r=PG&f=1", "display_name": "Tartaglia", "link": "https://stackoverflow.com/users/3398324/tartaglia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 53859969, "answer_count": 1, "score": 2, "last_activity_date": 1545258121, "creation_date": 1545257867, "question_id": 53859920, "link": "https://stackoverflow.com/questions/53859920/filling-a-pandas-column-based-on-another-column", "title": "Filling a pandas column based on another column", "body": "<p>I would like to fill each row of a column of my dataframe based on the entries in another column, in particular I want to fill each row with the corresponding name of the corresponding ticker for that stock, like so</p>\n\n<pre><code>dict1 = [{'ticker': 'AAPL','Name': 'Apple Inc.'},\n {'ticker': 'MSFT','Name': 'Microsoft Corporation'}]\n\ndf1 = pd.DataFrame(dict1)\n</code></pre>\n\n<p>This function provides the name for a given ticker:</p>\n\n<p>So I can pull the name for for say MSFT:</p>\n\n<pre><code>dict1 = [{'ticker': 'AAPL','Name': 'Apple Inc.'},\n {'ticker': 'MSFT','Name': get_nasdaq_symbols().loc['MSFT'].loc['Security Name'][:-15]}]\n</code></pre>\n\n<p>I am struggling to find a way to automate this with a for loop or apply. Can anyone suggest an approach?</p>\n\n<p>Note, the function used to pull the name comes from here:</p>\n\n<pre><code> from pandas_datareader.nasdaq_trader import get_nasdaq_symbols\n</code></pre>\n"}, {"tags": ["python", "sympy"], "comments": [{"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 1, "creation_date": 1545259238, "post_id": 53859913, "comment_id": 94568290, "body": "I did not calculate this, but I can&#39;t understand, how the gradient is not <i>r</i> dependend; there has to be a mistake in your calculations"}, {"owner": {"reputation": 674, "user_id": 1811073, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17347e7edbad326a47aea734d98ff45d?s=128&d=identicon&r=PG", "display_name": "aweeeezy", "link": "https://stackoverflow.com/users/1811073/aweeeezy"}, "reply_to_user": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1545259971, "post_id": 53859913, "comment_id": 94568512, "body": "@user8408080, please see the additional details at the end of the OP"}], "answers": [{"tags": [], "owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "is_accepted": false, "score": 1, "last_activity_date": 1545263692, "creation_date": 1545263692, "answer_id": 53860753, "question_id": 53859913, "link": "https://stackoverflow.com/questions/53859913/sympy-find-point-minimizing-distance-to-three-circumferences/53860753#53860753", "title": "Sympy -- find point minimizing distance to three circumferences", "body": "<p><code>idiff</code> does not compute the gradient. What you want is <code>sympy.vector.gradient</code>. I will go through this only for one pair (<em>x_i, y_i</em>):</p>\n\n<pre><code>import sympy\nfrom sympy.vector import CoordSys3D, gradient\n\nxi, yi, ri = sympy.symbols('xi yi ri', constant=True)\nR = CoordSys3D('R')\nf1 = ((R.x-xi)**2 + (R.y-yi)**2 - ri**2)**2\nfprime = gradient(f1)\n</code></pre>\n\n<p>Which gives you</p>\n\n<pre><code>In [25]: fprime\nOut[25]: ((4*R.x - 4*xi)*(-ri**2 + (R.x - xi)**2 + (R.y - yi)**2))*R.i + ((4*R.y - 4*yi)*(-ri**2 + (R.x - xi)**2 + (R.y - yi)**2))*R.j\n</code></pre>\n\n<p>This is a 2D vector field. We now want to find <code>R.x</code> and <code>R.y</code> so, that both components are zero. So first I solve the <code>R.i</code> component for zero:</p>\n\n<pre><code>sympy.solve(fprime.components[R.i], R.x)\n</code></pre>\n\n<p>yielding</p>\n\n<pre><code>[xi,\n xi - sqrt((-R.y + ri + yi)*(R.y + ri - yi)),\n xi + sqrt((-R.y + ri + yi)*(R.y + ri - yi))]\n</code></pre>\n\n<p>I just chose one solution from this, you can later verify if this is indeed a minimum. So now we need to plug this in the <code>R.j</code> component to get the equation for <code>R.y</code>:</p>\n\n<pre><code>eq = fprime.components[R.j].subs(R.x, xi - sympy.sqrt((-R.y + ri + yi)*(R.y + ri - yi)))\n</code></pre>\n\n<p>Solving this with </p>\n\n<pre><code>sympy.solve(eq3, R.y)\n</code></pre>\n\n<p>gives simply <code>y_i</code>, so we have our solution.</p>\n\n<p>I hope this outlines what you have to do and that I didn't make any mistakes as I'm no sympy expert. I'm open for constructive criticism here.</p>\n"}], "owner": {"reputation": 674, "user_id": 1811073, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17347e7edbad326a47aea734d98ff45d?s=128&d=identicon&r=PG", "display_name": "aweeeezy", "link": "https://stackoverflow.com/users/1811073/aweeeezy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545263692, "creation_date": 1545257833, "last_edit_date": 1545261354, "question_id": 53859913, "link": "https://stackoverflow.com/questions/53859913/sympy-find-point-minimizing-distance-to-three-circumferences", "title": "Sympy -- find point minimizing distance to three circumferences", "body": "<p>I've been experimenting with various techniques for finding a point <code>(x,y)</code> which minimizes the summed distances from <code>(x,y)</code> to the circumferences of three circles.</p>\n\n<p>The picture below shows an example arrangement of these circles and the positioning of <code>(x,y)</code> using the first three of four techniques. </p>\n\n<p><a href=\"https://i.stack.imgur.com/cMYGK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMYGK.png\" alt=\"demo\"></a></p>\n\n<p>I'm now trying a fourth technique described in <a href=\"https://math.stackexchange.com/questions/366894/closest-point-to-3-or-more-circles\">this stackexchange post</a>. In short, I'd like to use <code>sympy</code> to calculate the 1st-order derivative of a loss function to find its minima/maxima and then calculate the 2nd-order derivative to isolate the minima.</p>\n\n<p>This is the loss function:</p>\n\n<p>$E(x,y) = \\sum_i \\big( (x-x_i)^2 + (y-y_i)^2 - r_i^2 \\big)^2$</p>\n\n<p>This is the 1st-order derivative:</p>\n\n<p>$E'(x,y) = \\sum_i \\frac{y-y_i}{-x+x_i}$</p>\n\n<p>Here is the code that attempts to solve the 1st-order derivative equation for <code>y</code> in terms of <code>x</code> and then substitute that in to solve for <code>x</code>:</p>\n\n<pre><code>x, y = sympy.symbols('x y')\nx1, y1 = 0, 0\nx2, y2 = 3, 0\nx3, y3 = 2, 3\n\ndef fprime(x,y):\n    return (y-y1)/(-x+x1) + (y-y2)/(-x+x2) + (y-y3)/(-x+x3)\n\nsols = sympy.solve(fprime(x,y), y)\ny = sols[0]\nx_sols = sympy.solve(fprime(x,y), x)\ny_sols = []\nfor x_sol in x_sols:\n    y_sols.append(y.evalf(subs={x:x_sol}))\n\nfor x,y in zip(x_sols, y_sols):\n    plt.scatter(float(x), float(y)) \n</code></pre>\n\n<p>I don't believe I'm evaluating/solving these equations properly because the generated points are very wrong (see the below image)</p>\n\n<p><a href=\"https://i.stack.imgur.com/CTW3p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CTW3p.png\" alt=\"enter image description here\"></a></p>\n\n<p>To demonstrate that the gradient is not dependent on the radius of the circles:</p>\n\n<pre><code>In [2]: x,y = sympy.symbols('x y')\n\nIn [3]: xi, yi, ri = sympy.symbols('xi yi ri', constant=True)\n\nIn [4]: def f(x,y):\n   ...:     return ((x-xi)**2 + (y-yi)**2 - ri**2)**2\n   ...:\n   ...:\n\nIn [5]: sympy.idiff(f(x,y), x, y)\nOut[5]: (y - yi)/(-x + xi)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1545257879, "post_id": 53859894, "comment_id": 94567812, "body": "Don&#39;t delete items from a list while iterating; plenty of duplicates for the strange behaviour but I think that one best illustrates the skipping of elements. Build a new list of things you want to <i>keep</i> rather than delete elements."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1545257887, "post_id": 53859894, "comment_id": 94567815, "body": "don&#39;t modify (the shape of) what you&#39;re iterating through!"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1545258021, "post_id": 53859894, "comment_id": 94567857, "body": "@ParitoshSingh don&#39;t modify the <i>length</i> of what you are iterating through. Maybe I have a list of integers and I want to multiply them all by 2; I wouldn&#39;t have this issue."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1545258041, "post_id": 53859894, "comment_id": 94567862, "body": "Touche. Not quite as catchy though. :P"}, {"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1545258160, "post_id": 53859894, "comment_id": 94567912, "body": "Instead of removing unwanted items from the original list, add wanted items to a new list. As others have said, don&#39;t iterate and remove from a collection at the same time, if you do so you desserve all kinds of nasty things, and you&#39;re getting them. If you need na explanation of why and what is happening, let me know."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 1, "creation_date": 1545258309, "post_id": 53859894, "comment_id": 94567961, "body": "@PedroRodrigues that is already covered fully in the duplicate I have flagged"}, {"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1545297807, "post_id": 53859894, "comment_id": 94578734, "body": "@roganjosh Yep, stackoverflow was outdated on my side. Thumbs up"}], "answers": [{"comments": [{"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 1, "creation_date": 1545258445, "post_id": 53860003, "comment_id": 94567998, "body": "Though <code>None</code> is falsy, so if much else! To include only <code>None</code>, an explicit <code>if d[&#39;meanScore&#39;] is not None</code> is needed."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1545258455, "post_id": 53860003, "comment_id": 94568006, "body": "Heads up though, that condition would falsify empty strings/0/empty lists and so on."}, {"owner": {"reputation": 681, "user_id": 6683985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SJocR.jpg?s=128&g=1", "display_name": "Remy J", "link": "https://stackoverflow.com/users/6683985/remy-j"}, "reply_to_user": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1545258583, "post_id": 53860003, "comment_id": 94568047, "body": "@jmd_dk You&#39;re correct. I&#39;ll fix that."}], "tags": [], "owner": {"reputation": 681, "user_id": 6683985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SJocR.jpg?s=128&g=1", "display_name": "Remy J", "link": "https://stackoverflow.com/users/6683985/remy-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1545259453, "last_edit_date": 1545259453, "creation_date": 1545258276, "answer_id": 53860003, "question_id": 53859894, "link": "https://stackoverflow.com/questions/53859894/looping-over-list-of-dicts-and-removing-elements/53860003#53860003", "title": "Looping over list of dicts and removing elements", "body": "<pre><code>lists = [{\"genre\": \"XY\", \"meanScore\": 'Float'}, {\"genre\": \"XY\", \"meanScore\": None}]\n[d for d in lists if d['meanScore'] is not None]\n</code></pre>\n\n<p>This will give the following output</p>\n\n<pre><code>[{'meanScore': None, 'genre': 'XY'}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1545258383, "creation_date": 1545258383, "answer_id": 53860019, "question_id": 53859894, "link": "https://stackoverflow.com/questions/53859894/looping-over-list-of-dicts-and-removing-elements/53860019#53860019", "title": "Looping over list of dicts and removing elements", "body": "<p>A more pythonic approach to these type of problems is to think of what you want to \"keep\" instead.</p>\n\n<pre><code>jsd = json.loads(r.text)  \nlists = jsd[\"data\"][\"User\"][\"stats\"][\"favouredGenresOverview\"]\n\noutput_list = [entry for entry in lists if entry[\"meanScore\"] is not None]\n</code></pre>\n\n<p>You can get fancier with a generator and slicing if you want to do it inplace.</p>\n\n<pre><code>lists[:] = (entry for entry in lists if entry[\"meanScore\"] is not None)\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 7746905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91ac31143009ef2805e37d6010ee3ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Sito", "link": "https://stackoverflow.com/users/7746905/sito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1545263679, "accepted_answer_id": 53860019, "answer_count": 2, "score": 1, "last_activity_date": 1545259453, "creation_date": 1545257748, "question_id": 53859894, "link": "https://stackoverflow.com/questions/53859894/looping-over-list-of-dicts-and-removing-elements", "closed_reason": "Duplicate", "title": "Looping over list of dicts and removing elements", "body": "<p>I'm facing a problem that I don't really understand. Please take a look at the given code, where the two relevant variables have the following form:</p>\n\n<pre><code>jsd = {\"data\": {\"User\": .....}}\nlists = [{\"genre\": \"XY\", \"meanScore\": Float},..., {\"genre\": \"XY\", \"meanScore\": Float}]\n</code></pre>\n\n<p>The code is:</p>\n\n<pre><code>jsd = json.loads(r.text)  \nlists = jsd[\"data\"][\"User\"][\"stats\"][\"favouredGenresOverview\"]\nfor k, entry in enumerate(lists):\n    if entry[\"meanScore\"] == None:\n        del(lists[k])\n</code></pre>\n\n<p>The goal is to remove all the <code>dict</code>'s in <code>lists</code> where the key <code>meanScore</code> is equal to <code>None</code>. The problem is that for some reason the loop only runs over half of <code>lists</code>... I think I've read somewhere on the site that when trying to remove something from a <code>dict</code> one should use <code>pop</code>, but I honestly wasn't able to figure out how to that or if it even was relevant to my question (As far as I understand I'm removing list elements).</p>\n\n<p>Can someone maybe help?</p>\n"}, {"tags": ["python", "datetime", "matplotlib", "type-conversion"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545262881, "post_id": 53859886, "comment_id": 94569309, "body": "The link suggests <code>Series.dt.strftime</code>, not <code>Series.strftime</code>. But I doubt that is of use if you have a string already. So what about <code>pandas.to_datetime()</code>?"}, {"owner": {"reputation": 63, "user_id": 9801252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Minutia", "link": "https://stackoverflow.com/users/9801252/minutia"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545263860, "post_id": 53859886, "comment_id": 94569536, "body": "Good suggestion. I got it working with <code>data[&#39;Time&#39;] = pd.to_datetime(data[&#39;Time&#39;], format=&#39;%H:%M:%S.%f&#39;)[:-3].dt.time</code> but theres sometimes weird formatting.. Ill put date the output with an image in the original post."}, {"owner": {"reputation": 63, "user_id": 9801252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Minutia", "link": "https://stackoverflow.com/users/9801252/minutia"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545264120, "post_id": 53859886, "comment_id": 94569597, "body": "any idea why there are NaN values?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545264333, "post_id": 53859886, "comment_id": 94569647, "body": "What do you need the <code>[:-3].dt.time</code> for at the end? Does it change anything when you leave that out?"}, {"owner": {"reputation": 63, "user_id": 9801252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Minutia", "link": "https://stackoverflow.com/users/9801252/minutia"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1545327728, "post_id": 53859886, "comment_id": 94594422, "body": "It originally complained about the string format not matching. Removing the [:-3] fixes the NaN. Looks like it was removing the minute values when times were <code>19:02:01</code> making the time  invalid for the string formatter. Many thanks!"}], "owner": {"reputation": 63, "user_id": 9801252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Minutia", "link": "https://stackoverflow.com/users/9801252/minutia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545264096, "creation_date": 1545257688, "last_edit_date": 1545264096, "question_id": 53859886, "link": "https://stackoverflow.com/questions/53859886/how-to-convert-time-format-dayofyearhourminute-000", "title": "How to Convert Time Format DayOfyear:Hour:Minute.000", "body": "<p>I want to plot data where Y is some position and X is time. The time is in the format <code>240:19:35:50.000</code> (Julian:Hour:Minute:Second.Milliseconds). When I try to plot it outputs the error <code>ValueError: Error parsing datetime string \"240:19:35:50.000\" at position 3</code></p>\n\n<p>I have tried using string formatters such as strftime but had no success wiith:</p>\n\n<pre><code>time = time.strftime('%H:%M:%S.%f')[:-3]\n</code></pre>\n\n<p>here is a snippet of my code:</p>\n\n<pre><code># I have no need for the julian portion I removed it\ntime = data['Time'].str.slice(start=4)\ntime = time.strftime('%H:%M:%S.%f')[:-3]\npitchPlot = plt.subplot(7, 1, 3)\nplt.plot((time), data['Pitch Stick Position(IN)'])\n</code></pre>\n\n<p>This outputs: AttributeError: 'Series' object has no attribute 'strftime' which is odd because it shows in <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.strftime.html\" rel=\"nofollow noreferrer\">documentation</a> it exists.</p>\n\n<p>What I would like is to convert this to H:Minutes:Seconds:Milliseconds as a datetime object so I can plot it using matplotlib.</p>\n\n<p>Update: I tried using to_datetime as suggested with </p>\n\n<pre><code>data['Time'] = pd.to_datetime(data['Time'], format='%H:%M:%S.%f')[:-3].dt.time\n</code></pre>\n\n<p>but the output is strange. Here are the last 6 original inputs</p>\n\n<pre><code>index    time\n10165    240:19:35:49.000\n10166    240:19:35:49.200\n10167    240:19:35:49.400\n10168    240:19:35:49.600\n10169    240:19:35:49.800\n10170    240:19:35:50.000\n</code></pre>\n\n<p>and the last 6 outputs:</p>\n\n<pre><code>index    time converted\n10165    19:35:49\n10166    19:35:49.200000\n10167    19:35:49.400000\n10168    NaN\n10169    NaN\n10170    NaN\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 4922364, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9iR-kNVu834/AAAAAAAAAAI/AAAAAAAAAC4/LpHxHa1_QIg/photo.jpg?sz=128", "display_name": "Peter Emil", "link": "https://stackoverflow.com/users/4922364/peter-emil"}, "is_accepted": false, "score": 0, "last_activity_date": 1545261118, "creation_date": 1545261118, "answer_id": 53860443, "question_id": 53859873, "link": "https://stackoverflow.com/questions/53859873/how-to-analyze-if-the-email-is-registered-using-the-python-requests-without-rend/53860443#53860443", "title": "How to analyze if the email is registered using the python requests without rendering the html?", "body": "<p>You can use Python requests to do this only if the page that you are trying to view is server-rendered. Otherwise, the page displays messages by running JavaScript code. You must run this JavaScript code to get the message. If you're looking to do this, I recommend you use <a href=\"https://www.seleniumhq.org/\" rel=\"nofollow noreferrer\">Selenium</a></p>\n"}, {"comments": [{"owner": {"reputation": 306, "user_id": 9208833, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027477567357539/picture?type=large", "display_name": "Davi Luis", "link": "https://stackoverflow.com/users/9208833/davi-luis"}, "edited": false, "score": 0, "creation_date": 1545421757, "post_id": 53862297, "comment_id": 94627081, "body": "It is possible to use this technique or similar for scraping of sites that do not use asp.net?"}, {"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "reply_to_user": {"reputation": 306, "user_id": 9208833, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027477567357539/picture?type=large", "display_name": "Davi Luis", "link": "https://stackoverflow.com/users/9208833/davi-luis"}, "edited": false, "score": 0, "creation_date": 1545442379, "post_id": 53862297, "comment_id": 94631453, "body": "yes. The basic requirement of every website is to allow users to access it with a browser. That means if they do not add incredible protection, you can use this way to solve most of problems. @DaviLuis"}, {"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "reply_to_user": {"reputation": 306, "user_id": 9208833, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027477567357539/picture?type=large", "display_name": "Davi Luis", "link": "https://stackoverflow.com/users/9208833/davi-luis"}, "edited": false, "score": 0, "creation_date": 1545442434, "post_id": 53862297, "comment_id": 94631459, "body": "Extra mention: If they use JavaScript you can use requests_html. For cloudflare, use cfscrape. But few websites will use some technique to verify whether you are using a real browser(they even can know if you are using selenium driver).  @DaviLuis"}], "tags": [], "owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "is_accepted": true, "score": 1, "last_activity_date": 1545295635, "last_edit_date": 1545295635, "creation_date": 1545278942, "answer_id": 53862297, "question_id": 53859873, "link": "https://stackoverflow.com/questions/53859873/how-to-analyze-if-the-email-is-registered-using-the-python-requests-without-rend/53862297#53862297", "title": "How to analyze if the email is registered using the python requests without rendering the html?", "body": "<p>You can load full form and remove you don't need. Note: What i said is so simple because this job doesn't contain any tricks. What you need to do is compare with the browser request content again and again, then find out the necessary columns.</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nheaders = {\n    'Origin': 'www.infojobs.com.br',\n    'Upgrade-Insecure-Requests': '1',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36',\n    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',\n    'Accept-Encoding': 'gzip, deflate, br',\n    'Accept-Language': 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7',\n    \"Referer\": \"https://www.infojobs.com.br/RememberPass.aspx\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n}\n\ndef Candidatos(email,data):\n    data[\"cRemPassCandidate$txtEmail\"]  = email\n    data[\"cRemPassCandidate$rbtlstSend\"] = \"1\"\n\n    del data[\"cRemPassCandidate$btnStep2\"]\n    del data[\"cRemPassEmailCompany$btnEmailCompany\"]\n\n    return data\n\ndef Empresas(email,CNPJ,data):\n    data[\"cRemPassEmailCompany$txtEmail\"] = email\n    data[\"cRemPassEmailCompany$txtCPNJ\"] = CNPJ\n    data[\"cRemPassCandidate$rbtlstSend\"] = \"1\"\n\n    del data[\"cRemPassCandidate$btnStep2\"]\n    del data[\"cRemPassCandidate$btnStep1\"]\n\n    return data\n\n\nwith requests.Session() as s:\n    s.verify = False\n    s.headers = headers\n    url = 'https://www.infojobs.com.br/RememberPass.aspx'\n\n    response = s.get(url)\n    soup = BeautifulSoup(response.content,\"lxml\")\n    data = {ele.get(\"name\"):ele.get(\"value\") if ele.get(\"value\") else \"\" for ele in soup.find_all(\"input\")}\n    data = Candidatos(email=\"k@outlook.com\",data=data)\n    resp = s.post(url,data)\n\n    assert \"Infelizmente n\u00e3o temos o seu e-mail. Clique no link abaixo e tente novamente.\".encode() in resp.content\n\n    response = s.get(url)\n    soup = BeautifulSoup(response.content,\"lxml\")\n    data = {ele.get(\"name\"):ele.get(\"value\") if ele.get(\"value\") else \"\" for ele in soup.find_all(\"input\")}\n    data = Empresas(email=\"k@outlook.com\",CNPJ=\"123\",data=data)\n    resp = s.post(url,data)\n\n    assert \"nenhuma empresa cadastrada com estes dados em nossa base de dados\".encode() in resp.content\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 9208833, "user_type": "registered", "profile_image": "https://graph.facebook.com/1027477567357539/picture?type=large", "display_name": "Davi Luis", "link": "https://stackoverflow.com/users/9208833/davi-luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 53862297, "answer_count": 2, "score": 0, "last_activity_date": 1545295635, "creation_date": 1545257601, "question_id": 53859873, "link": "https://stackoverflow.com/questions/53859873/how-to-analyze-if-the-email-is-registered-using-the-python-requests-without-rend", "title": "How to analyze if the email is registered using the python requests without rendering the html?", "body": "<p>I am making a code in python that analyzes if email already is registered in the following site: <a href=\"https://www.infojobs.com.br/RememberPass.aspx\" rel=\"nofollow noreferrer\">https://www.infojobs.com.br/RememberPass.aspx</a></p>\n\n<p>For the forgotten password it is possible to do because the site shows when the email does not exist, if email is wrong. But analyze this process with the python requests.</p>\n\n<pre><code> import requests\n    import json\n\n    headers = {\n    'authority': 'www.infojobs.com.br',\n    'upgrade-insecure-requests': '1',\n    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36',\n    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',\n    'accept-encoding': 'gzip, deflate, br',\n    'accept-language': 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7',\n}\n\n    data = {\n    '__VIEWSTATEGENERATOR': 'D4C35ECA',\n    'cRemPassEmailCompany$txtEmail':'' ,\n    'cRemPassEmailCompany$txtCPNJ':'' ,\n    'cRemPassCandidate$txtEmail': 'daviluis400@gmail.com',\n    'cRemPassCandidate$btnStep1': 'Enviar',\n    'cRemPassCandidate$txtCPF':'',\n    'cRemPassCandidate$rbtlstSend': '1',\n}\n\n     response = requests.post('https://www.infojobs.com.br/RememberPass.aspx', \n     headers=headers,data=data)\n    response2 = json.loads(response.text)\n</code></pre>\n\n<p>I wanted to check email without rendering html.</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1545257710, "post_id": 53859872, "comment_id": 94567745, "body": "Think about the ends of the string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545260013, "post_id": 53859872, "comment_id": 94568526, "body": "Gotta give a -1 for not understanding the correct principle involved."}, {"owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 1, "creation_date": 1545260820, "post_id": 53859872, "comment_id": 94568764, "body": "@sln -1 A negative rating because I didn&#39;t understand something? I thought that&#39;s what it&#39;s about when you ask questions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545261189, "post_id": 53859872, "comment_id": 94568865, "body": "Yeah, it&#39;s not the question, it&#39;s the answer. I judge posters by their selections to see if they understand the choices they&#39;ve made."}, {"owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 0, "creation_date": 1545262030, "post_id": 53859872, "comment_id": 94569082, "body": "@sln Ah, i see. I found your answer to my question helpfull as well, but CertainPerformance&#39;s answer kind of gave me an intuition why (?&lt;!\\S)\\d(?!\\S) matches BOS and EOS, whereas (?&lt;=\\s)\\d(?=\\s) does not. Do you have an alternative explanation for this?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545262142, "post_id": 53859872, "comment_id": 94569103, "body": "Maybe you want to follow the conversation below."}], "answers": [{"comments": [{"owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 0, "creation_date": 1545259110, "post_id": 53859910, "comment_id": 94568240, "body": "Thanks a lot! Given the string &quot;1 2&quot; I thought that the end of the line is seen as  &#39;something else than a whitespace&#39; and that therefore (?!\\S) should be False."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545259893, "post_id": 53859910, "comment_id": 94568495, "body": "This can&#39;t be generalized as  true. Positive assertions don&#39;t necessarily require a character to exist. Neither positive nor negative has a property like that..."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1545260559, "post_id": 53859910, "comment_id": 94568683, "body": "@sln Of course, if OP was using something that didn&#39;t consume characters like <code>\\b</code> / <code>\\B</code> or another lookahead, that&#39;d be true, but OP is using <code>\\s</code> and <code>\\S</code>, which matches a character - so, the positive lookarounds require the characters being looked for to exist, while the negative lookarounds don&#39;t. (if no characters are being looked for at all, that&#39;s a separate category)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545261083, "post_id": 53859910, "comment_id": 94568831, "body": "Not true still. The OP&#39;s negative assertions <i>do</i> require the character exists, it must be a whitespace. So, you see, it isn&#39;t the assertion by itself that is the difference."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1545261327, "post_id": 53859910, "comment_id": 94568901, "body": "@sln What do you mean? The negative lookarounds <i>don&#39;t</i> require the character to exist - eg, with negative lookbehind and lookahead only, a string containing <code>1</code> and nothing else is matched <a href=\"https://regex101.com/r/tjYc1o/2\" rel=\"nofollow noreferrer\">regex101.com/r/tjYc1o/2</a> (no whitespaces) Switch the <code>\\S</code>s in the lookarounds for <code>\\s</code> and the same thing occurs - the digit is still matched, because the lookarounds fail"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545261406, "post_id": 53859910, "comment_id": 94568920, "body": "Do, I said do <code>OP&#39;s negative assertions do require the character exists</code>"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1545261589, "post_id": 53859910, "comment_id": 94568975, "body": "@sln But negative lookaround does not require any character to exist. For example, <code>(?&lt;!\\S)(?!\\S)</code> matches the empty string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545261877, "post_id": 53859910, "comment_id": 94569037, "body": "So, then it&#39;s not the inherent property of negative assertions that control any requirements that a character exist. No, the assertion doesn&#39;t have that ability, it&#39;s what&#39;s in the assertion that controls the outcome."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545261962, "post_id": 53859910, "comment_id": 94569065, "body": "A specific outcome like whitespace will satisfy both <code>(?&lt;!\\S)</code> and <code>(?&lt;=\\s)</code> so, that&#39;s not the difference."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1545262747, "post_id": 53859910, "comment_id": 94569266, "body": "@sln I don&#39;t understand the problem you&#39;re having with it. The answer, as in the question, is about the situation when positive or negative lookaround contains a character. As you can see in the first comment, I&#39;m perfectly aware that there can be lookarounds that don&#39;t match characters, but the question was not asking about that, nor did my answer say anything about that. In the case that the lookarounds are matching characters, which is what the question is about and is what I answered, positive lookarounds require that some characters being looked for exist, while negative lookarounds don&#39;t"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545262943, "post_id": 53859910, "comment_id": 94569325, "body": "We&#39;re going in a loop here, outside of BOS/EOS, this <code>(?!\\S)</code> requires that a character exist, so does <code>(?=\\s)</code>. So, it has nothing to do with negative/positive assertions."}, {"owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 0, "creation_date": 1545265630, "post_id": 53859910, "comment_id": 94569922, "body": "So as long as not at the end of a string positive as well as negative lookaheads (using \\s) decide on the basis of an existing character if they pass or fail. But at the last position of a string negative lookaheads of this kind always pass, whereas positive lookaheads of this kind always fail. Did I get it right now?"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1545257815, "creation_date": 1545257815, "answer_id": 53859910, "question_id": 53859872, "link": "https://stackoverflow.com/questions/53859872/whats-the-difference-between-the-regular-expressions-s-d-s-and-s/53859910#53859910", "title": "Whats the difference between the regular expressions (?&lt;=\\s)\\d(?=\\s) and (?&lt;!\\S)\\d(?!\\S)", "body": "<p>One difference is that positive lookbehind and lookahead require those characters being looked for to exist, whereas negative lookaround does not. For example</p>\n\n<pre><code>1 2\n</code></pre>\n\n<p>will have 2 matches by</p>\n\n<pre><code>(?&lt;!\\S)\\d(?!\\S)\n</code></pre>\n\n<p>but no matches by</p>\n\n<pre><code>(?&lt;=\\s)\\d(?=\\s)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/tjYc1o/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/tjYc1o/1</a></p>\n\n<p><code>(?=\\s)</code> requires the digit to be followed by a space character, so the digit will not be matched if the digit is at the end of the string, but if <code>(?!\\S)</code> was used instead, the negative lookahead would <em>pass</em>, because the digit at the end of the string is not followed by a non-whitespace character.</p>\n"}, {"comments": [{"owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 0, "creation_date": 1545266190, "post_id": 53859942, "comment_id": 94570048, "body": "Has the negative assertion really to be used on a negated character class for your statement to be true? (?&lt;!\\s)\\d(?!\\s) uses negative assertions on a non-negated class, but nevertheless matches BOS/EOS in the string &quot;1&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "edited": false, "score": 0, "creation_date": 1545272213, "post_id": 53859942, "comment_id": 94571255, "body": "@zwithouta - This is not an easy topic for beginners to understand. The little regex <i>magic</i> comes from a <i>negated class</i> wrapped inside a negative assertion. It&#39;s not <i>just</i> the assertion. This is about matching something in mid-string, like delimiters. A positive class is too limited to define what you don&#39;t want vs. what you do, so use a negated class to define specific things <i>you want</i>. For example <code>(?![^abc])</code> where a or b or c is a delimiter (in text) that you require, OR the EOS/BOS. Remember that <code>(?!\\s)</code> is really <code>(?!(?=\\s))</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1545272865, "last_edit_date": 1545272865, "creation_date": 1545257997, "answer_id": 53859942, "question_id": 53859872, "link": "https://stackoverflow.com/questions/53859872/whats-the-difference-between-the-regular-expressions-s-d-s-and-s/53859942#53859942", "title": "Whats the difference between the regular expressions (?&lt;=\\s)\\d(?=\\s) and (?&lt;!\\S)\\d(?!\\S)", "body": "<pre><code> #Why is the expression\n (?&lt;= \\s )\n \\d\n (?= \\s )\n\n #not the same as the expression\n (?&lt;! \\S )\n \\d\n (?! \\S )\n</code></pre>\n\n<p>When you use a negative assertion on a <em>negated class</em> it will also match<br>\nat the BOS and EOS positions, whereas the positive assertion will not.</p>\n"}], "owner": {"reputation": 788, "user_id": 10680954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05559c6476d35e28aeb918770465f81f?s=128&d=identicon&r=PG&f=1", "display_name": "zwithouta", "link": "https://stackoverflow.com/users/10680954/zwithouta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 53859910, "answer_count": 2, "score": 0, "last_activity_date": 1545272865, "creation_date": 1545257597, "question_id": 53859872, "link": "https://stackoverflow.com/questions/53859872/whats-the-difference-between-the-regular-expressions-s-d-s-and-s", "title": "Whats the difference between the regular expressions (?&lt;=\\s)\\d(?=\\s) and (?&lt;!\\S)\\d(?!\\S)", "body": "<p>Why is the expression</p>\n\n<pre><code>(?&lt;=\\s)\\d(?=\\s)\n</code></pre>\n\n<p>not the same as the expression</p>\n\n<pre><code>(?&lt;!\\S)\\d(?!\\S)\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["python", "mfc", "pywinauto"], "comments": [{"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1545268181, "post_id": 53859821, "comment_id": 94570439, "body": "Windows standard controls support UI Automation. MFC has C++ wrapper for these controls, they are the same thing, as far as python is concerned. A custom grid control may not support UI Automation."}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "edited": false, "score": 0, "creation_date": 1545291035, "post_id": 53859821, "comment_id": 94575767, "body": "Native custom grid can be handled by creating custom wrapper and by handling custom window messages on app side. We did this on my previous job, but this work can\u2019t be published. Is there any more details on custom grids? Maybe these grids have open source implementation?"}, {"owner": {"reputation": 128, "user_id": 9085152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed2190de7430a96e84dd9c5136462db?s=128&d=identicon&r=PG&f=1", "display_name": "Waterworks", "link": "https://stackoverflow.com/users/9085152/waterworks"}, "edited": false, "score": 0, "creation_date": 1545333897, "post_id": 53859821, "comment_id": 94596951, "body": "below is the swapy spy and the properties looks like on the custom grids"}, {"owner": {"reputation": 128, "user_id": 9085152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed2190de7430a96e84dd9c5136462db?s=128&d=identicon&r=PG&f=1", "display_name": "Waterworks", "link": "https://stackoverflow.com/users/9085152/waterworks"}, "edited": false, "score": 0, "creation_date": 1545334670, "post_id": 53859821, "comment_id": 94597282, "body": "&#39;Access names : [u&#39;17&#39;, u&#39;CSCtrlGrille&#39;] Class : CSCtrlGrille ClientRects : [&lt;RECT L0, T0, R994, B589&gt;] ControlID : 68858368 ExStyle : 0 Fonts : [&lt;LOGFONTW &#39;MS Shell Dlg&#39; -11&gt;] FriendlyClassName : CSCtrlGrille handle : 3017350 MenuItems : [] pwa_type : &lt;class &#39;pywinauto.controls.HwndWrapper.HwndWrapper&#39;&gt; Rectangle : (L1058, T298, R2068, B903) Style : 1345388544 Texts : [&#39;&#39;] UserData : 0&#39;  i want to handle the grid as rows and columns. traverse through all elements and find the records or click on records."}, {"owner": {"reputation": 128, "user_id": 9085152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed2190de7430a96e84dd9c5136462db?s=128&d=identicon&r=PG&f=1", "display_name": "Waterworks", "link": "https://stackoverflow.com/users/9085152/waterworks"}, "edited": false, "score": 0, "creation_date": 1545334747, "post_id": 53859821, "comment_id": 94597322, "body": "from pywinauto.application import Application  app = Application().Start(cmd_line=....&quot;&#39;) afxfa = app[.....] afxfa.Wait(&#39;ready&#39;) csctrlgrille = afxfa[u&#39;17&#39;] csctrlgrille.RightClick()  app.Kill_()"}], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "is_accepted": true, "score": 1, "last_activity_date": 1545257857, "creation_date": 1545257857, "answer_id": 53859918, "question_id": 53859821, "link": "https://stackoverflow.com/questions/53859821/pywinauto-working-with-windows-mfc-controls/53859918#53859918", "title": "pywinAuto - working with Windows MFC controls", "body": "<p>Based on <a href=\"https://pywinauto.readthedocs.io/en/latest/getting_started.html\" rel=\"nofollow noreferrer\">https://pywinauto.readthedocs.io/en/latest/getting_started.html</a>:</p>\n\n<p>The list of supported accessibility technologies on Windows:</p>\n\n<ul>\n<li>Win32 API (backend=\"win32\") - a default backend for now\n\n<ul>\n<li>MFC, VB6, VCL, simple WinForms controls and most of the old legacy apps</li>\n</ul></li>\n<li>MS UI Automation (backend=\"uia\")\n\n<ul>\n<li>WinForms, WPF, Store apps, Qt5, browsers</li>\n</ul></li>\n</ul>\n\n<p>Also, check <a href=\"https://stackoverflow.com/users/3648361/vasily-ryabov\">Vasily Ryabov\n</a>(pywinauto developer)'s answer from this post: <a href=\"https://stackoverflow.com/questions/32051115/free-automated-testing-tools-for-mfc-based-gui-app/32768865#32768865\">Free automated Testing tools for MFC based GUI App</a></p>\n"}], "owner": {"reputation": 128, "user_id": 9085152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed2190de7430a96e84dd9c5136462db?s=128&d=identicon&r=PG&f=1", "display_name": "Waterworks", "link": "https://stackoverflow.com/users/9085152/waterworks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 53859918, "answer_count": 1, "score": 0, "last_activity_date": 1545257857, "creation_date": 1545257299, "question_id": 53859821, "link": "https://stackoverflow.com/questions/53859821/pywinauto-working-with-windows-mfc-controls", "title": "pywinAuto - working with Windows MFC controls", "body": "<p>have anyone explored pywinAuto works handling windows MFC contorols? my custom built application primarly on .net also uses technologies like MFC and C++ and pure custom grids. Wondering anyone have handled such complex apps with pywinAuto</p>\n"}, {"tags": ["python", "python-3.x", "macos", "encoding"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1545258452, "creation_date": 1545258452, "answer_id": 53860029, "question_id": 53859788, "link": "https://stackoverflow.com/questions/53859788/str-title-and-encoding-on-mac/53860029#53860029", "title": "str.title() and encoding on mac", "body": "<p>This is most likely a matter of whether the accented letters use combining accent characters or single accented code points. I don't know what file names you actually have on your system, but putting the names in NFC form (with single accented code points):</p>\n\n<pre><code>&gt;&gt;&gt; x = 'Lo\u00efc Rr'\n&gt;&gt;&gt; unicodedata.normalize('NFC', x).title()\n'Lo\u00efc Rr'\n</code></pre>\n\n<p>we get no capital after the accent, while in NFD form (with combining accent characters):</p>\n\n<pre><code>&gt;&gt;&gt; unicodedata.normalize('NFD', x).title()\n'Loi\\u0308C Rr'\n</code></pre>\n\n<p>we get the capital.</p>\n\n<p>It looks like <code>title()</code> thinks the combining character marks a word boundary. NFC normalization can help somewhat, but not for weird accent combinations for which a dedicated code point doesn't exist. For more robust handling, you may want to look for a more powerful Unicode handling library than Python's built-in string methods.</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1545260117, "post_id": 53860068, "comment_id": 94568560, "body": "<code>unicodedata.normalize</code> helps somewhat, but it won&#39;t do anything for accent combinations that don&#39;t have a dedicated code point."}], "tags": [], "owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "is_accepted": false, "score": 1, "last_activity_date": 1545259824, "last_edit_date": 1545259824, "creation_date": 1545258624, "answer_id": 53860068, "question_id": 53859788, "link": "https://stackoverflow.com/questions/53859788/str-title-and-encoding-on-mac/53860068#53860068", "title": "str.title() and encoding on mac", "body": "<p>We actually have two different strings:</p>\n\n<pre><code>In [1]: 'Lo\u00efc Rr'.encode()\nOut[1]: b'Lo\\xc3\\xafc Rr'\n\nIn [2]: 'Loi\u0308c Rr'.encode()\nOut[2]: b'Loi\\xcc\\x88c Rr'\n</code></pre>\n\n<p><code>\\xc3\\xaf</code> is <code>\u00ef</code> and <code>\\xcc\\x88</code> is <code>\u0308</code>, </p>\n\n<p><code>\\xcc\\x88</code> is recognized as punctuation, so that's the reason why <code>title()</code> capitalizes your letter.</p>\n\n<p>You can normalize your string with <a href=\"https://docs.python.org/3/library/unicodedata.html#module-unicodedata\" rel=\"nofollow noreferrer\"><code>unicodedata.normalize()</code></a>:</p>\n\n<pre><code>In [1]: import unicodedata\n\nIn [2]: 'Lo\u00efc Rr' == 'Loi\u0308c Rr'\nOut[2]: False\n\nIn [3]: unicodedata.normalize('NFC','Lo\u00efc Rr') == unicodedata.normalize('NFC','Loi\u0308c Rr')\nOut[3]: True\n\nIn [4]: unicodedata.normalize('NFD','Lo\u00efc Rr') == unicodedata.normalize('NFD','Loi\u0308c Rr')\nOut[4]: True\n\nIn [5]: unicodedata.normalize('NFD','Lo\u00efc Rr').title() == unicodedata.normalize('NFD','Loi\u0308c Rr').title()\nOut[5]: True\n\nIn [6]: unicodedata.normalize('NFD','Lo\u00efc Rr').title() == unicodedata.normalize('NFD','Loi\u0308c Rr').title()\nOut[6]: True\n</code></pre>\n"}], "owner": {"reputation": 12038, "user_id": 149237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a273bac0c6bab0a00de720cc67b2b150?s=128&d=identicon&r=PG", "display_name": "gregseth", "link": "https://stackoverflow.com/users/149237/gregseth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1545259824, "creation_date": 1545257113, "question_id": 53859788, "link": "https://stackoverflow.com/questions/53859788/str-title-and-encoding-on-mac", "title": "str.title() and encoding on mac", "body": "<p>Let's say I have 3 folders named \"Gr\u00e9gory MM\", \"Lo\u00efc RR\" and \"Dani\u00e8le RR\" (spaces and accented letters). </p>\n\n<p>Then I use the following code to get all the names with only the first letter capitalized:</p>\n\n<pre><code>import glob\nnames = [ x.title() for x in glob.glob('*') ]\n</code></pre>\n\n<p>If the folders were created with <code>mkdir</code> from a Terminal I have the expected result:</p>\n\n<pre><code>&gt;&gt;&gt; names\n['Lo\u00efc Rr', 'Dani\u00e8le Rr', 'Gr\u00e9gory Mm']\n</code></pre>\n\n<p>If the folders were created from the Finder, I get:</p>\n\n<pre><code>&gt;&gt;&gt; names\n['Lo\u00efC Rr', 'Dani\u00e8Le Rr', 'Gr\u00e9Gory Mm']\n</code></pre>\n\n<p>The first letter after each accented letter is capitalized. Is that a known behavior? How can I avoid it?</p>\n\n<p>Python version 3.7.0<br>\nSystem: macOS Mojave 10.14.1<br>\nand <code>sys.getfilesystemencoding()</code> returns 'utf-8'</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "python-docx"], "answers": [{"comments": [{"owner": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1545322452, "post_id": 53863256, "comment_id": 94591818, "body": "Great @JPG, thanks. I only have one question, will I end having two files in the server?"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1545367012, "post_id": 53863256, "comment_id": 94605444, "body": "unfortunately, there will be two files :("}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1545369760, "post_id": 53863256, "comment_id": 94606047, "body": "@HugoLuisVillalobosCanto Now I&#39;ve updated the answer (check the snippet). Now, it wont create a new copy of the existing file"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1545369782, "post_id": 53863256, "comment_id": 94606050, "body": "Check <b>Reference 3</b>  for more details"}], "tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": false, "score": 1, "last_activity_date": 1545369712, "last_edit_date": 1545369712, "creation_date": 1545286109, "answer_id": 53863256, "question_id": 53859777, "link": "https://stackoverflow.com/questions/53859777/how-to-save-a-python-doc-object-to-a-drf-model/53863256#53863256", "title": "How to save a **python-doc** object to a **DRF** model", "body": "<p>Assuming you have a model as</p>\n\n<pre><code>class RoomingWordDocument(models.Model):\n    doc = models.FileField(null=True)\n    name = models.CharField(max_length=50)\n</code></pre>\n\n<p>Then try this snippet</p>\n\n<pre><code>class RoomingWordView(viewsets.ViewSet):\n    def list(self, request, *args, **kwargs):\n\n    # your list method\n    # return Response(documents_to_return)\n\n    def get_hotel_document(self, start_date, end_date, confirmed, hotel, bookings):\n        # your code\n        # ......\n\n        file_object = \"rooming_reports/Rooming {} {}-{}.docx\".format(hotel, start_date, end_date)\n        document.save(file_object)\n\n        <b># here is the new snippet\n        # found a simple way now\n        model_object = RoomingWordDocument.objects.create(name=\"somename\")\n        model_object.doc.name = file_object\n        model_object.save() # this is importent\n\n        <strike>try:</strike>\n            <strike>from StringIO import StringIO</strike>\n        <strike>except ImportError:</strike>\n            <strike>from io import StringIO</strike>\n        <strike>from django.core.files import File</strike>\n\n        <strike>fp = open(file_object, 'rb')</strike>\n        <strike>model_object = RoomingWordDocument.objects.create(name=\"somename\")</strike>\n        <strike>model_object.doc.save(file_object, File(fp))</strike></b>\n\n        return Response(\"some response\")</code></pre>\n\n<hr>\n\n<p><strong>Reference</strong><br>\n1. <a href=\"https://stackoverflow.com/a/18284900/8283848\"><strong><code>StringIo</code></strong> in Python2.X and 3.X</a><br>\n2. <a href=\"https://stackoverflow.com/questions/7514964/django-how-to-create-a-file-and-save-it-to-a-models-filefield\">How to create a file and save it to a model's FileField?</a><br>\n3. <a href=\"https://stackoverflow.com/a/10906037/8283848\">Set Django's FileField to an existing file</a></p>\n"}], "owner": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545369712, "creation_date": 1545257052, "question_id": 53859777, "link": "https://stackoverflow.com/questions/53859777/how-to-save-a-python-doc-object-to-a-drf-model", "title": "How to save a **python-doc** object to a **DRF** model", "body": "<p>I have a <strong>Django Rest Framework</strong> view that generates <strong>python-docx</strong> objects, and I want to save such files in a model. I read in the documentation of <strong>python-docx</strong> that you can specify a \"file-like\" object to save the object, but I don't understand what it means.</p>\n\n<p>This is my view:</p>\n\n<pre><code>class RoomingWordView(viewsets.ViewSet):\n    def list(self, request, *args, **kwargs):\n        ... some code\n        documents_to_return = self.get_hotel_document(start_date, end_date, confirmed, hotel, bookings)\n        return Response(documents_to_return)\n\n    def get_hotel_document(self, start_date, end_date, confirmed, hotel, bookings):\n        from django.core.files import File\n        from docx import Document\n        from docx.shared import Inches, Pt\n\n        document = Document()\n\n        section = document.sections[-1]\n        section.left_margin = Inches(0.5)\n        section.right_margin = Inches(0.5)\n\n        style = document.styles['Normal']\n        font = style.font\n        font.name ='Arial'\n        font.size = Pt(10)\n\n        document.add_heading(\"MY COMPANY\")\n        if confirmed:\n            document.add_paragraph(\"ROOMING LIST DEL 01-12-2018 AL 31-01-2019 INCLUYE RESERVAS CONFIRMADAS\")\n        else:\n            document.add_paragraph(\"ROOMING LIST DEL 01-12-2018 AL 31-01-2019\")\n        document.add_paragraph(\"Hotel: {}\".format(hotel))\n\n        table = document.add_table(rows=len(bookings), cols=10)\n        hdr_cells = table.rows[0].cells\n        hdr_cells[0].text = 'Booking'\n        hdr_cells[1].text = 'Reservado a'\n        hdr_cells[2].text = '# Pax'\n        hdr_cells[3].text = 'Agencia'\n        hdr_cells[4].text = 'Habs'\n        hdr_cells[5].text = 'Hab./Plan'\n        hdr_cells[6].text = 'Entrada'\n        hdr_cells[7].text = 'Salida'\n        hdr_cells[8].text = 'Confirmaci\u00f3n'\n        hdr_cells[9].text = 'Producci\u00f3n'\n\n        for cell in table.rows[0].cells:\n            paragraphs = cell.paragraphs\n            for paragraph in paragraphs:\n                for run in paragraph.runs:\n                    run.underline = True\n\n        for booking in bookings['bookings']:\n            row_cells = table.add_row().cells\n            row_cells[0].text = booking['booking']\n            row_cells[1].text = \"\\n\".join(booking['people'])\n            row_cells[2].text = booking['pax']\n            row_cells[3].text = booking['agency']\n            row_cells[4].text = booking['rooms']\n            row_cells[5].text = \"{}\\n{}\".format(booking['room_type'], booking['plan_type'])\n            row_cells[6].text = booking['check_in']\n            row_cells[7].text = booking['check_out']\n            row_cells[8].text = booking['confirmation']\n            row_cells[9].text = str(booking['production'])\n\n        for row in table.rows:\n            for cell in row.cells:\n                paragraphs = cell.paragraphs\n                for paragraph in paragraphs:\n                    for run in paragraph.runs:\n                        font = run.font\n                        font.size = Pt(8)\n\n        file_object = \"rooming_reports/Rooming {} {}-{}.docx\".format(hotel, start_date, end_date)\n        document.save(file_object)\n\n        return file_object\n</code></pre>\n\n<p>I want the view to save the resulting <strong>document</strong> object in a model called <code>RoomingWordDocument</code>, instead of saving it as a file, but I don't know how to assign <code>document</code> variable to <code>RoomingWordDocument.file</code> field.</p>\n"}, {"tags": ["python", "python-3.x", "algorithm", "list"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 4, "creation_date": 1545256986, "post_id": 53859754, "comment_id": 94567454, "body": "You probably mean the position in a <i>sorted</i> list?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1545257044, "post_id": 53859754, "comment_id": 94567480, "body": "Make a copy of the list, remove duplicates from it, and sort it. Then loop through the original list and get the index of each element in the sorted copy."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1545257082, "post_id": 53859754, "comment_id": 94567494, "body": "StackOverflow is not a free coding service. SO expects you to <a href=\"https://meta.stackoverflow.com/questions/261592\">try to solve your own problem first</a>. Please update your question to show what you have already tried in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For further information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and take the <a href=\"https://stackoverflow.com/tour\">tour</a> :)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1545257169, "post_id": 53859754, "comment_id": 94567526, "body": "I understand it can sometimes be hard to google when you don&#39;t already know the right technical term to search for, so here it is:  <b>argsort</b>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1545257224, "post_id": 53859754, "comment_id": 94567548, "body": "@PatrickArtner: Note that this introduces the complication of the values in the original <code>list</code> not being unique, and wants the duplicates to share a common index. The duplicate&#39;s input <code>list</code> was unique, so this didn&#39;t come up."}, {"owner": {"reputation": 1, "user_id": 8168374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09df891fdb15b319b3ac9662f1c406c8?s=128&d=identicon&r=PG&f=1", "display_name": "T.Gox", "link": "https://stackoverflow.com/users/8168374/t-gox"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1545257541, "post_id": 53859754, "comment_id": 94567677, "body": "@WillemVanOnsem Yes exact the position in a sorted list"}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 1, "creation_date": 1545257847, "post_id": 53859754, "comment_id": 94567798, "body": "Why do you want the output for <code>[2,2,6,5]</code> to be <code>[1,1,3,2]</code>. It should be <code>[1,1,4,3]</code> right? Because there are two 2&#39;s so they both get assigned rank 1. But they tied for first place, so the next value is in 3rd place, NOT second place. I mean, you can define the problem any way you want to, but it seems very odd to me, personally. Cheers."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1545257339, "post_id": 53859803, "comment_id": 94567594, "body": "The OP provided two inputs; the second of them isn&#39;t unique, and this won&#39;t work for it."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1545257390, "post_id": 53859803, "comment_id": 94567618, "body": "@ShadowRanger Actually, uniqueness isn&#39;t a problem here.  off-by-one-error is (the range is both augmented and offset)."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1545257444, "post_id": 53859803, "comment_id": 94567638, "body": "@ShadowRanger was still editing the post. Thanks for the comment though"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1545257565, "post_id": 53859803, "comment_id": 94567690, "body": "@mad_: You can simplify a bit by making <code>d = {x: i for i, x in enumerate(sorted(set(list1)), 1)}</code>; no need for <code>zip</code>, storing a separate <code>set</code>, <code>range</code>, <code>len</code>, etc. calls. <code>enumerate</code>+dict comprehension is both faster and cleaner."}, {"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1545258154, "post_id": 53859803, "comment_id": 94567910, "body": "Sorting a set is a valid operation? Actually curios now, as I thought it&#39;s not something you should do"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 3, "creation_date": 1545258232, "post_id": 53859803, "comment_id": 94567937, "body": "@user8408080 sets themselves can&#39;t be sorted in any meaningful way, but <code>sorted(some_set)</code> produces a sorted list with all the members of that set."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 1, "creation_date": 1545418926, "post_id": 53859803, "comment_id": 94626148, "body": "@user8408080: Expanding on @AdamSmith, <code>sorted</code> works on <i>any</i> input iterable (generators, strings, etc.), producing a brand new <code>list</code> already in sorted order. <code>sorted</code>, if implemented in Python, would be exactly equivalent to <code>def sorted(it, *, key=None, reverse=False): newlist = list(it); newlist.sort(key=key, reverse=reverse); return newlist</code>; the &quot;takes input, makes new sorted <code>list</code> output&quot; design makes it suitable for one-lining many things, e.g. in this case producing a sorted <code>list</code> of unique values in <code>list1</code> by adding on a conversion to <code>set</code> to uniquify before sorting."}, {"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1545420343, "post_id": 53859803, "comment_id": 94626614, "body": "Thank you very much for your response, I think it is all clear now"}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 3, "last_activity_date": 1545261555, "last_edit_date": 1545261555, "creation_date": 1545257222, "answer_id": 53859803, "question_id": 53859754, "link": "https://stackoverflow.com/questions/53859754/python-function-which-takes-a-list-as-input-and-returns-list-with-indices-of-sor/53859803#53859803", "title": "Python function which takes a list as input and returns list with indices of sorted elements", "body": "<p>Create a dict with key being elements of the list and value being the position. In order to get the unique value convert the list to set first</p>\n\n<pre><code>list1 = [2,2,6,5]\nd = {x: i for i, x in enumerate(sorted(set(list1)), start=1)}\n[d[k] for k in list1]\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[1, 1, 3, 2]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8168374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09df891fdb15b319b3ac9662f1c406c8?s=128&d=identicon&r=PG&f=1", "display_name": "T.Gox", "link": "https://stackoverflow.com/users/8168374/t-gox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1545281157, "creation_date": 1545256912, "last_edit_date": 1545281157, "question_id": 53859754, "link": "https://stackoverflow.com/questions/53859754/python-function-which-takes-a-list-as-input-and-returns-list-with-indices-of-sor", "title": "Python function which takes a list as input and returns list with indices of sorted elements", "body": "<p>I'm trying to make a python function in which I give a certain list, and it returns a list with sorted positions of elements (not starting with 0) .\nFor example:</p>\n\n<pre><code>list = [9,3,4,1]\nfunction(list) = [4,2,3,1]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>list = [2,2,6,5]\nfunction(list) = [1,1,3,2]\n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1545257715, "post_id": 53859738, "comment_id": 94567748, "body": "Isn&#39;t a <i>record</i> a line of <i>columns</i> ?"}, {"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1545258453, "post_id": 53859738, "comment_id": 94568005, "body": "You should do the recursion yourself, in other words run replace until it fails to replace."}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1545259541, "post_id": 53859738, "comment_id": 94568387, "body": "<code>str.replace</code> replaces all occurrences."}], "answers": [{"tags": [], "owner": {"reputation": 2007, "user_id": 599813, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e172019aa2744d4dbe5bbff918f79ace?s=128&d=identicon&r=PG", "display_name": "Victor &#39;Chris&#39; Cabral", "link": "https://stackoverflow.com/users/599813/victor-chris-cabral"}, "is_accepted": false, "score": 2, "last_activity_date": 1545260449, "last_edit_date": 1545260449, "creation_date": 1545258072, "answer_id": 53859956, "question_id": 53859738, "link": "https://stackoverflow.com/questions/53859738/using-regex-to-remove-multiple-occurrences-for-anything-in-parentheses/53859956#53859956", "title": "Using regex to remove multiple occurrences for anything in parentheses", "body": "<p>This might be impossible.  Consider that python does not support <a href=\"https://www.regular-expressions.info/recurse.html\" rel=\"nofollow noreferrer\">recursive regular expressions</a>. Given that balanced parenthesis is a form a recursive matching problem. The best you can do is make an assumption that parenthesis are balanced and match the first parenthesis to the last parenthesis. You could simply write a function to handle this. </p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10629708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e99740cf593c32a80d4780ce000920?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Julius", "link": "https://stackoverflow.com/users/10629708/alex-julius"}, "is_accepted": false, "score": 0, "last_activity_date": 1545337259, "creation_date": 1545337259, "answer_id": 53875498, "question_id": 53859738, "link": "https://stackoverflow.com/questions/53859738/using-regex-to-remove-multiple-occurrences-for-anything-in-parentheses/53875498#53875498", "title": "Using regex to remove multiple occurrences for anything in parentheses", "body": "<p><code>str.replace</code> replaces all occurrences. While python does not support recursive regular expressions, the string replacement is taking care of multiple occurrences in this case.</p>\n"}], "owner": {"reputation": 13, "user_id": 10629708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e99740cf593c32a80d4780ce000920?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Julius", "link": "https://stackoverflow.com/users/10629708/alex-julius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545337259, "creation_date": 1545256844, "last_edit_date": 1545325568, "question_id": 53859738, "link": "https://stackoverflow.com/questions/53859738/using-regex-to-remove-multiple-occurrences-for-anything-in-parentheses", "title": "Using regex to remove multiple occurrences for anything in parentheses", "body": "<p>I have a dataframe in Pandas <code>test</code> with a column <code>Column1</code> where for any cases where there are parentheses, I want to remove the parentheses and the characters between the parentheses. So far I have:</p>\n\n<pre><code>test['Column1'].str.replace(r\"\\([^()]*\\)\",\"\")\n</code></pre>\n\n<p>This is only working to remove a single set of parentheses. How would I extend the replace to remove all sets of parentheses?</p>\n"}, {"tags": ["python", "image", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545258514, "post_id": 53859816, "comment_id": 94568025, "body": "Thanks. This does downloaded images but not in the folder &#39;downloaded&#39;. Practically, with your code function getDownloadPath is ommited. Is there any way that we add it so that pictures are downloaded to that folder?"}, {"owner": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545258773, "post_id": 53859816, "comment_id": 94568123, "body": "Also what this fileUrl.split(&#39;/&#39;)[-1] means? That it takes only what comes after the last forward slash, in other words jpg file?"}, {"owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "reply_to_user": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545280595, "post_id": 53859816, "comment_id": 94572811, "body": "You mean, &quot;What does <code>fileUrl.split(&#39;&#47;&#39;)[-1]</code> mean?&quot;?  The <code>fileUrl.split(&#39;&#47;&#39;)</code> part means, &quot;Take the string <code>fileUrl</code>, break it up anywhere a forward slash appears, and create a list out of all the pieces.&quot;  Then the [-1] at the end means, &quot;Take the very last element of the list.&quot;  Thus, you get back the text in the URL that shows up after the final forward slash.  Note that if <code>fileUrl</code> itself ends in a slash instead of just the filename, then this will return an empty string."}, {"owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "reply_to_user": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545280853, "post_id": 53859816, "comment_id": 94572855, "body": "As for using the &#39;downloaded&#39; folder, I&#39;ve updated that line that defines the filename."}, {"owner": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545343229, "post_id": 53859816, "comment_id": 94600584, "body": "Bill M. your newest solution gives traceback: Traceback (most recent call last):   File &quot;C:\\Python36\\kodovi\\downloaded.py&quot;, line 44, in &lt;module&gt;     open(filename, &#39;wb&#39;).write(r.content) FileNotFoundError: [Errno 2] No such file or directory: &#39;downloaded\\\\lrg_0.jpg&#39;"}, {"owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "reply_to_user": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545343959, "post_id": 53859816, "comment_id": 94600828, "body": "What, exactly, are you expecting the the path of &quot;filename&quot; to be?  Aren&#39;t you trying to just download the file &quot;lrg_0.jpg&quot; to a local folder name &quot;downloaded&quot;?  You could just replace the value for <code>downloadDirectory</code> to some absolute path on your machine."}, {"owner": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545345780, "post_id": 53859816, "comment_id": 94601395, "body": "I would like that script first creates local folder and then downloads images to it."}, {"owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "reply_to_user": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "edited": false, "score": 0, "creation_date": 1545346258, "post_id": 53859816, "comment_id": 94601534, "body": "You mean &quot;I would like that script to first create the local folder&quot; if it doesn&#39;t exist?  Then earlier in your code, you could use <code>if not os.path.exists(downloadDirectory)</code> to see if the directory exists, and if it doesn&#39;t, run <code>os.makedirs(downloadDirectory)</code>."}], "tags": [], "owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1545280823, "last_edit_date": 1545280823, "creation_date": 1545257270, "answer_id": 53859816, "question_id": 53859707, "link": "https://stackoverflow.com/questions/53859707/how-to-download-images-from-the-web-page/53859816#53859816", "title": "How to download images from the web page?", "body": "<p>It seems your downloadList includes some URLs that aren't images.  You could instead look for any <code>&lt;img&gt;</code> tags in the HTML:</p>\n\n<pre><code>downloadList = bsObj.find_all('img')\n</code></pre>\n\n<p>Then use this to download those images:</p>\n\n<pre><code>for download in downloadList:\n    fileUrl = getAbsoluteURL(baseUrl,download[\"src\"])\n    r = requests.get(fileUrl, allow_redirects=True)\n    filename = os.path.join(downloadDirectory, fileUrl.split('/')[-1])\n    open(filename, 'wb').write(r.content)\n</code></pre>\n\n<p>EDIT: I've updated the <code>filename = ...</code> line so that it writes the file of the same name to the directory in the string <code>downloadDirectory</code>.  By the way, the normal convention for Python variables is not to use camel case.</p>\n"}], "owner": {"reputation": 105, "user_id": 6149507, "user_type": "registered", "profile_image": "https://graph.facebook.com/989680411069627/picture?type=large", "display_name": "MiloshB", "link": "https://stackoverflow.com/users/6149507/miloshb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545280823, "creation_date": 1545256665, "question_id": 53859707, "link": "https://stackoverflow.com/questions/53859707/how-to-download-images-from-the-web-page", "title": "How to download images from the web page?", "body": "<p>I have a python script that searches for images on a web page and it's supposed to download them to folder named 'downloaded'. Last 2-3 lines are  problematic, I don't know how to write the correct 'with open' code.</p>\n\n<p>The biggest part of the script is fine, lines 42-43 give an error</p>\n\n<pre><code>import os\nimport requests\nfrom bs4 import BeautifulSoup\n\ndownloadDirectory = \"downloaded\"\nbaseUrl = \"http://pythonscraping.com\"\n\ndef getAbsoluteURL(baseUrl, source):\n    if source.startswith(\"http://www.\"):\n        url = \"http://\"+source[11:]\n    elif source.startswith(\"http://\"):\n        url = source\n    elif source.startswith(\"www.\"):\n        url = source[4:]\n        url = \"http://\"+source\n    else:\n        url = baseUrl+\"/\"+source\n    if baseUrl not in url:\n        return None\n    return url \n\ndef getDownloadPath(baseUrl, absoluteUrl, downloadDirectory):\n    path = absoluteUrl.replace(\"www.\", \"\")\n    path = path.replace(baseUrl, \"\")\n    path = downloadDirectory+path\n    directory = os.path.dirname(path)\n    if not os.path.exists(directory):\n        os.makedirs(directory)\n    return path\n\n\nhtml = requests.get(\"http://www.pythonscraping.com\")\nbsObj = BeautifulSoup(html.content, 'html.parser')\ndownloadList = bsObj.find_all(src=True)\n\nfor download in downloadList:\n    fileUrl = getAbsoluteURL(baseUrl,download[\"src\"])\n    if fileUrl is not None:\n        print(fileUrl)\n    with open(fileUrl, getDownloadPath(baseUrl, fileUrl, downloadDirectory), 'wb') as out_file:\n        out_file.write(fileUrl.content)\n</code></pre>\n\n<p>It opens downloaded folder on my computer and misc folder within it. And it gives a traceback error.\nTraceback:</p>\n\n<pre><code>http://pythonscraping.com/misc/jquery.js?v=1.4.4\nTraceback (most recent call last):\n  File \"C:\\Python36\\kodovi\\downloaded.py\", line 43, in &lt;module&gt;\n    with open(fileUrl, getDownloadPath(baseUrl, fileUrl, downloadDirectory), 'wb\n') as out_file:\nTypeError: an integer is required (got type str)\n</code></pre>\n"}, {"tags": ["python", "django", "module", "django-database"], "comments": [{"owner": {"reputation": 698, "user_id": 10236724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Eb946207", "link": "https://stackoverflow.com/users/10236724/eb946207"}, "edited": false, "score": 1, "creation_date": 1545256370, "post_id": 53859629, "comment_id": 94567226, "body": "The title is very vague. Do you mind changing it?"}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "reply_to_user": {"reputation": 698, "user_id": 10236724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Eb946207", "link": "https://stackoverflow.com/users/10236724/eb946207"}, "edited": false, "score": 0, "creation_date": 1545256578, "post_id": 53859629, "comment_id": 94567295, "body": "Changed to How to add database routers to a Django project"}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 1, "creation_date": 1545257150, "post_id": 53859629, "comment_id": 94567515, "body": "@KeithJohnHutchison  can you add <code>database_routers</code> module /class in problem statement."}, {"owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1545257439, "post_id": 53859629, "comment_id": 94567635, "body": "You have to create <code>__init__.py</code> file in your database_routers directory, not <code>init.py</code>."}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545257493, "post_id": 53859629, "comment_id": 94567657, "body": "Added contents of database routers files."}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545257586, "post_id": 53859629, "comment_id": 94567694, "body": "I&#39;ve got <code>__init__.py</code> file in database_routers directory, it is displaying as init.py for some reason."}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 0, "creation_date": 1545257637, "post_id": 53859629, "comment_id": 94567720, "body": "@KeithJohnHutchison <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/multi-db/\" rel=\"nofollow noreferrer\">source</a> use  <code>DATABASE_ROUTERS=[database_routers.db_for_read(DiscourseRout&zwnj;&#8203;er),database_routers&zwnj;&#8203;.db_for_read(Wordpre&zwnj;&#8203;ssRouter)]</code> change this"}, {"owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 2, "creation_date": 1545257767, "post_id": 53859629, "comment_id": 94567769, "body": "Ok, your path is wrong. Change <code>&#39;database_routers.DiscourseRouter&#39;</code> to <code>&#39;database_routers.discourse.DiscourseRouter&#39;</code>. Same for the other router."}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545257872, "post_id": 53859629, "comment_id": 94567809, "body": "ImportError: Module &quot;database_routers&quot; does not define a &quot;db_for_read(DiscourseRouter)&quot; attribute/class"}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "reply_to_user": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1545257969, "post_id": 53859629, "comment_id": 94567844, "body": "@Borut Cheers and thanks. That works. I would not have guessed that :-)"}, {"owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1545258380, "post_id": 53859629, "comment_id": 94567985, "body": "That was pretty much the last option. ImportError is raised either because the file/class doesn&#39;t exist, <code>__init__.py</code> is missing or import path is wrong. :)"}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "reply_to_user": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1545258792, "post_id": 53859629, "comment_id": 94568129, "body": "@Borut Cool. How did you infer the namespace? I looked through the apps to see how the namespace was being specified and found nothing so I thought it was just the folder name that determined the namespace."}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "reply_to_user": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 0, "creation_date": 1545258917, "post_id": 53859629, "comment_id": 94568176, "body": "@Borut If you post an answer I&#39;ll mark it as the accepted solution."}], "answers": [{"comments": [{"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545256736, "post_id": 53859668, "comment_id": 94567363, "body": "I already have the router classes. The issue is how to get Django to recognise them from the settings file."}, {"owner": {"reputation": 1069, "user_id": 10281198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i1P3rLxTp44/AAAAAAAAAAI/AAAAAAAAAAs/1Oq7n-C-Vvo/photo.jpg?sz=128", "display_name": "Abdulkabir Ojulari", "link": "https://stackoverflow.com/users/10281198/abdulkabir-ojulari"}, "reply_to_user": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545258882, "post_id": 53859668, "comment_id": 94568164, "body": "something like this? class User(models.Model):     username = models.Charfield(ax_length=100)     . . .         class Meta:         app_label = &#39;user_data&#39;  class Customer(models.Model):     name = models.TextField(max_length=100)     . . .         class Meta:         app_label = &#39;customer_data&#39; . $ ./manage.py migrate --database=users_db"}, {"owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "edited": false, "score": 0, "creation_date": 1545259032, "post_id": 53859668, "comment_id": 94568217, "body": "The issue was I missed the module names as per the answer from Daniel Roseman and the comments from Borut."}], "tags": [], "owner": {"reputation": 1069, "user_id": 10281198, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i1P3rLxTp44/AAAAAAAAAAI/AAAAAAAAAAs/1Oq7n-C-Vvo/photo.jpg?sz=128", "display_name": "Abdulkabir Ojulari", "link": "https://stackoverflow.com/users/10281198/abdulkabir-ojulari"}, "is_accepted": false, "score": 1, "last_activity_date": 1545256437, "creation_date": 1545256437, "answer_id": 53859668, "question_id": 53859629, "link": "https://stackoverflow.com/questions/53859629/how-to-add-database-routers-to-a-django-project/53859668#53859668", "title": "How to add database routers to a Django project", "body": "<p>If I understand you very well, you intend to configure multiple databases right? Please find below:  </p>\n\n<pre><code>class ExampleDatabaseRouter(object):\n    \"\"\"\n    Determine how to route database calls for an app's models (in this case, for an app named Example).\n    All other models will be routed to the next router in the DATABASE_ROUTERS setting if applicable,\n    or otherwise to the default database.\n    \"\"\"\n\n    def db_for_read(self, model, **hints):\n        \"\"\"Send all read operations on Example app models to `example_db`.\"\"\"\n        if model._meta.app_label == 'example':\n            return 'example_db'\n        return None\n\n    def db_for_write(self, model, **hints):\n        \"\"\"Send all write operations on Example app models to `example_db`.\"\"\"\n        if model._meta.app_label == 'example':\n            return 'example_db'\n        return None\n\n    def allow_relation(self, obj1, obj2, **hints):\n        \"\"\"Determine if relationship is allowed between two objects.\"\"\"\n\n        # Allow any relation between two models that are both in the Example app.\n        if obj1._meta.app_label == 'example' and obj2._meta.app_label == 'example':\n            return True\n        # No opinion if neither object is in the Example app (defer to default or other routers).\n        elif 'example' not in [obj1._meta.app_label, obj2._meta.app_label]:\n            return None\n\n        # Block relationship if one object is in the Example app and the other isn't.\n            return False\n\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        \"\"\"Ensure that the Example app's models get created on the right database.\"\"\"\n        if app_label == 'example':\n            # The Example app should be migrated only on the example_db database.\n            return db == 'example_db'\n        elif db == 'example_db':\n            # Ensure that all other apps don't get migrated on the example_db database.\n            return False\n\n        # No opinion for all other scenarios\n        return None\n</code></pre>\n\n<p>You can as well read more from <a href=\"https://strongarm.io/blog/multiple-databases-in-django/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}, {"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 6, "last_activity_date": 1545258839, "creation_date": 1545258839, "answer_id": 53860102, "question_id": 53859629, "link": "https://stackoverflow.com/questions/53859629/how-to-add-database-routers-to-a-django-project/53860102#53860102", "title": "How to add database routers to a Django project", "body": "<p>You've missed out the module names.</p>\n\n<pre><code>DATABASE_ROUTERS = [\n    'database_routers.discourse.DiscourseRouter', \n    'database_routers.wordpress.WordpressRouter'\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3055, "user_id": 163567, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PWxxR.jpg?s=128&g=1", "display_name": "Williams", "link": "https://stackoverflow.com/users/163567/williams"}, "is_accepted": false, "score": 1, "last_activity_date": 1613698587, "last_edit_date": 1613698587, "creation_date": 1613679187, "answer_id": 66267503, "question_id": 53859629, "link": "https://stackoverflow.com/questions/53859629/how-to-add-database-routers-to-a-django-project/66267503#66267503", "title": "How to add database routers to a Django project", "body": "<p>In addition to Daniel's answer, another option that gives you more control is to declare your classes in the <code>__init__</code>.</p>\n<p>Contents of <code>database_routers.__init__.py</code>:</p>\n<pre><code>from .discourse.DiscourseRouter\nfrom .wordpress.WordpressRouter\n\n\n__all__ = [\n    &quot;DiscourseRouter&quot;,\n    &quot;WordpressRouter&quot;,\n]\n</code></pre>\n<p>Then this allows you to remove the module names in <code>settings.py</code>:</p>\n<pre><code>DATABASE_ROUTERS = [\n    'database_routers.DiscourseRouter', \n    'database_routers.WordpressRouter'\n]\n</code></pre>\n<p>In other words, the original code would work.</p>\n<p>This would gives you better control of which modules are public.</p>\n<p>NB: This <code>__init__.py</code> / <code>__all__</code> pattern is used broadly, eg: <a href=\"https://github.com/django/django/blob/master/django/db/__init__.py\" rel=\"nofollow noreferrer\">https://github.com/django/django/blob/master/django/db/<strong>init</strong>.py</a></p>\n"}], "owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6577, "favorite_count": 4, "accepted_answer_id": 53860102, "answer_count": 3, "score": 5, "last_activity_date": 1613698587, "creation_date": 1545256193, "last_edit_date": 1545258231, "question_id": 53859629, "link": "https://stackoverflow.com/questions/53859629/how-to-add-database-routers-to-a-django-project", "title": "How to add database routers to a Django project", "body": "<p>I'm following the instructions on how to handle multiple databases within one Django project from here <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/multi-db/\" rel=\"noreferrer\">topics/db/multi-db</a></p>\n\n<p>I've created the two routers required.\nThey are saved as ./database_routers/discourse.py and ./database_routers/wordpress.py</p>\n\n<p>The contents of ./database_routers/discourse.py is</p>\n\n<pre><code>class DiscourseRouter:\n    \"\"\"\n    A router to control all database operations on models in the\n    discourse application.\n    \"\"\"\n    def db_for_read(self, model, **hints):\n        \"\"\"\n        Attempts to read discourse models go to discourse.\n        \"\"\"\n        if model._meta.app_label == 'discourse':\n            return 'discourse'\n        return None\n\n    def db_for_write(self, model, **hints):\n        \"\"\"\n        Attempts to write discourse models go to discourse.\n        \"\"\"\n        if model._meta.app_label == 'discourse':\n            return 'discourse'\n        return None\n\n    def allow_relation(self, obj1, obj2, **hints):\n        \"\"\"\n        Allow relations if a model in the discourse app is involved.\n        \"\"\"\n        if obj1._meta.app_label == 'discourse' or \\\n           obj2._meta.app_label == 'discourse':\n           return True\n        return None\n\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        \"\"\"\n        Make sure the discourse app only appears in the 'discourse'\n        database.\n        \"\"\"\n        if app_label == 'discourse':\n            return db == 'discourse'\n        return None\n</code></pre>\n\n<p>The contents of ./database_routers/wordpress.py is</p>\n\n<pre><code>class WordpressRouter:\n    \"\"\"\n    A router to control all database operations on models in the\n    wordpress application.\n    \"\"\"\n    def db_for_read(self, model, **hints):\n        \"\"\"\n        Attempts to read wordpress models go to wordpress.\n        \"\"\"\n        if model._meta.app_label == 'wordpress':\n            return 'wordpress'\n        return None\n\n    def db_for_write(self, model, **hints):\n        \"\"\"\n        Attempts to write wordpress models go to wordpress.\n        \"\"\"\n        if model._meta.app_label == 'wordpress':\n            return 'wordpress'\n        return None\n\n    def allow_relation(self, obj1, obj2, **hints):\n        \"\"\"\n        Allow relations if a model in the wordpress app is involved.\n        \"\"\"\n        if obj1._meta.app_label == 'wordpress' or \\\n           obj2._meta.app_label == 'wordpress':\n           return True\n        return None\n\n    def allow_migrate(self, db, app_label, model_name=None, **hints):\n        \"\"\"\n        Make sure the wordpress app only appears in the 'wordpress'\n        database.\n        \"\"\"\n        if app_label == 'wordpress':\n            return db == 'wordpress'\n        return None\n</code></pre>\n\n<p>I created an empty <code>./database_routers/__init__.py</code> file</p>\n\n<p>The database router settings in api/settings I've set to</p>\n\n<pre><code>DATABASE_ROUTERS = ['database_routers.DiscourseRouter', 'database_routers.WordpressRouter']\n</code></pre>\n\n<p>When I attempt to look at the project using shell plus I with</p>\n\n<pre><code> ./manage.py shell_plus\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>ImportError: Module \"database_routers\" does not define a \"DiscourseRouter\" attribute/class\n</code></pre>\n\n<p>How do you add database routers to a Django project such that python recognises the path directory_name.ClassName?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 1, "last_activity_date": 1545256640, "last_edit_date": 1545256640, "creation_date": 1545256302, "answer_id": 53859648, "question_id": 53859579, "link": "https://stackoverflow.com/questions/53859579/count-positive-and-negative-consecutive-elements-in-a-dataframe-based-on-conditi/53859648#53859648", "title": "Count Positive and Negative Consecutive Elements in a Dataframe based on condition", "body": "<h3><code>map</code> + <code>diff</code></h3>\n\n<p>Map positive and negative to <code>1</code> and <code>-1</code> respectively, and neutral to <code>0</code>.  When you take the difference of the series, the absolute value of the output every time positive and negative follow each other will be <code>2</code>, which you can easily check for, resulting in your desired outcome:</p>\n\n<pre><code>d = {'positive': 1, 'negative': -1, 'neutral': 0}\n\ndf.col.map(d).diff().abs().eq(2)\n</code></pre>\n\n<p></p>\n\n<pre><code>0    False\n1    False\n2    False\n3    False\n4    False\n5     True\n6    False\nName: col, dtype: bool\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "is_accepted": true, "score": 0, "last_activity_date": 1545256729, "creation_date": 1545256729, "answer_id": 53859719, "question_id": 53859579, "link": "https://stackoverflow.com/questions/53859579/count-positive-and-negative-consecutive-elements-in-a-dataframe-based-on-conditi/53859719#53859719", "title": "Count Positive and Negative Consecutive Elements in a Dataframe based on condition", "body": "<p>A long expression that generates booleans based on your conditions:</p>\n\n<pre><code>(((df['col'] == 'positive') &amp; (df['col'].shift(1) == 'negative')) | ((df['col'] == 'negative') &amp; (df['col'].shift(1) == 'positive')))\n</code></pre>\n\n<p>This uses bitwise operators to say if the current position is positive and the one after is negative, True, or The current position is negative and the following is positive, True else return false.</p>\n\n<pre><code>&gt;&gt;&gt; (((df['col'] == 'positive') &amp; (df['col'].shift(1) == 'negative')) | ((df['col'] == 'negative') &amp; (df['col'].shift(1) == 'positive')))\n0    False\n1    False\n2    False\n3    False\n4    False\n5     True\n6    False\nName: col, dtype: bool\n</code></pre>\n\n<p>Either both of the first conditions must be met to return true, or both of the second conditions must be met to return true.</p>\n"}], "owner": {"reputation": 155, "user_id": 7106914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1ec725f647f7905f8745beb65d2e44a8?s=128&d=identicon&r=PG&f=1", "display_name": "roberto swiss", "link": "https://stackoverflow.com/users/7106914/roberto-swiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53859719, "answer_count": 2, "score": 2, "last_activity_date": 1545256729, "creation_date": 1545255900, "last_edit_date": 1545256285, "question_id": 53859579, "link": "https://stackoverflow.com/questions/53859579/count-positive-and-negative-consecutive-elements-in-a-dataframe-based-on-conditi", "title": "Count Positive and Negative Consecutive Elements in a Dataframe based on condition", "body": "<p>I have a dataframe like this. </p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({\n    'col': ['neutral', 'neutral', 'neutral', 'positive', 'positive', 'negative', 'neutral']})\n</code></pre>\n\n<p>Now I want to update 'col' such that i get a true when there is a change from positive to negative or the other way round and a false otherwise (ie consecutive equal values) and also a false when there is a change from positive/negative to neutral and the other way round. </p>\n\n<p>I have tried several methods with grouby and transform but nothing works.</p>\n\n<p>My desired output would be: </p>\n\n<pre><code>df = pd.DataFrame({\n    'col': ['False', 'False', 'False', 'False', 'False', 'True', 'False']})  \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1545256050, "post_id": 53859577, "comment_id": 94567124, "body": "You don&#39;t appear to have confirmed that your query returns anything at all."}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1545256194, "post_id": 53859577, "comment_id": 94567164, "body": "Exactly.  It seems like you might be using the default value (1, set at the top of the function).  It could also be that depending on the results you get that it actually is executing but you&#39;re ending on a row that would case <code>Diagnostico</code> to be set to 1."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1545256344, "post_id": 53859577, "comment_id": 94567215, "body": "You&#39;re overwriting <code>Diagnostico</code> each time through the <code>for Valores</code> loop, so the value when you insert will be from the last row. You probably need to move the <code>INSERT</code> into the loop."}, {"owner": {"reputation": 33, "user_id": 8373733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k7dX1fT4UyU/AAAAAAAAAAI/AAAAAAAAABQ/WY8E0kd_L4U/photo.jpg?sz=128", "display_name": "Marshall Vegas", "link": "https://stackoverflow.com/users/8373733/marshall-vegas"}, "edited": false, "score": 0, "creation_date": 1545256581, "post_id": 53859577, "comment_id": 94567298, "body": "I tried all those suggestions, but it still not working...:("}, {"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1545258106, "post_id": 53859577, "comment_id": 94567886, "body": "One side comment: thank you for using parametrized queries in your SQL instead of using <code>str.format</code> to generate your queries. Nicely done!"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8373733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k7dX1fT4UyU/AAAAAAAAAAI/AAAAAAAAABQ/WY8E0kd_L4U/photo.jpg?sz=128", "display_name": "Marshall Vegas", "link": "https://stackoverflow.com/users/8373733/marshall-vegas"}, "edited": false, "score": 0, "creation_date": 1545257496, "post_id": 53859750, "comment_id": 94567659, "body": "Thank you Barmar, i really didn&#39;t think to do something like this. But i tried execute this code, and it isn&#39;t inserting nothing. Can you help me please??"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 33, "user_id": 8373733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k7dX1fT4UyU/AAAAAAAAAAI/AAAAAAAAABQ/WY8E0kd_L4U/photo.jpg?sz=128", "display_name": "Marshall Vegas", "link": "https://stackoverflow.com/users/8373733/marshall-vegas"}, "edited": false, "score": 0, "creation_date": 1545257589, "post_id": 53859750, "comment_id": 94567695, "body": "If it&#39;s not inserting anything, that means there are no rows that match <code>WHERE nomeExame = i[0]</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545256899, "creation_date": 1545256899, "answer_id": 53859750, "question_id": 53859577, "link": "https://stackoverflow.com/questions/53859577/why-my-code-is-disregarding-my-conditionals/53859750#53859750", "title": "Why my code is disregarding my conditionals?", "body": "<p>You need to move the <code>INSERT</code> query into the loop, so you use the value of <code>Diagnostico</code> from each row, not just the last row.</p>\n\n<p>But you can combine the <code>SELECT</code> and <code>INSERT</code> into a single query that does it all in the DB.</p>\n\n<pre><code>for i in Dados:\n    InsereDados = \"\"\"\n        INSERT INTO exames_realizados (nomeExame, valores, diagnostico, identidade)\n        SELECT nomeExame, %s,\n            CASE WHEN %s &lt; valoresMin THEN 0\n                 WHEN %s &gt; valoresMax THEN 2\n                 ELSE 1\n            END, %s\n        FROM valores_ref\n        WHERE nomeExame = %s\n    \"\"\"\n    Cursor.execute(InsereDados, (i[1], i[1], i[1], Identidade, i[0]))\n    db.commit()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8373733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k7dX1fT4UyU/AAAAAAAAAAI/AAAAAAAAABQ/WY8E0kd_L4U/photo.jpg?sz=128", "display_name": "Marshall Vegas", "link": "https://stackoverflow.com/users/8373733/marshall-vegas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1545258199, "creation_date": 1545255879, "last_edit_date": 1545258199, "question_id": 53859577, "link": "https://stackoverflow.com/questions/53859577/why-my-code-is-disregarding-my-conditionals", "title": "Why my code is disregarding my conditionals?", "body": "<p>When i try to insert in DB, my code just disregard the variable changes in my conditionals.</p>\n\n<pre><code>def finalizarExames():\n    if request.method == 'POST':\n        Dados                   =   np.asarray(request.form.items())\n        Cursor                  =   db.cursor()\n        Identidade              =   randint(0, 1000)\n        Diagnostico = 1\n        Val_Apagar = 0\n\n        for i in Dados:\n\n\n            PuxaDados   = \"SELECT valoresMin, valoresMax FROM valores_ref WHERE nomeExame = %s\"\n            Cursor.execute(PuxaDados, (i[0])) # Posteriormente, mudar para i[0]\n            for Valores in Cursor.fetchall():\n\n                if float(i[1])  &lt;   Valores[0]:\n                    Diagnostico = 0\n\n                elif float(i[1])    &gt;   Valores[1]:\n                    Diagnostico = 2\n\n                else: Diagnostico = 1\n\n            InsereDados = \"\"\"\n            INSERT INTO \n                exames_realizados \n                (nomeExame, valores, diagnostico, identidade) \n            VALUES \n                (%s, %s, %s, %s)\n\n            \"\"\"\n\n            Cursor.execute(InsereDados, (i[0], i[1], Diagnostico, Identidade))\n            db.commit()\n</code></pre>\n\n<p>I want to change the variable \"Diagnostico\" to 2 or 0, but it just insert with \"Diagnostico = 1\" (default), even if i put some higher/lower value.</p>\n"}, {"tags": ["python", "python-3.x", "cookies", "python-requests", "csrf"], "answers": [{"tags": [], "owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "is_accepted": false, "score": 1, "last_activity_date": 1545282565, "creation_date": 1545282565, "answer_id": 53862711, "question_id": 53859496, "link": "https://stackoverflow.com/questions/53859496/cant-get-csrf-token-all-the-time/53862711#53862711", "title": "Can&#39;t get CSRF token all the time", "body": "<p>The reason you don't get <code>csrf_token</code> intermittently, because you frequently access website or you access it without headers --- server considers you might be bot or attacker. These reasons will lead to server responds 40x or 50x. So you should add headers and set interval to 1 second.</p>\n\n<pre><code>import requests\nimport time\n\ndef Main():\n    time.sleep(1)\n    with requests.session() as s:\n        s.headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36\",\n            \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\",\n            \"Accept-Encoding\": \"gzip, deflate, br\"\n        }\n        resp = s.get(\"https://accounts.spotify.com/en/login/?_locale=en-US&amp;continue=https:%2F%2Fwww.spotify.com%2Fus%2Faccount%2Foverview%2F\")\n        print(s.cookies['csrf_token'])\n\n[Main() for _ in range(10)]\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 9959106, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rLpeItDE3LI/AAAAAAAAAAI/AAAAAAAAAAA/pL8hKbrG-CY/photo.jpg?sz=128", "display_name": "Crisp Apples", "link": "https://stackoverflow.com/users/9959106/crisp-apples"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576116499, "creation_date": 1545255393, "last_edit_date": 1545269765, "question_id": 53859496, "link": "https://stackoverflow.com/questions/53859496/cant-get-csrf-token-all-the-time", "title": "Can&#39;t get CSRF token all the time", "body": "<p>I'm trying to get the csrf token on the Spotify login page. I used to have no problem doing it, but it seems I can only get the token 50% of the time now. I tried this simple code I made:</p>\n\n<pre><code>import requests\n\n\ndef Main():\n\n    s = requests.session()\n    s.get(\"https://accounts.spotify.com/en/login/?_locale=en-US&amp;continue=https:%2F%2Fwww.spotify.com%2Fus%2Faccount%2Foverview%2F\")\n    print(s.cookies)\n    print(s.cookies.get_dict())\n\n    try:\n        print(s.cookies['csrf_token'])\n    except KeyError:\n        Main()\n\n\nMain()\n</code></pre>\n\n<p>If you run the program you'll see that the CSRF is only printed a handful times while nothing is printed all the other times. Why is requests only able to get the CRSF cookie/token only sometimes and not always? I've never had this problem before.</p>\n\n<p>Edit: My requests version is 2.21.0</p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 3757757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhHJj.jpg?s=128&g=1", "display_name": "CrepeGoat", "link": "https://stackoverflow.com/users/3757757/crepegoat"}, "is_accepted": false, "score": 0, "last_activity_date": 1545260062, "last_edit_date": 1545260062, "creation_date": 1545258044, "answer_id": 53859952, "question_id": 53859463, "link": "https://stackoverflow.com/questions/53859463/pandas-drop-rows-on-groupby-level-2-sum-or-mean-conditions/53859952#53859952", "title": "pandas drop rows on groupby level 2 sum or mean conditions", "body": "<p>From <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html#filtration\" rel=\"nofollow noreferrer\">the pandas documentation</a>, filtration seems more suitable:</p>\n\n<pre><code>df2 = df.groupby('Group').filter(lambda g: g['Values'].sum() &gt;= 0)\n</code></pre>\n\n<hr>\n\n<p><em>(Old answer):</em></p>\n\n<p><s>\nThis worked for me:</p>\n\n<pre><code># Change the index to *just* the `Group` column\ndf.reset_index(inplace=True)\ndf.set_index('Group', inplace=True)\n\n# Then create a filter using the groupby object\ngb = df['Values'].groupby('Group')\ngb_sum = gb.sum()    \nval_filter = gb_sum[gb_sum &gt;= 0].index\n\n# Print results\nprint(df.loc[val_filter])\n</code></pre>\n\n<p>The condition on which you filter can be changed accordingly.\n</s></p>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 3, "last_activity_date": 1545258729, "creation_date": 1545258729, "answer_id": 53860087, "question_id": 53859463, "link": "https://stackoverflow.com/questions/53859463/pandas-drop-rows-on-groupby-level-2-sum-or-mean-conditions/53860087#53860087", "title": "pandas drop rows on groupby level 2 sum or mean conditions", "body": "<p>Using <code>GroupBy</code> + <code>transform</code> with <code>sum</code>, followed by Boolean indexing:</p>\n\n<pre><code>res = df[df.groupby('Group')['Values'].transform('sum') &gt; 0]\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 9332152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5285e7a2c8cd8ba9f925ae504a2a8c88?s=128&d=identicon&r=PG&f=1", "display_name": "2jan", "link": "https://stackoverflow.com/users/9332152/2jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 0, "accepted_answer_id": 53860087, "answer_count": 2, "score": 1, "last_activity_date": 1545260062, "creation_date": 1545255202, "last_edit_date": 1545258777, "question_id": 53859463, "link": "https://stackoverflow.com/questions/53859463/pandas-drop-rows-on-groupby-level-2-sum-or-mean-conditions", "title": "pandas drop rows on groupby level 2 sum or mean conditions", "body": "<p>I want to drop a group (all rows in the group) if the sum of values in a group is equal to a certain value.</p>\n\n<p>The following code provides an example:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame(randn(10,10), index=pd.date_range('20130101',periods=10,freq='T'))\n&gt;&gt;&gt; df = pd.DataFrame(df.stack(), columns=['Values'])\n&gt;&gt;&gt; df.index.names = ['Time', 'Group']\n&gt;&gt;&gt; df.head(12)\n\n                             Values\nTime                Group   \n2013-01-01 00:00:00   0    0.541795\n                      1    0.060798\n                      2    0.074224\n                      3   -0.006818\n                      4    1.211791\n                      5   -0.066994\n                      6   -1.019984\n                      7   -0.558134\n                      8    2.006748\n                      9    2.737199\n2013-01-01 00:01:00   0    1.655502\n                      1    0.376214\n\n&gt;&gt;&gt; df['Values'].groupby('Group').sum()\n\nGroup\n0    3.754481\n1   -5.234744\n2   -2.000393\n3    0.991431\n4    3.930547\n5   -3.137915\n6   -1.260719\n7    0.145757\n8   -1.832132\n9    4.258525\nName: Values, dtype: float64\n</code></pre>\n\n<p>So the question is; how can I for instance drop all group rows where the grouped sum is negative? In my actual dataset I want to drop the groups where the sum or mean is zero.</p>\n"}, {"tags": ["python", "sqlite", "class", "inventory-management"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1545255538, "post_id": 53859460, "comment_id": 94566897, "body": "If you&#39;re trying to do database-like operations, you should probably use a database. Otherwise, how do you envision using python objects to track inventory changes?"}, {"owner": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1545256105, "post_id": 53859460, "comment_id": 94567141, "body": "I thought maybe that creating objects with attributes such as &quot;count&quot;, &quot;price&quot;, etc would work if there were a way to keep the attribute changes over closing and re-opening of the application."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1545256284, "post_id": 53859460, "comment_id": 94567195, "body": "There are ways, such as a <code>.csv</code> or <code>pickle</code> file that you can use to persist data or python objects between sessions, but it&#39;s really down to your use case"}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1545257168, "post_id": 53859460, "comment_id": 94567524, "body": "Have you read the warnings about sqlite and multiple concurrent accesses?"}, {"owner": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "edited": false, "score": 1, "creation_date": 1545257610, "post_id": 53859460, "comment_id": 94567702, "body": "I have not, I just looked and it seems it won&#39;t be a problem because the likelihood of more than one person on at a time is small (although existent). And even if there is more than one person, their updates will be minor, and, according to the warning, will take milliseconds to complete."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "edited": false, "score": 0, "creation_date": 1545257302, "post_id": 53859736, "comment_id": 94567576, "body": "Thank you! This was very helpful. If you don&#39;t mind, I have another question for you, with the c.execute method, is there a way to take in a variable amount of arguments? I was planning on having multiple tables, and some have a different number of columns. I know that in javascript you can use the &quot;arguments&quot; object to retrieve and iterate through a variable number of arguments. I would like to avoid creating several functions for each table if possible."}, {"owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "reply_to_user": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "edited": false, "score": 0, "creation_date": 1545257549, "post_id": 53859736, "comment_id": 94567680, "body": "@BlorbieRandy check out the python <code>splat</code> operator. Learning about <code>decorators</code> in python taught me a lot about <code>splat</code>"}, {"owner": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "edited": false, "score": 0, "creation_date": 1545257667, "post_id": 53859736, "comment_id": 94567729, "body": "Thank you! I will do that."}, {"owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "reply_to_user": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "edited": false, "score": 0, "creation_date": 1545260264, "post_id": 53859736, "comment_id": 94568600, "body": "You&#39;re welcome! If the response helped resolve your issue you can mark it up or mark it answered @BlorbieRandy"}], "tags": [], "owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "is_accepted": true, "score": 2, "last_activity_date": 1545256831, "creation_date": 1545256831, "answer_id": 53859736, "question_id": 53859460, "link": "https://stackoverflow.com/questions/53859460/i-am-creating-an-inventory-system-in-python-for-my-employer-should-i-store-inve/53859736#53859736", "title": "I am creating an inventory system in Python for my employer, should I store inventory information in an SQLite database?", "body": "<p>You can manipulate an sqlite database pretty easily with Python.</p>\n\n<p><a href=\"https://docs.python.org/3/library/sqlite3.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/sqlite3.html</a></p>\n\n<pre><code>import sqlite3 as sql\n\nclass SQLManiuplator:\n  def __init__(self, fp=None):\n    path = fp\n    if not fp:\n      path = \"example.db\"\n    self.path = path\n\n  def add_item_to_inventorytable(self, item):\n    with sql.connect(self.path) as conn: # close automatically\n        c = conn.cursor()\n        # Use '?' substitution to sanitize inputs per sqlite3 docs\n        c.execute('''\n        INSERT INTO inventory VALUES (?)''', item)\n        c.commit()\n\n  # More CRUD functions\n</code></pre>\n\n<p>You can built a pretty CRUD api with this pattern and map the operations to your GUI. From a design standpoint, it then falls to you to decide what operations you are willing to expose to your users. For example I don't suppose you will want to make <code>CREATE TABLE</code> available to users so I didn't include that. (But this means you would have to manually create tables and define what columns exist in them.)</p>\n\n<p>You already said that this would be a pretty lightweight inventory system, but it should go without saying that at enterprise scale this solution is a loser.</p>\n"}], "owner": {"reputation": 105, "user_id": 10746919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_3pfbM4SCp0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfqfl1oHxVHghjpZUvV5joeeqrsA/mo/photo.jpg?sz=128", "display_name": "BlorbieRandy", "link": "https://stackoverflow.com/users/10746919/blorbierandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2065, "favorite_count": 0, "closed_date": 1545301717, "accepted_answer_id": 53859736, "answer_count": 1, "score": -2, "last_activity_date": 1545256831, "creation_date": 1545255183, "question_id": 53859460, "link": "https://stackoverflow.com/questions/53859460/i-am-creating-an-inventory-system-in-python-for-my-employer-should-i-store-inve", "closed_reason": "Opinion-based", "title": "I am creating an inventory system in Python for my employer, should I store inventory information in an SQLite database?", "body": "<p>I have begun creating an inventory system in Python for my employer. I have the frontend GUI mostly complete and have questions about the backend.</p>\n\n<p>How should I store the information?</p>\n\n<p>The program will be located in a dropbox folder that can be accessed by multiple people at once. Should I use an SQLite database, and upon executing functions such as \"add stock\", open a connection, execute the change, and close the connection? Will this allow multiple users to have the inventory open at once? Are there better ways to handle this?</p>\n\n<p>There won't be a lot of inventory items. Would it be better to use python objects and object methods to store and manipulate the information?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1545255283, "post_id": 53859442, "comment_id": 94566787, "body": "Use <code>def foo(): # some code</code> and then <code>keyboard.hook(foo)</code>"}, {"owner": {"reputation": 7808, "user_id": 465895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/be595d3716194fc3446279274c2f9c4a?s=128&d=identicon&r=PG", "display_name": "castis", "link": "https://stackoverflow.com/users/465895/castis"}, "edited": false, "score": 1, "creation_date": 1545255424, "post_id": 53859442, "comment_id": 94566845, "body": "<a href=\"https://github.com/boppreh/keyboard/blob/master/examples/pressed_keys.py\" rel=\"nofollow noreferrer\">the included examples do a fine job of outlining this</a>"}, {"owner": {"reputation": 292, "user_id": 10551887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dff76320f9f9a5faaac6537881c724e?s=128&d=identicon&r=PG&f=1", "display_name": "szakes1", "link": "https://stackoverflow.com/users/10551887/szakes1"}, "edited": false, "score": 0, "creation_date": 1545256062, "post_id": 53859442, "comment_id": 94567125, "body": "Oh, dang it! I didn&#39;t initially thought that the creator included examples. I thought he would add it to the docs, but maybe I didn&#39;t dive into it deeper. Anyway, thanks for your response, it helped me a lot."}], "answers": [{"comments": [{"owner": {"reputation": 292, "user_id": 10551887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dff76320f9f9a5faaac6537881c724e?s=128&d=identicon&r=PG&f=1", "display_name": "szakes1", "link": "https://stackoverflow.com/users/10551887/szakes1"}, "edited": false, "score": 0, "creation_date": 1545256157, "post_id": 53859499, "comment_id": 94567151, "body": "Thank you for your time!"}], "tags": [], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "is_accepted": false, "score": 1, "last_activity_date": 1545255399, "creation_date": 1545255399, "answer_id": 53859499, "question_id": 53859442, "link": "https://stackoverflow.com/questions/53859442/how-do-i-use-this-callback-in-python/53859499#53859499", "title": "How do I use this callback in Python?", "body": "<p>Something like this appears to be what you want from the documentation.</p>\n\n<pre><code>def keyHook(info):\n    print(info)\n\nkeyboard.hook(keyHook)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 292, "user_id": 10551887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dff76320f9f9a5faaac6537881c724e?s=128&d=identicon&r=PG&f=1", "display_name": "szakes1", "link": "https://stackoverflow.com/users/10551887/szakes1"}, "edited": false, "score": 0, "creation_date": 1545256129, "post_id": 53859515, "comment_id": 94567146, "body": "Yup, that&#39;s what I wanted. Thanks for your answer to this kind of &quot;stupid&quot; question. I will be sure to remember it!"}], "tags": [], "owner": {"reputation": 1762, "user_id": 1417451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82853d54858f517eb31723db2ca4704?s=128&d=identicon&r=PG", "display_name": "s3cur3", "link": "https://stackoverflow.com/users/1417451/s3cur3"}, "is_accepted": true, "score": 1, "last_activity_date": 1545255459, "creation_date": 1545255459, "answer_id": 53859515, "question_id": 53859442, "link": "https://stackoverflow.com/questions/53859442/how-do-i-use-this-callback-in-python/53859515#53859515", "title": "How do I use this callback in Python?", "body": "<p>You can pass a function just like you would a variable\u2014by passing its name to the <code>hook()</code> method.</p>\n\n<p>Then, per the docs on <a href=\"https://github.com/boppreh/keyboard#keyboard.hook\" rel=\"nofollow noreferrer\"><code>keyboard.hook()</code></a>, it calls your callback with a <code>keyboard.KeyboardEvent</code> with three fields:</p>\n\n<blockquote>\n  <ul>\n  <li><code>name</code>: an Unicode representation of the character (e.g. \"&amp;\") or description (e.g. \"space\"). The name is always lower-case.</li>\n  <li><code>scan_code</code>: number representing the physical key, e.g. 55.</li>\n  <li><code>time</code>: timestamp of the time the event occurred, with as much precision as given by the OS.</li>\n  </ul>\n</blockquote>\n\n<p>So, putting it together, you can use it like this:</p>\n\n<pre><code>import keyboard\n\ndef my_keyboard_hook(keyboard_event):\n    print(\"Name:\", keyboard_event.name)\n    print(\"Scan code:\", keyboard_event.scan_code)\n    print(\"Time:\", keyboard_event.time)\n\nkeyboard.hook(my_keyboard_hook)\n\n# Block forever, so that the program won't automatically finish,\n# preventing you from typing and seeing the printed output\nkeyboard.wait()\n</code></pre>\n\n<p>And each time a key is pressed, you'll print the details of the keyboard event.</p>\n\n<p>Note that the <code>keyboard.wait()</code> call is not necessary if your program would otherwise continue running\u2014I just wanted to make sure that you didn't run the example code, see it terminate immediately, and then think something went wrong.</p>\n"}], "owner": {"reputation": 292, "user_id": 10551887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dff76320f9f9a5faaac6537881c724e?s=128&d=identicon&r=PG&f=1", "display_name": "szakes1", "link": "https://stackoverflow.com/users/10551887/szakes1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 1, "accepted_answer_id": 53859515, "answer_count": 2, "score": 1, "last_activity_date": 1545284969, "creation_date": 1545255118, "last_edit_date": 1545284969, "question_id": 53859442, "link": "https://stackoverflow.com/questions/53859442/how-do-i-use-this-callback-in-python", "title": "How do I use this callback in Python?", "body": "<p>Please mind that I am completely green in Python and I do not know how callbacks work in this language. </p>\n\n<p>I have been trying for some time to solve my problem, but I cannot figure out what to do. </p>\n\n<p>I have the problem with using callbacks in Python. I use <a href=\"https://github.com/boppreh/keyboard#class-keyboardkeyboardevent\" rel=\"nofollow noreferrer\">the Python <code>keyboard</code> module</a> to listen to keys pressed on a machine.</p>\n\n<p>When I try to use the <code>keyboard.hook()</code> method, it asks me for a callback. I know how callbacks work, but as long as Python is not my main language I can't really figure out what to do with it.</p>\n\n<p>In JavaScript it's as easy as naming a parameter in a function then printing that parameter. Easy as that. </p>\n\n<pre><code>import keyboard\n\nkeyboard.hook()\n\n## How to print keys?\n</code></pre>\n\n<p>In the official documentation, it is written that the <code>hook()</code> method invokes a callback. How do I access this callback and most importantly print keys which are recorded from it? I just need a simple example then I will be able to remember it forever.</p>\n\n<p>Any help really appreciated.</p>\n"}, {"tags": ["python", "opencv", "face-detection", "dlib", "facial-identification"], "comments": [{"owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "edited": false, "score": 0, "creation_date": 1545298709, "post_id": 53859419, "comment_id": 94579222, "body": "Apparently, DLib&#39;s default HOG based frontal face detector has a hard time detecting small faces or images containing only the face. Check out <a href=\"https://www.learnopencv.com/face-detection-opencv-dlib-and-deep-learning-c-python/\" rel=\"nofollow noreferrer\">this blog post</a> which compares different face detection models in OpenCV and DLib."}, {"owner": {"reputation": 813, "user_id": 6660766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04feebac83c171b2a0223b189ad6b59f?s=128&d=identicon&r=PG", "display_name": "Peshmerge", "link": "https://stackoverflow.com/users/6660766/peshmerge"}, "edited": false, "score": 1, "creation_date": 1545307107, "post_id": 53859419, "comment_id": 94583461, "body": "Hi Nilson, check this blog post to get more knowledge about the face detector of Dlib and OpenCV <a href=\"https://www.pyimagesearch.com/2018/04/02/faster-facial-landmark-detector-with-dlib/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2018/04/02/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 10775718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHhHO.png?s=128&g=1", "display_name": "Nilson T. P.", "link": "https://stackoverflow.com/users/10775718/nilson-t-p"}, "edited": false, "score": 0, "creation_date": 1545307486, "post_id": 53859419, "comment_id": 94583625, "body": "Thank you for the help! I already had read it, but I seriously missed this information LOL   For test purpose I changed the upscale of detector(img, scale) in the smaller images where it hadn&#39;t detected the images, and then it worked!   Sadly, it slowed down the code... Now I have to compare, if the efficiency gain still makes it applicable."}, {"owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "edited": false, "score": 0, "creation_date": 1545314737, "post_id": 53859419, "comment_id": 94587436, "body": "@NilsonT.P.... I would suggest using the OpenCV&#39;s deep learning based face detector (Caffe trained model of SSD + ResNet-10). It is quite accurate and real-time even on CPU. The linked blog post also suggests that."}, {"owner": {"reputation": 2310, "user_id": 8743494, "user_type": "registered", "profile_image": "https://graph.facebook.com/1496264937094173/picture?type=large", "display_name": "Ha Bom", "link": "https://stackoverflow.com/users/8743494/ha-bom"}, "edited": false, "score": 0, "creation_date": 1546076292, "post_id": 53859419, "comment_id": 94774344, "body": "Maybe you should resize the cropped images before use it on the detector, as in the <a href=\"https://www.pyimagesearch.com/2018/04/02/faster-facial-landmark-detector-with-dlib/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2018/04/02/&hellip;</a>, he used <code>imutils.resize(frame, width=400)</code>"}], "owner": {"reputation": 11, "user_id": 10775718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHhHO.png?s=128&g=1", "display_name": "Nilson T. P.", "link": "https://stackoverflow.com/users/10775718/nilson-t-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6825, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545254998, "creation_date": 1545254998, "question_id": 53859419, "link": "https://stackoverflow.com/questions/53859419/dlib-get-frontal-face-detector-gets-faces-in-full-image-but-does-not-get-in-c", "title": "dlib.get_frontal_face_detector () gets faces in full image but does not get in cropped image", "body": "<p>my first time over here, but I really searched about it and sadly I haven't found help.</p>\n\n<p>I have an algorithm of facial recognition... Currently, I am trying to improve the efficiency of it. </p>\n\n<p>After some study, I concluded that the <strong>dlib.get_frontal_face_detector ()</strong> was the function slowing down my code.</p>\n\n<p>Then, my approach was to remove the background of my figures and extract only the differences between the two images. After it, I have pieces of image, cropped from the full and original one, and this pieces with only the differences are much smaller (e.g. Full Image: 1520 x 2592 pixels and Cropped Image With Face: 150x200 pixels). </p>\n\n<p>OBS: Camera of detection it is very far of the people being recognized, because of this the faces are tiny in the images and much of this size are useless, because of it I decided to remove the useless parts.</p>\n\n<p>BUT, here things got crazy: \nWhen I apply the tiny, smaller, cropped face to the <strong>dlib.get_frontal_face_detector ()</strong> it SOMETIMES doesn't recognizes it! (there are times where it recognizes, it's weird!). It sounds weird because when I apply the Full Image to the face_detector, yet with same resolution, only with larger shape, it recognizes the same face!</p>\n\n<p>I think I am missing some theoretical information here...</p>\n\n<pre><code>detector = dlib.get_frontal_face_detector()\n\nnew_image = []\nim2, contours, hierarchy  = cv2.findContours(im_bw,cv2.RETR_EXTERNAL,cv2.CHAIN_APPROX_SIMPLE)\nfor contour in contours:\n    [x, y, w, h] = cv2.boundingRect(contour)\n    #print(x, y, w, h)\n    if h&lt;20 or w&lt;20:\n        continue\n    else:\n        new_image.append(img2_n[y*inv_coef:y*inv_coef+h*inv_coef, x*inv_coef:x*inv_coef+w*inv_coef])\n\nfor images in new_image:\n    rgb_img = cv2.cvtColor(images, cv2.COLOR_BGR2RGB)\n    dets = detector(rgb_img, 1)\n</code></pre>\n\n<p>Above the extractor of smaller images and using it on the detector. Below, the simple code where I apply the full image to the same detector.</p>\n\n<pre><code>full_img = cv2.cvtColor(img2, cv2.COLOR_BGR2RGB)\ndets = detector(full_img, 1)\n</code></pre>\n\n<p>Anyone that understands a little bit more of DLIB and OPENCV and PYTHON could help me?</p>\n\n<p>OBS\u00b9: The images that are not being recognized are larger than the threshold defined in the for to trash away too small pieces of image.</p>\n"}, {"tags": ["python", "ssh", "paramiko"], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 3, "last_activity_date": 1563197262, "last_edit_date": 1563197262, "creation_date": 1545282384, "answer_id": 53862683, "question_id": 53859412, "link": "https://stackoverflow.com/questions/53859412/paramiko-calling-cd-command-with-exec-command-does-nothing/53862683#53862683", "title": "Paramiko: calling &quot;cd&quot; command with exec_command does nothing", "body": "<p>It looks like you are implementing some kind of interactive program that allows executing a sequence of commands on the server.</p>\n\n<p>The <a href=\"https://docs.paramiko.org/en/stable/api/client.html#paramiko.client.SSHClient.exec_command\" rel=\"nofollow noreferrer\"><code>SSHClient.exec_command</code></a> executes each command in a separate \"exec\" channel. The individual commands run in their own environment. So if you execute <code>cd</code> command, it has <em>no effect at all</em> on subsequent commands. They will again start in user's home directory.</p>\n\n<p>If you want to implement an interactive shell session, use <a href=\"https://docs.paramiko.org/en/stable/api/client.html#paramiko.client.SSHClient.invoke_shell\" rel=\"nofollow noreferrer\"><code>SSHClient.invoke_shell</code></a>.<br>\nFor an example, see <a href=\"https://stackoverflow.com/q/42943385/850848\">how to interact with Paramiko&#39;s interactive shell session?</a></p>\n\n<p>See also <a href=\"https://stackoverflow.com/q/49492621/850848\">Execute multiple commands in Paramiko so that commands are affected by their predecessors</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1545356174, "post_id": 53862756, "comment_id": 94603632, "body": "Starting an interactive session is somewhat overboard -- for the simple case, <code>exec_command(&#39;cd &#47;foo &amp;&amp; command_to_run_in_foo&#39;)</code> (ideally with <code>shlex.quote()</code> or <code>pipes.quote()</code> used to make the directory name safe to substitute into a string parsed as a shell command) suffices."}], "tags": [], "owner": {"reputation": 61, "user_id": 7103527, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jmialcl7b7k/AAAAAAAAAAI/AAAAAAAAAKo/yzB08U-PXrY/photo.jpg?sz=128", "display_name": "Nandha Kumar", "link": "https://stackoverflow.com/users/7103527/nandha-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545282841, "creation_date": 1545282841, "answer_id": 53862756, "question_id": 53859412, "link": "https://stackoverflow.com/questions/53859412/paramiko-calling-cd-command-with-exec-command-does-nothing/53862756#53862756", "title": "Paramiko: calling &quot;cd&quot; command with exec_command does nothing", "body": "<p>Paramiko SSH_Client opens a new session and executes the command in that session and once command execution gets completed, the session channel is closed. </p>\n\n<p>Executing 'cd' command would have been done in the first session and later on, for the next command the session would start again from home directory.</p>\n\n<p>If you want to hold the session, use invoke_shell for an interactive session.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11359460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lqpvz.jpg?s=128&g=1", "display_name": "OW-52", "link": "https://stackoverflow.com/users/11359460/ow-52"}, "is_accepted": false, "score": 0, "last_activity_date": 1581720071, "creation_date": 1581720071, "answer_id": 60234376, "question_id": 53859412, "link": "https://stackoverflow.com/questions/53859412/paramiko-calling-cd-command-with-exec-command-does-nothing/60234376#60234376", "title": "Paramiko: calling &quot;cd&quot; command with exec_command does nothing", "body": "<p>I needed to change directories and run an executable.  I have to do this all in one command.  The client unit was a windows 10 machine.\nThe cmd shell in windows is soo problematic!  Commands are different. ';' between commands doesn't work. You need to use '&amp;'. cd d:/someDirectory doesn't work.  You need '/d'.  'pwd' doesn't work.   Also, echo%cd% to pwd doesn't work reliably.  'cd' with no parameters for pwd does work reliably.  I was hoping the not working list would save you time.  This is where it landed. </p>\n\n<pre><code>cmd = 'cd /d D:\\someDirectory &amp; SomeExecutable.exe \n      someParameter'\nssh_stdin, ssh_stdout, ssh_stderr = \nssh.exec_command(cmd_1_to_execute)\n</code></pre>\n\n<p>To check directory change use the following: </p>\n\n<pre><code>cmd = 'cd /d D:\\someDirectory &amp; cd'\nssh_stdin, ssh_stdout, ssh_stderr = \nssh.exec_command(cmd_1_to_execute)\n\noutput = ssh_stdout.readline()\nerror = ssh_stderr.readline()\nprint(\"output: \" + output)\nprint(\"error: \" + error)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10813163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429d119970ba88e7da812a0a43241f02?s=128&d=identicon&r=PG&f=1", "display_name": "tornike", "link": "https://stackoverflow.com/users/10813163/tornike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2312, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1581720071, "creation_date": 1545254969, "last_edit_date": 1545354730, "question_id": 53859412, "link": "https://stackoverflow.com/questions/53859412/paramiko-calling-cd-command-with-exec-command-does-nothing", "title": "Paramiko: calling &quot;cd&quot; command with exec_command does nothing", "body": "<p>I have the following program using Paramiko:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport paramiko\n\nhostname = '192.168.1.12'\nport = 22\nusername = 'root'\npassword = 'whatl0ol'\n\nif __name__ == \"__main__\":\n    paramiko.util.log_to_file('paramiko.log')\n    ssh = paramiko.SSHClient()\n    ssh.load_system_host_keys()\n    ssh.connect(hostname, port, username, password)             \n\nwhile True:\n      pick = raw_input(\"sshpy: \")\n      stdin, stdout, stderr = ssh.exec_command(pick)\n      print stdout.readlines() \n</code></pre>\n\n<p>But when I connect and try to use <code>cd</code>, it doesn't work. How can I fix this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1762, "user_id": 1417451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82853d54858f517eb31723db2ca4704?s=128&d=identicon&r=PG", "display_name": "s3cur3", "link": "https://stackoverflow.com/users/1417451/s3cur3"}, "edited": false, "score": 1, "creation_date": 1545254933, "post_id": 53859387, "comment_id": 94566637, "body": "Please fix your indentation\u2014at least the line after <code>if input() == &quot;D&quot;:</code> should be indented."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 3, "creation_date": 1545255038, "post_id": 53859387, "comment_id": 94566679, "body": "each <code>input()</code> call waits for your response. You are essentially taking the input twice instead of (i suspect) just once as you actually want. take the input once, and store what the user enters in a variable. use THAT variable for checking. <code>user_response = input()</code> <code>if user_response == &#39;D&#39; </code> and <code>if user_response == &#39;A&#39;</code>"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "reply_to_user": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1545255144, "post_id": 53859387, "comment_id": 94566722, "body": "As @ParitoshSingh said, you should only take the input once, like <code>move=input(&quot;Quick, Dodge or attack,type D or A &quot;)</code> Also, rather than 2 if statements, I would recommend  if/else or if/elif for your different response conditions"}], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 3757757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhHJj.jpg?s=128&g=1", "display_name": "CrepeGoat", "link": "https://stackoverflow.com/users/3757757/crepegoat"}, "is_accepted": false, "score": 1, "last_activity_date": 1545255415, "creation_date": 1545255415, "answer_id": 53859506, "question_id": 53859387, "link": "https://stackoverflow.com/questions/53859387/input-in-python-not-working-when-after-another-input/53859506#53859506", "title": "Input() in python not working when after another input()", "body": "<p>Each <code>input</code> call waits for a keyboard input, so when you call <code>input()</code> twice, you're asking for <em>two</em> keyboard inputs.</p>\n\n<p>To fix, change your code to something like so:</p>\n\n<pre><code>user_input = input()\nif user_input == 'D':\n    # go through the \"dodge\" scenario\nelif user_input == 'A':\n    # go through the \"attack\" scenario\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10813134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1e135f5b66f76f004bfb7cb4bad6bd?s=128&d=identicon&r=PG&f=1", "display_name": "Connor C", "link": "https://stackoverflow.com/users/10813134/connor-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1545283050, "creation_date": 1545254844, "last_edit_date": 1545283050, "question_id": 53859387, "link": "https://stackoverflow.com/questions/53859387/input-in-python-not-working-when-after-another-input", "title": "Input() in python not working when after another input()", "body": "<p>When I have a line that has input() on it, the input() line after the first won't work when both are after each other. Here is my code.</p>\n\n<pre><code>from random import randint\nyou = 100\ntroll = 50\nsword = randint(5,20)\ngoblin_attack = randint(25,50)\nheal = you + 25\nt_f = randint(1,2)\nprint(\"______________________\")\nprint(\"WELCOME TO DRAGON GAME\")\nprint(\"WRITE YOUR NAME......\")\nx = input()\nprint(\"Hello,\")\nprint(x)\nprint(\"Lets begin....\")\nprint(\"______________________\")\nprint(\"You are in a troll cave\")\nprint(\"A troll attacks!\")\nprint(\"Quick, Dodge or attack,type D or A \")\nprint(\"______________________\")\nif input() == \"D\":\n  print(\"You attempt to dodge out of it's swing!\")\nif t_f == 1:\n  print(\"You dodge and attack!\")\nprint(\"You hit the troll for\")\nprint(sword)\nprint(\"damage\")\nprint(\"It has\")\nprint(troll - sword)\nprint(\"health left!\")\nif t_f == 2:\n  print(\"You trip! you got hit for\")\nprint(goblin_attack)\nprint(\"damage!\")\nprint(\"You have\")\nprint(you - goblin_attack)\nyou2 = you- goblin_attack\nprint(\"Health left!\")\nif input() == \"A\":\n print(\"You hit the troll for\")\nprint(sword)\nprint(\"damage\")\nprint(\"It has\")\nprint(troll - sword)\nprint(\"health left!\")\n</code></pre>\n\n<p>When I press A and hit enter, Nothing happens. But when I press D, it works. The first one always works no matter what I change the input to. Anyone have any idea how I can make both <code>input</code>s work?</p>\n"}, {"tags": ["python", "pip", "atom-editor", "conda", "simpy"], "comments": [{"owner": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "edited": false, "score": 0, "creation_date": 1545255862, "post_id": 53859344, "comment_id": 94567043, "body": "What version of simpy do you have? I assume that you are using python3?"}, {"owner": {"reputation": 11, "user_id": 10813123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rFlvmET_L5Y/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hKEdjD4bV0yrSvb1xEdLJRuYNWsQ/mo/photo.jpg?sz=128", "display_name": "Tom Curran", "link": "https://stackoverflow.com/users/10813123/tom-curran"}, "reply_to_user": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "edited": false, "score": 0, "creation_date": 1545261084, "post_id": 53859344, "comment_id": 94568833, "body": "correct - using python 3.7.1"}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1545278933, "post_id": 53859344, "comment_id": 94572507, "body": "Do you want simpy or sympy?  I tried &quot;conda install simpy&quot; and it couldn&#39;t find simpy. Sympy is a numerical package."}, {"owner": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "edited": false, "score": 0, "creation_date": 1545298544, "post_id": 53859344, "comment_id": 94579125, "body": "And what is the simpy version?"}, {"owner": {"reputation": 11, "user_id": 10813123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rFlvmET_L5Y/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hKEdjD4bV0yrSvb1xEdLJRuYNWsQ/mo/photo.jpg?sz=128", "display_name": "Tom Curran", "link": "https://stackoverflow.com/users/10813123/tom-curran"}, "reply_to_user": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1545346037, "post_id": 53859344, "comment_id": 94601471, "body": "@jmh - i wanted to install simpy to do some simulation modeling. I actually got it to work when I did the manual install from the pypal website and not through <code>conda install</code> or <code>pip install</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10813123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rFlvmET_L5Y/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hKEdjD4bV0yrSvb1xEdLJRuYNWsQ/mo/photo.jpg?sz=128", "display_name": "Tom Curran", "link": "https://stackoverflow.com/users/10813123/tom-curran"}, "is_accepted": false, "score": 0, "last_activity_date": 1545346076, "creation_date": 1545346076, "answer_id": 53877082, "question_id": 53859344, "link": "https://stackoverflow.com/questions/53859344/atom-and-jupyter-cant-find-simpy-module-installed-with-pip-pip3/53877082#53877082", "title": "Atom and Jupyter can&#39;t find SimPy module installed with pip/pip3", "body": "<p>Solution: </p>\n\n<p>download the files and follow the manual (non cli) method of installation. </p>\n"}], "owner": {"reputation": 11, "user_id": 10813123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rFlvmET_L5Y/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hKEdjD4bV0yrSvb1xEdLJRuYNWsQ/mo/photo.jpg?sz=128", "display_name": "Tom Curran", "link": "https://stackoverflow.com/users/10813123/tom-curran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545346076, "creation_date": 1545254676, "question_id": 53859344, "link": "https://stackoverflow.com/questions/53859344/atom-and-jupyter-cant-find-simpy-module-installed-with-pip-pip3", "title": "Atom and Jupyter can&#39;t find SimPy module installed with pip/pip3", "body": "<p>I want to install the SimPy module but when I import it into Atom and/or Jupyter Notebook/Lab it says its not found. When I dod <code>pip list</code> it says that it has been installed. I tried installing via <code>conda install</code> command but it won't install. </p>\n\n<p>Error Message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"file.py\", line 7, in &lt;module&gt;\n    import simpy\nModuleNotFoundError: No module named 'simpy'\n[Finished in 1.065s]\n</code></pre>\n\n<p>Suggestions?</p>\n"}, {"tags": ["javascript", "python", "html", "html-parsing"], "comments": [{"owner": {"reputation": 564, "user_id": 6291515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nzwcl.png?s=128&g=1", "display_name": "Chrisstar", "link": "https://stackoverflow.com/users/6291515/chrisstar"}, "edited": false, "score": 1, "creation_date": 1545254750, "post_id": 53859329, "comment_id": 94566565, "body": "Best way to go would be to use a script element with a custom language definition"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1545255020, "post_id": 53859329, "comment_id": 94566670, "body": "So basically what handlerbars, backbone, and other libraries do with script tags to hold  templates."}, {"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545255038, "post_id": 53859329, "comment_id": 94566680, "body": "Care to expound? I&#39;m looking for the functionality of the script element, so if that&#39;s an option I&#39;d love to hear more about it. Maybe leave an answer with a description of what you&#39;re talking about."}, {"owner": {"reputation": 564, "user_id": 6291515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nzwcl.png?s=128&g=1", "display_name": "Chrisstar", "link": "https://stackoverflow.com/users/6291515/chrisstar"}, "edited": false, "score": 0, "creation_date": 1545255064, "post_id": 53859329, "comment_id": 94566688, "body": "Similarly, and I think it&#39;s semantically quite good, as that&#39;s what script tags are for."}, {"owner": {"reputation": 564, "user_id": 6291515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nzwcl.png?s=128&g=1", "display_name": "Chrisstar", "link": "https://stackoverflow.com/users/6291515/chrisstar"}, "edited": false, "score": 1, "creation_date": 1545255118, "post_id": 53859329, "comment_id": 94566712, "body": "As the new answer says, as new script type would be the way to go. But I would use something like &quot;text/myLanguage&quot; because that&#39;s a valid mime type"}, {"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545255470, "post_id": 53859329, "comment_id": 94566863, "body": "Thanks for the quick replies. I like these ideas, curious though if it&#39;s feasible as a professional looking solution. Right now I&#39;m just planning, but I&#39;d like to eventually turn this into a real programming language for web development."}, {"owner": {"reputation": 564, "user_id": 6291515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nzwcl.png?s=128&g=1", "display_name": "Chrisstar", "link": "https://stackoverflow.com/users/6291515/chrisstar"}, "edited": false, "score": 0, "creation_date": 1545319538, "post_id": 53859329, "comment_id": 94590172, "body": "Do you have a github where I can watch progress, I would be interested in this. I wrote a little (but quite capable) lexer a while ago myself, but didn&#39;t do much with it then."}, {"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545322120, "post_id": 53859329, "comment_id": 94591659, "body": "At the moment, no. I&#39;ve got a bunch of other projects I&#39;m working on right now, so this will not move along very fast. If you&#39;d like to share what you made I&#39;d love to see how far you got. I made a programming language called Sapphire long ago so I&#39;m familiar with the concepts."}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545255294, "post_id": 53859433, "comment_id": 94566795, "body": "Wow! Thanks for the quick reply. So the top code snippet would be a separate file? I&#39;m trying to keep as much of the inner-workings away from the HTML file and make it easy to implement for whoever is coding in HTML. Out of curiosity, could I then use the links I referenced above to define a tag that basically boils down to what you put? Thanks"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545255720, "post_id": 53859433, "comment_id": 94566985, "body": "If you wanted to remove the custom language from the HTML, you would have to make a network request to access the code, which would mean a bit more delay before the code gets executed. It&#39;s a perfectly fine option, it&#39;s just a tradeoff you&#39;d have to consider. I wouldn&#39;t recommend using custom elements as in your links because their support is too spotty - it&#39;s too new of a technology to be supported by many older browsers. It also looks like custom elements are meant to be used to contain <i>HTML markup</i>, which isn&#39;t what you&#39;re doing."}, {"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545256048, "post_id": 53859433, "comment_id": 94567122, "body": "Great, thanks for the suggestion. I&#39;ll definitely be implementing this. Also I plan to use the same syntax as a server side language with built in support for basically Node.js&#39; Express and Python&#39;s Flask. Is there a way to, when serving files dynamically, insert a <code>&lt;script src=&quot;my-lang.js&quot;&gt;</code> into their HTML when using Express in Node.js or Flask in Python? This way it&#39;s almost like my language is automatically supported in HTML. Don&#39;t know if this should be a separate question, but I figured I&#39;d ask you."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1545256596, "post_id": 53859433, "comment_id": 94567302, "body": "I don&#39;t know Flask/Express, but I&#39;m pretty sure non-Javascript, non-image resources can&#39;t be loaded automatically from the HTML alone (like with a <code>src</code> attribute) - pretty sure a Javascript network request is the only way it can be done. (unless you were wiling to link to a Javascript file that <i>contains your custom code</i>, eg a script that contains <code>window.myCustomScript = `&lt;lots of code in your custom language&gt;`;</code> - but that&#39;s pretty weird)"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1545255061, "creation_date": 1545255061, "answer_id": 53859433, "question_id": 53859329, "link": "https://stackoverflow.com/questions/53859329/new-tag-and-parser-in-html/53859433#53859433", "title": "New tag and parser in HTML", "body": "<p>Rather than using a new nonstandard tag in the HTML, I would recommend considering using a <code>&lt;script&gt;</code> tag. Although <code>&lt;script&gt;</code> tags are <em>often</em> for Javascript, this is not always the case. For example, one possible technique for the server to send data for the client's JS to parse is to put JSON in a tag like <code>&lt;script type=\"application/json\"&gt;{\"foo\":\"bar\"}&lt;/script&gt;</code>. Scripts with types other than <code>type=\"javascript\"</code> will not be attempted to be parsed as Javascript, but the data inside the tag can be <em>retrieved</em> with Javascript. You can do that by selecting the tag and then accessing its <code>textContent</code> property. (The <code>innerHTML</code> property is probably only appropriate when you deliberately want to retrieve HTML markup - otherwise, probably best to use <code>textContent</code>)</p>\n\n<p>You can use nearly the same technique, but rather than <code>JSON.parse</code>ing the content of the <code>&lt;script&gt;</code> tag, send it through your parser.</p>\n\n<p>For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const tag = document.querySelector('script[type=\"myNewLanguage\"]');\r\nconst scriptText = tag.textContent;\r\n\r\n// use your parser to parse scriptText\r\nscriptText.split('\\n').forEach(line =&gt; {\r\n  console.log(line);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script type=\"myNewLanguage\"&gt;foo\r\nbar\r\nbaz&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "accepted_answer_id": 53859433, "answer_count": 1, "score": 1, "last_activity_date": 1545255061, "creation_date": 1545254622, "question_id": 53859329, "link": "https://stackoverflow.com/questions/53859329/new-tag-and-parser-in-html", "title": "New tag and parser in HTML", "body": "<p>I've sketched out a new programming language for client side scripting. I'm familiar with how to build a language, and most of the work that goes into it. I'm prepared for a long project but have a few questions about how to implement it into a HTML file. I'd like to implement something like the &lt;script> tag in HTML, and I've found a few links that explain how to add a new tag to HTML. I figure developers will have to connect to a js file with the language parser (it's actually more than a parser, but that's besides the point) in the head of their HTML file, like so: <code>&lt;script src=\"my-lang.js\"&gt;&lt;/script&gt;</code>. Here are some of the links I've found:\n<a href=\"https://blog.teamtreehouse.com/create-custom-html-elements-2\" rel=\"nofollow noreferrer\">https://blog.teamtreehouse.com/create-custom-html-elements-2</a>\n<a href=\"https://developers.google.com/web/fundamentals/web-components/customelements\" rel=\"nofollow noreferrer\">https://developers.google.com/web/fundamentals/web-components/customelements</a></p>\n\n<p>Here are some of my questions, assuming I want my language between &lt;my-language> tags:</p>\n\n<ol>\n<li>How do I prevent the browser's HTML parser from misinterpreting whatever is in the &lt;my-language> tags as HTML code? All the code in my language would show up as plain text on the website from what I can see.</li>\n<li>How can I implement my parser into the JS file? I'm not asking how to parse a custom language, just where to put it. The first link mentions a <code>createdCallback()</code> function that is called when a &lt;my-language> tag is used. Assuming nobody adds a &lt;my-language> tag with JavaScript later (which for this language that would be pointless) that callback should be called anytime the custom tag is used.</li>\n<li>To parse my language, should I access the innerHTML attribute of my custom tag? I don't know if by parsing time the tag even has that attribute, or if I have to add that attribute, as I'm not familiar with how that part of it works.</li>\n</ol>\n\n<p>Thanks for putting up with my silly questions. I like to dive into the deep end with this stuff even though I'm fairly new at this part of scripting. Basically, this is what I want the code to look like:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;&lt;script src=\"my-lang.js\"&gt;&lt;/script&gt;&lt;/head&gt;\n    &lt;my-language&gt;\n        //do some stuff in my language, like DOM editing. \n        //Just a replacement for JavaScript basically that doesn't serve much purpose.\n    &lt;/my-language&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any suggestions would be appreciated. Thanks in advance!</p>\n"}, {"tags": ["python", "python-3.x", "sqlite", "tkinter"], "comments": [{"owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "edited": false, "score": 0, "creation_date": 1545261362, "post_id": 53859328, "comment_id": 94568910, "body": "The order of arguments when calling <code>updateStock()</code>  is not the same as its definition."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8383003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b56a035f53214b87db637c9cadda7?s=128&d=identicon&r=PG&f=1", "display_name": "undergrad2020", "link": "https://stackoverflow.com/users/8383003/undergrad2020"}, "edited": false, "score": 0, "creation_date": 1545255223, "post_id": 53859389, "comment_id": 94566753, "body": "while this helps in the sense that i now know i have to change the names of my variables, how would i determine the ID?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1545255501, "post_id": 53859389, "comment_id": 94566879, "body": "In <code>updateStock(id, getvalue[0])</code>, replace <code>id</code> with whatever you want <code>qty</code> to be in the function call.  (It also looks like you have your arguments backwards there)"}, {"owner": {"reputation": 393, "user_id": 3438102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add54ef97a6659573cc3d131c3974348?s=128&d=identicon&r=PG", "display_name": "Matthew Woodruff", "link": "https://stackoverflow.com/users/3438102/matthew-woodruff"}, "reply_to_user": {"reputation": 33, "user_id": 8383003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b56a035f53214b87db637c9cadda7?s=128&d=identicon&r=PG&f=1", "display_name": "undergrad2020", "link": "https://stackoverflow.com/users/8383003/undergrad2020"}, "edited": false, "score": 0, "creation_date": 1545255546, "post_id": 53859389, "comment_id": 94566900, "body": "@R.Place  There&#39;s not enough information to say, from your post.  Presumably it has something to do with <code>contents</code>."}, {"owner": {"reputation": 33, "user_id": 8383003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b56a035f53214b87db637c9cadda7?s=128&d=identicon&r=PG&f=1", "display_name": "undergrad2020", "link": "https://stackoverflow.com/users/8383003/undergrad2020"}, "edited": false, "score": 0, "creation_date": 1545255577, "post_id": 53859389, "comment_id": 94566917, "body": "would you recommend replacing <code>id</code> with <code>new_qty</code>?"}, {"owner": {"reputation": 393, "user_id": 3438102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add54ef97a6659573cc3d131c3974348?s=128&d=identicon&r=PG", "display_name": "Matthew Woodruff", "link": "https://stackoverflow.com/users/3438102/matthew-woodruff"}, "edited": false, "score": 0, "creation_date": 1545255623, "post_id": 53859389, "comment_id": 94566939, "body": "No, it looks like you need the ID for your database query."}, {"owner": {"reputation": 33, "user_id": 8383003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b56a035f53214b87db637c9cadda7?s=128&d=identicon&r=PG&f=1", "display_name": "undergrad2020", "link": "https://stackoverflow.com/users/8383003/undergrad2020"}, "edited": false, "score": 0, "creation_date": 1545255807, "post_id": 53859389, "comment_id": 94567021, "body": "Okay, I will take a look at it and see if i can solve it"}], "tags": [], "owner": {"reputation": 393, "user_id": 3438102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add54ef97a6659573cc3d131c3974348?s=128&d=identicon&r=PG", "display_name": "Matthew Woodruff", "link": "https://stackoverflow.com/users/3438102/matthew-woodruff"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254848, "creation_date": 1545254848, "answer_id": 53859389, "question_id": 53859328, "link": "https://stackoverflow.com/questions/53859328/typeerror-unsupported-operand-types-for-int-and-builtin-function-or-met/53859389#53859389", "title": "TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;builtin_function_or_method&#39;", "body": "<p>You're passing the builtin <code>id</code> function to <code>updateStock</code>.  That does not end well.  I'd avoid that name for variables.  You need to find a way to determine the ID you're interested in, in your <code>Move</code> function.</p>\n"}], "owner": {"reputation": 33, "user_id": 8383003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b56a035f53214b87db637c9cadda7?s=128&d=identicon&r=PG&f=1", "display_name": "undergrad2020", "link": "https://stackoverflow.com/users/8383003/undergrad2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545254848, "creation_date": 1545254612, "question_id": 53859328, "link": "https://stackoverflow.com/questions/53859328/typeerror-unsupported-operand-types-for-int-and-builtin-function-or-met", "title": "TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;builtin_function_or_method&#39;", "body": "<p>I am attempting to minus a user inputted integer from product_qty within my sqlite3 database and I am getting this error:</p>\n\n<p>TypeError: unsupported operand type(s) for -: 'int' and 'builtin_function_or_method'</p>\n\n<p>These are the two functions that are involved when giving this error.</p>\n\n<pre><code>def Move():\n        curItem = tree.focus()\n        print (tree.item(curItem))\n        contents = (tree.item(curItem))\n        getvalue = contents.get('values')\n        print(getvalue)\n        selecteditem = contents['values']\n        updateStock(id, getvalue[0])\n        Database()\n        cursor.execute(\"INSERT INTO `basket` VALUES(?, ?, ?, ?)\", getvalue)\n        conn.commit()\n        PRODUCT_ID.set(\"\")\n        PRODUCT_NAME.set(\"\")\n        PRODUCT_PRICE.set(\"\")\n        PRODUCT_QTY.set(\"\")\n        conn.close()\n\ndef updateStock(qty, id):\n        t = (id,)\n        Database()\n        cursor.execute(\"SELECT product_qty FROM product WHERE product_id = ?\", t)\n        old_qty = cursor.fetchone()\n        new_qty = 0\n        new_qty = int(old_qty[0]) - qty\n        cursor.execute(\"UPDATE product SET product_qty = ? WHERE product_id = ?\", (new_qty, id))\n        conn.commit()\n        conn.close()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1545254879, "post_id": 53859319, "comment_id": 94566618, "body": "You want to find the row and column indices where <code>&quot;TOM&quot;</code> is contained somewhere within the string in any cell?"}, {"owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1545254999, "post_id": 53859319, "comment_id": 94566661, "body": "Yes - something to indicate that \u201cTOM\u201d exists anywhere in the file. I\u2019m basically Just trying to get an idea on how to parse through all the rows and columns in excel sheet so that I can either find values or modify some values based on the regular expression condition."}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1545256024, "post_id": 53859319, "comment_id": 94567113, "body": "the <code>pandas</code> string methods tend to be on the slower side if you have a large amount of data. Otherwise you can use <code>.applymap</code> to make your code rather concise, for instance <code>df.applymap(lambda x: &#39;TOM&#39; in x)</code> will provide a <code>Boolean</code> mask of your entire <code>DataFrame</code> that you can combine with <code>DataFrame.where</code> to manipulate only those cells."}, {"owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1545338358, "post_id": 53859319, "comment_id": 94598650, "body": "thats a good suggestion - let me look into that"}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "edited": false, "score": 0, "creation_date": 1545342228, "post_id": 53859498, "comment_id": 94600190, "body": "worked well - thanks. Just one question - how does the following statement work? i see that we have two variables in the for loop ( index and row ) - are they both getting incremented? &quot;for index, row in excelFile.iterrows():&quot;"}, {"owner": {"reputation": 722, "user_id": 8191362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f8be2ba9c6b3063c49ddc21b73e24e?s=128&d=identicon&r=PG&f=1", "display_name": "pistolpete", "link": "https://stackoverflow.com/users/8191362/pistolpete"}, "reply_to_user": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "edited": false, "score": 1, "creation_date": 1545345443, "post_id": 53859498, "comment_id": 94601299, "body": "Yes, exactly. They are both being incremented. <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows\" rel=\"nofollow noreferrer\">pd.DataFrame.iterrows</a> is a generator which yields both index and row."}, {"owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "edited": false, "score": 0, "creation_date": 1545347137, "post_id": 53859498, "comment_id": 94601765, "body": "also for the line &quot;cell = row[col]&quot; the value within the square brackets should be an integer right? does this mean that even though &quot;columns&quot; is a list of all the columns ....&quot;col&quot; is just the integer value? I tried doing &quot;cell=col[row]&quot; and that does not work."}, {"owner": {"reputation": 722, "user_id": 8191362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f8be2ba9c6b3063c49ddc21b73e24e?s=128&d=identicon&r=PG&f=1", "display_name": "pistolpete", "link": "https://stackoverflow.com/users/8191362/pistolpete"}, "reply_to_user": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "edited": false, "score": 0, "creation_date": 1545404117, "post_id": 53859498, "comment_id": 94620122, "body": "No. Column in the name of the column."}], "tags": [], "owner": {"reputation": 722, "user_id": 8191362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f8be2ba9c6b3063c49ddc21b73e24e?s=128&d=identicon&r=PG&f=1", "display_name": "pistolpete", "link": "https://stackoverflow.com/users/8191362/pistolpete"}, "is_accepted": true, "score": 2, "last_activity_date": 1545256579, "last_edit_date": 1545256579, "creation_date": 1545255395, "answer_id": 53859498, "question_id": 53859319, "link": "https://stackoverflow.com/questions/53859319/using-the-read-excel-function-in-panda-to-go-through-all-the-columns-in-an-excel/53859498#53859498", "title": "Using the read_excel function in panda to go through all the columns in an excel file", "body": "<p><code>excelFile.any(axis=None)</code> will return a boolean value telling you if the value was found anywhere in the dataframe.</p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.any.html\" rel=\"nofollow noreferrer\">Documentation for pd.DataFrame.any</a></p>\n\n<p>To print if the value was found, get the columns from the dataframe and use iterrows:</p>\n\n<pre><code># Create a list of columns in the dataframe\ncolumns = excelFile.columns.tolist()\n\n# Loop through indices and rows in the dataframe using iterrows\nfor index, row in excelFile.iterrows():\n    # Loop through columns\n    for col in columns:\n        cell = row[col]\n        # If we find it, print it out\n        if re.match(\".*TOM.*\", cell):\n            print(f'Found at Index: {index} Column: {col}')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "edited": false, "score": 0, "creation_date": 1545255672, "post_id": 53859514, "comment_id": 94566965, "body": "what is df defined as?"}], "tags": [], "owner": {"reputation": 1924, "user_id": 5516874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ioXgB.jpg?s=128&g=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/5516874/jessica"}, "is_accepted": false, "score": 1, "last_activity_date": 1545255690, "last_edit_date": 1545255690, "creation_date": 1545255458, "answer_id": 53859514, "question_id": 53859319, "link": "https://stackoverflow.com/questions/53859319/using-the-read-excel-function-in-panda-to-go-through-all-the-columns-in-an-excel/53859514#53859514", "title": "Using the read_excel function in panda to go through all the columns in an excel file", "body": "<p>something like this loops through all of the columns and looking for a string match   </p>\n\n<pre><code>for column in excelFile:\n      if 'tom' in column.lower():\n          print(column)\n</code></pre>\n"}], "owner": {"reputation": 675, "user_id": 1187936, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/987cd8021635ae71d4dd67585a4f4aab?s=128&d=identicon&r=PG", "display_name": "Nidhin_toms", "link": "https://stackoverflow.com/users/1187936/nidhin-toms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 0, "accepted_answer_id": 53859498, "answer_count": 2, "score": 0, "last_activity_date": 1545256579, "creation_date": 1545254594, "question_id": 53859319, "link": "https://stackoverflow.com/questions/53859319/using-the-read-excel-function-in-panda-to-go-through-all-the-columns-in-an-excel", "title": "Using the read_excel function in panda to go through all the columns in an excel file", "body": "<p>What the code does below is read a column (named \"First\") and look for the string \"TOM\". </p>\n\n<p>I want to go through all the columns in the file ( not just the \"First\" column) - i was thinking of doing something like excelFile[i][j] where i and j are set in a loop but that does not work. Any ideas?</p>\n\n<pre><code>import pandas as pd\nfrom pandas import ExcelWriter\nfrom pandas import ExcelFile\nimport re\n\nexcelFile=pd.read_excel(\"test.xls\")\n\nfor i in excelFile.index:\nmatch=re.match(\".*TOM.*\",excelFile['First'][i])\nif match:\n    print(excelFile['First'][i])\n    print(\"check\")\n</code></pre>\n"}, {"tags": ["python", "solr", "ckan"], "comments": [{"owner": {"reputation": 1037, "user_id": 3366016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4721c96622c2e1798f6cfece8a0f52f?s=128&d=identicon&r=PG&f=1", "display_name": "user3366016", "link": "https://stackoverflow.com/users/3366016/user3366016"}, "edited": false, "score": 0, "creation_date": 1545339636, "post_id": 53859290, "comment_id": 94599130, "body": "Not even an upvote? Look at the beautiful question structure lol... eventually I&#39;ll get this working. May involve a PR to CKAN core&#39;s <code>search()</code> action / view blueprint though to look for fq params."}], "answers": [{"tags": [], "owner": {"reputation": 1037, "user_id": 3366016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4721c96622c2e1798f6cfece8a0f52f?s=128&d=identicon&r=PG&f=1", "display_name": "user3366016", "link": "https://stackoverflow.com/users/3366016/user3366016"}, "is_accepted": true, "score": 0, "last_activity_date": 1547675317, "creation_date": 1547675317, "answer_id": 54225905, "question_id": 53859290, "link": "https://stackoverflow.com/questions/53859290/how-to-add-custom-dataset-facet-solr-filter-in-ckans-web-ui/54225905#54225905", "title": "How to add custom dataset facet / solr filter in CKAN&#39;s Web UI?", "body": "<p>As per my last update, it appears the best way to approach this is through <a href=\"https://docs.ckan.org/en/2.8/extensions/plugin-interfaces.html#ckan.plugins.interfaces.IPackageController\" rel=\"nofollow noreferrer\">IPackageController</a> from an extension and use <a href=\"https://docs.ckan.org/en/2.8/extensions/plugin-interfaces.html#ckan.plugins.interfaces.IPackageController.before_search\" rel=\"nofollow noreferrer\"><code>before_search()</code></a> to modify the search params.</p>\n\n<p>This works well however, it would be nice if CKAN allowed a way to pass in additional <code>fq</code> filters on it's main search pages (dataset and organization <code>?fq=num_resources:[1 TO *]</code> and append to fq). Also, it seems that datasets is slightly different in assigning params to <code>fq</code> than organizations. You can see this in these 2 lines from their actions (<a href=\"https://github.com/ckan/ckan/blob/b5aeb795e0b1624238df1190e24ec6b1228b67d6/ckan/controllers/package.py#L217\" rel=\"nofollow noreferrer\">dataset search</a> vs <a href=\"https://github.com/ckan/ckan/blob/10ef0dacdb023d377b00a4e390f571b5d51be3d4/ckan/controllers/group.py#L302\" rel=\"nofollow noreferrer\">organization read</a>). In my case I decided to only handle this for dataset searching.</p>\n\n<p><strong>Main pieces</strong></p>\n\n<pre><code># In plugin class implement IPackageController.\nclass CustomPlugin(plugins.SingletonPlugin, toolkit.DefaultDatasetForm):\n    ...\n    plugins.implements(plugins.IPackageController)\n\n\n    # Lower in plugin class add needed functions from IPackageController, \n    # I decided to add them all and leave them untouched to avoid various \n    # errors I was getting.\n    def before_search(self, search_params):\n        u'''Extensions will receive a dictionary with the query parameters,\n        and should return a modified (or not) version of it.\n\n        Basically go over all search_params and look for values that contain my \n        additional filter and remove the double quotes. All fq values are a \n        single string, so do exact match to not remove other escaping / quotes.\n\n        In query string in URL if you do `?num_resources=0` you get datasets with no\n        resources (the opposite of this query string).\n        '''\n        for (param, value) in search_params.items():\n            if param == 'fq' and 'num_resources:\"[' in value:\n                v = value.replace('num_resources:\"[1 TO *]\"', 'num_resources:[1 TO *]')\n                search_params[param] = v\n\n        return search_params\n\n    def after_search(self, search_results, search_params):\n        return search_results\n\n    def before_index(self, pkg_dict):\n        return pkg_dict\n\n    def before_view(self, pkg_dict):\n        return pkg_dict\n\n    def read(self, entity):\n        return entity\n\n    def create(self, entity):\n        return entity\n\n    def edit(self, entity):\n        return entity\n\n    def delete(self, entity):\n        return entity\n\n    def after_create(self, context, pkg_dict):\n        return pkg_dict\n\n    def after_update(self, context, pkg_dict):\n        return pkg_dict\n\n    def after_delete(self, context, pkg_dict):\n        return pkg_dict\n\n    def after_show(self, context, pkg_dict):\n        return pkg_dict\n</code></pre>\n\n<p>Then for the UI I added a custom facet list on the <code>search.html</code> template.</p>\n\n<pre><code>&lt;div&gt;\n  &lt;section class=\"module module-narrow module-shallow\"&gt;\n    {% block facet_list_heading %}\n      &lt;h2 class=\"module-heading\"&gt;\n        &lt;i class=\"fa fa-filter\"&gt;&lt;/i&gt;\n        {% set title = 'Resources (data)' %}\n        {{ title }}\n      &lt;/h2&gt;\n    {% endblock %}\n    {% block facet_list_items %}\n      {% set title = 'Has Resources (data)' %}\n      &lt;nav&gt;\n        &lt;ul class=\"{{ nav_class or 'list-unstyled nav nav-simple nav-facet' }}\"&gt;\n          {% set href = h.remove_url_param('num_resources',\n                                           extras=extras,\n                                           alternative_url=alternative_url) \n                        if c.fields_grouped['num_resources'] \n                        else h.add_url_param(new_params={'num_resources': '[1 TO *]' },\n                                            alternative_url=alternative_url) %}\n          &lt;li class=\"{{ nav_item_class or 'nav-item' }}{% if c.fields_grouped['num_resources'] %} active{% endif %}\"&gt;\n            &lt;a href=\"{{ href }}\" title=\"{{ title }}\"&gt;\n              &lt;span&gt;{{ title }}&lt;/span&gt;\n            &lt;/a&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/nav&gt;\n    {% endblock %}\n  &lt;/section&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Doing it this way it doesn't add a new facet using IFacets as this adds a facet list for num_resources that gives the filter options of 0, 1, 2, 3, ... (or whatever makes sense for your setup e.g. if a dataset has 15 resources it shows that as an option). </p>\n\n<p>I also did some modifications to the <code>search_form.html</code> snippet to get the facet filter to display how I wanted it but that was just extra.</p>\n"}], "owner": {"reputation": 1037, "user_id": 3366016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4721c96622c2e1798f6cfece8a0f52f?s=128&d=identicon&r=PG&f=1", "display_name": "user3366016", "link": "https://stackoverflow.com/users/3366016/user3366016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 54225905, "answer_count": 1, "score": 1, "last_activity_date": 1547675317, "creation_date": 1545254455, "last_edit_date": 1547672974, "question_id": 53859290, "link": "https://stackoverflow.com/questions/53859290/how-to-add-custom-dataset-facet-solr-filter-in-ckans-web-ui", "title": "How to add custom dataset facet / solr filter in CKAN&#39;s Web UI?", "body": "<h1>Question:</h1>\n\n<p>How am I able to reproduce the result from the url below from the <a href=\"https://docs.ckan.org/en/2.8/api/#ckan.logic.action.get.package_search\" rel=\"nofollow noreferrer\"><code>package_search</code> API endpoint</a> with CKAN's web UI?</p>\n\n<pre><code>https://demo.ckan.org/api/3/action/package_search?fq=num_resources:[1%20TO%20*]\n</code></pre>\n\n<p><strong>I want to let a user filter by Packages with resources or without (0 <code>num_resources</code> or 1 to * <code>num_resources</code>).</strong></p>\n\n<h1>What I've tried:</h1>\n\n<p>I've looked at and tried adding some facets and sorting already. </p>\n\n<p>The facet allows filtering by Packages with X number of resources (e.g. 1). The sorting allows you to Sort all data sets by order of number of resources e.g. Packages with 10 resources first then 9 resources, then 8, etc...</p>\n\n<p>I've tried to duplicate the API URI with the below</p>\n\n<pre><code>https://demo.ckan.org/dataset?num_resources=[1%20TO%20*]\n</code></pre>\n\n<p>If I add the <code>fq</code> portion it does not work either. The <code>search()</code> action will grab <code>num_resources=[1 TO *]</code> and append it to the solr <code>fq</code> param (<a href=\"https://github.com/ckan/ckan/blob/b5aeb795e0b1624238df1190e24ec6b1228b67d6/ckan/controllers/package.py#L277\" rel=\"nofollow noreferrer\">can be seen here with log statements</a>).</p>\n\n<p>However, after trouble shooting this I've found that the CKAN Package controller's <code>search()</code> action DOES allow you to add values to the <a href=\"https://github.com/ckan/ckan/blob/b5aeb795e0b1624238df1190e24ec6b1228b67d6/ckan/controllers/package.py#L217\" rel=\"nofollow noreferrer\">solr filter option <code>fq</code></a> like in the API call BUT that it first converts the params to a string <code>num_resources:\"[1 TO *]\"</code>. This works fine to get a single value but not the range I'm after.  If I use this exact param (with the quotes and not like the above url/api endpoint) with the API I get the incorrect result as well.</p>\n\n<h2>General Info:</h2>\n\n<ul>\n<li>using ckan 2.8.1</li>\n<li><a href=\"https://docs.ckan.org/en/2.8/maintaining/installing/install-from-source.html\" rel=\"nofollow noreferrer\">source install</a>, deployed to <a href=\"https://docs.ckan.org/en/2.8/maintaining/installing/deployment.html\" rel=\"nofollow noreferrer\">production</a> following the docs but using as my dev box</li>\n</ul>\n\n<h1>UPDATES:</h1>\n\n<p><strong>2018-12-20:</strong></p>\n\n<p>I have since found that <code>q=num_resources:[1%20TO%20*]</code> as a query string works as this is not escaped in the <code>search()</code> action. The <code>q</code> parameters are extracted before the encoding takes place. </p>\n\n<p>However, this isn't ideal as it updates the search input and overrides any existing query strings unless you append to the query string and adding this to the filters so far is a pain.</p>\n\n<pre><code># I've switched spaces to + to help with readability.\nhttps://demo.ckan.org/dataset?q=num_resources:[1+TO+*]+Test\n</code></pre>\n\n<p><strong>2018-12-21:</strong></p>\n\n<p>Working on implementing <a href=\"https://docs.ckan.org/en/2.8/extensions/plugin-interfaces.html#ckan.plugins.interfaces.IPackageController\" rel=\"nofollow noreferrer\">IPackageController</a> from within an extension. This seems to be the proper way to go about this given the circumstances. Will add implementation after.</p>\n\n<p>However, I feel an updated implementation of the params could be done in ckan's <a href=\"https://github.com/ckan/ckan/blob/b5aeb795e0b1624238df1190e24ec6b1228b67d6/ckan/controllers/package.py#L217\" rel=\"nofollow noreferrer\">package_search</a></p>\n\n<p>Turns out the <a href=\"https://github.com/ckan/ckan/blob/b5aeb795e0b1624238df1190e24ec6b1228b67d6/ckan/controllers/package.py#L217\" rel=\"nofollow noreferrer\">search index</a> and <a href=\"https://github.com/ckan/ckan/blob/10ef0dacdb023d377b00a4e390f571b5d51be3d4/ckan/controllers/group.py#L302\" rel=\"nofollow noreferrer\">organization read</a> are implemented quite a bit differently so the exact same implementation wont work. extra params are actually included as part of the <code>q</code> parameters instead of <code>fq</code> like search.</p>\n"}, {"tags": ["python", "multidimensional-array", "while-loop"], "comments": [{"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1545256194, "post_id": 53859281, "comment_id": 94567163, "body": "Can you explain the logic of the game? What&#39;s a node?"}, {"owner": {"reputation": 3, "user_id": 9058451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfR2A.png?s=128&g=1", "display_name": "Code_Cuts", "link": "https://stackoverflow.com/users/9058451/code-cuts"}, "reply_to_user": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "edited": false, "score": 0, "creation_date": 1545260824, "post_id": 53859281, "comment_id": 94568766, "body": "So the logic is: each number in the pyramid represents a node. Starting from the number 1 roll a four-sided die with directions UL, UR, DL, DR which stand for up left, down right respectively. The object is to have the dice roll (randomly) and based on the number rolled go in that direction so long as there is another node to travel to. #5 can go UL, UR, DL, and DR,  which are 2,3,8,9 respectively I am getting out of bounds errors when trying to traverse the entire pyramid.  Visited nodes are marked with a dot and the game ends once every node has at least one dot."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9058451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfR2A.png?s=128&g=1", "display_name": "Code_Cuts", "link": "https://stackoverflow.com/users/9058451/code-cuts"}, "edited": false, "score": 0, "creation_date": 1545332189, "post_id": 53863763, "comment_id": 94596322, "body": "From reading through your code, It has to do with bounds checking. I made some changes to my code and the bounds are still an issue. I think this is one of the situations where I know the change to make, I just don&#39;t know where to make the changes haha. Thanks."}, {"owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "reply_to_user": {"reputation": 3, "user_id": 9058451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfR2A.png?s=128&g=1", "display_name": "Code_Cuts", "link": "https://stackoverflow.com/users/9058451/code-cuts"}, "edited": false, "score": 0, "creation_date": 1545333386, "post_id": 53863763, "comment_id": 94596746, "body": "I&#39;d add a check just after the <code>random_roll</code>, to confirm that the next position has valid indexes. If false, roll again. If true, go on with the program."}], "tags": [], "owner": {"reputation": 9663, "user_id": 5239030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76JEw.png?s=128&g=1", "display_name": "iGian", "link": "https://stackoverflow.com/users/5239030/igian"}, "is_accepted": false, "score": 0, "last_activity_date": 1545288842, "creation_date": 1545288842, "answer_id": 53863763, "question_id": 53859281, "link": "https://stackoverflow.com/questions/53859281/how-would-i-correct-the-pyramid-traversal-as-it-is-not-working-correctly/53863763#53863763", "title": "How would I correct the pyramid traversal as it is not working correctly?", "body": "<p>I did not debug your code, but trying to write a different one. I hope you can get an hint for finding out what is causing the error.</p>\n\n<p>Here is the code I came out, please check the method <code>is_node(pos, height)</code>, I guess the answer could be there:</p>\n\n<pre><code>import random\n\ndef build_a_pyramid_of(n):\n  res, tmp = [], []\n  for i in range(n+1):\n    tmp.append(i)\n    if len(tmp) &gt; len(res[:-1]):\n      res.append(tmp)\n      tmp = []\n  return res[1:]\n\ndef nodes(pyramid):\n  nodes = []\n  for line in pyramid: nodes.extend(line)\n  return nodes\n\ndef get_a_move():\n  moves = [(1,0),(0,1),(-1,0),(0,-1)] # change the moves as you will\n  return random.choice(moves)\n\ndef is_node(pos, height):\n  x, y  = pos[0], pos[1]\n  if y &gt;= 0 and y &lt;= x and x &lt;= height: return True\n  else: return False\n\ndef next_pos_from(pos, height):\n  try_pos = (0,0)\n  while True:\n    move = get_a_move()\n    try_pos = (pos[0] + move[0], pos[1] + move[1])\n    if is_node(try_pos, height): break\n  return try_pos\n\n# initialize\npyramid = build_a_pyramid_of(21)\nnodes = nodes(pyramid)\nheigth = len(pyramid)-1 # to just pass the heigh, not all the pyramid\n\n# to visualize the pyramyd and nodes\nfor e in pyramid: print(e)\nprint('-'*20)\nprint(nodes)\nprint('-'*20)\n\n# loop to transverse the pramyd\npos=(0,0)\nwhile len(nodes) &gt; 0:\n  node = pyramid[pos[0]][pos[1]]\n  if node in nodes: nodes.remove(node)\n  old_pos = pos\n  pos = next_pos_from(pos, heigth)\n  print(old_pos, \"-&gt;\", pos, node, nodes) # to visuzlize the proces\n\nprint(nodes) #=&gt; should return empty list\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9058451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfR2A.png?s=128&g=1", "display_name": "Code_Cuts", "link": "https://stackoverflow.com/users/9058451/code-cuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545288842, "creation_date": 1545254427, "question_id": 53859281, "link": "https://stackoverflow.com/questions/53859281/how-would-i-correct-the-pyramid-traversal-as-it-is-not-working-correctly", "title": "How would I correct the pyramid traversal as it is not working correctly?", "body": "<p>This is the error I get when I ran the code: Traceback (most recent call last):\n  File \"C:/Users/Ian/.PyCharmCE2018.2/config/scratches/pyramid.py\", line 95, in \n    elif random_roll == 2  and (pd[y][x]) != 3 \\\nIndexError: list index out of range</p>\n\n<p>The error changes every time I run the program because it follows a different path ( or it's supposed to). I have four directions that I am trying to go up left, up right, down left, downright from each node in PD, if There isn't a node in the randomized direction I log it and try again till I find the proper direction to go. I have issues when going DL from 2 it will go to 6 instead of 5 and UR from 9 will give an out of bounds error. I have spent several hours playing around with the coordinates yet to no avail. Would someone please assist me as I am unable to understand why it's going out of bounds.</p>\n\n<pre><code>import random\n\n\npd = [ #This is the visual of the pyramid\n\n[                 1                    ], #[0][0]  row and total col# ex [2][1] = 5\n[              2,    3                 ], #[1][1]\n[            4,   5,    6,             ], #[2][2]\n[         7,   8,    9,   10,          ], #[3][3]\n[      11,  12,   13,  14,   15,       ], #[4][4]\n[    16,  17,   18,  19,  20,    21,   ], #[5][5]\n\n]\n\n\ndots_list = [[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12],[13],[14],[15],[16],[17],[18],[19],[20],[21]]\n'''\n\ndots_list[0].append('. . . .')\ndots_list[6].append('*')\n\n\nfor i in range(len(dots_list)):\n    for j in range(len(dots_list[i])):\n        print(dots_list[i][j], end=' ')\n    print()\n'''\n\n\n\nx = 0 # represents left and right direction in pd -- adding goes right, subtracting goes left\ny = 0 # represents up and down direction in pd -- adding goes down, subtracting goes up\nlower_bound = 1 #used as lower bound in dice selection\nupper_bound = 4 #used as upper bound in dice selection\nmove_counter = 0 #used to count the total number of moves made in game\n\n#print(\"Starting position: \",pd[y][x])  # The starting position used for debugging\nstart_position = pd[y][x] # The starting point of the game [y][x] up/down y, left/right x\n\n\n# ----  loop begin ----\nprint('begin loop')\nprint('------------------------------------------------------------------')\nwhile any(len(m) &lt; 2 for m in dots_list):\n    random_roll = random.randint(lower_bound, upper_bound) # Randomly selects a number from 1 to 4 to be used as fair die roll\n    if random_roll == 1:\n        print(\"Upper left Random Roll: \" ,random_roll)\n    elif random_roll == 2:\n        print(\"Upper left Random Roll: \", random_roll)\n    elif random_roll == 3:\n        print(\"Upper left Random Roll: \", random_roll)\n    else:\n        print(\"Upper left Random Roll: \", random_roll)\n\n\n#--------------------------------pd bounds checking-------------------------------------------\n    if random_roll == 1  and (pd[y][x]) != 2 \\\n        and (pd[y][x]) != 4 and (pd[y][x]) != 11 and (pd[y][x]) != 16:\n#--------------------------------pd bounds checking-------------------------------------------\n\n        print('upper left x: ', x, 'y:', y)\n        if pd[y][x] == 1 or pd[y][x] == 2 or pd[y][x] == 4 or pd[y][x] == 7 or pd[y][x] == 11 or pd[y][x] == 16:\n            print('Invalid Direction --  Move Count Increased')\n            print('------------------------------------------------------------------')\n            dots_list[pd[y][x]].append('.')\n            move_counter += 1\n        else:\n            new_pos = pd[y-1][x-1]\n            y-=1\n            x-=1\n            #print('x: ', x, 'y:', y)\n            print('upper left new pos: ' , new_pos)\n            print('------------------------------------------------------------------')\n            start_position = new_pos\n           # print('st pos', start_position)\n            dots_list[start_position].append('.')\n\n\n            move_counter += 1\n#--------------------------------pd bounds checking-------------------------------------------\n    elif random_roll == 2  and (pd[y][x]) != 3 \\\n        and (pd[y][x]) != 6 and (pd[y][x]) != 10 and (pd[y][x]) != 15 and (pd[y][x]) != 21:\n    # --------------------------------pd bounds checking-------------------------------------------\n        print('upper right x: ', x, 'y:', y)\n        print()\n\n\n        if pd[y][x] == 1:\n         print('Invalid Direction --  Move Count Increased')\n         print('------------------------------------------------------------------')\n         dots_list[0].append('.')\n         move_counter += 1\n        else:\n            new_pos = pd[y][x]\n            y-=1\n            x+=1\n            print('x: ', x, 'y:', y)\n            print('upper right new pos: ' , new_pos)\n            print('------------------------------------------------------------------')\n            start_position = new_pos\n            #print('st pos', start_position)\n            dots_list[start_position].append('.')\n\n            move_counter += 1\n\n\n#--------------------------------pd bounds checking-------------------------------------------\n    elif random_roll == 3 and (pd[y][x]) != 16 and (pd[y][x]) != 17 \\\n        and (pd[y][x]) != 18 and (pd[y][x]) != 19 and (pd[y][x]) != 20 and (pd[y][x]) != 21 \\\n             and (pd[y][x]) != 6 and (pd[y][x]) != 10 and (pd[y][x]) !=15   :\n# --------------------------------pd bounds checking-------------------------------------------\n        print('down left x: ', x, 'y:', y)\n        x+1\n        new_pos = pd[y+1][x]\n        x-=1\n        #y+=1\n        print('x: ', x,  'y:' , y)\n        print('down left new pos: ' , new_pos)\n        start_position = new_pos\n        #print('start_position: ', start_position)\n        print('------------------------------------------------------------------')\n        dots_list[start_position-1].append('.')\n\n        move_counter += 1\n\n#--------------------------------pd bounds checking-------------------------------------------\n    elif random_roll == 4 and (pd[y][x]) != 16 and (pd[y][x]) != 17 \\\n        and (pd[y][x]) != 18 and (pd[y][x]) != 19 and (pd[y][x]) != 20 and (pd[y][x]) != 21 :\n# --------------------------------pd bounds checking-------------------------------------------\n        print('down right x: ', x, 'y:', y)\n\n        new_pos = pd[y+1][x+1]\n        x+=1\n        y+=1\n\n        print('x: ', x, 'y:', y)\n        print('down right new pos: ' , new_pos)\n        print('------------------------------------------------------------------')\n        start_position = new_pos\n        #print('st pos', start_position)\n        dots_list[start_position-1].append('.')\n        move_counter += 1\n\n    else:\n        #print('Invalid Direction --  Move Count Increased:: rr: ' , random_roll)\n        start_position = pd[y][x]\n        #print('st pos', start_position)\n        dots_list[start_position-1].append('.')\n        move_counter += 1\n\n\n\n# ---- loop end ----\n\n# ---- Results printing ----\nprint('Move_counter:' ,move_counter)\nfor i in range(len(dots_list)):\n    for j in range(len(dots_list[i])):\n        print(dots_list[i][j], end=' ')\n    print()\n</code></pre>\n"}, {"tags": ["python", "ansible", "virtualenv"], "comments": [{"owner": {"reputation": 61, "user_id": 10155417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784eba8bccd7bf330edfef923b13c247?s=128&d=identicon&r=PG&f=1", "display_name": "Melih Ta\u015fdizen", "link": "https://stackoverflow.com/users/10155417/melih-ta%c5%9fdizen"}, "edited": false, "score": 2, "creation_date": 1545256435, "post_id": 53859279, "comment_id": 94567248, "body": "Could you try absolute path for <code>virtualenv-3.5</code>?"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 2, "creation_date": 1545257594, "post_id": 53859279, "comment_id": 94567698, "body": "<code>become_method: su</code> \u2014 does it run <code>su nodepool</code> or <code>su - nodepool</code>? The difference may be in <code>$PATH</code> so that ansible couldn&#39;t find <code>virtualenv</code> script or <code>python</code> binary."}, {"owner": {"reputation": 23, "user_id": 10518035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75452bb309460a267f349e1e37cd6d7?s=128&d=identicon&r=PG&f=1", "display_name": "mickt", "link": "https://stackoverflow.com/users/10518035/mickt"}, "edited": false, "score": 0, "creation_date": 1545290647, "post_id": 53859279, "comment_id": 94575619, "body": "I believe it does su.  This is what I did via shell for test and it worked."}, {"owner": {"reputation": 23, "user_id": 10518035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75452bb309460a267f349e1e37cd6d7?s=128&d=identicon&r=PG&f=1", "display_name": "mickt", "link": "https://stackoverflow.com/users/10518035/mickt"}, "edited": false, "score": 0, "creation_date": 1545290929, "post_id": 53859279, "comment_id": 94575725, "body": "Using full path also fails but with different error; &quot;stderr&quot;: &quot;/opt/rh/rh-python35/root/usr/bin/python3: error while loading shared libraries: libpython3.5m.so.rh-python35-1.0: cannot open shared object file: No such file or directory&quot;"}, {"owner": {"reputation": 23, "user_id": 10518035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75452bb309460a267f349e1e37cd6d7?s=128&d=identicon&r=PG&f=1", "display_name": "mickt", "link": "https://stackoverflow.com/users/10518035/mickt"}, "edited": false, "score": 0, "creation_date": 1545291961, "post_id": 53859279, "comment_id": 94576149, "body": "Using command: virtualenv {{ nodepool_home }}/npvenv creates the venv but using version 2.7.5, not 3.5 as desired."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 10518035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75452bb309460a267f349e1e37cd6d7?s=128&d=identicon&r=PG&f=1", "display_name": "mickt", "link": "https://stackoverflow.com/users/10518035/mickt"}, "is_accepted": true, "score": 0, "last_activity_date": 1545299937, "last_edit_date": 1545299937, "creation_date": 1545293366, "answer_id": 53864649, "question_id": 53859279, "link": "https://stackoverflow.com/questions/53859279/why-can-i-not-create-virtualenv-using-ansible/53864649#53864649", "title": "Why can I not create virtualenv using ansible?", "body": "<p>Worked around the issue as follows.</p>\n\n<p>shell: source /var/lib/nodepool/.bashrc &amp;&amp; virtualenv-3.5 /var/lib/nodepool/npvenv creates=\"/var/lib/nodepool/npvenv\"</p>\n\n<p>It is not as I'd like to do it but it will do.  If anyone knows how I might do like originally posted, please advise.  Perhaps it's not possible as it doesn't pickup paths etc.</p>\n\n<p>I threw in the creates option as it prevents redoing if it exists.</p>\n"}], "owner": {"reputation": 23, "user_id": 10518035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75452bb309460a267f349e1e37cd6d7?s=128&d=identicon&r=PG&f=1", "display_name": "mickt", "link": "https://stackoverflow.com/users/10518035/mickt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 53864649, "answer_count": 1, "score": -1, "last_activity_date": 1545299937, "creation_date": 1545254423, "last_edit_date": 1545291852, "question_id": 53859279, "link": "https://stackoverflow.com/questions/53859279/why-can-i-not-create-virtualenv-using-ansible", "title": "Why can I not create virtualenv using ansible?", "body": "<p>I'm trying to create a virtualenv for nodepool user using ansible but it is failing as outlined below.  I want to become nodepool user as it uses python3.5 whereas all others use the server default, 2.7.5.  It seems that it cannot source the 3.5 version.</p>\n\n<p>The play is:</p>\n\n<pre><code>- name: Create nodepool venv\n  become: true\n  become_user: nodepool\n  become_method: su\n  command: virtualenv-3.5 /var/lib/nodepool/npvenv\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>fatal: [ca-o3lscizuul]: FAILED! =&gt; {\"changed\": false, \"cmd\": \"virtualenv-3.5 /var/lib/nodepool/npvenv\", \"failed\": true, \"msg\": \"[Errno 2] No such file or directory\", \"rc\": 2}\n</code></pre>\n\n<p>It works from shell.</p>\n\n<pre><code>[root@host ~]# su nodepool\n[nodepool@host root]$ virtualenv-3.5 /var/lib/nodepool/npvenv\nUsing base prefix '/opt/rh/rh-python35/root/usr'\nNew python executable in /var/lib/nodepool/npvenv/bin/python3\nAlso creating executable in /var/lib/nodepool/npvenv/bin/python\nInstalling setuptools, pip, wheel...done.\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 444, "user_id": 7476635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0afe9d1518de39a44048d23f270fa81?s=128&d=identicon&r=PG&f=1", "display_name": "mikeg", "link": "https://stackoverflow.com/users/7476635/mikeg"}, "edited": false, "score": 1, "creation_date": 1545254427, "post_id": 53859268, "comment_id": 94566456, "body": "do you mean per minute?"}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1545254717, "post_id": 53859268, "comment_id": 94566549, "body": "The twitter api itself has some strict restrictions based on the &quot;tier&quot; of api access you have. The specifications should be looked up on their site. Tweepy is essentially just a wrapper accessing the twitter api."}, {"owner": {"reputation": 11, "user_id": 10806750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AWuEewbUTl4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i5Xssjg3EqyGOxVpE479Aayey4uA/mo/photo.jpg?sz=128", "display_name": "Ankit Jindal", "link": "https://stackoverflow.com/users/10806750/ankit-jindal"}, "edited": false, "score": 0, "creation_date": 1546427949, "post_id": 53859268, "comment_id": 94847402, "body": "I&#39;m doing some sentiment analysis on various hashtag and require data hourly, by day and by week. It&#39;s taking forever for some popular hashtags, so i was just curious, how can i overcome this? I am using standard twitter developer account and fetching tweets by doing      tweets = tweepy.Cursor(api.search,q=hashtag,lang=&quot;en&quot;,since=last_week&zwnj;&#8203;_str).items()"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10806750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AWuEewbUTl4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i5Xssjg3EqyGOxVpE479Aayey4uA/mo/photo.jpg?sz=128", "display_name": "Ankit Jindal", "link": "https://stackoverflow.com/users/10806750/ankit-jindal"}, "edited": false, "score": 0, "creation_date": 1546427967, "post_id": 53882947, "comment_id": 94847408, "body": "I&#39;m doing some sentiment analysis on various hashtag and require data hourly, by day and by week. It&#39;s taking forever for some popular hashtags, so i was just curious, how can i overcome this? I am using standard twitter developer account and fetching tweets by doing tweets = tweepy.Cursor(api.search,q=hashtag,lang=&quot;en&quot;,since=last_week&zwnj;&#8203;_str).items()"}, {"owner": {"reputation": 12873, "user_id": 1127699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8030281cad7e827a3357927fd3748444?s=128&d=identicon&r=PG", "display_name": "Terence Eden", "link": "https://stackoverflow.com/users/1127699/terence-eden"}, "reply_to_user": {"reputation": 11, "user_id": 10806750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AWuEewbUTl4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i5Xssjg3EqyGOxVpE479Aayey4uA/mo/photo.jpg?sz=128", "display_name": "Ankit Jindal", "link": "https://stackoverflow.com/users/10806750/ankit-jindal"}, "edited": false, "score": 0, "creation_date": 1546466430, "post_id": 53882947, "comment_id": 94864518, "body": "Take a look at the streaming API. Or pay Twitter for premium API access. That&#39;s pretty much all you can do."}], "tags": [], "owner": {"reputation": 12873, "user_id": 1127699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8030281cad7e827a3357927fd3748444?s=128&d=identicon&r=PG", "display_name": "Terence Eden", "link": "https://stackoverflow.com/users/1127699/terence-eden"}, "is_accepted": false, "score": 1, "last_activity_date": 1545387540, "creation_date": 1545387540, "answer_id": 53882947, "question_id": 53859268, "link": "https://stackoverflow.com/questions/53859268/is-there-a-maximum-limit-to-number-of-tweets-that-you-can-fetch-using-tweepy-pyt/53882947#53882947", "title": "Is there a maximum limit to number of tweets that you can fetch using tweepy python?", "body": "<p>Yes.  If you are a regular developer, the maximum is 3,200.</p>\n\n<blockquote>\n  <p>This method can only return up to 3,200 of a user's most recent Tweets.\n  <a href=\"https://developer.twitter.com/en/docs/tweets/timelines/api-reference/get-statuses-user_timeline.html\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/tweets/timelines/api-reference/get-statuses-user_timeline.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 10806750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AWuEewbUTl4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i5Xssjg3EqyGOxVpE479Aayey4uA/mo/photo.jpg?sz=128", "display_name": "Ankit Jindal", "link": "https://stackoverflow.com/users/10806750/ankit-jindal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1974, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1545387540, "creation_date": 1545254372, "last_edit_date": 1545281533, "question_id": 53859268, "link": "https://stackoverflow.com/questions/53859268/is-there-a-maximum-limit-to-number-of-tweets-that-you-can-fetch-using-tweepy-pyt", "title": "Is there a maximum limit to number of tweets that you can fetch using tweepy python?", "body": "<p>Is there a maximum limit to number of tweets that you can fetch using tweepy python?</p>\n"}, {"tags": ["python", "docker", "flask", "gunicorn"], "comments": [{"owner": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545265740, "post_id": 53859220, "comment_id": 94569947, "body": "What does your <code>Dockerfile</code> look like?"}, {"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "reply_to_user": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545335288, "post_id": 53859220, "comment_id": 94597525, "body": "@nebuler I&#39;ve added to my original question to include the Dockerfile"}, {"owner": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545349311, "post_id": 53859220, "comment_id": 94602276, "body": "Does it also fail if you try running it using the <code>Dockerfile</code> alone?"}, {"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "reply_to_user": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545366022, "post_id": 53859220, "comment_id": 94605266, "body": "@nebuler yes it does not work no matter how I run it. Works on my co-workers computer, but fails the same way on another co-workers computer. We reviewed the code today and it&#39;s all the exact same."}, {"owner": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545398513, "post_id": 53859220, "comment_id": 94617425, "body": "Do both coworkers have windows OS? Also, look at my answer below."}, {"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "reply_to_user": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "edited": false, "score": 0, "creation_date": 1545403908, "post_id": 53859220, "comment_id": 94620044, "body": "Both coworkers are on Windows computers (along with myself). Everyone is using Linux containers. I&#39;ve also tried running these from both command prompt and Windows Powershell."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "edited": false, "score": 0, "creation_date": 1545257930, "post_id": 53859643, "comment_id": 94567829, "body": "This did not appear to make any change to the output. Still hitting the same error. I&#39;m going to try to explore more solutions with changing how different paths are specified."}, {"owner": {"reputation": 17759, "user_id": 2091925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cdc96737b990c24e08de6174eed0b0f?s=128&d=identicon&r=PG", "display_name": "Will Keeling", "link": "https://stackoverflow.com/users/2091925/will-keeling"}, "reply_to_user": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "edited": false, "score": 0, "creation_date": 1545259130, "post_id": 53859643, "comment_id": 94568250, "body": "@AndrewSamuelson worth also trying to pass the PYTHONPATH directly in the gunicorn command: <code>gunicorn &quot;index:app&quot; -b 0.0.0.0:8080 --pythonpath &quot;&#47;code&quot;</code>"}, {"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "edited": false, "score": 0, "creation_date": 1545259924, "post_id": 53859643, "comment_id": 94568504, "body": "didn&#39;t quite work. It might be a problem with my install of Gunicorn. If I manage to find the solution I&#39;ll make sure to update here."}], "tags": [], "owner": {"reputation": 17759, "user_id": 2091925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cdc96737b990c24e08de6174eed0b0f?s=128&d=identicon&r=PG", "display_name": "Will Keeling", "link": "https://stackoverflow.com/users/2091925/will-keeling"}, "is_accepted": false, "score": 0, "last_activity_date": 1545256263, "creation_date": 1545256263, "answer_id": 53859643, "question_id": 53859220, "link": "https://stackoverflow.com/questions/53859220/fixing-gunicorn-no-module-found-named-index-py-in-import-app-error/53859643#53859643", "title": "Fixing Gunicorn &quot;no module found named index.py in import_app&quot; error", "body": "<p>Gunicorn will look for <code>index.py</code> on the <code>PYTHONPATH</code> inside the container. Try setting the <code>PYTHONPATH</code> as an environment variable in your <code>docker-compose.yml</code>:</p>\n\n<pre><code>version: '3'\nservices:\n    web:\n        build: .\n        command: gunicorn \"index:app\" -b 0.0.0.0:8080\n        environment:\n            PYTHONPATH: '/code'\n        ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "edited": false, "score": 0, "creation_date": 1545406903, "post_id": 53877172, "comment_id": 94621435, "body": "I had my C:/ drive shared the entire time, but removing the volumes did the trick. Thank you very much!"}], "tags": [], "owner": {"reputation": 1395, "user_id": 6077625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfed92679f510669416ae15e18e27df?s=128&d=identicon&r=PG&f=1", "display_name": "nebuler", "link": "https://stackoverflow.com/users/6077625/nebuler"}, "is_accepted": true, "score": 1, "last_activity_date": 1545398377, "last_edit_date": 1545398377, "creation_date": 1545346650, "answer_id": 53877172, "question_id": 53859220, "link": "https://stackoverflow.com/questions/53859220/fixing-gunicorn-no-module-found-named-index-py-in-import-app-error/53877172#53877172", "title": "Fixing Gunicorn &quot;no module found named index.py in import_app&quot; error", "body": "<p>This seems to be specific to docker for windows. Look <a href=\"https://github.com/docker/compose/issues/2548\" rel=\"nofollow noreferrer\">here</a> for a discussion about it. In short, docker-machine mounts <code>C:\\users\\[USERNAME]</code> by default, so mounting a location that lives somewhere else won't work - it will result in the bind mount being empty.</p>\n\n<p>As for the solution, you have a few of options:</p>\n\n<ul>\n<li><p>Remove the volume option from docker-compose file. This should be ok since you are already adding everything you need to the image in the <code>Dockerfile</code>.</p></li>\n<li><p>Put your project somewhere in your home directory, <code>C:\\users\\[USERNAME]</code>, and run everything from there.</p></li>\n<li><p>Go to docker settings and set the shared drives to the ones you need, probably <strong>C</strong>. More details <a href=\"https://docs.docker.com/docker-for-windows/#shared-drives\" rel=\"nofollow noreferrer\">here</a>.</p></li>\n</ul>\n"}], "owner": {"reputation": 83, "user_id": 8326151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0o6d.jpg?s=128&g=1", "display_name": "Andrew Samuelson", "link": "https://stackoverflow.com/users/8326151/andrew-samuelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 0, "accepted_answer_id": 53877172, "answer_count": 2, "score": 0, "last_activity_date": 1545398377, "creation_date": 1545254061, "last_edit_date": 1545342755, "question_id": 53859220, "link": "https://stackoverflow.com/questions/53859220/fixing-gunicorn-no-module-found-named-index-py-in-import-app-error", "title": "Fixing Gunicorn &quot;no module found named index.py in import_app&quot; error", "body": "<p>I am working on Windows in a Linux Docker container. I am trying to run a Flask app via Gunicorn in a Docker container (using docker-compose). The web app keeps exiting with status 8 from the import_app function.</p>\n\n<p>I've tried running command line as the administrator, I've tried to change the run command in the docker-compose file, and I've also tried running the rest of my project without it. None of these have worked.</p>\n\n<p>UPDATE:\nI've tried changing the port, changing the name of the file (<code>index.py</code>), reinstalling the Docker image for Python, pruning my old docker containers, adding Python path in the docker-compose, and </p>\n\n<p>docker-compose.yml :</p>\n\n<pre><code>version: '3'\nservices:\n    web:\n        build: .\n        command: gunicorn \"index:app\" -b 0.0.0.0:8080\n        ports:\n            - \"8888:8080\"\n        volumes:\n            - .:/code\n        depends_on:\n            - redis\n    redis:\n        image: redis\n</code></pre>\n\n<p>And then the console traceback:</p>\n\n<pre><code>web_1    | [2018-12-19 20:36:50 +0000] [8] [ERROR] Exception in worker process\nweb_1    | Traceback (most recent call last):\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py\", line 583, in spawn_worker\nweb_1    |     worker.init_process()\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py\", line 129, in init_process\nweb_1    |     self.load_wsgi()\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py\", line 138, in load_wsgi\nweb_1    |     self.wsgi = self.app.wsgi()\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/app/base.py\", line 67, in wsgi\nweb_1    |     self.callable = self.load()\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py\", line 52, in load\nweb_1    |     return self.load_wsgiapp()\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py\", line 41, in load_wsgiapp\nweb_1    |     return util.import_app(self.app_uri)\nweb_1    |   File \"/usr/local/lib/python3.7/site-packages/gunicorn/util.py\", line 350, in import_app\nweb_1    |     __import__(module)\nweb_1    | ModuleNotFoundError: No module named 'index'\nweb_1    | [2018-12-19 20:36:50 +0000] [8] [INFO] Worker exiting (pid: 8)\nweb_1    | [2018-12-19 20:36:50 +0000] [1] [INFO] Shutting down: Master\nweb_1    | [2018-12-19 20:36:50 +0000] [1] [INFO] Reason: Worker failed to         boot.\nflaskpython_web_1 exited with code 3\n</code></pre>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM python:3\n\n# set environment variables\nENV PYTHONUNBUFFERED 1\nENV FLASK_APP=index.py\n\n# copy current directory into working directory\nCOPY . /code\nWORKDIR /code\n\n# install python packages\nRUN pip install -r requirements.txt\n\nexpose 8080\n\nCMD [\"gunicorn\", \"index:app\", \"-b\", \"0.0.0.0:8080\"]\n</code></pre>\n\n<p>Finally the structure of the project:</p>\n\n<pre><code>|docker-compose.yml\n|Dockerfile\n|index.py\n|requirements.txt\n</code></pre>\n\n<p>The expected result is that webserver doesn't crash or exit with all the workers exiting. I want it to recognize that index is my entry point to the rest of the project.</p>\n"}, {"tags": ["python", "python-2.7", "google-drive-api", "python-requests"], "comments": [{"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "edited": false, "score": 0, "creation_date": 1545295059, "post_id": 53859195, "comment_id": 94577355, "body": "Im not clear what  you said. You can write content to file and open your html file in browser. If it shows login page which means you need to do this, then continue downloading"}, {"owner": {"reputation": 387, "user_id": 3093032, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7041ae0faa331af8c0da4a1554fc35f3?s=128&d=identicon&r=PG&f=1", "display_name": "klex52s", "link": "https://stackoverflow.com/users/3093032/klex52s"}, "reply_to_user": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "edited": false, "score": 0, "creation_date": 1545325520, "post_id": 53859195, "comment_id": 94593386, "body": "No, the  output I provided is a snippet of the response I receive from making a request to Google Drive. It does not show me a login page."}, {"owner": {"reputation": 18863, "user_id": 1000753, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/23634e7a38e353cca12bb72a4205615b?s=128&d=identicon&r=PG", "display_name": "pinoyyid", "link": "https://stackoverflow.com/users/1000753/pinoyyid"}, "edited": false, "score": 1, "creation_date": 1545331724, "post_id": 53859195, "comment_id": 94596127, "body": "what you are seeing is an html page. I suggest saving it as foo.html and then loading it into a browser. You&#39;ll see some kind of error message or at least a clue as to what Google thinks you are doing."}, {"owner": {"reputation": 387, "user_id": 3093032, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7041ae0faa331af8c0da4a1554fc35f3?s=128&d=identicon&r=PG&f=1", "display_name": "klex52s", "link": "https://stackoverflow.com/users/3093032/klex52s"}, "edited": false, "score": 0, "creation_date": 1545335415, "post_id": 53859195, "comment_id": 94597572, "body": "Thanks, this answered my question. I was able to open the html in a browser and then login to Google."}], "owner": {"reputation": 387, "user_id": 3093032, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7041ae0faa331af8c0da4a1554fc35f3?s=128&d=identicon&r=PG&f=1", "display_name": "klex52s", "link": "https://stackoverflow.com/users/3093032/klex52s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545253925, "creation_date": 1545253925, "question_id": 53859195, "link": "https://stackoverflow.com/questions/53859195/authenticate-or-bypass-login-downloading-google-drive-file", "title": "Authenticate or Bypass Login Downloading Google Drive File", "body": "<p>I am trying to download a large file from my Google Drive, using the requests module solution <a href=\"https://stackoverflow.com/questions/25010369/wget-curl-large-file-from-google-drive/39225039#39225039\">here</a>. (It's the solution with 151 points.)</p>\n\n<p>The problem I run into is that the file is not downloaded, only the response from what I think are several redirects. I end up with a 1500 line file that looks like this: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta content=\"width=300, initial-scale=1\" name=\"viewport\"&gt;\n  &lt;meta name=\"description\" content=\"Google Drive is a free way to keep your files backed up and easy to reach from any phone, tablet, or computer. Start with 15GB of Google storage \u2013 free.\"&gt;\n  &lt;meta name=\"google-site-verification\" content=\"LrdTUW9psUAMbh4Ia074-BPEVmcpBxF6Gwf0MSgQXZs\"&gt;\n  &lt;title&gt;Meet Google Drive \u2013 One place for all your files&lt;/title&gt;\n  &lt;style&gt;\n  @font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 300;\n  src: local('Open Sans Light'), local('OpenSans-Light'), url(//fonts.gstatic.com/s/opensans/v15/mem5YaGs126MiZpBA-UN_r8OUuhs.ttf) format('truetype');\n}\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: local('Open Sans'), local('OpenSans'), url(//fonts.gstatic.com/s/opensans/v15/mem8YaGs126MiZpBA-UFVZ0e.ttf) format('truetype');\n}\n  &lt;/style&gt;\n  &lt;style&gt;\n  h1, h2 {\n</code></pre>\n\n<p>...</p>\n\n<pre><code>  } catch (err) {\n  document.getElementById('bgresponse').value = '';\n  }\n  return true;\n  }\n  document.getElementById('gaia_loginform').onsubmit = gaia_onLoginSubmit;\n  var signinButton;\n  signinButton = document.getElementById('next');\n  gaia_attachEvent(window, 'load', function(){\n  gaia_scrollToElement(signinButton);\n  });\n  })();\n&lt;/script&gt;\n  &lt;script nonce=\"0B6waBnPr4W7otWlyB0B/g\"&gt;var e=this,g=function(a,c){a=a.split(\".\");var b=e;a[0]in b||!b.execScript||b.execScript(\"var \"+a[0]);for(var d;a.length&amp;&amp;(d=a.shift());)a.length||void 0===c?b[d]?b=b[d]:b=b[d]={}:b[d]=c};var h=function(){try{return new XMLHttpRequest}catch(b){for(var a=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c&lt;a.length;c++)try{return new ActiveXObject(a[c])}catch(d){}}return null};g(\"gaia.ajax.newXmlHttpRequest\",h);var k=function(){this.a=h();this.parameters={}};g(\"gaia.ajax.XmlHttpFormRequest\",k);\nk.prototype.send=function(a,c){var b=[],d;for(d in this.parameters)b.push(d+\"=\"+encodeURIComponent(this.parameters[d]));b=b.join(\"&amp;\");var f=this.a;f.open(\"POST\",a,!0);f.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");f.onreadystatechange=function(){4==f.readyState&amp;&amp;c({status:f.status,text:f.responseText})};f.send(b)};k.prototype.send=k.prototype.send;\nk.prototype.h=function(a,c,b){var d=this.a;d.open(\"POST\",a,!0);d.setRequestHeader(\"Content-type\",\"application/json\");d.onreadystatechange=function(){4==d.readyState&amp;&amp;b({status:d.status,text:d.responseText})};d.send(c)};k.prototype.sendJson=k.prototype.h;k.prototype.get=function(a,c){var b=this.a;b.open(\"GET\",a,!0);b.onreadystatechange=function(){4==b.readyState&amp;&amp;c({status:b.status,text:b.responseText})};b.send()};k.prototype.get=k.prototype.get;var l=/\\s*;\\s*/,m=function(){if(!document.cookie)return\"\";for(var a=document.cookie.split(l),c=0;c&lt;a.length;c++){var b=a[c];b=b.replace(/^\\s+/,\"\");b=b.replace(/\\s+$/,\"\");if(0==b.indexOf(\"APISID=\"))return b.substr(7)}return\"\"};var n=null,p=function(a,c){this.g=a;this.f=c;this.c=m();this.b=!1},q=function(){var a=n,c=m();c==a.c||a.b||(a.c=c,(new k).get(a.f,function(b){var a=n;b&amp;&amp;b.status&amp;&amp;200==b.status&amp;&amp;\"OK\"==b.text&amp;&amp;(a.a&amp;&amp;clearInterval(a.a),a.b||(window.location=a.g))}))};p.prototype.start=function(a){if(this.a)return!1;this.a=setInterval(function(){q()},a);return!0};g(\"gaia.loginAutoRedirect.start\",function(a,c,b){if(n||!b||!c||0&gt;=a)return!1;n=new p(c,b);return n.start(a)});\ng(\"gaia.loginAutoRedirect.stop\",function(){var a=n;a.b=!0;a.a&amp;&amp;(clearInterval(a.a),a.a=null)});\n&lt;/script&gt;\n  &lt;script type=\"text/javascript\" nonce=\"0B6waBnPr4W7otWlyB0B/g\"&gt;\n  gaia.loginAutoRedirect.start(5000,\n  'https:\\x2F\\x2Faccounts.google.com\\x2FServiceLogin?continue=https%3A%2F%2Fdrive.google.com%2Fuc%3Fexport%3Ddownload%26id%3D1fqA6AS0PRxZm6Pny8MW9yX24eozjFxms\\x26followup=https%3A%2F%2Fdrive.google.com%2Fuc%3Fexport%3Ddownload%26id%3D1fqA6AS0PRxZm6Pny8MW9yX24eozjFxms\\x26service=wise\\x26ltmpl=drive\\x26passive=1209600\\x26noautologin=true',\n  'https:\\x2F\\x2Faccounts.google.com\\x2FPassiveLoginProber?continue=https%3A%2F%2Fdrive.google.com%2Fuc%3Fexport%3Ddownload%26id%3D1fqA6AS0PRxZm6Pny8MW9yX24eozjFxms\\x26followup=https%3A%2F%2Fdrive.google.com%2Fuc%3Fexport%3Ddownload%26id%3D1fqA6AS0PRxZm6Pny8MW9yX24eozjFxms\\x26service=wise\\x26ltmpl=drive\\x26passive=1209600');\n  &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I'm not sure what this means. It looks like it's trying to do something with logging in. Can someone explain what's happening and how I can download the actual file instead? </p>\n\n<p>By the way...I have tried to use Google Drive's API, but due to limitations I do not have access to their Google Platform Services, so that's not an option.</p>\n"}, {"tags": ["python", "numpy", "serialization"], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 1, "last_activity_date": 1545255586, "creation_date": 1545255586, "answer_id": 53859539, "question_id": 53859164, "link": "https://stackoverflow.com/questions/53859164/numpy-array2string-not-detecting-native-types/53859539#53859539", "title": "numpy.array2string not detecting native types", "body": "<p>This has nothing to do with <code>array2string</code> not handling booleans.  The documentation clearly states that <code>bool</code> is a supported type for the <code>formatter</code> dictionary.  The issue is entirely with the datatype of your array, when you call <code>df1.values</code>.</p>\n\n<p>You are  working on an array of dtype <code>object</code>, so <code>array2string</code> is missing your booleans.  You can see this behavior when you add in a formatter for dtype <code>object</code> (note <em>every</em> value is being picked up by the formatter):</p>\n\n<pre><code>s = np.array2string(df1.values, separator=',', formatter={'object': lambda x: 'BAD'})\nprint(s)\n</code></pre>\n\n<p></p>\n\n<pre><code>[[BAD,BAD,BAD],\n [BAD,BAD,BAD],\n [BAD,BAD,BAD],\n [BAD,BAD,BAD],\n [BAD,BAD,BAD]]\n</code></pre>\n\n<p>I personally would handle the conversion <em>before</em> you attempt to use <code>array2string</code>, so that you don't have to make use of the <code>formatter</code> on a mixed type array, or possibly use the function on individual series' only.</p>\n"}], "owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53859539, "answer_count": 1, "score": 1, "last_activity_date": 1545255586, "creation_date": 1545253733, "question_id": 53859164, "link": "https://stackoverflow.com/questions/53859164/numpy-array2string-not-detecting-native-types", "title": "numpy.array2string not detecting native types", "body": "<p>I'm trying to convert pandas dataframes to query strings for an SQL Server.  To do this I have serialize python <code>bool</code> types as <code>0</code> or <code>1</code>. \nI've been using:</p>\n\n<pre><code>&gt;&gt;&gt;import pandas as pd\n&gt;&gt;&gt;import numpy as np\n&gt;&gt;&gt; df1 = pd.DataFrame([[0,\"one\",False] for l in range(5)], columns=[\"a\",\"b\",\"c\"])\n&gt;&gt;&gt; strOut = [np.array2string(l, separator=',', formatter={'bool':lambda x: int(x)}) for l in df1.values]\n&gt;&gt;&gt; strOut\n[\"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\"]\n</code></pre>\n\n<p>however you can see that the numpy.array2string formatter isn't detecting the native <code>bool</code> type in the above.  If I look at the example in the docs</p>\n\n<pre><code>&gt;&gt;&gt; x  = np.arange(3)\n&gt;&gt;&gt; np.array2string(x, formatter={'int':lambda x: hex(x)})\n'[0x0L 0x1L 0x2L]'\n</code></pre>\n\n<p>you can see it works.  I've detected the type of the values in <code>x</code> from the example to see that they are actually <code>dtype(int32)</code> not <code>int</code>.   So i tried to do the same in my code and no cigar again.</p>\n\n<pre><code>&gt;&gt;&gt; df1 = pd.DataFrame([[0,\"one\",False] for l in range(5)], columns=[\"a\",\"b\",\"c\"])\n&gt;&gt;&gt; strOut = [np.array2string(l, separator=',', formatter={'int':lambda x: hex(x)}) for l in df1.values]\n&gt;&gt;&gt; strOut\n[\"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\", \"[0,'one',False]\"]\n</code></pre>\n\n<p>no change.  Is there a way to make <code>numpy.array2string</code> work with native types?   Or.. alternativly is there a better way to serialize query strings from dataframes.  Note however, that brining in outside libraries is not an option here.  I know I could bring in sqlalchemy or something like that but for the sake of this question we're doing the work ourselves. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1545254580, "post_id": 53859162, "comment_id": 94566498, "body": "Have you tried running each to see what actually happens?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1545261166, "post_id": 53859162, "comment_id": 94568859, "body": "@G.Anderson thanks, I updated an answer for this as well."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "is_accepted": false, "score": 4, "last_activity_date": 1545261155, "creation_date": 1545261155, "answer_id": 53860451, "question_id": 53859162, "link": "https://stackoverflow.com/questions/53859162/pandas-quoting-param/53860451#53860451", "title": "Pandas quoting param", "body": "<p>You could try doing something like this to test with the <code>csv</code> writer:</p>\n\n<pre><code>import csv\nDATA = [\n    ['name' ,'age' ,'position'],\n    ['tom', 14, 'vp'],\n    ['jared', 100, 'head, sales'],\n]\n\nwith open('test_min.csv', 'w') as csvfile:\n    writer = csv.writer(csvfile, delimiter=',',quotechar='\"', quoting=csv.QUOTE_MINIMAL)\n    for row in DATA:\n        writer.writerow(row)\n\nwith open('test_all.csv', 'w') as csvfile:\n    writer = csv.writer(csvfile, delimiter=',',quotechar='\"', quoting=csv.QUOTE_ALL)\n    for row in DATA:\n        writer.writerow(row)\n\nwith open('test_nonnumeric.csv', 'w') as csvfile:\n    writer = csv.writer(csvfile, delimiter=',',quotechar='\"', quoting=csv.QUOTE_NONNUMERIC)\n    for row in DATA:\n        writer.writerow(row)\n\nwith open('test_quotenone.csv', 'w') as csvfile:\n    writer = csv.writer(csvfile, delimiter=',',quotechar='\"', quoting=csv.QUOTE_NONE)\n    for row in DATA:\n        writer.writerow(row)\n</code></pre>\n\n<p>Here is what you'll see:</p>\n\n<ol>\n<li><p>QUOTE_NONE</p>\n\n<p><code>name,age,position\ntom,14,vp</code></p>\n\n<p><strong>Notes</strong>: invalid output, will need an escape character set.</p></li>\n<li><p>QUOTE_NONNUMERIC</p>\n\n<p><code>\"name\",\"age\",\"position\"\n\"tom\",14,\"vp\"\n\"jared\",100,\"head, sales\"</code></p>\n\n<p><strong>Notes</strong>: notice that <code>14</code> and <code>100</code> are not escaped.</p></li>\n<li><p>QUOTE_MINIMUM</p>\n\n<p><code>name,age,position\ntom,14,vp\njared,100,\"head, sales\"</code></p>\n\n<p><strong>Notes</strong>: only <code>head, sales</code> will be quoted, as it is the offending field.</p></li>\n<li><p>QUOTE_ALL</p>\n\n<p><code>\"name\",\"age\",\"position\"\n\"tom\",\"14\",\"vp\"\n\"jared\",\"100\",\"head, sales\"</code></p>\n\n<p><strong>Notes</strong>: everything is quoted, regardless of type.</p></li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545261155, "creation_date": 1545253713, "question_id": 53859162, "link": "https://stackoverflow.com/questions/53859162/pandas-quoting-param", "title": "Pandas quoting param", "body": "<p>I am trying to understand exactly what the <code>quoting</code> and <code>doublequote</code> mean within the pandas.read_csv module. Let's suppose I have the following data:</p>\n\n<pre><code>['name' ,'age' ,'position']\n['tom', 14, 'vp']\n['jared', 100, 'head, sales']\n</code></pre>\n\n<p>pandas has three <code>quoting</code> options:</p>\n\n<ol>\n<li><p>QUOTE_MINIMAL (0) [default]</p></li>\n<li><p>QUOTE_ALL (1)</p></li>\n<li><p>QUOTE_NONNUMERIC (2)</p></li>\n<li><p>QUOTE_NONE (3)</p></li>\n</ol>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html</a></p>\n\n<p>If the <code>quotechar</code> is <code>\"</code>, how would the above four parameters interpret the above data?</p>\n"}, {"tags": ["python", "rounding"], "comments": [{"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 2, "creation_date": 1545253917, "post_id": 53859155, "comment_id": 94566248, "body": "Have you missed the documentation of <a href=\"https://docs.python.org/3/library/functions.html#float\" rel=\"nofollow noreferrer\"><code>float</code></a> and <a href=\"https://docs.python.org/3/library/functions.html#round\" rel=\"nofollow noreferrer\"><code>round</code></a>?"}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "reply_to_user": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1545254279, "post_id": 53859155, "comment_id": 94566393, "body": "<code>float</code> works on <code>digit</code> and <code>string</code> as well while &#39;round&#39; works on <code>digits</code> only.for more see documentation as also suggested by @Matthias"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 2951469, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/jCjWX.png?s=128&g=1", "display_name": "Rachit Bhargava", "link": "https://stackoverflow.com/users/2951469/rachit-bhargava"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254795, "last_edit_date": 1545254795, "creation_date": 1545253905, "answer_id": 53859191, "question_id": 53859155, "link": "https://stackoverflow.com/questions/53859155/difference-between-round-and-float-in-python/53859191#53859191", "title": "Difference between round() and float() in Python", "body": "<p><strong>float()</strong> is used for type conversion of data to the float-type, if applicable.</p>\n\n<p>On the other hand, <strong>round()</strong> is used for rounding of the given value to the specified number of decimal places.</p>\n\n<p>Just as a quick note, what you are doing above in the example for float() is taking a number, rounding it off to the specified number of digits (in your example, two), converting it into string, and then type casting it into float data type.</p>\n\n<p>For more information on float(), you may visit this page:\n<a href=\"https://docs.python.org/3/library/functions.html#float\" rel=\"nofollow noreferrer\">[Built in Functions](https://docs.python.org/3/library/functions.html#float)</a></p>\n"}, {"tags": [], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "is_accepted": false, "score": 1, "last_activity_date": 1545253930, "creation_date": 1545253930, "answer_id": 53859198, "question_id": 53859155, "link": "https://stackoverflow.com/questions/53859155/difference-between-round-and-float-in-python/53859198#53859198", "title": "Difference between round() and float() in Python", "body": "<p>This formats and parses a string, which is a lot of unnecessary work:</p>\n\n<pre><code>x = float(\"{0:.2f}\".format(x))\n</code></pre>\n\n<p>This simple rounds the float, and will be much faster:</p>\n\n<pre><code>y = round(y, 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1545254149, "creation_date": 1545254149, "answer_id": 53859233, "question_id": 53859155, "link": "https://stackoverflow.com/questions/53859155/difference-between-round-and-float-in-python/53859233#53859233", "title": "Difference between round() and float() in Python", "body": "<p>It is not the float function that is doing the rounding here.</p>\n\n<p>As a general term, float and round do very different things. <a href=\"https://docs.python.org/3/library/functions.html#float\" rel=\"nofollow noreferrer\">Float</a> takes a valid input and attempts to typecast it into a floating point representation. <a href=\"https://docs.python.org/3/library/functions.html#round\" rel=\"nofollow noreferrer\">Round</a> just rounds up to <code>n</code> significant digits.</p>\n\n<pre><code>float(3) #works on numbers \nfloat(\"5.2\") #and strings too!\n\nx = 9.09128239\n#x = float(\"{0:.2f}\".format(x)) #there are two steps here.\n\nresult = \"{0:.2f}\".format(x)\n\n#result is a string \"9.09\" The rounding happened because of the precision listed during string formatting.\n\nx = float(result) #just takes the string and converts to float\n\ny = 9.09128239\ny = round(y, 2) #directly works on the float and rounds it off.\n</code></pre>\n\n<p>Tl;Dr Just use round.</p>\n"}, {"tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254643, "creation_date": 1545254643, "answer_id": 53859334, "question_id": 53859155, "link": "https://stackoverflow.com/questions/53859155/difference-between-round-and-float-in-python/53859334#53859334", "title": "Difference between round() and float() in Python", "body": "<p>One of the main differences is that <strong><code>float</code> is a class and <code>round</code> is a function</strong>. Using <code>float</code> does not round a number:</p>\n\n<pre><code>float('0.12345') #0.12345\n</code></pre>\n\n<p>but <code>round</code> does:</p>\n\n<pre><code>round(0.12345, 2) #0.12\n</code></pre>\n\n<p>Use <code>float</code> to convert something to a float, and use <code>round</code> to round off a float.</p>\n"}], "owner": {"reputation": 19, "user_id": 10813049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2ee62a1c72f76a3b239cfe5e32cfffe?s=128&d=identicon&r=PG&f=1", "display_name": "Deniss", "link": "https://stackoverflow.com/users/10813049/deniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 0, "accepted_answer_id": 53859233, "answer_count": 4, "score": 0, "last_activity_date": 1545254795, "creation_date": 1545253682, "last_edit_date": 1545253908, "question_id": 53859155, "link": "https://stackoverflow.com/questions/53859155/difference-between-round-and-float-in-python", "title": "Difference between round() and float() in Python", "body": "<p>Could someone explain me what's the difference between <strong>round()</strong> and <strong>float()</strong> in Python, please?</p>\n\n<h2>For example</h2>\n\n<pre><code>x = 9.09128239\nx = float(\"{0:.2f}\".format(x))\n\ny = 9.09128239\ny = round(y, 2)\n</code></pre>\n\n<p>As I see, both functions from the code above do the same job. However, <strong>round()</strong> seems more compact and appealing to me.</p>\n\n<p>I'd like to know if there is something else behind these functions and if I should consider something in particular when choosing which one to use.</p>\n\n<p>Thank you for your help in advance!</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11084627, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d7d9c862bcc0b4b97f21efc2664faf38?s=128&d=identicon&r=PG", "display_name": "user11084627", "link": "https://stackoverflow.com/users/11084627/user11084627"}, "is_accepted": false, "score": 3, "last_activity_date": 1550582258, "creation_date": 1550582258, "answer_id": 54767258, "question_id": 53859112, "link": "https://stackoverflow.com/questions/53859112/smc-python-adding-and-removing-blacklisted-ips/54767258#54767258", "title": "SMC-Python Adding and Removing Blacklisted IP&#39;s", "body": "<p>There are multiple ways to blacklist, either through the System entry point like you have above, or individually against a single firewall/cluster.\nIf using the System entry point, the blacklist entry will go to all SMC managed firewalls.\nBased on the message, it appears you might be using a newer version of smc-python (i.e. >6.5.x).</p>\n\n<p>In that case it's best to use the engine level blacklisting:</p>\n\n<pre><code>from smc.elements.other import Blacklist\n\nengine = Engine('myfw')\nblacklist = Blacklist()\nblacklist.add_entry(src='1.1.1.1/32', dst='2.2.2.2/32')\nengine.blacklist_bulk(blacklist)\n</code></pre>\n\n<p>I just noticed that the System entry point does not have a blacklist function for SMC 6.5 (which hasn't technically been fully certified for this library yet), but I will add to the develop branch as 6.5.x will be officially supported in the next couple of weeks.</p>\n\n<p>If you are using SMC version &lt;= 6.4.x, you can use the engine.blacklist, or System.blacklist commands.</p>\n\n<p>DLP</p>\n"}], "owner": {"reputation": 61, "user_id": 8747882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tBI_8ruvdCM/AAAAAAAAAAI/AAAAAAAAAGc/3sMlmi78HI8/photo.jpg?sz=128", "display_name": "Tanuki55", "link": "https://stackoverflow.com/users/8747882/tanuki55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1550582258, "creation_date": 1545253402, "last_edit_date": 1545417032, "question_id": 53859112, "link": "https://stackoverflow.com/questions/53859112/smc-python-adding-and-removing-blacklisted-ips", "title": "SMC-Python Adding and Removing Blacklisted IP&#39;s", "body": "<p>I'm trying to programmatically add a blacklisted IP to the firewall. I try this but get an error. I'm not that new to python, but I'm not all that proficient in reading the documentation, so here is that if it helps.</p>\n\n<p><a href=\"https://media.readthedocs.org/pdf/smc-python/latest/smc-python.pdf\" rel=\"nofollow noreferrer\">https://media.readthedocs.org/pdf/smc-python/latest/smc-python.pdf</a></p>\n\n<p><a href=\"https://smc-python.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">https://smc-python.readthedocs.io/en/latest/index.html</a></p>\n\n<pre><code>from smc import session\nfrom smc_monitoring.monitors.blacklist import BlacklistQuery\nfrom smc.core.engines import Engine\nfrom smc.administration.system import System\n\nsession.login(url='http://nope', api_key='supersecret')\nprint(\"logged in\")\n\n# #   Method 1  ERROR\nsystem = System()\nprint(system.smc_version)\nsystem.blacklist(src='1.1.1.1/32', dst='2.2.2.2/32', duration=3600)\nsession.logout()\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File\n  \"/home/matthew/PycharmProjects/GitSMC/BlacklistTest.py\", line 12, in\n  </p>\n  \n  <p>system.blacklist(src='1.1.1.1/32', dst='2.2.2.2/32', duration=3600)</p>\n  \n  <p>File\n  \"/home/matthew/PycharmProjects/GitSMC/venv/lib/python3.7/site-packages/smc/administration/system.py\",\n  line 159, in blacklist\n      json=prepare_blacklist(src, dst, duration, **kw))</p>\n  \n  <p>File\n  \"/home/matthew/PycharmProjects/GitSMC/venv/lib/python3.7/site-packages/smc/base/mixins.py\",\n  line 32, in make_request\n      result = getattr(request, method)()</p>\n  \n  <p>File\n  \"/home/matthew/PycharmProjects/GitSMC/venv/lib/python3.7/site-packages/smc/api/common.py\",\n  line 66, in create\n      return self._make_request(method='POST')</p>\n  \n  <p>File\n  \"/home/matthew/PycharmProjects/GitSMC/venv/lib/python3.7/site-packages/smc/api/common.py\",\n  line 101, in _make_request\n      raise err</p>\n  \n  <p>smc.api.exceptions.ActionCommandFailed: Invalid JSON format: At line 1\n  and column 17, end_point1 is not recognized as JSON attribute.</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1545253702, "post_id": 53859103, "comment_id": 94566154, "body": "Can you give a small sample of input and expected output?"}, {"owner": {"reputation": 2565, "user_id": 7340948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f727ef85a90ec4f5ae954f8718017?s=128&d=identicon&r=PG&f=1", "display_name": "CJR", "link": "https://stackoverflow.com/users/7340948/cjr"}, "edited": false, "score": 0, "creation_date": 1545254028, "post_id": 53859103, "comment_id": 94566282, "body": "Assuming <code>concatdf=pandas.concat(dfclean, axis=0)</code> is outside the loop, you&#39;re unlikely to get it to be much faster than what you&#39;ve got. If it&#39;s inside the loop you should move it outside the loop and it will go much faster. Also is the goal to get <code>&#39;DATE_TIME&#39;</code> to be empty? Cause it looks like that&#39;s what you&#39;re getting now."}, {"owner": {"reputation": 61, "user_id": 2170140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/028ba1ea26520c8b3c444e20c4bdd31c?s=128&d=identicon&r=PG", "display_name": "job", "link": "https://stackoverflow.com/users/2170140/job"}, "edited": false, "score": 0, "creation_date": 1545256684, "post_id": 53859103, "comment_id": 94567340, "body": "@roganjosh...please find the expected data output"}, {"owner": {"reputation": 61, "user_id": 2170140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/028ba1ea26520c8b3c444e20c4bdd31c?s=128&d=identicon&r=PG", "display_name": "job", "link": "https://stackoverflow.com/users/2170140/job"}, "reply_to_user": {"reputation": 2565, "user_id": 7340948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f727ef85a90ec4f5ae954f8718017?s=128&d=identicon&r=PG&f=1", "display_name": "CJR", "link": "https://stackoverflow.com/users/7340948/cjr"}, "edited": false, "score": 0, "creation_date": 1545256762, "post_id": 53859103, "comment_id": 94567379, "body": "@CJ59, no its not being removed, i just splited from original between DATE and TIME. and also i just combine several csv as input  into one bigger csv as output"}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1545257000, "post_id": 53859103, "comment_id": 94567460, "body": "Please fix the formatting of the input, output, and code. They should be in separate indented blocks."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 2170140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/028ba1ea26520c8b3c444e20c4bdd31c?s=128&d=identicon&r=PG", "display_name": "job", "link": "https://stackoverflow.com/users/2170140/job"}, "edited": false, "score": 0, "creation_date": 1545260360, "post_id": 53859853, "comment_id": 94568631, "body": "thanks it&#39;s is much faster..., add some missing codes"}], "tags": [], "owner": {"reputation": 2565, "user_id": 7340948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f727ef85a90ec4f5ae954f8718017?s=128&d=identicon&r=PG&f=1", "display_name": "CJR", "link": "https://stackoverflow.com/users/7340948/cjr"}, "is_accepted": true, "score": 1, "last_activity_date": 1545257515, "creation_date": 1545257515, "answer_id": 53859853, "question_id": 53859103, "link": "https://stackoverflow.com/questions/53859103/is-there-any-faster-way-to-process-pandas-dataframe-into-large-csv/53859853#53859853", "title": "Is there any faster way to process pandas dataframe into large csv?", "body": "<p>This is probably the fastest you can get; I think it should work. It's writing files out as it reads them in, instead of piling up everything in memory until the end and doing <code>concat</code> (which is a bit slow)</p>\n\n<pre><code>import pandas\nimport glob\n\nrawCSV = glob.glob('C:\\RAW\\*.csv')\n\nfor filename in rawCSV:\n    data = pandas.read_csv(filename, delimiter=';')\n    date_time = data['DATE_TIME'].str.split(\" \", n = 1, expand = True)\n    data.drop(columns =[\"DATE_TIME\"], inplace = True)\n    data.insert(loc=0, column='DATE_ONLY', value=date_time[0].str.replace('.','-'))\n    data.insert(loc=1, column='TIME_ONLY', value=date_time[1])\n    with open('C:\\CLEAN\\__result.csv', 'a') as fh:\n        data.to_csv(fh, index=False , header=False)\n</code></pre>\n\n<p>It would probably be worth putting some checks in to make sure that you're not appending to a file that's already there and whatnot.</p>\n"}], "owner": {"reputation": 61, "user_id": 2170140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/028ba1ea26520c8b3c444e20c4bdd31c?s=128&d=identicon&r=PG", "display_name": "job", "link": "https://stackoverflow.com/users/2170140/job"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 53859853, "answer_count": 1, "score": 0, "last_activity_date": 1545258169, "creation_date": 1545253363, "last_edit_date": 1545258169, "question_id": 53859103, "link": "https://stackoverflow.com/questions/53859103/is-there-any-faster-way-to-process-pandas-dataframe-into-large-csv", "title": "Is there any faster way to process pandas dataframe into large csv?", "body": "<p>I would like to make following code faster to export into csv with (average file size 800MB) containing 100+ columns.\n...................................................................\n,.................................................................\n.................................................................</p>\n\n<pre><code>            INPUT:\n\n            DATE_TIME;          DATA1;        DATA2         \n            12.18.2018 00:00:00;XXXXXXXXXXXX;YYYYYYYY   \n            12.18.2018 00:00:00;XXXXXXXXXXXX;YYYYYYYY   \n            12.18.2018 00:00:00;XXXXXXXXXXXX;YYYYYYYY   \n            12.18.2018 01:00:00;XXXXXXXXXXXX;YYYYYYYY   \n\n            OUTPUT will be no header:\n\n            DATE,        TIME,   DATA1,      DATA2      \n            2018-12-18,00:00:00,XXXXXXXXXXXX,YYYYYYYY   \n            2018-12-18,00:00:00,XXXXXXXXXXXX,YYYYYYYY   \n            2018-12-18,00:00:00,XXXXXXXXXXXX,YYYYYYYY   \n            2018-12-18,01:00:00,XXXXXXXXXXXX,YYYYYYYY \n</code></pre>\n\n<p><code>CODE</code></p>\n\n<pre><code>import pandas\nimport glob\n\ndfraw = []  \n\nrawCSV = glob.glob('C:\\RAW\\*.csv')\n\nrawCSV\n\nfor filename in rawCSV:\n    data = pandas.read_csv(filename, delimiter=';')\n    dfraw.append(data)\n\ntotalFile = len(dfraw)\nx=0\ndfclean=[]\nfor x in range(totalFile):\n    tempdf =dfraw[x][\"DATE_TIME\"].str.split(\" \", n = 1, expand = True)\n    tempdf[0] = tempdf[0].str.replace('.','-')\n    dfraw[x].drop(columns =[\"DATE_TIME\"], inplace = True)\n    dfraw[x].insert(loc=0, column='DATE_ONLY', value=tempdf[0])\n    dfraw[x].insert(loc=1, column='TIME_ONLY', value=tempdf[1])\n    dfraw[x]['DATE_TIME'] = dfraw[x]['DATE_TIME'].astype('datetime64[ns]')\n    dfclean.append(dfraw[x])\nconcatdf=pandas.concat(dfclean, axis=0)\n\n#dfclean.columns = dfclean.iloc[0]\n#dfclean = dfclean[1:]\nconcatdf.to_csv('C:\\CLEAN\\__result.csv', index=False , header=False)\n</code></pre>\n"}, {"tags": ["python", "pandas", "list", "concat", "scrape"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7863914, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158441667005063/picture?type=large", "display_name": "Redz Ch", "link": "https://stackoverflow.com/users/7863914/redz-ch"}, "edited": false, "score": 0, "creation_date": 1545258340, "post_id": 53859165, "comment_id": 94567973, "body": "typeError: cannot concatenate object of type &quot;&lt;class &#39;list&#39;&gt;&quot;; only pd.Series, pd.DataFrame, and pd.Panel (deprecated) objs are valid"}, {"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "reply_to_user": {"reputation": 33, "user_id": 7863914, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158441667005063/picture?type=large", "display_name": "Redz Ch", "link": "https://stackoverflow.com/users/7863914/redz-ch"}, "edited": false, "score": 0, "creation_date": 1545260510, "post_id": 53859165, "comment_id": 94568669, "body": "It sounds like you have a list of lists and not a list of dataframes"}, {"owner": {"reputation": 33, "user_id": 7863914, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158441667005063/picture?type=large", "display_name": "Redz Ch", "link": "https://stackoverflow.com/users/7863914/redz-ch"}, "edited": false, "score": 0, "creation_date": 1545268056, "post_id": 53859165, "comment_id": 94570411, "body": "yes it is a list of lists but since the list is a python index list similar to a dataframe list of list concat doesn&#39;t work to concat them"}], "tags": [], "owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1545253734, "creation_date": 1545253734, "answer_id": 53859165, "question_id": 53859101, "link": "https://stackoverflow.com/questions/53859101/concatante-list-of-lists-dataframe-from-pd-read-html-df0-format/53859165#53859165", "title": "concatante list of lists dataframe from pd.read_html DF[0] format", "body": "<p>You can use list comprehension:</p>\n\n<pre><code>pd.concat([dfs[i] for i in range(len(dfs))])\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7863914, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158441667005063/picture?type=large", "display_name": "Redz Ch", "link": "https://stackoverflow.com/users/7863914/redz-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545253734, "creation_date": 1545253345, "question_id": 53859101, "link": "https://stackoverflow.com/questions/53859101/concatante-list-of-lists-dataframe-from-pd-read-html-df0-format", "title": "concatante list of lists dataframe from pd.read_html DF[0] format", "body": "<p>I have a DF[number] = pd.read_html(url.text)</p>\n\n<p>I want to concantante or join the DF lists theres hundreads of e.g. DFs[400] into a single pandas dataframe</p>\n\n<p>the dataframes are in list format so list of lists but python index lists like pandas dataframe</p>\n\n<pre><code>     [    Vessel                Built    GT    DWT  Size (m)     Unnamed: 5\n 0      x            XIN HUA Bulk Carrier  2012  44543     82269   229 x 32\n 1      b  FRANCESCO CORRADO Bulk Carrier  2008  40154     77061   225 x 32\n 2      5         NAN XIN 17 Bulk Carrier  2001  40570     75220   225 x 32\n 3      p      DIAMOND INDAH Bulk Carrier  2002  43321     77830   229 x 37\n 4      NaN         PRIME LILY Bulk Carrier  2012  44485   81507   229 x 32\n 5      s           EVGENIA Bulk Carrier  2011  92183    176000   292 x 45\n\n\n\n df[number] = pd.read_html(url.text) \n\n for number in range(494):\n df=pd.concat(df[number])\n</code></pre>\n\n<p>methods but that doesn't seem to work</p>\n\n<pre><code>  df1=pd.concat(df[1])\n  df2=pd.concat(df[2])\n  df3=pd.concat(df[3])\n  dfx=pd.concat([df1,df2,df3],ignore_index=True)\n</code></pre>\n\n<p>this is not what I want as there is hundreads of [] python list dataframes</p>\n\n<p>I want one pandas dataframe that joins all of the list dataframes into one </p>\n\n<p>just be clear the df[] container of the lists is a dict type while df[1] is list</p>\n"}, {"tags": ["python", "pycharm"], "comments": [{"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1545253432, "post_id": 53859094, "comment_id": 94566039, "body": "pycharm is just dropping subtle hints that its time to move on. <i>wink</i>"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1545254464, "post_id": 53859094, "comment_id": 94566468, "body": "<i>How</i> did you install python3? When you say it &quot;creates a shortcut in the location&quot;, do you mean python3 <i>replaces</i> python2 or that it is placed next to it?"}, {"owner": {"reputation": 1, "user_id": 10813064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c2009085e863a6c63018ce5f4d2f30c?s=128&d=identicon&r=PG&f=1", "display_name": "garryb", "link": "https://stackoverflow.com/users/10813064/garryb"}, "edited": false, "score": 0, "creation_date": 1545256741, "post_id": 53859094, "comment_id": 94567366, "body": "No.. it did not replace it.. it created a shortcut for the python3 file alongside the existing python (python 2) file."}], "owner": {"reputation": 1, "user_id": 10813064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c2009085e863a6c63018ce5f4d2f30c?s=128&d=identicon&r=PG&f=1", "display_name": "garryb", "link": "https://stackoverflow.com/users/10813064/garryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545253324, "creation_date": 1545253324, "question_id": 53859094, "link": "https://stackoverflow.com/questions/53859094/why-installing-python3-creates-a-shortcut-in-the-location-of-default-pythonpyth", "title": "why installing python3 creates a shortcut in the location of default python(python 2.7) installation folder on mac?", "body": "<p>why installing python3 creates a shortcut in the location of default python(python 2.7) installation folder on mac? Also when we uninstall the later version it doesn't get deleted. I also found out that PyCharm configuration points to this shortcut file instead of the interpreter from the 3.7 folders. Can anyone explain why is this behavior or I am doing something wrong?</p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1545253393, "post_id": 53859082, "comment_id": 94566023, "body": "does your select statement consist of all the fields which are included in the group by clause?"}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 1, "creation_date": 1545253410, "post_id": 53859082, "comment_id": 94566031, "body": "it&#39;s better if you provide your code sample /portion to understand better."}, {"owner": {"reputation": 29517, "user_id": 6436191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ecxRK.png?s=128&g=1", "display_name": "The Impaler", "link": "https://stackoverflow.com/users/6436191/the-impaler"}, "edited": false, "score": 0, "creation_date": 1545253468, "post_id": 53859082, "comment_id": 94566053, "body": "Show the us query."}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 0, "creation_date": 1545253502, "post_id": 53859082, "comment_id": 94566071, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1520608/ora-00979-not-a-group-by-expression\">ORA-00979 not a group by expression</a>"}, {"owner": {"reputation": 1301, "user_id": 183315, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/4x8Vh.jpg?s=128&g=1", "display_name": "writes_on", "link": "https://stackoverflow.com/users/183315/writes-on"}, "edited": false, "score": 0, "creation_date": 1545257102, "post_id": 53859082, "comment_id": 94567500, "body": "I&#39;ve edited the original post to include the query, hopefully this is helpful. :)"}], "owner": {"reputation": 1301, "user_id": 183315, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/4x8Vh.jpg?s=128&g=1", "display_name": "writes_on", "link": "https://stackoverflow.com/users/183315/writes-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1606951000, "creation_date": 1545253223, "last_edit_date": 1606951000, "question_id": 53859082, "link": "https://stackoverflow.com/questions/53859082/problems-with-group-by-sqlalchemy", "title": "Problems with group_by SqlAlchemy", "body": "<p>I'm having a problem with SqlAlchemy and a group_by clause. See the SqlAlchemy query below.</p>\n<p>I've got a SqlAlchemy query that includes a group_by clause and it's raising an exception, '(cx_Oracle.DatabaseError) ORA-00979: not a GROUP BY expression'. However, when I get the SQL generated by the SqlAlachemy query, and run that manually, the query works fine.</p>\n<p>I'm not sure how to figure out what's wrong with the group_by clause. How can I debug this problem and figure out what I can do to fix it?</p>\n<pre><code># create shorthand aliases\nb = db.aliased(Batch)\nbs = db.aliased(BatchingStatus)\nbp = db.aliased(BatchPress)\nbst = db.aliased(BatchState)\nbit = db.aliased(BatchItem)\nbin = db.aliased(BatchInput)\nbpri = db.aliased(BatchPriority)\nlcu = db.aliased(LCUser)\ns = db.aliased(SubBatch)\nw = db.aliased(WorkType)\nptw = db.aliased(LCProductToWorkType)\nctp = db.aliased(LCCategoryToProduct)\nc = db.aliased(LCCategory)\n\n# for correlated subquery\nsubq = (\n    db.session.query(ctp.product_name)\n        .join(c, c.category_id == ctp.category_id)\n        .filter(func.lower(c.category_path) == category)\n        .filter(ctp.active == 1)\n)\n# start of problem query\nq = db.session.query(\n    b.batch_signature.label('batch_signature'),\n    b.batch_num,\n    b.created_date.label('created_date'),\n    bst.code.label('batch_state'),\n    func.min(bin.promise_date).label('due_out'),\n    bs.job_status,\n    bp.press_id.label('press_id'),\n    bp.description.label('press_description'),\n    bp.code.label('press_code'),\n    bp.active.label('press_active'),\n    func.listagg(bin.item_id, ',').within_group(bin.item_id).label('subbatches'),\n    bs.item_count.label('item_count'),\n    bs.product.label('product'),\n    bpri.code.label('priority'),\n    ptw.display_format.label('product_display_format'),\n    c.display_name.label('category_display_name'),\n    lcu.coalesce_first_name,\n    lcu.coalesce_last_name,\n    lcu.coalesce_email,\n) \\\n    .join(bs, (bs.batch_signature == b.batch_signature) &amp; (bs.press_id == b.press_id)) \\\n    .join(bp, bp.press_id == b.press_id) \\\n    .join(bst, bst.state_id == b.state_id) \\\n    .join(bit, bit.batch_id == b.batch_id) \\\n    .join(bin, bin.batch_input_id == bit.batch_input_id) \\\n    .join(bpri, bpri.priority_id == bin.priority_id) \\\n    .join(lcu, lcu.username == bs.actor) \\\n    .join(s, s.subbatchno == func.to_char(bin.item_id)) \\\n    .join(w, w.worktypeenum == s.worktypeenum) \\\n    .join(ptw, ptw.worktypeenum == w.worktypeenum) \\\n    .join(ctp, ctp.category_to_product_id == ptw.category_to_product_id) \\\n    .join(c, c.category_id == ctp.category_id) \\\n    .filter(bs.product.in_(subq)) \\\n    .filter(b.state_id &lt;= 200) \\\n    .group_by(\n        b.batch_signature,\n        b.batch_num,\n        b.created_date,\n        bst.code,\n        bs.job_status,\n        bp.press_id,\n        bp.description,\n        bp.code,\n        bp.active,\n        bs.item_count,\n        bs.product,\n        bpri.code,\n        ptw.display_format,\n        c.display_name,\n        lcu.coalesce_first_name,\n        lcu.coalesce_last_name,\n        lcu.coalesce_email,\n    ) \\\n    .order_by('batch_signature', 'batch_num', 'created_date')\ntry:\n    retval = q.all()\nexcept Exception as e:\n    print e\n</code></pre>\n<p>The above doesn't show the models, some of which have @hybrid_property/@.expression methods, like the lcu.coalesce_first_name columns, which are an attempt to hid the @func.coalesce code that I thought was causing the group_by problems.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe", "statsmodels"], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 4954433, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fpCYd.jpg?s=128&g=1", "display_name": "Hunter", "link": "https://stackoverflow.com/users/4954433/hunter"}, "is_accepted": true, "score": 0, "last_activity_date": 1545298288, "creation_date": 1545298288, "answer_id": 53865816, "question_id": 53859067, "link": "https://stackoverflow.com/questions/53859067/statsmodels-get-the-error-correlation-matrix-from-varmax-fit/53865816#53865816", "title": "Statsmodels: Get the error correlation matrix from VARMAX.fit()", "body": "<p>I finally found it using a trial and error method and the <code>dir()</code> method. You can just use <code>model.fit().params</code> to obtain the info that I needed.</p>\n"}], "owner": {"reputation": 325, "user_id": 4954433, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fpCYd.jpg?s=128&g=1", "display_name": "Hunter", "link": "https://stackoverflow.com/users/4954433/hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 53865816, "answer_count": 1, "score": 1, "last_activity_date": 1548752560, "creation_date": 1545253168, "last_edit_date": 1548752560, "question_id": 53859067, "link": "https://stackoverflow.com/questions/53859067/statsmodels-get-the-error-correlation-matrix-from-varmax-fit", "title": "Statsmodels: Get the error correlation matrix from VARMAX.fit()", "body": "<p>I would like to be able to use the values of the error correlation matrix. I know I can get it through <code>statsmodels.tsa.statespace.mlemodel.MLEResults.summary()</code>:</p>\n\n<pre><code>model = sm.tsa.VARMAX(endog=df, order=(2, 0))\nresult = model.fit()\nresults_summary = result.summary()\nerrorCor = results_summary.tables[4]\n</code></pre>\n\n<p><code>errorCor</code> is now a <code>SimpleTable</code>, but I would like to convert it to a <code>list</code> or <code>pd.DataFrame</code>. What is the best way to do this?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1545258433, "post_id": 53859058, "comment_id": 94567995, "body": "Off-topic: You need to use <code>PIL.ImageTk.PhotoImage</code> from the <code>PIL</code> module in order to be able to use a <code>.png</code> format file as an image in <code>tkinter</code>. You may also need to resize it before use."}], "answers": [{"tags": [], "owner": {"reputation": 5878, "user_id": 8172933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c23be88780bfccade78eb5ffb64ba9?s=128&d=identicon&r=PG", "display_name": "figbeam", "link": "https://stackoverflow.com/users/8172933/figbeam"}, "is_accepted": true, "score": 1, "last_activity_date": 1545257038, "creation_date": 1545257038, "answer_id": 53859772, "question_id": 53859058, "link": "https://stackoverflow.com/questions/53859058/tkinter-background-with-overlapping-buttons/53859772#53859772", "title": "Tkinter background with overlapping buttons?", "body": "<p>The label containing the background image is a slave of <code>root</code>. So are the labels you create in the <code>init_window()</code> function, but the buttons are slaves to <code>self</code>. </p>\n\n<p>So, instead of:</p>\n\n<pre><code>panel1 = Label(root, image=image1)\n</code></pre>\n\n<p>try</p>\n\n<pre><code>panel1 = Label(self, image=image1)\n</code></pre>\n\n<p>And do the same change for all the buttons as well. That should work better. </p>\n"}], "owner": {"reputation": 453, "user_id": 10723993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7e8a4d08cf004d3135ab0d812415c8?s=128&d=identicon&r=PG&f=1", "display_name": "Number70", "link": "https://stackoverflow.com/users/10723993/number70"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 53859772, "answer_count": 1, "score": 1, "last_activity_date": 1545257038, "creation_date": 1545253114, "last_edit_date": 1545254506, "question_id": 53859058, "link": "https://stackoverflow.com/questions/53859058/tkinter-background-with-overlapping-buttons", "title": "Tkinter background with overlapping buttons?", "body": "<p>I have made a scoreboard and i want to add a background to it. If i dont use the background image, my buttons will display but when im using the background image my buttons are 'disappearing'. This is a little piece of my code, how can i place the button in front of the background?. Thanks for helping me.</p>\n\n<pre><code>from tkinter import *\n\n\nplayer1health = 100\nplayer2health = 100\nplayer3health = 100\nplayer4health = 100\n\n\nclass Window(Frame):\n\n    def __init__(self, master = None):\n        Frame.__init__(self, master)\n        self.master = master\n        self.init_window()\n\n    def init_window(self):\n        self.master.title(\"Scoreboard\")\n        self.pack(fill=BOTH, expand = 1)\n\n        # Background\n        image1 = PhotoImage(file=\"C:/Users/Ahmet/OneDrive/Desktop/SC/achtergrond1.png\")\n        w = image1.width()\n        h = image1.height()\n        root.geometry(\"600x500\")\n        panel1 = Label(root, image=image1)\n        panel1.pack(side='top', fill='both', expand='yes')\n        panel1.image = image1\n\n        #Player1\n        self.Name1 = Label(root, text = input(\"Name player 1: \"), font=(\"Helvetica\", 16))\n        self.Name1.place(x=80,y=50)\n\n        #scoretracker\n        self.Score1 = Label(root,text= 'Score:' )\n        self.Score1.place(x=55, y=80)\n\n        self.L1 = Label(root,text= player1health )\n        self.L1.place(x=100, y=80)\n\n        self.HP1 = Label(root,text= 'HP' )\n        self.HP1.place(x=125, y=80)\n\n        self.add = Label(root, text = \"Add\",font=(\"Helvetica\", 13))\n        self.add.place(x = 30,y=120)\n        #button\n        player_1_add_10_Button = Button(self, text = \"10 HP\",)\n        player_1_add_10_Button.place(x=30,y=140)\n\n        player_1_add_20_Button = Button(self, text = \"20 HP\",)\n        player_1_add_20_Button.place(x=30,y=170)\n\n        player_1_add_30_Button = Button(self, text = \"30 HP\",)\n        player_1_add_30_Button.place(x=30,y=200)\n\n\nroot = Tk()\nroot.geometry(\"600x500\")\nroot.configure(background=\"light blue\")\nLabel(root, text='Scoreboard:', bg= 'light blue').pack()\n\napp = Window(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "xml", "parsing"], "comments": [{"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1545253214, "post_id": 53859040, "comment_id": 94565940, "body": "XML parsers are the right answer. You&#39;d need to figure out what exactly &quot;columns&quot; as they look to you mean in the actual layout. Are you working with actual <code>&lt;tr&gt;</code> and <code>&lt;td&gt;</code> tags? Is it just a visual arrangement of <code>divs</code>? All you&#39;d have to do is decide what is it that makes you think of column numbers, and count them using one of the functions that can get elements by name or some other property. You should not reinvent the wheel and try to make a new parser for this."}, {"owner": {"reputation": 396, "user_id": 3047531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7QCHI.jpg?s=128&g=1", "display_name": "master_latch", "link": "https://stackoverflow.com/users/3047531/master-latch"}, "reply_to_user": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1545254190, "post_id": 53859040, "comment_id": 94566345, "body": "Oh, by &quot;columns&quot; in this context I mean character columns from the xml file itself. That is, I want a way to be able to take a node from the tree produced by the parser and ask &quot;what line number and column does this tag start at?&quot;"}, {"owner": {"reputation": 681, "user_id": 6683985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SJocR.jpg?s=128&g=1", "display_name": "Remy J", "link": "https://stackoverflow.com/users/6683985/remy-j"}, "edited": false, "score": 0, "creation_date": 1545254849, "post_id": 53859040, "comment_id": 94566603, "body": "Isn&#39;t the column numbers is on a line the number of characters in that line?"}, {"owner": {"reputation": 396, "user_id": 3047531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7QCHI.jpg?s=128&g=1", "display_name": "master_latch", "link": "https://stackoverflow.com/users/3047531/master-latch"}, "edited": false, "score": 0, "creation_date": 1545255269, "post_id": 53859040, "comment_id": 94566777, "body": "I&#39;m not sure I understand your question. But what I want is a way to know what line and column number a given tag in the XML file starts on."}], "owner": {"reputation": 396, "user_id": 3047531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7QCHI.jpg?s=128&g=1", "display_name": "master_latch", "link": "https://stackoverflow.com/users/3047531/master-latch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545252990, "creation_date": 1545252990, "question_id": 53859040, "link": "https://stackoverflow.com/questions/53859040/how-can-i-get-line-and-column-numbers-of-elements-when-parsing-xml-with-python", "title": "How can I get line and column numbers of elements when parsing xml with Python?", "body": "<p>What I'm trying to do is write a GUI program in Python that displays the contents of XML files with some basic features like syntax highlighting (this isn't the only thing it needs to do, but it is one of the things).</p>\n\n<p>To do this, I figured I should use an xml parsing package such as lxml or ElementTree. When I render the xml, I would like to be able to use the data structure produced by the parser to do things like syntax highlighting (or whatever). lxml has a \"sourceline\" property, but nothing for column numbers as far as I can tell.</p>\n\n<p>Am I going about this the right way? Is there a better way to accomplish what I want? Otherwise I think will have to write my own XML parser, which I'm not enthusiastic about.</p>\n"}, {"tags": ["python", "xml", "python-3.x", "suds", "workday-api"], "owner": {"reputation": 21, "user_id": 10161868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e5a3ed011cfa7b656d05c02288f9b6?s=128&d=identicon&r=PG&f=1", "display_name": "Wvanas", "link": "https://stackoverflow.com/users/10161868/wvanas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545256047, "creation_date": 1545252673, "last_edit_date": 1545256047, "question_id": 53858979, "link": "https://stackoverflow.com/questions/53858979/how-to-add-xml-element-types-using-python-suds-client", "title": "How to Add XML Element Types using Python Suds Client", "body": "<p>I have been having trouble figuring out how to add element types using a Suds factory. My code is below:</p>\n\n<pre><code>from xml.etree import cElementTree as ElementTree\nfrom suds.client import Client\nfrom suds.wsse import *\nfrom suds.sax.text import Raw\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\n\nlogging.getLogger('suds.client').setLevel(logging.DEBUG)\n\nusername = 'username@tenant'\npassword = 'password'\n\nurl = 'https://wd2-impl- \nservices1.workday.com/ccx/service/[tenant]/Revenue_Management/v31.1?wsdl'\n\nclient = Client(url, username = username, password = password, faults = False)\n\nCustomerObjectType = client.factory.create('ns0:CustomerObjectType')\n\nCustomerObjectType.ID = 'CUS3466'\n\nFinancialsBusinessProcess = client.factory.create('ns0:Financials_Business_Process_ParametersType')\n\nFinancialsBusinessProcess.Auto_Complete = 'true'\n\nCustomerData = client.factory.create('ns0:Customer_WWS_DataType')\n\nCustomerData.Customer_Name = 'Test'\nCustomerData.Worktag_Only = 'false'\nCustomerData.Submit = 'true'\n\nCustomerData.Payment_Terms_Reference.ID = ['NET30', 'Customer_ID']\n\nCustomerData.Default_Payment_Type_Reference.ID = ['PTY_CHECK', 'Payment_Terms_ID']\n\nCustomerData.Included_Children_Reference = ['CUS3029', 'Customer_ID']\n\nCustomerData.Business_Entity_Data.Business_Entity_Name = 'Test'\n\nsecurity = Security()\n\ntoken = UsernameToken(username, password)\n\nsecurity.tokens.append(token)\n\nclient.set_options(wsse=security)\n\nclient.service.Submit_Customer('true', CustomerObjectType, FinancialsBusinessProcess, CustomerData)\n</code></pre>\n\n<p>The error I am receiving is:</p>\n\n<pre><code>ERROR:suds.client:&lt;suds.sax.document.Document instance at 0x10eb0e488&gt;\n</code></pre>\n\n<p>With the output:</p>\n\n<pre><code>DEBUG:suds.client:headers = {'SOAPAction': '\"\"', 'Content-Type': 'text/xml; charset=utf-8'}\nDEBUG:suds.client:HTTP failed - 500 - Internal Server Error:\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;SOAP-ENV:Fault xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wd=\"urn:com.workday/bsvc\"&gt;\n  &lt;faultcode&gt;SOAP-ENV:Client.validationError&lt;/faultcode&gt;\n  &lt;faultstring&gt;Validation error occurred. Element 'ID' is missing attribute 'type'&lt;/faultstring&gt;\n  &lt;detail&gt;\n    &lt;wd:Validation_Fault&gt;\n      &lt;wd:Validation_Error&gt;\n        &lt;wd:Message&gt;Element 'ID' is missing attribute 'type'&lt;/wd:Message&gt;\n        &lt;wd:Detail_Message&gt;Element 'ID' is missing attribute 'type'&lt;/wd:Detail_Message&gt;\n        &lt;wd:Xpath&gt;/ns0:Submit_Customer_Request[1]/ns0:Customer_Data[1]/ns0:Payment_Terms_Reference[1]/ns0:ID[2]&lt;/wd:Xpath&gt;\n      &lt;/wd:Validation_Error&gt;\n    &lt;/wd:Validation_Fault&gt;\n  &lt;/detail&gt;\n&lt;/SOAP-ENV:Fault&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>The formatting given back by the suds factory for the \"Payment_Terms_Reference\" element is as follows: </p>\n\n<pre><code>   Payment_Terms_Reference = \n  (Payment_TermsObjectType){\n     ID[] = \n        \"NET30\",\n        \"Customer_ID\",\n     _Descriptor = \"\"\n  }\n</code></pre>\n\n<p>Where I am confused is that it looks like it is using the index</p>\n\n<pre><code>Payment_Terms_Reference[1]/ns0:ID[2] \n</code></pre>\n\n<p>to find the element type, but when I add more data to the list in the complex object type it doesn't solve the problem.</p>\n\n<p>The current XML code that spits out for Payment_Terms_Reference when I run this code comes out as:</p>\n\n<pre><code>&lt;ns0:Payment_Terms_Reference&gt;\n   &lt;ns0:ID&gt;PTY_CHECK&lt;/ns0:ID&gt;\n   &lt;ns0:ID&gt;Payment_Terms_ID&lt;/ns0:ID&gt;\n&lt;/ns0:Payment_Terms_Reference&gt;\n</code></pre>\n\n<p>But I think I need it to format like: </p>\n\n<pre><code>&lt;ns0:Payment_Terms_Reference&gt;\n    &lt;ns0:ID ns0:type=\"Payment_Terms_ID\"&gt;ID&lt;/ns0:ID&gt;\n&lt;/ns0:Payment_Terms_Reference&gt;\n</code></pre>\n\n<p>If anyone knows what might help me solve this problem, that would be much appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "google-app-engine", "flask", "google-cloud-platform", "google-cloud-storage"], "comments": [{"owner": {"reputation": 781, "user_id": 10240790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c643a6c18272f79049e0051c59d996b?s=128&d=identicon&r=PG&f=1", "display_name": "FridayPush", "link": "https://stackoverflow.com/users/10240790/fridaypush"}, "edited": false, "score": 1, "creation_date": 1545253369, "post_id": 53858923, "comment_id": 94566012, "body": "I don&#39;t mean to sidestep your question, but consider offloading the download/upload to GCS so that your application doesn&#39;t have to spend resources on the transfer. If you use GCS Signed URLs you can have frontend clients directly upload/download from GCS and still monitor authorization.  <a href=\"https://cloud.google.com/storage/docs/access-control/signed-urls\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/access-control/signed-urls</a>"}], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 10801700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zDnZ.jpg?s=128&g=1", "display_name": "alp", "link": "https://stackoverflow.com/users/10801700/alp"}, "is_accepted": false, "score": 0, "last_activity_date": 1545390815, "last_edit_date": 1545390815, "creation_date": 1545388581, "answer_id": 53883255, "question_id": 53858923, "link": "https://stackoverflow.com/questions/53858923/size-limit-on-download-from-cloud-storage-with-app-engine/53883255#53883255", "title": "Size Limit On Download From Cloud Storage With App Engine", "body": "<p>I wouldn\u2019t recommend to use <a href=\"http://flask.pocoo.org/docs/1.0/api/#flask.send_file\" rel=\"nofollow noreferrer\">Flask's <code>send_file()</code> method </a> for managing large files transfer, Flask file handling methods were intended for use by developers or API's, to exchange system messages mostly, like logs, cookies and other light objects. </p>\n\n<p>Besides, the <a href=\"https://gcloud-python.readthedocs.io/en/latest/_modules/google/cloud/storage/blob.html#Blob.download_as_string\" rel=\"nofollow noreferrer\"><code>download_as_string()</code></a> method might indeed conceal a buffer limitation, I did reproduce your scenario and got the same error message with files larger than 30mb, however I couldn\u2019t find more information about such constraint. It might be intentional, induced by the method\u2019s purpose (download content as string, not fitted for large objects). </p>\n\n<p>Proven ways to handle file transfer efficiently with Cloud Storage and Python:</p>\n\n<ul>\n<li><p>Use methods of the <a href=\"https://cloud.google.com/storage/docs/reference/libraries\" rel=\"nofollow noreferrer\">Cloud Storage API</a> directly, to <a href=\"https://cloud.google.com/storage/docs/downloading-objects#storage-download-object-code_sample\" rel=\"nofollow noreferrer\">download</a> and <a href=\"https://cloud.google.com/storage/docs/uploading-objects\" rel=\"nofollow noreferrer\">upload</a> objects without using Flask. As @FridayPush mentioned, it will offload your application, and you can control access with <a href=\"https://cloud.google.com/storage/docs/access-control/signed-urls\" rel=\"nofollow noreferrer\">Signed URL\u2019s</a>.</p></li>\n<li><p>Use the <a href=\"https://cloud.google.com/appengine/docs/standard/python/blobstore/\" rel=\"nofollow noreferrer\">Blobstore API</a>, a straightforward, lightweight, and simple solution to handle file transfer, fully integrated with GCS buckets and intended for this type of situation.</p></li>\n<li><p>Use the <a href=\"http://masnun.com/2016/09/18/python-using-the-requests-module-to-download-large-files-efficiently.html\" rel=\"nofollow noreferrer\">built-in Python Requests module</a>, requires to create your own handlers to communicate with GCS.</p></li>\n</ul>\n"}], "owner": {"reputation": 31, "user_id": 2605279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb123695e55019f6eb0da85b5083547f?s=128&d=identicon&r=PG", "display_name": "Matt Arnold", "link": "https://stackoverflow.com/users/2605279/matt-arnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 839, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545390815, "creation_date": 1545252397, "last_edit_date": 1545254210, "question_id": 53858923, "link": "https://stackoverflow.com/questions/53858923/size-limit-on-download-from-cloud-storage-with-app-engine", "title": "Size Limit On Download From Cloud Storage With App Engine", "body": "<p>tldr: Is there a file size limit to send a file from Cloud Storage to my user's web browser as a download? Am I using the Storage Python API wrong, or do I need to increase the resources set by my App Engine YAML file?</p>\n\n<p>This is just an issue with downloads. Uploads work great up to any file size, using chunking.</p>\n\n<hr>\n\n<h1>The symptoms</h1>\n\n<p>I created a file transfer application with App Engine Python 3.7 Standard environment. Users are able to upload files of any size, and that is working well. But users are running into what appears to be a size limit on downloading the resulting file from Cloud Storage.</p>\n\n<p>The largest file I have successfully sent and received through my entire upload/download process was 29 megabytes. Then I sent myself a 55 megabyte file, but when I attempted to receive it as a download, Flask gives me this error:</p>\n\n<p><code>Error: Server Error\nThe server encountered an error and could not complete your request.\nPlease try again in 30 seconds.</code></p>\n\n<hr>\n\n<h2>Application Structure</h2>\n\n<p>To create my file transfer application, I used Flask to set up two Services, <code>internal</code> and <code>external</code>, each with its own Flask routing file, its own webpage/domain, and its own YAML files.</p>\n\n<p>In order to test the application, I visit the <code>internal</code> webpage which I created. I use it to upload a file in chunks to my application, which successfully composes the chunks in Cloud Storage. I then log into Google Cloud Platform Console as an admin, and when I look at Cloud Storage, it will show me the 55 megabyte file which I uploaded. It will allow me to download it directly through the Cloud Platform Console, and the file is good.</p>\n\n<p>(Up to that point of the process, this even worked for a 1.5 gigabyte file.)</p>\n\n<p>Then I go to my <code>external</code> webpage as a non-admin user. I use the form to attempt to receive that same file as a download. I get the above error. However, this whole process encounters no errors for my 29 megabyte test file, or smaller.</p>\n\n<p>Stacktrace Debugger logs for this service reveal:</p>\n\n<p><code>logMessage:  \"The process handling this request unexpectedly died. This is likely to cause a new process to be used for the next request to your application. (Error code 203)\"</code></p>\n\n<hr>\n\n<h2>Possible solutions</h2>\n\n<p>I added the following lines to my <code>external</code> service YAML file:</p>\n\n<p><code>resources: \n  memory_gb: 100\n  disk_size_gb: 100</code></p>\n\n<p>The error remained the same. Apparently this is not a limit of system resources?</p>\n\n<p>Perhaps I'm misusing the Python API for Cloud Storage. I'm importing <code>storage</code> from <code>google.cloud</code>. Here is where my application responds to the user's POST request by sending the user the file they requested:</p>\n\n<pre><code>@app.route('/download', methods=['POST'])\ndef provide_file():\n    return external_download()\n</code></pre>\n\n<p>This part is in <code>external_download</code>:</p>\n\n<pre><code>    storage_client = storage.Client()\n    bucket = storage_client.get_bucket(current_app.cloud_storage_bucket)\n    bucket_filename = request.form['filename']\n    blob = bucket.blob(bucket_filename)\n\n    return send_file(io.BytesIO(blob.download_as_string()),\n                     mimetype=\"application/octet-stream\",\n                     as_attachment=True,\n                     attachment_filename=filename)\n</code></pre>\n\n<p>Do I need to implement chunking for downloads, not just uploads?</p>\n"}, {"tags": ["python", "scrapy"], "comments": [{"owner": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "edited": false, "score": 0, "creation_date": 1545255570, "post_id": 53858894, "comment_id": 94566910, "body": "That should work. You&#39;ll need to share your code and/or url if you need help figuring out why it&#39;s not working in your case."}, {"owner": {"reputation": 21, "user_id": 10813016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b33ac910b8c229ac7ba96896b46b172?s=128&d=identicon&r=PG&f=1", "display_name": "Coachabower", "link": "https://stackoverflow.com/users/10813016/coachabower"}, "reply_to_user": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "edited": false, "score": 0, "creation_date": 1545260058, "post_id": 53858894, "comment_id": 94568543, "body": "Thanks Stranac, it does work.  My problem was that I didn&#39;t have follow=True, and those links were on a secondary page.  The other links on the page are a header and footer, which were ignored because they&#39;re duplicates, so it didn&#39;t register with me that it wasn&#39;t following any links on the second page, so I thought it was a problem with the attribute."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10813016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b33ac910b8c229ac7ba96896b46b172?s=128&d=identicon&r=PG&f=1", "display_name": "Coachabower", "link": "https://stackoverflow.com/users/10813016/coachabower"}, "edited": false, "score": 0, "creation_date": 1545345711, "post_id": 53870112, "comment_id": 94601375, "body": "I appreciate the advice, but it&#39;s behaving as expected.  The problem was that I needed to add follow=true.  The links in the data attributes are on a secondary page, so it didn&#39;t even search for links to follow.  All good now."}], "tags": [], "owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "is_accepted": false, "score": 1, "last_activity_date": 1545314260, "creation_date": 1545314260, "answer_id": 53870112, "question_id": 53858894, "link": "https://stackoverflow.com/questions/53858894/scrapy-crawlspider-extract-links-from-data-attributes-linkextractor-rule/53870112#53870112", "title": "Scrapy CrawlSpider - Extract Links from data attributes (LinkExtractor rule)", "body": "<p>The problem here is that you are setting the allow argument, which is limiting the <code>LinkExtractor</code> to only go and look for those matching links, you setting the <code>attrs</code> argument is correct, just remove the <code>allow</code>:</p>\n\n<pre><code>le = LinkExtractor(attrs=('href','data-href','data-url',))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10813016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b33ac910b8c229ac7ba96896b46b172?s=128&d=identicon&r=PG&f=1", "display_name": "Coachabower", "link": "https://stackoverflow.com/users/10813016/coachabower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545314419, "creation_date": 1545252288, "last_edit_date": 1545313890, "question_id": 53858894, "link": "https://stackoverflow.com/questions/53858894/scrapy-crawlspider-extract-links-from-data-attributes-linkextractor-rule", "title": "Scrapy CrawlSpider - Extract Links from data attributes (LinkExtractor rule)", "body": "<p>I'm having trouble getting LinkExtractor to find links in data-attributes.</p>\n\n<p>The HTML looks like this:</p>\n\n<pre><code>&lt;a href='#' data-url='/path/to/page' &gt;\n</code></pre>\n\n<p>The LinkExtractor is this:</p>\n\n<pre><code>LinkExtractor(allow=('us/support/', ),attrs=('href','data-href','data-url',))\n</code></pre>\n\n<p>Other links exist on the page with urls in the HREFs, and the LinkExtractor finds those fine, just not the data-attributes.</p>\n\n<p>I've found similar questions about finding tags based on data attributes, but none about using the data-attribute value in the LinkExtractor.</p>\n\n<p>I would think this is pretty common, so I'm surprised at the trouble I'm having to find the answer.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "comments": [{"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545252146, "post_id": 53858840, "comment_id": 94565500, "body": "how about: <code>z = df.dropna().drop(&#39;t&#39;, axis=1).values</code>"}, {"owner": {"reputation": 13, "user_id": 10813020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10143ca51407ee3e0e5d6753f389a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Armo", "link": "https://stackoverflow.com/users/10813020/armo"}, "reply_to_user": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 1, "creation_date": 1545252416, "post_id": 53858840, "comment_id": 94565624, "body": "the error starts here <code>d1= np.array([X])</code> before reaching there when i try to run it line by line."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10813020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10143ca51407ee3e0e5d6753f389a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Armo", "link": "https://stackoverflow.com/users/10813020/armo"}, "edited": false, "score": 1, "creation_date": 1545252671, "post_id": 53858930, "comment_id": 94565727, "body": "This is very clean. But when I try to run <code>z</code>, it says <code>ValueError: all the input arrays must have same number of dimensions</code>"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 13, "user_id": 10813020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10143ca51407ee3e0e5d6753f389a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Armo", "link": "https://stackoverflow.com/users/10813020/armo"}, "edited": false, "score": 0, "creation_date": 1545252760, "post_id": 53858930, "comment_id": 94565760, "body": "I think you&#39;ll have much less of a headache by just using <code>z = df.dropna().values</code> from the start, rather than go through your whole complicated processing."}, {"owner": {"reputation": 13, "user_id": 10813020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10143ca51407ee3e0e5d6753f389a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Armo", "link": "https://stackoverflow.com/users/10813020/armo"}, "edited": false, "score": 1, "creation_date": 1545253191, "post_id": 53858930, "comment_id": 94565930, "body": "You are awesome. Even if it doesn&#39;t work out for me but I have to mark it an accepted answer. I am trying to reproduce this code and I don&#39;t know why It is not working out :( sad. <code>https:&#47;&#47;medium.com&#47;@jaems33&#47;understanding-kalman-filters-wit&zwnj;&#8203;h-python-2310e87b8f4&zwnj;&#8203;8</code> He has put all the code at the end under <code>Putting it all together</code> and that&#39;s why I am trying to reproduce."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 5, "last_activity_date": 1545252731, "last_edit_date": 1545252731, "creation_date": 1545252447, "answer_id": 53858930, "question_id": 53858840, "link": "https://stackoverflow.com/questions/53858840/python-valueerror-cannot-copy-sequence-to-array/53858930#53858930", "title": "Python ValueError: cannot copy sequence to array", "body": "<p><strong>tl;dr:</strong> use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.values.html\" rel=\"noreferrer\"><code>.values</code></a></p>\n\n<p>Your issue is when you're creating your numpy arrays, you are passing it a list, when I think you are trying to pass it a dataframe:</p>\n\n<pre><code># This doesn't work\nnp.array([X])\n# This does\nnp.array(X)\n</code></pre>\n\n<p>So you can do:</p>\n\n<pre><code>d1= np.array(X)\nd2 = np.array(y)\n</code></pre>\n\n<p>Or better yet:</p>\n\n<pre><code>d1 = X.values\nd2 = y.values\n</code></pre>\n\n<p>To get:</p>\n\n<pre><code>&gt;&gt;&gt; d1\narray([[0.040662, 1.041667],\n       [0.139757, 1.760417],\n       [0.144357, 1.190104],\n       [0.145341, 1.047526],\n       [0.145401, 1.011882],\n       [0.148465, 1.00297 ]])\n&gt;&gt;&gt; d2\narray([1, 2, 1, 1, 1, 1])\n</code></pre>\n\n<p>But in the end, your final result would be exactly the same as simply saying:</p>\n\n<pre><code>z = df.dropna().values\n&gt;&gt;&gt; z\narray([[0.040662, 1.041667, 1.      ],\n       [0.139757, 1.760417, 2.      ],\n       [0.144357, 1.190104, 1.      ],\n       [0.145341, 1.047526, 1.      ],\n       [0.145401, 1.011882, 1.      ],\n       [0.148465, 1.00297 , 1.      ]])\n</code></pre>\n\n<p>See the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.values.html\" rel=\"noreferrer\">docs</a> for the <code>.values</code> method, which just gives you a numpy representation of a dataframe</p>\n"}, {"tags": [], "owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1545253126, "creation_date": 1545253126, "answer_id": 53859062, "question_id": 53858840, "link": "https://stackoverflow.com/questions/53858840/python-valueerror-cannot-copy-sequence-to-array/53859062#53859062", "title": "Python ValueError: cannot copy sequence to array", "body": "<p>a I don't think that you even need to do all of those steps. Moving from a pandas data-frame to numpy 2D array is seamless.</p>\n\n<pre><code>df.dropna(inplace=True)\ndf_numpy = df.drop(\"t\", axis=1).values\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10813020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10143ca51407ee3e0e5d6753f389a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Armo", "link": "https://stackoverflow.com/users/10813020/armo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6833, "favorite_count": 0, "accepted_answer_id": 53858930, "answer_count": 2, "score": 1, "last_activity_date": 1545253126, "creation_date": 1545251996, "last_edit_date": 1545252285, "question_id": 53858840, "link": "https://stackoverflow.com/questions/53858840/python-valueerror-cannot-copy-sequence-to-array", "title": "Python ValueError: cannot copy sequence to array", "body": "<p>I have a .csv dataset with three columns formatted as follows</p>\n\n<pre><code>  t           X      Y\n 0.040662  1.041667  1\n 0.139757  1.760417  2\n 0.144357  1.190104  1\n 0.145341  1.047526  1\n 0.145401  1.011882  1\n 0.148465  1.002970  1\n</code></pre>\n\n<p>Instead of manually writing it as </p>\n\n<pre><code>x_final = np.array([1.041667, 1.760417, 1.190104, 1.047526, 1.011882, 1.002970])\nv_observations = np.array([1, 2, 1, 1, 1, 1])\n</code></pre>\n\n<p>I wanted to perform it automatically by copying the pandas dataframe to an array and here is my code</p>\n\n<pre><code>import numpy as np\nfrom numpy.linalg import inv\nimport pandas as pd\n\ndf = pd.read_csv('testdata.csv')\nprint(df)\n\ndf.dropna(inplace=True)\n\nX = df.drop('Y', axis=1)\ny = df['Y']\n\ntime = df.drop('t', axis=1)\nprint(X)\nd1= np.array([X])\nd2 = np.array([y])\n\nx_final = np.array([d1])\ny_final = np.array([d2])\nz = np.c_[x_final, y_final]\n</code></pre>\n\n<p>However, I am getting this error when I try to run my code.</p>\n\n<pre><code>ValueError: cannot copy sequence with size 6 to array axis with dimension 2\n</code></pre>\n\n<p>How can I fix this error?</p>\n"}, {"tags": ["python", "pandas", "list"], "comments": [{"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 5, "creation_date": 1545252089, "post_id": 53858802, "comment_id": 94565474, "body": "I think you should simplify your question, Make it more generic. It is hard to comprehend."}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "reply_to_user": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545252488, "post_id": 53858802, "comment_id": 94565659, "body": "Thanks for your suggestion. The structure of list itself is quiet complicated."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1545252689, "post_id": 53858802, "comment_id": 94565738, "body": "So they are common if the first two numbers in the tuple are equivalent? And how do you arrive at <code>6</code>? (e.g. Mo2S6)"}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545252836, "post_id": 53858802, "comment_id": 94565795, "body": "Hi rahlf, they will be common only if all three coordinates are common. so , S (1.5952, -0.9210, 37.6032)  S (1.5952, -0.9210, 12.7242)  are not common. Thanks."}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 0, "creation_date": 1545252926, "post_id": 53858802, "comment_id": 94565829, "body": "this will help you <a href=\"https://stackoverflow.com/questions/53841562/how-to-sort-a-string-in-python-in-order-aab-instead-of-aba#53841588\">link</a> sorting the way Mo0S6, Mo1S6, M02S6 ."}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545252954, "post_id": 53858802, "comment_id": 94565840, "body": "[&#39;Mo2&#39;,   &#39;[PeriodicSite: S (-1.5952, 0.9210, 30.1636) [-0.3333, 0.3333, 0.7587], PeriodicSite: S (1.5952, 0.9210, 30.1636) [0.6667, 0.3333, 0.7587],    PeriodicSite: S (0.0000, 3.6839, 30.1636) [0.6667, 1.3333, 0.7587], PeriodicSite: S (-1.5952, 0.9210, 27.0339) [-0.3333, 0.3333, 0.6800],    PeriodicSite: S (1.5952, 0.9210, 27.0339) [0.6667, 0.3333, 0.6800], PeriodicSite: S (0.0000, 3.6839, 27.0339) [0.6667, 1.3333, 0.6800]]&#39;] contains 6 S atoms so its summed up as Mo2S6."}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545253123, "post_id": 53858802, "comment_id": 94565899, "body": "Hi Prashanta, Thanks for the link, but I am not looking for sorting. I need to count the number of S, surrounded to each Mo ."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1545253630, "post_id": 53858802, "comment_id": 94566124, "body": "Correct me if I&#39;m wrong, but in your example, there exist <b>no</b> common points."}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545253864, "post_id": 53858802, "comment_id": 94566226, "body": "Yes you are right, there are no common points on the part of list I posted, so in this case returning 0 is even fine. My goal is to build a pandas dataframe with Mo0S6, Mo1S6, Mo2S6, Mo3S6 as header for row, columns and 1 if they have common S and 0 if they dont share any. Can you please extend it up to that point."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1545254221, "post_id": 53858802, "comment_id": 94566358, "body": "I&#39;ve updated my answer to include a method for identifying duplicates."}, {"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545254584, "post_id": 53858802, "comment_id": 94566502, "body": "Thanks rahlf23, I will implement this and mark the answer."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1545254723, "post_id": 53858802, "comment_id": 94566550, "body": "Made some final modifications so that you don&#39;t have to resort to flattening the list of surroundings (accomplished in a similar manner using <code>stack()</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545254615, "post_id": 53859060, "comment_id": 94566518, "body": "Thanks John, this is very helpful."}], "tags": [], "owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254036, "last_edit_date": 1545254036, "creation_date": 1545253116, "answer_id": 53859060, "question_id": 53858802, "link": "https://stackoverflow.com/questions/53858802/finding-intersection-from-list-of-list-which-has-string-as-element/53859060#53859060", "title": "Finding intersection from list of list which has string as element", "body": "<p>Just parsing the strings without the need to import anything:</p>\n\n<pre><code>for item in neighbor_list:\n    center=item[0]\n    surroundings=item[1].split(\"PeriodicSite: S \")\n\n    # remove extra brackets\n    surroundings=surroundings[1:]\n    surroundings[-1]=surroundings[-1][0:-1]\n\n    print \"%sS%d\" % (center, len(surroundings))\n\n    surroundings = [x.replace(\"(\",\" \").replace(\")\",\" \").replace(\"[\",\" \").replace(\"]\",\" \").replace(\",\",\" \") for x in surroundings]\n    surroundings = [x.split() for x in surroundings]\n\n    for S in surroundings:\n        print \"S (%s,%s,%s)\" % (S[0], S[1], S[2])\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>Mo0S6\nS (1.5952,-0.9210,37.6032)\nS (0.0000,1.8419,37.6032)\nS (3.1903,1.8419,37.6032)\nS (1.5952,-0.9210,34.4734)\nS (0.0000,1.8419,34.4734)\nS (3.1903,1.8419,34.4734)\nMo1S6\nS (1.5952,-0.9210,12.7242)\nS (0.0000,1.8419,12.7242)\nS (3.1903,1.8419,12.7242)\nS (1.5952,-0.9210,9.5944)\nS (0.0000,1.8419,9.5944)\nS (3.1903,1.8419,9.5944)\nMo2S6\nS (-1.5952,0.9210,30.1636)\nS (1.5952,0.9210,30.1636)\nS (0.0000,3.6839,30.1636)\nS (-1.5952,0.9210,27.0339)\nS (1.5952,0.9210,27.0339)\nS (0.0000,3.6839,27.0339)\nMo3S6\nS (-1.5952,0.9210,5.2846)\nS (1.5952,0.9210,5.2846)\nS (0.0000,3.6839,5.2846)\nS (-1.5952,0.9210,2.1548)\nS (1.5952,0.9210,2.1548)\nS (0.0000,3.6839,2.1548\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545256894, "post_id": 53859084, "comment_id": 94567432, "body": "I can get the duplicates, I want to store the len(duplicates) as a corresponding element in the matrix, can you please add that line to make it more clear."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "edited": false, "score": 0, "creation_date": 1545259578, "post_id": 53859084, "comment_id": 94568398, "body": "Keep in mind that is not a code-writing service. Can you update the question with what you have tried? Look at <code>pd.transform()</code>"}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 0, "last_activity_date": 1545254673, "last_edit_date": 1545254673, "creation_date": 1545253230, "answer_id": 53859084, "question_id": 53858802, "link": "https://stackoverflow.com/questions/53858802/finding-intersection-from-list-of-list-which-has-string-as-element/53859084#53859084", "title": "Finding intersection from list of list which has string as element", "body": "<p>You can clean up your data using <code>ast.literal_eval</code> and <code>regex</code>:</p>\n\n<pre><code>import pandas as pd\nimport re, ast\n\nsurrounding = [[ast.literal_eval(i) for i in re.findall(r'\\([ ,.\\d-]+\\)', i[1])] for i in neighbor_list]\ncenters = ['{0}S{1}'.format(i[0], len(s)) for i, s in zip(neighbor_list, surrounding)]\n\ndata = dict(zip(centers, surrounding))\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>{'Mo0S6': [(1.5952, -0.921, 37.6032), (0.0, 1.8419, 37.6032), (3.1903, 1.8419, 37.6032), (1.5952, -0.921, 34.4734), (0.0, 1.8419, 34.4734), (3.1903, 1.8419, 34.4734)],\n'Mo1S6': [(1.5952, -0.921, 12.7242), (0.0, 1.8419, 12.7242), (3.1903, 1.8419, 12.7242), (1.5952, -0.921, 9.5944), (0.0, 1.8419, 9.5944), (3.1903, 1.8419, 9.5944)],\n'Mo2S6': [(-1.5952, 0.921, 30.1636), (1.5952, 0.921, 30.1636), (0.0, 3.6839, 30.1636), (-1.5952, 0.921, 27.0339), (1.5952, 0.921, 27.0339), (0.0, 3.6839, 27.0339)],\n'Mo3S6': [(-1.5952, 0.921, 5.2846), (1.5952, 0.921, 5.2846), (0.0, 3.6839, 5.2846), (-1.5952, 0.921, 2.1548), (1.5952, 0.921, 2.1548), (0.0, 3.6839, 2.1548)]}\n</code></pre>\n\n<p>You can then generate a dataframe directly using <code>df = pd.Dataframe(data)</code>:</p>\n\n<pre><code>                       Mo0S6                      Mo1S6  \\\n0  (1.5952, -0.921, 37.6032)  (1.5952, -0.921, 12.7242)   \n1     (0.0, 1.8419, 37.6032)     (0.0, 1.8419, 12.7242)   \n2  (3.1903, 1.8419, 37.6032)  (3.1903, 1.8419, 12.7242)   \n3  (1.5952, -0.921, 34.4734)   (1.5952, -0.921, 9.5944)   \n4     (0.0, 1.8419, 34.4734)      (0.0, 1.8419, 9.5944)   \n5  (3.1903, 1.8419, 34.4734)   (3.1903, 1.8419, 9.5944)   \n\n                       Mo2S6                     Mo3S6  \n0  (-1.5952, 0.921, 30.1636)  (-1.5952, 0.921, 5.2846)  \n1   (1.5952, 0.921, 30.1636)   (1.5952, 0.921, 5.2846)  \n2     (0.0, 3.6839, 30.1636)     (0.0, 3.6839, 5.2846)  \n3  (-1.5952, 0.921, 27.0339)  (-1.5952, 0.921, 2.1548)  \n4   (1.5952, 0.921, 27.0339)   (1.5952, 0.921, 2.1548)  \n5     (0.0, 3.6839, 27.0339)     (0.0, 3.6839, 2.1548) \n</code></pre>\n\n<p>To find duplicates, we can simply use <code>stack()</code> and <code>duplicated(keep=False)</code>, where <code>keep=False</code> ensures that we return both duplicates and their associated centers:</p>\n\n<pre><code>df.stack()[df.stack().duplicated(keep=False)]\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>Series([], dtype: object)\n</code></pre>\n\n<p>You can confirm this method works by intentionally creating a duplicate in your sample data.</p>\n"}], "owner": {"reputation": 27, "user_id": 9877417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dc4387778dcaf1946bd711e62417a6?s=128&d=identicon&r=PG", "display_name": "hemanta", "link": "https://stackoverflow.com/users/9877417/hemanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53859084, "answer_count": 2, "score": 0, "last_activity_date": 1545254783, "creation_date": 1545251812, "last_edit_date": 1545254783, "question_id": 53858802, "link": "https://stackoverflow.com/questions/53858802/finding-intersection-from-list-of-list-which-has-string-as-element", "title": "Finding intersection from list of list which has string as element", "body": "<p>I have the following list of list, in which the inner list has 2 items in string format.</p>\n\n<pre><code>neighbor_list = [['Mo0',\n  '[PeriodicSite: S (1.5952, -0.9210, 37.6032) [0.3333, -0.3333, 0.9458], PeriodicSite: S (0.0000, 1.8419, 37.6032) [0.3333, 0.6667, 0.9458], PeriodicSite: S (3.1903, 1.8419, 37.6032) [1.3333, 0.6667, 0.9458], PeriodicSite: S (1.5952, -0.9210, 34.4734) [0.3333, -0.3333, 0.8671], PeriodicSite: S (0.0000, 1.8419, 34.4734) [0.3333, 0.6667, 0.8671], PeriodicSite: S (3.1903, 1.8419, 34.4734) [1.3333, 0.6667, 0.8671]]'],\n ['Mo1',\n  '[PeriodicSite: S (1.5952, -0.9210, 12.7242) [0.3333, -0.3333, 0.3200], PeriodicSite: S (0.0000, 1.8419, 12.7242) [0.3333, 0.6667, 0.3200], PeriodicSite: S (3.1903, 1.8419, 12.7242) [1.3333, 0.6667, 0.3200], PeriodicSite: S (1.5952, -0.9210, 9.5944) [0.3333, -0.3333, 0.2413], PeriodicSite: S (0.0000, 1.8419, 9.5944) [0.3333, 0.6667, 0.2413], PeriodicSite: S (3.1903, 1.8419, 9.5944) [1.3333, 0.6667, 0.2413]]'],\n ['Mo2',\n  '[PeriodicSite: S (-1.5952, 0.9210, 30.1636) [-0.3333, 0.3333, 0.7587], PeriodicSite: S (1.5952, 0.9210, 30.1636) [0.6667, 0.3333, 0.7587], PeriodicSite: S (0.0000, 3.6839, 30.1636) [0.6667, 1.3333, 0.7587], PeriodicSite: S (-1.5952, 0.9210, 27.0339) [-0.3333, 0.3333, 0.6800], PeriodicSite: S (1.5952, 0.9210, 27.0339) [0.6667, 0.3333, 0.6800], PeriodicSite: S (0.0000, 3.6839, 27.0339) [0.6667, 1.3333, 0.6800]]'],\n ['Mo3',\n  '[PeriodicSite: S (-1.5952, 0.9210, 5.2846) [-0.3333, 0.3333, 0.1329], PeriodicSite: S (1.5952, 0.9210, 5.2846) [0.6667, 0.3333, 0.1329], PeriodicSite: S (0.0000, 3.6839, 5.2846) [0.6667, 1.3333, 0.1329], PeriodicSite: S (-1.5952, 0.9210, 2.1548) [-0.3333, 0.3333, 0.0542], PeriodicSite: S (1.5952, 0.9210, 2.1548) [0.6667, 0.3333, 0.0542], PeriodicSite: S (0.0000, 3.6839, 2.1548) [0.6667, 1.3333, 0.0542]]']]\n</code></pre>\n\n<p>The first item in the inner list (say Mo0) is the center and all the S in second item are the surroundings. First I want to print the list of center atom addeded to the surroundings e.g. Mo0S6, Mo1S6, M02S6 and so on. Then I want to find if there are any common S between Mo0, Mo1, Mo2, Mo3 by using their coordinates, e.g. the coordinates for S in neighbor of Mo0 are :</p>\n\n<pre><code>S (1.5952, -0.9210, 37.6032) \nS (1.5952, -0.9210, 12.7242) \n</code></pre>\n\n<p>and so on.</p>\n\n<p>I can get the center and surroundings by doing </p>\n\n<pre><code>for i in range(len(neighbor_list)):\n    center = neighbor_list[i][0]\n    surroundings = neighbor_list[i][1] \n</code></pre>\n\n<p>How can I sum the number of surroundings for each center atom and find the intersection between surroundings?</p>\n\n<p>The final goal is to get the matrix in the following format</p>\n\n<pre><code>      Mo0S6  Mo1S6  Mo2S6  Mo3S6\nMo0S6    0.0    0.0    0.0    0.0\nMo1S6    0.0    0.0    0.0    0.0\nMo2S6    0.0    0.0    0.0    0.0\nMo3S6    0.0    0.0    0.0    0.0\n</code></pre>\n\n<p>All elements in the dataframe are 0 because there are no common S in this list.</p>\n\n<p>Could anyone please help me on this. Thanks in advance.</p>\n"}, {"tags": ["python", "numpy", "scipy", "mesh", "voxel"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1545252038, "post_id": 53858788, "comment_id": 94565456, "body": "Your images are broken."}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1545252228, "post_id": 53858788, "comment_id": 94565535, "body": "@user2357112 I&#39;m in the process of fixing.  Thanks for letting me know you can&#39;t see them either"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 0, "creation_date": 1545252406, "post_id": 53858788, "comment_id": 94565621, "body": "The images are your outputs but what does model look like?"}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "reply_to_user": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 0, "creation_date": 1545252556, "post_id": 53858788, "comment_id": 94565686, "body": "@John it&#39;s hard to render voxels in a program to show you this.  I haven&#39;t made this part of the software yet.  The point is that rotating 90 degrees after masking leaves these types of noise, which is undesirable"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 1, "creation_date": 1545254660, "post_id": 53858788, "comment_id": 94566535, "body": "Right, but without seeing the thing that you&#39;re trying to rotate it&#39;s difficult to determine the source of the error.  Could you perhaps make a very low resolution minimal example to demonstrate the problem?"}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "reply_to_user": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 0, "creation_date": 1545256275, "post_id": 53858788, "comment_id": 94567191, "body": "@John My apologies.  How&#39;s this?"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 0, "creation_date": 1545258822, "post_id": 53858788, "comment_id": 94568139, "body": "That&#39;s perfect."}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "reply_to_user": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "edited": false, "score": 1, "creation_date": 1545791915, "post_id": 53858788, "comment_id": 94695387, "body": "NOTE:  I have fixed this problem.  Please contact me via notifications if you would like the solution; it seems not very many people are actually solving this problem except perhaps @John.  If there&#39;s more interest, I will post a solution"}, {"owner": {"reputation": 650, "user_id": 7564109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21c5ba26db9d247a85098edda4597e78?s=128&d=identicon&r=PG&f=1", "display_name": "A.Comer", "link": "https://stackoverflow.com/users/7564109/a-comer"}, "edited": false, "score": 0, "creation_date": 1545920150, "post_id": 53858788, "comment_id": 94731273, "body": "@Torvalds_for_president You should post the solution anyway. It&#39;s possible someone else has the same issue months or years from now, and you either don&#39;t remember your solution or you don&#39;t have access to your account anymore. Also, comments are subject to pruning without notification, so they may never see your comment in the first place"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 0, "creation_date": 1545260390, "post_id": 53860200, "comment_id": 94568637, "body": "so for the masking part, I have a beautifully simple function where I just <code>np.logical_and()</code> copies of the mask and the previous model.  But I don&#39;t think that works if I rotate the masks?  I&#39;d have to give it some thought"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "reply_to_user": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 0, "creation_date": 1545261021, "post_id": 53860200, "comment_id": 94568815, "body": "You could create a second voxel data structure to use as a mask and use np.logical_and() zero out the model but I think that would likely wind up being less efficient than modifying the existing model in place...  It does seem like there should be a more efficient way to create the mask though.  If performance isn&#39;t a huge deal, it doesn&#39;t hurt to brute force it though."}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "reply_to_user": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 1, "creation_date": 1545262558, "post_id": 53860200, "comment_id": 94569216, "body": "I found this summary of different algorithms (no implementation details) <a href=\"http://www.cs.cmu.edu/~seitz/course/Sigg00/slides/seitz-voxel.pdf\" rel=\"nofollow noreferrer\">cs.cmu.edu/~seitz/course/Sigg00/slides/seitz-voxel.pdf</a>  Might be useful."}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 0, "creation_date": 1545271400, "post_id": 53860200, "comment_id": 94571085, "body": "part of the problem is that I know how to program a noiseless rotation with for loops, but it&#39;s slow and would take a lot of debugging.  I&#39;m really looking for a module in any language that is already optimized.  If I have to convert my <code>np</code> arrays into C++, that&#39;s fine with me, as long as it gets done fast.  I looked at what you posted, though, and it seems like there might be some promising ways to speed up my implementation should I decide to implement it myself"}, {"owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "reply_to_user": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 1, "creation_date": 1545345026, "post_id": 53860200, "comment_id": 94601160, "body": "Have you looked into parallelism?  This seems like the sort of task that would parallelize really readily and if you have access to the computing power you might see better performance from a &quot;unoptimized&quot; parallel implementation than from an optimized serial or lightly threaded implementation.  Worth considering anyway."}, {"owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "edited": false, "score": 0, "creation_date": 1545355753, "post_id": 53860200, "comment_id": 94603548, "body": "it&#39;s definitely worth considering.  I&#39;m guessing that&#39;s how <code>numpy</code> is so much faster than much of python.  Unfortunately I don&#39;t understand threading at the moment.  After I feel content that I&#39;ve scoured all existing implementations, I&#39;ll read up on multithreading.  I&#39;m gonna go ahead and leave your answer an upvote since you&#39;ve been helpful in conversation and it seems this question is dead, at least until I put a bounty on it"}], "tags": [], "owner": {"reputation": 1125, "user_id": 10553098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00fb2d5007c1e5c1adb45aadfb37246?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10553098/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1545259433, "creation_date": 1545259433, "answer_id": 53860200, "question_id": 53858788, "link": "https://stackoverflow.com/questions/53858788/python-noiseless-3-d-rotation/53860200#53860200", "title": "python: Noiseless 3-D rotation?", "body": "<p>If I'm understanding correctly, you have a series of 2D images of a 3D shape taken from different directions and you're trying to recreate the 3D outline of the shape.</p>\n\n<p>Would an algorithm like this accomplish what you're looking to accomplish (pseudo-code)?</p>\n\n<pre><code>Initialize all of your voxels to 1\nfor (mask,angle) in zip(images,directions):\n    for pixel in mask:\n        if pixel_value &lt; threshold:\n            # Nothing there\n            draw line along angle offset by pixel location\n            set value of every voxel intersected by this line to 0\n</code></pre>\n\n<p>I'm basically thinking that it might be simpler to rotate the 2D images rather than rotate the 3D model.</p>\n\n<p>You could probably come up with a quick-and-dirty implementation pretty fast and that should work for convex objects.  You could probably also do fancier things to smooth the edges.</p>\n"}], "owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1545259433, "creation_date": 1545251745, "last_edit_date": 1545256262, "question_id": 53858788, "link": "https://stackoverflow.com/questions/53858788/python-noiseless-3-d-rotation", "title": "python: Noiseless 3-D rotation?", "body": "<p><strong>Background:</strong> </p>\n\n<p>Use case: I want to construct a 3-D mesh of a human body from a few pictures.\n  More specifically, right now I'm trying to rotate a 3-D numpy array so I can apply the next \"mask\" of the human body, so I can get a voxel representation of the skin, from which can make the mesh\n  Most specifically, the problem is that <code>scipy.ndimage.rotate()</code> doesn't do what I need it to for 3 dimensions (though it works great for 2 dimensions).  It also fails for arbitrary rotation angles (ie. 72.9 degrees instead of 90.0 degrees).  It either leaves \"off\" voxels where there ought to be \"on\" voxels or (if I use continuous numbers instead of booleans) it leaves a LOT of \"on\" voxels where there oughta be off voxels.  Is there a better <code>rotate()</code> function that solves this noise problem?</p>\n\n<p><strong>Version info:</strong></p>\n\n<p>Version specifics:\n    python                    2.7.15:          Anaconda, Inc.\n    numpy                     1.11.3           py27h3dfced4_4\n    numpy-base                1.14.5           py27hdbf6ddf_4\n    scipy                     1.1.0            py27hc49cb51_0\n    output of <code>uname -a</code> :\n      Linux elon-eats-my-shorts 4.15.0-42-generic #45~16.04.1-Ubuntu SMP Mon Nov 19 13:02:27 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</p>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code>#====================================================\n\ndef rot8(model, angle):\n  xy=(1,0); return uint_mids(   scipy.ndimage.rotate(model, angle, axes=xy, reshape=False, mode='constant'))\n\n#====================================================\n\ndef uint_mids(arr):\n  # NOTE:  do we want this to run on floats?  TODO:   try multiple ways (first on uint8, then float, etc.)\n  UINT8_MAX=np.iinfo('uint8').max; MID=int(round(UINT8_MAX/2.))\n  arr[np.greater(arr, 0)]=MID; return arr\n\n#====================================================\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<p>I expect these plt.show() results to look like a 2 dimensional view of a human body with minimal noise.  Instead I either get A) holes inside the human body or B) \"body\" outside where it should be:</p>\n\n<p>A)</p>\n\n<p><img src=\"https://neonb88.files.wordpress.com/2018/12/debug_scipy_ndimage_rotate____more_than_1_pixel_noise___theta_equals_90_deg____Dec_19_2018___.png______x_equals_460.png\" alt=\"too many &quot;off&quot; voxels\"></p>\n\n<p>B)</p>\n\n<p><img src=\"https://neonb88.files.wordpress.com/2018/12/debug_scipy_ndimage_rotate____lots_of_outside_noise____but_we_fixed_the_inner_noise_______theta_equals_90_deg____Dec_16_2018______x_equals_0_.png\" alt=\"too many &quot;on&quot; voxels\"></p>\n\n<p>For a minimal example of how <code>scipy.ndimage.rotate()</code> is imprecise, please play around with code at <a href=\"https://gist.github.com/neonb88/dbdab1d05f735ae4bc38b6a1e09bbb84\" rel=\"nofollow noreferrer\">this link</a>.  re: John</p>\n\n<p><em>Before</em> rotation:\n<img src=\"https://neonb88.files.wordpress.com/2018/12/before_rotation.png\" alt=\"8 voxels\"></p>\n\n<p><em>After</em> rotation:\n<img src=\"https://neonb88.files.wordpress.com/2018/12/after_rotation.png\" alt=\"18 voxels?\"></p>\n\n<p>The <code>rotate()</code> method created new voxels!  I'm looking for a <code>rotate_in_3D()</code> method that doesn't do this</p>\n"}, {"tags": ["python", "node.js", "python-3.x", "cmd", "windows-10"], "answers": [{"tags": [], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252679, "last_edit_date": 1545252679, "creation_date": 1545251957, "answer_id": 53858833, "question_id": 53858773, "link": "https://stackoverflow.com/questions/53858773/node-js-python-shell/53858833#53858833", "title": "Node.js - Python-shell", "body": "<p>You haven't initialized the package. Run this to create your <code>package.json</code> file:</p>\n\n<pre><code>npm init\n</code></pre>\n\n<p>Then you can define your test script.</p>\n"}, {"tags": [], "owner": {"reputation": 4800, "user_id": 5156280, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1facda9327d575c85d94e19416825e1c?s=128&d=identicon&r=PG&f=1", "display_name": "TGrif", "link": "https://stackoverflow.com/users/5156280/tgrif"}, "is_accepted": false, "score": 0, "last_activity_date": 1545316462, "creation_date": 1545316462, "answer_id": 53870714, "question_id": 53858773, "link": "https://stackoverflow.com/questions/53858773/node-js-python-shell/53870714#53870714", "title": "Node.js - Python-shell", "body": "<p>The problem occurs because you are trying to run your program with the <code>npm test</code> command line.  </p>\n\n<p>This is the <a href=\"https://docs.npmjs.com/cli/test.html\" rel=\"nofollow noreferrer\">npm command</a> to run a specific script, in this case the \"test\" script that you should provide in your <em>package.json</em> file. Since you do not create a <em>package.json</em> at all, this command fails.  </p>\n\n<p>For exemple, if you use <code>npm init</code> to generate a <em>package.json</em> file, you will get this default \"test\" script:</p>\n\n<pre><code>{\n  ...\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  }\n}\n</code></pre>\n\n<p>To launch your program, you can use:</p>\n\n<pre><code>node test.js\n</code></pre>\n\n<p>Or you could add a \"start\" script in your <em>package.json</em> and use:</p>\n\n<pre><code>npm start\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4426154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F465w.jpg?s=128&g=1", "display_name": "Mr Day2Day", "link": "https://stackoverflow.com/users/4426154/mr-day2day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 692, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545316462, "creation_date": 1545251668, "question_id": 53858773, "link": "https://stackoverflow.com/questions/53858773/node-js-python-shell", "title": "Node.js - Python-shell", "body": "<p>I've been having some issues with installing python-shell.</p>\n\n<p><strong>WARNING!</strong> I'm a novice at Javascript however I eat, drink and sleep Python. I would love to include Python in whatever program I'm working on (if it's practical).</p>\n\n<p>I am creating some desktop applications and would love the make them look modern via a little Html, CSS, Javascript spice.</p>\n\n<p><strong>Checking my Node version:</strong></p>\n\n<pre><code>C:\\nodejs\\py-js\\test&gt;npm -v6.4.1\n</code></pre>\n\n<p><strong>Installing Python-Shell via npm:</strong></p>\n\n<pre><code>C:\\nodejs\\py-js\\test&gt;npm install python-shell\nnpm WARN saveError ENOENT: no such file or directory, open 'C:\\nodejs\\py-js\\test\\package.json'\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\nodejs\\py-js\\test\\package.json'\nnpm WARN test No description\nnpm WARN test No repository field.\nnpm WARN test No README datanpm WARN test No license field.\npython-shell@1.0.6 added 1 package from 1 contributor and audited 1 package in 1.827s found 0 vulnerabilities\n</code></pre>\n\n<p><strong>npm test</strong></p>\n\n<pre><code>C:\\nodejs\\py-js\\test2&gt;npm test\nnpm ERR! path C:\\nodejs\\py-js\\test2\\package.json\nnpm ERR! code ENOENT\nnpm ERR! errno -4058\nnpm ERR! syscall open\nnpm ERR! enoent ENOENT: no such file or directory, open 'C:\\nodejs\\py-js\\test2\\package.json'\nnpm ERR! enoent This is related to npm not being able to find a file.\nnpm ERR! enoent\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\kurup\\AppData\\Roaming\\npm-cache\\_logs\\2018-12-19T20_15_56_010Z-debug.log\n</code></pre>\n\n<p>HELP! :(</p>\n"}, {"tags": ["java", "php", "python", "typed"], "comments": [{"owner": {"reputation": 39204, "user_id": 5761558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf04bfac11ef3ee693852eccde3b3c?s=128&d=identicon&r=PG&f=1", "display_name": "ernest_k", "link": "https://stackoverflow.com/users/5761558/ernest-k"}, "edited": false, "score": 1, "creation_date": 1545251798, "post_id": 53858766, "comment_id": 94565349, "body": "There are dynamic-typed languages that compile code. <a href=\"https://stackoverflow.com/questions/2555063/is-there-a-compiled-programming-language-with-dynamic-maybe-even-weak-typing\" title=\"is there a compiled programming language with dynamic maybe even weak typing\">stackoverflow.com/questions/2555063/&hellip;</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1545251909, "post_id": 53858766, "comment_id": 94565390, "body": "<a href=\"https://julialang.org/\" rel=\"nofollow noreferrer\">Julia</a>, for example."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1545253338, "post_id": 53858766, "comment_id": 94565994, "body": "In other words, your premise is untrue."}, {"owner": {"reputation": 1148, "user_id": 6591347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/muykQ.png?s=128&g=1", "display_name": "Oleksii Filonenko", "link": "https://stackoverflow.com/users/6591347/oleksii-filonenko"}, "edited": false, "score": 0, "creation_date": 1545263565, "post_id": 53858766, "comment_id": 94569470, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2555063/is-there-a-compiled-programming-language-with-dynamic-maybe-even-weak-typing\">Is there a compiled* programming language with dynamic, maybe even weak typing?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 139331, "user_id": 4725, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B53xA.jpg?s=128&g=1", "display_name": "Tom Hawtin - tackline", "link": "https://stackoverflow.com/users/4725/tom-hawtin-tackline"}, "is_accepted": false, "score": 1, "last_activity_date": 1545252077, "last_edit_date": 1545252077, "creation_date": 1545251775, "answer_id": 53858794, "question_id": 53858766, "link": "https://stackoverflow.com/questions/53858766/why-dynamically-type-languages-are-interpreted-and-statically-type-languages-are/53858794#53858794", "title": "Why dynamically type languages are interpreted and statically type languages are compile time language?", "body": "<p>It's not really true. Java bytecodes can be interpreted, indeed they were only interpreted up until around JDK 1.1.5ish. JavaScript is often compiled.</p>\n\n<p>However, an interpreter for a dynamic language is really easy to write. Perhaps try it. Statically typed languages are a bit more difficult, so you may as well compile it anyway. On the other hand, to reasonably compile a dynamic language takes some effort.</p>\n"}, {"tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1545251927, "creation_date": 1545251927, "answer_id": 53858825, "question_id": 53858766, "link": "https://stackoverflow.com/questions/53858766/why-dynamically-type-languages-are-interpreted-and-statically-type-languages-are/53858825#53858825", "title": "Why dynamically type languages are interpreted and statically type languages are compile time language?", "body": "<p>This depends strictly on the language e.g. Java has mixed mode where the code that runs less often is only interpreted. Code compilation can be expensive so if the compiled code is not executed many times after the compilation the effort spent compiling will not be worth it.</p>\n"}], "owner": {"reputation": 21, "user_id": 10651272, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o0gPRZmBYZc/AAAAAAAAAAI/AAAAAAAAABo/-HWBZLC3_vk/photo.jpg?sz=128", "display_name": "Hasnain Abid Khanzada", "link": "https://stackoverflow.com/users/10651272/hasnain-abid-khanzada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1545285290, "answer_count": 2, "score": 0, "last_activity_date": 1545252077, "creation_date": 1545251624, "last_edit_date": 1545251850, "question_id": 53858766, "link": "https://stackoverflow.com/questions/53858766/why-dynamically-type-languages-are-interpreted-and-statically-type-languages-are", "closed_reason": "Opinion-based", "title": "Why dynamically type languages are interpreted and statically type languages are compile time language?", "body": "<p>I have always heared that compile time languages (Java, C++ etc) are statically typed and interpreted languages (PHP, Python etc) are dynamically typed, But the question is why they are, Why not a compile time language can be dynamically type and vice versa?</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545253347, "post_id": 53858971, "comment_id": 94566000, "body": "Thanks, it works! Because I have a lot of episodes and the difference is not clear overall, I would like to make one plot every 1000 episodes. I have updated my code with what I was doing and was working, but when I tried to incorporate with your solution but I get a <code>ValueError: setting an array element with a sequence</code>. Could you perhaps help me with that too?"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545253463, "post_id": 53858971, "comment_id": 94566051, "body": "Would you please provide more details on your error message?"}, {"owner": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545253878, "post_id": 53858971, "comment_id": 94566234, "body": "<code>Traceback (most recent call last): File &quot;&#47;home&#47;plots&#47;plots.py&quot;, line 96, in &lt;module&gt; plt.plot(l_episodes[i*N:i*N+N], l_rewards[i*N:i*N+N]) plt.close()</code>  <code>ValueError: setting an array element with a sequence.</code>"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545254243, "post_id": 53858971, "comment_id": 94566373, "body": "I do not think <code>plt.plot(l_episodes[iN:iN+N], l_rewards[iN:iN+N])</code> will work. You are giving lists directly to <code>plt.plot</code>. That&#39;s why I implement a <code>for</code> loop to plot one by one. For your purpose, you might need to 1) run this script multiple times after batching your files or 2) write an outer <code>for</code> loop and create a new blank plot in every iteration to do this more properly."}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545254709, "post_id": 53858971, "comment_id": 94566548, "body": "The implementation depends on what you exactly want. Do you want a single figure with several subfigures, and save as one file? Or do you want to one figure each episodes period saved as multiple files? I recommend you to google the <b>images</b> of &quot;matplotlib multiple figures&quot; and read through appropriate examples."}, {"owner": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 0, "creation_date": 1545255646, "post_id": 53858971, "comment_id": 94566950, "body": "Oh ok sorry for not being clear. I actually want one figure that will show the two plots of the two txt files, but only for the episodes when these two plots overlap. I uploaded the figure so that you have a picture of what it looks like. The blue plot begins at step 14000 and ends at 15000, so i&#39;d like to plot these two text files for only those steps when you see both plots. Kind of &quot;zooming in&quot;"}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 1, "creation_date": 1545256522, "post_id": 53858971, "comment_id": 94567279, "body": "Then this has nothing to do with plotting. Adding an <code>if</code> statement before <code>episodes.append(episode)</code> and <code>rewards.append(reward)</code> to decide which data should be kept."}, {"owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "reply_to_user": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "edited": false, "score": 1, "creation_date": 1545257595, "post_id": 53858971, "comment_id": 94567699, "body": "You are welcome. One final note: it usually will be beneficial to take a macroscopic view on what need to be plotted. Afterwards, plotting may be less confusing."}], "tags": [], "owner": {"reputation": 167, "user_id": 7934801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9bbcba9a291d563f13834df2c4040?s=128&d=identicon&r=PG&f=1", "display_name": "Yi Bao", "link": "https://stackoverflow.com/users/7934801/yi-bao"}, "is_accepted": true, "score": 2, "last_activity_date": 1545253479, "last_edit_date": 1545253479, "creation_date": 1545252641, "answer_id": 53858971, "question_id": 53858763, "link": "https://stackoverflow.com/questions/53858763/python-read-multiple-txt-and-plot-in-same-figure/53858971#53858971", "title": "Python read multiple .txt and plot in same figure", "body": "<p>How about creating a list of lists and plotting them one by one? The solution below works for multiple files too.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport glob\n\n\n# Read any .txt output file\npath = '/home/plots/*.txt' \nfiles = glob.glob(path)\n\n######################################################\n# Create a list of episodes and reward from all files\nl_episodes = []\nl_rewards = []\n######################################################\nfor name in files:\n    # Read lines from file\n    with open(name) as f:\n        lines = f.readlines()\n\n    # Extract episode/reward data points\n    episodes = []\n    rewards = []\n    for line in lines:\n        columns = line.split()\n        if not columns[0].startswith(\"episode\"):\n            # Not a line with episode/reward data\n            continue\n        try:\n            episode = int(columns[0].split(\":\")[1])\n            reward = float(columns[7].split(\":\")[1])\n        except:\n            # Not a number\n            continue\n        if episode in episodes:\n            # We don't want repeated episodes\n            continue\n        episodes.append(episode)\n        rewards.append(reward)\n\n    print(episodes,rewards)\n    #################################\n    # Append to the lists\n    l_episodes.append(episodes)\n    l_rewards.append(rewards)\n    #################################\n\n###########################################    \n#plot both in the same figure\nfor i in range(len(l_episodes)):\n    plt.plot(l_episodes[i], l_rewards[i])\n###########################################\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 5945369, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/KuMi2.jpg?s=128&g=1", "display_name": "joasa", "link": "https://stackoverflow.com/users/5945369/joasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 0, "accepted_answer_id": 53858971, "answer_count": 1, "score": 0, "last_activity_date": 1545255691, "creation_date": 1545251617, "last_edit_date": 1545255691, "question_id": 53858763, "link": "https://stackoverflow.com/questions/53858763/python-read-multiple-txt-and-plot-in-same-figure", "title": "Python read multiple .txt and plot in same figure", "body": "<p>I have two .txt files of this form with thousands of rows</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>episode:2840  score:6.0  memory length:700345  epsilon:0.5576491831247304   steps:359    recent reward:5.95\r\nepisode:2841  score:4.0  memory length:700629  epsilon:0.5574965123606621   steps:284    recent reward:5.96\r\nepisode:2842  score:5.0  memory length:700911  epsilon:0.5573449596383373   steps:282    recent reward:5.93\r\nMax lifes :5\r\nepisode:2800  score:7.0  memory length:687331  epsilon:0.5646918805492361   steps:268    recent reward:6.04\r\nepisode:2801  score:5.0  memory length:687678  epsilon:0.5645029051613243   steps:347    recent reward:6.03\r\nepisode:2802  score:6.0  memory length:688027  epsilon:0.564312906709082   steps:349    recent reward:6.03</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to plot how the <code>recent_reward</code> column, changes over the <code>episodes</code>. After I remove the <code>Max lifes :5</code> and some rows where the <code>episode</code> repeats, I get as a result two different plots, one for every file. However, the goal is to plot them together in one figure, to show the difference of the two <code>rewards</code> of the files over <code>episodes</code>. Could somebody help please?</p>\n\n<p>This is my code :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import matplotlib.pyplot as plt\r\nimport glob\r\n\r\n\r\n# Read any .txt output file\r\npath = '/home/plots/*.txt' \r\nfiles = glob.glob(path)\r\n\r\n\r\nfor name in files:\r\n    # Read lines from file\r\n    with open(name) as f:\r\n        lines = f.readlines()\r\n\r\n    # Extract episode/reward data points\r\n    episodes = []\r\n    rewards = []\r\n    for line in lines:\r\n        columns = line.split()\r\n        if not columns[0].startswith(\"episode\"):\r\n            # Not a line with episode/reward data\r\n            continue\r\n        try:\r\n            episode = int(columns[0].split(\":\")[1])\r\n            reward = float(columns[7].split(\":\")[1])\r\n        except:\r\n            # Not a number\r\n            continue\r\n        if episode in episodes:\r\n            # We don't want repeated episodes\r\n            continue\r\n        episodes.append(episode)\r\n        rewards.append(reward)\r\n\r\n\r\n    print(episodes,rewards)\r\n    \r\n    #plot both in the same figure\r\n    #plt.plot(episodes, rewards, episodes, rewards)\r\n    #plt.show()\r\n    \r\n    # Plot data every 1000 steps\r\n    N = 1000\r\n    for i in range(int(len(l_episodes)/N)+1):\r\n        plt.plot(l_episodes[i*N:i*N+N], l_rewards[i*N:i*N+N])\r\n        plt.xlabel('episodes', fontsize=12)\r\n        plt.ylabel('rewards', fontsize=12)\r\n        plt.savefig(\"plot{}.png\".format(i))\r\n        plt.close()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Output figure</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/prCmT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prCmT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545251735, "post_id": 53858738, "comment_id": 94565323, "body": "what is the desired output?"}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1545251782, "post_id": 53858738, "comment_id": 94565344, "body": "Perhaps you meant <code>for row in csv_reader:</code> instead of <code>for row in csv_file:</code>?"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1545251946, "post_id": 53858738, "comment_id": 94565412, "body": "<code>.replace(&#39;\\n&#39;,&#39;&#39;)</code> or <code>.rstrip()</code> should remove those from the ends of lines"}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1545252296, "post_id": 53858738, "comment_id": 94565567, "body": "<code>for row in csv_reader: row=row[:-1]</code> drops the new_line if it is at the end of the line. If you have new line in between lines you&#39;ll need to handle that too."}], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 3309993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oeq11.jpg?s=128&g=1", "display_name": "aarexer", "link": "https://stackoverflow.com/users/3309993/aarexer"}, "is_accepted": false, "score": 1, "last_activity_date": 1545252110, "creation_date": 1545252110, "answer_id": 53858860, "question_id": 53858738, "link": "https://stackoverflow.com/questions/53858738/how-to-avoid-printing-of-n-in-print-statement-inside-for-loop/53858860#53858860", "title": "How to avoid printing of \\n in print statement inside for loop?", "body": "<p>Try to use newline='' when you open file</p>\n\n<p>Like: </p>\n\n<pre><code>with open(test.csv, 'r', newline='') as csvfile:\n            reader = csv.reader(csvfile, delimiter=',')\n            for line in reader:\n                print(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 7783944, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fG6XkVRSleo/AAAAAAAAAAI/AAAAAAAAAKc/GSvqQQhZEyI/photo.jpg?sz=128", "display_name": "Seth Wahle", "link": "https://stackoverflow.com/users/7783944/seth-wahle"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252239, "creation_date": 1545252239, "answer_id": 53858883, "question_id": 53858738, "link": "https://stackoverflow.com/questions/53858738/how-to-avoid-printing-of-n-in-print-statement-inside-for-loop/53858883#53858883", "title": "How to avoid printing of \\n in print statement inside for loop?", "body": "<p>My guess is that your CSV has newlines at the end of each URL or maybe you caught a newline when from your APIKEY. easiest fix I can think of is this: </p>\n\n<pre><code>with open('test.csv', '') as csv_file:\n    csv_reader = csv.reader(csv_file, delimiter=',')\n    line_count = 0\n    for row in csv_file:\n        xurl = \"/contacts/v1/contact/email/{row}/profile\".format(**vars())\n        url = HS_API_URL + xurl + APIKEY\n        print(url.replace('\\n',''))\n        data = {\n            \"properties\": [\n                {\n                    \"property\": \"hs_lead_status\",\n                    \"value\": \"UNQUALIFIED\"\n                }\n            ]\n        }\n        r = requests.post(url, headers=header, data=json.dumps(data))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1777, "user_id": 10626090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zAZwb.png?s=128&g=1", "display_name": "Siddharth Satpathy", "link": "https://stackoverflow.com/users/10626090/siddharth-satpathy"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254829, "creation_date": 1545254829, "answer_id": 53859381, "question_id": 53858738, "link": "https://stackoverflow.com/questions/53858738/how-to-avoid-printing-of-n-in-print-statement-inside-for-loop/53859381#53859381", "title": "How to avoid printing of \\n in print statement inside for loop?", "body": "<p>You can try <a href=\"https://python-reference.readthedocs.io/en/latest/docs/str/rstrip.html\" rel=\"nofollow noreferrer\">rstrip</a> from Python. This returns a copy of the string with trailing characters removed. You can transfrom <code>url</code> using <code>url = url.rstrip('\\n \\t')</code></p>\n\n<p>This is how your full code will look after the change.</p>\n\n<pre><code>with open('test.csv', '') as csv_file:\n    csv_reader = csv.reader(csv_file, delimiter=',')\n    line_count = 0\n    for row in csv_file:\n        xurl = \"/contacts/v1/contact/email/{row}/profile\".format(**vars())\n        url = HS_API_URL + xurl + APIKEY\n        url = url.rstrip('\\n \\t')    #New line which removes trailing `\\n`.\n        print url\n        data = {\n            \"properties\": [\n                {\n                    \"property\": \"hs_lead_status\",\n                    \"value\": \"UNQUALIFIED\"\n                }\n            ]\n        }\n    r = requests.post(url, headers=header, data=json.dumps(data))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10781664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KCx7mBfbvN4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jK_KVttDLv4qghXsMPCriizxCCsA/mo/photo.jpg?sz=128", "display_name": "Lambedout", "link": "https://stackoverflow.com/users/10781664/lambedout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545268269, "creation_date": 1545251483, "last_edit_date": 1545268269, "question_id": 53858738, "link": "https://stackoverflow.com/questions/53858738/how-to-avoid-printing-of-n-in-print-statement-inside-for-loop", "title": "How to avoid printing of \\n in print statement inside for loop?", "body": "<p>I am running this code and keep getting a \\n from reading the newline in the csv file, how can I prevent this?</p>\n\n<pre><code>with open('test.csv', '') as csv_file:\n    csv_reader = csv.reader(csv_file, delimiter=',')\n    line_count = 0\n    for row in csv_file:\n        xurl = \"/contacts/v1/contact/email/{row}/profile\".format(**vars())\n        url = HS_API_URL + xurl + APIKEY\n        print url\n        data = {\n            \"properties\": [\n                {\n                    \"property\": \"hs_lead_status\",\n                    \"value\": \"UNQUALIFIED\"\n                }\n            ]\n        }\n        r = requests.post(url, headers=header, data=json.dumps(data))\n</code></pre>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1545256011, "post_id": 53858730, "comment_id": 94567103, "body": "<code>pytest -p no:plugin1 -p no:plugin2</code> etc."}, {"owner": {"reputation": 31, "user_id": 7542156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62914c9f143a886ca6a043c9d94685d?s=128&d=identicon&r=PG&f=1", "display_name": "Namratha", "link": "https://stackoverflow.com/users/7542156/namratha"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1545946804, "post_id": 53858730, "comment_id": 94740891, "body": "Great! Thank you very much @hoefling! that worked..."}], "owner": {"reputation": 31, "user_id": 7542156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62914c9f143a886ca6a043c9d94685d?s=128&d=identicon&r=PG&f=1", "display_name": "Namratha", "link": "https://stackoverflow.com/users/7542156/namratha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545251447, "creation_date": 1545251447, "question_id": 53858730, "link": "https://stackoverflow.com/questions/53858730/how-do-i-ignore-unregister-more-than-1-plugin-for-a-module", "title": "How do I ignore/unregister more than 1 plugin for a module", "body": "<p>I have created a pytest module, which is under a project root. Now there are multiple plugins installed as a part of the root project, but I am seeing issues in my module because of that. So I want to unregister the plugins that I dont need, and are installed at the root level.</p>\n\n<p>I did check this doc:\n<a href=\"https://docs.pytest.org/en/latest/plugins.html#deactivating-unregistering-a-plugin-by-name\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/plugins.html#deactivating-unregistering-a-plugin-by-name</a>\nand tried:</p>\n\n<p>[pytest]\naddopts = -p no:NAME</p>\n\n<p>in my pytest.ini file.\nIt works if I give a single plugin. But I was wondering how to do this if I want multiple plugins to be unregistered?</p>\n\n<p>I tried a bunch of options, but none of them worked</p>\n"}, {"tags": ["python", "django", "heroku"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1545254827, "post_id": 53858684, "comment_id": 94566596, "body": "You don&#39;t seem to have followed the very clear instructions on <a href=\"https://devcenter.heroku.com/articles/django-assets\" rel=\"nofollow noreferrer\">configuring static files with Heroku</a>"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1545255448, "post_id": 53858684, "comment_id": 94566853, "body": "How so? I defined <code>BASE_DIR</code>, <code>STATIC_ROOT</code>, <code>STATIC_URL</code> and <code>STATICFILES_DIRS</code> as well as installed whitenoise"}], "answers": [{"comments": [{"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545253400, "post_id": 53858967, "comment_id": 94566027, "body": "I actually am using the tags already, I updated my question with my stylesheets"}], "tags": [], "owner": {"reputation": 13487, "user_id": 360829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee15e6830c1ecfb4b0970e1c9966b1bc?s=128&d=identicon&r=PG", "display_name": "Cesar Canassa", "link": "https://stackoverflow.com/users/360829/cesar-canassa"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252635, "creation_date": 1545252635, "answer_id": 53858967, "question_id": 53858684, "link": "https://stackoverflow.com/questions/53858684/404-error-for-static-files-in-console-with-django-and-heroku/53858967#53858967", "title": "404 error for static files in console with Django and Heroku", "body": "<p>You should not hardcode static files URLs in your template when using static-files Django app instead, try the following in order to set up the static-files properly.</p>\n\n<ul>\n<li><p>Make sure that django.contrib.staticfiles is included in your INSTALLED_APPS.</p></li>\n<li><p>In your settings file, define STATIC_URL</p></li>\n</ul>\n\n<p>example:</p>\n\n<pre><code>STATIC_URL = '/static/'\n</code></pre>\n\n<p>In your templates, use the <a href=\"https://docs.djangoproject.com/en/2.1/ref/templates/builtins/#std:templatetag-static\" rel=\"nofollow noreferrer\">static</a> template tag to build the URL for the given relative path using the configured <a href=\"https://docs.djangoproject.com/en/2.1/ref/settings/#std:setting-STATICFILES_STORAGE\" rel=\"nofollow noreferrer\">STATICFILES_STORAGE</a>:</p>\n\n<pre><code>{% load static %}\n&lt;img src=\"{% static \"my_app/example.jpg\" %}\" alt=\"My image\"&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545259777, "post_id": 53860039, "comment_id": 94568456, "body": "thanks for the suggestion, when I remove <code>STATICFILES_FINDER</code> it seems that nothing appears on my page. None of the files that contain the links to the static files I mean. So maybe the problem lies in there"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "reply_to_user": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 1, "creation_date": 1545260427, "post_id": 53860039, "comment_id": 94568650, "body": "@CharlesSmith - To clarify, do you mean that once you remove this setting your page reverts to plain html with no styling? Can you please post your project folder and where your static is located inside of it?"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545260734, "post_id": 53860039, "comment_id": 94568739, "body": "When I remove that setting nothing appears, the page is just white lol. No files are loaded either from what I see in the console. And sure Ill do that"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545261451, "post_id": 53860039, "comment_id": 94568936, "body": "Now it&#39;s giving me a <code>templatedoesnotexisterror</code> which is what I used to get before I added the <code>TEMPLATES</code> setting. I also updated my question with some of the project structure. Basically <code>static</code> is in the same directory as my settings file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "reply_to_user": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 1, "creation_date": 1545261616, "post_id": 53860039, "comment_id": 94568984, "body": "@CharlesSmith - I think it has to do with how you specified your BASE_DIR. Did you change it to what I put in my answer, and now you&#39;re getting templatedoesnotexisterror? Does your templates folder live in the same folder as your static?"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545267670, "post_id": 53860039, "comment_id": 94570319, "body": "Hey sorry not at my computer right now, yes I changed it to your updated answer. I was thinking this recent error is probably a better one? I&#39;ll try again when I&#39;m home and update you"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545321788, "post_id": 53860039, "comment_id": 94591468, "body": "Okay so I updated my question again, the error screen is showing me where it&#39;s looking for the templates. As of right now it looks like they&#39;re not in the same folder. I&#39;m just confused as to how the Heroku directories correspond with my own, since I can&#39;t just add files to heroku directly. I need to add them to mine first then push them"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545324256, "post_id": 53860039, "comment_id": 94592738, "body": "I put my templates in one of those folders and now that error is gone, and I&#39;m getting the original 404 error again. I checked to see where it&#39;s looking for static files and it tells me <code>\\app\\static</code>, I have the necessary folders in that directory but still getting the 404. Where exactly is it looking?!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "reply_to_user": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 1, "creation_date": 1545324369, "post_id": 53860039, "comment_id": 94592806, "body": "@CharlesSmith - Can you post your full project folder from the folder your project lives in all the way down to the static and template folders. Also post the error you are getting. I might be able to notice something. Got to run out and do something, but I&#39;ll take a look when I get back."}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545324538, "post_id": 53860039, "comment_id": 94592886, "body": "Okay nvm I just looked at my app/static directory on the Heroku bash console. it seems that the &quot;bower_components&quot; folder isn&#39;t there. Everything else is though which is weird. So it looks like that&#39;s the problem"}, {"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1545327275, "post_id": 53860039, "comment_id": 94594214, "body": "I got it working, I added the NodeJS buildback to Heroku. That installed the bower_components in the right folder. Thank you for your help"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "is_accepted": false, "score": 1, "last_activity_date": 1545261041, "last_edit_date": 1545261041, "creation_date": 1545258498, "answer_id": 53860039, "question_id": 53858684, "link": "https://stackoverflow.com/questions/53858684/404-error-for-static-files-in-console-with-django-and-heroku/53860039#53860039", "title": "404 error for static files in console with Django and Heroku", "body": "<p>Going off what works for me, try deleting STATICFILES_FINDERS setting. I don't think this is necessary for serving static with whitenoise. In any case I don't use it. Also, instead of MIDDLEWARE_CLASSES I just have MIDDLEWARE. Other than those minor changes I would just say try running your app with Debug=False on your local server and see if you run into problems.</p>\n\n<p>Try changing your BASE_DIR setting to:</p>\n\n<pre><code>BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "is_accepted": false, "score": 0, "last_activity_date": 1545327335, "creation_date": 1545327335, "answer_id": 53873563, "question_id": 53858684, "link": "https://stackoverflow.com/questions/53858684/404-error-for-static-files-in-console-with-django-and-heroku/53873563#53873563", "title": "404 error for static files in console with Django and Heroku", "body": "<p>I fixed it, I added the NodeJS buildback to Heroku. That installed the bower_components in the right folder. I'm using Python and Angular so I had the buildpack for the former but not the latter.</p>\n"}], "owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545327335, "creation_date": 1545251214, "last_edit_date": 1545321597, "question_id": 53858684, "link": "https://stackoverflow.com/questions/53858684/404-error-for-static-files-in-console-with-django-and-heroku", "title": "404 error for static files in console with Django and Heroku", "body": "<p>I am able to run collectstatic fine when I push to Heroku. The problem now is I that I'm not sure how to reference them when they're stored on the server. </p>\n\n<p>For example for my stylesheets I get a 404 error:\n<code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/static/bower_components/bootstrap-material-design/dist/css/material.css\" /&gt;</code></p>\n\n<p>This is the URL in the console that is causing the 404:<code>GET https://tixblast-membership.herokuapp.com/static/bower_components/bootstrap-material-design/dist/css/material.css net::ERR_ABORTED 404 (Not Found)</code> </p>\n\n<p>What part of my settings to I alter to make sure I look in the right place? I ran <code>heroku run python manage.py findstatic --verbosity 2 css/styles.css\n</code> to show where it was looking for static files and it returned:\n<code>/app/.heroku/python/lib/python3.7/site-packages/django/contrib/admin/static\n  /app/.heroku/python/lib/python3.7/site-packages/rest_framework/static</code></p>\n\n<p>So do I need to include one of the above directories in my settings?</p>\n\n<p>I assumed that after I got collectstatic working I'd be fine, here is my settings.py:</p>\n\n<pre><code>\"\"\"\nDjango settings for thinkster_django_angular_boilerplate project.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.7/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.7/ref/settings/\n\"\"\"\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nimport os\nimport django_heroku\n\nPROJECT_DIR = os.path.dirname(__file__)\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.7/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = *****\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = os.environ.get('DEBUG', True)\n\nTEMPLATE_DEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',\n    'authentication'\n)\n\nMIDDLEWARE_CLASSES = (\n    'whitenoise.middleware.WhiteNoiseMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n)\n\nROOT_URLCONF = 'thinkster_django_angular_boilerplate.urls'\n\nWSGI_APPLICATION = 'thinkster_django_angular_boilerplate.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/1.7/ref/settings/#databases\n\nimport dj_database_url\n\nDATABASES = {\n    'default': dj_database_url.config(\n        default='sqlite:///' + os.path.join(BASE_DIR, 'db.sqlite3')\n    )\n}\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.7/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.7/howto/static-files/\n\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\nSTATIC_URL = '/static/'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [\n            os.path.join(BASE_DIR,'static'),\n        ],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, 'static'),\n)\n\nSTATICFILES_FINDERS = (\n    'django.contrib.staticfiles.finders.FileSystemFinder',\n    'django.contrib.staticfiles.finders.AppDirectoriesFinder',\n    #'compressor.finders.CompressorFinder',\n)\n\nCOMPRESS_ENABLED = os.environ.get('COMPRESS_ENABLED', False)\n\nTEMPLATE_DIRS = (\n    os.path.join(BASE_DIR, 'static'),\n\n)\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework.authentication.SessionAuthentication',\n    )\n}\n\n# Honor the 'X-Forwarded-Proto' header for request.is_secure()\nSECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')\n\n# Allow all host headers\nALLOWED_HOSTS = ['*']\nAUTH_USER_MODEL = 'authentication.Account'\n\ndjango_heroku.settings(locals())\n</code></pre>\n\n<p>edit:</p>\n\n<p>My stylesheet:</p>\n\n<pre><code>{% load staticfiles %}\n\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'bower_components/bootstrap/dist/css/bootstrap.css' %}\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'bower_components/bootstrap-material-design/dist/css/material.css' %}\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'bower_components/bootstrap-material-design/dist/css/ripples.min.css' %}\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'bower_components/ngDialog/css/ngDialog.css' %}\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'bower_components/ngDialog/css/ngDialog-theme-default.css' %}\" /&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'lib/snackbarjs/snackbar.min.css' %}\" /&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'stylesheets/styles.css' %}\" /&gt;\n</code></pre>\n\n<p>edit2:</p>\n\n<p>file structure where my app is located, its in the same folder as my settings.py. Which is the only way heroku would notice it:</p>\n\n<p><code>\u2514\u2500\u2500\u2500static\n    \u251c\u2500\u2500\u2500bower_components\n    \u2502   \u251c\u2500\u2500\u2500angular\n    \u2502   \u251c\u2500\u2500\u2500angular-cookies\n    \u2502   \u251c\u2500\u2500\u2500angular-route\n    \u2502   \u251c\u2500\u2500\u2500bootstrap\n    \u2502   \u2502   \u251c\u2500\u2500\u2500dist\n    \u2502   \u2502   \u2502   \u251c\u2500\u2500\u2500css\n    \u2502   \u2502   \u2502   \u251c\u2500\u2500\u2500fonts\n    \u2502   \u2502   \u2502   \u2514\u2500\u2500\u2500js\n    \u2502   \u2502   \u251c\u2500\u2500\u2500fonts\n    \u2502   \u2502   \u251c\u2500\u2500\u2500grunt\n    \u2502   \u2502   \u251c\u2500\u2500\u2500js\n    \u2502   \u2502   \u251c\u2500\u2500\u2500less\n    \u2502   \u2502   \u2502   \u2514\u2500\u2500\u2500mixins\n    \u2502   \u2502   \u2514\u2500\u2500\u2500nuget\n    \u2502   \u251c\u2500\u2500\u2500bootstrap-material-design\n    \u2502   \u2502   \u251c\u2500\u2500\u2500dist\n    \u2502   \u2502   \u2502   \u251c\u2500\u2500\u2500css\n    \u2502   \u2502   \u2502   \u251c\u2500\u2500\u2500fonts\n    \u2502   \u2502   \u2502   \u2514\u2500\u2500\u2500js\n    \u2502   \u2502   \u251c\u2500\u2500\u2500fonts\n    \u2502   \u2502   \u251c\u2500\u2500\u2500less\n    \u2502   \u2502   \u251c\u2500\u2500\u2500sass\n    \u2502   \u2502   \u2514\u2500\u2500\u2500scripts\n    \u2502   \u251c\u2500\u2500\u2500jquery\n    \u2502   \u2502   \u251c\u2500\u2500\u2500dist\n    \u2502   \u2502   \u2514\u2500\u2500\u2500src\n    \u2502   \u2502       \u251c\u2500\u2500\u2500ajax\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u251c\u2500\u2500\u2500attributes\n    \u2502   \u2502       \u251c\u2500\u2500\u2500core\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u251c\u2500\u2500\u2500css\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u251c\u2500\u2500\u2500data\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u251c\u2500\u2500\u2500effects\n    \u2502   \u2502       \u251c\u2500\u2500\u2500event\n    \u2502   \u2502       \u251c\u2500\u2500\u2500exports\n    \u2502   \u2502       \u251c\u2500\u2500\u2500manipulation\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u251c\u2500\u2500\u2500queue\n    \u2502   \u2502       \u251c\u2500\u2500\u2500sizzle\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500dist\n    \u2502   \u2502       \u251c\u2500\u2500\u2500traversing\n    \u2502   \u2502       \u2502   \u2514\u2500\u2500\u2500var\n    \u2502   \u2502       \u2514\u2500\u2500\u2500var\n    \u2502   \u251c\u2500\u2500\u2500ngDialog\n    \u2502   \u2502   \u251c\u2500\u2500\u2500css\n    \u2502   \u2502   \u2514\u2500\u2500\u2500js\n    \u2502   \u2514\u2500\u2500\u2500underscore\n    \u251c\u2500\u2500\u2500javascripts\n    \u2502   \u2514\u2500\u2500\u2500authentication\n    \u2502       \u251c\u2500\u2500\u2500controllers\n    \u2502       \u2502   \u2514\u2500\u2500\u2500New folder\n    \u2502       \u2514\u2500\u2500\u2500services\n    \u2514\u2500\u2500\u2500lib\n        \u2514\u2500\u2500\u2500snackbarjs</code></p>\n\n<p>edit 3:</p>\n\n<p>This is where django is looking for the templates according to the error screen:</p>\n\n<pre><code>Using engine django:\n\ndjango.template.loaders.filesystem.Loader: /app/static/index.html (Source does not exist)\ndjango.template.loaders.app_directories.Loader: /app/.heroku/python/lib/python3.7/site-packages/django/contrib/admin/templates/index.html (Source does not exist)\ndjango.template.loaders.app_directories.Loader: /app/.heroku/python/lib/python3.7/site-packages/django/contrib/auth/templates/index.html (Source does not exist)\ndjango.template.loaders.app_directories.Loader: /app/.heroku/python/lib/python3.7/site-packages/rest_framework/templates/index.html (Source does not exist)\n</code></pre>\n"}, {"tags": ["python", "class", "init"], "answers": [{"comments": [{"owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "reply_to_user": {"reputation": 13, "user_id": 10813003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803fd655983626529bc0026ac48b716c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander_Alvaer", "link": "https://stackoverflow.com/users/10813003/alexander-alvaer"}, "edited": false, "score": 1, "creation_date": 1545251734, "post_id": 53858728, "comment_id": 94565321, "body": "@Alexander_Alvaer <code>raw_input</code> only works in Python 2"}, {"owner": {"reputation": 13, "user_id": 10813003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803fd655983626529bc0026ac48b716c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander_Alvaer", "link": "https://stackoverflow.com/users/10813003/alexander-alvaer"}, "edited": false, "score": 0, "creation_date": 1545251837, "post_id": 53858728, "comment_id": 94565361, "body": "I see, using 3.7"}], "tags": [], "owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251440, "creation_date": 1545251440, "answer_id": 53858728, "question_id": 53858664, "link": "https://stackoverflow.com/questions/53858664/get-input-from-user-in-class/53858728#53858728", "title": "Get input from user in class", "body": "<p><a href=\"https://www.pythonforbeginners.com/basics/getting-user-input-from-the-keyboard\" rel=\"nofollow noreferrer\">This</a> would help but the simple answer is:</p>\n\n<pre><code>class Person:\n  def __init__(self, name, age):\n    self.name = name\n    self.age = age\n\np1 = Person((raw_input(\"Enter Name\"), int(raw_input(\"Enter Age\"))))\n\nprint(p1.name)\nprint(p1.age)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251488, "creation_date": 1545251488, "answer_id": 53858740, "question_id": 53858664, "link": "https://stackoverflow.com/questions/53858664/get-input-from-user-in-class/53858740#53858740", "title": "Get input from user in class", "body": "<p><a href=\"https://www.w3schools.com/python/ref_func_input.asp\" rel=\"nofollow noreferrer\">The <code>input</code> function</a> is made to get input from the user. You can create a new <code>Person</code> based on user input like this:</p>\n\n<pre><code>p1 = Person(input(\"What is your name?\"), int(input(\"What is your age?\")))\n</code></pre>\n\n<p>Here's a way that guards against non-integer user input when entering their age:</p>\n\n<pre><code>name = input(\"What is your name?\")\ntry:\n    age = int(input(\"What is your age?\"))\nexcept:\n    print(\"Invalid input.\")\n    exit()\np1 = Person(name, age)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1545251650, "post_id": 53858744, "comment_id": 94565293, "body": "Beat me by 10 seconds! haha"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1545252157, "post_id": 53858744, "comment_id": 94565506, "body": "Doing it in <code>__init__</code> is a bad idea; prompting for keyboard input shouldn&#39;t be the constructor&#39;s job. Also, it prevents you from initializing a <code>Person</code> from anything <i>but</i> keyboard input, or using anything but those particular prompts."}, {"owner": {"reputation": 9435, "user_id": 6858244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wfU-doP3Fhc/AAAAAAAAAAI/AAAAAAAACbY/GNmdrBKqDSM/photo.jpg?sz=128", "display_name": "Prayson W. Daniel", "link": "https://stackoverflow.com/users/6858244/prayson-w-daniel"}, "edited": false, "score": 0, "creation_date": 1545252235, "post_id": 53858744, "comment_id": 94565541, "body": "Totally true. +1 ;) But it depends on the need! If you want to initiate the class with users values,for example. &lt;Edited.&gt;"}], "tags": [], "owner": {"reputation": 9435, "user_id": 6858244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wfU-doP3Fhc/AAAAAAAAAAI/AAAAAAAACbY/GNmdrBKqDSM/photo.jpg?sz=128", "display_name": "Prayson W. Daniel", "link": "https://stackoverflow.com/users/6858244/prayson-w-daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1545252164, "last_edit_date": 1545252164, "creation_date": 1545251511, "answer_id": 53858744, "question_id": 53858664, "link": "https://stackoverflow.com/questions/53858664/get-input-from-user-in-class/53858744#53858744", "title": "Get input from user in class", "body": "<p>You could do it in init. If in Python 2.7, use raw_input</p>\n\n<pre><code>class Person:\n    def __init__(self):\n        self.name = input('Name: ')\n        self.age = int(input('Age: ')\n\np1 = Person()\n\nprint(p1.name)\nprint(p1.age)\n</code></pre>\n\n<p>Or if you want to keep it outside </p>\n\n<pre><code>class Person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n\n\nname = input('Name: ')\nage = int(input('Age: '))\n\np1 = Person(name,age)\n\nprint(p1.name)\nprint(p1.age)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1305, "user_id": 5876384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/op7j2.png?s=128&g=1", "display_name": "fixatd", "link": "https://stackoverflow.com/users/5876384/fixatd"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251568, "creation_date": 1545251568, "answer_id": 53858753, "question_id": 53858664, "link": "https://stackoverflow.com/questions/53858664/get-input-from-user-in-class/53858753#53858753", "title": "Get input from user in class", "body": "<p>You can use <code>input()</code> for Python 3:</p>\n\n<pre><code>name = input('Enter your name:')\nage = input('Enter your age: ')\n</code></pre>\n\n<p>and <code>raw_input()</code> for Python 2:</p>\n\n<pre><code>name = raw_input('Enter your name:')\nage = raw_input('Enter your age: ')\n</code></pre>\n\n<p>Do note that you would need to cast your <code>age</code> to <code>int</code> when reading inputs from the user as you'll get a string value.</p>\n\n<pre><code>age = int(age)\n</code></pre>\n\n<p>But be aware that if the user gives an invalid <code>int</code> its going to throw an error</p>\n"}], "owner": {"reputation": 13, "user_id": 10813003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803fd655983626529bc0026ac48b716c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander_Alvaer", "link": "https://stackoverflow.com/users/10813003/alexander-alvaer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 53858744, "answer_count": 4, "score": 0, "last_activity_date": 1545252164, "creation_date": 1545251134, "last_edit_date": 1545251216, "question_id": 53858664, "link": "https://stackoverflow.com/questions/53858664/get-input-from-user-in-class", "title": "Get input from user in class", "body": "<pre><code>class Person:\n  def __init__(self, name, age):\n    self.name = name\n    self.age = age\n\np1 = Person(\"John\", 36)\n\nprint(p1.name)\nprint(p1.age)\n</code></pre>\n\n<p>How do I ask a user to input name and age? </p>\n"}, {"tags": ["python", "tensorflow", "keras", "neural-network", "generative-adversarial-network"], "answers": [{"tags": [], "owner": {"reputation": 1961, "user_id": 3114765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrkYp.jpg?s=128&g=1", "display_name": "Novak", "link": "https://stackoverflow.com/users/3114765/novak"}, "is_accepted": true, "score": 0, "last_activity_date": 1545291415, "creation_date": 1545291415, "answer_id": 53864266, "question_id": 53858643, "link": "https://stackoverflow.com/questions/53858643/fading-in-new-layers-in-keras/53864266#53864266", "title": "&quot;Fading in&quot; new layers in Keras", "body": "<p>I think you should use <a href=\"https://keras.io/getting-started/functional-api-guide/\" rel=\"nofollow noreferrer\">Keras Functional API</a>. That way you can rearrange the inputs to the layer as well as the outputs and interconnect them the way you want to while the layers keep the weights they learned. You will have to have a few nested if-statements, but I think it should work.</p>\n\n<p>Or you could have all the models prepared (functions that return you the model architecture and can set layer weights) and just populate layers in the new model with weights from corresponding layers from the old model.</p>\n"}], "owner": {"reputation": 61, "user_id": 8011482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30559e0830e3b982baf43e6640ea011?s=128&d=identicon&r=PG&f=1", "display_name": "J Doug", "link": "https://stackoverflow.com/users/8011482/j-doug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 53864266, "answer_count": 1, "score": 0, "last_activity_date": 1545291415, "creation_date": 1545251041, "last_edit_date": 1545288367, "question_id": 53858643, "link": "https://stackoverflow.com/questions/53858643/fading-in-new-layers-in-keras", "title": "&quot;Fading in&quot; new layers in Keras", "body": "<p>I'm trying to implement <a href=\"https://arxiv.org/pdf/1710.10196.pdf\" rel=\"nofollow noreferrer\">this</a> paper in Keras, with a tensorflow backend.</p>\n\n<p>In my understanding, they progressively grow a GAN, fading in additional blocks of layers as the model is trained. New layers are faded in linearly over iterations.</p>\n\n<p>I'm not sure how to introduce the \"fading in\" they used.</p>\n\n<p>To do this Keras, I'm thinking I'll probably need a Lambda layer -- but that's about as much as I know. </p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "cookies", "beautifulsoup", "mechanize"], "answers": [{"tags": [], "owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "is_accepted": false, "score": 1, "last_activity_date": 1545252459, "creation_date": 1545252459, "answer_id": 53858932, "question_id": 53858642, "link": "https://stackoverflow.com/questions/53858642/loging-in-using-mechanize/53858932#53858932", "title": "Loging in using Mechanize", "body": "<p>You can use <a href=\"https://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">Selenium</a> to log in.</p>\n\n<pre><code>from selenium import webdriver\nimport bs4 \n\nemail = 'username@email.com'\npassword = 'password'\n\ndriver = webdriver.Chrome()\ndriver.get('https://squashlevels.com/menu_login.php')\n\n# log in\ndriver.find_element_by_name(\"email\").send_keys(email)\ndriver.find_element_by_name(\"password\").send_keys(password)\ndriver.find_element_by_css_selector(\"input[type='submit'][value='Login']\").click()\n\n# get the html then do some stuff\nhtml = driver.page_source\nsoup = bs4.BeautifulSoup(html,'html.parser')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23350, "user_id": 626442, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Y8TdC.png?s=128&g=1", "display_name": "MoonKnight", "link": "https://stackoverflow.com/users/626442/moonknight"}, "edited": false, "score": 0, "creation_date": 1545304614, "post_id": 53858976, "comment_id": 94582297, "body": "I get <code>NameError(&quot;name &#39;hashlib&#39; is not defined&quot;,) </code>, I assume I need to update my request library?"}], "tags": [], "owner": {"reputation": 10314, "user_id": 6124411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4E3zE.jpg?s=128&g=1", "display_name": "cody", "link": "https://stackoverflow.com/users/6124411/cody"}, "is_accepted": true, "score": 2, "last_activity_date": 1545306871, "last_edit_date": 1545306871, "creation_date": 1545252653, "answer_id": 53858976, "question_id": 53858642, "link": "https://stackoverflow.com/questions/53858642/loging-in-using-mechanize/53858976#53858976", "title": "Loging in using Mechanize", "body": "<p>Here's a solution using just <code>requests</code>, I'm not really sure <code>mechanize</code> would provide any additional value. By utilizing <code>requests.Session</code>, you maintain the cookies returned by the login process to include when requesting <code>players.php</code>.</p>\n\n<p>The minor wrench that the site throws into the mix is the fact that you also need to post the MD5 hash of the password:</p>\n\n<pre><code>email = 'user@host.com'\npassword = 'secret'\n\ns = requests.Session()\ns.post('https://squashlevels.com/menu_login.php', data={\n    'action': 'login',\n    'email': email,\n    'password': password,\n    'md5password': hashlib.md5(password.encode('utf-8')).hexdigest()\n})\n\nr = s.get('https://squashlevels.com/players.php?all&amp;club=1314')\nsoup = BeautifulSoup(r.content, 'html.parser')\n\nfor row in soup.select('table.ranking tr'):\n    print([col.text.strip() for col in row.select('td')])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['1', 'Nathan Miller', 'Bluecoat Sports Horsham', 'East England Masters 2018/19', '6', '15 Dec 2018', '4,706', '70%', '']\n['2', 'Kit Pearman', 'Dorking', 'Surrey Winter League 2018/19', '2', '20 Nov 2018', '4,469', '64%', '']\n['3', 'Simon Millard', 'Bluecoat Sports Horsham', 'Sussex Mens League 2018/2019', '1', '04 Dec 2018', '2,680', '57%', '']\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1545286007, "creation_date": 1545286007, "answer_id": 53863238, "question_id": 53858642, "link": "https://stackoverflow.com/questions/53858642/loging-in-using-mechanize/53863238#53863238", "title": "Loging in using Mechanize", "body": "<p>To answer your question directly: <code>mechanize</code> would not be able to handle this use case easily as the markup on this page is a bit weird - form controls are actually outside of the form itself, <em>the form itself is empty</em>:</p>\n\n<pre><code>&lt;form action=\"menu_login.php\" method=\"POST\" class=\"login\" data-op-form-id=\"1\"&gt;&lt;/form&gt;\n</code></pre>\n\n<p>this leads to <code>mechanize</code> detecting <em>0 \"controls\" inside the login form</em>.</p>\n\n<p>The submit button behavior is controlled via javascript.</p>\n"}], "owner": {"reputation": 23350, "user_id": 626442, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Y8TdC.png?s=128&g=1", "display_name": "MoonKnight", "link": "https://stackoverflow.com/users/626442/moonknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 53858976, "answer_count": 3, "score": 1, "last_activity_date": 1545306871, "creation_date": 1545251041, "question_id": 53858642, "link": "https://stackoverflow.com/questions/53858642/loging-in-using-mechanize", "title": "Loging in using Mechanize", "body": "<p>I am trying to extract some data from a website - not a lot - but enough to warrant a little script... I am attempting to first log in to the site <a href=\"https://squashlevels.com\" rel=\"nofollow noreferrer\">https://squashlevels.com</a> using <code>mechanize</code> and <code>cookielib</code>, but I am failing...</p>\n\n<p>I currently have </p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport re\nimport urllib2 \nimport cookielib\nimport mechanize\n\ncj = cookielib.CookieJar()\nbr = mechanize.Browser()\n\nbr.set_cookiejar(cj)\nbr.open(\"https://squashlevels.com/menu_login.php\")\n\n# How do I log in?\n\nr = requests.get('https://squashlevels.com/players.php?all&amp;club=1314')\nsoup = BeautifulSoup(r.content, \"html.parser\")\n\n## Do stuff...\n</code></pre>\n\n<p>What code should I be using to log into this site? </p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "for-loop", "group-by"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1545251129, "post_id": 53858639, "comment_id": 94565094, "body": "groupby and to csv"}, {"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1545251239, "post_id": 53858639, "comment_id": 94565132, "body": "do: <code>group.to_csv(&#39;&#47;test&#47;output_{}.csv&#39;.format(group[&#39;uniqueID&#39;][&zwnj;&#8203;0]))</code>"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1545251304, "post_id": 53858639, "comment_id": 94565155, "body": "<code>addData[&#39;uniqueID&#39;][0]</code> will only ever be a single value, <code>0001</code>. Therefore <code>output_csv</code> will only ever be that value"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 9077985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ca3a05791f66e2519abc67db49d863f?s=128&d=identicon&r=PG&f=1", "display_name": "Muffindorf", "link": "https://stackoverflow.com/users/9077985/muffindorf"}, "is_accepted": true, "score": 3, "last_activity_date": 1545251702, "creation_date": 1545251702, "answer_id": 53858782, "question_id": 53858639, "link": "https://stackoverflow.com/questions/53858639/for-loop-after-pandas-groupby/53858782#53858782", "title": "For loop after pandas groupby", "body": "<p>This worked:</p>\n\n<pre><code>grouped = addData.groupby(['uniqueID'])\nfilename = addData['uniqueID'][0]\noutput_csv = 'output_{}.csv'\n\nfor name, group in grouped:\n    group.to_csv(output_csv.format(name))\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 4526288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa31223d99d0abf65aef271fb39d10c4?s=128&d=identicon&r=PG&f=1", "display_name": "a1234", "link": "https://stackoverflow.com/users/4526288/a1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 53858782, "answer_count": 1, "score": 0, "last_activity_date": 1545251702, "creation_date": 1545251027, "question_id": 53858639, "link": "https://stackoverflow.com/questions/53858639/for-loop-after-pandas-groupby", "title": "For loop after pandas groupby", "body": "<p>My input dataframe looks like:</p>\n\n<pre><code>name   uniqueID\nkate   0001\nsam    0001\nlucy   0002\nwes    0001\nkip    0002\n</code></pre>\n\n<p>I have the following:</p>\n\n<pre><code>addData =pd.read_csv('/input.csv')\ngrouped = addData.groupby(['uniqueID'])\nfilename = addData['uniqueID'][0]\noutput_csv = '/test/output_{}.csv'.format(filename)\n\nfor name, group in grouped:\n    group.to_csv(output_csv)\n</code></pre>\n\n<p>My output is semi-correct. I have a file with all the associated records for that <code>'uniqueID'</code>, EX) <code>output001.csv</code>:</p>\n\n<pre><code>name   uniqueID\nkate   0001\nsam    0001\nwes    0001\n</code></pre>\n\n<p>The problem is that I am only getting <strong>one file</strong> - my loop is not working correctly to produce both <code>output0001.csv</code> and <code>output0002.csv</code></p>\n"}, {"tags": ["python", "parallel-processing"], "comments": [{"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 2, "creation_date": 1545251083, "post_id": 53858621, "comment_id": 94565083, "body": "Threading: <a href=\"https://docs.python.org/3.7/library/threading.html\" rel=\"nofollow noreferrer\">docs.python.org/3.7/library/threading.html</a>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1545253506, "post_id": 53858621, "comment_id": 94566075, "body": "Yes, there are ways to do that."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10459007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WxLXFLjtlSc/AAAAAAAAAAI/AAAAAAAAECs/3cvNtgc5FsM/photo.jpg?sz=128", "display_name": "Pallav Patel", "link": "https://stackoverflow.com/users/10459007/pallav-patel"}, "edited": false, "score": 0, "creation_date": 1545274002, "post_id": 53859151, "comment_id": 94571592, "body": "got it. one question. _ = [executor.submit(quote_stream) for i in range(workers)] in this line what is meaning of underscore which is placed in first."}, {"owner": {"reputation": 9435, "user_id": 6858244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wfU-doP3Fhc/AAAAAAAAAAI/AAAAAAAACbY/GNmdrBKqDSM/photo.jpg?sz=128", "display_name": "Prayson W. Daniel", "link": "https://stackoverflow.com/users/6858244/prayson-w-daniel"}, "reply_to_user": {"reputation": 19, "user_id": 10459007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WxLXFLjtlSc/AAAAAAAAAAI/AAAAAAAAECs/3cvNtgc5FsM/photo.jpg?sz=128", "display_name": "Pallav Patel", "link": "https://stackoverflow.com/users/10459007/pallav-patel"}, "edited": false, "score": 0, "creation_date": 1545280310, "post_id": 53859151, "comment_id": 94572750, "body": "Nothing, you don\u2019t need it"}], "tags": [], "owner": {"reputation": 9435, "user_id": 6858244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wfU-doP3Fhc/AAAAAAAAAAI/AAAAAAAACbY/GNmdrBKqDSM/photo.jpg?sz=128", "display_name": "Prayson W. Daniel", "link": "https://stackoverflow.com/users/6858244/prayson-w-daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1545254076, "last_edit_date": 1545254076, "creation_date": 1545253630, "answer_id": 53859151, "question_id": 53858621, "link": "https://stackoverflow.com/questions/53858621/is-is-possible-to-concurrently-export-data/53859151#53859151", "title": "Is is possible to concurrently export data?", "body": "<p>Yes, you can actually call all 15 files parallel. Here is an example. I am calling request 4 times with different parameters on a functions.</p>\n\n<pre><code>from concurrent.futures import ThreadPoolExecutor\nimport random,time\nfrom bs4 import BeautifulSoup as bs\nimport requests\n\nURL = 'http://quotesondesign.com/wp-json/posts'\n\ndef quote_stream():\n    '''\n    Quoter streamer\n    '''\n    param = dict(page=random.randint(1, 1000))\n    quo = requests.get(URL, params=param)\n\n    if quo.ok:\n        data = quo.json()\n        author = data[0]['title'].strip()\n\n        content = bs(data[0]['content'], 'html5lib').text.strip()\n\n        print(f'{content}\\n-{author}\\n')\n\n    else:\n        print('Connection Issues :(')\n\ndef multi_qouter(workers=4):\n    with ThreadPoolExecutor(max_workers=workers) as executor:\n        _ = [executor.submit(quote_stream) for i in range(workers)]\n\nif __name__ == '__main__':\n    now = time.time()\n\n    multi_qouter(workers=4)\n\n    print(f'Time taken {time.time()-now:.2f} seconds')\n</code></pre>\n\n<p>The point is create a function that runs one file from start to finish(quote_stream). Then call that function with different files in different threads(multi_qouter). For a function that takes parameters as yours, you just place them [executor.submit(quote_stream,file) for file in files] and set max_workers=len(files), where files is a list of your sql files to be passed in that function.</p>\n"}], "owner": {"reputation": 19, "user_id": 10459007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WxLXFLjtlSc/AAAAAAAAAAI/AAAAAAAAECs/3cvNtgc5FsM/photo.jpg?sz=128", "display_name": "Pallav Patel", "link": "https://stackoverflow.com/users/10459007/pallav-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 53859151, "answer_count": 1, "score": 0, "last_activity_date": 1545254076, "creation_date": 1545250941, "last_edit_date": 1545253715, "question_id": 53858621, "link": "https://stackoverflow.com/questions/53858621/is-is-possible-to-concurrently-export-data", "title": "Is is possible to concurrently export data?", "body": "<p>I have a Python program which executes below steps:</p>\n\n<ol>\n<li>Look for .sql file present in particular folder</li>\n<li>Create a List with all <code>.sql</code> file name</li>\n<li>Create a database connection</li>\n<li><p>Execute <code>for</code> loop for each file name present in list created in step 2.</p>\n\n<ol>\n<li><p>Read .sql file</p></li>\n<li><p>Execute query mentioned in .sql file against database</p></li>\n<li><p>Export data in to file</p></li>\n<li><p>Repeat step 4 for all 15 files</p></li>\n</ol></li>\n</ol>\n\n<p>This works fine and as expected. However, each file is exported in serial fashion (one after another). Is there any way, I can start exporting all 15 files at a same time?</p>\n"}, {"tags": ["python", "c++", "cmake", "installation", "diplib"], "comments": [{"owner": {"reputation": 19856, "user_id": 2266772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e03bd1fd9f2dbc750e0899b9e7e71d?s=128&d=identicon&r=PG", "display_name": "Matthieu Brucher", "link": "https://stackoverflow.com/users/2266772/matthieu-brucher"}, "edited": false, "score": 0, "creation_date": 1545251553, "post_id": 53858593, "comment_id": 94565247, "body": "Can you show the error? And are you sure you pick up the proper location for your packages?"}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1547997967, "post_id": 53858593, "comment_id": 95377738, "body": "This issue was solved here: <a href=\"https://github.com/DIPlib/diplib/issues/16\" rel=\"nofollow noreferrer\">github.com/DIPlib/diplib/issues/16</a>"}], "owner": {"reputation": 1, "user_id": 10812901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8a500057cc9a7eedfd97eda5ec9dc60?s=128&d=identicon&r=PG&f=1", "display_name": "dpksrndrn", "link": "https://stackoverflow.com/users/10812901/dpksrndrn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1587573587, "creation_date": 1545250740, "last_edit_date": 1587573587, "question_id": 53858593, "link": "https://stackoverflow.com/questions/53858593/unable-to-use-pydip-module", "title": "Unable to use PyDIP Module", "body": "<p>I am trying to install PyDIP for quantitative image analysis. From the source code available online (<a href=\"https://github.com/DIPlib/diplib\" rel=\"nofollow noreferrer\">https://github.com/DIPlib/diplib</a>), I built the library using CMake and a Visual Studio 15 2017 generator. I ran the resulting install files generated on Visual studio and got the following output: </p>\n\n<pre><code>1&gt;------ Build started: Project: INSTALL, Configuration: Debug x64 ------\n1&gt;-- Install configuration: \"Debug\"\n1&gt;-- Installing: C:/Users/Deepak.Surendran/Anaconda3/pkgs/python-3.7.0-hea74fb7_0/Lib/site-packages/PyDIP/PyDIP_bin.cp37-win_amd64.pyd\n1&gt;-- Installing: C:/Users/Deepak.Surendran/Anaconda3/pkgs/python-3.7.0-hea74fb7_0/Lib/site-packages/PyDIP/PyDIP_py.py\n1&gt;-- Installing: C:/Users/Deepak.Surendran/Anaconda3/pkgs/python-3.7.0-hea74fb7_0/Lib/site-packages/PyDIP/__init__.py\n========== Build: 1 succeeded, 0 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>I can see three installed files <code>__init__.py</code>, <code>PyDIP_bin.cp37-win_amd64</code>, <code>PyDIP_py</code> at the  ...Anaconda3\\pkgs\\python-3.7.0-hea74fb7_0\\Lib\\site-packages\\PyDIP file location. </p>\n\n<p>However when I try to import the library in python, I get a module not found error. \nI have also tried to modify the path environment variable to add \"C:\\Program Files\\DipLib\\lib\" to the Python environment. </p>\n\n<p>I would appreciate any help.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252338, "creation_date": 1545252338, "answer_id": 53858910, "question_id": 53858585, "link": "https://stackoverflow.com/questions/53858585/problems-installing-astra-toolbox-in-python/53858910#53858910", "title": "Problems installing astra toolbox in Python", "body": "<p>i have tried to install via <code>pip</code> method  but it's not working facing the same error as you. if you go to official installation documentation <a href=\"https://astra-toolbox.readthedocs.io/en/latest/docs/install.html\" rel=\"nofollow noreferrer\">instructions</a> no method to use <code>pip</code> method is given.\ni have <code>anaconda</code> installed in my system so i have tried using these commands <a href=\"https://anaconda.org/astra-toolbox/astra-toolbox\" rel=\"nofollow noreferrer\">source</a>:<br>\n<code>conda install -c astra-toolbox astra-toolbox</code><br>\n<code>conda install -c astra-toolbox/label/dev astra-toolbox</code></p>\n\n<p>this solve the  issue and astra-toolbox is installed in my system. <br>\nPS. this will downgrade package in anaconda. so better to install in separate python environment.</p>\n"}], "owner": {"reputation": 305, "user_id": 8551688, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73e9891a4d00441b3b19a5c1cc04d90d?s=128&d=identicon&r=PG", "display_name": "Oliver G", "link": "https://stackoverflow.com/users/8551688/oliver-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545252338, "creation_date": 1545250692, "question_id": 53858585, "link": "https://stackoverflow.com/questions/53858585/problems-installing-astra-toolbox-in-python", "title": "Problems installing astra toolbox in Python", "body": "<p>I'm trying to install <a href=\"https://pypi.org/project/astra-toolbox/\" rel=\"nofollow noreferrer\">astra-toolbox</a> for python on windows and I'm getting this error.</p>\n\n<p>Anyone have any ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/B38dI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B38dI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1545251033, "post_id": 53858578, "comment_id": 94565061, "body": "are you actually passing a variable <code>key</code> ? because <code>dict[&quot;key&quot;]</code> and <code>dict[key]</code> are not the same. your error message should help too if you run with debug mode on. edit: Ah, i see your update now. alright."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10773727"}, "edited": false, "score": 0, "creation_date": 1545251186, "post_id": 53858661, "comment_id": 94565111, "body": "I edited my example to more accurately reflect my program"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1545251233, "post_id": 53858661, "comment_id": 94565129, "body": "still you are using in the wrong manner. check docs attached. Thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10773727"}, "edited": false, "score": 0, "creation_date": 1545251672, "post_id": 53858661, "comment_id": 94565298, "body": "I still get the error: &quot;TypeError: &#39;dict_items&#39; object is not callable&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10773727"}, "edited": false, "score": 0, "creation_date": 1545251941, "post_id": 53858661, "comment_id": 94565408, "body": "Also, I don&#39;t want to get all the items of dict1, just all of the values associated with the key that is passed in. Shouldn&#39;t I just be able to use: dict1[&#39;key&#39;]?"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1545252333, "post_id": 53858661, "comment_id": 94565585, "body": "Your question and code are tangentials. yes you should get THE value from dict1[&#39;key&#39;] but you have just one str object &#39;hello&#39; mapped to the key so that should be returned."}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251670, "last_edit_date": 1545251670, "creation_date": 1545251100, "answer_id": 53858661, "question_id": 53858578, "link": "https://stackoverflow.com/questions/53858578/flask-why-can-i-return-a-list-but-not-a-dict/53858661#53858661", "title": "Flask - Why can I return a list, but not a dict?", "body": "<p>Dot not name your variable as <code>list</code> or <code>dict</code> as they shadow built ins. Try the code below. Link to the <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<pre><code>lis = [1, 2, 3, 4]\ndict1 = defaultdict(list)\ndict1['key'].append(\"Hello\")\n</code></pre>\n\n<p>If you want to get all the items of the dict1</p>\n\n<pre><code>dict1.items()\n</code></pre>\n\n<p>It contains a good explanation of how defaultdict works\n<a href=\"https://stackoverflow.com/questions/5900578/how-does-collections-defaultdict-work\">How does collections.defaultdict work?</a></p>\n"}, {"tags": [], "owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1545252271, "creation_date": 1545252271, "answer_id": 53858890, "question_id": 53858578, "link": "https://stackoverflow.com/questions/53858578/flask-why-can-i-return-a-list-but-not-a-dict/53858890#53858890", "title": "Flask - Why can I return a list, but not a dict?", "body": "<p>The issue is that flask is expecting a simple string or callable object in the responses, as it requires passing the values around. A dictionary is not a callable object, and you have to convert it to a form flask can pass around using either <code>json.dumps</code> and setting the appropriate Content-type headers (<code>'application/json'</code> in this case) or just using <code>jsonify</code> that does the hard work for you. <a href=\"http://flask.pocoo.org/docs/1.0/api/#flask.json.jsonify\" rel=\"nofollow noreferrer\">Jsonify Docs</a></p>\n\n<pre><code>import flask\nfrom flask import request, jsonify #import jsonify\nfrom collections import defaultdict\napp = flask.Flask(__name__)\napp.config[\"DEBUG\"] = True\n\n\nlis = [1, 2, 3, 4]\ndict1 = defaultdict(list)\ndict1.setdefault(\"key\", []).append(\"Hello\") #you do not need to setdefault if you're already using a defaultdict, but this does not raise any errors.\ndict2 = {\"a\":\"res\"}\n\n@app.route(\"/list/&lt;string:index&gt;\")\ndef l(index):\n    return lis[index]\n\n@app.route(\"/dictionary/&lt;string:key&gt;\")\ndef d(key):\n    return jsonify(dict1[key]) #use it to handle dictionary\n\napp.run()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10773727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3067, "favorite_count": 0, "closed_date": 1545254169, "accepted_answer_id": 53858890, "answer_count": 2, "score": 0, "last_activity_date": 1545254218, "creation_date": 1545250628, "last_edit_date": 1545251897, "question_id": 53858578, "link": "https://stackoverflow.com/questions/53858578/flask-why-can-i-return-a-list-but-not-a-dict", "closed_reason": "Duplicate", "title": "Flask - Why can I return a list, but not a dict?", "body": "<p>Lets say I have a basic flask program...</p>\n\n<pre><code>lis = [1, 2, 3, 4]\ndict1 = defaultdict(list)\ndict1[\"key\"].append(\"Hello\")\n\n@app.route(\"/list/&lt;string:index&gt;\")\ndef l(index):\n    return lis[index]\n\n@app.route(\"/dictionary/&lt;string:key&gt;\")\ndef d(key):\n    return dict1[key]\n</code></pre>\n\n<p>Why is the first valid, and the second invalid?</p>\n\n<p>How do I return all of the items in the dictionary?</p>\n"}, {"tags": ["python", "csv", "unicode", "byte-order-mark"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251578, "creation_date": 1545251578, "answer_id": 53858756, "question_id": 53858556, "link": "https://stackoverflow.com/questions/53858556/best-way-to-detect-utf-encoding-in-unknown-file/53858756#53858756", "title": "Best way to detect (utf) encoding in unknown file", "body": "<p>If you know it is <code>utf</code>, you could use <code>chardet</code> to do something like:</p>\n\n<pre><code>from chardet.universaldetector import UniversalDetector\n\ndetector = UniversalDetector()\n\nwith open(file, 'rb') as fp:\n    detector.feed(fp.read(1000))\n    detector.close()\n    raw = detector.result['encoding'].lower()\n    encoding = 'utf-32' if ('utf-32' in raw) else 'utf-16' if ('utf-16' in raw) else 'utf-8'\n</code></pre>\n\n<p>Note: trying <code>magic</code> or some of the other libraries mentioned in the question here <a href=\"https://stackoverflow.com/q/436220/10332687\">Determine the encoding of text in Python</a> did not work. Additionally, note that a lot of times the file is in <code>utf-8</code> it will be marked as <code>ascii</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "closed_date": 1545263708, "answer_count": 1, "score": 0, "last_activity_date": 1545251578, "creation_date": 1545250530, "question_id": 53858556, "link": "https://stackoverflow.com/questions/53858556/best-way-to-detect-utf-encoding-in-unknown-file", "closed_reason": "Duplicate", "title": "Best way to detect (utf) encoding in unknown file", "body": "<p>Here is what I'm currently using to open a various file that the user has:</p>\n\n<pre><code># check the encoding quickly\nwith open(file, 'rb') as fp:\n    start_data = fp.read(4)\n    if start_data.startswith(b'\\x00\\x00\\xfe\\xff'):\n        encoding = 'utf-32'\n    elif start_data.startswith(b'\\xff\\xfe\\x00\\x00'):\n        encoding = 'utf-32'\n    elif start_data.startswith(b'\\xfe\\xff'):\n        encoding = 'utf-16'\n    elif start_data.startswith(b'\\xff\\xfe'):\n        encoding = 'utf-16'\n    else:\n        encoding = 'utf-8'            \n\n# open the file with that encoding\nwith open(file, 'r', encoding=encoding) as fp:\n    do_something()\n</code></pre>\n\n<p>Would there be a better way than the above to properly open an unknown utf file?</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1545250477, "post_id": 53858530, "comment_id": 94564842, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30958198/date-regex-python\">Date regex python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1545251440, "last_edit_date": 1545251440, "creation_date": 1545250990, "answer_id": 53858631, "question_id": 53858530, "link": "https://stackoverflow.com/questions/53858530/reading-this-date-using-regex/53858631#53858631", "title": "Reading this date using regex", "body": "<p>One way this could be done is to first parse the date into a usable format, and then use the <code>datetime</code> module to convert it to the format you want:</p>\n\n<pre><code>import re\nimport datetime\n\nparsed_date = re.findall(\"(\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2})\", email_date)[0]\nformatted_date = datetime.datetime.strptime(parsed_date, \"%a, %d %b %Y %H:%M:%S\").strftime(\"%m/%d/%y %H:%M\")\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>&gt;&gt;&gt; email_date = \"Fri, 07 Dec 2018 00:35:24 -0800 (PST)\"\n...\n&gt;&gt;&gt; print(formatted_date)\n '12/07/18 00:35'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1545259630, "post_id": 53858704, "comment_id": 94568414, "body": "What&#39;s the output?"}], "tags": [], "owner": {"reputation": 45, "user_id": 10071989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/706d3ec8d89bfa943ccdedfe38807b6b?s=128&d=identicon&r=PG&f=1", "display_name": "Torvalds_for_president", "link": "https://stackoverflow.com/users/10071989/torvalds-for-president"}, "is_accepted": false, "score": 0, "last_activity_date": 1545251313, "creation_date": 1545251313, "answer_id": 53858704, "question_id": 53858530, "link": "https://stackoverflow.com/questions/53858530/reading-this-date-using-regex/53858704#53858704", "title": "Reading this date using regex", "body": "<p>Tim's answer seems fine.  Something to get you started (this prints all the numbers parsed from numerical data:</p>\n\n<pre><code>import re\n\ndate_str=\"12/07/18 00:33\"\nm = re.findall('\\d+', date_str)\nfor e in m:\n  print e\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 0, "last_activity_date": 1545257473, "last_edit_date": 1545257473, "creation_date": 1545255905, "answer_id": 53859581, "question_id": 53858530, "link": "https://stackoverflow.com/questions/53858530/reading-this-date-using-regex/53859581#53859581", "title": "Reading this date using regex", "body": "<p>Late answer, but you can also use <code>.{3},.{28}\\(.{3}\\)</code> and <a href=\"https://dateutil.readthedocs.io/en/stable/parser.html\" rel=\"nofollow noreferrer\"><code>dateutil.parser</code></a>, i.e.:</p>\n\n<pre><code>import re, dateutil.parser\nfor d in re.findall(r\".{3},.{28}\\(.{3}\\)\", your_string):\n    print(dateutil.parser.parse(d).strftime(\"%m/%d/%y %H:%M\"))\n</code></pre>\n\n<hr>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>12/07/18 00:35\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://regex101.com/r/lgra74/2\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n\n<p><a href=\"https://www.jdoodle.com/embed/v0/RP0\" rel=\"nofollow noreferrer\">Python Demo</a></p>\n"}], "owner": {"reputation": 37, "user_id": 10716202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2tgBD.jpg?s=128&g=1", "display_name": "thebtcfuture", "link": "https://stackoverflow.com/users/10716202/thebtcfuture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1545257473, "creation_date": 1545250358, "question_id": 53858530, "link": "https://stackoverflow.com/questions/53858530/reading-this-date-using-regex", "title": "Reading this date using regex", "body": "<p>I am currently reading a GMail message. I am parsing data from this message for the back-end of a mail app I am writing in Tkinter. I am still a noob at python and have not been able to wrap my head around solving regex problems very well. \nI am trying to parse the date that Google gives me, formatted as: Fri, 07 Dec 2018 00:35:24 -0800 (PST) What would be the appropriate Python regex syntax to search for this? </p>\n\n<p><code>print(email_date)</code></p>\n\n<p><code>12/07/18 00:35</code></p>\n"}, {"tags": ["python", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "is_accepted": false, "score": 0, "last_activity_date": 1545250711, "creation_date": 1545250711, "answer_id": 53858589, "question_id": 53858524, "link": "https://stackoverflow.com/questions/53858524/text-search-to-return-keys-in-mongodb-or-python-object/53858589#53858589", "title": "Text search to return keys in MongoDB or Python Object", "body": "<p>Based on mongodb docs: <a href=\"https://docs.mongodb.com/manual/text-search/#example\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/text-search/#example</a></p>\n\n<p>For example, you could use the following query to find all stores containing any terms from the list \u201ccoffee\u201d, \u201cshop\u201d, and \u201cjava\u201d:</p>\n\n<pre><code>db.stores.find( { $text: { $search: \"java coffee shop\" } } )\n</code></pre>\n\n<p>You can also search for exact phrases by wrapping them in double-quotes. For example, the following will find all documents containing \u201cjava\u201d or \u201ccoffee shop\u201d:</p>\n\n<pre><code>db.stores.find( { $text: { $search: \"java \\\"coffee shop\\\"\" } } )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10072665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/446a7eaf8cba214138dbda16ae900fff?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10072665/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545250711, "creation_date": 1545250350, "question_id": 53858524, "link": "https://stackoverflow.com/questions/53858524/text-search-to-return-keys-in-mongodb-or-python-object", "title": "Text search to return keys in MongoDB or Python Object", "body": "<p>I'm trying to implement a text search with mongoDB and Python Flask which shall return a Key with a given input query.</p>\n\n<p>My json document represents an article divided by pages, as keys, and the values of the keys is a list of paragraph texts:</p>\n\n<pre><code>{ \n\n   \"_id\" : ObjectId('eeeeeeeeeee'),\n\n   \"title\" : \"Article Title\",\n\n   \"1\" : [\"Some text in 0 position of the list which represents page 1, first paragraph\", \"Some text in 1 position of the list which represents page 1, second paragraph\"],\n\n   \"2\" : [\"random huge text in the second page, paragraph 1\", \"random huge text in the second page, paragraph 2\"] \n\n }\n</code></pre>\n\n<p>The numered keys represents the page of the article, and the position of the list represents the paragraph in the page.</p>\n\n<p>For an example, when a user inputs \"text position\" in a query, the result should be key \"1\" position 1 of the list.</p>\n\n<p>Not really sure how to implement this. I've created an index using createIndex({\"$**\":\"text\"}), and when i query for anything in mongo, it returns the documents sorted by score. If only i could retrieve the json key in which the query is most relevant, most of my problems are solved.</p>\n\n<p>Any tips where i can start with?</p>\n"}, {"tags": ["python", "keras", "conv-neural-network", "fpga"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545262372, "post_id": 53860175, "comment_id": 94569169, "body": "Will I try to start doing the convolution with the output of <b>weight_array=[0]</b>? I am assuming that if I can do the convolution with the kernel weight(index 0 of the output <code>layer.get_(weights)</code>) and then apply ReLU, Flatten, Dense and Softmax algorithm respectively classification will be done. I am confused whether I am thinking in the right way or not."}, {"owner": {"reputation": 1246, "user_id": 1749629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vydft.jpg?s=128&g=1", "display_name": "jmsinusa", "link": "https://stackoverflow.com/users/1749629/jmsinusa"}, "reply_to_user": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545264095, "post_id": 53860175, "comment_id": 94569591, "body": "It sounds right. Don&#39;t forget to add the biases after the convolution. In your example you have a 3x3 convolution and then one bias value."}, {"owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545265263, "post_id": 53860175, "comment_id": 94569839, "body": "But how can I get a matrix of 3x3 to do the convolution? Is it the output of <b>weight_array=[0]</b>? It is a 4-dimensional array if I call it <b>weight_array=[0][0]</b> Is it right that I have to make it somehow 3x3 matrix or not? If YES then will I just simply add the bias value with the newly formed matrix? Here, I am assuming <code>newly_formed_matrix= input_image_array  **conv** weight_array=[0][0] </code>"}, {"owner": {"reputation": 1246, "user_id": 1749629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vydft.jpg?s=128&g=1", "display_name": "jmsinusa", "link": "https://stackoverflow.com/users/1749629/jmsinusa"}, "reply_to_user": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545266522, "post_id": 53860175, "comment_id": 94570113, "body": "newly_formed_matrix= input_image_array <b>conv</b> weight_array=[0][0] + weight_array=[0][1]"}, {"owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545430304, "post_id": 53860175, "comment_id": 94629491, "body": "By following <a href=\"https://github.com/wiseodd/hipsternet/blob/master/hipsternet/im2col.py\" rel=\"nofollow noreferrer\">this</a> I have tried to do the convolution where <b>out_shape:  (1, 3, 48, 50)</b>\tand <b>out_dim: 4</b>. Here, <b>out</b> is the output array after convolution. Train image is RGB. weight_array[0][0] shape is (3,3,3,1) and dim 4. Can you please provide me with any site where can I get more example of this explicit operation and also for Flatten and Dense?"}, {"owner": {"reputation": 1246, "user_id": 1749629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vydft.jpg?s=128&g=1", "display_name": "jmsinusa", "link": "https://stackoverflow.com/users/1749629/jmsinusa"}, "reply_to_user": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1545931605, "post_id": 53860175, "comment_id": 94735845, "body": "Are you stuck with a particular problem? If so, please post a new question, as someone else might know better than me. Post a link here and I&#39;ll have a look when I can. Mark this question as answered if you are done with it, or edit it if you want someone else to jump in."}, {"owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "edited": false, "score": 0, "creation_date": 1546645601, "post_id": 53860175, "comment_id": 94930636, "body": "Sorry for late reply @jmsinusa . I have solved the issue of the weight file and successfully used the extracted weight to test CNN trained model to do classification. But, for now, I have done it only for 1 filter. Here, I am giving <a href=\"https://github.com/atifkarim/Image-classification/blob/master/Predict_class_file_written_from_scratch_Numpy.ipynb\" rel=\"nofollow noreferrer\">the solution</a> . Also, <a href=\"https://towardsdatascience.com/building-convolutional-neural-network-using-numpy-from-scratch-b30aac50e50a?fbclid=IwAR0UXh2F_5RcMMy34yZiNtipGUBYoJ0OfrzB33-UhC7AQK5lgv-7OYmX8vU\" rel=\"nofollow noreferrer\">the site</a> from where I have taken information."}], "tags": [], "owner": {"reputation": 1246, "user_id": 1749629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vydft.jpg?s=128&g=1", "display_name": "jmsinusa", "link": "https://stackoverflow.com/users/1749629/jmsinusa"}, "is_accepted": false, "score": 0, "last_activity_date": 1545259235, "creation_date": 1545259235, "answer_id": 53860175, "question_id": 53858513, "link": "https://stackoverflow.com/questions/53858513/what-is-the-significance-of-extracted-weight-of-keras-layer-for-doing-forward-pa/53860175#53860175", "title": "What is the significance of extracted weight of Keras layer for doing forward pass without using Keras API", "body": "<p>1) What is the information actually is giving by layer.get_weights()? Is it giving us the kernel weight which will use for the convolution?</p>\n\n<p>For convolutional layers, <code>layer.get_weights()</code> returns [kernel, bias].</p>\n\n<p>2) If I want to do the classification with the help of extracted weight how can I approach?</p>\n\n<p>Replicate each stage of your network, the mathematics of which is well documented. Pay close attention to the exact operation being performed, for example 'convolution' in deep learning is not quite the same as in standard maths (no transform is applied). I suggest you pass a known input through the network and check that you get the same answers at every stage.</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "is_accepted": false, "score": 0, "last_activity_date": 1546646998, "creation_date": 1546646998, "answer_id": 54047749, "question_id": 53858513, "link": "https://stackoverflow.com/questions/53858513/what-is-the-significance-of-extracted-weight-of-keras-layer-for-doing-forward-pa/54047749#54047749", "title": "What is the significance of extracted weight of Keras layer for doing forward pass without using Keras API", "body": "<p>I am trying to explain the solution I have done and understood regarding my question. I am giving here <a href=\"https://github.com/atifkarim/Image-classification/blob/master/Predict_class_file_written_from_scratch_Numpy.ipynb\" rel=\"nofollow noreferrer\">the solution</a> that I have tried. Major information I have given from <a href=\"https://towardsdatascience.com/building-convolutional-neural-network-using-numpy-from-scratch-b30aac50e50a?fbclid=IwAR0UXh2F_5RcMMy34yZiNtipGUBYoJ0OfrzB33-UhC7AQK5lgv-7OYmX8vU\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In a model file <strong>convolution kernel weight</strong> , <strong>convolution bias</strong>, <strong>Dense layer weight</strong>, <strong>Dense layer Bias</strong> are stored. If anyone wants to write a Forward pass from scratch Numpy using Python or a function in C++ these kernels weights are important. Details information is given in the <a href=\"https://github.com/atifkarim/Image-classification/blob/master/Predict_class_file_written_from_scratch_Numpy.ipynb\" rel=\"nofollow noreferrer\">Github link</a></p>\n"}], "owner": {"reputation": 95, "user_id": 10634362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1abeeff92e42cf3ff2b56b22fe24e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "user10634362", "link": "https://stackoverflow.com/users/10634362/user10634362"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1570843218, "creation_date": 1545250301, "question_id": 53858513, "link": "https://stackoverflow.com/questions/53858513/what-is-the-significance-of-extracted-weight-of-keras-layer-for-doing-forward-pa", "title": "What is the significance of extracted weight of Keras layer for doing forward pass without using Keras API", "body": "<p>My intention is to know the kernel weight which has used during convolution and then do the forward pass on an image to classify. The work which is easy to do by using Keras API but it is a demand for my master's thesis as here I want to build a CNN model on FPGA only for testing/ classification.</p>\n\n<p>Instead of using Keras API:</p>\n\n<blockquote>\n  <p>1/ I will write a plain code where I will give my preprocessed image as an input</p>\n  \n  <p>2/ I will write convolution algorithm and give the extracted information of the Kernel to do the convolution</p>\n  \n  <p>3/ I will write the algorithm for Flatten and </p>\n  \n  <p>4/ By using Dense algorithm I want to <strong>predict</strong> the <strong>class</strong> </p>\n</blockquote>\n\n<p>MY query is:</p>\n\n<blockquote>\n  <p>1/ What is the information actually is giving by <strong>layer.get_weights()</strong>? Is it giving us the kernel weight which will use for the convolution?</p>\n  \n  <p>2/ If I want to do the classification with the help of extracted weight how can I approach?</p>\n</blockquote>\n\n<p>The following is my model:(For simplicity I have just written a model with minimal layer) </p>\n\n<pre><code>def cnn_model():\n    model = Sequential()\n\n    model.add(Conv2D(1, (3, 3), padding='same',\n                 input_shape=input_shape,\n                 activation='relu'))\n    model.add(Flatten())\n    model.add(Dense(num_classes, activation='softmax'))\n\n    return model\nmodel = cnn_model()\nlr = 0.01\nsgd = SGD(lr=lr, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(loss='categorical_crossentropy',\n      optimizer=sgd,\n      metrics=['accuracy'])\n</code></pre>\n\n<p>the input image is grayscale and width, height is 80,80. \nI have trained my model using the following code:  </p>\n\n<pre><code>def lr_schedule(epoch):\nreturn lr * (0.1 ** int(epoch / 10))\n\nbatch_size = batch_size\nepochs = nb_epoch\nmodel.fit(X_train, Y_train,\n      batch_size=batch_size,\n      epochs=epochs,\n      validation_data=(X_test, Y_test),\n      #np.resize(img, (-1, &lt;image shape&gt;)\n      callbacks= [LearningRateScheduler(lr_schedule),\n      ModelCheckpoint('path_to_save_model/model.h5', \n      save_best_only=True)])\n</code></pre>\n\n<p>I have extracted the layers weight by using:  </p>\n\n<pre><code>from keras.models import load_model\nimport pandas as pd\nweight_list=[]\nfor lay in model.layers:\n    name=lay.name\n    weight=lay.get_weights()\n    print(name,\" layer weight is:\\n\\n\",weight,\"\\n\\n\")\n    weight_list.append(weight)\n\n\nweight_array=[]\nweight_array=np.array(weight_list)\nprint(\"weight_array's fist element is: \\n\\n\",weight_array[0],\"\\n\\n\")\n</code></pre>\n\n<p>output of <strong>weight_array=[0]</strong> is </p>\n\n<pre><code> [array([[[[ 0.3856341 ]],\n\n    [[-0.35276324]],\n\n    [[-0.51678646]]],\n\n\n   [[[-0.62636113]],\n\n    [[ 0.43428165]],\n\n    [[-0.26765126]]],\n\n\n   [[[ 0.461921  ]],\n\n    [[-0.14468761]],\n\n    [[-0.3061749 ]]]], dtype=float32), array([-0.1087065], dtype=float32)] \n</code></pre>\n\n<p>Any suggestions would be appreciatable.</p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1545252685, "post_id": 53858506, "comment_id": 94565736, "body": "You can create several kinds of background jobs that search your data for expired content and set that content as expired, or you can add a simple <code>valid</code> function to your model and process only those where <code>m.valid()==True</code>"}, {"owner": {"reputation": 259, "user_id": 10576039, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vwd0W5OhicY/AAAAAAAAAAI/AAAAAAAAAK4/cmT9fylFP34/photo.jpg?sz=128", "display_name": "Ramtin Mousavi", "link": "https://stackoverflow.com/users/10576039/ramtin-mousavi"}, "reply_to_user": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1545254599, "post_id": 53858506, "comment_id": 94566509, "body": "The idea of adding valid function is good but the problem is not how to get valid objects, it is how to set expired objects to expired status after their duration."}, {"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1545255022, "post_id": 53858506, "comment_id": 94566671, "body": "Set valid as a <code>@property</code>, now will have every model&#39;s<code>valid</code> property reflecting their actual status"}], "owner": {"reputation": 259, "user_id": 10576039, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vwd0W5OhicY/AAAAAAAAAAI/AAAAAAAAAK4/cmT9fylFP34/photo.jpg?sz=128", "display_name": "Ramtin Mousavi", "link": "https://stackoverflow.com/users/10576039/ramtin-mousavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545254494, "creation_date": 1545250277, "last_edit_date": 1545254494, "question_id": 53858506, "link": "https://stackoverflow.com/questions/53858506/flask-expire-objects-after-due-date", "title": "Flask expire objects after due date", "body": "<p>I have a flask application and I want to make some of my objects expire after their due date.</p>\n\n<p>To explain further, my models have <code>advertise_date</code>, <code>expiration_date</code> and <code>status</code> and they take the duration in <code>__init__</code> method. </p>\n\n<p>At the beginning all instances of models are in <em>'valid'</em> status, but I want my application to make objects expire (change status attribute to <em>'expired'</em>) after their due date automatically.</p>\n\n<p>The code is:</p>\n\n<pre><code>class Survey: \n    id = db.Column(db.Integer, primary_key = True)\n    advertise_date = db.Column(db.DateTime)\n    expiration_date = db.Column(db.DateTime)\n    status = db.Column (db.String(20), nullable = False)\n\n    def __init__ (self, duration):\n        self.status = \"valid\"\n        self.advertise_date = datetime.now()\n        self.expiration_date = self.advertise_date + timedelta (days = duration)\n</code></pre>\n\n<p>Is there anyway to do this?</p>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 1, "creation_date": 1545250222, "post_id": 53858462, "comment_id": 94564742, "body": "Have you checked your data types? What does current_timestamp - one_month_seconds return as a data type?"}, {"owner": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1545250465, "post_id": 53858462, "comment_id": 94564839, "body": "just tried that heres the result : current - one month 1542658409.0589633              I had tried turning current into a int but that didnt change anything."}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1545250525, "post_id": 53858462, "comment_id": 94564863, "body": "No, not that value, the data type."}, {"owner": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1545250769, "post_id": 53858462, "comment_id": 94564964, "body": "ok its returning floats however i just tried turning current_timestamp to an integer so now its returning integers and still no different"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1545252240, "post_id": 53858462, "comment_id": 94565544, "body": "Please put in valid Python for the values. It looks to me like you are comparing a string to an int..."}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "edited": false, "score": 0, "creation_date": 1545252677, "post_id": 53858462, "comment_id": 94565730, "body": "what is the value of <code>order_date</code> ??"}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "edited": false, "score": 0, "creation_date": 1545253176, "post_id": 53858462, "comment_id": 94565926, "body": "The first <code>if</code> gets executed if the retrieving date is <b>within the last 30 days</b> (and the user isnt blocked, of course) but that doesn&#39;t seem to be your intention because of the message you are creating: <b>&quot;Customer Verified with orders older than 30 days and no blocking reasons&quot;</b>"}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 9451625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ao2Uj.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/9451625/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252975, "last_edit_date": 1545252975, "creation_date": 1545252473, "answer_id": 53858938, "question_id": 53858462, "link": "https://stackoverflow.com/questions/53858462/python-checking-timestamps-with-if-statements-not-working-correctly/53858938#53858938", "title": "Python checking timestamps with if statements not working correctly", "body": "<p>The 'break' statements shouldn't be outside of a loop.  But normally the interpreter would catch this. So there must be more code involved, maybe the problem is there.  I copied the logic here and assigned the given values to the variables and I get the first option if customer_is_blocked == False and the second option if it is False</p>\n\n<pre><code>two_month_seconds   = (3600 * 24) * 60\none_month_seconds   = (3600 * 24) * 30\ncurrent_timestamp   = 1545247709.1553745\nretrieved_timestamp = 1545026400\ncustomer_is_blocked = True\n\nif retrieved_timestamp &gt; (current_timestamp - one_month_seconds) and not customer_is_blocked:\n    print(1)\nelif customer_is_blocked:\n    print(2)\nelif retrieved_timestamp &lt; (current_timestamp - two_month_seconds):\n    print(3)\n</code></pre>\n\n<p>Did you assign 'False' or 'false' (string) to customer_is_blocked instead of False?</p>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "edited": false, "score": 0, "creation_date": 1545255214, "post_id": 53859277, "comment_id": 94566749, "body": "well i just tried that and added print 1,2 ,3 to the if statements. When I run the code with the values i provided it prints 1. but that order isnt older than 30 days so it shouldnt print one. Maybe im confusing the logic. we are looking if there are orders older than 30 days and 60 days respectively. with order_date set as it is that doesnt meet the first requirement"}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "reply_to_user": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "edited": false, "score": 0, "creation_date": 1545310840, "post_id": 53859277, "comment_id": 94585347, "body": "So, in the code I posted, do you want that if the order is <b>older than 30 days and the customer is not blocked</b> should be <b>printed 1</b>??? But, if it is <b>older than 60 days</b>, should be <b>printed 3</b>???"}, {"owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "reply_to_user": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "edited": false, "score": 0, "creation_date": 1546639037, "post_id": 53859277, "comment_id": 94928795, "body": "@Anon_guy please, if my answer worked for you, mark it as accepted (green checkmar), otherwise let me know what is going on."}], "tags": [], "owner": {"reputation": 2138, "user_id": 9142590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrjJh.jpg?s=128&g=1", "display_name": "Josu&#233; Cortina", "link": "https://stackoverflow.com/users/9142590/josu%c3%a9-cortina"}, "is_accepted": false, "score": 0, "last_activity_date": 1545254417, "creation_date": 1545254417, "answer_id": 53859277, "question_id": 53858462, "link": "https://stackoverflow.com/questions/53858462/python-checking-timestamps-with-if-statements-not-working-correctly/53859277#53859277", "title": "Python checking timestamps with if statements not working correctly", "body": "<p>I just tested your code and, after assigning manually to each variable, this seems to be working. I didn't changed anything except replace <code>strftime(\"%s\")</code> with <code>timestamp()</code> because I was getting an error: <code>ValueError: Invalid format string</code>.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import datetime\nimport time\n\norder_id            = 0\n\n# Manually assign this\norder_date          = \"2018-12-17T16:58:00-06:00\"\ncustomer_is_blocked = False\n\ntwo_month_seconds   = (3600 * 24) * 60\none_month_seconds   = (3600 * 24) * 30\nstripped_date       = order_date[:order_date.find(\"T\")]\ncurrent_timestamp   = time.time()\n\n# This is the only change I did: strftime(\"%s\") =&gt; timestamp()\nretrieved_timestamp = int(datetime.datetime.strptime(stripped_date, \"%Y-%m-%d\").timestamp())\n\nprint(\"one month\", one_month_seconds)\nprint(\"two months\", two_month_seconds)\nprint(\"current timestamp\", current_timestamp)\nprint(\"retrieved timestamp\", retrieved_timestamp)\nprint(\"current - two months\", current_timestamp - two_month_seconds)\n\nif retrieved_timestamp &gt; (current_timestamp - one_month_seconds) and not customer_is_blocked:\n    print(1)\nelif customer_is_blocked:\n    print(2)\nelif retrieved_timestamp &lt; (current_timestamp - two_month_seconds):\n    print(3)\n</code></pre>\n\n<p>With the value for <code>order_date</code> you provided, the code above prints <code>1</code> if <code>customer_is_blocked == False</code>, and <code>2</code> if <code>customer_is_blocked == True</code>.</p>\n\n<p>Let me know if this worked for you!</p>\n"}], "owner": {"reputation": 155, "user_id": 8513221, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/708b3b9f7854793a218437a1a08ab35a?s=128&d=identicon&r=PG&f=1", "display_name": "Anon_guy", "link": "https://stackoverflow.com/users/8513221/anon-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1545254417, "creation_date": 1545250042, "last_edit_date": 1545253957, "question_id": 53858462, "link": "https://stackoverflow.com/questions/53858462/python-checking-timestamps-with-if-statements-not-working-correctly", "title": "Python checking timestamps with if statements not working correctly", "body": "<p>I have these <code>if</code> statements that should be checking timestamps. The last <code>if</code> statement doesn't seem to work. These timestamp values should show retrieved timestamp is greater than current - two months, but that doesn't happen. When ran with the following values the last <code>if</code> statement gets triggered.</p>\n\n<p>as requested:\n    order date 2018-12-17T16:58:00-06:00\n  values:</p>\n\n<pre><code>one month 2592000\ntwo months 5184000\ncurrent timestamp 1545247709.1553745\nretrieved timestamp 1545026400\ncurrent - two months 1540063709.1553745\n\n\none month 259200 &lt;class 'int'&gt;\ntwo months 5184000 &lt;class 'int'&gt;\ncurrent timestamp 1545252986.085405 &lt;class 'float'&gt;\nretrieved timestamp 1545026400 &lt;class 'int'&gt;\n\n\n\n   if order_count &gt; 1:\n    for result in results['orders']:\n        order_status_info= self_api.which_api('order_statuses/%d' % result['order_status_id'])\n        for customer_blocked_reason in customer_blocked_reasons:\n            if customer_blocked_reason in order_status_info['name']:\n                customer_is_blocked = True\n\n\n   order_id                 = 0\n        order_date          = result['ordered_at']\n        two_month_seconds   = (3600 * 24) * 60\n        one_month_seconds   = (3600 * 24) * 30\n        stripped_date       = order_date[:order_date.find(\"T\")]\n        current_timestamp   = time.time()\n        retrieved_timestamp = int(datetime.datetime.strptime(stripped_date, '%Y-%m-%d').strftime(\"%s\"))\n        print(\"one month\", one_month_seconds)\n        print(\"two months\", two_month_seconds)\n        print(\"current timestamp\", current_timestamp)\n        print(\"retrieved timestamp\", retrieved_timestamp)\n        print(\"current - two months\", current_timestamp - two_month_seconds)\n\n        if retrieved_timestamp &gt; (current_timestamp - one_month_seconds) and not customer_is_blocked:\n            status['success'] = 1\n            status['message'] = \"Customer Verified with orders older than 30 days and no blocking reasons\"\n            break\n\n        elif customer_is_blocked:\n            status_change_result = self_order.update_status(order_statuses['order_hold_manager_review'])\n            status['success']    = 1\n            status['message']    = \"Changed order status to Order Hold - Manager Review\"\n            break\n\n        elif retrieved_timestamp &lt; (current_timestamp - two_month_seconds):\n            status['success'] = 0\n            status['message'] = \"There is more than 1 order, and none are greater than 60 days, we need to check manually\"\n</code></pre>\n"}]