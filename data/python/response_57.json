[{"tags": ["python", "tkinter", "countdown"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "edited": false, "score": 0, "creation_date": 1455149997, "post_id": 35328375, "comment_id": 58365587, "body": "I replace my countdown function with your code, leaving everything else in place. I added the import. Now I get a new error:     File &quot;/Users/johnz/Dropbox/PythonWorkspace/BumpersRev1/test3.py&quot;, line 10, in countdown     after(1000, functools.partial(countdown(remaining))) NameError: name &#39;after&#39; is not defined"}, {"owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "reply_to_user": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "edited": false, "score": 0, "creation_date": 1455150072, "post_id": 35328375, "comment_id": 58365615, "body": "I would expect you to. You still need to deal with using a Widget instance with After. Unfortunately, I don&#39;t use Tkinter often enough to know about it, but I immediately recognized your usage of self as erroneous."}, {"owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "reply_to_user": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "edited": false, "score": 0, "creation_date": 1455150110, "post_id": 35328375, "comment_id": 58365628, "body": "Also, refresh the page to get my most recent edit. I&#39;ve assumed after is a function you&#39;ve already used or can access. AFAIK, it&#39;s in Tkinter.Widget.after"}, {"owner": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "edited": false, "score": 0, "creation_date": 1455155865, "post_id": 35328375, "comment_id": 58367237, "body": "I really appreciate your answers but I must be having a bad day. Trying to understand the connection between the widget and the .after function. What happens to the widget when the .after function is applied or put a different way, will any widget do even if it is only used as a placeholder if you will? Am I making sense?"}, {"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1455175854, "post_id": 35328375, "comment_id": 58374073, "body": "<code>After</code> is some gui element changes ! After a label, frame, root, so tracing any one changes!"}, {"owner": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "edited": false, "score": 0, "creation_date": 1455319079, "post_id": 35328375, "comment_id": 58453536, "body": "Thanks for your help with the code. I was able to rework my code based on your help."}], "tags": [], "owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "is_accepted": false, "score": 3, "last_activity_date": 1455149788, "last_edit_date": 1455149788, "creation_date": 1455148711, "answer_id": 35328375, "question_id": 35328340, "link": "https://stackoverflow.com/questions/35328340/count-down-error/35328375#35328375", "title": "Count down error", "body": "<p>You're trying to pass an integer into the function countdown. It should be noted that <code>self</code> is conventional. It is not required to be named that, but it is what we generally use. However, because this is not an instance function (i.e. is not part of a class) then you have no reason to inherit the object itself. This can be done without the self entirely.</p>\n\n<pre><code>import functools\nfrom Tkinter import *\ndef countdown(remaining = None):\n    if remaining &lt;= 0 or remaining is None:\n        pass\n    else:\n        remaining -= 1\n        # Requires a widget instance here....\n        # Widget.after(1000, functools.partial(countdown, remaining))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1455191452, "last_edit_date": 1495542670, "creation_date": 1455190045, "answer_id": 35338077, "question_id": 35328340, "link": "https://stackoverflow.com/questions/35328340/count-down-error/35338077#35338077", "title": "Count down error", "body": "<p>You have to send arguments in <code>after</code></p>\n\n<pre><code>from tkinter import *\n\n# count down timer\ndef countdown(remaining, widget):\n    print(remaining)\n\n    if remaining &gt; 0:\n        remaining = remaining - 1\n        widget.after(1000, countdown, remaining, widget)\n\ndef main():\n    win1 = Tk()\n    countdown(90, win1)\n    mainloop()\n\nmain()\n</code></pre>\n\n<p>If <code>win1</code> will be global variable then you don't have to send <code>widget</code></p>\n\n<pre><code>from tkinter import *\n\n# count down timer\ndef countdown(remaining):\n    print(remaining)\n\n    if remaining &gt; 0:\n        remaining = remaining - 1\n        win1.after(1000, countdown, remaining)\n\n\n# global variables\nwin1 = Tk()\ncountdown(90)\nmainloop()\n</code></pre>\n\n<p>BTW: example with <code>after</code> adn displaying current time in tkinter window: \n<a href=\"https://stackoverflow.com/a/34940146/1832058\">Tkinter Text Animation?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 2172181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3436c2210f7d97a5cdecf883ca3e4b57?s=128&d=identicon&r=PG", "display_name": "user2172181", "link": "https://stackoverflow.com/users/2172181/user2172181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455203614, "creation_date": 1455148510, "last_edit_date": 1455203614, "question_id": 35328340, "link": "https://stackoverflow.com/questions/35328340/count-down-error", "title": "Count down error", "body": "<p>This code generates an error and I am not sure why or how to resolve it?</p>\n\n<pre><code>File \"/Users/johnz/Dropbox/PythonWorkspace/BumpersRev1/test3.py\", \n  line 7, in countdown\nif self.remaining &lt;= 0:\nAttributeError: 'int' object has no attribute 'remaining'`\n</code></pre>\n\n<p>.</p>\n\n<pre><code>from tkinter import *\n\n# count down timer\ndef countdown(self, remaining = None):\n    if remaining is not None:\n        self.remaining = remaining\n    if self.remaining &lt;= 0:\n        pass\n    else:\n        self.remaining = self.remaining - 1\n        self.after(1000, self.countdown)\n\ndef main():\n# create a Tk window\n    win1 = Tk()\n    countdown(90)\n    mainloop()\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "numpy", "python-3.5", "typing"], "answers": [{"comments": [{"owner": {"reputation": 2855, "user_id": 483036, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dfJ0R.jpg?s=128&g=1", "display_name": "Michelrandahl", "link": "https://stackoverflow.com/users/483036/michelrandahl"}, "edited": false, "score": 1, "creation_date": 1455343792, "post_id": 35334755, "comment_id": 58459063, "body": "Thank you. I have recently resolved to using the built-in <code>type(...)</code> function to print the exact types of variables I am in doubt about.. Sometimes it requires a bit detective work when using libraries such as matplotlib, but at least it has helped me finding types so far so I can put them in my function declarations."}], "tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 32, "last_activity_date": 1455181118, "creation_date": 1455181118, "answer_id": 35334755, "question_id": 35328286, "link": "https://stackoverflow.com/questions/35328286/how-to-use-numpy-in-optional-typing/35334755#35334755", "title": "How to use numpy in optional typing", "body": "<p>Confusingly, <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.array.html\" rel=\"noreferrer\"><code>np.array</code></a> is a <em>function</em> useful for creating numpy arrays. It isn't the actual <code>type</code> of the arrays created.</p>\n\n<p>The type is <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html\" rel=\"noreferrer\"><code>np.ndarray</code></a>.</p>\n\n<p>So, replace <code>np.array</code> with <code>np.ndarray</code>. That should fix the problem.</p>\n"}], "owner": {"reputation": 2855, "user_id": 483036, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dfJ0R.jpg?s=128&g=1", "display_name": "Michelrandahl", "link": "https://stackoverflow.com/users/483036/michelrandahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11122, "favorite_count": 1, "accepted_answer_id": 35334755, "answer_count": 1, "score": 23, "last_activity_date": 1492426911, "creation_date": 1455148282, "last_edit_date": 1492426911, "question_id": 35328286, "link": "https://stackoverflow.com/questions/35328286/how-to-use-numpy-in-optional-typing", "title": "How to use numpy in optional typing", "body": "<p>Lets say I want to make a function which takes a lambda function (Callable) as parameter where the lambda function takes a vector as input (defined as numpy array or numpy matrix) and returns a new vector. <strong>How do I declare the type signature for the Callable with numpy types?</strong></p>\n\n<p>My initial attempt looks something like this:</p>\n\n<pre><code>def some_func(calc_new_vector: Callable[[np.array], np.array], ...other-params...) -&gt; SomeType:\n    ...do stuff...\n    ...return...\n</code></pre>\n\n<p>However, this results in an error when running the interpreter:</p>\n\n<pre><code>TypeError: Callable[[arg, ...], result]: each arg must be a type. Got &lt;built-in function array&gt;.\n</code></pre>\n"}, {"tags": ["python", "dictionary", "parallel-processing"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455151849, "post_id": 35328845, "comment_id": 58366169, "body": "Dumping the dictionary once created is fast. The problem is reading in. I am reading in each data file independently. I&#39;d just like to read these in in parallel. It does seem like a waste of computer power to just read in all my data in serial.  How would I do a memory map?"}, {"owner": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455152357, "post_id": 35328845, "comment_id": 58366338, "body": "Also, as said in my op I do not get a memory error in serial"}, {"owner": {"reputation": 16245, "user_id": 65845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00c81940d10e0fe6c4c3ebfd79be895d?s=128&d=identicon&r=PG", "display_name": "dash-tom-bang", "link": "https://stackoverflow.com/users/65845/dash-tom-bang"}, "reply_to_user": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455154288, "post_id": 35328845, "comment_id": 58366855, "body": "You&#39;re not going to see any speed benefit by reading in parallel if you can saturate I/O in serial. That&#39;s why I suggested it. It&#39;s not a waste of computer power if you&#39;re already reading as much data as fast as possible."}, {"owner": {"reputation": 16245, "user_id": 65845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00c81940d10e0fe6c4c3ebfd79be895d?s=128&d=identicon&r=PG", "display_name": "dash-tom-bang", "link": "https://stackoverflow.com/users/65845/dash-tom-bang"}, "reply_to_user": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455154407, "post_id": 35328845, "comment_id": 58366884, "body": "Google helps a lot but you might find something useful in the mmap module that&#39;s part of Python."}, {"owner": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455172330, "post_id": 35328845, "comment_id": 58372399, "body": "When running in serial the CPU usage seems to only be at like 20-30%. So I&#39;m really unsure how to make it go faster, which is really what I need. Though I would like to know how to properly share data across parallel so I can use it later"}, {"owner": {"reputation": 16245, "user_id": 65845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00c81940d10e0fe6c4c3ebfd79be895d?s=128&d=identicon&r=PG", "display_name": "dash-tom-bang", "link": "https://stackoverflow.com/users/65845/dash-tom-bang"}, "reply_to_user": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455214203, "post_id": 35328845, "comment_id": 58400826, "body": "CPU usage will (hopefully) be low when reading and writing to disk because the disk is very slow compared to the CPU. You need to do other things while reading data if you want to get the CPU burning. E.g. read all of your data on one thread (without processing, without parsing, without assigning individual bytes) and then spawn jobs to process the data as files finish being read. Please try memory mapping all of your files and just see if that has any effect. It should pretty much just drop in."}, {"owner": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455216848, "post_id": 35328845, "comment_id": 58402551, "body": "I am having a hard time getting memory mapping to work properly. Each line changes in length and I need to do readline so that I can parse out some of the data. Basically take from 10 to 100000 inside the file, not caring about &lt;10 &gt;100000."}, {"owner": {"reputation": 16245, "user_id": 65845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00c81940d10e0fe6c4c3ebfd79be895d?s=128&d=identicon&r=PG", "display_name": "dash-tom-bang", "link": "https://stackoverflow.com/users/65845/dash-tom-bang"}, "reply_to_user": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "edited": false, "score": 0, "creation_date": 1455224992, "post_id": 35328845, "comment_id": 58407459, "body": "What about the example code in the Python documentation is failing? It uses readline explicitly."}], "tags": [], "owner": {"reputation": 16245, "user_id": 65845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00c81940d10e0fe6c4c3ebfd79be895d?s=128&d=identicon&r=PG", "display_name": "dash-tom-bang", "link": "https://stackoverflow.com/users/65845/dash-tom-bang"}, "is_accepted": false, "score": 0, "last_activity_date": 1455151462, "creation_date": 1455151462, "answer_id": 35328845, "question_id": 35328279, "link": "https://stackoverflow.com/questions/35328279/memory-error-parallel-python-large-data-in-parallel/35328845#35328845", "title": "Memory Error Parallel Python (Large data in parallel)", "body": "<p>Reading data in parallel isn't likely to gain you anything since you're going to be I/O bound for as long as you're reading data, one file at a time or all at once. I'd switch it around to read the data serially but kick off the data setup (in parallel, natch) once each file is loaded. If you can load the entire file in one go then process it from memory you may see the performance gains you seek, at the expense of memory.</p>\n\n<p>If you're exhausting memory then you'll need to figure out how to write out some of the data as you go so that you can drop those dictionary entries.</p>\n\n<p>It might be feasible to memory map the files instead of explicitly reading them, then parallelizing the processing may make more sense, depending on the speed of your data processing versus the speed of I/O. That will allow you to leverage the OS's scheduling, assuming your data processing while loading takes long enough.</p>\n"}], "owner": {"reputation": 375, "user_id": 2571149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BtmxW.jpg?s=128&g=1", "display_name": "Steven Walton", "link": "https://stackoverflow.com/users/2571149/steven-walton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455151462, "creation_date": 1455148251, "last_edit_date": 1455149832, "question_id": 35328279, "link": "https://stackoverflow.com/questions/35328279/memory-error-parallel-python-large-data-in-parallel", "title": "Memory Error Parallel Python (Large data in parallel)", "body": "<p>So I'm reading in a lot of data from a bunch of different files. One of the major speed hurdles is reading in data. The problem is that these files are in respective directories for their timestep which contains each variable for that timestep. So basically I have some functions that look like this.</p>\n\n<pre><code>def ReadFiles(path,points,directories,variables):\n   data = {}\n   for j in range(len(variables)):\n      data[variables[j]] = np.zeros((len(timeDirs),numPts))\n      for i in range(len(timeDirs)):\n         tfile = str(path) + \"/\" + str(timeDirs[i])\n         for j in range(len(variables)):\n            job_server.submit(ReadData,(args,data,i,j),modules=(\"np\",))\ndef ReadData(args):\n   update path for the particular variable\n   read in data from file\n   data[variables[j]][i] = that data\n</code></pre>\n\n<p><strong>TLDR</strong> Initialize the variables I have with numpy array into a dict. Then update the correct section inside another function that is parallelized.</p>\n\n<p>I am using parallel python. I would like to move this code to a cluster at some point. The error I get is </p>\n\n<pre><code>  File \"/home/steven/anaconda2/lib/python2.7/site-packages/pp.py\", line 460, in submit\n    sargs = pickle.dumps(args, self.__pickle_proto)\nMemoryError: out of memory\n</code></pre>\n\n<p>From watching my memory usage I can see that the RAM goes up and then the swap starts to fill. Once both are full I get the error. From some reading I gather that each of these processes is being passed a new dictionary, which means updating in parallel isn't an option. </p>\n\n<p>I will note that I DO NOT get this memory error when I run this in serial. So is there a good way to store or pass this data back to my dictionary using parallel? The final data is stored into an hdf5 file, but those don't seem to want to be open and written to in parallel. </p>\n\n<p>Is there a good solution? How do you handle large data in parallel?</p>\n"}, {"tags": ["python", "events", "bind", "kivy", "unbind"], "comments": [{"owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455149378, "post_id": 35328271, "comment_id": 58365385, "body": "I was going to suggest using <code>fbind</code>/<code>unbind</code>. Can you show your usage of <code>fbind</code>? Note that the syntax is slightly different."}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "reply_to_user": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455149492, "post_id": 35328271, "comment_id": 58365417, "body": "I stumbled across that too, but apparently <code>&#39;Button&#39; has no attribute &#39;fbind&#39;</code> ... ? - yes, 1 moment"}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "reply_to_user": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455149656, "post_id": 35328271, "comment_id": 58365470, "body": "<code>ref.fbind(&#39;on_release&#39;, self.SignPopupMethod, str(signText))</code> was how I was using it"}, {"owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 1, "creation_date": 1455149671, "post_id": 35328271, "comment_id": 58365472, "body": "Also, <code>unbind</code> takes the same kind of argument as <code>bind</code>, so it would have to be <code>unbind(on_x=callback)</code> to unbind something bound as <code>bind(on_x=callback)</code>. The API documentation could be bit more explicit here..."}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "reply_to_user": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455149956, "post_id": 35328271, "comment_id": 58365573, "body": "<code>ref.unbind(on_release=observer)</code> doesn&#39;t give the <code>TypeError: unbind() takes exactly 0 positional arguments (1 given)</code> error any more, but still does not unbind the method! Thank you for making me aware of this :)"}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "reply_to_user": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455150274, "post_id": 35328271, "comment_id": 58365673, "body": "Reading the Event Dispatcher page: <a href=\"https://kivy.org/docs/api-kivy.event.html#kivy.event.EventDispatcher.get_property_observers\" rel=\"nofollow noreferrer\">kivy.org/docs/&hellip;</a>  Perhaps you may be able to tell me how to use the <code>name</code> property here? <code>observer.name</code> is not valid and neither is <code>ref.get_property_observers(&#39;on_release&#39;).name</code>"}, {"owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455150280, "post_id": 35328271, "comment_id": 58365675, "body": "Can you try storing your partial in an ObjectProperty, like <code>ref._mycb=partial(...)</code>, then <code>ref.bind(on_release=ref._mycb)</code>, and BEFORE all of this <code>if ref._mycb is not None: ref.unbind(on_release=ref._mycb)</code>?"}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "reply_to_user": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "edited": false, "score": 0, "creation_date": 1455150986, "post_id": 35328271, "comment_id": 58365913, "body": "It was a nice idea, but same results - the code executes without issue, but fails to unbind..."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "edited": false, "score": 0, "creation_date": 1455158869, "post_id": 35329847, "comment_id": 58368005, "body": "Thank you for your time and effort zee! I will implement my changes tomorrow evening and report back :)"}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "edited": false, "score": 0, "creation_date": 1455209640, "post_id": 35329847, "comment_id": 58397850, "body": "The use of a list property on the button to store the partial, and later removing items from the list, was genius! It has worked flawlessly. Just to note, I was still having issues with <code>fbind</code> and <code>unbind</code> on a button <code>AttributeError: &#39;Button&#39; object has no attribute &#39;fbind&#39;</code> although the methodology of a list worked with <code>bind</code> and <code>unbind</code> too! Thank you very much once again."}, {"owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "reply_to_user": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "edited": false, "score": 0, "creation_date": 1455210127, "post_id": 35329847, "comment_id": 58398208, "body": "There&#39;s one caveat: with partials, they can be bound multiple times (as this example shows), even using <code>bind</code>. More logic is needed to prevent that ..."}, {"owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "edited": false, "score": 0, "creation_date": 1455210435, "post_id": 35329847, "comment_id": 58398440, "body": "I do the <code>if list -&gt; unbind</code> for all buttons first, and there will never be more than one action bound at a time. Thanks for the intel though, it&#39;s good to know :)"}], "tags": [], "owner": {"reputation": 4807, "user_id": 1893154, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KvEaT.jpg?s=128&g=1", "display_name": "zeeMonkeez", "link": "https://stackoverflow.com/users/1893154/zeemonkeez"}, "is_accepted": true, "score": 3, "last_activity_date": 1455158285, "creation_date": 1455158285, "answer_id": 35329847, "question_id": 35328271, "link": "https://stackoverflow.com/questions/35328271/kivy-unbind-all-methods-attached-to-a-button/35329847#35329847", "title": "Kivy - unbind all methods attached to a button", "body": "<p>Here is a toy example demonstrating setting, saving, and later clearing callbacks. When <code>a_button</code> or <code>b_button</code> is pressed, <code>set_callbacks</code> is triggered, which binds callbacks to all of <code>MyButton</code>s. <code>MyButton</code> has a list property <code>_cb</code> storing user defined callbacks. <code>c_button</code> will trigger <code>clear_callbacks</code>, which goes through each of the <code>MyButton</code>'s <code>_cb</code> lists and unbinds each stored callback.</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.lang import Builder\nfrom functools import partial\n\nkv_str = \"\"\"\n&lt;MyButton@Button&gt;:\n    _cb: []\n    my_id: 1\n    text: \"hello {}\".format(self.my_id)\nBoxLayout:\n    orientation: 'vertical'\n    BoxLayout:\n        Button:\n            id: a_button\n            text: \"a button\"\n        Button:\n            id: b_button\n            text: \"b button\"\n        Button:\n            id: c_button\n            text: \"clear callbacks\"\n    GridLayout:\n        cols: 4\n        id: grid\n        MyButton:\n            my_id: 1\n        MyButton:\n            my_id: 2\n        MyButton:\n            my_id: 3\n        MyButton:\n            my_id: 4\n\"\"\"\n\ndef cb(sender, arg='nothing'):\n    print \"we got: {} pressed with {}\".format(sender.text, arg)\n\nclass MyApp(App):\n    def build(self):\n        root = Builder.load_string(kv_str)\n\n        def set_callbacks(sender):\n            for b in root.ids.grid.children:\n                new_cb = partial(cb, arg=sender.text)\n                b._cb.append(new_cb)\n                b.fbind('on_press', new_cb)\n        def clear_callbacks(sender):\n            for b in root.ids.grid.children:\n                for cb in b._cb:\n                    b.funbind('on_press', cb)\n                b._cb = []\n        root.ids.a_button.bind(on_press=set_callbacks)\n        root.ids.b_button.bind(on_press=set_callbacks)\n        root.ids.c_button.bind(on_press=clear_callbacks)\n        return root\n\nif __name__ == '__main__':\n    a = MyApp()\n    a.run()\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 3607986, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e6348c34514bcd693a2b974ab227203a?s=128&d=identicon&r=PG&f=1", "display_name": "Chazara", "link": "https://stackoverflow.com/users/3607986/chazara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1807, "favorite_count": 0, "accepted_answer_id": 35329847, "answer_count": 1, "score": 3, "last_activity_date": 1455163853, "creation_date": 1455148188, "last_edit_date": 1455163853, "question_id": 35328271, "link": "https://stackoverflow.com/questions/35328271/kivy-unbind-all-methods-attached-to-a-button", "title": "Kivy - unbind all methods attached to a button", "body": "<p>I am writing a program that has a panel of buttons on the right hand side, that successfully binds a method to each, dependant on user input/actions. My issues is that I cannot <code>unbind()</code> the method explicitely, as the method bound is dynamic.</p>\n\n<p>Consider;</p>\n\n<pre><code>    i = 1\n    while i &lt;= 8:\n        string = \"action\" + str(i) \n        #Buttons named 'action1, action1, ..., action8'\n        ref = self.ids[string] \n        ref.text = \"\"\n        observers = ref.get_property_observers('on_release')\n        print observers\n        ref.unbind()\n        ref.bind(on_release=partial(self.BlankMethod, arg1))\n        i += 1\n</code></pre>\n\n<p>The lines;</p>\n\n<pre><code>        observers = ref.get_property_observers('on_release')\n        print observers\n</code></pre>\n\n<p>Show that I have an increasing list of weakmethods bound, every time the method is called, but the unbind function does not unbind the method.</p>\n\n<p>Although my code example does not show it, the bound method changes regularly, and the <code>self.BlankMethod</code> was meant to override the original binding. This is not the case, and the <code>Button</code>'s bound methods increase.</p>\n\n<p><code>[&lt;kivy.weakmethod.WeakMethod object at 0x7f8cc826a810&gt;]</code>\n<code>[&lt;kivy.weakmethod.WeakMethod object at 0x7f8cc826a850&gt;, &lt;kivy.weakmethod.WeakMethod object at 0x7f8cc826acd0&gt;]</code></p>\n\n<p>I have tried;</p>\n\n<pre><code>        observers = ref.get_property_observers('on_release')\n        if observers != []:\n            for observer in observers:\n                ref.unbind(observer)\n        ref.bind(on_release=partial(self.Blank))\n</code></pre>\n\n<p>But I am returned the error;</p>\n\n<pre><code>TypeError: unbind() takes exactly 0 positional arguments (1 given)\n</code></pre>\n\n<p>I had a look at using <code>funbind()</code> function but subsequently given;</p>\n\n<pre><code>AttributeError: 'Button' object has no attribute 'funbind'\n</code></pre>\n\n<p>Trying to use <code>fbind()</code> prior to <code>funbind()</code> also gives the same error, but with respect to the button not having an <code>fbind()</code> attribute.</p>\n\n<p>How can I list all bound methods of an object, and subsequently unbind them?</p>\n"}, {"tags": ["python", "python-3.x", "apache-spark", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5911083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a6ea0dd1e86befb3cc37ab90ec3b6?s=128&d=identicon&r=PG&f=1", "display_name": "Majidgh", "link": "https://stackoverflow.com/users/5911083/majidgh"}, "edited": false, "score": 0, "creation_date": 1455152160, "post_id": 35328688, "comment_id": 58366279, "body": "Thanks for the answer. I ended up putting all the code in one file and broadcasting an object of the class."}, {"owner": {"reputation": 444, "user_id": 2575155, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/05aff69421d88ba7accab8cb4c062fc6?s=128&d=identicon&r=PG", "display_name": "marjun", "link": "https://stackoverflow.com/users/2575155/marjun"}, "reply_to_user": {"reputation": 33, "user_id": 5911083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a6ea0dd1e86befb3cc37ab90ec3b6?s=128&d=identicon&r=PG&f=1", "display_name": "Majidgh", "link": "https://stackoverflow.com/users/5911083/majidgh"}, "edited": false, "score": 0, "creation_date": 1524656981, "post_id": 35328688, "comment_id": 87058828, "body": "@Majidgh can you please tell how did you broadcast an class object."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 1, "last_activity_date": 1455151573, "last_edit_date": 1455151573, "creation_date": 1455150512, "answer_id": 35328688, "question_id": 35328214, "link": "https://stackoverflow.com/questions/35328214/python-spark-accessing-class-static-variables-from-executor/35328688#35328688", "title": "Python Spark, Accessing Class Static Variables from Executor", "body": "<p>This is an expected behavior. Python classes are imported independently on each executor so any changes you apply on a driver won't be visible in the executor threads. Since Python classes are not serializable it is not technically possible to propagate these changes.</p>\n\n<p>Probably the simplest solution here is to pass required configuration using objects  which are initialized on the driver, can be serialized and passed to the executors. </p>\n\n<p>Alternatively you can use <code>SparkFiles</code> to distribute configuration files and read these when module containing <code>EnvVariables</code> is imported:</p>\n\n<ul>\n<li><p><code>envvariables.py</code></p>\n\n<pre><code>from pyspark import SparkFiles\n\nclass EnvVariables:\n    attributes = {}\n    allTags = [\"UNK\"]\n    similarityDicts = []\n    mergeThreshold = 0.5\n\n\nwith open(SparkFiles.get(\"config\")) as fr:\n    EnvVariables.attributes.update({\"a\": 1})\n    EnvVariables.allTags.append(\"b\")\n</code></pre></li>\n<li><p>main script:</p>\n\n<pre><code>from pyspark import SparkContext, SparkFiles\n\nsc = SparkContext()\nsc.addFile(\"config\")\n\nfrom envvariables import EnvVariables\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 3759924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WwV6j.jpg?s=128&g=1", "display_name": "Sarthak Ahuja", "link": "https://stackoverflow.com/users/3759924/sarthak-ahuja"}, "is_accepted": false, "score": 0, "last_activity_date": 1482753153, "creation_date": 1482753153, "answer_id": 41330867, "question_id": 35328214, "link": "https://stackoverflow.com/questions/35328214/python-spark-accessing-class-static-variables-from-executor/41330867#41330867", "title": "Python Spark, Accessing Class Static Variables from Executor", "body": "<p>What do you mean by 'not initialized'? The values in your class on all workers will remain to reflect - </p>\n\n<pre><code>attributes = {}\nallTags = [\"UNK\"]\nsimilarityDicts = []\nmergeThreshold = 0.5\n</code></pre>\n\n<p>They will retain these values over all workers. They will of course not be updated on every worker (when updated on one of them) as they exist on different machines. </p>\n\n<p>Broadcast variables come in handy in such place where you want consistency among variables which are bound to change on workers.</p>\n\n<p>For cases where these variables are read-only or you want them to be existing separately for each worker such as kafka producers, cloudant databases the way you have described works fine. </p>\n\n<p>I think the phrase \"not initialized\" should be updated to \"not updated\".</p>\n"}], "owner": {"reputation": 33, "user_id": 5911083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a6ea0dd1e86befb3cc37ab90ec3b6?s=128&d=identicon&r=PG&f=1", "display_name": "Majidgh", "link": "https://stackoverflow.com/users/5911083/majidgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 1, "accepted_answer_id": 35328688, "answer_count": 2, "score": 1, "last_activity_date": 1482753153, "creation_date": 1455147940, "last_edit_date": 1455149140, "question_id": 35328214, "link": "https://stackoverflow.com/questions/35328214/python-spark-accessing-class-static-variables-from-executor", "title": "Python Spark, Accessing Class Static Variables from Executor", "body": "<p>I have a class which has some static variables keeping my code's configurations. I initialize the variables in the master and want to access them in the executors. What I see is that when I use them in the executors they are not initialized. Wondering how I can initialize the variables in the executors.</p>\n\n<pre><code>class EnvVariables:\n    attributes = {}\n    allTags = [\"UNK\"]\n    similarityDicts = []\n    mergeThreshold = 0.5\n\ndef readAttrConfig(cpath):\n    EnvVariables.attributes.update(BLAH)\n    EnvVariables.allTags.append(BLAH)\n</code></pre>\n\n<p>When I print the variables in the master, I see they have correct values, but in the executors they are not initialized.</p>\n"}, {"tags": ["python", "linux", "selenium-webdriver", "ssh", "phantomjs"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5901890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RhmW.jpg?s=128&g=1", "display_name": "bryanb", "link": "https://stackoverflow.com/users/5901890/bryanb"}, "edited": false, "score": 0, "creation_date": 1455150548, "post_id": 35328637, "comment_id": 58365760, "body": "Can you elaborate? The only browsing (before the problem) is the login to twitter and facebook, it stalls indefinitely after that, though the webdriver is just sitting idle. And no I&#39;ve never considered multithreading, I&#39;ve never needed to when running locally and it seemed overkill."}, {"owner": {"reputation": 1481, "user_id": 2115494, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5a8c446742faace5ade0b27c32170d67?s=128&d=identicon&r=PG", "display_name": "spedy", "link": "https://stackoverflow.com/users/2115494/spedy"}, "reply_to_user": {"reputation": 39, "user_id": 5901890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RhmW.jpg?s=128&g=1", "display_name": "bryanb", "link": "https://stackoverflow.com/users/5901890/bryanb"}, "edited": false, "score": 0, "creation_date": 1455151331, "post_id": 35328637, "comment_id": 58366005, "body": "PJS won&#39;t release it&#39;s resources (which are also the raw_input resources) until it has finished it&#39;s request, not to mention it has a history of memory leakages. If you&#39;re not a fan of multi-threading, you might want to consider webdrivers wait commands to make your program a bit more manageable."}, {"owner": {"reputation": 1481, "user_id": 2115494, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5a8c446742faace5ade0b27c32170d67?s=128&d=identicon&r=PG", "display_name": "spedy", "link": "https://stackoverflow.com/users/2115494/spedy"}, "reply_to_user": {"reputation": 39, "user_id": 5901890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RhmW.jpg?s=128&g=1", "display_name": "bryanb", "link": "https://stackoverflow.com/users/5901890/bryanb"}, "edited": false, "score": 0, "creation_date": 1455151918, "post_id": 35328637, "comment_id": 58366191, "body": "Also wanted to add, that webdrivers javascript handling (eg. <code>w.execute_script(&quot;document.querySelector(&#39;.button&#39;).click()&quot;&zwnj;&#8203;)</code> ) gives you shell control back immediately. Might be in some cases better than <code>w.click()</code>"}, {"owner": {"reputation": 39, "user_id": 5901890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RhmW.jpg?s=128&g=1", "display_name": "bryanb", "link": "https://stackoverflow.com/users/5901890/bryanb"}, "edited": false, "score": 0, "creation_date": 1455153525, "post_id": 35328637, "comment_id": 58366673, "body": "Yes I see how an execute_script might be helpful then... But I use wait commands pretty regularly, wait_until_element_clickable etc, to make sure things only happen when they&#39;re possible, I don&#39;t see how this would help me getting back shell control. Shouldn&#39;t the shell on my mac be no different than the linux shell over ssh in regards to the resources?"}], "tags": [], "owner": {"reputation": 1481, "user_id": 2115494, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5a8c446742faace5ade0b27c32170d67?s=128&d=identicon&r=PG", "display_name": "spedy", "link": "https://stackoverflow.com/users/2115494/spedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1455150226, "creation_date": 1455150226, "answer_id": 35328637, "question_id": 35328191, "link": "https://stackoverflow.com/questions/35328191/creation-of-phantomjs-webdriver-causes-user-input-problems-in-python-over-ssh-se/35328637#35328637", "title": "Creation of PhantomJS webdriver causes user input problems in Python over ssh session", "body": "<p>Do the raw inputs hang when you only create a PhantomJS instance or do you do any headless browsing with it? If you're browsing, it would make sense that raw_inputs hang as each website request will consequently stall the shell.</p>\n\n<p>Have you considered multi-threading it?</p>\n"}], "owner": {"reputation": 39, "user_id": 5901890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RhmW.jpg?s=128&g=1", "display_name": "bryanb", "link": "https://stackoverflow.com/users/5901890/bryanb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1455150226, "creation_date": 1455147826, "question_id": 35328191, "link": "https://stackoverflow.com/questions/35328191/creation-of-phantomjs-webdriver-causes-user-input-problems-in-python-over-ssh-se", "title": "Creation of PhantomJS webdriver causes user input problems in Python over ssh session", "body": "<p>User input to my Python program does not respond most of the time when I run it remotely and try to use a PhantomJS webdriver. Everything executes fine, same as it does when I run it locally, except the majority of keypresses don't register at a prompt from raw_input(). I have to hit a key (on average) three times for it to actually show up in the console.</p>\n\n<p>This is <em>only</em> on raw_input in my program after it creates a PhantomJS instance. I singled out the issue by setting <code>w = None</code>, where <code>w</code> is the webdriver. After doing this, user input continued working as it should throughout the program.</p>\n\n<p>I can start another ssh session and stdin works fine. I can also start another instance of my program (<code>python run.py</code>) and before that instance creates a webdriver, raw_input works fine in it as well. I have tried running <code>top</code> in another ssh session and there is no load at all on my server. So only input to the parent python process is affected.</p>\n\n<p>I figure best case scenario, someone can help me get to the root of the problem. I don't have the tools to narrow down the cause of this. Thanks!</p>\n\n<hr>\n\n<hr>\n\n<p><strong>Additional info that might be relevant</strong></p>\n\n<p><code>ps -aux</code> in an ssh session gives me these related processes:</p>\n\n<pre><code>[TTY: pts/1, STAT: S+] python run.py\n[TTY: pts/1, STAT: S1+] node /usr/local/bin/phantomjs --webdriver=52129\n[TTY: pts/1, STAT: S1+] /usr/local/lib/node_modules/phantomjs/lib/phantom/bin/phantomjs --webdriver=52129\n</code></pre>\n\n<p>All of them using negligible mem and cpu</p>\n\n<p>Selenium webdriver creation is customized- (summarized) customdriver.py:</p>\n\n<pre><code>def mkDriver(params):\n    # params aren't relevant because this is the setup I always use on the server\n    w = webdriver.PhantomJS({'phantomjs.page.settings.loadImages': 'false'})\n    loginToFacebook(w)\n    loginToTwitter(w)\n    # for later- w.quit() leaves phantom process running\n    w.phantomjsPID = collectPhantomjsPID()\n</code></pre>\n\n<p>...Though I don't think the problem relates to any of the other statements there, this function finishes execution and my program continues.</p>\n\n<p>Some notes:</p>\n\n<ul>\n<li><p>laptop: OS X El Capitan, 2.4GHz intel core i5, 8GB memory</p></li>\n<li><p>server: Ubuntu Server 14.04, 2.0GHz intel xeon e5, 8GB memory - I was using a micro .ec2 I set up myself, but someone set this up for me to give me something more powerful to play with. It's running on IBM Softlayer.</p></li>\n<li><p>Before I asked: read about stdin and stdout over ssh, about paramiko as a solution (wouldn't give the behavior I wanted), checked if there is a better python function to use than raw_input, differences with psuedo-tty on and off upon ssh (don't think this applies to how I am running my program), and tried using the -u flag with python.</p></li>\n<li><p>Initially all raw_input() statements gave an EOFError when I ran my program on the server. I \"fixed\" this using <a href=\"http://www.linuxquestions.org/questions/programming-9/python-raw_input-and-putty-on-remote-server-514891/\" rel=\"nofollow\">this solution</a> I found, which was to import readline in all modules using raw_input. No idea why it worked. I know raw_input() is derived from sys.stdin.readline...</p></li>\n<li><p>If you're looking at the pseudocode below, the purpose of this was to make changes to the ui and the functions it calls, then continue to test, without ever having to regenerate anything in <code>resources</code> (most importantly the webdriver, which takes a long time to load). The structure also makes it easy to have a few pre-written tests.</p></li>\n</ul>\n\n<p>Overview of the modules...</p>\n\n<p>run.py:</p>\n\n<pre><code>params = raw_input('enter parameters')\n\nw = customdriver.mkDriver(params)\nt = tweepy_connection()\nf = facebook_Graph_API_conection()\ns = sqlAlchemy_engine()\nresources = [w, t, f, s]\n\nwhile True:\n    choice = raw_input('1: break, 2: restart ui')\n    if choice == '1':\n        break\n    elif choice == '2':\n        reload(ui.py)\n        ui.ui_function(resources)\n    else:\n        continue\n</code></pre>\n\n<p>ui.py:</p>\n\n<pre><code>def ui_function(resources):\n    while True:\n        choice = raw_input('1: break, 2: functionA, 3: functionB')\n        if choice == '1':\n            break\n        elif choice == '2':\n            reload(file1)\n            params = raw_input('enter parameters')\n            file1.functionA(resources, params)\n        elif choice == '3':\n            reload(file2)\n            params = raw_input('enter some other parameters')\n            file2.functionB(resources, params)\n     else:\n         continue\n</code></pre>\n"}, {"tags": ["python", "ansible"], "comments": [{"owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "edited": false, "score": 0, "creation_date": 1455150353, "post_id": 35328177, "comment_id": 58365698, "body": "Can I do something similar to from ... import usefulpythonfunctions ?"}, {"owner": {"reputation": 17484, "user_id": 2383393, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85163e99346c97f1e9bc0584e16ce0bc?s=128&d=identicon&r=PG", "display_name": "Bruce P", "link": "https://stackoverflow.com/users/2383393/bruce-p"}, "edited": false, "score": 0, "creation_date": 1455226662, "post_id": 35328177, "comment_id": 58408352, "body": "Is usefulpythonfunctions installed on your target host(s)?  Keep in mind that Ansible copies a module to the target and then invokes the module.  So this error is likely originating from your target host and not the host you&#39;re running Ansible on."}], "answers": [{"comments": [{"owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "edited": false, "score": 2, "creation_date": 1455148346, "post_id": 35328223, "comment_id": 58365066, "body": "Why would that work?  I don&#39;t understand how Ansible would recognize an added directory inside the bin directory when it doesn&#39;t seem to recognize the bin folder in the first place."}], "tags": [], "owner": {"reputation": 1979, "user_id": 696836, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5e7e5ddae2cf57c6e35763f6edad4cc?s=128&d=identicon&r=PG", "display_name": "djsumdog", "link": "https://stackoverflow.com/users/696836/djsumdog"}, "is_accepted": false, "score": 0, "last_activity_date": 1455147980, "creation_date": 1455147980, "answer_id": 35328223, "question_id": 35328177, "link": "https://stackoverflow.com/questions/35328177/how-to-import-a-py-file-into-an-ansible-module/35328223#35328223", "title": "How to import a .py file into an Ansible Module?", "body": "<p>Try creating a folder called <code>usefulpythonfunctions</code>, create an <code>__init__.py</code> and place the functions you want in there.</p>\n\n<p>Additionally, you should be able to create <code>bin/foo/bar.py</code> and use <code>from foo import bar</code> to call functions or classes out of bar.  </p>\n"}, {"comments": [{"owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "edited": false, "score": 0, "creation_date": 1455150621, "post_id": 35328239, "comment_id": 58365784, "body": "Thank you, hopefully there is a workaround to this in the meantime."}], "tags": [], "owner": {"reputation": 503, "user_id": 499800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf584528db7b5c325b726cd4683afdca?s=128&d=identicon&r=PG", "display_name": "slackhacker", "link": "https://stackoverflow.com/users/499800/slackhacker"}, "is_accepted": false, "score": 1, "last_activity_date": 1455148046, "creation_date": 1455148046, "answer_id": 35328239, "question_id": 35328177, "link": "https://stackoverflow.com/questions/35328177/how-to-import-a-py-file-into-an-ansible-module/35328239#35328239", "title": "How to import a .py file into an Ansible Module?", "body": "<p>According to my understanding is this not possible in Ansible, but there is <a href=\"https://github.com/ansible/ansible/pull/10274\" rel=\"nofollow\">pending pull request</a> that offers some hope.</p>\n"}, {"tags": [], "owner": {"reputation": 669, "user_id": 3266897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f5ad8f2a383062de0647da7afcf752?s=128&d=identicon&r=PG&f=1", "display_name": "BobTuckerman", "link": "https://stackoverflow.com/users/3266897/bobtuckerman"}, "is_accepted": false, "score": 3, "last_activity_date": 1468008875, "creation_date": 1468008875, "answer_id": 38274719, "question_id": 35328177, "link": "https://stackoverflow.com/questions/35328177/how-to-import-a-py-file-into-an-ansible-module/38274719#38274719", "title": "How to import a .py file into an Ansible Module?", "body": "<p>I've been looking into ways to do this and it doesn't appear this is possible in the current version of Ansible.</p>\n\n<p>Honestly, the pull request mentioned by @slackhacker seems to be the cleanest option, but that looks like it may not be available until Ansible 2.1...</p>\n\n<h1>Until then...</h1>\n\n<h2>Deploy your dependencies using ansible</h2>\n\n<p>The library you want has to be copied to each system you run on. So, let's just have ansible take care of it for us.</p>\n\n<pre><code>---\n\ntasks:\n  - name: Copy mylibrary\n    # Only requirement is that the dst path exists in the default system python path\n    copy: src=path-to-library dst=/usr/local/lib/python2.7/dist-packages\n\n  - name:\n    mymodule:\n      arg1: foo\n      arg2: bar\n</code></pre>\n\n<h2>Download dependencies in your module code</h2>\n\n<p>If your module code is accessible to the server you are running on (via HTTP, SSH, etc), you could code the module to go out and grab the dependencies directy in python instead of doing it as a separate task.</p>\n\n<p>This has the <strong>added value of not requiring extra steps from the end user</strong>, but will probably run slower due to the extra copies having to be made.</p>\n\n<h2>Roll your own package</h2>\n\n<p>You could also roll your own package using <code>pip</code> or any other packaging toolchain. This is probably not for the faint of heart.</p>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 1073262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6551fd06e8eee9d5cb5074b670a8a59c?s=128&d=identicon&r=PG", "display_name": "perlyking", "link": "https://stackoverflow.com/users/1073262/perlyking"}, "edited": false, "score": 1, "creation_date": 1496336879, "post_id": 44175330, "comment_id": 75632285, "body": "to expand a little, create a folder called <code>module_utils</code> in the same location as your playbook file, place your module(s) there, then import as described by @Taras"}, {"owner": {"reputation": 2655, "user_id": 3727348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVZF9.png?s=128&g=1", "display_name": "Taras Matsyk", "link": "https://stackoverflow.com/users/3727348/taras-matsyk"}, "reply_to_user": {"reputation": 469, "user_id": 1073262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6551fd06e8eee9d5cb5074b670a8a59c?s=128&d=identicon&r=PG", "display_name": "perlyking", "link": "https://stackoverflow.com/users/1073262/perlyking"}, "edited": false, "score": 0, "creation_date": 1496350073, "post_id": 44175330, "comment_id": 75639454, "body": "@perlyking, thank you for the clarification! I have updated the answer."}, {"owner": {"reputation": 71, "user_id": 1955975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3456d9cc91d40712ccf0bd1033d47f03?s=128&d=identicon&r=PG", "display_name": "ktdreyer", "link": "https://stackoverflow.com/users/1955975/ktdreyer"}, "edited": false, "score": 2, "creation_date": 1549055883, "post_id": 44175330, "comment_id": 95781161, "body": "Thanks Taras. I&#39;ve added this to the Ansible documentation at <a href=\"https://docs.ansible.com/ansible/devel/dev_guide/developing_module_utilities.html\" rel=\"nofollow noreferrer\">docs.ansible.com/ansible/devel/dev_guide/&hellip;</a>"}, {"owner": {"reputation": 467, "user_id": 9817778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyGWg.jpg?s=128&g=1", "display_name": "Time Killer", "link": "https://stackoverflow.com/users/9817778/time-killer"}, "edited": false, "score": 0, "creation_date": 1615607296, "post_id": 44175330, "comment_id": 117750385, "body": "How to make <code>PyCharm</code> understand the directory structure? without errors and with autocomplete."}], "tags": [], "owner": {"reputation": 2655, "user_id": 3727348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVZF9.png?s=128&g=1", "display_name": "Taras Matsyk", "link": "https://stackoverflow.com/users/3727348/taras-matsyk"}, "is_accepted": false, "score": 15, "last_activity_date": 1546585815, "last_edit_date": 1546585815, "creation_date": 1495699135, "answer_id": 44175330, "question_id": 35328177, "link": "https://stackoverflow.com/questions/35328177/how-to-import-a-py-file-into-an-ansible-module/44175330#44175330", "title": "How to import a .py file into an Ansible Module?", "body": "<p>Luckily <a href=\"https://gitlab.lakedrops.com/ansible-playbooks/general/issues/68\" rel=\"noreferrer\">2.3 release</a> has introduced this feature.</p>\n\n<p>Now you can place your shared code in <code>module_utils</code> folder where your playbook lives and it will be automatically exported by ansible. Also you might be interested in checking <a href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html?highlight=module_utils\" rel=\"noreferrer\">the directory structure documentation</a></p>\n\n<p>You can access your module in <code>module_utils</code> as you would access a standard util</p>\n\n<pre><code>from ansible.module_utils.my_shared_code import MySharedCodeClient\n</code></pre>\n\n<p><strong>UPDATE</strong>\nNow you can configure a path where your module utils live using <code>ANSIBLE_MODULE_UTILS</code> env variable. For more details please check <a href=\"https://docs.ansible.com/ansible/latest/reference_appendices/config.html?highlight=module_utils#envvar-ANSIBLE_MODULE_UTILS\" rel=\"noreferrer\">documentation</a></p>\n"}], "owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8917, "favorite_count": 2, "answer_count": 4, "score": 16, "last_activity_date": 1546585815, "creation_date": 1455147748, "question_id": 35328177, "link": "https://stackoverflow.com/questions/35328177/how-to-import-a-py-file-into-an-ansible-module", "title": "How to import a .py file into an Ansible Module?", "body": "<p>My Ansible directory structure looks something like this.</p>\n\n<pre><code>Ansible-Repo\n\n |\n +-- playbooks\n |  |  \n |  +-- run_custom_module1\n |      \n +-- library\n |  |  \n |  +-- custom_module1\n |  +-- custom_module2\n |    \n +-- bin\n |  |  \n |  +-- usefulpythonfunctions.py\n</code></pre>\n\n<p>I want to be able to import usefulpythonfunctions.py from the bin inside my Ansible Module.  I have an import usefulpythonfunctions.py at the top of my module, but I receive the following error when I run the playbook.</p>\n\n<pre><code>\\r\\nImportError: No module named usefulpythonfunctions\\r\\n\", \"msg\": \"MODULE FAILURE\", \"parsed\": false}\n</code></pre>\n"}, {"tags": ["python", "numpy", "fft"], "comments": [{"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 5, "creation_date": 1455148063, "post_id": 35328168, "comment_id": 58364966, "body": "Are you just referring to the fact that numpy doesn&#39;t display the whole thing when you print it? That&#39;s done so that large arrays don&#39;t completely fill the output. There&#39;s a setting you can change, see here: <a href=\"http://stackoverflow.com/questions/1987694/print-the-full-numpy-array\" title=\"print the full numpy array\">stackoverflow.com/questions/1987694/print-the-full-numpy-arr&zwnj;&#8203;ay</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "is_accepted": true, "score": 2, "last_activity_date": 1455151255, "last_edit_date": 1455151255, "creation_date": 1455148312, "answer_id": 35328297, "question_id": 35328168, "link": "https://stackoverflow.com/questions/35328168/output-array-after-performing-fast-fast-fourier-transform-of-a-data-set/35328297#35328297", "title": "Output array after performing fast fast fourier transform of a data set", "body": "<p>As others have indicated, include a modified version of </p>\n\n<pre><code>&gt;&gt;&gt; np.set_printoptions(edgeitems=5,linewidth=80,precision=2,suppress=True,threshold=10) \n&gt;&gt;&gt; a = np.arange(0,100.)\n&gt;&gt;&gt; \n&gt;&gt;&gt; a\narray([  0.,   1.,   2.,   3.,   4., ...,  95.,  96.,  97.,  98.,  99.])\n&gt;&gt;&gt; np.set_printoptions(edgeitems=5,linewidth=80,precision=2,suppress=True,threshold=100) \n&gt;&gt;&gt; a\narray([  0.,   1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,\n        12.,  13.,  14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,  22.,  23.,\n        24.,  25.,  26.,  27.,  28.,  29.,  30.,  31.,  32.,  33.,  34.,  35.,\n        36.,  37.,  38.,  39.,  40.,  41.,  42.,  43.,  44.,  45.,  46.,  47.,\n        48.,  49.,  50.,  51.,  52.,  53.,  54.,  55.,  56.,  57.,  58.,  59.,\n        60.,  61.,  62.,  63.,  64.,  65.,  66.,  67.,  68.,  69.,  70.,  71.,\n        72.,  73.,  74.,  75.,  76.,  77.,  78.,  79.,  80.,  81.,  82.,  83.,\n        84.,  85.,  86.,  87.,  88.,  89.,  90.,  91.,  92.,  93.,  94.,  95.,\n        96.,  97.,  98.,  99.])\n\nnp.set_printoptions(edgeitems=3,linewidth=80,precision=2,suppress=True,threshold=5)\n</code></pre>\n\n<p>perhaps setting threshold to some very large number. </p>\n\n<p>Addendum</p>\n\n<p>I would be remiss if I didn't state that the simplest solution to the above is to simple use</p>\n\n<pre><code>&gt;&gt;&gt; list(a)\n</code></pre>\n\n<p>should you not care whether an array is visually returned or not.</p>\n"}], "owner": {"reputation": 63, "user_id": 4504461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b3d61f5dbe5d355f1c9115298c99a4?s=128&d=identicon&r=PG&f=1", "display_name": "py_beginner", "link": "https://stackoverflow.com/users/4504461/py-beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 35328297, "answer_count": 1, "score": 2, "last_activity_date": 1455151255, "creation_date": 1455147704, "question_id": 35328168, "link": "https://stackoverflow.com/questions/35328168/output-array-after-performing-fast-fast-fourier-transform-of-a-data-set", "title": "Output array after performing fast fast fourier transform of a data set", "body": "<p>I'm trying to perform a fourier transform of a data set that I have and subsequently writing its real and imaginary parts separately.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import sys,string\nimport numpy as np\nfrom math import *\nimport fileinput\nfrom scipy.fftpack import fft, ifft\n\ntemparray = []\n\nfor i in range(200000):\n    line = sys.stdin.readline() ## reads data from a text file\n    fields = map(float,line.split())\n    temparray.append(fields)\nacf = sum(temparray,[]) ## I need to do this as the appended array from above is nested\ny = np.fft.fft(acf)\nz = (y.real,y.imag)\nprint z\n</code></pre>\n\n<p>The output that I get is as follows:</p>\n\n<pre><code>(array([ 2600.36368107, 2439.50426935, 1617.52631545, ..., 1575.78483016, 1617.52631545, 2439.50426935]), array([ 0. , -767.19967198, -743.75183367, ..., 726.45052092, 743.75183367, 767.19967198]))\n</code></pre>\n\n<p>It looks like its only printing the first few and last few values, completely skipping everything in between. Can anybody please tell me why this is happening?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "split", "comma"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455148199, "post_id": 35328258, "comment_id": 58365016, "body": "Please read: We are not allowed to use or convert the file into CSV. It should be treated as a test file without the use of CSV."}, {"owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455149275, "post_id": 35328258, "comment_id": 58365355, "body": "Sorry cant use pandas either."}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": false, "score": 3, "last_activity_date": 1455148745, "last_edit_date": 1455148745, "creation_date": 1455148113, "answer_id": 35328258, "question_id": 35328150, "link": "https://stackoverflow.com/questions/35328150/file-parsing-using-commas-python/35328258#35328258", "title": "File parsing using commas Python", "body": "<p>These kinds of tasks are perfect for Pandas:</p>\n\n<pre><code>import pandas\n\ndf = pandas.read_csv('Products.txt')\ndf = df.groupby('PRODUCT').sum()\ndf.ix['Total'] = df.sum()\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/93ajJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93ajJ.png\" alt=\"groupby result\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455150187, "post_id": 35328610, "comment_id": 58365647, "body": "How does stdout work? Sorry I&#39;m a beginner and have never used it. Can it be substituted with something else?"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "reply_to_user": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455150558, "post_id": 35328610, "comment_id": 58365763, "body": "<code>stdout</code> is the &quot;standard output.&quot; That is, if you write a python program and say <code>print(&quot;Hello, world!&quot;)</code> without specifying the <code>file=</code> parameter, the default output location is to <code>stdout</code>. Normally, this is to your console or &quot;program output window&quot;. Regardless, uncomment the file open and comment/remove the stdout line and you should be set."}], "tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1455150066, "creation_date": 1455150066, "answer_id": 35328610, "question_id": 35328150, "link": "https://stackoverflow.com/questions/35328150/file-parsing-using-commas-python/35328610#35328610", "title": "File parsing using commas Python", "body": "<p>Changed the output file to <code>stdout</code>, to speed up development. If you can do subroutines, you should merge the two copies of the same code into a single subroutine.</p>\n\n<pre><code>import sys\n\nreadFile = open(\"Products.txt\", \"r\")\n#reportfile = open(\"report.txt\", \"w\")\nreportfile = sys.stdout\n\nCategories_seen = []\nCurrent_category = None\nCategory_sum = 0\nTotal_sum = 0\n\nline = readFile.readline()\n\nfor line in readFile:\n    category,product,sales2014,sales2015 = line.strip().split(',')\n    sales2015 = int(sales2015)\n\n    if category not in Categories_seen:\n        if Current_category is not None: # Subroutine, if possible\n            print(\"Total sales for\", Current_category, \"in 2015:\",\n                Category_sum, file=reportfile)\n        Current_category = category\n        Category_sum = sales2015\n        Total_sum += sales2015\n        Categories_seen.append(Current_category)\n    elif Current_category == category:\n        Category_sum += sales2015\n        Total_sum += sales2015\n\nif Current_category is not None:  # Subroutine, if possible\n    print(\"Total sales for\", Current_category, \"in 2015:\",\n        Category_sum, file=reportfile)\n\nprint(\"----------\", file=reportfile)\nprint(\"Total sales for the farmer in 2015:\", Total_sum, file=reportfile)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455150379, "post_id": 35328649, "comment_id": 58365705, "body": "Is there another way than using collections? Sorry its not taught to us yet so dont have much understanding."}, {"owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 0, "creation_date": 1455150741, "post_id": 35328649, "comment_id": 58365835, "body": "Thank you! Also, is there a way to format results without making counter and exponent? Im using Python 3"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "reply_to_user": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "edited": false, "score": 1, "creation_date": 1455150969, "post_id": 35328649, "comment_id": 58365907, "body": "What&#39;s next, &quot;can you do it blindfolded whilst juggling chainsaws?&quot;"}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": false, "score": 0, "last_activity_date": 1455150754, "last_edit_date": 1455150754, "creation_date": 1455150315, "answer_id": 35328649, "question_id": 35328150, "link": "https://stackoverflow.com/questions/35328150/file-parsing-using-commas-python/35328649#35328649", "title": "File parsing using commas Python", "body": "<p>Okay, challenge accepted...</p>\n\n<pre><code>counter = dict()\n\nwith open('Products.txt') as f:\n    f.next()\n    for line in f:\n        line = line.strip().split(',')\n        product, sales = line[0], int(line[3])\n        if product in counter:\n            counter[product] += sales\n        else:\n            counter[product] = sales\n\n    counter['Total'] = sum(counter.values())\n\n\nresults = \"\"\"\nTotal sales for Vegetables in 2015 : {Condiments:d}\nTotal sales for Fruits in 2015 : {Fruits:d}\nTotal sales for Condiments in 2015 : {Vegetables:d}\nTotal sales for the farmer in 2015: {Total:d}\n\"\"\".format(**counter)\n\n\nwith open('report.txt', 'w') as f:\n    f.write(results)\n\nprint \"Total sales for the farmer in 2015: {Total:d}\".format(**counter)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 1690474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y8BLL.jpg?s=128&g=1", "display_name": "Olufon", "link": "https://stackoverflow.com/users/1690474/olufon"}, "is_accepted": false, "score": 0, "last_activity_date": 1455155776, "creation_date": 1455155776, "answer_id": 35329465, "question_id": 35328150, "link": "https://stackoverflow.com/questions/35328150/file-parsing-using-commas-python/35329465#35329465", "title": "File parsing using commas Python", "body": "<pre><code>import re\nimport string\nfile = open('products.txt', 'r')\nf = open('report.txt', 'a')\nfile= file.read()\nfile= file.replace(',', ' ')\nfile=file[file.find('\\n')+1:file.rfind('\\n')]\ns = 0\nsentences = file.splitlines()\npattern = re.compile(r\"(^\\s?\\w+\\b|(\\b\\w+)[\\.?!\\s]*$)\")\nfor line in sentences:\n    words = line.split()\n    first = words[0].lower()\n    last = words[-1].translate(None, string.punctuation).lower()\n    print &gt;&gt;f, \"Total sales for \"+first+\" in 2015: \"+last\n    s+= int(last)\nprint &gt;&gt;f, \"_______________________________________________\\nTotal sales for the farmer in 2015: \"+str(s)\nf.close()\nprint \"Total sales for the farmer in 2015: \"+str(s)\n</code></pre>\n\n<p>Open the file, and store as string, pick out first and last word on each line using regex, concatenate with custom text, redirect output to file. Print last line again.</p>\n"}], "owner": {"reputation": 57, "user_id": 5900862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/5D9SU.jpg?s=128&g=1", "display_name": "Jake Meyer", "link": "https://stackoverflow.com/users/5900862/jake-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1455155776, "creation_date": 1455147640, "question_id": 35328150, "link": "https://stackoverflow.com/questions/35328150/file-parsing-using-commas-python", "title": "File parsing using commas Python", "body": "<p>I am trying to write a program in python in which we have to add the numbers from different categories and sub-categories. The program is about a farmer's annual sale of produce from his farm. The text file from where we have to read from has 4 categories. The first category is the type of product for example Vegetables, Fruits, condiments. The second category tells us about the type of product we have, for example Potatoes, Apples, Hot Sauce. The third category tells us about the sales in 2014 and the fourth category tells us about the sales in 2015. In this program, we only have to calculate the totals from the 2015 numbers. The 2014 numbers are present in the text file but are irrelevant. </p>\n\n<p>Here is how the text file looks like</p>\n\n<pre><code>PRODUCT,CATEGORY,2014 Sales,2015 Sales\nVegetables,Potatoes,4455,5644\nVegetables,Tomatoes,5544,6547\nVegetables,Peas,987,1236\nVegetables,Carrots,7877,8766\nVegetables,Broccoli,5564,3498\nFruits,Apples,398,4233\nFruits,Grapes,1099,1234\nFruits,Pear,2342,3219\nFruits,Bananas,998,1235\nFruits,Peaches,1678,1875\nCondiments,Peanut Butter,3500,3902\nCondiments,Hot Sauce,1234,1560\nCondiments,Jelly,346,544\nCondiments,Spread,2334,5644\nCondiments,Ketchup,3321,3655\nCondiments,Olive Oil,3211,2344\n</code></pre>\n\n<p>What we are looking to do is to add the sales for 2015 by products and then the total sales for everything in 2015.</p>\n\n<p>The output should look something like this in the written text file:</p>\n\n<blockquote>\n  <p>Total sales for Vegetables in 2015 : {Insert total number here}</p>\n  \n  <p>Total sales for Fruits in 2015 : {Insert total number here}</p>\n  \n  <p>Total sales for Condiments in 2015 : {Insert total number here}</p>\n  \n  <hr>\n  \n  <p>Total sales for the farmer in 2015: {Insert total for all the\n  products sold in 2015}</p>\n</blockquote>\n\n<p>Along with that, it should also print the grand total on the Python run screen in the IDE along with the text file:</p>\n\n<blockquote>\n  <p>Total sales for the farmer in 2015: {Insert total for all the\n  products sold in 2015}</p>\n</blockquote>\n\n<p>Here is my code. It works but prints a weird first line in the output. Also, I would rather not use lists. Is there any other way? Please no CSV as we are directed to use the data as a text file. </p>\n\n<pre><code>readFile = open(\"Products.txt\", \"r\")\nreportfile = open(\"report.txt\", \"w\")\nline = readFile.readline()\n\ntotalSum = 0\ncontainer = []\nproduct = ()\nsum=0\nfor line in readFile:\n    line=line.strip()\n    line=line.split(\",\")\n\n    if line[0] not in container:\n        print(product,sum, file=reportfile)\n\n        product = line[0]\n        totalSum += int(line[3])\n        sum = 0\n        sum += int(line[3])\n        container.append(product)\n    elif product == line[0]:\n        totalSum += int(line[3])\n        sum += int(line[3])\n\nprint(totalSum, file=reportfile)\n</code></pre>\n"}, {"tags": ["python", "multithreading", "numpy"], "comments": [{"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455147509, "post_id": 35328085, "comment_id": 58364794, "body": "Sure, but the CPU will still be the bottleneck.  Adding more chefs to a kitchen doesn&#39;t speed up the food preparation."}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "reply_to_user": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455151573, "post_id": 35328085, "comment_id": 58366082, "body": "@BrentWashburne Why wouldn&#39;t it help reducing the loading time?"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455151849, "post_id": 35328085, "comment_id": 58366170, "body": "Your code is trying to update two arrays from multiple threads.  How would this happen?  Each thread would be blocked while one thread updates the array, and then the next one would write to the array, and so on.  That is, only one thread would be active because of the shared lock.  Let me ask the same question: why do you think multiple threads would reduce loading time?"}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "reply_to_user": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455153692, "post_id": 35328085, "comment_id": 58366722, "body": "@BrentWashburne I think multiple threads would reduce loading time because the bottleneck is loading npz files, not appending."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455153851, "post_id": 35328085, "comment_id": 58366759, "body": "To continue the kitchen analogy, each chef can prepare food independently, but they need to share the oven.  That is, each thread can read a file independently, but they need to share the arrays.  That&#39;s the bottleneck.  How would those threads append to the arrays simultaneously?"}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "reply_to_user": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455153951, "post_id": 35328085, "comment_id": 58366783, "body": "@BrentWashburne Maybe using different parts of the oven?"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455162095, "post_id": 35328085, "comment_id": 58368885, "body": "If you can do that with a CPU, there are some very big software companies that would like to know how you did it.  :-)  I&#39;ll leave the discussion now."}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455176335, "post_id": 35328085, "comment_id": 58374341, "body": "@BrentWashburne, I don&#39;t think your analogy is good here. If you have CPU bound code and there is a way to parallelize, then you should always be able to make things faster. If you can get faster in the language you are trying to use is a completely different story. In general: More chefs always speed up the food preparation, unless either only one of them can work at a time or they are tripping over their own feet :)"}, {"owner": {"reputation": 1285, "user_id": 1313312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49885129f7cde7012f25e54a7380c3ff?s=128&d=identicon&r=PG", "display_name": "pwuertz", "link": "https://stackoverflow.com/users/1313312/pwuertz"}, "edited": false, "score": 0, "creation_date": 1601242954, "post_id": 35328085, "comment_id": 113338547, "body": "When loading compressed NPZ the loading procedure is most likely CPU-bound. On my system, the decompression implementation only utilizes a single CPU. Thus, we should see a significant improvement by distributing <code>np.load</code> calls across multiple threads (unless the implementation is holding on to the GIL). And indeed, I&#39;m seeing a 3.3x speedup by scheduling multiple loads to a thread pool of 4 (4 core CPU, not counting hyper cores)."}], "answers": [{"comments": [{"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1455203426, "post_id": 35333176, "comment_id": 58393010, "body": "Yes, if the process is IO bound then multiprocessing will improve things.  (Minor detail, OP inquired about multithreading.)  But the OP said the process was CPU bound, so the overhead of managing multiple processes could actually hurt performance."}], "tags": [], "owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "is_accepted": true, "score": 3, "last_activity_date": 1455588167, "last_edit_date": 1455588167, "creation_date": 1455175629, "answer_id": 35333176, "question_id": 35328085, "link": "https://stackoverflow.com/questions/35328085/loading-several-npz-files-in-a-multithreadedly/35333176#35333176", "title": "Loading several npz files in a multithreadedly", "body": "<p>I was surprised by the comments of @Brent Washburne and decided to try it out myself. I think the general problem is two-fold:</p>\n\n<p>Firstly, reading data is often IO bound, so writing multi-threaded code often does not yield high performance gains. Secondly, doing shared memory parallelization in python is inherently difficult due to the design of the language itself. There's much more overhead compared to native c.</p>\n\n<p>But let's see what we can do.</p>\n\n<pre><code># some imports\nimport numpy as np\nimport glob\nfrom multiprocessing import Pool\nimport os\n\n# creating some temporary data\ntmp_dir = os.path.join('tmp', 'nptest')\nif not os.path.exists(tmp_dir):\n    os.makedirs(tmp_dir)\n    for i in range(100):\n        x = np.random.rand(10000, 50)\n        file_path = os.path.join(tmp_dir, '%05d.npz' % i)\n        np.savez_compressed(file_path, x=x)\n\ndef read_x(path):\n    with np.load(path) as data:\n        return data[\"x\"]\n\ndef serial_read(files):\n    x_list = list(map(read_x, files))\n    return x_list\n\ndef parallel_read(files):\n    with Pool() as pool:\n        x_list = pool.map(read_x, files)\n    return x_list\n</code></pre>\n\n<p>Okay, enough stuff prepared. Let's get the timings.</p>\n\n<pre><code>files = glob.glob(os.path.join(tmp_dir, '*.npz'))\n\n%timeit x_serial = serial_read(files)\n# 1 loops, best of 3: 7.04 s per loop\n\n%timeit x_parallel = parallel_read(files)\n# 1 loops, best of 3: 3.56 s per loop\n\nnp.allclose(x_serial, x_parallel)\n# True\n</code></pre>\n\n<p>It actually looks like a decent speedup. I am using two real and two hyper-threading cores.</p>\n\n<hr>\n\n<p>To run and time everything at once, you can execute this script:</p>\n\n<pre><code>from __future__ import print_function\nfrom __future__ import division\n\n# some imports\nimport numpy as np\nimport glob\nimport sys\nimport multiprocessing\nimport os\nimport timeit\n\n# creating some temporary data\ntmp_dir = os.path.join('tmp', 'nptest')\nif not os.path.exists(tmp_dir):\n    os.makedirs(tmp_dir)\n    for i in range(100):\n        x = np.random.rand(10000, 50)\n        file_path = os.path.join(tmp_dir, '%05d.npz' % i)\n        np.savez_compressed(file_path, x=x)\n\ndef read_x(path):\n    data = dict(np.load(path))\n    return data['x']\n\ndef serial_read(files):\n    x_list = list(map(read_x, files))\n    return x_list\n\ndef parallel_read(files):\n    pool = multiprocessing.Pool(processes=4)\n    x_list = pool.map(read_x, files)\n    return x_list\n\n\nfiles = glob.glob(os.path.join(tmp_dir, '*.npz'))\n#files = files[0:5] # to test on a subset of the npz files\n\n# Timing:\ntimeit_runs = 5\n\ntimer = timeit.Timer(lambda: serial_read(files))\nprint('serial_read: {0:.4f} seconds averaged over {1} runs'\n      .format(timer.timeit(number=timeit_runs) / timeit_runs,\n      timeit_runs))\n# 1 loops, best of 3: 7.04 s per loop\n\ntimer = timeit.Timer(lambda: parallel_read(files))\nprint('parallel_read: {0:.4f} seconds averaged over {1} runs'\n      .format(timer.timeit(number=timeit_runs) / timeit_runs,\n      timeit_runs))\n# 1 loops, best of 3: 3.56 s per loop\n\n# Examples of use:\nx = serial_read(files)\nprint('len(x): {0}'.format(len(x))) # len(x): 100\nprint('len(x[0]): {0}'.format(len(x[0]))) # len(x[0]): 10000\nprint('len(x[0][0]): {0}'.format(len(x[0][0]))) # len(x[0]): 10000\nprint('x[0][0]: {0}'.format(x[0][0])) # len(x[0]): 10000\nprint('x[0].nbytes: {0} MB'.format(x[0].nbytes / 1e6)) # 4.0 MB\n</code></pre>\n"}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 0, "accepted_answer_id": 35333176, "answer_count": 1, "score": 1, "last_activity_date": 1455588167, "creation_date": 1455147221, "question_id": 35328085, "link": "https://stackoverflow.com/questions/35328085/loading-several-npz-files-in-a-multithreadedly", "title": "Loading several npz files in a multithreadedly", "body": "<p>I have several <code>.npz</code> files. All <code>.npz</code> file the same structures: each of them just contain two variables, always with the same variable names. As of now, I simply loop over all <code>.npz</code> files, retrieve the two variable values and append them into some global variable:</p>\n\n<pre><code># Let's assume there are 100 npz files\nx_train = []\ny_train = []\nfor npz_file_number in range(100):\n    data = dict(np.load('{0:04d}.npz'.format(npz_file_number)))\n    x_train.append(data['x'])\n    y_train.append(data['y'])\n</code></pre>\n\n<p>It takes a while, and the bottleneck is the CPU. The order in which <code>x</code> and <code>y</code> variables are appended to the <code>x_train</code> and <code>y_train</code> variables does not matter. </p>\n\n<p>Is there any way to load several <code>.npz</code> files in a multithreadedly?</p>\n"}, {"tags": ["python", "ftp", "ftplib"], "comments": [{"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1455176325, "post_id": 35328077, "comment_id": 58374334, "body": "<code>226 0</code> and <code>226 1</code> check host answer before closing ftp connection."}, {"owner": {"reputation": 17, "user_id": 4815127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bef6453d0467d109c71d29dabe276905?s=128&d=identicon&r=PG&f=1", "display_name": "Grz3siu", "link": "https://stackoverflow.com/users/4815127/grz3siu"}, "reply_to_user": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1455199701, "post_id": 35328077, "comment_id": 58390207, "body": "Successfully connection to ftp"}], "owner": {"reputation": 17, "user_id": 4815127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bef6453d0467d109c71d29dabe276905?s=128&d=identicon&r=PG&f=1", "display_name": "Grz3siu", "link": "https://stackoverflow.com/users/4815127/grz3siu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455147142, "creation_date": 1455147142, "question_id": 35328077, "link": "https://stackoverflow.com/questions/35328077/python-error-with-upload-file-ftp-226", "title": "python error with upload file ftp 226", "body": "<p>When i'm try a upload file with my script in python, app reslut a bad \"226 0 matches total\"</p>\n\n<p>Sometimes app upload sometimes not</p>\n\n<pre><code>ftp = ftplib.FTP()\nftp.connect(ftp_host)\nftp.login(ftp_user, ftp_password)\nftp.cwd(\"./\")\nprint \"Sciezka\", ftp.pwd()\nprint \"Wgrywam\"\nfullname = newfile\nname = os.path.split(fullname)[1]\nf = open(fullname, \"rb\")\nftp.storbinary(\"STOR \" + name, f)\nf.close()\nprint \"OK\"\nprint \"Files:\"\nprint ftp.retrlines(\"LIST\")\nftp.quit() \n</code></pre>\n"}, {"tags": ["python", "tkinter", "coordinates", "tk"], "answers": [{"tags": [], "owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1455147616, "creation_date": 1455147616, "answer_id": 35328147, "question_id": 35328027, "link": "https://stackoverflow.com/questions/35328027/python-why-does-different-tk-labels-appear-as-same-coordinate-and-as-different-o/35328147#35328147", "title": "Python-Why does different Tk labels appear as same coordinate and as different objects?", "body": "<p>Use <code>self.x</code> and <code>self.y</code> in <code>location()</code> instead of <code>x</code> and <code>y</code>. I will spare you an explanation because I guess you just overlooked it.</p>\n"}], "owner": {"reputation": 53, "user_id": 5911033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c18fefce0ef354370aa1ac3b12c6d73?s=128&d=identicon&r=PG&f=1", "display_name": "xiaojin", "link": "https://stackoverflow.com/users/5911033/xiaojin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 35328147, "answer_count": 1, "score": 3, "last_activity_date": 1455147616, "creation_date": 1455146851, "question_id": 35328027, "link": "https://stackoverflow.com/questions/35328027/python-why-does-different-tk-labels-appear-as-same-coordinate-and-as-different-o", "title": "Python-Why does different Tk labels appear as same coordinate and as different objects?", "body": "<p>I tried to create some <code>Label</code> subclass in Python to tell you its x and y coordinates. However, when I queried <em>any</em> label, it would always return <code>(1,1)</code>, even though the Tk objects are different. For example, I clicked the <code>(2,2)</code> and <code>(4,5)</code> labels, the output:</p>\n\n<pre><code>Python 3.5.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:38:48) [MSC v.1900 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n&gt;&gt;&gt; \n============================== RESTART: C:/program.py==============================\n(1, 1)\n.53825904\n\n(1, 1)\n.53826736\n\n&gt;&gt;&gt;  \n</code></pre>\n\n<p>X and Y are the same, even though objects are different! (OK, I might have clicked a different coordinate, but what's to care is that the labels are <em>not on the same coordinate</em>)</p>\n\n<p>Here is the faulty code:</p>\n\n<pre><code>try:\n    from tkinter import * # Py3\nexcept ImportError:\n    from Tkinter import * # Py2\n\nclass _MyLabel(Label):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.x = None\n        self.y = None\n    def grid(self, x, y):\n        self.x = x\n        self.y = y\n        super().grid(row=y, column=x)\n    def location(self):\n        return (7 - x + 1, 7 - y + 1)\n\ndef gen():\n    pass\n\ndef check(event):\n    print(event.widget.location())\n    print(event.widget)\n    print()\n\nroot = Tk()\nsqs = [[_MyLabel(root, height=1, width=2, relief=SUNKEN, bg='white') for i in range(8)] for i in range(8)]\nseq = []\nfor x in range(8):\n    for y in range(8):\n        sqs[y][x].grid(x, y)\n        sqs[y][x].bind('&lt;Button-1&gt;', check)\n\n\nmainloop()\n</code></pre>\n\n<p>What's wrong?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 889, "user_id": 4967576, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DMIbw.png?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/4967576/tony"}, "edited": false, "score": 0, "creation_date": 1455146796, "post_id": 35327970, "comment_id": 58364536, "body": "Please offer your code, and the tutorial has showed completed usage."}], "answers": [{"tags": [], "owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "is_accepted": true, "score": 1, "last_activity_date": 1455148827, "last_edit_date": 1455148827, "creation_date": 1455147566, "answer_id": 35328143, "question_id": 35327970, "link": "https://stackoverflow.com/questions/35327970/can-i-validate-the-content-of-a-string-in-my-json-schema-in-python/35328143#35328143", "title": "Can I validate the content of a string in my JSON schema in Python", "body": "<p>Take a look at this <a href=\"http://json-schema.org/example2.html\" rel=\"nofollow\">example schema</a>.</p>\n\n<p>Use <code>enum</code> to restrict a value to a fixed set of values:</p>\n\n<pre><code>\"label\": {\n    \"type\": \"string\",\n    \"enum\": [\"value1\", \"value2\", \"value3\", \"value4\"]\n}\n</code></pre>\n\n<p>It is also possible to define a regex pattern:</p>\n\n<pre><code>\"label\": {\n    \"type\": \"string\",\n    \"pattern\": \"^value1|value2|value3|value4$\"\n}\n</code></pre>\n"}], "owner": {"reputation": 2993, "user_id": 1240896, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d45fcc2cc89b704f11a8fc4bdc87fa95?s=128&d=identicon&r=PG", "display_name": "Eric Baldwin", "link": "https://stackoverflow.com/users/1240896/eric-baldwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 35328143, "answer_count": 1, "score": 1, "last_activity_date": 1455155133, "creation_date": 1455146533, "last_edit_date": 1455155133, "question_id": 35327970, "link": "https://stackoverflow.com/questions/35327970/can-i-validate-the-content-of-a-string-in-my-json-schema-in-python", "title": "Can I validate the content of a string in my JSON schema in Python", "body": "<p>I want to specify that a string can only be one of four values.  How can I do that using the <a href=\"https://pypi.python.org/pypi/jsonschema\" rel=\"nofollow\">jsonschema</a> library?</p>\n\n<p>Sample code:</p>\n\n<pre><code>\"value_params\": {\n    \"required\": [\"positions\", \"userId\"],\n    \"properties\": {\n        \"userId\": {\"type\": \"integer\"},\n        \"positions\": {\n            \"type\": \"array\",\n            \"minItems\": 1,\n            \"items\": {\n                \"type\": \"object\",\n                \"required\": [\"partnerUserId\", \"userType\"],\n                \"properties\": {\n                    \"partnerUserId\": {\"type\": \"integer\"},\n                    \"userType\": {\"type\": \"string\"}\n                },\n                \"additionalProperties\": False\n            }\n        }\n    },\n    \"additionalProperties\": False\n},\n</code></pre>\n\n<p>The above works fine.  What would I need to add to require <code>userType</code> be one of only 4 values?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "edited": false, "score": 0, "creation_date": 1455152813, "post_id": 35327960, "comment_id": 58366475, "body": "Yes, that is JSON. You can test it by opening the dev tools in your browser (ctrl+shift+j in chrome) and typing <code>JSON.parse(&#39;...&#39;)</code> in the console."}], "answers": [{"tags": [], "owner": {"reputation": 1912, "user_id": 2599567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zLvLW.jpg?s=128&g=1", "display_name": "gollum", "link": "https://stackoverflow.com/users/2599567/gollum"}, "is_accepted": false, "score": 0, "last_activity_date": 1455147738, "last_edit_date": 1455147738, "creation_date": 1455146920, "answer_id": 35328037, "question_id": 35327960, "link": "https://stackoverflow.com/questions/35327960/valid-json-using-python/35328037#35328037", "title": "Valid JSON using Python", "body": "<p>Simple test via <a href=\"https://docs.python.org/3/library/json.html#json.loads\" rel=\"nofollow\">json.loads()</a>:</p>\n\n<pre><code>import json\n\nj = json.loads('{\"Age\": \"2\", \"Sex\": \"male\"}')\nprint j\n</code></pre>\n\n<p>or alternatively test it by loading it directly from the saved file using <a href=\"https://docs.python.org/3/library/json.html#json.load\" rel=\"nofollow\">json.load()</a>:</p>\n\n<pre><code>import json\n\nwith open('file1.json', 'r') as f:\n    j = json.load(f)\n    print j\n</code></pre>\n\n<p>... seems to be valid.</p>\n"}], "owner": {"reputation": 179, "user_id": 5892251, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c085a9eb42a094735777606305d37df?s=128&d=identicon&r=PG&f=1", "display_name": "Judi", "link": "https://stackoverflow.com/users/5892251/judi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455156636, "creation_date": 1455146441, "last_edit_date": 1455148647, "question_id": 35327960, "link": "https://stackoverflow.com/questions/35327960/valid-json-using-python", "title": "Valid JSON using Python", "body": "<p>Is this a valid JSON object?</p>\n\n<pre><code>{\"Age\": \"2\", \"Name\": \"Rice, Master. Eugene\", \"Parch\": \"1\", \"Pclass\": \"3\", \"Ticket\": \"382652\", \"PassengerId\": \"17\", \"SibSp\": \"4\", \"Embarked\": \"Q\", \"Fare\": \"29.125\", \"Survived\": \"0\", \"Cabin\": \"\", \"Sex\": \"male\"}\n</code></pre>\n\n<p>Do I need an EOF?</p>\n\n<p>I have used the following to create the file:</p>\n\n<pre><code>import json\nimport sys\nfieldnames=[\"PassengerId\",\"Survived\",\"Pclass\",\"Name\",\"Sex\",\"Age\",\"SibSp\",\"Parch\",\"Ticket\",\"Fare\",\"Cabin\",\"Embarked\"]\ncsvfile=open('t1.csv','r')\njsonfile = open('file1.json', 'w')\nreader = csv.DictReader( csvfile, fieldnames)\nfor row in reader:\n#       if reader.line_num ==1:\n                #continue # Skip the first line\n        json.dump(row, jsonfile)\n        jsonfile.write('\\n')\nprint(\"Total No of Lines Wriiten : \"+ str(reader.line_num))\n</code></pre>\n"}, {"tags": ["python", "maya-api"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 2, "creation_date": 1455146450, "post_id": 35327928, "comment_id": 58364394, "body": "can&#39;t anyway. strings are immutables"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1455146529, "post_id": 35327928, "comment_id": 58364424, "body": "What kind of objects are these <code>object</code>s?"}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1455146654, "post_id": 35327928, "comment_id": 58364480, "body": "<a href=\"http://download.autodesk.com/us/maya/2011help/CommandsPython/ls.html\" rel=\"nofollow noreferrer\">The objects are strings</a>"}, {"owner": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "edited": false, "score": 0, "creation_date": 1455146801, "post_id": 35327928, "comment_id": 58364538, "body": "Thanks. Okay. Because I have objects name pCube1... and i want to change to upperCase."}, {"owner": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "edited": false, "score": 0, "creation_date": 1455205297, "post_id": 35327928, "comment_id": 58394454, "body": "I&#39;m highly appreciated with the answer. Many Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "edited": false, "score": 0, "creation_date": 1455147026, "post_id": 35328000, "comment_id": 58364618, "body": "Thanks. For Example i have different objects selected and i want to change the name of the objects to upperCase."}], "tags": [], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "is_accepted": false, "score": 0, "last_activity_date": 1455146698, "creation_date": 1455146698, "answer_id": 35328000, "question_id": 35327928, "link": "https://stackoverflow.com/questions/35327928/using-maya-python-api-how-do-i-change-selected-object-name-into-upper-case/35328000#35328000", "title": "Using maya python api - how do I change selected object name into upper case?", "body": "<p>The proper way to \u201cmutate\u201d a string is to use slicing and concatenation\nto build a new string by copying from parts of the old string.</p>\n"}, {"comments": [{"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "reply_to_user": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "edited": false, "score": 0, "creation_date": 1455147426, "post_id": 35328073, "comment_id": 58364758, "body": "@epadilla great - please don&#39;t forget to hit the tick mark :)"}], "tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": false, "score": 2, "last_activity_date": 1455147114, "creation_date": 1455147114, "answer_id": 35328073, "question_id": 35327928, "link": "https://stackoverflow.com/questions/35327928/using-maya-python-api-how-do-i-change-selected-object-name-into-upper-case/35328073#35328073", "title": "Using maya python api - how do I change selected object name into upper case?", "body": "<p>What you want is</p>\n\n<pre><code>import maya.cmds as cmds\n\nlist = cmds.ls(sl=True)\nfor n in list:\n    cmds.rename(n, n.upper())\n\nnew_list = cmds.ls(sl=True)\nprint(new_list)\n</code></pre>\n\n<p>This is <a href=\"http://download.autodesk.com/us/maya/2011help/CommandsPython/\" rel=\"nofollow\">documented here</a> with an example.</p>\n\n<p>This code will rename all objects in <code>list</code> you can also work with whichever you have selected with <code>cmds.select()</code> if you want to.</p>\n"}, {"comments": [{"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 1, "creation_date": 1455147351, "post_id": 35328089, "comment_id": 58364731, "body": "Whilst I appreciate the ingenuity - I don&#39;t think that&#39;s what the OP is after (changing the actual variable name).  I think they&#39;re talking about object names within <code>maya</code>.  Could be wrong, of course."}, {"owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "reply_to_user": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1455147515, "post_id": 35328089, "comment_id": 58364796, "body": "I was basing this off of the &quot;It doesn&#39;t change the name of the objects only the results&quot; which, I assume (albeit certainly don&#39;t know), is referring to the NAME of the object. Of course, you could very well be right. OP is fairly vague."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1455147654, "post_id": 35328089, "comment_id": 58364847, "body": "Yeah - based on OP comment on my answer, I&#39;ve edited the Q to be more specific.  TBH - I&#39;m impressed with your trick to rename the actual object name!"}, {"owner": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "edited": false, "score": 0, "creation_date": 1455147697, "post_id": 35328089, "comment_id": 58364869, "body": "Great. I&#39;ll try this. Many Thanks!"}, {"owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "reply_to_user": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1455147790, "post_id": 35328089, "comment_id": 58364890, "body": "@JRichardSnape I hope this isn&#39;t condescending, but it just creates a new reference to the original object and deletes that original one. It is a neat trick though."}], "tags": [], "owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "is_accepted": false, "score": 0, "last_activity_date": 1455147240, "creation_date": 1455147240, "answer_id": 35328089, "question_id": 35327928, "link": "https://stackoverflow.com/questions/35327928/using-maya-python-api-how-do-i-change-selected-object-name-into-upper-case/35328089#35328089", "title": "Using maya python api - how do I change selected object name into upper case?", "body": "<p>It's quite hackish, and I honestly wouldn't recommend it, but if you REALLY want to do that, you could do:</p>\n\n<pre><code>def global_var_to_upper(var):\n    for _ in globals():\n        if var is globals()[_]:\n            globals()[str(_).upper()] = globals()[_]\n            del globals()[_]\n            break\n\nabc = 123\nglobal_var_to_upper(abc)\nprint(ABC) # prints 123\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5911019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3854bbbae649dc62c45c92f396c0e046?s=128&d=identicon&r=PG&f=1", "display_name": "epadilla", "link": "https://stackoverflow.com/users/5911019/epadilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1455147484, "creation_date": 1455146302, "last_edit_date": 1455147484, "question_id": 35327928, "link": "https://stackoverflow.com/questions/35327928/using-maya-python-api-how-do-i-change-selected-object-name-into-upper-case", "title": "Using maya python api - how do I change selected object name into upper case?", "body": "<p>I have the following code:</p>\n\n<pre><code>import maya.cmds as cmds\n\nlist = cmds.ls(sl=True)\n\nmy_list = [object.upper() for object in list]\n\nprint(my_list)\n</code></pre>\n\n<p>However, it doesn't change the name of the objects even though it prints out upper case names in the print statement at the end.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1455146155, "post_id": 35327845, "comment_id": 58364252, "body": "Are there line breaks in your input text file?"}, {"owner": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "reply_to_user": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1455146354, "post_id": 35327845, "comment_id": 58364349, "body": "yes, just updated my sample file as above"}], "answers": [{"tags": [], "owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "is_accepted": false, "score": 0, "last_activity_date": 1455146281, "creation_date": 1455146281, "answer_id": 35327923, "question_id": 35327845, "link": "https://stackoverflow.com/questions/35327845/creating-a-list-from-formated-multiple-lines-output-of-a-file/35327923#35327923", "title": "Creating a list from formated multiple lines output of a file", "body": "<pre><code>with open(filename1, 'r') as file1:\n    lines = [' '.join(line.split(\" \")[1:]).rstrip() for line in file1]\n</code></pre>\n\n<p>Assuming you can gurantee the file format, that would be fine. This assumes that anything preceeding the first space is unused. If you want to split it by the colon (i.e. <code>1234:testing 123</code> without a space), then you can do something like:</p>\n\n<pre><code>with open(filename1, 'r') as file1:\n    lines = [':'.join(line.split(\":\")[1:]).strip() for line in file1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "edited": false, "score": 0, "creation_date": 1455151800, "post_id": 35327938, "comment_id": 58366150, "body": "In case my answer solves your question better than others&#39;, please mark it as accepted. Thank you"}], "tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1455146340, "creation_date": 1455146340, "answer_id": 35327938, "question_id": 35327845, "link": "https://stackoverflow.com/questions/35327845/creating-a-list-from-formated-multiple-lines-output-of-a-file/35327938#35327938", "title": "Creating a list from formated multiple lines output of a file", "body": "<p>this should help you out</p>\n\n<pre><code>&gt;&gt;&gt; with open(filename) as f:\n...  lst = [line.rstrip('\\n').split(': ')[1] for line in f]\n... \n&gt;&gt;&gt; lst\n['apple is fruit', 'grapes is also fruit']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "edited": false, "score": 0, "creation_date": 1455148318, "post_id": 35328041, "comment_id": 58365054, "body": "Thanks, this gives me the output with \\n added into each element"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "reply_to_user": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "edited": false, "score": 0, "creation_date": 1455148378, "post_id": 35328041, "comment_id": 58365076, "body": "Okay, you can use <code>.strip()</code> to get rid of that.. see updated answer"}, {"owner": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "edited": false, "score": 1, "creation_date": 1455148692, "post_id": 35328041, "comment_id": 58365171, "body": "Perfect! Thank you very much!"}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": false, "score": 0, "last_activity_date": 1455148413, "last_edit_date": 1455148413, "creation_date": 1455146932, "answer_id": 35328041, "question_id": 35327845, "link": "https://stackoverflow.com/questions/35327845/creating-a-list-from-formated-multiple-lines-output-of-a-file/35328041#35328041", "title": "Creating a list from formated multiple lines output of a file", "body": "<p>Maybe move the <code>strings2</code> initialization outside your for-loop and use append? For instance:</p>\n\n<pre><code>with open(filename1, 'r') as file1:\n    strings2 = []\n    for line in file1:\n        strings1 = line.rsplit(': ', 1)[1].strip()\n        print \"Text 1 output is: {}\".format(strings1)\n        strings2.append(strings1)\n\nprint strings2\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5911015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822a7f09a252e875c7ccf78e43abd58f?s=128&d=identicon&r=PG&f=1", "display_name": "user5911015", "link": "https://stackoverflow.com/users/5911015/user5911015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1455148413, "creation_date": 1455145921, "last_edit_date": 1455146326, "question_id": 35327845, "link": "https://stackoverflow.com/questions/35327845/creating-a-list-from-formated-multiple-lines-output-of-a-file", "title": "Creating a list from formated multiple lines output of a file", "body": "<p>I am trying to work on a TEXT file where I am reading a file and trying to create a list from multiple lines. </p>\n\n<pre><code>with open(filename1, 'r') as file1:\n        for line in file1:\n            strings2 = []\n            strings1 = line.rsplit(': ', 1)[1]\n            print (\"Text 1 output is: {}\".format(strings1))\n            strings2 = strings1.split(',')\n    print (\"output-1 is:{}\".format(strings3))\n</code></pre>\n\n<p>File.TXT:</p>\n\n<pre><code>12345: apple is fruit\n34354: grapes is also fruit\n</code></pre>\n\n<p>Expected OUTPUT:</p>\n\n<pre><code>[apple is fruit, grapes is also fruit]\n</code></pre>\n\n<p>Actual OUTPUT:</p>\n\n<pre><code>[grapes is also fruit]\n</code></pre>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 0, "creation_date": 1455146016, "post_id": 35327798, "comment_id": 58364191, "body": "raw_input takes a string, input() takes a number"}, {"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "edited": false, "score": 0, "creation_date": 1455146219, "post_id": 35327798, "comment_id": 58364279, "body": "That is not true; in Python 2.x <code>input()</code> is equivalent to <code>eval(raw_input())</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "is_accepted": false, "score": 2, "last_activity_date": 1455145807, "creation_date": 1455145807, "answer_id": 35327823, "question_id": 35327798, "link": "https://stackoverflow.com/questions/35327798/my-if-statement-wont-work/35327823#35327823", "title": "My &#39;if statement&#39; won&#39;t work", "body": "<p>You have to convert the input to an integer with <a href=\"https://docs.python.org/2/library/functions.html#int\" rel=\"nofollow\"><code>int()</code></a>:</p>\n\n<pre><code>operation = int(raw_input('Choose an operation: '))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1455145881, "creation_date": 1455145881, "answer_id": 35327837, "question_id": 35327798, "link": "https://stackoverflow.com/questions/35327798/my-if-statement-wont-work/35327837#35327837", "title": "My &#39;if statement&#39; won&#39;t work", "body": "<p>set your if statements to something like:</p>\n\n<pre><code>if int(operation) == 1\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if operation == str(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1912, "user_id": 2599567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zLvLW.jpg?s=128&g=1", "display_name": "gollum", "link": "https://stackoverflow.com/users/2599567/gollum"}, "is_accepted": false, "score": 0, "last_activity_date": 1455145892, "creation_date": 1455145892, "answer_id": 35327840, "question_id": 35327798, "link": "https://stackoverflow.com/questions/35327798/my-if-statement-wont-work/35327840#35327840", "title": "My &#39;if statement&#39; won&#39;t work", "body": "<p>You have to compare strings:</p>\n\n<p><code>if operation == \"1\":</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3348526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MfQZC.jpg?s=128&g=1", "display_name": "TheAdamGregg", "link": "https://stackoverflow.com/users/3348526/theadamgregg"}, "is_accepted": false, "score": 0, "last_activity_date": 1455146246, "creation_date": 1455146246, "answer_id": 35327914, "question_id": 35327798, "link": "https://stackoverflow.com/questions/35327798/my-if-statement-wont-work/35327914#35327914", "title": "My &#39;if statement&#39; won&#39;t work", "body": "<p>operation needs to be an int if you have it checking \nagainst a int for your if statements.</p>\n\n<pre><code>operation = raw_input('Choose an operation: ')\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>operation = int(raw_input('Choose an operation: '))\n</code></pre>\n\n<p>As a side note, make sure you proofread your code before asking. :)</p>\n"}], "owner": {"reputation": 11, "user_id": 5911011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9384f291caf347bf176554e8bfdbb0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Adamski1409", "link": "https://stackoverflow.com/users/5911011/adamski1409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1455148868, "answer_count": 4, "score": -2, "last_activity_date": 1455146246, "creation_date": 1455145710, "last_edit_date": 1455145753, "question_id": 35327798, "link": "https://stackoverflow.com/questions/35327798/my-if-statement-wont-work", "closed_reason": "Duplicate", "title": "My &#39;if statement&#39; won&#39;t work", "body": "<pre><code>def main():\n    while True:\n        operation = raw_input('Choose an operation: ')\n\n        if operation == 1:\n            number_1 = int(raw_input(\"What is the first number you want to subtract? \"))\n            number_2 = int(raw_input(\"What do you want to subtract from it? \"))\n            sum = number_1 - number_2\n            print('The answer is...')\n            print(sum)\n            break\n\n        if operation == 2:\n            number_1 = int(raw_input(\"What is the first number you want to subtract? \"))\n            number_2 = int(raw_input(\"What do you want to subtract from it? \"))\n            sum = number_1 - number_2\n            print('The answer is...')\n            print(sum)\n            break\n\n        if operation == 3:\n            number_1 = int(raw_input(\"What is the first number you want to subtract? \"))\n            number_2 = int(raw_input(\"What do you want to subtract from it? \"))\n            sum = number_1 - number_2\n            print('The answer is...')\n            print(sum)\n            break\n\n        if operation == 4:\n            number_1 = int(raw_input(\"What is the first number you want to subtract? \"))\n            number_2 = int(raw_input(\"What do you want to subtract from it? \"))\n            sum = number_1 - number_2\n            print('The answer is...')\n            print(sum)\n            break\n\n        else:\n            print('Invalid operation')\n            break\nmain()\n</code></pre>\n\n<p>When I try to input a number it doesn't recognise it and prints Invalid operation</p>\n"}, {"tags": ["python", "python-3.5"], "comments": [{"owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "edited": false, "score": 0, "creation_date": 1455145761, "post_id": 35327791, "comment_id": 58364080, "body": "Can we please see your factorial function"}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "reply_to_user": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "edited": false, "score": 0, "creation_date": 1455145812, "post_id": 35327791, "comment_id": 58364109, "body": "factorial function tested out correct so I don&#39;t think the problem is there"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 3, "creation_date": 1455145894, "post_id": 35327791, "comment_id": 58364141, "body": "I think the problem is with factorial 0"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1455145904, "post_id": 35327791, "comment_id": 58364145, "body": "Since it is actually going negative on n"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1455145917, "post_id": 35327791, "comment_id": 58364147, "body": "Your range function is going from 0 to n+1"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 1, "creation_date": 1455145975, "post_id": 35327791, "comment_id": 58364173, "body": "If you do a while n &gt;= 1, I think it might fix it? But you would be doing division with 0 when it reaches 0."}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1455146396, "post_id": 35327791, "comment_id": 58364369, "body": "yeah despite initial thoughts the factorial was the problem.  Fixed it as explained below.  Thanks for the help guys"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 1, "creation_date": 1455146524, "post_id": 35327791, "comment_id": 58364421, "body": "@JordanPagni You should vote up and mark the answer as fixed so those guys who helps you gets credit :)"}], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1455146293, "post_id": 35327901, "comment_id": 58364322, "body": "thanks i just figured that out and fixed it by putting a if n = 0 return 1 statement in the factorial function! :)"}], "tags": [], "owner": {"reputation": 986, "user_id": 1432310, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/46d1ee2a8b1c628383e40ff901897d59?s=128&d=identicon&r=PG", "display_name": "iddqd", "link": "https://stackoverflow.com/users/1432310/iddqd"}, "is_accepted": false, "score": 1, "last_activity_date": 1455146190, "creation_date": 1455146190, "answer_id": 35327901, "question_id": 35327791, "link": "https://stackoverflow.com/questions/35327791/code-wont-stop-running-seems-trivial-but-i-cannot-figure-it-out/35327901#35327901", "title": "Code won&#39;t stop running. Seems trivial but I cannot figure it out", "body": "<p>your first call to the factorial(i) function is called with i=0. factorial look is while(n!=0) ..... n=n-1.   You start of at 0 and keep lowering it by 1, so the loop never reaches 1 and stops. </p>\n"}, {"comments": [{"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1455146718, "post_id": 35327925, "comment_id": 58364507, "body": "thanks for your help! makes more sense looking back on it"}, {"owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "edited": false, "score": 0, "creation_date": 1455201177, "post_id": 35327925, "comment_id": 58391294, "body": "The factorial of zero is 1."}], "tags": [], "owner": {"reputation": 71, "user_id": 5904930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e86633bb5da5cf685b016e00999a0a0?s=128&d=identicon&r=PG&f=1", "display_name": "MaxGu", "link": "https://stackoverflow.com/users/5904930/maxgu"}, "is_accepted": true, "score": 1, "last_activity_date": 1455147611, "last_edit_date": 1455147611, "creation_date": 1455146288, "answer_id": 35327925, "question_id": 35327791, "link": "https://stackoverflow.com/questions/35327791/code-wont-stop-running-seems-trivial-but-i-cannot-figure-it-out/35327925#35327925", "title": "Code won&#39;t stop running. Seems trivial but I cannot figure it out", "body": "<p>In your function</p>\n\n<pre><code>def factorial(n):\n   \"\"\"Computes factorial of a number n\"\"\"\n   fac = n\n   while n != 1:\n       fac = fac * (n-1)\n       n -= 1\n   return fac\n</code></pre>\n\n<p>You can modify it like this</p>\n\n<pre><code>def factorial(n):\n    if n &lt; 0:\n        return \"some error info.\"\n    fac = 1\n    while n&gt;=1:\n        fac = fac * n\n        n -= 1\n    return fac\n</code></pre>\n\n<p>You should set your initial condition as fac=1 and set you terminate condition as n>=1 rather than n!=1. Think about what if I give a number -2?</p>\n"}], "owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 35327925, "answer_count": 2, "score": 2, "last_activity_date": 1455147611, "creation_date": 1455145689, "last_edit_date": 1455145772, "question_id": 35327791, "link": "https://stackoverflow.com/questions/35327791/code-wont-stop-running-seems-trivial-but-i-cannot-figure-it-out", "title": "Code won&#39;t stop running. Seems trivial but I cannot figure it out", "body": "<p>Here's my code for approximating exp(x).  I know there's probably a function for factorial but I wanted to make sure I could create one myself :)</p>\n\n<pre><code>def factorial(n):\n    \"\"\"Computes factorial of a number n\"\"\"\n    fac = n\n    while n != 1:\n        fac = fac * (n-1)\n        n -= 1\n    return fac\n\n\ndef exp_x_approx(x, n):\n    \"\"\"estimates exp(x) using a taylor series with n+1 terms\"\"\"\n    s = 0\n    for i in range(0, n+1):\n        s = s + ((x**i)/factorial(i))\n        print (s)\n    return s\n\nprint(exp_x_approx(2,8))\n</code></pre>\n\n<p>There's no error until I ^c to stop it from running, at which point it reads:</p>\n\n<pre><code>File \"/Users/JPagz95/Documents/exp_x_approx.py\", line 18, in &lt;module&gt;\n    print(exp_x_approx(2,8))\n  File \"/Users/JPagz95/Documents/exp_x_approx.py\", line 13, in exp_x_approx\n    s = s + ((x**i)/factorial(i))\n  File \"/Users/JPagz95/Documents/exp_x_approx.py\", line 5, in factorial\n    fac = fac * (n-1)\nKeyboardInterrupt\n</code></pre>\n\n<p>I believe it's endlessly looping but I cannot figure out why.  Any help would be appreciated!</p>\n"}, {"tags": ["python", "ftp", "ftplib"], "answers": [{"comments": [{"owner": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 0, "creation_date": 1455155459, "post_id": 35329329, "comment_id": 58367141, "body": "You are correct in your assumption. I wonder if I could try to rename the file as test."}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "reply_to_user": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 1, "creation_date": 1455155620, "post_id": 35329329, "comment_id": 58367171, "body": "Using rename as a check probably won&#39;t work on Unix FTP servers. Unlike Windows, Unix does not lock open files and renaming an open file won&#39;t interrupt the file transfer either."}, {"owner": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 0, "creation_date": 1455155727, "post_id": 35329329, "comment_id": 58367200, "body": "well it is a windows ftp server at the moment but in the future we want to move to a different platform.    Would trying to move the file mess up the transfer or would it prevent me from doing so?"}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "reply_to_user": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 1, "creation_date": 1455156064, "post_id": 35329329, "comment_id": 58367283, "body": "Probably neither, but it&#39;ll depend on the actual FTP server implementation. On Unix, typically open files are associated with file descriptors, <i>not names</i> and those file descriptors are pointers to an inode, so renaming a file only affects the containing directory, not the file itself. Thus you can rename a file which is being modified through calls to write, and those writes will simply appear in the final renamed file."}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "reply_to_user": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 1, "creation_date": 1455156320, "post_id": 35329329, "comment_id": 58367346, "body": "On windows, trying to rename a file that was open may give you a permission denied or similar error."}, {"owner": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 0, "creation_date": 1455156668, "post_id": 35329329, "comment_id": 58367433, "body": "You&#39;re right about the windows behavior. I already have a server side script to do this and it operates by repetedly trying to move the file until it succeeds.  The windows error looks like this:  &lt;type &#39;exceptions.WindowsError&#39;&gt; [Error 32] The process cannot access the file because it is being used by another process &lt;traceback object at 0x02148918&gt;  if possible through the ftp protocol it would be more portable for us because I&#39;d be able to monitor a FTP server that we do not administer.  I&#39;ll just continue to use the server side script and maybe use something else for the remote."}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "reply_to_user": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "edited": false, "score": 1, "creation_date": 1455156858, "post_id": 35329329, "comment_id": 58367494, "body": "FWIW, I strongly recommend relying on some external form of synchronization like an external checksum or file length. This will be portable and give you more robust behavior if you&#39;re trying to build a form of drop box system for files."}], "tags": [], "owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "is_accepted": false, "score": 1, "last_activity_date": 1455156255, "last_edit_date": 1455156255, "creation_date": 1455154858, "answer_id": 35329329, "question_id": 35327789, "link": "https://stackoverflow.com/questions/35327789/when-monitoring-a-ftp-server-with-ftplib-for-new-files-is-there-a-way-to-see-if/35329329#35329329", "title": "When monitoring a FTP server with ftplib for new files, is there a way to see if a new file is still being transferred?", "body": "<p>I'm assuming that you want to know if you can determine if a file is in the process of being transferred by a <em>different</em> FTP connection. In general, this is not possible because there is no FTP command to ask if there is a file transfer in progress.</p>\n\n<p>You could rely on a heuristic of polling the non-standard <code>SIZE</code> command via <a href=\"https://docs.python.org/2/library/ftplib.html#ftplib.FTP.size\" rel=\"nofollow\"><code>FTP.size</code></a> to see if the size of a file is growing over time and then assume that if it stays the same size for some duration that the file is not in progress.</p>\n\n<p>Note that this heuristic could potentially cause you to detect that a file is <em>not in progress</em> even though it still was in progress, thus you'll want to make sure that you're ok with potentially processing partially truncated files.</p>\n\n<p>Keep in mind that FTP connections are sometimes disconnected and resumed at a later point in time, thus if this happens, you may have to rely on a very large timescale to detect when a file is complete unless you know for sure how big the file is expected to be.</p>\n\n<p>If you have control over your clients, you could require your clients to place some other metafile next to your file uploads that tells you the expected sizes of the files you are monitoring, then you would know for certain when a file is done uploading by simply checking its file size. Similarly, you could use an MD5 or other external file validity check. Another approach could rely on the file itself being self describing and including an internal integrity check or file length. Many standard file formats include such a header.</p>\n"}], "owner": {"reputation": 2164, "user_id": 643920, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458af6629f0dfa1b474711872d0f8b90?s=128&d=identicon&r=PG", "display_name": "gnarbarian", "link": "https://stackoverflow.com/users/643920/gnarbarian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470257256, "creation_date": 1455145684, "last_edit_date": 1495542773, "question_id": 35327789, "link": "https://stackoverflow.com/questions/35327789/when-monitoring-a-ftp-server-with-ftplib-for-new-files-is-there-a-way-to-see-if", "title": "When monitoring a FTP server with ftplib for new files, is there a way to see if a new file is still being transferred?", "body": "<p>I'm planning on using ftplib to monitor a server for new files.  Is there a way to see if a new file is still being transferred? </p>\n\n<p>Here is a partial solution that finds new files:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12118011/monitor-remote-ftp-directory\">Monitor remote FTP directory</a> </p>\n\n<pre><code>from ftplib import FTP\nfrom time import sleep\n\nftp = FTP('localhost')\nftp.login()\n\ndef changemon(dir='./'):\n    ls_prev = set()\n\n    while True:\n        ls = set(ftp.nlst(dir))\n\n        add, rem = ls-ls_prev, ls_prev-ls\n        if add or rem: yield add, rem\n\n        ls_prev = ls\n        sleep(5)\n\nfor add, rem in changemon():\n    print('\\n'.join('+ %s' % i for i in add))\n    print('\\n'.join('- %s' % i for i in remove))\n\nftp.quit()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1455145754, "post_id": 35327744, "comment_id": 58364079, "body": "Do you have control over the file format? Because that format is kind of nasty. If you add a comma, ie <code>&quot;Anton v1&quot;,0</code>, and you can use the <code>csv</code> moduled to read/write it easily."}, {"owner": {"reputation": 11, "user_id": 3005195, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ae6a87b28e4ae554b4bee30bc90453e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3005195", "link": "https://stackoverflow.com/users/3005195/user3005195"}, "reply_to_user": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1455148246, "post_id": 35327744, "comment_id": 58365036, "body": "I have added a comma, how would I use the CSV method? :-) if studentclass == (&quot;3&quot;):     f2 = open(&quot;class3.txt&quot;, &quot;a&quot;)     f2.write( repr(q) + &quot;,&quot;+repr(score) + &#39;\\n&#39; )"}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1455763279, "post_id": 35327744, "comment_id": 58638788, "body": "If an answer helped you, you should select it as a solution."}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1455147990, "creation_date": 1455147990, "answer_id": 35328225, "question_id": 35327744, "link": "https://stackoverflow.com/questions/35327744/sorting-text-file-by-number-in-python/35328225#35328225", "title": "Sorting text file by number in python", "body": "<p>try this:</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport re\nimport operator\n\ndef to_number(s):\n    try:\n        return int(re.sub(r'^\\s*(\\d+)[^0-9].*$', r'\\1', s))\n    except ValueError:\n        return 10**10\n\ndata = []\n\nwith open('class1.txt', 'r') as r:\n    for line in r:\n        data.append((to_number(line), line))        \n\nfor x in sorted(data, key=operator.itemgetter(0)):\n    print(x[1], end='')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1455151839, "creation_date": 1455151839, "answer_id": 35328912, "question_id": 35327744, "link": "https://stackoverflow.com/questions/35327744/sorting-text-file-by-number-in-python/35328912#35328912", "title": "Sorting text file by number in python", "body": "<p>Here is an example of how to use <code>csv</code> module, and how to sort your data using a custom key.</p>\n\n<p>First, a couple of utility functions:</p>\n\n<pre><code>import csv\n\ndef read_csv(filename, row_formats=None, **csvopts):\n    \"\"\"\n    Read from a Comma Separated Value file;\n    returns a list of rows, where each row is a list of cell-values\n    \"\"\"\n    with open(filename, newline='') as csvfile:\n        rd = csv.reader(csvfile, **csvopts)\n        if row_formats:\n            data = [[fmt(cell) for fmt,cell in zip(row_formats, row)] for row in rd]\n        else:\n            data = list(rd)\n    return data\n\ndef write_csv(filename, data, **csvopts):\n    \"\"\"\n    Write to a Comma Separated Value file;\n    `data` is an iterable of rows, where each row is an iterable of cell values\n    \"\"\"\n    with open(filename, 'w', newline='') as csvfile:\n        wt = csv.writer(csvfile, **csvopts)\n        wt.writerows(data)\n</code></pre>\n\n<p>now, we can load your data file,</p>\n\n<pre><code>data = read_csv(\"class3.txt\", (str, int))\n</code></pre>\n\n<p>which gives us</p>\n\n<pre><code>data = [\n    ['Anton v1', 0],\n    ['Antonv2',  0],\n    ['Henry',    0],\n    ['Joe',      0],\n    ['Berty',    0],\n    ['Lee',      0],\n    ['Antttton', 1],\n    ['Anton22',  0]\n]\n</code></pre>\n\n<p>sort it,</p>\n\n<pre><code>def sort_key(row):\n    \"\"\"\n    This will sort by descending score then by ascending name\n    \"\"\"\n    return -row[1], row[0]\n\ndata.sort(key=sort_key)\n</code></pre>\n\n<p>which results in</p>\n\n<pre><code>data = [\n    ['Antttton', 1],\n    ['Anton v1', 0],\n    ['Anton22',  0],\n    ['Antonv2',  0],\n    ['Berty',    0],\n    ['Henry',    0],\n    ['Joe',      0],\n    ['Lee',      0]\n]\n</code></pre>\n\n<p>and you can write it back to file like</p>\n\n<pre><code>write_csv(\"class3.txt\", data)\n</code></pre>\n\n<p>while produces</p>\n\n<pre><code>Antttton,1\nAnton v1,0\nAnton22,0\nAntonv2,0\nBerty,0\nHenry,0\nJoe,0\nLee,0\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3005195, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ae6a87b28e4ae554b4bee30bc90453e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3005195", "link": "https://stackoverflow.com/users/3005195/user3005195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1455152908, "creation_date": 1455145511, "last_edit_date": 1455152908, "question_id": 35327744, "link": "https://stackoverflow.com/questions/35327744/sorting-text-file-by-number-in-python", "title": "Sorting text file by number in python", "body": "<p>I am trying to sort a text file  in a numbered order (Highest values shown first), each value is on a new line. Below is a sample of my data stored in a .txt file which is written to every time a user completes a quiz.</p>\n\n<blockquote>\n  <p>'Anton v1'0 'Antonv2'0 'Henry'0 'Joe'0 'Berty'0 'Lee'0 'Antttton'1\n  'Anton22'0</p>\n</blockquote>\n\n<p>So far I have found how to order them by alphabetical order, which solves part of my problem:</p>\n\n<pre><code>with open('class1.txt', 'r') as r:\n    for line in sorted(r):\n        print(line, end='')\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "asynchronous", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 604, "user_id": 3263650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8729e793e2f3f4cb1a316985eb37d329?s=128&d=identicon&r=PG&f=1", "display_name": "jmcgrath207", "link": "https://stackoverflow.com/users/3263650/jmcgrath207"}, "edited": false, "score": 0, "creation_date": 1455469842, "post_id": 35368416, "comment_id": 58492981, "body": "Thanks Bj0,  That cleared it up alot for me. I really had a serve misunderstanding of that."}], "tags": [], "owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "is_accepted": true, "score": 1, "last_activity_date": 1455297066, "creation_date": 1455297066, "answer_id": 35368416, "question_id": 35327703, "link": "https://stackoverflow.com/questions/35327703/control-the-amount-of-jobs-in-multiprocessing-async-python/35368416#35368416", "title": "Control the amount of jobs in multiprocessing async python", "body": "<p>Your loop does not work because <code>results.get</code> blocks until the result is available, which effectively makes your code non-parallel.  You seem to be trying to do a lot of extra work to get functionality that multiprocessing.Pool provides for you automatically.</p>\n\n<p>When you do <code>pm.Pool(4)</code>, you create a pool of 4 processes, so when you pass many tasks to the pool it will execute 4 at a time until they are all complete.  There are even functions to submit a collection of inputs to the pool so you don't have to iterate yourself.</p>\n\n<p>This lets you replace your whole <code>while</code> loop with:</p>\n\n<pre><code>pool = mp.Pool(processes=4)\n\nresults = pool.map(print_hello, VPN_list)\n\nfor result in results:\n    print \"Confirmed complete \" + result\n</code></pre>\n\n<p>This will block at <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.map\" rel=\"nofollow\"><code>pool.map</code></a> until all the tasks are complete and then return them all at once in the order that you submitted them.  If you want them to return as they are completed (but still in order), you can use <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.imap\" rel=\"nofollow\"><code>pool.imap</code></a>, and if you don't care about order but just want results as soon as they are available, use <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.multiprocessing.Pool.imap_unordered\" rel=\"nofollow\"><code>pool.imap_unordered</code></a></p>\n"}], "owner": {"reputation": 604, "user_id": 3263650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8729e793e2f3f4cb1a316985eb37d329?s=128&d=identicon&r=PG&f=1", "display_name": "jmcgrath207", "link": "https://stackoverflow.com/users/3263650/jmcgrath207"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 35368416, "answer_count": 1, "score": 1, "last_activity_date": 1455297066, "creation_date": 1455145276, "question_id": 35327703, "link": "https://stackoverflow.com/questions/35327703/control-the-amount-of-jobs-in-multiprocessing-async-python", "title": "Control the amount of jobs in multiprocessing async python", "body": "<p>I am trying to make a script that will use only 4 process at a time and start another one once a value is returned. I think some of the problem is that <code>results.get</code>\nkeeps waiting until it gets a results and will not continue until a value is returned. I want the While Loop to continue while I am waiting for the result.</p>\n\n<p><a href=\"https://docs.python.org/2.7/library/multiprocessing.html#multiprocessing.pool.AsyncResult.get\" rel=\"nofollow\">https://docs.python.org/2.7/library/multiprocessing.html#multiprocessing.pool.AsyncResult.get</a></p>\n\n<pre><code>import multiprocessing as mp\nimport time\nfrom random import randint\n\n\ndef print_hello(VPN_Name):\n    time.sleep(randint(0,5))\n    return VPN_Name\n\n\nVPN_list = ['3048-VPN01', '3049-VPN01', '3051-VPN01', '3053-VPN01', '3058-VPN01', '3059-VPN01', '3061-MULTI01', '3063-VPN01', '3065-VPN01', '3066-MULTI01', '3067-VPN01', '3069-VPN01', '3071-VPN01', '3072-VPN01']\n\nVPN_len = len(VPN_list)\nx = 0\npool = mp.Pool(processes=4)\n\njob_tracker = []\ncomplete_tracker = []\n\n\nwhile True:\n    for VPN_Name in VPN_list:\n        if VPN_len == 0:\n            break\n        while True:\n            print \"Complete Job Tracker \", complete_tracker\n            print \"Job Tracker \", job_tracker\n            for comp in complete_tracker:\n                if comp in job_tracker:\n                    x = x - 1\n                    job_tracker.remove(comp)\n                    print \"Confirmed complete \" + comp\n                continue\n            if x &lt; 4:\n                results = pool.apply_async(print_hello,args=(VPN_Name,))\n                VPN_len = VPN_len - 1\n                x = x + 1\n                print \"Started  \" + VPN_Name\n                job_tracker.append(VPN_Name)\n                complete_tracker.append(results.get())\n                break\n            continue\n</code></pre>\n"}, {"tags": ["python", "sql", "join", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 16742, "user_id": 999943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4c3b5820f4f39c2bbe57a8823dd0ad?s=128&d=identicon&r=PG", "display_name": "phyatt", "link": "https://stackoverflow.com/users/999943/phyatt"}, "edited": false, "score": 0, "creation_date": 1531515987, "post_id": 35328148, "comment_id": 89641031, "body": "This is a perfect illustration of how to use it.  I tested your later example and it works well."}], "tags": [], "owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "is_accepted": true, "score": 16, "last_activity_date": 1455147625, "creation_date": 1455147625, "answer_id": 35328148, "question_id": 35327701, "link": "https://stackoverflow.com/questions/35327701/sql-alchemy-join-multiple-columns-from-same-table/35328148#35328148", "title": "SQL Alchemy Join Multiple Columns from same table", "body": "<p>First, the reason your code doesn't work is because SQLAlchemy doesn't know whether you want to join to <code>Team</code> via <code>home_team</code> or <code>away_team</code>, so you'll have to tell it. In addition, you'll need to join to <code>Team</code> twice, which further complicates things.</p>\n\n<p>This can be done more easily by using <a href=\"http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#sqlalchemy.orm.joinedload\" rel=\"noreferrer\"><code>joinedload</code></a>:</p>\n\n<pre><code>matches = session.query(Match).options(joinedload(Match.home_team),\n                                       joinedload(Match.away_team))\nfor m in matches:\n    print m.date, m.home_team, m.away_team\n</code></pre>\n\n<p><code>m.home_team</code> and <code>m.away_team</code> will be loaded in the same query as <code>m</code> using a <code>JOIN</code>.</p>\n\n<p>If you insist on using an explicit <code>.join()</code> you'll have to <a href=\"http://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.aliased\" rel=\"noreferrer\">alias</a> the <code>Team</code> entities (not tested):</p>\n\n<pre><code>home = aliased(Team)\naway = aliased(Team)\nq = session.query(Match.date, home, away).join(home, Match.home_team) \\\n                                         .join(away, Match.away_team)\nfor date, home_team, away_team in q:\n    print date, home_team, away_team\n</code></pre>\n"}], "owner": {"reputation": 1628, "user_id": 3550480, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fs1BC.jpg?s=128&g=1", "display_name": "FranGoitia", "link": "https://stackoverflow.com/users/3550480/frangoitia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8143, "favorite_count": 2, "accepted_answer_id": 35328148, "answer_count": 1, "score": 7, "last_activity_date": 1455147625, "creation_date": 1455145268, "question_id": 35327701, "link": "https://stackoverflow.com/questions/35327701/sql-alchemy-join-multiple-columns-from-same-table", "title": "SQL Alchemy Join Multiple Columns from same table", "body": "<pre><code>class Match(Base):\n    __tablename__ = 'matches'\n\n    id = Column(Integer, primary_key=True)\n    date = Column(Date, nullable=False)\n    time = Column(Time, nullable=True)\n    league_id = Column(ForeignKey('leagues.id'), nullable=False, index=True)\n    league = relationship('League', backref='matches')\n    type = Column(enums.matches_types)\n    home_team_id = Column(ForeignKey('teams.id'), nullable=False, index=True)\n    home_team = relationship('Team', foreign_keys=[home_team_id], backref='home_matches')\n    away_team_id = Column(ForeignKey('teams.id'), nullable=False, index=True)\n\n\nclass Team(Base):\n    __tablename__ = 'teams'\n\n    id = Column(Integer, primary_key=True)\n    name = Column(String, nullable=False)\n    country_id = Column(ForeignKey('countries.id'), nullable=False, index=True)\n    country = relationship('Country', backref='teams')\n</code></pre>\n\n<p>I need to write a query that joins columns and teams tables displaying information of the teams information for both local and away team.</p>\n\n<pre><code>Session.query(Match.date, Match.home_team.name, Match_away_team.name).joins(Team)\n</code></pre>\n\n<p>This returns <code>Can't determine join between 'matches' and 'teams'; tables have more than one foreign key constraint relationship between them. Please specify the 'onclause' of this join explicitly</code></p>\n"}, {"tags": ["python", "function", "timer"], "comments": [{"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 1, "creation_date": 1455145448, "post_id": 35327685, "comment_id": 58363966, "body": "The <code>timer</code> variable seems ambiguous."}, {"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "reply_to_user": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1455145480, "post_id": 35327685, "comment_id": 58363976, "body": "let me add the timer variable"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 1, "creation_date": 1455145589, "post_id": 35327685, "comment_id": 58364009, "body": "It looks like <code>timer</code> is 1) an int, 2) a function, 3) misspelled <code>time</code> module."}], "answers": [{"comments": [{"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 0, "creation_date": 1455145636, "post_id": 35327737, "comment_id": 58364033, "body": "oke i kinda get what u mean. but i am a bit of  a newb to programming in general. could you give me a quick sketch of your explanation in code? that would be great :)"}, {"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 0, "creation_date": 1455146254, "post_id": 35327737, "comment_id": 58364297, "body": "thanks for the answer! ill see if it works! and if it does ill let you know!"}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1455145803, "last_edit_date": 1455145803, "creation_date": 1455145472, "answer_id": 35327737, "question_id": 35327685, "link": "https://stackoverflow.com/questions/35327685/python-timer-and-disable-function/35327737#35327737", "title": "python timer and disable function", "body": "<p>This won't work like that, a) because <code>function2</code> is a local variable in <code>timer</code>, and b) because <code>timer</code> isn't run asynchronously. Also no variable called <code>timer</code> will be accessible inside the function, because it itself is named <code>timer</code>.</p>\n\n<p>If you want to interrupt <code>function2</code> after 120 seconds, you should just set a timer (<code>time.time()</code>) at the beginning of <code>function2</code> and then in the loop that I assume resides in <code>function2</code> check for whether the current time is more than 120 ahead of the time initially recorded upon entering the function. In that case, you can <code>return</code> from that function to stop it.</p>\n\n<p><strong>edit:</strong> This would be an example:</p>\n\n<pre><code>import time\n\ndef function2():\n    timer = time.time()\n    while True:\n        if time.time() - timer &gt; 120:\n            return # time to exit from this function\n        print(\"We are doing something!\")\n        time.sleep(1) # just for demonstration\n\ndef function3():\n    pass # do something else\n\nif __name__ == '__main__': # better than a function called \"main\"\n    function2()\n    function3()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "edited": false, "score": 0, "creation_date": 1455146205, "post_id": 35327853, "comment_id": 58364272, "body": "thank you for your answer! ill take a look at it and see if it works in my code. ill let you know if it worked."}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": false, "score": 0, "last_activity_date": 1455146255, "last_edit_date": 1455146255, "creation_date": 1455145951, "answer_id": 35327853, "question_id": 35327685, "link": "https://stackoverflow.com/questions/35327685/python-timer-and-disable-function/35327853#35327853", "title": "python timer and disable function", "body": "<p>I haven't looked at the logic of your code, but the first thing you need to do is disambiguate your variables, e.g.:</p>\n\n<pre><code>import time\n\ntimer_ = 0\n\ndef timer():\n    global timer_\n    while timer_ &lt; 120:\n        timer_ += 1\n        time.sleep(1)\n        print timer_\n        if timer_ == 120:\n            timer_ = 0\n            function2 = lambda: False\n\ndef main():\n    function2()\n    function3()\n    timer()\n</code></pre>\n"}], "owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455146255, "creation_date": 1455145189, "last_edit_date": 1455145510, "question_id": 35327685, "link": "https://stackoverflow.com/questions/35327685/python-timer-and-disable-function", "title": "python timer and disable function", "body": "<p>i have a function thats gets executed when the script is run. this function is called main()</p>\n\n<pre><code>timer = 0\ndef main():\n   function2()\n   function3()\n   timer()\n</code></pre>\n\n<p>this function calls the following functions: function2, function3, and timer. </p>\n\n<pre><code>def timer():\n    global timer\n    while timer &lt; 120:\n        timer += 1\n        timer.sleep(1)\n        print timer\n        if timer == 120:\n            timer = 0\n            function2 = false\n</code></pre>\n\n<p>the problem is that the timer doesn't print in the console. and function2 doesn't get disabled after 120 seconds.</p>\n\n<p>what am i doing wrong? any help or suggestions would be appreciated!</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 4422, "user_id": 1202525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc5db30edf02524aa2a0fb17d154bf8?s=128&d=identicon&r=PG", "display_name": "TomDunning", "link": "https://stackoverflow.com/users/1202525/tomdunning"}, "edited": false, "score": 0, "creation_date": 1455145398, "post_id": 35327634, "comment_id": 58363948, "body": "You need to be more descriptive of the problem. In what way does it &quot;not work&quot;? What does happen? are there any error logs?"}, {"owner": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "reply_to_user": {"reputation": 4422, "user_id": 1202525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc5db30edf02524aa2a0fb17d154bf8?s=128&d=identicon&r=PG", "display_name": "TomDunning", "link": "https://stackoverflow.com/users/1202525/tomdunning"}, "edited": false, "score": 0, "creation_date": 1455147690, "post_id": 35327634, "comment_id": 58364868, "body": "I do not get an error. I submit the form form and nothing happens. I think it has something to do with this part: of the code             Stand_db = Daten.objects.lastest(Verbraucher)             instance.Verbrauch = do_calc(Stand - Stand_db) It seems that the calculation is not taking place."}, {"owner": {"reputation": 3212, "user_id": 661424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0872cd40f4cd1d7e081bdd460edb2e5c?s=128&d=identicon&r=PG", "display_name": "madprops", "link": "https://stackoverflow.com/users/661424/madprops"}, "edited": false, "score": 0, "creation_date": 1455156549, "post_id": 35327634, "comment_id": 58367401, "body": "I think a problem you might have is that you&#39;re using &#39;lastest&#39; instead of &#39;latest&#39;"}, {"owner": {"reputation": 3212, "user_id": 661424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0872cd40f4cd1d7e081bdd460edb2e5c?s=128&d=identicon&r=PG", "display_name": "madprops", "link": "https://stackoverflow.com/users/661424/madprops"}, "edited": false, "score": 0, "creation_date": 1455156668, "post_id": 35327634, "comment_id": 58367434, "body": "Also I don&#39;t know where you&#39;re getting Stand when you do Stand - Stand_db"}, {"owner": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "reply_to_user": {"reputation": 3212, "user_id": 661424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0872cd40f4cd1d7e081bdd460edb2e5c?s=128&d=identicon&r=PG", "display_name": "madprops", "link": "https://stackoverflow.com/users/661424/madprops"}, "edited": false, "score": 0, "creation_date": 1455174746, "post_id": 35327634, "comment_id": 58373517, "body": "First of all thank you for your support until now TomDunning and madprops. @madprops you were right regarding &#39;latest&#39;. I have fixed it in the code but still it is not working. I should get &#39;Stand&#39; from the POST request."}, {"owner": {"reputation": 3212, "user_id": 661424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0872cd40f4cd1d7e081bdd460edb2e5c?s=128&d=identicon&r=PG", "display_name": "madprops", "link": "https://stackoverflow.com/users/661424/madprops"}, "edited": false, "score": 0, "creation_date": 1455235461, "post_id": 35327634, "comment_id": 58412217, "body": "You don&#39;t set Stand to be anything, if you want to get Stand from the form you must do something like form.cleaned_data[&#39;Stand&#39;] . Check this doc <a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/#field-data\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/forms/#field-data</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "edited": false, "score": 1, "creation_date": 1455301469, "post_id": 35363240, "comment_id": 58445224, "body": "Thank you for your advise (view) and your idea. It helped me to get to my solution."}, {"owner": {"reputation": 3180, "user_id": 2661703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qhLF.jpg?s=128&g=1", "display_name": "Transformer", "link": "https://stackoverflow.com/users/2661703/transformer"}, "reply_to_user": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "edited": false, "score": 0, "creation_date": 1455304694, "post_id": 35363240, "comment_id": 58447017, "body": "glad i could help. since it helped you, accept the answer @MFIC"}], "tags": [], "owner": {"reputation": 3180, "user_id": 2661703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qhLF.jpg?s=128&g=1", "display_name": "Transformer", "link": "https://stackoverflow.com/users/2661703/transformer"}, "is_accepted": false, "score": 0, "last_activity_date": 1455281838, "creation_date": 1455281838, "answer_id": 35363240, "question_id": 35327634, "link": "https://stackoverflow.com/questions/35327634/django-calculation-based-on-form-and-database-values/35363240#35363240", "title": "Django calculation based on form and database values", "body": "<p>first of all the way arrange your view is not ok although it will work. The validated form data will be in the <code>form.cleaned_data</code> dictionary. This data will have been nicely converted into Python types for you. Fields such as IntegerField, DecimalField and FloatField convert values to a Python int, Decimal and float respectively.</p>\n\n<pre><code>from yourapp.model import Daten\n\ndef dateneingabe(request):\n    if request.method == \"POST\":\n        form = DatenForm(request.POST)\n        if form.is_valid():\n            instance = form.save(commit=False)\n            Stand_db = Daten.objects.lastest(Verbraucher)\n            #you used Stand instead of instance.stand and since instance.stand is decimalfield is will be processed nicely \n            instance.Verbrauch = do_calc(instance.Stand - float(Stand_db))\n            instance.save()\n            return HttpResponseRedirect('/')\n    else:\n        form = DatenForm()\n    return render(request, 'verbrauch/eingabe.html', {'form': form})\n</code></pre>\n\n<p>I hope it helps out</p>\n"}, {"comments": [{"owner": {"reputation": 3180, "user_id": 2661703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qhLF.jpg?s=128&g=1", "display_name": "Transformer", "link": "https://stackoverflow.com/users/2661703/transformer"}, "edited": false, "score": 0, "creation_date": 1455715976, "post_id": 35369649, "comment_id": 58612553, "body": "thanks to you, forgiving me  -5 to my reputation after answering your question. guess i should delete it then."}], "tags": [], "owner": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "is_accepted": true, "score": 0, "last_activity_date": 1455301407, "creation_date": 1455301407, "answer_id": 35369649, "question_id": 35327634, "link": "https://stackoverflow.com/questions/35327634/django-calculation-based-on-form-and-database-values/35369649#35369649", "title": "Django calculation based on form and database values", "body": "<p>Thank you all very much for your support and ideas!\nI have managed to get the solution to my problem:</p>\n\n<pre><code>if form.is_valid():\n            instance = form.save(commit=False)\n            Verbraucher_form = form.cleaned_data['Verbraucher']\n            Stand_form = form.cleaned_data['Stand']\n            Stand_db = Daten.objects.filter(Verbraucher=Verbraucher_form).values('Stand').order_by('-Stand')[0]\n            Stand_db2 = decimal.Decimal(Stand_db['Stand'])\n            instance.Verbrauch = (Stand_form - Stand_db2)\n            instance.save()\n</code></pre>\n\n<p>Stand_db gives the last value in decimal of the chosen counter in a dictionary.\nTo get the actual value I had to seperate the key from the name.\nStand_db2 is doing that.</p>\n\n<p>Finally I do the calculation and save the record.</p>\n"}], "owner": {"reputation": 1, "user_id": 5910922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a3527e2f9fe80b1bcba0d9805da5b8?s=128&d=identicon&r=PG&f=1", "display_name": "MFIC", "link": "https://stackoverflow.com/users/5910922/mfic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "accepted_answer_id": 35369649, "answer_count": 2, "score": 0, "last_activity_date": 1455301407, "creation_date": 1455144999, "last_edit_date": 1455266658, "question_id": 35327634, "link": "https://stackoverflow.com/questions/35327634/django-calculation-based-on-form-and-database-values", "title": "Django calculation based on form and database values", "body": "<p>I started the project with django1.9 and python-3.4.4.\nI have set up an app to track my energy, water and gas consumption. I started this project to get to know django and python better.</p>\n\n<p>I have created a form where I have two fields. One for the Type of counter and one for the value.\nNow I want to get the latest value from the database and do a simple calculation.</p>\n\n<pre><code>delta = value_db - value_form\n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Verbraucher(models.Model):\n    Id = models.AutoField(primary_key=True)\n    Typ = models.CharField(max_length=50)\n    Nummer = models.CharField(max_length=50, unique=True)\n\ndef __str__(self):\n    return format(self.Typ)\n\n\nclass Daten(models.Model):\n    Daten_id = models.AutoField(primary_key=True)\n    Verbraucher = models.ForeignKey(Verbraucher)\n    Stand = models.DecimalField(max_digits=10, decimal_places=3)\n    Verbrauch = models.DecimalField(max_digits=10, decimal_places=3)\n    Zeitstempel = models.DateTimeField(auto_now=True, auto_now_add=False)\n    Updatestempel = models.DateTimeField(auto_now=False, auto_now_add=True)\n\n    def __str__(self):\n        return format(self.Zeitstempel)\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class DatenForm(forms.ModelForm):\n    class Meta:\n        model = Daten\n        fields = ['Verbraucher', 'Stand']\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def dateneingabe(request):\n    if request.method == \"GET\":\n        form = DatenForm()\n        return render(request, 'verbrauch/eingabe.html', {'form': form})\n    elif request.method == \"POST\":\n        form = DatenForm(request.POST)\n        model = Daten()\n        if form.is_valid():\n            instance = form.save(commit=False)\n            Stand_db = Daten.objects.lastest(Verbraucher)\n            instance.Verbrauch = do_calc(Stand - Stand_db)\n            instance.save()\n            return HttpResponseRedirect('/')\n</code></pre>\n\n<p>I have tried various ways but none seem to work.\nI hope that someone has an idea to help me out!\nThanks a lot up front!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The whole idea behind it ist to have a local website where you have a small form of two fields. One for type of the counter and one for the value it has today.\nAfterwards I want to get the latest value from the database of this counter and subtract bot. Afterwards the calculated value should be inserted into the db.\nI hope that helps?!</p>\n\n<p><strong>EDIT2:</strong></p>\n\n<p>I have played a little bit araound and found an error.\nI get it, if I want to do the calculation.\n<code>unsupported operand type(s) for -: 'decimal.Decimal' and 'Daten'</code>\nThe weird thing is that I have defined both as decimals in my models file...\nThis is the code (views.py after form = DatenForm(request.POST)):\n<code>if form.is_valid():\n            instance = form.save(commit=False)\n            Stand = form.cleaned_data['Stand']\n            print(Stand)\n            Stand_db = Daten.objects.latest('Stand')\n            print(Stand_db)\n            Verbrauch = (Stand - Stand_db)\n            print(Verbrauch)\n            instance.save()</code></p>\n"}, {"tags": ["python", "ssh", "subprocess"], "comments": [{"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455145146, "post_id": 35327623, "comment_id": 58363835, "body": "Is <a href=\"http://stackoverflow.com/questions/13592219/launch-a-totally-independent-process-from-python\" title=\"launch a totally independent process from python\">stackoverflow.com/questions/13592219/&hellip;</a> relevant?  Or perhaps <a href=\"http://stackoverflow.com/questions/29661527/how-to-spawn-detached-background-process-on-linux-in-either-bash-or-python\" title=\"how to spawn detached background process on linux in either bash or python\">stackoverflow.com/questions/29661527/&hellip;</a> ?"}, {"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1455146352, "post_id": 35327623, "comment_id": 58364347, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/9237385/run-a-persistent-process-via-ssh\">Run a persistent process via ssh</a>"}, {"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1455146412, "post_id": 35327623, "comment_id": 58364380, "body": "Seems to be an issue more to do with with ssh than python. Passing the <code>-f</code> option to ssh will achieve what you want."}, {"owner": {"reputation": 113, "user_id": 2755464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Awjv.jpg?s=128&g=1", "display_name": "xwang", "link": "https://stackoverflow.com/users/2755464/xwang"}, "edited": false, "score": 0, "creation_date": 1455163384, "post_id": 35327623, "comment_id": 58369232, "body": "i have tried -f and it does not seem to work either. same result with or w/o -f .  ret = subprocess.Popen([&quot;ssh&quot;, &quot;-f&quot;, &quot;xxx@servername&quot;, &quot;PATH/start&quot;])"}], "answers": [{"tags": [], "owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "is_accepted": false, "score": 0, "last_activity_date": 1611375684, "last_edit_date": 1611375684, "creation_date": 1455145738, "answer_id": 35327808, "question_id": 35327623, "link": "https://stackoverflow.com/questions/35327623/python-subprocess-run-a-remote-process-in-background-and-immediately-close-the-c/35327808#35327808", "title": "python subprocess run a remote process in background and immediately close the connection", "body": "<p>Try</p>\n<pre><code>subprocess.Popen([&quot;ssh&quot;, &quot;xxx@servername&quot;, &quot;nohup PATH/start &amp; disown&quot;])\n</code></pre>\n<p>For me,</p>\n<pre><code>subprocess.Popen([&quot;ssh&quot;, &quot;xxx@servername&quot;, &quot;nohup sleep 1000 &amp; disown&quot;])\n</code></pre>\n<p>lets my script exit immediately while leaving <code>sleep</code> running on the server awhile.</p>\n<p>When your script dies, an <code>ssh</code> process is left on your system, but <code>kill</code>ing it doesn't kill the remote process.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 2755464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Awjv.jpg?s=128&g=1", "display_name": "xwang", "link": "https://stackoverflow.com/users/2755464/xwang"}, "edited": false, "score": 0, "creation_date": 1455162959, "post_id": 35328458, "comment_id": 58369118, "body": "thanks, man. &quot;&gt;/dev/null 2&gt;&amp;1 &amp;&quot; works like a charm.  But why redirection can causing nohup detach from SSH and let ssh exit normally ?"}], "tags": [], "owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "is_accepted": true, "score": 0, "last_activity_date": 1455149257, "creation_date": 1455149257, "answer_id": 35328458, "question_id": 35327623, "link": "https://stackoverflow.com/questions/35327623/python-subprocess-run-a-remote-process-in-background-and-immediately-close-the-c/35328458#35328458", "title": "python subprocess run a remote process in background and immediately close the connection", "body": "<p>After playing about a bit I found that nohup doesn't seem to be properly disconnecting the child process from the parent ssh session (as it should be). This means you have to manually close stdout or point it at a file. eg.</p>\n\n<p>Using bash:</p>\n\n<pre><code>ssh user@host \"hohup PATH/XProgram &gt;&amp;- &amp;\"\n</code></pre>\n\n<p>Shell agnostic (as far as I know):</p>\n\n<pre><code>ssh user@host \"nohup PATH/XProgram &gt;/dev/null 2&gt;&amp;1 &amp;\"\n</code></pre>\n\n<p>In python:</p>\n\n<pre><code>from shlex import split\nfrom subprocess import Popen\n\np = Popen(split('ssh user@host \"hohup PATH/XProgram &gt;&amp;- &amp;\"'))\np.communicate() # returns (None, None)\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 2755464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Awjv.jpg?s=128&g=1", "display_name": "xwang", "link": "https://stackoverflow.com/users/2755464/xwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3163, "favorite_count": 1, "accepted_answer_id": 35328458, "answer_count": 2, "score": 1, "last_activity_date": 1611375684, "creation_date": 1455144945, "last_edit_date": 1492086987, "question_id": 35327623, "link": "https://stackoverflow.com/questions/35327623/python-subprocess-run-a-remote-process-in-background-and-immediately-close-the-c", "title": "python subprocess run a remote process in background and immediately close the connection", "body": "<p>The task is to use python to run a remote process in background and immediately close the ssh session.</p>\n\n<p>I have a remote script name 'start' under server:PATH/, the start script does nothing but lunch a long-live background program. 'start' script which has one line:</p>\n\n<pre><code>nohup PATH/Xprogram &amp;\n</code></pre>\n\n<p>When I use python subprocess module to call my remote 'start' script, it does start OK. But the issue is: it seems the SSH connection is persist, meaning I am getting stdout from the remote Xprogram (since it is a long live program which has output to stdout). Does this indicating ssh connection is still there ?</p>\n\n<p>All I need is call the start script without blocking and forget about it (leave the long-live program running, close ssh, release resources).</p>\n\n<p>my python function call looks like this:</p>\n\n<pre><code>ret = subprocess.Popen([\"ssh\", \"xxx@servername\", \"PATH/start\"])\n</code></pre>\n\n<p>if I use <code>ret.terminate()</code> after the command, it then will kill the long-live program too.\nI have also tried spur module. basically the same thing. </p>\n\n<p>=====update====</p>\n\n<p>@Dunes' answer solves the problem. Based on his answer, I did more digging and found <a href=\"https://unix.stackexchange.com/questions/30400/execute-remote-commands-completely-detaching-from-the-ssh-connection\">this link</a> very helpful. \nMy understanding of this is: basically, if any file descriptor is still held by your process (e.g. stdout held by my XProgram), then SSH session won't exit. However redirect stdout/stderr to NULL effectively close those file descriptor and let SSH session exit normally.</p>\n\n<p><strong>solution</strong>  </p>\n\n<pre><code>ret = subprocess.Popen([\"ssh\", \"xxx@servername\", \"PATH/start &gt;dev/null 2&gt;&amp;1\"])\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 1, "creation_date": 1455144829, "post_id": 35327566, "comment_id": 58363715, "body": "What do you want to accomplish?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 3, "creation_date": 1455144847, "post_id": 35327566, "comment_id": 58363724, "body": "FWIW I think that 0 is the status code of the command"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1455144896, "post_id": 35327566, "comment_id": 58363742, "body": "You <i>execute</i> the <code>echo</code> command, then <i>print</i> the return value of that command, i.e. the exit code <code>0</code> for &quot;exited with no error&quot;."}, {"owner": {"reputation": 17, "user_id": 5910969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a8e3782d115ee341c9622cc4027e6f?s=128&d=identicon&r=PG&f=1", "display_name": "newname_new", "link": "https://stackoverflow.com/users/5910969/newname-new"}, "edited": false, "score": 0, "creation_date": 1455321714, "post_id": 35327566, "comment_id": 58454469, "body": "Yes, but I am using this to return something, and this zero keeps getting in the way"}], "answers": [{"tags": [], "owner": {"reputation": 1453, "user_id": 2731113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e580d3c75fd2eb3e5726ffb6b65900f0?s=128&d=identicon&r=PG&f=1", "display_name": "Davis Yoshida", "link": "https://stackoverflow.com/users/2731113/davis-yoshida"}, "is_accepted": false, "score": 5, "last_activity_date": 1455144914, "creation_date": 1455144914, "answer_id": 35327616, "question_id": 35327566, "link": "https://stackoverflow.com/questions/35327566/python-random-terminal-0/35327616#35327616", "title": "Python random terminal 0", "body": "<p>You are calling <code>raw_input</code> with the return value of <code>os.system()</code> as its argument. <code>echo</code> is returning an exit status of 0. <code>raw_input</code> prints its argument, so it is printing 0.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 5910969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a8e3782d115ee341c9622cc4027e6f?s=128&d=identicon&r=PG&f=1", "display_name": "newname_new", "link": "https://stackoverflow.com/users/5910969/newname-new"}, "edited": false, "score": 0, "creation_date": 1455236067, "post_id": 35327624, "comment_id": 58412442, "body": "Just wondering, do the ANSI escapes apply to all, or in this instance, like I printed out the same string in C, would it output the same color?"}, {"owner": {"reputation": 17, "user_id": 5910969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a8e3782d115ee341c9622cc4027e6f?s=128&d=identicon&r=PG&f=1", "display_name": "newname_new", "link": "https://stackoverflow.com/users/5910969/newname-new"}, "edited": false, "score": 0, "creation_date": 1455237232, "post_id": 35327624, "comment_id": 58412754, "body": "And it still seems to return zero if I do something like                                                catme = os.system(&quot;cat catme.txt&quot;)"}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 2, "last_activity_date": 1455144948, "creation_date": 1455144948, "answer_id": 35327624, "question_id": 35327566, "link": "https://stackoverflow.com/questions/35327566/python-random-terminal-0/35327624#35327624", "title": "Python random terminal 0", "body": "<p>Assuming you just want to have a colorful input, you can get rid of the <code>os.system</code> call and just do:</p>\n\n<pre><code>newinput = raw_input(\"\\033[4;35m Hello \\033[0m\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 5754755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2d5wQ9QBex4/AAAAAAAAAAI/AAAAAAAAABM/U0wjXv-uoow/photo.jpg?sz=128", "display_name": "Hendri Tobing", "link": "https://stackoverflow.com/users/5754755/hendri-tobing"}, "is_accepted": false, "score": 0, "last_activity_date": 1455145346, "creation_date": 1455145346, "answer_id": 35327713, "question_id": 35327566, "link": "https://stackoverflow.com/questions/35327566/python-random-terminal-0/35327713#35327713", "title": "Python random terminal 0", "body": "<p>It seems you miss a \")\" at the end of the second row.</p>\n"}], "owner": {"reputation": 17, "user_id": 5910969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a8e3782d115ee341c9622cc4027e6f?s=128&d=identicon&r=PG&f=1", "display_name": "newname_new", "link": "https://stackoverflow.com/users/5910969/newname-new"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 35327624, "answer_count": 3, "score": 1, "last_activity_date": 1455145346, "creation_date": 1455144692, "question_id": 35327566, "link": "https://stackoverflow.com/questions/35327566/python-random-terminal-0", "title": "Python random terminal 0", "body": "<p>I am currently writing a Py script that uses</p>\n\n<pre><code>    import os\n    newinput = raw_input(os.system(\"echo '\\033[4;35m Hello \\033[0m'\")\n</code></pre>\n\n<p>But straight after that,\nI get this random zero And I can't seem to get rid of it</p>\n\n<p>it looks like this</p>\n\n<pre><code>    user@user$ Hello 0\n</code></pre>\n\n<p>How do I get rid of this?</p>\n"}, {"tags": ["python", "datetime", "pandas"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1455145516, "post_id": 35327450, "comment_id": 58363983, "body": "What type is cum_days? A float?"}], "answers": [{"comments": [{"owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "edited": false, "score": 0, "creation_date": 1455148302, "post_id": 35327542, "comment_id": 58365050, "body": "Great pythonic answer. Thank you"}, {"owner": {"reputation": 1099, "user_id": 3574723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGs3v.jpg?s=128&g=1", "display_name": "Mandar", "link": "https://stackoverflow.com/users/3574723/mandar"}, "edited": false, "score": 0, "creation_date": 1539994080, "post_id": 35327542, "comment_id": 92714613, "body": "Is there any way to specify the timedelta to be in months and not days? @Kris"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "reply_to_user": {"reputation": 360, "user_id": 6051639, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jHbVWpIWVjU/AAAAAAAAAAI/AAAAAAAAAAA/r24ATMzU9hY/photo.jpg?sz=128", "display_name": "Wesley Kitlasten", "link": "https://stackoverflow.com/users/6051639/wesley-kitlasten"}, "edited": false, "score": 0, "creation_date": 1561004212, "post_id": 35327542, "comment_id": 99924091, "body": "@WesleyKitlasten Can&#39;t see why not, have you tried?"}, {"owner": {"reputation": 360, "user_id": 6051639, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jHbVWpIWVjU/AAAAAAAAAAI/AAAAAAAAAAA/r24ATMzU9hY/photo.jpg?sz=128", "display_name": "Wesley Kitlasten", "link": "https://stackoverflow.com/users/6051639/wesley-kitlasten"}, "edited": false, "score": 0, "creation_date": 1561065547, "post_id": 35327542, "comment_id": 99953191, "body": "@Kris, I tried a bunch of things. I finally got this to work: df[&#39;date&#39;]=pd.to_datetime(simstart)+pd.TimedeltaIndex(df[&#39;da&zwnj;&#8203;y&#39;], unit=&#39;D&#39;)  Where simstart = datetime.date(1979,7,2) and df[&#39;day&#39;] is the number of days. Followed by df.set_index(&#39;date&#39;,inplace=True)                     df.drop([&#39;day&#39;],inplace=True,axis=1)"}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": true, "score": 8, "last_activity_date": 1455144574, "creation_date": 1455144574, "answer_id": 35327542, "question_id": 35327450, "link": "https://stackoverflow.com/questions/35327450/using-datetime-timedelta-with-a-series-in-a-pandas-df/35327542#35327542", "title": "Using datetime timedelta with a series in a pandas DF", "body": "<p>How about this?</p>\n\n<pre><code>start = dt.datetime.now()\nsim_df['date'] = start + sim_df['cum_days'].map(dt.timedelta)\n</code></pre>\n\n<p>This applies <code>dt.timedelta</code> to each element of the <code>cum_days</code> column individually.</p>\n"}, {"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1455146651, "post_id": 35327778, "comment_id": 58364479, "body": "this is the fastest method"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 3, "last_activity_date": 1455145950, "last_edit_date": 1455145950, "creation_date": 1455145637, "answer_id": 35327778, "question_id": 35327450, "link": "https://stackoverflow.com/questions/35327450/using-datetime-timedelta-with-a-series-in-a-pandas-df/35327778#35327778", "title": "Using datetime timedelta with a series in a pandas DF", "body": "<p>Add the timedelta to now using a list comprehension.</p>\n\n<pre><code>sim_df = pd.DataFrame({'delta_time_days': [1.02, .09, 1.08, 1.7, 4.1, 0.3, .13, .01, .3, .7], \n                       'cum_days': [1.1, 1.1, 2.2, 3.9, 8.0, 8.3, 8.4, 8.4, 8.8, 9.5]})\n\nsim_df['date'] = [dt.datetime.now() + dt.timedelta(days=d) for d in sim_df.cum_days]\n\n&gt;&gt;&gt; sim_df\n   cum_days  delta_time_days                       date\n0       1.1             1.02 2016-02-11 17:36:11.320271\n1       1.1             0.09 2016-02-11 17:36:11.320286\n2       2.2             1.08 2016-02-12 20:00:11.320289\n3       3.9             1.70 2016-02-14 12:48:11.320292\n4       8.0             4.10 2016-02-18 15:12:11.320296\n5       8.3             0.30 2016-02-18 22:24:11.320299\n6       8.4             0.13 2016-02-19 00:48:11.320301\n7       8.4             0.01 2016-02-19 00:48:11.320304\n8       8.8             0.30 2016-02-19 10:24:11.320306\n9       9.5             0.70 2016-02-20 03:12:11.320309\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 2, "last_activity_date": 1455146255, "creation_date": 1455146255, "answer_id": 35327917, "question_id": 35327450, "link": "https://stackoverflow.com/questions/35327450/using-datetime-timedelta-with-a-series-in-a-pandas-df/35327917#35327917", "title": "Using datetime timedelta with a series in a pandas DF", "body": "<p>construct a <code>TimedeltaIndex</code> from your column and add this to the scalar value:</p>\n\n<pre><code>In [26]:\nsim_df = pd.DataFrame({'delta_time_days': [1.02, .09, 1.08, 1.7, 4.1, 0.3, .13, .01, .3, .7], \n                       'cum_days': [1.1, 1.1, 2.2, 3.9, 8.0, 8.3, 8.4, 8.4, 8.8, 9.5]})\nstart = dt.datetime.now()\nsim_df['date'] = start + pd.TimedeltaIndex(sim_df['cum_days'], unit='D')\nsim_df\n\nOut[26]:\n   cum_days  delta_time_days                       date\n0       1.1             1.02 2016-02-12 01:40:32.413413\n1       1.1             0.09 2016-02-12 01:40:32.413413\n2       2.2             1.08 2016-02-13 04:04:32.413413\n3       3.9             1.70 2016-02-14 20:52:32.413413\n4       8.0             4.10 2016-02-18 23:16:32.413413\n5       8.3             0.30 2016-02-19 06:28:32.413413\n6       8.4             0.13 2016-02-19 08:52:32.413413\n7       8.4             0.01 2016-02-19 08:52:32.413413\n8       8.8             0.30 2016-02-19 18:28:32.413413\n9       9.5             0.70 2016-02-20 11:16:32.413413\n</code></pre>\n"}], "owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8139, "favorite_count": 2, "accepted_answer_id": 35327542, "answer_count": 3, "score": 8, "last_activity_date": 1455148417, "creation_date": 1455144113, "question_id": 35327450, "link": "https://stackoverflow.com/questions/35327450/using-datetime-timedelta-with-a-series-in-a-pandas-df", "title": "Using datetime timedelta with a series in a pandas DF", "body": "<p>I have a pandas sim_df that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/o5Owr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o5Owr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, I want to add another column, \"date\" that is the date corresponding to 'now' plus 'cum_days' (a delta time).</p>\n\n<pre><code>start = dt.datetime.now()\nsim_df['date'] = start + dt.timedelta(sim_df['cum_days'])\n</code></pre>\n\n<p>But it looks like deltatime does not use a series, but a fixed scalar. </p>\n\n<pre><code>TypeError: unsupported type for timedelta days component: Series\n</code></pre>\n\n<p>Is there a way to solve this in a vectorized operation without iterating over each row of sim_df?</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "ipython"], "comments": [{"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 1, "creation_date": 1455144898, "post_id": 35327448, "comment_id": 58363743, "body": "Is there any way you could pose your question without superfluous detail in your code?"}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 5910968, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-htASUfkNknc/AAAAAAAAAAI/AAAAAAAADrU/8PndtnKlxLE/photo.jpg?sz=128", "display_name": "Colin Dickie", "link": "https://stackoverflow.com/users/5910968/colin-dickie"}, "is_accepted": false, "score": 1, "last_activity_date": 1455146667, "creation_date": 1455146667, "answer_id": 35327997, "question_id": 35327448, "link": "https://stackoverflow.com/questions/35327448/typeerror-only-length-1-arrays-can-be-converted-to-python-scalars-when-trying-t/35327997#35327997", "title": "TypeError: only length-1 arrays can be converted to Python scalars when trying to plot in Notebook", "body": "<p>The problem is you're trying to pass an array \"x = np.linspace(0,20)\" to the function np.random.randint( x, size).  You need to pass single integer values to this function.</p>\n"}], "owner": {"reputation": 269, "user_id": 5404575, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1676803405924739/picture?type=large", "display_name": "Jan Klaas", "link": "https://stackoverflow.com/users/5404575/jan-klaas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455146667, "creation_date": 1455144108, "question_id": 35327448, "link": "https://stackoverflow.com/questions/35327448/typeerror-only-length-1-arrays-can-be-converted-to-python-scalars-when-trying-t", "title": "TypeError: only length-1 arrays can be converted to Python scalars when trying to plot in Notebook", "body": "<p>Here's my code:</p>\n\n<pre><code>import random\nimport numpy as np\n\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nnsim = 1000 # aantal simulaties\nn = 5 # Aantal deuren\n\n\ndef simulate_prizedoor(nsim, n):\n    return np.random.randint(n, size=nsim)\n\nprizedoors = simulate_prizedoor(nsim, n)\nprint \"simulate_prizedoor(nsim = 1000, n = 30)=\", prizedoors[:15]\n\n\ndef simulate_guess(nsim, n):\n    return np.random.randint(n, size=nsim)\n\nguesses = simulate_guess(nsim, n)\nprint \"simulate_guess(nsim = 1000, n = 30)=\", guesses[:15]\n\n\ndef simulate_switch(prizedoor, guess, n):\n    switched_list = []\n    for sim in range(prizedoor.shape[0]):\n        while True:\n            randomInt = np.random.randint(n)\n            if randomInt != prizedoor[sim] and randomInt != guess[sim]:\n                switched_list.append(randomInt)\n                break\n    return np.array(switched_list)\n\n\n\nprint \"simulate_switch(simulate_prizedoor(nsim = 10, n), simulate_guess(10, n), n) =\", simulate_switch(simulate_prizedoor(10, n), simulate_guess(10, n), n)\n\n\ndef win_percentage(guesses, prizedoors):\n    win = float(0)\n    for sim in range(len(guesses)):\n        if guesses[sim] == prizedoors[sim]:\n            win += 1\n    win_perc = (win / len(guesses)) * 100\n    return win_perc\n\nprint \"win_percentage(simulate_guess(nsim, n), simulate_prizedoor(nsim,n))=\", win_percentage(simulate_guess(nsim, n), simulate_prizedoor(nsim,n))\nprint \"win_percentage(simulate_switch(simulate_prizedoor(nsim, n), simulate_guess(nsim, n), n), simulate_prizedoor(nsim,n))=\", win_percentage(simulate_switch(simulate_prizedoor(nsim, n), simulate_guess(nsim, n), n), simulate_prizedoor(nsim,n))\n\n\nprint \"*** PLOT Intepr 1 ***\"\n\nx = np.linspace(0, 20)\ny = win_percentage(simulate_switch(simulate_prizedoor(nsim, x), simulate_guess(nsim, x), x), simulate_prizedoor(nsim,x))\n\nplt.plot(x, y)\n\nplt.xlabel(\"X axis\")\nplt.ylabel(\"Y axis\") \n</code></pre>\n\n<p>This is the output and the error:</p>\n\n<pre><code>simulate_prizedoor(nsim = 1000, n = 30)= [2 1 0 4 3 2 2 2 0 3 1 0 4 1 0]\nsimulate_guess(nsim = 1000, n = 30)= [2 0 1 3 1 3 1 4 3 2 0 0 3 4 2]\nsimulate_switch(simulate_prizedoor(nsim = 10, n), simulate_guess(10, n), n) = [2 3 0 3 4 2 1 3 1 1]\nwin_percentage(simulate_guess(nsim, n), simulate_prizedoor(nsim,n))= 18.9\nwin_percentage(simulate_switch(simulate_prizedoor(nsim, n), simulate_guess(nsim, n), n), simulate_prizedoor(nsim,n))= 21.4\n*** PLOT Intepr 1 ***\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-1-55303947fa57&gt; in &lt;module&gt;()\n     53 \n     54 x = np.linspace(0, 20)\n---&gt; 55 y = win_percentage(simulate_switch(simulate_prizedoor(nsim, x), simulate_guess(nsim, x), x), simulate_prizedoor(nsim,x))\n     56 \n     57 plt.plot(x, y)\n\n&lt;ipython-input-1-55303947fa57&gt; in simulate_prizedoor(nsim, n)\n     10 \n     11 def simulate_prizedoor(nsim, n):\n---&gt; 12     return np.random.randint(n, size=nsim)\n     13 \n     14 prizedoors = simulate_prizedoor(nsim, n)\n\nmtrand.pyx in mtrand.RandomState.randint (numpy/random/mtrand/mtrand.c:9533)()\n\nTypeError: only length-1 arrays can be converted to Python scalars\n</code></pre>\n\n<p>I've tried to find a solution and I've rewritten most of the code. First I thought it was because im not using the NP random.randint to determine a random integer. I implemented that but the issue is still the same. Anyone here shed some light on what's exactly going wrong here? </p>\n\n<p>Im trying to plot a graph in matplotlib. With on the y-axis the winpercentage and on the horintal: n. </p>\n\n<p>Feedback appriciated!</p>\n"}, {"tags": ["python", "eclipse", "getpasswd"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1455143753, "post_id": 35327319, "comment_id": 58363263, "body": "Might be that the eclipse shell adds a character return while your normal shell doesn&#39;t."}, {"owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1455143948, "post_id": 35327319, "comment_id": 58363355, "body": "But when I replace getPass() with raw_input it works perfectly fine. Why doesn&#39;t it add extra character at the end in case of raw_input?"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 4774583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d21cfaa4db9debd5b6aa8675a785c1f?s=128&d=identicon&r=PG&f=1", "display_name": "DGuimar", "link": "https://stackoverflow.com/users/4774583/dguimar"}, "is_accepted": false, "score": 0, "last_activity_date": 1455143960, "creation_date": 1455143960, "answer_id": 35327405, "question_id": 35327319, "link": "https://stackoverflow.com/questions/35327319/getpass-appending-carriage-return-at-the-end-in-eclipse/35327405#35327405", "title": "getpass() appending carriage return at the end (in eclipse)", "body": "<p>I suspect eclipse is set to use windows newline i.e. '\\r\\n'.  You will want to set it to use the UNIX new line ('\\n')</p>\n\n<p>Basically, this means that the python method 'getpass()' is chopping the final character in the buffer.  Since you are giving two characters, it is missing the \\r.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1886185/eclipse-and-windows-newlines\">Look here</a> to see how to modify this option.</p>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455143960, "creation_date": 1455143578, "question_id": 35327319, "link": "https://stackoverflow.com/questions/35327319/getpass-appending-carriage-return-at-the-end-in-eclipse", "title": "getpass() appending carriage return at the end (in eclipse)", "body": "<p>When I run the following code in eclipse, getPass returns a string suffixed with a carriage at the end.</p>\n\n<p>However, when I run the same code in command prompt it runs without any problem.</p>\n\n<pre><code>import paramiko\nimport getpass\n\nuserPwd = getpass.getpass()\nprint ('You have entered ',userPwd)\n\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect('ese.rnd.sanl.se', username='abc', \n    password=userPwd)\nstdin,stdout,stderr=ssh.exec_command(\"ls\")\ndata1=stdout.read().splitlines();\n\nfor line in data1:\n    print (line)\n</code></pre>\n\n<p>Output (Eclipse):</p>\n\n<pre><code>Warning: Password input may be echoed.\nPassword: Mypassword@123\n('You have entered ', 'Mypassword@123\\r')\n</code></pre>\n\n<p>Output (Command Prompt):</p>\n\n<pre><code>Warning: Password input may be echoed.\nPassword: Mypassword@123\n('You have entered ', 'Mypassword@123')\n</code></pre>\n\n<p>Can anyone explain this ambiguity?</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["python", "list", "nested", "integer"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455143760, "post_id": 35327304, "comment_id": 58363267, "body": "Any particular reason you&#39;re using nested lists?  A dictionary would seem a much better fit for your data."}], "answers": [{"comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1455144129, "post_id": 35327369, "comment_id": 58363422, "body": "i would go with <code>x[1][0]</code>, as the op mentions the first number"}, {"owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1455144428, "post_id": 35327369, "comment_id": 58363548, "body": "I&#39;m assuming that in the event of a tie, the second best score should be used, rather than just preserving the initial ordering of the list.  If my assumption is correct, then the x[1] is better"}], "tags": [], "owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1455143785, "creation_date": 1455143785, "answer_id": 35327369, "question_id": 35327304, "link": "https://stackoverflow.com/questions/35327304/i-need-help-ordering-nested-loops-by-integers-and-displaying-them/35327369#35327369", "title": "I need help ordering nested loops by integers and displaying them", "body": "<p>You probably want to look up the sort function in python and the key parameter.</p>\n\n<pre><code>myList = [['Bob',[3,2,1]],['Kate',[5,4,3]],['Jim',[4,3,2]]]\nmyList.sort(key= lambda x: x[1], reverse=True)\nprint myList \n\n[['Kate', [5, 4, 3]], ['Jim', [4, 3, 2]], ['Bob', [3, 2, 1]]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 1, "last_activity_date": 1455144029, "creation_date": 1455144029, "answer_id": 35327432, "question_id": 35327304, "link": "https://stackoverflow.com/questions/35327304/i-need-help-ordering-nested-loops-by-integers-and-displaying-them/35327432#35327432", "title": "I need help ordering nested loops by integers and displaying them", "body": "<pre><code>&gt;&gt;&gt; sorted( [['Bob',[3,2,1]],['Kate',[5,4,3]],['Jim',[4,3,2]]], key=lambda l:-l[1][0])\n[['Kate', [5, 4, 3]], ['Jim', [4, 3, 2]], ['Bob', [3, 2, 1]]]\n</code></pre>\n\n<p>Then to print as you describe:</p>\n\n<pre><code>&gt;&gt;&gt; li=[['Bob',[3,2,1]],['Kate',[5,4,3]],['Jim',[4,3,2]]]\n&gt;&gt;&gt; [\"{}: {}\".format(n, max(sl)) for n, sl in sorted(li, key=lambda l:l[1][0], reverse=True)]\n['Kate: 5', 'Jim: 4', 'Bob: 3']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 5909697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3R6MM.jpg?s=128&g=1", "display_name": "Brilsmurfffje", "link": "https://stackoverflow.com/users/5909697/brilsmurfffje"}, "is_accepted": false, "score": 0, "last_activity_date": 1455145116, "last_edit_date": 1455145116, "creation_date": 1455144651, "answer_id": 35327555, "question_id": 35327304, "link": "https://stackoverflow.com/questions/35327304/i-need-help-ordering-nested-loops-by-integers-and-displaying-them/35327555#35327555", "title": "I need help ordering nested loops by integers and displaying them", "body": "<p>Yes this is possible:</p>\n\n<pre><code>data = [['Bob',[3,2,1]],['Kate',[5,4,3]],['Jim',[4,3,2]]] \n\nprint sorted(data,key=lambda x: x[0][1])\n</code></pre>\n\n<p>here x[0][1] points to the value on which you want to have it sorted, in this case the first number of the array. This is assuming that the array of numbers is already sorted.<br>\nThe code prints:</p>\n\n<pre><code>[['Kate', [5, 4, 3]], ['Jim', [4, 3, 2]], ['Bob', [3, 2, 1]]]\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5910863, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R8kzrKH98T4/AAAAAAAAAAI/AAAAAAAAABM/GdaTOH6VTso/photo.jpg?sz=128", "display_name": "Dilsaajan Duggal", "link": "https://stackoverflow.com/users/5910863/dilsaajan-duggal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 35327432, "answer_count": 3, "score": 3, "last_activity_date": 1455207695, "creation_date": 1455143496, "last_edit_date": 1455207695, "question_id": 35327304, "link": "https://stackoverflow.com/questions/35327304/i-need-help-ordering-nested-loops-by-integers-and-displaying-them", "title": "I need help ordering nested loops by integers and displaying them", "body": "<p>I need help ordering a nested list by a specific integer in it, first I sorted the order of numbers in each list, eg <code>[['Bob',[3,2,1]],['Kate',[5,4,3]]]</code>. </p>\n\n<p>But now I need to order each object(list) in the list according to the first number of each object from highest to lowest, for example: `[['Bob',[3,2,1]],</p>\n\n<p>I then need to print out the highest number in each list of numbers with the name.</p>\n"}, {"tags": ["python", "arrays", "scipy", "trend"], "comments": [{"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1455182127, "post_id": 35327272, "comment_id": 58377778, "body": "Here&#39;s the source of <code>scipy.signal.detrend</code>: <a href=\"https://github.com/scipy/scipy/blob/v0.16.1/scipy/signal/signaltools.py#L1765\" rel=\"nofollow noreferrer\">github.com/scipy/scipy/blob/v0.16.1/scipy/signal/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 5897393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc32c7631aa4c704db5d6eeb9758672?s=128&d=identicon&r=PG&f=1", "display_name": "pip", "link": "https://stackoverflow.com/users/5897393/pip"}, "is_accepted": false, "score": 1, "last_activity_date": 1455155543, "creation_date": 1455155543, "answer_id": 35329441, "question_id": 35327272, "link": "https://stackoverflow.com/questions/35327272/how-do-i-calculate-linear-trend-for-a-multi-dimensional-array-in-python/35329441#35329441", "title": "How do I calculate linear trend for a multi-dimensional array in Python", "body": "<p>I would look into <code>numpy.polyfit</code> but I'm not sure what performance gain it has over <code>scipy.stats.linregress</code>.\nIt's pretty fast from my experience. You might have to do some math on your own to get r and p values from residuals and covariance matrix.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14192256, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZSzU3WRb0AA/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuck791l5-4pmwPy-4ouAQYrNjoQ1hg/photo.jpg?sz=128", "display_name": "Kedar Otta", "link": "https://stackoverflow.com/users/14192256/kedar-otta"}, "is_accepted": false, "score": 0, "last_activity_date": 1598807712, "creation_date": 1598807712, "answer_id": 63660074, "question_id": 35327272, "link": "https://stackoverflow.com/questions/35327272/how-do-i-calculate-linear-trend-for-a-multi-dimensional-array-in-python/63660074#63660074", "title": "How do I calculate linear trend for a multi-dimensional array in Python", "body": "<p>slope(m) and intercept(c) can easily be calculated using signal.detrend. Please check the code below for a signal y</p>\n<pre><code>    detrended_y=signal.detrend(y, axis=0, type='linear')\n    trend_y=y-detrended_y\n    trend_c=trend_y[0,:,:] # intercept\n    trend_m=trend_y[1,:,:]-trend_y[0,:,:] #slope\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5571869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66febe75b0856d160b4cca7a3fa0546b?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/5571869/joakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598807712, "creation_date": 1455143376, "question_id": 35327272, "link": "https://stackoverflow.com/questions/35327272/how-do-i-calculate-linear-trend-for-a-multi-dimensional-array-in-python", "title": "How do I calculate linear trend for a multi-dimensional array in Python", "body": "<p>I've got a 3d array of shape (time,latitude,longitude). I'd like to calculate the linear trend at each lon/lat point. \nI know I can simply loop over all points and use spicy.stats.linregress at each point. However, that gets quite slow for large arrays. </p>\n\n<p>The scipy function \"detrend\" can calculate and remove linear trends for n-dimensional arrays, and is really fast. But I can't find any method to just calculate the trends. </p>\n\n<p>Does anyone know of a fast way to calculate slope, intercept, r value and p value for each point on a large grid?</p>\n\n<p>Any help/suggestion is greatly appreciated!</p>\n\n<p>Cheers\nJoakim</p>\n"}, {"tags": ["python", "arrays", "text", "char", "words"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 7, "creation_date": 1455143119, "post_id": 35327177, "comment_id": 58362957, "body": "Seems like a job for a <code>collections.Counter</code> . . ."}], "answers": [{"tags": [], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "is_accepted": false, "score": 2, "last_activity_date": 1455144321, "last_edit_date": 1455144321, "creation_date": 1455143968, "answer_id": 35327409, "question_id": 35327177, "link": "https://stackoverflow.com/questions/35327177/python-how-do-you-check-how-many-times-an-item-appears-in-an-array/35327409#35327409", "title": "Python, How do you check how many times an item appears in an array", "body": "<p>I'd do something like this:</p>\n\n<pre><code>import re\nfrom collections import Counter\n\ntext = input(\"Please enter some text \")\ntext = re.sub(' +', ' ', text)\ntext = text.split(' ')\ncounter = Counter(text)\n</code></pre>\n\n<p>The line <code>text = re.sub(' +', ' ', text)</code> deals with cases where the user enters multiple consecutive spaces.</p>\n"}], "owner": {"reputation": 1, "user_id": 5910874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724497fe7c8750ac77d6c4291633e79a?s=128&d=identicon&r=PG&f=1", "display_name": "Kolacats", "link": "https://stackoverflow.com/users/5910874/kolacats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1455144321, "creation_date": 1455143077, "question_id": 35327177, "link": "https://stackoverflow.com/questions/35327177/python-how-do-you-check-how-many-times-an-item-appears-in-an-array", "title": "Python, How do you check how many times an item appears in an array", "body": "<p>I'm making a program that finds every word in a block of text and outputs each word and how many times the word was used.</p>\n\n<p>My current code is here:</p>\n\n<pre><code>text = input(\"Please enter some text \")\nterminator = len(text)\n    n = 0\n    word = \"\"\n    wordlist = []\n    while len(text) &gt; 0:\n        if word != \"\":\n            wordlist.append(word)\n        text = text[n:]\n        word = \"\"\n        n = 0\n        for char in text:\n            if char != \" \":\n                word = word + char\n                n = n + 1\n            else:\n                text = text[1:]\n                break\n    for item in wordlist:\n        print(item)\n</code></pre>\n\n<p>thanks :)</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455143160, "post_id": 35327164, "comment_id": 58362980, "body": "Do you have a less abstract example? If you really want to be safe, use <code>getattr</code> or <code>try</code> the attribute access."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 1, "creation_date": 1455143162, "post_id": 35327164, "comment_id": 58362982, "body": "Python does not have destructors.  It does have finalizers.  Usually, the correct way to do things is to avoid using them altogether."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1455143307, "post_id": 35327164, "comment_id": 58363058, "body": "It&#39;s also worth noting that the exception generated in <code>__del__</code> is being ignored."}], "answers": [{"comments": [{"owner": {"reputation": 5041, "user_id": 21322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a051997ee1a6345a65be6c5dbd92f2?s=128&d=identicon&r=PG", "display_name": "Nzbuu", "link": "https://stackoverflow.com/users/21322/nzbuu"}, "edited": false, "score": 0, "creation_date": 1455143902, "post_id": 35327221, "comment_id": 58363329, "body": "Does this mean that the <code>self._obj = obj</code> line replaces the class attribute with an instance one?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 5041, "user_id": 21322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a051997ee1a6345a65be6c5dbd92f2?s=128&d=identicon&r=PG", "display_name": "Nzbuu", "link": "https://stackoverflow.com/users/21322/nzbuu"}, "edited": false, "score": 0, "creation_date": 1455147302, "post_id": 35327221, "comment_id": 58364719, "body": "Not replaces, no. The instance attribute <i>masks</i> the class attribute as Python looks up attributes first on the instance, then the class, then base classes."}, {"owner": {"reputation": 5041, "user_id": 21322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a051997ee1a6345a65be6c5dbd92f2?s=128&d=identicon&r=PG", "display_name": "Nzbuu", "link": "https://stackoverflow.com/users/21322/nzbuu"}, "edited": false, "score": 0, "creation_date": 1455190158, "post_id": 35327221, "comment_id": 58383374, "body": "Ah, OK. That makes more sense. Thanks."}, {"owner": {"reputation": 5041, "user_id": 21322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a051997ee1a6345a65be6c5dbd92f2?s=128&d=identicon&r=PG", "display_name": "Nzbuu", "link": "https://stackoverflow.com/users/21322/nzbuu"}, "edited": false, "score": 0, "creation_date": 1455190221, "post_id": 35327221, "comment_id": 58383424, "body": "I think I prefer the <code>getattr</code> approach. Although I think I&#39;ve figured how to do what I was intending with context managers and <code>contextlib.ExitStack</code>."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1455143217, "creation_date": 1455143217, "answer_id": 35327221, "question_id": 35327164, "link": "https://stackoverflow.com/questions/35327164/python-destructor-for-failed-constructor/35327221#35327221", "title": "Python destructor for failed constructor", "body": "<p>Test if the attribute is actually set, <em>or</em> provide a default by also making it a class attribute.</p>\n\n<p>For example, setting a class attribute makes your current code work:</p>\n\n<pre><code>class MyClass:\n    _obj = None  # class attribute\n\n    def __init__(self, obj):\n        self._obj = obj\n\n    def __del__(self):\n        if self._obj:\n            print(self._obj)\n</code></pre>\n\n<p>or use <code>getattr()</code> with a default:</p>\n\n<pre><code>def __del__(self):\n    if getattr(self, '_obj', None):\n        print(self._obj)\n</code></pre>\n\n<p>The 3rd argument is returned if the attribute isn't present.</p>\n"}, {"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1455143242, "creation_date": 1455143242, "answer_id": 35327233, "question_id": 35327164, "link": "https://stackoverflow.com/questions/35327164/python-destructor-for-failed-constructor/35327233#35327233", "title": "Python destructor for failed constructor", "body": "<p>You can use a class-property:</p>\n\n<pre><code>class MyClass(object):\n    _obj = None\n\n    def __init__(self, obj):\n        self._obj = obj\n\n    def __del__(self):\n        if self._obj:\n            print(self._obj)\n</code></pre>\n\n<p>This way, there is always a default (falsy) value (if the instance lookup fails, the class lookup will succeed).</p>\n\n<p>With that said, <code>__del__</code> in python is sort of a black sheep.  Generally the advice is \"don't use it\" for a number of reasons.  Context managers are often a slightly more explicit substitute (though they don't cover all use cases).</p>\n"}], "owner": {"reputation": 5041, "user_id": 21322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94a051997ee1a6345a65be6c5dbd92f2?s=128&d=identicon&r=PG", "display_name": "Nzbuu", "link": "https://stackoverflow.com/users/21322/nzbuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 35327221, "answer_count": 2, "score": 1, "last_activity_date": 1455143242, "creation_date": 1455143024, "question_id": 35327164, "link": "https://stackoverflow.com/questions/35327164/python-destructor-for-failed-constructor", "title": "Python destructor for failed constructor", "body": "<p>Given the following example class in Python:</p>\n\n<pre><code>class MyClass:\n    def __init__(self, obj):\n        self._obj = obj\n\n    def __del__(self):\n        if self._obj:\n            print(self._obj)\n</code></pre>\n\n<p>in the test suite, I would want to check that an exception is thrown when the constructor is called with no arguments, i.e.:</p>\n\n<pre><code>c = MyClass()\n</code></pre>\n\n<p>With this, I get the expected exception from the constructor:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \".../example.py\", line 9, in &lt;module&gt;\n    c = MyClass()\nTypeError: __init__() missing 1 required positional argument: 'obj'\n</code></pre>\n\n<p>However, the destructor also fails with the message:</p>\n\n<pre><code>Exception ignored in: &lt;bound method MyClass.__del__ of &lt;__main__.MyClass object at 0x0000023D1211CD30&gt;&gt;\nTraceback (most recent call last):\n  File \".../example.py\", line 6, in __del__\n    if self._obj:\nAttributeError: 'MyClass' object has no attribute '_obj'\n</code></pre>\n\n<p>Presumably, this is because the constructor is never called since there is an argument missing, so the attributes are never created.</p>\n\n<p>What's the correct way to handle this?</p>\n"}, {"tags": ["python", "json", "flask"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1455143154, "post_id": 35327147, "comment_id": 58362975, "body": "From my answer on the duplicate: <i>Flask 0.10 added the <code>request.get_json()</code> method, and you should use that method instead of the <code>.json</code> property. You can tell the method to skip the content type requirement by setting <code>force=True</code>.</i>"}, {"owner": {"reputation": 372, "user_id": 2069580, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7af641215097654ec710c221903c1ba4?s=128&d=identicon&r=PG", "display_name": "djh", "link": "https://stackoverflow.com/users/2069580/djh"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1455144705, "post_id": 35327147, "comment_id": 58363667, "body": "thanks. sorry I missed the duplicate. Not-So-Hypothetical-Follow-Up: What if I am in a production environment with Flask 0.9 and upgrading third-party is not possible right now :)? Can you recommend any workaround?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1455147449, "post_id": 35327147, "comment_id": 58364768, "body": "Use <code>json.loads(request.data)</code> in that case."}], "owner": {"reputation": 372, "user_id": 2069580, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7af641215097654ec710c221903c1ba4?s=128&d=identicon&r=PG", "display_name": "djh", "link": "https://stackoverflow.com/users/2069580/djh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1455143112, "answer_count": 0, "score": 0, "last_activity_date": 1455142974, "creation_date": 1455142974, "question_id": 35327147, "link": "https://stackoverflow.com/questions/35327147/flask-request-json-with-custom-mimetype", "closed_reason": "Duplicate", "title": "flask request.json with custom mimetype", "body": "<p>My api requires <code>application/vnd.api+json</code> to be the sole mimetype for all interaction.</p>\n\n<p>If I <code>POST</code> to an endpoint with the header <code>Content-Type: application/vnd.api+json</code>, I examine the <code>request</code> object and <code>request.json</code> is <code>None</code>.</p>\n\n<p>On the other hand, POSTing the same data with the standard <code>Content-Type: application/json</code> populates the <code>request.json</code> attr with the data I need.</p>\n\n<p>What are my options to populate <code>request.json</code> with the data I need when using a custom mimetype? Subclassing request? Setting some parameter on the application instance?</p>\n"}, {"tags": ["python", "oracle", "oracle12c"], "answers": [{"comments": [{"owner": {"reputation": 1972, "user_id": 3738356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/e17701b63957cb2224001256ad355f6b?s=128&d=identicon&r=PG&f=1", "display_name": "interestedparty333", "link": "https://stackoverflow.com/users/3738356/interestedparty333"}, "edited": false, "score": 0, "creation_date": 1455205584, "post_id": 35327257, "comment_id": 58394697, "body": "Thanks for the quick help!"}], "tags": [], "owner": {"reputation": 688, "user_id": 2502422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c5239f8079ab304d58579649a6e92a3?s=128&d=identicon&r=PG", "display_name": "Marco Polo", "link": "https://stackoverflow.com/users/2502422/marco-polo"}, "is_accepted": false, "score": 4, "last_activity_date": 1455143327, "creation_date": 1455143327, "answer_id": 35327257, "question_id": 35327135, "link": "https://stackoverflow.com/questions/35327135/retrieving-identity-of-most-recent-insert-in-oracle-db-12c/35327257#35327257", "title": "Retrieving identity of most recent insert in Oracle DB 12c", "body": "<p>Use the returning clause of the insert statement.</p>\n\n<pre><code>insert into hypervisor (name ) values ('my hypervisor')\n returning id into :python_var\n</code></pre>\n\n<p>You said you could handle the Python bit ? You should be able to \"bind\" the return parameter in your program.</p>\n"}, {"comments": [{"owner": {"reputation": 688, "user_id": 2502422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c5239f8079ab304d58579649a6e92a3?s=128&d=identicon&r=PG", "display_name": "Marco Polo", "link": "https://stackoverflow.com/users/2502422/marco-polo"}, "edited": false, "score": 0, "creation_date": 1455199314, "post_id": 35328616, "comment_id": 58389955, "body": "That&#39;s the Python part i couldn&#39;t do :)"}, {"owner": {"reputation": 427, "user_id": 590700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa5700e72e12fa378cb6e779bb4157ad?s=128&d=identicon&r=PG", "display_name": "Niels Tolstrup", "link": "https://stackoverflow.com/users/590700/niels-tolstrup"}, "edited": false, "score": 1, "creation_date": 1600082784, "post_id": 35328616, "comment_id": 112966294, "body": "I replaced :python_var in line 4 with :newest_id_sql_param to make it work for me."}], "tags": [], "owner": {"reputation": 1972, "user_id": 3738356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/e17701b63957cb2224001256ad355f6b?s=128&d=identicon&r=PG&f=1", "display_name": "interestedparty333", "link": "https://stackoverflow.com/users/3738356/interestedparty333"}, "is_accepted": true, "score": 10, "last_activity_date": 1455150090, "creation_date": 1455150090, "answer_id": 35328616, "question_id": 35327135, "link": "https://stackoverflow.com/questions/35327135/retrieving-identity-of-most-recent-insert-in-oracle-db-12c/35328616#35328616", "title": "Retrieving identity of most recent insert in Oracle DB 12c", "body": "<p>Taking what user2502422 said above and adding the python bit:</p>\n\n<pre><code>newest_id_wrapper = cursor.var(cx_Oracle.STRING)\nsql_params = { \"newest_id_sql_param\" : newest_id_wrapper }\nsql = \"insert into hypervisor ( name ) values ('my hypervisor') \" + \\             \n      \"returning id into :python_var\"\ncursor.execute(sql, sql_params)\nnewest_id=newest_id_wrapper.getvalue()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2475, "user_id": 5941620, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mlHRJ.png?s=128&g=1", "display_name": "F&#233;lix Paradis", "link": "https://stackoverflow.com/users/5941620/f%c3%a9lix-paradis"}, "is_accepted": false, "score": 5, "last_activity_date": 1511471528, "last_edit_date": 1592644375, "creation_date": 1511471528, "answer_id": 47463311, "question_id": 35327135, "link": "https://stackoverflow.com/questions/35327135/retrieving-identity-of-most-recent-insert-in-oracle-db-12c/47463311#47463311", "title": "Retrieving identity of most recent insert in Oracle DB 12c", "body": "<p>This example taken from <a href=\"https://learncodeshare.net/2015/06/26/insert-crud-using-cx_oracle/\" rel=\"nofollow noreferrer\">learncodeshare.net</a> has helped me grasp the correct syntax.</p>\n<pre><code>cur = con.cursor()\n\nnew_id = cur.var(cx_Oracle.NUMBER)\n\nstatement = 'insert into cx_people(name, age, notes) values (:1, :2, :3) returning id into :4'\ncur.execute(statement, ('Sandy', 31, 'I like horses', new_id))\n\nsandy_id = new_id.getvalue()\n\npet_statement = 'insert into cx_pets (name, owner, type) values (:1, :2, :3)'\ncur.execute(pet_statement, ('Big Red', sandy_id, 'horse'))\n\ncon.commit()\n</code></pre>\n<p>It's only slightly different from ragerdl's answer, but different enough to be added here I believe!\nNotice the absence of <code>sql_params = { &quot;newest_id_sql_param&quot; : newest_id_wrapper }</code></p>\n"}, {"tags": [], "owner": {"reputation": 785, "user_id": 978854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cf33eb684d70197b0c482f21e682f0d?s=128&d=identicon&r=PG", "display_name": "Bradley Slavik", "link": "https://stackoverflow.com/users/978854/bradley-slavik"}, "is_accepted": false, "score": 0, "last_activity_date": 1516879362, "last_edit_date": 1516879362, "creation_date": 1516879025, "answer_id": 48441600, "question_id": 35327135, "link": "https://stackoverflow.com/questions/35327135/retrieving-identity-of-most-recent-insert-in-oracle-db-12c/48441600#48441600", "title": "Retrieving identity of most recent insert in Oracle DB 12c", "body": "<p>I liked the answer by Marco Polo, but it is incomplete. \nThe answer from FelDev is good too but does not address named parameters.\nHere is a more complete example from code I wrote with a simplified table (less fields). I have omitted code on how to set up a cursor since that is well documented elsewhere.</p>\n\n<pre><code>import cx_Oracle\n\nINSERT_A_LOG = '''INSERT INTO A_LOG(A_KEY, REGION, DIR_NAME, FILENAME)\nVALUES(A_KEY_Sequence.nextval, :REGION, :DIR_NAME, :FILENAME)\nRETURNING A_KEY INTO :A_LOG_ID'''\n\nCURSOR = None\n\nclass DataProcessor(Process):\n    # Other code for setting up connection to DB and storing it in CURSOR\n    def save_log_entry(self, row):\n        global CURSOR\n        # Oracle variable to hold value of last insert\n        log_var = CURSOR.var(cx_Oracle.NUMBER)\n        row['A_LOG_ID'] = log_var\n\n        row['REGION'] = 'R7' # Other entries set elsewhere\n        try:\n            # This will fail unless row.keys() = \n            # ['REGION', 'DIR_NAME', 'FILE_NAME', 'A_LOG_ID']\n            CURSOR.execute(INSERT_A_LOG, row)\n        except Exception as e:\n            row['REJCTN_CD'] = 'InsertFailed'\n            raise\n\n        # Get last inserted ID from Oracle for update\n        self.last_log_id = log_var.getvalue()\n        print('Insert id was {}'.format(self.last_log_id))\n</code></pre>\n"}], "owner": {"reputation": 1972, "user_id": 3738356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/e17701b63957cb2224001256ad355f6b?s=128&d=identicon&r=PG&f=1", "display_name": "interestedparty333", "link": "https://stackoverflow.com/users/3738356/interestedparty333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3373, "favorite_count": 1, "accepted_answer_id": 35328616, "answer_count": 4, "score": 8, "last_activity_date": 1516879362, "creation_date": 1455142940, "last_edit_date": 1455581645, "question_id": 35327135, "link": "https://stackoverflow.com/questions/35327135/retrieving-identity-of-most-recent-insert-in-oracle-db-12c", "title": "Retrieving identity of most recent insert in Oracle DB 12c", "body": "<p>I'd like to have returned to me (via cx_oracle in python) the value of the Identity that's created for a row that I'm inserting.  I think I can figure out the python bit on my own, if someone could please state how to modify my SQL statement to get the ID of the newly-created row.</p>\n\n<p>I have a table that's created with something like the following:</p>\n\n<pre><code>CREATE TABLE hypervisor\n  (\n    id NUMBER GENERATED BY DEFAULT AS IDENTITY (\n    START WITH 1 NOCACHE ORDER ) NOT NULL ,\n    name       VARCHAR2 (50)\n  )\n  LOGGING ;\nALTER TABLE hypervisor ADD CONSTRAINT hypervisor_PK PRIMARY KEY ( id ) ;\n</code></pre>\n\n<p>And I have SQL that's similar to the following:</p>\n\n<pre><code>insert into hypervisor ( name ) values ('my hypervisor')\n</code></pre>\n\n<p>Is there an easy way to obtain the <code>id</code> of the newly inserted row?  I'm happy to modify my SQL statement to have it returned, if that's possible.</p>\n\n<p>Most of the google hits on this issue were for version 11 and below, which don't support automatically-generated identity columns so hopefully someone here can help out.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1455182503, "post_id": 35327104, "comment_id": 58378046, "body": "With <code>names</code> it is loading the data as a 1d <code>structured</code> array.  Look at its <code>dtype</code>.  Read the docs on dtype and structured. It&#39;s also a frequent SO question."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1455183018, "post_id": 35327104, "comment_id": 58378393, "body": "<a href=\"http://stackoverflow.com/q/35259650/901925\">stackoverflow.com/q/35259650/901925</a>"}], "owner": {"reputation": 31, "user_id": 4019886, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zaPzsxtwKsU/AAAAAAAAAAI/AAAAAAAAC2U/UqPbz1x9Hq4/photo.jpg?sz=128", "display_name": "Jonathon D", "link": "https://stackoverflow.com/users/4019886/jonathon-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455143444, "creation_date": 1455142865, "last_edit_date": 1455143444, "question_id": 35327104, "link": "https://stackoverflow.com/questions/35327104/genfromtxt-names-changes-the-shape-of-the-array", "title": "genfromtxt names changes the shape of the array", "body": "<p>I am importing a decent amount of data from a CSV file. The original CSV file has around 40 columns, I am trimming it down and want to use my own names (as shown below) for column names. </p>\n\n<pre><code>import numpy as np\nimport math\nimport sys\nimport matplotlib.pyplot as plt\n\nprint(sys.argv)\ndata1 = np.genfromtxt(\nsys.argv[1], \nskip_header=10,\nskip_footer=1, \ndelimiter=',',\nusecols=(0,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27),\nnames=['line','TPS','mph','rpm','load','engtemp','trq','month','day','T1','T2','T3','T4','T5','T6','T7','T8','T9','T10','T11','T12','T13','T14','T15','T16'])\n</code></pre>\n\n<p>Unfortunately this changes the shape of the array and I don't know how to compensate for it, neither do I know how to call out the names. Originally I was hoping that it would save each column as it's own list with the name specified. If you know of a function that does that, that would be neat!</p>\n\n<p>So, the question. \nWhy does the above not work when I try to reference a column for plotting</p>\n\n<pre><code>plt.plot(data1[:,9])\n</code></pre>\n\n<p>but when I remove the names argument from genfromtxt it works fine?</p>\n\n<p>and</p>\n\n<p>is there a way to do something like? \n    plt.plot(data1[T1])</p>\n\n<p>Could it be because the 'names' argument is trying to name the rows, not the columns?\nWhen names is used I get the error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"HeatReport.py\", line 48, in &lt;module&gt;\n    print(data1[3,9])\nIndexError: too many indices for array\n</code></pre>\n"}, {"tags": ["python", "heroku", "pip", "youtube-dl", "echonest"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5318974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d3d3ad124d8c525bfcd7b07077d8a?s=128&d=identicon&r=PG&f=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/5318974/miguel"}, "is_accepted": true, "score": 0, "last_activity_date": 1456437238, "creation_date": 1456437238, "answer_id": 35639132, "question_id": 35327053, "link": "https://stackoverflow.com/questions/35327053/error-30-installing-python-library-with-pip-on-heroku/35639132#35639132", "title": "Error 30 installing Python library with Pip on Heroku", "body": "<p>The problem was that the Echo Nest Remix package copied a couple of folders from its package onto Heroku's project directory and this is illegal.</p>\n\n<p>I had to fork the Remix repository, delete the directories that were getting copied over, change any mention of them in the code, and use this new fork to install Remix.</p>\n\n<p>For anybody that is having the same problem and wants to use this fork, keep in mind that I had to remove any mention of youtube-dl in the repository. This was not an issue because my application does not need youtube-dl, but yours might.</p>\n\n<p>You can find the forked Remix (2.2.1) repository at <a href=\"https://github.com/Mdelvalle/remix\" rel=\"nofollow\">https://github.com/Mdelvalle/remix</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 5318974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579d3d3ad124d8c525bfcd7b07077d8a?s=128&d=identicon&r=PG&f=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/5318974/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 35639132, "answer_count": 1, "score": 0, "last_activity_date": 1456437238, "creation_date": 1455142666, "question_id": 35327053, "link": "https://stackoverflow.com/questions/35327053/error-30-installing-python-library-with-pip-on-heroku", "title": "Error 30 installing Python library with Pip on Heroku", "body": "<p>I'm trying to install <a href=\"https://echonest.github.io/remix/python.html\" rel=\"nofollow\">The Echo Nest Remix</a> Python Library on Heroku, but it seems that at the end it tries to copy some data even though Heroku is read-only.</p>\n\n<p><a href=\"https://gist.github.com/Mdelvalle/e955e09ce51afad5c3b0\" rel=\"nofollow\" title=\"Here&#39;s\">Here's</a> what happens when pushing to Heroku master.</p>\n\n<p>Error:</p>\n\n<pre><code>remote:            running install_data\nremote:            copying external/youtube-dl/youtube-dl -&gt; /usr/local/bin\nremote:            error: [Errno 30] Read-only file system: '/usr/local/bin/youtube-dl'\nremote:\nremote:            ----------------------------------------\nremote:        Command \"/app/.heroku/python/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-sEL0Eg-build/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-6TegpX-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-sEL0Eg-build\nremote:\nremote:  !     Push rejected, failed to compile Python app\n</code></pre>\n\n<p>My requirements.txt looks like:</p>\n\n<pre><code>numpy==1.6.2\nhttp://static.echonest.com/remix/packages/remix-2.2.1.tar.gz\n</code></pre>\n\n<p>My runtime.txt looks like:</p>\n\n<pre><code>python-2.7.10\n</code></pre>\n\n<p>Is there any way to get past this? Has anyone successfully installed Remix on Heroku?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1455141954, "post_id": 35326851, "comment_id": 58362462, "body": "Why is there a ! before blah? Is that intended?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1455141992, "post_id": 35326851, "comment_id": 58362480, "body": "@timgeb &quot;How to write (a character) before &amp; after certain substrings&quot;?"}, {"owner": {"reputation": 772, "user_id": 3812918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RtL22.jpg?s=128&g=1", "display_name": "movac", "link": "https://stackoverflow.com/users/3812918/movac"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1455141999, "post_id": 35326851, "comment_id": 58362484, "body": "@timgeb yes my goal is to be able to surround a substring with another character. Maybe quotes would have been a better example hahaha i want to find a substring and say put quotes around it &quot;like this&quot;"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455142019, "post_id": 35326851, "comment_id": 58362494, "body": "@cricket_007 oh, I skipped the &amp;, nevermind"}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 4, "creation_date": 1455142029, "post_id": 35326851, "comment_id": 58362497, "body": "You can&#39;t really insert text into a text file.  You are better off completely rewriting the file to a temporary file, and moving the temporary file over the input file once you are done."}, {"owner": {"reputation": 772, "user_id": 3812918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RtL22.jpg?s=128&g=1", "display_name": "movac", "link": "https://stackoverflow.com/users/3812918/movac"}, "reply_to_user": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1455142435, "post_id": 35326851, "comment_id": 58362674, "body": "@SvenMarnach ohhh i see thank you! I&#39;ll give that a shot"}], "answers": [{"comments": [{"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 1, "creation_date": 1455143028, "post_id": 35327081, "comment_id": 58362910, "body": "<code>os.tmpnam</code> is a bad choice.  Use <code>tempfile.NamedTemporaryFile()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1969453"}, "reply_to_user": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143050, "post_id": 35327081, "comment_id": 58362922, "body": "You could possibly use mmap and do an in memory edit but it would be more obscure."}, {"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143111, "post_id": 35327081, "comment_id": 58362950, "body": "mmap would also probably be limited to 4GB files, depending on the system."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1969453"}, "reply_to_user": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143315, "post_id": 35327081, "comment_id": 58363064, "body": "Not if you did it in chunks.  What is bad about os.tmpnam beyond that it is eventually deprecated?  Anything more?"}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1455143439, "post_id": 35327081, "comment_id": 58363121, "body": "@SamanthaAtkins <code>os.tmpnam</code> is prone to creating race conditions that result in security issues.  You shouldn&#39;t ever use it, there is not reason to."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1969453"}, "is_accepted": false, "score": 0, "last_activity_date": 1455142798, "creation_date": 1455142798, "answer_id": 35327081, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python/35327081#35327081", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>The only way I know to do this sort of thing is to write to a new file and rename it to the old file name at the end.  Something like:</p>\n\n<pre><code>def mod_inline(myfilepath):\n  tmp = os.tmpnam()\n  with open(tmp,'w') as outfile:\n     with open(myfilepath, 'r') as infile:\n        for line in infile:\n          if 'blah' in line:\n            outfile.write(line + '!')\n          else:\n            outfile.write(line)\n  os.rename(tmp, myfilepath)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 1, "creation_date": 1455142997, "post_id": 35327082, "comment_id": 58362892, "body": "Why play with lines?  Why not just <code>f.read().replace(&#39;blah&#39;, &#39;!blah!&#39;)</code>?"}, {"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "reply_to_user": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143393, "post_id": 35327082, "comment_id": 58363100, "body": "@pjvandehaar Thank you, I edited my answer accordingly."}, {"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143471, "post_id": 35327082, "comment_id": 58363134, "body": "Why <code>file_content = &#39;&#39;</code>?"}, {"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "reply_to_user": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143822, "post_id": 35327082, "comment_id": 58363296, "body": "What would you suggest instead?"}, {"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143966, "post_id": 35327082, "comment_id": 58363366, "body": "Just remove that line."}], "tags": [], "owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "is_accepted": false, "score": 1, "last_activity_date": 1455144049, "last_edit_date": 1455144049, "creation_date": 1455142803, "answer_id": 35327082, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python/35327082#35327082", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>Open the file, use <code>replace()</code> to modify the content and save the result to a string. Then you can write the string to your file.</p>\n\n<pre><code>file_name = 'inputFile.txt'\n\nwith open(file_name, 'r') as f:\n    file_content = f.read().replace('blah', '!blah!')\n\nwith open(file_name, 'w') as f:\n    f.write(file_content)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1455143368, "last_edit_date": 1455143368, "creation_date": 1455142860, "answer_id": 35327103, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python/35327103#35327103", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>Input = <code>sample.txt</code></p>\n\n<pre><code>blah blub blur\ntest hello world\n</code></pre>\n\n<p>Code - Read the file, operate on the lines, output to same file</p>\n\n<pre><code>filename = 'sample.txt'\n\n# Read the file\nwith open(filename) as f:\n    file_lines = f.readlines()\n\n# Operate on the lines\nchar = '!'\nreplace = 'blah'\n\nfor i,line in enumerate(file_lines):\n    file_lines[i] = line.replace(replace, '{0}{1}{0}'.format(char, replace))\n\n# Overwrite the file with the new content\nwith open(filename, \"w\") as f:\n    for line in file_lines:\n        f.write(line)\n</code></pre>\n\n<p>Output - characters surrounding the string</p>\n\n<pre><code>!blah! blub blur\ntest hello world\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143539, "post_id": 35327108, "comment_id": 58363166, "body": "Why one line at a time?  What about <code>surround_keysubs(f.read(), keysubs, char)</code>?"}], "tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1455143624, "last_edit_date": 1455143624, "creation_date": 1455142870, "answer_id": 35327108, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python/35327108#35327108", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>Here's an approach with the re-module, which allows you to be a little more flexible and define multiple substrings to be surrounded by another string.</p>\n\n<p>Code/Demo:</p>\n\n<pre><code>import re\n\ndef surround_keysubs(s, ksubs, char):\n    regex = '|'.join(ksubs)\n    repl_fun = lambda m: '{}{}{}'.format(char, m.group(), char)\n    return re.sub(regex, repl_fun, s)\n\nkeysubs = {'blah', 'bar'}\nchar = '!'\n\nwith open('testfile') as f:        \n    content = surround_keysubs(f.read(), keysubs, char)\n\nwith open('testfile', 'w') as out:\n    out.write(content)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>$ cat testfile \nblah blurh blap\nfoo bar buzz\nblah blurh blap\n$ python surround_keysubs.py \n$ cat testfile \n!blah! blurh blap\nfoo !bar! buzz\n!blah! blurh blap\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 978, "user_id": 1166306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b850cb558316dcd3cdb6e447531b4e0d?s=128&d=identicon&r=PG", "display_name": "pjvandehaar", "link": "https://stackoverflow.com/users/1166306/pjvandehaar"}, "edited": false, "score": 0, "creation_date": 1455143361, "post_id": 35327179, "comment_id": 58363084, "body": "This fails on windows, because you can&#39;t overwrite a file by <code>os.rename</code>."}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 1, "creation_date": 1455144488, "post_id": 35327179, "comment_id": 58363578, "body": "This is actually Windows being broken, not this code. :)"}], "tags": [], "owner": {"reputation": 2394, "user_id": 629187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/82f622c78263b1bd52e6f2165d1cd049?s=128&d=identicon&r=PG", "display_name": "Rafael Barros", "link": "https://stackoverflow.com/users/629187/rafael-barros"}, "is_accepted": true, "score": 2, "last_activity_date": 1455143363, "last_edit_date": 1455143363, "creation_date": 1455143084, "answer_id": 35327179, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python/35327179#35327179", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>A way to to this, as mentioned in comments, is to write to a different, temp file then renaming it.</p>\n\n<p>This way is less memory expensive, albeit, it will occupy 2x the space in disk for a moment.</p>\n\n<pre><code>import os\nwith open('inputFile.txt', 'r') as inp, open('outfile.txt', 'w') as out:\n    for line in inp:\n        out.write(line.replace('blah', '!blah!'))\n# Windows doesn't let you overwrite a file, remove it old input first\nos.unlink('inputFile.txt')\nos.rename('outfile.txt', 'inputFile.txt')\n</code></pre>\n\n<p>Or you can load the file entirely in memory, then re-write it.</p>\n\n<pre><code>with open('inputFile.txt', 'r') as inp:\n    fixed = inp.read().replace('blah', '!blah!')\nwith open('inputFile.txt', 'w') as out:\n    out.write(fixed)\n</code></pre>\n"}], "owner": {"reputation": 772, "user_id": 3812918, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RtL22.jpg?s=128&g=1", "display_name": "movac", "link": "https://stackoverflow.com/users/3812918/movac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 35327179, "answer_count": 5, "score": 4, "last_activity_date": 1455144049, "creation_date": 1455141823, "question_id": 35326851, "link": "https://stackoverflow.com/questions/35326851/how-to-write-before-after-certain-substrings-in-an-open-file-in-python", "title": "How to write before &amp; after certain substrings in an Open file in python?", "body": "<p>I'm trying to figure out how to read a file, find certain substrings, and edit the inputted file to write characters before and after that substring, but i'm stuck. I can only figure out how to write to the end of a file and not in the middle of the file in the middle of a line somewhere! </p>\n\n<p>So for example, say I have a text file:</p>\n\n<pre><code>blah blurh blap\n</code></pre>\n\n<p>then I have code:</p>\n\n<pre><code>f = open('inputFile.txt', 'r+')\nfor line in f:                          \n    if 'blah' in line:\n        f.write('!')\nf.close()\n</code></pre>\n\n<p>The way it is written above, the resulting text would say something like:</p>\n\n<pre><code>blah blurh blap!\n</code></pre>\n\n<p>but I need a way to figure out for it to say:</p>\n\n<pre><code>!blah! blurh blap\n</code></pre>\n\n<p>and I can't figure it out and can't find anything online about it. Any ideas?</p>\n"}, {"tags": ["python", "teamcity", "robotframework", "teamcity-9.0"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1455198840, "last_edit_date": 1455198840, "creation_date": 1455142893, "answer_id": 35327124, "question_id": 35326846, "link": "https://stackoverflow.com/questions/35326846/robot-framework-plugin-for-teamcity/35327124#35327124", "title": "robot framework plugin for teamcity", "body": "<p>TeamCity has an API for integrating external tools. In short, if your test prints results in a format defined by TeamCity, TeamCity will show the results on the dashboard. </p>\n\n<p>An overview of this API can be found here: <a href=\"https://confluence.jetbrains.com/display/TCDL/Build+Script+Interaction+with+TeamCity\" rel=\"nofollow\">https://confluence.jetbrains.com/display/TCDL/Build+Script+Interaction+with+TeamCity</a></p>\n\n<p>The way I approached this was to create a custom listener. In it, the various methods (<code>start_suite</code>, <code>end_suite</code>, etc) all simply emitted messages in the given format. </p>\n\n<p>For example, the <code>start_suite</code> listener method looks something like this:</p>\n\n<pre><code>class TeamCityListener():\n    ...\n    def start_suite(self, name, attrs):\n        sys.__stdout__.write(\"##teamcity[testSuiteStarted name='{name}']\\n\".format(name=name))\n        sys.__stdout__.flush()\n</code></pre>\n\n<p>Other methods are nearly identical, only differing by the actual text that is written to stdout.</p>\n\n<p>Then, when running our tests we use this listener and turn off the default output:</p>\n\n<pre><code>pybot ... --listener TeamCityListener.py --console none ...\n</code></pre>\n\n<p>You will need to implement some of the other methods of the listener in a similar fashion. For example, <code>end_test</code> and <code>end_suite</code> is where you would report test success or failures. You can also use <code>log_message</code> to have error messages appear in the team city dashboard.</p>\n"}], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 1, "accepted_answer_id": 35327124, "answer_count": 1, "score": 1, "last_activity_date": 1455198840, "creation_date": 1455141812, "last_edit_date": 1455146872, "question_id": 35326846, "link": "https://stackoverflow.com/questions/35326846/robot-framework-plugin-for-teamcity", "title": "robot framework plugin for teamcity", "body": "<p>I am running robot framework test through teamcity build. I can get results <code>log.html</code> into artifacts. But is there any plugin in teamcity for robot framework so I can populate results in projects? </p>\n\n<p>update</p>\n\n<p>thanks a lot ! I added py file in suite as below </p>\n\n<pre><code>class TeamCityListener():\n\n    ROBOT_LISTENER_API_VERSION = 2\n\n    def start_suite(self, name, attrs):\n        sys.__stdout__.write(\"##teamcity[testSuiteStarted name='{name}']\\n\".format(name=name))\n        print 'hi'\n        sys.__stdout__.flush()\n</code></pre>\n\n<p>And I called it from teamcity as <code>pybot --listener TeamCityListener.py --console none test.robot</code> But when I run in project I see <code>Step 1/1</code> and them <code>Success</code> Do I have to add anything on teamcity side? Before running <code>pybot</code> I'm <code>ssh</code>ing into machine, maybe that's the reason?</p>\n"}, {"tags": ["python", "python-2.7", "logging", "ipython"], "answers": [{"comments": [{"owner": {"reputation": 27199, "user_id": 427158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f706984800b6d136b9331a6ee20c676f?s=128&d=identicon&r=PG", "display_name": "maxschlepzig", "link": "https://stackoverflow.com/users/427158/maxschlepzig"}, "reply_to_user": {"reputation": 11021, "user_id": 1181911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/72ae7dcebbde5909755f0a6a1ab17ba8?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1181911/sam"}, "edited": false, "score": 2, "creation_date": 1528058592, "post_id": 35327111, "comment_id": 88351351, "body": "@Wesam, with newer ipython versions the referenced issue/the workaround doesn&#39;t apply anymore. With newer ipython versions the debug messages aren&#39;t printed, by default, for other reasons. See also my answer."}], "tags": [], "owner": {"reputation": 1395, "user_id": 2452770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51b5bf4c4cb903b771436b3629825f25?s=128&d=identicon&r=PG", "display_name": "A.Wan", "link": "https://stackoverflow.com/users/2452770/a-wan"}, "is_accepted": false, "score": 7, "last_activity_date": 1455142878, "creation_date": 1455142878, "answer_id": 35327111, "question_id": 35326814, "link": "https://stackoverflow.com/questions/35326814/change-level-logged-to-ipython-jupyter-notebook/35327111#35327111", "title": "Change level logged to IPython/Jupyter notebook", "body": "<p>The root cause of this issue (from <a href=\"https://github.com/ipython/ipython/issues/8282\" rel=\"noreferrer\">https://github.com/ipython/ipython/issues/8282</a>) is that the Notebook creates a root logger by default (which is different from IPython default behavior!). The solution is to get at the <em>handler</em> of the notebook logger, and set its level:</p>\n\n<pre><code># At the beginning of the notebook\nimport logging\nlogger = logging.getLogger()\nassert len(logger.handlers) == 1\nhandler = logger.handlers[0]\nhandler.setLevel(logging.INFO)\n</code></pre>\n\n<p>With this, I don't need to set <code>logger.propagate = True</code> in the modules and it works.</p>\n"}, {"tags": [], "owner": {"reputation": 27199, "user_id": 427158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f706984800b6d136b9331a6ee20c676f?s=128&d=identicon&r=PG", "display_name": "maxschlepzig", "link": "https://stackoverflow.com/users/427158/maxschlepzig"}, "is_accepted": true, "score": 13, "last_activity_date": 1534060605, "last_edit_date": 1534060605, "creation_date": 1528058448, "answer_id": 50670775, "question_id": 35326814, "link": "https://stackoverflow.com/questions/35326814/change-level-logged-to-ipython-jupyter-notebook/50670775#50670775", "title": "Change level logged to IPython/Jupyter notebook", "body": "<p>With current ipython/Jupyter versions (e.g. 6.2.1), the <code>logging.getLogger().handlers</code> list is empty after startup and <code>logging.getLogger().setLevel(logging.DEBUG)</code> has no effect, i.e. no info/debug messages are printed.</p>\n\n<p>Inside ipython, you have to change an ipython configuration setting (and possibly work around ipython bugs), as well. For example, to lower the logging threshold to debug messages:</p>\n\n<pre><code># workaround via specifying an invalid value first\n%config Application.log_level='WORKAROUND'\n# =&gt; fails, necessary on Fedora 27, ipython3 6.2.1\n%config Application.log_level='DEBUG'\nimport logging\nlogging.getLogger().setLevel(logging.DEBUG)\nlog = logging.getLogger()\nlog.debug('Test debug')\n</code></pre>\n\n<p>For just getting the debug messages of one module (cf. the <code>__name__</code> value in that module) you can replace the above <code>setLevel()</code> call with a more specific one:</p>\n\n<pre><code>logging.getLogger('some.module').setLevel(logging.DEBUG)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 372, "user_id": 709884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb74e538c130e5411ebf1dd7598b10f?s=128&d=identicon&r=PG", "display_name": "dgellow", "link": "https://stackoverflow.com/users/709884/dgellow"}, "edited": false, "score": 0, "creation_date": 1606454296, "post_id": 58156613, "comment_id": 114971683, "body": "Instead of hardcoding the number <code>20</code>, you can use <code>level=logging.INFO</code>."}], "tags": [], "owner": {"reputation": 3744, "user_id": 4096199, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/70fa3e2f5ecf1f49a17a617e5d62dc49?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/4096199/ben"}, "is_accepted": false, "score": 5, "last_activity_date": 1569770615, "creation_date": 1569770615, "answer_id": 58156613, "question_id": 35326814, "link": "https://stackoverflow.com/questions/35326814/change-level-logged-to-ipython-jupyter-notebook/58156613#58156613", "title": "Change level logged to IPython/Jupyter notebook", "body": "<p>Adding another solution because the solution was easier for me. On startup of the Ipython kernel:</p>\n\n<pre><code>import logging\nlogging.basicConfig(level=20)\n</code></pre>\n\n<p>Then this works:</p>\n\n<pre><code>logging.getLogger().info(\"hello\")\n&gt;&gt; INFO:root:hello\n\nlogging.info(\"hello\")\n&gt;&gt; INFO:root:hello\n</code></pre>\n\n<p>And if I have similar logging code in a function that I import and run, the message will display as well.</p>\n"}], "owner": {"reputation": 1395, "user_id": 2452770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51b5bf4c4cb903b771436b3629825f25?s=128&d=identicon&r=PG", "display_name": "A.Wan", "link": "https://stackoverflow.com/users/2452770/a-wan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9886, "favorite_count": 4, "accepted_answer_id": 50670775, "answer_count": 3, "score": 10, "last_activity_date": 1569770615, "creation_date": 1455141670, "last_edit_date": 1464001128, "question_id": 35326814, "link": "https://stackoverflow.com/questions/35326814/change-level-logged-to-ipython-jupyter-notebook", "title": "Change level logged to IPython/Jupyter notebook", "body": "<p>I have a package that relies on several different modules, each of which sets up its own logger. That allows me to log where each log message originates from, which is useful.</p>\n\n<p>However, when using this code in an IPython/Jupyter notebook, I was having trouble controlling what got printed to the screen. Specifically, I was getting a lot of DEBUG-level messages that I didn't want to see. </p>\n\n<p>How do I change the level of logs that get printed to the notebook?</p>\n\n<p><strong>More info:</strong></p>\n\n<p>I've tried to set up a root logger in the notebook as follows:</p>\n\n<pre><code># In notebook\nimport logging\nlogging.basicConfig()\nlogger = logging.getLogger()\nlogger.setLevel(logging.INFO)\n# Import the module\nimport mymodule\n</code></pre>\n\n<p>And then at the top of my modules, I have</p>\n\n<pre><code># In mymodule.py\nimport logging\nlogger = logging.getLogger('mypackage.' + __name__)\nlogger.setLevel(logging.DEBUG)\nlogger.propagate = True\n# Log some messages\nlogger.debug('debug')\nlogger.info('info')\n</code></pre>\n\n<p>When the module code is called in the notebook, I would expect the logs to get propagated up, and then for the top logger to only print the info log statement. But both the debug and the info log statement get shown. </p>\n\n<p><strong>Related links:</strong></p>\n\n<ul>\n<li>From <a href=\"https://github.com/ipython/ipython/issues/7170\" rel=\"noreferrer\">this IPython issue</a>, it seems that there are two different levels of logging that one needs to be aware of. One, which is set in the <code>ipython_notebook_config</code> file, only affects the internal IPython logging level. The other is the IPython logger, accessed with <code>get_ipython().parent.log</code>.</li>\n<li><a href=\"https://github.com/ipython/ipython/issues/8282\" rel=\"noreferrer\">https://github.com/ipython/ipython/issues/8282</a></li>\n<li><a href=\"https://github.com/ipython/ipython/issues/6746\" rel=\"noreferrer\">https://github.com/ipython/ipython/issues/6746</a></li>\n</ul>\n"}, {"tags": ["python", "email", "smtplib"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 4517922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/300a57901d9da1fba53080794a75c68b?s=128&d=identicon&r=PG&f=1", "display_name": "Carol M", "link": "https://stackoverflow.com/users/4517922/carol-m"}, "edited": false, "score": 0, "creation_date": 1455146713, "post_id": 35327073, "comment_id": 58364506, "body": "The text I want to insert is a big file that changes every time I run the script that has the email as the final output, so I&#39;ll always have different text in there."}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1455142752, "creation_date": 1455142752, "answer_id": 35327073, "question_id": 35326774, "link": "https://stackoverflow.com/questions/35326774/python-email-with-txt-and-html/35327073#35327073", "title": "Python email (with txt and html)", "body": "<p>I think you're looking for string formatting, the most basic use case is </p>\n\n<pre><code>\"\"\"the text i want to insert is the following {} \"\"\".format(text)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 131, "user_id": 4517922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/300a57901d9da1fba53080794a75c68b?s=128&d=identicon&r=PG&f=1", "display_name": "Carol M", "link": "https://stackoverflow.com/users/4517922/carol-m"}, "edited": false, "score": 0, "creation_date": 1455224425, "post_id": 35327667, "comment_id": 58407146, "body": "You&#39;re welcome, glad it worked. Feel free to accept the answer or like on github :-)"}], "tags": [], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "is_accepted": true, "score": 2, "last_activity_date": 1455180424, "last_edit_date": 1455180424, "creation_date": 1455145116, "answer_id": 35327667, "question_id": 35326774, "link": "https://stackoverflow.com/questions/35326774/python-email-with-txt-and-html/35327667#35327667", "title": "Python email (with txt and html)", "body": "<p>Great case for <a href=\"https://github.com/kootenpv/yagmail\" rel=\"nofollow\">yagmail</a>.</p>\n\n<pre><code>import yagmail\nyag = yagmail.SMTP('username','password')\n\nhtml = '&lt;h1&gt;some header text&lt;/h1&gt;&lt;p&gt;{}&lt;/p&gt;'.format(f1.read())\n\nyag.send('toaddr@gmail.com', 'subject', html)\n</code></pre>\n\n<p>Done.</p>\n\n<p>Best to read the yagmail documentation at the link above to see what magic is actually happening.</p>\n"}], "owner": {"reputation": 131, "user_id": 4517922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/300a57901d9da1fba53080794a75c68b?s=128&d=identicon&r=PG&f=1", "display_name": "Carol M", "link": "https://stackoverflow.com/users/4517922/carol-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 35327667, "answer_count": 2, "score": 3, "last_activity_date": 1455180424, "creation_date": 1455141489, "last_edit_date": 1455141629, "question_id": 35326774, "link": "https://stackoverflow.com/questions/35326774/python-email-with-txt-and-html", "title": "Python email (with txt and html)", "body": "<p>I'm trying to send and email with html and txt. But I need the contents of the .txt file into the email html body. And so far I can only get the txt file to work or the html, but not both. Any ideas?</p>\n\n<pre><code>import smtplib\n\nfrom email.MIMEMultipart import MIMEMultipart\nfrom email.MIMEText import MIMEText\n\nsender = \"sender@gmail.com\"\nreceiver = \"receiver@gmail.com\"\n\nmsg = MIMEMultipart('alternative')\nmsg['Subject'] = \"update\"\nmsg['From'] = sender\nmsg['To'] = receiver\n\nf1 = (open(\"email_data.txt\"))\ntext = MIMEText(f1.read(),'plain') \n\nhtml = \"\"\"\\\n&lt;html&gt;\n  &lt;head&gt;&lt;/head&gt;\n  Header\n  &lt;body&gt;\n    &lt;p&gt;Something&lt;br&gt;\n       Update&lt;br&gt;\n       Need the contents of the text file to open here\n    &lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\n\n#part1 = MIMEText(text, 'plain')\npart2 = MIMEText(html, 'html')\n\nmsg.attach(text)\nmsg.attach(part2)\n\n\nserver = smtplib.SMTP('smtp.gmail.com', 587)\n\nserver.starttls()\nserver.ehlo()\nserver.login(\"sender\", \"password\")\nserver.sendmail(sender, receiver, msg.as_string())\nprint 'Email sent'\nserver.quit()\n</code></pre>\n"}, {"tags": ["python", "ipython", "jupyter", "malformed", "diskimage"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 5872607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-iW_En_gr5uA/AAAAAAAAAAI/AAAAAAAAAcM/vmBd7mT5MhY/photo.jpg?sz=128", "display_name": "serenade", "link": "https://stackoverflow.com/users/5872607/serenade"}, "edited": false, "score": 0, "creation_date": 1455142123, "post_id": 35326875, "comment_id": 58362538, "body": "I get a &quot;Permission denied&quot; warning when I entered your offered comment. What should I do? Thanks. @MikeM&#252;ller"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 289, "user_id": 5872607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-iW_En_gr5uA/AAAAAAAAAAI/AAAAAAAAAcM/vmBd7mT5MhY/photo.jpg?sz=128", "display_name": "serenade", "link": "https://stackoverflow.com/users/5872607/serenade"}, "edited": false, "score": 0, "creation_date": 1455144208, "post_id": 35326875, "comment_id": 58363452, "body": "Did you stop all of your notebook servers before renaming/removing the file?"}, {"owner": {"reputation": 6513, "user_id": 3679900, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/tFAHl.png?s=128&g=1", "display_name": "y2k-shubham", "link": "https://stackoverflow.com/users/3679900/y2k-shubham"}, "edited": false, "score": 0, "creation_date": 1588498800, "post_id": 35326875, "comment_id": 108914590, "body": "In case someone&#39;s wondering, I used <code>ipython locate profile default</code> command as told <a href=\"https://stackoverflow.com/a/30629448/3679900\">here</a> for locating the <code>history.sqlite</code> file"}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 4, "last_activity_date": 1455141917, "creation_date": 1455141917, "answer_id": 35326875, "question_id": 35326706, "link": "https://stackoverflow.com/questions/35326706/error-loading-ipython-jupyter-notebook/35326875#35326875", "title": "Error loading IPython Jupyter notebook:", "body": "<p>There seems to be a problem with your history database. Find your <code>history.sqlite</code>. It should be here:</p>\n\n<pre><code>~/.ipython/profile_default/history.sqlite\n</code></pre>\n\n<p>Rename or remove it and try to start the notebook server again.</p>\n"}], "owner": {"reputation": 289, "user_id": 5872607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-iW_En_gr5uA/AAAAAAAAAAI/AAAAAAAAAcM/vmBd7mT5MhY/photo.jpg?sz=128", "display_name": "serenade", "link": "https://stackoverflow.com/users/5872607/serenade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3259, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1455142081, "creation_date": 1455141211, "last_edit_date": 1455142081, "question_id": 35326706, "link": "https://stackoverflow.com/questions/35326706/error-loading-ipython-jupyter-notebook", "title": "Error loading IPython Jupyter notebook:", "body": "<p>I have an error while loading IPython Jupyter notebook. Also errors occur on the shell. Is there anyone who could help me for solving these errors?</p>\n\n<hr>\n\n<p>Errors which occur on the shell:</p>\n\n<pre><code>Unhandled error in API request\nDatabaseError: database disk image is malformed\n</code></pre>\n\n<p>Error loading Jupyter notebook:</p>\n\n<pre><code>An unknown error occurred while loading this notebook. \nThis version can load notebook formats v4 or earlier. See the server log for details.\n</code></pre>\n"}, {"tags": ["python", "django", "email", "pinax"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455141625, "post_id": 35326685, "comment_id": 58362303, "body": "What is the actual module name in <code>&#47;home&#47;cchilders&#47;.virtualenvs&#47;pinax&#47;lib&#47;python2.7&#47;site-packag&zwnj;&#8203;es</code>?  Is it <code>eventlog</code>, <code>pinax-eventlog</code>, or something else?"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455141946, "post_id": 35326685, "comment_id": 58362458, "body": "it isn&#39;t there. doing a pip install says it&#39;s there"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455142008, "post_id": 35326685, "comment_id": 58362489, "body": "it is underneath the pinax app, in <code>pinax&#47;eventlog</code>"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455141927, "creation_date": 1455141148, "last_edit_date": 1455141927, "question_id": 35326685, "link": "https://stackoverflow.com/questions/35326685/importerror-no-module-named-eventlog-with-eventlog-installed", "title": "&quot;ImportError: No module named eventlog&quot; with eventlog installed", "body": "<p>I am trying out pinax. It will not run:</p>\n\n<pre><code>cchilders:~/projects/pinax$ ./manage.py migrate\nTraceback (most recent call last):\n  File \"./manage.py\", line 12, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 338, in execute_from_command_line\n    utility.execute()\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 312, in execute\n    django.setup()\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/__init__.py\", line 18, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/apps/registry.py\", line 85, in populate\n    app_config = AppConfig.create(entry)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/apps/config.py\", line 119, in create\n    import_module(entry)\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\nImportError: No module named eventlog\n</code></pre>\n\n<p>Then it says it's already installed</p>\n\n<pre><code>cchilders:~/projects/pinax$ pip install pinax-eventlog\nRequirement already satisfied (use --upgrade to upgrade): pinax-eventlog in /home/cchilders/.virtualenvs/pinax/lib/python2.7/site-packages\nRequirement already satisfied (use --upgrade to upgrade): jsonfield&gt;=1.0.3 in /home/cchilders/.virtualenvs/pinax/lib/python2.7/site-packages (from pinax-eventlog)\nRequirement already satisfied (use --upgrade to upgrade): Django&gt;=1.4.3 in /home/cchilders/.virtualenvs/pinax/lib/python2.7/site-packages (from jsonfield&gt;=1.0.3-&gt;pinax-eventlog)\nYou are using pip version 8.0.0, however version 8.0.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n</code></pre>\n\n<p>settings.py:</p>\n\n<pre><code>INSTALLED_APPS = [\n    ...\n    \"bootstrapform\",\n    \"pinax_theme_bootstrap\",\n\n    # external\n    \"account\",\n    \"metron\",\n    \"pinax.eventlog\",\n    # \"eventlog\",\n\n    # project\n    \"pinax\",\n]\n</code></pre>\n\n<p>???</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"manage.py\", line 12, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 338, in execute_from_command_line\n    utility.execute()\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 312, in execute\n    django.setup()\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/__init__.py\", line 18, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/apps/registry.py\", line 85, in populate\n    app_config = AppConfig.create(entry)\n  File \"/home/cchilders/.virtualenvs/pinax/local/lib/python2.7/site-packages/django/apps/config.py\", line 119, in create\n    import_module(entry)\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\nImportError: No module named eventlog\n</code></pre>\n\n<p>requirements</p>\n\n<pre><code>Django==1.9.2\npinax-theme-bootstrap==7.2.0\ndjango-user-accounts==1.3.1\nmetron==1.3.7\npinax-eventlog==1.1.1\n</code></pre>\n\n<p>Even though it says it's installed, doesn't seem to be there:</p>\n\n<pre><code>cchilders:~/.virtualenvs/pinax/lib/python2.7/site-packages$ ls\naccount                              django_user_accounts-1.3.1.dist-info  metron-1.3.7.dist-info                 pkg_resources              six.pyc\nappconf                              easy_install.py                       pinax                                  pytz                       wheel\nbootstrapform                        easy_install.pyc                      pinax_eventlog-1.1.1.dist-info         pytz-2015.7.dist-info      wheel-0.26.0.dist-info\ndjango                               jsonfield                             pinax_theme_bootstrap                  setuptools\nDjango-1.9.2.dist-info               jsonfield-1.0.3.dist-info             pinax_theme_bootstrap-7.2.0.dist-info  setuptools-19.4.dist-info\ndjango_appconf-1.0.1.dist-info       _markerlib                            pip                                    six-1.10.0.dist-info\ndjango_bootstrap_form-3.2.dist-info  metron                                pip-8.0.0.dist-info                    six.py\n</code></pre>\n\n<p>Why doesn't the default pinax app work? Thank you</p>\n"}, {"tags": ["python", "scipy", "random-sample", "poisson"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "edited": false, "score": 0, "creation_date": 1455146704, "post_id": 35327339, "comment_id": 58364498, "body": "Maybe drawing from a Poisson distribution isn&#39;t the right wording.  Given k counts, the probability that l is the underlying rate of the process is also P(l) = l^k e^-l / k!  So my goal is to draw possible underlying rates with frequency according to that probability."}, {"owner": {"reputation": 637, "user_id": 5870826, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sOXR3CTGQDY/AAAAAAAAAAI/AAAAAAAAIBY/B_lURBgAN2M/photo.jpg?sz=128", "display_name": "Keith Brodie", "link": "https://stackoverflow.com/users/5870826/keith-brodie"}, "reply_to_user": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "edited": false, "score": 0, "creation_date": 1455150078, "post_id": 35327339, "comment_id": 58365616, "body": "I&#39;m not sure I&#39;m following - if you need samples from the Poisson distribution - why can&#39;t the .rvs method be used?"}, {"owner": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "edited": false, "score": 0, "creation_date": 1455150393, "post_id": 35327339, "comment_id": 58365709, "body": "I&#39;m not trying to draw counts, I&#39;m trying to draw lambdas for a fixed k."}, {"owner": {"reputation": 637, "user_id": 5870826, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sOXR3CTGQDY/AAAAAAAAAAI/AAAAAAAAIBY/B_lURBgAN2M/photo.jpg?sz=128", "display_name": "Keith Brodie", "link": "https://stackoverflow.com/users/5870826/keith-brodie"}, "reply_to_user": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "edited": false, "score": 0, "creation_date": 1455150674, "post_id": 35327339, "comment_id": 58365807, "body": "Yes, but you&#39;ve stated that the probability function for the rate is the Poisson distribution. So if you want samples of &#39;rates&#39; according to that distribution you could call <code>scipy.stats.poisson.rvs(k)</code>"}], "tags": [], "owner": {"reputation": 637, "user_id": 5870826, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sOXR3CTGQDY/AAAAAAAAAAI/AAAAAAAAIBY/B_lURBgAN2M/photo.jpg?sz=128", "display_name": "Keith Brodie", "link": "https://stackoverflow.com/users/5870826/keith-brodie"}, "is_accepted": false, "score": 0, "last_activity_date": 1455143658, "creation_date": 1455143658, "answer_id": 35327339, "question_id": 35326684, "link": "https://stackoverflow.com/questions/35326684/sampling-random-rates-from-poisson-distribution-given-observed-counts-with-pytho/35327339#35327339", "title": "Sampling random rates from poisson distribution given observed counts with Python", "body": "<p>Drawing counts from <code>scipy.stats.poisson.rvs(mu)</code> is sampling from a Poisson distribution.  If you had a set of samples (counts) from a single Poisson distribution and you want a rate, you're trying to estimate the Poisson distrbution.  To estimate the Poisson distribution compute the average counts: &#x03BB;.  Then the distribution is:</p>\n\n<p>P(k) = &#x03BB;<sup>k</sup> e<sup>-&#x03BB;</sup> / k!</p>\n\n<p>The distribution can then be used to compute the probability of observing some count (k) in an interval.</p>\n\n<p>If instead each of the counts is assumed to be from <em>separate</em> Poisson distribution - then you only have one sample from each and the best estimate of the distribution comes from taking the sample as the mean &#x03BB;.</p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Poisson_distribution\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Poisson_distribution</a></p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "is_accepted": true, "score": 0, "last_activity_date": 1455152731, "creation_date": 1455152731, "answer_id": 35329042, "question_id": 35326684, "link": "https://stackoverflow.com/questions/35326684/sampling-random-rates-from-poisson-distribution-given-observed-counts-with-pytho/35329042#35329042", "title": "Sampling random rates from poisson distribution given observed counts with Python", "body": "<p>Turns out what I was actually looking for is the Gamma distribution, which has the same functional form, but is continuous.  To accomplish what I was trying to do with scipy:</p>\n\n<pre><code>mu = scipy.stats.gamma.rvs(counts+1)\n</code></pre>\n\n<p>The <code>counts+1</code> is just because of how the power is defined in the distribution</p>\n\n<p><a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.stats.gamma.html#scipy.stats.gamma\" rel=\"nofollow\">Scipy Docs</a></p>\n"}], "owner": {"reputation": 35, "user_id": 1190228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL4PK.jpg?s=128&g=1", "display_name": "Matthew Hill", "link": "https://stackoverflow.com/users/1190228/matthew-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 35329042, "answer_count": 2, "score": 1, "last_activity_date": 1455152731, "creation_date": 1455141140, "question_id": 35326684, "link": "https://stackoverflow.com/questions/35326684/sampling-random-rates-from-poisson-distribution-given-observed-counts-with-pytho", "title": "Sampling random rates from poisson distribution given observed counts with Python", "body": "<p>I want to generate rates which are consistent with observed counts according to a Poisson distribution.  </p>\n\n<p>It's easy to do the reverse with scipy. I can draw counts given a fixed rate</p>\n\n<pre><code>counts = scipy.stats.poisson.rvs(mu)\n</code></pre>\n\n<p>but I can't find an easy way with counts as the argument returning random rates.</p>\n"}, {"tags": ["python", "django", "choicefield"], "comments": [{"owner": {"reputation": 3147, "user_id": 3500094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60e56d19071e326c8ff64bd50719d4b8?s=128&d=identicon&r=PG", "display_name": "souldeux", "link": "https://stackoverflow.com/users/3500094/souldeux"}, "edited": false, "score": 1, "creation_date": 1455207495, "post_id": 35326667, "comment_id": 58396228, "body": "When/where do you want to edit the choice list? Will <code>limit_choices_to</code> do anything for you?"}, {"owner": {"reputation": 3905, "user_id": 784345, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4585b1d04f798ebd7d091aa98d3b99aa?s=128&d=identicon&r=PG", "display_name": "Dejwi", "link": "https://stackoverflow.com/users/784345/dejwi"}, "reply_to_user": {"reputation": 3147, "user_id": 3500094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60e56d19071e326c8ff64bd50719d4b8?s=128&d=identicon&r=PG", "display_name": "souldeux", "link": "https://stackoverflow.com/users/3500094/souldeux"}, "edited": false, "score": 0, "creation_date": 1455219094, "post_id": 35326667, "comment_id": 58403961, "body": "I&#39;ve added an example"}], "owner": {"reputation": 3905, "user_id": 784345, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4585b1d04f798ebd7d091aa98d3b99aa?s=128&d=identicon&r=PG", "display_name": "Dejwi", "link": "https://stackoverflow.com/users/784345/dejwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455219019, "creation_date": 1455141095, "last_edit_date": 1455219019, "question_id": 35326667, "link": "https://stackoverflow.com/questions/35326667/django-and-editable-and-multiselect-choices-in-choicefield", "title": "django and editable and multiselect choices in ChoiceField", "body": "<p>I'm trying to get a field of model in Django, which will behave like a ChoiceField but:</p>\n\n<ul>\n<li>will support multiselect</li>\n<li>would allow to edit the list of choices</li>\n</ul>\n\n<p>For example - I've got a product, which belongs to several cathegoris: nice, for boys, for men and so on. One product could belong to several categories. Categories can vary across the time.</p>\n\n<p>Currently I'm using MultiSelectField from djang-multiselectfield, which - obviously - handles the first issue.</p>\n\n<p>Is there a ready to use app, which also supports edition of choice list? Or what would be the easiest approach to achieve that?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "edited": false, "score": 0, "creation_date": 1455142914, "post_id": 35326912, "comment_id": 58362853, "body": "This worked, however now when I hit submit, I get this error: <a href=\"http://dpaste.com/1WTKPHJ\" rel=\"nofollow noreferrer\">dpaste.com/1WTKPHJ</a>"}, {"owner": {"reputation": 494, "user_id": 950327, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af240b03adcfba42c1d070d9b666ccc?s=128&d=identicon&r=PG", "display_name": "ikhtiyor", "link": "https://stackoverflow.com/users/950327/ikhtiyor"}, "reply_to_user": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "edited": false, "score": 0, "creation_date": 1455172318, "post_id": 35326912, "comment_id": 58372392, "body": "from django.http import HttpResponseRedirect see @&#199;a\u011fatay Bar\u0131n"}], "tags": [], "owner": {"reputation": 494, "user_id": 950327, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af240b03adcfba42c1d070d9b666ccc?s=128&d=identicon&r=PG", "display_name": "ikhtiyor", "link": "https://stackoverflow.com/users/950327/ikhtiyor"}, "is_accepted": true, "score": 1, "last_activity_date": 1455142041, "creation_date": 1455142041, "answer_id": 35326912, "question_id": 35326662, "link": "https://stackoverflow.com/questions/35326662/using-an-extended-usermodel-how-can-i-create-two-model-instances-with-two-model/35326912#35326912", "title": "Using an extended usermodel, how can I create two model instances with two modelforms in the same view?", "body": "<p>When you hit <code>/register</code> page from browser, your view gets <code>GET</code> request, you have created form only for <code>POST</code> request</p>\n\n<pre><code>from .forms import UserForm\nfrom .forms import UserProfileForm\n\n# Create your views here.\ndef RegisterView(request):\n    if request.method == 'POST':\n        form = UserForm(request.POST, prefix='uf')\n        form2 = UserProfileForm(request.POST, prefix='upf')\n        if form.is_valid():\n            if form2.is_valid():\n                return HttpResponseRedirect('/login/')\n    elif request.method == 'GET':\n        form = UserForm(prefix='uf')\n        form2 = UserProfileForm(prefix='upf')            \n\n    return render(request, 'register.html', {'form': form, 'form2': form2})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "edited": false, "score": 0, "creation_date": 1455144096, "post_id": 35327321, "comment_id": 58363409, "body": "I didn&#39;t even know that was something you had to import. Forgive me for asking, but how do I save the models after the POST request?"}, {"owner": {"reputation": 2334, "user_id": 5186565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CGE35.png?s=128&g=1", "display_name": "&#199;a\u011fatay Bar\u0131n", "link": "https://stackoverflow.com/users/5186565/%c3%87a%c4%9fatay-bar%c4%b1n"}, "reply_to_user": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "edited": false, "score": 0, "creation_date": 1455144298, "post_id": 35327321, "comment_id": 58363500, "body": "it&#39;s ok since you&#39;re new to django. When you see an error, just check the traceback. usually top of it might be meaningless but read the last 2-3 rows. If you don&#39;t understand the error, google it. If you still can&#39;t find the answer, then you can ask here :)"}, {"owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "edited": false, "score": 0, "creation_date": 1455144575, "post_id": 35327321, "comment_id": 58363611, "body": "Thing is, google wasn&#39;t giving me any easy to understand answers, so that&#39;s why I asked. I googled why it wasn&#39;t saving the model instances too, no luck."}], "tags": [], "owner": {"reputation": 2334, "user_id": 5186565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CGE35.png?s=128&g=1", "display_name": "&#199;a\u011fatay Bar\u0131n", "link": "https://stackoverflow.com/users/5186565/%c3%87a%c4%9fatay-bar%c4%b1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1455143589, "creation_date": 1455143589, "answer_id": 35327321, "question_id": 35326662, "link": "https://stackoverflow.com/questions/35326662/using-an-extended-usermodel-how-can-i-create-two-model-instances-with-two-model/35327321#35327321", "title": "Using an extended usermodel, how can I create two model instances with two modelforms in the same view?", "body": "<p>You should read the traceback yourself so that you can find the error easily.\nIt says;</p>\n\n<blockquote>\n  <p>Exception Type: NameError at /register/\n  Exception Value: name 'HttpResponseRedirect' is not defined</p>\n</blockquote>\n\n<p>You've used HttpResponseRedirect but you didn't import it, therefore it is not defined.</p>\n\n<p>Add this to top of your code.</p>\n\n<pre><code>from django.http import HttpResponseRedirect\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2334, "user_id": 5186565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CGE35.png?s=128&g=1", "display_name": "&#199;a\u011fatay Bar\u0131n", "link": "https://stackoverflow.com/users/5186565/%c3%87a%c4%9fatay-bar%c4%b1n"}, "is_accepted": false, "score": 2, "last_activity_date": 1455145670, "creation_date": 1455145670, "answer_id": 35327784, "question_id": 35326662, "link": "https://stackoverflow.com/questions/35326662/using-an-extended-usermodel-how-can-i-create-two-model-instances-with-two-model/35327784#35327784", "title": "Using an extended usermodel, how can I create two model instances with two modelforms in the same view?", "body": "<p>You should use save() method.\nNext time you have a problem, check the official Django documentation.\n<a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/modelforms/#the-save-method\" rel=\"nofollow\">ModelForms - save() method</a></p>\n\n<pre><code>from .forms import UserForm\nfrom .forms import UserProfileForm\nfrom django.http import HttpResponseRedirect\n\n\ndef RegisterView(request):\n    if request.method == 'POST':\n        form = UserForm(request.POST, prefix='uf')\n        form2 = UserProfileForm(request.POST, prefix='upf')\n        if form.is_valid():\n            if form2.is_valid():\n                form.save()\n                form2.save()\n                return HttpResponseRedirect('/login/')\n    elif request.method == 'GET':\n        form = UserForm(prefix='uf')\n        form2 = UserProfileForm(prefix='upf')            \n\n    return render(request, 'register.html', {'form': form, 'form2': form2})\n</code></pre>\n"}], "owner": {"reputation": 7298, "user_id": 4937981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQYHr.jpg?s=128&g=1", "display_name": "Sebastian Olsen", "link": "https://stackoverflow.com/users/4937981/sebastian-olsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 35326912, "answer_count": 3, "score": 0, "last_activity_date": 1455145670, "creation_date": 1455141086, "last_edit_date": 1455141644, "question_id": 35326662, "link": "https://stackoverflow.com/questions/35326662/using-an-extended-usermodel-how-can-i-create-two-model-instances-with-two-model", "title": "Using an extended usermodel, how can I create two model instances with two modelforms in the same view?", "body": "<p>First off, I want to say that I am new to django though I understand most of it,  forms have always been confusing to me. </p>\n\n<p>I have two models in which I need to create an instance from, the standard built in <code>User</code> model and my own <code>UserProfile</code> model.</p>\n\n<p>The problem I am facing is that really do not know how to display two forms (one for each model) in the template and on <code>save()</code> then tell django that the newly created <code>UserProfile</code> instance's <code>User = model.ForeignKey</code> belongs to the also newly created <code>User</code>.</p>\n\n<p>My forms.py is fairly simple:</p>\n\n<pre><code>from django import forms\nfrom django.forms import ModelForm\nfrom django.contrib.auth.models import User\nfrom .models import UserProfile\n\nclass UserForm(ModelForm):\n\n    class Meta:\n        model = User\n        fields = ('username', 'email', 'password')\n\nclass  UserProfileForm(ModelForm):\n\n    class Meta:\n        model = UserProfile\n        fields = ('display_name', 'avatar', 'birthday', 'usertype', 'daw', 'usergenre')\n</code></pre>\n\n<p>In my views.py I've tried doing this:</p>\n\n<pre><code>from .forms import UserForm\nfrom .forms import UserProfileForm\n\n# Create your views here.\ndef RegisterView(request):\n    if request.method == 'POST':\n        form = UserForm(request.POST)\n        form2 = UserProfileForm(request.POST)\n        if form.is_valid():\n            if form2.is_valid():\n                return HttpResponseRedirect('/login/')\n\n    return render(request, 'register.html', {'form': form, 'form2': form})\n</code></pre>\n\n<p>But when I try to access <code>/register</code> I get this error:\n<a href=\"http://dpaste.com/19NH2A6\" rel=\"nofollow\">http://dpaste.com/19NH2A6</a></p>\n"}, {"tags": ["python", "django", "registration", "django-registration"], "comments": [{"owner": {"reputation": 2334, "user_id": 5186565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CGE35.png?s=128&g=1", "display_name": "&#199;a\u011fatay Bar\u0131n", "link": "https://stackoverflow.com/users/5186565/%c3%87a%c4%9fatay-bar%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1455141400, "post_id": 35326601, "comment_id": 58362204, "body": "You should add some code and traceback so that we could help you."}, {"owner": {"reputation": 569, "user_id": 3602302, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac65f92798b5a138b506a03ce1bda3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Shin", "link": "https://stackoverflow.com/users/3602302/shin"}, "reply_to_user": {"reputation": 2334, "user_id": 5186565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CGE35.png?s=128&g=1", "display_name": "&#199;a\u011fatay Bar\u0131n", "link": "https://stackoverflow.com/users/5186565/%c3%87a%c4%9fatay-bar%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1455142013, "post_id": 35326601, "comment_id": 58362490, "body": "I have added some code, but I feel as if it doesn&#39;t help at all since this isn&#39;t where my problem or question lays :x"}], "answers": [{"tags": [], "owner": {"reputation": 2768, "user_id": 1128171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e63b988c8e9ca7e0e335b326bbbe94d4?s=128&d=identicon&r=PG", "display_name": "Codey McCodeface", "link": "https://stackoverflow.com/users/1128171/codey-mccodeface"}, "is_accepted": false, "score": 1, "last_activity_date": 1473161708, "creation_date": 1473161708, "answer_id": 39348084, "question_id": 35326601, "link": "https://stackoverflow.com/questions/35326601/using-email-as-username-with-django-registration/39348084#39348084", "title": "Using email as username with django-registration", "body": "<p>I have done this using custom user models. </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.10/topics/auth/customizing/#auth-custom-user\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.10/topics/auth/customizing/#auth-custom-user</a></p>\n\n<p>There is a full example in the docs above that you will have to slightly modify to achieve your aims.</p>\n"}], "owner": {"reputation": 569, "user_id": 3602302, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac65f92798b5a138b506a03ce1bda3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Shin", "link": "https://stackoverflow.com/users/3602302/shin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1473161708, "creation_date": 1455140891, "last_edit_date": 1495539961, "question_id": 35326601, "link": "https://stackoverflow.com/questions/35326601/using-email-as-username-with-django-registration", "title": "Using email as username with django-registration", "body": "<p>I am using django-registration 2.0.4 (<a href=\"https://django-registration.readthedocs.org/en/2.0.4/\" rel=\"nofollow noreferrer\">https://django-registration.readthedocs.org/en/2.0.4/</a>, <a href=\"https://github.com/ubernostrum/django-registration\" rel=\"nofollow noreferrer\">https://github.com/ubernostrum/django-registration</a>) with Django 1.8 and am trying to customise the registration form and application itself. While I am able to customise the form, I am stuck at using an email as username. </p>\n\n<p>I don't need to change anything in Django's backend since simple removing the username field in the form and using the input email as username in the backend would be enough. </p>\n\n<p>I have found this (<a href=\"https://stackoverflow.com/questions/6364623/django-registration-email-as-username\">Django-Registration: Email as username</a>) for example but it is a couple of years old and I didn't manage to get it running yet.</p>\n\n<p>How would I approach this the right way to implement said functionality? Has anyone solved this problem with a recent version already?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Since I was asked for code: There isn't much that is relevant to this problem since it isn't a code problem but a question regarding how to extend or change the django plugin.</p>\n\n<p>However, my current, boring, <strong>forms.py</strong>, as it is in the link I linked:</p>\n\n<pre><code>class MyCustomForm(forms.Form):\n    email = Email(required=True)\n    password1 = forms.CharField(widget=forms.PasswordInput(), label=\"Password\")\n    password2 = forms.CharField(widget=forms.PasswordInput(), label=\"Repeat your password\")\n\n    def clean_password(self):\n        if self.data['password1'] != self.data['password2']:\n            raise forms.ValidationError('Passwords are not the same')\n        return self.data['password1']\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>...\nurl(r'^accounts/register/$', RegistrationView.as_view(form_class=InsuranceForm), name='registration_register'),\nurl(r'^accounts/', include('registration.backends.hmac.urls')),\n...\n</code></pre>\n"}, {"tags": ["python", "image", "exif", "exiftool"], "comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1455142104, "post_id": 35326512, "comment_id": 58362529, "body": "There are plenty of tools - <code>jhead</code>, <code>exiftool</code>, <code>ImageMagick</code>... those are in increasing order functionality and difficulty to install."}, {"owner": {"reputation": 3221, "user_id": 3525475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a3e5e7036697bc76954b0d02d71c15?s=128&d=identicon&r=PG&f=1", "display_name": "StarGeek", "link": "https://stackoverflow.com/users/3525475/stargeek"}, "edited": false, "score": 0, "creation_date": 1455151965, "post_id": 35326512, "comment_id": 58366214, "body": "From the looks of the ExifRead docs, it seems that it only extracts EXIF data, not any other type of metadata (XMP, IPTC).  While I&#39;m not familiar with how Imagej works, the output seems to indicate that the data you want is in a Jpeg comment, which would be an unusual place for xml data to be.    You might look for a python package with more complete metadata handling.  A quick google search pulled up <a href=\"https://pypi.python.org/pypi/hachoir-metadata/1.3.3\" rel=\"nofollow noreferrer\">hachoir-metadata</a> which looks like it could handle your data."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1455223980, "post_id": 35326512, "comment_id": 58406890, "body": "There&#39;s <code>exiv2</code> as well, btw."}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 5910083, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh3.googleusercontent.com/-2Ccq_VJB8ro/AAAAAAAAAAI/AAAAAAAAdDQ/FdfARZiRNxk/photo.jpg?sz=128", "display_name": "Richie Close", "link": "https://stackoverflow.com/users/5910083/richie-close"}, "is_accepted": false, "score": 0, "last_activity_date": 1455220414, "creation_date": 1455220414, "answer_id": 35348796, "question_id": 35326512, "link": "https://stackoverflow.com/questions/35326512/extracting-exif-info-from-jpeg/35348796#35348796", "title": "Extracting exif info from JPEG", "body": "<p>Thanks guys - given the nature of the header information I'm dealing with, going to go with the exiftool.exe in conjunction with the pyexifinfo library. I'll experiment a little with it and see what it gets me.</p>\n"}], "owner": {"reputation": 67, "user_id": 5910083, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh3.googleusercontent.com/-2Ccq_VJB8ro/AAAAAAAAAAI/AAAAAAAAdDQ/FdfARZiRNxk/photo.jpg?sz=128", "display_name": "Richie Close", "link": "https://stackoverflow.com/users/5910083/richie-close"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455220414, "creation_date": 1455140528, "question_id": 35326512, "link": "https://stackoverflow.com/questions/35326512/extracting-exif-info-from-jpeg", "title": "Extracting exif info from JPEG", "body": "<p>I'm trying to extract an xml blob in the header data from an image with the following code (a real stab in the dark):</p>\n\n<pre><code>import exifread\nOpen image file for reading (binary mode)\nopen('img.jpg', 'rb')\n\ntags = exifread.process_file(f)\nfor tag in tags.keys():\nif tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):\nprint (\"Key: %s, value %s\") % (tag, tags[tag])\n\nprint(tags)\n</code></pre>\n\n<p>however I get the following message:</p>\n\n<pre><code>==== RESTART: C:/Users/richie/Desktop/work/exif_read4.py ============\n{}\n&gt;&gt;&gt;\n</code></pre>\n\n<p>I know the file contains data in the header, but its possible its not in exif format.  Below is an example of the info as they appear in Imagej:</p>\n\n<pre><code>[JpegComment] Jpeg Comment: &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;image time=\"15:27:56.763207\" date=\"2016.02.03\" acq_index=\"3692\"&gt;\n&lt;acquisition&gt;\n    &lt;exposure&gt;10000&lt;/exposure&gt;\n    &lt;sensor_digital_gain&gt;4&lt;/sensor_digital_gain&gt;\n    &lt;aperture&gt;4&lt;/aperture&gt;\n    &lt;focus&gt;68&lt;/focus&gt;\n    &lt;digital_gain&gt;1&lt;/digital_gain&gt;\n    &lt;name&gt;Photo_pose&lt;/name&gt;\n    &lt;camera_session_name&gt;EXI-55-retest-3&lt;/camera_session_name&gt;\n&lt;/acquisition&gt;\n&lt;errors&gt;\n</code></pre>\n\n<p>Can anyone think of a way of extracting this data?</p>\n"}, {"tags": ["python", "python-3.4", "python-import", "bottle"], "comments": [{"owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "edited": false, "score": 0, "creation_date": 1455142336, "post_id": 35326493, "comment_id": 58362639, "body": "Can you do <code>python3 -m pip --version</code>? Because then you might be able to install packages though <code>python3 -m pip install package</code>."}, {"owner": {"reputation": 120, "user_id": 5613731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3mJI.png?s=128&g=1", "display_name": "gavxn", "link": "https://stackoverflow.com/users/5613731/gavxn"}, "reply_to_user": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "edited": false, "score": 0, "creation_date": 1455142592, "post_id": 35326493, "comment_id": 58362737, "body": "I don&#39;t have an executable python. The python runtime is packaged as a Windows DLL."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1455143150, "post_id": 35326493, "comment_id": 58362971, "body": "Python and its standard library <a href=\"https://docs.python.org/3/license.html\" rel=\"nofollow noreferrer\">are open source</a>, perhaps you could make your own copy of the package you need, and distribute it along with the app?"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1455143930, "post_id": 35326493, "comment_id": 58363344, "body": "Yeah, what @Blckknght said. That may be your best or even only option. Even if you were to use <code>pip</code>, I&#39;m not sure that the PyPI version of <code>wsgiref</code> is usable with Python 3.4. As for programmatically downloading stuff in general, does this custom Python have <code>urllib.request</code>? Could you maybe call out to the system <code>ftp</code> (via <code>os.system()</code> or <code>subprocess</code>)?"}, {"owner": {"reputation": 120, "user_id": 5613731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3mJI.png?s=128&g=1", "display_name": "gavxn", "link": "https://stackoverflow.com/users/5613731/gavxn"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1455144754, "post_id": 35326493, "comment_id": 58363684, "body": "It has the <code>urllib.request</code> module. @Blckknght I totally agree with your solution but I&#39;m worried in a years (possibly longer!) time I&#39;ll have an out-of-date copy of that module sitting on a hard-drive / online vcs. I&#39;m assuming here that the wsgiref module gets a few updates every year or so."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1455145272, "post_id": 35326493, "comment_id": 58363889, "body": "I think the question is, how often does the embedded Python interpreter in the game get updated? If it is not changed, you probably don&#39;t need to change the package you&#39;re providing either."}, {"owner": {"reputation": 120, "user_id": 5613731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3mJI.png?s=128&g=1", "display_name": "gavxn", "link": "https://stackoverflow.com/users/5613731/gavxn"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1487791003, "post_id": 35326493, "comment_id": 71947709, "body": "@Blckknght I had a very busy year! I ended up doing what you said and distributing my software with the package I needed. I downloaded a copy of the Python runtime and copied it from there.Could you submit that as an answer so I can close this question? Edit: Just to add, I wrote a small script to fetch this package before distributing my software so that the latest version can be distributed."}], "answers": [{"tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": false, "score": 0, "last_activity_date": 1455169798, "creation_date": 1455169798, "answer_id": 35331731, "question_id": 35326493, "link": "https://stackoverflow.com/questions/35326493/python-3-4-programmatically-download-standard-library-module-wsgiref-without-us/35331731#35331731", "title": "Python 3.4: programmatically download standard library module wsgiref without using pip", "body": "<p>Try setting up the sys.path from your script before importing anything. \nif wsgiref is next to your script it will might work</p>\n\n<pre><code>import sys, os\nsys.path.append(os.path.dirname(__file__))\nimport bottle\n#all the other cool stuff you do...\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5613731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3mJI.png?s=128&g=1", "display_name": "gavxn", "link": "https://stackoverflow.com/users/5613731/gavxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455169798, "creation_date": 1455140409, "last_edit_date": 1455142112, "question_id": 35326493, "link": "https://stackoverflow.com/questions/35326493/python-3-4-programmatically-download-standard-library-module-wsgiref-without-us", "title": "Python 3.4: programmatically download standard library module wsgiref without using pip", "body": "<p>I am using the Bottle micro-web framework within a closed python installation. The standard library of this python install is very limited. Unsurprisingly pip is not there so I can't import pip and go that route.</p>\n\n<p>I can get Bottle to run when I pull wsgiref from a previously installed Python on my computer and copy it into the directory of my running script but that's not a working solution for anyone who wants to run my script. I need to be able to download wsgiref from a suitable source.</p>\n\n<p>The closed python install comes from the The  Sims 4 PC game. This is a script called <code>my_web_app.py</code> that I wrote. <code>bottle.py</code> and the wsgiref directory are in the same folder as <code>my_web_app.py</code> which is in a folder called <code>my_web_mod</code> under <code>\\Electronic Arts\\The Sims 4\\Mods</code>. The below code won't run without The Sims 4 but it's here for anyone to use in case they have the game and want to test.</p>\n\n<pre><code>import sims4.commands\nimport services\n\nfrom bottle import route, run\nimport threading\n\n@route('/siminfo')\ndef siminfo():\n    sim_info = ''\n\n    def logger(msg):\n        nonlocal sim_info\n        sim_info = msg\n    services.active_sim_info().log_sim_info(logger)\n    sim_info = sim_info.replace('&lt;', '&amp;lt;')\n    sim_info = sim_info.replace('&gt;', '&amp;gt;')\n    sim_info = sim_info.replace('\\n', '&lt;br/&gt;')\n    return sim_info\n\n@route('/test')\ndef test():\n    return \"&lt;b&gt;Test!&lt;/b&gt;\"\n\nt = threading.Thread(target=run, kwargs=dict(host='localhost', port=8080))\nt.daemon = True\nt.start()\n</code></pre>\n"}, {"tags": ["python", "apex", "soql"], "answers": [{"comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455141101, "post_id": 35326561, "comment_id": 58362073, "body": "Be sure to use your database&#39;s version of <b>prepared statements</b> instead of direct string value, to avoid SQL injection vulnerabilities."}, {"owner": {"reputation": 35, "user_id": 5876245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056a7fb9eac5cc7a2f8d8503555c89d?s=128&d=identicon&r=PG&f=1", "display_name": "Philosopher", "link": "https://stackoverflow.com/users/5876245/philosopher"}, "edited": false, "score": 0, "creation_date": 1455144222, "post_id": 35326561, "comment_id": 58363460, "body": "@harfel I tried your suggestion. It returned an error: no viable alternative at character \\&#39;&quot;\\&#39;&#39;"}], "tags": [], "owner": {"reputation": 233, "user_id": 4415526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-JJIIWktKHZg/AAAAAAAAAAI/AAAAAAAAAAA/9nbGdp6KRJQ/photo.jpg?sz=128", "display_name": "harfel", "link": "https://stackoverflow.com/users/4415526/harfel"}, "is_accepted": false, "score": 0, "last_activity_date": 1455140748, "creation_date": 1455140748, "answer_id": 35326561, "question_id": 35326488, "link": "https://stackoverflow.com/questions/35326488/pass-a-variable-into-a-select-query-in-soql/35326561#35326561", "title": "Pass a variable into a select query in SOQL", "body": "<p>I have no experience with simple-salesforce package, but looking at your code, I wonder if the answer might not be as simple as</p>\n\n<pre><code>sf.query('SELECT Id, Name FROM deal__c WHERE contact__c = \"%s\"' % myString)\n</code></pre>\n\n<p>that is, entering the <em>value</em> of myString into the query rather than its <em>name</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 1529, "user_id": 8482471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148f0fb4fa3bace43392f545bf03a68a?s=128&d=identicon&r=PG&f=1", "display_name": "rajkris", "link": "https://stackoverflow.com/users/8482471/rajkris"}, "edited": false, "score": 0, "creation_date": 1572520870, "post_id": 35327574, "comment_id": 103589827, "body": "Why is it &#39;\\\\&#39; replaced? It should be &#39;\\&#39; right? And it should precede with a single &#39;\\&#39; and not &#39;\\\\&#39;, right?"}, {"owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "reply_to_user": {"reputation": 1529, "user_id": 8482471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148f0fb4fa3bace43392f545bf03a68a?s=128&d=identicon&r=PG&f=1", "display_name": "rajkris", "link": "https://stackoverflow.com/users/8482471/rajkris"}, "edited": false, "score": 1, "creation_date": 1572559711, "post_id": 35327574, "comment_id": 103608195, "body": "@rajkris: <code>&quot;\\\\&quot;</code> appears as the first argument to <code>.replace</code> because Python interprets a backslash as an escape character as well as Apex.  <code>&quot;\\\\&quot;</code> is a Python string containing a single backslash, and <code>&quot;\\\\\\\\&quot;</code> is a Python string containing two backslashes. (<code>&quot;\\&quot;</code> is a syntax error in Python, as is <code>r&quot;\\&quot;</code>.)"}], "tags": [], "owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "is_accepted": true, "score": 5, "last_activity_date": 1455144717, "creation_date": 1455144717, "answer_id": 35327574, "question_id": 35326488, "link": "https://stackoverflow.com/questions/35326488/pass-a-variable-into-a-select-query-in-soql/35327574#35327574", "title": "Pass a variable into a select query in SOQL", "body": "<p>@harfel's answer is close, but it has the quotes the wrong way around, as string literals in SOQL must be surrounded by single quotes.</p>\n\n<p>Here's a poor first attempt at fixing the problem:</p>\n\n<pre><code># What happens if myString is \"John O'Groats\"?\nsf.query(\"SELECT Id, Name FROM deal__c WHERE contact__c = '%s'\" % myString)\n</code></pre>\n\n<p>While Salesforce's proprietary language Apex supports parameterised SOQL, there is no way to use parameterised SOQL when calling Salesforce via the REST API, as simple-salesforce does. If we want to use an unknown value in a SOQL query, string concatenation is our only option.</p>\n\n<p>However, if we are going to concatenate string values into a SOQL query, we must 'escape' any reserved characters to avoid SOQL injection.  The Salesforce documentation on this is fairly clear: there are only two <a href=\"https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_reservedcharacters.htm\" rel=\"noreferrer\">reserved characters</a>: backslash <code>\\</code> and single quote <code>'</code>.  A function that will escape string values is as follows:</p>\n\n<pre><code>def soqlEscape(someString):\n    # Escape backslashes and single-quotes, in that order.\n    return someString.replace(\"\\\\\", \"\\\\\\\\\").replace(\"'\", \"\\\\'\")\n</code></pre>\n\n<p>We can use this function to give a better attempt at fixing the problem:</p>\n\n<pre><code>sf.query(\"SELECT Id, Name FROM deal__c WHERE contact__c = '%s'\" % soqlEscape(myString))\n</code></pre>\n\n<p>Alternatively, if you know that the value of the <code>contact__c</code> parameter will only ever be alphanumeric, then you can validate the value beforehand instead of escaping it:</p>\n\n<pre><code>if myString.isalnum():\n    # Value is alphanumeric, safe to concatenate in.\n    sf.query(\"SELECT Id, Name FROM deal__c WHERE contact__c = '%s'\" % myString)\nelse:\n    raise ValueError(\"Invalid contact__c: '%s'\" % myString)\n</code></pre>\n\n<p>'Installing' Apex isn't an option: it runs only on Salesforce's own servers.</p>\n"}], "owner": {"reputation": 35, "user_id": 5876245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056a7fb9eac5cc7a2f8d8503555c89d?s=128&d=identicon&r=PG&f=1", "display_name": "Philosopher", "link": "https://stackoverflow.com/users/5876245/philosopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2647, "favorite_count": 0, "accepted_answer_id": 35327574, "answer_count": 2, "score": 2, "last_activity_date": 1455144717, "creation_date": 1455140400, "question_id": 35326488, "link": "https://stackoverflow.com/questions/35326488/pass-a-variable-into-a-select-query-in-soql", "title": "Pass a variable into a select query in SOQL", "body": "<p>I am running a Python script that uses the <a href=\"https://pypi.python.org/pypi/simple-salesforce\" rel=\"nofollow\">simple-salesforce package</a> to query all data in my Salesforce account. For context, the script reads a dictionary stored in a CSV file and stores a specific value, which is a string, in a variable (see below). </p>\n\n<pre><code>    with open('/Users/username/Documents/filename.csv', 'rU') as f:\n        mydict = dict(filter(None, csv.reader(f)))\n    myString = mydict['key']\n</code></pre>\n\n<p>Then, I want to pass the variable (myString) into an SOQL select query. However, when I try to pass the variable into the query, I get the following error: Bind variables only allowed in Apex code. Below, you can see the query I tried running in simple-salesforce's format for SOQL queries. </p>\n\n<pre><code>    sf.query(\"SELECT Id, Name FROM deal__c WHERE contact__c = myString\")\n</code></pre>\n\n<p>My question is: How do I pass my variable into the SOQL select query? I am open to using Apex or Dynamic SOQL if that is the best solution, but if that is the best solution, please advise how to use Apex code in my Python script (i.e. if I need to specify where I switch to Apex or install Apex somehow). </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455140697, "post_id": 35326476, "comment_id": 58361877, "body": "<i>I am assuming the reason for this might be that the last contractor used virtualenv</i> why are you guessing about this?  Find out!"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1455140738, "post_id": 35326476, "comment_id": 58361897, "body": "why not start from scratch?"}, {"owner": {"reputation": 25164, "user_id": 48837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/794b7aec23a44e6982349be0b14bebd0?s=128&d=identicon&r=PG", "display_name": "Joe Holloway", "link": "https://stackoverflow.com/users/48837/joe-holloway"}, "edited": false, "score": 0, "creation_date": 1455140804, "post_id": 35326476, "comment_id": 58361919, "body": "Typically there would be nginx or apache doing a reverse proxy to gunicorn or other WSGI application server.  If you can look at the configuration of the reverse proxy, it should point you in the right direction."}, {"owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "edited": false, "score": 0, "creation_date": 1455142826, "post_id": 35326476, "comment_id": 58362831, "body": "I took the liberty to edit the question title, as this has more to do with locating the virtualenv than updating Django itself"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1455144012, "post_id": 35326476, "comment_id": 58363379, "body": "Maybe you could look for <code>bin&#47;activate</code> files? As in: <code>locate bin&#47;activate</code>"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455148576, "post_id": 35326564, "comment_id": 58365139, "body": "Thank you for the advice. If I were to recreate a new virtualenv, to enable it would I have to manually edit apache? Or is there an easier way of enabling the virtual environment as the host?"}, {"owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "reply_to_user": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455148716, "post_id": 35326564, "comment_id": 58365180, "body": "Apache would most likely be a <i>reverse proxy</i> that forwards the requests to Django via some port (e.g. 8000), so if you use the same port you don&#39;t have to change it. Apache also serves static files for the app, so if the static files are where it looks for it, you don&#39;t have to do anything. Basically you are only replacing the virtualenv, and if you provide all the dependencies in it, you should be fine."}, {"owner": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455148924, "post_id": 35326564, "comment_id": 58365245, "body": "To confirm if I understand correctly, by &quot;use the same port&quot; do you mean use the same port on django? In other words, if i created a new environment, added all dependencies, then copied over the updated application files, as long as Django is on the same port, the host should direct the domain to the new environment?"}, {"owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "reply_to_user": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455149515, "post_id": 35326564, "comment_id": 58365429, "body": "If you get Django running on the port that Apache expects, you have solved the problem. Django cares about virtualenv, Apache doesn&#39;t. Apache in a typical Django just forwards the HTTP requests to Django and serves static files off the disk. Apache doesn&#39;t care/know about virtualenv."}, {"owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "reply_to_user": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455149780, "post_id": 35326564, "comment_id": 58365516, "body": "Are you using <code>mod_wsgi</code> with Apache? Because this changes things"}, {"owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "reply_to_user": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455149885, "post_id": 35326564, "comment_id": 58365550, "body": "I would search in your Apache configs and you may find the path to your virtulaenv"}, {"owner": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "edited": false, "score": 0, "creation_date": 1455150078, "post_id": 35326564, "comment_id": 58365617, "body": "The work on this server was done by an old contractor, so I am not sure how apache is set up (which is why I would rather avoid having to mess with it all together if possible). I am typically a JS developer so this is my first time deploying a Python/Django app, so I&#39;m a bit unexperienced in this area. My only experience with virtual servers in the past was setting up virtual servers via administration panels and they typically gave public folders to work with. Never had to manually edit Apache before."}, {"owner": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "reply_to_user": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "edited": false, "score": 0, "creation_date": 1455150471, "post_id": 35326564, "comment_id": 58365732, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/103147/discussion-between-n-drosos-and-bakkal\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": false, "score": 2, "last_activity_date": 1455148582, "last_edit_date": 1455148582, "creation_date": 1455140758, "answer_id": 35326564, "question_id": 35326476, "link": "https://stackoverflow.com/questions/35326476/how-to-locate-a-virtualenv-install/35326564#35326564", "title": "How to locate a virtualenv install", "body": "<h2>Create your own virtualenv</h2>\n\n<p>If all fails, just recreate the <code>virtualenv</code> from the <code>requirements.txt</code> and go from there</p>\n\n<h2>Find out how the old app was being launched</h2>\n\n<p>If you insist on finding the old one, IMO the most direct way is to find how is the production Django app being ran. Look for bash scripts that start it, some <code>supervisor</code> entries etc</p>\n\n<p>If you find how it starts, then you can pinpoint the environment it is launched in (e.g. which virtualenv)</p>\n\n<h2>Find the virtualenv by searching for common files</h2>\n\n<p>Other than that you can use <code>find</code> or <code>locate</code> command to search for files we know to exist in a virtualenv like <code>lib/pythonX.Y/site-packages</code>, <code>bin/activate</code> or <code>bin/python</code> etc</p>\n"}, {"tags": [], "owner": {"reputation": 1025, "user_id": 3146034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b74a0572aeea8834de5e8ceaa204530d?s=128&d=identicon&r=PG&f=1", "display_name": "mknecht", "link": "https://stackoverflow.com/users/3146034/mknecht"}, "is_accepted": false, "score": 0, "last_activity_date": 1455208863, "creation_date": 1455208863, "answer_id": 35345062, "question_id": 35326476, "link": "https://stackoverflow.com/questions/35326476/how-to-locate-a-virtualenv-install/35345062#35345062", "title": "How to locate a virtualenv install", "body": "<p>Why not start checking what <em>processes are actually running</em>, and with what commandline, using <code>ps auxf</code> or something of the sort. Then you know if its nginx+uwsgi or django-devserver or what, and maybe even see the virtualenv path, if it's being launched very manually. Then, look at the config file of the server you find.</p>\n\n<p>Alternatively, look around, using <code>netstat -taupen</code>, for example, which processes are listening to which ports. Makes even more sense, if there's a reverse proxy like nginx or whatever running, and you know that it's proxying to.</p>\n\n<p>The requirements.txt I'd ignore completely. You'll get the same, but correct information from the virtualenv once you activate it and run <code>pip freeze</code>. The file's superfluous at best, and misleading at worst.</p>\n\n<p>Btw, if this old contractor compiled and installed a custom Python, (s)he might not even have used a virtualenv, while still avoiding the system libraries and PYTHONPATH. Unlikely, but possible.</p>\n"}], "owner": {"reputation": 161, "user_id": 4338668, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fafa1c7344c32da06a76ed395f095a05?s=128&d=identicon&r=PG&f=1", "display_name": "n drosos", "link": "https://stackoverflow.com/users/4338668/n-drosos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4495, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1455208863, "creation_date": 1455140365, "last_edit_date": 1455142697, "question_id": 35326476, "link": "https://stackoverflow.com/questions/35326476/how-to-locate-a-virtualenv-install", "title": "How to locate a virtualenv install", "body": "<p>Deploying to a live server for an existing Django application. It's a very old site that has not been updated in 3+ years. </p>\n\n<p>I was hired on contract to bring it up to date, which included upgrading the Django version to be current. This broke many things on the site that had to be repaired.</p>\n\n<p>I did a test deployment and it went fine. Now it is time for deployment to live and I am having some issues....</p>\n\n<p>First thing I was going to do is keep a log of the current Django version on server, incase of any issues we can roll back. I tried logging in Python command prompt and importing Django to find version number, and it said Django not found.</p>\n\n<p>I was looking further and found the version in a pip requirements.txt file. </p>\n\n<p>Then I decided to update the actual django version on the server. Update went through smoothly. Then I checked the live site, and everything was unchanged (with the old files still in place). Most of the site should have been broken. It was not recognizing any changes in Django.</p>\n\n<p>I am assuming the reason for this might be that the last contractor used virtualenv? And that's why it is not recognizing Django, or the Django update are not doing anything to the live site?</p>\n\n<p>That is the only reason I could come up with to explain this issue, as since there is a pip requirements.txt file, he likely installed Django with pip, which means Python should recognize the path to Django. </p>\n\n<p>So then I was going to try to find the source path for the virtualenv with command \"lsvirtualenv\". But when I do that, even that gives me a \"command not found\" error.</p>\n\n<p>My only guess is that this was an older version of virtualenv that does not have this command? If that is not the case, I'm not sure what is going on.</p>\n\n<p>Any advice for how I find the information I need to  update the package versions on this server with the tools I have access to?</p>\n"}, {"tags": ["python", "sqlalchemy", "psycopg2", "amazon-redshift", "blaze"], "comments": [{"owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "edited": false, "score": 0, "creation_date": 1497453565, "post_id": 35326424, "comment_id": 76088120, "body": "A deleted answer from user Qbaza below says: &quot;I have noticed that I get the same error when using Pandas and my query returns 0 rows, so make sure you are actually getting valid result from DB.&quot;. This was my issue"}, {"owner": {"reputation": 6153, "user_id": 843348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/955b6f9c80ae3c733dcc870a3e35831f?s=128&d=identicon&r=PG", "display_name": "Daniel Mahler", "link": "https://stackoverflow.com/users/843348/daniel-mahler"}, "reply_to_user": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "edited": false, "score": 0, "creation_date": 1497464254, "post_id": 35326424, "comment_id": 76094477, "body": "@jeremycg The same code returned results if I did not set <code>stream_results=True</code>"}, {"owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "edited": false, "score": 0, "creation_date": 1497464395, "post_id": 35326424, "comment_id": 76094530, "body": "Yeah it&#39;s not a definitive answer, but I added it as a comment in case the next googler has the same problem, and not enough rep to see deleted answers"}], "owner": {"reputation": 6153, "user_id": 843348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/955b6f9c80ae3c733dcc870a3e35831f?s=128&d=identicon&r=PG", "display_name": "Daniel Mahler", "link": "https://stackoverflow.com/users/843348/daniel-mahler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1285, "favorite_count": 4, "answer_count": 0, "score": 6, "last_activity_date": 1464803746, "creation_date": 1455140158, "last_edit_date": 1455141593, "question_id": 35326424, "link": "https://stackoverflow.com/questions/35326424/streaming-results-with-blaze-and-sqlalchemy", "title": "Streaming results with Blaze and SqlAlchemy", "body": "<p>I am trying to use Blaze/Odo to read a large (~70M rows) result set from Redshift. By default SqlAlchemy witll try to read the whole result into memory, before starting to process it. This can be prevented by either \n<code>execution_options(stream_results=True)</code> on the engine/session or <code>yield_per(sane_number)</code> on the query. When working from Blaze SqlAchemy queries are generated behind the covers, leaving the <code>execution_options</code> approach. Unfortunately the following throws and error.</p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom blaze import Data\n\nredshift_params = (redshift_user, redshift_pass, redshift_endpoint, port, dbname)\nengine_string = \"redshift+psycopg2://%s:%s@%s:%d/%s\" % redshift_params\n\nengine = create_engine(engine_string,\n       execution_options=dict(stream_results=True)\n       )\n\ndb = Data(engine)\n</code></pre>\n\n<p>The exception is:</p>\n\n<pre><code>...\n/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.pyc in __buffer_rows(self)\n   1124             return\n   1125         size = getattr(self, '_bufsize', 1)\n-&gt; 1126         self.__rowbuffer = collections.deque(self.cursor.fetchmany(size))\n   1127         self._bufsize = self.size_growth.get(size, size)\n   1128         if self._max_row_buffer is not None:\n\nInternalError: (psycopg2.InternalError) opening multiple cursors from within the same client connection is not allowed.\n</code></pre>\n\n<p>If I leave out the <code>execution_options=dict(stream_results=True)</code> then the above works, but doing something like</p>\n\n<pre><code>odo(db.mytable, 'mytable.bcolz')\n</code></pre>\n\n<p>will run out of memory for large tables.</p>\n\n<p>Using <code>execution_options(stream_results=True)</code> does work with <code>pandas.read_csv</code>. The following code works fine, using only moderate amounts of memory:</p>\n\n<pre><code>from sqlalchemy import create_engine\nimport pandas as pd\n\nredshift_params = (redshift_user, redshift_pass, redshift_endpoint, port, dbname)\nengine_string = \"postgresql+psycopg2://%s:%s@%s:%d/%s\" % redshift_params\n\nengine = create_engine(engine_string,\n       execution_options=dict(stream_results=True)\n       )\ncompression='bz2'\nres = pd.read_sql_query(queryString\n            engine,\n            chunksize=2**20)\nfor i, df in enumerate(res):\n    df.to_csv('results-%s.csv.%s' % (i, compression), compression=compression)\n</code></pre>\n\n<hr>\n\n<p>This is the complete stack trace:</p>\n\n<pre><code>...\n\nData(engine)\n\nNo handlers could be found for logger \"sqlalchemy.pool.QueuePool\"\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/blaze/interactive.py\", line 122, in Data\n    dshape = discover(data)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/multipledispatch/dispatcher.py\", line 164, in __call__\n    return func(*args, **kwargs)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/odo/backends/sql.py\", line 242, in discover\n    return discover(metadata)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/multipledispatch/dispatcher.py\", line 164, in __call__\n    return func(*args, **kwargs)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/odo/backends/sql.py\", line 248, in discover\n    metadata.reflect(views=metadata.bind.dialect.supports_views)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/sql/schema.py\", line 3623, in reflect\n    bind.dialect.get_view_names(conn, schema)\n  File \"&lt;string&gt;\", line 2, in get_view_names\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/reflection.py\", line 42, in cache\n    return fn(self, con, *args, **kw)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/dialects/postgresql/base.py\", line 2347, in get_view_names\n    for row in connection.execute(s)]\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.py\", line 713, in __iter__\n    row = self.fetchone()\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.py\", line 1026, in fetchone\n    self.cursor, self.context)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1341, in _handle_dbapi_exception\n    exc_info\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n    reraise(type(exception), exception, tb=exc_tb)\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.py\", line 1017, in fetchone\n    row = self._fetchone_impl()\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.py\", line 1139, in _fetchone_impl\n    self.__buffer_rows()\n  File \"/home/mahler/anaconda/lib/python2.7/site-packages/sqlalchemy/engine/result.py\", line 1126, in __buffer_rows\n    self.__rowbuffer = collections.deque(self.cursor.fetchmany(size))\nsqlalchemy.exc.InternalError: (psycopg2.InternalError) opening multiple cursors from within the same client connection is not allowed.\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1455140407, "creation_date": 1455140407, "answer_id": 35326491, "question_id": 35326420, "link": "https://stackoverflow.com/questions/35326420/i-am-trying-to-compress-files-in-python-and-seem-to-be-struggling/35326491#35326491", "title": "I am trying to compress files in python and seem to be struggling", "body": "<p>This should do what you want:</p>\n\n<pre><code>word_dictionary = {} # start with empty dictionary\nhighest = 0 # and set our counter to 0\nsentence = \"this is a sentence and is good\".split()\ncompressed = []\nfor word in sentence:\n    if word not in word_dictionary:\n        highest += 1 # new word, so we need a new number\n    # append the word number, and if it's not in the dictionary,\n    # set it, too\n    compressed.append(word_dictionary.setdefault(word, highest))\n</code></pre>\n\n<p>This correctly sets <code>compressed</code> to <code>[1, 2, 3, 4, 5, 2, 6]</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 5910657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/675d6eaf66eff85ca922b6785c488aa0?s=128&d=identicon&r=PG&f=1", "display_name": "luna.ravenclaw", "link": "https://stackoverflow.com/users/5910657/luna-ravenclaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 35326491, "answer_count": 1, "score": 3, "last_activity_date": 1455145212, "creation_date": 1455140126, "last_edit_date": 1455145212, "question_id": 35326420, "link": "https://stackoverflow.com/questions/35326420/i-am-trying-to-compress-files-in-python-and-seem-to-be-struggling", "title": "I am trying to compress files in python and seem to be struggling", "body": "<p>I was trying to get a file so that it saves to a list a sentence in numerical \nform e.g.</p>\n\n<p>this is a sentence and is good = 1,2,3,4,5,2,6</p>\n\n<p>see, is = 2 and is repeated as shown above</p>\n\n<p>this is a section from my code...</p>\n\n<pre><code>j = sentence\n\nfor position, word in enumerate(sentence):\n    if word in word_dictionary:\n        word_dictionary.append(position)\n</code></pre>\n\n<p>please help, thanks</p>\n"}, {"tags": ["python", "cmd", "system-shutdown"], "comments": [{"owner": {"reputation": 16374, "user_id": 1020470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155b46c9d301fa5a4c1a2a9ad4f2849e?s=128&d=identicon&r=PG", "display_name": "Mark Mikofski", "link": "https://stackoverflow.com/users/1020470/mark-mikofski"}, "edited": false, "score": 0, "creation_date": 1455213702, "post_id": 35326393, "comment_id": 58400516, "body": "Have you tried using <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/\" rel=\"nofollow noreferrer\">pywin32</a>? There is a description of <a href=\"http://timgolden.me.uk/pywin32-docs/win32api__InitiateSystemShutdown_meth.html\" rel=\"nofollow noreferrer\"><code>win32api.InitiateSystemShutdown</code></a> on Tim Golden&#39;s site that looks like it should work. The signature is <code>InitiateSystemShutdown(computerName, message, timeOut, bForceClose, bRebootAfterShutdown)</code>."}, {"owner": {"reputation": 16374, "user_id": 1020470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155b46c9d301fa5a4c1a2a9ad4f2849e?s=128&d=identicon&r=PG", "display_name": "Mark Mikofski", "link": "https://stackoverflow.com/users/1020470/mark-mikofski"}, "edited": false, "score": 0, "creation_date": 1455213896, "post_id": 35326393, "comment_id": 58400640, "body": "And there is <a href=\"http://www.blog.pythonlibrary.org/2010/03/27/restarting-pcs-with-python/\" rel=\"nofollow noreferrer\">a post on the blog Mouse vs. Python called Restarting PCs with Python</a> on this topic with an example using pywin32."}], "owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1555, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1455213013, "creation_date": 1455140036, "last_edit_date": 1455213013, "question_id": 35326393, "link": "https://stackoverflow.com/questions/35326393/remote-shutdown-not-working-in-python", "title": "Remote shutdown not working in Python", "body": "<p>I'm trying to write up a small script using Python 2.7.7 that would ping an IP address and determine whether that PC is turned on or off, and change the power state of that system accordingly. I'm relying heavily on the Python modules <code>subprocess</code> and <code>wakeonlan</code>. I am not having any issues pinging or using WOL, but the shutdown functionality is behaving in a very strange way.</p>\n\n<p>Using the command <code>shutdown -s -t 0 /m \\\\XXX.XXX.X.X</code> from the command prompt works fine, as well as the following from the Python interactive shell in cmd:</p>\n\n<pre><code>import subprocess\nip = 'XXX.XXX.X.X'   # use for example\nsubprocess.call('shutdown -s -t 0 /m \\\\\\\\%s' % ip)\n</code></pre>\n\n<p>But running the same command in from a Python script is returning this error:</p>\n\n<blockquote>\n  <p><code>XXX.XXX.X.X</code>: The entered computer name is not valid or remote shutdown is not supported on the target computer. Check the name and then try again or contact your system administrator.(53)</p>\n</blockquote>\n\n<p>Are there any background behaviors that I'm not thinking about? Perhaps something to do with the subprocess module? Thanks in advance!</p>\n"}, {"tags": ["python", "xml", "api", "parsing", "web"], "comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 1, "creation_date": 1455140185, "post_id": 35326390, "comment_id": 58361623, "body": "It looks more like JSON. Use <code>json.loads</code>."}], "answers": [{"comments": [{"owner": {"reputation": 648, "user_id": 5641146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/945756475479291/picture?type=large", "display_name": "Yooooomi", "link": "https://stackoverflow.com/users/5641146/yooooomi"}, "edited": false, "score": 0, "creation_date": 1455198191, "post_id": 35326658, "comment_id": 58389030, "body": "Thanks ! It works perfectly and i&#39;m still trying to fetch &#39;wins&#39; for each game type, such as &#39;Coopvsai&#39; or &#39;Unranked&#39;, because every player doesnt have the &#39;wins&#39; set in the same order."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1455141082, "creation_date": 1455141082, "answer_id": 35326658, "question_id": 35326390, "link": "https://stackoverflow.com/questions/35326390/parsing-xml-response-from-web/35326658#35326658", "title": "Parsing XML Response from web", "body": "<p>That is <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow\">JSON</a>, not <a href=\"https://en.wikipedia.org/wiki/XML\" rel=\"nofollow\">XML</a>. </p>\n\n<p>You can use the python <code>json</code> library to parse it into a normal python dictionary. </p>\n\n<pre><code>import requests, json\n\nurl = 'https://euw.api.pvp.net/api/lol/euw/v1.3/stats/by-summoner/52456930/summary?season=SEASON2016&amp;api_key=2c0543ab-aeca-476d-8276-a5c23748898c'\n\nresponse = requests.get(url)\ndata = json.loads(response.content)\n\nfor stat in data['playerStatSummaries']:\n    print stat['wins']\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>14\n143\n21\n1\n0\n0\n8\n36\n545\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 5641146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/945756475479291/picture?type=large", "display_name": "Yooooomi", "link": "https://stackoverflow.com/users/5641146/yooooomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 1, "accepted_answer_id": 35326658, "answer_count": 1, "score": -1, "last_activity_date": 1455141082, "creation_date": 1455140028, "question_id": 35326390, "link": "https://stackoverflow.com/questions/35326390/parsing-xml-response-from-web", "title": "Parsing XML Response from web", "body": "<p>Hi i'm trying to parse <a href=\"https://euw.api.pvp.net/api/lol/euw/v1.3/stats/by-summoner/52456930/summary?season=SEASON2016&amp;api_key=2c0543ab-aeca-476d-8276-a5c23748898c\" rel=\"nofollow\">this</a> using <code>requests.get</code> and ElementTree with parse from string and it keeps telling me that it's a bad xml file <code>xml.etree.ElementTree.ParseError: not well-formed (invalid token): line 1, column 0</code>. I fetch the response from the api with requests and i tried to use different parsers. \nHere is what i'm trying :</p>\n\n<pre><code>import requests\nfrom xml.etree import ElementTree\n\nurl = 'https://euw.api.pvp.net/api/lol/euw/v1.3/stats/by-summoner/52456930/summary?season=SEASON2016&amp;api_key=2c0543ab-aeca-476d-8276-a5c23748898c'\nresponse = requests.get(url)\nxmlstring = response.content # or response.text i dont know\n\nparser = ElementTree.XMLParser(encoding=\"utf-8\")\nElementTree.fromstring(xmlstring, parser=parser)`\n</code></pre>\n\n<p>I need to parse it in order to ask a specific var from it.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 7, "creation_date": 1455139992, "post_id": 35326340, "comment_id": 58361518, "body": "Is <code>regex.py</code> your file?  Did you name it the exact same name as the python package you&#39;re trying to import?  I&#39;m guessing that it&#39;s actually importing itself, which doesn&#39;t contain <code>findall()</code>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1455140027, "post_id": 35326340, "comment_id": 58361542, "body": "@BrendanAbel: Yes, is this a problem?"}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 5, "creation_date": 1455140046, "post_id": 35326340, "comment_id": 58361547, "body": "You file name is confusing the interpreter, as that name is clashing with the module <code>regex</code> that you are importing. Change the filename, and you should be good."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1455140261, "post_id": 35326340, "comment_id": 58361658, "body": "@BrendanAbel: You were the first, this solved it. Put it as an answer and I will accept it."}], "answers": [{"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1455140220, "post_id": 35326410, "comment_id": 58361636, "body": "Damn it, that was it :-) Thanks a lot."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1455140092, "creation_date": 1455140092, "answer_id": 35326410, "question_id": 35326340, "link": "https://stackoverflow.com/questions/35326340/strange-python-behaviour-with-regex-module/35326410#35326410", "title": "Strange Python behaviour with regex module", "body": "<p>You must not name your modules identically to the system modules. Rename your file <code>regex.py</code> to something else, like <code>my_regex.py</code>, then delete the file <code>regex.pyc</code>, if it exists.</p>\n"}], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 35326410, "answer_count": 1, "score": 1, "last_activity_date": 1455140092, "creation_date": 1455139848, "question_id": 35326340, "link": "https://stackoverflow.com/questions/35326340/strange-python-behaviour-with-regex-module", "title": "Strange Python behaviour with regex module", "body": "<p>I have been playing around with the <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow\">improved regex module</a> for Python by Matthew Barnett and found a strange error (behaviour? bug?).<br>\nConsider the following code:</p>\n\n<pre><code>import regex as re\nstring = \"liberty 123, equality 123, fraternity 123\"\nrx = r'\\d+(?=,|$)'\nresults = re.findall(rx, string)\nprint (results)\n</code></pre>\n\n<p>When invoked from the command line on my Mac (<code>python regex.py</code>), I get the error <code>AttributeError: 'module' object has no attribute 'findall'</code>, while when I copy and paste the exact same code to the python shell, it correctly outputs </p>\n\n<pre><code>['123', '123', '123']\n</code></pre>\n\n<p>Can somebody enlight me please? Is this some obvious thing I am missing here?</p>\n"}, {"tags": ["python", "tuples", "args"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 2, "creation_date": 1455140186, "post_id": 35326330, "comment_id": 58361624, "body": "<code>tup = (&quot;Hello123&quot;)</code> does not create a tuple.  This is just the string &quot;Hello123&quot; with parentheses around it.  If you want a tuple with one element, you have to put a trailing comma, like so: <code>tup = (&quot;Hello123&quot;,)</code>.  This syntax can look a bit odd, but it&#39;s needed so that expressions like <code>x = (y &#47; 2)</code> are not interpreted as tuples."}], "answers": [{"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 2, "creation_date": 1455146876, "post_id": 35326374, "comment_id": 58364562, "body": "To add to your last sentence, you also need parentheses if the commas would otherwise mean something else. For instance, function arguments and list items are both separated by commas, so to build a tuple in those environments, you need parentheses (e.g. <code>foo((x,y))</code> and <code>[(x,y)]</code>)."}], "tags": [], "owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "is_accepted": true, "score": 3, "last_activity_date": 1455139997, "creation_date": 1455139997, "answer_id": 35326374, "question_id": 35326330, "link": "https://stackoverflow.com/questions/35326330/confusion-in-understanding-tuple-and-args-in-python/35326374#35326374", "title": "Confusion in understanding tuple and *args in Python", "body": "<p><em>Parentheses</em> don't make tuples, <em>commas</em> do. To build a single-element tuple, the correct syntax is</p>\n\n<pre><code>tup = (\"Hello123\",)  # parentheses are optional but help readability\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>tup = \"Hello123\",\n</code></pre>\n\n<p>Remember that you can write </p>\n\n<pre><code>x, y = y, x  # swaps x and y using tuple packing/unpacking\n</code></pre>\n\n<p>just as well as</p>\n\n<pre><code>(x, y) = (y, x)\n</code></pre>\n\n<p>The only exception where parentheses are <em>mandatory</em> is the empty tuple <code>()</code>.</p>\n"}], "owner": {"reputation": 9866, "user_id": 1105805, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a694594978a256520ac4d5b938aea5b?s=128&d=identicon&r=PG", "display_name": "Rasmi Ranjan Nayak", "link": "https://stackoverflow.com/users/1105805/rasmi-ranjan-nayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 35326374, "answer_count": 1, "score": 2, "last_activity_date": 1455139997, "creation_date": 1455139818, "question_id": 35326330, "link": "https://stackoverflow.com/questions/35326330/confusion-in-understanding-tuple-and-args-in-python", "title": "Confusion in understanding tuple and *args in Python", "body": "<p>I need a function which would be taking <code>variadic arguments</code>. The number of arguments may vary from 1 to N.</p>\n\n<pre><code>def abc(*args):\n    print \"ABC\"\n    print args\n    print len(args)\n\ndef abc1(*args):\n    print \"ABC1\"\n    print args\n    print len(args)\n    print \"------------\"\n\n\ntup = (\"Hello123\")\nabc(*tup)\nabc1(tup)\ntup = (\"Hello123\", \"Hello1234\")\nabc(*tup)\nabc1(tup)\n</code></pre>\n\n<p>The ouput of the above program is;</p>\n\n<pre><code>ABC\n('H', 'e', 'l', 'l', 'o', '1', '2', '3')\n8\nABC1\n('Hello123',)\n1\n------------\nABC\n('Hello123', 'Hello1234')\n2\nABC1\n(('Hello123', 'Hello1234'),)\n1\n------------\n</code></pre>\n\n<p>If I look into this output,when i am passing only 1 argument in <code>abc1()</code>, the length of tuple becomes <code>8</code>(keeping <code>*tup</code>), where as in the <code>abc1()</code> it shows the length is <code>1</code>. <code>why and how?</code>\nBut the same is not working differently when I am passing 2 arguments in the code above. The output comes as <code>tuple</code> and <code>tuple of tuple</code>.\nHow to resolve this problem because I have to write the code which will work for all N</p>\n"}, {"tags": ["python", "compiler-errors", "aptana"], "owner": {"reputation": 11, "user_id": 5910588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t8lBB9cNbGI/AAAAAAAAAAI/AAAAAAAAAE8/JvW5KB-wDQQ/photo.jpg?sz=128", "display_name": "Me Me", "link": "https://stackoverflow.com/users/5910588/me-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 791, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455139800, "creation_date": 1455139800, "question_id": 35326327, "link": "https://stackoverflow.com/questions/35326327/the-selection-cannot-be-launched-and-there-are-no-recent-launches", "title": "The selection cannot be launched, and there are no recent launches", "body": "<p>I am new to python, I have a windows 7 64 bit OS. I installed Python 3.5.1 64  and Aptana Studio 3 and made sure that Aptana see the python interpreter by going to window -> preferences -> PyDev -> Interpreter -> Python Interpreter -> New and I added all the required files. </p>\n\n<p>Now, I am trying some scripts written from a book in a single python file through the Aptana Studio 3, whenever I press the run button, it keeps giving me this message:</p>\n\n<p>\"The selection cannot be launched, and there are no recent launches\".</p>\n\n<p>I tried going to window -> preferences -> Run/Debug -> Launching -> Launch operations -> selected launch the selected resource or active editor</p>\n\n<p>I tried promoting the file into a project, and it did not work. it just kept asking me for java script and installing firefox!!</p>\n\n<p>I am new to python, I open aptana, and copy/paste some code in a new file, save it and try to run it to learn the language, that's all. </p>\n\n<p>Is there a problem doing this without creating a project? </p>\n\n<p>Any idea how to fix this error? </p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 2, "creation_date": 1455139826, "post_id": 35326312, "comment_id": 58361422, "body": "Yes, that&#39;s correct."}, {"owner": {"reputation": 3240, "user_id": 1726192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e8c22f8c539e61cb709a8d399256fba1?s=128&d=identicon&r=PG", "display_name": "Aviah Laor", "link": "https://stackoverflow.com/users/1726192/aviah-laor"}, "edited": false, "score": 0, "creation_date": 1455139846, "post_id": 35326312, "comment_id": 58361432, "body": "Yes it is the same (the python line is prettier though)"}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "edited": false, "score": 0, "creation_date": 1455139876, "post_id": 35326312, "comment_id": 58361450, "body": "The answer was mentioned, but you could test the two, iterate them over something simple and output something"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 1, "creation_date": 1455140645, "post_id": 35326312, "comment_id": 58361852, "body": "Please refrain from making irrelevant comments in your answer. I feel that your answer was edited to better reflect your intentions at the first place."}], "answers": [{"comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 2, "creation_date": 1455140022, "post_id": 35326358, "comment_id": 58361535, "body": "Wrong and wrong. You don&#39;t <i>have</i> to use strict mode (but I highly, highly suggest doing so). It&#39;s possible that those variables were declared elsewhere. This would be more useful if you stated that they should always declare their variables using <code>var</code>. <b>That</b> is true, otherwise you&#39;ll introduce accidental globals."}, {"owner": {"reputation": 4740, "user_id": 2535335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86bnp.jpg?s=128&g=1", "display_name": "Johannes Jander", "link": "https://stackoverflow.com/users/2535335/johannes-jander"}, "reply_to_user": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 1, "creation_date": 1455140179, "post_id": 35326358, "comment_id": 58361619, "body": "I nowhere wrote you <i>have to</i>, you <i>should</i>. And only strict mode guards you against re-using a variable or introducing globals where you want locally scoped variables. Telling people what they should do without telling them the way to make it foolproof is simply wrong in my book."}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1455140275, "post_id": 35326358, "comment_id": 58361670, "body": "I must be going crazy because I swear it said &quot;have&quot; when I first read it. Sorry. Strict mode doesn&#39;t guard you against re-using a variable. Hell, I think you should reuse variables whenever it makes sense. It prevents you from using undeclared variables. Non-strict mode will implicitly create a global but strict mode will throw an error."}], "tags": [], "owner": {"reputation": 4740, "user_id": 2535335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86bnp.jpg?s=128&g=1", "display_name": "Johannes Jander", "link": "https://stackoverflow.com/users/2535335/johannes-jander"}, "is_accepted": false, "score": 1, "last_activity_date": 1455139918, "creation_date": 1455139918, "answer_id": 35326358, "question_id": 35326312, "link": "https://stackoverflow.com/questions/35326312/is-this-the-javascript-translation-of-this-loop-in-python-code/35326358#35326358", "title": "is this the javascript translation of this loop in python code?", "body": "<p>You should always use \"use strict\" in your JS code. With \"use strict\", the code must look like:</p>\n\n<pre><code>for(var current = start; current &lt; end; current++){}\n</code></pre>\n\n<p>Reference for \"use strict\": <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode</a></p>\n"}], "owner": {"reputation": 2762, "user_id": 999525, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcc4e708af332a6ebb6c2ad6653e92f0?s=128&d=identicon&r=PG", "display_name": "lito", "link": "https://stackoverflow.com/users/999525/lito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455140928, "creation_date": 1455139763, "last_edit_date": 1455140928, "question_id": 35326312, "link": "https://stackoverflow.com/questions/35326312/is-this-the-javascript-translation-of-this-loop-in-python-code", "title": "is this the javascript translation of this loop in python code?", "body": "<p>For example, this is how it would be done in Python:</p>\n\n<pre><code>for current in range (start, end):\n</code></pre>\n\n<p>Question: is this the translation to JavaScript?</p>\n\n<pre><code>for(current = start; current &lt; end; current++){}\n</code></pre>\n"}, {"tags": ["python", "json", "ajax", "python-requests"], "comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 1, "creation_date": 1455140854, "post_id": 35326206, "comment_id": 58361949, "body": "I don&#39;t know what a correct response looks like, but you probably just need to use the <code>json</code> parameter instead of the <code>data</code> parameter. That yields a longer and more correct looking response."}, {"owner": {"reputation": 33, "user_id": 5910617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c354a5537055e50d3b7e84fd03bc23a5?s=128&d=identicon&r=PG&f=1", "display_name": "Bob174", "link": "https://stackoverflow.com/users/5910617/bob174"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1455171922, "post_id": 35326206, "comment_id": 58372214, "body": "The correct response should the the the html ,respectively xml code. You can see the correct response under chrome --&gt; developer tools --&gt; Network--&gt; select the xhr requst--&gt; response."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5910617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c354a5537055e50d3b7e84fd03bc23a5?s=128&d=identicon&r=PG&f=1", "display_name": "Bob174", "link": "https://stackoverflow.com/users/5910617/bob174"}, "edited": false, "score": 0, "creation_date": 1455193122, "post_id": 35336480, "comment_id": 58385546, "body": "Thanks @noamk, works well so far :)  Do you also for what the  <code>code</code>&quot;xajaxr&quot;:&quot;1455134430801&quot; parameter is responsible ? Best Bob174"}, {"owner": {"reputation": 929, "user_id": 2157037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac115577a413c2928622016de6f428?s=128&d=identicon&r=PG", "display_name": "noamk", "link": "https://stackoverflow.com/users/2157037/noamk"}, "reply_to_user": {"reputation": 33, "user_id": 5910617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c354a5537055e50d3b7e84fd03bc23a5?s=128&d=identicon&r=PG&f=1", "display_name": "Bob174", "link": "https://stackoverflow.com/users/5910617/bob174"}, "edited": false, "score": 0, "creation_date": 1455232803, "post_id": 35336480, "comment_id": 58411251, "body": "Looks like a timestamp (see <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Unix_time</a>):      &gt;&gt;&gt; datetime(1970, 1, 1) + timedelta(milliseconds=1455134430801)     datetime.datetime(2016, 2, 10, 20, 0, 30, 801000)"}], "tags": [], "owner": {"reputation": 929, "user_id": 2157037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac115577a413c2928622016de6f428?s=128&d=identicon&r=PG", "display_name": "noamk", "link": "https://stackoverflow.com/users/2157037/noamk"}, "is_accepted": true, "score": 0, "last_activity_date": 1455185893, "creation_date": 1455185893, "answer_id": 35336480, "question_id": 35326206, "link": "https://stackoverflow.com/questions/35326206/simulating-ajax-request-with-python-using-the-requests-lib/35336480#35336480", "title": "Simulating ajax request with python using the requests lib", "body": "<p>When you use the same key more than once when creating the dict (data1), the last value will override all previous occurrences.\nIn your case, what you get is:</p>\n\n<pre><code>In [2]: data1= {\"xajax\":\"searchBrowse\",\"xajaxr\":\"1455134430801\",\"xajaxargs[]\":\"1\",\"xajaxargs[]\":\"true\",\"xajaxargs[]\":\"true\",\"xajaxargs[]\":\"motives\",\"xajaxargs[]\":\"100\"}\n\nIn [3]: data1\nOut[3]: {'xajax': 'searchBrowse', 'xajaxargs[]': '100', 'xajaxr': '1455134430801'}\n</code></pre>\n\n<p>As you can see, the xajaxargs[] parameter does not contain all the values it should contain as an array. The correct way to do this in a way that requests will understand is to make the value of xajaxargs[] a list of these values:</p>\n\n<pre><code>In [4]: data1= {\"xajax\":\"searchBrowse\",\"xajaxr\":\"1455134430801\",\"xajaxargs[]\":[\"1\", \"true\", \"true\", \"motives\",\"100\"]}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5910617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c354a5537055e50d3b7e84fd03bc23a5?s=128&d=identicon&r=PG&f=1", "display_name": "Bob174", "link": "https://stackoverflow.com/users/5910617/bob174"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 1, "accepted_answer_id": 35336480, "answer_count": 1, "score": 2, "last_activity_date": 1455185893, "creation_date": 1455139420, "last_edit_date": 1455139824, "question_id": 35326206, "link": "https://stackoverflow.com/questions/35326206/simulating-ajax-request-with-python-using-the-requests-lib", "title": "Simulating ajax request with python using the requests lib", "body": "<p>when i call <a href=\"https://www.shirtinator.de/cT=search/motives&amp;sq=junggesellenabschied\" rel=\"nofollow\">https://www.shirtinator.de/cT=search/motives&amp;sq=junggesellenabschied</a>\nat the upper you get the possiblity to switch to next side and to switch between 50 and 100 motives displayed.</p>\n\n<p>I try to code ,using pythons requests, the post request including the parameter for the ajax script to change between 50 and 100 respectively to change betwenn the side.</p>\n\n<p>I used chromes developer tools to detect the post formsform data of the post request.</p>\n\n<p>This is my script, whicht do not deliver the desired data.</p>\n\n<pre><code>import requests\nimport json\n\nurl = \"https://www.shirtinator.de/?cT=search/motives&amp;sq=junggesellenabschied\"\ndata1= {\"xajax\":\"searchBrowse\",\"xajaxr\":\"1455134430801\",\"xajaxargs[]\":\"1\",\"xajaxargs[]\":\"true\",\"xajaxargs[]\":\"true\",\"xajaxargs[]\":\"motives\",\"xajaxargs[]\":\"100\"}\nr = requests.post(url, data=data1)\nresult = r.text\nprint result\n</code></pre>\n\n<p>Thanks for the support.</p>\n\n<p>Best</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver", "python-3.4"], "comments": [{"owner": {"reputation": 16381, "user_id": 1176601, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YCkL9.jpg?s=128&g=1", "display_name": "Aprillion", "link": "https://stackoverflow.com/users/1176601/aprillion"}, "edited": false, "score": 1, "creation_date": 1455140055, "post_id": 35326198, "comment_id": 58361558, "body": "what exactly is not clear about the <a href=\"https://docs.python.org/3/library/functions.html#type\" rel=\"nofollow noreferrer\">documentation for type()</a> combined with the <a href=\"http://selenium-python.readthedocs.org/api.html?highlight=find_element_by_css_selector#selenium.webdriver.remote.webdriver.WebDriver.find_element\" rel=\"nofollow noreferrer\">documentation of the return type of find_element()</a> plz? I am not sure how to explain it, because to me it is obvious that the only thing that <code>type(WebElement()).__name__</code> should return is &quot;WebElement&quot;, otherwise the world would stop spinning or something"}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 5489173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pBD8v.jpg?s=128&g=1", "display_name": "iPhynx", "link": "https://stackoverflow.com/users/5489173/iphynx"}, "edited": false, "score": 0, "creation_date": 1455139695, "post_id": 35326217, "comment_id": 58361340, "body": "Thanks, you helped a lot!"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1455139449, "creation_date": 1455139449, "answer_id": 35326217, "question_id": 35326198, "link": "https://stackoverflow.com/questions/35326198/object-to-string-doesnt-return-expect-result/35326217#35326217", "title": "Object to string doesn&#39;t return expect result", "body": "<p><code>find_element_by_css_selector()</code> method returns a <code>WebElement</code> instance. Instead, you need the value of the <code>.text</code> property:</p>\n\n<pre><code>name = browser.find_element_by_css_selector('elementname')\nprint(name.text)\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 5489173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pBD8v.jpg?s=128&g=1", "display_name": "iPhynx", "link": "https://stackoverflow.com/users/5489173/iphynx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 35326217, "answer_count": 1, "score": 3, "last_activity_date": 1455139449, "creation_date": 1455139402, "question_id": 35326198, "link": "https://stackoverflow.com/questions/35326198/object-to-string-doesnt-return-expect-result", "title": "Object to string doesn&#39;t return expect result", "body": "<p>I'm using selenium on Python and I am converting the result of </p>\n\n<pre><code>name = browser.find_element_by_css_selector('elementname')\n</code></pre>\n\n<p>to string.\nIt is returning 'WebElement' and what I am doing to convert it is</p>\n\n<pre><code>fname = type(name).__name__\n</code></pre>\n\n<p>I need it to return the actual element, in which case, it'd be a username of whoever's profile 'browser' is.\nI just don't know why I am returned 'WebElement'.</p>\n\n<p>Thanks!</p>\n\n<p>(I'm sure I don't need to provide the URL and element name, right?)</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "edited": false, "score": 0, "creation_date": 1455140215, "post_id": 35326196, "comment_id": 58361633, "body": "Are you using sockets? The answer very much depends on the way you are actually receiving the file."}, {"owner": {"reputation": 8608, "user_id": 1091116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=128&d=identicon&r=PG", "display_name": "d33tah", "link": "https://stackoverflow.com/users/1091116/d33tah"}, "reply_to_user": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "edited": false, "score": 0, "creation_date": 1455180128, "post_id": 35326196, "comment_id": 58376575, "body": "@JaronThatcher: I mentioned that it&#39;s Django. Any solution that would actually get me there would be good."}, {"owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "edited": false, "score": 0, "creation_date": 1455213647, "post_id": 35326196, "comment_id": 58400469, "body": "I actually missed the Django tag, my bad. I&#39;m not sure how Django does file uploads. I&#39;m assuming that it would use a socket at a low level, but it may be the case that you don&#39;t have a handle to that socket.  If you were manually doing this using a <a href=\"https://docs.python.org/2/library/socket.html#socket.socket.recv\" rel=\"nofollow noreferrer\">socket.recv call</a>, then you would be able to specify the size that you want to receive at a time, then loop over that and perform logic on it.  I am thinking that this is a little too low level to be a proper solution, but could theoretically work if Django has no other way."}], "owner": {"reputation": 8608, "user_id": 1091116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=128&d=identicon&r=PG", "display_name": "d33tah", "link": "https://stackoverflow.com/users/1091116/d33tah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455139394, "creation_date": 1455139394, "question_id": 35326196, "link": "https://stackoverflow.com/questions/35326196/handle-uploaded-file-buffer-by-buffer-on-the-fly", "title": "Handle uploaded file buffer by buffer on the fly?", "body": "<p>Is there a way to receive an uploaded file in Python in a way that it doesn't have to be fully received while I'm performing processing on it?</p>\n"}, {"tags": ["python", "python-3.x", "encryption", "module", "crypt"], "comments": [{"owner": {"reputation": 15975, "user_id": 5471709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/09fhV.png?s=128&g=1", "display_name": "Kenly", "link": "https://stackoverflow.com/users/5471709/kenly"}, "edited": false, "score": 0, "creation_date": 1455139989, "post_id": 35326183, "comment_id": 58361516, "body": "Check <a href=\"https://docs.python.org/2/library/crypt.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/crypt.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2429, "user_id": 1967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/baJiU.png?s=128&g=1", "display_name": "Anti-weakpasswords", "link": "https://stackoverflow.com/users/1967612/anti-weakpasswords"}, "edited": false, "score": 0, "creation_date": 1455172051, "post_id": 35328710, "comment_id": 58372267, "body": "The old crypt() is grossly insufficient these days, as is a two byte salt, unfortunately."}], "tags": [], "owner": {"reputation": 984, "user_id": 4368167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Shdwef0HlGs/AAAAAAAAAAI/AAAAAAAAA4c/BTAay9UipAI/photo.jpg?sz=128", "display_name": "Guy Gangemi", "link": "https://stackoverflow.com/users/4368167/guy-gangemi"}, "is_accepted": false, "score": 3, "last_activity_date": 1455150629, "creation_date": 1455150629, "answer_id": 35328710, "question_id": 35326183, "link": "https://stackoverflow.com/questions/35326183/python-crypt-module/35328710#35328710", "title": "Python crypt module", "body": "<p>Now that I've seen you code, I know the password is 'Khs9' and I can log into your box.</p>\n\n<p>You could have run the following in private.</p>\n\n<pre><code>&gt;&gt;&gt; crypt.crypt('Khs9', 'aa')\n'aa0GPiClW35DQ\n</code></pre>\n\n<p>Now you update you code as such:</p>\n\n<pre><code>import crypt\n\nmax_attempts = 3     \nattempt = 0          \nstored_pw_hash = 'aa0GPiClW35DQ'\n\ntry:\n\n\n     while attempt &lt; max_attempts:\n\n        uname = input('Username: ')  \n        entered_pw_hash = crypt.crypt(input('pass: '), stored_pw_hash)\n\n        if uname == 'admin' and entered_pw_hash == stored_pw_hash:\n            print('Welcome Admin')\n            break\n        else:\n            attempt += 1\n            if attempt == max_attempts:\n                raise RuntimeError(\"\\nYou've reached the maximum number of attempts allowed.\")\n\n            else:\n                print('Wrong credentials.\\n Try again or press &lt;ctrl+c&gt; to exit.\\n')\n                continue\n\n\nexcept KeyboardInterrupt:\n    print('Terminated by the user.\\nGood-bye.')\n\nexcept RuntimeError as e:\n    print(\"Goodbye\")\n</code></pre>\n\n<p>Now if your code gets leaked, they don't have access right away. You should have enough time to realise you were hacked and then change your password.</p>\n\n<p>Here's the background info...</p>\n\n<p>crypt.crypt(password) will return the hash of password. You store the hash instead of the clear text password. That way, you can't lose the password to a hacker because you don't have it. Losing a hash is not a big problem because it doesn't guarantee access (if you follow best practice, which includes using a salt).</p>\n\n<p>Next time someone provides a password, you calculate it's hash, compare it to hash you stored from before and if they match, you know they gave you the correct password.</p>\n\n<p>Why do you need to use a salt?\nBecause someone took the long ass time needed to generate a table with commonly used passwords and there hashes. Once done, it's a quick check to crack the hash. By using a salt you ensure that a different lookup table applies, one that probably isn't available and the average hacker doesn't have the time to generate it.</p>\n\n<p>crypt.crypt() needs two chars to use as a salt. You can either pass it a two char string OR use the previous output of the function. (crypt.crypt() returns a string with first two chars being the salt and the rest being the hash)</p>\n\n<p>I looked at <a href=\"https://docs.python.org/3.4/library/crypt.html\" rel=\"nofollow\">https://docs.python.org/3.4/library/crypt.html</a> to answer this.</p>\n"}, {"tags": [], "owner": {"reputation": 2429, "user_id": 1967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/baJiU.png?s=128&g=1", "display_name": "Anti-weakpasswords", "link": "https://stackoverflow.com/users/1967612/anti-weakpasswords"}, "is_accepted": false, "score": 0, "last_activity_date": 1455171996, "creation_date": 1455171996, "answer_id": 35332260, "question_id": 35326183, "link": "https://stackoverflow.com/questions/35326183/python-crypt-module/35332260#35332260", "title": "Python crypt module", "body": "<p>First, please read <a href=\"https://security.stackexchange.com/a/31846/39623\">Thomas Pornin's canonical answer to How to securely hash passwords</a>.  This will answer your questions about what a 'salt' is.</p>\n\n<p>Second, crypt is an ancient, ancient algorithm - don't use it.  Even the Python SHA-512 based crypt is probably not something to use, because you cannot control the iteration count (what BCrypt might call a work factor), and thus you don't get to make it more secure by increasing the iteration count.</p>\n\n<p>Third, <a href=\"https://docs.python.org/3.5/library/hashlib.html\" rel=\"nofollow\">Python as of 3.4 has fast PBKDF2 based on OpenSSL built in</a>.</p>\n\n<p>So does <a href=\"https://docs.python.org/2.7/library/hashlib.html\" rel=\"nofollow\">Python 2.7.8</a>.</p>\n\n<p>Both of these support reasonable hash types built into hashlib!  Use these instead!  One example of how to use these is something like:</p>\n\n<pre><code>import hashlib\n\nBinaryOutput = hashlib.pbkdf2_hmac('sha512',password, salt, args.iterations, args.outputBytes)\n</code></pre>\n\n<p>where </p>\n\n<ul>\n<li><p>args.iterations is in the low hundreds of thousands to high tens of thousands</p></li>\n<li><p>args.outputBytes is no more than 64 assuming SHA-512 is being used (less for other algorithms), and no less than 20.  </p></li>\n<li><p>Store the number of iterations in your storage (whether it's hardcoded, in a file, or in a database) in cleartext, so you can easily make it bigger later.</p></li>\n<li><p>To get the salt, you should generate at least 12, preferably at least 16, cryptographically random bytes.  Have a different salt for each username, and store it in cleartext in your storage (whether it's hardcoded, in a file, or in a database).</p></li>\n</ul>\n\n<p>Using PBKDF2-HMAC-SHA-512 uses 64-bit operations which can reduce the advantage a GPU based attacker has on you.</p>\n\n<p>If you're worried about a timing attack, you can use one of a variety of constant time comparisons.  One that doesn't cost much of anything compared to a high iteration PBKDF2-HMAC-SHA-512 would be something like:</p>\n\n<pre><code>if hashlib.sha256(args.expectedBinary).hexdigest() == hashlib.sha256(BinaryOutput).hexdigest():\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5896407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13e1f0a7c9d5f65789d68985e9df1d7?s=128&d=identicon&r=PG&f=1", "display_name": "python_noobie", "link": "https://stackoverflow.com/users/5896407/python-noobie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13516, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1455171996, "creation_date": 1455139359, "question_id": 35326183, "link": "https://stackoverflow.com/questions/35326183/python-crypt-module", "title": "Python crypt module", "body": "<p>I was looking up on python modules, when I found something called 'crypt'. I do not understand. I have tried reading up on this, what is this 'salt' thing, what is the use of this crypt module, and is there some sort of way that I can apply 'crypt' to this piece of python code?:</p>\n\n<pre><code>import crypt\n\nmax_attempts = 3     \nattempt = 0          \n\ntry:\n\n\n    while attempt &lt; max_attempts:\n\n        uname = input('Username: ')  \n        password = input('pass: ')   \n\n        if uname == 'admin' and password == 'Khs9':\n            print('Welcome Admin')\n            break\n        else:\n            attempt += 1\n            if attempt == max_attempts:\n                raise RuntimeError(\"\\nYou've reached the maximum number of attempts allowed.\")\n\n            else:\n                print('Wrong credentials.\\n Try again or press &lt;ctrl+c&gt; to exit.\\n')\n                continue\n\n\nexcept KeyboardInterrupt:\n    print('Terminated by the user.\\nGood-bye.')\n\nexcept RuntimeError as e:\n    print(\"Goodbye\")\n</code></pre>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 15140, "user_id": 1126971, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/738f6908cdcc3651abf6293370c59f97?s=128&d=identicon&r=PG", "display_name": "John Smith Optional", "link": "https://stackoverflow.com/users/1126971/john-smith-optional"}, "edited": false, "score": 0, "creation_date": 1455139597, "post_id": 35326022, "comment_id": 58361280, "body": "Can you describe in details what you did when trying to install?"}, {"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "reply_to_user": {"reputation": 15140, "user_id": 1126971, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/738f6908cdcc3651abf6293370c59f97?s=128&d=identicon&r=PG", "display_name": "John Smith Optional", "link": "https://stackoverflow.com/users/1126971/john-smith-optional"}, "edited": false, "score": 0, "creation_date": 1455140393, "post_id": 35326022, "comment_id": 58361730, "body": "@JohnSmithOptional Hi, I have updated the main post, and also went into a bit more detail to a reply below. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455140123, "post_id": 35326194, "comment_id": 58361596, "body": "Afternoon, thanks for the speedy reply. I am currently on my mac, trying it from here. As far as I am aware, for Python 3.5 there was only 2 downloadable files for the connector, both seemed to be the same.  I have installed this connector, and also attempted to do so using sudo and pip. However, one intriguing thing I noticed, is it seemed to install at the following directory: /Library/Python/2.7/site-packages  I only have Python 3.5 installed on this computer."}, {"owner": {"reputation": 1979, "user_id": 696836, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5e7e5ddae2cf57c6e35763f6edad4cc?s=128&d=identicon&r=PG", "display_name": "djsumdog", "link": "https://stackoverflow.com/users/696836/djsumdog"}, "reply_to_user": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455140479, "post_id": 35326194, "comment_id": 58361769, "body": "You should be using pip. If I recall correctly, MacOS comes with python2. Be aware that not all MySQL libraries support Python3. According to <a href=\"https://python3wos.appspot.com/\" rel=\"nofollow noreferrer\">python3wos.appspot.com</a>, PyMySQL does, but MySQL-python does not. Which module did you install?"}, {"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455140634, "post_id": 35326194, "comment_id": 58361848, "body": "The file name for the mysql connector? mysql-connector-python-2.1.3-osx10.9"}, {"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455141528, "post_id": 35326194, "comment_id": 58362266, "body": "When i try and follow the pip instal/update instructions I also get a very big traceback error. Not sure how to post in a comment."}, {"owner": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1455141967, "post_id": 35326194, "comment_id": 58362466, "body": "you probably have libraries or dependencies on your Mac for python2, so when you try to install it is defaulting to version python2 of the connector rather than python3 version...you need to fully remove any trace of python2 and try to reinstall  the mysql.connector module for python that is compatible with python3+..."}, {"owner": {"reputation": 1979, "user_id": 696836, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5e7e5ddae2cf57c6e35763f6edad4cc?s=128&d=identicon&r=PG", "display_name": "djsumdog", "link": "https://stackoverflow.com/users/696836/djsumdog"}, "reply_to_user": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455142559, "post_id": 35326194, "comment_id": 58362718, "body": "I don&#39;t think @JBond4546 needs to remove Python2 entirely! (It&#39;s installed by default on Mac and used a lot internally!!). They two can exist side-by-side fine. JBond, you can edit your original question with more details. Please add your backtrack to your original question in a code block. Do NOT uninstall Python2 from your Mac."}, {"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455143581, "post_id": 35326194, "comment_id": 58363186, "body": "@djsumdog Too late xD already uninstalled it. The problem I seem to be having now, is just setting the path of installs to use python 3.5"}, {"owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "edited": false, "score": 0, "creation_date": 1455145254, "post_id": 35326194, "comment_id": 58363885, "body": "Don&#39;t worry. Managed to get it working. It seems my computer was running pip2 instead of pip3."}], "tags": [], "owner": {"reputation": 1979, "user_id": 696836, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5e7e5ddae2cf57c6e35763f6edad4cc?s=128&d=identicon&r=PG", "display_name": "djsumdog", "link": "https://stackoverflow.com/users/696836/djsumdog"}, "is_accepted": false, "score": 1, "last_activity_date": 1455139392, "creation_date": 1455139392, "answer_id": 35326194, "question_id": 35326022, "link": "https://stackoverflow.com/questions/35326022/python-3-5-mysql-connector/35326194#35326194", "title": "Python 3.5 MySQL Connector", "body": "<p>You need to provide more information. Could tell us how you installed the connector? easy_install? pip? Are you on Python2 or Python3. On windows are you using the official Python installer or did you install Python via Cygwin?</p>\n\n<p>Typically, after you install a Python package, you'll find it in the following location on Mac/Linux:</p>\n\n<pre><code> /usr/lib/python&lt;version&gt;/site-packages/\n</code></pre>\n\n<p>On Windows you'll find site-packages under the Python directory in C:\\Program Files. </p>\n\n<p>Which MySQL connector have you installed (there are several)? </p>\n\n<p>Also, ensure you've installed the connector for the correct Python version. If you're using Python2, but are using <code>pip3</code> to install the package, then <code>pip</code> will install it to the python3 site-packages and you won't be able to access it from Python2. </p>\n"}], "owner": {"reputation": 33, "user_id": 5676107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e716f0b17ed2d94c1be5195cc8ced13?s=128&d=identicon&r=PG&f=1", "display_name": "JBond4546", "link": "https://stackoverflow.com/users/5676107/jbond4546"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455140296, "creation_date": 1455138865, "last_edit_date": 1455140296, "question_id": 35326022, "link": "https://stackoverflow.com/questions/35326022/python-3-5-mysql-connector", "title": "Python 3.5 MySQL Connector", "body": "<p>I'm somewhat new to python and figured playing around with mySQL databases would be a good idea. </p>\n\n<p>Now the error I am having is simply installing the mySQL connector. I have tried on both my Windows PC, and now here on my mac. \nEach time I download the connector and install it, all goes ahead and installs, yet when I import mysql.connector I receive a traceback, ImportError saying that mysql is not a package.</p>\n\n<p>I've been searching the internet trying to find information or ways to help this, but non have been successful.</p>\n\n<p>It should be noted that I have restarted my computer, still with no success.</p>\n\n<p>I installed python 3.5 via the official python website, and the mysql connector via the official mysql website.</p>\n"}, {"tags": ["python", "mysql", "sql", "django", "cursor"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455138876, "post_id": 35325998, "comment_id": 58360882, "body": "and the error message is...? I&#39;m guessing syntax error on <code>binary</code>, which you&#39;ll note is not available: <a href=\"https://dev.mysql.com/doc/refman/5.7/en/declare-cursor.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/declare-cursor.html</a>"}, {"owner": {"reputation": 1529, "user_id": 4710204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cf5731a9767744d9fa0dc6e3f891175?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4710204/ryan"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455139278, "post_id": 35325998, "comment_id": 58361108, "body": "@MarcB Sorry, full error message is: <code>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DECLARE c1 BINARY CURSOR FOR SELECT * FROM my_table END&#39; at line 1</code>    I get the same thing if I remove <code>BINARY</code>"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1455139359, "post_id": 35325998, "comment_id": 58361148, "body": "cursors can only be declared inside a stored procedure. a &quot;naked&quot; cursor isn&#39;t allowed."}, {"owner": {"reputation": 1529, "user_id": 4710204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cf5731a9767744d9fa0dc6e3f891175?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4710204/ryan"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455142328, "post_id": 35325998, "comment_id": 58362635, "body": "@MarcB Thanks, definitely feel like I&#39;m getting close. Updated question"}, {"owner": {"reputation": 1529, "user_id": 4710204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cf5731a9767744d9fa0dc6e3f891175?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4710204/ryan"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455145377, "post_id": 35325998, "comment_id": 58363938, "body": "<code>cursor.execute(&quot;CALL CreateCursor()&quot;)</code> returns 0 and running <code>cursor.execute(&quot;FETCH 100 FROM c1&quot;)</code> gives me the same error as above."}], "owner": {"reputation": 1529, "user_id": 4710204, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cf5731a9767744d9fa0dc6e3f891175?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4710204/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455142265, "creation_date": 1455138783, "last_edit_date": 1455142265, "question_id": 35325998, "link": "https://stackoverflow.com/questions/35325998/declaring-mysql-cursor-error", "title": "Declaring mysql cursor error", "body": "<p>Background: I have a table with tons of entries that I need to traverse. Currently I'm doing this in my Django application, but it takes up way too much memory and takes a very long time.</p>\n\n<p>Here's what I'm trying to execute on the database:</p>\n\n<pre><code>DECLARE gigantic_cursor BINARY CURSOR \n                FOR SELECT * FROM my_table\n</code></pre>\n\n<p>When I open a connection from my Python project and then call this, I get a SQL syntax error. Same error if I execute directly in the database with BEGIN..END blocks.</p>\n\n<p>Python code just looks like:</p>\n\n<pre><code>cursor = connections['default'].cursor()\ncursor.execute(\"DECLARE gigantic_cursor BINARY CURSOR \n                FOR SELECT * FROM my_table\")\n</code></pre>\n\n<p>Any ideas as to what is causing this?</p>\n\n<p>EDIT:\nPut the declaration inside a stored procedure as follows:</p>\n\n<pre><code>mysql&gt; DELIMITER //\nmysql&gt; CREATE PROCEDURE CreateCursor()\n-&gt; BEGIN\n-&gt; DECLARE c1 CURSOR FOR SELECT * FROM my_table;\n-&gt; END//\n</code></pre>\n\n<p>Python is now</p>\n\n<pre><code>cursor = connections['default'].cursor()\ncursor.execute(\"exec CreateCursor()\")\n</code></pre>\n\n<p>Now throwing <code>*** ProgrammingError: (1064, \"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'exec CreateCursor()' at line 1\")\n</code></p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 2, "creation_date": 1455138795, "post_id": 35325979, "comment_id": 58360834, "body": "Check out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">arrays</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\" rel=\"nofollow noreferrer\"><code>.indexOf</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\" rel=\"nofollow noreferrer\"><code>.push</code></a>."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 2, "creation_date": 1455138829, "post_id": 35325979, "comment_id": 58360862, "body": "Also, in python, it reads slightly nicer if you do <code>if string not in result</code> :-)"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1455139021, "post_id": 35325979, "comment_id": 58360963, "body": "I don&#39;t know about javascript, but in Python you can ensure that only unique values are in your collection by using a set instead of a list. <code>result = set(strings)</code> is a lot easier than <code>for string in strings: if string not in result: result.append(string))</code>"}, {"owner": {"reputation": 2762, "user_id": 999525, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcc4e708af332a6ebb6c2ad6653e92f0?s=128&d=identicon&r=PG", "display_name": "lito", "link": "https://stackoverflow.com/users/999525/lito"}, "edited": false, "score": 0, "creation_date": 1455139255, "post_id": 35325979, "comment_id": 58361093, "body": "Jusnt In case...      result = [];     if(result.indexOf(string) &gt; -1 ){       result.push(string);     }"}], "owner": {"reputation": 2762, "user_id": 999525, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcc4e708af332a6ebb6c2ad6653e92f0?s=128&d=identicon&r=PG", "display_name": "lito", "link": "https://stackoverflow.com/users/999525/lito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1455139068, "answer_count": 0, "score": 0, "last_activity_date": 1455138713, "creation_date": 1455138713, "question_id": 35325979, "link": "https://stackoverflow.com/questions/35325979/what-is-the-equivalent-in-javascript-of-this-python-code", "closed_reason": "Duplicate", "title": "what is the equivalent in Javascript of this Python code?", "body": "<p>Here is a python code, I want to translate it to javascript, any help?</p>\n\n<pre><code>result = list()\n...\nif not string in result:\n   result.append(string)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1455140188, "post_id": 35326325, "comment_id": 58361626, "body": "You imported <code>io</code> to get a file-like object from the string containing the sample data. However, why do you import <code>numpy</code>? I did not see any usage of that, did I? Maybe I missed something..."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1455140265, "post_id": 35326325, "comment_id": 58361660, "body": "Nunpy is not necessary."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1455140874, "post_id": 35326325, "comment_id": 58361965, "body": "I edit answer, because doesnt work with multiple groups."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 0, "last_activity_date": 1455182286, "last_edit_date": 1455182286, "creation_date": 1455139797, "answer_id": 35326325, "question_id": 35325850, "link": "https://stackoverflow.com/questions/35325850/python-pandas-identify-route-path-given-by-two-columns/35326325#35326325", "title": "Python pandas: Identify route/path given by two columns", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.stack.html\" rel=\"nofollow\"><code>stack</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.drop_duplicates.html\" rel=\"nofollow\"><code>drop_duplicates</code></a> and last <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.pivot.html\" rel=\"nofollow\"><code>pivot</code></a>. Next group was added for better testing:</p>\n\n<pre><code>print df\n        group  size    from      to\n0   group32a4   500  6sq2gp  m4qfce\n1   group32a4   800  oxlwtg  ru1u5r\n2   group32a4  1200  rpziz0  oxlwtg\n3   group32a4  1400  ru1u5r  fvvskj\n4   group32a4   500  m4qfce  60m2eq\n5   group32a4    50  fvvskj  6sq2gp\n6   group13a4   500  6sq2gp  m4qfce\n7   group13a4   800  oxlwtg  ru1u5r\n8   group13a4  1200  rpziz0  oxlwtg\n9   group13a4  1400  ru1u5r  fvvskj\n10  group13a4   500  m4qfce  60m2eq\n11  group13a4    50  fvvskj  6sq2gp\n\n#set index and stack data - columns 'from' and 'to' to one column 'route'\ndf = df.set_index(['group', 'size']).stack().reset_index(name='route')\n</code></pre>\n\n\n\n<pre><code>print df\n        group  size level_2   route\n0   group32a4   500    from  6sq2gp\n1   group32a4   500      to  m4qfce\n2   group32a4   800    from  oxlwtg\n3   group32a4   800      to  ru1u5r\n4   group32a4  1200    from  rpziz0\n5   group32a4  1200      to  oxlwtg\n6   group32a4  1400    from  ru1u5r\n7   group32a4  1400      to  fvvskj\n8   group32a4   500    from  m4qfce\n9   group32a4   500      to  60m2eq\n10  group32a4    50    from  fvvskj\n11  group32a4    50      to  6sq2gp\n12  group13a4   500    from  6sq2gp\n13  group13a4   500      to  m4qfce\n14  group13a4   800    from  oxlwtg\n15  group13a4   800      to  ru1u5r\n16  group13a4  1200    from  rpziz0\n17  group13a4  1200      to  oxlwtg\n18  group13a4  1400    from  ru1u5r\n19  group13a4  1400      to  fvvskj\n20  group13a4   500    from  m4qfce\n21  group13a4   500      to  60m2eq\n22  group13a4    50    from  fvvskj\n23  group13a4    50      to  6sq2gp\n</code></pre>\n\n\n\n<pre><code>def f(x):\n    #set column size to max\n    x['size'] =  x['size'].max()\n    return x.drop_duplicates('route', keep=False)\n\n#apply custom function f\ndf = df.groupby('group').apply(f).reset_index(drop=True)\nprint df\n       group  size level_2   route\n0  group13a4  1400    from  rpziz0\n1  group13a4  1400      to  60m2eq\n2  group32a4  1400    from  rpziz0\n3  group32a4  1400      to  60m2eq\n\n#reshape data, remove column tmp\ndf = df.pivot(index='group', columns='level_2').reset_index()\ndf.columns = ['group','size','tmp','from', 'to']\ndf = df.drop('tmp', axis=1)\nprint df\n       group  size    from      to\n0  group13a4  1400  rpziz0  60m2eq\n1  group32a4  1400  rpziz0  60m2eq\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Similar, I think faster solution with filling DataFrame in <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow\"><code>groupby</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.apply.html\" rel=\"nofollow\"><code>apply</code></a> function <code>f</code> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.iat.html\" rel=\"nofollow\"><code>iat</code></a>,  <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.iloc.html\" rel=\"nofollow\"><code>iloc</code></a>:</p>\n\n<pre><code>def f(x):\n    #get max of column size\n    m = x['size'].max()\n    #remove all duplicates - stay only one value from and one value to\n    x = x.drop_duplicates('route', keep=False)\n    x['group'] = x.iat[0, 0]\n    x['size'] = m\n    x['from'] = x.iat[0, 3]\n    x['to'] = x.iat[1, 3]\n\n    #print x\n    #return first row and columns group, size from to\n    #print x.iloc[0,[0,1,4,5]]\n    return  x.iloc[0,[0,1,4,5]]\n\n#apply custom function f\ndf = df.groupby('group').apply(f).reset_index(drop=True)\nprint df\n       group  size    from      to\n0  group13a4  1400  rpziz0  60m2eq\n1  group32a4  1400  rpziz0  60m2eq\n</code></pre>\n"}], "owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 35326325, "answer_count": 1, "score": 1, "last_activity_date": 1455182286, "creation_date": 1455138208, "question_id": 35325850, "link": "https://stackoverflow.com/questions/35325850/python-pandas-identify-route-path-given-by-two-columns", "title": "Python pandas: Identify route/path given by two columns", "body": "<p>I have an input file (csv-file) with data which has duplicate entries in the column <code>group</code> and might have duplicate entries in the column <code>size</code>.</p>\n\n<p>A snippet with the data of just one group is given below. However, there are several groups in the real data file. So this is just a shortened and simplified example (<code>sample.csv</code>):</p>\n\n<pre><code>group,size,from,to\ngroup32a4,0500,6sq2gp,m4qfce\ngroup32a4,0800,oxlwtg,ru1u5r\ngroup32a4,1200,rpziz0,oxlwtg\ngroup32a4,1400,ru1u5r,fvvskj\ngroup32a4,0500,m4qfce,60m2eq\ngroup32a4,0050,fvvskj,6sq2gp\n</code></pre>\n\n<p>Since the data is coming from external software I am not able to change anything concerning the data format or data layout. So I need to import the data for further data handling and do the following tasks:</p>\n\n<ol>\n<li>Keep one entry for each group, only. This entry must have the biggest value in the column <code>size</code>.</li>\n<li>Get the path wich routes through the group and can be arranged from the columns <code>from</code> and <code>to</code>.</li>\n</ol>\n\n<p>I decided to use <code>pandas</code> for data handling since the real data file is rather complex and I wanted to have the capability of its permormant features. However, if there are any other (more suitable) tools or approaches using other Python modules those would be totally fine and not a problem at all.</p>\n\n<p>In order to accomplish the first task I did:</p>\n\n<pre><code>import pandas as pd\n\n# open file and read data\nwith open('sample.csv') as f:\n    data = pd.read_csv(f)\n\n# sort descending by columns `group` and `size`\n# sorting descending because `df.drop_duplicates()` keeps first element by default\ndf_sorted = data.sort_values(['group', 'size'], ascending=False)\n\n# drop duplicates in order to keep first entry only\none_entry = df_sorted.drop_duplicates('group')\n\n# print handled data\nprint(one_entry)\n</code></pre>\n\n<p>Which leads to the desired output:</p>\n\n<pre><code>       group  size    from      to\n3  group32a4  1400  ru1u5r  fvvskj\n</code></pre>\n\n<p>So, I need to accomplish the second task. Since all of the above data handling was not done inplace I am able to access all stages of data throughout the data handling procedure.</p>\n\n<p>Unfortunately, I do not have any idea about how to do that. I have some conceptual thoughts about how that could be done.\nFirst of all I need to arrange the route out of each group subset. In the example given above that would result in:</p>\n\n<pre><code>rpziz0 --&gt; oxlwtg --&gt; ru1u5r --&gt; fvvskj --&gt; 6sq2gp --&gt; m4qfce --&gt; 60m2eq\n</code></pre>\n\n<p>After that I neet to extract source and destination and summarize the route like that:</p>\n\n<pre><code>rpziz0 --&gt; 60m2eq\n</code></pre>\n\n<p>Which should result into this overall output:</p>\n\n<pre><code>       group  size    from      to\n3  group32a4  1400  rpziz0  60m2eq\n</code></pre>\n\n<p>So the question I came up with is as follows:</p>\n\n<p>How can I identifiy the route out of each subset which is defined by each <code>group</code> tag (using pandas' methods preferably)?</p>\n\n<p><em>Note: Using Python 3.4.3, Pandas 0.17.1</em></p>\n"}, {"tags": ["python", "csv", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5910244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b52bcac4dbf5602148c9a9cd03c7bf?s=128&d=identicon&r=PG&f=1", "display_name": "P. K.", "link": "https://stackoverflow.com/users/5910244/p-k"}, "edited": false, "score": 0, "creation_date": 1455182462, "post_id": 35325891, "comment_id": 58378011, "body": "Thank you very much! It worked! I just changed &#39;fname = os.basename(fpath)&#39; to &#39;fname = os.path.basename(fpath)&#39;"}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": true, "score": 0, "last_activity_date": 1559935107, "last_edit_date": 1559935107, "creation_date": 1455138389, "answer_id": 35325891, "question_id": 35325828, "link": "https://stackoverflow.com/questions/35325828/multiple-editing-of-csv-files/35325891#35325891", "title": "Multiple editing of CSV files", "body": "<p>This is the fastest way I can think of. If you have a solid-state drive, you could throw multiprocessing at this for more of a performance boost</p>\n\n<pre><code>import glob\nimport os\n\nfor fpath in glob.glob('path/to/directory/*.csv'):\n    fname = os.basename(fpath).rsplit(os.path.extsep, 1)[0]\n    with open(fpath) as infile, open(os.path.join('path/to/dir', fname+\"_edited\"+os.path.extsep+'csv'), 'w') as outfile:\n        for _ in range(6): infile.readline()\n        for line in infile: outfile.write(line)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5910244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b52bcac4dbf5602148c9a9cd03c7bf?s=128&d=identicon&r=PG&f=1", "display_name": "P. K.", "link": "https://stackoverflow.com/users/5910244/p-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 35325891, "answer_count": 1, "score": 1, "last_activity_date": 1559935107, "creation_date": 1455138128, "last_edit_date": 1559934995, "question_id": 35325828, "link": "https://stackoverflow.com/questions/35325828/multiple-editing-of-csv-files", "title": "Multiple editing of CSV files", "body": "<p>I have a small delay with operating CSV files in python (3.5). Previously I was working with single files and there was no problem, but right now I have >100 files in one folder.\nSo, my goal is:</p>\n\n<ol>\n<li>To parse all *.csv files in the directory</li>\n<li><p>From each file delete first 6 rows , the files consists of the following data:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"nu(Ep), 2.6.8\"\n\"Date: 2/10/16, 11:18:21 AM\"\n19\nEp,nu\n0.0952645,0.123776,\n0.119036,0.157720,\n...\n0.992060,0.374300,\n</code></pre></li>\n<li><p>Save each file separately (for example adding <code>\"_edited\"</code>), so there should be only numbers saved.</p></li>\n<li>As an option - I have data subdivided on two parts for one material. For example: <code>Ag(0-1_s).csv</code> and <code>Ag(1-4)_s.csv</code> (after steps 1-3 the should be like <code>Ag(*)_edited.csv</code>). How can I merge this two files in a way of adding data from (1-4) to the end of (0-1) saving it in a third file?</li>\n</ol>\n\n<p>My code so far is the following:</p>\n\n<pre><code>import os, sys\nimport csv\nimport re\nimport glob\nimport fileinput\n\n\ndef get_all_files(directory, extension='.csv'):\n    dir_list = os.listdir(directory)\n    csv_files = []\n    for i in dir_list:\n        if i.endswith(extension):\n            csv_files.append(os.path.realpath(i))\n    return csv_files\n\ncsv_files = get_all_files('/Directory/Path/Here')\n\n#Here is the problem with csv's, I dont know how to scan files\n#which are in the list \"csv_files\".\n\nfor n in csv_files:\n    #print(n)\n    lines = [] #empty, because I dont know how to write it properly per\n               #each file\n    input = open(n, 'r')\n    reader = csv.reader(n)\n    temp = []\n    for i in range(5):\n        next(reader)\n        #a for loop for here regarding rows?\n        #for row in n: ???\n        #  ???\n    input.close()\n    #newfilename = \"\".join(n.split(\".csv\")) + \"edited.csv\"\n    #newfilename can be used within open() below:\n    with open(n + '_edited.csv', 'w') as nf:\n        writer = csv.writer(nf)\n        writer.writerows(lines)\n</code></pre>\n"}, {"tags": ["python", "anagram"], "comments": [{"owner": {"reputation": 4831, "user_id": 3144928, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e2a01c799169f3de4c57c0f0366840f?s=128&d=identicon&r=PG", "display_name": "Ben Aubin", "link": "https://stackoverflow.com/users/3144928/ben-aubin"}, "edited": false, "score": 1, "creation_date": 1455138049, "post_id": 35325785, "comment_id": 58360440, "body": "Welcome to Stackoverflow! We&#39;re not a code writing service, so please show what you tried before asking a question - thanks!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5069935"}, "edited": false, "score": 0, "creation_date": 1455138341, "post_id": 35325785, "comment_id": 58360590, "body": "@Zapp, please read the advice for new users under the &quot;help&quot; link at the top of the page.  You should provide a LOT more detail and also demonstrate that you have at least attempted to think about how to solve the problem yourself."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5910474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568eeb19ccab07123d84f3031f5cd0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Zapp", "link": "https://stackoverflow.com/users/5910474/zapp"}, "edited": false, "score": 0, "creation_date": 1455138303, "post_id": 35325810, "comment_id": 58360575, "body": "The question is can you help me create a program that uses words from a created list in python eg. list_anagram [apple, banana, orange] and jumbles the letters for each word and then returns each of the words as an anagram.  If that makes sense?"}, {"owner": {"reputation": 90, "user_id": 5389111, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe5b7845dc96b439a23870e9d464a422?s=128&d=identicon&r=PG&f=1", "display_name": "Bitte Wenden", "link": "https://stackoverflow.com/users/5389111/bitte-wenden"}, "reply_to_user": {"reputation": 3, "user_id": 5910474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568eeb19ccab07123d84f3031f5cd0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Zapp", "link": "https://stackoverflow.com/users/5910474/zapp"}, "edited": false, "score": 0, "creation_date": 1455138423, "post_id": 35325810, "comment_id": 58360629, "body": "You will need to write the program yourself. For each word in a list, you want to get exactly one anagram?"}], "tags": [], "owner": {"reputation": 90, "user_id": 5389111, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe5b7845dc96b439a23870e9d464a422?s=128&d=identicon&r=PG&f=1", "display_name": "Bitte Wenden", "link": "https://stackoverflow.com/users/5389111/bitte-wenden"}, "is_accepted": false, "score": 0, "last_activity_date": 1455138077, "creation_date": 1455138077, "answer_id": 35325810, "question_id": 35325785, "link": "https://stackoverflow.com/questions/35325785/im-trying-to-create-a-program-that-creates-anagrams-from-a-string-of-words/35325810#35325810", "title": "I&#39;m trying to create a program that creates anagrams from a string of words", "body": "<p>What exactly is the question? It depends if you want to get words that actually make sense or just every kind of anagram. For the first one, you would probably need an dictionary API. For the second one, you would just have to scramble the words in every possible way. </p>\n"}, {"comments": [{"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "reply_to_user": {"reputation": 3, "user_id": 5910474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568eeb19ccab07123d84f3031f5cd0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Zapp", "link": "https://stackoverflow.com/users/5910474/zapp"}, "edited": false, "score": 0, "creation_date": 1455139472, "post_id": 35325905, "comment_id": 58361205, "body": "Hi @Zapp if this answer has solved your question please consider <a href=\"http://meta.stackexchange.com/q/5234/179419\">accepting it</a> by clicking the check mark."}], "tags": [], "owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "is_accepted": true, "score": 0, "last_activity_date": 1455138439, "creation_date": 1455138439, "answer_id": 35325905, "question_id": 35325785, "link": "https://stackoverflow.com/questions/35325785/im-trying-to-create-a-program-that-creates-anagrams-from-a-string-of-words/35325905#35325905", "title": "I&#39;m trying to create a program that creates anagrams from a string of words", "body": "<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; word_list = ['apple', 'banana', 'orange']\n&gt;&gt;&gt; shuffled_list = [''.join(random.sample(s,len(s))) for s in word_list]\n&gt;&gt;&gt; shuffled_list\n['pepal', 'abanan', 'raoegn']\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5910474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/568eeb19ccab07123d84f3031f5cd0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Zapp", "link": "https://stackoverflow.com/users/5910474/zapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1455139196, "accepted_answer_id": 35325905, "answer_count": 2, "score": -4, "last_activity_date": 1455138439, "creation_date": 1455137962, "question_id": 35325785, "link": "https://stackoverflow.com/questions/35325785/im-trying-to-create-a-program-that-creates-anagrams-from-a-string-of-words", "closed_reason": "Needs more focus", "title": "I&#39;m trying to create a program that creates anagrams from a string of words", "body": "<p>I'm new to python - so from a list of predetermined words jumble the letters and return the jumbled letters.</p>\n"}, {"tags": ["python", "selenium", "iframe", "automation", "qa"], "comments": [{"owner": {"reputation": 3240, "user_id": 1726192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e8c22f8c539e61cb709a8d399256fba1?s=128&d=identicon&r=PG", "display_name": "Aviah Laor", "link": "https://stackoverflow.com/users/1726192/aviah-laor"}, "edited": false, "score": 1, "creation_date": 1455138422, "post_id": 35325743, "comment_id": 58360628, "body": "the simple solution to this kind of errors is often sleep statement between the actions that cause the problem"}, {"owner": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "edited": false, "score": 0, "creation_date": 1455148306, "post_id": 35325743, "comment_id": 58365053, "body": "Are you saying that the software has a bug that it shows an unknown modal, and you can&#39;t close that unknown modal?"}, {"owner": {"reputation": 85, "user_id": 5415712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5da13f51a091b61fd1b61dcf5e81fd9?s=128&d=identicon&r=PG&f=1", "display_name": "SneakersSO", "link": "https://stackoverflow.com/users/5415712/sneakersso"}, "reply_to_user": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "edited": false, "score": 0, "creation_date": 1455207947, "post_id": 35325743, "comment_id": 58396589, "body": "@Buaban - I doubt its the software itself causing a buggy modal to appear. It seems like its likely related to a timing issue."}, {"owner": {"reputation": 85, "user_id": 5415712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5da13f51a091b61fd1b61dcf5e81fd9?s=128&d=identicon&r=PG&f=1", "display_name": "SneakersSO", "link": "https://stackoverflow.com/users/5415712/sneakersso"}, "reply_to_user": {"reputation": 3240, "user_id": 1726192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e8c22f8c539e61cb709a8d399256fba1?s=128&d=identicon&r=PG", "display_name": "Aviah Laor", "link": "https://stackoverflow.com/users/1726192/aviah-laor"}, "edited": false, "score": 0, "creation_date": 1455207996, "post_id": 35325743, "comment_id": 58396639, "body": "@AviahLaor I&#39;ll try to add a wait or sleep statement when switching between frames and see if that works."}], "owner": {"reputation": 85, "user_id": 5415712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5da13f51a091b61fd1b61dcf5e81fd9?s=128&d=identicon&r=PG&f=1", "display_name": "SneakersSO", "link": "https://stackoverflow.com/users/5415712/sneakersso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1506338467, "creation_date": 1455137790, "last_edit_date": 1506338467, "question_id": 35325743, "link": "https://stackoverflow.com/questions/35325743/selenium-python-switching-between-iframes-causes-a-non-functional-modal-to-rema", "title": "Selenium-Python: Switching between iframes causes a non-functional modal to remain on the page", "body": "<p>I have a segment of the automated script written in python utilizing Selenium. A model appears on a page that I am automating, and in that model, there is an iframe used to handle uploading a piece of media. So I switch to the iframe, switch back to default content, then continue on to the next model that appears after the piece of media has been uploaded.</p>\n\n<p>However, it's around this point that a model appears on the page that is not functional. For example, it looks just like the model from before the upload occurred, and I can't manually close the modal at all. It draws over the newly updated model, even though the test will successfully pass. I'm not sure how to go about fixing this. Here is the code segment:</p>\n\n<pre><code>driver.find_element(By.CSS_SELECTOR, \"button#closeAlert\").click()\n\nstartTime = time.time()\nWebDriverWait(driver, 4).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, \"button.uploadButton.uploadBtn.clearfloat\"))\n)\nendTime = time.time()\nprint(\"'Upload Completed Media' modal draw time: %.3f secs.\" % (endTime - startTime))\n\ndriver.switch_to_frame(driver.find_element(By.CSS_SELECTOR, \"iframe#upload-iframe\"))\nuploadField = driver.find_element(By.CSS_SELECTOR, \"input#mediaFile\")\nuploadField.send_keys(r\"C:\\SVN\\test_suites\\aePortal_ui\\Resources\\QATAE0000001289-001_hr.pdf\")\n\ndriver.switch_to_default_content()\n\ndriver.find_element(By.CSS_SELECTOR, \"button.uploadButton.uploadBtn.clearfloat\").click()\n\nstartTime = time.time()\nWebDriverWait(driver, 10).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, \"a#closeUpModal\"))\n)\nendTime = time.time()\nprint(\"Upload Completed Media upload time: %.3f secs.\" % (endTime - startTime))\n\ndriver.switch_to_frame(driver.find_element(By.CSS_SELECTOR, \"iframe#upload-iframe\"))\n\nupload_status = driver.find_element(By.CSS_SELECTOR, \"p.upMsg\")\n\nif(upload_status.text == \"File(s) successfully uploaded.\"):\n    print(\"Completed Media uploaded successfully. Pass.\")\nelse:\n    print(\"Completed Media did not upload successfully. FAIL.\")\n\ndriver.switch_to_default_content()\n\ndriver.find_element(By.CSS_SELECTOR, \"a#closeUpModal\").click()\n</code></pre>\n"}, {"tags": ["python", "c", "algorithm", "python-3.x", "red-black-tree"], "owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1455138051, "creation_date": 1455137581, "last_edit_date": 1455138051, "question_id": 35325673, "link": "https://stackoverflow.com/questions/35325673/rbts-deletion-delete-one-child-operation", "title": "RBT&#39;s deletion: delete_one_child operation", "body": "<p>I'm trying to build a RBT, and in particular now I am trying to implement the RBT's delete operation, which is quite complex. I understood that the first idea is to replace the node that we want to delete, if it has two non leaf children, with its successor, which might have at most one non-leaf child. Then deletion reduces always to the case of deleting a node which has at most one child (like the BST's deletion operation).</p>\n\n<p>I was trying to follow the <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree#Removal\" rel=\"nofollow\">Wiki's article</a> on the matter, but I am still quite confused after some time trying to understand all the cases, etc. In the article, they represent null-leaf children with real nodes, but in my case I'm representing null-leaf children simply with <code>None</code>, so this might also be a source of confusion for me.</p>\n\n<p>So, from now on suppose we already have replace our node with its successor, eventually if it had 2 non-leaf children initially.</p>\n\n<p>I understood that </p>\n\n<ol>\n<li><p>if a node <code>n</code> is red, we can simply remove it without risking to violate any of the properties. </p></li>\n<li><p>If a node <code>n</code> is black, the story is different. </p>\n\n<p>2.1 The easy case is when the only possible non-leaf child is red. In that case, we simply replace <code>n</code> with its child, and change the child's color to black.</p>\n\n<p>2.2. The difficult case is when both <code>n</code> and its possible child are black. But apparently and surprisingly this can only happen if both children of <code>n</code> are actually null-leaf nodes, in my case they would simply both be <code>None</code>. Why is that? Since we know that <code>n</code> has at most one child, if that child wasn't a null-leaf node, and we know it is black, the black-heigh on the subtree containing it would be greater than the black-height of the subtree containing just the null-leaf node.</p></li>\n</ol>\n\n<hr>\n\n<p>If so far all my reasonings are correct, then I would have a question. On the Wiki's article, there's the following function:</p>\n\n<pre><code>void delete_one_child(struct node *n)\n{\n    /*\n    * Precondition: n has at most one non-null child.\n    */\n\n    struct node *child = is_leaf(n-&gt;right) ? n-&gt;left : n-&gt;right;\n\n    replace_node(n, child);\n\n    if (n-&gt;color == BLACK) {\n        if (child-&gt;color == RED)\n            child-&gt;color = BLACK;\n        else\n            delete_case1(child);\n    }\n\n    free(n);\n}\n</code></pre>\n\n<p>I'm trying to understand what this function is exactly trying to accomplish. So, it replaces <code>n</code> with its child, i.e. in order to delete <code>n</code>. So, it checks if the color of <code>n</code> is black, because if it's red, we are just talking about the first easy situation we talked above. If it's black and its child is red, then we are talking about the 2.1 situation. Otherwise, we go to all other \"complex\" cases.</p>\n\n<p>What I don't understand is the comment under that code:</p>\n\n<blockquote>\n  <p>Note: <strong>If <code>N</code> is a null leaf and we do not want to represent null leaves as actual node objects, we can modify the algorithm by first calling <code>delete_case1()</code> on its parent (the node that we delete, <code>n</code> in the code above) and deleting it afterwards</strong>. </p>\n  \n  <p>We do this if the parent is black (red is trivial), so <em>it behaves in the same way as a null leaf (and is sometimes called a 'phantom' leaf)</em>. </p>\n  \n  <p>And we can safely delete it at the end as <code>n</code> will remain a leaf after all operations, as shown above. </p>\n  \n  <p>In addition, the sibling tests in cases 2 and 3 require updating as it is no longer true that the sibling will have children represented as objects.</p>\n</blockquote>\n\n<p>1) My understanding is that I need to follow this advice, but I am not fully understanding it. In my case, I would need first to call <code>delete_case1(n)</code> (i.e. on <code>n</code>, the node I want to delete), and delete the node just at the end of all calls to \"delete_casesX\"s, and do this only if <code>n</code> is black, i.e. only after the check</p>\n\n<pre><code>if (n-&gt;color == BLACK) {\n    // Should I call delete_case1() on n here\n    // that is, delete_case1(n) ?\n</code></pre>\n\n<p>2) My second problem is that I don't fully understand why should <code>n</code> behave like a null-leaf.</p>\n\n<p>3) What is <code>N</code> here? <code>n</code> or its child?</p>\n\n<p>4) Apparently <code>n</code> must remain a leaf after all operations, but why? (Maybe this question is related to question 2).</p>\n\n<hr>\n\n<p>I have already implemented the insertion operation, and it was a lot more easier than it's being the deletion. I think I had followed also the Wiki's article for the insertion, which also worked when leaves are just nulls or nones.</p>\n\n<p>Could you please lead me in understanding how to implement this RBT by following the Wiki's article? I know this is a very complex question with a further more complex answer, but any help is appreciated. If anything is unclear, just ask.</p>\n"}, {"tags": ["python", "django", "django-models", "many-to-many"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1455137516, "post_id": 35325594, "comment_id": 58360144, "body": "I don&#39;t understand why you&#39;re confused. You explicitly defined the related_name, so that&#39;s what it uses instead of the lower case of the model."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1455137722, "post_id": 35325594, "comment_id": 58360253, "body": "And also I don&#39;t understand how that is not like the docs you link to; it&#39;s <i>exactly</i> like the docs."}, {"owner": {"reputation": 1377, "user_id": 1798369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSLzQ.png?s=128&g=1", "display_name": "vadimchin", "link": "https://stackoverflow.com/users/1798369/vadimchin"}, "edited": false, "score": 0, "creation_date": 1455137793, "post_id": 35325594, "comment_id": 58360292, "body": "look at &quot;reverse relation&quot;"}, {"owner": {"reputation": 3240, "user_id": 1726192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e8c22f8c539e61cb709a8d399256fba1?s=128&d=identicon&r=PG", "display_name": "Aviah Laor", "link": "https://stackoverflow.com/users/1726192/aviah-laor"}, "edited": false, "score": 0, "creation_date": 1455138236, "post_id": 35325594, "comment_id": 58360538, "body": "What is your AUTH_USER_MODEL?"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 4533239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431f752d93ba8e86383c3c72c079c30e?s=128&d=identicon&r=PG&f=1", "display_name": "zachwf", "link": "https://stackoverflow.com/users/4533239/zachwf"}, "is_accepted": true, "score": 3, "last_activity_date": 1455140845, "creation_date": 1455140845, "answer_id": 35326590, "question_id": 35325594, "link": "https://stackoverflow.com/questions/35325594/strange-why-django-related-many-to-many-lookup-works-this-way-but-not-like-in/35326590#35326590", "title": "Strange: why Django related many-to-many lookup works this way (but not like in docs)?", "body": "<p>Note the phrasing in the <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#django.db.models.ManyToManyField.related_name\" rel=\"nofollow\">Django docs</a>: </p>\n\n<blockquote>\n  <p>The name to user for the relation from the related object back to this one. It's also the default value for <strong>related_query_name</strong> (the name to use for the reverse filter name from the target model).</p>\n</blockquote>\n\n<p>In your example, the \"target model\" is <code>Nlpneutralfeature</code>. When you set <code>related_name = 'monitoringwords'</code> on the ManyToManyField <code>Userproject.monitoringwords</code>, it tells Django to use that <code>related_name</code> to refer from <code>Nlpneutralfeature</code> model objects <em>back</em> to the corresponding <code>Userproject</code> model objects.</p>\n\n<p>Correspondingly, if you had declared <code>Userproject.monitoringwords</code> with <code>related_name = 'foo'</code>, the way to query for all <code>Nlpneautralfeatures</code> belonging to project 48 would be: <code>Nlpneautralfeature.objects.filter(foo__name='48')</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 1882311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WpUGi.png?s=128&g=1", "display_name": "Soufiaane", "link": "https://stackoverflow.com/users/1882311/soufiaane"}, "is_accepted": false, "score": 1, "last_activity_date": 1455141617, "creation_date": 1455141617, "answer_id": 35326803, "question_id": 35325594, "link": "https://stackoverflow.com/questions/35325594/strange-why-django-related-many-to-many-lookup-works-this-way-but-not-like-in/35326803#35326803", "title": "Strange: why Django related many-to-many lookup works this way (but not like in docs)?", "body": "<p>the <code>related_name</code> here is so you can get your Userproject models related to an <code>Nlpneutralfeature</code> model.\neg: </p>\n\n<pre><code>nf = Nlpneutralfeature.objects.get(neutral_feature=\"XXX\")\n# From here you can get all Userprojects related to this nf like this:\nuserProjects = nf.monitoringwords.all()\n</code></pre>\n\n<p>if you didn't declared a related_name then you had to do it like this:</p>\n\n<pre><code>nf = Nlpneutralfeature.objects.get(neutral_feature=\"XXX\")\n# From here you can get all Userprojects related to this nf like this:\nuserProjects = nf.Userproject_set.all()\n</code></pre>\n\n<p>i think you understaned this property by inverse.. in my opinion i thing you should declare it here like this: <code>related_name=\"user_projects\"</code></p>\n\n<p>in summary, related_name is to use when you want to get the current models(where you declare your M2M relationship) from the related model.</p>\n"}], "owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 35326590, "answer_count": 2, "score": -1, "last_activity_date": 1455141631, "creation_date": 1455137292, "last_edit_date": 1495542731, "question_id": 35325594, "link": "https://stackoverflow.com/questions/35325594/strange-why-django-related-many-to-many-lookup-works-this-way-but-not-like-in", "title": "Strange: why Django related many-to-many lookup works this way (but not like in docs)?", "body": "<p>The Django docs describe how to query reverse m2m fields: \n<a href=\"https://docs.djangoproject.com/en/1.8/topics/db/queries/#many-to-many-relationships\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.8/topics/db/queries/#many-to-many-relationships</a></p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/9352662/how-to-use-the-reverse-of-a-django-manytomany-relationship\">this answer</a> we should use <code>related_name</code> as the first argument in the query.</p>\n\n<p>But I'm having trouble making this work. (I'm using Django 1.8.5). Here are my example models:</p>\n\n<pre><code>class Nlpneutralfeature(models.Model):   \n    neutral_feature = models.CharField(u'found word', max_length=255, default='')   \n\nclass Userproject(models.Model):\n    user = models.ForeignKey(settings.AUTH_USER_MODEL, related_name=\"project\", verbose_name=(\"owner\"))\n    monitoring_words = models.ManyToManyField(Nlpneutralfeature, null=True, blank=True, related_name=\"monitoringwords\")        \n    name = models.CharField(u'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430', unique=True, max_length=255)\n</code></pre>\n\n<p>So, to get all <code>Nlpneutralfeature</code> rows that belong to <code>Userproject</code> where <code>Userproject.name == '48'</code>, I need to do: </p>\n\n<pre><code>Nlpneutralfeature.objects.filter(userproject__monitoringwords__name='48')\n</code></pre>\n\n<p>But this does not work. The error I get is: <code>Cannot resolve keyword *'userproject'* into field</code>.</p>\n\n<p>So, Django cannot understand that <em>'userproject'</em> is lowercased model name Userproject.</p>\n\n<p>Now, this is working:</p>\n\n<pre><code>Nlpneutralfeature.objects.filter(monitoringwords__name='48')\n</code></pre>\n\n<p>How does Django know that <code>monitoringwords</code> is <code>related_name</code>? No error is strange to me, sicne there is no <code>monitoringwords</code> field in the <code>Nlpneutralfeature</code> model!</p>\n"}, {"tags": ["python", "python-3.x", "flask", "field", "flask-wtforms"], "comments": [{"owner": {"reputation": 113, "user_id": 1051404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c507b38ed5a25a1abf5c77b9de8039fa?s=128&d=identicon&r=PG", "display_name": "castilho", "link": "https://stackoverflow.com/users/1051404/castilho"}, "edited": false, "score": 0, "creation_date": 1455219087, "post_id": 35325582, "comment_id": 58403956, "body": "I think what you are looking for is this: <a href=\"http://stackoverflow.com/a/18267539/1051404\">stackoverflow.com/a/18267539/1051404</a> Also if you go on irc asking for help and are interacting with people don&#39;t just leave if you don&#39;t get an immediate answer."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1455141162, "post_id": 35326016, "comment_id": 58362101, "body": "Hmm, that makes sense, however form.expression was rendering even without the parentesis (with the I have the same result). And when I tried to add them so &quot;ve&quot; as you did, I get:  &quot;AttributeError: &#39;UnboundField&#39; object has no attribute &#39;<b>call</b>&#39; &quot;"}, {"owner": {"reputation": 714, "user_id": 2258863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97fc4ad3a6f3152bd7a0e83310f6ed?s=128&d=identicon&r=PG", "display_name": "m1yag1", "link": "https://stackoverflow.com/users/2258863/m1yag1"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1455148026, "post_id": 35326016, "comment_id": 58364955, "body": "@allg18, I&#39;m assuming that is because my index is off. I see that the first field is a list inside of a list so it may need to be <code>ve[0][0]</code> or something like that."}, {"owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1455148255, "post_id": 35326016, "comment_id": 58365037, "body": "I think not, because &quot;ve_list&quot; is a list of lists, and I use &quot;for ve in form.ve_list&quot;, so each ve is a list of DecimalFields, which is two elements long (and I call them with ve[0] and ve[1])"}, {"owner": {"reputation": 714, "user_id": 2258863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97fc4ad3a6f3152bd7a0e83310f6ed?s=128&d=identicon&r=PG", "display_name": "m1yag1", "link": "https://stackoverflow.com/users/2258863/m1yag1"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1455149324, "post_id": 35326016, "comment_id": 58365365, "body": "Ok, sorry about that. The problem is when adding the list to the form you are getting an UnboundField. More than likely wt-forms needs to instantiate a field class and assign it to the attribute on the form class. What your doing is probably not going to work. See this answer: <a href=\"https://stackoverflow.com/questions/16406496/rendering-forms-with-flask-wtform\" title=\"rendering forms with flask wtform\">stackoverflow.com/questions/16406496/&hellip;</a>"}, {"owner": {"reputation": 714, "user_id": 2258863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97fc4ad3a6f3152bd7a0e83310f6ed?s=128&d=identicon&r=PG", "display_name": "m1yag1", "link": "https://stackoverflow.com/users/2258863/m1yag1"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1455155969, "post_id": 35326016, "comment_id": 58367263, "body": "@allg18, Could you mark this as answered b/c I believe I resolved your issue?"}], "tags": [], "owner": {"reputation": 714, "user_id": 2258863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97fc4ad3a6f3152bd7a0e83310f6ed?s=128&d=identicon&r=PG", "display_name": "m1yag1", "link": "https://stackoverflow.com/users/2258863/m1yag1"}, "is_accepted": false, "score": 1, "last_activity_date": 1455149686, "last_edit_date": 1455149686, "creation_date": 1455138828, "answer_id": 35326016, "question_id": 35325582, "link": "https://stackoverflow.com/questions/35325582/flask-wtf-python-size-varying-list-of-lists-of-fields-not-working-unbound-err/35326016#35326016", "title": "Flask WTF (Python) Size-varying list of lists of fields not working (unbound error)", "body": "<p>Fields are classes and need to be called in order to run their <strong>call</strong> method which will render the html to your page. </p>\n\n<p>Example 1:</p>\n\n<p><code>{{ form.expression() }}</code></p>\n\n<p>Your field is rendering but it is best to call the field properly.</p>\n\n<p>Edited:</p>\n\n<p>Your list of fields is not going to work because you need to have an instantiated class attached to the form class attribute. When you load up the field like this it is an UnboundField. </p>\n\n<p><a href=\"https://i.stack.imgur.com/J4f0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J4f0f.png\" alt=\"unboundfield\"></a></p>\n\n<p>I recommend adding fields dynamically in your view. You can see an answer to that problem <a href=\"https://stackoverflow.com/questions/12850605/how-do-i-generate-dynamic-fields-in-wtforms\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "is_accepted": false, "score": 1, "last_activity_date": 1455206774, "creation_date": 1455206774, "answer_id": 35344230, "question_id": 35325582, "link": "https://stackoverflow.com/questions/35325582/flask-wtf-python-size-varying-list-of-lists-of-fields-not-working-unbound-err/35344230#35344230", "title": "Flask WTF (Python) Size-varying list of lists of fields not working (unbound error)", "body": "<p>The fields that are part of the form need to be class variables of the form class. If they are not, then WTForms is not going to find them, so they are never bound to the form.</p>\n\n<p>If you want to add a list of fields, you can do so by setting the attributes on the Form class. Something like this:</p>\n\n<pre><code>class Receiver(Form):\n    expression = StringField('expression', validators=[DataRequired()])\n\nsetattr(Receiver, 've_list0', DecimalField('value', validators=[DataRequired()]))\nsetattr(Receiver, 've_list1', DecimalField('value', validators=[DataRequired()]))\n</code></pre>\n\n<p>Then in the template, you can iterate on the form fields to render them, instead of rendering them one by one.</p>\n"}], "owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1455206774, "creation_date": 1455137244, "question_id": 35325582, "link": "https://stackoverflow.com/questions/35325582/flask-wtf-python-size-varying-list-of-lists-of-fields-not-working-unbound-err", "title": "Flask WTF (Python) Size-varying list of lists of fields not working (unbound error)", "body": "<p>I'm trying to make a uncertainty calculator, where I need a variable number of Fields (this is the final idea). However, while testing for number of 1 field of fields, I came across a issue. Instead of the fields being rendered in the page, there is only some random code in its place:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5MUkp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5MUkp.png\" alt=\"Result of the code below\"></a></p>\n\n<p>I tried checking if the issue was related to them having the same name \"values\" or something, but it seems that is not the issue. I don't know what to try anymore.</p>\n\n<p>forms.py</p>\n\n<pre><code>from flask.ext.wtf import Form\nfrom wtforms import StringField, BooleanField, DecimalField\nfrom wtforms.validators import DataRequired\n\nclass Receiver(Form):\n    expression = StringField('expression', validators=[DataRequired()])\n    # ve_list = [[StringField('expreson'), DecimalField('expression', places=10)], [StringField('expreson'), DecimalField('expression', places=10)]]\n    # remember_me = BooleanField('remember_me', default=False)\n\n    ve_list = [[DecimalField('value', validators=[DataRequired()]), DecimalField('value', validators=[DataRequired()])]]\n</code></pre>\n\n<p>The views.py:</p>\n\n<pre><code>from flask import render_template, flash, redirect\nfrom app import app\nfrom .forms import Receiver\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    form = Receiver()\n    return render_template('request.html', \n                           title='Calculate',\n                           form=form)\n</code></pre>\n\n<p>request.html:</p>\n\n<pre><code>{% block content %}\n  &lt;h1&gt;Error propagation calculator&lt;/h1&gt;\n  &lt;form action=\"\" method=\"post\" name=\"login\"&gt;\n      {{ form.hidden_tag() }}\n      &lt;p&gt;\n          Please enter the expression:&lt;br&gt;\n          {{ form.expression }}&lt;br&gt;\n      &lt;/p&gt;\n          Enter the value and respective error:&lt;br&gt;\n          {% for ve in form.ve_list %}\n          {{ ve[0] }} +/- {{ ve[1] }}&lt;br&gt;\n          {% endfor %} \n      &lt;p&gt;&lt;input type=\"submit\" value=\"Calculate\"&gt;&lt;/p&gt;\n  &lt;/form&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "neural-network", "tensorflow", "recurrent-neural-network"], "comments": [{"owner": {"reputation": 489, "user_id": 2082009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f1e19921ba3ecdcd40bf55a6196aca?s=128&d=identicon&r=PG", "display_name": "Saurabh Saxena", "link": "https://stackoverflow.com/users/2082009/saurabh-saxena"}, "edited": false, "score": 0, "creation_date": 1476170560, "post_id": 35325480, "comment_id": 67223538, "body": "In <code>np_labels, np_logits, sequence_lengths, label_lengths, logit_lengths = sess.run([labels_placeholder, logits, sequence_lengths_placeholder, label_lengths_placeholder, logit_lengths], feed_dict=feed_dict) </code> what is your <code>feed_dict</code>? You should not have placeholders in the fetches list for session.run."}, {"owner": {"reputation": 6701, "user_id": 4975126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-wxykA2o2_PU/AAAAAAAAAAI/AAAAAAAAEyY/VGbVvqSSw1Q/photo.jpg?sz=128", "display_name": "Aidan Gomez", "link": "https://stackoverflow.com/users/4975126/aidan-gomez"}, "reply_to_user": {"reputation": 489, "user_id": 2082009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f1e19921ba3ecdcd40bf55a6196aca?s=128&d=identicon&r=PG", "display_name": "Saurabh Saxena", "link": "https://stackoverflow.com/users/2082009/saurabh-saxena"}, "edited": false, "score": 0, "creation_date": 1476291202, "post_id": 35325480, "comment_id": 67286143, "body": "@TheMyth The feed_dict actually stores the placeholder values. That&#39;s definitely a redundancy, but I think I did that to make the code more succinct for SO."}], "answers": [{"tags": [], "owner": {"reputation": 714, "user_id": 277089, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22553c5879f6467dc008658396ad5b10?s=128&d=identicon&r=PG", "display_name": "Exta", "link": "https://stackoverflow.com/users/277089/exta"}, "is_accepted": false, "score": 1, "last_activity_date": 1494410243, "creation_date": 1494410243, "answer_id": 43889136, "question_id": 35325480, "link": "https://stackoverflow.com/questions/35325480/tensorflow-performing-this-loss-computation/43889136#43889136", "title": "TensorFlow: Performing this loss computation", "body": "<p>The first thing I would do is to calculate loss using tensorflow instead of numpy. That will allow tensorflow to compute gradients for you, so you will be able to back-propagate, meaning you can minimize the loss.</p>\n\n<p>There is tf.edit_distance(<a href=\"https://www.tensorflow.org/api_docs/python/tf/edit_distance\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/api_docs/python/tf/edit_distance</a>) function in the core library. </p>\n\n<blockquote>\n  <p>So naturally to fix that I would try and implement this in TensorFlow. The issue is, my logit_lengths and label_lengths are both Tensors, so when I try and access a single element, I'm returned a Tensor of shape []. This is an issue when I'm trying to use tf.nn.top_k() which takes an Int for its k parameter.</p>\n</blockquote>\n\n<p>Could you provide a little bit more details why it is an issue?</p>\n"}], "owner": {"reputation": 6701, "user_id": 4975126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-wxykA2o2_PU/AAAAAAAAAAI/AAAAAAAAEyY/VGbVvqSSw1Q/photo.jpg?sz=128", "display_name": "Aidan Gomez", "link": "https://stackoverflow.com/users/4975126/aidan-gomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1625, "favorite_count": 3, "answer_count": 1, "score": 12, "last_activity_date": 1494410243, "creation_date": 1455136884, "last_edit_date": 1592644375, "question_id": 35325480, "link": "https://stackoverflow.com/questions/35325480/tensorflow-performing-this-loss-computation", "title": "TensorFlow: Performing this loss computation", "body": "<p>My question and problem is stated below the two blocks of code.</p>\n<hr />\n<h1>Loss Function</h1>\n<pre><code>def loss(labels, logits, sequence_lengths, label_lengths, logit_lengths):    \n    scores = []\n    for i in xrange(runner.batch_size):\n        sequence_length = sequence_lengths[i]\n        for j in xrange(length):\n            label_length = label_lengths[i, j]\n            logit_length = logit_lengths[i, j]\n\n             # get top k indices &lt;==&gt; argmax_k(labels[i, j, 0, :], label_length)\n            top_labels = np.argpartition(labels[i, j, 0, :], -label_length)[-label_length:]\n            top_logits = np.argpartition(logits[i, j, 0, :], -logit_length)[-logit_length:]\n\n            scores.append(edit_distance(top_labels, top_logits))\n\n    return np.mean(scores)\n    \n# Levenshtein distance\ndef edit_distance(s, t):\n    n = s.size\n    m = t.size\n    d = np.zeros((n+1, m+1))\n    d[:, 0] = np.arrange(n+1)\n    d[0, :] = np.arrange(n+1)\n\n    for j in xrange(1, m+1):\n        for i in xrange(1, n+1):\n            if s[i] == t[j]:\n                d[i, j] = d[i-1, j-1]\n            else:\n                d[i, j] = min(d[i-1, j] + 1,\n                              d[i, j-1] + 1,\n                              d[i-1, j-1] + 1)\n\n    return d[m, n]\n</code></pre>\n<hr />\n<h1>Being used in</h1>\n<p>I've tried to flatten my code so that everything is happening in one place. Let me know if there are typos/points of confusion.</p>\n<pre><code>sequence_lengths_placeholder = tf.placeholder(tf.int64, shape=(batch_size))\nlabels_placeholder = tf.placeholder(tf.float32, shape=(batch_size, max_feature_length, label_size))\nlabel_lengths_placeholder = tf.placeholder(tf.int64, shape=(batch_size, max_feature_length))\nloss_placeholder = tf.placeholder(tf.float32, shape=(1))\n\nlogit_W = tf.Variable(tf.zeros([lstm_units, label_size]))\nlogit_b = tf.Variable(tf.zeros([label_size]))\n\nlength_W = tf.Variable(tf.zeros([lstm_units, max_length]))\nlength_b = tf.Variable(tf.zeros([max_length]))\n\nlstm = rnn_cell.BasicLSTMCell(lstm_units)\nstacked_lstm = rnn_cell.MultiRNNCell([lstm] * layer_count)\n\nrnn_out, state = rnn.rnn(stacked_lstm, features, dtype=tf.float32, sequence_length=sequence_lengths_placeholder)\n\nlogits = tf.concat(1, [tf.reshape(tf.matmul(t, logit_W) + logit_b, [batch_size, 1, 2, label_size]) for t in rnn_out])\n\nlogit_lengths = tf.concat(1, [tf.reshape(tf.matmul(t, length_W) + length_b, [batch_size, 1, max_length]) for t in rnn_out])\n\noptimizer = tf.train.AdamOptimizer(learning_rate)\nglobal_step = tf.Variable(0, name='global_step', trainable=False)\ntrain_op = optimizer.minimize(loss_placeholder, global_step=global_step)\n\n...\n...\n# Inside training loop\n\nnp_labels, np_logits, sequence_lengths, label_lengths, logit_lengths = sess.run([labels_placeholder, logits, sequence_lengths_placeholder, label_lengths_placeholder, logit_lengths], feed_dict=feed_dict)\nloss = loss(np_labels, np_logits, sequence_lengths, label_lengths, logit_lengths)\n_ = sess.run([train_op], feed_dict={loss_placeholder: loss})\n</code></pre>\n<hr />\n<h1>My issue</h1>\n<p>The issue is that this is returning the error:</p>\n<pre><code>  File &quot;runner.py&quot;, line 63, in &lt;module&gt;\n    train_op = optimizer.minimize(loss_placeholder, global_step=global_step)\n  File &quot;/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py&quot;, line 188, in minimize\n    name=name)\n  File &quot;/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/optimizer.py&quot;, line 277, in apply_gradients\n    (grads_and_vars,))\n\n  ValueError: No gradients provided for any variable: &lt;all my variables&gt;\n</code></pre>\n<p>So I assume that this is TensorFlow complaining that it can't compute the gradients of my loss because the loss is performed by numpy, outside the scope of TF.</p>\n<p>So naturally to fix that I would try and implement this in TensorFlow. The issue is, my <code>logit_lengths</code> and <code>label_lengths</code> are both Tensors, so when I try and access a single element, I'm returned a Tensor of shape []. This is an issue when I'm trying to use <code>tf.nn.top_k()</code> which takes an <code>Int</code> for its <code>k</code> parameter.</p>\n<p>Another issue with that is my <code>label_lengths</code> is a Placeholder and since my <code>loss</code> value need to be defined before the <code>optimizer.minimize(loss)</code> call, I also get an error that says a value needs to be passed for the placeholder.</p>\n<p>I'm just wondering how I could try and implement this loss function. Or if I'm missing something obvious.</p>\n<hr />\n<p><strong>Edit:</strong> After some <a href=\"http://arxiv.org/pdf/1511.06456v4.pdf\" rel=\"noreferrer\">further reading</a> I see that usually losses like the one I describe are used in validation and in training a surrogate loss that minimizes in the same place as the true loss is used. Does anyone know what surrogate loss is used for an edit distance based scenario like mine?</p>\n"}, {"tags": ["python", "string", "if-statement", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1107, "user_id": 3902319, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9577a8d91732ad9d9fb52701f1ae96a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/3902319/pat"}, "edited": false, "score": 0, "creation_date": 1455137976, "post_id": 35325694, "comment_id": 58360397, "body": "Thanks! that was fast. I will wait one day before praising your answer - maybe someone comes up with another solution but this one is very nice. Thanks again."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 2, "last_activity_date": 1455138608, "last_edit_date": 1455138608, "creation_date": 1455137644, "answer_id": 35325694, "question_id": 35325474, "link": "https://stackoverflow.com/questions/35325474/ifelse-on-pandas-data-frame-based-on-strings-row-wise/35325694#35325694", "title": "Ifelse on pandas data frame based on strings row wise", "body": "<p>You can construct a mask of your 2 conditions and pass this to <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.where.html\" rel=\"nofollow\"><code>np.where</code></a>:</p>\n\n<pre><code>In [20]:\n\nmask = (df['Strings'].str.contains('6')) &amp; (df['Strings'].str.contains('smoked'))\nIn [23]:\n\net\ndf['Result'] = np.where(mask, df['Set'] + ' health damaging', df['Set'])\ndf\nOut[23]:\n     Set             Strings                Result\n0  Alpha           The brown                 Alpha\n1   Beta        fox smoked 6  Beta health damaging\n2  Gamma  cigarettes per day                 Gamma\n3  Delta         in his cave                 Delta\n</code></pre>\n\n<p>Here the mask tests for the presence of your strings using <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.contains.html#pandas.Series.str.contains\" rel=\"nofollow\"><code>.str.contains</code></a> and we and the conditions together to make the mask.</p>\n"}], "owner": {"reputation": 1107, "user_id": 3902319, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9577a8d91732ad9d9fb52701f1ae96a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/3902319/pat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 35325694, "answer_count": 1, "score": 0, "last_activity_date": 1455138608, "creation_date": 1455136869, "question_id": 35325474, "link": "https://stackoverflow.com/questions/35325474/ifelse-on-pandas-data-frame-based-on-strings-row-wise", "title": "Ifelse on pandas data frame based on strings row wise", "body": "<p>This is an easy one. The task is to check if a string in one column contains all words stored in another string. Based on this do something. Here is a simple example</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'Strings':[\"The brown\",\"fox smoked 6\", \"cigarettes per day\", \"in his cave\"], \n'Set': [\"Alpha\", \"Beta\", \"Gamma\", \"Delta\"]})\n\n... &gt;&gt;&gt; df\n     Set             Strings\n0  Alpha           The brown\n1   Beta        fox smoked 6\n2  Gamma  cigarettes per day\n3  Delta         in his cave\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Now i want to check in each row of df[\"Strings\"] if it contains the word \"smoked\" and the number \"6\" (which is true for row 3 here). If so, I need the new column df[\"Result\"] to be equal to df[\"Set\"] but with the words \"health damaging\" added to it. If not just copy what's contained in df[\"Set\"]. Output should look like this:</p>\n\n<pre><code>... &gt;&gt;&gt; df_final\n     Set             Strings   Result\n0  Alpha           The brown   Alpha\n1   Beta        fox smoked 6   Beta health damaging\n2  Gamma  cigarettes per day   Gamma\n3  Delta         in his cave   Delta\n&gt;&gt;&gt;  \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1455136955, "post_id": 35325464, "comment_id": 58359841, "body": "Could be a problem with your IDE. Doesn&#39;t look like a problem with <code>d</code>, other than the infinite loop."}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 1, "creation_date": 1455137035, "post_id": 35325464, "comment_id": 58359885, "body": "I think it&#39;s an IDE bug. Which IDE are you using? Have you tried restarting or refreshing it?"}, {"owner": {"reputation": 12033, "user_id": 2213647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/TPTow.png?s=128&g=1", "display_name": "twasbrillig", "link": "https://stackoverflow.com/users/2213647/twasbrillig"}, "edited": false, "score": 1, "creation_date": 1455137101, "post_id": 35325464, "comment_id": 58359916, "body": "It might help to include the full error, with stack trace."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1455137977, "post_id": 35325464, "comment_id": 58360400, "body": "Alternatively, if an error is not actually occurring, and it&#39;s just the IDE underlining that statement with a red squiggle but letting you run the code flawlessly anyway, it might help to include a screenshot of the squiggle."}], "answers": [{"comments": [{"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "edited": false, "score": 0, "creation_date": 1455138340, "post_id": 35325791, "comment_id": 58360589, "body": "Time to update pycharm.  5.0.4 doesn&#39;t seem to have the problem."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1455139469, "post_id": 35325791, "comment_id": 58361200, "body": "Maybe it&#39;s just telling you that &quot;d&quot; is not such a good variable name?"}], "tags": [], "owner": {"reputation": 409, "user_id": 5844307, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3233a38ae524f7748d8b0896968b8381?s=128&d=identicon&r=PG&f=1", "display_name": "logic1976", "link": "https://stackoverflow.com/users/5844307/logic1976"}, "is_accepted": false, "score": 0, "last_activity_date": 1455137979, "creation_date": 1455137979, "answer_id": 35325791, "question_id": 35325464, "link": "https://stackoverflow.com/questions/35325464/unresolved-reference-in-python-which-is-an-integer/35325791#35325791", "title": "Unresolved Reference in Python which is an integer", "body": "<p>Actually, on second thought this is not an error.  My IDE editor (Pycharm) underlines the d variable and has a red flag in the right hand side, but when I actually step over the line, Python continues to work.  This is the only time I've seen when a red flag has gone up and Python has continued to work, so I guess the problem is with the IDE.</p>\n"}], "owner": {"reputation": 409, "user_id": 5844307, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3233a38ae524f7748d8b0896968b8381?s=128&d=identicon&r=PG&f=1", "display_name": "logic1976", "link": "https://stackoverflow.com/users/5844307/logic1976"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455137979, "creation_date": 1455136835, "last_edit_date": 1455137227, "question_id": 35325464, "link": "https://stackoverflow.com/questions/35325464/unresolved-reference-in-python-which-is-an-integer", "title": "Unresolved Reference in Python which is an integer", "body": "<p>When I write the following code:</p>\n\n<pre><code>def demorgan(prop_sent, conditionals, candd):\n\n    global sn\n    d = 0\n    while d &lt; len(conditionals) -1:\n        str1 = conditionals[d][4]\n        if str1.find(\"~(\") &gt; -1:\n            anc1 = conditionals[d][2]\n</code></pre>\n\n<p>The IDE says that d is an unresolved reference.  When I change the while loop to a for loop, which I can't do by the way, since the length of the conditionals list will change while looping, the error message goes away.</p>\n\n<pre><code>def demorgan(prop_sent, conditionals, candd):\n\n    global sn\n\n    for d in range(len(conditionals)):\n        str1 = conditionals[d][4]\n        if str1.find(\"~(\") &gt; -1:\n            anc1 = conditionals[d][2]\n</code></pre>\n\n<p>I can't figure out why d is an unresolved reference in the while loop.  The bug also goes away when I simply put in:</p>\n\n<pre><code>while d &lt; 10:\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1455137007, "post_id": 35325501, "comment_id": 58359867, "body": "Well . . . that kind of beats my answer hands down, doesn&#39;t it?"}, {"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "edited": false, "score": 0, "creation_date": 1455137420, "post_id": 35325501, "comment_id": 58360084, "body": "Bad input will cause a <code>ValueError</code> exception that can be handled."}], "tags": [], "owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "is_accepted": false, "score": 16, "last_activity_date": 1455137055, "last_edit_date": 1455137055, "creation_date": 1455136963, "answer_id": 35325501, "question_id": 35325439, "link": "https://stackoverflow.com/questions/35325439/python-convert-fraction-inside-string-to-integer/35325501#35325501", "title": "Python Convert Fraction Inside String to Integer", "body": "<p><strong>Use <a href=\"https://docs.python.org/3.5/library/fractions.html\" rel=\"noreferrer\"><code>fractions</code></a>.</strong></p>\n\n<pre><code>&gt;&gt;&gt; from fractions import Fraction\n&gt;&gt;&gt; int(Fraction('4/2'))\n2\n</code></pre>\n\n<p>Whatever you do, don't use <code>eval</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12263701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCI_SkZLim_MUq87DhYrHIrKW_fSd5acgNupGaBWw=k-s128", "display_name": "Nicolas B.", "link": "https://stackoverflow.com/users/12263701/nicolas-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1571841522, "creation_date": 1571841522, "answer_id": 58525348, "question_id": 35325439, "link": "https://stackoverflow.com/questions/35325439/python-convert-fraction-inside-string-to-integer/58525348#58525348", "title": "Python Convert Fraction Inside String to Integer", "body": "<p>With the standard library for regular expression <code>re</code>, you can test if the fraction is well formatted:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; fraction_pattern = re.compile(r\"^(?P&lt;num&gt;[0-9]+)/(?P&lt;den&gt;[0-9]+)$\")\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>&gt;&gt;&gt; g = fraction_pattern.search('355/113')\n&gt;&gt;&gt; if g:\n        f = float(g.group(\"num\"))/float(g.group(\"den\"))\n&gt;&gt;&gt; f\n3.1415929203539825\n</code></pre>\n\n<p>But may not be the fastest nor the simplest solution compared to <code>fractions</code>...</p>\n"}], "owner": {"reputation": 59, "user_id": 5910469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42d08b5b7e9eda90640205c2e4575f21?s=128&d=identicon&r=PG&f=1", "display_name": "Lothar the Quick", "link": "https://stackoverflow.com/users/5910469/lothar-the-quick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5019, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571841522, "creation_date": 1455136741, "last_edit_date": 1455139844, "question_id": 35325439, "link": "https://stackoverflow.com/questions/35325439/python-convert-fraction-inside-string-to-integer", "title": "Python Convert Fraction Inside String to Integer", "body": "<p>How can I convert an input entered as a fraction (eg, \"4/2\") into an integer in python 3.5? I have tried using both of the following codes:</p>\n\n<pre><code>b = int(input(\"Please enter a value for b of the quadratic equation: \"))\nb = int(float(input(\"Please enter a value for b of the quadratic equation: \")))\n</code></pre>\n"}, {"tags": ["python", "ssh"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1455136666, "post_id": 35325383, "comment_id": 58359678, "body": "do you have ssh installed on your win box? ssh isn&#39;t something microsoft provides out-of-the-box..."}, {"owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455136988, "post_id": 35325383, "comment_id": 58359859, "body": "No, I haven&#39;t installed it"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1455137036, "post_id": 35325383, "comment_id": 58359887, "body": "then how do you expect python to be able to execute a program which hasn&#39;t been installed?"}, {"owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455137217, "post_id": 35325383, "comment_id": 58359971, "body": "My bad, I will install ssh and edit the question if I get stuck."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1455137919, "post_id": 35325383, "comment_id": 58360365, "body": "Definitely look into paramiko instead if you are having problems getting a reasonable SSH setup on windows (by reasonable, I mean without Cygwin)"}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 5874356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33ee5758dfef6beee8636ba442b0334a?s=128&d=identicon&r=PG&f=1", "display_name": "apex-meme-lord", "link": "https://stackoverflow.com/users/5874356/apex-meme-lord"}, "is_accepted": false, "score": 0, "last_activity_date": 1455137433, "creation_date": 1455137433, "answer_id": 35325637, "question_id": 35325383, "link": "https://stackoverflow.com/questions/35325383/connect-to-remote-machine-using-subprocess/35325637#35325637", "title": "Connect to remote machine using subprocess", "body": "<p>You either don't have an ssh client installed on your local machine, or it isn't in the PATH variable.  </p>\n\n<p>Either way, I recommend you look into a library specifically designed for ssh in lieu of using subprocess (e.g., <a href=\"http://www.paramiko.org/\" rel=\"nofollow\">http://www.paramiko.org/</a>)</p>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2541, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1585844767, "creation_date": 1455136525, "last_edit_date": 1455137953, "question_id": 35325383, "link": "https://stackoverflow.com/questions/35325383/connect-to-remote-machine-using-subprocess", "title": "Connect to remote machine using subprocess", "body": "<p>I would like to connect to a remote machine and would also like to execute certain commands over there. </p>\n\n<p><strong>Details:</strong></p>\n\n<p>Remote Machine: It is a linux machine.</p>\n\n<p>Local Machine: It is windows 7 machine.</p>\n\n<p>My Python code is on windows machine.</p>\n\n<pre><code>import subprocess\nimport sys\n\nHOST=\"eseki.rnd.sozi.se\"\n# Ports are handled in ~/.ssh/config since we use OpenSSH\nCOMMAND=\"uname -a\"\n\nssh = subprocess.Popen([\"ssh\", \"%s\" % HOST, COMMAND],\n                       shell=False,\n                       stdout=subprocess.PIPE,\n                       stderr=subprocess.PIPE)\nresult = ssh.stdout.readlines()\n\nif result == []:\n    error = ssh.stderr.readlines()\n    print &gt;&gt;sys.stderr, \"ERROR: %s\" % error\nelse:\n    print result\n</code></pre>\n\n<p>However, when I execute this code, I get the following error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\ABC\\workspace\\HelloWorldPython\\src\\SSHTestModule.py\", line 16, in &lt;module&gt;\n    stderr=subprocess.PIPE)\n  File \"C:\\Python27\\lib\\subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"C:\\Python27\\lib\\subprocess.py\", line 958, in _execute_child\n    startupinfo)\nWindowsError: [Error 2] The system cannot find the file specified\n</code></pre>\n\n<p>What should I do to connect to a remote machine using Python?</p>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1455136529, "post_id": 35325341, "comment_id": 58359596, "body": "Another possibility is that your css style somehow messed up so visually footer html is on top of model data. You could verify this by checking the source html code from browser and see if the model data is before footer."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1455136576, "post_id": 35325341, "comment_id": 58359629, "body": "This appears to be a question about HTML and CSS, and nothing to do with Django."}, {"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1455136640, "post_id": 35325341, "comment_id": 58359670, "body": "Where do you have your block in your base template? Maybe you are putting it in some block that is at the bottom on the parent template."}, {"owner": {"reputation": 56, "user_id": 4855845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f3c000b6f6c578be3232d4838437909?s=128&d=identicon&r=PG&f=1", "display_name": "PCDubb", "link": "https://stackoverflow.com/users/4855845/pcdubb"}, "edited": false, "score": 0, "creation_date": 1455139740, "post_id": 35325341, "comment_id": 58361371, "body": "I am using Bootstrap in the html/css."}, {"owner": {"reputation": 56, "user_id": 4855845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f3c000b6f6c578be3232d4838437909?s=128&d=identicon&r=PG&f=1", "display_name": "PCDubb", "link": "https://stackoverflow.com/users/4855845/pcdubb"}, "edited": false, "score": 0, "creation_date": 1455140371, "post_id": 35325341, "comment_id": 58361719, "body": "I am using Bootstrap in the html/css, not 100% sure how that will effect the order it renders. Looking at the render timeline is also kind of difficult - it&#39;s very busy."}], "owner": {"reputation": 56, "user_id": 4855845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f3c000b6f6c578be3232d4838437909?s=128&d=identicon&r=PG&f=1", "display_name": "PCDubb", "link": "https://stackoverflow.com/users/4855845/pcdubb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1455136389, "creation_date": 1455136389, "question_id": 35325341, "link": "https://stackoverflow.com/questions/35325341/django-rendering-order", "title": "Django Rendering Order", "body": "<p>I am having trouble getting Django to render the page in the order I want and am hoping someone can explain (maybe conceptually) what I need to do (or understand) to correct the issue.</p>\n\n<p>Here's how my template (.html) is structured:</p>\n\n<pre><code>{% extend nav_pane %}\n\n{% block body_block %}\n\n&lt;some HTML&gt;\n\n{% stuff from views.py (for loop) %}\n\n&lt;footer HTML&gt;\n\n{% endblock %}\n</code></pre>\n\n<p>This is how the template renders:</p>\n\n<pre><code>nav_pane - OK at Top\n\n&lt;some HTML&gt;\n\n&lt;footer HTML&gt; -- This jumps over model data from view.py\n\nmodel data from view.py -- appears on the bottom??\n</code></pre>\n\n<p>I've tried putting the footer HTML in a separate block, but it still jumps over the model data being send in from views.py</p>\n\n<p>Obviously, I am new to Django, so there may be some fundamental concept I'm missing about the order templates render information... </p>\n\n<p>Any tips/techniques/references on controlling how things appear in the browser are appreciated.</p>\n"}, {"tags": ["python", "flask", "wtforms"], "answers": [{"tags": [], "owner": {"reputation": 714, "user_id": 2258863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e97fc4ad3a6f3152bd7a0e83310f6ed?s=128&d=identicon&r=PG", "display_name": "m1yag1", "link": "https://stackoverflow.com/users/2258863/m1yag1"}, "is_accepted": false, "score": 12, "last_activity_date": 1536853771, "last_edit_date": 1536853771, "creation_date": 1455138140, "answer_id": 35325834, "question_id": 35325287, "link": "https://stackoverflow.com/questions/35325287/flask-wtforms-how-do-i-get-a-form-value-back-into-python/35325834#35325834", "title": "Flask WTForms: how do I get a form value back into Python?", "body": "<p>You need to populate some sort of data structure like a variable ,list, or a dictionary and then pass that to a python function. The return/result of the python function would then need to be passed as a context parameter to be rendered in your result template.</p>\n\n<p>Example:</p>\n\n<pre><code>@app.route('/', methods=('GET', 'POST'))\ndef home():\n    form = ArtistsForm(request.POST, csrf_enabled=False)\n    if form.validate_on_submit():\n        art1 = form.artist1.data\n        art2 = form.artist2.data\n        result = computate_uncertainty(art1, art2)\n        return render_template('results.html', result=result)\n    return render_template('home.html', form=form)\n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 4721676, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/809b0bc2aa17dc4f35621e98b0c76bb0?s=128&d=identicon&r=PG&f=1", "display_name": "David Schuler", "link": "https://stackoverflow.com/users/4721676/david-schuler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9937, "favorite_count": 3, "answer_count": 1, "score": 6, "last_activity_date": 1536853771, "creation_date": 1455136191, "last_edit_date": 1455138118, "question_id": 35325287, "link": "https://stackoverflow.com/questions/35325287/flask-wtforms-how-do-i-get-a-form-value-back-into-python", "title": "Flask WTForms: how do I get a form value back into Python?", "body": "<p>What I'm trying to do is get user input on 5 different fields, then have what the user entered available to use in the rest of my program in python. The code I have so far, looks like this:</p>\n\n<pre><code>class ArtistsForm(Form):\n    artist1 = StringField('Artist 1', validators=[DataRequired()])\n    artist2 = StringField('Artist 2', validators=[DataRequired()])\n    artist3 = StringField('Artist 3', validators=[DataRequired()])\n    artist4 = StringField('Artist 4', validators=[DataRequired()])\n    artist5 = StringField('Artist 5', validators=[DataRequired()])\n\n\n@app.route('/', methods=('GET', 'POST'))\ndef home():\n    form = ArtistsForm(csrf_enabled=False)\n    if form.validate_on_submit():\n        return redirect('/results')\n    return render_template('home.html', form=form)\n\n@app.route('/results', methods=('GET', 'POST'))\ndef results():\n    artist1 = request.form['artist1']\n    artist2 = request.form['artist2']\n    artist3 = request.form['artist3']\n    artist4 = request.form['artist4']\n    artist5 = request.form['artist5']\n\n    return render_template('results.html')\n</code></pre>\n\n<p>Any ideas? (i know csrf_enabled=False is bad, I'm just doing it to test for now.) I want the values for a function below this, to do some computations (no web aspect).</p>\n\n<p>EDIT: I updated my code above. I was able to get the values in. Now I just need to pass them to a function below.</p>\n"}, {"tags": ["python", "django", "web"], "answers": [{"comments": [{"owner": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "edited": false, "score": 0, "creation_date": 1557232978, "post_id": 35325427, "comment_id": 98689461, "body": "A documentation link so as where to import <code>@permission_required</code> decorator would be great."}], "tags": [], "owner": {"reputation": 3240, "user_id": 1726192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e8c22f8c539e61cb709a8d399256fba1?s=128&d=identicon&r=PG", "display_name": "Aviah Laor", "link": "https://stackoverflow.com/users/1726192/aviah-laor"}, "is_accepted": true, "score": 1, "last_activity_date": 1455136698, "creation_date": 1455136698, "answer_id": 35325427, "question_id": 35325279, "link": "https://stackoverflow.com/questions/35325279/django-authorization-redirecting-to-a-403-page/35325427#35325427", "title": "Django Authorization: Redirecting to a 403 page", "body": "<pre><code>@permission_required('erl.compile',raise_exception=True)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5910403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d239ca4a51f442f0d2761d8494715b?s=128&d=identicon&r=PG&f=1", "display_name": "dailyskeleton", "link": "https://stackoverflow.com/users/5910403/dailyskeleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 35325427, "answer_count": 1, "score": 1, "last_activity_date": 1485776893, "creation_date": 1455136166, "last_edit_date": 1485776893, "question_id": 35325279, "link": "https://stackoverflow.com/questions/35325279/django-authorization-redirecting-to-a-403-page", "title": "Django Authorization: Redirecting to a 403 page", "body": "<p>My problem is:</p>\n\n<p>In default Django, When a logged-out user clicks on or selects a link that they do not have permission to see (as defined by Django) they get redirected to the administrative login page by default. How would I change this redirecting so it gives the user a 403 forbidden instead of just prompting them with a login?</p>\n\n<p>I specifically used the decorator @permission_required on the view that would need permission to see. Here's what a typical view would look like in my views.py:</p>\n\n<pre><code>from django.contrib.auth.decorators import permission_required\n\n...\n\n    @permission_required('erl.compile')\n    def compile_robot(request, robot_id):\n        robot = models.Robot.objects.get(id=robot_id, deleted=False)\n        with set_message(request, \"Compile Successful\"):\n            robot.compile()\n        return redirect('robot', robot_id=robot_id)\n</code></pre>\n\n<p>So, my question is if I could somehow get the @permission_required decorator to redirect to a 403 page instead of a login screen.</p>\n\n<p>I'm using Django version <code>1.8</code>  Any help would be really appreciated! </p>\n"}, {"tags": ["python", "imread"], "answers": [{"comments": [{"owner": {"reputation": 2753, "user_id": 5152497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31173db9fa0458111656bb2c9cfa6a09?s=128&d=identicon&r=PG&f=1", "display_name": "J&#252;rgen K.", "link": "https://stackoverflow.com/users/5152497/j%c3%bcrgen-k"}, "edited": false, "score": 1, "creation_date": 1549285811, "post_id": 41020085, "comment_id": 95836491, "body": "where does the greycomatrix come from?"}, {"owner": {"reputation": 66, "user_id": 766961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbbf798696737dfebf726266bd7bbe9?s=128&d=identicon&r=PG", "display_name": "duyvk", "link": "https://stackoverflow.com/users/766961/duyvk"}, "reply_to_user": {"reputation": 2753, "user_id": 5152497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31173db9fa0458111656bb2c9cfa6a09?s=128&d=identicon&r=PG&f=1", "display_name": "J&#252;rgen K.", "link": "https://stackoverflow.com/users/5152497/j%c3%bcrgen-k"}, "edited": false, "score": 1, "creation_date": 1565143535, "post_id": 41020085, "comment_id": 101255741, "body": "it is from skimage lib. <a href=\"https://scikit-image.org/docs/dev/api/skimage.feature.html#skimage.feature.greycomatrix\" rel=\"nofollow noreferrer\">scikit-image.org/docs/dev/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 66, "user_id": 766961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbbf798696737dfebf726266bd7bbe9?s=128&d=identicon&r=PG", "display_name": "duyvk", "link": "https://stackoverflow.com/users/766961/duyvk"}, "is_accepted": true, "score": 2, "last_activity_date": 1481121095, "creation_date": 1481121095, "answer_id": 41020085, "question_id": 35325193, "link": "https://stackoverflow.com/questions/35325193/the-parameter-image-must-be-a-2-dimensional-array/41020085#41020085", "title": "The parameter `image` must be a 2-dimensional array", "body": "<p>you need to convert the color to grey image</p>\n\n<pre><code>im = cv2.imread(train_image)\nim = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\nngcm= greycomatrix(im, [1], [0], 256, symmetric=False, normed=True)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5910344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DOns8gYZkpc/AAAAAAAAAAI/AAAAAAAAADU/QF5nsiu-vw8/photo.jpg?sz=128", "display_name": "shafigh", "link": "https://stackoverflow.com/users/5910344/shafigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11982, "favorite_count": 1, "accepted_answer_id": 41020085, "answer_count": 1, "score": 3, "last_activity_date": 1481121095, "creation_date": 1455135869, "question_id": 35325193, "link": "https://stackoverflow.com/questions/35325193/the-parameter-image-must-be-a-2-dimensional-array", "title": "The parameter `image` must be a 2-dimensional array", "body": "<p>I am going to compute co-occurance matrix of some textures and in following you see the code, normally when I hardcode one address in cv2.imread(), no error arises, but now that I have used one variable(train_image), I got error, that 'The parameter <code>image</code> must be a 2-dimensional array'.  </p>\n\n<pre><code>train_image=[]\ntrain_images = cvutils.imlist(r\"data/lbp/train/\")\n#n_training_samples = len(train_images)\ntrain_dic = {}\nwith open('data/lbp/train_label.txt', 'rb') as csvfile:\n    reader = csv.reader(csvfile, delimiter=',')\n    for row in reader:\n        train_dic[row[0]] = int(row[1])\n\nX_train = []\nX_name = []\ny_train = []\n#z_test = []\nfor train_image in train_images:\n    im = cv2.imread(train_image)\n    ngcm= greycomatrix(im, [1], [0], 256, symmetric=False, normed=True)\n    contrast = greycoprops(ngcm, 'contrast')\n    im_gray = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\n    radius = 2\n    no_points = 8 * radius\n    lbp = local_binary_pattern(im_gray, no_points, radius, method='uniform')\n    #classifier = svm.SVC(gamma=0.001)\n    #classifier.fit(data[:n_samples / 2], digits.target[:n_samples / 2])\n    x = itemfreq(lbp.ravel())\n    hist = x[:, 1]/sum(x[:, 1])\n    X_name.append(train_image)\n    X_train.append(hist)\n    y_train.append(train_dic[os.path.split(train_image)[1]])\nmodel = LinearSVC(C=100.0, random_state=50)\nmodel.fit(X_train, y_train)\n</code></pre>\n\n<p>this is the error I got :</p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-20-9c879ecfb9e6&gt; in &lt;module&gt;()\n      5 for train_image in train_images:\n      6     im = cv2.imread(train_image)\n----&gt; 7     ngcm= greycomatrix(im, [1], [0], 256, symmetric=False, normed=True)\n      8     contrast = greycoprops(ngcm, 'contrast')\n      9     im_gray = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\n\nd:\\Anaconda2\\lib\\site-packages\\skimage\\feature\\texture.pyc in greycomatrix(image, distances, angles, levels, symmetric, normed)\n     90 \n     91     \"\"\"\n---&gt; 92     assert_nD(image, 2)\n     93     assert_nD(distances, 1, 'distances')\n     94     assert_nD(angles, 1, 'angles')\n\nd:\\Anaconda2\\lib\\site-packages\\skimage\\_shared\\utils.pyc in assert_nD(array, ndim, arg_name)\n    163         ndim = [ndim]\n    164     if not array.ndim in ndim:\n--&gt; 165         raise ValueError(msg % (arg_name, '-or-'.join([str(n) for n in ndim])))\n\nValueError: The parameter `image` must be a 2-dimensional array\n</code></pre>\n\n<p>Any help or hint are appreciated,thanks !</p>\n"}, {"tags": ["python", "numpy", "dask", "scikit-image"], "answers": [{"comments": [{"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1455138312, "post_id": 35325648, "comment_id": 58360581, "body": "I&#39;m not confident that the GIL is a serious barrier here.  All relevant libraries listed (numpy, skimage) release the GIL."}, {"owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "reply_to_user": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1455143111, "post_id": 35325648, "comment_id": 58362949, "body": "Nevertheless, if the tasks are independent, it almost always pays off to run multiple independent instances (at most, you may want to make one instance per batch). Crash recovery (e.g. if one image fails to decode) and all that is trivial if you have each file a separate task."}], "tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": false, "score": 0, "last_activity_date": 1455137466, "creation_date": 1455137466, "answer_id": 35325648, "question_id": 35325121, "link": "https://stackoverflow.com/questions/35325121/combination-of-parallel-processing-and-dask-arrays-to-process-multiple-image-sta/35325648#35325648", "title": "Combination of parallel processing and dask arrays to process multiple image stacks", "body": "<p>Use <code>make</code> for parallelization.</p>\n\n<p>With <code>make -j20</code> you can tell <code>make</code> to run 20 processes in parallel.</p>\n\n<p>By using multiple processes, you avoid the cost of the \"global interpreter lock\". For <em>independent</em> tasks, it is more efficient to use multiple independent processes (<em>benchmark</em> if you have doubt). Make is great for processing whole folders where you need to apply the same command to each file - it is traditionally used for compiling source code, but it can be used to run arbitrary commands.</p>\n"}, {"comments": [{"owner": {"reputation": 473, "user_id": 5502009, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5505b4a338fb8c8c86ea68d413143ea0?s=128&d=identicon&r=PG&f=1", "display_name": "s1mc0d3", "link": "https://stackoverflow.com/users/5502009/s1mc0d3"}, "edited": false, "score": 0, "creation_date": 1459501576, "post_id": 35328098, "comment_id": 60324746, "body": "After quite a few testing the most efficient way is to run dask for the processing using all cores and run the files sequentially. Next step will be to move away from our in house server and use Google Dataproc and run one file per worker."}], "tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": true, "score": 0, "last_activity_date": 1455147280, "creation_date": 1455147280, "answer_id": 35328098, "question_id": 35325121, "link": "https://stackoverflow.com/questions/35325121/combination-of-parallel-processing-and-dask-arrays-to-process-multiple-image-sta/35328098#35328098", "title": "Combination of parallel processing and dask arrays to process multiple image stacks", "body": "<p>It is always best to parallelize in the simplest way possible.  If you have several files and just want to run the same computation on each of them then this is almost certainly the simplest approach.  If this saturates your computational resources then you can stop here without diving into more sophisticated methods.</p>\n\n<p>If this is indeed your situation then you can parallelize done with <code>dask</code>, <code>make</code>, <code>concurrent.futures</code> or any of a variety of other libraries.</p>\n\n<p>If there are other concerns, like trying to parallelize the operation itself or making sure you don't run out of memory then you are forced into more sophisticated systems like dask, but this may not be the case.</p>\n"}], "owner": {"reputation": 473, "user_id": 5502009, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5505b4a338fb8c8c86ea68d413143ea0?s=128&d=identicon&r=PG&f=1", "display_name": "s1mc0d3", "link": "https://stackoverflow.com/users/5502009/s1mc0d3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 1, "accepted_answer_id": 35328098, "answer_count": 2, "score": 2, "last_activity_date": 1455147280, "creation_date": 1455135637, "question_id": 35325121, "link": "https://stackoverflow.com/questions/35325121/combination-of-parallel-processing-and-dask-arrays-to-process-multiple-image-sta", "title": "Combination of parallel processing and dask arrays to process multiple image stacks", "body": "<p>I have a directory containing <code>n</code> h5 file each of which has <code>m</code> image stacks to filter. For each image, I will run the filtering (gaussian and laplacian) using <code>dask</code> parallel arrays in order to speed up the processing (<a href=\"http://dask.pydata.org/en/latest/index.html\" rel=\"nofollow\" title=\"Ref to Dask\">Ref to Dask</a>). I will use the dask arrays through the  <code>apply_parallel()</code> function in scikit-image.<br>\nI will run the processing on a small server with <code>20 cpus</code>.  </p>\n\n<p><strong>I would like to get an advice to which parallel strategy will make more sense to use:</strong>  </p>\n\n<p>1) Sequential processing of the h5 files and all the cpus for dask processing<br>\n2) Parallel processing of the h5 files with <code>x</code> cores and use the remaining <code>20-x</code> to dask processing.<br>\n3) Distribute the resources and parallel processing the h5 files, the images in each h5 files and the remaining resources for dask.   </p>\n\n<p>thanks for the help!</p>\n"}, {"tags": ["python", "logging"], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 3542989, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/lf9Hn.jpg?s=128&g=1", "display_name": "Durga Swaroop", "link": "https://stackoverflow.com/users/3542989/durga-swaroop"}, "edited": false, "score": 41, "creation_date": 1538513099, "post_id": 35325280, "comment_id": 92166548, "body": "I am creating a logger with <code>__name__</code> r but I still see the logs from the imported modules. I am trying to configure logging with an ini configuration file.What should I do for that?"}, {"owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 12, "creation_date": 1570196932, "post_id": 35325280, "comment_id": 102848205, "body": "Creating a logger with <code>__name__</code> also did not work for me. Maybe because I&#39;m using a standalone script and not a &quot;module&quot; ? What worked for me was to configure logging for imported modules (<code>matpplotlib</code>, in my case) via <code>logging.getLogger(&quot;matplotlib&quot;).setLevel(logging.WARNING)</code> and for my script via <code>logging.basicConfig</code>."}, {"owner": {"reputation": 65, "user_id": 11317673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tNdAC.jpg?s=128&g=1", "display_name": "timdadev", "link": "https://stackoverflow.com/users/11317673/timdadev"}, "edited": false, "score": 2, "creation_date": 1600110892, "post_id": 35325280, "comment_id": 112979206, "body": "I just wanted to highlightthe value of your line &quot;Obviously you have to use <code>logger.debug</code> instead of <code>logging.debug</code>&quot;. It&#39;s an easy mistake to make using <i>logging</i> instead of <i>logger</i> but it usurps all of the clever configuration you want to set up. I&#39;ve spent the last couple of hours living this!"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 0, "creation_date": 1600517946, "post_id": 35325280, "comment_id": 113116704, "body": "@bli There is a big difference between logging when developing a library vs when developing an executable. Basically: if you are writing a module/package which is meant to be imported you should <b>not</b> configure anything. The module should only contain the <code>logger = logging.getLogger(&#39;package.my_module&#39;)</code> and your could calls <code>logger.debug&#47;warning</code>, no configuring of logging levels or handlers. When you write the binary application <i>there</i> you should decide the level for the various logs and the handlers. Libraries that contain logging configuration will always be an issue."}, {"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1601623292, "post_id": 35325280, "comment_id": 113469400, "body": "In my case, the package I import uses the root logger (via <code>logging.info</code>). Is there any way to specifically disable root logs from this package?"}, {"owner": {"reputation": 800, "user_id": 6393275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7521c097158639d0a2f5eb65aa57e6?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/6393275/alex"}, "edited": false, "score": 2, "creation_date": 1605032769, "post_id": 35325280, "comment_id": 114527196, "body": "I have no idea why this is so difficult in python. Its sad"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 2, "creation_date": 1605345989, "post_id": 35325280, "comment_id": 114625936, "body": "@IanS No, that&#39;s why libraries should <b>not</b> use the root logger. Please open a bug report to that library and tell them to use <code>logging.getLogger(__name__)</code> instead."}], "tags": [], "owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "is_accepted": true, "score": 89, "last_activity_date": 1570106374, "last_edit_date": 1570106374, "creation_date": 1455136168, "answer_id": 35325280, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/35325280#35325280", "title": "Python Logging - Disable logging from imported modules", "body": "<p>The problem is that calling <a href=\"https://docs.python.org/3.5/library/logging.html#logging.getLogger\" rel=\"noreferrer\"><code>getLogger</code></a> without arguments returns the <em>root</em> logger so when you set the level to <code>logging.DEBUG</code> you are also setting the level for other modules that use that logger.</p>\n\n<p>You can solve this by simply <em>not</em> using the root logger. To do this just pass a name as argument, for example the name of your module:</p>\n\n<pre><code>logger = logging.getLogger('my_module_name')\n# as before\n</code></pre>\n\n<p>this will create a new logger and thus it wont inadvertently change logging level for other modules.</p>\n\n<hr>\n\n<p>Obviously you have to use <code>logger.debug</code> instead of <code>logging.debug</code> since the latter is a convenience function that calls the <code>debug</code> method of the root logger.</p>\n\n<p>This is mentioned in the <a href=\"https://docs.python.org/3.5/howto/logging.html#logging-advanced-tutorial\" rel=\"noreferrer\">Advanced Logging Tutorial</a>. It also allows you to know which module triggered the log message in a simple way.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 5874356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33ee5758dfef6beee8636ba442b0334a?s=128&d=identicon&r=PG&f=1", "display_name": "apex-meme-lord", "link": "https://stackoverflow.com/users/5874356/apex-meme-lord"}, "is_accepted": false, "score": 9, "last_activity_date": 1455136658, "creation_date": 1455136658, "answer_id": 35325417, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/35325417#35325417", "title": "Python Logging - Disable logging from imported modules", "body": "<p>@Bakuriu quite elegantly explains the function.  Conversely, you can use the <code>getLogger()</code> method to retrieve and reconfigure/disable the unwanted loggers.</p>\n\n<p>I also wanted to add the <code>logging.fileConfig()</code> method accepts a parameter called <code>disable_existing_loggers</code> which will disable any loggers previously defined (i.e., in imported modules).</p>\n"}, {"comments": [{"owner": {"reputation": 6990, "user_id": 2441026, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/460589db7e2073ceeffefff79bafa068?s=128&d=identicon&r=PG", "display_name": "user136036", "link": "https://stackoverflow.com/users/2441026/user136036"}, "edited": false, "score": 16, "creation_date": 1519095203, "post_id": 35326281, "comment_id": 84758349, "body": "Be aware, that when you try to configure your loggers like in the official basic tutorial with <code>logging.basicConfig(...)</code> all loggers will now either output to <code>logging.lastResort</code> (starting with Python 3.2, which is stderr) if no handler was given or to the handler you set. So do not use it or you will continue getting all log messages anyway."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 53, "last_activity_date": 1455212479, "last_edit_date": 1455212479, "creation_date": 1455139648, "answer_id": 35326281, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/35326281#35326281", "title": "Python Logging - Disable logging from imported modules", "body": "<p>If you're going to use the python <code>logging</code> package, it's a common convention to define a logger in every module that uses it.</p>\n\n<pre><code>logger = logging.getLogger(__name__)\n</code></pre>\n\n<p>Many popular python packages do this, including <a href=\"https://github.com/kennethreitz/requests/blob/master/requests/__init__.py\" rel=\"noreferrer\"><code>requests</code></a>.  If a package uses this convention, it's easy to enable/disable logging for it, because the logger name will be the same name as the package (or will be a child of that logger).  You can even log it to the same file as your other loggers.</p>\n\n<pre><code>logger = logging.getLogger(__name__)\nlogger.setLevel(logging.DEBUG)\n\nrequests_logger = logging.getLogger('requests')\nrequests_logger.setLevel(logging.DEBUG)\n\nhandler = logging.StreamHandler()\nhandler.setLevel(logging.DEBUG)\nlogger.addHandler(handler)\nrequests_logger.addHandler(handler)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6990, "user_id": 2441026, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/460589db7e2073ceeffefff79bafa068?s=128&d=identicon&r=PG", "display_name": "user136036", "link": "https://stackoverflow.com/users/2441026/user136036"}, "edited": false, "score": 1, "creation_date": 1519150239, "post_id": 47685462, "comment_id": 84788683, "body": "This works for <code>request</code> for example, but it will not work when the imported modules create their loggers inside their class you&#39;d call later, like the <code>APScheduler</code> does when you call <code>BackgroundScheduler.BackgroundScheduler()</code>. See here for a solution: <a href=\"https://stackoverflow.com/a/48891485/2441026\">stackoverflow.com/a/48891485/2441026</a>"}, {"owner": {"reputation": 1523, "user_id": 4015990, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/486e4bc336b1014ea0a13f4d8484428e?s=128&d=identicon&r=PG&f=1", "display_name": "user4015990", "link": "https://stackoverflow.com/users/4015990/user4015990"}, "edited": false, "score": 0, "creation_date": 1588265077, "post_id": 47685462, "comment_id": 108839021, "body": "This works for my case with yaml configuration file"}, {"owner": {"reputation": 6036, "user_id": 1717828, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b52e6a27ec5f0cee4f12713f058923f2?s=128&d=identicon&r=PG", "display_name": "user1717828", "link": "https://stackoverflow.com/users/1717828/user1717828"}, "edited": false, "score": 0, "creation_date": 1607447669, "post_id": 47685462, "comment_id": 115273315, "body": "Note that you have to <code>import logging.config</code>, not just logging."}, {"owner": {"reputation": 629, "user_id": 10189759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9NM2ek_pWE8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pYeLmZYJycfUSX4EVUB7KyLC4xpQ/mo/photo.jpg?sz=128", "display_name": "Luk Aron", "link": "https://stackoverflow.com/users/10189759/luk-aron"}, "edited": false, "score": 0, "creation_date": 1610787024, "post_id": 47685462, "comment_id": 116246016, "body": "what if the imported module originally has a handler or something, does this also disable those handlers?"}], "tags": [], "owner": {"reputation": 483, "user_id": 1137803, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2037492c4886bfa916bfd649fe53ca71?s=128&d=identicon&r=PG", "display_name": "avv", "link": "https://stackoverflow.com/users/1137803/avv"}, "is_accepted": false, "score": 14, "last_activity_date": 1607447694, "last_edit_date": 1607447694, "creation_date": 1512604701, "answer_id": 47685462, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/47685462#47685462", "title": "Python Logging - Disable logging from imported modules", "body": "<p>This disables all existing loggers, such as those created by imported modules, while still using the root logger (and without having to load an external file).</p>\n<pre><code>import logging.config\nlogging.config.dictConfig({\n    'version': 1,\n    'disable_existing_loggers': True,\n})\n</code></pre>\n<p><em>Note that you need to import all modules you don't want logged first!</em> Otherwise those won't be considered as &quot;existing loggers&quot;. It will then disable all loggers from those modules. This might lead you to also miss out on important errors!</p>\n<p>For more detailed examples using related options for configuration, see <a href=\"https://gist.github.com/st4lk/6287746\" rel=\"nofollow noreferrer\">https://gist.github.com/st4lk/6287746</a>, and <a href=\"https://gist.github.com/st4lk/6287746\" rel=\"nofollow noreferrer\">here</a> is a (partially working) example using YAML for config with the <code>coloredlog</code> library.</p>\n"}, {"comments": [{"owner": {"reputation": 1866, "user_id": 2469567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd561779d8779ac6d0f985102776c45c?s=128&d=identicon&r=PG", "display_name": "foxiris", "link": "https://stackoverflow.com/users/2469567/foxiris"}, "edited": false, "score": 0, "creation_date": 1557139440, "post_id": 51529172, "comment_id": 98652868, "body": "I got error: &#39;Logger&#39; object has no attribute &#39;DEBUG&#39;.  <code>logger.DEBUG</code> should be <code>logging.DEBUG</code>"}, {"owner": {"reputation": 101, "user_id": 8112147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59579d9151fd5148b5bd05c41d68dff7?s=128&d=identicon&r=PG&f=1", "display_name": "gph", "link": "https://stackoverflow.com/users/8112147/gph"}, "edited": false, "score": 0, "creation_date": 1567675586, "post_id": 51529172, "comment_id": 102036632, "body": "Thanks! It really helps! I set matplotlib logging level after my main logging configuration and before the command which will import matplotlib. Solved!"}, {"owner": {"reputation": 766, "user_id": 9437711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v64vg.jpg?s=128&g=1", "display_name": "End-2-End", "link": "https://stackoverflow.com/users/9437711/end-2-end"}, "edited": false, "score": 0, "creation_date": 1603466230, "post_id": 51529172, "comment_id": 114055327, "body": "I&#39;ve set logging for <code>matplotlib</code> to <code>WARNING</code> <b>after</b> I&#39;ve imported the module, since adding it before importing would give a lint-error. It still worked for me. I&#39;m using <code>matplotlib==3.3.2</code> in Python 3.7 if it helps."}], "tags": [], "owner": {"reputation": 566, "user_id": 8309633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d40f2d2f642b41c4f190e0be6a0932c?s=128&d=identicon&r=PG&f=1", "display_name": "Finn", "link": "https://stackoverflow.com/users/8309633/finn"}, "is_accepted": false, "score": 50, "last_activity_date": 1563910792, "last_edit_date": 1563910792, "creation_date": 1532562581, "answer_id": 51529172, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/51529172#51529172", "title": "Python Logging - Disable logging from imported modules", "body": "<p>Not sure if this is appropriate to post, but I was stuck for a long time &amp; wanted to help out anyone with the same issue, as I hadn't found it anywhere else! </p>\n\n<p>I was getting debug logs from matplotlib despite following the pretty straightforward documentation at the <a href=\"https://docs.python.org/3.5/howto/logging.html#logging-advanced-tutorial\" rel=\"noreferrer\">logging advanced tutorial</a>\nand the <a href=\"https://matplotlib.org/faq/troubleshooting_faq.html\" rel=\"noreferrer\">troubleshooting</a>. I was initiating my logger in <code>main()</code> of one file and importing a function to create a plot from another file (where I had imported matplotlib). </p>\n\n<p>What worked for me was setting the level of matplotlib <em>before</em> importing it, rather than after as I had for other modules in my main file.  This seemed counterintuitive to me so if anyone has insight into how you can set the config for a logger that hasn't been imported yet I'd be curious to find out how this works. Thanks! </p>\n\n<p>In my main file:</p>\n\n<pre><code>import logging\nimport requests\nlogger = logging.getLogger(__name__)\nlogger.setLevel(logging.DEBUG)\nlogging.getLogger('requests').setLevel(logging.DEBUG)\n\ndef main():\n  ...\n</code></pre>\n\n<p>In my <code>plot.py</code> file:</p>\n\n<pre><code>import logging\nlogging.getLogger('matplotlib').setLevel(logging.WARNING)\nimport matplotlib.pyplot as plt\n\ndef generatePlot():\n  ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8974647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/32Gwa.png?s=128&g=1", "display_name": "Kamiku", "link": "https://stackoverflow.com/users/8974647/kamiku"}, "is_accepted": false, "score": 5, "last_activity_date": 1568449172, "creation_date": 1568449172, "answer_id": 57933716, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/57933716#57933716", "title": "Python Logging - Disable logging from imported modules", "body": "<p>You could use something like:</p>\n\n<pre><code>logging.getLogger(\"imported_module\").setLevel(logging.WARNING)\nlogging.getLogger(\"my_own_logger_name\").setLevel(logging.DEBUG)\n</code></pre>\n\n<p>This will set my own module's log level to DEBUG, while preventing the imported module from using the same level.</p>\n\n<p>Note:\n<code>\"imported_module\"</code> can be replaced with <code>imported_module.__name__</code> (without quotes), and <code>\"my_own_logger_name\"</code> can be replaced by <code>__name__</code> if that's the way you prefer to do it.</p>\n"}, {"tags": [], "owner": {"reputation": 3205, "user_id": 3842788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/81a5bc23ab94f25a1ee37f99a80853d2?s=128&d=identicon&r=PG&f=1", "display_name": "Aseem", "link": "https://stackoverflow.com/users/3842788/aseem"}, "is_accepted": false, "score": 1, "last_activity_date": 1584665233, "last_edit_date": 1584665233, "creation_date": 1584331942, "answer_id": 60700241, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/60700241#60700241", "title": "Python Logging - Disable logging from imported modules", "body": "<p>I had the same problem.\nI have a logging_config.py file which I import in all other py files. \nIn logging_config.py file I set root logger logging level to ERROR (by default its warning):</p>\n\n<pre><code>logging.basicConfig(\n    handlers=[\n        RotatingFileHandler('logs.log',maxBytes=1000, backupCount=2),\n        logging.StreamHandler(), #print to console\n    ],\n    level=logging.ERROR\n)\n</code></pre>\n\n<p>In other modules I import logging_config.py and declare a new logger and set its level to debug:</p>\n\n<pre><code>log = logging.getLogger(__name__)\nlog.setLevel(logging.DEBUG)\n</code></pre>\n\n<p>This way everything I log in my py files is logged, but stuff logged at debug and info level by imported modules like urllib, request,boto3 etc is not logged. If there is some error in those import module then its logged, since I set root loggers level to ERROR. </p>\n"}, {"tags": [], "owner": {"reputation": 712, "user_id": 2979908, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BIEam.jpg?s=128&g=1", "display_name": "Andrea Bisello", "link": "https://stackoverflow.com/users/2979908/andrea-bisello"}, "is_accepted": false, "score": 1, "last_activity_date": 1596555476, "last_edit_date": 1596555476, "creation_date": 1596548958, "answer_id": 63248331, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/63248331#63248331", "title": "Python Logging - Disable logging from imported modules", "body": "<p>Another thing to consider is the <a href=\"https://docs.python.org/3/library/logging.html#logging.Logger.propagate\" rel=\"nofollow noreferrer\">propagate</a> property of the Logger class.</p>\n<p>For example, py-suds library for handling soap calls, even put to ERROR</p>\n<pre><code>logging.getLogger('suds.client').setLevel(logging.ERROR)\nlogging.getLogger('suds.transport').setLevel(logging.ERROR)\nlogging.getLogger('suds.xsdschema').setLevel(logging.ERROR)\nlogging.getLogger('suds.wsdl').setLevel(logging.ERROR)\n</code></pre>\n<p>logs logs about a module called sxbasics.py creationg a huge amount of logs</p>\n<p><a href=\"https://i.stack.imgur.com/CoLUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoLUb.png\" alt=\"enter image description here\" /></a></p>\n<p>that because the propagation of the logs is True by default, setting to False, instead, i recovered 514MB of logs.</p>\n<pre><code>import logging\nlogging.getLogger(&quot;suds&quot;).propagate = False\nlogging.getLogger('suds.client').setLevel(logging.ERROR)\nlogging.getLogger('suds.transport').setLevel(logging.ERROR)\nlogging.getLogger('suds.xsdschema').setLevel(logging.ERROR)\nlogging.getLogger('suds.wsdl').setLevel(logging.ERROR)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 14270189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhScYWMbn9Dv3Pfkua9fS6eVNbXcTS2OPbRxjA-=k-s128", "display_name": "MaxCode", "link": "https://stackoverflow.com/users/14270189/maxcode"}, "is_accepted": false, "score": 2, "last_activity_date": 1605989743, "creation_date": 1605989743, "answer_id": 64947623, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/64947623#64947623", "title": "Python Logging - Disable logging from imported modules", "body": "<p>Simply doing something like this solves the problem:</p>\n<pre><code>logging.config.dictConfig({'disable_existing_loggers': True,})\n</code></pre>\n<blockquote>\n<p><strong>NOTE</strong>: Wherever you're placing this line, make sure all the imports everywhere in your project are done within that file itself. :)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13231446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a06ab6acb7439df98640df20bdc65?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Davalos", "link": "https://stackoverflow.com/users/13231446/eduardo-davalos"}, "is_accepted": false, "score": 0, "last_activity_date": 1614145097, "creation_date": 1614145097, "answer_id": 66345269, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules/66345269#66345269", "title": "Python Logging - Disable logging from imported modules", "body": "<p>After trying various answers in this thread and other forums, I found this method efficient at silencing other modules' loggers. This was inspired by the following link:</p>\n<p><a href=\"https://kmasif.com/2019-11-12-ignore-logging-from-imported-module/\" rel=\"nofollow noreferrer\">https://kmasif.com/2019-11-12-ignore-logging-from-imported-module/</a></p>\n<pre><code>import logging\n# Initialize your own logger\nlogger = logging.getLogger('&lt;module name&gt;')\nlogger.setLevel(logging.DEBUG)\n\n# Silence other loggers\nfor log_name, log_obj in logging.Logger.manager.loggerDict.items():\n     if log_name != '&lt;module name&gt;':\n          log_obj.disabled = True\n\n</code></pre>\n<p>Note that you would want to do this after importing other modules. However, I found this to be a convenient and fast way to disabled other modules' loggers.</p>\n"}], "owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69597, "favorite_count": 32, "accepted_answer_id": 35325280, "answer_count": 10, "score": 123, "last_activity_date": 1614145097, "creation_date": 1455135424, "last_edit_date": 1495540985, "question_id": 35325042, "link": "https://stackoverflow.com/questions/35325042/python-logging-disable-logging-from-imported-modules", "title": "Python Logging - Disable logging from imported modules", "body": "<p>I'm using the Python logging module, and would like to disable log messages printed by the third party modules that I import.  For example, I'm using something like the following:</p>\n\n<pre><code>logger = logging.getLogger()\nlogger.setLevel(level=logging.DEBUG)\nfh = logging.StreamHandler()\nfh_formatter = logging.Formatter('%(asctime)s %(levelname)s %(lineno)d:%(filename)s(%(process)d) - %(message)s')\nfh.setFormatter(fh_formatter)\nlogger.addHandler(fh)\n</code></pre>\n\n<p>This prints out my debug messages when I do a logger.debug(\"my message!\"), but it also prints out the debug messages from any module I import (such as requests, and a number of other things).</p>\n\n<p>I'd like to see only the log messages from modules I'm interested in.  Is it possible to make the logging module do this?</p>\n\n<p>Ideally, I'd like to be able tell the logger to print messages from \"ModuleX, ModuleY\" and ignore all others.</p>\n\n<p>I looked at the following, but I don't want to have to disable/enable logging before every call to an imported function:\n<a href=\"https://stackoverflow.com/questions/27685568/logging-how-to-ignore-imported-module-logs\">logging - how to ignore imported module logs?</a></p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "logging"], "comments": [{"owner": {"reputation": 11090, "user_id": 260365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/263YR.jpg?s=128&g=1", "display_name": "JCotton", "link": "https://stackoverflow.com/users/260365/jcotton"}, "edited": false, "score": 2, "creation_date": 1455135453, "post_id": 35324959, "comment_id": 58358983, "body": "dynamically changing the timezone of a logging process? yikes that sounds like a nightmare. UTC and be done with it."}, {"owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "reply_to_user": {"reputation": 11090, "user_id": 260365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/263YR.jpg?s=128&g=1", "display_name": "JCotton", "link": "https://stackoverflow.com/users/260365/jcotton"}, "edited": false, "score": 0, "creation_date": 1455135793, "post_id": 35324959, "comment_id": 58359143, "body": "Its one of the corner case where TZ is set after the process is started and process picks up the default (UTC) timezone. Perhaps its a configuration issue. However, when a timezone is later configured, it should also be updated in the logging? What does python logger provides in this case?"}], "owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455135613, "creation_date": 1455135159, "last_edit_date": 1455135613, "question_id": 35324959, "link": "https://stackoverflow.com/questions/35324959/dynamic-timezone-configuration-in-python-logger", "title": "Dynamic timezone configuration in python logger", "body": "<p>In the implementation I have:</p>\n\n<pre><code>config = yaml.load(f.read())\nlogging.config.dictConfig(config)\nlogging.Formatter('%(asctime)s - %(message)s')\n\nlogger = logging.getLogger(__name__)\nlogger.debug(\"logger initialized...\") \n</code></pre>\n\n<p>The application when starts, uses the timezone from TZ variable. However, when this timezone is changed later for some reason, it does not reflect in the python logger which is already running. </p>\n\n<p>Is it possible to set the timezone dynamically in a already running process, which is using the python logger?</p>\n"}, {"tags": ["python", "class", "matplotlib"], "comments": [{"owner": {"reputation": 382, "user_id": 5758899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84804ba7c6e4a42a67b3966b8fe020fd?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael Infante", "link": "https://stackoverflow.com/users/5758899/ismael-infante"}, "edited": false, "score": 0, "creation_date": 1455187336, "post_id": 35324954, "comment_id": 58381435, "body": "Take a look at the for loop inside the <code>addNode</code> method. You are calling the <code>connect</code> over the same object."}, {"owner": {"reputation": 517, "user_id": 5556018, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-nKluQavDpu8/AAAAAAAAAAI/AAAAAAAAAME/4DV85y5sY9k/photo.jpg?sz=128", "display_name": "Pablo Flores", "link": "https://stackoverflow.com/users/5556018/pablo-flores"}, "reply_to_user": {"reputation": 382, "user_id": 5758899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84804ba7c6e4a42a67b3966b8fe020fd?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael Infante", "link": "https://stackoverflow.com/users/5758899/ismael-infante"}, "edited": false, "score": 0, "creation_date": 1455195965, "post_id": 35324954, "comment_id": 58387453, "body": "Thank you for your answer. That is what i want, to be calling the object so it moves every time that i click on it. Or do you refer to another issue?"}], "owner": {"reputation": 517, "user_id": 5556018, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-nKluQavDpu8/AAAAAAAAAAI/AAAAAAAAAME/4DV85y5sY9k/photo.jpg?sz=128", "display_name": "Pablo Flores", "link": "https://stackoverflow.com/users/5556018/pablo-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1455200176, "creation_date": 1455135137, "last_edit_date": 1455200176, "question_id": 35324954, "link": "https://stackoverflow.com/questions/35324954/modifications-for-a-matplotlib-example-is-not-working-correctly", "title": "Modifications for a matplotlib example is not working correctly", "body": "<p>Iam trying to make a matplotlib note draggable using an example from the documents of matplotlib. This is the example called <a href=\"http://matplotlib.org/users/event_handling.html?highlight=drag\" rel=\"nofollow\">\"Draggable rectangle exercise\"</a>     </p>\n\n<p>So, i created a class that draws a <code>matplotlib</code> figure and have a method called <code>addNote</code> where my problem is. Here, is where i try to call the <code>DraggableNote</code>class like this:</p>\n\n<pre><code>class MatplotFigure(QMainWindow):\n    def __init__(self):\n      self.text_list =[]\n      self.notes_list = []\n      #A lot of stuff in here for creating the figure\n\n    def addNote(self, text):    #\"text\" is a variable that i get from another class\n      self.text_list.append(text)\n\n      notes = self.axes.annotate(text, xy=(0.2, 0.2))\n      dr = DraggableNote(notes)\n\n      for note in notes_list:\n         dr.connect()\n\n      self.figure_canvas.draw_idle()\n\n\nclass DraggableNote:\ndef __init__(self, notes):\n    self.rect = notes\n    self.press = None\n\ndef connect(self):\n    'connect to all the events we need'\n    self.cidpress = self.rect.figure.canvas.mpl_connect(\n        'button_press_event', self.on_press)\n    self.cidrelease = self.rect.figure.canvas.mpl_connect(\n        'button_release_event', self.on_release)\n    self.cidmotion = self.rect.figure.canvas.mpl_connect(\n        'motion_notify_event', self.on_motion)\n\n    print \"se conecto\"\n\ndef on_press(self, event):\n    'on button press we will see if the mouse is over us and store some data'\n    if event.inaxes != self.rect.axes: return\n\n    contains, attrd = self.rect.contains(event)\n    if not contains: return\n    print 'event contains', self.rect.xy\n    x0, y0 = self.rect.xy\n    self.press = x0, y0, event.xdata, event.ydata\n\n    print \"conectado a on_press\"\n\ndef on_motion(self, event):\n    'on motion we will move the rect if the mouse is over us'\n    if self.press is None: return\n    if event.inaxes != self.rect.axes: return\n    x0, y0, xpress, ypress = self.press\n    dx = event.xdata - xpress\n    dy = event.ydata - ypress\n    print 'x0=%f, xpress=%f, event.xdata=%f, dx=%f, x0+dx=%f'%(x0, xpress, event.xdata, dx, x0+dx)\n    self.rect.set_x(x0+dx)\n    self.rect.set_y(y0+dy)\n\n    self.rect.figure.canvas.draw()\n\n    print \"se conecto a on_motion\"\n\ndef on_release(self, event):\n    'on release we reset the press data'\n    self.press = None\n    self.rect.figure.canvas.draw()\n\n    print \"se conecto a on_release\"\n\ndef disconnect(self):\n    'disconnect all the stored connection ids'\n    self.rect.figure.canvas.mpl_disconnect(self.cidpress)\n    self.rect.figure.canvas.mpl_disconnect(self.cidrelease)\n    self.rect.figure.canvas.mpl_disconnect(self.cidmotion)\n\n    print \"se conecto a disconnect\"\n</code></pre>\n\n<h2>------------EDIT-------------</h2>\n\n<p>I change the original code that you can see above, because i solved the problem that i had before. So, i did no notice the mistake of writing the coordinates in the line:</p>\n\n<p><code>notes = self.axes.annotate(text, xy=(0.2, 0.2))</code></p>\n\n<p>because every time that i click in the stickynote that i create in the figure, it starts from the coordinates given in that line, that is <code>x = 0.2</code> and <code>y = 0.2</code>. </p>\n\n<p>The problem seems to be in the <code>on_press</code> method, in line:</p>\n\n<p><code>x0, y0 = self.rect.xy</code></p>\n\n<p>How can i refresh those coordinates every time that i move the stickynote?</p>\n\n<p>Hope you can help me.</p>\n"}, {"tags": ["python", "python-3.x", "math", "floating-point", "precision"], "answers": [{"comments": [{"owner": {"reputation": 7320, "user_id": 1175824, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GKjUX.png?s=128&g=1", "display_name": "steffen", "link": "https://stackoverflow.com/users/1175824/steffen"}, "edited": false, "score": 3, "creation_date": 1455135815, "post_id": 35325039, "comment_id": 58359153, "body": "mmph. I did read the documentation and noted that I could set the relative and absolute tolerances. But I somehow missed the default absolute tolerance being 0.0. Perhaps I should go to bed... Thanks David"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 3, "creation_date": 1455135897, "post_id": 35325039, "comment_id": 58359209, "body": "For completeness, the <a href=\"https://www.python.org/dev/peps/pep-0485/#absolute-tolerance-default\" rel=\"nofollow noreferrer\">original PEP</a> explains why the absolute tolerance is 0: <i>&quot;The absolute tolerance required to determine if a value is &quot;close&quot; to zero is entirely use-case dependent.&quot;</i>"}], "tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": true, "score": 22, "last_activity_date": 1455135411, "last_edit_date": 1592644375, "creation_date": 1455135411, "answer_id": 35325039, "question_id": 35324893, "link": "https://stackoverflow.com/questions/35324893/using-math-isclose-function-with-values-close-to-0/35325039#35325039", "title": "Using math.isclose function with values close to 0", "body": "<p>The answer can be worked out by reading the <a href=\"https://docs.python.org/3/library/math.html#math.isclose\" rel=\"noreferrer\">documentation</a>.</p>\n<blockquote>\n<pre><code>math.isclose(a, b, *, rel_tol=1e-09, abs_tol=0.0)\n</code></pre>\n<p>Return True if the values a and b are close to each other and False otherwise.</p>\n<p>Whether or not two values are considered close is determined according to given absolute and relative tolerances.</p>\n<p>rel_tol is the relative tolerance \u2013 it is the maximum allowed difference between a and b, relative to the larger absolute value of a or b. For example, to set a tolerance of 5%, pass rel_tol=0.05. The default tolerance is 1e-09, which assures that the two values are the same within about 9 decimal digits. rel_tol must be greater than zero.</p>\n<p>abs_tol is the minimum absolute tolerance \u2013 useful for comparisons near zero. abs_tol must be at least zero.</p>\n<p>If no errors occur, the result will be:</p>\n<pre><code>abs(a-b) &lt;= max(rel_tol * max(abs(a), abs(b)), abs_tol)\n</code></pre>\n</blockquote>\n<p>You use default tolerances which means that a relative tolerance check is used. And the equation above makes it clear why your expressions evaluates false.</p>\n<p>Consider the final expression in the question:</p>\n<pre><code>math.isclose(1.0e-100 , 0.0)\n</code></pre>\n<p>Plug these values into the expression from the documentation and we have</p>\n<pre><code>1.0e-100 &lt;= max(1.0e-9 * 1.0e-100, 0.0)\n</code></pre>\n<p>I think it should be obvious that when performing a relative tolerance comparison, using default tolerances, no non-zero value is deemed close to zero.</p>\n<p>For very small values you should perhaps use an absolute tolerance.</p>\n<p>Or you should re-write the test to avoid comparing against zero.</p>\n"}], "owner": {"reputation": 7320, "user_id": 1175824, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GKjUX.png?s=128&g=1", "display_name": "steffen", "link": "https://stackoverflow.com/users/1175824/steffen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17056, "favorite_count": 4, "accepted_answer_id": 35325039, "answer_count": 1, "score": 14, "last_activity_date": 1510775767, "creation_date": 1455134932, "last_edit_date": 1510775767, "question_id": 35324893, "link": "https://stackoverflow.com/questions/35324893/using-math-isclose-function-with-values-close-to-0", "title": "Using math.isclose function with values close to 0", "body": "<p>As we know, due to the binary representation of numbers, this expression evaluates to <code>False</code> (at least in Python):</p>\n\n<pre><code>0.2 + 0.4 == 0.6\n</code></pre>\n\n<p>In order to be able to check for equality within numerical errors, the module <code>math</code> offers <code>isclose</code>:</p>\n\n<pre><code>import math\nmath.isclose(0.2 + 0.4 , 0.6)\n</code></pre>\n\n<p>This last expression yields <code>True</code> as expected.</p>\n\n<p>Now <strong>why does this following expression is <code>False</code> again?</strong></p>\n\n<pre><code>math.isclose(0.2 + 0.4 - 0.6 , 0.0)\n</code></pre>\n\n<p>It appears that everything compared to <code>0.0</code> is <code>False</code></p>\n\n<pre><code>math.isclose(1.0e-100 , 0.0)\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1455136701, "post_id": 35324836, "comment_id": 58359706, "body": "Are you sure both have the same fill_value?  In my quick tests it looks like the result gets the fill_value from the first argument."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1455138035, "post_id": 35324836, "comment_id": 58360430, "body": "Thanks @hpaulj, just double checked, both have the same fill_value i.e. -9999.0"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1455141396, "post_id": 35324836, "comment_id": 58362202, "body": "I can reproduce this: <code>x = np.random.randn(10, 10); m = np.ma.masked_array(x, x &lt; 0.5, fill_value=1); (m * m).fill_value == 1e20</code>. This occurs regardless of the fill value, but not when using <code>np.multiply(m, m)</code> rather than the <code>*</code> operator."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1455141628, "post_id": 35324836, "comment_id": 58362306, "body": "This could be a regression - I see it in numpy 1.10.4, but not numpy 1.8.2. In fact, the same behavior occurs with <code>+</code>, <code>-</code>, <code>&#47;</code> etc., but not with <code>np.add</code>, <code>np.subtract</code>, <code>np.divide</code> etc."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1455141880, "post_id": 35324836, "comment_id": 58362432, "body": "cool @ali_m, sounds like a numpy bug? I am using numpy version 1.10.4"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1455146520, "post_id": 35324836, "comment_id": 58364420, "body": "I&#39;m pretty sure it was introduced in this commit: <a href=\"https://github.com/numpy/numpy/commit/3c6b6baba587297633b8744a3b2ade8644ad8a5e\" rel=\"nofollow noreferrer\">github.com/numpy/numpy/commit/&hellip;</a> which is present from v1.10.0 onwards. I&#39;m not 100% sure whether it should be considered a bug. Here is a related open issue: <a href=\"https://github.com/numpy/numpy/issues/3762\" rel=\"nofollow noreferrer\">github.com/numpy/numpy/issues/3762</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1455146657, "post_id": 35324836, "comment_id": 58364482, "body": "Related: <a href=\"http://stackoverflow.com/q/18879272/1461210\">stackoverflow.com/q/18879272/1461210</a>"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1455147032, "post_id": 35324836, "comment_id": 58364623, "body": "thanks @ali_m, i would be happy to accept an answer"}], "answers": [{"tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1455413041, "creation_date": 1455413041, "answer_id": 35387371, "question_id": 35324836, "link": "https://stackoverflow.com/questions/35324836/multiplying-masked-arrays-changes-fill-value-in-numpy/35387371#35387371", "title": "Multiplying masked arrays changes fill value in numpy", "body": "<p>The behaviour you're referring to was introduced by <a href=\"https://github.com/numpy/numpy/commit/3c6b6baba587297633b8744a3b2ade8644ad8a5e\" rel=\"nofollow\">this commit</a> from October 2013, which found its way into releases from v1.10.0 onwards.</p>\n\n<p>I'm not 100% sure whether or not it should be considered a bug. It seems unreasonable to me, but the documentation doesn't seem to specify what <em>should</em> happen to the fill value when a ufunc is applied to it. There are a <a href=\"https://github.com/numpy/numpy/issues/3762\" rel=\"nofollow\">couple</a> of related <a href=\"https://github.com/numpy/numpy/issues/7122\" rel=\"nofollow\">open issues</a> on the numpy GitHub tracker.</p>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 35387371, "answer_count": 1, "score": 3, "last_activity_date": 1455413041, "creation_date": 1455134730, "question_id": 35324836, "link": "https://stackoverflow.com/questions/35324836/multiplying-masked-arrays-changes-fill-value-in-numpy", "title": "Multiplying masked arrays changes fill value in numpy", "body": "<p>I have 2 masked arrays, both of the form:</p>\n\n<pre><code>masked_array(data =\n [[-- -- -- ..., -- -- --]\n [-- -- -- ..., -- -- --]\n [-- -- -- ..., -- -- --]\n ..., \n [-- -- -- ..., -- -- --]\n [-- -- -- ..., -- -- --]\n [-- -- -- ..., -- -- --]],\n             mask =\n [[ True  True  True ...,  True  True  True]\n [ True  True  True ...,  True  True  True]\n [ True  True  True ...,  True  True  True]\n ..., \n [ True  True  True ...,  True  True  True]\n [ True  True  True ...,  True  True  True]\n [ True  True  True ...,  True  True  True]],\n       fill_value = -9999.0)\n</code></pre>\n\n<p>When I multiply them, the fill_value changes to <code>fill_value = 1e+20</code></p>\n\n<p>Why is that happening? and how can I retain the previous fill value? This is how i am multpliying them:</p>\n\n<pre><code>array_a * array_b\n</code></pre>\n"}, {"tags": ["python", "list", "indexing"], "comments": [{"owner": {"reputation": 1769, "user_id": 879997, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c96ee08562add37a3a8923ff98d903f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/879997/andrew"}, "edited": false, "score": 0, "creation_date": 1455134956, "post_id": 35324785, "comment_id": 58358705, "body": "Did you test it? Try it out with some sample data. Finding a specific issue will help people debug it."}, {"owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "edited": false, "score": 0, "creation_date": 1455134998, "post_id": 35324785, "comment_id": 58358729, "body": "When you write  i[0] == i[5]  == i[10] ==  i[15] == i[20] this means they ALL equal each other. If you write i[0] == i[5] or i[0] == i[10] or ... you&#39;ll get what you want, but there are much better ways to solve this."}], "answers": [{"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1455135591, "last_edit_date": 1455135591, "creation_date": 1455135254, "answer_id": 35324992, "question_id": 35324785, "link": "https://stackoverflow.com/questions/35324785/detecting-duplicate-values-in-certain-indexes-in-a-list-of-lists/35324992#35324992", "title": "Detecting duplicate values in certain indexes in a list of lists", "body": "<p>The following would work:</p>\n\n<pre><code>puzzle = [[ 1,  2,  3,  4,  5],\n      [ 6,  2,  8,  9, 10],\n      [11, 12, 13, 14, 15],\n      [16, 17, 18, 19, 20],\n      [21, 22, 23, 24, 25]]\n\nprint sum(len(set(x)) for x in zip(*puzzle)) &lt; 25\n</code></pre>\n\n<p>This will display <code>True</code>.</p>\n\n<p>This works by taking the list of rows and converting it into a list of columns by using <code>zip(*puzzle)</code>. From here it creates a set from each column. If the size of the set is less than 5, then two items must be the same. So as you have 5 x 5, if the total is less than 25 then items must match somewhere.</p>\n\n<hr>\n\n<p>And as a function:</p>\n\n<pre><code>def check_columns_valid(puzzle):\n    return sum(len(set(x)) for x in zip(*puzzle)) &lt; 25\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "is_accepted": false, "score": 4, "last_activity_date": 1455135279, "creation_date": 1455135279, "answer_id": 35324999, "question_id": 35324785, "link": "https://stackoverflow.com/questions/35324785/detecting-duplicate-values-in-certain-indexes-in-a-list-of-lists/35324999#35324999", "title": "Detecting duplicate values in certain indexes in a list of lists", "body": "<p>You can use <code>zip</code> and sets to help with this.</p>\n\n<pre><code>def check_columns_valid(puzzle):\n    # Iterate over the puzzle one column at a time.\n    for column in zip(*puzzle):\n        # Get all of the unique values in the column.\n        uniques = set(column)\n        if len(uniques) != len(column):\n            # If the number of unique values isn't the same as the\n            # number of values, return False.\n            return False\n\n    return True\n</code></pre>\n\n<p>Or, if you're a fan of one-liners, all of this can be reduced to:</p>\n\n<pre><code>def check_columns_valid(puzzle):\n    return all(len(x) == len(set(x)) for x in zip(*puzzle))\n</code></pre>\n\n<p>Depending on the size of <code>puzzle</code>, if you're using Python 2.x, you probably want to considering using <code>izip</code> (<code>from itertools import izip</code>) rather than <code>zip</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1455139156, "creation_date": 1455139156, "answer_id": 35326118, "question_id": 35324785, "link": "https://stackoverflow.com/questions/35324785/detecting-duplicate-values-in-certain-indexes-in-a-list-of-lists/35326118#35326118", "title": "Detecting duplicate values in certain indexes in a list of lists", "body": "<p>The above answers are great, and demonstrate how to use Python's large library of built-in functions to your advantage.  Less code is better!</p>\n\n<p>However, if you'd like to see an answer that does it \"the hard way\", for educational purposes:</p>\n\n<pre><code>def check_columns_valid(puzzle):\n    # check each item against later items in the same column\n    for row in range(0, len(puzzle)):\n        for column in range(0, len(puzzle[0])):\n            if puzzle[row][column] in [puzzle[r][column] for r in range(row+1, 5)]:\n                return False\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5910307"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1455139156, "creation_date": 1455134552, "last_edit_date": 1455137409, "question_id": 35324785, "link": "https://stackoverflow.com/questions/35324785/detecting-duplicate-values-in-certain-indexes-in-a-list-of-lists", "title": "Detecting duplicate values in certain indexes in a list of lists", "body": "<p>I'm using a list of lists (to resemble a puzzle) and trying to write a function that will return 'False' if there's at least one duplicate values in the same index as another list (which can be seen as columns, visually) (and True if otherwise). For example:</p>\n\n<pre><code>List = [[ 1,  2,  3,  4,  5],\n          [ 6,  7,  8,  9, 10],\n          [11, 12, 13, 14, 15],\n          [16, 17, 18, 19, 20],\n          [21, 22, 23, 24, 25]]\n</code></pre>\n\n<p>should return 'True' since nothing repeats\nbut:</p>\n\n<pre><code>List = [[ 1,  2,  3,  4,  5],\n          [ 6,  2,  8,  9, 10],\n          [11, 12, 13, 14, 15],\n          [16, 17, 18, 19, 20],\n          [21, 22, 23, 24, 25]]\n</code></pre>\n\n<p>should return \"False\" since there is a value of \"2\" in the list1 of index[1] and value of \"2\" in list2 with the index of [1] as well.</p>\n\n<p>the way I wrote the function is below</p>\n\n<pre><code>def check_columns_valid(list):\n\n  for i in range(len(list)):\n     if i[0] == i[5]  == i[10] ==  i[15] == i[20]:\n        return False\n     elif i[1] == i[6] == i[11] == i[16] == i[21]:\n        return False\n     elif i[2] == i[7] == i[12] == i[17] == i[22]:\n        return False\n     elif i[3] == i[8] == i[13] == i[18] == i[23]:\n        return False\n     elif i[4] == i[9] == i[14] == i[19] == i[24]:\n        return False\n   return True\n</code></pre>\n\n<p>I was trying to check if certain indexes equaled each other but it may be that my code will only return 'False' if ALL indexes equal each other and I only need at least one. And I'm also unsure if this is way of doing it is even valid at all. I don't know if I'm skipping steps.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 1, "creation_date": 1455134853, "post_id": 35324754, "comment_id": 58358643, "body": "Can you have repeated elements in the same list?"}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 1, "creation_date": 1455134878, "post_id": 35324754, "comment_id": 58358657, "body": "Is the order important?"}, {"owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "edited": false, "score": 0, "creation_date": 1455135019, "post_id": 35324754, "comment_id": 58358742, "body": "if you have n lists (and assuming no repeats), you want the numbers that occur between 1 and n-1 times across all lists right?"}], "answers": [{"comments": [{"owner": {"reputation": 2737, "user_id": 2063292, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f48b5ac8cf0f847672c3044810cdd0ba?s=128&d=identicon&r=PG", "display_name": "Ben S.", "link": "https://stackoverflow.com/users/2063292/ben-s"}, "edited": false, "score": 2, "creation_date": 1455135856, "post_id": 35324839, "comment_id": 58359187, "body": "What if you don&#39;t know how many of l1, l2, l3, ... there might be? Can you apply union to a list of lists, for instance?"}, {"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1455136066, "post_id": 35324839, "comment_id": 58359312, "body": "That&#39;s why  I posted a separate answer"}, {"owner": {"reputation": 2737, "user_id": 2063292, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f48b5ac8cf0f847672c3044810cdd0ba?s=128&d=identicon&r=PG", "display_name": "Ben S.", "link": "https://stackoverflow.com/users/2063292/ben-s"}, "edited": false, "score": 1, "creation_date": 1455136255, "post_id": 35324839, "comment_id": 58359424, "body": "I selected kdopen&#39;s as it was written more generally, but thanks for this one"}], "tags": [], "owner": {"reputation": 2441, "user_id": 1539142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LX6Ke.png?s=128&g=1", "display_name": "StephenTG", "link": "https://stackoverflow.com/users/1539142/stephentg"}, "is_accepted": false, "score": 4, "last_activity_date": 1455136205, "last_edit_date": 1455136205, "creation_date": 1455134734, "answer_id": 35324839, "question_id": 35324754, "link": "https://stackoverflow.com/questions/35324754/find-elements-that-occur-in-some-but-not-all-lists/35324839#35324839", "title": "Find elements that occur in some but not all lists", "body": "<p>You could take the intersection of all the lists as a set, and the union of all the lists as a set, and take all elements in the union that are not in the intersection. There are <code>union</code>, <code>intersection</code>, and <code>difference</code> methods to handle this that are documented <a href=\"https://docs.python.org/2/library/stdtypes.html#set\" rel=\"nofollow\">here</a></p>\n\n<pre><code>&gt;&gt;&gt; union_set = set(l1).union(l2,l3)\n&gt;&gt;&gt; intersection_set = set(l1).intersection(l2,l3)\n&gt;&gt;&gt; union_set - intersection_set\nset([0, 2, 6, 7])\n</code></pre>\n\n<p>Or, as kdopen's answer shows, you can create a list of sets if you don't know the exact number of lists you'll be dealing with</p>\n"}, {"comments": [{"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1455135254, "post_id": 35324914, "comment_id": 58358882, "body": "This is exactly what I was about to post +1"}, {"owner": {"reputation": 2737, "user_id": 2063292, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f48b5ac8cf0f847672c3044810cdd0ba?s=128&d=identicon&r=PG", "display_name": "Ben S.", "link": "https://stackoverflow.com/users/2063292/ben-s"}, "edited": false, "score": 0, "creation_date": 1455136270, "post_id": 35324914, "comment_id": 58359441, "body": "This is cool but I went with generality for the selected answer."}, {"owner": {"reputation": 1875, "user_id": 5057191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3a861c87b46363f63080839bbc699f2?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. E", "link": "https://stackoverflow.com/users/5057191/mr-e"}, "edited": false, "score": 0, "creation_date": 1455137510, "post_id": 35324914, "comment_id": 58360136, "body": "This will only work properly if inner lists doesn&#39;t have repeated elements"}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": false, "score": 4, "last_activity_date": 1455135017, "creation_date": 1455135017, "answer_id": 35324914, "question_id": 35324754, "link": "https://stackoverflow.com/questions/35324754/find-elements-that-occur-in-some-but-not-all-lists/35324914#35324914", "title": "Find elements that occur in some but not all lists", "body": "<p>If we assume each list contains an element at most once then you can use a counter to count the number of occurrences of each element. Then you can choose the elements that don't occur as many times as the number of input lists:</p>\n\n<pre><code>from itertools import chain\nfrom collections import Counter\n\nlists = [\n    [0, 3, 4],\n    [2, 3, 4, 7],\n    [2, 3, 4, 6]\n]\n\nprint [x for x, c in Counter(chain(*lists)).items() if c != len(lists)]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[0, 2, 6, 7]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "is_accepted": true, "score": 6, "last_activity_date": 1455136000, "creation_date": 1455136000, "answer_id": 35325232, "question_id": 35324754, "link": "https://stackoverflow.com/questions/35324754/find-elements-that-occur-in-some-but-not-all-lists/35325232#35325232", "title": "Find elements that occur in some but not all lists", "body": "<p>The answer is implied in your question .. if you substitute \"set\" for \"lists\". As StephenTG posted, simply get the difference between the union and the intersection of all lists.</p>\n\n<p>The advantage of using sets over <code>Counter</code> is that you need make no assumptions about values appearing only once in each list.</p>\n\n<p>The following works regardless of how many lists you have:</p>\n\n<pre><code>&gt; list_of_sets = [set(l) for l in lists]\n&gt; set.union(*list_of_sets) - set.intersection(*list_of_sets)\n{0, 2, 6, 7}\n</code></pre>\n"}], "owner": {"reputation": 2737, "user_id": 2063292, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f48b5ac8cf0f847672c3044810cdd0ba?s=128&d=identicon&r=PG", "display_name": "Ben S.", "link": "https://stackoverflow.com/users/2063292/ben-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 35325232, "answer_count": 3, "score": 13, "last_activity_date": 1455136205, "creation_date": 1455134416, "last_edit_date": 1455134859, "question_id": 35324754, "link": "https://stackoverflow.com/questions/35324754/find-elements-that-occur-in-some-but-not-all-lists", "title": "Find elements that occur in some but not all lists", "body": "<p>Suppose I have several lists of integers like so:</p>\n\n<pre><code>[0,3,4]\n[2,3,4,7]\n[2,3,4,6]\n</code></pre>\n\n<p>What's the most efficient / most pythonic way to build a single list of all elements that occur in at least one list but do not occur in all lists? In this case it would be</p>\n\n<pre><code>[0,2,7,6]\n</code></pre>\n"}, {"tags": ["python", "view", "pyqt4"], "comments": [{"owner": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "edited": false, "score": 0, "creation_date": 1455138641, "post_id": 35324749, "comment_id": 58360745, "body": "Why not use a QStackedLayout and let it do the hard work? <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qstackedlayout.html\" rel=\"nofollow noreferrer\">pyqt.sourceforge.net/Docs/PyQt4/qstackedlayout.html</a>"}, {"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "reply_to_user": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "edited": false, "score": 0, "creation_date": 1455139325, "post_id": 35324749, "comment_id": 58361133, "body": "Ha Ha... that thought crossed my mind as well as using tabwidget AND I was just about to do just that when.... I resolved it.  Simple answer.. just setFocus on an object in the corresponding view that was just made visible. I may still do a tabwidget anyway.  Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "is_accepted": true, "score": 0, "last_activity_date": 1455139649, "creation_date": 1455139649, "answer_id": 35326282, "question_id": 35324749, "link": "https://stackoverflow.com/questions/35324749/pyqt-independent-keypressevent-between-2-different-views-on-a-form/35326282#35326282", "title": "PyQt: Independent KeyPressEvent between 2 different views on a form", "body": "<p>If you setFocus on an object in the corresponding view that was just made visible, then only that view's keyPressEvent will be triggered.  No need to disable or enable keypress events.  The focus does this automatically.</p>\n\n<p>The solution above is the answer to the question.  However, I may change from using QAction buttons to trigger changing the views, to using a tabwidget to change the views instead.  </p>\n"}], "owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35326282, "answer_count": 1, "score": 0, "last_activity_date": 1455139649, "creation_date": 1455134404, "question_id": 35324749, "link": "https://stackoverflow.com/questions/35324749/pyqt-independent-keypressevent-between-2-different-views-on-a-form", "title": "PyQt: Independent KeyPressEvent between 2 different views on a form", "body": "<p>I have a Python PyQt program which has a QWidget on the main window.\nI added 2 different views into the same QWidget.\nWhen the user clicks Button1, I show view1 and hide view2.\nWhen the user clicks Button2, I show view2 and hide view1.\nEach view has its own KeyPressEvent for using arrow keys to page through records in the view.</p>\n\n<p>I don't want to page through records in both views simultaneously, I just need to page the records of the active view.</p>\n\n<p>How can I disable/enable the appropriate KeyPressEvent when the corresponding view is active.  Or is the a better approach? </p>\n\n<p>Apologies for no code, but it is difficult to simplify my working example.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1455136970, "post_id": 35324815, "comment_id": 58359849, "body": "<code>from __future__ import absolute_import</code>"}, {"owner": {"reputation": 10958, "user_id": 4830165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sss6o.jpg?s=128&g=1", "display_name": "Matthieu Moy", "link": "https://stackoverflow.com/users/4830165/matthieu-moy"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1455625387, "post_id": 35324815, "comment_id": 58562988, "body": "This <code>from __future__ import</code> does the opposite of what the poster asks for: it would break the build for 2.x in the same way as it does for 3.x. Well, at least that would be consistent ;-)."}, {"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1455637208, "post_id": 35324815, "comment_id": 58571510, "body": "I should have written that. I wanted to suggest to use your solution to make it work with 3.x and then add the future import to add back the 2.x compatibility/"}], "tags": [], "owner": {"reputation": 10958, "user_id": 4830165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sss6o.jpg?s=128&g=1", "display_name": "Matthieu Moy", "link": "https://stackoverflow.com/users/4830165/matthieu-moy"}, "is_accepted": true, "score": 2, "last_activity_date": 1455134635, "creation_date": 1455134635, "answer_id": 35324815, "question_id": 35324698, "link": "https://stackoverflow.com/questions/35324698/python-import-works-in-2-7-but-fails-in-3-2/35324815#35324815", "title": "Python import works in 2.7 but fails in 3.2+", "body": "<p>It seems you are facing one of the incompatible change of Python: <a href=\"https://docs.python.org/2.5/whatsnew/pep-328.html\" rel=\"nofollow\">Relative imports</a>, aka PEP 328.</p>\n\n<p>This should work:</p>\n\n<pre><code>from .unique_upload import unique_file_upload\n</code></pre>\n"}], "owner": {"reputation": 15741, "user_id": 2259303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a74184e56d2bb143abe0cf2d0cf5162?s=128&d=identicon&r=PG", "display_name": "agconti", "link": "https://stackoverflow.com/users/2259303/agconti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 35324815, "answer_count": 1, "score": 0, "last_activity_date": 1455134635, "creation_date": 1455134204, "last_edit_date": 1455134511, "question_id": 35324698, "link": "https://stackoverflow.com/questions/35324698/python-import-works-in-2-7-but-fails-in-3-2", "title": "Python import works in 2.7 but fails in 3.2+", "body": "<p>Importing a package with: </p>\n\n<pre><code>from unique_upload import unique_file_upload\n</code></pre>\n\n<p>Works in Python 2.7 but fails in Python 3.2 and above with: </p>\n\n<pre><code>ImportError: cannot import name unique_file_upload\n</code></pre>\n\n<p>The project structure is:</p>\n\n<pre><code>test/ \n   __init__.py\n   test_unique_upload # &lt;-- calling from unique_upload import unique_file_upload here\n\n unique_upload/ \n      __init__.py\n      unique_upload\n</code></pre>\n\n<p><code>unique_upload/__init__.py</code> contains:</p>\n\n<pre><code>__version__ = '0.2.0'\nfrom unique_upload import unique_file_upload\n</code></pre>\n\n<p>Full stack trace:</p>\n\n<pre><code>ImportError: Failed to import test module: test_unqiue_upload\nTraceback (most recent call last):\n  File \"/opt/python/3.5.0/lib/python3.5/unittest/loader.py\", line 428, in _find_test_path\n    module = self._get_module_from_name(name)\n  File \"/opt/python/3.5.0/lib/python3.5/unittest/loader.py\", line 369, in _get_module_from_name\n    __import__(name)\n  File \"/home/travis/build/agconti/django-unique-upload/test/test_unqiue_upload.py\", line 4, in &lt;module&gt;\n    from unique_upload import unique_file_upload\n  File \"/home/travis/build/agconti/django-unique-upload/unique_upload/__init__.py\", line 2, in &lt;module&gt;\n    from unique_upload import unique_file_upload\nImportError: cannot import name 'unique_file_upload'\n</code></pre>\n\n<p>Any idea why this is happening?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 2, "creation_date": 1455134491, "post_id": 35324657, "comment_id": 58358446, "body": "Actually, <code>__getattr__()</code> <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__getattr__\" rel=\"nofollow noreferrer\">isn&#39;t supposed to be called at all</a> if the attribute is already present."}], "answers": [{"tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": false, "score": 3, "last_activity_date": 1455134502, "creation_date": 1455134502, "answer_id": 35324777, "question_id": 35324657, "link": "https://stackoverflow.com/questions/35324657/difference-in-dir-between-python-2-and-3/35324777#35324777", "title": "Difference in &quot;dir&quot; between Python 2 and 3", "body": "<p>Without examining the source code, I can't say <em>why</em> this happens (although I have some hypotheses), but here is a pretty simple workaround:</p>\n\n<pre><code>class Dataset(object):\n    def __getattr__(self, item):\n        try:\n            super(Dataset, self).__getattr__(item)\n        except AttributeError:\n            print(item)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 1, "creation_date": 1455134906, "post_id": 35324806, "comment_id": 58358681, "body": "Didn&#39;t see the edit about functions until after i posted the answer"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1455134996, "post_id": 35324806, "comment_id": 58358727, "body": "AFAIR, <code>dir()</code> tries to lookup <code>__dir__</code>. Since that one doesn&#39;t exist, <code>__getattr__()</code> is called. Which calls <code>dir()</code> ..."}], "tags": [], "owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "is_accepted": true, "score": 6, "last_activity_date": 1455134614, "creation_date": 1455134614, "answer_id": 35324806, "question_id": 35324657, "link": "https://stackoverflow.com/questions/35324657/difference-in-dir-between-python-2-and-3/35324806#35324806", "title": "Difference in &quot;dir&quot; between Python 2 and 3", "body": "<p>The documentation for <code>dir</code> in Python 2.7 and 3.5 seems identical - there are no implementation details. But clearly, <code>dir()</code> in Python 2 invokes <code>__getattr__</code> causing the infinite recursion.</p>\n\n<p>However, both documentation sets do say that </p>\n\n<blockquote>\n  <p>Because dir() is supplied primarily as a convenience for use at an interactive prompt, it tries to supply an interesting set of names more than it tries to supply a rigorously or consistently defined set of names, and its detailed behavior may change across releases. For example, metaclass attributes are not in the result list when the argument is a class.</p>\n</blockquote>\n\n<p>That note about it being a convenience is significant.</p>\n\n<p>If you modify your <code>__getattr__</code> to look at <code>self.__dict__</code> instead of using <code>dir()</code>,the problem goes away.</p>\n\n<pre><code>In [5]: class Dataset(object):\n          def __getattr__(self, item):\n            if not item in self.__dict__:\n              print(item)\n   ...:             \n\nIn [6]: a = Dataset()\n\nIn [7]: a.Hello\nHello\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3073, "user_id": 5788912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NgRtU.jpg?s=128&g=1", "display_name": "AlokThakur", "link": "https://stackoverflow.com/users/5788912/alokthakur"}, "is_accepted": false, "score": 1, "last_activity_date": 1455137198, "last_edit_date": 1455137198, "creation_date": 1455136359, "answer_id": 35325332, "question_id": 35324657, "link": "https://stackoverflow.com/questions/35324657/difference-in-dir-between-python-2-and-3/35325332#35325332", "title": "Difference in &quot;dir&quot; between Python 2 and 3", "body": "<p>It's not needed to check that <code>if not item in dir(self)</code> inside <code>def __getattr__</code></p>\n\n<p><code>__getattr__</code> won't be called if item is listed in dir(self)\nYou can have your code as </p>\n\n<pre><code>class Dataset(object):\n    x = 12\n    def __getattr__(self, item):\n        print(item)\n\na = Dataset()\na.Hello  # print Hello\na.x      # return 12\n</code></pre>\n"}], "owner": {"reputation": 2341, "user_id": 3169714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8341ddff72be855729972665d1cc8ee7?s=128&d=identicon&r=PG&f=1", "display_name": "triphook", "link": "https://stackoverflow.com/users/3169714/triphook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 1, "accepted_answer_id": 35324806, "answer_count": 3, "score": 9, "last_activity_date": 1455137198, "creation_date": 1455133993, "last_edit_date": 1455134242, "question_id": 35324657, "link": "https://stackoverflow.com/questions/35324657/difference-in-dir-between-python-2-and-3", "title": "Difference in &quot;dir&quot; between Python 2 and 3", "body": "<p>The following code behaves differently in Python 2 and Python 3, and I'm not sure why.</p>\n\n<pre><code>class Dataset(object):\n    def __getattr__(self, item):\n        if not item in dir(self):\n            print(item)\n\na = Dataset()\na.Hello\n</code></pre>\n\n<p>The result in Python 3:</p>\n\n<pre><code>&gt; Hello\n</code></pre>\n\n<p>The result in Python 2:</p>\n\n<pre><code>__members__\n__members__\n__methods__\n...\n</code></pre>\n\n<p>ad infinitum until a recursion ceiling is reached. What is the difference in the behavior of \"dir\"?</p>\n\n<p>Edit: And is there a workaround?  self.<strong>dict</strong> is the obvious choice but it doesn't include functions which turns out to be a problem in my code.</p>\n"}, {"tags": ["php", "python"], "comments": [{"owner": {"reputation": 75558, "user_id": 113195, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4257476fe3d948aaf89658db890d0236?s=128&d=identicon&r=PG", "display_name": "Boldewyn", "link": "https://stackoverflow.com/users/113195/boldewyn"}, "edited": false, "score": 0, "creation_date": 1455134176, "post_id": 35324621, "comment_id": 58358235, "body": "In Python, arrays with numeric indices are called lists. Here is Python&#39;s official tutorial on them: <a href=\"https://docs.python.org/3/tutorial/introduction.html#lists\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/introduction.html#lists</a>"}, {"owner": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 0, "creation_date": 1455134192, "post_id": 35324621, "comment_id": 58358243, "body": "what is your php code doing ? what will it show when you print $array ?"}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 3407798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004540026193/picture?type=large", "display_name": "nguaman", "link": "https://stackoverflow.com/users/3407798/nguaman"}, "edited": false, "score": 0, "creation_date": 1455134244, "post_id": 35324690, "comment_id": 58358289, "body": "Thanks! that I was looking for!!"}, {"owner": {"reputation": 783, "user_id": 3407798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004540026193/picture?type=large", "display_name": "nguaman", "link": "https://stackoverflow.com/users/3407798/nguaman"}, "edited": false, "score": 0, "creation_date": 1455134314, "post_id": 35324690, "comment_id": 58358336, "body": "sorry if I explaind this question very bad, my english its not so good."}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1455134690, "post_id": 35324690, "comment_id": 58358555, "body": "Note that this only works if you know that the key <code>&#39;value1&#39;</code> exists in the dict. You will need an if statement otherwise since <code>+=</code> will throw an error if the key doesn&#39;t exist yet."}, {"owner": {"reputation": 495, "user_id": 2451259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/564f254e094d1a5ac1c28e4d87ad5bb4?s=128&d=identicon&r=PG", "display_name": "maahl", "link": "https://stackoverflow.com/users/2451259/maahl"}, "reply_to_user": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1455134976, "post_id": 35324690, "comment_id": 58358714, "body": "@SirParselot: you&#39;re right, I&#39;ve added your comment to my answer!"}], "tags": [], "owner": {"reputation": 495, "user_id": 2451259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/564f254e094d1a5ac1c28e4d87ad5bb4?s=128&d=identicon&r=PG", "display_name": "maahl", "link": "https://stackoverflow.com/users/2451259/maahl"}, "is_accepted": true, "score": 1, "last_activity_date": 1455134924, "last_edit_date": 1455134924, "creation_date": 1455134170, "answer_id": 35324690, "question_id": 35324621, "link": "https://stackoverflow.com/questions/35324621/transform-php-code-to-python-append-new-values-to-the-same-key-in-dict/35324690#35324690", "title": "transform php code to python - append new values to the same key in dict", "body": "<pre><code>my_dict = {}\nmy_dict['value1'] = ['new value 1']\nmy_dict['value1'] += ['new value 2', 'new value 3']\n</code></pre>\n\n<p>The first line initializes the dictionary, the second initializes <code>my_dict['value1']</code> to a list containing one element, and the last line adds two elements to this list. Notice the <code>+=</code>.</p>\n\n<p>Note: you need to use another method if you don't know whether the key <code>'value1'</code> already exists in the dict (thanks SirParselot). Use this if you don't know if it exists:</p>\n\n<pre><code>my_dict['value2'] = my_dict.get('value2', []) + ['new value 4', 'new value 5']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "is_accepted": false, "score": 1, "last_activity_date": 1455134321, "creation_date": 1455134321, "answer_id": 35324724, "question_id": 35324621, "link": "https://stackoverflow.com/questions/35324621/transform-php-code-to-python-append-new-values-to-the-same-key-in-dict/35324724#35324724", "title": "transform php code to python - append new values to the same key in dict", "body": "<p>Or you can use <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.setdefault\" rel=\"nofollow\"><code>setdefault</code></a>:</p>\n\n<pre><code>array = {}\narray.setdefault('value 1', []).append('new value 1')\narray.setdefault('value 1', []).append('new value 2')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "is_accepted": false, "score": 1, "last_activity_date": 1455134452, "last_edit_date": 1455134452, "creation_date": 1455134348, "answer_id": 35324737, "question_id": 35324621, "link": "https://stackoverflow.com/questions/35324621/transform-php-code-to-python-append-new-values-to-the-same-key-in-dict/35324737#35324737", "title": "transform php code to python - append new values to the same key in dict", "body": "<p>you can use a <code>defaultdict()</code> from the <code>collections</code> module like so</p>\n\n<pre><code>import collections\n\nmy_dict = collections.defaultdict(list)\nmy_dict['value1'].append('new value 1')\nmy_dict['value1'].append('new value 2')\n\n{'value1': ['new value 1', 'new value 2']}\n</code></pre>\n\n<p><code>defaultdict()</code> takes a type as a parameter and every time you create a new key it will have an empty list as the value. This is especially useful for having lists as the value. That way you don't need an if statement to check if that key already exists.</p>\n"}], "owner": {"reputation": 783, "user_id": 3407798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004540026193/picture?type=large", "display_name": "nguaman", "link": "https://stackoverflow.com/users/3407798/nguaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 35324690, "answer_count": 3, "score": -1, "last_activity_date": 1461090954, "creation_date": 1455133907, "last_edit_date": 1461090954, "question_id": 35324621, "link": "https://stackoverflow.com/questions/35324621/transform-php-code-to-python-append-new-values-to-the-same-key-in-dict", "title": "transform php code to python - append new values to the same key in dict", "body": "<p>The only way that I know how to do this, is with php but I want to get the same result in python.</p>\n\n<p>PHP Code:</p>\n\n<pre><code>&lt;?php\n$array = array();\n$array['value1'][] = 'new value 1';\n$array['value1'][] = 'new value 2';\n?&gt;\n</code></pre>\n\n<p>I have this code.</p>\n\n<pre><code>array = dict()\narray['value 1'] = 'new value 1'\n#array['value 1'].append('new value 2') - Error - only works with list\n</code></pre>\n\n<p>How I can do this?\nRegards.</p>\n"}, {"tags": ["python", "wxpython"], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1455136048, "creation_date": 1455136048, "answer_id": 35325240, "question_id": 35324516, "link": "https://stackoverflow.com/questions/35324516/searchctrl-in-wxpython-looks-different/35325240#35325240", "title": "SearchCtrl in wxPython looks different", "body": "<p>There are three differences that I can see between what you have and what you want:</p>\n\n<ol>\n<li>The cancel button (X in a circle)</li>\n<li>The menu indicator (the arrow next to the magnifying glass).</li>\n<li>The location of the word \"Search\"</li>\n</ol>\n\n<p>None of these three differences are affected by the declaration.</p>\n\n<p>To get the cancel button to show up, call:</p>\n\n<pre><code>self.searchControl.ShowCancelButton(True)\n</code></pre>\n\n<p>To get the menu indicator to show up, call:</p>\n\n<pre><code>self.SetMenu(menu)\n</code></pre>\n\n<p>To get the text to appear in the right place, prevent the sizer from vertically resizing your control.</p>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/env python\nimport wx\n\napp = wx.App(False)\nframe = wx.Frame(None, wx.ID_ANY, \"Hello World\")\nsizer = wx.BoxSizer(wx.HORIZONTAL)\n\nmenu = wx.Menu()\nmenu.Append(wx.ID_ABOUT, 'About')\n\nsearch = wx.SearchCtrl(frame)\nsearch.ShowCancelButton(True)\nsearch.SetMenu(menu)\n\nsizer.Add(search, 0)\nframe.SetSizer(sizer)\nframe.SetAutoLayout(1)\nsizer.Fit(frame)\nframe.Show()\napp.MainLoop()\n</code></pre>\n\n<p>yields this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xVNJQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xVNJQ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 45, "user_id": 5546682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cfc8fb0d886b1419d4c9060d2f37e54b?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/5546682/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 35325240, "answer_count": 1, "score": 0, "last_activity_date": 1455136048, "creation_date": 1455133536, "question_id": 35324516, "link": "https://stackoverflow.com/questions/35324516/searchctrl-in-wxpython-looks-different", "title": "SearchCtrl in wxPython looks different", "body": "<p>I am trying to get a searchctrl in wxPython. However I am not getting exactly what I want.</p>\n\n<p>I get this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0JNDi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JNDi.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But I would like to get the SearchCtrl like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KlrWW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlrWW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I know that there isn't a big difference, it is just for visual reasons.\nI declare my SearchCtrl as:</p>\n\n<pre><code>self.searchControl = wx.SearchCtrl(panel, -1, style=wx.TE_PROCESS_ENTER)\n</code></pre>\n\n<p>Does anybody know how can I declare it in order to get the SearchCtrl as I want?</p>\n"}, {"tags": ["python", "regex", "ansible"], "comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1455133783, "post_id": 35324511, "comment_id": 58358005, "body": "can you show your code?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455135729, "post_id": 35324511, "comment_id": 58359115, "body": "Try <code>regexp=&#39;^JAVA_OPT=&quot;([^&quot;]*)&quot;(?! secondstring=value)&#39;</code>"}, {"owner": {"reputation": 79, "user_id": 404569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647b53968816e74449b23eef0de19deb?s=128&d=identicon&r=PG", "display_name": "Kester", "link": "https://stackoverflow.com/users/404569/kester"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455196544, "post_id": 35324511, "comment_id": 58387849, "body": "@WiktorStribi\u017cew: Thanks for your response. I tried but it didn&#39;t help. I am using following expression and it worked:). &#39;^JAVA_OPT=&quot;(.*)(?&lt;! secondstring=value)&quot;&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1455142329, "creation_date": 1455142329, "answer_id": 35326983, "question_id": 35324511, "link": "https://stackoverflow.com/questions/35324511/ansible-regex-python-exclude-operation/35326983#35326983", "title": "Ansible Regex (Python) exclude operation", "body": "<p>Since <a href=\"http://docs.ansible.com/ansible/lineinfile_module.html\" rel=\"nofollow\">Ansible uses Python regular expressions</a>, you may use</p>\n\n<pre><code>regexp='^JAVA_OPT=\"([^\"]*)\"(?! secondstring=value)'\n</code></pre>\n\n<p>The <code>(?! secondstring=value)</code> negative lookahead will fail the match if <code> secondstring=value</code> is already present after the <code>JAVA_OPT=\"...\"</code>.</p>\n\n<p>See <a href=\"https://regex101.com/r/sZ8nH8/1\" rel=\"nofollow\">demo</a></p>\n"}], "owner": {"reputation": 79, "user_id": 404569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647b53968816e74449b23eef0de19deb?s=128&d=identicon&r=PG", "display_name": "Kester", "link": "https://stackoverflow.com/users/404569/kester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1550, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455142329, "creation_date": 1455133516, "question_id": 35324511, "link": "https://stackoverflow.com/questions/35324511/ansible-regex-python-exclude-operation", "title": "Ansible Regex (Python) exclude operation", "body": "<p>Ansible uses python regex to search a pattern and replace strings.\nDOC link: <a href=\"http://docs.ansible.com/ansible/lineinfile_module.html\" rel=\"nofollow\">http://docs.ansible.com/ansible/lineinfile_module.html</a> </p>\n\n<p>Below line is one of lines in the file \"file.txt\".</p>\n\n<p>JAVA_OPT=\"firststring=value\"</p>\n\n<p>I want to concatenate it with the string 'secondstring=value' and avoid concatenation operation if the string is there.</p>\n\n<p>lineinfile: dest=\"/home/abc/file.txt\" regexp='^JAVA_OPT=\"(.*)\"' line='JAVA_OPT=\"\\1 secondstring=value\"' backrefs=\"yes\"</p>\n\n<p>I want below string irrespective of multiple runs. Currently, it concatenates the string in every run.\nJAVA_OPT=\"firststring=value secondstring=value\"</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1215, "user_id": 5292630, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9xh1qblC2Uk/AAAAAAAAAAI/AAAAAAAAAKM/GTBB97nnbYA/photo.jpg?sz=128", "display_name": "Heman Gandhi", "link": "https://stackoverflow.com/users/5292630/heman-gandhi"}, "edited": false, "score": 0, "creation_date": 1455133726, "post_id": 35324503, "comment_id": 58357967, "body": "I&#39;d guess that it&#39;s JSON, but details would help a lot. Where did you get it from? What do you need it for? To deal with JSON, use: <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/json.html</a>"}, {"owner": {"reputation": 300, "user_id": 5910285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dofG2xwliWE/AAAAAAAAAAI/AAAAAAAAD88/B31H_vipH8s/photo.jpg?sz=128", "display_name": "saurabh gupta", "link": "https://stackoverflow.com/users/5910285/saurabh-gupta"}, "reply_to_user": {"reputation": 1215, "user_id": 5292630, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9xh1qblC2Uk/AAAAAAAAAAI/AAAAAAAAAKM/GTBB97nnbYA/photo.jpg?sz=128", "display_name": "Heman Gandhi", "link": "https://stackoverflow.com/users/5292630/heman-gandhi"}, "edited": false, "score": 0, "creation_date": 1455134357, "post_id": 35324503, "comment_id": 58358356, "body": "Thanks things worked fine by suggestions.. thanks alot"}], "answers": [{"comments": [{"owner": {"reputation": 82, "user_id": 7731571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-w1gCf5_h594/AAAAAAAAAAI/AAAAAAAAAEc/nusx_asFhZ0/photo.jpg?sz=128", "display_name": "Alexis", "link": "https://stackoverflow.com/users/7731571/alexis"}, "edited": false, "score": 0, "creation_date": 1601333972, "post_id": 35324689, "comment_id": 113369706, "body": "You can use this app I created to automate this process, if you are running on OS X: <a href=\"https://github.com/alexisgaziello/JupyterNotebookTerminalOpen\" rel=\"nofollow noreferrer\">github.com/alexisgaziello/JupyterNotebookTerminalOpen</a>"}], "tags": [], "owner": {"reputation": 7675, "user_id": 1274195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de068bd243a7f85ef9cf2c85704fb62?s=128&d=identicon&r=PG", "display_name": "srj", "link": "https://stackoverflow.com/users/1274195/srj"}, "is_accepted": false, "score": 32, "last_activity_date": 1617474770, "last_edit_date": 1617474770, "creation_date": 1455134159, "answer_id": 35324689, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/35324689#35324689", "title": "Opening a .ipynb.txt File", "body": "<p>What you have on your hands is an <a href=\"https://ipython.org/notebook.html\" rel=\"nofollow noreferrer\">IPython Notebook</a> file. (Now renamed to <a href=\"https://jupyter.org/\" rel=\"nofollow noreferrer\">Jupyter Notebook</a></p>\n<p>you can open it using the command <code>ipython notebook filename.ipynb</code> from the directory it is downloaded on to.</p>\n<p>If you are on a newer machine, open the file as <code>jupyter notebook filename.ipynb</code>.</p>\n<p>do not forget to remove the .txt extension.</p>\n<p>the file has a series of python code/statements and markdown text that you can run/inspect/save/share. read more about ipython notebook from the website.</p>\n<p>if you do not have IPython installed, you can do</p>\n<p><code>pip install ipython</code></p>\n<p>or check out installation instructions at the <a href=\"https://ipython.org/install.html\" rel=\"nofollow noreferrer\">ipython website</a></p>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 4066837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IKufpSk78kY/AAAAAAAAAAI/AAAAAAAAABU/TUXLVbjOqh0/photo.jpg?sz=128", "display_name": "Nages", "link": "https://stackoverflow.com/users/4066837/nages"}, "is_accepted": false, "score": 1, "last_activity_date": 1530272683, "last_edit_date": 1530272683, "creation_date": 1530271669, "answer_id": 51100716, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/51100716#51100716", "title": "Opening a .ipynb.txt File", "body": "<p>Below is the easiest way in case if <strong>Anaconda</strong> is already installed.</p>\n\n<p>1) Under \"<strong>Files</strong>\", there is an option called,\"<strong>Upload</strong>\".</p>\n\n<p>2) Click on \"Upload\" button and it asks for the path of the file and select \n   the file and click on upload button present beside the file.</p>\n"}, {"comments": [{"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1547673061, "post_id": 54225035, "comment_id": 95276681, "body": "It seems you are correct. But I think you can make it even more universal. It does not matter a) in which way rename was done (cli or not cli) b) which OS"}], "tags": [], "owner": {"reputation": 51, "user_id": 10513224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fbf29c415eee21b8e924dbe56aceddf?s=128&d=identicon&r=PG&f=1", "display_name": "niticon", "link": "https://stackoverflow.com/users/10513224/niticon"}, "is_accepted": false, "score": 5, "last_activity_date": 1551897033, "last_edit_date": 1551897033, "creation_date": 1547671280, "answer_id": 54225035, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/54225035#54225035", "title": "Opening a .ipynb.txt File", "body": "<p>If you have a unix/linux system I'd just rename the file via command line</p>\n\n<pre><code>mv file_name.pynb.txt file_name.ipynb\n</code></pre>\n\n<p>worked like a charm for me!</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10972416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101f87277f30f91e7d483b496981d160?s=128&d=identicon&r=PG&f=1", "display_name": "ra1729i6", "link": "https://stackoverflow.com/users/10972416/ra1729i6"}, "is_accepted": false, "score": 1, "last_activity_date": 1548539511, "last_edit_date": 1548539511, "creation_date": 1548527238, "answer_id": 54381414, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/54381414#54381414", "title": "Opening a .ipynb.txt File", "body": "<p>Try the following steps:</p>\n\n<ol>\n<li>Download the file open it in the Juypter Notebook.</li>\n<li>Go to <strong>File</strong> <strong>-> Rename</strong> and remove the <strong>.txt</strong> extension from the end; so now the file name has just <strong>.ipynb</strong> extension.</li>\n<li>Now <strong>reopen</strong> it from the Juypter Notebook.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11434106, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Xpdh7M1Tgm4/AAAAAAAAAAI/AAAAAAAAGW0/Zd5p7E4We0I/photo.jpg?sz=128", "display_name": "Ahsan Khan", "link": "https://stackoverflow.com/users/11434106/ahsan-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557175639, "creation_date": 1557175639, "answer_id": 56012217, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/56012217#56012217", "title": "Opening a .ipynb.txt File", "body": "<p>go to cmd get into file directory and type\njupyter notebook filename.ipynb in my case it open code editor and provide local host connection string copy that string and paste in any browser!done</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3754036, "user_type": "registered", "profile_image": "https://graph.facebook.com/537509218/picture?type=large", "display_name": "user3754036", "link": "https://stackoverflow.com/users/3754036/user3754036"}, "is_accepted": false, "score": 1, "last_activity_date": 1591598248, "last_edit_date": 1591598248, "creation_date": 1580189891, "answer_id": 59942713, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/59942713#59942713", "title": "Opening a .ipynb.txt File", "body": "<p>These steps work for me:</p>\n\n<ul>\n<li>Open the file in Jupyter Notebook.</li>\n<li>Rename the file: Click File > Rename, change the name so that it ends with '.ipynb' behind, and click OK</li>\n<li>Close the file.</li>\n<li>From the Jupyter Notebook's directory tree, click the filename to open it.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11515693, "user_type": "registered", "profile_image": "https://graph.facebook.com/2431171316903681/picture?type=large", "display_name": "Istv&#225;n Nagy", "link": "https://stackoverflow.com/users/11515693/istv%c3%a1n-nagy"}, "is_accepted": false, "score": 0, "last_activity_date": 1606831866, "last_edit_date": 1606831866, "creation_date": 1606829988, "answer_id": 65091594, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file/65091594#65091594", "title": "Opening a .ipynb.txt File", "body": "<p>I used to read jupiter nb files with this code:</p>\n<pre><code>import codecs\nimport json\n\nf = codecs.open(&quot;JupFileName.ipynb&quot;, 'r')\nsource = f.read()\n\ny = json.loads(source)\npySource = '##Python code from jpynb:\\n'\nfor x in y['cells']:\n     for x2 in x['source']:\n         pySource = pySource + x2\n         if x2[-1] != '\\n':\n            pySource = pySource + '\\n'\nprint(pySource)\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 5910285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dofG2xwliWE/AAAAAAAAAAI/AAAAAAAAD88/B31H_vipH8s/photo.jpg?sz=128", "display_name": "saurabh gupta", "link": "https://stackoverflow.com/users/5910285/saurabh-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139751, "favorite_count": 4, "answer_count": 7, "score": 25, "last_activity_date": 1617474770, "creation_date": 1455133480, "last_edit_date": 1617474741, "question_id": 35324503, "link": "https://stackoverflow.com/questions/35324503/opening-a-ipynb-txt-file", "title": "Opening a .ipynb.txt File", "body": "<p>I have got downloaded a file that got downloaded in a format .pynb.txt extension. Can anyone help me to figure how to make it in a readable format?\nAttaching a screenshot of the file when i tried opening in python notebook.</p>\n<p><a href=\"https://i.stack.imgur.com/Shk7d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Shk7d.png\" alt=\"Output of the python notebook when tried to open a file with extension .pynb.txt\" /></a></p>\n"}, {"tags": ["python", "image", "matlab", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1455133643, "post_id": 35324421, "comment_id": 58357915, "body": "what&#39;s the type of <code>image_with_noise</code>? You probably need to convert back to uint8 to display it properly"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 2, "creation_date": 1455133720, "post_id": 35324421, "comment_id": 58357965, "body": "BTW, that&#39;s not the <i>correct</i> Lena image :D"}, {"owner": {"reputation": 131, "user_id": 1950122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8234850ec53e6126862380bb68c596e?s=128&d=identicon&r=PG", "display_name": "felasfa", "link": "https://stackoverflow.com/users/1950122/felasfa"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1455134376, "post_id": 35324421, "comment_id": 58358373, "body": "The type is float64 when I do Image_with_noise.dtype. Thank you, trying your suggestion now. Haha, true, the prof seems to like this lena better than the old lena"}, {"owner": {"reputation": 131, "user_id": 1950122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8234850ec53e6126862380bb68c596e?s=128&d=identicon&r=PG", "display_name": "felasfa", "link": "https://stackoverflow.com/users/1950122/felasfa"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1455136230, "post_id": 35324421, "comment_id": 58359413, "body": "Dear Miki, it does work now having converted it to uint8. I am still new to image processing. Any explanations why it worked? Thanks"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1455136335, "post_id": 35324421, "comment_id": 58359475, "body": "uint8 images are displayed in the range [0,255], while float images are displayed in the range [0,1]. So, what you saw is that every value above 1 was displayed as white."}, {"owner": {"reputation": 131, "user_id": 1950122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8234850ec53e6126862380bb68c596e?s=128&d=identicon&r=PG", "display_name": "felasfa", "link": "https://stackoverflow.com/users/1950122/felasfa"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1455136723, "post_id": 35324421, "comment_id": 58359721, "body": "Thank you so much. It makes complete sense now."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1455136785, "post_id": 35324421, "comment_id": 58359755, "body": "Glad it helped. Please post yourself and accept an answer with the corrected code and resulting images, and a little explanation"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 1, "creation_date": 1455140178, "post_id": 35324421, "comment_id": 58361618, "body": "This post may also be helpful: <a href=\"http://stackoverflow.com/questions/29100722/equivalent-im2double-function-in-opencv-python/29104511#29104511\" title=\"equivalent im2double function in opencv python\">stackoverflow.com/questions/29100722/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 1950122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8234850ec53e6126862380bb68c596e?s=128&d=identicon&r=PG", "display_name": "felasfa", "link": "https://stackoverflow.com/users/1950122/felasfa"}, "is_accepted": false, "score": 2, "last_activity_date": 1455137754, "creation_date": 1455137754, "answer_id": 35325731, "question_id": 35324421, "link": "https://stackoverflow.com/questions/35324421/equivalent-of-matlab-imshowi-for-python-opencv/35325731#35325731", "title": "Equivalent of MATLAB imshow(I,[ ]) for python OpenCv;", "body": "<p>Thank you for the comment by Miki which helped me resolve the issue. I am posting the answer here in case others run into a similar problem.</p>\n\n<p>The issue was the type of the image_with_noise data. When I do \n<code>image_with_noise.dtype</code>, it returns a float64. Since float images are displayed in the range [0,1], any value exceeding 1 is shown as white(which is exactly what was happening). </p>\n\n<p>The solution was to convert the image to uint8 where the display range is [0,255]. This can be done using the following one liner in cv2</p>\n\n<p><code>image_with_noise_uint8=cv2.convertScaleAbs(image_with_noise)</code></p>\n\n<p>With this, the noisy image displays as expected!</p>\n\n<p><a href=\"https://i.stack.imgur.com/ebGdS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebGdS.png\" alt=\"noisy_image\"></a></p>\n"}], "owner": {"reputation": 131, "user_id": 1950122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8234850ec53e6126862380bb68c596e?s=128&d=identicon&r=PG", "display_name": "felasfa", "link": "https://stackoverflow.com/users/1950122/felasfa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1284, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455137754, "creation_date": 1455133195, "question_id": 35324421, "link": "https://stackoverflow.com/questions/35324421/equivalent-of-matlab-imshowi-for-python-opencv", "title": "Equivalent of MATLAB imshow(I,[ ]) for python OpenCv;", "body": "<p>I am converting an image processing code from MATLAB to Python using\nOpenCv(Python). My original image (our friend Lena) shown below read using the following command shows fine using imshow:</p>\n\n<p><code>image = cv2.imread('Lena.bmp',0)</code></p>\n\n<p>I add some Gaussian noise to the image </p>\n\n<p><code>image_with_noise = image + 20*np.random.randn(256,256)</code></p>\n\n<p>When I do imshow (as shown below), I don't see the image with noise as I expect. </p>\n\n<p><code>cv2.imshow('image',image_with_noise)</code></p>\n\n<p><code>cv2.waitKey(0)</code></p>\n\n<p><code>cv2.destroyAllWindows()</code></p>\n\n<p>However, the analogous MATLAB command imshow(image, [ ] ) seems to work fine. </p>\n\n<p>Is there any way to understand or fix this? Your inputs are appreciated. Thank you. </p>\n\n<p><a href=\"https://i.stack.imgur.com/zHKGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zHKGW.png\" alt=\"Original image\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ff6zL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ff6zL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "oauth-2.0", "uber-api"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 5339005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c4e621b3a2a7b33ca899d1996f26730?s=128&d=identicon&r=PG&f=1", "display_name": "Neong", "link": "https://stackoverflow.com/users/5339005/neong"}, "is_accepted": true, "score": 0, "last_activity_date": 1455226918, "creation_date": 1455226918, "answer_id": 35350621, "question_id": 35324346, "link": "https://stackoverflow.com/questions/35324346/cant-request-uber-rides-or-other-class-methods-with-oauth-2-0-client-using-ub/35350621#35350621", "title": "Can&#39;t request uber rides (or other class methods) with OAUTH 2.0 client using Uber API", "body": "<p>I solved the issues. The problem is that I imported the oauth credentials from a oauth2_session_store.yaml file that was not updated properly to reflect my current access_token.</p>\n\n<p>The root problem:</p>\n\n<pre><code>credentials2 = import_oauth2_credentials()\n</code></pre>\n\n<p>So lesson learned: check the access token to see if it's current.</p>\n"}], "owner": {"reputation": 53, "user_id": 5339005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c4e621b3a2a7b33ca899d1996f26730?s=128&d=identicon&r=PG&f=1", "display_name": "Neong", "link": "https://stackoverflow.com/users/5339005/neong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 35350621, "answer_count": 1, "score": 0, "last_activity_date": 1455226918, "creation_date": 1455132927, "question_id": 35324346, "link": "https://stackoverflow.com/questions/35324346/cant-request-uber-rides-or-other-class-methods-with-oauth-2-0-client-using-ub", "title": "Can&#39;t request uber rides (or other class methods) with OAUTH 2.0 client using Uber API", "body": "<p>I successfully got the access token but ran into problems after making a client using OAUTH 2.0 credentials. I pretty much followed the example on the python SDK example on github.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from utils import import_oauth2_credentials\nfrom uber_rides.client import UberRidesClient\nfrom uber_rides.session import OAuth2Credential\nfrom uber_rides.session import Session\n\ncredentials2 = import_oauth2_credentials()\noauth2credential = OAuth2Credential(\n            client_id=credentials2.get('client_id'),\n            access_token=credentials2.get('access_token'),\n            expires_in_seconds=credentials2.get('expires_in_seconds'),\n            scopes=credentials2.get('scopes'),\n            grant_type=credentials2.get('grant_type'),\n            redirect_url=credentials2.get('redirect_url'),\n            client_secret=credentials2.get('client_secret'),\n            refresh_token=credentials2.get('refresh_token'),\n        )\n\nsession = Session(oauth2credential=oauth2credential)\n\nuber_client = UberRidesClient(session, sandbox_mode=True)\n\nprint uber_client\n\nresponse = uber_client.get_products(37.77, -122.41)\n\nprint response\n</code></pre>\n\n<p>I can print out the uber_client object: </p>\n\n<pre><code>&lt;uber_rides.client.UberRidesClient object at 0x10deeae50&gt;\n</code></pre>\n\n<p>The error message I got is:</p>\n\n<pre><code>raise ClientError(response)\nClientError: The request contains bad syntax or cannot be filled due to a fault from the client sending the request.\"\n</code></pre>\n\n<p>I'm wondering what is the issue. Thank you for your help!</p>\n"}, {"tags": ["python", "eclipse", "pip", "pydicom"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1455133347, "post_id": 35324320, "comment_id": 58357739, "body": "What is the result of <code>pip show pydicom</code>?"}, {"owner": {"reputation": 11, "user_id": 5910224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78602772551587258bab2307e8b000f2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Z. Guo", "link": "https://stackoverflow.com/users/5910224/a-z-guo"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1455134041, "post_id": 35324320, "comment_id": 58358158, "body": "It shows the following: Metadata-Version: 1.1 Name: pydicom Version: 0.9.9 Summary: Pure python package for DICOM medical file reading and writing Home-page: <a href=\"http://pydicom.googlecode.com\" rel=\"nofollow noreferrer\">pydicom.googlecode.com</a> Author: Darcy Mason and contributors Author-email: darcymason@gmail.com License: MIT license Location: /Library/Frameworks/Python.framework/Versions/2.7/lib/python&zwnj;&#8203;2.7/site-packages Requires:"}, {"owner": {"reputation": 1140, "user_id": 1519290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb4dfae21a195a47906c04f251c237d?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1519290/igor"}, "edited": false, "score": 1, "creation_date": 1455134279, "post_id": 35324320, "comment_id": 58358318, "body": "Use <code>import dicom</code> instead of pydicom."}], "answers": [{"tags": [], "owner": {"reputation": 990, "user_id": 5409674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ppb3.jpg?s=128&g=1", "display_name": "Pouria", "link": "https://stackoverflow.com/users/5409674/pouria"}, "is_accepted": false, "score": 0, "last_activity_date": 1455133934, "last_edit_date": 1455133934, "creation_date": 1455133627, "answer_id": 35324543, "question_id": 35324320, "link": "https://stackoverflow.com/questions/35324320/i-installed-pydicom-through-pip-but-it-somehow-cannot-be-found-when-i-try-to-imp/35324543#35324543", "title": "I installed pydicom through pip but it somehow cannot be found when I try to import the library. Could someone give a suggestion to fix this?", "body": "<p>try:</p>\n\n<pre><code>python -m pip freeze\n</code></pre>\n\n<p>Is the package there? If not, you have installed it for the wrong python environment. I suggest you install it as follows:</p>\n\n<p>In Bash prompt (terminal):</p>\n\n<pre><code>python -m pip install pydicom\n</code></pre>\n\n<p>You can change <code>python</code> with <code>python3</code> or the absolute address of the executable. If you don't know the absolute address of the executable, you can obtain it as follows:</p>\n\n<p>In Bash prompt (terminal):</p>\n\n<pre><code>which python \n</code></pre>\n\n<p>(or <code>python3</code>). The output would be the absolute path, which you may utilise like so:</p>\n\n<pre><code>/Users/xyz/bin/python -m pip install pydicom\n</code></pre>\n\n<p>Finally, if you want to find out the path to your executable from within Python, you may do so like this:</p>\n\n<pre><code>from sys import executable\nprint(executable)\n</code></pre>\n\n<p>The output will be the absolute path to the current environment's interpreter. </p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5910224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78602772551587258bab2307e8b000f2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Z. Guo", "link": "https://stackoverflow.com/users/5910224/a-z-guo"}, "edited": false, "score": 0, "creation_date": 1455134397, "post_id": 35324623, "comment_id": 58358386, "body": "Thank you! It looks like that it&#39;s working in Sublime Text 2&#39;s build using &quot;import dicom&quot;. However it is still somehow not working in my Eclipse with PyDev environment."}, {"owner": {"reputation": 1140, "user_id": 1519290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb4dfae21a195a47906c04f251c237d?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1519290/igor"}, "reply_to_user": {"reputation": 11, "user_id": 5910224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78602772551587258bab2307e8b000f2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Z. Guo", "link": "https://stackoverflow.com/users/5910224/a-z-guo"}, "edited": false, "score": 0, "creation_date": 1455138394, "post_id": 35324623, "comment_id": 58360614, "body": "Hmm, try re-starting your Eclipse/clearing cache. What error are you seeing?"}], "tags": [], "owner": {"reputation": 1140, "user_id": 1519290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb4dfae21a195a47906c04f251c237d?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1519290/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1455134424, "last_edit_date": 1495542753, "creation_date": 1455133914, "answer_id": 35324623, "question_id": 35324320, "link": "https://stackoverflow.com/questions/35324320/i-installed-pydicom-through-pip-but-it-somehow-cannot-be-found-when-i-try-to-imp/35324623#35324623", "title": "I installed pydicom through pip but it somehow cannot be found when I try to import the library. Could someone give a suggestion to fix this?", "body": "<p>I did the same series of steps and saw the same issue. After digging around it looks like the package appears as \"dicom\". Try this instead:</p>\n\n<pre><code>import dicom\n</code></pre>\n\n<p>Edit: Looking at <a href=\"https://stackoverflow.com/questions/119684/parse-dicom-files-in-native-python\">this question</a> mentioning this library, everyone is importing it this way too. </p>\n"}], "owner": {"reputation": 11, "user_id": 5910224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78602772551587258bab2307e8b000f2?s=128&d=identicon&r=PG&f=1", "display_name": "A. Z. Guo", "link": "https://stackoverflow.com/users/5910224/a-z-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2376, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1530813806, "creation_date": 1455132861, "last_edit_date": 1530813806, "question_id": 35324320, "link": "https://stackoverflow.com/questions/35324320/i-installed-pydicom-through-pip-but-it-somehow-cannot-be-found-when-i-try-to-imp", "title": "I installed pydicom through pip but it somehow cannot be found when I try to import the library. Could someone give a suggestion to fix this?", "body": "<p>Please see this screenshot: </p>\n\n<p><a href=\"https://i.stack.imgur.com/90HbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/90HbA.png\" alt=\"screenshot 1\"></a></p>\n\n<p>Isn't the package pydicom already installed?</p>\n\n<p>Credit to Igor:\nIt looks like that it's working in Sublime Text 2's build using \"import dicom\". However it is still somehow not working in my Eclipse with PyDev environment.</p>\n\n<hr>\n\n<p>***I have solved the problem in Eclipse after adding a path in the Python Interpreter configuration by hand (Somehow Auto-Config didn't add this path.).</p>\n\n<p><a href=\"https://i.stack.imgur.com/sRozv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sRozv.png\" alt=\"screenshot\"></a></p>\n"}]