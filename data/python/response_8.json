[{"tags": ["python", "file", "raspberry-pi"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1425513754, "post_id": 28867500, "comment_id": 45999609, "body": "Is that not the behaviour you want/expect?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1425513768, "post_id": 28867500, "comment_id": 45999613, "body": "What do you mean by &quot;not consistent&quot;? What are you actually observing?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1425514245, "post_id": 28867500, "comment_id": 45999753, "body": "@PaulRooney &#39;w+&#39; doesn&#39;t append, it truncates."}, {"owner": {"reputation": 71, "user_id": 4280411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe85a2d705d854fa7fdcf1e86b75f74?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Foster", "link": "https://stackoverflow.com/users/4280411/joshua-foster"}, "edited": false, "score": 0, "creation_date": 1425515886, "post_id": 28867500, "comment_id": 46000276, "body": "it reads one line only and changes everytime I open wxdata to see what has been wrote"}, {"owner": {"reputation": 71, "user_id": 4280411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe85a2d705d854fa7fdcf1e86b75f74?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Foster", "link": "https://stackoverflow.com/users/4280411/joshua-foster"}, "edited": false, "score": 0, "creation_date": 1425515907, "post_id": 28867500, "comment_id": 46000285, "body": "everytime I open wxdata it should have the most current transmission from radio one in it.  Everything I have tried just gets pieces of the transmission and not the whole list"}, {"owner": {"reputation": 71, "user_id": 4280411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe85a2d705d854fa7fdcf1e86b75f74?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Foster", "link": "https://stackoverflow.com/users/4280411/joshua-foster"}, "edited": false, "score": 0, "creation_date": 1425516280, "post_id": 28867500, "comment_id": 46000412, "body": "the file wxdata needs to be read and writeable"}], "owner": {"reputation": 71, "user_id": 4280411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe85a2d705d854fa7fdcf1e86b75f74?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Foster", "link": "https://stackoverflow.com/users/4280411/joshua-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425513553, "creation_date": 1425513553, "question_id": 28867500, "link": "https://stackoverflow.com/questions/28867500/store-information-received-from-serial-and-store-in-a-file-on-raspberry-pi", "title": "store information received from serial and store in a file on raspberry pi", "body": "<p>radio 1 transmitts:</p>\n\n<pre><code>outTemp= value\ninTemp= value\nbarometer= value\npressure= value\nwindSpeed= value\nwindDir= value\nwindGust= value\nwindGustDir= value\noutHumidity= value\nradiation= value\nUV= value\nrain= value\n/n\n</code></pre>\n\n<p>radio 2 SHOULD receive and store in file called wxdata for read/write</p>\n\n<p>the code to receive on a raspberry pi is:</p>\n\n<pre><code>import serial\nimport time\n\n\nbaud=57600                 #declare baud rate\nser=serial.Serial('/dev/ttyUSB0',baud)   #declare serial port/baud rate\n\ntarget=open( 'wxdata' , 'w+' )     #open the wxdata file\n\nwith ser as port, target as outf:  #import serial data to target file\n    while 1:\n        outf.seek(0)       #seek to index 0 in file wxdata\n        outf.write(ser.readline())\n        outf.flush()\n        time.sleep(1)  #delay one second\n</code></pre>\n\n<p>the information stored in wxdata is not consistant.  It is supposed store only the current transmission, so it overwrites the last one. Any ideas!?? </p>\n"}, {"tags": ["python", "lambda", "max", "xrange", "matrix-decomposition"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1425514285, "post_id": 28867463, "comment_id": 45999768, "body": "<code>i</code> comes from <code>xrange(j, n)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "edited": false, "score": 0, "creation_date": 1425514183, "post_id": 28867565, "comment_id": 45999725, "body": "I know &#39;i&#39; is the argument to the lambda function, but &#39;where&#39; is i? Normally after I define a function (say y=np.sin(t)), I will declare t=np.linspace(0,2*np.pi) as the arguments, but now I&#39;m just confused as there aren&#39;t any other codes related to i..."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "reply_to_user": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "edited": false, "score": 0, "creation_date": 1425514677, "post_id": 28867565, "comment_id": 45999904, "body": "re: your comment edit -- <code>i</code> is no more made up than <code>x</code> is in the definition of the <code>double</code> function: <code>double(x):</code>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "edited": false, "score": 1, "creation_date": 1425515137, "post_id": 28867565, "comment_id": 46000057, "body": "@Physicist: <code>i</code> is just an arbitray name given to the argument that gets passed to the <code>key</code> function whose return value determines the ordering used by the <code>max()</code> function. In this context it will be an integer with a value from <code>j</code> to <code>n-1</code> inclusive because of the <code>xrange(j, n)</code>."}, {"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 1, "creation_date": 1425515439, "post_id": 28867565, "comment_id": 46000145, "body": "Note that as <code>max</code> can take any iterable, even a generator expression, you can write <code>row = max( abs(m[i][j]) for i in xrange(j,n) )</code> and save creating an actual <code>list</code> due to the list comprehension."}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": true, "score": 3, "last_activity_date": 1425515528, "last_edit_date": 1495541185, "creation_date": 1425513888, "answer_id": 28867565, "question_id": 28867463, "link": "https://stackoverflow.com/questions/28867463/the-use-of-combining-max-xrange-and-lambda-function-in-python/28867565#28867565", "title": "the use of combining max, xrange and lambda function in python", "body": "<blockquote>\n  <p>First, isn't the line for ID simply the identity matrix? </p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Second, I can't really understand the line for row....</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/18296755/python-max-function-using-key-and-lambda-expression\">See this</a> for a discussion about the max/key/lambda interaction.  To answer \"what is <code>i</code>?\", its the argument to the lambda function, <code>i</code> could equivalently be <code>x</code> for <code>foo</code>.  (For clarity, yielding <code>abs(m[x][j])</code> and <code>abs(m[foo][j])</code>, respectively).</p>\n\n<blockquote>\n  <p>And isn't xrange similar to range? </p>\n</blockquote>\n\n<p>Yes.  In Python 2 <code>xrange</code> returns a sequence object that lazily computes the next value, only when needed.  <a href=\"https://stackoverflow.com/questions/94935/what-is-the-difference-between-range-and-xrange-functions-in-python-2-x\">See this for more info</a>.  When looped through in entirety, <code>range</code> and <code>xrange</code> will produce the same results, with different implementations.</p>\n\n<blockquote>\n  <p>But what does it return here?</p>\n</blockquote>\n\n<p>Line 5's <code>xrange(n)</code> will return the integer values from 0 to (n-1) while Line 6's <code>xrange(j, n)</code> will return the integer values from j to (n-1).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>More on lambda:</p>\n\n<p>Consider how you might take a given sequence of numbers, and double each of them.  First define a function that doubles a number <code>x</code> and returns that value.  Then map that function to each element of a sequence.</p>\n\n<pre><code># Traditional\ndef double(x): return x*2\nprint map(double, [1,2,3,4])         # [2, 4, 6, 8]\n</code></pre>\n\n<p>You could have alternatively used an anonymous (lambda) function to do the same thing:</p>\n\n<pre><code># Lambda\nprint map(lambda i: i*2, [1,2,3,4])  # [2, 4, 6, 8]\n</code></pre>\n\n<p>Note that everything is the same, except the definition of the <code>double</code> function is gone and the reference to the function in the call to <code>map</code> is replaced by the \"inline\" lambda function.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<blockquote>\n  <p>And when combined with the function max, what happens?</p>\n</blockquote>\n\n<p>This line <code>row = max(xrange(j, n), key=lambda i: abs(m[i][j]))</code> can be broken down as follows:</p>\n\n<ul>\n<li><code>xrange(j,n)</code> generates a sequence of integers from <code>j</code> (inclusive) to <code>n</code> (exclusive).</li>\n<li>Each of those integers are then \"passed\" as arguments to the function in the key argument.  In other words, they're each used as the <code>i</code> in the lambda function.  The lambda function \"returns\" the absolute value of the <code>i</code>th row and <code>j</code>th column.[1]</li>\n<li>The <code>max</code> function then finds the greatest value of these \"lambda outputs\" and sets <code>row</code> equal to it.</li>\n</ul>\n\n<p>This could have alternatively been written as a max of a list comprehension:</p>\n\n<pre><code>row = max( [abs(m[i][j]) for i in xrange(j,n)] )\n</code></pre>\n\n<p>Or as <a href=\"https://stackoverflow.com/users/388787/dan-d\">Dan D.</a> points out in his comment, written as a generator expression (without creating an intermediary list) as simply:</p>\n\n<pre><code>row = max( abs(m[i][j]) for i in xrange(j,n) )\n</code></pre>\n\n<p>Notes:</p>\n\n<p>[1] Some assumptions here, but row-column is a standard way of expressing matrices.</p>\n"}, {"tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": false, "score": 2, "last_activity_date": 1425515471, "last_edit_date": 1425515471, "creation_date": 1425514087, "answer_id": 28867602, "question_id": 28867463, "link": "https://stackoverflow.com/questions/28867463/the-use-of-combining-max-xrange-and-lambda-function-in-python/28867602#28867602", "title": "the use of combining max, xrange and lambda function in python", "body": "<p><code>xrange</code> is an Python2 construct that's used for handling <code>range</code> memory efficient. Before<code>range</code> actually created a list, and then <code>for</code> loop would run through it. <code>xrange</code> however is a generator, that means it spits out 1 value at a time when it's asked to, without creating a full list.</p>\n\n<p><code>ID</code> is actually an identity matrix. You're right there. That's a neat trick that boolean can be converted to float of value <code>1.0</code>.</p>\n\n<p>Then the snippet runs through all the remaining rows and finds the maximum value of that row in the original matrix <code>row = max(xrange(j, n), key=lambda i: abs(m[i][j]))</code>. Notice that there's a 2nd nice trick in there, <code>max</code> can take any iterable object to operate on, including generators. <code>lambda</code> keyword in that row indicates what's known as \"anonymous function\". </p>\n\n<p>In more details: Anonymous functions are functions that are not bound to an identifier. Lambda function in your snippet takes in 1 value, <code>i</code> and returns an absolute value at matrix position <code>m[i][j]</code>. The values that get sent as the input for the function are provided by the generator <code>xrange(j, n)</code>. </p>\n\n<p><code>max</code> then takes the return values of the lambda function as the thing it actually compares. In example, in python3 it's not possible to compare 2 different types. I.e. comparing string > int produces: <code>TypeError: unorderable types: str() &gt; int()</code>. However if we're sure that the list contains numbers, just in different format, you can do something like:</p>\n\n<pre><code>&gt;&gt;&gt; l = [\"1\", \"2\", 3, 4]\n&gt;&gt;&gt; max(l, key=lambda x: int(x))\n4\n&gt;&gt;&gt; min(l, key=lambda x: int(x))\n'1' #type 'str'\n</code></pre>\n\n<p>This just shows, that the actual compared values are the returns of your <code>key</code> function, but actual produced values are your original input values.</p>\n\n<p>Once it found the rows maximum value, it \"rotates\", by substitution <code>ID[j], ID[row] = ID[row], ID[j]</code>, all the other rows, <strong>in the identity matrix</strong>, around it so that only the maximum value remains on the diagonal. </p>\n\n<p>This helps prevent division by a too small a number in the next step of LU decomposition.</p>\n\n<p>What you get in return, isn't the original matrix, rotated, but a matrix of <code>1.0</code>s and <code>0.0</code>s that is your transformation matrix that multiplied by the original one will result in the pivoted matrix. </p>\n\n<p>This seems a very nicely written function that saves memory and helps performance in python. Hopefully I did this right.</p>\n"}], "owner": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 28867565, "answer_count": 2, "score": 1, "last_activity_date": 1425515528, "creation_date": 1425513352, "question_id": 28867463, "link": "https://stackoverflow.com/questions/28867463/the-use-of-combining-max-xrange-and-lambda-function-in-python", "title": "the use of combining max, xrange and lambda function in python", "body": "<p>I have found a code that pivotize a square matrix for LU decomposition, but I can't understand some of them.</p>\n\n<pre><code>def pivotize(m):\n    \"\"\"Creates the pivoting matrix for m.\"\"\"\n    n = len(m)\n    ID = [[float(i == j) for i in xrange(n)] for j in xrange(n)]\n    for j in xrange(n):\n        row = max(xrange(j, n), key=lambda i: abs(m[i][j]))\n        if j != row:\n            ID[j], ID[row] = ID[row], ID[j]\n    return ID\n</code></pre>\n\n<p>First, isn't the line for ID simply the identity matrix? any advantage doing this?  </p>\n\n<p>Second, I can't really understand the line for row. I know lambda is used to define a function in the text, and it simply returns the value of M_ij once the value of i is supplied (and the value of j depends on the for loop), but what is i?  </p>\n\n<p>And isn't xrange similar to range? But what does it return here?  </p>\n\n<p>And when combined with the function max, what happens? I just don't know what are the things inside the max function that are being compared.</p>\n\n<p>Sorry if this question sounds stupid. I'm pretty new to programming</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1425513184, "post_id": 28867403, "comment_id": 45999449, "body": "If you literal texts looks like you posted, with spaces in between, then <code>np.loadtext</code> will read <code>\\n</code> and try to unpack it to 5 values and fail. If, however, that&#39;s just because of poor formatting edit your question further to represent <b>exactly</b> how it looks."}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1425513249, "post_id": 28867403, "comment_id": 45999472, "body": "dont use <code>time</code> as a variable name. you are overwriting <code>time</code> module that you are importing."}, {"owner": {"reputation": 5712, "user_id": 1583239, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a66e4b4b2d325f1b369fa0b4d6a2a237?s=128&d=identicon&r=PG", "display_name": "qwwqwwq", "link": "https://stackoverflow.com/users/1583239/qwwqwwq"}, "edited": false, "score": 0, "creation_date": 1425513798, "post_id": 28867403, "comment_id": 45999622, "body": "you can also use the <code>struct</code> library to do this type of thing and avoid numpy <a href=\"https://docs.python.org/2/library/struct.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/struct.html</a>"}, {"owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 0, "creation_date": 1425727441, "post_id": 28867403, "comment_id": 46086789, "body": "did you check the answer below?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4634533, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205641704257755/picture?type=large", "display_name": "k15h", "link": "https://stackoverflow.com/users/4634533/k15h"}, "is_accepted": false, "score": 4, "last_activity_date": 1425517217, "creation_date": 1425517217, "answer_id": 28868177, "question_id": 28867403, "link": "https://stackoverflow.com/questions/28867403/numpy-loadtxt-valueerror-too-many-values-to-unpack/28868177#28868177", "title": "numpy.loadtxt ValueError: too many values to unpack", "body": "<p>as your input file already formatted use <strong>unpack=True</strong>, this should solve your problem</p>\n\n<pre><code>month,day,year,time_k,price = np.loadtxt('spyTestTest.txt', delimiter=' ',dtype = dt, unpack=True);\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4629836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df6ac2b2a080924540d835f95d89f629?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Lynch", "link": "https://stackoverflow.com/users/4629836/ben-lynch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5291, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1425517217, "creation_date": 1425513067, "last_edit_date": 1425513479, "question_id": 28867403, "link": "https://stackoverflow.com/questions/28867403/numpy-loadtxt-valueerror-too-many-values-to-unpack", "title": "numpy.loadtxt ValueError: too many values to unpack", "body": "<pre><code>import matplotlib \nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as mticker\nimport matplotlib.dates as mdates\nimport numpy as np\nimport time\n\ndt = 'i4,i4,i4,a5,f9'\nmonth,day,year,time,price = np.loadtxt('spyTestTest.txt', \ndelimiter='  ',dtype = dt)\n</code></pre>\n\n<p>I am trying to run this code on some sample data (below)</p>\n\n<pre><code>8 18 2014 9:30 196.79\n\n8 18 2014 9:31 196.8249\n\n8 18 2014 9:32 196.825\n\n8 18 2014 9:33 196.88\n\n8 18 2014 9:34 196.887\n\n8 18 2014 9:35 196.835\n\n8 18 2014 9:36 196.81\n\n8 18 2014 9:37 196.81\n\n8 18 2014 9:38 196.81\n</code></pre>\n\n<p>However I am getting an error saying</p>\n\n<p>Value Error: too many values to unpack.</p>\n\n<p>I read online that this occurs when you have more variables than columns to parse, but it looks to me like I have 5 variables and 5 columns of text. Any advice?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": true, "score": 1, "last_activity_date": 1425531304, "creation_date": 1425531304, "answer_id": 28870299, "question_id": 28867393, "link": "https://stackoverflow.com/questions/28867393/translation-is-not-executed-for-one-transblock/28870299#28870299", "title": "translation is not executed for one transblock", "body": "<p>Looking at all the pading I'm going to bet that its a whitespace issue, and your best bet is removing the whitespace to make translation easier - especially since the whitepsace will be stripped by the browser when it is seen by the user. </p>\n\n<p>For pre-Django 1.6, you'll need to eliminate the whitespace yourself.</p>\n\n<pre><code>{% blocktrans with  car_type=car.get_car_type_display %}A {{ car_type }} with chauffeur{% endblocktrans %}\n</code></pre>\n\n<p>Fortunately, <a href=\"https://docs.djangoproject.com/en/1.7/topics/i18n/translation/#blocktrans-template-tag\" rel=\"nofollow\">Django 1.7 introduced the <code>trimmed</code> option</a>, so for Django1.7 and above, you can just add it, like so:</p>\n\n<pre><code>{% blocktrans trimmed with  car_type=car.get_car_type_display %}\n A \n {{ car_type }}\n with chauffeur\n {% endblocktrans %}\n</code></pre>\n"}], "owner": {"reputation": 3380, "user_id": 3062150, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VR4Lk.jpg?s=128&g=1", "display_name": "Aysennoussi", "link": "https://stackoverflow.com/users/3062150/aysennoussi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 28870299, "answer_count": 1, "score": 1, "last_activity_date": 1425531304, "creation_date": 1425512997, "question_id": 28867393, "link": "https://stackoverflow.com/questions/28867393/translation-is-not-executed-for-one-transblock", "title": "translation is not executed for one transblock", "body": "<p>I have this translation block </p>\n\n<pre><code>{% blocktrans with  car_type=car.get_car_type_display %}\n A \n {{ car_type }}\n with chauffeur\n {% endblocktrans %}\n</code></pre>\n\n<p>and the translation in django.po </p>\n\n<pre><code>msgid \"\"\n\"\\n\"\n\"                                            A \\n\"\n\"                                            %(car_type)s\\n\"\n\"                                            with chauffeur\\n\"\n\"                                        \"\nmsgstr \"\"\n\"\\n\"\n\"                                            Une \\n\"\n\"                                            %(car_type)s\\n\"\n\"                                            avec chauffeur\\n\"\n\"                                        \"\n</code></pre>\n\n<p>But the translation doesn't seem to have an effect.\n<br>\nPS: There is no fuzzy tag.\n<br>\nCan you help ? </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1425631812, "post_id": 28867413, "comment_id": 46050290, "body": "Thanks, your solution is what I prefer, compared to the regex :)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 0, "last_activity_date": 1425515517, "last_edit_date": 1425515517, "creation_date": 1425513129, "answer_id": 28867413, "question_id": 28867364, "link": "https://stackoverflow.com/questions/28867364/process-a-string-in-multiple-substrings/28867413#28867413", "title": "Process a string in multiple substrings", "body": "<p>You don't need to keep splitting for a single element, you can split once on \"*\" the get the first element then split the remaining string on \"-\" and join the first two of the remaining elements:</p>\n\n<pre><code>s = \"stringA*stringB-stringC-stringD\"\n\nspl =  s.split(\"*\",1)\na, b  = spl[0],\"-\".join(spl[1].split(\"-\",2)[0:2])\nprint(a,b)\nstringA stringB-stringC\n</code></pre>\n\n<p>Or <code>str.translate</code> to remove both characters and split once and join:</p>\n\n<pre><code>s = \"stringA*stringB-stringC-stringD\"\ntbl = str.maketrans(\"*-\",\"  \")\nspl = s.translate(tbl).split()\na,b  = spl[0],\"-\".join(spl[1:3])\nprint(a,b)\n\nstringA stringB-stringC\n</code></pre>\n\n<p>Splitting will be the most efficient.</p>\n"}, {"tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 0, "last_activity_date": 1425515003, "creation_date": 1425515003, "answer_id": 28867797, "question_id": 28867364, "link": "https://stackoverflow.com/questions/28867364/process-a-string-in-multiple-substrings/28867797#28867797", "title": "Process a string in multiple substrings", "body": "<p>Another way you could split your string into two is by using <code>regex</code>:</p>\n\n<pre><code>import re\n\ns = \"stringA*stringB-stringC-stringD-stringE\"\nm = re.match(\"(\\\\w+)\\\\*(\\\\w+\\\\-\\\\w+)\\\\b\", s)\nv1 = m.group(1)\nv2 = m.group(2)\n</code></pre>\n\n<p>After matching we put each result into it's own var, resulting in:</p>\n\n<pre><code>('stringA', 'stringB-stringC')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 28867413, "answer_count": 2, "score": 0, "last_activity_date": 1490225846, "creation_date": 1425512859, "last_edit_date": 1490225846, "question_id": 28867364, "link": "https://stackoverflow.com/questions/28867364/process-a-string-in-multiple-substrings", "title": "Process a string in multiple substrings", "body": "<p>I am not able to achieve an efficient algorithm that is able to do this operation.</p>\n\n<p>I have an output from one of my process, that is formatted as following:</p>\n\n<pre><code>stringA*stringB-stringC-stringD....-stringN\n</code></pre>\n\n<p>I am trying to get stringA in one variable, and take stringB and stringC joined in another variable, while dumping the rest.</p>\n\n<pre><code>var1 contain stringA\nvar2 contain stringA-stringB\n</code></pre>\n\n<p>So far I am able to grab stringA using split:</p>\n\n<pre><code>cutstringA=longstring.split(\"*\")[0]\n</code></pre>\n\n<p>But I can't find a way to grab stringB and stringC, without make 3 call to split:</p>\n\n<pre><code>tmpstr=longstring.split(\"*\")[1] #return stringB-stringC.....-stringN\ncutstringB=tmpstr.split(\"-\")[0] #return stringB\ncutstringC=tmpstr.split(\"-\")[1] #return stringC\ncutstringBC=\"{}-{}\".format(cutstringB, cutstringC) #return stringB-stringC\n</code></pre>\n\n<p>Is there a more efficient way to achieve this? Or the only way is to break multiple times the big string, and then join together the pieces that I want to use?</p>\n"}, {"tags": ["python", "xml"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1425513054, "last_edit_date": 1495542044, "creation_date": 1425512747, "answer_id": 28867338, "question_id": 28867268, "link": "https://stackoverflow.com/questions/28867268/how-do-i-traverse-an-xml-tree-without-having-to-worry-about-namespace-prefixes-i/28867338#28867338", "title": "How do I traverse an XML tree without having to worry about namespace prefixes in Python?", "body": "<p>You need to handle namespaces as clearly explained at:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/14853243/771848\">Parsing XML with namespace in Python via &#39;ElementTree&#39;</a></li>\n</ul>\n\n<p>But, what if instead, you'll use a specialized library for reading RSS feeds, like <a href=\"https://pypi.python.org/pypi/feedparser\" rel=\"nofollow noreferrer\"><code>feedparser</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import feedparser\n&gt;&gt;&gt; url = \"http://some/rss/feed\"\n&gt;&gt;&gt; feed = feedparser.parse(url)\n</code></pre>\n\n<hr>\n\n<p>Though I would personally use an <a href=\"https://scrapy.readthedocs.org/en/latest/topics/spiders.html?highlight=rule#xmlfeedspider-example\" rel=\"nofollow noreferrer\"><code>XMLFeedSpider</code> Scrapy spider</a>. As a bonus, you'll get all other <a href=\"https://scrapy.readthedocs.org/en/latest/intro/overview.html\" rel=\"nofollow noreferrer\">Scrapy web-scraping framework features</a>.</p>\n"}], "owner": {"reputation": 1376, "user_id": 2802340, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/47858aadcf435488b6c9a7b6f87df92e?s=128&d=identicon&r=PG&f=1", "display_name": "wuxiekeji", "link": "https://stackoverflow.com/users/2802340/wuxiekeji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425513054, "creation_date": 1425512349, "question_id": 28867268, "link": "https://stackoverflow.com/questions/28867268/how-do-i-traverse-an-xml-tree-without-having-to-worry-about-namespace-prefixes-i", "title": "How do I traverse an XML tree without having to worry about namespace prefixes in Python?", "body": "<p>For example, to read an RSS feed, this doesn't work because of the silly {<a href=\"http://purl.org\" rel=\"nofollow\">http://purl.org</a> ...} namespaces that get inserted before 'item':</p>\n\n<pre><code>#!/usr/bin/env python3\nimport xml.etree.ElementTree as ET\nimport urllib, urllib.request\n\nurl = \"http://some/rss/feed\"\nresponse = urllib.request.urlopen(url)\nxml_text = response.read().decode('utf-8')\nxml_root = ET.fromstring(xml_text)\nfor e in xml_root.findall('item'):\n  print(\"I found an item!\")\n</code></pre>\n\n<p>Now that findall() has been rendered useless because of the {} prefixes, here's another solution, but this is ugly:</p>\n\n<pre><code>#!/usr/bin/env python3\nimport xml.etree.ElementTree as ET\nimport urllib, urllib.request\n\nurl = \"http://some/rss/feed\"\nresponse = urllib.request.urlopen(url)\nxml_text = response.read().decode('utf-8')\nxml_root = ET.fromstring(xml_text)\nfor e in xml_root:\n  if e.tag.endswith('}item'):\n    print(\"I found an item!\")\n</code></pre>\n\n<p>Can I get ElementTree to just trash all the prefixes?</p>\n"}, {"tags": ["python", "nltk"], "comments": [{"owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "edited": false, "score": 0, "creation_date": 1425512526, "post_id": 28867242, "comment_id": 45999197, "body": "Can you post the full output of the error?"}, {"owner": {"reputation": 93, "user_id": 4534970, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/79c24357e1e15663ec39139404b8a88e?s=128&d=identicon&r=PG&f=1", "display_name": "Auborey", "link": "https://stackoverflow.com/users/4534970/auborey"}, "reply_to_user": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "edited": false, "score": 0, "creation_date": 1425512682, "post_id": 28867242, "comment_id": 45999251, "body": "Edited! added the full output!"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 12394559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e25440baeb6bd364d0cbafffd77c31?s=128&d=identicon&r=PG&f=1", "display_name": "TSH", "link": "https://stackoverflow.com/users/12394559/tsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1574322629, "creation_date": 1574322629, "answer_id": 58969797, "question_id": 28867242, "link": "https://stackoverflow.com/questions/28867242/float-division-by-zero-error-related-to-ngram-and-nltk/58969797#58969797", "title": "float division by zero error related to ngram and nltk", "body": "<p>Your error is occurring due to the return value being close to negative infinity.</p>\n\n<p>The line specifically causing the issue is, </p>\n\n<pre><code>t3.evaluate(testing)\n</code></pre>\n\n<p>What you can do instead is,</p>\n\n<pre><code>try:\n    t3.evaluate(testing)\nexcept ZeroDivisonError:\n    # Do whatever you want it to do\n    print(0)\n</code></pre>\n\n<p>It works on my end. Try it out!</p>\n\n<p>The answer is four years later, but hopefully, a fellow net citizen can find this helpful.</p>\n"}], "owner": {"reputation": 93, "user_id": 4534970, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/79c24357e1e15663ec39139404b8a88e?s=128&d=identicon&r=PG&f=1", "display_name": "Auborey", "link": "https://stackoverflow.com/users/4534970/auborey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 652, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574322629, "creation_date": 1425512250, "last_edit_date": 1425516803, "question_id": 28867242, "link": "https://stackoverflow.com/questions/28867242/float-division-by-zero-error-related-to-ngram-and-nltk", "title": "float division by zero error related to ngram and nltk", "body": "<p>My task is to use 10-fold cross validation method with uni, bi and trigrams in a corpus and compare their accuracy. However, I am stuck with a float division error. All of these codes are given by the question setter except for the loop, so the error is probably there. Here, we are only using the first 1000 sentences to test the program, and that line will be removed once I know the program runs.</p>\n\n<pre><code>import codecs\nmypath = \"/Users/myname/Desktop/\"\ncorpusFile = codecs.open(mypath + \"estonianSample.txt\",mode=\"r\",encoding=\"latin-1\")\nsentences = [[tuple(w.split(\"/\")) for w in line[:-1].split()] for line in corpusFile.readlines()]\ncorpusFile.close()\n\n\nfrom math import ceil\nN=len(sentences)\nchunkSize = int(ceil(N/10.0))\n\n\nsentences = sentences[:1000]\n\nchunks=[sentences[i:i+chunkSize] for i in range(0, N, chunkSize)]\n\nfor i in range(10):\n\n    training = reduce(lambda x,y:x+y,[chunks[j] for j in range(10) if j!=i])\n    testing = chunks[i]\n\nfrom nltk import UnigramTagger,BigramTagger,TrigramTagger\nt1 = UnigramTagger(training)\nt2 = BigramTagger(training,backoff=t1)\nt3 = TrigramTagger(training,backoff=t2)\n\nt3.evaluate(testing)\n</code></pre>\n\n<p>This is what the error says:</p>\n\n<pre><code>runfile('/Users/myname/pythonhw3.py', wdir='/Users/myname')\nTraceback (most recent call last):\n  File \"&lt;ipython-input-1-921164840ebd&gt;\", line 1, in &lt;module&gt;\n    runfile('/Users/myname/pythonhw3.py', wdir='/Users/myname') \n  File \"/Users/myname/anaconda/lib/python2.7/site-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 580, in runfile\n    execfile(filename, namespace)\n  File \"/Users/myname/pythonhw3.py\", line 34, in &lt;module&gt;\n    t3.evaluate(testing)\n  File \"/Users/myname/anaconda/lib/python2.7/site-packages/nltk/tag/api.py\", line 67, in evaluate\n    return accuracy(gold_tokens, test_tokens)\n  File \"/Users/myname/anaconda/lib/python2.7/site-packages/nltk/metrics/scores.py\", line 40, in accuracy\n    return float(sum(x == y for x, y in izip(reference, test))) / len(test)    \nZeroDivisionError: float division by zero\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1425512827, "post_id": 28867325, "comment_id": 45999304, "body": "Also, get_or_create returns a tuple: (instance, created) where created is True if the record didn&#39;t already exist in the database."}, {"owner": {"reputation": 155, "user_id": 4586315, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6358e54d29d10846710181a1cc0f87b5?s=128&d=identicon&r=PG&f=1", "display_name": "UK2AU", "link": "https://stackoverflow.com/users/4586315/uk2au"}, "edited": false, "score": 0, "creation_date": 1425512899, "post_id": 28867325, "comment_id": 45999333, "body": "&#39;ValueError at /profiles/ Cannot assign &quot;5&quot;: &quot;UserProfile.user&quot; must be a &quot;User&quot; instance. Request Method:\tGET Request URL:\t<a href=\"http://127.0.0.1:8000/profiles/\" rel=\"nofollow noreferrer\">127.0.0.1:8000/profiles</a> Django Version:\t1.6.5 Exception Type:\tValueError Exception Value:\t Cannot assign &quot;5&quot;: &quot;UserProfile.user&quot; must be a &quot;User&quot; instance.&#39;"}, {"owner": {"reputation": 155, "user_id": 4586315, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6358e54d29d10846710181a1cc0f87b5?s=128&d=identicon&r=PG&f=1", "display_name": "UK2AU", "link": "https://stackoverflow.com/users/4586315/uk2au"}, "edited": false, "score": 0, "creation_date": 1425512926, "post_id": 28867325, "comment_id": 45999345, "body": "Hi Rod, I have altered this and am now getting the traceback as above/"}, {"owner": {"reputation": 155, "user_id": 4586315, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6358e54d29d10846710181a1cc0f87b5?s=128&d=identicon&r=PG&f=1", "display_name": "UK2AU", "link": "https://stackoverflow.com/users/4586315/uk2au"}, "edited": false, "score": 0, "creation_date": 1425514241, "post_id": 28867325, "comment_id": 45999750, "body": "@RodXavier i have edited the answer and still getting the traceback error &#39;Exception Value:\t Cannot assign &quot;5&quot;: &quot;UserProfile.user&quot; must be a &quot;User&quot; instance.&#39;"}, {"owner": {"reputation": 3753, "user_id": 1134851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbJSU.jpg?s=128&g=1", "display_name": "Rod Xavier", "link": "https://stackoverflow.com/users/1134851/rod-xavier"}, "edited": false, "score": 0, "creation_date": 1425514304, "post_id": 28867325, "comment_id": 45999776, "body": "this part <code>user = request.user.id</code> should be <code>user=request.user</code>"}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1425514365, "post_id": 28867325, "comment_id": 45999799, "body": "The issue you&#39;re seeing, UK2AU, is occurring because the value in &#39;user&#39; is the user&#39;s <i>id</i>. Rod Xavier&#39;s answer will work, but if you <i>need</i> the id, you can alternatively do this: <code>user_id=user</code>."}, {"owner": {"reputation": 155, "user_id": 4586315, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6358e54d29d10846710181a1cc0f87b5?s=128&d=identicon&r=PG&f=1", "display_name": "UK2AU", "link": "https://stackoverflow.com/users/4586315/uk2au"}, "edited": false, "score": 0, "creation_date": 1425514812, "post_id": 28867325, "comment_id": 45999947, "body": "i still had &#39;user = request.user.id&#39; which was causing the error chnaged to &#39;user = request.user&#39; and its working now. Thank you @RodXavier &amp; bmhkim"}], "tags": [], "owner": {"reputation": 3753, "user_id": 1134851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbJSU.jpg?s=128&g=1", "display_name": "Rod Xavier", "link": "https://stackoverflow.com/users/1134851/rod-xavier"}, "is_accepted": true, "score": 6, "last_activity_date": 1425512637, "creation_date": 1425512637, "answer_id": 28867325, "question_id": 28867237, "link": "https://stackoverflow.com/questions/28867237/django-get-or-create-not-creating-new-record-in-the-model/28867325#28867325", "title": "Django get_or_create not creating new record in the model", "body": "<p>You don't need to pass the model class to the method.</p>\n\n<pre><code>profile = UserProfile.objects.get_or_create(UserProfile, user=user)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>profile, created = UserProfile.objects.get_or_create(user=user)\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 4586315, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6358e54d29d10846710181a1cc0f87b5?s=128&d=identicon&r=PG&f=1", "display_name": "UK2AU", "link": "https://stackoverflow.com/users/4586315/uk2au"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3808, "favorite_count": 0, "accepted_answer_id": 28867325, "answer_count": 1, "score": 2, "last_activity_date": 1425514851, "creation_date": 1425512233, "last_edit_date": 1425514851, "question_id": 28867237, "link": "https://stackoverflow.com/questions/28867237/django-get-or-create-not-creating-new-record-in-the-model", "title": "Django get_or_create not creating new record in the model", "body": "<p>I'm having issue with the get_or_create statement. It gets the record if there is one but isnt creating a record. I have defaults in all of my model fields.</p>\n\n<p>My view.py</p>\n\n<pre><code>    from django.contrib.auth.decorators import login_required\nfrom django.shortcuts import render, HttpResponseRedirect, Http404, get_object_or_404\nfrom django.contrib.auth import logout, login, authenticate\nfrom django.contrib.auth.models import User\nfrom django.contrib import messages\nfrom django.core.urlresolvers import reverse\nfrom django.utils.safestring import mark_safe\n\n# Create your views here.\nfrom .models import UserProfile\n\n\n\n@login_required\ndef profile_view(request):\n    user = request.user\n    account = request.user\n    profile = UserProfile.objects.get_or_create(UserProfile, user=user)\n    context = {'profile': profile, 'account': account, }\n    template = 'profiles/profile.html'  \n    return render(request, template, context)\n</code></pre>\n\n<p>The traceback im getting is:</p>\n\n<pre><code>ypeError at /profiles/\nget_or_create() takes exactly 1 argument (3 given)\nRequest Method: GET\nRequest URL:    http://127.0.0.1:8000/profiles/\nDjango Version: 1.6.5\nException Type: TypeError\nException Value:    \nget_or_create() takes exactly 1 argument (3 given)\n</code></pre>\n\n<p>The models.py im working on is:</p>\n\n<pre><code>class UserProfile(models.Model):\nuser = models.OneToOneField(settings.AUTH_USER_MODEL)\ncity = models.CharField(max_length=120, default=\"Add your city\")\ncountry = models.CharField(max_length=120, default=\"Add your country\") #(max_length=2, choices=[(x[0], x[3]) for x in country.COUNTRIES])\nzipcode = models.CharField(max_length=8, default=\"Add your zip/postcode\")\nbirthyear = models.IntegerField(max_length=4, default=\"Add your birthyear\")\ntimestamp = models.DateTimeField(auto_now_add=True, auto_now=False)\nupdated = models.DateTimeField(auto_now_add=False, auto_now=True)\n\ndef __unicode__(self):\n    return str(self.user.username)\n\nclass Meta:\n    ordering = ['-updated', '-timestamp']\n</code></pre>\n"}, {"tags": ["python", "recursion", "permutation", "nested-lists"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 1965081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f02c584a1b78dcce10be5c839faaadf1?s=128&d=identicon&r=PG", "display_name": "user1965081", "link": "https://stackoverflow.com/users/1965081/user1965081"}, "edited": false, "score": 0, "creation_date": 1425513175, "post_id": 28867289, "comment_id": 45999444, "body": "thanks, can you also show me how to put the list of lists in alpha order judging from the first element in each list so it&#39;s like.. lst = [ [a,b], [a,c] ]"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 55, "user_id": 1965081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f02c584a1b78dcce10be5c839faaadf1?s=128&d=identicon&r=PG", "display_name": "user1965081", "link": "https://stackoverflow.com/users/1965081/user1965081"}, "edited": false, "score": 1, "creation_date": 1425513512, "post_id": 28867289, "comment_id": 45999554, "body": "Just call <code>combo_list.sort()</code> and it will be sorted."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1425512467, "creation_date": 1425512467, "answer_id": 28867289, "question_id": 28867236, "link": "https://stackoverflow.com/questions/28867236/lists-of-lists-python-recursive-permutation/28867289#28867289", "title": "Lists of lists python recursive permutation", "body": "<pre><code>from itertools import *\n\ncombo_list = []\n\nfor i in your_list:\n    for j in permutations(i, len(i)):\n        combo_list.append(j)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 1965081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f02c584a1b78dcce10be5c839faaadf1?s=128&d=identicon&r=PG", "display_name": "user1965081", "link": "https://stackoverflow.com/users/1965081/user1965081"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 28867289, "answer_count": 1, "score": -1, "last_activity_date": 1425512467, "creation_date": 1425512231, "question_id": 28867236, "link": "https://stackoverflow.com/questions/28867236/lists-of-lists-python-recursive-permutation", "title": "Lists of lists python recursive permutation", "body": "<p>How do you manipulate a list of list of string in a specific way so that</p>\n\n<pre><code>lst = [ [a, b], [c, d, e], [f, a, e] ]\n# turns into\nlst = [ [a, b], [b, a], [c, d, e], [c, e, d], [d, c, e],etc...]\n#there are 14 combinations\n</code></pre>\n"}, {"tags": ["python", "string", "python-3.x", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4144048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1281670017/picture?type=large", "display_name": "Torched90", "link": "https://stackoverflow.com/users/4144048/torched90"}, "edited": false, "score": 0, "creation_date": 1425512746, "post_id": 28867255, "comment_id": 45999279, "body": "Wow thank you. I did try using range(len(String)-1) earlier but I wasn&#39;t getting the first letter of the word"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 175, "user_id": 4144048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1281670017/picture?type=large", "display_name": "Torched90", "link": "https://stackoverflow.com/users/4144048/torched90"}, "edited": false, "score": 1, "creation_date": 1425512808, "post_id": 28867255, "comment_id": 45999294, "body": "@Torched90, no worries, <code>[-1]</code> is indexing, getting the last character, <code>[:-1]</code> is slicing"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1425512654, "last_edit_date": 1425512654, "creation_date": 1425512307, "answer_id": 28867255, "question_id": 28867222, "link": "https://stackoverflow.com/questions/28867222/python-3-check-letters-in-string-with-the-next-letter/28867255#28867255", "title": "Python 3 - Check letters in string with the next letter", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">enumerate</a>, <a href=\"http://www.pythoncentral.io/cutting-and-slicing-strings-in-python/\" rel=\"nofollow\">slicing</a> the string up to the second last character:    </p>\n\n<pre><code>String = 'ABCEEFGH'\n\nfor ind,ch in enumerate(String[:-1]):\n    if ch == String[ind+1]:\n        print('Double')\n</code></pre>\n\n<p>In your own code the logic would be the same <code>len(String)-1</code> but enumerate is the way to go:</p>\n\n<pre><code>for index in range(len(String)-1):\n    if String[index] == String[index+1]:\n        print('Double')\n</code></pre>\n\n<p>The fact you seen to only want to check if  any two adjacent characters are identical, maybe using <a href=\"https://docs.python.org/2/library/functions.html#any\" rel=\"nofollow\">any</a> would be best:</p>\n\n<pre><code>String = 'ABCEEFGH'\n\nif any( ch == String[ind+1] for ind, ch in enumerate(String[:-1])):\n        print('Double',ch)\n</code></pre>\n\n<p><code>any</code> will short circuit and break the loop as soon the condition is <code>True</code>or else evaluate to <code>False</code> if we have no match.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1425512854, "creation_date": 1425512854, "answer_id": 28867362, "question_id": 28867222, "link": "https://stackoverflow.com/questions/28867222/python-3-check-letters-in-string-with-the-next-letter/28867362#28867362", "title": "Python 3 - Check letters in string with the next letter", "body": "<p>You can use regular expressions:</p>\n\n<pre><code>for match in re.findall(r'([a-z])\\1', your_string):\n    print('Double letters found here.')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1425597598, "last_edit_date": 1425597598, "creation_date": 1425515192, "answer_id": 28867829, "question_id": 28867222, "link": "https://stackoverflow.com/questions/28867222/python-3-check-letters-in-string-with-the-next-letter/28867829#28867829", "title": "Python 3 - Check letters in string with the next letter", "body": "<p>These kinds of problems are almost always easier if you think of comparing with the <em>previous</em> letter instead of the next one. It's a lot easier to remember letters you've already seen than to look ahead.</p>\n\n<pre><code>text = 'ABCEEFGH'\nprev = ''\nfor letter in text:\n    if letter == prev:\n       print(\"letter duplicated:\", letter)\n    prev = letter\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "is_accepted": false, "score": 1, "last_activity_date": 1425536594, "creation_date": 1425536594, "answer_id": 28871305, "question_id": 28867222, "link": "https://stackoverflow.com/questions/28867222/python-3-check-letters-in-string-with-the-next-letter/28871305#28871305", "title": "Python 3 - Check letters in string with the next letter", "body": "<pre><code>&gt;&gt;&gt; text = 'ABCEEFGH'\n&gt;&gt;&gt; for c1, c2 in zip(text, text[1:]):\n        if c1 == c2:\n            print 'double'\n\n\ndouble\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4144048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1281670017/picture?type=large", "display_name": "Torched90", "link": "https://stackoverflow.com/users/4144048/torched90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18426, "favorite_count": 2, "answer_count": 4, "score": 3, "last_activity_date": 1425597598, "creation_date": 1425512148, "question_id": 28867222, "link": "https://stackoverflow.com/questions/28867222/python-3-check-letters-in-string-with-the-next-letter", "title": "Python 3 - Check letters in string with the next letter", "body": "<p>If I have a string </p>\n\n<pre><code>String = 'ABCEEFGH'\n</code></pre>\n\n<p>How can I check what letter is beside each letter without going out of index?</p>\n\n<pre><code>for index in range(len(String)):\n    if String[index] == String[index+1]: \n        print('Double')\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "amazon-sns"], "comments": [{"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1425563134, "post_id": 28867214, "comment_id": 46020261, "body": "Can you make a successful connection to your endpoint <i>from the Internet?</i> That is where SNS notifications come from, so your endpoint must be externally-accessible in order for this to work... SNS doesn&#39;t have a back door into EC2."}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425568237, "post_id": 28867214, "comment_id": 46023541, "body": "where is your HTTP endpoint running? (ie what did you enter in the subscribe box in sns?)"}, {"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "reply_to_user": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425572186, "post_id": 28867214, "comment_id": 46026283, "body": "@Mircea My end point is running here: <a href=\"http://ec2-54-70-92-91.us-west-2.compute.amazonaws.com/test\" rel=\"nofollow noreferrer\">ec2-54-70-92-91.us-west-2.compute.amazonaws.com/test</a>"}, {"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1425573057, "post_id": 28867214, "comment_id": 46026821, "body": "@Michael-sqlbot It is externally-accessible. I curl some message to the same endpoint from my lcoal box, and it receive it fine."}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 1, "creation_date": 1425574804, "post_id": 28867214, "comment_id": 46027997, "body": "what is the format of the endpoint? It&#39;s highly unlikely SNS is not doing the right thing."}, {"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "reply_to_user": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425576786, "post_id": 28867214, "comment_id": 46029240, "body": "@Mircea You mean protocol? It&#39;s HTTP."}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425577176, "post_id": 28867214, "comment_id": 46029493, "body": "yeah... can you show me the endpoint here? (replace anything that might be confidential)"}, {"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "reply_to_user": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425578191, "post_id": 28867214, "comment_id": 46030166, "body": "@Mircea I did, <a href=\"http://ec2-54-70-92-91.us-west-2.compute.amazonaws.com/test\" rel=\"nofollow noreferrer\">ec2-54-70-92-91.us-west-2.compute.amazonaws.com/test</a> is my endpoint"}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425579950, "post_id": 28867214, "comment_id": 46031218, "body": "does not look like there is something running there, or security groups on that instance may prevent traffic from the internet. If you hit the endpoint from your machine (not an EC2 machine) does it work?"}, {"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "reply_to_user": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425583613, "post_id": 28867214, "comment_id": 46033265, "body": "@Mircea Right, the outside traffic might get blocked, but I can hit the endpoint (not EC2) from my local machine. I curl message, the endpoint receive it fine, but not from SNS."}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1425591532, "post_id": 28867214, "comment_id": 46037647, "body": "tried your endpoint from outside and it&#39;s not working. so I would say there is a problem on the path."}], "answers": [{"comments": [{"owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "edited": false, "score": 1, "creation_date": 1425921739, "post_id": 28900182, "comment_id": 46150131, "body": "You are right. It&#39;s due to security group inbound connectivity. I get the message once I make my endpoint globally-accessible. Thanks."}], "tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": true, "score": 2, "last_activity_date": 1425649747, "creation_date": 1425649747, "answer_id": 28900182, "question_id": 28867214, "link": "https://stackoverflow.com/questions/28867214/cannot-get-http-subscription-confirmation-request/28900182#28900182", "title": "Cannot get HTTP subscription confirmation request", "body": "<blockquote>\n  <p>Right, the outside traffic might get blocked, but I can hit the endpoint (not EC2) from my local machine.\u00a0</p>\n</blockquote>\n\n<p>This misses the point.  You have to allow inbound connectivity from the Internet before SNS can access your http(s) endpoint.  SNS does not have a back door to your instances.</p>\n\n<p>The source IP address ranges for SNS notifications are published, so you can allow them in your security group...</p>\n\n<p><a href=\"https://forums.aws.amazon.com/ann.jspa?annID=1649\" rel=\"nofollow\">https://forums.aws.amazon.com/ann.jspa?annID=1649</a></p>\n\n<p>However, you need to be aware that the list is subject to change, so the best practice may be to make your endpoint globally-accessible. </p>\n\n<p>It is also important to validate the messages using the signature provided, as well as to validate the public key of the certificate in the message by verifying that the URL for the certificate is legitimately associated with SNS, and by fetching the cert with HTTPS and validating the certificate provided during that TLS request as legitimately belonging to Amazon.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/sns/latest/dg/SendMessageToHttp.verify.signature.html\" rel=\"nofollow\">http://docs.aws.amazon.com/sns/latest/dg/SendMessageToHttp.verify.signature.html</a></p>\n"}], "owner": {"reputation": 1348, "user_id": 2367983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/910ef650e40e0c049fb2a9fa5708a349?s=128&d=identicon&r=PG", "display_name": "Lishu", "link": "https://stackoverflow.com/users/2367983/lishu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 0, "accepted_answer_id": 28900182, "answer_count": 1, "score": 1, "last_activity_date": 1425649747, "creation_date": 1425512116, "question_id": 28867214, "link": "https://stackoverflow.com/questions/28867214/cannot-get-http-subscription-confirmation-request", "title": "Cannot get HTTP subscription confirmation request", "body": "<p>I write a tornado service as the Amazon SNS endpoint. </p>\n\n<pre><code>class TestHandler(tornado.web.RequestHandler):\n    def get(self):\n        logging.info('get')\n        self.sns()\n        self.write(self.request.body.decode('utf-8'))\n\n    def post(self):\n        logging.info('post')\n        self.sns()\n        self.write(self.request.body.decode('utf-8'))\n\n    def sns(self):\n        headers = self.request.headers\n        logging.info('HEADER: {}'.format(headers))\n        arn = headers.get('x-amz-sns-subscription-arn')\n        obj = json.loads(self.request.body)\n\n        if headers.get('x-amz-sns-message-type') == 'SubscriptionConfirmation':\n            logging.info('REQUEST: {}'.format(self.request))\n            subscribe_url = obj[u'SubscribeURL']\n            logging.info('URL:{}'.format(subscribe_url))\n            return '&lt;Arn %r&gt;' % arn\n\n        elif headers.get('x-amz-sns-message-type') == 'UnsubscribeConfirmation':\n            logging.info('Unsubscription')\n\n        elif headers.get('x-amz-sns-message-type') == 'Notification':\n            logging.info('Unsubscription')\n\n        return '', 200\n</code></pre>\n\n<p>But when I subscribe the endpoint to SNS, I didn't get any HTTP POST request. No logs was printed. So I tried to do <code>curl</code> instead, and the logs shows it fine. I'm more convinced that SNS didn't send the request rather than my endpoint didn't receive it. I have no idea how to proceed. Please help. Thanks.  </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 3, "creation_date": 1425512070, "post_id": 28867195, "comment_id": 45999054, "body": "Nope it does not. Your example is incorrect."}, {"owner": {"reputation": 1143, "user_id": 2214462, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bLarQ.jpg?s=128&g=1", "display_name": "Mathemats", "link": "https://stackoverflow.com/users/2214462/mathemats"}, "edited": false, "score": 0, "creation_date": 1425512214, "post_id": 28867195, "comment_id": 45999109, "body": "So what is the error champ?"}, {"owner": {"reputation": 533, "user_id": 1053076, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54ba13c1999c4f89899887139c88d746?s=128&d=identicon&r=PG&f=1", "display_name": "unicornication", "link": "https://stackoverflow.com/users/1053076/unicornication"}, "reply_to_user": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1425512419, "post_id": 28867195, "comment_id": 45999169, "body": "@Marcin added console output, thanks! :-)"}], "answers": [{"comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 533, "user_id": 1053076, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54ba13c1999c4f89899887139c88d746?s=128&d=identicon&r=PG&f=1", "display_name": "unicornication", "link": "https://stackoverflow.com/users/1053076/unicornication"}, "edited": false, "score": 0, "creation_date": 1425512821, "post_id": 28867229, "comment_id": 45999302, "body": "@KaranK Glad I could help:-)"}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 4, "last_activity_date": 1425512476, "last_edit_date": 1425512476, "creation_date": 1425512166, "answer_id": 28867229, "question_id": 28867195, "link": "https://stackoverflow.com/questions/28867195/python-list-of-lists-behaving-strange/28867229#28867229", "title": "Python list of lists behaving strange", "body": "<p>I think you need to do this:</p>\n\n<pre><code>  self.board.append(col_template[:])\n</code></pre>\n\n<p>Otherwise, your board will have references to the same array. </p>\n\n<p>Your correct example should be:</p>\n\n<pre><code>a=[1,2,3]\nx = [a,a,a]\nx[0][0] = 5\nprint(x) # [[5, 2, 3], [5, 2, 3], [5, 2, 3]]\n</code></pre>\n\n<p>To fix the above problem:</p>\n\n<pre><code>a=[1,2,3]\nx = [a[:],a[:],a[:]]\nx[0][0] = 5\nprint(x) # [[5, 2, 3], [1, 2, 3], [1, 2, 3]]\n</code></pre>\n\n<p>This happens because x stores only references to the same list a. You need explicitly create copies (done by <code>a[:]</code>) of <code>a</code> to have different sublists in x. </p>\n"}], "owner": {"reputation": 533, "user_id": 1053076, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54ba13c1999c4f89899887139c88d746?s=128&d=identicon&r=PG&f=1", "display_name": "unicornication", "link": "https://stackoverflow.com/users/1053076/unicornication"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 28867229, "answer_count": 1, "score": 1, "last_activity_date": 1425512476, "creation_date": 1425512016, "question_id": 28867195, "link": "https://stackoverflow.com/questions/28867195/python-list-of-lists-behaving-strange", "title": "Python list of lists behaving strange", "body": "<p>This is likely a duplicate question but it is different in that the error occurs when I am using for loops. To explain, if I have list:</p>\n\n<pre><code>x = [[1,2,3],[1,2,3],[1,2,3]]\n</code></pre>\n\n<p>and I do</p>\n\n<pre><code>x[0][0] = 5\n</code></pre>\n\n<p>The list will change to</p>\n\n<pre><code>[[5,2,3],[5,2,3],[5,2,3]]\n</code></pre>\n\n<p>A comment pointed out the above may be incorrect, below is output directly from the console:</p>\n\n<pre><code>&gt;&gt;&gt; x = Board()\n&gt;&gt;&gt; x.create(6,6)\n[['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', '']]\n&gt;&gt;&gt; x.board\n[['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', ''], ['', '', '', '', '', '']]\n&gt;&gt;&gt; x.board[0][1]\n''\n&gt;&gt;&gt; x.board[0][1] = 1\n&gt;&gt;&gt; x.board\n[['', 1, '', '', '', ''], ['', 1, '', '', '', ''], ['', 1, '', '', '', ''], ['', 1, '', '', '', ''], ['', 1, '', '', '', ''], ['', 1, '', '', '', '']]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The solution described in other answers involve creating a for loop to create a new list element, however I'm not sure how to implement that in my code, shown below-</p>\n\n<pre><code>class Board():\n   def create(self, rows, cols):\n        self.board = []\n        col_template = []\n        for col in range(cols):\n                col_template.append(\"\")\n        for row in range(rows):\n            self.board.append(col_template)\n        return self.board\n</code></pre>\n\n<p>Where <code>rows, cols</code> are some even integers</p>\n"}, {"tags": ["python", "amazon-dynamodb", "boto"], "owner": {"reputation": 151, "user_id": 1601333, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/570b0d8409693dbfe85b37cfca3d49b7?s=128&d=identicon&r=PG", "display_name": "user1601333", "link": "https://stackoverflow.com/users/1601333/user1601333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425511757, "creation_date": 1425511757, "last_edit_date": 1495542239, "question_id": 28867149, "link": "https://stackoverflow.com/questions/28867149/why-is-boto-dynamodb2-significantly-slower-thane-dynamodb", "title": "Why is Boto dynamodb2 significantly slower thane dynamodb?", "body": "<p>I have been using boto.dynamodb for a couple of years but recently found that I need to put lists and maps into my DynamoDB table so I decided to switch over to boto.dynamodb2.</p>\n\n<p>However, in attempting to do so I found that the performance for dynamodb2 was significantly slower. I am curious as to if this should be expected and if so what is the benefit to moving to dynamodb2 (assuming I don't need to use any of DyanomoDBs newer functions).</p>\n\n<p>In the test below, I utilized some timing code from <a href=\"https://stackoverflow.com/questions/5478351/python-time-measure-function\">Python time measure function</a></p>\n\n<pre><code>@timing\ndef test1():\n    logs = aws_conn.query(old_table, hash_key=88, attributes_to_get=attribs)\n    return list(logs)\n\n\n@timing\ndef test2():\n    logs = log_table.query_2(key__eq=88, attributes_to_get=attribs)\n    return list(logs)\n\n\n# &gt;&gt;&gt; logs1 = test1()  # dynamodb.layer2.query for 90705 objects\n# test1 function took 60063.000 ms\n# &gt;&gt;&gt; logs2 = test2()   # dynamodb.table.query_2 for 90706 objects\n# test2 function took 164971.000 ms\n</code></pre>\n"}, {"tags": ["python", "file", "input"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4625801, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gwSIIm_Svkw/AAAAAAAAAAI/AAAAAAAAABs/RrwybBiz4iM/photo.jpg?sz=128", "display_name": "Andrew Carter", "link": "https://stackoverflow.com/users/4625801/andrew-carter"}, "edited": false, "score": 0, "creation_date": 1425528664, "post_id": 28867201, "comment_id": 46003587, "body": "I would do <code>except EnvironmentError</code> but this is the right idea for sure."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1425512026, "creation_date": 1425512026, "answer_id": 28867201, "question_id": 28867145, "link": "https://stackoverflow.com/questions/28867145/asking-for-input-in-python-allow-direct-entry-or-a-text-file/28867201#28867201", "title": "Asking for input in python, allow direct entry or a text file", "body": "<p>Use a try and except to see if the passed string is a valid path:</p>\n\n<pre><code>x = input()\n\ntry:\n    with open(x) as data:\n        for name_line in data:\n            print('Hi ' + name_line)\n\nexcept:\n    print('Hi ' + x)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4634468, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aV_sxP6cSBI/AAAAAAAAAAI/AAAAAAAAAXc/QZAdbD8Oqmc/photo.jpg?sz=128", "display_name": "hcd", "link": "https://stackoverflow.com/users/4634468/hcd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425512026, "creation_date": 1425511747, "question_id": 28867145, "link": "https://stackoverflow.com/questions/28867145/asking-for-input-in-python-allow-direct-entry-or-a-text-file", "title": "Asking for input in python, allow direct entry or a text file", "body": "<p>Is it possible to use a typical x=input('') where someone could either do a direct entry, or they can say read from a file?\nExample:</p>\n\n<pre><code>x=input(\"\")\nfor line in x:\n    print('Hi %s'%line)\n</code></pre>\n\n<p>The person can then either type their name, or put a text file to read from? If so, how?</p>\n"}, {"tags": ["python", "numpy", "netcdf"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1425564385, "post_id": 28867092, "comment_id": 46021004, "body": "I suggest you catch the <code>ValueError</code> exception and examine the problem string"}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 1633204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e6582a33bacdc716162ce80691266cc1?s=128&d=identicon&r=PG", "display_name": "RJCL", "link": "https://stackoverflow.com/users/1633204/rjcl"}, "is_accepted": false, "score": 2, "last_activity_date": 1425566515, "creation_date": 1425566515, "answer_id": 28880519, "question_id": 28867092, "link": "https://stackoverflow.com/questions/28867092/valueerror-string-to-float-when-retrieving-float32-from-netcdf-file-using-netcdf/28880519#28880519", "title": "ValueError string to float when retrieving float32 from Netcdf file using Netcdf4 in python", "body": "<p>From the traceback the problem was occurring in the \"_toma\" Netcdf4 function which converts the data to a masked array.    When reading the file with other utilities (eg. NCDUMP) I had no problem accessing the data.</p>\n\n<p>At the moment I believe the problem occurred because I had an unassigned 'missing_value' attribute for the variable.  Apparently, if there is no 'missing_value' attribute Netcdf4 defaults to a missing value appropriate for the dtype.    In my implementation the 'missing_value' attribute was being exposed for editing via a wxpyhton grid control.  When the edited attributes in the grid were written back to the netcdf file the empty grid cell was returning either a None object or wx.emptyString, which Netcdf4 attempted to insert into the float type in the netcdf file.    </p>\n"}], "owner": {"reputation": 347, "user_id": 1633204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e6582a33bacdc716162ce80691266cc1?s=128&d=identicon&r=PG", "display_name": "RJCL", "link": "https://stackoverflow.com/users/1633204/rjcl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425566515, "creation_date": 1425511556, "question_id": 28867092, "link": "https://stackoverflow.com/questions/28867092/valueerror-string-to-float-when-retrieving-float32-from-netcdf-file-using-netcdf", "title": "ValueError string to float when retrieving float32 from Netcdf file using Netcdf4 in python", "body": "<p>I am using netcdf4 in python 2.7 on a windows7 machine.  I have loaded numpy recarrays into a netcdf file I created and have subsequently retrieved the data several times.  Then, for some unknown reason when I try to retrieve the data I get a ValueError could not convert string to float:</p>\n\n<p>The code that is being used to retrieve the data is:</p>\n\n<pre><code>def getNetCDFGroupVarData(NCfilename, GroupPath, Variable):\n\"\"\"  ==============================================================\nTITLE:      getNetCDFGroupVarData    \n\nDESCR:      for a valid variable on the specified path in a NetCDF file\n            returns a data vector \n\nARGS:       NCfilename : netcdf4 file path and name\n            GroupPath : group path \n            Variable : variable name \n\nRETURN:     VarData: vector of variable data\n\nDEPEND:     netCDF4.Dataset     \n\n=======================================================================  \n\"\"\"\n# get rootgroup and group from which to return attributes\nif os.path.isfile(NCfilename):\n    RG = Dataset(NCfilename, 'a')\n    G = giveListEndGroup(RG,GroupPath)\n\n    # retrieve variable data from group\n    keyVar = G.variables.keys()\n    print(keyVar)\n    kvlen = len(keyVar)\n    var = unicode(Variable) \n    if kvlen &gt; 0 :\n        print('variable name: ',var)\n        V =  G.variables[var]\n        print V.dtype\n        print V.shape\n        print V.dimensions\n        VarData = V[:]          #====== Error raised here ==============\n    else:\n        print('no keys found')\n        VarData = None\n\n    RG.close()\n    return VarData\n</code></pre>\n\n<p>The print outputs and error stack I get when calling this function are:</p>\n\n<pre><code>[u'time', u'SECONDS', u'NANOSECONDS', u'Rg', u'Ts1', u'Ts2', u'Ts3', u'V_log', u'T_log']\n('variable name: ', u'time')\nfloat64\n(88872,)\n(u'time',)\nvariable:  time  does not exist\nUnexpected error: &lt;type 'exceptions.ValueError'&gt;\nTraceback (most recent call last):\n  File \"C:\\Users\\rclement\\Documents\\My Dropbox\\Code\\python\\NCTSutil\\Panel_NCTS_structure.py\", line 69, in tree_path_changed\n    pub.sendMessage('NetcdfTS.group.specified', arg1=pathlist )\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\kwargs\\publisher.py\", line 27, in sendMessage\n    topicObj.publish(**kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\kwargs\\publishermixin.py\", line 24, in publish\n    self._publish(msgKwargs)\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\topicobj.py\", line 376, in _publish\n    self.__sendMessage(data, self, iterState)\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\topicobj.py\", line 397, in __sendMessage\n    self._mix_callListener(listener, data, iterState)\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\kwargs\\publishermixin.py\", line 64, in _mix_callListener\n    listener(iterState.filteredArgs, self, msgKwargs)\n  File \"C:\\Python27\\lib\\site-packages\\pubsub\\core\\kwargs\\listenerimpl.py\", line 43, in __call__\n    cb(**kwargs)\n  File \"C:\\Users\\rclement\\Documents\\My Dropbox\\Code\\python\\NCTSutil\\NetcdfTimeSeries.py\", line 70, in listner_group\n    atime = self.GetSelectedVariableData(pathlist, u'time')\n  File \"C:\\Users\\rclement\\Documents\\My Dropbox\\Code\\python\\NCTSutil\\NetcdfTimeSeries.py\", line 307, in GetSelectedVariableData\n    VarData = MNU.getNetCDFGroupVarData(self.filename, GroupPathList, variable )\n  File \"C:\\Users\\rclement\\Documents\\My Dropbox\\Code\\python\\NCTSutil\\MyNetcdfUtil.py\", line 304, in getNetCDFGroupVarData\n    VarData = V[:]  \n  File \"netCDF4.pyx\", line 2949, in netCDF4.Variable.__getitem__ (netCDF4.c:36472)\n  File \"netCDF4.pyx\", line 2969, in netCDF4.Variable._toma (netCDF4.c:36814)\nValueError: could not convert string to float: \n</code></pre>\n\n<p>When I use other netcdf utilities (i.e. panolpy) I can access the data.\nDoes anyone have a clue why netcdf4 would be throwing this excpetion - or worse - how it could have inserted a string in my float32 field in the netcdf file?</p>\n"}, {"tags": ["python", "python-3.x", "mouse"], "comments": [{"owner": {"reputation": 103, "user_id": 3527949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30e8492b651fb1595e2d469f53d8f51a?s=128&d=identicon&r=PG&f=1", "display_name": "user3527949", "link": "https://stackoverflow.com/users/3527949/user3527949"}, "edited": false, "score": 0, "creation_date": 1425512019, "post_id": 28867073, "comment_id": 107377738, "body": "Okay after doing more research I have found a library. <a href=\"https://pypi.python.org/pypi/PyAutoGUI/0.9.26\" rel=\"nofollow noreferrer\">PyAutoGUI Python3.x</a>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425512287, "post_id": 28867073, "comment_id": 107377742, "body": "I believe you are looking for <a href=\"https://github.com/PyUserInput/PyUserInput\" rel=\"nofollow noreferrer\">PyUserInput</a> which is extremely easy to use!"}], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 7699691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/998b1a0c218e9ceca44337ff4b91a6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Che", "link": "https://stackoverflow.com/users/7699691/andrew-che"}, "edited": false, "score": 1, "creation_date": 1493969516, "post_id": 28867951, "comment_id": 74637984, "body": "Better do not execute this code. It is very hard to stop this program once launched. It triggers clicks randomly which makes it even harder."}], "tags": [], "owner": {"reputation": 3232, "user_id": 391865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YW12D.jpg?s=128&g=1", "display_name": "rutsky", "link": "https://stackoverflow.com/users/391865/rutsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1561777589, "last_edit_date": 1561777589, "creation_date": 1425515923, "answer_id": 28867951, "question_id": 28867073, "link": "https://stackoverflow.com/questions/28867073/control-mouse-with-python-3/28867951#28867951", "title": "Control Mouse With Python 3?", "body": "<p>Better to use ready libraries, such as suggested in other answers <a href=\"https://github.com/PyUserInput/PyUserInput\" rel=\"nofollow noreferrer\">PyUserInput</a> and <a href=\"https://pypi.python.org/pypi/PyAutoGUI/0.9.26\" rel=\"nofollow noreferrer\">PyAutoGUI</a>, but also mouse moving/clicking can be done on low level using WinAPI through <a href=\"https://docs.python.org/3/library/ctypes.html\" rel=\"nofollow noreferrer\">ctypes</a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Tested on Windows XP, run from Administrator\n\nimport ctypes\nimport math\nimport time\n\nfrom ctypes import c_long, POINTER, sizeof, c_int\nfrom ctypes.wintypes import DWORD\n\n# Select native Win32 API function to use with ctypes.\n# https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms648394%28v=vs.85%29.aspx\nset_cursor_pos_func = ctypes.windll.user32.SetCursorPos\n# https://msdn.microsoft.com/ru-RU/library/windows/desktop/ms646310%28v=vs.85%29.aspx\nsend_input_func = ctypes.windll.user32.SendInput\n\n# Define required native structures.\n\n# https://msdn.microsoft.com/ru-RU/library/windows/desktop/ms646270%28v=vs.85%29.aspx\n# typedef struct tagMOUSEINPUT {\n#   LONG      dx;\n#   LONG      dy;\n#   DWORD     mouseData;\n#   DWORD     dwFlags;\n#   DWORD     time;\n#   ULONG_PTR dwExtraInfo;\n# } MOUSEINPUT, *PMOUSEINPUT;\nclass MOUSEINPUT(ctypes.Structure):\n    _fields_ = [\n        (\"dx\", c_long),\n        (\"dy\", c_long),\n        (\"mouseData\", DWORD),\n        (\"dwFlags\", DWORD),\n        (\"time\", DWORD),\n        (\"dwExtraInfo\", POINTER(c_long)),\n    ]\n\n# https://msdn.microsoft.com/ru-RU/library/windows/desktop/ms646270%28v=vs.85%29.aspx\n# typedef struct tagINPUT {\n#   DWORD type;\n#   union {\n#     MOUSEINPUT    mi;\n#     KEYBDINPUT    ki;\n#     HARDWAREINPUT hi;\n#   };\n# } INPUT, *PINPUT;\nclass INPUT(ctypes.Structure):\n    _fields_ = [\n        (\"type\", DWORD),\n        (\"mi\", MOUSEINPUT),\n    ]\n\n# Define required native Win32 API constants\n\nINPUT_MOUSE = 0\n\n# https://msdn.microsoft.com/ru-RU/library/windows/desktop/ms646273%28v=vs.85%29.aspx\nMOUSEEVENTF_MOVE     = 0x001\nMOUSEEVENTF_LEFTDOWN = 0x002\nMOUSEEVENTF_LEFTUP   = 0x004\n\n# In eternal loop\nlast_click = time.clock()\nwhile True:                                          \n    # Move mouse position according to Lissajous curve\n    # (https://en.wikipedia.org/wiki/Lissajous_curve)\n    t = time.clock()\n    x = 300 + 300 * math.sin(5 * t)\n    y = 200 + 200 * math.cos(6 * t)\n    # Call native Win32 API function to change mouse position\n    set_cursor_pos_func(int(x), int(y))\n\n    if t - last_click &gt; 0.3:\n        # Every 0.3 seconds perform clicks\n\n        last_click = t\n\n        # To click I need to fill INPUT structure\n        inp = INPUT()\n\n        inp.type = INPUT_MOUSE\n        inp.mi.dx = 0\n        inp.mi.dy = 0\n        inp.mi.mouseData = 0\n        inp.mi.time = 0\n        inp.mi.dwExtraInfo = None\n\n        # Send mouse down input event\n        inp.mi.dwFlags = MOUSEEVENTF_MOVE | MOUSEEVENTF_LEFTDOWN\n        res = send_input_func(1, ctypes.pointer(inp), sizeof(INPUT))\n        if res != 1:\n            ctypes.FormatError(ctypes.GetLastError())\n\n        # Send mouse up input event\n        inp.mi.dwFlags = MOUSEEVENTF_MOVE | MOUSEEVENTF_LEFTUP\n        res = send_input_func(1, ctypes.pointer(inp), sizeof(INPUT))\n        if res != 1:\n            ctypes.FormatError(ctypes.GetLastError())\n</code></pre>\n\n\n"}], "owner": {"reputation": 103, "user_id": 3527949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30e8492b651fb1595e2d469f53d8f51a?s=128&d=identicon&r=PG&f=1", "display_name": "user3527949", "link": "https://stackoverflow.com/users/3527949/user3527949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10395, "favorite_count": 0, "closed_date": 1584260286, "answer_count": 1, "score": 2, "last_activity_date": 1584257845, "creation_date": 1425511430, "question_id": 28867073, "link": "https://stackoverflow.com/questions/28867073/control-mouse-with-python-3", "closed_reason": "Needs more focus", "title": "Control Mouse With Python 3?", "body": "<p>I was wondering if there was a way to create a program that moves and clicks things at certain coordinates. I'm using Python 3 and Windows 8. </p>\n"}, {"tags": ["python", "matrix", "scipy", "algebra", "sparse-matrix"], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 4634344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e50eb89ee938625107a73e1ede71f639?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4634344/diego"}, "edited": false, "score": 0, "creation_date": 1425523839, "post_id": 28868625, "comment_id": 46002526, "body": "Actually it is known which rows and columns are non-zero because of the way the matrix is created. This information is stored in rows and cols lists in my example. Is this what you use in the A[J,:][:,I] part? The I,J calculation takes some time, I wonder if that is needed at all."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 782, "user_id": 4634344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e50eb89ee938625107a73e1ede71f639?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4634344/diego"}, "edited": false, "score": 0, "creation_date": 1425530160, "post_id": 28868625, "comment_id": 46003983, "body": "<code>I</code> and <code>J</code> are just the columns and rows that I want to keep.  It doesn&#39;t matter how they are derived."}, {"owner": {"reputation": 782, "user_id": 4634344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e50eb89ee938625107a73e1ede71f639?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4634344/diego"}, "edited": false, "score": 0, "creation_date": 1425554108, "post_id": 28868625, "comment_id": 46015044, "body": "just to keep this here as it discusses the advanced slicing <a href=\"http://stackoverflow.com/questions/14491548/scipy-do-sparse-matrices-support-advanced-indexing\" title=\"scipy do sparse matrices support advanced indexing\">stackoverflow.com/questions/14491548/&hellip;</a>"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1425530341, "last_edit_date": 1425530341, "creation_date": 1425520238, "answer_id": 28868625, "question_id": 28867042, "link": "https://stackoverflow.com/questions/28867042/reduce-a-sparse-matrix-in-python-created-from-a-noncontiguous-coordinates-lists/28868625#28868625", "title": "Reduce a sparse matrix in python created from a noncontiguous coordinates lists", "body": "<p>Here's a simple example of removing both empty rows and empty columns from a sparse matrix. </p>\n\n<pre><code>A=sparse.rand(100,100,format='csr')\nI=np.nonzero(A.sum(0))[1].A.flatten()\nJ=np.nonzero(A.sum(1))[0].A.flatten()\n</code></pre>\n\n<p><code>I</code> and <code>J</code> are the indexes of the columns and rows with at least one value (or technically sum !=0, which is the same thing for floats).</p>\n\n<pre><code>A \n&lt;100x100 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n    with 100 stored elements in Compressed Sparse Row format&gt;\n\nA[J,:][:,I] \n&lt;64x62 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n    with 100 stored elements in Compressed Sparse Row format&gt;\n</code></pre>\n\n<p>The reduced matrix has the same number of nonzero elements, but in a reduced shape.</p>\n\n<p>This isn't the complete solution for your case, but I think it gives you a tool that can be adapted.</p>\n\n<p>Note that only a few of the sparse formats allows indexing like this.  Fortunately the ones that are good for eigenvalue calculations also implement indexing.</p>\n"}], "owner": {"reputation": 782, "user_id": 4634344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e50eb89ee938625107a73e1ede71f639?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4634344/diego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 28868625, "answer_count": 1, "score": 0, "last_activity_date": 1425674658, "creation_date": 1425511254, "last_edit_date": 1425674658, "question_id": 28867042, "link": "https://stackoverflow.com/questions/28867042/reduce-a-sparse-matrix-in-python-created-from-a-noncontiguous-coordinates-lists", "title": "Reduce a sparse matrix in python created from a noncontiguous coordinates lists", "body": "<p>I am trying to build a biajacency matrix and find its eigenvalues. Because of the way the dataset is built the column and row numbers are noncontigious. This makes the matrix size to explode.\nHow could I purge totally empty rows and columns from a sparse matrix? The rest of the rows and columns should be renumerated in a contigious way.</p>\n\n<p>The subject domain are buyers and sellers and their purchases. The buyes and sellers are represented with a random integer ID. These IDs are noncontigious. The dataset is the list of all purchases in the form of buyer_ID,seller_ID list in a CSV form.</p>\n\n<p>here is my code </p>\n\n<pre><code>from sympy import *\nimport scipy\nimport csv\nrows=[]\ncols=[]\ndata=[]\nwith open('dataset.txt', 'rt') as csvfile:\n    reader = csv.reader(csvfile, delimiter=',')              \n    next(reader, None)  # skip the headers\n    for row in reader:    \n        rows.append(int(row[0]))\n        cols.append(int(row[1]))\n        data.append(1.0) # values were absent in the list of edges\nprint(len(rows))\nprint(len(set(rows)))\nprint(len(cols))\nprint(len(set(cols)))\nedges_matrix = coo_matrix((data,(rows,cols)))\nprint(edges_matrix.get_shape())\nbiajacency_matrix=bmat([[None,edges_matrix],[edges_matrix.transpose(),None]])\nprint(biajacency_matrix.get_shape())\nscipy.sparse.linalg.eigen.eigsh(biajacency_matrix,3,which='LM') \n</code></pre>\n\n<p>There are 303987 rows in my dataset, 50385 buyers and 125854 sellers. But because the IDs have a larger range the created edges_matrix is of a size (215115110, 215117581). </p>\n\n<p>My biajacency (very sparse square) matrix becomes the size of 430232691\nand the eigenvalue functions eigsh fails with Memory error. In fact majority of its columns and rows are totally empty.</p>\n\n<p>How could I easily renumerate the buyers and sellers to reduce the size of the biajacency matrix to 50385+125854=176249? In other words to leave only the rows that have at least one value.</p>\n\n<p>I could do the same thing on a database building a dictionary table and joining to the original dataset to replace the IDs. But may be this can be done easier in Python?</p>\n\n<p>SOLUTION: </p>\n\n<pre><code>baj_m=biajacency_matrix.tocsr()[list(set(rows)),:][:,list(set(cols))] # drop all zero rows and columns\n</code></pre>\n"}, {"tags": ["python", "skyfield"], "answers": [{"comments": [{"owner": {"reputation": 16641, "user_id": 374746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659060fcfde804c6582d87b432dfa497?s=128&d=identicon&r=PG", "display_name": "Russell Borogove", "link": "https://stackoverflow.com/users/374746/russell-borogove"}, "edited": false, "score": 1, "creation_date": 1425512145, "post_id": 28867161, "comment_id": 45999086, "body": "I&#39;d change &quot;you have to use&quot; to &quot;you can simply use&quot;."}, {"owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "reply_to_user": {"reputation": 16641, "user_id": 374746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659060fcfde804c6582d87b432dfa497?s=128&d=identicon&r=PG", "display_name": "Russell Borogove", "link": "https://stackoverflow.com/users/374746/russell-borogove"}, "edited": false, "score": 0, "creation_date": 1425512586, "post_id": 28867161, "comment_id": 45999216, "body": "Thanks @RussellBorogove, that&#39;s better wording and I expanded on it a bit."}], "tags": [], "owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "is_accepted": true, "score": 5, "last_activity_date": 1425512276, "last_edit_date": 1425512276, "creation_date": 1425511823, "answer_id": 28867161, "question_id": 28867022, "link": "https://stackoverflow.com/questions/28867022/python-convert-au-to-km/28867161#28867161", "title": "python convert au to km", "body": "<p><code>distance</code> is a <code>Distance</code> object, so you can simply use <code>distance.km</code> if you want the distance in km. If you want to do the conversion yourself, you can use <code>distance.AU * 149597871</code>. (If it doesn't match exactly, it's because Skyfield uses 149597870.700 km/au for conversion).</p>\n\n<p>You can see the implementation of this class in the source <a href=\"https://github.com/brandon-rhodes/python-skyfield/blob/master/skyfield/units.py\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 4552135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dR5Dx.jpg?s=128&g=1", "display_name": "Monotom", "link": "https://stackoverflow.com/users/4552135/monotom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 28867161, "answer_count": 1, "score": 3, "last_activity_date": 1425512276, "creation_date": 1425511142, "question_id": 28867022, "link": "https://stackoverflow.com/questions/28867022/python-convert-au-to-km", "title": "python convert au to km", "body": "<p>I'm trying to write a very simple programm, that prints the current distance to any planet in kilometers. I'm using Skyfield.\nHere's my code for Mars:</p>\n\n<pre><code>from skyfield.api import earth, mars, now\nra, dec, distance = earth(now()).observe(mars).radec()\n\n\nprint(distance)\n</code></pre>\n\n<p>This will print out the distance in astronomical units.\nIn order to convert to kilometers, i tried to multiply by 149597871:</p>\n\n<pre><code>from skyfield.api import earth, mars, now\nra, dec, distance = earth(now()).observe(mars).radec()\n\n\nprint(distance*149597871)\n</code></pre>\n\n<p>But this returns an Error:</p>\n\n<pre><code>TypeError: unsupported operand type(s) for *: 'Distance' and 'int'\n</code></pre>\n\n<p>What can I do?</p>\n"}, {"tags": ["python", "while-loop", "break"], "comments": [{"owner": {"reputation": 577, "user_id": 3300060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781bc3d6c0bd440a4b19c0fdcf1a7b1?s=128&d=identicon&r=PG&f=1", "display_name": "grayshirt", "link": "https://stackoverflow.com/users/3300060/grayshirt"}, "edited": false, "score": 0, "creation_date": 1425511082, "post_id": 28866964, "comment_id": 45998733, "body": "Look very closely at the <code>while guess != answer or end == True</code> condition again. (And this isn&#39;t your problem, but just a tip, don&#39;t use the equality operators like == to compare booleans. Just test them bare, like <code>while end</code>.)"}, {"owner": {"reputation": 55, "user_id": 4496070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1843023229/picture?type=large", "display_name": "Krystian Miko\u0142ajczyk", "link": "https://stackoverflow.com/users/4496070/krystian-miko%c5%82ajczyk"}, "reply_to_user": {"reputation": 577, "user_id": 3300060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781bc3d6c0bd440a4b19c0fdcf1a7b1?s=128&d=identicon&r=PG&f=1", "display_name": "grayshirt", "link": "https://stackoverflow.com/users/3300060/grayshirt"}, "edited": false, "score": 0, "creation_date": 1425511144, "post_id": 28866964, "comment_id": 45998756, "body": "@grayshirt But still, the loop continues"}, {"owner": {"reputation": 577, "user_id": 3300060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781bc3d6c0bd440a4b19c0fdcf1a7b1?s=128&d=identicon&r=PG&f=1", "display_name": "grayshirt", "link": "https://stackoverflow.com/users/3300060/grayshirt"}, "edited": false, "score": 0, "creation_date": 1425511237, "post_id": 28866964, "comment_id": 45998796, "body": "It&#39;s just a logic error. Break down what that condition tests, when it will pass and when it will fail and see how it differs from what you intend."}, {"owner": {"reputation": 1429, "user_id": 903200, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2b910cef4270315b02e4f38f3adcb4d1?s=128&d=identicon&r=PG", "display_name": "thefragileomen", "link": "https://stackoverflow.com/users/903200/thefragileomen"}, "edited": false, "score": 0, "creation_date": 1425511238, "post_id": 28866964, "comment_id": 45998797, "body": "On the first guess (value) entered by the user, the value of &quot;end&quot; will be True"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4496070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1843023229/picture?type=large", "display_name": "Krystian Miko\u0142ajczyk", "link": "https://stackoverflow.com/users/4496070/krystian-miko%c5%82ajczyk"}, "edited": false, "score": 0, "creation_date": 1425511325, "post_id": 28867038, "comment_id": 45998831, "body": "What if I wanted to include on inside the other?"}, {"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "reply_to_user": {"reputation": 55, "user_id": 4496070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1843023229/picture?type=large", "display_name": "Krystian Miko\u0142ajczyk", "link": "https://stackoverflow.com/users/4496070/krystian-miko%c5%82ajczyk"}, "edited": false, "score": 1, "creation_date": 1425511434, "post_id": 28867038, "comment_id": 45998869, "body": "Does your assignment require you to do that for some reason?  Otherwise there&#39;s no point to it."}, {"owner": {"reputation": 55, "user_id": 4496070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1843023229/picture?type=large", "display_name": "Krystian Miko\u0142ajczyk", "link": "https://stackoverflow.com/users/4496070/krystian-miko%c5%82ajczyk"}, "edited": false, "score": 0, "creation_date": 1425512282, "post_id": 28867038, "comment_id": 45999126, "body": "Don&#39;t think it requires, but at the moment I&#39;m studying Python for my GCSE so like, I have to show I can do my best, although I&#39;m trying to do the impossible"}], "tags": [], "owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "is_accepted": false, "score": 1, "last_activity_date": 1425511226, "creation_date": 1425511226, "answer_id": 28867038, "question_id": 28866964, "link": "https://stackoverflow.com/questions/28866964/break-or-brake-a-loop-in-this-specific-code-python/28867038#28867038", "title": "Break (or brake) a loop in this specific code - Python", "body": "<p>You've got a for loop inside a while loop, and that's redundant. You should pick one or the other.  If you want to stop looping if the correct answer is guessed, you just need to move your if statement (currently at the very end) inside the loop.</p>\n\n<p>Also, there's no need for the \"+1\" in your range(), because 1 is the default.</p>\n"}, {"tags": [], "owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "is_accepted": true, "score": 1, "last_activity_date": 1425512490, "last_edit_date": 1425512490, "creation_date": 1425511339, "answer_id": 28867056, "question_id": 28866964, "link": "https://stackoverflow.com/questions/28866964/break-or-brake-a-loop-in-this-specific-code-python/28867056#28867056", "title": "Break (or brake) a loop in this specific code - Python", "body": "<p>The first problem is your logic in the while loop is wrong.</p>\n\n<p>It should be:</p>\n\n<pre><code>while guess != answer and not end:\n</code></pre>\n\n<p>The next problem is that your <code>for</code> loop is looping through asking for 4 answers, but it never prints the hints, as the indentation of those print statements is too low.</p>\n\n<p>Also, you probably don't want a for loop inside the while loop at all, just pick one type of loop or the other.  If you go with the while loop, you'll need a counter, to keep track of the number of guesses.</p>\n\n<p>One other glaring issue, is that you are using <code>guess</code> as your for loop iterator, but then you are resetting it with the user's input.  This is very bad!</p>\n\n<p>Here is the code using a for loop, which is probably the best type of loop to use, since it eliminates the need to increment the counter variable as in a while loop.</p>\n\n<pre><code># Welcome message\nprint(\"Welcome to the Magic Ball!\")\n\n# The magic number\nanswer = 7\n\nfor _ in range(5):\n    guess = int(input(\"\\nYour guess: \"))\n    if guess == answer:\n        break\n    elif guess &gt; answer:\n        print(\"Too high\")\n    elif guess &lt; answer:\n        print(\"Too low\")\nif guess == answer:\n    print(\"Well done!\")\nelse:\n    print(\"You have used all your guesses\")\nprint(\"The answer was {}\".format(answer))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 1561114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b441fe55048e73a0d7ec7db58376f2?s=128&d=identicon&r=PG", "display_name": "pdowling", "link": "https://stackoverflow.com/users/1561114/pdowling"}, "is_accepted": false, "score": 0, "last_activity_date": 1425511385, "last_edit_date": 1425511385, "creation_date": 1425511352, "answer_id": 28867061, "question_id": 28866964, "link": "https://stackoverflow.com/questions/28866964/break-or-brake-a-loop-in-this-specific-code-python/28867061#28867061", "title": "Break (or brake) a loop in this specific code - Python", "body": "<p>You're using two loops instead of just one - either go with only the for loop, or actually make use of you while loop. </p>\n\n<p>Here's one possibility (using just the while loop, also I didn't test this):</p>\n\n<pre><code># While guess NOT EQUAL to ANSWER, re-ask\n# And add whever too high or too low\n# Used a boolean to tell the program when to stop the loop\ntries = 1\nwhile (not guess == answer) and (not tries == 5):\n    guess = int(input(\"\\nYour guess: \"))\n    if guess &gt; answer:\n        print(\"\\nToo high\")\n    elif guess &lt; answer:\n        print(\"\\nToo low\")\n    else:\n        tries += 1\n    if tries == 5:\n        print(\"You have gotten to your maximum answers\")\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4496070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1843023229/picture?type=large", "display_name": "Krystian Miko\u0142ajczyk", "link": "https://stackoverflow.com/users/4496070/krystian-miko%c5%82ajczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 28867056, "answer_count": 3, "score": 0, "last_activity_date": 1425512490, "creation_date": 1425510871, "question_id": 28866964, "link": "https://stackoverflow.com/questions/28866964/break-or-brake-a-loop-in-this-specific-code-python", "title": "Break (or brake) a loop in this specific code - Python", "body": "<p>I was trying to create a \"end\" variable, that should break (or brake) but it clearly didn't work.</p>\n\n<p>The question from my homework:</p>\n\n<p>Modify the program above to give the user only 5 guesses. If there are more than 5 guesses, the user should get the following message: (in code)</p>\n\n<p>The first code was working perfect, but in this one, the <code>while</code> loop just repeats.</p>\n\n<pre><code># Welcome message\nprint(\"Welcome to the Magic Ball!\")\n\n# The magic number\nanswer = 7\n\n# Prepares \"end\" variable\nend = False\n\n# Take guess\nguess = int(input(\"\\nYour guess: \"))\n\n# While loop\n\n# While guess NOT EQUAL to ANSWER, re-ask\n# And add whever too high or too low\n# Used a boolean to tell the program when to stop the loop\nwhile guess != answer or end == True:\n    for guess in range(1, 5, +1): # For loops limits ammount of guesses\n        guess = int(input(\"\\nYour guess: \"))\n    if guess &gt; answer:\n        print(\"\\nToo high\")\n    elif guess &lt; answer:\n        print(\"\\nToo low\")\n    # If still not completed, print \"max chances\"\n    print(\"You have gotten to your maximum answers\")\n    # This ends the loop so it stops going around\n    end = True\n\n# If loop passed, tell the user it's correct\n# After printing \"max chances\", the Python will print this out,\n# So make sure the answers match\nif guess == answer:\n    print(\"\\nWell done\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "edited": false, "score": 1, "creation_date": 1425511192, "post_id": 28866863, "comment_id": 45998776, "body": "See <a href=\"http://stackoverflow.com/a/5188215/2269620\">stackoverflow.com/a/5188215/2269620</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18542, "user_id": 47351, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fab8190589ada198cbf1a69b981a8670?s=128&d=identicon&r=PG", "display_name": "RvdK", "link": "https://stackoverflow.com/users/47351/rvdk"}, "edited": false, "score": 1, "creation_date": 1425510744, "post_id": 28866894, "comment_id": 45998608, "body": "I think the question is about downloading from a ftp server with credentials."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1425511197, "last_edit_date": 1425511197, "creation_date": 1425510556, "answer_id": 28866894, "question_id": 28866863, "link": "https://stackoverflow.com/questions/28866863/download-ftp-file-with-auth/28866894#28866894", "title": "Download ftp file with auth", "body": "<p>Initialize an FTP handler like so:</p>\n\n<pre><code>ftp = urllib2.FTPHandler()\n</code></pre>\n\n<p>Then connect with arguments like so:</p>\n\n<pre><code>ftp.connect_ftp(username, password, ...)\n</code></pre>\n\n<p>Lastly, open a request under the ftp object:</p>\n\n<pre><code>ftp.ftp_open(request_object)\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 28866894, "answer_count": 1, "score": 0, "last_activity_date": 1425511197, "creation_date": 1425510421, "question_id": 28866863, "link": "https://stackoverflow.com/questions/28866863/download-ftp-file-with-auth", "title": "Download ftp file with auth", "body": "<p>I am trying to download an ftp file from a server:</p>\n\n<pre><code>ftp://i.example.net/upload/file.csv\n</code></pre>\n\n<p>I can do this using <code>urllib</code>, without the authentication:</p>\n\n<pre><code>urllib.urlretrieve('ftp://server/path/to/file', 'file')\n</code></pre>\n\n<p>How would I do it with the authentication:</p>\n\n<pre><code>- Username: 'david'\n- Password: 'password'\n</code></pre>\n"}, {"tags": ["python", "matrix", "package", "scikit-learn", "pca"], "comments": [{"owner": {"reputation": 5331, "user_id": 3777428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJ6pq.png?s=128&g=1", "display_name": "eigenchris", "link": "https://stackoverflow.com/users/3777428/eigenchris"}, "edited": false, "score": 0, "creation_date": 1425511123, "post_id": 28866807, "comment_id": 45998745, "body": "Can you tell us the specific problem you have having with scikit-learn, and maybe edit your post to include the code you have so far?"}, {"owner": {"reputation": 5331, "user_id": 3777428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJ6pq.png?s=128&g=1", "display_name": "eigenchris", "link": "https://stackoverflow.com/users/3777428/eigenchris"}, "edited": false, "score": 0, "creation_date": 1425512657, "post_id": 28866807, "comment_id": 45999242, "body": "I was referring to this problem specifically. What have you tried so far to do PCA?"}, {"owner": {"reputation": 41, "user_id": 2190159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8149a6cf9fa22ea193c644651d4d58eb?s=128&d=identicon&r=PG", "display_name": "yoshi105", "link": "https://stackoverflow.com/users/2190159/yoshi105"}, "reply_to_user": {"reputation": 5331, "user_id": 3777428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJ6pq.png?s=128&g=1", "display_name": "eigenchris", "link": "https://stackoverflow.com/users/3777428/eigenchris"}, "edited": false, "score": 0, "creation_date": 1425512818, "post_id": 28866807, "comment_id": 45999299, "body": "I&#39;m just not sure if I am even loading the data properly. Like I said I&#39;m a complete novice to python and the scikit-learn package so looking for resources on how to go about actually compressing my matrix into a graph"}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 3, "creation_date": 1425535796, "post_id": 28866807, "comment_id": 46005642, "body": "Just FYI 39x39 is tiny for doing PCA."}], "owner": {"reputation": 41, "user_id": 2190159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8149a6cf9fa22ea193c644651d4d58eb?s=128&d=identicon&r=PG", "display_name": "yoshi105", "link": "https://stackoverflow.com/users/2190159/yoshi105"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425512756, "creation_date": 1425510176, "last_edit_date": 1425512756, "question_id": 28866807, "link": "https://stackoverflow.com/questions/28866807/pca-analysis-on-a-big-matrix-using-scikit", "title": "PCA analysis on a big matrix using scikit", "body": "<p>Hello I'm trying to use the scikit package for the first time (and python as well) and need some help.</p>\n\n<p>Basically I have a huge 39x39 matrix and I need to do a Principle component analysis on them.</p>\n\n<p>For context each row and column represents a country and the number inside represents a how much they gave to the country in the column, lets say UK, France and Sweden</p>\n\n<p>0   1   1   </p>\n\n<p>8   0   1   </p>\n\n<p>8   1   0   </p>\n\n<p>The 0s indicate that a country couldn't vote for itself (eg UK gave UK 0 points) and 1 indicates they could vote for them but gave 0 points, and obviously 1-n is whatever point they gave to that country (France and Sweden both gave 7 points to the UK). I have the 1s and 0s because there are countries who voted but couldn't recieve points, they are at the end of the huge matrix.</p>\n\n<p>I'm not sure if the format is even correct to do it, just looking for any guidance on how to go about this. Eventually I want to end up something looking similar to :</p>\n\n<p>I think I've installed the package correctly and tested using the iris sample codes <a href=\"http://scikit-learn.org/stable/auto_examples/datasets/plot_iris_dataset.html\" rel=\"nofollow\">http://scikit-learn.org/stable/auto_examples/datasets/plot_iris_dataset.html</a></p>\n\n<p>file = open('rawresults2014eurovision.txt', 'rb')\ntable = [row.strip().split('\\t') for row in file]</p>\n\n<p>X = table</p>\n\n<p>print(X)</p>\n\n<p>I'm using Spyder to code it all I have so far is loading the data using this code </p>\n\n<p>Any help will be greatly appreciated! Thanks</p>\n"}, {"tags": ["python", "django", "workflow", "django-viewflow"], "answers": [{"tags": [], "owner": {"reputation": 5049, "user_id": 46548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a7d543a6a3d738bcd34b56c24002943?s=128&d=identicon&r=PG", "display_name": "kmmbvnr", "link": "https://stackoverflow.com/users/46548/kmmbvnr"}, "is_accepted": false, "score": 0, "last_activity_date": 1425642994, "creation_date": 1425642994, "answer_id": 28898276, "question_id": 28866800, "link": "https://stackoverflow.com/questions/28866800/how-to-define-a-unique-url-and-a-custom-template-for-a-django-viewflow-task/28898276#28898276", "title": "How to define a unique URL and a custom template for a django ViewFlow Task", "body": "<ol>\n<li>Yep, it's probably weird behavior and need to be fixed.</li>\n</ol>\n\n<p>Currently TaskViewMixin searches for templates in the following way</p>\n\n<pre><code>return ('{}/{}/{}.html'.format(app_label, flow_label, flow_task.name),\n        '{}/{}/task.html'.format(app_label, flow_label),\n        'viewflow/flow/task.html')\n</code></pre>\n\n<ol start=\"2\">\n<li><p>In general case, workflow does not assume that the only one active task available at the moment of time. But when you select somehow the right task instance, you can call the get_task_url method</p>\n\n<p>task.flow_task.get_task_url(task, url_type='guess', user=request.user)</p></li>\n</ol>\n\n<p>You can check the <code>viewflow.views.base.get_task_url</code> for details how redirection on next active task is implemented in the task view.</p>\n\n<p>Assign is mandatory, as you can see in the diagram of states for the flow Task() in the <a href=\"http://docs.viewflow.io\" rel=\"nofollow\">documentation</a>. This prevent concurrent task execution by different users. In other case two users could start the same task, but only one will be able to save its work. </p>\n\n<p>You can implement custom activation class, with different states, or you can assign task to the user automatically, by adding .Assign(lambda process: return_some_user()) to your task declaration</p>\n"}], "owner": {"reputation": 317, "user_id": 1286647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f958bc2b4db70d10709c597119d8d4?s=128&d=identicon&r=PG", "display_name": "Melek Somai", "link": "https://stackoverflow.com/users/1286647/melek-somai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1465576101, "creation_date": 1425510160, "last_edit_date": 1495541755, "question_id": 28866800, "link": "https://stackoverflow.com/questions/28866800/how-to-define-a-unique-url-and-a-custom-template-for-a-django-viewflow-task", "title": "How to define a unique URL and a custom template for a django ViewFlow Task", "body": "<p><em>Sysnopsis</em></p>\n\n<p>As mentioned in a previous <a href=\"https://stackoverflow.com/questions/28734247/how-to-create-a-django-viewflow-process-programmatically\">question</a> on stackoverflow, I'm implementing a workflow using <a href=\"http://viewflow.io/\" rel=\"nofollow noreferrer\">ViewFlow.io</a>.</p>\n\n<p>The use case is about collecting authorship information and copyrights using the Django-Viewflow library. The workflow should be initiated each time an author is added to a book. </p>\n\n<p><strong>myFlow/flows.py</strong></p>\n\n<pre><code>from viewflow import flow\nfrom viewflow.base import this, Flow\nfrom viewflow.contrib import celery\nfrom viewflow.views import StartProcessView, ProcessView\nfrom . import models, tasks\n\nclass AuthorInvitationFlow(Flow):\n    process_cls = models.AuthorInvitation\n\n    start = flow.Start(StartProcessView) \\\n        .Permission(auto_create=True) \\\n        .Next(this.notify)\n\n    notify = celery.Job(tasks.send_authorship_request) \\\n        .Next(this.approve)\n\n    approve = flow.View(AuthorConfirmView) \\\n        .Permission(auto_create=True) \\\n        .Next(this.check_approve)\n\n    check_approve = flow.If(cond=lambda p: p.confirmed) \\\n        .OnTrue(this.send) \\\n        .OnFalse(this.end)\n\n    send = celery.Job(tasks.send_authorship) \\\n        .Next(this.end)\n\n    end = flow.End()\n</code></pre>\n\n<p><strong><em>My problem</em></strong></p>\n\n<p>1 - How can I specify a custom template for a specific task when creating a custom updateView?</p>\n\n<p>Using template, or template_name does not work.</p>\n\n<pre><code>class AuthorConfirmView(TaskViewMixin, UpdateView):\n    template_name = 'template_1.html'\n    fields = [\"confirmed\"]    \n\n    def get_object(self):\n        return self.activation.process\n</code></pre>\n\n<p>2- How/What is the best practice to have a unique url per process instance. When an author (aka user) visit a link of a process (workflow) instance (ex. <a href=\"http://mybook/process/11122\" rel=\"nofollow noreferrer\">http://mybook/process/11122</a>), she will be redirected to the <em>active</em> task. Furthermore, I'm not sure whether or not \"assign\" is mandatory.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "google-app-engine", "ssl-certificate", "urllib2", "google-app-engine-python"], "answers": [{"comments": [{"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1443619163, "post_id": 32856231, "comment_id": 53566376, "body": "Thanks @Alex.  Should it not be possible to add the certificate to the Mac&#39;s system, that Python&#39;s Httplib will then use?"}, {"owner": {"reputation": 474, "user_id": 5330194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q6Km1QUIluE/AAAAAAAAAAI/AAAAAAAAAAA/WVZjo6F3zlw/photo.jpg?sz=128", "display_name": "Alex ", "link": "https://stackoverflow.com/users/5330194/alex"}, "reply_to_user": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1443638631, "post_id": 32856231, "comment_id": 53578538, "body": "Brian, I&#39;m not very familiar with how python ssl lib works on Mac, I would check <a href=\"https://docs.python.org/2/library/ssl.html#ssl-contexts\" rel=\"nofollow noreferrer\">ssl doc page</a> and see what is the default path string: <code>ssl.get_default_verify_paths()</code>. May be there is a way to use <a href=\"https://www.python.org/dev/peps/pep-0476/#trust-database\" rel=\"nofollow noreferrer\">env variable to set a path to yours certificate file</a>."}, {"owner": {"reputation": 474, "user_id": 5330194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q6Km1QUIluE/AAAAAAAAAAI/AAAAAAAAAAA/WVZjo6F3zlw/photo.jpg?sz=128", "display_name": "Alex ", "link": "https://stackoverflow.com/users/5330194/alex"}, "reply_to_user": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1443825974, "post_id": 32856231, "comment_id": 53661670, "body": "<a href=\"http://gagravarr.org/writing/openssl-certs/others.shtml\" rel=\"nofollow noreferrer\">Here is the relevant doc</a> on how to add self-signed cert for openssl."}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1443921101, "post_id": 32856231, "comment_id": 53684253, "body": "Thanks Alex.  I&#39;ve tried, but not yet succeeded, with adding my certificates to the keychain.  Here&#39;s another description of how to do so though, that you perhaps might be interested in including in your answer: <a href=\"http://apple.stackexchange.com/questions/8993\">apple.stackexchange.com/questions/8993</a>"}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1443966664, "post_id": 32856231, "comment_id": 53693838, "body": "So I&#39;ve added the <code>.p12</code>, <code>csr</code>, and <code>crt</code> to my key chain, and the certificate is trusted by my browsers, but not by Python.  So the only solution that has worked so far has been modifying <code>urlfetch_stub.py</code>."}, {"owner": {"reputation": 474, "user_id": 5330194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q6Km1QUIluE/AAAAAAAAAAI/AAAAAAAAAAA/WVZjo6F3zlw/photo.jpg?sz=128", "display_name": "Alex ", "link": "https://stackoverflow.com/users/5330194/alex"}, "reply_to_user": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1444080053, "post_id": 32856231, "comment_id": 53741127, "body": "You are saying you installed MacOS system certificate, did you try to install OpenSSL framework cert as described in <a href=\"http://gagravarr.org/writing/openssl-certs/others.shtml#ca-openssl\" rel=\"nofollow noreferrer\">this section</a>? I guess openssl library is not using MacOS system certificates but only it&#39;s own."}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1444098332, "post_id": 32856231, "comment_id": 53746529, "body": "Thanks Alex. As you can see from my edit, the problem may be broader than Appserver (though Appserver is peculiarly vulnerable by not having a workaround to the <code>validate_certificate</code> param to <code>urlfetch</code> not being respected)."}, {"owner": {"reputation": 474, "user_id": 5330194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q6Km1QUIluE/AAAAAAAAAAI/AAAAAAAAAAA/WVZjo6F3zlw/photo.jpg?sz=128", "display_name": "Alex ", "link": "https://stackoverflow.com/users/5330194/alex"}, "reply_to_user": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1444119900, "post_id": 32856231, "comment_id": 53754868, "body": "Just thoghts... Is python installed with brewed ssl? <code>brew install python --with-brewed-openssl</code>"}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1444124236, "post_id": 32856231, "comment_id": 53757777, "body": "Thanks Alex. I&#39;ve tried clean installing python with <code>--with-brewed-openssl</code> (though there&#39;s no evidence that it&#39;s being used/respected in the code, that I can see), as well as <code>brew link openssl --force</code>.  Neither appears to have any effect -- and it&#39;s not clear why the certificate fails since <code>ssl.get_server_certificate((&#39;localhost&#39;, 7500), ca_certs=&#39;server.pem&#39;)</code> works fine; the problem seems to be in the lookup/finding or linking portion of the Python/openssl relationship."}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1444124363, "post_id": 32856231, "comment_id": 53757868, "body": "The big question is why Python doesn&#39;t just look the cert up on the Keychain, like it is obviously meant to."}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 2, "creation_date": 1444137657, "post_id": 32856231, "comment_id": 53767002, "body": "For the moment I&#39;ve worked around this by adding the certificate to <code>urlfetch_cacerts.txt</code> and enabled <code>validate_certificate</code>."}, {"owner": {"reputation": 987, "user_id": 207981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8259de963b001f2461c6773b230deced?s=128&d=identicon&r=PG", "display_name": "bszom", "link": "https://stackoverflow.com/users/207981/bszom"}, "reply_to_user": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "edited": false, "score": 0, "creation_date": 1463390823, "post_id": 32856231, "comment_id": 62029079, "body": "@BrianM.Hunt I&#39;ve not had any luck with adding a certificate to <code>urlfetch_cacerts.txt</code>. Did you do anything other than what you described under step 2 of your original question to get this to work? I&#39;ve tried adding the root CA cert, intermediate cert and the cert of the server I&#39;m trying to talk to - without any luck. Workaround 3 didn&#39;t work for me either. :("}, {"owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "reply_to_user": {"reputation": 987, "user_id": 207981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8259de963b001f2461c6773b230deced?s=128&d=identicon&r=PG", "display_name": "bszom", "link": "https://stackoverflow.com/users/207981/bszom"}, "edited": false, "score": 0, "creation_date": 1463406358, "post_id": 32856231, "comment_id": 62038114, "body": "Sorry @bszom, that&#39;s all I&#39;ve got.  Another lead I just discovered though is <code>env_variables:    GAE_USE_SOCKETS_HTTPLIB : &#39;anyvalue&#39;</code> per <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=12553\" rel=\"nofollow noreferrer\">code.google.com/p/googleappengine/issues/detail?id=12553</a>"}], "tags": [], "owner": {"reputation": 474, "user_id": 5330194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Q6Km1QUIluE/AAAAAAAAAAI/AAAAAAAAAAA/WVZjo6F3zlw/photo.jpg?sz=128", "display_name": "Alex ", "link": "https://stackoverflow.com/users/5330194/alex"}, "is_accepted": true, "score": 8, "last_activity_date": 1443576126, "last_edit_date": 1443576126, "creation_date": 1443575693, "answer_id": 32856231, "question_id": 28866770, "link": "https://stackoverflow.com/questions/28866770/appengine-urlfetch-validate-certificate-false-none-not-being-respected/32856231#32856231", "title": "AppEngine urlfetch validate_certificate=False/None not being respected", "body": "<p>This is a <code>dev_appserver</code> bug caused by a <code>httplib.HTTPSConnection</code> behavior change (certificate check turned on by default) in some recent Python release (I belive 2.7.9).</p>\n\n<p>As the bug is in internal <code>dev_appserver</code> code (file <code>google_appengine/google/appengine/api/urlfetch_stub.py</code> of the appengine SDK) that is run independently of the tested application, there is no way to make a fix that will survive a SDK update.</p>\n\n<p>The only permanent workaround I can think of will be to enable <code>validate_certificate</code> and add <strong>CA</strong> certificate to the <code>urlfetch_cacerts.txt</code> file. As a temporary fix, you can patch <code>urlfetch_stub.py</code> with workaround #3.</p>\n"}, {"tags": [], "owner": {"reputation": 14060, "user_id": 234270, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c4ed6fa8257c4601b262851116eb3332?s=128&d=identicon&r=PG", "display_name": "speedplane", "link": "https://stackoverflow.com/users/234270/speedplane"}, "is_accepted": false, "score": 1, "last_activity_date": 1465681072, "creation_date": 1465681072, "answer_id": 37768724, "question_id": 28866770, "link": "https://stackoverflow.com/questions/28866770/appengine-urlfetch-validate-certificate-false-none-not-being-respected/37768724#37768724", "title": "AppEngine urlfetch validate_certificate=False/None not being respected", "body": "<p>I ran into the same issue on Windows. I was using an old version of Python (2.7). When I upgraded to Python 2.7.11, the problem went away.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3027335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b8d1ec1ed9e4b05dbdcf81c0320e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mintaka", "link": "https://stackoverflow.com/users/3027335/mintaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1606097592, "creation_date": 1606097592, "answer_id": 64961753, "question_id": 28866770, "link": "https://stackoverflow.com/questions/28866770/appengine-urlfetch-validate-certificate-false-none-not-being-respected/64961753#64961753", "title": "AppEngine urlfetch validate_certificate=False/None not being respected", "body": "<p>In my case solve this problem workaround  to copy .../google-cloud-sdk/platform/lib/third_party/fancy_urllib folder to project folder.</p>\n<p>Othervise urlfetch_stub.py in _SetupSSL cry that import fancy_urllib call\nImportError: No module named fancy_urllib</p>\n<p>SW:</p>\n<ul>\n<li>Ubuntu 18.04</li>\n<li>Python 2.7.17 / 2.7.12</li>\n<li>Google Cloud SDK 319.0.0</li>\n</ul>\n"}], "owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3017, "favorite_count": 3, "accepted_answer_id": 32856231, "answer_count": 3, "score": 11, "last_activity_date": 1606097592, "creation_date": 1425510038, "last_edit_date": 1492087506, "question_id": 28866770, "link": "https://stackoverflow.com/questions/28866770/appengine-urlfetch-validate-certificate-false-none-not-being-respected", "title": "AppEngine urlfetch validate_certificate=False/None not being respected", "body": "<p>In the AppEngine developer appserver I am getting an error like this:</p>\n\n<pre><code>SSLCertificateError: Invalid and/or missing SSL certificate for URL ...\n</code></pre>\n\n<p>when I am making a fetch like this to an <code>https</code> server with a self-signed certificate (almost always <code>localhost</code> port-forwarded over ssh to a vm):</p>\n\n<pre><code>result = urlfetch.fetch(url=url, method=method, payload=payload,\n                        deadline=DEADLINE, validate_certificate=None)\n</code></pre>\n\n<p>One would not expect SSL failures for invalid certificates where <code>validate_certificate</code> is <code>False</code>, though this is quite possibly a side-effect of the 2.7.9 policy in Python to always validate ssl certificates.</p>\n\n<p>Note that passing <code>False</code> (instead of <code>None</code>) for <code>validate_certificate</code> does not work either.</p>\n\n<p>This problem happens on Python 2.7.9-10 via Homebrew/XCode on OS X 10.10.2-4 with AppEngine 1.9.18 through 1.19.26.</p>\n\n<p>There are issues (e.g. <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=12096\" rel=\"nofollow noreferrer\">12096</a>) about this on Google App Engine, but I am looking for a workaround.</p>\n\n<p>Here's what I've tried to work around this:</p>\n\n<ol>\n<li><p>Add the certificate to the Mac's login keychain  (works in the browser, not from Python)</p></li>\n<li><p>Add the certificate to <code>app-engine-python/lib/cacerts/cacerts.txt</code> and/or <code>./lib/cacerts/urlfetch_cacerts.txt</code>  (though this probably requires turning verification <em>on</em> for it to work, since that appears to be the only case where they are used) with e.g.</p>\n\n<blockquote>\n  <p>$ echo >> /usr/local/share/app-engine-python/lib/cacerts/urlfetch_cacerts.txt</p>\n  \n  <p>$ openssl x509 -subject -in server.crt >> /usr/local/share/app-engine-python/lib/cacerts/urlfetch_cacerts.txt</p>\n</blockquote></li>\n<li><p>Disable ssl HTTPs checking with the <a href=\"https://www.python.org/dev/peps/pep-0476/\" rel=\"nofollow noreferrer\">PEP-0476</a> workaround i.e.</p>\n\n<p><code>ssl._create_default_https_context = ssl._create_unverified_context</code></p>\n\n<p>at or after <code>import ssl</code> (around line 1149) of <a href=\"https://github.com/GoogleCloudPlatform/appengine-python-vm-runtime/blob/master/python_vm_runtime/google/appengine/dist27/python_std_lib/httplib.py#L1149\" rel=\"nofollow noreferrer\"><code>google/appengine/dist27/python_std_lib/httplib.py</code></a></p></li>\n</ol>\n\n<p>This is particularly problematic on Mac since downgrading as of XCode 7/OS X El Capital is no longer a practical option.</p>\n\n<p>A preferable workaround would not involve monkey-patching the AppEngine code proper every time the development appserver is updated.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>Note that the Mac builtin OpenSSL certificates are stored in <code>/System/Library/OpenSSL</code>, which is protected with <a href=\"https://apple.stackexchange.com/a/193379/5522\">SIP/rootlessness</a>, which frankly is a pain to muck with and a worthwhile feature to keep if we can.</p>\n\n<p>I have verified that the certificate validates by using <code>openssl s_client -connect localhost:7500 -CAfile server.pem</code>.</p>\n\n<p>It's been added to the Keychain and to <code>/usr/local/etc/openssl/certs</code> with the <code>hash.#</code> format where the hash comes from <code>openssl x509 -subject_hash -in server.pem</code> (or the homebrew ssl, namely <code>/usr/local/Cellar/openssl/1.0.2d_1/bin/openssl</code>).  In which case <code>/usr/local/Cellar/openssl/1.0.2d_1/bin/openssl s_client -connect localhost:7500</code> verifies the certificate (but python still does not).</p>\n\n<p>I have tried using the homebrew version of python and openssl, but to no avail.  Running the following in Python seems to always fail;</p>\n\n<pre><code>./pve/bin/python -c \"import requests; requests.get('https://localhost:7500')\"\n</code></pre>\n\n<p>This also fails where <code>SSL_CERT_FILE</code> is set to the server's certificate (i.e. for added measure one might expect it to work since the <code>openssl</code> command essentially works like this), and also fails where <code>SSL_CERT_PATH</code> is set to <code>/usr/local/etc/openssl/certs</code>.</p>\n\n<p>Note, <code>pve</code> is a virtual env where <code>help(ssl)</code> shows a <code>FILE</code> of <code>/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py</code></p>\n\n<p>Further verifying that homebrew Python's <code>_ssl.so</code> links to homebrew's openssl I ran:</p>\n\n<p>xcrun otool -L \n/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_ssl.so</p>\n\n<p>which returns</p>\n\n<blockquote>\n  <p>./Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/_ssl.so:</p>\n  \n  <p>/usr/local/opt/openssl/lib/libssl.1.0.0.dylib (compatibility version 1.0.0, current version 1.0.0)</p>\n  \n  <p>/usr/local/opt/openssl/lib/libcrypto.1.0.0.dylib (compatibility version 1.0.0, current version 1.0.0)</p>\n  \n  <p>/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)</p>\n</blockquote>\n\n<p>If one runs <code>brew info openssl</code> it remarks under <code>CAVEATS</code>:</p>\n\n<blockquote>\n  <p>A CA file has been bootstrapped using certificates from the system\n  keychain. To add additional certificates, place .pem files in\n    /usr/local/etc/openssl/certs</p>\n</blockquote>\n\n<p>but clearly for some reason python is not using homebrew's openssl algorithm for finding certificates.</p>\n\n<p>So I remain at a loss as to why Python standard library is not validating certificates that are in the OpenSSL directory specified in the documents as well as the Keychain (in both <code>.pem</code> and <code>.p12</code> formats, with \"always trust\" for <code>Secure Sockets Layer (SSL)</code>).</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "is_accepted": false, "score": 1, "last_activity_date": 1425510832, "last_edit_date": 1425510832, "creation_date": 1425510170, "answer_id": 28866803, "question_id": 28866737, "link": "https://stackoverflow.com/questions/28866737/select-rows-from-pandas-dataframe-of-a-certain-date/28866803#28866803", "title": "Select rows from pandas DataFrame of a certain date", "body": "<p>Make sure your column is a datetime (use pd.to_datetime) and not a string.</p>\n\n<pre><code>df = df[df['Time'].apply(lambda x: x.minute) == 0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "edited": false, "score": 0, "creation_date": 1425510821, "post_id": 28866927, "comment_id": 45998631, "body": "Woops, meant to use minute in mine as well."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 2, "last_activity_date": 1425510705, "creation_date": 1425510705, "answer_id": 28866927, "question_id": 28866737, "link": "https://stackoverflow.com/questions/28866737/select-rows-from-pandas-dataframe-of-a-certain-date/28866927#28866927", "title": "Select rows from pandas DataFrame of a certain date", "body": "<p>So long as the column is a datetime already you can access the <a href=\"http://pandas.pydata.org/pandas-docs/stable/api.html#datetimelike-properties\" rel=\"nofollow\">minute</a> atribute and use this to filter:</p>\n\n<pre><code>In [26]:\n\ndf[df.Time.dt.minute == 0]\nOut[26]:\n                 Time  ColA  ColB\n0 2011-05-12 22:00:00     9     4\n4 2011-05-12 23:00:00    10     4\n</code></pre>\n\n<p>If necessary convert the string to a datetime using: <code>df['Time'] = pd.to_datetime(df['Time')</code></p>\n"}], "owner": {"reputation": 129, "user_id": 2958395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd562ba6eaac13f7cf117c9ff5311dc3?s=128&d=identicon&r=PG&f=1", "display_name": "user2958395", "link": "https://stackoverflow.com/users/2958395/user2958395"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3585, "favorite_count": 1, "accepted_answer_id": 28866927, "answer_count": 2, "score": 2, "last_activity_date": 1425511740, "creation_date": 1425509856, "last_edit_date": 1425511740, "question_id": 28866737, "link": "https://stackoverflow.com/questions/28866737/select-rows-from-pandas-dataframe-of-a-certain-date", "title": "Select rows from pandas DataFrame of a certain date", "body": "<p>I am fairly new to pandas and getting a problem with manipulating a DataFrame.</p>\n\n<p>What I have is a DataFrame with repeating dates and I would like to only keep the dates which are hourly.</p>\n\n<p>Here is an example of my current DataFrame:</p>\n\n<pre><code>Time                     ColA ColB\n5/12/2011 10:00:00 PM     9     4 \n5/12/2011 10:15:00 PM     5     3 \n5/12/2011 10:30:00 PM     1     1 \n5/12/2011 10:45:00 PM     2     3 \n5/12/2011 11:00:00 PM     10    4 \n</code></pre>\n\n<p>Thus the result should be a DataFrame that contains the first and last row alone.</p>\n\n<pre><code>Time                     ColA ColB\n5/12/2011 10:00:00 PM     9     4\n5/12/2011 11:00:00 PM     10    4\n</code></pre>\n"}, {"tags": ["python", "osx-yosemite", "anaconda", "mpi4py"], "comments": [{"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 0, "creation_date": 1425574837, "post_id": 28866718, "comment_id": 46028019, "body": "Looks like there was an issue with how the package was built."}, {"owner": {"reputation": 716, "user_id": 1309143, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/91f861fe32b7e5d2c71d8b4e09809274?s=128&d=identicon&r=PG", "display_name": "CodeGuyRoss", "link": "https://stackoverflow.com/users/1309143/codeguyross"}, "edited": false, "score": 4, "creation_date": 1439671550, "post_id": 28866718, "comment_id": 51959871, "body": "I had this issue also. It cost me a couple hours until I found this post. I ran the command &quot;conda install --channel mpi4py mpich mpi4py&quot; that I found on the page you provided and it fixed my issue. THANKS!"}, {"owner": {"reputation": 223, "user_id": 3227128, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002025549314/picture?type=large", "display_name": "harpribot", "link": "https://stackoverflow.com/users/3227128/harpribot"}, "edited": false, "score": 0, "creation_date": 1456591919, "post_id": 28866718, "comment_id": 59023937, "body": "you saved my day on this"}], "owner": {"reputation": 324, "user_id": 3372150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/5153716aac3987c679724f72a7914489?s=128&d=identicon&r=PG&f=1", "display_name": "jbbj94", "link": "https://stackoverflow.com/users/3372150/jbbj94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 938, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425928912, "creation_date": 1425509751, "last_edit_date": 1592644375, "question_id": 28866718, "link": "https://stackoverflow.com/questions/28866718/mpi4py-will-not-run-on-yosemite", "title": "mpi4py will not run on Yosemite", "body": "<p>I'm trying to learn how to use MPI with python.</p>\n<p>When I try using mpi4py installed with Python 2.7.8 :: Anaconda 2.1.0, to run the helloworld script <a href=\"http://materials.jeremybejarano.com/MPIwithPython/introMPI.html\" rel=\"nofollow noreferrer\">here</a>, I get the following error:</p>\n<pre><code>--------------------------------------------------------------------------\nSorry!  You were supposed to get help about:\n    opal_init:startup:internal-failure\nBut I couldn't open the help file:\n    /opt/anaconda1anaconda2anaconda3/share/openmpi/help-opal-runtime.txt: No such file or directory.  Sorry!\n--------------------------------------------------------------------------\n[usrname] [[INVALID],INVALID] ORTE_ERROR_LOG: Error in file runtime/orte_init.c at line 79\n[usrname] [[INVALID],INVALID] ORTE_ERROR_LOG: Error in file orterun.c at line 694\n</code></pre>\n<p>I uninstalled the conda-packaged mpi4py and tried installing using pip.  Installation failed with the following error message:</p>\n<pre><code>error: Cannot find 'mpi.h' header. Check your configuration!!!\n</code></pre>\n<p>After searching around, I tried the manual install shown <a href=\"http://mpi4py.scipy.org/docs/usrman/appendix.html#macosx-universal-sdk\" rel=\"nofollow noreferrer\">here</a>, but no dice.</p>\n<p>Please help!</p>\n<h2>SOLVED:</h2>\n<p>Anaconda hasn't yet packaged mpi4py to work with Yosemite. You can install with the conda commands <a href=\"https://groups.google.com/forum/#!topic/mpi4py/ULMq-bC1oQA\" rel=\"nofollow noreferrer\">here.</a></p>\n"}, {"tags": ["python", "python-2.7", "concurrent.futures"], "comments": [{"owner": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "edited": false, "score": 0, "creation_date": 1425540607, "post_id": 28866651, "comment_id": 46007402, "body": "I&#39;m confused. Creating a subprocess in a new thread is not a good idea, why do you want to do that instead of using <code>ProcessPoolExecutor</code>?"}, {"owner": {"reputation": 513, "user_id": 2136394, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af6457eeac82f62ad92e7384332f5c0?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/2136394/flash"}, "reply_to_user": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "edited": false, "score": 0, "creation_date": 1425566079, "post_id": 28866651, "comment_id": 46022054, "body": "I had originally used ProcessPoolExecutor, but I could not get the method that executed the ProcessPool to return after execution.  From the docs this made me change to ThreadPoolExecutor: &quot;Calling Executor or Future methods from a callable submitted to a ProcessPoolExecutor will result in deadlock.&quot;   I am open to all suggestions of best practice here."}, {"owner": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "edited": false, "score": 0, "creation_date": 1425566295, "post_id": 28866651, "comment_id": 46022183, "body": "Why? Of course you could get return value from subprocess. You access it using <code>future.result()</code>. Did I misunderstand your question?"}, {"owner": {"reputation": 513, "user_id": 2136394, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af6457eeac82f62ad92e7384332f5c0?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/2136394/flash"}, "reply_to_user": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "edited": false, "score": 0, "creation_date": 1425569484, "post_id": 28866651, "comment_id": 46024476, "body": "The subprocess is a FORTRAN exe that does not return anything to Python; therefore, I did need to use <code>future.result()</code> (unless I misunderstand something here).  I want to spawn a subprocess without Python waiting for it to complete.  And when the subprocess completes to fire a callback fn."}], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 2136394, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af6457eeac82f62ad92e7384332f5c0?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/2136394/flash"}, "edited": false, "score": 0, "creation_date": 1425652547, "post_id": 28898315, "comment_id": 46061256, "body": "I came to a similar solution.  Main difference is in the <code>subprocess</code> call.  I changed shell=1/True to False (the default).  With <code>shell=True</code> a shell would open and then run the cmd to start the FORTRAN exe.  So the Futures object was associated with the shell and not the .exe, and it would complete as soon as the cmd was executed.  This is why my callback was being called right after the .exe was launched.  With <code>shell=False</code> the Futures object is linked directly to the FORTRAN exe, and the callback fires when the exe is done executing."}, {"owner": {"reputation": 513, "user_id": 2136394, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af6457eeac82f62ad92e7384332f5c0?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/2136394/flash"}, "edited": false, "score": 1, "creation_date": 1425652793, "post_id": 28898315, "comment_id": 46061403, "body": "Also, I needed additional params passed to my callback function.  To achieve this I used <code>functools.partial</code>: <code>future.add_done_callback(partial(fortran_callback, param1, param2))</code>.  When the callback is eventually fired, it already has those params passed to it, and it appends the <code>Futures</code> object to the list of params for the callback; therefore, my <code>fortran_callback()</code> function was defined like this (with futures object being the last param):  <code>def fortran_callback(param1, param2, future):</code>"}], "tags": [], "owner": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "is_accepted": true, "score": 5, "last_activity_date": 1425643161, "creation_date": 1425643161, "answer_id": 28898315, "question_id": 28866651, "link": "https://stackoverflow.com/questions/28866651/python-concurrent-futures-using-subprocess-with-a-callback/28898315#28898315", "title": "Python concurrent.futures using subprocess with a callback", "body": "<p>Ok, now I know what you want and what your problem is.</p>\n\n<pre><code>def fortran_callback(future):\n    print(future.run_type, future.jid)\n    return \"Fortran finished executing\"\n\ndef fortran_execute():\n\n    from concurrent.futures import ProcessPoolExecutor as Pool\n\n    args = \"sleep 2; echo complete\"\n\n    pool = Pool(max_workers=1)\n    future = pool.submit(subprocess.call, args, shell=1)\n    future.run_type = \"run_type\"\n    future.jid = \"jid\"\n    future.add_done_callback(fortran_callback)\n\n    print(\"Fortran executed\")\n\n\nif __name__ == '__main__':\n    import subprocess\n    fortran_execute()\n</code></pre>\n\n<p>Run the above code gives output:</p>\n\n<pre><code>$ python3 test.py                                                                                                                                                      \nFortran executed\ncomplete\nrun_type jid\n</code></pre>\n\n<ol>\n<li>Using ThreadPool is OK, but ProcessPool is better if <code>fortran_callback</code> is computationally expensive</li>\n<li>Callback takes only one parameter which is the future object, so what you need to do is passing parameters via <code>future</code>'s attributes.</li>\n</ol>\n"}], "owner": {"reputation": 513, "user_id": 2136394, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af6457eeac82f62ad92e7384332f5c0?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/2136394/flash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6611, "favorite_count": 1, "accepted_answer_id": 28898315, "answer_count": 1, "score": 3, "last_activity_date": 1425643161, "creation_date": 1425509425, "last_edit_date": 1425565906, "question_id": 28866651, "link": "https://stackoverflow.com/questions/28866651/python-concurrent-futures-using-subprocess-with-a-callback", "title": "Python concurrent.futures using subprocess with a callback", "body": "<p>I am executing a FORTRAN exe from Python.  The FORTRAN exe takes many minutes to complete; therefore, I need a callback to be fired when the exe finishes.  The exe does not return anything back to Python, but in the callback function I will use Python to parse output text files from the FORTRAN.</p>\n\n<p>For this I am using <code>concurrent.futures</code> and <code>add_done_callback()</code>, and it works.  But this part of a web service and I need to have the Python method that calls <code>subprocess.call() / Popen()</code> to return once the FORTRAN exe is executed.  Then when the FORTRAN is complete the callback function is called.</p>\n\n<pre><code>def fortran_callback(run_type, jid):\n\n    return \"Fortran finished executing\"\n\ndef fortran_execute():\n\n    from concurrent.futures import ThreadPoolExecutor as Pool\n\n    args = \"fortran.exe arg1 arg2\"\n\n    pool = Pool(max_workers=1)\n    future = pool.submit(subprocess.call, args, shell=1)\n    future.add_done_callback(fortran_callback(run_type, jid))\n    pool.shutdown(wait=False)\n\n    return \"Fortran executed\"\n</code></pre>\n\n<p>fortran_execute() is called when a form is submitted and I want to return \"Fortran executed\" without waiting for the FORTRAN to complete.</p>\n\n<p>Currently the Python method returns without waiting for the FORTRAN to complete, but it also triggers the callback when it returns.  The FORTRAN process continues to run, and when it eventually is completed it tries to call the callback function and an exception is thrown because the <code>future</code> is no longer present <code>TypeError: 'NoneType' object is not callable</code>.</p>\n\n<p>What am I missing here to start an exe with <code>subprocess</code>, have the function return, and then have a callback method called only when the exe is finished executing?</p>\n"}, {"tags": ["python", "sqlite", "flask", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3830401, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cc39b7daab8056e9ad54385f21682358?s=128&d=identicon&r=PG&f=1", "display_name": "byoungdale", "link": "https://stackoverflow.com/users/3830401/byoungdale"}, "edited": false, "score": 0, "creation_date": 1425571504, "post_id": 28867904, "comment_id": 46025840, "body": "Than you, that worked. I did not run into any circular import problems. But, I did find that my code for adding new blog posts was wrong. But it was an easy fix. <i>db.session.add(BlogPost(title, post))</i> instead of <i>db.session.add(title, post)</i>"}], "tags": [], "owner": {"reputation": 1559, "user_id": 120498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f72e95d654cb2c6a8048e58906107fe?s=128&d=identicon&r=PG", "display_name": "jan zegan", "link": "https://stackoverflow.com/users/120498/jan-zegan"}, "is_accepted": true, "score": 1, "last_activity_date": 1425516191, "last_edit_date": 1425516191, "creation_date": 1425515644, "answer_id": 28867904, "question_id": 28866563, "link": "https://stackoverflow.com/questions/28866563/cannot-create-database-with-sqlalchemy/28867904#28867904", "title": "Cannot create database with SQLAlchemy", "body": "<p>There's a typo in <code>SQLAlCHEMY_DATABASE_URI</code>, should be <code>SQLALCHEMY_DATABASE_URI</code>, the 2nd <code>l</code>. </p>\n\n<p>When running <code>from blog import db</code> some statements in <code>blog.py</code> get executed, including the one with <code>sqlite:///</code> which is where the path is set. Modifying this line</p>\n\n<pre><code>app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///posts.db'\n</code></pre>\n\n<p>and then after running <code>create_db.py</code> should create a database in app's root directory. There doesn't seem to be another place in the code where the db path is set.</p>\n\n<p>It looks like you may also run into some circular import problems (will throw <code>ImportError: cannot import name [name]</code>). Some solutions are putting the app init stuff like <code>db = SQLAlchemy..</code> into a separate file or importing at the end of the file.</p>\n"}], "owner": {"reputation": 133, "user_id": 3830401, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cc39b7daab8056e9ad54385f21682358?s=128&d=identicon&r=PG&f=1", "display_name": "byoungdale", "link": "https://stackoverflow.com/users/3830401/byoungdale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "accepted_answer_id": 28867904, "answer_count": 1, "score": 0, "last_activity_date": 1425516191, "creation_date": 1425509005, "question_id": 28866563, "link": "https://stackoverflow.com/questions/28866563/cannot-create-database-with-sqlalchemy", "title": "Cannot create database with SQLAlchemy", "body": "<p>I am trying to run my create_db.py file to create the posts.db database, but it will not get created in my project directory. And when I run the main file for the blog and try to login in I get the error below.</p>\n\n<p>I have looked up this error and seen that other people have gotten it as well and asked about it here on Stackoverflow, but none of them seems to help me. I have read that this could be because something in my blog.py file is running <strong>main</strong> before the database gets created. But, I am thinking that it has something to do with the configuration. Mainly the PATH of the database could be getting mixed up with the <code>app.config['SQLAlCHEMY_DATABASE_URI'] = 'sqlite:///'</code> line. </p>\n\n<p>Any ideas?</p>\n\n<p><strong>Here is the error</strong></p>\n\n<p>sqlalchemy.exc.OperationalError</p>\n\n<p>OperationalError: (OperationalError) no such table: posts u'SELECT posts.id AS posts_id, posts.title AS posts_title, posts.post AS posts_post \\nFROM posts' ()</p>\n\n<p>OperationalError: (OperationalError) no such table: posts u'SELECT posts.id AS posts_id, posts.title AS posts_title, posts.post AS posts_post \\nFROM posts' ()</p>\n\n<p>Here is my code. There are three files here: blog.py, models.py, create_db.py</p>\n\n<p><strong>blog.py</strong>\n    # controller of blog app</p>\n\n<pre><code>from flask import Flask, render_template, request, session,\\\n    flash, redirect, url_for, g\nfrom flask.ext.sqlalchemy import SQLAlchemy\nimport sqlite3\nfrom functools import wraps\n\n\n# create the application object\napp = Flask(__name__)\n\n# configuration\napp.secret_key = 'x13xa8xf5}[xfexd4Zxb8+x07=7xc9xe1Bxcfxbdt.ox87oxc9'\napp.config['SQLAlCHEMY_DATABASE_URI'] = 'sqlite:///'\n\n# create sqlalchemy object\n\ndb = SQLAlchemy(app)\n\nfrom models import *\n\n# login required decorator\ndef login_required(test):\n    @wraps(test)\n    def wrap(*args, **kwargs):\n        if 'logged_in' in session:\n            return test(*args, **kwargs)\n        else:\n            flash('You need to login first.')\n            return redirect(url_for('login'))\n    return wrap\n\n@app.route('/', methods = ['GET','POST'])\ndef login():\n    error = None\n    if request.method == 'POST':\n        if request.form['username'] != 'admin' or request.form['password'] != 'admin':\n            error = 'Invalid Credentils. Please try again.'\n        else:\n            session['logged_in'] = True\n            return redirect(url_for('main'))\n    return render_template('login.html', error=error)\n\n@app.route('/main')\n@login_required\ndef main():\n    posts = db.session.query(BlogPost).all()\n    return render_template('main.html', posts=posts)\n\n@app.route('/add', methods=['POST'])\n@login_required\ndef add():\n    title = request.form['title']\n    post = request.form['post']\n    if not title or not post:\n        flash(\"All fields are required. Please try again.\")\n        return redirect(url_for('main'))\n    else:\n        db.session.add(title)\n        db.session.add(post)\n        db.session.commit()\n        db.session.close()\n        flash('New entry was successfully posted!')\n        return redirect(url_for('main'))\n\n\n@app.route('/logout')\ndef logout():\n    session.pop('logged_in', None)\n    flash('You were logged out')\n    return redirect(url_for('login'))\n\ndef connect_db():\n    return sqlite.connect('posts.db')\n\nif __name__ == '__main__':\n    app.run(debug = True)\n</code></pre>\n\n<p><strong>models.py:</strong></p>\n\n<pre><code>from blog import db\n\nclass BlogPost(db.Model):\n\n    __tablename__ = \"posts\"\n\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String, nullable=False)\n    post = db.Column(db.String, nullable=False)\n\n    def __init__(self, title, post):\n        self.title = title\n        self.post = post\n\n    def __repr__(self):\n        return '&lt;title {}'.format(self.title)\n</code></pre>\n\n<p><strong>create_db.py</strong></p>\n\n<pre><code>from blog import db\nfrom models import BlogPost\n\n# create the database and the db tables\ndb.create_all()\n\n# insert\ndb.session.add(BlogPost(\"Good\",\"I\\'m good.\"))\ndb.session.add(BlogPost(\"Well\",\"I\\'m well.\"))\ndb.session.add(BlogPost(\"Post\",\"I\\'m a post.\"))\n\n# commit the changes\n\ndb.session.commit()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "axis-labels"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1425511593, "post_id": 28866530, "comment_id": 45998915, "body": "Where is <code>ax</code> being set?  from <code>subplots(...)</code>?  Can you show that line?"}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1425511775, "post_id": 28866530, "comment_id": 45998966, "body": "fig,ax = plt.subplots()       Happens at very top of code"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1425511818, "post_id": 28866530, "comment_id": 45998980, "body": "Are your Seconds floats? Could you round them down to ints for plotting?"}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1425511856, "post_id": 28866530, "comment_id": 45998990, "body": "Are you passing no arguments to <code>subplots</code>?  Is it simply <code>fig, ax = subplots()</code>?"}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1425511954, "post_id": 28866530, "comment_id": 45999018, "body": "jedwards --yes,  cphlewis-- they are datetime"}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1425512856, "post_id": 28867183, "comment_id": 45999316, "body": "You are correct on a bunch of what you said.  After reading some of the answers/comments parts of my understanding of the plotting are fundamentally flawed...  I am going to post the full original code and plot output to clarify how my code works."}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "reply_to_user": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1425512980, "post_id": 28867183, "comment_id": 45999368, "body": "@Tom try to isolate your problem to a separate smaller script the best you can, not post the full code. If it&#39;s long, that helps even less. Apart from that, good luck!"}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1425513968, "post_id": 28867183, "comment_id": 45999667, "body": "I think I&#39;m just missing the proper way to set ax with the way im doing the subplots"}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "reply_to_user": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 1, "creation_date": 1425514593, "post_id": 28867183, "comment_id": 45999874, "body": "@Tom I don&#39;t see you creating an <code>fig</code> or <code>ax</code> instance anywhere up there. Notice how I did <code>fig, ax = plt.subplots()</code> so you should also do <code>f, axarr = plt.subplot(2, 1, m)</code> or even possibly a <code>fig, ax = plt.subplots(2)</code>. In the code you added you refer to <code>ax</code> instance which doesn&#39;t exist and that should result in an error. In your original example you&#39;re working with the <code>plt</code> command, which implicitly creates and then selects an <code>fig</code> and an <code>ax</code>. <a href=\"http://matplotlib.org/examples/pylab_examples/subplots_demo.html\" rel=\"nofollow noreferrer\">See this</a> code where it says <code># Two subplots, the axes array is 1-d</code>."}], "tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": true, "score": 3, "last_activity_date": 1425511932, "creation_date": 1425511932, "answer_id": 28867183, "question_id": 28866530, "link": "https://stackoverflow.com/questions/28866530/how-to-remove-microseconds-from-matplotlib-plot/28867183#28867183", "title": "How to remove microseconds from matplotlib plot?", "body": "<p>I've a couple of problems with your code. First, it doesn't work (and I mean it doesn't work even when I make all the mock sample data). Second, it's not really a minimal working example showcasing what's wrong, I can't figure out what your <code>date</code> is, I presume <code>matplotlib.dates</code>? Third I can't see your plot (your full label with the <code>'%M-%D</code> part on it as well)</p>\n\n<p>Now issues I have with that is, I can't figure out how do you even get past the line with <code>('%M-%D %H:%M:%S')</code> which throws an incorrect syntax my way. (Matplotlib 1.3.1 Win7 both on python2.6.6 and 3.4). I can't see what your <code>ax</code> is, or how does your data look like, all of this can be problematic when it comes to stuff like this. Even having an overly large time span can cause ticks to \"overflow\" (especially when you try to put hour locators on a range of years, i.e. that throws an error at 7200 ticks I think?)</p>\n\n<p>Meanwhile, here's my min working example that doesn't display the same behavior as yours.</p>\n\n<pre><code>import matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport datetime as dt\n\ndays     = mpl.dates.DayLocator()\nhours    = mpl.dates.HourLocator()\n\n\nx = []\nfor i in range(1, 30):\n    x.append(dt.datetime(year=2000, month=1, day=i,\n                             hour=int(i/3), minute=i, second=i))\ny = []\nfor i in range(len(x)):\n    y.append(i)\n\nfig, ax = plt.subplots()\nplt.xticks(rotation=45)\nax.plot_date(x, y, \"-\")\n\nax.xaxis.set_major_locator(days)\nax.xaxis.set_minor_locator(hours)\n\nmajorFormatter = mpl.dates.DateFormatter('%m-%d %H:%M:%S')\nax.xaxis.set_major_formatter(majorFormatter)\nax.autoscale_view()\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/HcANk.png\" alt=\"enter image description here\"></p>\n\n<p>(This all shouldn't probably be an answer, maybe it'll turn out it helps you, but it's too long to be a comment). </p>\n"}, {"tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1425512418, "last_edit_date": 1425512418, "creation_date": 1425512115, "answer_id": 28867213, "question_id": 28866530, "link": "https://stackoverflow.com/questions/28866530/how-to-remove-microseconds-from-matplotlib-plot/28867213#28867213", "title": "How to remove microseconds from matplotlib plot?", "body": "<p>If you're not using subplots, don't use them.</p>\n\n<p>Simply remove any mention of the <code>subplot()</code> or <code>subplots()</code> functions, then to get an axis handle you could use: <code>ax = plt.gca()</code> above any reference to <code>ax</code>.</p>\n\n<p>Maybe something like:</p>\n\n<pre><code>...\n# Set Locators\nax = plt.gca()\nax.xaxis.set_major_locator(days)\nax.xaxis.set_minor_locator(hours)\n...\n</code></pre>\n\n<p>Then, you'll get a <code>ValueError: Invalid format string</code> error -- likely because you have <code>%D</code> isn't a <a href=\"https://docs.python.org/2/library/time.html#time.strftime\" rel=\"nofollow\">valid strftime string formatting directive</a>.  (You probably want <code>%m-%d %H:%M:%S</code>.)  If you fix that, your plot will display with your formatter.</p>\n"}], "owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2234, "favorite_count": 2, "accepted_answer_id": 28867183, "answer_count": 2, "score": 2, "last_activity_date": 1425513803, "creation_date": 1425508852, "last_edit_date": 1425513803, "question_id": 28866530, "link": "https://stackoverflow.com/questions/28866530/how-to-remove-microseconds-from-matplotlib-plot", "title": "How to remove microseconds from matplotlib plot?", "body": "<p>I have been through the pylab examples and many axis formatting questions, but am still unable to remove the microseconds from the x-axis in the plot below.</p>\n\n<p>Original code before trying to alter axis/tick properties and its output.</p>\n\n<p><img src=\"https://i.stack.imgur.com/CEQjM.png\" alt=\"enter image description here\"></p>\n\n<pre><code>#filenames to be read in\nfile0 = 'results'         \n\n\n#Get data from file strore in record array\ndef readIn(fileName):\n    temp = DataClass()\n    with open('%s.csv' % fileName) as csvfile:\n        temp = mlab.csv2rec(csvfile,names = ['date', 'band','lat'])\n    return temp\n\n#plotting function(position number, x-axis data, y-axis data,\n#                       filename,data type, units, y axis scale)\ndef iPlot(num,xaxi,yaxi,filename,types, units,scale):\n    plt.subplot(2,1,num)\n    plt.plot_date(xaxi,yaxi,'-')\n    plt.title(filename + \"--%s\" % types )\n    plt.ylabel(\" %s  %s \" % (types,units))\n    plt.ylim(0,scale)\n    plt.xticks(rotation=20)\n\n\n\n# Set plot Parameters and call plot funciton\ndef plot():\n    nameB = \"Bandwidth\"\n    nameL = \"Latency\"\n    unitsB = \" (Mbps)\"\n    unitsL = \"(ms)\"\n    scaleB = 30\n    scaleL = 500\n\n    iPlot(1,out0['date'],out0['lat'],file0,nameL,unitsL,scaleL)\n    iPlot(2,out0['date'],out0['band'],file0,nameB,unitsB,scaleB)\n\ndef main():\n    global out0 \n    print \"Creating plots...\"\n\n    out0 = readIn(file0)\n    plot()\n\n    plt.show()\n\nmain()\n</code></pre>\n\n<p>My attempt was to alter the code above by adding:</p>\n\n<pre><code>months   = date.MonthLocator()  # every month\ndays     = date.DayLocator()\nhours    = date.HourLocator()\nminutes    = date.MinuteLocator()\nseconds   = date.SecondLocator()\n\n\ndef iPlot(num,xaxi,yaxi,filename,types, units,scale):\n    plt.subplot(2,1,num)\n    plt.plot_date(xaxi,yaxi,'-')\n    plt.title(filename + \"--%s\" % types )\n    plt.ylabel(\" %s  %s \" % (types,units))\n    plt.ylim(0,scale)\n\n    # Set Locators\n    ax.xaxis.set_major_locator(days)\n    ax.xaxis.set_minor_locator(hours)\n\n    majorFormatter = date.DateFormatter('%M-%D %H:%M:%S')\n    ax.xaxis.set_major_formatter(majorFormatter)\n    ax.autoscale_view()\n</code></pre>\n\n<p>Is the major formatter I'm setting being over written by a default on?  Is there a way to just turn off the microseconds without mucking with the rest of the format?  I am fairly unclear on where the microseconds come from as my data contains none. </p>\n"}, {"tags": ["python", "scipy"], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 1, "last_activity_date": 1425517073, "creation_date": 1425517073, "answer_id": 28868138, "question_id": 28866466, "link": "https://stackoverflow.com/questions/28866466/sparse-construct-repeating-identity/28868138#28868138", "title": "Sparse Construct: Repeating Identity", "body": "<p>The arguments to <code>scipy.sparse.kron</code> do not have to be sparse.</p>\n\n<pre><code>In [31]: import numpy as np\n\nIn [32]: import scipy.sparse as sp\n\nIn [33]: ij = 4\n\nIn [34]: E = sp.identity(ij)  # Sparse identity matrix\n\nIn [35]: oneVector = np.ones((1, ij))  # Dense\n\nIn [36]: m = sp.kron(E, oneVector)  # m is sparse.\n\nIn [37]: m\nOut[37]: \n&lt;4x16 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\n    with 16 stored elements (blocksize = 1x4) in Block Sparse Row format&gt;\n\nIn [38]: m.A\nOut[38]: \narray([[ 1.,  1.,  1.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  1.,  1.,  1.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  1.,  1.,  1.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  1.,  1.,  1.]])\n</code></pre>\n\n<p>P.S. Based on this comment:</p>\n\n<blockquote>\n  <p>Basically, the Kronecker product of identity and a row vector of ones is repeating the identity matrix horizontally oneVector.size times.  </p>\n</blockquote>\n\n<p>I wonder if you meant <code>kron(oneVector, E)</code>:</p>\n\n<pre><code>In [39]: m = sp.kron(oneVector, E)\n\nIn [40]: m.A\nOut[40]: \narray([[ 1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.],\n       [ 0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.],\n       [ 0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.],\n       [ 0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.]])\n</code></pre>\n"}], "owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425517073, "creation_date": 1425508561, "question_id": 28866466, "link": "https://stackoverflow.com/questions/28866466/sparse-construct-repeating-identity", "title": "Sparse Construct: Repeating Identity", "body": "<p>say I have with <code>ij</code> being large (e.g. 5000) , the two following matrices</p>\n\n<pre><code>E = np.identity((ij))\noneVector = np.ones((1, ij))\n</code></pre>\n\n<p>and I need to compute</p>\n\n<pre><code>np.kron(E, oneVector)\n</code></pre>\n\n<p>This is quite slow and inefficient. Basically, the Kronecker product of identity and a row vector of ones is repeating the identity matrix horizontally <code>oneVector.size</code> times. </p>\n\n<p>I believe that creating a sparse product would make more sense. <code>scipy.sparse.kron</code> would allow me to create that product if I had both A, B as sparse. But I don't know how to create the vector of ones as a \"sparse type\" matrix. </p>\n\n<p>Is there a simple way to generate the sparse equivalent of <code>np.ones()</code> or is there another way I should proceed?</p>\n"}, {"tags": ["python", "sqlite", "python-2.6"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1425508483, "post_id": 28866444, "comment_id": 45997707, "body": "It looks like you have an extra parenthesis at the end."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425509135, "post_id": 28866444, "comment_id": 45997971, "body": "Please don&#39;t update your question when your problem is solved, only to ask a new question with the new syntax."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425509208, "post_id": 28866444, "comment_id": 45997998, "body": "@AdamSmith Does this not count as the same problem? The updated code gave me the same exact error. Seems a bit <i>excessive</i> to ask this question over again. It will be nearly an exact copy."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425509590, "post_id": 28866444, "comment_id": 45998164, "body": "@Kimbluey but the code you updated to invalidated Martijn&#39;s answer. The problem in the code you posted is definitely that it was missing whitespace. If you&#39;re still getting an error, comment to reflect that but don&#39;t change your question"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425509839, "post_id": 28866444, "comment_id": 45998268, "body": "@AdamSmith So can I leave everything currently in my question be, but add the update at the end for further clarification/to receive the final answer I am seeking?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1425509907, "post_id": 28866444, "comment_id": 45998303, "body": "@Kimbluey yes that way the next person that&#39;s having the same problem you are (either the lack of whitespace in the concat or whatever the cause of your other issue is -- I don&#39;t see it offhand) can find the answer they need."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425510524, "post_id": 28866444, "comment_id": 45998527, "body": "@Kimbluey your problem now is that you&#39;ve done <code>sw_id==sw_id</code>, which is <code>True</code> rather than passing some value as a kwarg. Since that&#39;s not what you&#39;ve said you did in the edit I rolled back from, I&#39;m concerned that the REAL reason you&#39;re getting this error isn&#39;t present in your question because you&#39;ve copied your code poorly. Please <i>triple-</i> and <i>quadruple-check</i> your work"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1425513011, "post_id": 28866444, "comment_id": 45999378, "body": "@martineau that&#39;s never a reason to close a question. Judge a question by usefulness to others with the same problem instead."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1425513748, "post_id": 28866444, "comment_id": 45999608, "body": "@Martijn: I think it&#39;s a valid reason if the OP basically works around the issue using some unspecified technique, so if any of the solutions presented would have solved the problem will likely remain unknown \u2014 which was the situation when I voted to close. However, since the OP has now reverted her question and confirmed your solution fixed it, I&#39;ve revoked my close vote."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1425565215, "post_id": 28866444, "comment_id": 46021512, "body": "@martineau Then that should have been the initial reasoning behind your vote. In the future, please voice your concerns <b>before</b> deciding to vote to close a question to give users a chance to fix their mistakes. I&#39;m new to Stack Overflow and don&#39;t know all rules yet. Please keep in mind that your actions have the risk of driving new users away from this site."}], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1425511068, "post_id": 28866454, "comment_id": 45998726, "body": "@Kimbluey what database library are you using? What style of parameters are supported depends on the library."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1425512195, "post_id": 28866454, "comment_id": 45999105, "body": "I&#39;m not sure where I can find that information...All I know is I&#39;m using Python 2.6, ElementTree, SQLite3 <i>and</i> that the database is a <b>relational database</b>. Not sure if that helps answer your question. It&#39;s fine now though, I&#39;m no longer using this code. Thank you for your answer"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 1, "creation_date": 1425512349, "post_id": 28866454, "comment_id": 45999148, "body": "@Kimbluey sqlite3 is what I was after here; the library uses a <i>different syntax</i> and only positional parameters are supported."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1425513615, "post_id": 28866454, "comment_id": 45999576, "body": "Thanks for the additional information! I hadn&#39;t known about different style parameters for SQLite3 before now...So it looks like <code>?</code> is <i>always</i> used as a placeholder and nothing else"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 4, "last_activity_date": 1425512502, "last_edit_date": 1425512502, "creation_date": 1425508492, "answer_id": 28866454, "question_id": 28866444, "link": "https://stackoverflow.com/questions/28866444/what-is-the-syntax-for-querying-in-python/28866454#28866454", "title": "What is the syntax for querying in Python?", "body": "<p>You have no whitespace between the <code>WHERE</code> and the next word; the string concatenation doesn't add spaces. The same happens for the <code>AND</code> at the end of the second string:</p>\n\n<pre><code>&gt;&gt;&gt; (\"SELECT TARGET_.*, TARGET_, SOFTWARE_TARGET_ WHERE\"\n...  \"SOFTWARE_TARGET_.SOFTWARE1=%(sw_ID)s AND\"\n...  \"SOFTWARE_TARGET_.TARGET2=TARGET_.ID\")\n'SELECT TARGET_.*, TARGET_, SOFTWARE_TARGET_ WHERESOFTWARE_TARGET_.SOFTWARE1=%(sw_ID)s ANDSOFTWARE_TARGET_.TARGET2=TARGET_.ID'\n</code></pre>\n\n<p>It is easier to use a <code>\"\"\"</code> triple quoted multi-line string instead here:</p>\n\n<pre><code>myVariable = cursor.execute(\"\"\"\n    SELECT TARGET_.*, TARGET_, SOFTWARE_TARGET_ WHERE\n    SOFTWARE_TARGET_.SOFTWARE1=%(sw_ID)s AND\n    SOFTWARE_TARGET_.TARGET2=TARGET_.ID\"\"\", {'sw_ID': sw_ID})\n</code></pre>\n\n<p>Note that if you are using <code>sqlite3</code> you can only use <em>positional</em> SQL parameters using the <code>?</code> placeholder:</p>\n\n<pre><code>myVariable = cursor.execute(\"\"\"\n    SELECT TARGET_.*, TARGET_, SOFTWARE_TARGET_ WHERE\n    SOFTWARE_TARGET_.SOFTWARE1=? AND\n    SOFTWARE_TARGET_.TARGET2=TARGET_.ID\"\"\", (sw_ID,))\n</code></pre>\n\n<p>Quoting the <a href=\"https://docs.python.org/2/library/sqlite3.html\" rel=\"nofollow\"><code>sqlite3</code> documentation</a>:</p>\n\n<blockquote>\n  <p>Put <code>?</code> as a placeholder wherever you want to use a value, and then provide a tuple of values as the second argument to the cursor\u2019s <code>execute()</code> method. (Other database modules may use a different placeholder, such as <code>%s</code> or <code>:1</code>.)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 1561114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b441fe55048e73a0d7ec7db58376f2?s=128&d=identicon&r=PG", "display_name": "pdowling", "link": "https://stackoverflow.com/users/1561114/pdowling"}, "is_accepted": false, "score": 1, "last_activity_date": 1425510756, "creation_date": 1425510756, "answer_id": 28866942, "question_id": 28866444, "link": "https://stackoverflow.com/questions/28866444/what-is-the-syntax-for-querying-in-python/28866942#28866942", "title": "What is the syntax for querying in Python?", "body": "<p>Martijns answer appears correct - but your edited answer doesn't. Note that you're using <code>sw_id==sw_id</code>, which evaluates to a boolean and doesn't really make sense here. You probably want to replace that with <code>{\"sw_id\":sw_id}</code> (just like Martijn does in his answer).</p>\n"}], "owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 28866454, "answer_count": 2, "score": 1, "last_activity_date": 1425512816, "creation_date": 1425508452, "last_edit_date": 1425512816, "question_id": 28866444, "link": "https://stackoverflow.com/questions/28866444/what-is-the-syntax-for-querying-in-python", "title": "What is the syntax for querying in Python?", "body": "<p>I sort of understand how this works, but I get lost after the <code>WHERE</code>. Please tell me what is wrong with the following and help me understand what it's doing in general:</p>\n\n<pre><code>myVariable = cursor.execute(\"SELECT TARGET_.*, TARGET_, SOFTWARE_TARGET_ WHERE\"\n                           \"SOFTWARE_TARGET_.SOFTWARE1=%(sw_ID)s AND\"\n                           \"SOFTWARE_TARGET_.TARGET2=TARGET_.ID\", sw_ID=sw_ID))\n</code></pre>\n\n<p>I keep getting the following error:</p>\n\n<pre><code>OperationalError: near \"%\": syntax error\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 5, "last_activity_date": 1425508479, "creation_date": 1425508479, "answer_id": 28866453, "question_id": 28866429, "link": "https://stackoverflow.com/questions/28866429/connecting-to-a-django-remote-server-host/28866453#28866453", "title": "Connecting to a Django remote server host", "body": "<p>You are trying to connect to 127.0.0.1, which is your own PC. Substitute it with your server's IP address.</p>\n"}, {"tags": [], "owner": {"reputation": 4589, "user_id": 535884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a53aebc466c2dfc2c62633310465e0?s=128&d=identicon&r=PG", "display_name": "Igor Pomaranskiy", "link": "https://stackoverflow.com/users/535884/igor-pomaranskiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425560585, "creation_date": 1425560585, "answer_id": 28878522, "question_id": 28866429, "link": "https://stackoverflow.com/questions/28866429/connecting-to-a-django-remote-server-host/28878522#28878522", "title": "Connecting to a Django remote server host", "body": "<p>Also you can use handy shortcut name for your website by adding a record to your <code>hosts</code> file:</p>\n\n<pre><code>192.168.1.201 mysite.com\n</code></pre>\n\n<p>Where 192.168.1.201 is IP of your dev-server (you should substitute your value), and mysite.com \u2014 URL, which will point to your site.</p>\n\n<p><code>hosts</code> file resides in directory C:\\Windows\\System32\\drivers\\etc (if you are on Windows) or in /etc/ directory on Linux and Mac.</p>\n"}], "owner": {"reputation": 299, "user_id": 3799658, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f874ba1014edd2478671f2b47d431943?s=128&d=identicon&r=PG&f=1", "display_name": "user3799658", "link": "https://stackoverflow.com/users/3799658/user3799658"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 28866453, "answer_count": 2, "score": 0, "last_activity_date": 1425560585, "creation_date": 1425508391, "question_id": 28866429, "link": "https://stackoverflow.com/questions/28866429/connecting-to-a-django-remote-server-host", "title": "Connecting to a Django remote server host", "body": "<p>I ssh-ed into a remote server and ran the command:</p>\n\n<pre><code>python manage.py runserver 0.0.0.0:8000\n</code></pre>\n\n<p>The server starts up, development server running at <a href=\"http://0.0.0.0:8000/\" rel=\"nofollow\">http://0.0.0.0:8000/</a></p>\n\n<p>Then in my localhost system, I go to the browser and go to </p>\n\n<pre><code>http://127.0.0.1:8000/myapp/\n</code></pre>\n\n<p>I'm getting a Problem loading page/Unable to connect error message. What am I doing wrong?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1425508510, "post_id": 28866424, "comment_id": 45997722, "body": "You might wanna use a 2d array in numpy or even a pandas object to make indexing easier?  Ie you could give labels to the collumns and rows and refer to data as &quot;Board[&#39;A&#39;][&#39;2&#39;]&quot;  and maybe the value can be True or False, where True means a ship is there and False it isnt."}, {"owner": {"reputation": 324, "user_id": 1730405, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7d284aa0e1ef8ba968fd704e28ecf45c?s=128&d=identicon&r=PG", "display_name": "Elias Benevedes", "link": "https://stackoverflow.com/users/1730405/elias-benevedes"}, "edited": false, "score": 3, "creation_date": 1425508519, "post_id": 28866424, "comment_id": 45997727, "body": "What is not working? Be more specific, &quot;is this the best way to approach this&quot; is very vague."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1425509752, "post_id": 28866424, "comment_id": 45998225, "body": "Eek this sounds like a whole lot of problems tied into one question. I would try narrowing to ONE issue and asking about that one, then work on another on your own before asking a second question, and so on."}, {"owner": {"reputation": 85, "user_id": 3308280, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e9ce5f694261c4968d17102d7832399f?s=128&d=identicon&r=PG&f=1", "display_name": "sm15", "link": "https://stackoverflow.com/users/3308280/sm15"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425511254, "post_id": 28866424, "comment_id": 45998802, "body": "@AdamSmith Haha I know! My main issue is the parameter passing problem. But other help to the any problems would be great!"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1425516418, "post_id": 28866424, "comment_id": 46000469, "body": "@sm15 I began a quick and dirty (but best-effort) implementation <a href=\"https://bitbucket.org/smith_adam/battleship\" rel=\"nofollow noreferrer\">here</a>. You&#39;re really going to get value from modular development here. I&#39;ll build some unit tests later on this week and see if I can&#39;t get more of the game proper up and running, however in <code>ships.Ship.__init__</code> there&#39;s a section that handles <b><i>PLAYER</i></b> overlapping ships. Feel free to clone and work on it with me if you&#39;d like, otherwise I hope the small amount of code I put in can help."}, {"owner": {"reputation": 85, "user_id": 3308280, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e9ce5f694261c4968d17102d7832399f?s=128&d=identicon&r=PG&f=1", "display_name": "sm15", "link": "https://stackoverflow.com/users/3308280/sm15"}, "edited": false, "score": 0, "creation_date": 1425763232, "post_id": 28866424, "comment_id": 46097680, "body": "Thanks a lot!  I really appreciate the effort"}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1425514119, "creation_date": 1425514119, "answer_id": 28867610, "question_id": 28866424, "link": "https://stackoverflow.com/questions/28866424/making-simple-game-of-battleship/28867610#28867610", "title": "Making simple game of Battleship", "body": "<p>I think it's unlikely that you're going to get a good answer to this question because of its breadth, however what I THINK you're trying to do with your parameter issue is more like:</p>\n\n<pre><code>def main():\n    intro()\n\n    my_board = placeMyShips(emptyBoard())\n    my_hit_board = emptyBoard()\n    comp_board = placeCompShips(emptyBoard())\n    comp_hit_board = emptyBoard()\n\n    myMoves(comp_board, my_hit_board)\n</code></pre>\n\n<p>Note also my variable names. Functions shouldn't use mixedCase names except where it's already established in that project (e.g. this new project and every other should use lowercase_names) as per <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">PEP8</a></p>\n"}], "owner": {"reputation": 85, "user_id": 3308280, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e9ce5f694261c4968d17102d7832399f?s=128&d=identicon&r=PG&f=1", "display_name": "sm15", "link": "https://stackoverflow.com/users/3308280/sm15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 28867610, "answer_count": 1, "score": 0, "last_activity_date": 1425514621, "creation_date": 1425508376, "last_edit_date": 1425514621, "question_id": 28866424, "link": "https://stackoverflow.com/questions/28866424/making-simple-game-of-battleship", "title": "Making simple game of Battleship", "body": "<p>I am trying to implement a simple Battleship game. It is a one player game versus the computer. So far I am only able to input the positions of my ship without my program breaking lol. <br/><br/>I am trying to generate random coordinates for the computer, but I can not figure out the logic to place them beside each other (vertical or horizontal) without overlapping them. \n<br/><br/>\nI still need conditions for sunken ships and when the game is over, but I don't know how to go about it. My best (and only) process was to loop through the elements of each of the players and computers hit boards (the hits recorded for both computer and player) and count if there is 5 'A', 3 'C', and 2 'D' on the board. If there is, then that player wins.\n<br/>\n\n<pre><code>from random import random, randrange\n\ndef emptyBoard():\n    empBoard = [ ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*'],\n             ['*','*','*','*','*','*','*']]\n    return empBoard\n\ndef placeMyShips(myBoard):\n\n    for a in range(5):\n        x,y = eval(input('Enter coordinate of Aircarrier: '))\n        myBoard [x][y] = 'A' \n\n    for c in range(3):\n        x1,y1 = eval(input('Enter coordinate of Cruiser: '))\n        myBoard [x1][y1] = 'C'\n    for d in range(2):\n        x2,y2 = eval(input('Enter coordinate of Destroyer: '))\n        myBoard [x2][y2] = 'D'\n\n    print ('\\tMy Fleet')\n    for i in myBoard:\n        print (i)\n\n    return myBoard\n\ndef placeCompShips(compBoard):\n\n    for a in range (5):\n        x= randrange(0,5)\n        y= x+1      \n        compBoard[x][y]= 'A'\n\n    for c in range (3):\n        x1= randrange(0,5)\n        y1= x1+1\n        if compBoard [x1][y1] == '*':\n            compBoard[x1][y1]= 'C'            \n\n    for d in range (2):\n        x2= randrange(0,5)\n        y2= x2+1\n        if compBoard [x2][y2] =='*':\n        compBoard[x2][y2] = 'D'\n\n    return compBoard\n\ndef myMoves(compBoard,myHitBoard):  \n    x,y = eval(input('Enter your move as coordinate: '))\n    if compBoard[x][y] == 'A':\n        myHitBoard[x][y] =='A'\n        print('Computer: You hit my Aircarrier')\n\n    elif compBoard [x][y] == 'C':\n        myHitBoard[x][y] =='C'\n        print('Computer: You hit my Cruiser')\n\n    elif compBoard [x][y] == 'D':\n        myHitBoard[x][y] =='D'\n        print('Computer: You hit my Destroyer')\n\n    else:\n        myHitBoard [x][y] = 'M'\n        print('Computer: Shot was a miss')\n\n    print ('My hits on the computer')\n    for i in myHitBoard:\n        print (i)\n\n    return myHitBoard\n\ndef compMoves(myBoard,compHitBoard):\n\n    x,y = eval(input('Enter your move as coordinate '))\n    if myBoard[x][y] == 'A':          \n        compHitBoard [x][y] = 'A'\n        print('Player: You hit my Aircarrier')\n    elif myBoard [x][y] == 'C':\n        compHitBoard[x][y] =='C'\n        print('Player: You hit my Cruiser')\n    elif myBoard [x][y] == 'D':\n        compHitBoard[x][y] =='D'\n        print('Player: You hit my Destroyer')\n    else:\n        compHitBoard [x][y] = 'M'\n        print('Player: Shot was a miss')\n    return compHitBoard\n\n\ndef intro():\n    print('BATTLESHIP')\n    print('This is a one player game versus the computer')\n\ndef main():\n    intro()\n\n    placeMyShips(emptyBoard())\n    placeCompShips(emptyBoard())\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "numpy", "fortran", "f2py"], "comments": [{"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1425553532, "post_id": 28866399, "comment_id": 46014701, "body": "Can you show the error messages you are getting now? Did you try compiling with <code>-fcheck=all</code>(may affect performance)?"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1425566979, "post_id": 28866399, "comment_id": 46022651, "body": "I&#39;m not at my work computer now so can&#39;t now but will do it later.  I think it&#39;s a segfault.  But to be clear, I&#39;m not really concerned about this specific error.  I know it&#39;s a runtime error resulting b/c I haven&#39;t loaded data yet.  I&#39;m just concerned about how I can get line numbers for run time errors in general."}], "answers": [{"tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 1, "last_activity_date": 1425674437, "creation_date": 1425674437, "answer_id": 28907271, "question_id": 28866399, "link": "https://stackoverflow.com/questions/28866399/how-can-i-get-info-on-run-time-errors-for-python-modules-built-with-f2py/28907271#28907271", "title": "How can I get info on run time errors for Python modules built with f2py", "body": "<p>In brief, this combo of flags seems to allow gdb to produce line number of any runtime errors in <code>f1.f90</code> or <code>f2.f90</code>:</p>\n\n<pre><code>C:\\&gt; gfortran -g -fbacktrace -c f1.f90 f2.f90\nC:\\&gt; f2py --debug-capi -c -I. f1.o f2.o -m main main.f90\nC:\\&gt; gdb python\n\n(gdb) run main.py\n</code></pre>\n\n<p>Where <code>main.py</code> imports/calls <code>main.f90</code> which is using/calling <code>f1.f90</code> and <code>f2.f90</code>.  Can then do backtrace to get some additional info.</p>\n\n<pre><code>(gdb) backtrace\n</code></pre>\n"}], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 28907271, "answer_count": 1, "score": 2, "last_activity_date": 1425677259, "creation_date": 1425508283, "last_edit_date": 1425677259, "question_id": 28866399, "link": "https://stackoverflow.com/questions/28866399/how-can-i-get-info-on-run-time-errors-for-python-modules-built-with-f2py", "title": "How can I get info on run time errors for Python modules built with f2py", "body": "<p><strong>Edit 3/6:  Sorry, this was a false alarm.  It seems to be working now.  I believe the <code>-g</code> flag on gfortran and <code>--debug-capi</code> are sufficient after all to generate line numbers for GDB (gnu debugger).  I will make a short answer summarizing how to do this in case it is helpful for others (was a bit of a learning experience for me).  But please feel free to post additional answers that improve on this.  In particular I would be interested in being able to get line numbers without using GDB, if that's possible.</strong></p>\n\n<p>This must be a common problem but I can't find any answers. The error is in in the Fortran library (what I call <code>f2.f90</code> below), but it's a runtime error that isn't triggered until I am using the code via Python.</p>\n\n<p>To make it a little more explicit:</p>\n\n<ol>\n<li><p>I compile several files with <code>gfortran</code>:</p>\n\n<pre><code>gfortran -c f1.f90 f2.f90\n</code></pre></li>\n<li><p>I generate a module with <code>f2py</code>:</p>\n\n<pre><code>f2py -c f1.o f2.o -m main main.f90\n</code></pre></li>\n<li><p>In python:</p>\n\n<pre><code>import main\n</code></pre></li>\n<li><p>In python, call subroutine main, inside of main:</p>\n\n<pre><code>main.main()\n</code></pre></li>\n</ol>\n\n<p>I can get this to work successfully but when I play around with <code>f2.f90</code> I will often have some error, and when that happens it's in step 4 and will crash python and only give me the option to close it.  Unfortunately I get no information about what line in <code>f2.f90</code> caused the problem or any other info.</p>\n\n<p>So, pretty simple question, is there a way I can cause step 4 to give me some basic info about the run time crash?  Mainly the line number of the problem.</p>\n\n<p>I've tried adding <code>-g -fbacktrace</code> to gfortran call and <code>--debug-capi</code> to <code>f2py</code> and then using <code>gdb python</code> with backtrace.  This looks somewhat promising as it at least tells me that the offending file is <code>f2.f90</code>, but not the line number.  If I try \"backtrace full\" it will tell me <code>No symbol table info available</code> which is probably where the line number info is held?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": false, "score": 2, "last_activity_date": 1425507482, "creation_date": 1425507482, "answer_id": 28866173, "question_id": 28866138, "link": "https://stackoverflow.com/questions/28866138/django-rendering-template-issue/28866173#28866173", "title": "django rendering template issue", "body": "<p>Your context dictionary key is incorrect. Instead of </p>\n\n<pre><code>context = {'academy': academys} \n</code></pre>\n\n<p>type</p>\n\n<pre><code> context = {'academys': academys} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 2240489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjkjK.jpg?s=128&g=1", "display_name": "wrdeman", "link": "https://stackoverflow.com/users/2240489/wrdeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1425507608, "creation_date": 1425507608, "answer_id": 28866214, "question_id": 28866138, "link": "https://stackoverflow.com/questions/28866138/django-rendering-template-issue/28866214#28866214", "title": "django rendering template issue", "body": "<p>You've passing 'academy' in your context not 'academys'</p>\n\n<pre><code>context={'academys ': academys}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4465305, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hT9YX.jpg?s=128&g=1", "display_name": "springkjw", "link": "https://stackoverflow.com/users/4465305/springkjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425508059, "creation_date": 1425507377, "last_edit_date": 1425508059, "question_id": 28866138, "link": "https://stackoverflow.com/questions/28866138/django-rendering-template-issue", "title": "django rendering template issue", "body": "<p>I'm just built my django project but have some problem. I want to display title that is in Academy. When I run <code>python manage.py runserver</code> everything is okay but the title is not displayed. I don't know what the problem is.</p>\n\n<p><strong>class.html</strong></p>\n\n<pre><code>{% extends \"base.html\" %}\n{% block content %}\n    &lt;div&gt;\n        &lt;div style=\"margin-top: 200px;\"&gt;\n        &lt;/div&gt;\n        {% for academy in academys %}\n            &lt;h3&gt;{{ academy.title }}&lt;/h3&gt;\n        {% endfor %}\n    &lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>...\nurl(r'^academy/class', 'academy.views.class', name='class'),\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>from django.shortcuts import render, Http404\nfrom .models import Academy\n\ndef class(request):\n    template = 'academy/class.html'\n    try:        \n        academys = Academy.objects.all()\n        context = {'academy': academys}\n\n    except Academy.DoesNotExit:\n        raise Http404\n\n    if request.user.is_authenticated():\n        return render(request, template, context)\n    else:\n        return HttpResponseRedirect(\"/account/login/\")\n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>...\nclass Academy(models.Model):\n    title = models.CharField(max_length=50)\n\n    def __unicode__(self):\n        return self.title\n</code></pre>\n"}, {"tags": ["python", "data-structures", "singly-linked-list", "doubly-linked-list"], "comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425508203, "post_id": 28866128, "comment_id": 45997571, "body": "Any time you append a new node to <code>tail</code>, replace <code>tail</code> with the new node. Any time you insert to position 0, replace <code>head</code> with the new node. Any time you remove <code>tail</code>, replace <code>tail</code> with the tail-node&#39;s <code>prev</code>. Any time you remove <code>head</code>, replace <code>head</code> withe the head-node&#39;s <code>next</code>."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425508381, "post_id": 28866128, "comment_id": 45997675, "body": "Note that being singly linked or doubly-linked doesn&#39;t actually change anything about the linked-list behaves. It just changes how you can iterate; In a singly-linked-list you can only iterate from head-&gt;tail, in a doubly-linked-list you can iterate in either direction. Technically speaking in both cases it would be useful to store <code>tail</code>; it makes appending to the list much faster (though keeping <code>tail</code> up to date is harder in a singly-linked list since you can&#39;t find the new <code>tail</code> from the old one, you have to iterate the whole list)."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1425512611, "post_id": 28866128, "comment_id": 45999225, "body": "Rosetta code has implementations of basic data structures in many languages. There is definitely a python doubly linked list. Looking for that may give you some ideas."}], "answers": [{"tags": [], "owner": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "is_accepted": false, "score": 0, "last_activity_date": 1425515402, "creation_date": 1425515402, "answer_id": 28867864, "question_id": 28866128, "link": "https://stackoverflow.com/questions/28866128/changing-a-singly-linked-list-to-a-doubly-linked-list/28867864#28867864", "title": "Changing a singly linked list to a doubly linked list", "body": "<p>I don't know Python, but here's a way to do it in Haskell:</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>import qualified Data.Vector as V\nimport Data.Vector (Vector, (!), fromList)\n\ndata DLL a = DLL {prevP :: Maybe (DLL a),\n                  val :: a,\n                  nextP :: Maybe (DLL a)}\n\nlist2DLL :: [a]-&gt;DLL a\nlist2DLL = vec2DLL . fromList\n\nprev :: Int -&gt; Maybe Int\nprev i | i &lt;= 0 = Nothing\nprev i = Just (i-1)\n\nnext :: Int -&gt; Int -&gt; Maybe Int\nnext i lim | i &lt; lim-1 = Just(i+1)\nnext _ _ = Nothing\n\nvec2DLL :: Vector a -&gt; DLL a\nvec2DLL v = scaffold ! 0 where\n  scaffold = V.mapWithIndex go v\n  go i a = DLL (fmap (scaffold!) $ prev i)\n               a\n               (fmap (scaffold!) $ next i (length v))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 0, "last_activity_date": 1425521720, "creation_date": 1425521720, "answer_id": 28868843, "question_id": 28866128, "link": "https://stackoverflow.com/questions/28866128/changing-a-singly-linked-list-to-a-doubly-linked-list/28868843#28868843", "title": "Changing a singly linked list to a doubly linked list", "body": "<blockquote>\n  <p>I know I have to reference now the tail as well as the head but I'm pretty stumped on how to do that.</p>\n</blockquote>\n\n<p>A great way to get started is to write out in English what it is you want to do:</p>\n\n<blockquote>\n  <p>I have a Linked List and I need to convert it to a doubly linked list. To do this, each node needs to keep track of a <code>prev</code> and <code>next</code>, and my list needs a <code>head</code> and <code>tail</code> node. When I create the list, <code>head</code> and <code>tail</code> should point at the same item. When I add a new item to my list, it should become the last node, its <code>.prev</code> element should be the previous <code>.tail</code>, and it should be the <code>.next</code> item for that item as well.</p>\n</blockquote>\n\n<p>Once you have a description of what you want to do, then it should be relatively straightforward to translate that into code.</p>\n"}], "owner": {"reputation": 113, "user_id": 4628554, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/761cf968c9903eb3a064b7eacc58ca4e?s=128&d=identicon&r=PG&f=1", "display_name": "Cooper", "link": "https://stackoverflow.com/users/4628554/cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425521720, "creation_date": 1425507328, "last_edit_date": 1425507976, "question_id": 28866128, "link": "https://stackoverflow.com/questions/28866128/changing-a-singly-linked-list-to-a-doubly-linked-list", "title": "Changing a singly linked list to a doubly linked list", "body": "<p>I created a singly linked list function and my professor said for extra credit we can change it into a doubly linked list. I read a few things such as adding a prev_node function such as this.</p>\n\n<pre><code>class ListNode(object):\n\n    def __init__(self, item = None, prev = None, link = None):\n\n        '''creates a ListNode with the specified data value and link\n        post: creates a ListNode with the specified data value and link'''\n\n        self.item = item\n        self.prev = prev\n        self.link = link\n</code></pre>\n\n<p>However, I am confused on where to go from there. I know I need to add a tail as well as a head like I did here.</p>\n\n<pre><code>from DoublyListNode import ListNode\n\nclass LinkedList(object):\n\n    #--------------------------------------------------------------\n\n    def __init__(self, seq=()):\n\n        \"\"\" Pre: Creates a Linked List\n        Post: Creates a list containing the items in the seq=()\"\"\"\n\n        if seq == ():\n\n            # If there is no items to be put into the list, then it creates an empty one.\n            self.head = None\n            self.tail = None\n\n        else:\n\n            # Creates a node for the first item.\n            self.head = ListNode(seq[0], None)\n\n            # If there are remaining items, then they're added while keeping track of the last node.\n            last = self.head\n            for item in seq[1:]:\n                last.link = ListNode(item, None)\n                last = last.link\n\n        self.size = len(seq)\n</code></pre>\n\n<p>Could anyone tell me, ( NOT DO IT FOR ME), what I have to do in order to change my linkedlist into a doubly linkedlist? I know I have to reference now the tail as well as the head but I'm pretty stumped on how to do that.</p>\n"}, {"tags": ["python", "arrays", "json", "angularjs", "cherrypy"], "comments": [{"owner": {"reputation": 62345, "user_id": 781707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/966bba9413b31a0ac253297399f9998a?s=128&d=identicon&r=PG", "display_name": "Davin Tryon", "link": "https://stackoverflow.com/users/781707/davin-tryon"}, "edited": false, "score": 0, "creation_date": 1425507554, "post_id": 28866126, "comment_id": 45997258, "body": "Why are you using <code>application&#47;x-www-form-urlencoded</code>?"}, {"owner": {"reputation": 9261, "user_id": 1078110, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qTCYm.png?s=128&g=1", "display_name": "Matthew Green", "link": "https://stackoverflow.com/users/1078110/matthew-green"}, "edited": false, "score": 1, "creation_date": 1425508377, "post_id": 28866126, "comment_id": 45997673, "body": "It looks like you are trying to send your JSON as parameters, is that right? Why not just send it as data instead? You can then use the json import to turn it into a dictionary or whatever you want at that point."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 3451900, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7659ecaa06532a13237be98300dc24c6?s=128&d=identicon&r=PG&f=1", "display_name": "navaeta", "link": "https://stackoverflow.com/users/3451900/navaeta"}, "edited": false, "score": 0, "creation_date": 1425560315, "post_id": 28875405, "comment_id": 46018543, "body": "It works! I didn&#39;t know nothing about json tools included in Cherrypy. Thank you!"}], "tags": [], "owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "is_accepted": true, "score": 2, "last_activity_date": 1425550848, "creation_date": 1425550848, "answer_id": 28875405, "question_id": 28866126, "link": "https://stackoverflow.com/questions/28866126/how-to-pass-an-array-from-angularjs-up-python-and-store/28875405#28875405", "title": "How to pass an array from AngularJS up python and store?", "body": "<p>I won't tell you about AngularJS part as it's out of my interest, but I can tell you about CherryPy. It is be much easier for you to send and process your data as <code>application/json</code>, so I suggest you to avoid <code>application/x-www-form-urlencoded</code> and search how to send JSON with your client library. With CherryPy, of course, you can handle both ways.</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n\nimport cherrypy\n\n\nconfig = {\n  'global' : {\n    'server.socket_host' : '127.0.0.1',\n    'server.socket_port' : 8080,\n    'server.thread_pool' : 8\n  }\n}\n\nclass App:\n\n  @cherrypy.expose\n  def index(self):\n    return '''&lt;!DOCTYPE html&gt;\n      &lt;html&gt;\n      &lt;head&gt;\n        &lt;title&gt;CherryPy demo&lt;/title&gt;\n        &lt;script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'&gt;&lt;/script&gt;\n        &lt;script type='text/javascript'&gt;\n          var data = { \n            \"name\": \"Bob\",\n            \"address\": \"Springfield\",\n            \"cars\": [\n              { \"model\": \"Renault C15\", \"year\": \"1965\" },\n              { \"model\": \"Ford Ka\", \"year\": \"1998\" }\n            ]\n          };\n\n          $(document).ready(function()\n          {\n            $('#send-json').on('click', function()\n            {\n              $.ajax({\n                'type'        : 'POST',\n                'dataType'    : 'JSON',\n                'contentType' : 'application/json',\n                'url'         : '/jsonin',\n                'data'        : JSON.stringify(data),\n                'success'     : function(response)\n                {\n                  console.log(response);  \n                }\n              });\n            });\n            $('#send-form').on('click', function()\n            {\n              $.ajax({\n                'type'        : 'POST',\n                'dataType'    : 'JSON',\n                'url'         : '/formin',\n                'data'        : data,\n                'success'     : function(response)\n                {\n                  console.log(response);  \n                }\n              });\n            });            \n          });\n        &lt;/script&gt;\n      &lt;/head&gt;\n      &lt;body&gt;\n        &lt;p&gt;&lt;a href='#' id='send-json'&gt;Send JSON&lt;/a&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;a href='#' id='send-form'&gt;Send form&lt;/a&gt;&lt;/p&gt;\n      &lt;/body&gt;\n      &lt;/html&gt;\n    '''\n\n  @cherrypy.expose\n  @cherrypy.tools.json_out()\n  def formin(self, **kwargs):\n    # You can just print a variable a see it in the terminal\n    # where CherryPy is executed\n    print(kwargs)\n    # You would see\n    # {\n    #   'cars[1][year]': u'1998', \n    #   'name': u'Bob', \n    #   'cars[0][model]': u'Renault C15', \n    #   'address': u'Springfield', \n    #   'cars[0][year]': u'1965', \n    #   'cars[1][model]': u'Ford Ka'\n    # }\n    return kwargs.items()\n\n  @cherrypy.expose\n  @cherrypy.tools.json_in()\n  @cherrypy.tools.json_out()\n  def jsonin(self):\n    data = cherrypy.request.json # just the same structure\n    return data.items()\n\n\nif __name__ == '__main__':\n  cherrypy.quickstart(App(), '/', config)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 3451900, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7659ecaa06532a13237be98300dc24c6?s=128&d=identicon&r=PG&f=1", "display_name": "navaeta", "link": "https://stackoverflow.com/users/3451900/navaeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "accepted_answer_id": 28875405, "answer_count": 1, "score": 0, "last_activity_date": 1425550848, "creation_date": 1425507315, "question_id": 28866126, "link": "https://stackoverflow.com/questions/28866126/how-to-pass-an-array-from-angularjs-up-python-and-store", "title": "How to pass an array from AngularJS up python and store?", "body": "<p>I need to pass from AngularJS to python a JSON object. JSON structure would be:</p>\n\n<pre><code>{ \"name\": \"Bob\",\n  \"address\": \"Springfield\",\n  \"cars\": [\n    { \"model\": \"Renault C15\", \"year\": \"1965\" },\n    ...\n    { \"model\": \"Ford Ka\", \"year\": \"1998\" } ]\n}\n</code></pre>\n\n<p>This is a fragment of my AngularJS controller. All parameters are input from an HTML form (in this case the array \"cars\" has been created manually, to show you the way I have it programmed)</p>\n\n<pre><code>$scope.cars= [];\nvar car1 = { model: 'Renault C15', year: '1965' };\nvar car2 = { model: 'Ford Ka', year: '1998' };\n$scope.cars.push(car1);\n$scope.cars.push(car2);\n...\n$scope.newForm = function() {\n    var dataToSend= {\n        name: $scope.name,\n        address: $scope.address,\n        cars: $scope.cars\n    };\n    $http({\n        method: 'POST',\n        url: '/myUrl/something',\n        data: $.param(dataToSend),\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n    });\n    ...\n}\n</code></pre>\n\n<p>If I inspect the POST request I see the following parameters:</p>\n\n<pre><code>name Bob\naddress Springfield\ncars[0][model]  Renault C15\ncars[0][year]   1965\ncars[1][model]  Ford Ka\ncars[1][year]   1998\n</code></pre>\n\n<p>Initially, I will not know how many items will have the array \"cars\".\nNow, this is the header of a python function. I know how to store the normal arguments but I don't know how to do the same thing with array \"cars\". I would store it as a python list or dictionary.</p>\n\n<pre><code>def something(self, **params):\n    ...\n    name=params['name']\n    address=params['address']\n    ...\n</code></pre>\n\n<p>How can I store the array?</p>\n"}, {"tags": ["python", "comparison"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1425507274, "post_id": 28866087, "comment_id": 45997118, "body": "Probably there is a newline character at the end of <code>lastLine</code>.  Try printing <code>repr(lastLine)</code> and <code>repr(data[&quot;serial&quot;])</code>."}, {"owner": {"reputation": 587, "user_id": 1663898, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HR2fj.jpg?s=128&g=1", "display_name": "Deslyxia", "link": "https://stackoverflow.com/users/1663898/deslyxia"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1425507434, "post_id": 28866087, "comment_id": 45997192, "body": "lLn :  e1a9502f3fcd6ec352bb10a1fd8153dd  md5 :  &#39;e1a9502f3fcd6ec352bb10a1fd8153dd&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1425507913, "post_id": 28866191, "comment_id": 45997441, "body": "Platform lineseparators (including <code>\\r\\n</code>) are translated to <code>\\n</code>, you only need to strip that one character."}], "tags": [], "owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "is_accepted": true, "score": 0, "last_activity_date": 1425507523, "creation_date": 1425507523, "answer_id": 28866191, "question_id": 28866087, "link": "https://stackoverflow.com/questions/28866087/not-doing-what-i-think-it-should-do-in-python/28866191#28866191", "title": "&quot;==&quot; not doing what i think it should do in Python", "body": "<p>Assuming <code>readlines()</code> is done on an open file handle, it will read the entire stream out into a list of lines, with lines including the carriage return and newline characters.  You want to call <code>rstrip()</code> on the lines to remove all the extra newline and carriage return characters that might be present.  If you also have other whitespace characters at the end that you want to remove you would want to call <code>rstrip('\\r\\n')</code> instead.</p>\n\n<p>Another hint: you don't need to find the length of the list to get the last element, you can simply do <code>lst[-1]</code> in your case.</p>\n\n<p>Putting it all together, you would do something like </p>\n\n<pre><code>lst = serialFile.readlines()\n    if(len(lst) &gt; 0):\n        lastLine = lst[-1].rstrip('\\r\\n')\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 1663898, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HR2fj.jpg?s=128&g=1", "display_name": "Deslyxia", "link": "https://stackoverflow.com/users/1663898/deslyxia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1425507978, "accepted_answer_id": 28866191, "answer_count": 1, "score": 0, "last_activity_date": 1425507523, "creation_date": 1425507191, "question_id": 28866087, "link": "https://stackoverflow.com/questions/28866087/not-doing-what-i-think-it-should-do-in-python", "closed_reason": "Duplicate", "title": "&quot;==&quot; not doing what i think it should do in Python", "body": "<p>In a script im working on I do the following:</p>\n\n<pre><code>data[\"serial\"] = md5.new(json.dumps(data[\"data\"])).hexdigest()\n...\n...\nlst = serialFile.readlines()\n    if(len(lst) &gt; 0):\n        lastLine = lst[len(lst) - 1]     \n...\n...\nprint \"lLn : \" , lastLine\nprint \"md5 : \" , str(data[\"serial\"])\nif lastLine == data[\"serial\"]:\n</code></pre>\n\n<p>I can verify that when I print out lLn and md5 they are the same. I feel like i should be tripping the logic statement ... but i do not ... </p>\n\n<p>Also i have tried using :</p>\n\n<pre><code>if lastLine == str(data[\"serial\"]):\n</code></pre>\n\n<p>I am still fairly new to Python ... what am i missing here ?</p>\n"}, {"tags": ["python", "numpy", "fft", "gaussian", "ifft"], "comments": [{"owner": {"reputation": 28915, "user_id": 108184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f11d5dec13b8e2d9abe53f4b66192e9?s=128&d=identicon&r=PG", "display_name": "pv.", "link": "https://stackoverflow.com/users/108184/pv"}, "edited": false, "score": 1, "creation_date": 1425548674, "post_id": 28865953, "comment_id": 46011480, "body": "If your analytical result is the one obtained by integration, you need to remember that ifft is a discrete fourier transform, not the continuous one. Your question is probably answerable just by looking at the definition of the discrete transforms: <a href=\"https://en.wikipedia.org/wiki/Discrete_Fourier_transform\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Discrete_Fourier_transform</a>"}], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 2240489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjkjK.jpg?s=128&g=1", "display_name": "wrdeman", "link": "https://stackoverflow.com/users/2240489/wrdeman"}, "is_accepted": false, "score": -1, "last_activity_date": 1425507433, "creation_date": 1425507433, "answer_id": 28866157, "question_id": 28865953, "link": "https://stackoverflow.com/questions/28865953/ifft-of-a-gaussian-power-spectrum-python/28866157#28866157", "title": "IFFT of a Gaussian power spectrum - Python", "body": "<p>I'd recommend using an existing library for an fft. Not as its particularly difficult but there are some well optimised solutions. \nTry scipy <a href=\"http://docs.scipy.org/doc/scipy/reference/fftpack.html\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy/reference/fftpack.html</a> or my favourite fftw <a href=\"https://hgomersall.github.io/pyFFTW/\" rel=\"nofollow\">https://hgomersall.github.io/pyFFTW/</a></p>\n"}, {"tags": [], "owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1425596471, "creation_date": 1425596471, "answer_id": 28889495, "question_id": 28865953, "link": "https://stackoverflow.com/questions/28865953/ifft-of-a-gaussian-power-spectrum-python/28889495#28889495", "title": "IFFT of a Gaussian power spectrum - Python", "body": "<p>The reason is the <a href=\"https://en.wikipedia.org/wiki/Fourier_transform#Plancherel_theorem_and_Parseval.27s_theorem\" rel=\"nofollow\">Plancherel theorem</a>, which states that the Fourier transform conserves the signal's energy, i.e., the integral over <em>|x(t)|\u00b2</em> equals the integral over <em>|X(f)|\u00b2</em>. If you have more samples (e.g., caused by higher sampling rate or a longer interval), you have more energy. For that reason your IFFT result is scaled by a factor of <code>N</code>. Your factor depends on hand on the <a href=\"https://en.wikipedia.org/wiki/Fourier_transform#Other_conventions\" rel=\"nofollow\">convention of Fourier Integral</a> used, as @pv already noted. On the other hand, on the length of your interval, since integral over the power of the sampled and the continuous interval need to be the same.</p>\n"}], "owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526964955, "creation_date": 1425506732, "last_edit_date": 1526964955, "question_id": 28865953, "link": "https://stackoverflow.com/questions/28865953/ifft-of-a-gaussian-power-spectrum-python", "title": "IFFT of a Gaussian power spectrum - Python", "body": "<p>I want to calculate the Inverse Fourier Transform of a Gaussian power spectrum, thus obtaining a Gaussian again. I want to use this fact to check that the IFFT of my Gaussian power spectrum is sensible, in the sense that it produces an array of data effectively distributed in Gaussian way.\nNow, it turns out that the IFFT must be multiplied by a factor 2*pi*N, where N is the dimension of the array, in order to recover the analytic correlation function (which is the Inverse Fourier Transform of the power spectrum). Can someone explain why?</p>\n\n<p>Here is the piece of code that first fills an array with the Gaussian power spectrum and then does the IFFT of the power spectrum.</p>\n\n<pre><code>power_spectrum_k = np.zeros(n, float)\nfor k in range(1, int(n/2+1)):\n    power_spectrum_k[k] = math.exp(-(2*math.pi*k*sigma/n)*(2*math.pi*k*sigma/n))\n\nfor k in range(int(n/2+1), n):\n    power_spectrum_k[k] = power_spectrum_k[int(k - n/2)]\n\ninverse_transform2 = np.zeros(n, float)\ninverse_transform2 = np.fft.ifft(power_spectrum_k)\n</code></pre>\n\n<p>where the symmetry of the power spectrum comes from the need to get a real correlation function, at the same time following the rules for the use of numpy.ifft (quoting from the documentation:</p>\n\n<p>\"The input should be ordered in the same way as is returned by fft, i.e., a[0] should contain the zero frequency term, a[1:n/2+1] should contain the positive-frequency terms, and a[n/2+1:] should contain the negative-frequency terms, in order of decreasingly negative frequency\".)</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 4, "creation_date": 1425506514, "post_id": 28865860, "comment_id": 45996713, "body": "You are overwriting result everytime, also you don&#39;t need to loop just pass a list to df to select those columns: <code>df[name_list.index]</code> should work"}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 3369382, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2b33110253b2c22c1340152548b02289?s=128&d=identicon&r=PG&f=1", "display_name": "MlolM", "link": "https://stackoverflow.com/users/3369382/mlolm"}, "edited": false, "score": 0, "creation_date": 1425507152, "post_id": 28865928, "comment_id": 45997054, "body": "Sorted, thanks. I have tested your code and it can work. However if I have duplicated name_list, for example, I have two &#39;column B&#39; in my name_list, I found the duplicated column would be written in my result as well. How could I solve this issue? Thanks,"}, {"owner": {"reputation": 247, "user_id": 3369382, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2b33110253b2c22c1340152548b02289?s=128&d=identicon&r=PG&f=1", "display_name": "MlolM", "link": "https://stackoverflow.com/users/3369382/mlolm"}, "edited": false, "score": 0, "creation_date": 1425507859, "post_id": 28865928, "comment_id": 45997413, "body": "The <code>index.unique()</code> could be found here ( <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.unique.html?highlight=unique#pandas.Index.unique\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a> )"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 3, "last_activity_date": 1425507953, "last_edit_date": 1425507953, "creation_date": 1425506649, "answer_id": 28865928, "question_id": 28865860, "link": "https://stackoverflow.com/questions/28865860/why-i-only-get-the-last-output-in-my-output-file/28865928#28865928", "title": "Why I only get the last output in my output file?", "body": "<p>You overwrite <code>result</code> every time hence the reason you only get the last result, also you don't need to use a loop this will work:</p>\n\n<pre><code>df[name_list.index].to_csv('result.csv')\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>In [21]:\n\nimport pandas as pd\nimport io\ntemp=\"\"\"A,B,C,D,E,F,G\n1,2,3,4,5,6,7\"\"\"\ntemp1=\"\"\"Name\nB\nE\nF\"\"\"\ndf = pd.read_csv(io.StringIO(temp))\nprint(df)\nname = pd.read_csv(io.StringIO(temp1), index_col=[0])\nname\n   A  B  C  D  E  F  G\n0  1  2  3  4  5  6  7\nOut[21]:\nEmpty DataFrame\nColumns: []\nIndex: [B, E, F]\nIn [20]:\n\ndf[name.index]\nOut[20]:\n   B  E  F\n0  2  5  6\n</code></pre>\n\n<p>The above shows that it's not necessary to create another df just to get the columns of interest to write out, once you read in your names you can pass the index to sub-select the columns of interest from the original df and then write them out to a csv.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you have duplicated entries in your index you can call <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.unique.html?highlight=unique#pandas.Index.unique\" rel=\"nofollow\"><code>unique</code></a> to de-duplicate the values:</p>\n\n<pre><code>In [24]:\n\ntemp1=\"\"\"Name\nB\nB\nE\nF\"\"\"\nname = pd.read_csv(io.StringIO(temp1), index_col=[0])\nprint(name)\ndf[name.index.unique()]\nEmpty DataFrame\nColumns: []\nIndex: [B, B, E, F]\nOut[24]:\n   B  E  F\n0  2  5  6\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 3369382, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2b33110253b2c22c1340152548b02289?s=128&d=identicon&r=PG&f=1", "display_name": "MlolM", "link": "https://stackoverflow.com/users/3369382/mlolm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425507953, "creation_date": 1425506400, "question_id": 28865860, "link": "https://stackoverflow.com/questions/28865860/why-i-only-get-the-last-output-in-my-output-file", "title": "Why I only get the last output in my output file?", "body": "<p>I tried to find particular columns based on a list of column's name by using pandas in python 2.7. For example, </p>\n\n<pre><code>&gt;&gt;&gt;df = pd.read_csv('database.csv') \nA,B,C,D,E,F,G  # A to G columns in database\n1,2,3,4,5,6,7  \n\n&gt;&gt;&gt;name_list = pd.read_csv('column_name.csv') \nName # 'Name' is set as index \nB    #  I need B, E and F column\nE\nF\n\n# code used to select particular columns\nresult = pd.DataFrame()\nfor col in df.columns:\n    if col in name_list.index:\n        result = df[[col]]  # select column based on the given list\n\n\nresult.to_csv('result.csv')  # write my result to csv file\n</code></pre>\n\n<p>The <code>print result</code> is fine, I can see column B, E and F, however, the result.csv file only has the last output (column F)? I have tried to move <code>result.to_csv</code> to different positions but it was still the same. </p>\n\n<p>Does anyone know why? </p>\n"}, {"tags": ["python", "django", "python-decorators", "django-permissions"], "answers": [{"tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": true, "score": 1, "last_activity_date": 1425548929, "last_edit_date": 1425548929, "creation_date": 1425507428, "answer_id": 28866155, "question_id": 28865813, "link": "https://stackoverflow.com/questions/28865813/is-there-django-view-decorator-to-check-a-condition-that-doesnt-assume-the-inpu/28866155#28866155", "title": "Is there Django view decorator to check a condition that doesn&#39;t assume the input is a User?", "body": "<p>just return a <code>HttpResponseForbidden</code> response object:</p>\n\n<pre><code>from django.http import HttpResponseForbidden\n\ndef what_decorator_goes_here(function):\n    @wraps(function)\n    def check_value(self, *args, **kwargs):\n        if getattr(self, 'my_val', None) == 1:\n            return function(self, *args, **kwargs)\n        else:\n            return HttpResponseForbidden()\n    return check_value\n</code></pre>\n\n<p>Or more sophisticated:</p>\n\n<pre><code>def allow_if_view_value(attr_name, target_value):\n    def decorator(function):\n        @wraps(function)\n        def check_value(self, *args, **kwargs):\n            if getattr(self, attr_name, None) == target_value:\n                return function(self, *args, **kwargs)\n            else:\n                return HttpResponseForbidden()\n        return check_value\n    return decorator\n\n@allow_if_view_value('my_val', 1)\n[...]\n</code></pre>\n\n<p>Albeit I must say, I am not too fond of using decorators to accomplish this instead of a generic view base class that dispatches requests accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 2902, "user_id": 210594, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UgxR3.jpg?s=128&g=1", "display_name": "justcompile", "link": "https://stackoverflow.com/users/210594/justcompile"}, "is_accepted": false, "score": 0, "last_activity_date": 1425507572, "creation_date": 1425507572, "answer_id": 28866207, "question_id": 28865813, "link": "https://stackoverflow.com/questions/28865813/is-there-django-view-decorator-to-check-a-condition-that-doesnt-assume-the-inpu/28866207#28866207", "title": "Is there Django view decorator to check a condition that doesn&#39;t assume the input is a User?", "body": "<p>I think you should just be able to raise a PermissionDenied Exception from the decorator itself.</p>\n\n<pre><code>from django.core.exceptions import PermissionDenied\n\ndef my_decorator_1(function):\n    @wraps(function)\n    def decorator(self, *args, **kwargs):\n        self.my_val = random.randint(0,1)\n        if self.my_val == 1:\n            raise PermissionDenied\n        return function(self, *args, **kwargs)\n    return decorator\n</code></pre>\n\n<p>I think thats how the decorators you've mentioned work. The Django request pipeline would then pick up the exception and handle it accordingly.</p>\n"}], "owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 28866155, "answer_count": 2, "score": 0, "last_activity_date": 1425548929, "creation_date": 1425506226, "question_id": 28865813, "link": "https://stackoverflow.com/questions/28865813/is-there-django-view-decorator-to-check-a-condition-that-doesnt-assume-the-inpu", "title": "Is there Django view decorator to check a condition that doesn&#39;t assume the input is a User?", "body": "<p>I have a very simple Django decorator <code>my_decorator1</code> that looks like this:</p>\n\n<pre><code>def my_decorator_1(function):\n    @wraps(function)\n    def decorator(self, *args, **kwargs):\n        self.my_val = random.randint(0,1)\n        return function(self, *args, **kwargs)\n    return decorator\n</code></pre>\n\n<p>My Django APIView that looks like this:</p>\n\n<pre><code>class MyApiView(views.APIView):\n    @what_decorator_goes_here\n    @my_decorator_1 \n    def post(self, request, *args, **kwargs):\n        \"\"\"\n        Blah Blah Blah. The rest is snipped out for brevity.\n        \"\"\"\n</code></pre>\n\n<p>Now I want a decorator to grant access to MyApiView <strong><em>iff</em></strong> self.my_val == 1. Otherwise it should give a permission denied error (403). How can I do it? I need it to replace <code>@what_decorator_goes_here</code>. This can't be that uncommon of a workflow.</p>\n\n<p>Isn't there a prewritten django decorator I can use for this purpose? The two <a href=\"https://docs.djangoproject.com/en/1.7/topics/auth/default/\" rel=\"nofollow\"><strong>similar ones</strong></a> that I have seen are <code>@user_passes_test</code> and <code>@permission_required</code>. However neither of them operate on the <code>self</code> argument. The first one assumes the input is a <code>User</code> and the second one takes something different. </p>\n"}, {"tags": ["python", "string", "optimization", "buffer"], "comments": [{"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1425507262, "post_id": 28865785, "comment_id": 45997109, "body": "What kind of sequence files are you using and what size are they? Also what does your RAM look like?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3590712"}, "reply_to_user": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1425512012, "post_id": 28865785, "comment_id": 45999036, "body": "I&#39;m inputing FASTA files, which have no compression or anything, I&#39;m running on a laptop with 16gb of ram."}, {"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1425512679, "post_id": 28865785, "comment_id": 45999248, "body": "What size is the FASTA file? Or if there are multiple, how many are there and what is their average size?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3590712"}, "reply_to_user": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1425515109, "post_id": 28865785, "comment_id": 46000046, "body": "It&#39;s small as FASTA files go, its only 4.5MB.  I think that perhaps the way I coded my program is the issue.  In essence it is making objects inside of objects inside of objects, to a very deep level.  I believe that perhaps it runs out of memory at some point where it can no longer create another new &quot;Node&quot; object and gives the memory error.  I am unsure of how to properly debug the memory issues so this is just supposition."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3590712"}, "edited": false, "score": 0, "creation_date": 1425515260, "post_id": 28866486, "comment_id": 46000093, "body": "My goal is less professional oriented and more learning oriented, so I am trying to create an implementation from my own skill set rather than using what comes with Bio python.  I am more of a science person and less of a program person so I was attempting to put my &quot;paper&quot; knowledge on suffix trees to use in Python as an exercise.  I would be happy to hear any suggestions about my suffix tree implementation however."}, {"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1425516812, "post_id": 28866486, "comment_id": 46000581, "body": "I see. I have the same background (biology first, then computer science). I am confused however, as my suggestions are simply two alternate data structures, so in essence you will still have to develop and implement the algorithm itself, just while storing your data in a more efficient way. I would be curious to see how replacing your self.out = {} with self.out = trie.trie() would work, as if I understand the code, that is where you are saving your nested objects, and the trie does not create the suffix for you, but rather serves the same purpose as your dictionary but more memory efficient."}], "tags": [], "owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "is_accepted": false, "score": 0, "last_activity_date": 1425516832, "last_edit_date": 1425516832, "creation_date": 1425508670, "answer_id": 28866486, "question_id": 28865785, "link": "https://stackoverflow.com/questions/28865785/python-buffer-for-large-string-better-or-worse/28866486#28866486", "title": "Python Buffer for large string - better or worse?", "body": "<p>Working with sequence data can become memory intensive, especially if you are working with fastq files that are in the tens of GB range or larger. At a certain point, you're just going to need to use a machine with more RAM. Because you did not provide the file size information, or information about your compute resource, it is impossible to tell if this is the case. Please provide that info when you get a chance.</p>\n\n<p>Regardless, it seems that you should be making use of some Bio python tools, which will make processing sequence data much more efficient. This is because much of Bio python makes use of C data structures.</p>\n\n<p>First of all, you should be representing sequences as <a href=\"http://biopython.org/wiki/Seq\" rel=\"nofollow\">Seq</a>s, not strings.</p>\n\n<pre><code>from Bio.Seq import Seq\n\nsequence = Seq('ACTG')\n</code></pre>\n\n<p>Secondly, a suffix tree is a perfect job for a <a href=\"http://biopython.org/DIST/docs/api/Bio.trie-module.html\" rel=\"nofollow\">trie</a>.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow\">Trie - Wikipedia</a></p>\n\n<pre><code>from Bio import trie\n\nself.out = trie.trie()\n# You can work with this object just as you would with a dictionary.\n# self.out[key] = value\n</code></pre>\n\n<p>Working with these biopython data structures should make things more memory efficient, and is just a good practice in general when handling sequence data in python.</p>\n\n<p>Also, I am not sure what you're end goal is, but you may want to look into the more efficient suffix array. Many de novo assemblers such as ABySS use this for assembly.</p>\n"}, {"tags": [], "owner": {"reputation": 10312, "user_id": 42219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/918b627daf7d848cd40770ed6cd15233?s=128&d=identicon&r=PG", "display_name": "apenwarr", "link": "https://stackoverflow.com/users/42219/apenwarr"}, "is_accepted": false, "score": 0, "last_activity_date": 1464834424, "creation_date": 1464834424, "answer_id": 37581660, "question_id": 28865785, "link": "https://stackoverflow.com/questions/28865785/python-buffer-for-large-string-better-or-worse/37581660#37581660", "title": "Python Buffer for large string - better or worse?", "body": "<p>Adding the '$' to your buffer is what kills it.  This causes it to coerce itself into a string, which causes all the same copying as before.  If you really need to append characters, you could try using a list of buffers instead of actually appending characters to a single buffer.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3590712"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464834424, "creation_date": 1425506100, "question_id": 28865785, "link": "https://stackoverflow.com/questions/28865785/python-buffer-for-large-string-better-or-worse", "title": "Python Buffer for large string - better or worse?", "body": "<p>I am using python to take a very large string (DNA sequences) and try to make a suffix tree out of it.  My program gave a memory error after a long while of making nested objects, so I thought in order to increase performance, it might be useful to create buffers from the string instead of actually slicing the string.  Both version are below, with their relevant issues described.</p>\n\n<p><strong>First (non-buffer) version</strong> - After about a minute of processing a large string a <em>MemoryError</em> occurs for currNode.out[substring[0]] = self.Node(pos, substring[1:])</p>\n\n<pre><code>class SuffixTree(object):\n\nclass Node(object):\n    def __init__(self, position, suffix):\n        self.position = position\n        self.suffix = suffix\n        self.out = {}\n\ndef __init__(self, text):\n\n    self.text = text\n    self.max_repeat = 2\n    self.repeats = {}\n    self.root = self.Node(None, '')\n    L = len(self.text)\n\n    for i in xrange(L):\n\n        substring = self.text[-1*(i+1):] + \"$\"\n        currNode = self.root\n        self.branch(currNode, substring, L-i-1, 0)\n\n    max_repeat = max(self.repeats.iterkeys(), key=len)\n    print \"Max repeat is\", len(max_repeat), \":\", max_repeat, \"at locations:\", self.repeats[max_repeat]\n\ndef branch(self, currNode, substring, pos, repeat):\n\n    if currNode.suffix != '':\n        currNode.out[currNode.suffix[0]] = self.Node(currNode.position, currNode.suffix[1:])\n        currNode.suffix = ''\n        currNode.position = None\n\n    if substring[0] not in currNode.out:\n\n        currNode.out[substring[0]] = self.Node(pos, substring[1:])\n\n        if repeat &gt;= self.max_repeat:\n            for node in currNode.out:\n                self.repeats.setdefault(self.text[pos:pos+repeat], []).append(currNode.out[node].position)\n            self.max_repeat = repeat\n\n    else:\n\n        newNode = currNode.out[substring[0]]\n        self.branch(newNode, substring[1:], pos, repeat+1)\n</code></pre>\n\n<p>**Second Version ** - Thinking that the constant saving of large string slices was probably the issue, I implemented all of the slices using buffers of strings instead.  However, this version almost immediately gives a <em>MemoryError</em> for substring = buffer(self.text, i-1) + \"$\"</p>\n\n<pre><code>class SuffixTree(object):\n\n    class Node(object):\n        def __init__(self, position, suffix):\n            self.position = position\n            self.suffix = suffix\n            self.out = {}\n\n    def __init__(self, text):\n\n        self.text = text\n        self.max_repeat = 2\n        self.repeats = {}\n        self.root = self.Node(None, '')\n        L = len(self.text)\n\n        for i in xrange(L,0,-1):\n\n            substring = buffer(self.text, i-1) + \"$\"\n            #print substring\n            currNode = self.root\n            self.branch(currNode, substring, i-1, 0)\n\n        max_repeat = max(self.repeats.iterkeys(), key=len)\n        print \"Max repeat is\", len(max_repeat), \":\", max_repeat, \"at locations:\", self.repeats[max_repeat]\n        #print self.repeats\n\n    def branch(self, currNode, substring, pos, repeat):\n\n        if currNode.suffix != '':\n            currNode.out[currNode.suffix[0]] = self.Node(currNode.position, buffer(currNode.suffix,1))\n            currNode.suffix = ''\n            currNode.position = None\n        if substring[0] not in currNode.out:\n\n            currNode.out[substring[0]] = self.Node(pos, buffer(substring,1))\n\n            if repeat &gt;= self.max_repeat:\n                for node in currNode.out:\n                    self.repeats.setdefault(buffer(self.text,pos,repeat), []).append(currNode.out[node].position)\n                self.max_repeat = repeat\n\n        else:\n\n            newNode = currNode.out[substring[0]]\n            self.branch(newNode, buffer(substring,1), pos, repeat+1)\n</code></pre>\n\n<p>Is my understanding of buffers mistaken in someway? I thought using them would help the memory issue my program was having, not make it worse. </p>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4618335"}, "edited": false, "score": 0, "creation_date": 1425506287, "post_id": 28865820, "comment_id": 45996592, "body": "If I already declared a file path in my Resource manager could I go sounds = [ResourceLoader.filepathvariable]?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425506345, "post_id": 28865820, "comment_id": 45996619, "body": "Well, if it is a single path, it&#39;s not really random right? Only one option in that case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4618335"}, "edited": false, "score": 0, "creation_date": 1425506421, "post_id": 28865820, "comment_id": 45996652, "body": "I mean like instead of calling the file path here like calling something like ResourceLoader.winMusic1 which holds the following code &#39;self.winMusic1 = pygame.mixer.Sound(&quot;Assets//OBAT.ogg&quot;)&#39;"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425506501, "post_id": 28865820, "comment_id": 45996708, "body": "Can you put your music objects in a list?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4618335"}, "edited": false, "score": 0, "creation_date": 1425506737, "post_id": 28865820, "comment_id": 45996823, "body": "I have simply done the file paths again as it means the code isn&#39;t relying on lots of other sections of my program to work which is useful.  Thankyou for your help, I must bug the guys of this place with my Newbie questions :P"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4618335"}, "edited": false, "score": 0, "creation_date": 1425506883, "post_id": 28865820, "comment_id": 45996897, "body": "I will when it lets me which is two minutes :)"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 0, "last_activity_date": 1425506578, "last_edit_date": 1425506578, "creation_date": 1425506253, "answer_id": 28865820, "question_id": 28865782, "link": "https://stackoverflow.com/questions/28865782/choosing-a-random-sound-pygame/28865820#28865820", "title": "Choosing a random sound Pygame", "body": "<pre><code>class SoundManager:\n    sounds = [] # list of sound objects\n\n    @staticmethod\n    def playRandom():\n        random.choice(SoundManager.sounds).play()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4618335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 28865820, "answer_count": 1, "score": 1, "last_activity_date": 1589987882, "creation_date": 1425506096, "question_id": 28865782, "link": "https://stackoverflow.com/questions/28865782/choosing-a-random-sound-pygame", "title": "Choosing a random sound Pygame", "body": "<p>I was wondering how to go about picking a random sound and playing it on an event in an OOP way. My original plan was have a list in my resource loader class, and have it iterate through that. My only issue is my code constantly breaks everything when I try to implement this. How would you guys go about this?</p>\n"}, {"tags": ["python", "linux", "bash", "scripting", "pexpect"], "comments": [{"owner": {"reputation": 1548, "user_id": 552793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sZTag.png?s=128&g=1", "display_name": "jlb83", "link": "https://stackoverflow.com/users/552793/jlb83"}, "edited": false, "score": 0, "creation_date": 1425506798, "post_id": 28865769, "comment_id": 45996862, "body": "I haven&#39;t used pexpect for a while, but remember that some shells seemed to have difficulty spotting the prompt"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1425555679, "post_id": 28865769, "comment_id": 46015923, "body": "have you tried to wait for prompt <i>before</i> and <i>after</i>  <code>ls</code>?1. in order to enter <code>ls -l</code> normally, you would wait for the prompt after <code>ssh</code>ing 2. to get the <code>ls</code> result you would wait for the next prompt -- two prompts total."}, {"owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1425585589, "post_id": 28865769, "comment_id": 46034452, "body": "@J.F.Sebastian Waiting for the prompts fixed the issue. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1425585646, "creation_date": 1425585646, "answer_id": 28886643, "question_id": 28865769, "link": "https://stackoverflow.com/questions/28865769/unable-to-get-data-using-child-before-in-pexpect/28886643#28886643", "title": "Unable to get data using child.before in pexpect", "body": "<p>As J.F. Sebastian said in the comments, I had to wait for the prompt before issuing a command. </p>\n"}], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 28886643, "answer_count": 1, "score": 0, "last_activity_date": 1425585646, "creation_date": 1425506040, "last_edit_date": 1425524987, "question_id": 28865769, "link": "https://stackoverflow.com/questions/28865769/unable-to-get-data-using-child-before-in-pexpect", "title": "Unable to get data using child.before in pexpect", "body": "<pre><code>    ip=\"99.78.992.02\"\n    prompt=\"\\$\"\n    log_file_handle = open(os.path.join(os.getcwd(), \"log_file\"),\"a\")\n    child = pexpect.spawn(\"ssh abc@%s\" % ip, logfile=log_file_handle) # this works because I have public-private key set up\n    child.sendline(\"ls -l\")\n    child.expect(prompt)\n    print \"child.before %s\" % child.before\n    print \"child.after %s\" % child.after\n</code></pre>\n\n<p>The response I am getting is:</p>\n\n<pre><code>    child.before  \n    Welcome to Ubuntu 12.04.5 LTS (GNU/Linux 3.2.0-67-generic-pae i686)\n\n     * Documentation:  https://help.ubuntu.com/\n\n    360 packages can be updated.\n    305 updates are security updates.\n\n    New release '14.04.1 LTS' available.\n    Run 'do-release-upgrade' to upgrade to it.\n\n\n\n    *** /dev/sda4 will be checked for errors at next reboot ***\n    *** /dev/sda2 will be checked for errors at next reboot ***\n\n    No mail.\n    Last login: Wed Mar  4 13:44:40 2015 from 10.49.92.49\n    ls\n    abc@mycomputer:~\n    child.after $\n</code></pre>\n\n<p>Why am I not getting the output from \"ls -l\" in child.before? Can someone comment on this please?</p>\n"}, {"tags": ["python", "regex", "django"], "answers": [{"comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1425506193, "post_id": 28865789, "comment_id": 45996540, "body": "+ Same goes for the console input string."}, {"owner": {"reputation": 845, "user_id": 3541922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a9795995dd1baf51f24d1382007f134?s=128&d=identicon&r=PG&f=1", "display_name": "MikeVelazco", "link": "https://stackoverflow.com/users/3541922/mikevelazco"}, "edited": false, "score": 0, "creation_date": 1425506319, "post_id": 28865789, "comment_id": 45996609, "body": "at the begining of both files I&#39;m using <code># -*- coding: utf-8 -*-</code>, does this fix it?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1425506547, "post_id": 28865789, "comment_id": 45996729, "body": "You should include the <code>coding</code> directive too."}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 2, "last_activity_date": 1425506113, "creation_date": 1425506113, "answer_id": 28865789, "question_id": 28865701, "link": "https://stackoverflow.com/questions/28865701/python-re-search-return-none-and-object/28865789#28865789", "title": "python re.search return None and Object", "body": "<p>With Python 2.x you should designate your regexes to be unicode if you are using national characters:</p>\n\n<pre><code>regex = ur\"^[a-zA-Z-_\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00d1\u00f1][a-zA-Z0-9-_\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00d1\u00f1\\s]*$\"\n</code></pre>\n\n<p>and also use the following format while testing on the shell:</p>\n\n<pre><code>s = u'\u00c9st\u00edl\u00f3'\n</code></pre>\n"}], "owner": {"reputation": 845, "user_id": 3541922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a9795995dd1baf51f24d1382007f134?s=128&d=identicon&r=PG&f=1", "display_name": "MikeVelazco", "link": "https://stackoverflow.com/users/3541922/mikevelazco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "accepted_answer_id": 28865789, "answer_count": 1, "score": 1, "last_activity_date": 1425506113, "creation_date": 1425505780, "question_id": 28865701, "link": "https://stackoverflow.com/questions/28865701/python-re-search-return-none-and-object", "title": "python re.search return None and Object", "body": "<p>I have a method in a utils file like this</p>\n\n<pre><code>def validate_string(string):\n    regex = r\"^[a-zA-Z-_\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00d1\u00f1][a-zA-Z0-9-_\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00d1\u00f1\\s]*$\"\n    # return True if re.search(regex, string) else False\n    if re.search(regex, string):\n        return True\n    else:\n        return False\n</code></pre>\n\n<p>and I use it in a Django class-bassed view to validate some input fields</p>\n\n<pre><code>class ClassBassedView(View):\n    def post(self, request, *args, **kwargs):\n            name = self.request.POST['menu_new_name']\n            description = self.request.POST['menu_new_description']\n            fields = [[name, \"El nombre\"], [description, \"La descripcion\"]]\n            re_error = False\n\n            for item in fields:\n                if re.search(\"[!#%&amp;;]\", item[0]):\n                    re_error = \"{0} no puede contener los caracteres #, !, ;, % o &amp;.\".format(item[1])\n                    break\n                elif validate_string(item[0]) is False:\n                    print \"(%s) (%s)\" % (item[0], validate_string(item[0]))\n                    re_error = \"{0} solo puede contener letras, numeros y guiones medios y bajos. No puede iniciar con\"\\\n                               \" numeros.\".format(item[1])\n                    break\n</code></pre>\n\n<p>Then, by example, when I run this view I send the post values:</p>\n\n<pre><code>{'menu_new_name': \"Hello\", 'menu_new_description': \"\u00c9st\u00edl\u00f3\"}\n</code></pre>\n\n<p>I got the print:</p>\n\n<pre><code>(\u00c9st\u00edl\u00f3) (False)\n</code></pre>\n\n<p>but when I run from the shell</p>\n\n<pre><code>python manage.py shell \n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>&gt;&gt;&gt; from dathLog.utils import validate_string\n&gt;&gt;&gt; s = '\u00c9st\u00edl\u00f3'\n&gt;&gt;&gt; validate_string(s)\nTrue\n&gt;&gt;&gt;\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.version\n'2.7.6 (default, Sep  9 2014, 15:04:36) \\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)]'\n</code></pre>\n\n<p>Is something wrong with my regex??</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1559, "user_id": 120498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f72e95d654cb2c6a8048e58906107fe?s=128&d=identicon&r=PG", "display_name": "jan zegan", "link": "https://stackoverflow.com/users/120498/jan-zegan"}, "is_accepted": true, "score": 3, "last_activity_date": 1425507903, "creation_date": 1425507903, "answer_id": 28866289, "question_id": 28865594, "link": "https://stackoverflow.com/questions/28865594/pandas-time-grouper-custom-ranges/28866289#28866289", "title": "Pandas Time Grouper: Custom Ranges", "body": "<p>Looks like that's in the next section on <a href=\"http://pandas.pydata.org/pandas-docs/dev/timeseries.html#combining-aliases\" rel=\"nofollow\">combining offsets</a>, eg:</p>\n\n<pre><code>In [40]: rng = date_range('1/1/2015', periods=365, freq='D')\nIn [41]: d = Series(range(0, len(rng)), index=rng)\n</code></pre>\n\n<p>Group by month</p>\n\n<pre><code>In [42]: d.groupby(TimeGrouper('MS')).first()\nOut[42]:\n2015-01-01      1\n2015-02-01     32\n2015-03-01     60\n2015-04-01     91\n2015-05-01    121\n2015-06-01    152\n2015-07-01    182\n2015-08-01    213\n2015-09-01    244\n2015-10-01    274\n2015-11-01    305\n2015-12-01    335\nFreq: MS, dtype: int64\n</code></pre>\n\n<p>3 months:</p>\n\n<pre><code>In [43]: d.groupby(TimeGrouper('3MS')).first()\nOut[43]:\n2015-01-01      1\n2015-04-01     91\n2015-07-01    182\n2015-10-01    274\nFreq: 3MS, dtype: int64\n</code></pre>\n\n<p>So two years could be <code>2AS</code>, 16 months could be <code>16MS</code></p>\n"}], "owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1340, "favorite_count": 1, "accepted_answer_id": 28866289, "answer_count": 1, "score": 3, "last_activity_date": 1425507903, "creation_date": 1425505394, "question_id": 28865594, "link": "https://stackoverflow.com/questions/28865594/pandas-time-grouper-custom-ranges", "title": "Pandas Time Grouper: Custom Ranges", "body": "<p>Conditional on a <code>datetime</code> index, <code>pd.TimeGrouper(\"AS\")</code> groups my data by calendar years. There is a <a href=\"http://pandas.pydata.org/pandas-docs/dev/timeseries.html#offset-aliases\" rel=\"nofollow\">variety of useful offsets</a> shipped with <code>pandas</code> - but what if I want my own one?</p>\n\n<p>For example, what if I'd like to group by 2-year periods, or 16 months? How would I approach that?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 1, "creation_date": 1425505602, "post_id": 28865564, "comment_id": 45996205, "body": "Indentation, you need your code formatted in the function&#39;s scope."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1425505609, "post_id": 28865564, "comment_id": 45996208, "body": "Well, if you&#39;re getting an IOError look up the stack trace and see what the original error was.  Or if it&#39;s not showing up raise the exception instead of catching it."}, {"owner": {"reputation": 1508, "user_id": 2229132, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/86dd765e824088f5bdb917a1a2a383c8?s=128&d=identicon&r=PG", "display_name": "ThePavolC", "link": "https://stackoverflow.com/users/2229132/thepavolc"}, "edited": false, "score": 0, "creation_date": 1425505761, "post_id": 28865564, "comment_id": 45996297, "body": "why are you passing argument filename to function and then getting input to filename variable. You are probably overwriting that."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1425505859, "post_id": 28865564, "comment_id": 45996351, "body": "<code>except IOError as e: print(e)</code> will be more informative, as ThePavolC has commented passing an arg you never use is redundant, if you want to use the filename you pass in remove the  first input"}, {"owner": {"reputation": 1508, "user_id": 2229132, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/86dd765e824088f5bdb917a1a2a383c8?s=128&d=identicon&r=PG", "display_name": "ThePavolC", "link": "https://stackoverflow.com/users/2229132/thepavolc"}, "edited": false, "score": 0, "creation_date": 1425506281, "post_id": 28865564, "comment_id": 45996587, "body": "What exactly should this function do ?You want the user to put in file name, then you want to print out content of file, and then return from function ?"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1425506521, "post_id": 28865564, "comment_id": 45996716, "body": "You say &#39;three chars at a time&#39; but print a line at a time.  You say &#39;crash&#39; but catch exception.  Which do you want?  Also, you have a filename input parameter, but ignore it and fetch filename within function."}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1425509833, "post_id": 28865564, "comment_id": 45998260, "body": "sorry it has some mistakes @TerryJanReedy i need three chars at a time but crash if the program cant find the filename"}], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 2674417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851b14ebaa5977f7d70534e19f93643c?s=128&d=identicon&r=PG", "display_name": "Corvax", "link": "https://stackoverflow.com/users/2674417/corvax"}, "is_accepted": false, "score": -1, "last_activity_date": 1425506849, "creation_date": 1425506849, "answer_id": 28865982, "question_id": 28865564, "link": "https://stackoverflow.com/questions/28865564/code-issue-file-opening/28865982#28865982", "title": "Code issue - file opening", "body": "<p>You have to indent all function body.</p>\n\n<pre><code>def trigram_printer(filename):\n  \"\"\"str -&gt; none\"\"\"\n  print(\"Please enter a filename: \")\n  filename = input(\"&gt; \")\n  while True:\n    try:\n        file = open(filename)\n        for line in file:\n            print(line)\n        file.close()\n        break\n    except IOError:\n        print(\"There was a problem accessing file '\" + filename + \"'.\" + \\\n              \"Please enter a different filename.\")\n        filename = input(\"&gt;\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1508, "user_id": 2229132, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/86dd765e824088f5bdb917a1a2a383c8?s=128&d=identicon&r=PG", "display_name": "ThePavolC", "link": "https://stackoverflow.com/users/2229132/thepavolc"}, "is_accepted": false, "score": 0, "last_activity_date": 1425507324, "last_edit_date": 1495540773, "creation_date": 1425507324, "answer_id": 28866127, "question_id": 28865564, "link": "https://stackoverflow.com/questions/28865564/code-issue-file-opening/28866127#28866127", "title": "Code issue - file opening", "body": "<p>You are overwriting filename argument passing to function, and you are asking user for file name so there is no need for that at all.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/28866041/2229132\">heifzhan</a> mentioned, you should not use file, as it is a built in, but in Python 3 that's not an issue. <a href=\"https://stackoverflow.com/questions/24942358/is-file-a-keyword-in-python\">See here</a></p>\n\n<p>Regarding your task, I would:</p>\n\n<ol>\n<li>ask for file name</li>\n<li>open file</li>\n<li>read 3 characters while <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects\" rel=\"nofollow noreferrer\">read()</a> won't return \"\"</li>\n<li>print 3 characters, or do whatever you want</li>\n<li>return</li>\n</ol>\n\n<p>Here is my example:</p>\n\n<pre><code>def trigram_printer2():\n    \"\"\"str -&gt; none\"\"\"\n    print(\"Please enter a filename: \")\n    filename = input(\"&gt; \")\n    try:\n        opened_file = open(filename)\n        three_chars = opened_file.read(3)\n        while three_chars != \"\":\n            three_chars = opened_file.read(3)\n            print (three_chars)\n        opened_file.close()\n    except IOError:\n        print(\"There was a problem accessing file '\" + filename + \"'.\" + \\\n              \"Please enter a different filename.\")\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425507329, "creation_date": 1425505294, "last_edit_date": 1425506439, "question_id": 28865564, "link": "https://stackoverflow.com/questions/28865564/code-issue-file-opening", "title": "Code issue - file opening", "body": "<p>I am trying to define a function that should open the file with the given name, display its contents on the screen, three characters at a time, and then close the file. This version function should crash if it's called with an invalid filename.  However, I think there is a bug in my code that causes it to crash without even running the function.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>def trigram_printer(filename):\n    \"\"\"str -&gt; none\"\"\"\n    print(\"Please enter a filename: \")\n    filename = input(\"&gt; \")\n    while True:\n        try:\n            file = open(filename)\n            for line in file:\n                print(line)\n            file.close()\n            break\n        except IOError:\n            print(\"There was a problem accessing file '\" + filename + \"'.\" + \\\n                  \"Please enter a different filename.\")\n            filename = input(\"&gt;\")\n</code></pre>\n\n<p>For the error message, I actually get the \"There was a problem accessing file '\" + filename + \"'.\" + \\\n                  \"Please enter a different filename.\"... so I think it may be working at least a little.  Help me if you can...</p>\n"}, {"tags": ["python", "postgresql", "select", "exists"], "comments": [{"owner": {"reputation": 3978, "user_id": 3127111, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d3ff7efc0f2c56fb332a0a8dfa4c6305?s=128&d=identicon&r=PG&f=1", "display_name": "watery", "link": "https://stackoverflow.com/users/3127111/watery"}, "edited": false, "score": 2, "creation_date": 1425505511, "post_id": 28865553, "comment_id": 45996164, "body": "By checking the database metadata / schema information tables - that depends on where Postgre stores them (i.e. MySQL has specific tables that hold such information, in Oracle they can be queried from views). You need to check the DBMS docs."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1425505771, "post_id": 28865553, "comment_id": 45996304, "body": "How is it even possible that you&#39;re querying from a table that does not exist?"}, {"owner": {"reputation": 95700, "user_id": 271959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715e33b2f7b627554e2c18284d87bbca?s=128&d=identicon&r=PG", "display_name": "Frank Heikens", "link": "https://stackoverflow.com/users/271959/frank-heikens"}, "edited": false, "score": 0, "creation_date": 1425506027, "post_id": 28865553, "comment_id": 45996439, "body": "Strange situation, but you can check it before: <a href=\"http://www.postgresql.org/docs/current/interactive/infoschema-tables.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/interactive/infoschema-tables.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 1, "creation_date": 1425506156, "post_id": 28865553, "comment_id": 45996517, "body": "You could wrap that into a function and catch the error inside PL/pgSQL, but then you need to do <code>select * from my_table_function()</code>"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1425506405, "post_id": 28865553, "comment_id": 45996643, "body": "What should the query return if there is no table?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4634190, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408053342838854/picture?type=large", "display_name": "Mascara De Hierro", "link": "https://stackoverflow.com/users/4634190/mascara-de-hierro"}, "edited": false, "score": 0, "creation_date": 1425562899, "post_id": 28866217, "comment_id": 46020107, "body": "Thank you very much. I&#39;m sending the query from a function in Python. Thanxs to you I found out Python has a try-expetion function to avoid expected errors"}, {"owner": {"reputation": 2958, "user_id": 2244766, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iZQFE.jpg?s=128&g=1", "display_name": "murison", "link": "https://stackoverflow.com/users/2244766/murison"}, "reply_to_user": {"reputation": 43, "user_id": 4634190, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408053342838854/picture?type=large", "display_name": "Mascara De Hierro", "link": "https://stackoverflow.com/users/4634190/mascara-de-hierro"}, "edited": false, "score": 0, "creation_date": 1425591801, "post_id": 28866217, "comment_id": 46037796, "body": "It seems like a totally diffrent case :) I meant trapping errors inside a PL/pgSQL function (procedure ran on the server-side). You write about catching the error on a client-side. Anyway - glad I could help."}], "tags": [], "owner": {"reputation": 2958, "user_id": 2244766, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iZQFE.jpg?s=128&g=1", "display_name": "murison", "link": "https://stackoverflow.com/users/2244766/murison"}, "is_accepted": true, "score": 0, "last_activity_date": 1425507610, "creation_date": 1425507610, "answer_id": 28866217, "question_id": 28865553, "link": "https://stackoverflow.com/questions/28865553/postgres-select-only-if-table-exists/28866217#28866217", "title": "Postgres select only if table exists", "body": "<p>Do you run it in some kind of a function? If not, this whole question makes no sense... If yes - simply try to catch the error, as described here: <a href=\"http://www.postgresql.org/docs/9.1/static/plpgsql-control-structures.html#PLPGSQL-ERROR-TRAPPING\" rel=\"nofollow\">http://www.postgresql.org/docs/9.1/static/plpgsql-control-structures.html#PLPGSQL-ERROR-TRAPPING</a></p>\n\n<p>You would need to trap <code>42P01   undefined_table</code> SQLSTATE. </p>\n\n<p>So in your function you could do:</p>\n\n<pre><code>BEGIN\n  SELECT * FROM sometable\nEXCEPTION \n  WHEN undefined_table THEN\n    -- Do something\n  WHEN others THEN\n    -- Do something else\nEND;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 4025436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9gnEtYkM6DM/AAAAAAAAAAI/AAAAAAAAAGQ/EC-XL9IYWTM/photo.jpg?sz=128", "display_name": "zee", "link": "https://stackoverflow.com/users/4025436/zee"}, "is_accepted": false, "score": 0, "last_activity_date": 1425639259, "creation_date": 1425639259, "answer_id": 28897270, "question_id": 28865553, "link": "https://stackoverflow.com/questions/28865553/postgres-select-only-if-table-exists/28897270#28897270", "title": "Postgres select only if table exists", "body": "<p>As an addtional note (not related to Postgresql), when you start the Odoo server, you should ensure that the -u flag is set to ensure that your odoo customization is applied by the Odoo ORM. This ensure that any modifications you have made such as table creation/modification is applied to your Postgresql DB.</p>\n\n<p>So, from the CLI:</p>\n\n<p><code>openerp-server -u module_name</code>  </p>\n\n<p>or</p>\n\n<p><code>openerp-server -u all</code></p>\n\n<p>to update all modules</p>\n"}], "owner": {"reputation": 43, "user_id": 4634190, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408053342838854/picture?type=large", "display_name": "Mascara De Hierro", "link": "https://stackoverflow.com/users/4634190/mascara-de-hierro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2067, "favorite_count": 0, "accepted_answer_id": 28866217, "answer_count": 2, "score": 4, "last_activity_date": 1425641553, "creation_date": 1425505244, "last_edit_date": 1425641553, "question_id": 28865553, "link": "https://stackoverflow.com/questions/28865553/postgres-select-only-if-table-exists", "title": "Postgres select only if table exists", "body": "<p>How can I execute </p>\n\n<pre><code>select * from my_table\n</code></pre>\n\n<p>but avoid throwing errors if my_table doesn't exist</p>\n\n<p>Is it possible?</p>\n\n<p>UPDATE: I'm woking in Odoo, I create the table when user presses a button, so for the very first time when my module is installed the table won't exist and I don't want to see the error.</p>\n\n<p>I solved it in python by using:</p>\n\n<pre><code>try: cr.execute(my_query)\nexpetion: pass\n</code></pre>\n\n<p>I'm sorry if I wasn't explicit enough, this is my first question here :P</p>\n"}, {"tags": ["python", "gstreamer", "archlinux", "python-gstreamer"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1425506219, "post_id": 28865536, "comment_id": 45996557, "body": "Is it error from the c layer? Do you need to install the zbar package from pacman or aur?"}], "answers": [{"tags": [], "owner": {"reputation": 629, "user_id": 3381334, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e6457d8aa95ab1e7c6654c6fd1473fb?s=128&d=identicon&r=PG&f=1", "display_name": "Parth", "link": "https://stackoverflow.com/users/3381334/parth"}, "is_accepted": true, "score": 1, "last_activity_date": 1425509222, "creation_date": 1425509222, "answer_id": 28866615, "question_id": 28865536, "link": "https://stackoverflow.com/questions/28865536/glib-error-gst-parse-error-no-element-zbar/28866615#28866615", "title": "GLib.Error: gst_parse_error: no element &quot;zbar&quot;", "body": "<p>It's a <a href=\"https://bugs.archlinux.org/task/43696\" rel=\"nofollow\">bug</a> in <a href=\"https://www.archlinux.org/packages/extra/x86_64/gst-plugins-bad/\" rel=\"nofollow\"><code>gst-plugins-bad</code> Arch package</a>. Just add <code>zbar</code> to <code>depends</code> in <a href=\"https://projects.archlinux.org/svntogit/packages.git/tree/trunk/PKGBUILD?h=packages/gst-plugins-bad\" rel=\"nofollow\"><code>PKGBUILD</code></a>, <a href=\"https://wiki.archlinux.org/index.php/Arch_User_Repository#Build_the_package\" rel=\"nofollow\">build</a> it and <a href=\"https://wiki.archlinux.org/index.php/Arch_User_Repository#Install_the_package\" rel=\"nofollow\">install</a>.</p>\n"}], "owner": {"reputation": 629, "user_id": 3381334, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e6457d8aa95ab1e7c6654c6fd1473fb?s=128&d=identicon&r=PG&f=1", "display_name": "Parth", "link": "https://stackoverflow.com/users/3381334/parth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "accepted_answer_id": 28866615, "answer_count": 1, "score": 0, "last_activity_date": 1425509222, "creation_date": 1425505186, "last_edit_date": 1495534190, "question_id": 28865536, "link": "https://stackoverflow.com/questions/28865536/glib-error-gst-parse-error-no-element-zbar", "title": "GLib.Error: gst_parse_error: no element &quot;zbar&quot;", "body": "<pre><code>from gi.repository import GdkX11, GstVideo\n\np = 'v4l2src ! tee name=t ! queue ! videoconvert ! zbar ! fakesink t. ! queue ! videoconvert ! xvimagesink'\nself.a = a = Gst.parse_launch(p)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>    self.a = a = Gst.parse_launch(p)\nGLib.Error: gst_parse_error: no element \"zbar\" (1)\n</code></pre>\n\n<p>Following the answer to <a href=\"https://stackoverflow.com/questions/19757936/python-gstreamer-script-error-message-no-element-h264parse\">python gstreamer script error message no element &quot;h264parse&quot;</a>, I found <a href=\"http://gstreamer.freedesktop.org/documentation/plugins.html\" rel=\"nofollow noreferrer\"><code>zbar</code> is a part of <code>gst-plugins-bad</code></a>, but I've already installed <code>gst-plugins-bad  1.4.5-1</code>. So why am I still getting this error?</p>\n\n<p>I'm using Arch Linux, if it helps.</p>\n"}, {"tags": ["python", "hadoop", "amazon-web-services", "apache-pig", "amazon-emr"], "answers": [{"tags": [], "owner": {"reputation": 2327, "user_id": 1499038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/T3nQh.jpg?s=128&g=1", "display_name": "ziky90", "link": "https://stackoverflow.com/users/1499038/ziky90"}, "is_accepted": true, "score": 0, "last_activity_date": 1426499156, "creation_date": 1426499156, "answer_id": 29073676, "question_id": 28865533, "link": "https://stackoverflow.com/questions/28865533/installing-pig-0-14-on-amazon-emr/29073676#29073676", "title": "installing PIG 0.14 on Amazon EMR", "body": "<p>So at the end I have solved this by simply downloading the pig 0.14 to all of the machines in the bootstrap script and overwriting the PIG_HOME by my pig 0.14 location in ~/.bashrc and it has worked for me. (At least for using pig 0.14 for when I'm connected to the master via ssh)</p>\n"}], "owner": {"reputation": 2327, "user_id": 1499038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/T3nQh.jpg?s=128&g=1", "display_name": "ziky90", "link": "https://stackoverflow.com/users/1499038/ziky90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 29073676, "answer_count": 1, "score": 1, "last_activity_date": 1426499156, "creation_date": 1425505169, "last_edit_date": 1425506874, "question_id": 28865533, "link": "https://stackoverflow.com/questions/28865533/installing-pig-0-14-on-amazon-emr", "title": "installing PIG 0.14 on Amazon EMR", "body": "<p>I need to run Python streaming UDFs from PIG on Amazon EMR using Hadoop 2.x</p>\n\n<p>Based on the documentation PIG works with Hadoop 2.x since version 0.14\n<a href=\"http://pig.apache.org/docs/r0.12.0/udf.html#python-udfs\" rel=\"nofollow\">http://pig.apache.org/docs/r0.12.0/udf.html#python-udfs</a>\n<a href=\"http://pig.apache.org/docs/r0.14.0/udf.html#python-udfs\" rel=\"nofollow\">http://pig.apache.org/docs/r0.14.0/udf.html#python-udfs</a></p>\n\n<p>I have personally tried that Python streaming UDFs does not work on 0.12 and based on the missing note in the documentation on 0.14 it seems to me that it should work in this version.</p>\n\n<p>Seeing supported PIG versions in Amazon EMR documentation it seems to me that there is only supported PIG lower than 0.12\n<a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/Pig_SupportedVersions.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/Pig_SupportedVersions.html</a></p>\n\n<p>So my question is if anyone have some idea or experience of how can be possibly \"hacked\" or deployed PIG 0.14 to the EMR cluster? And if there really works Python UDFs with Hadoop 2.x with PIG 0.14 (jut to know if the problematic PIG 0.14 installation would be worth of it)?</p>\n"}, {"tags": ["python", "slice", "matrix-multiplication"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 2, "creation_date": 1425505360, "post_id": 28865500, "comment_id": 45996087, "body": "Just out of curiosity is this for school, or are you actually trying to do matrix multiplication for some realistic purpose?  If the latter, use <code>np.dot</code>.  Do not loop over Numpy arrays element-wise in Python if you can help it."}, {"owner": {"reputation": 53, "user_id": 4594304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66764d138ca2f5d172e447f2e7c3d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sage", "link": "https://stackoverflow.com/users/4594304/sage"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1425505737, "post_id": 28865500, "comment_id": 45996282, "body": "@Iguananaut Actually I need to calculate and compare the time of calculation of these two methods and np.dot."}], "answers": [{"tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505810, "creation_date": 1425505810, "answer_id": 28865707, "question_id": 28865500, "link": "https://stackoverflow.com/questions/28865500/matrix-multiplication-using-slicing-python/28865707#28865707", "title": "Matrix multiplication using slicing. Python", "body": "<p>What you're trying to do here is the dot product of the row vector from <code>a</code>, and the column vector from <code>b</code>:</p>\n\n<pre><code>c[i][j] += a[i][0:l-1] * b[0:l-1][j]\n</code></pre>\n\n<p>which would be</p>\n\n<pre><code>c[i][j] = np.dot(a[i], b[:][j]) \n</code></pre>\n\n<p>which is the same as</p>\n\n<pre><code>sum([a_*b_ for a_,b_ in zip(a[i],b[:][j])])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sum(a[i]*b[:][j])\n</code></pre>\n\n<p>but faster.</p>\n\n<p>However, if you're using <code>np.dot</code>, anyways:</p>\n\n<pre><code>c = np.dot(a,b)\n</code></pre>\n\n<p>is definitely faster.</p>\n"}, {"tags": [], "owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "is_accepted": false, "score": 0, "last_activity_date": 1425510660, "creation_date": 1425510660, "answer_id": 28866922, "question_id": 28865500, "link": "https://stackoverflow.com/questions/28865500/matrix-multiplication-using-slicing-python/28866922#28866922", "title": "Matrix multiplication using slicing. Python", "body": "<p>Let's start with an helper function that creates a ListOfLists (a lol) of <code>r</code> rows, each composed of <code>c</code> columns:</p>\n\n<pre><code>In [1]: def lol(r,c): return [[i*c+j for j in range(c)] for i in range(r)]\n</code></pre>\n\n<p>and create two list of lists</p>\n\n<pre><code>In [2]: a = lol(2,5) ; b = lol(5,4)\n</code></pre>\n\n<p>We want to verify that our code below, meant to do a matrix product using two lol's is working correctly, so we create two <code>ndarray</code>s from <code>a</code> and <code>b</code> and form their inner product</p>\n\n<pre><code>In [3]: from numpy import array\n\nIn [4]: aa = array(a) ; ab = array(b) ; aa.dot(ab)\nOut[4]: \narray([[120, 130, 140, 150],\n       [320, 355, 390, 425]])\n</code></pre>\n\n<p>Now, we can test our code for the inner, or matrix, product of two lols</p>\n\n<pre><code>In [5]: [[sum(x*y for x, y in zip(ar,bc)) for bc in zip(*b)] for ar in a]\nOut[5]: [[120, 130, 140, 150], [320, 355, 390, 425]]\n</code></pre>\n\n<p>It's ok, isn't it? (I have to say that in a first iteration of the code I came out with the transpose of the result...).</p>\n\n<p>Now that we have a bit of confidence, let's try  with something more substantial</p>\n\n<pre><code>In [6]: a = lol(200,50) ; b = lol(50,400)\n\nIn [7]: aa = array(a) ; ab = array(b)\n\nIn [8]: %timeit c = aa.dot(ab)\n100 loops, best of 3: 4.53 ms per loop\n\nIn [9]: %timeit c = [[sum(x*y for x, y in zip(ar,bc)) for bc in zip(*b)] for ar in a]\n1 loops, best of 3: 469 ms per loop\n</code></pre>\n\n<p>As you can see, <code>numpy</code> is two order of magnitude faster than operating on lists, but it is more interesting, in the context of the OP question, to try our list code on the <code>ndarray</code>s:</p>\n\n<pre><code>In [10]: %timeit c = [[sum(x*y for x, y in zip(ar,bc)) for bc in zip(*ab)] for ar in aa] \n1 loops, best of 3: 1.32 s per loop\n</code></pre>\n\n<p>Oh, if you have <code>numpy</code> arrays it's way better to use the array methods rather than operating on the individual elements... but wait, we have a faster alternative to the inner <code>zip</code>:</p>\n\n<pre><code>In [11]: %timeit c = [[sum(x*y for x, y in zip(ar,bc)) for bc in ab.T] for ar in aa]\n1 loops, best of 3: 1.34 s per loop\n\nIn [12]: \n</code></pre>\n\n<p>no, even if we use the transpose property of a <code>ndarray</code> we have the same results.</p>\n\n<p>Summary: never ever use individually accessed <code>numpy</code> array's elements to do heavy computational lifting...</p>\n\n<hr>\n\n<p>Thank you to <code>ipython</code> and its <code>%timeit</code> <em>magic</em> that made this rambling easier and fun (for me).</p>\n"}], "owner": {"reputation": 53, "user_id": 4594304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66764d138ca2f5d172e447f2e7c3d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sage", "link": "https://stackoverflow.com/users/4594304/sage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1137, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425510660, "creation_date": 1425505055, "question_id": 28865500, "link": "https://stackoverflow.com/questions/28865500/matrix-multiplication-using-slicing-python", "title": "Matrix multiplication using slicing. Python", "body": "<p>I have the following code: </p>\n\n<pre><code>from numpy import *\na = random.rand(3,4)\nb = random.rand(4,2)\nc = linspace(0,0,6)\nc.shape = (3,2)\nfor i in range(a.shape[0]): \n  for j in range(b.shape[1]): \n      for k in range(b.shape[0]): \n         c[i][j] += a[i][k] * b[k][j]\nfor r in c: \n  print \"C = \", r\n</code></pre>\n\n<p>But I need to change the last (innermost) loop and I need to use slicing. As I understood I have to do something like this:</p>\n\n<pre><code>for i in range(a.shape[0]): \n for j in range(b.shape[1]): \n     c[i][j] += a[i][0:l-1] * b[0:l-1][j]\n</code></pre>\n\n<p>But, unfortunately, it doesn't work. Could somebody help me and give a hint how to do it?</p>\n"}, {"tags": ["php", "python", "linux"], "comments": [{"owner": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 0, "creation_date": 1425505132, "post_id": 28865454, "comment_id": 45995980, "body": "Did you echo <code>$output</code>?  Also, linux webserver user will need to use <code>&#47;usr&#47;bin&#47;python</code> or whatever as a complete path."}, {"owner": {"reputation": 7808, "user_id": 465895, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/be595d3716194fc3446279274c2f9c4a?s=128&d=identicon&r=PG", "display_name": "castis", "link": "https://stackoverflow.com/users/465895/castis"}, "edited": false, "score": 0, "creation_date": 1425505135, "post_id": 28865454, "comment_id": 45995983, "body": "check to make sure the same version of python is installed on your windows and linux. you also might want to put a space after -c"}, {"owner": {"reputation": 129, "user_id": 2532757, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Ny8B.jpg?s=128&g=1", "display_name": "PythonFun", "link": "https://stackoverflow.com/users/2532757/pythonfun"}, "edited": false, "score": 0, "creation_date": 1425505167, "post_id": 28865454, "comment_id": 45995994, "body": "if im execute in console python ac.py ... script work whit out problem ! yess im corect space in original script."}, {"owner": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 0, "creation_date": 1425505197, "post_id": 28865454, "comment_id": 45996007, "body": "Are you logged in to the console as the webserver user? <code>&#47;usr&#47;bin</code> is most likely not in it&#39;s path but is almost certainly in yours."}, {"owner": {"reputation": 129, "user_id": 2532757, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Ny8B.jpg?s=128&g=1", "display_name": "PythonFun", "link": "https://stackoverflow.com/users/2532757/pythonfun"}, "edited": false, "score": 0, "creation_date": 1425505282, "post_id": 28865454, "comment_id": 45996055, "body": "is vps runing on vps, whit root user"}, {"owner": {"reputation": 129, "user_id": 2532757, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Ny8B.jpg?s=128&g=1", "display_name": "PythonFun", "link": "https://stackoverflow.com/users/2532757/pythonfun"}, "edited": false, "score": 0, "creation_date": 1425505323, "post_id": 28865454, "comment_id": 45996072, "body": "$command = escapeshellcmd(&#39;python /var/www/html/acn.py -c &#39;.$username);         $output = shell_exec($command);  same problem ..."}, {"owner": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 2, "creation_date": 1425505704, "post_id": 28865454, "comment_id": 45996265, "body": "Did you even read my comment?"}], "owner": {"reputation": 129, "user_id": 2532757, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Ny8B.jpg?s=128&g=1", "display_name": "PythonFun", "link": "https://stackoverflow.com/users/2532757/pythonfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425504888, "creation_date": 1425504888, "question_id": 28865454, "link": "https://stackoverflow.com/questions/28865454/php-execute-python-script-and-save-output-in-session", "title": "php execute python script and save output in session", "body": "<p>i have this php code :</p>\n\n<pre><code>$command = escapeshellcmd('python acn.py -c'.$username);\n$output = shell_exec($command);\n</code></pre>\n\n<p>i need output the result of acn.py .. on windows get output, on linux not give output. python script work, php not print output ! Where is my wrong ? chmod +x * allready executed !</p>\n"}, {"tags": ["python", "django", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 2085627, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E86RS.jpg?s=128&g=1", "display_name": "Carson McNeil", "link": "https://stackoverflow.com/users/2085627/carson-mcneil"}, "edited": false, "score": 0, "creation_date": 1425510407, "post_id": 28865910, "comment_id": 45998495, "body": "Thanks! Exactly what I was wanting to know! Yes, these will probably need to be localized at some point."}], "tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": true, "score": 7, "last_activity_date": 1425506598, "creation_date": 1425506598, "answer_id": 28865910, "question_id": 28865452, "link": "https://stackoverflow.com/questions/28865452/what-is-the-best-practice-for-storing-ui-messaging-strings-in-python-django/28865910#28865910", "title": "What is the best practice for storing UI messaging strings in Python/Django?", "body": "<p>If you are absolutely sure, these strings never need to become dynamic just create a <code>strings.py</code> module and drop the strings there as variables (\"constants\")</p>\n\n<p>However, as the messages are user visible, you will most likely need to localize them at some point in your application's lifetime. Consequently, please make use of Django's excellent <em>gettext</em> support:</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.7/topics/i18n/\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.7/topics/i18n/</a></p>\n"}], "owner": {"reputation": 602, "user_id": 2085627, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E86RS.jpg?s=128&g=1", "display_name": "Carson McNeil", "link": "https://stackoverflow.com/users/2085627/carson-mcneil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 1, "accepted_answer_id": 28865910, "answer_count": 1, "score": 7, "last_activity_date": 1425506598, "creation_date": 1425504882, "question_id": 28865452, "link": "https://stackoverflow.com/questions/28865452/what-is-the-best-practice-for-storing-ui-messaging-strings-in-python-django", "title": "What is the best practice for storing UI messaging strings in Python/Django?", "body": "<p>I'm wondering what the \"best practice\" is for storing medium length strings to be used in a UI in Python/Django.</p>\n\n<p>Example:\nI have an <code>error.html</code> template that takes an <code>error_description</code> field. This is a few sentences explaining to the user what went wrong, and what they might do to address it. It may be different for different error pages, but remains fairly stable in the code(there's no reason that someone who can't push source code should be able to modify it), and can easily be held in memory, so I don't think it's the sort of thing that should be kept in the database.</p>\n\n<p>My current idea is that I should just create some kind of <code>messages.py</code> file that has a bunch of string constants like this:</p>\n\n<pre><code>ERROR_UNAUTHENTICATED_AJAX_EXPLANATION = \"Hello, so the only way that this error should occur is if someone attempts to directly call our AJAX endpoint without having the verification code. Please don't do this, it's against the principles of this art projects.\"\n</code></pre>\n\n<p>In general, is there some canonical way to store strings that are \"too flexible to be hard coded in\", but \"too small and static for databases\"(and don't scale with your usage)? I'm thinking of the sort of thing that would be in a <code>strings.xml</code> file in an Android project. </p>\n\n<p>Other possibilities I'm juggling include a text file that views.py reads and stores as constants, actually just hardcoding them, and sticking them in template files.</p>\n\n<p>There's a lot of ways to do this, and it's not a very complicated thing, I just want to know which one is the most 'right'.</p>\n\n<p>Thanks! And let me know if you need more info!</p>\n"}, {"tags": ["python", "windows", "multiprocessing"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1425506167, "post_id": 28865434, "comment_id": 45996526, "body": "maybe the error is saying your caller is daemonic? wild guess."}, {"owner": {"reputation": 27, "user_id": 4634151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c836440a1cf75123585c72ebd6c30de?s=128&d=identicon&r=PG&f=1", "display_name": "python_dev6", "link": "https://stackoverflow.com/users/4634151/python-dev6"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1425508490, "post_id": 28865434, "comment_id": 45997714, "body": "The caller is <b>main</b>."}], "owner": {"reputation": 27, "user_id": 4634151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c836440a1cf75123585c72ebd6c30de?s=128&d=identicon&r=PG&f=1", "display_name": "python_dev6", "link": "https://stackoverflow.com/users/4634151/python-dev6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425505891, "creation_date": 1425504818, "last_edit_date": 1425505891, "question_id": 28865434, "link": "https://stackoverflow.com/questions/28865434/python-process-daemon-false-doesnt-work-on-windows", "title": "Python process.daemon = False doesn&#39;t work on Windows", "body": "<p>This multiprocessing doesn't work on Windows only! It works on my Mac though.</p>\n\n<pre><code>p = Process(target=f, args=('bob',))\np.daemon = False\n</code></pre>\n\n<p>Then in the target f, I have</p>\n\n<pre><code>manager = Manager()\n</code></pre>\n\n<p>It says \"daemonic processes are not allowed to have children\". But I have set the daemon mode to be False.</p>\n\n<p>Is this a bug or Windows doesn't support non-daemonic mode?</p>\n"}, {"tags": ["python", "wxpython"], "answers": [{"comments": [{"owner": {"reputation": 947, "user_id": 3088559, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b918ad95c7d6485814ceda30d279604b?s=128&d=identicon&r=PG&f=1", "display_name": "ericksonla", "link": "https://stackoverflow.com/users/3088559/ericksonla"}, "edited": false, "score": 0, "creation_date": 1425509125, "post_id": 28866523, "comment_id": 45997967, "body": "Thanks, that certainly works! To elaborate on the explanation for any future readers (which took me a few minutes to figure out), my version of the class was creating a third panel (one in the main frame, one as the class, and one inside the class) and the third one was messing up the second one. Eliminating the third panel and referencing the text to the second one solved the problem."}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 947, "user_id": 3088559, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b918ad95c7d6485814ceda30d279604b?s=128&d=identicon&r=PG&f=1", "display_name": "ericksonla", "link": "https://stackoverflow.com/users/3088559/ericksonla"}, "edited": false, "score": 2, "creation_date": 1425564128, "post_id": 28866523, "comment_id": 46020851, "body": "Yes, you had a lot of nested panels. I was able to figure it out using the Widget Inspection Tool, which showed me that there were a couple of panels at the top level when there should have only been one. You might want to check out that handy utility: <a href=\"http://wiki.wxpython.org/Widget%20Inspection%20Tool\" rel=\"nofollow noreferrer\">wiki.wxpython.org/Widget%20Inspection%20Tool</a>"}], "tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 1, "last_activity_date": 1425508816, "creation_date": 1425508816, "answer_id": 28866523, "question_id": 28865389, "link": "https://stackoverflow.com/questions/28865389/derived-panel-classes-in-wxpython/28866523#28866523", "title": "Derived panel classes in wxpython", "body": "<p>The problem is in the parenting. The problem is that in the first example you have the <code>StaticText</code> widget's parent set correctly to <code>panel1</code>. In your <code>PanelWithText</code> class, you set its parent to the top level panel instead of the panel class, which is incorrect. Here is a fixed example:</p>\n\n<pre><code>import wx\n\nclass PanelWithText(wx.Panel):\n    def __init__(self, parent):\n        super(PanelWithText, self).__init__(parent)\n\n        hbox1 = wx.BoxSizer(wx.HORIZONTAL)\n        st1 = wx.StaticText(self, label='Some Text')\n        hbox1.Add(st1)\n\nclass Example(wx.Frame):\n\n    def __init__(self, parent, title):\n        super(Example, self).__init__(parent, title=title,\n            size=(390, 350))\n\n        panel = wx.Panel(self)\n\n        vbox = wx.BoxSizer(wx.VERTICAL)\n\n        #hbox1 = wx.BoxSizer(wx.HORIZONTAL)                  # comment out from here\n        #panel1 = wx.Panel(panel)                            #\n        #st1 = wx.StaticText(panel1, label='Some Text')      #\n        #hbox1.Add(st1)                                      # to here\n        panel1 = PanelWithText(panel)\n        vbox.Add(panel1)\n\n        panel.SetSizer(vbox)\n\n        self.Centre()\n        self.Show()\n\nif __name__ == '__main__':\n    import wx.lib.mixins.inspection\n    app = wx.App()\n    Example(None, title='Example')\n    wx.lib.inspection.InspectionTool().Show()\n    app.MainLoop()\n</code></pre>\n"}], "owner": {"reputation": 947, "user_id": 3088559, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b918ad95c7d6485814ceda30d279604b?s=128&d=identicon&r=PG&f=1", "display_name": "ericksonla", "link": "https://stackoverflow.com/users/3088559/ericksonla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 0, "accepted_answer_id": 28866523, "answer_count": 1, "score": 1, "last_activity_date": 1425508816, "creation_date": 1425504632, "question_id": 28865389, "link": "https://stackoverflow.com/questions/28865389/derived-panel-classes-in-wxpython", "title": "Derived panel classes in wxpython", "body": "<p>In my wxpython program, my panel is behaving differently depending on whether I make it a derived class or a straight panel instance:</p>\n\n<pre>\nimport wx\n\nclass PanelWithText(wx.Panel):\n    def __init__(self, parent):\n        super(PanelWithText, self).__init__(parent)\n\n        hbox1 = wx.BoxSizer(wx.HORIZONTAL)\n        panel1 = wx.Panel(parent)\n        st1 = wx.StaticText(panel1, label='Some Text')\n        hbox1.Add(st1)\n\nclass Example(wx.Frame):\n\n    def __init__(self, parent, title):\n        super(Example, self).__init__(parent, title=title,\n            size=(390, 350))\n\n        panel = wx.Panel(self)\n\n        vbox = wx.BoxSizer(wx.VERTICAL)\n\n        hbox1 = wx.BoxSizer(wx.HORIZONTAL)                  # comment out from here\n        panel1 = wx.Panel(panel)                            #\n        st1 = wx.StaticText(panel1, label='Some Text')      #\n        hbox1.Add(st1)                                      # to here\n        # panel1 = PanelWithText(panel)\n        vbox.Add(panel1)\n\n        panel.SetSizer(vbox)\n\n        self.Centre()\n        self.Show()\n\nif __name__ == '__main__':\n\n    app = wx.App()\n    Example(None, title='Example')\n    app.MainLoop()\n</pre>\n\n<p>If I run it as is, it looks fine.\nIf I run it commenting out the four lines that create panel1 and uncommenting the line that creates panel1 using the derived class, the \"Some Text\" gets clipped and only shows \"Sor\". Worse things start happening when I make a non-trivial program.</p>\n\n<p>These two seem identical to me. What is the difference?</p>\n\n<p>I'm using:\nPython 2.7.6\nwxpython 3.0.0.0\nMac Yosemite 10.10.2</p>\n"}, {"tags": ["python", "pandas", "dataframe", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": false, "score": 2, "last_activity_date": 1425506460, "last_edit_date": 1425506460, "creation_date": 1425505441, "answer_id": 28865610, "question_id": 28865352, "link": "https://stackoverflow.com/questions/28865352/manipulate-a-group-column-in-pandas/28865610#28865610", "title": "Manipulate A Group Column in Pandas", "body": "<p>One alternative way to get the normalised 'Count' column could be to use <code>groupby</code> and <code>transform</code> to get the sums for each group and then divide the returned Series by the 'Count' column. You can reassign this Series back to your DataFrame:</p>\n\n<pre><code>s['Count'] = s['Count'] / s.groupby('Dist')['Count'].transform(np.sum)\n</code></pre>\n\n<p>This avoids the need for a bespoke Python function and the use of <code>apply</code>. Testing it for the small example DataFrame in your question showed that it was around 8 times faster.</p>\n"}], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505593440, "creation_date": 1425504533, "last_edit_date": 1505593440, "question_id": 28865352, "link": "https://stackoverflow.com/questions/28865352/manipulate-a-group-column-in-pandas", "title": "Manipulate A Group Column in Pandas", "body": "<p>I have a data set with columns Dist, Class, and Count.</p>\n\n<p>I want to group that data set by dist and divide the count column of each group by the sum of the counts for that group (normalize it to one).</p>\n\n<p>The following MWE demonstrates my approach thus far. But I wonder: is there a more compact/pandaific way of writing this?</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\na = np.random.randint(0,4,(10,3))\ns = pd.DataFrame(a,columns=['Dist','Class','Count'])\n\ndef manipcolumn(x):\n    csum = x['Count'].sum()\n    x['Count'] = x['Count'].apply(lambda x: x/csum)\n    return x\n\ns.groupby('Dist').apply(manipcolumn)\n</code></pre>\n"}, {"tags": ["python", "linux", "raspbian", "alsa", "pyaudio"], "comments": [{"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 1, "creation_date": 1425548994, "post_id": 28865331, "comment_id": 46011691, "body": "Those are PortAudio&#39;s attempts to enumerate devices. Ignore them."}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1256, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1425506007, "creation_date": 1425504449, "last_edit_date": 1425506007, "question_id": 28865331, "link": "https://stackoverflow.com/questions/28865331/list-devices-with-pyaudio-on-linux", "title": "List devices with PyAudio on Linux", "body": "<p>When listing audio devices on Linux (I tried with Raspbian / RaspberryPi) with:</p>\n\n<pre><code>import pyaudio\np = pyaudio.PyAudio()\nfor i in range(p.get_device_count()):\n    print p.get_device_info_by_index(i)\n</code></pre>\n\n<p>I get these errors. <strong>How to have a clean PyAudio running on Raspberry?</strong></p>\n\n<pre><code>ALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.front.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM front\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.surround40.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM surround40\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.surround51.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM surround41\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.surround51.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM surround50\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.surround51.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM surround51\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.surround71.0:CARD=0'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM surround71\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.iec958.0:CARD=0,AES0=4,AES1=130,AES2=0,AES3=2'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM iec958\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.iec958.0:CARD=0,AES0=4,AES1=130,AES2=0,AES3=2'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM spdif\nALSA lib confmisc.c:1286:(snd_func_refer) Unable to find definition 'cards.bcm2835.pcm.iec958.0:CARD=0,AES0=4,AES1=130,AES2=0,AES3=2'\nALSA lib conf.c:4241:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\nALSA lib conf.c:4720:(snd_config_expand) Evaluate error: No such file or directory\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM spdif\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.hdmi\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.hdmi\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.modem\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.modem\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline\nALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline\nALSA lib pcm_dmix.c:957:(snd_pcm_dmix_open) The dmix plugin supports only playback stream\nALSA lib pcm_dmix.c:1018:(snd_pcm_dmix_open) unable to open slave\nCannot connect to server socket err = No such file or directory\nCannot connect to server request channel\njack server is not running or cannot be started\n{'defaultSampleRate': 44100.0, 'defaultLowOutputLatency': 0.011609977324263039, 'defaultLowInputLatency': -1.0, 'maxInputChannels': 0, 'structVersion': 2, 'hostApi': 0, 'index': 0, 'defaultHighOutputLatency': 0.046439909297052155, 'maxOutputChannels': 2, 'name': 'bcm2835 ALSA: bcm2835 ALSA (hw:0,0)', 'defaultHighInputLatency': -1.0}\n{'defaultSampleRate': 44100.0, 'defaultLowOutputLatency': 0.011609977324263039, 'defaultLowInputLatency': -1.0, 'maxInputChannels': 0, 'structVersion': 2, 'hostApi': 0, 'index': 1, 'defaultHighOutputLatency': 0.046439909297052155, 'maxOutputChannels': 128, 'name': 'sysdefault', 'defaultHighInputLatency': -1.0}\n{'defaultSampleRate': 44100.0, 'defaultLowOutputLatency': 0.011609977324263039, 'defaultLowInputLatency': -1.0, 'maxInputChannels': 0, 'structVersion': 2, 'hostApi': 0, 'index': 2, 'defaultHighOutputLatency': 0.046439909297052155, 'maxOutputChannels': 128, 'name': 'default', 'defaultHighInputLatency': -1.0}\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1425505892, "post_id": 28865287, "comment_id": 45996376, "body": "Are you sure that your <code>today</code> is actually 2015-03-04? Do you have timezone support enabled?"}, {"owner": {"reputation": 5301, "user_id": 1411975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca8818eeae6a48e4a4b67cbca112a7ba?s=128&d=identicon&r=PG", "display_name": "Newtt", "link": "https://stackoverflow.com/users/1411975/newtt"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1425506073, "post_id": 28865287, "comment_id": 45996463, "body": "@Selcuk <code>USE_TZ = True</code> is what enables time support right? I&#39;ve added that in my settings file"}], "answers": [{"comments": [{"owner": {"reputation": 5301, "user_id": 1411975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca8818eeae6a48e4a4b67cbca112a7ba?s=128&d=identicon&r=PG", "display_name": "Newtt", "link": "https://stackoverflow.com/users/1411975/newtt"}, "edited": false, "score": 0, "creation_date": 1425507123, "post_id": 28865964, "comment_id": 45997037, "body": "I just realized. In Django admin, when I add an object it sets the date and time to Server time and since i&#39;m in India the added times are GMT while I&#39;m 5.5 hours ahead. Is there a fix for that?"}, {"owner": {"reputation": 5301, "user_id": 1411975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca8818eeae6a48e4a4b67cbca112a7ba?s=128&d=identicon&r=PG", "display_name": "Newtt", "link": "https://stackoverflow.com/users/1411975/newtt"}, "edited": false, "score": 0, "creation_date": 1425507274, "post_id": 28865964, "comment_id": 45997117, "body": "Yeah your method worked. However, it still wont show me the correct date and time unless the Django admin server time is set to my timezone time."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 5301, "user_id": 1411975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca8818eeae6a48e4a4b67cbca112a7ba?s=128&d=identicon&r=PG", "display_name": "Newtt", "link": "https://stackoverflow.com/users/1411975/newtt"}, "edited": false, "score": 1, "creation_date": 1425507316, "post_id": 28865964, "comment_id": 45997144, "body": "You can add <code>TIME_ZONE = &#39;Asia&#47;Calcutta&#39;</code> to your settings.py for UTC+05:30. See <a href=\"http://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/List_of_tz_database_time_zones</a> for the complete list"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1425506769, "creation_date": 1425506769, "answer_id": 28865964, "question_id": 28865287, "link": "https://stackoverflow.com/questions/28865287/query-to-check-datetime-object-not-returning-expected-result/28865964#28865964", "title": "Query to check datetime object not returning expected result", "body": "<p>Your <em>naive</em> <code>today</code> might be a later date than 2014-03-04 06:00:00 at the time of your test. Try using a timezone-aware date for today and tomorrow:</p>\n\n<pre><code>from django.utils import timezone\n...\ntoday = timezone.now().replace(hour=0, minute=0, second=0)\ntomorrow = today + timedelta(days=1)\n</code></pre>\n"}], "owner": {"reputation": 5301, "user_id": 1411975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca8818eeae6a48e4a4b67cbca112a7ba?s=128&d=identicon&r=PG", "display_name": "Newtt", "link": "https://stackoverflow.com/users/1411975/newtt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 28865964, "answer_count": 1, "score": 1, "last_activity_date": 1425506769, "creation_date": 1425504330, "question_id": 28865287, "link": "https://stackoverflow.com/questions/28865287/query-to-check-datetime-object-not-returning-expected-result", "title": "Query to check datetime object not returning expected result", "body": "<p>I have a model</p>\n\n<pre><code>class Availability(models.Model):\n    arena = models.ForeignKey(Arena, null=True)\n    start_date = models.DateTimeField()\n    end_date = models.DateTimeField()\n</code></pre>\n\n<p>which stores an availability object for a particular <code>Arena</code>. In my views, i'm trying to find out all <code>Availability objects</code> for a particular arena that are present for <code>Today</code> i.e, from Midnight to Midnight. For that, I've done the following:</p>\n\n<pre><code>def get_schedule(request):\n    if 'arena' in request.GET:\n        arena = Arena.objects.get(id=request.GET['arena'])\n        today = datetime.date.today()\n        tomorrow = datetime.date.today() + datetime.timedelta(days=1)\n        available_object = Availability.objects.filter(arena__id=arena.id, start_date__gte=today, end_date__lte=tomorrow)\n        obj = []\n        for a in available_object:\n            print(a)\n            obj.append({\n                'start_time': a.start_date.strftime('%H:%M'),\n                'end_time': a.end_date.strftime('%H:%M')\n            })\n        return HttpResponse(json.dumps(obj), content_type=\"application/json\")\n</code></pre>\n\n<p>In my table, I have the following object created</p>\n\n<pre><code>id = 1\nstart_date = 2015-03-04 06:00:00\nend_date = 2015-03-04 09:00:00\narena_id = 2\n</code></pre>\n\n<p>Passing <code>arena_id</code> as 2 in the above <code>available_object</code> query returns no values. What am I missing?</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 2, "creation_date": 1425504464, "post_id": 28865201, "comment_id": 45995645, "body": "Your code works perfectly for me. I&#39;m running Python 2.7.6, matplotlib v1.3.1 (Qt4Agg backend), numpy 1.8.2, Ubuntu 14.04."}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 1737338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f2b1b090435ebd86a17efc1bdff2da9?s=128&d=identicon&r=PG", "display_name": "djlovesupr3me", "link": "https://stackoverflow.com/users/1737338/djlovesupr3me"}, "is_accepted": true, "score": 0, "last_activity_date": 1425518990, "creation_date": 1425518990, "answer_id": 28868431, "question_id": 28865201, "link": "https://stackoverflow.com/questions/28865201/typeerror-not-implemented-for-this-type-when-trying-to-make-3d-scatterplot-in/28868431#28868431", "title": "&#39;TypeError: Not implemented for this type&#39; when trying to make 3D scatterplot in matplotlib", "body": "<p>Turns out the issue had to do with the Python kernel in Canopy. Restarting the kernel got rid of the error.</p>\n"}], "owner": {"reputation": 69, "user_id": 1737338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f2b1b090435ebd86a17efc1bdff2da9?s=128&d=identicon&r=PG", "display_name": "djlovesupr3me", "link": "https://stackoverflow.com/users/1737338/djlovesupr3me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "accepted_answer_id": 28868431, "answer_count": 1, "score": 0, "last_activity_date": 1425518990, "creation_date": 1425504001, "question_id": 28865201, "link": "https://stackoverflow.com/questions/28865201/typeerror-not-implemented-for-this-type-when-trying-to-make-3d-scatterplot-in", "title": "&#39;TypeError: Not implemented for this type&#39; when trying to make 3D scatterplot in matplotlib", "body": "<p>I have the following code to make a 3D scatterplot in matplotlib</p>\n\n<pre><code>import numpy as np\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\n\ndef plot_scores_3d(lambdas, Ts, scores, title):\n    \"\"\"\n      Plot scores (accuracy) as a function of lambda and no. iterations\n    \"\"\"\n    fig = plt.figure()\n    ax = fig.add_subplot(111, projection='3d')\n\n    ax.scatter(lambdas, Ts, scores, c='r', marker='o')\n\n    ax.set_xlabel('X Label')\n    ax.set_ylabel('Y Label')\n    ax.set_zlabel('Z Label')\n\n    plt.show()\n</code></pre>\n\n<p>I have </p>\n\n<pre><code>x = [1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 20, 20, 20, 20, 20, 50, 50, 50, 50, 50, 100, 100, 100, 100, 100]\ny = [1, 5, 10, 15, 20, 1, 5, 10, 15, 20, 1, 5, 10, 15, 20, 1, 5, 10, 15, 20, 1, 5, 10, 15, 20]\nz = [74.44444444444444, 73.33333333333333, 93.88888888888889, 94.22222222222223, 93.94444444444444, 74.44444444444444, 73.33333333333333, 93.88888888888889, 94.22222222222223, 93.94444444444444, 74.44444444444444, 73.33333333333333, 93.88888888888889, 94.22222222222223, 93.94444444444444, 74.44444444444444, 73.33333333333333, 93.88888888888889, 94.22222222222223, 93.94444444444444, 74.44444444444444, 73.33333333333333, 93.88888888888889, 94.22222222222223, 93.94444444444444]\n</code></pre>\n\n<p>and make the call </p>\n\n<pre><code>plot_scores_3d(x, y, z, 'Test')\n</code></pre>\n\n<p>but get the following stack trace</p>\n\n<pre><code>/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/mpl_toolkits/mplot3d/axes3d.pyc in scatter(self, xs, ys, zs, zdir, s, c, depthshade, *args, **kwargs)\n2238         xs, ys, zs, s, c = cbook.delete_masked_points(xs, ys, zs, s, c)\n2239 \n-&gt; 2240         patches = Axes.scatter(self, xs, ys, s=s, c=c, *args,     **kwargs)\n2241         if not cbook.iterable(zs):\n2242             is_2d = True\n\n/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/axes/_axes.pyc in scatter(self, x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, verts, **kwargs)\n3644                 linewidths=linewidths,\n3645                 offsets=offsets,\n-&gt; 3646                 transOffset=kwargs.pop('transform', self.transData),\n3647                 )\n3648         collection.set_transform(mtransforms.IdentityTransform())\n\n/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/collections.pyc in __init__(self, paths, sizes, **kwargs)\n767         Collection.__init__(self, **kwargs)\n768         self.set_paths(paths)\n--&gt; 769         self.set_sizes(sizes)\n770 \n771     def set_paths(self, paths):\n\n/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/collections.pyc in set_sizes(self, sizes, dpi)\n741             self._sizes = np.asarray(sizes)\n742             self._transforms = np.zeros((len(self._sizes), 3, 3))\n--&gt; 743             scale = np.sqrt(self._sizes) * dpi / 72.0\n744             self._transforms[:, 0, 0] = scale\n745             self._transforms[:, 1, 1] = scale\n\nTypeError: Not implemented for this type \n</code></pre>\n\n<p>All the input arrays are the same size, so that's not the issue. I tried plotting again with z being an array of integers, but got the same error. Help would be much appreciated!</p>\n"}, {"tags": ["python", "algorithm", "math"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425504214, "post_id": 28865200, "comment_id": 45995487, "body": "You mean given a set of data and an expected value?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1732480"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425504345, "post_id": 28865200, "comment_id": 45995574, "body": "<a href=\"http://reference.wolfram.com/language/tutorial/NumericalPrecision.html\" rel=\"nofollow noreferrer\">reference.wolfram.com/language/tutorial/NumericalPrecision.h&zwnj;&#8203;tml</a>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425504475, "post_id": 28865200, "comment_id": 45995650, "body": "Well in chemistry, we&#39;re learning a very different accuracy and precision. Unfortunately, you will need a for loop to count significant digits."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1425504494, "post_id": 28865200, "comment_id": 45995664, "body": "Why do you want to avoid for loops?"}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425504567, "post_id": 28865200, "comment_id": 45995705, "body": "@MalikBrahimi That&#39;s not true.  OP could use a while loop, but I doubt that&#39;s what they&#39;re looking for."}, {"owner": {"reputation": 1675, "user_id": 1010207, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e8515cdf05f545b01b9eaaf1a06de70?s=128&d=identicon&r=PG", "display_name": "Christopher H", "link": "https://stackoverflow.com/users/1010207/christopher-h"}, "edited": false, "score": 0, "creation_date": 1425504674, "post_id": 28865200, "comment_id": 45995763, "body": "Definitely want to avoid loops if possible"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425504815, "post_id": 28865200, "comment_id": 45995827, "body": "I don&#39;t really understand the math behind it, but you could parse the number as a string and use list comprehension counts relative to the decimal point."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1732480"}, "edited": false, "score": 0, "creation_date": 1425504967, "post_id": 28865200, "comment_id": 45995892, "body": "&quot;1.0&quot; would fail in the given case. Understanding the math behind it would be a lot more valuable going forward."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425505036, "post_id": 28865200, "comment_id": 45995938, "body": "I took a look at the link, but I&#39;m lost. Perhaps, you can explain."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1425506120, "post_id": 28865200, "comment_id": 45996490, "body": "You can&#39;t even consider precision and accuracy without a reference - a single <code>double</code> doesn&#39;t really have either. For example, if your &quot;correct&quot; value is <code>1.01</code>, but if your measure is only precise to one decimal place, you might measure <code>1.0</code>. A more precise measure might come up with <code>1.009</code>. On the other hand, measuring <code>12.123456789</code> is very precise, but highly inaccurate... In other words, you need to provide quite a bit more information before &quot;precision&quot; and &quot;accuracy&quot; even become meaningful concepts in this case."}], "answers": [{"tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1425508209, "last_edit_date": 1425508209, "creation_date": 1425507836, "answer_id": 28866275, "question_id": 28865200, "link": "https://stackoverflow.com/questions/28865200/precision-and-accuracy/28866275#28866275", "title": "Precision and Accuracy", "body": "<p>Floating point numbers are stored in binary in python. Accuracy and precision have <em>totally different</em> implications in binary, especially given that computers are constrained to fixed-length representations. You can demonstrate that to yourself simply by noting that the code <code>1e16+1 == 1e16</code> returns <code>True</code>.</p>\n\n<p>You linked to Wolfram.com where precision and accuracy are discussed in terms of <strong>decimal numbers</strong>. It means nothing to talk about the position of the decimal point in a number stored in a computer in binary. To represent and manipulate decimal numbers with their <em>real decimal precision and accuracy</em>, you need to use python's <code>Decimal</code> class.</p>\n\n<p>Note that you must give the Decimal class a string for it to be accurate in decimal terms. If you give it a literal number (e.g. <code>Decimal(1.001)</code>) you are just giving it a float, and the Decimal you create will be the precise decimal representation of python's imprecise floating point representation of 1.001.</p>\n\n<p>Sadly, the Decimal class doesn't have methods to return the number of digits either side of the decimal point. However, assuming your decimal is in decimal form, you can just examine it as a string, using <code>str(x)</code> where <code>x</code> is an instance of <code>Decimal</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1732480"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "closed_date": 1426694182, "answer_count": 1, "score": 0, "last_activity_date": 1425508209, "creation_date": 1425504000, "question_id": 28865200, "link": "https://stackoverflow.com/questions/28865200/precision-and-accuracy", "closed_reason": "Needs details or clarity", "title": "Precision and Accuracy", "body": "<p>Given a double, what is the most efficient way to calculate the precision and accuracy of the number? Ideally, I'd like to avoid for loops. </p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1425504487, "post_id": 28865164, "comment_id": 45995659, "body": "Do you always create a new line after <code>9F</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3, "user_id": 4630009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FCJk6ZbPlZk/AAAAAAAAAAI/AAAAAAAADmk/3RUuidMTO7Y/photo.jpg?sz=128", "display_name": "Gharat", "link": "https://stackoverflow.com/users/4630009/gharat"}, "edited": false, "score": 0, "creation_date": 1425914330, "post_id": 28865614, "comment_id": 46145111, "body": "Great, glad i could help."}], "tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1425572125, "last_edit_date": 1425572125, "creation_date": 1425505461, "answer_id": 28865614, "question_id": 28865164, "link": "https://stackoverflow.com/questions/28865164/how-to-modify-multiple-columns-and-rows-in-a-csv-file-using-python-2-7-9/28865614#28865614", "title": "How to modify multiple columns and rows in a csv file using python 2.7.9", "body": "<p>Assuming you create a new line after the <code>9f</code> value you can do: </p>\n\n<pre><code>import csv\nwith open(\"C:/path/a.txt\",\"r\") as f,open(\"C:/path/a.csv\" ,\"wb\") as w:\n    temp = []\n    writer = csv.writer(w)\n    for line in f:\n        temp.append(line.strip())\n        if \"9F\" in line:\n            writer.writerow(temp)\n            temp = []\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4630009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FCJk6ZbPlZk/AAAAAAAAAAI/AAAAAAAADmk/3RUuidMTO7Y/photo.jpg?sz=128", "display_name": "Gharat", "link": "https://stackoverflow.com/users/4630009/gharat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 28865614, "answer_count": 1, "score": 0, "last_activity_date": 1425572125, "creation_date": 1425503896, "question_id": 28865164, "link": "https://stackoverflow.com/questions/28865164/how-to-modify-multiple-columns-and-rows-in-a-csv-file-using-python-2-7-9", "title": "How to modify multiple columns and rows in a csv file using python 2.7.9", "body": "<p>I have a File1.csv having data (every data is on the new line, new row)</p>\n\n<pre><code>7F\n1\n4\nFF\n73\n9F\n7F\n1\n4\nFF\n73\n9F\n7F\n1\n4\nFF\n73\n9F\n</code></pre>\n\n\n\n<p>I want to convert it into format shown below and save it as File2.csv</p>\n\n<pre><code>7F,1,4,FF,73,9F\n7F,1,4,FF,73,9F\n</code></pre>\n\n\n\n<pre><code>import csv #import the CSV module in python\n\nf = open('File1.csv', \"rb\")\n\ncsv_f = [i for i in csv.reader(f)]\nf.close()\n\ntempVal1=csv_f[1]+csv_f[2]+csv_f[3]+csv_f[4]+csv_f[5]+csv_f[6]\n\ntempVal2=csv_f[7]+csv_f[8]+csv_f[9]+csv_f[10]+csv_f[11]+csv_f[12]\n\nwith open('File2.csv', \"wb\") as csv_file:  #open the file to write, use \"wb\" for write access\n    writer = csv.writer(csv_file, delimiter=',')    \n    writer.writerow(tempVal1)     #write data into the file\n    writer.writerow(tempVal2)     #write data into the file\n</code></pre>\n\n<p>I want to write above program in a efficient way (use for, while loops) so that I don't use tempVal1,2 variables also I want logic in my code where I can read '7F' value and write the data starting from 7F in new line separated by comma, can anyone help me?\nMy concerns are - \n1. How to read value in rows '7F'?\n2. How to add for or while loop logic instead of putting additions and storing it in tempVal variable?</p>\n"}, {"tags": ["python", "raspbian", "pyaudio"], "comments": [{"owner": {"reputation": 985, "user_id": 390557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goSso.jpg?s=128&g=1", "display_name": "wreckgar23", "link": "https://stackoverflow.com/users/390557/wreckgar23"}, "edited": false, "score": 0, "creation_date": 1433609868, "post_id": 28865144, "comment_id": 49430468, "body": "Did you ever try &quot;pip install pyaudio --allow-external pyaudio --allow-unverified pyaudio&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1425505285, "post_id": 28865205, "comment_id": 45996056, "body": "Thanks @MalikBrahimi! Would you perhaps have an idea for <a href=\"http://stackoverflow.com/questions/28865331/list-devices-with-pyaudio-on-raspberry-pi\" title=\"list devices with pyaudio on raspberry pi\">stackoverflow.com/questions/28865331/&hellip;</a> ? :)"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1425505550, "post_id": 28865205, "comment_id": 45996183, "body": "No, I had no idea PyAudio could even list devices. Do you have appropriate drivers installed? Have you tried running now that PyAudio is properly installed?"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1425505889, "post_id": 28865205, "comment_id": 45996372, "body": "yes I tried with PyAudio installed, but I get these errors"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1425576286, "post_id": 28865205, "comment_id": 46028922, "body": "That version from <code>apt-get</code> is obsolete. I really need to be able to compile it on my Raspberry Pi."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1425504013, "creation_date": 1425504013, "answer_id": 28865205, "question_id": 28865144, "link": "https://stackoverflow.com/questions/28865144/pyaudio-compilation-on-raspbian/28865205#28865205", "title": "PyAudio compilation on Raspbian", "body": "<p>Try install with the package manager:</p>\n\n<pre><code>sudo apt-get install python-pyaudio\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "is_accepted": true, "score": 0, "last_activity_date": 1425597163, "last_edit_date": 1425597163, "creation_date": 1425590447, "answer_id": 28887959, "question_id": 28865144, "link": "https://stackoverflow.com/questions/28865144/pyaudio-compilation-on-raspbian/28887959#28887959", "title": "PyAudio compilation on Raspbian", "body": "<p>This works:</p>\n\n<pre><code>apt-get install jackd2 libjack-jackd2-0 qjackctl sonic-pi supercollider supercollider-server\n\ngit clone http://people.csail.mit.edu/hubert/git/pyaudio.git\ncd pyaudio\npython setup.py install\n</code></pre>\n\n<p><em>Remark:</em> this </p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install python-pyaudio\n</code></pre>\n\n<p>would install pyaudio version 0.2.4, which doesn't support working with stream <code>callback</code>.</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 28887959, "answer_count": 2, "score": 0, "last_activity_date": 1425597163, "creation_date": 1425503843, "question_id": 28865144, "link": "https://stackoverflow.com/questions/28865144/pyaudio-compilation-on-raspbian", "title": "PyAudio compilation on Raspbian", "body": "<p>When trying to install <code>pyaudio</code> with <code>pip install pyaudio</code> on Raspbian, I get:</p>\n\n<pre><code>Collecting pyaudio\nCould not find any downloads that satisfy the requirement pyaudio\nSome externally hosted files were ignored as access to them may be unreliable (use --allow-external pyaudio to allow).\nNo distributions at all found for pyaudio\n</code></pre>\n\n<p><strong>How to build <code>pyaudio</code> with Raspbian?</strong>\nDoes it need a specific tool?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1425504820, "post_id": 28865050, "comment_id": 45995830, "body": "That is not really a python problem, but a Windows problem. UNC paths cannot handle username and password in the path (they are not URLs). Considering this, the question seems a possible duplicate of <a href=\"https://stackoverflow.com/questions/8172079/copy-files-over-network-via-file-share-user-authentication\" title=\"copy files over network via file share user authentication\">stackoverflow.com/questions/8172079/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 0, "creation_date": 1425561134, "post_id": 28865652, "comment_id": 46019029, "body": "Is there a way to check if a user has permission to a shared drive without mapping the drive then?"}], "tags": [], "owner": {"reputation": 2472, "user_id": 109554, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8d5e369f6d7fb6343f9559b0a65abde1?s=128&d=identicon&r=PG", "display_name": "tatlar", "link": "https://stackoverflow.com/users/109554/tatlar"}, "is_accepted": false, "score": 0, "last_activity_date": 1425505592, "last_edit_date": 1495539804, "creation_date": 1425505592, "answer_id": 28865652, "question_id": 28865050, "link": "https://stackoverflow.com/questions/28865050/python-can-i-suppy-username-and-password-to-os-listdir/28865652#28865652", "title": "python can I suppy username and password to os.listdir?", "body": "<p>According to the <a href=\"https://docs.python.org/2/library/os.html#os.listdir\" rel=\"nofollow noreferrer\">Python manual</a> <code>os.listdir(path)</code> only takes the <code>path</code> name as the argument. It probably works for you locally using the Django test server as permissions are different in that environment than using a production webserver like Apache or Nginx. Try looking at the following pre-existing related SO questions and answers - they might offer you some guidance, especially on a Win box:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1271317/what-is-the-best-way-to-map-windows-drives-using-python\">What is the best way to map windows drives using Python?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/5224541/python-copy-files-to-a-network-location-on-windows-without-mapping-a-drive\">python copy files to a network location on Windows without mapping a drive</a></p>\n"}, {"comments": [{"owner": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 0, "creation_date": 1425561656, "post_id": 28878753, "comment_id": 46019318, "body": "thank you. I am running into unmounting issue. Is there anyway to tell if a user has permission on that drive instead of mounting the drive?"}, {"owner": {"reputation": 4589, "user_id": 535884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a53aebc466c2dfc2c62633310465e0?s=128&d=identicon&r=PG", "display_name": "Igor Pomaranskiy", "link": "https://stackoverflow.com/users/535884/igor-pomaranskiy"}, "reply_to_user": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 0, "creation_date": 1425561986, "post_id": 28878753, "comment_id": 46019521, "body": "You can try to mount network resource (calling <code>net use \\\\computername\\path\\to\\dir</code>) without credentials \u2014 in this case credentials of user, which runs Python code will be used. If the operaction will fail \u2014 it means user has no permission."}, {"owner": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 0, "creation_date": 1425564581, "post_id": 28878753, "comment_id": 46021132, "body": "Another question, if I try to map drive in the web app, it will try to map the drive on the server or the local user machine?"}, {"owner": {"reputation": 4589, "user_id": 535884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a53aebc466c2dfc2c62633310465e0?s=128&d=identicon&r=PG", "display_name": "Igor Pomaranskiy", "link": "https://stackoverflow.com/users/535884/igor-pomaranskiy"}, "reply_to_user": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 0, "creation_date": 1425565785, "post_id": 28878753, "comment_id": 46021867, "body": "The first: you don&#39;t &quot;map drive&quot;, you mount network resource. The second: the network resource is mounted to the computer, where you run <code>net use</code>. Try to play with <code>net use</code> in the command prompt at your local computer to find out how it works. <code>net use</code> without any options will show you a list of mounted resources (N.B. if resource is mounted is doesn&#39;t necessarily means it is accessible). <code>&#47;delete</code> key lets you to dismount resource. And by calling <code>net use</code> with path to resouce (and, optionally, credentials) lets you mount given resource."}, {"owner": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "edited": false, "score": 1, "creation_date": 1425660293, "post_id": 28878753, "comment_id": 46066319, "body": "I appreciate all your help! This is the right answer however doesn&#39;t solve my problem due to org network setup. I just cannot map drives on the server. :( Works totally find on my local machine."}], "tags": [], "owner": {"reputation": 4589, "user_id": 535884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a53aebc466c2dfc2c62633310465e0?s=128&d=identicon&r=PG", "display_name": "Igor Pomaranskiy", "link": "https://stackoverflow.com/users/535884/igor-pomaranskiy"}, "is_accepted": true, "score": 5, "last_activity_date": 1425561999, "last_edit_date": 1425561999, "creation_date": 1425561435, "answer_id": 28878753, "question_id": 28865050, "link": "https://stackoverflow.com/questions/28865050/python-can-i-suppy-username-and-password-to-os-listdir/28878753#28878753", "title": "python can I suppy username and password to os.listdir?", "body": "<p>You should take a look on <code>net use</code> Windows command. It lets you to mount any network resources with given credentials.</p>\n\n<p>Before accessing network resource, you can execute from Python <code>net use</code> command, like this:</p>\n\n<pre><code>net use \\\\computername\\path\\to\\dir /user:username password\n</code></pre>\n\n<p>If credentials are correct, network resource will be accessible, and <code>os.listdir()</code> will work.</p>\n\n<p>There can be some issues if given resource was already mounted with different credentials. In such case you should unmount them first (<code>net use \\\\computername\\path\\to\\dir /delete</code>)</p>\n"}], "owner": {"reputation": 260, "user_id": 3954510, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9465ad13fbe2c5b0676047be9836a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "wolf97084", "link": "https://stackoverflow.com/users/3954510/wolf97084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4982, "favorite_count": 0, "accepted_answer_id": 28878753, "answer_count": 2, "score": 3, "last_activity_date": 1425561999, "creation_date": 1425503524, "question_id": 28865050, "link": "https://stackoverflow.com/questions/28865050/python-can-i-suppy-username-and-password-to-os-listdir", "title": "python can I suppy username and password to os.listdir?", "body": "<p>Python 3.4, Django 1.7, Windows apache 2.4.12</p>\n\n<p>I am trying to list all files on a Windows shared drive (which is restricted to certain users), and later write couple of files to the shared drive.</p>\n\n<p>I am using os.listdir to do this. It works well if I just run the web app on my machine, but once it's deployed on the actual server it will stop working.</p>\n\n<p>The problem is the permission on the Windows shared drive. User has to login first so I do have their username and password. </p>\n\n<p>My question is how to supply os.listdir with username and password?</p>\n\n<p>I tried os.listdir('//windows/share/drive/dir@domanin/username:password') but the system will try to look for the file instead of passing username and password.</p>\n\n<p>Does any one know how to solve this? Or I need to map the drive (how do I map drive with credential?), list files, write files, then disconnect the mapped drive?</p>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["python", "python-3.x", "for-loop", "concatenation", "chr"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 3, "creation_date": 1425503443, "post_id": 28864985, "comment_id": 45995060, "body": "So how do you split <code>1111</code>, as <code>ascii(11)ascii(11)</code> or <code>ascii(1)ascii(111)</code> or <code>ascii(111)ascii(1)</code>? Isn&#39;t it ambiguous?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1425503565, "post_id": 28864985, "comment_id": 45995136, "body": "Put a space between your numbers, for goodness sake."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1425503744, "post_id": 28864985, "comment_id": 45995241, "body": "Worth adding that this is Python3-ish.  On Python 2 passing anything outside the ASCII range to <code>chr()</code> gives a <code>TypeError</code>."}, {"owner": {"reputation": 3, "user_id": 4628298, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067318873284813/picture?type=large", "display_name": "Franz", "link": "https://stackoverflow.com/users/4628298/franz"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1425503981, "post_id": 28864985, "comment_id": 45995363, "body": "Actually, my teacher does not allow me that @FredLarson"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1425504058, "post_id": 28864985, "comment_id": 45995399, "body": "How is it supposed to know where to split, then? Are you supposed to slice instead of split perhaps?"}, {"owner": {"reputation": 209, "user_id": 3170442, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lWRjZ.jpg?s=128&g=1", "display_name": "Katpoes", "link": "https://stackoverflow.com/users/3170442/katpoes"}, "edited": false, "score": 0, "creation_date": 1425504217, "post_id": 28864985, "comment_id": 45995492, "body": "Split is not your answer."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1425504500, "post_id": 28864985, "comment_id": 45995669, "body": "I was wondering if you were looking for something like this: <a href=\"http://stackoverflow.com/q/9475241/10077\">stackoverflow.com/q/9475241/10077</a>. But your edit has me confused."}, {"owner": {"reputation": 3, "user_id": 4628298, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067318873284813/picture?type=large", "display_name": "Franz", "link": "https://stackoverflow.com/users/4628298/franz"}, "edited": false, "score": 0, "creation_date": 1425505316, "post_id": 28864985, "comment_id": 45996069, "body": "Im thinking of a way to refer to ascii codes 65-90 which is A-Z and 97-122 which is a-z.because we are told to input a number and convert it to alphabet using chr().So sorry i cant explain it well."}, {"owner": {"reputation": 3, "user_id": 4628298, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067318873284813/picture?type=large", "display_name": "Franz", "link": "https://stackoverflow.com/users/4628298/franz"}, "edited": false, "score": 0, "creation_date": 1425505536, "post_id": 28864985, "comment_id": 45996176, "body": "It&#39;s like this way (<a href=\"http://stackoverflow.com/questions/22227631/how-do-i-convert-a-list-of-numbers-into-their-corresponding-chr?rq=1\" title=\"how do i convert a list of numbers into their corresponding chr\">stackoverflow.com/questions/22227631/&hellip;</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 4496358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63cad54a2d35bf0f7aef50a647b7426?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4496358/tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1425506879, "creation_date": 1425506879, "answer_id": 28865992, "question_id": 28864985, "link": "https://stackoverflow.com/questions/28864985/how-to-use-pythons-chr-properly/28865992#28865992", "title": "How to Use Python&#39;s chr() properly", "body": "<p>You want to interpret your string as being composed of 3-digit strings beginning with a '1' or 2-digit strings that cannot begin with a 1. Because of that, you can move through the string from start to finish, plucking out three characters if the first is a 1 or two characters if it isn't. This just needs a simple method:</p>\n\n<pre><code>def stringsplit(message):\n    message_split = []\n    while len(message) &gt; 0:\n        if message[0] == '1':\n                message_split.append(message[:3])\n                message = message[3:]\n        else:\n                message_split.append(message[:2])\n                message = message[2:]\n    return message_split\n</code></pre>\n\n<p>Then, replace <code>for item in message.split():</code> with <code>for item in stringsplit(message):</code></p>\n\n<p><em>Caveat: Python 2.7 implementation; your mileage may vary, but it shouldn't.</em></p>\n"}], "owner": {"reputation": 3, "user_id": 4628298, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067318873284813/picture?type=large", "display_name": "Franz", "link": "https://stackoverflow.com/users/4628298/franz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425506879, "creation_date": 1425503346, "last_edit_date": 1425504241, "question_id": 28864985, "link": "https://stackoverflow.com/questions/28864985/how-to-use-pythons-chr-properly", "title": "How to Use Python&#39;s chr() properly", "body": "<p>I'm currently working on this code now..</p>\n\n<pre><code>message = input(\"Enter ASCII codes: \")\n\ndecodedMessage = \"\"\n\nfor item in message.split():\n   decodedMessage += chr(int(item))   \n\nprint (\"Decoded message:\", decodedMessage)\n\n#1st Run:\nEnter ASCII codes: 97\nDecoded message: a\n#2nd Run:\nEnter ASCII codes: 9797\nDecoded message: \u2645\n</code></pre>\n\n<p>The result I want is: aa which is from 97 and another 97 of ascii codes.\nHow can this be done?     </p>\n\n<blockquote>\n  <p>I want it like this.</p>\n</blockquote>\n\n<pre><code>ord_username = input(\"Enter Username:\")\nletters = str(ord_username)\nordlist=[]\nz=\"\"\n\nfor letter in letters:\n    number = ord(letter)\n    ordlist.append(number)\n\n\nfor i in ordlist:\n    z += str(i) + \"\"\nprint (z)\n\n#1st Run:\nEnter Username:a\n97\n#2nd Run:\nEnter Username:ab\n9798\n</code></pre>\n"}, {"tags": ["python", "list", "recursion", "binary-tree"], "comments": [{"owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "edited": false, "score": 0, "creation_date": 1425504188, "post_id": 28864971, "comment_id": 45995479, "body": "You havent posted BinaryTree code. SO users are out of crystal balls ;) probably - because  Your l[1] and l[2] are None? Or one of those is None ?"}, {"owner": {"reputation": 3, "user_id": 4633937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a80a06bdb218b3ad40d7cee9d52f60?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Lee", "link": "https://stackoverflow.com/users/4633937/joseph-lee"}, "reply_to_user": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "edited": false, "score": 0, "creation_date": 1425504370, "post_id": 28864971, "comment_id": 45995584, "body": "Oh sorry, I&#39;ll add it"}, {"owner": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 0, "creation_date": 1425505803, "post_id": 28864971, "comment_id": 45996320, "body": "Few small comments on your code: 1) the <a href=\"http://stackoverflow.com/questions/3257919/is-none-vs-none\">accepted standard</a> in Python to test if something is <code>None</code> is <code>is None</code> and not <code>== None</code>. 2) Python is not Java, so just <a href=\"http://stackoverflow.com/questions/6618002/python-property-versus-getters-and-setters\">use attributes</a> instead of boiler-plate get and set methods, unless you really need them."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3865964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c72c1ffc24d2bf8145251d17f3f3dc?s=128&d=identicon&r=PG&f=1", "display_name": "user116541", "link": "https://stackoverflow.com/users/3865964/user116541"}, "is_accepted": true, "score": 0, "last_activity_date": 1425507062, "last_edit_date": 1425507062, "creation_date": 1425505364, "answer_id": 28865582, "question_id": 28864971, "link": "https://stackoverflow.com/questions/28864971/binary-tree-list-of-list-to-nodes-and-reference-with-recursion/28865582#28865582", "title": "Binary Tree: List of List to Nodes and Reference with Recursion", "body": "<p>I think that is because you didn't define the action when l[1] and l[2] are not none. So when you pass the argument to the function, it puts 'a' to the key of root, and find that none of the conditions defined matched, then the function exists without doing any thing. Therefore the return value contains only 'a' . Try this:</p>\n\n<p><code>if (l[1] and l[2]) == None:\n        return bt.getRootValue()\n    elif l[1] != None and l[2] == None:\n        bt.left = ll2nr(l[1])\n    elif l[2] != None and l[1] == None:\n        bt.right = ll2nr(l[2])\n    else:\n        bt.left = ll2nr(l[1])\n        bt.right = ll2nr(l[2])\n</code></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4633937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a80a06bdb218b3ad40d7cee9d52f60?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Lee", "link": "https://stackoverflow.com/users/4633937/joseph-lee"}, "edited": false, "score": 0, "creation_date": 1425506072, "post_id": 28865598, "comment_id": 45996462, "body": "Oh right, so I should add another case where I can process l[1] and l[2]"}], "tags": [], "owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1425509774, "last_edit_date": 1425509774, "creation_date": 1425505420, "answer_id": 28865598, "question_id": 28864971, "link": "https://stackoverflow.com/questions/28864971/binary-tree-list-of-list-to-nodes-and-reference-with-recursion/28865598#28865598", "title": "Binary Tree: List of List to Nodes and Reference with Recursion", "body": "<p>Checking Your function:</p>\n\n<pre><code>(...)\nelif l[1] != None and l[2] == None:\n    bt.left = ll2nr(l[1])\nelif l[2] != None and l[1] == None:\n    bt.right = ll2nr(l[2])\n</code></pre>\n\n<p>You can easily see adding <code>print (l[1], l[2])</code> in place of dots, that neither of those conditions are fullfilled.</p>\n\n<pre><code>l[1] == ['b', ['d', None, None], ['f', None, None]]\nand\nl[2] == ['c', None, ['h', None, None]]\n</code></pre>\n\n<p>So, first condition is true and false ==> false and second condition also is true and false ==> false. Thus function returns bt.</p>\n\n<p>If You change it to something like</p>\n\n<pre><code>if l[1] != None: # You might simply write \"if l[1]:\" as well...\n    bt.left = ll2nr(l[1])\nif l[2]:         # ...like this\n    bt.right = ll2nr(l[2])\n</code></pre>\n\n<p>it might work better. </p>\n\n<p>I changed Your function like this:</p>\n\n<pre><code>def make_tree(l):\n    bt = BinaryTree(l[0])\n    #if (l[1] and l[2]) == None:\n    #    return bt.getRootValue()\n    if l[1]:\n        bt.left = make_tree(l[1])\n    if l[2]:\n        bt.right = make_tree(l[2])\n    if not l[1] and not l[2]:\n        bt.left = \"*\"\n        bt.right = \"*\"\n    return bt\n\ndef printer(node, depth=0):\n    indent = '\\t' * depth\n    if node:\n        if isinstance(node, basestring):\n            print (\"{}{}={}\".format(indent, node, depth))\n        else:\n            print (\"{}{}={}\".format(indent, node.key, depth))\n            printer(node.left, depth + 1)\n            printer(node.right, depth + 1)\n    else:\n        print (\"{}*={}\".format(indent, depth))\n</code></pre>\n\n<p>and got nice printout:</p>\n\n<pre><code>a=0\n    b=1\n        d=2\n            *=3\n            *=3\n        f=2\n            *=3\n            *=3\n    c=1\n        *=2\n        h=2\n            *=3\n            *=3\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4633937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a80a06bdb218b3ad40d7cee9d52f60?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Lee", "link": "https://stackoverflow.com/users/4633937/joseph-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 28865582, "answer_count": 2, "score": 0, "last_activity_date": 1425519816, "creation_date": 1425503289, "last_edit_date": 1425519816, "question_id": 28864971, "link": "https://stackoverflow.com/questions/28864971/binary-tree-list-of-list-to-nodes-and-reference-with-recursion", "title": "Binary Tree: List of List to Nodes and Reference with Recursion", "body": "<p>I have been trying to convert a list of lists format to a binary tree object which consists of nodes and references.  So far, I have a 3 cases where the left and right node is empty, left is empty and right is empty.  The problem is that whenever I test my function, the recursion does not work. By that I mean the recursion depth is only one level before it returns the converted binary tree.</p>\n\n<pre><code>argument =  ['a', ['b', ['d', None, None],['f', None, None]], ['c', None, ['h', None, None]]]\n\ndef linkedlisttobinarytree (l):\n    '''\n    list of lists -&gt; (nodes and references)\n    Takes a list of lists and returns a binary tree in nodes and references form\n    '''\n    bt = BinaryTree(l[0])\n    if (l[1] and l[2]) == None:\n        return bt.getRootValue()\n    elif l[1] != None and l[2] == None:\n        bt.left = ll2nr(l[1])\n    elif l[2] != None and l[1] == None:\n        bt.right = ll2nr(l[2])\n    return bt\n</code></pre>\n\n<p>For example, when I send the variable 'argument' into my method, it only yields 'a' as the root node and only 'a', the method only converts the first element in 'argument'.  Can someone clarify why my the recursion depth is so shallow?</p>\n"}, {"tags": ["python", "error-handling"], "comments": [{"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "edited": false, "score": 0, "creation_date": 1425503759, "post_id": 28864968, "comment_id": 45995247, "body": "Will appreciate an upvote/answer select if i answered your question."}, {"owner": {"reputation": 13, "user_id": 3052737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f784697014e01d2e10a158929536c64a?s=128&d=identicon&r=PG&f=1", "display_name": "user3052737", "link": "https://stackoverflow.com/users/3052737/user3052737"}, "reply_to_user": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "edited": false, "score": 1, "creation_date": 1425506518, "post_id": 28864968, "comment_id": 45996714, "body": "Thank you. I can&#39;t upvote because I don&#39;t have enough reputation, but I accepted your answer if it helps you."}], "answers": [{"tags": [], "owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "is_accepted": true, "score": 1, "last_activity_date": 1425503567, "creation_date": 1425503567, "answer_id": 28865064, "question_id": 28864968, "link": "https://stackoverflow.com/questions/28864968/python-catch-error-with-specific-code/28865064#28865064", "title": "Python - Catch error with specific code", "body": "<pre><code>import errno\n\ntry:\n  ..\nexcept ClientError as serr:\n    if serr.errno == 300:      \n        raise serr\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3052737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f784697014e01d2e10a158929536c64a?s=128&d=identicon&r=PG&f=1", "display_name": "user3052737", "link": "https://stackoverflow.com/users/3052737/user3052737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28865064, "answer_count": 1, "score": 0, "last_activity_date": 1425503567, "creation_date": 1425503288, "question_id": 28864968, "link": "https://stackoverflow.com/questions/28864968/python-catch-error-with-specific-code", "title": "Python - Catch error with specific code", "body": "<p>in code I have this error</p>\n\n<pre><code>raise ClientError(response_data['data']['error'], response.status_code)\nClientError: (300) corrupt or not supported.\n</code></pre>\n\n<p>How to catch error 300?</p>\n\n<pre><code>try:\n    somestuff\n\nexcept ClientError:\n    if error = 300:  # ?????\n        print 'catched'\n    else:\n        just end the program\n</code></pre>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["python", "remote-desktop"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1425503615, "post_id": 28864959, "comment_id": 45995172, "body": "Imagine dragging a window."}], "answers": [{"tags": [], "owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1425504077, "creation_date": 1425504077, "answer_id": 28865220, "question_id": 28864959, "link": "https://stackoverflow.com/questions/28864959/would-a-remote-desktop-created-in-this-way-work/28865220#28865220", "title": "Would a remote desktop created in this way work?", "body": "<p>Yes. Consider <a href=\"http://en.wikipedia.org/wiki/Virtual_Network_Computing\" rel=\"nofollow\">VNC</a> which works the way you describe.</p>\n"}], "owner": {"reputation": 1, "user_id": 4634082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f20a740145a6863c11d9618af681b36?s=128&d=identicon&r=PG&f=1", "display_name": "Walter White", "link": "https://stackoverflow.com/users/4634082/walter-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425504077, "creation_date": 1425503271, "question_id": 28864959, "link": "https://stackoverflow.com/questions/28864959/would-a-remote-desktop-created-in-this-way-work", "title": "Would a remote desktop created in this way work?", "body": "<p>I was thinking of using python to create a remote desktop program. There will be two parts to it, a server and a client. The server creates a connection between the client, the client then takes screenshots every second (or so), and sends them to the server. The server displays those screenshots, and mouse movements over the screenshots get translated to co-ordinates and get sent to the client. Mouse clicks and key presses, will also be sent to the client. This will effectively allow the server to control the client remotely. Obviously it will be a bit laggy, but will it work?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1425502962, "post_id": 28864845, "comment_id": 45994762, "body": "If you want to find all the elements of the list in order from smallest to largest, why not just sort it?"}, {"owner": {"reputation": 115, "user_id": 4493007, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e504995d9b9371a454442d0855b4d27?s=128&d=identicon&r=PG&f=1", "display_name": "Crunch", "link": "https://stackoverflow.com/users/4493007/crunch"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1425503087, "post_id": 28864845, "comment_id": 45994838, "body": "Because I need it to be in a specific order and I&#39;d like to accomplish it this way"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425503166, "post_id": 28864845, "comment_id": 45994897, "body": "@Crunch Hey again, see my answer below. Basically, I cast to strings to see if they are strictly numerical values."}, {"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 2, "creation_date": 1425503850, "post_id": 28864845, "comment_id": 45995291, "body": "ok, why are you so stuck on your current implementation? there are many better ways."}, {"owner": {"reputation": 115, "user_id": 4493007, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e504995d9b9371a454442d0855b4d27?s=128&d=identicon&r=PG&f=1", "display_name": "Crunch", "link": "https://stackoverflow.com/users/4493007/crunch"}, "edited": false, "score": 0, "creation_date": 1425504080, "post_id": 28864845, "comment_id": 45995413, "body": "This is the way that my instructor wants it to be done.."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4493007, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e504995d9b9371a454442d0855b4d27?s=128&d=identicon&r=PG&f=1", "display_name": "Crunch", "link": "https://stackoverflow.com/users/4493007/crunch"}, "edited": false, "score": 0, "creation_date": 1425503205, "post_id": 28864898, "comment_id": 45994915, "body": "That&#39;s not what I asked. I want to know why I&#39;m getting an error after replacing the min(weight) with &#39;o&#39;"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1425503074, "creation_date": 1425503074, "answer_id": 28864898, "question_id": 28864845, "link": "https://stackoverflow.com/questions/28864845/how-to-get-the-minimum-integer-value-of-a-list/28864898#28864898", "title": "How to get the minimum integer value of a list", "body": "<p>Use a list comprehension to extract the integers:</p>\n\n<pre><code>min_weight = min([i for i in weight if str(i).isdigit()])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 4493007, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e504995d9b9371a454442d0855b4d27?s=128&d=identicon&r=PG&f=1", "display_name": "Crunch", "link": "https://stackoverflow.com/users/4493007/crunch"}, "edited": false, "score": 1, "creation_date": 1425504595, "post_id": 28865022, "comment_id": 45995722, "body": "This does not answer my question. Again. With the EXACT coding above how do I ensure that once I replace the current minimum value with &#39;o&#39; that I won&#39;t get an error and will be able to continue finding the minimum values?"}], "tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503461, "creation_date": 1425503461, "answer_id": 28865022, "question_id": 28864845, "link": "https://stackoverflow.com/questions/28864845/how-to-get-the-minimum-integer-value-of-a-list/28865022#28865022", "title": "How to get the minimum integer value of a list", "body": "<p>This example loops through your <code>weight</code> list and extracts the minimum value. It puts this value into the <code>min_weights</code> list. The value that was found is then changed to <code>o</code>. </p>\n\n<p>NOTE: If there are duplicate minimums, utilizing the <code>.index()</code> replaces the first minimum to <code>o</code>. The next time through the loop, the duplicate will be found, added to the other list and then changed to <code>o</code></p>\n\n<pre><code>weight = [4,2,4,1,3,5,6,2,3]\n\nmin_weights = []\nfor x in range(len(weight)):\n    min_weights.append(min(weight))\n    weight[weight.index(min(weight))] = 'o'\n\nprint min_weights\nprint weight\n</code></pre>\n\n<p>This outputs the following:</p>\n\n<pre><code>[1, 2, 2, 3, 3, 4, 4, 5, 6]   # This is your minimum weights\n['o', 'o', 'o', 'o', 'o', 'o', 'o', 'o', 'o']   # This is your weight list after the loop is complete\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4493007, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e504995d9b9371a454442d0855b4d27?s=128&d=identicon&r=PG&f=1", "display_name": "Crunch", "link": "https://stackoverflow.com/users/4493007/crunch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 28864898, "answer_count": 2, "score": -2, "last_activity_date": 1425503461, "creation_date": 1425502884, "last_edit_date": 1425503335, "question_id": 28864845, "link": "https://stackoverflow.com/questions/28864845/how-to-get-the-minimum-integer-value-of-a-list", "title": "How to get the minimum integer value of a list", "body": "<p>I have a variable named <code>weight</code>that is a list full of int values. After each round of a loop I would like to either hide the current minimum value or replace it with a 'o' so that I may find the value that is the next least value.  <code>weight = [4,2,4,1,3,5,6,2,3]</code> for example would turn into <code>[4, 2, 4, 'o', 3, 5, 6, 2, 3]</code>.. The <strong>problem</strong> that I'm having is that when the loop makes it's second run it is producing an error because the addition of 'o'. </p>\n\n<pre><code>def greedyMinWt():\n    weight = [4,2,4,1,3,5,6,2,3]\n    value = [7,9,9,8,5,8,3,5,2]\n    itemPick = [4,2,4,1,3,5,6,2,3]\n    val = 0\n    weightCount = 0\n    itemCounter = 0\n    valueCount = 0\n    totalWeight = 0\n    totalValue = 0\n    weightInput = -1\n    pickedItems = []\n    n=0\n    capacity = 17\n\n    print('Itm|' + ' Wt|' + ' Val' )\n    for num in range(0,len(weight)):\n        print('(' + str(num+1) + ')' + '\\t ' + str(weight[num]) + '\\t ' + str(value[num]))\n    print('\\nSolve by greedy min wt:')\n    while totalWeight &lt; capacity:\n         minWt = min(weight)\n         val = value[weight.index(min(weight))]\n         totalWeight += minWt\n         totalValue += val\n         slackWt = capacity - totalWeight\n         'Need to fix this so it will print out the correct pick'\n\n         if totalWeight &gt; capacity:\n            totalWeight-= min(weight)\n            totalValue -=val\n            print('\\n__Greedy min weight __ \\nItems Picked: '+ ' #' + ' #'.join(pickedItems))\n            print('Feasible' + '\\t' + 'WeightCount:' + str(totalWeight) + '\\tValueCount:' + str(totalValue) + '\\n' + 'The capacity is:' + str(capacity))\n            return None\n         print('pick =' + str(weight.index(minWt)+1) + ' accumWt=' + str(totalWeight) + ' slackWt=' + str(slackWt) + ' accumVal=' + str(totalValue))\n         weight[weight.index(min(weight))] = 'o'\n         print(weight)\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1425503149, "post_id": 28864839, "comment_id": 45994881, "body": "&lt;s&gt;I don&#39;t think so.  Considering that dictionary keys are not guaranteed to be in any order in the first place, I don&#39;t think you can make any guarantee as to what other the interpreter builds a dict literal.  It&#39;s an interesting question though.&lt;/s&gt; Nope, apparently from some of the answers below the Python docs do make a prescription on this, though that&#39;s good."}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1425503275, "post_id": 28864839, "comment_id": 45994960, "body": "I&#39;m not sure it will always work for you. Maybe if you initialize it inline like in your example it works. I&#39;m pretty sure that if you create a new dict and assign the values in the same order, it won&#39;t  be kept"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2058002"}, "edited": false, "score": 0, "creation_date": 1425503323, "post_id": 28864935, "comment_id": 45994992, "body": "That&#39;s fine. My question is whether the <b>pairs</b> are evaluated in order."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1425503388, "post_id": 28864935, "comment_id": 45995029, "body": "Here, have an upvote so you can leave a comment next time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2058002"}, "edited": false, "score": 0, "creation_date": 1425503568, "post_id": 28864935, "comment_id": 45995139, "body": "And another from me."}, {"owner": {"reputation": 425, "user_id": 3502360, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4426752befe8a0ceaf4f0d41a4cdc7d8?s=128&d=identicon&r=PG&f=1", "display_name": "angela", "link": "https://stackoverflow.com/users/3502360/angela"}, "edited": false, "score": 2, "creation_date": 1425503783, "post_id": 28864935, "comment_id": 45995260, "body": "Commenting level unlocked - I see bright days ahead. Thank you! :)"}], "tags": [], "owner": {"reputation": 425, "user_id": 3502360, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4426752befe8a0ceaf4f0d41a4cdc7d8?s=128&d=identicon&r=PG&f=1", "display_name": "angela", "link": "https://stackoverflow.com/users/3502360/angela"}, "is_accepted": false, "score": 6, "last_activity_date": 1425503190, "last_edit_date": 1495542232, "creation_date": 1425503190, "answer_id": 28864935, "question_id": 28864839, "link": "https://stackoverflow.com/questions/28864839/are-python-dictionaries-literals-evaluated-in-order/28864935#28864935", "title": "Are Python dictionaries literals evaluated in order?", "body": "<p>The answer to your question can be found <a href=\"https://stackoverflow.com/questions/28156687/will-a-python-dict-literal-be-evaluated-in-the-order-it-is-written\">here</a> (I do not have enough reputation to add this as a comment).</p>\n\n<p>In sum, \"Dictionary evaluation order should be the same as written, but there is a outstanding bug where values are evaluated before the keys.'</p>\n"}, {"comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1425503248, "post_id": 28864939, "comment_id": 45994942, "body": "That still has nothing to do with the order in which the dictionary literal is evaluated by the interpreter."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1425503480, "post_id": 28864939, "comment_id": 45995085, "body": "Yes it does: the point of the bar() function is that it returns the incrementing counter, which shows the order it was called. Here we see that 1 was called first, then 3, then 2, so the literal was evaluated left to right."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1425503512, "post_id": 28864939, "comment_id": 45995107, "body": "I see now, thanks for the clarification."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503194, "creation_date": 1425503194, "answer_id": 28864939, "question_id": 28864839, "link": "https://stackoverflow.com/questions/28864839/are-python-dictionaries-literals-evaluated-in-order/28864939#28864939", "title": "Are Python dictionaries literals evaluated in order?", "body": "<p>Interesting question. A better test would be to use integers, as these hash to their own values, and to use them out of order in the literal, so that you can see which order they were evaluated in. When you do that, you see:</p>\n\n<pre><code>&gt;&gt;&gt; print {1: bar(), 3: bar(), 2: bar()}\n{1: 1, 2: 3, 3: 2}\n</code></pre>\n\n<p>which implies that they are evaluated in order from left to right, even though they are not stored in the dictionary in that order.</p>\n"}, {"tags": [], "owner": {"reputation": 31116, "user_id": 2670792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jjhe7.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/2670792/christian"}, "is_accepted": true, "score": 5, "last_activity_date": 1425503236, "creation_date": 1425503236, "answer_id": 28864949, "question_id": 28864839, "link": "https://stackoverflow.com/questions/28864839/are-python-dictionaries-literals-evaluated-in-order/28864949#28864949", "title": "Are Python dictionaries literals evaluated in order?", "body": "<p>From <a href=\"https://docs.python.org/2/reference/expressions.html#dictionary-displays\">Python Docs</a> (emphasize mine):</p>\n\n<blockquote>\n  <p>If a comma-separated sequence of key/datum pairs is given, <strong>they are evaluated from left to right to define the entries of the dictionary</strong>: each key object is used as a key into the dictionary to store the corresponding datum....</p>\n</blockquote>\n\n<p>So, pairs will always be <strong>evaluated</strong> in order. But don't get confused with the order of the elements.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2058002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 2, "closed_date": 1425533103, "accepted_answer_id": 28864949, "answer_count": 3, "score": 3, "last_activity_date": 1458764349, "creation_date": 1425502849, "last_edit_date": 1458764349, "question_id": 28864839, "link": "https://stackoverflow.com/questions/28864839/are-python-dictionaries-literals-evaluated-in-order", "closed_reason": "Duplicate", "title": "Are Python dictionaries literals evaluated in order?", "body": "<p>When I run this</p>\n\n<pre><code>import itertools\n\nbar = itertools.count(1).next\n\nprint {'a': bar(), 'b': bar(), 'c': bar()}\n</code></pre>\n\n<p>on CPython, I get <code>{'a': 0, 'b': 1, 'c': 2}</code>. Is this consistent across implementations and/or documented anywhere? Will <code>a</code>, <code>b</code> and <code>c</code> ever be assigned values out of order?</p>\n"}, {"tags": ["python", "audio", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "edited": false, "score": 0, "creation_date": 1425571202, "post_id": 28867575, "comment_id": 46025643, "body": "Well, now that I know this library exists.....perfect! This is exactly what I wanted."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "edited": false, "score": 0, "creation_date": 1425579258, "post_id": 28867575, "comment_id": 46030809, "body": "@ThomasLamanna Please mark as answer if this was helpful to you."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1425513942, "creation_date": 1425513942, "answer_id": 28867575, "question_id": 28864827, "link": "https://stackoverflow.com/questions/28864827/play-music-with-pygame-without-display/28867575#28867575", "title": "Play music with PyGame without display", "body": "<p>Download this library like so:</p>\n\n<pre><code>pip install mp3play\n</code></pre>\n\n<p>Then load a file and play it:</p>\n\n<pre><code>import mp3play\n\nsound = mp3play.load('sound.mp3')\nsound.play()\n</code></pre>\n"}], "owner": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 28867575, "answer_count": 1, "score": 0, "last_activity_date": 1509129156, "creation_date": 1425502823, "question_id": 28864827, "link": "https://stackoverflow.com/questions/28864827/play-music-with-pygame-without-display", "title": "Play music with PyGame without display", "body": "<p>I'm trying to get music to play using pygame, but I don't want the GUI to pop up. If I comment out the screen variable it doesn't work, but if I leave it in everything works fine (except there is the display which I don't want).</p>\n\n<pre><code>import pygame\nfrom pygame.locals import *\npygame.init()\n#screen = pygame.display.set_mode((1,1))\npygame.mixer.music.load(\"01 Twisted Coil.mp3\")\nprint(\"Loading Music...\")\npygame.mixer.music.play(-1, 0.0)\nwhile True:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            pygame.quit()\n            sys.exit()\n</code></pre>\n"}, {"tags": ["python", "login", "web-scraping", "python-requests"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1425503645, "post_id": 28864759, "comment_id": 45995187, "body": "At least you are not passing <code>submit</code> and <code>redirect</code> parameters."}], "owner": {"reputation": 11, "user_id": 4634017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebaf044c82c37c507849d2e1308dc11?s=128&d=identicon&r=PG&f=1", "display_name": "Timoth&#233;e Plante", "link": "https://stackoverflow.com/users/4634017/timoth%c3%a9e-plante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1425502576, "creation_date": 1425502576, "question_id": 28864759, "link": "https://stackoverflow.com/questions/28864759/log-into-a-website-using-python-requests", "title": "Log into a website using Python Requests", "body": "<p>I am trying to log into a website with Python3 using Requests library.\n<a href=\"https://pypi.python.org/pypi/requests#downloads\" rel=\"nofollow\">https://pypi.python.org/pypi/requests#downloads</a></p>\n\n<p>The form from the web page is as following: </p>\n\n<pre><code>&lt;form action=\"http://www.usf.fr/connexion.php\" enctype=\"multipart/form-data\" method=\"post\" id=\"header-extranet\"&gt;\n&lt;p&gt;\n    &lt;a href=\"/contact.php\" class=\"link\"&gt;Contact&lt;/a&gt;\n    &lt;input type=\"text\" name=\"login\" value=\"Identifiant\" class=\"clearfield text\" /&gt;\n    &lt;input type=\"password\" name=\"password\" class=\"password text\" /&gt;\n    &lt;input type=\"text\" value=\"Mot de passe\" class=\"password-clear text\" /&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"Se connecter\" class=\"img-txt submit\" /&gt;\n    &lt;input type=\"hidden\" name=\"redirect\" value=\"828e0013b8f3bc1bb22b4f57172b019d\" /&gt;\n    &lt;br /&gt;\n    &lt;a href=\"/mot-de-passe-perdu.php\" class=\"forget\"&gt;Mot de passe oubli&amp;eacute;&lt;/a&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I am doing as following in Python to log into the website and then go to a specific page.</p>\n\n<pre><code>with requests.Session() as c:\n    url = \"http://www.usf.fr/connexion.php\"\n    USERNAME = 'MYUSERNAME'\n    PASSWORD = 'MYPASSWORD'\n    c.get(url)\n    login_data = dict(login=USERNAME, password=PASSWORD, next='/')\n    c.post(url, data=login_data, headers={\"Referer\": \"http://www.usf.fr/connexion.php\"})\n    page = c.get('http://www.usf.fr/detail-membre.php?userId=0600')\n    s = page.content\n</code></pre>\n\n<p>I am then writing the html of the page in a file.txt, but as a result I am not connected and can't get the information I am looking for.</p>\n\n<p>When I manually log in and look in Chrome's DevTools -> Network -> connexion.php (method POST) -> Headers -> Form Data, I can see :</p>\n\n<pre><code>login: \"MYUSERNAME\"\npassword: \"MYPASSWORD\"\nsubmit: Se connecter\nredirect:\n</code></pre>\n\n<p>What am I doing wrong ? \nIt seems to work with the few examples I have seen, and I can't understand how my case is different.</p>\n\n<p>I thank you for your answer and your help</p>\n\n<p>Tim</p>\n"}, {"tags": ["python", "postgresql", "unicode", "encoding", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 1013, "user_id": 2108744, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/42cd81bb409843729e3fbffffdd662be?s=128&d=identicon&r=PG", "display_name": "ev0lution37", "link": "https://stackoverflow.com/users/2108744/ev0lution37"}, "edited": false, "score": 0, "creation_date": 1425502716, "post_id": 28864659, "comment_id": 45994616, "body": "Ah, perfect. I knew it had to be something simple. Thanks you."}], "tags": [], "owner": {"reputation": 563, "user_id": 3676968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8n1A5.png?s=128&g=1", "display_name": "Michel", "link": "https://stackoverflow.com/users/3676968/michel"}, "is_accepted": true, "score": 1, "last_activity_date": 1425502247, "creation_date": 1425502247, "answer_id": 28864659, "question_id": 28864588, "link": "https://stackoverflow.com/questions/28864588/unicodeencodeerror-python-django-and-postgres/28864659#28864659", "title": "UnicodeEncodeError - Python/Django and Postgres", "body": "<p>Use <code>unicode(row[1], 'utf-8')</code>. This constructs a unicode string by decoding the string in <code>row[1]</code> using the <code>utf-8</code> codec :)</p>\n"}], "owner": {"reputation": 1013, "user_id": 2108744, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/42cd81bb409843729e3fbffffdd662be?s=128&d=identicon&r=PG", "display_name": "ev0lution37", "link": "https://stackoverflow.com/users/2108744/ev0lution37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "accepted_answer_id": 28864659, "answer_count": 1, "score": 1, "last_activity_date": 1425502247, "creation_date": 1425502032, "question_id": 28864588, "link": "https://stackoverflow.com/questions/28864588/unicodeencodeerror-python-django-and-postgres", "title": "UnicodeEncodeError - Python/Django and Postgres", "body": "<p>Simple problem, having trouble working out a solution.</p>\n\n<p>I'm trying to retrieve a multibyte characters from a Postgres database encoded as UTF-8 and then return them, but I'm having encoding issues.</p>\n\n<p>Here's my DB:</p>\n\n<pre><code>   Name    |  Owner   | Encoding |   Collate   |    Ctype    |     Access privileges\n-----------+----------+----------+-------------+-------------+---------------------------\n articles  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |\n</code></pre>\n\n<p>And the data within the table:</p>\n\n<pre><code>                         docid                         |     unigram\n-------------------------------------------------------+-----------------\n en_2014-02-09_5eb67dc1927248d7926cdaf72559b57a7f9c017 | Haluk B\u00fcr\u00fcmek\u00e7i\n</code></pre>\n\n<p>The 'unigram' has some multibyte characters. Here's my simplified Python:</p>\n\n<pre><code>def test():\n    con = psycopg2.connect(params)\n    cur = con.cursor()\n\n    cur.execute(\"SELECT docid, unigram FROM test\")\n\n    row = cur.fetchone()\n\n    try:\n        print unicode(row[1])\n    except Exception, E:\n        traceback.print_exc()\n</code></pre>\n\n<p>This is resulting in:</p>\n\n<pre><code>UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 7: ordinal not in range(128)\n</code></pre>\n\n<p>I've tried a lot of different things I've seen, including:</p>\n\n<pre><code>row[1].decode(sys.getdefaultencoding()).encode('utf-8')\nrow[1].decode('utf-8')\nrow[1].encode('utf-8')\nunicode(row[1])\nstr(row[1])\n</code></pre>\n\n<p>All of these and more iterations of similar tries still result in the UnicodeDecodeError. Does anyone know what exactly I'm doing wrong?</p>\n"}, {"tags": ["python", "time-series", "statsmodels", "predict"], "comments": [{"owner": {"reputation": 6927, "user_id": 535665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/272540e56a9b1b5c01fa5ef3c7a91edd?s=128&d=identicon&r=PG", "display_name": "jseabold", "link": "https://stackoverflow.com/users/535665/jseabold"}, "edited": false, "score": 0, "creation_date": 1425530469, "post_id": 28864473, "comment_id": 46004054, "body": "I can&#39;t think of anything that would cause this in the ARIMA code. Can you post code to replicate? If you want to use irregular time-series with ARIMA, you&#39;ll probably want to use plain numpy arrays."}, {"owner": {"reputation": 417, "user_id": 2857014, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b8a6794fa779a3baf69dd8deef851006?s=128&d=identicon&r=PG&f=1", "display_name": "user2857014", "link": "https://stackoverflow.com/users/2857014/user2857014"}, "reply_to_user": {"reputation": 6927, "user_id": 535665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/272540e56a9b1b5c01fa5ef3c7a91edd?s=128&d=identicon&r=PG", "display_name": "jseabold", "link": "https://stackoverflow.com/users/535665/jseabold"}, "edited": false, "score": 0, "creation_date": 1425577741, "post_id": 28864473, "comment_id": 46029894, "body": "I used numbers instead of datetime objects, and it solved the problem."}], "owner": {"reputation": 417, "user_id": 2857014, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b8a6794fa779a3baf69dd8deef851006?s=128&d=identicon&r=PG&f=1", "display_name": "user2857014", "link": "https://stackoverflow.com/users/2857014/user2857014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534933880, "creation_date": 1425501651, "question_id": 28864473, "link": "https://stackoverflow.com/questions/28864473/time-series-analysis-with-statsmodels-irregular-time-interval", "title": "time series analysis with statsmodels - irregular time interval", "body": "<p>I am analyzing financial data time series with statsmodels, specifically arima. I want to make a prediction, but I am not sure how to deal with the irregular time intervals. I am getting the error ValueError: ordinal must be >= 1. </p>\n\n<p>What should I do to fix this error? </p>\n"}, {"tags": ["python", "python-3.x", "amazon-web-services", "boto"], "answers": [{"comments": [{"owner": {"reputation": 14142, "user_id": 39396, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bb9303c5d001063fb89084ea45f97ec4?s=128&d=identicon&r=PG", "display_name": "Carl G", "link": "https://stackoverflow.com/users/39396/carl-g"}, "edited": false, "score": 0, "creation_date": 1484710607, "post_id": 28864664, "comment_id": 70617220, "body": "I think maybe for Boto 2, this only looks in <code>~&#47;.boto</code> and not in <code>~&#47;.aws&#47;credentials</code>"}], "tags": [], "owner": {"reputation": 37599, "user_id": 653643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c68c82ba38c3f2cb3927e92f98f29ef?s=128&d=identicon&r=PG", "display_name": "garnaat", "link": "https://stackoverflow.com/users/653643/garnaat"}, "is_accepted": true, "score": 3, "last_activity_date": 1425502259, "creation_date": 1425502259, "answer_id": 28864664, "question_id": 28864308, "link": "https://stackoverflow.com/questions/28864308/boto-dynamically-get-aws-access-key-id-and-aws-secret-access-key-in-python-code/28864664#28864664", "title": "Boto: Dynamically get aws_access_key_id and aws_secret_access_key in Python code from config?", "body": "<p>This should work:</p>\n\n<pre><code>import boto\naccess_key = boto.config.get_value('Credentials', 'aws_access_key_id')\nsecret_key = boto.config.get_value('Credentials', 'aws_secret_access_key')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14142, "user_id": 39396, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bb9303c5d001063fb89084ea45f97ec4?s=128&d=identicon&r=PG", "display_name": "Carl G", "link": "https://stackoverflow.com/users/39396/carl-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1484710707, "creation_date": 1484710707, "answer_id": 41710956, "question_id": 28864308, "link": "https://stackoverflow.com/questions/28864308/boto-dynamically-get-aws-access-key-id-and-aws-secret-access-key-in-python-code/41710956#41710956", "title": "Boto: Dynamically get aws_access_key_id and aws_secret_access_key in Python code from config?", "body": "<p>Here's a helper that will look in <code>~/.aws/credentials</code> if <code>boto.config</code> doesn't work.  I didn't look into it in great detail, but it kind of appears that Boto 2 doesn't look in <code>~/.aws/credentials</code>.</p>\n\n<pre><code>def get_aws_credentials():\n    # I think this will look in ~/.boto ([Credentials] section)\n    aws_access_key_id = boto.config.get_value(\"Credentials\", 'aws_access_key_id')\n    aws_secret_access_key = boto.config.get_value(\"Credentials\", 'aws_secret_access_key')\n\n    # I don't think Boto 2 looks in ~/.aws/credentials, so we look\n    if aws_access_key_id is None or aws_secret_access_key is None:\n        with open(os.path.expanduser(\"~/.aws/credentials\")) as f:\n            for line in f:\n                try:\n                    key, val = line.strip().split('=')\n                    if key == 'aws_access_key_id':\n                        aws_access_key_id = val\n                    elif key == 'aws_secret_access_key':\n                        aws_secret_access_key = val\n                except ValueError:\n                    pass\n        return aws_access_key_id, aws_secret_access_key\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22533, "user_id": 83891, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c30d3b3b80a1f32e823cf75ffa8a578b?s=128&d=identicon&r=PG", "display_name": "Mark Simpson", "link": "https://stackoverflow.com/users/83891/mark-simpson"}, "is_accepted": false, "score": 0, "last_activity_date": 1542132251, "last_edit_date": 1542132251, "creation_date": 1542113567, "answer_id": 53281445, "question_id": 28864308, "link": "https://stackoverflow.com/questions/28864308/boto-dynamically-get-aws-access-key-id-and-aws-secret-access-key-in-python-code/53281445#53281445", "title": "Boto: Dynamically get aws_access_key_id and aws_secret_access_key in Python code from config?", "body": "<p>Because the aws credentials &amp; boto files both use the <code>.ini</code> format, you can parse them with <code>ConfigParser</code>. Here's an example of parsing the <code>~/.aws/credentials</code> file (this is python 2, but should be easy enough to port to python 3):</p>\n\n<pre><code>from os.path import expanduser\nimport ConfigParser\n\ndef read_credentials_from_config_section(section_name):\n    # parsing ~/.aws/credentials but it's just as easy to parse ~/.boto\n    aws_credentials_path = os.path.join(expanduser(\"~\"), '.aws', 'credentials')\n    c = ConfigParser.ConfigParser()\n    c.read(aws_credentials_path)\n    return c.get(section_name, 'aws_access_key_id'), c.get(section_name, 'aws_secret_access_key')\n</code></pre>\n\n<p>Use via:</p>\n\n<pre><code>k, s = read_credentials_from_config_section('default')\n</code></pre>\n\n<p>If you want to use the <code>~/.boto</code> file, modify the above code to read the <code>~/.boto</code> file, and adjust for its naming conventions -- the code is very similar.</p>\n\n<p>An alternative way to read the <code>~/.aws/credentials</code> file (assuming you have <code>awscli</code> installed) is to shell out to the aws cli and let it deal with the details. This is a lot slower, though (takes ~1.5s to run on my machine, which is unacceptable for a lot of use cases).</p>\n\n<pre><code>import subprocess\nprint subprocess.check_output(['aws', 'configure', 'get', 'aws_access_key_id', '--profile', aws_profile_name])\nprint subprocess.check_output(['aws', 'configure', 'get', 'aws_secret_access_key', '--profile', aws_profile_name])\n</code></pre>\n"}], "owner": {"reputation": 32834, "user_id": 218183, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c1f0c4c5223ae5c74436b77f96706d5?s=128&d=identicon&r=PG", "display_name": "Mo.", "link": "https://stackoverflow.com/users/218183/mo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2420, "favorite_count": 1, "accepted_answer_id": 28864664, "answer_count": 3, "score": 4, "last_activity_date": 1542132251, "creation_date": 1425501103, "last_edit_date": 1425501630, "question_id": 28864308, "link": "https://stackoverflow.com/questions/28864308/boto-dynamically-get-aws-access-key-id-and-aws-secret-access-key-in-python-code", "title": "Boto: Dynamically get aws_access_key_id and aws_secret_access_key in Python code from config?", "body": "<p>I have my <code>aws_access_key_id</code> and <code>aws_secret_access_key</code> stored in <code>~/.boto</code> and was wondering if there was a way for me to retrieve these values in my python code using Boto as I need to insert them in to my SQL statement to to copy a CSV file from S3.</p>\n"}, {"tags": ["python", "django", "python-3.x", "installation", "pip"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 4633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607af9fe9b97566e3a9d119b35801ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Koos", "link": "https://stackoverflow.com/users/4633931/koos"}, "edited": false, "score": 0, "creation_date": 1425583326, "post_id": 28864463, "comment_id": 46033079, "body": "Thanks so much! The answer below also works probably, but this is cleaner. One addition: I had to add C:\\Python34\\Scripts to the windows path. Don&#39;t know how it worked earlier though... Thanks again!"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": false, "score": 6, "last_activity_date": 1425501591, "creation_date": 1425501591, "answer_id": 28864463, "question_id": 28864307, "link": "https://stackoverflow.com/questions/28864307/pip-install-cant-open-file-pip-or-parent-module-not-loaded/28864463#28864463", "title": "Pip install: can&#39;t open file pip, or Parent module &#39;&#39; not loaded", "body": "<p>The command <code>pip</code> is not a Python module. It is an executable. This should work:</p>\n\n<pre><code>C:\\&gt; pip install Django\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "is_accepted": false, "score": 3, "last_activity_date": 1425506903, "creation_date": 1425506903, "answer_id": 28866001, "question_id": 28864307, "link": "https://stackoverflow.com/questions/28864307/pip-install-cant-open-file-pip-or-parent-module-not-loaded/28866001#28866001", "title": "Pip install: can&#39;t open file pip, or Parent module &#39;&#39; not loaded", "body": "<p>IIRC, pip on Windows installs to C:\\Python34\\Scripts by default. So, if that's isn't on your system path, you'd actually need to do this:</p>\n\n<pre><code>C:\\&gt; \\Python34\\Scripts\\pip install Django\n</code></pre>\n\n<p>Also, read up in virtualenv and virtualenvwrapper. It'll make your life a lot easier - cheers.</p>\n"}, {"comments": [{"owner": {"reputation": 6672, "user_id": 3803253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/728890804/picture?type=large", "display_name": "Unome", "link": "https://stackoverflow.com/users/3803253/unome"}, "edited": false, "score": 2, "creation_date": 1439401373, "post_id": 31971858, "comment_id": 51850940, "body": "Please explain your answer, even if its a simple response."}], "tags": [], "owner": {"reputation": 261, "user_id": 5220440, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/75021e703e7e2fa2f84b5621bc5f81d5?s=128&d=identicon&r=PG", "display_name": "clare", "link": "https://stackoverflow.com/users/5220440/clare"}, "is_accepted": false, "score": 26, "last_activity_date": 1439411879, "last_edit_date": 1439411879, "creation_date": 1439400835, "answer_id": 31971858, "question_id": 28864307, "link": "https://stackoverflow.com/questions/28864307/pip-install-cant-open-file-pip-or-parent-module-not-loaded/31971858#31971858", "title": "Pip install: can&#39;t open file pip, or Parent module &#39;&#39; not loaded", "body": "<p>Assuming you have pip installed and you want to do this through python as opposed to the standalone pip client, you can also do</p>\n\n<pre><code>python -m pip install SomePackage\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 4633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607af9fe9b97566e3a9d119b35801ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Koos", "link": "https://stackoverflow.com/users/4633931/koos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31785, "favorite_count": 3, "answer_count": 3, "score": 11, "last_activity_date": 1493575054, "creation_date": 1425501100, "last_edit_date": 1425584678, "question_id": 28864307, "link": "https://stackoverflow.com/questions/28864307/pip-install-cant-open-file-pip-or-parent-module-not-loaded", "title": "Pip install: can&#39;t open file pip, or Parent module &#39;&#39; not loaded", "body": "<p>Thanks for reading this in the first place.</p>\n\n<p>I'm trying to install Django. So here's what I do in the command line:</p>\n\n<pre><code>C:\\&gt;python34 pip install Django\n</code></pre>\n\n<p>And here's what I get:</p>\n\n<pre><code>C:\\Python34\\python.exe: can't open file 'pip': [Errno 2] No such file or directory\n</code></pre>\n\n<p>If I do the same from the site-packages directory:</p>\n\n<pre><code>C:\\Python34\\Lib\\site-packages&gt;python34 pip install Django\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\runpy.py\", line 170, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"C:\\Python34\\lib\\runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"pip\\__main__.py\", line 2, in &lt;module&gt;\n    from .runner import run\nSystemError: Parent module '' not loaded, cannot perform relative import\n</code></pre>\n\n<p>I used pip before, and it worked fine, but now I don't know how to run it properly... I tried to find an answer first, but I don't understand any of them. Probably because I'm relatively new to all this. Could anyone explain in first-grade-level-language what I need to do to get this right?</p>\n"}, {"tags": ["python", "xml", "parameters", "nested", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 2383021, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b15425c930dfd86dc001310cd3ababf5?s=128&d=identicon&r=PG", "display_name": "user26665", "link": "https://stackoverflow.com/users/2383021/user26665"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505390, "creation_date": 1425505390, "answer_id": 28865592, "question_id": 28864297, "link": "https://stackoverflow.com/questions/28864297/python-requests-module-passing-nested-xml-as-query-parameters/28865592#28865592", "title": "Python requests Module - Passing Nested XML as Query Parameters", "body": "<p>To code nested XML elements OR attributes as parameters in a query string, you can use a forward slash.</p>\n\n<p>Example:</p>\n\n<pre><code>scan_params = {\n    'type': 'T2 FSE 3D MICE'\n    'quality': 'usable',\n    'parameters/te': 3.1,\n    'parameters/voxelRes/x': 1.0\n}\n</code></pre>\n\n<p>where <code>te</code> is an element of <code>parameters</code>, and <code>x</code> is an attribute of <code>voxelRes</code>, which is itself an element of <code>parameters</code>.</p>\n\n<p>I'm not sure what would happen if an element had an attribute AND an element with the same name, or whether that would even be considered well-formed XML.  </p>\n"}], "owner": {"reputation": 315, "user_id": 2383021, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b15425c930dfd86dc001310cd3ababf5?s=128&d=identicon&r=PG", "display_name": "user26665", "link": "https://stackoverflow.com/users/2383021/user26665"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425505390, "creation_date": 1425501061, "question_id": 28864297, "link": "https://stackoverflow.com/questions/28864297/python-requests-module-passing-nested-xml-as-query-parameters", "title": "Python requests Module - Passing Nested XML as Query Parameters", "body": "<p>I'm trying to structure an HTTP PUT request using the Python <code>requests</code> module.  For all of my purposes thus far, I've been able to construct a dictionary with the XML element data that I'd like to send, which I then pass as query parameters.  My code looks like the following:</p>\n\n<pre><code>import requests\n\nscan_params = {\n    'type': 'T2 FSE 3D MICE'\n    'quality': 'usable'\n}\nresp = requests.put(url, params=scan_params)\n</code></pre>\n\n<p>This works fine.  However, when I want to pass nested XML elements, or XML attributes, I'm not sure how to include these as parameters in scan_params.  What I'd like to do is something like:</p>\n\n<pre><code>import requests\n\nscan_params = {\n    'type': 'T2 FSE 3D MICE'\n    'quality': 'usable',\n    'parameters/te': 3.1\n}\nresp = requests.put(url, params=scan_params)\n</code></pre>\n\n<p>Where <code>te</code> is a child of <code>parameters</code>.  Likewise, I'm not sure how to specify attributes in this dictionary.  </p>\n\n<p>I want to avoid using some XML library to construct well-formed XML, since that will be an additional development step. </p>\n\n<p>Any ideas for what I should be doing?  Thanks!</p>\n"}, {"tags": ["python", "authentication", "login"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1425501244, "post_id": 28864287, "comment_id": 45993781, "body": "Your hash value as read from the file likely includes the newline character at the end of the line. You should strip this off before using it using e.g. <code>str.rstrip()</code>."}, {"owner": {"reputation": 1, "user_id": 2809818, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004124586948/picture?type=large", "display_name": "Nicholas John Clunes", "link": "https://stackoverflow.com/users/2809818/nicholas-john-clunes"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1425501615, "post_id": 28864287, "comment_id": 45993998, "body": "But it also won&#39;t verify newly registered users, how do i fix this?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1425501664, "post_id": 28864287, "comment_id": 45994029, "body": "That&#39;s a different question, and nobody is going to wade into that ocean of code to fix it anyway."}], "owner": {"reputation": 1, "user_id": 2809818, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004124586948/picture?type=large", "display_name": "Nicholas John Clunes", "link": "https://stackoverflow.com/users/2809818/nicholas-john-clunes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425501746, "creation_date": 1425501008, "last_edit_date": 1425501746, "question_id": 28864287, "link": "https://stackoverflow.com/questions/28864287/finding-hashs-in-text-files", "title": "Finding Hash&#39;s in text files", "body": "<p>I'm am trying to verify users using a text document but not having much success. Can someone please point me in the right direction? Here is my code. What I want to do is have have python look on the line which contains the hash and then verify the hash. It is able to verify the first hash but nothing after that. Does anyone know how to fix this?</p>\n\n<pre><code>def passwordVerify():\n    global hashOne\n    f = open(\"maindata.txt\")\n    s = mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ)\n    numberOne = userConfirm + 2\n    numberTwo = userConfirm + 1\n    for line in islice(f, numberTwo, numberOne):\n        hashOne = line\n    hashStripped = str.rstrip(hashOne)\n    hashchecker = sha256_crypt.verify(passWord, hashStripped)\n    f.close()\n    if hashchecker is True:\n        loggedIn()\n\n    else:\n        print \"Please try again!\"\n        time.sleep(2.5)\n        userLogin()\n\n\ndef userRegister():\n    screenClear()\n    print \"!King of Hearts Registration System!\"\n    realName = raw_input(\"What is your real name: \")\n    userName = raw_input(\"Choose a Username: \")\n    passWord = getpass.getpass(\"Please enter a password: \")\n    passHash = sha256_crypt.encrypt(passWord)\n    writeUser = \"\\n\" + userName + \"\\n\"\n    writePass = passHash\n    userDB = open(\"maindata.txt\", \"a\")\n    userDB.write(str(writeUser))\n    userDB.write(str(writePass))\n    userDB.close()\n    print passHash\n    userLogin()\n</code></pre>\n"}, {"tags": ["python", "ebnf", "peg", "grako"], "answers": [{"comments": [{"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 1, "creation_date": 1426752995, "post_id": 28898621, "comment_id": 46503358, "body": "Thanks for idea of using semantic actions. And how do I implement combinations <code>with</code> repetitions?"}, {"owner": {"reputation": 8099, "user_id": 545637, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51dcf0a6e20c2734423118e7eee9e45d?s=128&d=identicon&r=PG", "display_name": "Apalala", "link": "https://stackoverflow.com/users/545637/apalala"}, "reply_to_user": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1426768065, "post_id": 28898621, "comment_id": 46511828, "body": "You can use <code>{a | b | c}+</code> (will you upvote/accept the answer?)."}], "tags": [], "owner": {"reputation": 8099, "user_id": 545637, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51dcf0a6e20c2734423118e7eee9e45d?s=128&d=identicon&r=PG", "display_name": "Apalala", "link": "https://stackoverflow.com/users/545637/apalala"}, "is_accepted": false, "score": 2, "last_activity_date": 1425644178, "creation_date": 1425644178, "answer_id": 28898621, "question_id": 28864172, "link": "https://stackoverflow.com/questions/28864172/how-to-implement-combination-of-rules-without-repeatings-in-ebnf-grammar/28898621#28898621", "title": "How to implement combination of rules without repeatings in ebnf grammar?", "body": "<p>One way is to spell out the combinations in the rule.</p>\n\n<p>Another way is to use a semantic action that checks for repetitions and raises <code>grako.exceptions.FailedSemantics</code> if it finds them. The parser's behaviour will be just as if the input hadn\u2019t parsed.</p>\n"}], "owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425644178, "creation_date": 1425500622, "question_id": 28864172, "link": "https://stackoverflow.com/questions/28864172/how-to-implement-combination-of-rules-without-repeatings-in-ebnf-grammar", "title": "How to implement combination of rules without repeatings in ebnf grammar?", "body": "<p>I am using <a href=\"http://pythonhosted.org//grako/\" rel=\"nofollow\">Grako EBNF/PEG parser</a>.</p>\n\n<p>I know that EBNF syntax allows to grab expressions that satisfy one of given options:</p>\n\n<pre><code>(a | b | c)\n</code></pre>\n\n<p>Is there a similar part of syntax or a workaround that allows to grab expessions that are any combinations of <code>a</code>, <code>b</code> and <code>c</code> without repetitions so that valid expressions would be like:</p>\n\n<pre><code>a b c\nb a c\na b\nb c\nb\nnone\n</code></pre>\n\n<p>but not like:</p>\n\n<pre><code>b b c\na a\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["python", "django", "testing", "python-unittest"], "comments": [{"owner": {"reputation": 374, "user_id": 1538091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Vepz4.jpg?s=128&g=1", "display_name": "Noel Pure", "link": "https://stackoverflow.com/users/1538091/noel-pure"}, "edited": false, "score": 0, "creation_date": 1497949599, "post_id": 28864152, "comment_id": 76282243, "body": "Im experiencing the same problem. How did you solve this?"}, {"owner": {"reputation": 374, "user_id": 1538091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Vepz4.jpg?s=128&g=1", "display_name": "Noel Pure", "link": "https://stackoverflow.com/users/1538091/noel-pure"}, "edited": false, "score": 1, "creation_date": 1498026093, "post_id": 28864152, "comment_id": 76321214, "body": "My problem was due to the localhost alias <code>local.dev</code>. Its doing DNS queries to check TLD <code>.dev</code>. I removed the dot and problem solved."}, {"owner": {"reputation": 10451, "user_id": 145349, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ae23b47de29112b26cccb1a1e51ad3e4?s=128&d=identicon&r=PG", "display_name": "fjsj", "link": "https://stackoverflow.com/users/145349/fjsj"}, "edited": false, "score": 0, "creation_date": 1510005399, "post_id": 28864152, "comment_id": 81243303, "body": "Thanks noel! My problem was similar, but was on local server. I need a custom domain on localhost. Editing hosts file isn&#39;t enough. Had to change DNS settings to use localhost as the top DNS."}], "answers": [{"comments": [{"owner": {"reputation": 3103, "user_id": 60247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/573b0abaa71b7cf74c4f3cc482b67dcd?s=128&d=identicon&r=PG", "display_name": "Shane H", "link": "https://stackoverflow.com/users/60247/shane-h"}, "edited": false, "score": 0, "creation_date": 1425525223, "post_id": 28864271, "comment_id": 46002811, "body": "Does this mean anything to you? It runs like that seemingly for each test: <a href=\"https://gist.github.com/shaneharter/4283d7a7aa5768d812eb\" rel=\"nofollow noreferrer\">gist.github.com/shaneharter/4283d7a7aa5768d812eb</a>"}, {"owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "reply_to_user": {"reputation": 3103, "user_id": 60247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/573b0abaa71b7cf74c4f3cc482b67dcd?s=128&d=identicon&r=PG", "display_name": "Shane H", "link": "https://stackoverflow.com/users/60247/shane-h"}, "edited": false, "score": 0, "creation_date": 1425576071, "post_id": 28864271, "comment_id": 46028791, "body": "Looks like you&#39;re either sending content to, or getting content from, a content delivery network. I don&#39;t know off the top of my head what would be doing that, but possibly something to do with static file handling? Unfortunately it&#39;s HTTPS, so digging further would be difficult unless you&#39;ve got something like Charles Proxy installed."}], "tags": [], "owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "is_accepted": true, "score": 2, "last_activity_date": 1425500943, "creation_date": 1425500943, "answer_id": 28864271, "question_id": 28864152, "link": "https://stackoverflow.com/questions/28864152/django-tests-run-faster-with-no-internet-connection/28864271#28864271", "title": "Django Tests run faster with no internet connection", "body": "<p>This most likely means you've got some component installed which is trying to make network connections. Possibly something that does monitoring or statistics gathering?</p>\n\n<p>The simplest way to figure out what's going on is to use tcpdump to capture your network traffic and see what's going on. To do that:</p>\n\n<ol>\n<li>Run <code>tcpdump -i any</code> (or <code>tcpdump -i en1</code> if you're on a mac; the airport is usually <code>en1</code>, but you can double check with <code>ifconfig</code>)</li>\n<li>Watch the traffic to get some idea what's normal</li>\n<li>Run your test suite</li>\n<li>Watch the traffic printed by <code>tcpdump</code> to see if anything obviously jumps out at you</li>\n</ol>\n"}], "owner": {"reputation": 3103, "user_id": 60247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/573b0abaa71b7cf74c4f3cc482b67dcd?s=128&d=identicon&r=PG", "display_name": "Shane H", "link": "https://stackoverflow.com/users/60247/shane-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 1, "accepted_answer_id": 28864271, "answer_count": 1, "score": 2, "last_activity_date": 1425500943, "creation_date": 1425500569, "question_id": 28864152, "link": "https://stackoverflow.com/questions/28864152/django-tests-run-faster-with-no-internet-connection", "title": "Django Tests run faster with no internet connection", "body": "<p>I have a django test suite that builds a DB from a 400 line fixture file. It runs unfortunately slow. Several seconds per test. </p>\n\n<p>I was on the train yesterday developing without internet access, with my wifi turned off, and I noticed my tests ran literally 10x faster without internet. And they are definitely running correctly. </p>\n\n<p>Everything is local, it all runs fine without an internet connection. The tests themselves do not hit any APIs or make any other connections, so it seems it must be something else. </p>\n"}, {"tags": ["python", "sorting", "python-3.x", "file-io", "leading-zero"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 3, "creation_date": 1425500780, "post_id": 28864120, "comment_id": 45993489, "body": "This is called a &quot;natural sort&quot; and of course it&#39;s been asked before. Here&#39;s one: <a href=\"http://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort\" title=\"does python have a built in function for string natural sort\">stackoverflow.com/questions/4836710/&hellip;</a>"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1425500973, "post_id": 28864120, "comment_id": 45993611, "body": "And here&#39;s the one I was remembering: <a href=\"http://stackoverflow.com/questions/12184015/in-python-how-can-i-naturally-sort-a-list-of-alphanumeric-strings-such-that-alp\" title=\"in python how can i naturally sort a list of alphanumeric strings such that alp\">stackoverflow.com/questions/12184015/&hellip;</a>"}, {"owner": {"reputation": 523, "user_id": 1277802, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/db34eaa64b18d4332b9a8db32779b5d9?s=128&d=identicon&r=PG", "display_name": "badrobit", "link": "https://stackoverflow.com/users/1277802/badrobit"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1425501479, "post_id": 28864120, "comment_id": 45993908, "body": "That worked if you could post it as an answer I could mark this as solved :)"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1425501555, "post_id": 28864120, "comment_id": 45993957, "body": "The usual way is to get it closed as a duplicate. I&#39;ll give it my vote right now, it will probably be closed right away."}, {"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1425502070, "post_id": 28864120, "comment_id": 45994253, "body": "I was in the middle of adding this answer, and the question got marked as duplicate.  I think this is simpler:  <code>sorted(filenames, key=lambda x: int(x.split(&#39;_&#39;)[1]))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 625, "user_id": 4629688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7sKBmOdY9lE/AAAAAAAAAAI/AAAAAAAAGJA/3sKnUSX_29M/photo.jpg?sz=128", "display_name": "Beth Crane", "link": "https://stackoverflow.com/users/4629688/beth-crane"}, "is_accepted": false, "score": 0, "last_activity_date": 1425501020, "last_edit_date": 1495540712, "creation_date": 1425501020, "answer_id": 28864291, "question_id": 28864120, "link": "https://stackoverflow.com/questions/28864120/python-sorting-numbered-files-missing-leading-zeros/28864291#28864291", "title": "Python sorting numbered files missing leading zeros", "body": "<p>So you want to sort them numerically not lexicographically?</p>\n\n<p>Does the filename always start with the same word? \"ImageData_\"?</p>\n\n<p>If so I would just strip out the letters and then sort them as numbers. (E.g. for each of them <code>filename = re.sub(r'[^0-9]*', \"\", filename)</code>).</p>\n\n<p>And then you can sort them as numbers like this <code>list1.sort(key=int)</code> from <a href=\"https://stackoverflow.com/questions/3426108/numeric-sort-in-python\">How to sort a list numerically?</a> </p>\n"}, {"tags": [], "owner": {"reputation": 523, "user_id": 1277802, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/db34eaa64b18d4332b9a8db32779b5d9?s=128&d=identicon&r=PG", "display_name": "badrobit", "link": "https://stackoverflow.com/users/1277802/badrobit"}, "is_accepted": false, "score": 1, "last_activity_date": 1425501205, "last_edit_date": 1495540278, "creation_date": 1425501205, "answer_id": 28864337, "question_id": 28864120, "link": "https://stackoverflow.com/questions/28864120/python-sorting-numbered-files-missing-leading-zeros/28864337#28864337", "title": "Python sorting numbered files missing leading zeros", "body": "<p>As Mark Ransom posted here is the answer that worked for me: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort\">Does Python have a built in function for string natural sort?</a></p>\n"}], "owner": {"reputation": 523, "user_id": 1277802, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/db34eaa64b18d4332b9a8db32779b5d9?s=128&d=identicon&r=PG", "display_name": "badrobit", "link": "https://stackoverflow.com/users/1277802/badrobit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4010, "favorite_count": 0, "closed_date": 1425501585, "answer_count": 2, "score": 0, "last_activity_date": 1425501205, "creation_date": 1425500445, "question_id": 28864120, "link": "https://stackoverflow.com/questions/28864120/python-sorting-numbered-files-missing-leading-zeros", "closed_reason": "Duplicate", "title": "Python sorting numbered files missing leading zeros", "body": "<p>I am reading in a series of <strong>.csv</strong> files which are in the form of: </p>\n\n<pre><code>ImageData_999.csv\nImageData_1000.csv\n</code></pre>\n\n<p>As you can see the number increase sequentially but they do not have leading zeros and so when they get read in I am currently looking at a list that ends like this: </p>\n\n<pre><code>ImageData_3259\nImageData_3289\nImageData_811\nImageData_907\n</code></pre>\n\n<p>The files do skip around in number so there won't be 3289 files if that is the largest file name but I want to sort them so that they are properly ordered. That is what is below instead of what is above: </p>\n\n<pre><code>ImageData_811\nImageData_907\nImageData_3259\nImageData_3289\n</code></pre>\n\n<p>I am working in python and currently just getting the file names from the <strong>os</strong> module like so: </p>\n\n<pre><code>for root, dirs, files in os.walk(path):\n    for file in fnmatch.filter(files, filter):\n        yield os.path.join(root, file)\n</code></pre>\n\n<p>I have tried a few methods to sort the list that this produces but none of them seem to change the order. </p>\n"}, {"tags": ["python", "google-app-engine", "polymer", "jinja2", "template-engine"], "comments": [{"owner": {"reputation": 8978, "user_id": 1351600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2noZs.jpg?s=128&g=1", "display_name": "Paul Collingwood", "link": "https://stackoverflow.com/users/1351600/paul-collingwood"}, "edited": false, "score": 0, "creation_date": 1425506621, "post_id": 28863994, "comment_id": 45996767, "body": "<a href=\"http://www.polymer-project.org/components/core-docs/index.html#core-ajax\" rel=\"nofollow noreferrer\">polymer-project.org/components/core-docs/index.html#core-aja&zwnj;&#8203;x</a> is one option. Another is to make ajax calls and populate your elements when they return data."}], "answers": [{"tags": [], "owner": {"reputation": 1859, "user_id": 636160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/KR6nl.jpg?s=128&g=1", "display_name": "flyandi", "link": "https://stackoverflow.com/users/636160/flyandi"}, "is_accepted": true, "score": 0, "last_activity_date": 1425507950, "creation_date": 1425507950, "answer_id": 28866303, "question_id": 28863994, "link": "https://stackoverflow.com/questions/28863994/pass-values-from-backend-to-frontend-in-polymer/28866303#28866303", "title": "Pass values from backend to frontend in polymer", "body": "<p>Data binding is pretty simple in Polymer. Use the Polymer Expressions, e.g.</p>\n\n<pre><code>var testString = \"Hello\"\n\n&lt;div id=\"test\" class=\"test\"&gt;{{testString}}&lt;/div&gt;\n\ndocument.getElementById(\"test\").testString = \"Whats up?\";\n</code></pre>\n\n<p>To pass a value from your main page to a component, you can either use the attribution model, e.g.</p>\n\n<pre><code>&lt;my-polymer-component id=\"test\" mydata=\"Hello\" /&gt;\n\n&lt;polymer-element attributes=\"mydata ...\"&gt;\n</code></pre>\n\n<p>or just assign it to the Polymer element itself:</p>\n\n<pre><code>document.getElementById(\"test\").mydata = \"Whats up\";\n</code></pre>\n\n<p>The variables are auto populated into the Polymer element. Reading from it would be the same - as long they are exposed on the element itself or even defined in the actual Polymer object:</p>\n\n<pre><code>Polymer('my-polymer-component', {\n mydata: 'foo',\n\n ready: function() { ... }\n});\n</code></pre>\n"}], "owner": {"reputation": 1112, "user_id": 3388748, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/14a7d4c3edee020fb165362e675590fe?s=128&d=identicon&r=PG&f=1", "display_name": "fwind", "link": "https://stackoverflow.com/users/3388748/fwind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 0, "accepted_answer_id": 28866303, "answer_count": 1, "score": 0, "last_activity_date": 1425507950, "creation_date": 1425500019, "question_id": 28863994, "link": "https://stackoverflow.com/questions/28863994/pass-values-from-backend-to-frontend-in-polymer", "title": "Pass values from backend to frontend in polymer", "body": "<p>I am building a web app using Google App Engine and Polymer.</p>\n\n<p>Before using polymer I used to pass my values to the frontend using jinja2 templating:</p>\n\n<pre><code>def render_str(self, template, **params):\n    t = JINJA_ENV.get_template(template)\n    return t.render(params)\n\ndef render(self, template, **kw):\n    self.write(self.render_str(template, **kw)))\n</code></pre>\n\n<p>-</p>\n\n<pre><code>{% for note in notes %}\n&lt;div class=\"note\"&gt;\n    &lt;div&gt;{{note.title}}&lt;/div&gt;\n    &lt;div&gt;{{note.created}}&lt;/div&gt;\n&lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>This works fine for the main page but all imported polymer files are out of the scope of these passed values.</p>\n\n<p><strong>How can I pass values from my backend to my polymer forms?</strong> Is there a way to get my imported polymer files in the same scope as my main page or is there an alternate template engine I could use?\nI saw that polymer has its own <a href=\"https://www.polymer-project.org/docs/polymer/databinding.html\" rel=\"nofollow\">templating and data binding</a> but I could not find a way to fill these with values from my backend.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 3, "creation_date": 1425499930, "post_id": 28863956, "comment_id": 45993011, "body": "Can you give the error?"}], "answers": [{"tags": [], "owner": {"reputation": 7933, "user_id": 222421, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Zrns4.png?s=128&g=1", "display_name": "jramirez", "link": "https://stackoverflow.com/users/222421/jramirez"}, "is_accepted": true, "score": 3, "last_activity_date": 1425499996, "creation_date": 1425499996, "answer_id": 28863987, "question_id": 28863956, "link": "https://stackoverflow.com/questions/28863956/python-class-defining/28863987#28863987", "title": "Python Class defining", "body": "<p>you probably mean: </p>\n\n<pre><code>return \"Hi {0}, my name is {1}\".format(other_name, self.name)\n</code></pre>\n\n<p>you're missing the <code>self.</code> before the <code>name</code> variable. </p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1425500003, "creation_date": 1425500003, "answer_id": 28863989, "question_id": 28863956, "link": "https://stackoverflow.com/questions/28863956/python-class-defining/28863989#28863989", "title": "Python Class defining", "body": "<p>Attributes on the instance need to be referenced on the <code>self</code> argument:</p>\n\n<pre><code>def greet(self, other_name):\n    return \"Hi {0}, my name is {1}\".format(other_name, self.name)\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 4629594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2de36fda789a00a34cd4272f84159ee3?s=128&d=identicon&r=PG&f=1", "display_name": "JotaB", "link": "https://stackoverflow.com/users/4629594/jotab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 28863987, "answer_count": 2, "score": -1, "last_activity_date": 1425500003, "creation_date": 1425499900, "last_edit_date": 1425499969, "question_id": 28863956, "link": "https://stackoverflow.com/questions/28863956/python-class-defining", "title": "Python Class defining", "body": "<p>What is wrong here:</p>\n\n<pre><code> class Person:\n    def __init__(self, name):\n        self.name = name\n\n    def greet(self, other_name):\n        return \"Hi {0}, my name is {1}\".format(other_name,name)\n</code></pre>\n\n<p>Why isn't it working properly?</p>\n"}, {"tags": ["python", "python-2.7", "scikit-learn", "typeerror", "cross-validation"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4440101, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001205545424/picture?type=large", "display_name": "Rachelle", "link": "https://stackoverflow.com/users/4440101/rachelle"}, "edited": false, "score": 0, "creation_date": 1426194895, "post_id": 28871129, "comment_id": 46284261, "body": "Thank you for your answer! Could you please also answer the following question: <a href=\"http://stackoverflow.com/questions/29020312/scikit-python-error-attributeerror-nonetype-object-has-no-attribute-shape\">link</a>"}], "tags": [], "owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "is_accepted": true, "score": 8, "last_activity_date": 1425535635, "creation_date": 1425535635, "answer_id": 28871129, "question_id": 28863944, "link": "https://stackoverflow.com/questions/28863944/scikit-learn-typeerror-if-no-scoring-is-specified-the-estimator-passed-should/28871129#28871129", "title": "Scikit-learn TypeError: If no scoring is specified, the estimator passed should have a &#39;score&#39; method", "body": "<p>The easiest way to make the error go away is to pass <code>scoring=\"accuracy\"</code> or <code>scoring=\"hamming\"</code> to <code>cross_val_score</code>. The <code>cross_val_score</code> function itself doesn't know what kind of problem you are trying to solve, so it doesn't know what an appropriate metric is. It looks like you are trying to do multi-label classification, so maybe you want to use the hamming loss?</p>\n\n<p>You can also implement a <code>score</code> method as explained in the \"Roll your own estimator\" docs, which has as signature\n<code>def score(self, X, y_true)</code>. See <a href=\"http://scikit-learn.org/stable/developers/#different-objects\" rel=\"noreferrer\">http://scikit-learn.org/stable/developers/#different-objects</a></p>\n\n<p>By the way, you do know about the <code>OneVsRestClassifier</code>, right? It looks a bit like you are reimplementing it.</p>\n"}], "owner": {"reputation": 41, "user_id": 4440101, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001205545424/picture?type=large", "display_name": "Rachelle", "link": "https://stackoverflow.com/users/4440101/rachelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15076, "favorite_count": 0, "accepted_answer_id": 28871129, "answer_count": 1, "score": 2, "last_activity_date": 1425535635, "creation_date": 1425499859, "question_id": 28863944, "link": "https://stackoverflow.com/questions/28863944/scikit-learn-typeerror-if-no-scoring-is-specified-the-estimator-passed-should", "title": "Scikit-learn TypeError: If no scoring is specified, the estimator passed should have a &#39;score&#39; method", "body": "<p>I have created a custom model in python using scikit-learn, and I want to use cross validation. </p>\n\n<p>The class for the model is defined as follows: </p>\n\n<pre><code>class MultiLabelEnsemble:\n''' MultiLabelEnsemble(predictorInstance, balance=False)\n    Like OneVsRestClassifier: Wrapping class to train multiple models when \n    several objectives are given as target values. Its predictor may be an ensemble.\n    This class can be used to create a one-vs-rest classifier from multiple 0/1 labels\n    to treat a multi-label problem or to create a one-vs-rest classifier from\n    a categorical target variable.\n    Arguments:\n        predictorInstance -- A predictor instance is passed as argument (be careful, you must instantiate\n    the predictor class before passing the argument, i.e. end with (), \n    e.g. LogisticRegression().\n        balance -- True/False. If True, attempts to re-balance classes in training data\n        by including a random sample (without replacement) s.t. the largest class has at most 2 times\n    the number of elements of the smallest one.\n    Example Usage: mymodel =  MultiLabelEnsemble (GradientBoostingClassifier(), True)'''\n\ndef __init__(self, predictorInstance, balance=False):\n    self.predictors = [predictorInstance]\n    self.n_label = 1\n    self.n_target = 1\n    self.n_estimators =  1 # for predictors that are ensembles of estimators\n    self.balance=balance\n\ndef __repr__(self):\n    return \"MultiLabelEnsemble\"\n\ndef __str__(self):\n    return \"MultiLabelEnsemble : \\n\" + \"\\tn_label={}\\n\".format(self.n_label) + \"\\tn_target={}\\n\".format(self.n_target) + \"\\tn_estimators={}\\n\".format(self.n_estimators) + str(self.predictors[0])\n\ndef fit(self, Xtrain, Ytrain):\n    if len(Ytrain.shape)==1: \n        Ytrain = np.array([Ytrain]).transpose() # Transform vector into column matrix\n        # This is NOT what we want: Y = Y.reshape( -1, 1 ), because Y.shape[1] out of range\n    self.n_target = Ytrain.shape[1]                # Num target values = num col of Y\n    self.n_label = len(set(Ytrain.ravel()))        # Num labels = num classes (categories of categorical var if n_target=1 or n_target if labels are binary )\n    # Create the right number of copies of the predictor instance\n    if len(self.predictors)!=self.n_target:\n        predictorInstance = self.predictors[0]\n        self.predictors = [predictorInstance]\n        for i in range(1,self.n_target):\n            self.predictors.append(copy.copy(predictorInstance))\n    # Fit all predictors\n    for i in range(self.n_target):\n        # Update the number of desired prodictos\n        if hasattr(self.predictors[i], 'n_estimators'):\n            self.predictors[i].n_estimators=self.n_estimators\n        # Subsample if desired\n        if self.balance:\n            pos = Ytrain[:,i]&gt;0\n            neg = Ytrain[:,i]&lt;=0\n            if sum(pos)&lt;sum(neg): \n                chosen = pos\n                not_chosen = neg\n            else: \n                chosen = neg\n                not_chosen = pos\n            num = sum(chosen)\n            idx=filter(lambda(x): x[1]==True, enumerate(not_chosen))\n            idx=np.array(zip(*idx)[0])\n            np.random.shuffle(idx)\n            chosen[idx[0:min(num, len(idx))]]=True\n            # Train with chosen samples            \n            self.predictors[i].fit(Xtrain[chosen,:],Ytrain[chosen,i])\n        else:\n            self.predictors[i].fit(Xtrain,Ytrain[:,i])\n    return\n\ndef predict_proba(self, Xtrain):\n    if len(Xtrain.shape)==1: # IG modif Feb3 2015\n        X = np.reshape(Xtrain,(-1,1))   \n    prediction = self.predictors[0].predict_proba(Xtrain)\n    if self.n_label==2:                 # Keep only 1 prediction, 1st column = (1 - 2nd column)\n        prediction = prediction[:,1]\n    for i in range(1,self.n_target): # More than 1 target, we assume that labels are binary\n        new_prediction = self.predictors[i].predict_proba(Xtrain)[:,1]\n        prediction = np.column_stack((prediction, new_prediction))\n    return prediction\n</code></pre>\n\n<p>When I call this class for cross validation like this:</p>\n\n<pre><code>kf = cross_validation.KFold(len(Xtrain), n_folds=10)\nscore = cross_val_score(self.model, Xtrain, Ytrain, cv=kf, n_jobs=-1).mean()\n</code></pre>\n\n<p>I get the following error:</p>\n\n<p>TypeError: If no scoring is specified, the estimator passed should have a 'score' method. The estimator MultiLabelEnsemble does not.</p>\n\n<p>How do I create a score method?</p>\n"}, {"tags": ["python", "string", "word-wrap"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 2, "creation_date": 1425500169, "post_id": 28863889, "comment_id": 45993134, "body": "Some similar case, maybe it helps <a href=\"http://stackoverflow.com/questions/12902521/python-textwrap-wrap-causing-issue-with-n\" title=\"python textwrap wrap causing issue with n\">stackoverflow.com/questions/12902521/&hellip;</a>"}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "reply_to_user": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1425500624, "post_id": 28863889, "comment_id": 45993411, "body": "Thanks @u_mulder - turns out, this is not a duplicate; please see edit in the OP"}, {"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 1, "creation_date": 1425502526, "post_id": 28863889, "comment_id": 45994504, "body": "Just a side note, the reason the behaviors are not as you expect are that (according to the docs) <code>pprint - Support to pretty-print lists, tuples, &amp; dictionaries recursively</code> (not strings). And <code>help(textwrap.wrap)</code> gives ` Wrap a single paragraph of text, returning a list of wrapped lines.` So we see it expects a single paragraph in the input string, not several paragraphs."}], "answers": [{"comments": [{"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425500214, "post_id": 28864022, "comment_id": 45993160, "body": "Thanks, @MalikBrahimi - but I don&#39;t see how this wraps at say 80 characters? Did you try this at all?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425500246, "post_id": 28864022, "comment_id": 45993179, "body": "No, I&#39;ll have that working in few minutes, give me a little time."}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425500905, "post_id": 28864022, "comment_id": 45993564, "body": "Many thanks @MalikBrahimi - that works, but the output is exactly the same as in the edit I just made in the OP; that is, if you do <code>pprint.pprint(mylist)</code>, you&#39;ll see that the first item in the array is a multiline string in itself, it&#39;s not one line per element as I wanted it to; any ideas about that?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425501074, "post_id": 28864022, "comment_id": 45993660, "body": "What exactly do you need as I probably don&#39;t understand? Do you want the list now as a string?"}, {"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "reply_to_user": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425501126, "post_id": 28864022, "comment_id": 45993694, "body": "@sdaau - <code>pprint.pprint(mystr)</code> (without wrapping) shows &#39;<code>\\nFirst line.\\nSecond line.\\nThe third ...&#39;</code>. I think you&#39;re falling victim to an expected behavior of <code>pprint</code>."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425501248, "post_id": 28864022, "comment_id": 45993785, "body": "@sdaau Forget about pretty print. Print the list as is, and you&#39;ll see the answer."}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425501326, "post_id": 28864022, "comment_id": 45993822, "body": "Thanks @MalikBrahimi, @mtrw- I want to get the output that I wrote in the OP under &quot;that is, in this case, the expected output would be... &quot; - each line, regardless if it was originally a line or split afterwards, should be a its own item in the array; there should <i>not</i> be an item in the array containing multiple lines, even if they are delimited by <code>\\n</code> - in that case, there should be <i>separate</i> array entries for each of those lines."}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1425501759, "post_id": 28864022, "comment_id": 45994091, "body": "@MalikBrahimi - managed to do what I want; posted an answer below, but it&#39;s not as elegant as I&#39;d want it to ... cheers!"}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 1, "creation_date": 1425503719, "post_id": 28864022, "comment_id": 45995225, "body": "@MalikBrahimi - if you insist on an accept, you should at least be bothered to a) post a fully compilable example, b) post the output - at least if the original poster did so. I edited your answer, and in that form I can accept it (even if I had to answer my question first, in order to edit your question, so I can accept it). Cheers!"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 4, "last_activity_date": 1425503642, "last_edit_date": 1425503642, "creation_date": 1425500109, "answer_id": 28864022, "question_id": 28863889, "link": "https://stackoverflow.com/questions/28863889/wrap-multiline-string-preserving-existing-linebreaks-in-python/28864022#28864022", "title": "Wrap multiline string (preserving existing linebreaks) in Python?", "body": "<p>Just add the newlines back after splitting:</p>\n\n<pre><code>import textwrap\nimport pprint\nimport itertools\n\nmystr=r\"\"\"\nFirst line.\nSecond line.\nThe third line is a very long line, which I would like to somehow wrap; wrap at 80 characters - or less, or more! ... can it really be done ??\"\"\"\n\nwrapper = textwrap.TextWrapper(width = 80)\nmylist = [wrapper.wrap(i) for i in mystr.split('\\n') if i != '']\nmylist = list(itertools.chain.from_iterable(mylist))\n\npprint.pprint(mylist)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['First line.',\n 'Second line.',\n 'The third line is a very long line, which I would like to somehow wrap; wrap at',\n '80 characters - or less, or more! ... can it really be done ??']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 1, "creation_date": 1425502397, "post_id": 28864481, "comment_id": 45994429, "body": "Your solution is quite nice. You can simplify the code a bit by removing the <code>ifs</code>. Just: <code>for ix in mystr.splitlines(): aa += textwrap.wrap(ix,80)</code> gives the same result."}], "tags": [], "owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "is_accepted": false, "score": 2, "last_activity_date": 1425501693, "creation_date": 1425501693, "answer_id": 28864481, "question_id": 28863889, "link": "https://stackoverflow.com/questions/28863889/wrap-multiline-string-preserving-existing-linebreaks-in-python/28864481#28864481", "title": "Wrap multiline string (preserving existing linebreaks) in Python?", "body": "<p>Ok, I think I found how to do what I want, but its kind of unelegant:</p>\n\n<pre><code>import textwrap\nimport pprint\n\nmystr=r\"\"\"\nFirst line.\nSecond line.\nThe third line is a very long line, which I would like to somehow wrap; wrap at 80 characters - or less, or more! ... can it really be done ??\"\"\"\n\n#pprint.pprint(textwrap.wrap(mystr,80,replace_whitespace=False))\n\naa=[]\nfor ix in mystr.splitlines():\n  if ix:\n    if len(ix)&lt;=80: aa.append(ix)\n    else: aa.extend(textwrap.wrap(ix,80))\n\npprint.pprint(aa)\n</code></pre>\n\n<p>This results with:</p>\n\n<pre><code>['First line.',\n 'Second line.',\n 'The third line is a very long line, which I would like to somehow wrap; wrap at',\n '80 characters - or less, or more! ... can it really be done ??']\n</code></pre>\n\n<p>So:</p>\n\n<ul>\n<li>1st elem: 'First line.' which was originally defined</li>\n<li>2nd elem: 'Second line.' which was also originally defined</li>\n<li>3rd elem: original third line was too long, so it is wrapped at 80 characters, first part of it is the 3rd element in the array</li>\n<li>4th elem: contains the second part of the wrap of the original third line</li>\n</ul>\n\n<p>That is what I wanted to achieve; note that this is a very different situation than when the first element in the array contains multiple lines, as in <code>['\\nFirst line.\\nSecond line.\\nThe third line ...</code>.</p>\n"}], "owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1991, "favorite_count": 0, "accepted_answer_id": 28864022, "answer_count": 2, "score": 4, "last_activity_date": 1425503642, "creation_date": 1425499690, "last_edit_date": 1425500587, "question_id": 28863889, "link": "https://stackoverflow.com/questions/28863889/wrap-multiline-string-preserving-existing-linebreaks-in-python", "title": "Wrap multiline string (preserving existing linebreaks) in Python?", "body": "<p>Consider this example:</p>\n\n<pre><code>import textwrap\nimport pprint\n\nmystr=r\"\"\"\nFirst line.\nSecond line.\nThe third line is a very long line, which I would like to somehow wrap; wrap at 80 characters - or less, or more! ... can it really be done ??\"\"\"\n\npprint.pprint(textwrap.wrap(mystr,80))\n</code></pre>\n\n<p>The string <code>mystr</code> is already a multiline string, given that it contains linebreaks; however, if I run this script, I get as output:</p>\n\n<pre><code>[' First line. Second line. The third line is a very long line, which I would like',\n 'to somehow wrap; wrap at 80 characters - or less, or more! ... can it really be',\n 'done ??']\n</code></pre>\n\n<p>... which means that <code>textwrap.wrap</code> first \"joined\" the multiline string (that is, removed the existing linebreaks in it), and only then wrapped it (i.e. split it at the given number of characters). </p>\n\n<p>How can I wrap a multiline string, such that the line feeds are preserved? that is, in this case, the expected output would be:</p>\n\n<pre><code>['First line.', \n 'Second line.', \n 'The third line is a very long line, which I would like to somehow wrap; wrap at',\n '80 characters - or less, or more! ... can it really be done ??']\n</code></pre>\n\n<hr>\n\n<p>EDIT; thanks to comment by @u_mulder, I tried:</p>\n\n<pre><code>textwrap.wrap(mystr,80,replace_whitespace=False)\n</code></pre>\n\n<p>and with that I get:</p>\n\n<pre><code>['\\nFirst line.\\nSecond line.\\nThe third line is a very long line, which I would like',\n 'to somehow wrap; wrap at 80 characters - or less, or more! ... can it really be',\n 'done ??']\n</code></pre>\n\n<p>The line breaks seem to be preserved, but as \"inline\" characters; so here the first element is a multiline string in itself -- and so it is not as I require it, with every line as an array element.</p>\n"}, {"tags": ["python", "dynamic", "interpreter"], "comments": [{"owner": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 1, "creation_date": 1425499917, "post_id": 28863873, "comment_id": 45993001, "body": "Try using the execfile() command to modify a config file. That way you keep your code and your optimization separate.  <a href=\"https://docs.python.org/2/library/functions.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html</a>  you can do something like:  config = {} execfile(&quot;something.py&quot;,config)  config will contain a dictionary of the global variables after executing the file, and you can then write back to something.py. This is, however, not recommended for any sort of production code."}, {"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "reply_to_user": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 0, "creation_date": 1425500205, "post_id": 28863873, "comment_id": 45993155, "body": "Well eventually I will be working with more than just variables, but entire lines of code. Therefore as practice I wanted to do something simple like a variable change rather than a code change, but using the same method as the code change would need."}, {"owner": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 0, "creation_date": 1425500441, "post_id": 28863873, "comment_id": 45993298, "body": "Execfile will execute the python in the config file. You can then use the parent program to calculate the new output, and write back to the config file. You might want to do some research on self modifying code as well...its very error prone, and a more favored approach is machine learning, where you designate a target behavior, measure the distance between that target and your actual code behavior, and then modify the behavior of the program based on this metric."}, {"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "reply_to_user": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 0, "creation_date": 1425500537, "post_id": 28863873, "comment_id": 45993343, "body": "Ah, I see. Thank you."}, {"owner": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 0, "creation_date": 1425502186, "post_id": 28863873, "comment_id": 45994298, "body": "As an alternate case, you CAN do f=open(__file__,&#39;a&#39;) and append code to the file you are currently executing with f.write(&#39;code here&#39;) which will be a VERY error prone, but will work."}], "answers": [{"tags": [], "owner": {"reputation": 694, "user_id": 4628067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hE2nT.jpg?s=128&g=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/4628067/rod"}, "is_accepted": false, "score": 0, "last_activity_date": 1425500187, "creation_date": 1425500187, "answer_id": 28864048, "question_id": 28863873, "link": "https://stackoverflow.com/questions/28863873/using-a-python-interpreter-to-create-a-program-that-can-evolve/28864048#28864048", "title": "Using a Python interpreter to create a program that can evolve", "body": "<p>Well, you could store the \"Test0\" output to a file (result.txt), and use another script to edit \"Test0\", running \"Test1\" to edit \"Test0\" and replace the \"hello\" for the output (that will be saved in result.txt)</p>\n\n<p><a href=\"http://www.tutorialspoint.com/python/python_files_io.htm\" rel=\"nofollow\">Here</a> is the tutorial about file manipulation in Python. You can use this to edit not only strings, but the code itself, adding, editing and removing operators for example.</p>\n"}], "owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425502566, "creation_date": 1425499611, "last_edit_date": 1425502566, "question_id": 28863873, "link": "https://stackoverflow.com/questions/28863873/using-a-python-interpreter-to-create-a-program-that-can-evolve", "title": "Using a Python interpreter to create a program that can evolve", "body": "<p>my goal is simple, yet extremely complicated because of its simplicity. Making a program that can optimize itself. For now I will make a simple program to research the possibilities of it. Unfortunately i am new to interpreters, and python. Therefore I would like to ask for guidance. Here is my first program's steps.</p>\n\n<blockquote>\n  <p>Python Interpreter program loads code from a file(ex. Test0) and runs.</p>\n  \n  <p>Test0 code says to print 'Hello'.</p>\n  \n  <p>'Hello' is printed.</p>\n  \n  <p>Test0 code stops.</p>\n  \n  <p>Python Interpreter takes the printed word and scrambles it.</p>\n  \n  <p>Python interpreter then edits the code from Test0 to print the\n  scrambled word.</p>\n  \n  <p>The next time Test0 is run it prints the scrambled word.</p>\n</blockquote>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1425501638, "post_id": 28864359, "comment_id": 45994009, "body": "What you have do could be done more simpler but how you know that what line would be contain the <code>DUPLICATE </code> ?  (<code>DUPLICATE ! note string 4 ! note string 5</code>) you just wrote <code>note</code> at the end of lines as its the hard part of the problem :D"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1425502504, "post_id": 28864359, "comment_id": 45994493, "body": "can you try this string and give me the result?<code>assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note string 1 assign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 2 assign (resid 5 and name H ) (resid 16 and name H ) 2.5 2.5 2.5 ! note string 3 assign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 4 assign (resid 57 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note string 5</code>"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1425502563, "post_id": 28864359, "comment_id": 45994523, "body": "And for find the duplicate after extract the string between <code>()</code> just use <code>sorted</code>!"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1425503198, "post_id": 28864359, "comment_id": 45994911, "body": "@Its not for access the previous key, as there is no need to access to previous key at all! because its possible that you have a duplicated line x line later or after! with sorted after extract the 2 sentence in <code>()</code> you can join and compare! or you can convert to <code>tuple</code> and use <code>set</code> to get the unique lines!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1425503866, "post_id": 28864359, "comment_id": 45995298, "body": "@Kasra, you do realise <code>sorted(&quot;foo 21&quot;) == sorted(&quot;foo 12&quot;)</code> is True? Also you do need to  the key of you want to keep adding the the original string. You also cannot use a set. The whole point of my code is that  you can have duplicate later so I have no idea what you are saying with <i>because its possible that you have a duplicated line x line later or after</i>"}, {"owner": {"reputation": 514, "user_id": 3767980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/735415084/picture?type=large", "display_name": "PhysicalChemist", "link": "https://stackoverflow.com/users/3767980/physicalchemist"}, "edited": false, "score": 0, "creation_date": 1425506951, "post_id": 28864359, "comment_id": 45996940, "body": "Thank you very much for a great answer that I can follow. Would you mind showing how you printed the output in the second example? I hate to admit that I need help with the printing."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 514, "user_id": 3767980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/735415084/picture?type=large", "display_name": "PhysicalChemist", "link": "https://stackoverflow.com/users/3767980/physicalchemist"}, "edited": false, "score": 0, "creation_date": 1425507187, "post_id": 28864359, "comment_id": 45997069, "body": "@PhysicalChemist, no prob you&#39;re welcome. That is the pprint library, it formats the output automatically. There are a few examples in the docs. <a href=\"https://docs.python.org/2/library/pprint.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/pprint.html</a> Also maybe storing each dup in a list of values for each key might be another approach to take."}, {"owner": {"reputation": 514, "user_id": 3767980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/735415084/picture?type=large", "display_name": "PhysicalChemist", "link": "https://stackoverflow.com/users/3767980/physicalchemist"}, "edited": false, "score": 0, "creation_date": 1425514573, "post_id": 28864359, "comment_id": 45999867, "body": "One more thing, do you have any advice for dealing with a note string that contains  <code>(</code> and <code>)</code>? I thought I could just change the regex from <code>(?&lt;=\\))\\s</code> to <code>(?&lt;=\\))(\\s)(?=.*\\!)</code>, but that did not work out for me."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1425515185, "post_id": 28864359, "comment_id": 46000074, "body": "can you add an example?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1425508052, "last_edit_date": 1425508052, "creation_date": 1425501264, "answer_id": 28864359, "question_id": 28863863, "link": "https://stackoverflow.com/questions/28863863/python-find-duplicate-with-note-string-preservation/28864359#28864359", "title": "Python Find Duplicate with Note String Preservation", "body": "<p>Someone who is more proficient using regex can maybe point you to a nicer implementation to get the  key but storing the tuples as keys and reversing to check if it already exists should work:</p>\n\n<pre><code>lines = \"\"\"assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note string 1\nassign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 2\nassign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note string 3\nassign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note string 4\nassign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note string 5\"\"\"\n\nimport re\n\nd = {}\n\nr1 = re.compile(r\"(?&lt;=\\))\\s\")\nr2 = re.compile(r\"\\(.*\\)\")\n\nfor line in lines.splitlines():\n    key = tuple(r1.split(r2.findall(line)[0]))\n    # (\"foo\",\"bar\") == (\"bar\",\"foo\") , also check current key is not in d\n    if tuple(reversed(key)) not in d and key not in d:\n        d[key] = line\n\npp(list(d.values()))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['assign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note '\n 'string 3',\n 'assign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note '\n 'string 2',\n 'assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note '\n 'string 1',\n 'assign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note '\n 'string 4']\n</code></pre>\n\n<p>If order matters use a <code>collections.Ordereddict</code>. I am not sure what exactly  you want to add to the string but this will add <code>DUPLICATE ! string 5</code> etc.. to the existing key value:</p>\n\n<pre><code>from collections import OrderedDict\n\nd = OrderedDict()\nimport re\n\nr1 = re.compile(r\"(?&lt;=\\))\\s\")\nr2 = re.compile(r\"\\(.*\\)\")\nfor line in lines.splitlines():\n    key = tuple(r1.split(r2.findall(line)[0])) \n      # (resid 44 and name H ) (resid 53 and name H ) -&gt;  (resid 53 and name H ) (resid 44 and name H )   \n    rev_k = tuple(reversed(key))\n    if rev_k in d:\n        d[rev_k] += \" DUPLICATE \" + \" \".join(line.rsplit(None,4)[1:])\n    elif key in d:\n        d[key] += \" DUPLICATE \" + \" \".join(line.rsplit(None,4)[1:])\n    else:\n        d[key] = line\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note '\n 'string 1',\n 'assign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note '\n 'string 2',\n 'assign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note '\n 'string 3',\n 'assign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note '\n 'string 4 DUPLICATE ! string 5']\n</code></pre>\n\n<p>depending on what you want to do you could append the original line and the  <code>DUPLICATE ! string ...</code> each time so the original string before we saw a dup would be the first element and the rest would be all the <code>DUPLICATE ! string ...</code>:</p>\n\n<pre><code>lines = \"\"\"assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note string 1\nassign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 2\nassign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note string 3\nassign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note string 4\nassign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note string 5\nassign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note string 6\"\"\"\n\nfrom collections import defaultdict\n\n\nd = defaultdict(list)\nr1 = re.compile(r\"(?&lt;=\\))\\s\")\nr2 = re.compile(r\"\\(.*\\)\")\n\nfor line in lines.splitlines():\n    key = tuple(r1.split(r2.findall(line)[0]))\n    rev_k = tuple(reversed(key))\n    if rev_k in d:\n        d[rev_k].append(line + \" DUPLICATE \" + \" \".join(line.rsplit(None,4)[1:]))\n    elif key in d:\n            d[key] += \" DUPLICATE \" + \" \".join(line.rsplit(None,4)[1:])\n    else:\n        d[key].append(line)\n\n\n    pp(list(d.values()))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note '\n  'string 1'],\n ['assign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note '\n  'string 4',\n  'assign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note '\n  'string 5 DUPLICATE ! note string 5',\n  'assign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note '\n  'string 6 DUPLICATE ! note string 6'],\n ['assign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note '\n  'string 3'],\n ['assign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note '\n  'string 2']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18956, "user_id": 1149736, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b3a4cc349fe80219a82a9e749ad65377?s=128&d=identicon&r=PG", "display_name": "Vyktor", "link": "https://stackoverflow.com/users/1149736/vyktor"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503570, "last_edit_date": 1425503570, "creation_date": 1425503123, "answer_id": 28864911, "question_id": 28863863, "link": "https://stackoverflow.com/questions/28863863/python-find-duplicate-with-note-string-preservation/28864911#28864911", "title": "Python Find Duplicate with Note String Preservation", "body": "<p>Building simple dictionary (or <a href=\"https://docs.python.org/3.2/library/collections.html#ordereddict-objects\" rel=\"nofollow\"><code>OrderedDict</code></a>) with sorted values as key and whole line (or note) as the value.</p>\n\n<p>Let's assume that this is what you want to be unique:</p>\n\n<pre><code>&gt;&gt;&gt; re.findall(\"\\(.*?\\)\", lns[3])\n['(resid 44 and name H )', '(resid 53 and name H )']\n</code></pre>\n\n<p>So you can prepare sorted key:</p>\n\n<pre><code>&gt;&gt;&gt; tmp1 = set(re.findall(\"\\(.*?\\)\", lns[3])) # Line 4\n&gt;&gt;&gt; tmp2 = set(re.findall(\"\\(.*?\\)\", lns[4])) # Line 5\n&gt;&gt;&gt; tmp1\n{'(resid 44 and name H )', '(resid 53 and name H )'}\n&gt;&gt;&gt; tmp2\n{'(resid 44 and name H )', '(resid 53 and name H )'}\n&gt;&gt;&gt; tmp1 == tmp2\n</code></pre>\n\n<p>But <code>set</code> is <em>unhashable</em> so you have to convert it to for example <code>tuple</code> so it would be usable as <a href=\"https://docs.python.org/3.2/library/stdtypes.html#mapping-types-dict\" rel=\"nofollow\">key for dictionary</a>:</p>\n\n<blockquote>\n  <p>A dictionary\u2019s keys are almost arbitrary values. Values that are not hashable, that is, values containing lists, dictionaries or other mutable types (that are compared by value rather than by object identity) may not be used as keys.</p>\n</blockquote>\n\n<pre><code>key = tuple(set((re.findall(\"\\(.*?\\)\", lns[3]))))\n</code></pre>\n\n<p>Not you just have to store the line and perhaps count of keys?</p>\n\n<pre><code>result = {}\n\nwith open(filename, 'r') as file:\n    for line in file:\n        key = tuple(set((re.findall(\"\\(.*?\\)\", line))))\n\n        if key in result:\n            result[key][3] += 1\n        else:\n            result[key] = [line.strip(), 1]\n\nfor line, count in result.values():\n    print('Seen line', line, count, 'times')\n</code></pre>\n\n<p>Or store every line with the key:</p>\n\n<pre><code>result = collections.defaultdict(list)\n\n# ...\n        key = tuple(set((re.findall(\"\\(.*?\\)\", line))))\n\n        result[key].append(line.strip())\n\n# And nice printing\nfor key, lines in result.items():\n    print('Seen', key, 'on following lines:')\n    for l in lines:\n        print('\\t', l)\n    print()\n</code></pre>\n"}], "owner": {"reputation": 514, "user_id": 3767980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/735415084/picture?type=large", "display_name": "PhysicalChemist", "link": "https://stackoverflow.com/users/3767980/physicalchemist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28864359, "answer_count": 2, "score": 1, "last_activity_date": 1425508052, "creation_date": 1425499585, "question_id": 28863863, "link": "https://stackoverflow.com/questions/28863863/python-find-duplicate-with-note-string-preservation", "title": "Python Find Duplicate with Note String Preservation", "body": "<p>Input looks like this: </p>\n\n<pre><code>assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note string 1\nassign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 2\nassign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note string 3\nassign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! note string 4\nassign (resid 53 and name H ) (resid 44 and name H ) 2.5 2.5 2.5 ! note string 5\n</code></pre>\n\n<p>If you take note here, row 4 are 5 are duplicates here just <code>(resid 44 and name H )</code> and <code>(resid 53 and name H )</code> are switched. My ideal output would return something like this:</p>\n\n<pre><code>assign (resid 3 and name H ) (resid 18 and name H ) 2.5 2.5 2.5 ! note string 1\nassign (resid 16 and name H ) (resid 5 and name H ) 2.5 2.5 2.5 ! note string 2\nassign (resid 42 and name H ) (resid 55 and name H ) 2.5 2.5 2.5 ! note string 3\nassign (resid 44 and name H ) (resid 53 and name H ) 2.5 2.5 2.5 ! DUPLICATE ! note string 4 ! note string 5\n</code></pre>\n\n<hr>\n\n<p>So I have gotten started with the typical way of reading a file in python.</p>\n\n<pre><code>txt = open(filename)\n\nprint ( lines[0] )\n</code></pre>\n\n<p>I obviously need to capture the strings between <code>(</code> and <code>)</code> and then do some type of search. I captured those with regex, which was kids stuff. My idea was to use <code>match[0]</code> and <code>match[1]</code> within a nested loop and do a search. My failed attempt is: </p>\n\n<pre><code>for i in lines:\n#   match = re.search(\"\\\\(.*?\\\\)\", i)\n    match = re.findall('\\\\(.*?\\\\)',i)\n    for x in i:\n        mm = re.search(\"match[0] match[1]\", lines)\n        print ( mm )\n</code></pre>\n\n<p><code>match[0]</code> and <code>match[1]</code> give me what I want if I print them. What is the best way to do this search so I could preserve and transfer the note flag? I imaging that adding <code>DUPLICATE</code> to the note string would be trivial. </p>\n\n<p>I'm really only interested in a python solution. I also need to use this for a 400 line program I have been writing. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "numpy", "matrix", "minimum"], "answers": [{"comments": [{"owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 1, "creation_date": 1425503904, "post_id": 28863967, "comment_id": 45995324, "body": "you should use <code>a[:, d].min()</code> to guarantee that the NumPy method will be called, otherwise you will iterate over the array like in a Python iterable object (not at the C level)"}], "tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": true, "score": 5, "last_activity_date": 1425504366, "last_edit_date": 1425504366, "creation_date": 1425499933, "answer_id": 28863967, "question_id": 28863853, "link": "https://stackoverflow.com/questions/28863853/minimum-element-from-the-matrix-column/28863967#28863967", "title": "Minimum element from the matrix column", "body": "<p>You can extract the minimum value of a column as follows (using the variables you have indicated):</p>\n\n<pre><code>e=a[:,d].min()\n</code></pre>\n\n<p>Note that using</p>\n\n<pre><code>a=min(a[:,d])\n</code></pre>\n\n<p>will break you out of Numpy, slowing things down (thanks for pointing this out @SaulloCastro).</p>\n"}], "owner": {"reputation": 53, "user_id": 4594304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66764d138ca2f5d172e447f2e7c3d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sage", "link": "https://stackoverflow.com/users/4594304/sage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3565, "favorite_count": 0, "accepted_answer_id": 28863967, "answer_count": 1, "score": 1, "last_activity_date": 1425504366, "creation_date": 1425499548, "last_edit_date": 1425500374, "question_id": 28863853, "link": "https://stackoverflow.com/questions/28863853/minimum-element-from-the-matrix-column", "title": "Minimum element from the matrix column", "body": "<p>I need to find minimum over all elements from the column which has the maximum column sum.\nI do the following things:</p>\n\n<p>Create random matrix</p>\n\n<pre><code>from numpy import *\na = random.rand(5,4)\n</code></pre>\n\n<p>Then calculate sum of each column and find index of the maximum element</p>\n\n<pre><code>c = a.sum(axis=0)\nd = argmax(c)\n</code></pre>\n\n<p>Then I try to find the minimum number in this column, but I am quite bad with syntax, I know how to find the minimum element in the row with current index.</p>\n\n<pre><code>e = min(a[d])\n</code></pre>\n\n<p>But how can I change it for columns?</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 1, "creation_date": 1425499553, "post_id": 28863834, "comment_id": 45992791, "body": "Please replace the image with <code>html</code> and let us know what you have tried with"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 8, "last_activity_date": 1425499660, "last_edit_date": 1495535488, "creation_date": 1425499660, "answer_id": 28863880, "question_id": 28863834, "link": "https://stackoverflow.com/questions/28863834/how-to-change-the-text-of-a-span-that-acts-like-a-button/28863880#28863880", "title": "How to change the text of a span that acts like a button", "body": "<p>You need to set the <a href=\"https://stackoverflow.com/a/21696573/771848\"><code>innerHTML</code> using <code>execute_script()</code></a>:</p>\n\n<pre><code>driver.execute_script('arguments[0].innerHTML = \"New value\";', element)\n</code></pre>\n\n<p>where <code>element</code> should point to your <code>span</code> element, could be:</p>\n\n<pre><code>element = driver.find_element_by_css_selector('div.file-wrapper span.k-dropdown span.k-input')\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 693909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/696483250292cdc34b6ac8932f9999bc?s=128&d=identicon&r=PG", "display_name": "Curryjl", "link": "https://stackoverflow.com/users/693909/curryjl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4642, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1425499819, "creation_date": 1425499491, "last_edit_date": 1425499819, "question_id": 28863834, "link": "https://stackoverflow.com/questions/28863834/how-to-change-the-text-of-a-span-that-acts-like-a-button", "title": "How to change the text of a span that acts like a button", "body": "<p>I am working on writing automation tests for a custom web application.  I am running into a problem where I can't change the text of a span.  I have tried using driver.execute_script but have had no luck. (It would really help if I knew javascript better)  As far as I know you can't click a span and the list is populated as a list of . What is the best way to change this text?</p>\n\n<p><img src=\"https://i.stack.imgur.com/nNDKO.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1425500360, "post_id": 28863779, "comment_id": 45993246, "body": "post raw input data to reproduce your error, do you have duplicate column names in your csv?"}, {"owner": {"reputation": 21, "user_id": 4586252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/735632309877901/picture?type=large", "display_name": "Timothy Aerts", "link": "https://stackoverflow.com/users/4586252/timothy-aerts"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1425500486, "post_id": 28863779, "comment_id": 45993322, "body": "I can&#39;t post the file itself since there could be disclosed info in there. Its a CSV file which comes from an sql query out of showcase data is saved as csv. guess i can try to save it in a different format and just read it like that"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1425500577, "post_id": 28863779, "comment_id": 45993380, "body": "Well my crystal ball isn&#39;t powerful enough to guess how your data can reproduce such an error without seeing something I&#39;m afraid, just randomise the data"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1425500631, "post_id": 28863779, "comment_id": 45993416, "body": "You can check if the csv file has a BOM or not but really setting the encoding to &#39;utf-8&#39; or &#39;utf-16&#39; should be able to handle it"}, {"owner": {"reputation": 21, "user_id": 4586252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/735632309877901/picture?type=large", "display_name": "Timothy Aerts", "link": "https://stackoverflow.com/users/4586252/timothy-aerts"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1425500761, "post_id": 28863779, "comment_id": 45993480, "body": "Guess i had that coming :), yea tried setting it to utf-8 and 16 but 16 keeps producing an error CParserError: Error tokenizing data. C error: Calling read(nbytes) on source failed. Try engine=&#39;python&#39;."}, {"owner": {"reputation": 6048, "user_id": 3437504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/G7yH4.jpg?s=128&g=1", "display_name": "Bob Haffner", "link": "https://stackoverflow.com/users/3437504/bob-haffner"}, "edited": false, "score": 0, "creation_date": 1425525358, "post_id": 28863779, "comment_id": 46002841, "body": "Did you try setting the engine to python?"}, {"owner": {"reputation": 21, "user_id": 4586252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/735632309877901/picture?type=large", "display_name": "Timothy Aerts", "link": "https://stackoverflow.com/users/4586252/timothy-aerts"}, "edited": false, "score": 0, "creation_date": 1425529516, "post_id": 28863779, "comment_id": 46003828, "body": "i did resulted in another error. worked around it by subtracting the data in a different way. since i couldnt figure out what i was doing wrong, Thank you guys for helping out btw!"}], "owner": {"reputation": 21, "user_id": 4586252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/735632309877901/picture?type=large", "display_name": "Timothy Aerts", "link": "https://stackoverflow.com/users/4586252/timothy-aerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1092, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425499311, "creation_date": 1425499311, "question_id": 28863779, "link": "https://stackoverflow.com/questions/28863779/pandas-read-csv-encoding-error", "title": "pandas read_csv encoding error", "body": "<p>I have renamed my columns and now the column names come back as:</p>\n\n<pre><code>Index([u'Blend', u'Layer', u'Quantity', u'Raw', u'Quantity.1'], dtype='object')\n</code></pre>\n\n<p>the read csv is set to:</p>\n\n<pre><code>bulk_data = read_csv('C:\\Users\\\\taerts\\Documents\\\\blends.csv',delimiter=',', encoding=\"utf-8-sig\")\n</code></pre>\n\n<p>I tried setting that to the iso encoding and whenever i set that utf-8 to utf-16 i get an error:</p>\n\n<p>CParserError: Error tokenizing data. C error: Calling read(nbytes) on source failed. Try engine='python'. </p>\n\n<p>My apologies if this is a dumb question, tried all the suggestions i'm finding.\nKinda been swinging and missing.</p>\n"}, {"tags": ["python", "arrays", "numpy", "sum"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 1932732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c6e82eee4e5981a358a05eda262213?s=128&d=identicon&r=PG", "display_name": "Anselmo", "link": "https://stackoverflow.com/users/1932732/anselmo"}, "edited": false, "score": 0, "creation_date": 1425500544, "post_id": 28863843, "comment_id": 45993348, "body": "Thank you, this makes sense, but I would likely not figure it out by myself. This kind of <i>in place</i> operations should be used carefully."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 169, "user_id": 1932732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c6e82eee4e5981a358a05eda262213?s=128&d=identicon&r=PG", "display_name": "Anselmo", "link": "https://stackoverflow.com/users/1932732/anselmo"}, "edited": false, "score": 0, "creation_date": 1425500923, "post_id": 28863843, "comment_id": 45993578, "body": "@Anselmo you&#39;re welcome! yeah, numpy has a strange behavior with types!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 3, "last_activity_date": 1425499516, "creation_date": 1425499516, "answer_id": 28863843, "question_id": 28863737, "link": "https://stackoverflow.com/questions/28863737/different-behavior-of-sum-of-numpy-arrays-with-regards-to-data-type-when-using-i/28863843#28863843", "title": "Different behavior of sum of numpy arrays with regards to data type when using increment operator", "body": "<p>As a <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html#arithmetic-and-comparison-operations\" rel=\"nofollow\">warning in wiki</a>:</p>\n\n<blockquote>\n  <p>In place operations will perform the calculation using the precision decided by the data type of the two operands, but will silently downcast the result (if necessary) so it can fit back into the array. Therefore, for mixed precision calculations, <code>A {op}= B</code> can be different than <code>A = A {op} B</code>.For example, suppose <code>a = ones((3,3))</code>. Then, <code>a += 3j</code> is different than a = a + 3j: while they both perform the same computation, <code>a += 3</code> casts the result to fit back in a, whereas <code>a = a + 3j</code> re-binds the name a to the result.</p>\n</blockquote>\n\n<p>So in this case as the format of the elements of array <code>a</code> is <code>int</code>, <code>a +=b</code> will casts the result to fit back in a.  </p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1425499553, "creation_date": 1425499553, "answer_id": 28863855, "question_id": 28863737, "link": "https://stackoverflow.com/questions/28863737/different-behavior-of-sum-of-numpy-arrays-with-regards-to-data-type-when-using-i/28863855#28863855", "title": "Different behavior of sum of numpy arrays with regards to data type when using increment operator", "body": "<pre><code>a += b # a is an integer array, b is a float array, a stays a float integer array\n</code></pre>\n\n<p>This is because the first array is an integer array so the values are casted to match the left hand side. Basically in the code above, the array retains its integer disposition through an implicit cast because that is what it is at the moment. Below, the two are simply added and reassigned which allows for such a change.</p>\n\n<pre><code>a = a + b # a is an integer array, b is a float array, a is reassigned to result\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 1932732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c6e82eee4e5981a358a05eda262213?s=128&d=identicon&r=PG", "display_name": "Anselmo", "link": "https://stackoverflow.com/users/1932732/anselmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425499553, "creation_date": 1425499200, "question_id": 28863737, "link": "https://stackoverflow.com/questions/28863737/different-behavior-of-sum-of-numpy-arrays-with-regards-to-data-type-when-using-i", "title": "Different behavior of sum of numpy arrays with regards to data type when using increment operator", "body": "<p>Consider the following sum of numpy arrays:</p>\n\n<pre><code>import numpy as np\n\na = np.array([10, 10])\nb = np.array([1.3, 1.3])\na = a+b\nprint a\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>array([ 11.3,  11.3])\n</code></pre>\n\n<p>Now, if I use <code>+=</code>:</p>\n\n<pre><code>import numpy as np\n\na = np.array([10, 10])\nb = np.array([1.3, 1.3])\na +=b\nprint a\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>array([11, 11])\n</code></pre>\n\n<p>What the explanation for this behavior? I'm using python 2.7.7 and numpy 1.8.2 </p>\n"}, {"tags": ["python", "sorting", "date", "binary-search"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1425499428, "last_edit_date": 1425499428, "creation_date": 1425499107, "answer_id": 28863703, "question_id": 28863676, "link": "https://stackoverflow.com/questions/28863676/how-to-find-in-a-sorted-list-of-dates-where-a-specific-date-lies-in-between-in/28863703#28863703", "title": "How to find in a sorted list of dates where a specific date lies in between, in Python?", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/bisect.html#bisect.bisect_left\" rel=\"nofollow\"><code>bisect.bisect_left()</code></a> or <a href=\"https://docs.python.org/2/library/bisect.html#bisect.bisect_right\" rel=\"nofollow\"><code>bisect.bisect_right()</code></a> (aliased to <code>bisect.bisect()</code>) to find that insertion point. It'll find that point in at most log N steps, using a binary search.</p>\n\n<p>The difference lies in what happens when you give it a <code>date()</code> that is in the list itself; <code>bisect_left()</code> will give the index of the equal value itself, <code>bisect_right()</code> gives the index right after it.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; import bisect\n&gt;&gt;&gt; list_of_dates = [\n...     date(2015, 1, 15), date(2015, 2, 1), date(2015, 3, 31), \n...     date(2015, 4, 25), date(2015, 5, 23), date(2015, 6, 11)]\n&gt;&gt;&gt; bisect.bisect(list_of_dates, date(2015, 4, 30))\n4\n&gt;&gt;&gt; bisect.bisect(list_of_dates, date(2015, 4, 25))\n4\n&gt;&gt;&gt; bisect.bisect_left(list_of_dates, date(2015, 4, 25))\n3\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 4610076, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/72c0ad16de53ad9c35d78199e4031793?s=128&d=identicon&r=PG&f=1", "display_name": "TheBear", "link": "https://stackoverflow.com/users/4610076/thebear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "accepted_answer_id": 28863703, "answer_count": 1, "score": 2, "last_activity_date": 1425499503, "creation_date": 1425499030, "last_edit_date": 1425499503, "question_id": 28863676, "link": "https://stackoverflow.com/questions/28863676/how-to-find-in-a-sorted-list-of-dates-where-a-specific-date-lies-in-between-in", "title": "How to find in a sorted list of dates where a specific date lies in between, in Python?", "body": "<p>I have a sorted list of dates and I am looking for a way to find where an input date lies within that sorted list, but more specifically the upper bound of it.</p>\n\n<p>E.g. if in the sorted date list positions its <code>[0, 1, 2, 3, 4, 5]</code>, and then the input date is in between position 3 and 4, I want the function to return position 4 to me.</p>\n\n<p>Is there a pre-made binary search etc I can use for this? Or would I have to write it myself?</p>\n"}, {"tags": ["python", "networkx"], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "edited": false, "score": 0, "creation_date": 1425504087, "post_id": 28864882, "comment_id": 45995418, "body": "thanks for your answer, but how can I do when the labels come from a database and I don&#39;t know where the letter &#209; appears?."}, {"owner": {"reputation": 6625, "user_id": 1076480, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/acb812ee78a707f06f57df3dad4edb89?s=128&d=identicon&r=PG&f=1", "display_name": "David Ehrmann", "link": "https://stackoverflow.com/users/1076480/david-ehrmann"}, "edited": false, "score": 1, "creation_date": 1425504176, "post_id": 28864882, "comment_id": 45995467, "body": "Make sure you get a unicode object from the database, not a str."}, {"owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "edited": false, "score": 0, "creation_date": 1425504363, "post_id": 28864882, "comment_id": 45995583, "body": "I&#39;m using oracle database and cx_oracle libraries, how can I convert my str to unicode object?"}, {"owner": {"reputation": 21014, "user_id": 497234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2fa0c08e61c5568e451b7c03579229?s=128&d=identicon&r=PG", "display_name": "Aric", "link": "https://stackoverflow.com/users/497234/aric"}, "edited": false, "score": 0, "creation_date": 1425507103, "post_id": 28864882, "comment_id": 45997030, "body": "You can just s.decode(&#39;utf-8&#39;) every string s if you want."}], "tags": [], "owner": {"reputation": 21014, "user_id": 497234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2fa0c08e61c5568e451b7c03579229?s=128&d=identicon&r=PG", "display_name": "Aric", "link": "https://stackoverflow.com/users/497234/aric"}, "is_accepted": true, "score": 1, "last_activity_date": 1425503011, "creation_date": 1425503011, "answer_id": 28864882, "question_id": 28863624, "link": "https://stackoverflow.com/questions/28863624/letter-%c3%b1-error-when-using-matplotlib-and-networkx-in-python/28864882#28864882", "title": "letter &#241; error when using matplotlib and networkx in python", "body": "<p>Matplotlib wants Python unicode (for Python2).  So you can use</p>\n\n<pre><code>labels = {1:'King Bola\u00f1os'.decode('utf-8'), 2:'Lancelot', 3:'shopkeeper', 4:'dead parrot', 5:'Brian', 6:'Sir Robin'}\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 28864882, "answer_count": 1, "score": 0, "last_activity_date": 1425503011, "creation_date": 1425498843, "question_id": 28863624, "link": "https://stackoverflow.com/questions/28863624/letter-%c3%b1-error-when-using-matplotlib-and-networkx-in-python", "title": "letter &#241; error when using matplotlib and networkx in python", "body": "<p>I have a problem, In my case I get names from a database, the error occurs when there is a name that contains letter \u00d1 for example a last name BOLA\u00d1OS, I used # -- coding: utf8 -- but isn't enough. I read that matplotlib needs a file which should contain special characters. Thanks in advance</p>\n\n<p>This is the code:</p>\n\n<pre><code># -*- coding: utf8 -*-\nimport matplotlib.pyplot as plt\nimport networkx as nx\nsocialNetworl = nx.Graph()\nsocialNetworl.add_nodes_from([1,2,3,4,5,6])\nsocialNetworl.add_edges_from([(1,2),(1,3),(2,3),(2,5),(2,6)]) \nlabels = {1:'King Bola\u00f1os', 2:'Lancelot', 3:'shopkeeper', 4:'dead parrot', 5:'Brian', 6:'Sir Robin'}\nnx.draw(socialNetworl, node_size = 800, node_color=\"cyan\", labels=labels, with_labels = True)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "list", "random", "psychopy"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1425498916, "post_id": 28863596, "comment_id": 45992411, "body": "This might be a better fit for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1425499245, "post_id": 28863596, "comment_id": 45992612, "body": "Hmmm ... by my count, there should be 120 permutations of 5 items (taken 5 at a time)... You only seem to have 24.  Am I missing something here?"}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1425499717, "post_id": 28863596, "comment_id": 45992882, "body": "I&#39;d love to help on this, but the pattern is too unclear. You&#39;re swapping both the order of the variables and their data. Organize your data better and it will be easier to see the pattern."}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1425499930, "post_id": 28863596, "comment_id": 45993010, "body": "In some of your conditions, the values for a and b are <i>identical</i> and not just <i>related</i> (9, 12 and 15 for example) - why?"}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 1, "creation_date": 1425500618, "post_id": 28863596, "comment_id": 45993407, "body": "Ever heard of lists?"}, {"owner": {"reputation": 4645, "user_id": 1297830, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8rH9k.jpg?s=128&g=1", "display_name": "Jonas Lindel&#248;v", "link": "https://stackoverflow.com/users/1297830/jonas-lindel%c3%b8v"}, "edited": false, "score": 0, "creation_date": 1425502841, "post_id": 28863596, "comment_id": 45994684, "body": "You have tagged psychopy, yet the code does not contain any use of the psychopy module. Consider removing that tag."}], "answers": [{"comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1425499243, "post_id": 28863713, "comment_id": 45992609, "body": "Seems like you&#39;re just moving the problem from one spot to another."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1425499396, "post_id": 28863713, "comment_id": 45992691, "body": "Does it? It makes for much shorter code, and I don&#39;t see how you could avoid listing it alltogether. Either that or I&#39;m not seeing the connection between the condition and the combination."}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 1, "creation_date": 1425499579, "post_id": 28863713, "comment_id": 45992806, "body": "Yeah, I think there&#39;s a connection we&#39;re not seeing because the question is not entirely clear."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1425499135, "creation_date": 1425499135, "answer_id": 28863713, "question_id": 28863596, "link": "https://stackoverflow.com/questions/28863596/randomizing-in-all-possible-combinations-in-python/28863713#28863713", "title": "Randomizing in all possible combinations in Python", "body": "<p>Maybe like that?</p>\n\n<pre><code>setup = {'1': ('1','1','2','3','4'),\n         '2': ('1','1','2','3','4'),\n        #...\n        }\na = glob.glob(\"DDtest/targetimagelist\" + setup[condition][0] + \"/*\")\nb = glob.glob(\"DDtest/distractorimagelist\" + setup[condition][1] + \"/*\")\nc = glob.glob(\"DDtest/targetimagelist\" + setup[condition][2] + \"/*\")\nd = glob.glob(\"DDtest/distractorimagelist\" + setup[condition][3] + \"/*\")\ne = glob.glob(\"DDtest/targetimagelist\" + setup[condition][4] + \"/*\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "is_accepted": false, "score": 2, "last_activity_date": 1425500620, "creation_date": 1425500620, "answer_id": 28864171, "question_id": 28863596, "link": "https://stackoverflow.com/questions/28863596/randomizing-in-all-possible-combinations-in-python/28864171#28864171", "title": "Randomizing in all possible combinations in Python", "body": "<p>Not sure what you meant by \"make a and b correspond\", but maybe this would work:</p>\n\n<pre><code>from itertools import permutations\nfrom random import choice\n\nglobs = [glob.glob(\"DDtest/targetimagelist1/*\"),\n         glob.glob(\"DDtest/distractorimagelist1/*\"),\n         glob.glob(\"DDtest/targetimagelist2/*\"),\n         glob.glob(\"DDtest/distractorimagelist3/*\"),\n         glob.glob(\"DDtest/targetimagelist4/*\")]\n\nglob_permutations = list(permutations(globs))\n\na, b, c, d, e = choice(glob_permutations)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 4602991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8a102cb2483db6702ab3d0d07bbc6e?s=128&d=identicon&r=PG&f=1", "display_name": "wfr", "link": "https://stackoverflow.com/users/4602991/wfr"}, "is_accepted": false, "score": 1, "last_activity_date": 1425500680, "creation_date": 1425500680, "answer_id": 28864192, "question_id": 28863596, "link": "https://stackoverflow.com/questions/28863596/randomizing-in-all-possible-combinations-in-python/28864192#28864192", "title": "Randomizing in all possible combinations in Python", "body": "<p>The built-in <a href=\"https://docs.python.org/2/library/itertools.html\" rel=\"nofollow\"><code>itertools</code></a> library has a function for <a href=\"https://docs.python.org/2/library/itertools.html#itertools.permutations\" rel=\"nofollow\">permutations</a> without repetitions:</p>\n\n<pre><code>#!/usr/bin/env python2\nimport itertools\nimport glob\n\np = [\n    glob.glob(\"DDtest/targetimagelist1/*\"),\n    glob.glob(\"DDtest/distractorimagelist4/*\"),\n    glob.glob(\"DDtest/targetimagelist2/*\"),\n    glob.glob(\"DDtest/distractorimagelist3/*\"),\n    glob.glob(\"DDtest/targetimagelist4/*\"),\n]\n\nperm = itertools.permutations(p)\n\nprint(len(perm))\n</code></pre>\n\n<p>=> 120 permutations</p>\n"}], "owner": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1426473638, "creation_date": 1425498751, "last_edit_date": 1426473638, "question_id": 28863596, "link": "https://stackoverflow.com/questions/28863596/randomizing-in-all-possible-combinations-in-python", "title": "Randomizing in all possible combinations in Python", "body": "<p>Here is my code: </p>\n\n<pre><code>if condition == '1':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '2':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '3':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '4':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '5':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '6':\n    a = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist1/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '7':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '8':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '9':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '10':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '11':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '12':\n    d = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '13':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '14':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '15':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '16':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    e = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '17':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    e = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '18':\n    c = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    e = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '19':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '20':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist2/*\")\n    a = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '21':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '22':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    c = glob.glob(\"DDtest/targetimagelist2/*\")\n    d = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '23':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist4/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    c = glob.glob(\"DDtest/distractorimagelist3/*\")\n    a = glob.glob(\"DDtest/targetimagelist4/*\")\nelif condition == '24':\n    e = glob.glob(\"DDtest/targetimagelist1/*\")\n    b = glob.glob(\"DDtest/distractorimagelist3/*\")\n    d = glob.glob(\"DDtest/targetimagelist2/*\")\n    a = glob.glob(\"DDtest/distractorimagelist3/*\")\n    c = glob.glob(\"DDtest/targetimagelist4/*\")\n</code></pre>\n\n<p>Basically what this does it is draws from a different list based on all combinations of a,c,d,e and makes a and b correspond. This code works fine, but it isn't very beautiful. I was wondering if anyone had any advice I do the same thing in fewer lines of code. More than anything I'm just trying to expand my knowledge of writing code, so if you know there is a more eloquent way of writing this let me know. :)</p>\n"}, {"tags": ["python", "json", "filter", "deep-copy"], "answers": [{"tags": [], "owner": {"reputation": 8286, "user_id": 533037, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f711473fb27cd269ba5ad2064c15dcd3?s=128&d=identicon&r=PG", "display_name": "solidpixel", "link": "https://stackoverflow.com/users/533037/solidpixel"}, "is_accepted": false, "score": 1, "last_activity_date": 1425499696, "last_edit_date": 1495542169, "creation_date": 1425499330, "answer_id": 28863783, "question_id": 28863531, "link": "https://stackoverflow.com/questions/28863531/deep-copy-with-filtering-in-python/28863783#28863783", "title": "deep copy with filtering in python", "body": "<p>Use the Python deepcopy builtin with memoization - that works better when deep copying a structure which has cross-referenced resources - your approach will create duplicates of things which are referenced multiple times in the children of the root object.</p>\n\n<p>The somewhat terrible Python documentation:</p>\n\n<p><a href=\"https://docs.python.org/2/library/copy.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/copy.html</a></p>\n\n<p>... but there are good tutorials out there. One SO post on overloading the copy constructors for custom classes:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15684881/python-implementation-of-shallow-and-deep-copy-constructors\">Python: Implementation of shallow and deep copy constructors</a></p>\n\n<p>Adding filtering is a little more fiddly - but for custom objects it's easy enough (just early out of the <strong>deepcopy</strong> constructor, without adding a new object to the memo dict - the only real difficulty is plumbing in custom filtering rules, but that's just plumbing).</p>\n"}], "owner": {"reputation": 703, "user_id": 1924207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/txFIz.gif?s=128&g=1", "display_name": "glexey", "link": "https://stackoverflow.com/users/1924207/glexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1485, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537344387, "creation_date": 1425498527, "last_edit_date": 1537344387, "question_id": 28863531, "link": "https://stackoverflow.com/questions/28863531/deep-copy-with-filtering-in-python", "title": "deep copy with filtering in python", "body": "<p>I want to make a deep copy of a python data structure, ignoring some of the elements based on some criteria.</p>\n\n<p>E.g., the input could be arbitrary json, and I'd like to copy everything <em>but</em> dictionaries with 'ignore' key in them. Like this:</p>\n\n<pre><code>def my_filter(entry):\n    # return true if we need to skip this entry\n    if not isinstance(entry, dict): return False\n    return ('ignore' in entry)\n\na = [\n    {\"free\": \"yourself\", \"ignore\": \"\"},\n    [\n        {\"two\": \"words\" },\n        {\"one\": \"finger\"},\n        [{\"apples\": 2}, {\"array\": [1,2,3,4], \"ignore\": \"\"}],\n    ],\n    {\"hi\": \"there\", \"ignore\": \"\"},\n]\n\nprint copy_with_filter(a, my_filter)\n</code></pre>\n\n<p>and it would output</p>\n\n<pre><code>[[{'two': 'words'}, {'one': 'finger'}, [{'apples': 2}]]]\n</code></pre>\n\n<p>I've implemented this code which does the job for json input, that is when only list, dict, or literals can be present, and it works well:</p>\n\n<pre><code>def copy_with_filter(a, filter_func):\n    # assume input is either list, or dict, or \"literal\" (i.e. string/int/float)\n    if isinstance(a, list):\n        out = [ copy_with_filter(x, filter_func) for x in a if not filter_func(x) ]\n    elif isinstance(a, dict):\n        out = a.copy() # shallow copy first\n        for k in a.iterkeys():\n            # replace values with filtered deep copies\n            out[k] = copy_with_filter(a[k], filter_func)\n    else:\n        out = a\n    return out\n</code></pre>\n\n<p>Though my question is whether there's more generic/better/built-in way of doing a deep copy with filtering in python?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 2, "creation_date": 1425498510, "post_id": 28863513, "comment_id": 45992193, "body": "<code>walls</code> is not defined here. Where is <code>walls=[]</code>?"}, {"owner": {"reputation": 11, "user_id": 4633774, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea8df400ecbfcc3fc48bee5cad8fb94c?s=128&d=identicon&r=PG&f=1", "display_name": "tess123", "link": "https://stackoverflow.com/users/4633774/tess123"}, "reply_to_user": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1425498762, "post_id": 28863513, "comment_id": 45992310, "body": "that isn&#39;t the whole code. walls = [] is defined at the top although that might not be the right place for it."}, {"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 0, "creation_date": 1425498828, "post_id": 28863513, "comment_id": 45992358, "body": "Where is the error that you&#39;re getting? I don&#39;t see a <code>wall</code> to be undefined."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1425498974, "post_id": 28863513, "comment_id": 45992449, "body": "You can&#39;t instantiate an object inside the class&#39;s scope outside the methods. The code on the bottom should be global. See <a href=\"http://stackoverflow.com/questions/14841203/python-instantiate-class-within-class-definition\">here</a> for more."}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 2, "last_activity_date": 1425499339, "last_edit_date": 1495542137, "creation_date": 1425498878, "answer_id": 28863639, "question_id": 28863513, "link": "https://stackoverflow.com/questions/28863513/pygame-nameerror-name-wall-is-not-defined/28863639#28863639", "title": "pygame NameError: name &#39;wall&#39; is not defined", "body": "<p>Try this, half your code should be global, this is a scope issue. See <a href=\"https://stackoverflow.com/questions/14841203/python-instantiate-class-within-class-definition\">here</a> for more.</p>\n\n<pre><code>class Wall (object):\n    def __init__(self,pos):\n        walls.append(self)\n        self.rect = pygame.Rect(pos[0], pos[1], 16, 16)\n\nx = 0\ny = 0\n\nfor row in level:\n    for col in row:\n        if col == 'W':\n            Wall((x, y))\n        if col == \"E\":\n            end_rect = pygame.Rect (x, y,16,16)\n        x = x + 16\n    y = y + 16\n    x = 0\n</code></pre>\n\n<p>Basically, the code in the class body is executed before the class is even created; thus, you would not be able to instantiate an object of the given class inside the class scope.</p>\n"}], "owner": {"reputation": 11, "user_id": 4633774, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea8df400ecbfcc3fc48bee5cad8fb94c?s=128&d=identicon&r=PG&f=1", "display_name": "tess123", "link": "https://stackoverflow.com/users/4633774/tess123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1425499339, "creation_date": 1425498443, "question_id": 28863513, "link": "https://stackoverflow.com/questions/28863513/pygame-nameerror-name-wall-is-not-defined", "title": "pygame NameError: name &#39;wall&#39; is not defined", "body": "<p>maze game - previous said walls was not defined until I moved walls=[] out of the game loop(while True:)</p>\n\n<pre><code>class Wall (object):\n    def __init__(self,pos):\n        walls.append(self)\n        self.rect = pygame.Rect(pos[0], pos[1], 16, 16)\n\n\n\n    x = 0\n    y = 0\n\n    for row in level:\n        for col in row:\n            if col == 'W':\n                Wall((x, y))\n            if col == \"E\":\n                end_rect = pygame.Rect (x, y,16,16)\n            x = x + 16\n        y = y + 16\n        x = 0\n</code></pre>\n"}, {"tags": ["python", "macos", "perl", "sign"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555172724, "post_id": 31411289, "comment_id": 98021513, "body": "I tried this script with an executable created with PAR/pp but it fires the following error: File &quot;python_prepare_codesign.py&quot;, line 67, in &lt;module&gt; sys.exit(main()) File &quot;python_prepare_codesign.py&quot;, line 63, in main _main(print_file)"}, {"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "reply_to_user": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555274055, "post_id": 31411289, "comment_id": 98044109, "body": "That is a python error, you&#39;re running something incorrectly or didn&#39;t import the modules using pip. That being said, this code will only work for universal binary (32 &amp; 64-bit) architectures, since there are some changes for 64-bit only binaries."}, {"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555276740, "post_id": 31411289, "comment_id": 98044707, "body": "Thanks. Yeah, I missed a module (however the script breaks out, probably because the executable has the wrong architecture?). We are using a 64-bit binary. Do not know if using universal binaries makes much sense nowadays or it is possible to compile our application like that. Have you ever solved the issue also on 64-bit binaries? I&#39;ve been scanning the web all week with no success."}, {"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "reply_to_user": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555383019, "post_id": 31411289, "comment_id": 98081415, "body": "Universal binaries don&#39;t make much sense anymore; in fact, Apple is requiring 64-bit only for the AppStore. Yes, I solved the issue, but it took a lot of investment and creativity and can&#39;t share it here on SO."}, {"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555399277, "post_id": 31411289, "comment_id": 98086351, "body": "Please, write to me in private mail (added now to profile) or give me your contact so that we can discuss it professionally."}], "tags": [], "owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "is_accepted": true, "score": 1, "last_activity_date": 1436888560, "creation_date": 1436888560, "answer_id": 31411289, "question_id": 28863500, "link": "https://stackoverflow.com/questions/28863500/code-signing-in-mac-with-perl-scripts-compiled-with-parpacker-fails/31411289#31411289", "title": "Code signing in Mac with Perl scripts compiled with PAR::Packer fails", "body": "<p>I've figured out how to fix this. It's a solution that I adapted based on the Python solution written here:</p>\n\n<p><a href=\"https://github.com/pyinstaller/pyinstaller/wiki/Recipe-OSX-Code-Signing\" rel=\"nofollow\">https://github.com/pyinstaller/pyinstaller/wiki/Recipe-OSX-Code-Signing</a></p>\n\n<p>It's a problem caused by the Mach-O headers. Hopefully this helps someone else. After running this python script on the PAR executable, it will codesign.</p>\n\n<p>Some modifications are still required to PAR to get this to run, however, since PAR looks for the <code>\\nPAR.pm\\n</code> signature at the end of the file... which now contains the code signature. I have a working solution for that as well, and can share if others are interested.</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom __future__ import print_function\n\nimport os\nimport sys\n\nfrom macholib._cmdline import main as _main\nfrom macholib.MachO import MachO\nfrom macholib.mach_o import *\n\nARCH_MAP={\n    ('&lt;', '64-bit'): 'x86_64',\n    ('&lt;', '32-bit'): 'i386',\n    ('&gt;', '64-bit'): 'ppc64',\n    ('&gt;', '32-bit'): 'ppc',\n}\n\ndef print_file(fp, path):\n    print(path, file=fp)\n    exe_data = MachO(path)\n\n    for header in exe_data.headers:\n        seen = set()\n        if header.MH_MAGIC == MH_MAGIC_64:\n            sz = '64-bit'\n        else:\n            sz = '32-bit'\n\n        arch = CPU_TYPE_NAMES.get(header.header.cputype,\n                header.header.cputype)\n\n        print('    [%s endian=%r size=%r arch=%r]' % (header.__class__.__name__,\n                header.endian, sz, arch), file=fp)\n        for idx, name, other in header.walkRelocatables():\n            if other not in seen:\n                seen.add(other)\n                print('\\t' + other, file=fp)\n    print('', file=fp)\n\n    cmds = exe_data.headers[0].commands  # '0' - Exe contains only one architecture.\n    file_size = exe_data.headers[0].size\n\n    linkedit = cmds[3][1] # __LINKEDIT\n    new_segsize = file_size - linkedit.fileoff\n    linkedit.filesize = new_segsize\n\n    alignment = 4096\n    linkedit.vmsize = new_segsize + (alignment - (new_segsize % alignment)) # alignment\n\n    data = cmds[4][1] # LC_SYMTAB\n    new_strsize = file_size - data.stroff\n    data.strsize = new_strsize\n\n    # Write changes back.\n    fp = open(exe_data.filename, 'rb+')\n    exe_data.write(fp)\n    fp.close()\n\n    print (\"Successfully modified headers.\\n\")\n\ndef main():\n    _main(print_file)\n\nif __name__ == '__main__':\n    try:\n        sys.exit(main())\n    except KeyboardInterrupt:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 31411289, "answer_count": 1, "score": 0, "last_activity_date": 1555171917, "creation_date": 1425498400, "last_edit_date": 1425523638, "question_id": 28863500, "link": "https://stackoverflow.com/questions/28863500/code-signing-in-mac-with-perl-scripts-compiled-with-parpacker-fails", "title": "Code signing in Mac with Perl scripts compiled with PAR::Packer fails", "body": "<p>Does anyone have experience getting compiled Perl binaries to code sign on OSX? When trying to compile a Perl script in PAR, it returns an error when I try to code sign it. I've gotten around this error by not trying to code sign it as a binary (e.g., inside the \"Resources\" folder within a .app), but if I put it in the proper MacOS directory it fails on the signature.</p>\n\n<p>I've seen numerous fixes for python scripts (<a href=\"https://github.com/kamillus/py2app-pyqt-codesign-fix-os-x\" rel=\"nofollow\">https://github.com/kamillus/py2app-pyqt-codesign-fix-os-x</a>), but not any for Perl!</p>\n\n<p>The error message reported by codesign -s is \"main executable failed strict validation\". I've tried the --deep option as well with no success.</p>\n"}, {"tags": ["python", "string", "file", "python-3.x"], "comments": [{"owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "edited": false, "score": 0, "creation_date": 1425498551, "post_id": 28863440, "comment_id": 45992213, "body": "can&#39;t you use split??"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1425504244, "post_id": 28863440, "comment_id": 45995508, "body": "Python will not automatically un-pluralize your variable names. If you <code>for lines in file:</code> then the code in the loop needs to do something with <code>lines</code> not <code>line</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": true, "score": 1, "last_activity_date": 1425498845, "creation_date": 1425498845, "answer_id": 28863626, "question_id": 28863440, "link": "https://stackoverflow.com/questions/28863440/text-from-file-to-array-with-conditions-in-python/28863626#28863626", "title": "Text from file to array with conditions in Python", "body": "<p>you dont need to go this complex: you can use split</p>\n\n<pre><code>&gt;&gt;&gt; my_str = \"2,abc,True\"\n&gt;&gt;&gt; my_list = my_str.split(',')\n&gt;&gt;&gt; my_list\n['2', 'abc', 'True']\n</code></pre>\n\n<p>now you can put condition to convert to int ,str or bool</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 4538107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34c87524838ec6571affd811937957f3?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Ramzy Helmy", "link": "https://stackoverflow.com/users/4538107/mohamed-ramzy-helmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425499143, "creation_date": 1425499143, "answer_id": 28863717, "question_id": 28863440, "link": "https://stackoverflow.com/questions/28863440/text-from-file-to-array-with-conditions-in-python/28863717#28863717", "title": "Text from file to array with conditions in Python", "body": "<p>if you want to modify your code use add this condition before ture condition</p>\n\n<pre><code>if letter in \"True\":\n   break\n</code></pre>\n\n<p>or you can use split()</p>\n"}], "owner": {"reputation": 61, "user_id": 2898642, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b381ce156fad8802c1ffa78536b3012c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonatan", "link": "https://stackoverflow.com/users/2898642/jonatan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 28863626, "answer_count": 2, "score": -1, "last_activity_date": 1425499143, "creation_date": 1425498185, "question_id": 28863440, "link": "https://stackoverflow.com/questions/28863440/text-from-file-to-array-with-conditions-in-python", "title": "Text from file to array with conditions in Python", "body": "<pre><code>    file = open(\"smth.txt\",\"r\")\n    pom = list()\n    string = \"\"\n    for lines in file:\n        for letter in line:\n            if letter in \"0123456789\":\n                pom.append(int(letter))\n            if letter == \"T\" :\n                pom.append(True)\n            elif letter.isalpha() == True:\n                string += letter\n       pom.append(string)\n    file.close()\n    print(pom)\n</code></pre>\n\n<p>Idea of code should be simple from a line from .txt is: 2,abc,True. The result should be [2, 'abc', True] so numbers convert to int, letters into str, and \"True\" into True. I have problem with that True, now the result is [2, True, 'abcrue'] what condition should be used on \"True\" ?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "visualization", "seaborn"], "comments": [{"owner": {"reputation": 5126, "user_id": 48808, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pFhME.jpg?s=128&g=1", "display_name": "iayork", "link": "https://stackoverflow.com/users/48808/iayork"}, "edited": false, "score": 1, "creation_date": 1425502378, "post_id": 28863435, "comment_id": 45994418, "body": "It&#39;s a scatter plot, with the size set for each point, and each point plotted at one radius higher than the common bottom point.  What have you tried so far?"}, {"owner": {"reputation": 4673, "user_id": 319584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5d1e6ccdfaf2fb28512d5b1025c6852?s=128&d=identicon&r=PG", "display_name": "Marijn van Vliet", "link": "https://stackoverflow.com/users/319584/marijn-van-vliet"}, "edited": false, "score": 1, "creation_date": 1425554017, "post_id": 28863435, "comment_id": 46014985, "body": "Not sure why this question was put on hold... Check my answer here: <a href=\"https://gist.github.com/wmvanvliet/73b821746e401f9ba935\" rel=\"nofollow noreferrer\">gist.github.com/wmvanvliet/73b821746e401f9ba935</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "is_accepted": false, "score": 4, "last_activity_date": 1443115374, "last_edit_date": 1443115374, "creation_date": 1425664520, "answer_id": 28904745, "question_id": 28863435, "link": "https://stackoverflow.com/questions/28863435/how-to-make-a-centered-bubble-chart-in-python-matplot-lib/28904745#28904745", "title": "How to make a centered bubble chart in python/matplot lib", "body": "<p>I would interact with matplotlib artists directly. I would also set the radius -- and therefore center -- of each circle the square root of the populations.</p>\n\n<p>This is because, for a circle, <code>A ~ r^2</code>, so you'll heavily distort the size differences if <code>r ~ population</code>.</p>\n\n<p>So all that said:</p>\n\n<pre><code>%matplotlib inline\nimport numpy\nimport matplotlib.colors as mcolors\nimport matplotlib.pyplot as plt\nimport seaborn\n\nseaborn.set(style='white')\n\npopulations = numpy.sqrt([50000., 10478.2, 4733.4, 3185.3, 2484.7, 2310.9])\ncp = seaborn.color_palette('Blues_r', n_colors=len(populations))\n\nfig, ax = plt.subplots()\n\nfor n, p in enumerate(populations):\n    circle = plt.Circle((1, p), radius=p, facecolor=cp[n])\n    ax.add_artist(circle)\n\nax.set_xlim(-max(populations), max(populations))\nax.set_ylim(0, 2 * max(populations))\nax.set_aspect('equal')\n\nplt.show()\n</code></pre>\n\n<p>Gives me this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kWi2i.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 21, "user_id": 4633790, "user_type": "registered", "profile_image": "https://graph.facebook.com/464415340380857/picture?type=large", "display_name": "OttoS", "link": "https://stackoverflow.com/users/4633790/ottos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1911, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443115374, "creation_date": 1425498170, "last_edit_date": 1425510920, "question_id": 28863435, "link": "https://stackoverflow.com/questions/28863435/how-to-make-a-centered-bubble-chart-in-python-matplot-lib", "title": "How to make a centered bubble chart in python/matplot lib", "body": "<p>I'm trying to make a centered bubble chart in matplotlib / python similar to this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fLaGR.png\" alt=\"enter image description here\"></p>\n\n<p>Some people have called it a \"bottom aligned bubble chart\", So far, I've basically found a way to do a concentric circle scatter plot. </p>\n\n<pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\ns = [ 50000.,10478.2, 4733.4,3185.3,2484.7,2310.9]\nx = [1]*len(s)\ny = [0]*len(s);\nplt.scatter(x,y,s=s);\nplt.show()\n</code></pre>\n\n<p>Any ideas on how to line up the bottom edges of these concentric cirlces? </p>\n"}, {"tags": ["python", "ubuntu", "package", "apt", "aptitude"], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1425864160, "post_id": 28864018, "comment_id": 46123635, "body": "I know this tutorial, but i don&#39;t understand by studying it. I have no experience with developing with package managers., I opened another question please help:<a href=\"http://stackoverflow.com/questions/28933807/why-object-is-created-using-apt-cache-rather-than-apt-cache-cache\" title=\"why object is created using apt cache rather than apt cache cache\">stackoverflow.com/questions/28933807/&hellip;</a>"}], "tags": [], "owner": {"reputation": 591, "user_id": 4602991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8a102cb2483db6702ab3d0d07bbc6e?s=128&d=identicon&r=PG&f=1", "display_name": "wfr", "link": "https://stackoverflow.com/users/4602991/wfr"}, "is_accepted": true, "score": 2, "last_activity_date": 1425500095, "creation_date": 1425500095, "answer_id": 28864018, "question_id": 28863403, "link": "https://stackoverflow.com/questions/28863403/finding-the-attributes-of-a-package-in-ubuntu/28864018#28864018", "title": "Finding the attributes of a package in Ubuntu", "body": "<p><a href=\"http://debian-handbook.info/browse/stable/sect.apt-cache.html\" rel=\"nofollow\"><code>apt-cache</code></a> yields a lot of information about a package, e.g.:</p>\n\n<pre><code>apt-cache show bash\n\nPackage: bash\nVersion: 4.3-12\nEssential: yes\nInstalled-Size: 5367\nMaintainer: Matthias Klose &lt;doko@debian.org&gt;\nArchitecture: amd64\nReplaces: bash-completion (&lt;&lt; 20060301-0), bash-doc (&lt;= 2.05-1)\nDepends: base-files (&gt;= 2.1.12), debianutils (&gt;= 2.15)\nPre-Depends: dash (&gt;= 0.5.5.1-2.2), libc6 (&gt;= 2.15), libncurses5 (&gt;= 5.5-5~), libtinfo5\nRecommends: bash-completion (&gt;= 20060301-0)\nSuggests: bash-doc\nConflicts: bash-completion (&lt;&lt; 20060301-0)\nDescription-en: GNU Bourne Again SHell\n...\n</code></pre>\n\n<p>You can get a list of packages that will be upgraded with:</p>\n\n<pre><code>apt-get --just-print upgrade\n</code></pre>\n\n<p>However, don't reinvent the wheel. There's a quite complete Python library to access APT:</p>\n\n<p><a href=\"http://apt.alioth.debian.org/python-apt-doc/library/apt.cache.html\" rel=\"nofollow\">http://apt.alioth.debian.org/python-apt-doc/library/apt.cache.html</a></p>\n\n<p><a href=\"http://packages.ubuntu.com/trusty/python3-apt\" rel=\"nofollow\">http://packages.ubuntu.com/trusty/python3-apt</a></p>\n"}], "owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 28864018, "answer_count": 1, "score": 1, "last_activity_date": 1425500095, "creation_date": 1425498070, "question_id": 28863403, "link": "https://stackoverflow.com/questions/28863403/finding-the-attributes-of-a-package-in-ubuntu", "title": "Finding the attributes of a package in Ubuntu", "body": "<p>i want to find and print all attributes of a package using python. I'm using ubuntu and developing in python. I can search and find all packages. FOr example one these packages is \"eclipse-cdt\". I want to develop a code giving the attributes of this package, such as, isInstalled, isUpdateable, versionNumber, dependentPackages etc. How can i do this?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "decimal", "calculator"], "comments": [{"owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "edited": false, "score": 0, "creation_date": 1425497847, "post_id": 28863263, "comment_id": 45991821, "body": "I think you&#39;re looking for <a href=\"https://docs.python.org/2/library/decimal.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/decimal.html</a>"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1425497894, "post_id": 28863263, "comment_id": 45991841, "body": "You are casting everything to <code>int</code>.  Perhaps you want to cast to <code>float</code> or <code>decimal.Decimal</code> instead."}, {"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1425497909, "post_id": 28863263, "comment_id": 45991850, "body": "Well, <a href=\"https://docs.python.org/3/library/decimal.html#quick-start-tutorial\" rel=\"nofollow noreferrer\">there <i>is</i> a tutorial in the documentation</a>. You should use that to learn to <i>&quot;know how to use decimals&quot;</i>. Also, if you want do use decimals, why are you casting to int?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4633748"}, "edited": false, "score": 0, "creation_date": 1425498057, "post_id": 28863357, "comment_id": 45991926, "body": "Thank you! I am going to do this!"}], "tags": [], "owner": {"reputation": 591, "user_id": 4602991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8a102cb2483db6702ab3d0d07bbc6e?s=128&d=identicon&r=PG&f=1", "display_name": "wfr", "link": "https://stackoverflow.com/users/4602991/wfr"}, "is_accepted": false, "score": 3, "last_activity_date": 1425497908, "creation_date": 1425497908, "answer_id": 28863357, "question_id": 28863263, "link": "https://stackoverflow.com/questions/28863263/python-how-to-use-decimals-instead-of-rounding/28863357#28863357", "title": "Python: How to use decimals instead of rounding?", "body": "<p>Instead of <code>int(...)</code> use either <code>float(...)</code> or <code>decimal.Decimal(...)</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>import decimal\nd = decimal.Decimal(raw_input(\"\\nEnter a number &gt;\"))\nprint(d)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>f = float(raw_input(\"\\nEnter a number &gt;\"))\nprint(f)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8286, "user_id": 533037, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f711473fb27cd269ba5ad2064c15dcd3?s=128&d=identicon&r=PG", "display_name": "solidpixel", "link": "https://stackoverflow.com/users/533037/solidpixel"}, "is_accepted": false, "score": 1, "last_activity_date": 1425497927, "creation_date": 1425497927, "answer_id": 28863364, "question_id": 28863263, "link": "https://stackoverflow.com/questions/28863263/python-how-to-use-decimals-instead-of-rounding/28863364#28863364", "title": "Python: How to use decimals instead of rounding?", "body": "<p>If you don't mind losing precision use floating point variables. </p>\n\n<p>If you want to keep precision, I'd suggest using this:</p>\n\n<p><a href=\"https://docs.python.org/2/library/decimal.html\" rel=\"nofollow\">https://docs.python.org/2/library/decimal.html</a></p>\n\n<p>.. rather than rolling your own decimal maths library.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4633748"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425497927, "creation_date": 1425497594, "question_id": 28863263, "link": "https://stackoverflow.com/questions/28863263/python-how-to-use-decimals-instead-of-rounding", "title": "Python: How to use decimals instead of rounding?", "body": "<p>Ok, I know how to normally use decimals with mathematical calculations in Python. But these use variables. So I do not know how to do it in my instance. This is a calculator I typed up real quick but I do not know how to use decimals. Thanks a lot!!</p>\n\n<pre><code>def addition(a, b):\n    return a + b\n\ndef subtraction(a, b):\n    return a - b\n\ndef multiplication(a, b):\n    return a * b\n\ndef division(a, b):\n    return a / b\n\nprint \"\"\"\\nThis is a calculator. You can add, subtract, multiply, or divide with a max of two variables.\"\"\"\n\nprint \"\"\"\\nTo add: Type 1\n\\nTo subtract: Type 2\n\\nTo multiply: Type 3\n\\nTo divide: Type 4 \"\"\"\n\nsign = raw_input(\"\\n\\nPlease enter a number  &gt;\")\n\n\nif sign == \"1\":\n    first = int(raw_input(\"\\n\\nEnter your first number to add  &gt;\"))\n    second = int(raw_input(\"\\n\\nEnter your second number to add  &gt;\"))\n    print \"\\nYour result is:\\n\"\n    print addition(first, second)\n\n\nelif sign == \"2\":\n    first = int(raw_input(\"\\n\\nEnter your first number to subract  &gt;\"))\n    second = int(raw_input(\"\\n\\nEnter your second number to subract  &gt;\"))\n    print \"\\nYour result is:\\n\"\n    print subtraction(first, second)\n\nelif sign == \"3\":\n    first = int(raw_input(\"\\n\\nEnter your first number to multiply  &gt;\"))\n    second =int(raw_input(\"\\n\\nEnter your second number to multiply  &gt;\"))\n    print \"\\nYour result is:\\n\"\n    print multiplication(first, second)\n\nelif sign == \"4\":\n    first = int(raw_input(\"\\n\\nEnter your first number to divide  &gt;\"))\n    second =int(raw_input(\"\\n\\nEnter your second number to divide  &gt;\"))\n    print \"\\nYour result is:\\n\"\n    print division(first, second)\n</code></pre>\n"}, {"tags": ["python", "c++", "c"], "comments": [{"owner": {"reputation": 5521, "user_id": 479230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fK2jw.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/479230/jimmy"}, "edited": false, "score": 1, "creation_date": 1425498021, "post_id": 28863122, "comment_id": 45991906, "body": "have you checked out boost::python?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1425498024, "post_id": 28863122, "comment_id": 45991908, "body": "Unless you really want to do it on your own, consider <a href=\"http://www.swig.org/\" rel=\"nofollow noreferrer\">Swig</a> or <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/python/doc/\" rel=\"nofollow noreferrer\">Boost Python</a>."}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425499340, "post_id": 28863122, "comment_id": 45992660, "body": "I&#39;d love to use swig I just don&#39;t see how. Swig allows to access C/C++ libraries through python, but I want to do it the other way. I want to call hooks (functions) defined in python modules from C++."}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425499415, "post_id": 28863122, "comment_id": 45992700, "body": "Ok I will check boost::python maybe it can do this"}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425502318, "post_id": 28863122, "comment_id": 45994377, "body": "Note, I don&#39;t want to export functions defined in C/C++ library so that I can call them from python, I want it the other way, both SWIG and boost::python seem to make it only possible for python to access C++ not for C++ to access python"}], "owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 696, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425497173, "creation_date": 1425497173, "question_id": 28863122, "link": "https://stackoverflow.com/questions/28863122/how-to-marshall-data-structures-from-c-c-into-python-and-back", "title": "How to marshall data structures from C/C++ into python and back", "body": "<p>I have a program that is written in C++ and can be extended with extensions that are written in python using python's C api, basically there is python interpreter in the program which can load python modules that contains some hooks to various events.</p>\n\n<p>I can pass simple data types from C to python, such as string or integer. I can do the same the other way, I can call internal C++ api's I created from the python modules. What I can't do, however is to marshall more complex data types, such as classes. For example I have this thing:</p>\n\n<pre><code>class X\n{\n    int a;\n    int b;\n};\n</code></pre>\n\n<p>I could call some python hook that would look like this:</p>\n\n<pre><code>def some_hook(a, b):\n  print(str(a + b))\n</code></pre>\n\n<p>but I would rather do</p>\n\n<pre><code>def some_hook(x):\n  print(str(x.a + x.b))\n</code></pre>\n\n<p>I know how to call a python function from C using <code>PyObject_CallObject</code> and how to give it some simple python vars as parameters (like integer or string). But I have no idea how to construct python classes from within C/C++, fill them up with data, and then pass them as parameters to <code>PyObject_CallObject</code>.</p>\n\n<p>My idea was to create some proxy classes like in SWIG (swig.org) that I would fill up with data from C++ class and then back. I created some .py file that contains the declaration of these classes, but still, I have no idea how would I instantiate them from within C/C++ and fill up? Neither how I would do it the other way - turn <code>PyObject</code> into C/C++ class?</p>\n\n<p><strong>In a nutshell:</strong> I want to be able to turn C++ class into a python class, call a python function with that class as a parameter, and then call some other function from python with this class that would be just a C++ API that would turn the python class into C++.</p>\n\n<p>Some background reading on how to call python from C: <a href=\"http://docs.python.org/3/extending/embedding.html\" rel=\"nofollow\">http://docs.python.org/3/extending/embedding.html</a></p>\n\n<p>Source code of my app C++ that loads and uses python extensions: <a href=\"https://github.com/huggle/huggle3-qt-lx/blob/master/huggle/pythonengine.cpp\" rel=\"nofollow\">https://github.com/huggle/huggle3-qt-lx/blob/master/huggle/pythonengine.cpp</a></p>\n"}]