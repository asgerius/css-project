[{"tags": ["python", "ironpython", "revitpythonshell"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1469059622, "post_id": 38492645, "comment_id": 64386736, "body": "Since you&#39;re accessing an <code>https:</code> url, you need a way to verify the host&#39;s security certificate, or else tell urllib to ignore certificates."}, {"owner": {"reputation": 31, "user_id": 6616093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CjtYe.jpg?s=128&g=1", "display_name": "Johnny B", "link": "https://stackoverflow.com/users/6616093/johnny-b"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1469140587, "post_id": 38492645, "comment_id": 64427767, "body": "looked into this, and you&#39;re correct -- <code>urllib</code> doesn&#39;t handle <code>ssl</code> so I tried using <a href=\"http://stackoverflow.com/questions/27835619/ssl-certificate-verify-failed-error\">this solution</a> to bypass SSL verification. Sadly, ironpython doesn&#39;t appear to support <code>ssl.SSLContext()</code> for one reason or another.  I found another solution using <code>from System.Net import WebRequest</code>. See post edit."}], "owner": {"reputation": 31, "user_id": 6616093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CjtYe.jpg?s=128&g=1", "display_name": "Johnny B", "link": "https://stackoverflow.com/users/6616093/johnny-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 924, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1469140948, "creation_date": 1469058812, "last_edit_date": 1469140948, "question_id": 38492645, "link": "https://stackoverflow.com/questions/38492645/ironpython-fails-when-calling-urlopen", "title": "IronPython fails when calling urlopen", "body": "<p>I'm attempting to use IronPython 2.7.4 to make a basic HTTP request with data and a header, using the <code>urllib2</code> module.  For a few reasons, I cannot use IronPython 2.7.5, and therefore cannot install the lovely <code>requests</code> module -- as far as I've discovered, it's not compatible with earlier versions -- so I'm stuck with <code>urllib2</code>.</p>\n\n<p>My code appears to fail at the <code>response = urllib2.urlopen(request)</code> line:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport urllib2\nimport logging\n\n#Create log for long-ass error\nLOG_FILENAME = 'error.txt'\nlogging.basicConfig(filename=LOG_FILENAME, level=logging.DEBUG)\n\n\ntry:\n    #Main Function\n    data = json.dumps({\"userID\": \"user@companycom\", \"password\": \"abcd1234\"})\n    header = {\"Content-Type\": \"application/json\"}\n    request = urllib2.Request(\"https://company.autodeskplm360.net/rest/auth/1/login\")\n    request.add_header(\"Content-Type\", \"application/json\")\n    request.add_data(data)\n    response = urllib2.urlopen(request)\n    print(response)\n#Print long-ass error to file\nexcept:\n    logging.exception(\"THIS IS MY ERROR\")\n    raise\n</code></pre>\n\n<p>I receive the following lengthy error... any suggestions??</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ERROR:root:THIS IS MY ERROR\nTraceback (most recent call last):\n  File \"API_Template_IPY_simple.py\", line 15, in &lt;module&gt;\n    response = urllib2.urlopen(request)\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 126, in urlopen\n    return _opener.open(url, data, timeout)\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 394, in open\n    response = self._open(req, data)\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 411, in _open\n    result = self._call_chain(self.handle_open, protocol, protocol +\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 372, in _call_chain\n    result = func(*args)\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 1207, in https_open\n    return self.do_open(httplib.HTTPSConnection, req)\n  File \"C:\\Program Files (x86)\\IronPython 2.7\\Lib\\urllib2.py\", line 1174, in do_open\n    raise URLError(err)\nURLError: &lt;urlopen error [Errno errors while performing handshake: ] System.Security.Authentication.AuthenticationException: A call to SSPI failed, see inner exception. ---&gt; System.ComponentModel.Win32Exception: The supplied message is incomplete. The signature was not verified\n\n   --- End of inner exception stack trace ---\n\n   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)\n\n   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.StartSendBlob(Byte[] incoming, Int32 count, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.StartSendBlob(Byte[] incoming, Int32 count, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)\n\n   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)\n\n   at System.Net.Security.SslStream.AuthenticateAsClient(String targetHost, X509CertificateCollection clientCertificates, SslProtocols enabledSslProtocols, Boolean checkCertificateRevocation)\n\n   at IronPython.Modules.PythonSocket.ssl.do_handshake()&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> Solved the problem! </p>\n\n<p>Found a different requests-type library buried <a href=\"http://www.ironpython.info/index.php?title=Submit_a_POST_form_and_download_the_result_web_page\" rel=\"nofollow\">in the IronPython documentation</a> which uses the .NET Class <code>WebRequest</code> Modified the example function shown slightly to account for JSON, and blammo. <code>200 OK</code> response generated.</p>\n"}, {"tags": ["python", "variables", "if-statement", "conditional"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1469058591, "post_id": 38492597, "comment_id": 64386520, "body": "do you want to do something if any of the variables match the condition? or do something for each variable matching the condition?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469058684, "post_id": 38492597, "comment_id": 64386536, "body": "This doesn&#39;t make sense. You&#39;re mentioning &quot;any variable&quot; but that&#39;s not in the code block. If you already know that <code>var2</code> and <code>var3</code> are between <code>var1</code> and <code>var4</code>, there&#39;s no point in including them. If you just want to check that <code>var1</code> is less than <code>var2</code> which is less than <code>var3</code> and so on, you can chain the comparison with <code>var1 &lt; var2 &lt; var3 &lt; var4</code>. What is your actual question?"}], "owner": {"reputation": 37, "user_id": 6388019, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/442dfed70d6cfa17c415ca93111228b5?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Burrows", "link": "https://stackoverflow.com/users/6388019/cameron-burrows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1469059046, "answer_count": 0, "score": 0, "last_activity_date": 1469058810, "creation_date": 1469058421, "question_id": 38492597, "link": "https://stackoverflow.com/questions/38492597/conditionals-between-multiple-variables", "closed_reason": "Duplicate", "title": "Conditionals between multiple variables", "body": "<p>Is there any way in python to do any thing like</p>\n\n<pre><code>if var1 &lt; [var2 thru var3] &lt; var4\n</code></pre>\n\n<p>where any variable that is in between var2 and var3 that is also in between var1 and var4 will trigger the if?\nI could be missing something obvious here but thanks in advance</p>\n"}, {"tags": ["python", "algorithm"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1469058204, "post_id": 38492553, "comment_id": 64386448, "body": "There are many, many ways to do this, depending on how your code is organized. Can you be more specific about what you have and - more importantly - what you&#39;ve tried yourself before asking this question?"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1469058330, "post_id": 38492553, "comment_id": 64386471, "body": "Just take all 4 neighbors (+1 and -1 index for x, the same for y -&gt; 2*2 combs; or 8 if diagonals are <i>adjacent</i>). But before indexing, check if within bounds (x+1 &lt; x_length; x-1 &gt;= 0; y+1 &lt; y_length, y-1 &gt;= 0)"}, {"owner": {"reputation": 3, "user_id": 6616149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2rfQ5CpKJ2w/AAAAAAAAAAI/AAAAAAAAAXk/EjzEfn9piSs/photo.jpg?sz=128", "display_name": "Jerfy", "link": "https://stackoverflow.com/users/6616149/jerfy"}, "edited": false, "score": 0, "creation_date": 1469114278, "post_id": 38492553, "comment_id": 64414236, "body": "Thanks for the comments. Edited with my original thought process."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6616149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2rfQ5CpKJ2w/AAAAAAAAAAI/AAAAAAAAAXk/EjzEfn9piSs/photo.jpg?sz=128", "display_name": "Jerfy", "link": "https://stackoverflow.com/users/6616149/jerfy"}, "edited": false, "score": 0, "creation_date": 1469559197, "post_id": 38492593, "comment_id": 64583371, "body": "Thank you! This helps out quite a bit!"}], "tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": true, "score": 1, "last_activity_date": 1469058402, "last_edit_date": 1495535337, "creation_date": 1469058402, "answer_id": 38492593, "question_id": 38492553, "link": "https://stackoverflow.com/questions/38492553/how-do-i-reference-adjacent-elements-in-a-matrix/38492593#38492593", "title": "How do I reference adjacent elements in a matrix?", "body": "<p>Here's a simple way to obtain indices of all adjacent elements. </p>\n\n<pre><code>from itertools import product, starmap\n\nx, y = (x_coordinate, y_coordinate) # matrix values here\ncells = starmap(lambda a,b: (x+a, y+b), product((0,-1,+1), (0,-1,+1)))\n</code></pre>\n\n<p>For an input of <code>x,y = (1,1)</code>, this returns <code>(list(cells)[1:])</code> containing <code>[(1, 0), (1, 2), (0, 1), (0, 0), (0, 2), (2, 1), (2, 0), (2, 2)]</code>. </p>\n\n<p>Such an implementation might be of interest in your particular scenario (determining to which places a certain game piece may move). If you want to include border checking, you might try</p>\n\n<pre><code>X = max_board_X\nY = max_board_Y    \nneighbors = lambda x, y : [(x2, y2) for x2 in range(x-1, x+2)\n                                   for y2 in range(y-1, y+2)\n                                   if (-1 &lt; x &lt;= X and\n                                       -1 &lt; y &lt;= Y and\n                                       (x != x2 or y != y2) and\n                                       (0 &lt;= x2 &lt;= X) and\n                                       (0 &lt;= y2 &lt;= Y))]\n</code></pre>\n\n<p>Other solutions (and sources for these) may be found here: <a href=\"https://stackoverflow.com/questions/1620940/determining-neighbours-of-cell-two-dimensional-list\">Determining neighbours of cell two dimensional list</a></p>\n"}], "owner": {"reputation": 3, "user_id": 6616149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2rfQ5CpKJ2w/AAAAAAAAAAI/AAAAAAAAAXk/EjzEfn9piSs/photo.jpg?sz=128", "display_name": "Jerfy", "link": "https://stackoverflow.com/users/6616149/jerfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "accepted_answer_id": 38492593, "answer_count": 1, "score": -1, "last_activity_date": 1469114185, "creation_date": 1469058077, "last_edit_date": 1469114185, "question_id": 38492553, "link": "https://stackoverflow.com/questions/38492553/how-do-i-reference-adjacent-elements-in-a-matrix", "title": "How do I reference adjacent elements in a matrix?", "body": "<p>I am trying to make some code so that a single element a matrix can reference elements adjacent to it. Sort of like how you can only move game pieces to spaces adjacent. For example, I want to be able to say something like:</p>\n\n<pre><code>if x matrix element is adjacent to y element:\n     y_element_adjacent = True\n</code></pre>\n\n<p>I want to know how to accomplish the 'is adjacent' portion of this.</p>\n\n<p>EDIT: I have tried making a list and assigning each element a number. So in a 100 element list (or a 10x10 game board), space 1x1 would be the 0th element and space 1x3 would be the 2nd element... Like this:</p>\n\n<p>1, 2, 3, 4, 5, 6, 7, 8, 9, 10</p>\n\n<p>11, 12, 13, 14, 15, 16, 17, 18, 19, 20</p>\n\n<p>However, the problem with this is that if the x element was 10, my code would take + 1 to find an adjacent space, and 11 is NOT adjacent. I then realized that lists are not the correct way to do this and matrices would be a the way to go. I'm just a little confused on how I can use them differently than lists.</p>\n\n<p>Any help is appreciated! Thanks.</p>\n"}, {"tags": ["python", "json", "ubuntu", "bots", "tweepy"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1469057132, "post_id": 38492411, "comment_id": 64386175, "body": "third is only defined if the else clause is invoked."}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1469057382, "post_id": 38492411, "comment_id": 64386243, "body": "I don&#39;t think this is the actual code that generates these errors.  As your listing stands the execution will never escape from the <code>while counter &lt; 2</code> loop."}, {"owner": {"reputation": 85, "user_id": 6119045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H1kCQ.jpg?s=128&g=1", "display_name": "Stephen-Njoroge", "link": "https://stackoverflow.com/users/6119045/stephen-njoroge"}, "edited": false, "score": 0, "creation_date": 1469057419, "post_id": 38492411, "comment_id": 64386249, "body": "thank you so how should I write that part of the code?"}, {"owner": {"reputation": 85, "user_id": 6119045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H1kCQ.jpg?s=128&g=1", "display_name": "Stephen-Njoroge", "link": "https://stackoverflow.com/users/6119045/stephen-njoroge"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1469057542, "post_id": 38492411, "comment_id": 64386283, "body": "thanks @PaulCornelius, let me remove the while and see.."}, {"owner": {"reputation": 85, "user_id": 6119045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H1kCQ.jpg?s=128&g=1", "display_name": "Stephen-Njoroge", "link": "https://stackoverflow.com/users/6119045/stephen-njoroge"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1469057719, "post_id": 38492411, "comment_id": 64386338, "body": "@PaulCornelius still it isn&#39;t working.. any suggestions?"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1469057737, "post_id": 38492411, "comment_id": 64386344, "body": "@steve254 I think it&#39;s an indentation problem with the code you posted.  Please check that."}, {"owner": {"reputation": 85, "user_id": 6119045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H1kCQ.jpg?s=128&g=1", "display_name": "Stephen-Njoroge", "link": "https://stackoverflow.com/users/6119045/stephen-njoroge"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1469058268, "post_id": 38492411, "comment_id": 64386459, "body": "thank you @PaulCornelius i removed the <code>while counter &lt; 2</code> loop and then went ahead and indented the code.. it now works like a charm, thanks."}], "owner": {"reputation": 85, "user_id": 6119045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H1kCQ.jpg?s=128&g=1", "display_name": "Stephen-Njoroge", "link": "https://stackoverflow.com/users/6119045/stephen-njoroge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469056854, "creation_date": 1469056854, "question_id": 38492411, "link": "https://stackoverflow.com/questions/38492411/python3-name-error-i-am-trying-to-make-a-twitter-bot-using-python-3-unfortunate", "title": "Python3 name error-I am trying to make a twitter-bot using python 3, Unfortunately my code throws name errors and I cant figure out why", "body": "<p>I am trying to build a python twitter-bot and I am surprised that python gives me name errors, please guide me out I don't know whether the problem is with json or urllib.request or python.\nI am trying to run the code directly in ubuntu 14.04 terminal with python 3.4.\nHere is my code.</p>\n\n<pre><code>#! /usr/bin/python3\nimport json, io, tweepy, time, urllib.request\nfrom secrets import *\nfrom random import randint\nauth = tweepy.OAuthHandler(C_KEY, C_SECRET)  \nauth.set_access_token(A_TOKEN, A_TOKEN_SECRET)  \napi = tweepy.API(auth)\nwith urllib.request.urlopen('https://raw.githubusercontent.com/dariusk/corpora/master/data/humans/occupations.json') as list1file:\n    list1read = list1file.read().decode('utf8')\nwith urllib.request.urlopen('https://raw.githubusercontent.com/dariusk/corpora/master/data/animals/dogs.json') as list2file:\n    list2read = list2file.read().decode('utf8')\n    list1 = json.loads(list1read)['occupations'] \n    list2 = json.loads(list2read)['dogs']\n    jokelist = []\n    counter = 0\n    while counter &lt; 2:\n        list1num = randint(0, len(list1)-1)\n        list2num = randint(0, len(list2)-1)\n        first = list1[list1num].lower()\n        second = list2[list2num].lower()\n    if second[0] in ['a', 'e', 'i', 'o', 'u']:\n        third = 'an'\n    else:\n        third = 'a'\n        joke = 'A {} is better than {} {}' .format(first, third, second)\n        print (joke)\n        jokelist.append(joke)\n        counter = counter + 1\n\nfor line in jokelist:\n    api.update_status(line)\n    time.sleep(15)\n\nprint ('[All done!]')\n</code></pre>\n\n<p>On execution, I get the following errors.</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>joke = 'A {} is better than {} {}' .format(first, third, second)\n      Traceback (most recent call last):\n        File \"\", line 1, in \n      NameError: name 'first' is not defined</p>\n      \n      <p>print (joke)\n      Traceback (most recent call last):\n        File \"\", line 1, in \n      NameError: name 'joke' is not defined</p>\n      \n      <p>jokelist.append(joke)\n      Traceback (most recent call last):\n        File \"\", line 1, in \n      NameError: name 'joke' is not defined</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>I am new to programming and I will accept any help accorded.</p>\n"}, {"tags": ["python", "numpy", "formatting", "string-formatting"], "comments": [{"owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "edited": false, "score": 0, "creation_date": 1469057515, "post_id": 38492390, "comment_id": 64386272, "body": "Also, I wonder why the developers thought this was a good default."}], "answers": [{"tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": true, "score": 3, "last_activity_date": 1469057347, "last_edit_date": 1469057347, "creation_date": 1469057254, "answer_id": 38492455, "question_id": 38492390, "link": "https://stackoverflow.com/questions/38492390/how-to-make-numpy-print-trailing-0s/38492455#38492455", "title": "How to make NumPy print trailing 0s?", "body": "<p>You can use numpy's <a href=\"http://docs.scipy.org/doc/numpy-1.10.4/reference/generated/numpy.set_printoptions.html#numpy.set_printoptions\" rel=\"nofollow\"><code>set_printoptions</code></a> with a custom formatter to set the precision and exact format of the output; for your case, </p>\n\n<pre><code>np.set_printoptions(formatter={'float': '{: 0.3f}'.format})\n</code></pre>\n\n<p>should do the trick.  </p>\n"}], "owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "closed_date": 1469057425, "accepted_answer_id": 38492455, "answer_count": 1, "score": 1, "last_activity_date": 1469057347, "creation_date": 1469056649, "question_id": 38492390, "link": "https://stackoverflow.com/questions/38492390/how-to-make-numpy-print-trailing-0s", "closed_reason": "Duplicate", "title": "How to make NumPy print trailing 0s?", "body": "<p>When printing arrays, Numpy replaces trailing <code>0</code>s with <code></code>s, <em>e.g.</em></p>\n\n<pre><code>[-0.678231 -0.618304 -0.6077    0.014845]\n</code></pre>\n\n<p>How can I fix this and make it print the <code>0</code>s?</p>\n"}, {"tags": ["python", "utf-8"], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 13, "last_activity_date": 1469056735, "creation_date": 1469056735, "answer_id": 38492402, "question_id": 38492358, "link": "https://stackoverflow.com/questions/38492358/is-it-superfluous-to-declare-coding-utf-8-after-usr-bin-python3/38492402#38492402", "title": "Is it superfluous to declare # -*- coding: utf-8 -*- after #!/usr/bin/python3?", "body": "<p>The default encoding for python3 code <em>is</em> utf-8.  See <a href=\"https://docs.python.org/3/howto/unicode.html#python-s-unicode-support\" rel=\"noreferrer\">python's unicode support</a>.</p>\n\n<p>If you want to support python2.x in the same file or if you want to use a coding other than utf-8, you need that comment, otherwise you can leave it off without any repercussions.</p>\n"}], "owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7131, "favorite_count": 4, "closed_date": 1565516393, "accepted_answer_id": 38492402, "answer_count": 1, "score": 5, "last_activity_date": 1488547008, "creation_date": 1469056422, "last_edit_date": 1469056807, "question_id": 38492358, "link": "https://stackoverflow.com/questions/38492358/is-it-superfluous-to-declare-coding-utf-8-after-usr-bin-python3", "closed_reason": "Duplicate", "title": "Is it superfluous to declare # -*- coding: utf-8 -*- after #!/usr/bin/python3?", "body": "<p>I have been writing: </p>\n\n<pre><code>#!/usr/bin/python3\n# -*- coding: utf-8 -*-\n</code></pre>\n\n<p>But I believe Python3 uses Unicode by default.</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 3134, "user_id": 4918632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JX8vW.jpg?s=128&g=1", "display_name": "Han Zhengzu", "link": "https://stackoverflow.com/users/4918632/han-zhengzu"}, "edited": false, "score": 3, "creation_date": 1469071985, "post_id": 38492333, "comment_id": 64389494, "body": "You can try <code>ax.set_xlabel(&quot;Number of Trips in Period&quot;,color = &#39;green&#39;)</code>"}, {"owner": {"reputation": 43, "user_id": 2394868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY8Kg.png?s=128&g=1", "display_name": "Renato Arbex", "link": "https://stackoverflow.com/users/2394868/renato-arbex"}, "reply_to_user": {"reputation": 3134, "user_id": 4918632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JX8vW.jpg?s=128&g=1", "display_name": "Han Zhengzu", "link": "https://stackoverflow.com/users/4918632/han-zhengzu"}, "edited": false, "score": 0, "creation_date": 1469203775, "post_id": 38492333, "comment_id": 64455898, "body": "@HanZhengzu Thanks, that worked!"}], "owner": {"reputation": 43, "user_id": 2394868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY8Kg.png?s=128&g=1", "display_name": "Renato Arbex", "link": "https://stackoverflow.com/users/2394868/renato-arbex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 11570, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1469056265, "creation_date": 1469056265, "question_id": 38492333, "link": "https://stackoverflow.com/questions/38492333/how-to-change-text-color-in-matplotlib", "title": "How to change text color in Matplotlib?", "body": "<p>How to change the color of a matplotlib graph? Now the title is black but the other texts are grey. I'm creating a Hexbin graph using Pandas plot. I have already tried</p>\n\n<pre><code>matplotlib.rcParams.update({'text.color': 'black'})\n</code></pre>\n\n<p>As I understood from <a href=\"http://matplotlib.org/users/customizing.html\" rel=\"nofollow\">http://matplotlib.org/users/customizing.html</a> But it doesn't work.  </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib\nmatplotlib.style.use('ggplot')\nfont = {'family' : 'normal',\n        'weight' : 'bold',\n        'size'   : 22}                          \nmatplotlib.rc('font', **font)\n\nt = pessoas.plot.hexbin(x='qteViagens',y='qteDestUnicos',cmap=plt.cm.jet,gridsize=20,norm=matplotlib.colors.LogNorm(),colorbar=False)\nt.set_xlabel('Number of Trips in Period')\nt.set_ylabel('Number of Unique Destinations')\nt.set_title('Number of Users')\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/Dnip3.png\" rel=\"nofollow\">Matplotlib Hexbin graph</a></p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1469056251, "post_id": 38492318, "comment_id": 64385912, "body": "&quot;I would like a variable that is a numpy transformation of another array and that will automatically reflect changes to the other array&quot; - not going to happen, and most ways of achieving a similar effect have a lot of overhead."}, {"owner": {"reputation": 1867, "user_id": 5558281, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qEpOG.jpg?s=128&g=1", "display_name": "jlarsch", "link": "https://stackoverflow.com/users/5558281/jlarsch"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469056715, "post_id": 38492318, "comment_id": 64386062, "body": "@user2357112 why is that? Is this by (python) design? what ways of achieving a similar effect are there? If most have overhead, are there some that don&#39;t?"}], "owner": {"reputation": 1867, "user_id": 5558281, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qEpOG.jpg?s=128&g=1", "display_name": "jlarsch", "link": "https://stackoverflow.com/users/5558281/jlarsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469056147, "creation_date": 1469056147, "question_id": 38492318, "link": "https://stackoverflow.com/questions/38492318/pass-transformed-numpy-arrays-as-reference", "title": "pass transformed numpy arrays as reference", "body": "<p>this may be something that isn't supposed to work the way I imagine it:\nI would like a variable that is a numpy transformation of another array and that will automatically reflect changes to the other array.</p>\n\n<p>I don't understand at what point numpy arrays stop being passed as a reference rather than value</p>\n\n<p>A simple example where arrays are passed as reference:</p>\n\n<pre><code>import numpy as np\n\n\na=np.arange(5)\nprint 'a original', a\nb=a\nprint 'b = a', b\na[0]=10\nprint 'a modified', a\nprint 'b ', b\n</code></pre>\n\n<p>however, as soon as I apply any transformation to b, the reference to a is lost.</p>\n\n<pre><code>import numpy as np\na=np.arange(5)\nprint 'a original', a\nb=np.diff(a)\nprint 'b = np.diff(a)', b\na[0]=10\n\nprint 'a modified', a\nprint 'b ', b\n</code></pre>\n\n<p>I am looking for a way to maintain the reference from b to a in this second example.</p>\n\n<p>I thought about writing a wrapper class like this:</p>\n\n<pre><code>import numpy as np\nclass linkedVariables:\n    def __init__(self,a=np.arange(5)):\n        self.a=a\n        self.b=np.diff(self.a)\n\n    def c(self):\n        return np.diff(self.a)\n\nlv=linkedVariables()\n\nprint 'a original', lv.a\nprint 'b = np.diff(a)', lv.b\nprint 'c = np.diff(a)', lv.c()\nlv.a[0]=10\n\nprint 'a modified', lv.a\nprint 'b ', lv.b\nprint 'c ', lv.c()\n</code></pre>\n\n<p>Now lv.c() maintains the reference to a of course but I would rather have a solution that is 'invisible' to the outside of the class linkedVariables in the sense that I want to be able to call lv.c rather than lv.c()</p>\n\n<p>Is that possible?</p>\n\n<p>(or any other solution that doesn't require the new class at all?)</p>\n"}, {"tags": ["python", "python-2.7", "cluster-analysis", "permutation"], "answers": [{"tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": true, "score": 2, "last_activity_date": 1469091181, "creation_date": 1469091181, "answer_id": 38499466, "question_id": 38492314, "link": "https://stackoverflow.com/questions/38492314/reordering-cluster-numbers-for-correct-correspondence/38499466#38499466", "title": "reordering cluster numbers for correct correspondence", "body": "<p>The most well-known algorithm for finding the optimum matching is the <strong>hungarian method</strong>.</p>\n\n<p>Because it cannot be explained in a few sentences, I have to refer you to a book of your choice, or <a href=\"https://en.wikipedia.org/wiki/Hungarian_algorithm\" rel=\"nofollow\">Wikipedia article \"Hungarian algorithm\"</a>.</p>\n\n<p>You can probably get good results (even perfect if the difference is indeed tiny) by simply picking the maximum of the correspondence matrix and then removing that row and column.</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 3446619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926a3840c911a628048a5deb5dde7f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Xin Niu", "link": "https://stackoverflow.com/users/3446619/xin-niu"}, "is_accepted": false, "score": 0, "last_activity_date": 1579812942, "last_edit_date": 1579812942, "creation_date": 1573514242, "answer_id": 58809901, "question_id": 38492314, "link": "https://stackoverflow.com/questions/38492314/reordering-cluster-numbers-for-correct-correspondence/58809901#58809901", "title": "reordering cluster numbers for correct correspondence", "body": "<p>I have a function that works for me. But it may fail when the two cluster results are very inconsistent, which leads to duplicated max values in the contingency matrix. If your cluster results are about the same, it should work.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from sklearn.metrics.cluster import contingency_matrix\n\ndef align_cluster_index(ref_cluster, map_cluster):\n\"\"\"\nremap cluster index according the the ref_cluster.\nboth inputs must be nparray and have same number of unique cluster index values.\n\nXin Niu Jan-15-2020\n\"\"\"\n\nref_values = np.unique(ref_cluster)\nmap_values = np.unique(map_cluster)\n\nprint(ref_values)\nprint(map_values)\n\nnum_values = ref_values.shape[0]\n\nif ref_values.shape[0]!=map_values.shape[0]:\n    print('error: both inputs must have same number of unique cluster index values.')\n    return()\n\nswitched_col = set()\nwhile True:\n    cont_mat = contingency_matrix(ref_cluster, map_cluster)\n    print(cont_mat)\n    # divide contingency_matrix by its row and col sums to avoid potential duplicated values:\n    col_sum = np.matmul(np.ones((num_values, 1)), np.sum(cont_mat, axis = 0).reshape(1, num_values))\n    row_sum = np.matmul(np.sum(cont_mat, axis = 1).reshape(num_values, 1), np.ones((1, num_values)))\n    print(col_sum)\n    print(row_sum)\n\n    cont_mat = cont_mat/(col_sum+row_sum)\n    print(cont_mat)\n\n    # ignore columns that have been switched:\n    cont_mat[:, list(switched_col)]=-1\n\n    print(cont_mat)\n\n    sort_0 = np.argsort(cont_mat, axis = 0)\n    sort_1 = np.argsort(cont_mat, axis = 1)\n\n    print('argsort contmat:')\n    print(sort_0)\n    print(sort_1)\n\n    if np.array_equal(sort_1[:,-1], np.array(range(num_values))):\n        break\n\n    # switch values according to the max value in the contingency matrix:\n    # get the position of max value:\n    idx_max = np.unravel_index(np.argmax(cont_mat, axis=None), cont_mat.shape)\n    print(cont_mat)\n    print(idx_max)\n\n    if (cont_mat[idx_max]&gt;0) and (idx_max[0] not in switched_col):\n        cluster_tmp = map_cluster.copy()\n        print('switch', map_values[idx_max[1]], 'and:', ref_values[idx_max[0]])\n        map_cluster[cluster_tmp==map_values[idx_max[1]]]=ref_values[idx_max[0]]\n        map_cluster[cluster_tmp==map_values[idx_max[0]]]=ref_values[idx_max[1]]\n\n        switched_col.add(idx_max[0])\n        print(switched_col)\n\n    else:\n        break\n\nprint('final argsort contmat:')\nprint(sort_0)\nprint(sort_1)\n\nprint('final cont_mat:')\ncont_mat = contingency_matrix(ref_cluster, map_cluster)\ncol_sum = np.matmul(np.ones((num_values, 1)), np.sum(cont_mat, axis = 0).reshape(1, num_values))\nrow_sum = np.matmul(np.sum(cont_mat, axis = 1).reshape(num_values, 1), np.ones((1, num_values)))\ncont_mat = cont_mat/(col_sum+row_sum)\n\nprint(cont_mat)\n\nreturn(map_cluster)\n</code></pre>\n\n<p>And here is some test code:</p>\n\n<pre><code>ref_cluster = np.array([2,2,3,1,0,0,0,1,2,1,2,2,0,3,3,3,3])\nmap_cluster = np.array([0,0,0,1,1,3,2,3,2,2,0,0,0,2,0,3,3])\n\nc = align_cluster_index(ref_cluster, map_cluster)\nprint(ref_cluster)\nprint(c)\n\n&gt;&gt;&gt;[2 2 3 1 0 0 0 1 2 1 2 2 0 3 3 3 3]\n&gt;&gt;&gt;[2 2 2 1 1 3 0 3 0 0 2 2 2 0 2 3 3]\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5754120, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63c7c6296e7508dec14f80218474fb2e?s=128&d=identicon&r=PG&f=1", "display_name": "AnandJ", "link": "https://stackoverflow.com/users/5754120/anandj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 38499466, "answer_count": 2, "score": 3, "last_activity_date": 1579812942, "creation_date": 1469056135, "question_id": 38492314, "link": "https://stackoverflow.com/questions/38492314/reordering-cluster-numbers-for-correct-correspondence", "title": "reordering cluster numbers for correct correspondence", "body": "<p>I have a dataset that I clustered using two different clustering algorithms. The results are about the same, but the cluster numbers are permuted.\nNow for displaying the color coded labels, I want the label ids to be same for the same clusters.\nHow can I get correct permutation between the two label ids?</p>\n\n<p>I can do this using brute force, but perhaps there is a better/faster method. I would greatly appreciate any help or pointers. If possible I am looking for a python function.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469056537, "post_id": 38492353, "comment_id": 64385996, "body": "I need to delete that. It&#39;s for another purpose that I&#39;m asking. I need the ind values to always display in the same units regardless of how many bars there are."}, {"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "reply_to_user": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469056725, "post_id": 38492353, "comment_id": 64386071, "body": "@DanceParty2 The bars depends on the number of people aren&#39;t they? So that does exactly what you wish"}, {"owner": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469057187, "post_id": 38492353, "comment_id": 64386194, "body": "Not always. I have another bar chart that starts increment of 1 for 6 bars or more, whereas this one starts at 5 bars or more."}, {"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "reply_to_user": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469057432, "post_id": 38492353, "comment_id": 64386254, "body": "@DanceParty2 I can&#39;t understand what is the problem. Whenever you use <code>barh</code> you sent  a list of values as a parameter and you can send the <code>range</code> of the length of that list to <code>yticks</code>"}, {"owner": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469060215, "post_id": 38492353, "comment_id": 64386855, "body": "Not sure what you mean (I probably have seen it, but can&#39;t recall based on your comment). Will that allow me to specify the increments shown on the axis as in 0.5 or 1?"}, {"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "reply_to_user": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "edited": false, "score": 0, "creation_date": 1469091284, "post_id": 38492353, "comment_id": 64398681, "body": "@DanceParty2 did you try it? If you have another question please give  a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}], "tags": [], "owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "is_accepted": true, "score": 1, "last_activity_date": 1469057242, "last_edit_date": 1469057242, "creation_date": 1469056398, "answer_id": 38492353, "question_id": 38492292, "link": "https://stackoverflow.com/questions/38492292/matplotlib-control-ind-increments/38492353#38492353", "title": "MatPlotLib: Control Ind Increments", "body": "<p>Use the <code>yticks</code> function like this:</p>\n\n<pre><code>plt.yticks(range(len(y_pos)))\n</code></pre>\n"}], "owner": {"reputation": 5274, "user_id": 5569314, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f3f6d9e55774ab1f7042e94909d6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dance Party2", "link": "https://stackoverflow.com/users/5569314/dance-party2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 38492353, "answer_count": 1, "score": 0, "last_activity_date": 1469057242, "creation_date": 1469056007, "last_edit_date": 1469056556, "question_id": 38492292, "link": "https://stackoverflow.com/questions/38492292/matplotlib-control-ind-increments", "title": "MatPlotLib: Control Ind Increments", "body": "<p>Given this chart:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.rcdefaults()\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Example data\npeople = ('Tom', 'Dick', 'Harry', 'Slim')\ny_pos = np.arange(len(people))\nperformance = 3 + 10 * np.random.rand(len(people))\n\nplt.barh(y_pos, performance, align='center', alpha=0.4)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ixlw1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixlw1.png\" alt=\"enter image description here\"></a>\nYou'll notice that the y-axis ind (index?) is in increments of 0.5.\nHowever, if I add a person to the list of people and re-run the code, the index is in increments of 1.</p>\n\n<p><strong>Is there any way to control the increments so that they are always in units of 1?</strong> </p>\n\n<p><em>Update</em></p>\n\n<p>If I can somehow get the increment (0.5 or 1) from the y-axis, that would be just as good.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 221, "user_id": 5319245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Su31o.png?s=128&g=1", "display_name": "Eska", "link": "https://stackoverflow.com/users/5319245/eska"}, "edited": false, "score": 0, "creation_date": 1469056327, "post_id": 38492290, "comment_id": 64385934, "body": "Try to print each line in your file: for line in fhand:     print line"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469057256, "post_id": 38492290, "comment_id": 64386207, "body": "Did you do any research into how iteration over a file object works in Python?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469057343, "post_id": 38492290, "comment_id": 64386233, "body": "And is your question about iterating over file objects, or everything in that block including variable assignment and incrementing?"}], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 2792896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dbf65eb2ebc0d8dc5b8fb48ac825fed?s=128&d=identicon&r=PG&f=1", "display_name": "Arnial", "link": "https://stackoverflow.com/users/2792896/arnial"}, "edited": false, "score": 0, "creation_date": 1469056353, "post_id": 38492334, "comment_id": 64385943, "body": "this more like logic and kwnolage than intuition."}], "tags": [], "owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1469056684, "last_edit_date": 1495542756, "creation_date": 1469056271, "answer_id": 38492334, "question_id": 38492290, "link": "https://stackoverflow.com/questions/38492290/line-counting-in-python/38492334#38492334", "title": "Line counting in Python", "body": "<p><a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow noreferrer\"><code>open()</code></a> returns a <a href=\"https://docs.python.org/2/library/stdtypes.html#bltin-file-objects\" rel=\"nofollow noreferrer\"><code>file</code></a> object.</p>\n\n<p><code>count=0</code> initializes a <code>count</code> variable with the value of <code>0</code>.</p>\n\n<p>As you can see in the documentation of the <code>file</code> object, using a <code>for</code> loop will get you the contents of the file line-by-line. (This is because <a href=\"https://stackoverflow.com/a/16994568/703229\"><code>file</code> objects are iterable</a>.)</p>\n\n<p>Each time you get the contents of a line, <code>count=count+1</code> adds <code>1</code> to the <code>count</code> variable.</p>\n\n<p><code>print count</code> dumps the contents of the <code>count</code> variable.</p>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 0, "last_activity_date": 1469056301, "creation_date": 1469056301, "answer_id": 38492337, "question_id": 38492290, "link": "https://stackoverflow.com/questions/38492290/line-counting-in-python/38492337#38492337", "title": "Line counting in Python", "body": "<p>A <a href=\"https://docs.python.org/2/library/stdtypes.html#file-objects\" rel=\"nofollow\">file object</a> is an iterator which when used will return each line of the file. Therefore, the count in the for-loop will simply count the number of lines in the file</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 5498412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BxyOS.png?s=128&g=1", "display_name": "Tropic", "link": "https://stackoverflow.com/users/5498412/tropic"}, "is_accepted": false, "score": 0, "last_activity_date": 1469056435, "creation_date": 1469056435, "answer_id": 38492359, "question_id": 38492290, "link": "https://stackoverflow.com/questions/38492290/line-counting-in-python/38492359#38492359", "title": "Line counting in Python", "body": "<pre><code>fhand=open('test.txt') # Opens the file and puts the content of it in the \"fhand\" variable\ncount=0 # Creates new variable \"count\" and sets it to 0\nfor line in fhand:\n    count=count+1 # Increase count by 1 for every line in the file\n\nprint count # Prints the amount of lines\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 6520782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd987047e2b9be21f470e295cb4e8fa4?s=128&d=identicon&r=PG&f=1", "display_name": "xCodeZone", "link": "https://stackoverflow.com/users/6520782/xcodezone"}, "is_accepted": false, "score": 0, "last_activity_date": 1469056673, "creation_date": 1469056673, "answer_id": 38492394, "question_id": 38492290, "link": "https://stackoverflow.com/questions/38492290/line-counting-in-python/38492394#38492394", "title": "Line counting in Python", "body": "<p>In Python, when you open the file, you are getting access to its contents.</p>\n\n<pre><code>fhand=open('test.txt')\n</code></pre>\n\n<p>The above does the job.</p>\n\n<pre><code>count=0\n</code></pre>\n\n<p>When you initialize count to 0, that means the variable is set to value 0, and once it enters the loop,</p>\n\n<pre><code>count=count+1\n</code></pre>\n\n<p>adds +1 to it every time.</p>\n\n<pre><code>for line in fhand\n</code></pre>\n\n<p>Above code is for iteration. It loops over each and every line of the file fhand and for every iteration, it adds +1 to count. </p>\n\n<p>When the iteration is complete, the value of count is set, which you print later to get the count of number of lines.</p>\n"}], "owner": {"reputation": 9, "user_id": 6544179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205070582364224/picture?type=large", "display_name": "Larry", "link": "https://stackoverflow.com/users/6544179/larry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1512, "favorite_count": 0, "closed_date": 1469057488, "accepted_answer_id": 38492334, "answer_count": 4, "score": -2, "last_activity_date": 1469056684, "creation_date": 1469056004, "question_id": 38492290, "link": "https://stackoverflow.com/questions/38492290/line-counting-in-python", "closed_reason": "Duplicate", "title": "Line counting in Python", "body": "<p>I am a beginner in Python self studying Python 2.7. May I ask one question I got in line counting codes in Python?\nHow do I intuitively understand why the below works, especially how I can understand what the for loop is doing with the file handle? </p>\n\n<p>Many thanks all</p>\n\n<pre><code>fhand=open('test.txt')\ncount=0\nfor line in fhand:\n    count=count+1\n\nprint count\n</code></pre>\n"}, {"tags": ["python", "command-line", "text-based"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5257597, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5516aa7363b7fe88dad339679001bb78?s=128&d=identicon&r=PG&f=1", "display_name": "Historic 66", "link": "https://stackoverflow.com/users/5257597/historic-66"}, "edited": false, "score": 0, "creation_date": 1469056310, "post_id": 38492236, "comment_id": 64385931, "body": "I&#39;m so mad at myself I could scream. Sometimes all you need is a second set of eyes. Thank you so much!"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 0, "last_activity_date": 1469055643, "creation_date": 1469055643, "answer_id": 38492236, "question_id": 38492226, "link": "https://stackoverflow.com/questions/38492226/python-error-cannot-concatenate-str-and-builtin-function-or-method-objects/38492236#38492236", "title": "Python error: cannot concatenate &#39;str&#39; and &#39;builtin_function_or_method&#39; objects", "body": "<p>You need to call that lower method, it's a <em>callable</em> attribute:</p>\n\n<pre><code>player_race = raw_input(\"&gt;&gt; \").lower()\n#                                   ^^\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5257597, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5516aa7363b7fe88dad339679001bb78?s=128&d=identicon&r=PG&f=1", "display_name": "Historic 66", "link": "https://stackoverflow.com/users/5257597/historic-66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 38492236, "answer_count": 1, "score": 0, "last_activity_date": 1469055643, "creation_date": 1469055579, "question_id": 38492226, "link": "https://stackoverflow.com/questions/38492226/python-error-cannot-concatenate-str-and-builtin-function-or-method-objects", "title": "Python error: cannot concatenate &#39;str&#39; and &#39;builtin_function_or_method&#39; objects", "body": "<p>I am currently in the process of programming a text-based adventure in Python as a learning exercise. So far, the player can name themselves, the value of which is stored in a dictionary key. However, when I attempt to allow the player to choose their race, I get the following error:</p>\n\n<p><em>cannot concatenate 'str' and 'builtin_function_or_method' objects</em></p>\n\n<p>I have gone over my code time and time again and can't seem to figure out what's wrong. I'm somewhat new to Python, so I assume it's something simple I'm overlooking. </p>\n\n<pre><code>player = {\n    \"name\": \"\",\n    \"gender\": \"\",\n    \"race\": \"\",\n    \"class\": \"\",\n    \"HP\": 10,\n}\n\ndef error():\n    print \"Error: Unknown Command\"\n\nprint \"You will have to forgive me, \" + player['name'] + \". My eyesight isn't what it used to be. What are you, exactly?.\"\nprint \"- A mighty HUMAN\"\nprint \"- A hardy DWARF\"\nprint \"- An ingenious GNOME \"\nprint \"- or an elegant ELF\"\nprint \"(Hint: If you would like to know more about each race, consult the manual, whatever that means)\"\nplayer_race = raw_input(\"&gt;&gt; \").lower\nwhile race_confirm == False:\n    if player_race != \"elf\":\n        print \"You say you're a \" + player_race + \". Is that correct? Remember, you will be unable to change your race later. (Y/N)\" \n        response = raw_input(\"&gt;&gt; \").lower()\n    else:\n        print \"You say you're an \" + player_race + \". Is that correct? Remember, you will be unable to change your race later. (Y/N)\" \n        response = raw_input(\"&gt;&gt; \").lower()\n    if response == \"y\":\n        player_race = player['race']\n        print \"It is nice to meet you, \", player['name'] + \"the\" + player['race'] + \".\"\n        race_confirm = True\n    elif response == \"n\":\n        print \"Oh, I'm terribly sorry. I must have misheard you. What did you say you were again?\"\n        player_name = raw_input(\"&gt;&gt; \")\n    else:\n        error()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 864, "user_id": 2039431, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f752361a0ef448dc2fd54c200cfce947?s=128&d=identicon&r=PG", "display_name": "Michael Westwort", "link": "https://stackoverflow.com/users/2039431/michael-westwort"}, "edited": false, "score": 0, "creation_date": 1469056109, "post_id": 38492273, "comment_id": 64385881, "body": "A while loop might help: While choice_two is not 0 or 1 query the input for choice_two again and again."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6447752"}, "edited": false, "score": 0, "creation_date": 1469056669, "post_id": 38492273, "comment_id": 64386044, "body": "Thank you so much! Now I get it (:"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1469058699, "post_id": 38492273, "comment_id": 64386540, "body": "@andzedd If this answer <a href=\"http://stackoverflow.com/help/someone-answers\">addressed your problem</a>, please consider <a href=\"http://meta.stackexchange.com/questions/5234\">accepting it</a> by clicking on the check mark/tick to the left of the answer, turning it green. This marks the question as resolved to your satisfaction, and awards <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> both to you and the person who answered."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6447752"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1469059337, "post_id": 38492273, "comment_id": 64386678, "body": "@MattDMo Didn&#39;t know that, just created my account hehe sorry"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1469059458, "post_id": 38492273, "comment_id": 64386702, "body": "@andzedd that&#39;s why I commented. Just doing my part to help educate new users."}], "tags": [], "owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "is_accepted": true, "score": 3, "last_activity_date": 1469056170, "last_edit_date": 1469056170, "creation_date": 1469055855, "answer_id": 38492273, "question_id": 38492223, "link": "https://stackoverflow.com/questions/38492223/local-variable-referenced-before-assignment-python-3-4-5/38492273#38492273", "title": "Local variable referenced before assignment Python 3.4.5", "body": "<p>You are receiving that error because you are referencing the variable <code>how_much</code> before any value is assigned to it. :)</p>\n\n<p>This happens at line: <code>if how_much &lt; 50:</code></p>\n\n<p>At that point in code execution, whether <code>how_much</code> is defined or not depends on whether the previous condition (<code>if \"0\" in choice_two or \"1\" in choice_two:</code>) or not.</p>\n\n<p>The code as-written doesn't really make sense; you should only be thinking about how much <code>how_much</code> is if the user <strong>has</strong> entered a number, which is what that first condition is supposed to determine.</p>\n\n<p>Try something like this, instead:</p>\n\n<pre><code>if \"0\" in choice_two or \"1\" in choice_two:\n    how_much = int(choice_two)\n    if how_much &lt; 50:\n        print(\"You're not greedy. You win!\")\n        exit(0)\n    else:\n        print(\"You greedy bastard!\")\n        exit(0)\nelse:\n    print(\"Man, learn to type a number.\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6447752"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 38492273, "answer_count": 1, "score": -1, "last_activity_date": 1469057005, "creation_date": 1469055575, "last_edit_date": 1469057005, "question_id": 38492223, "link": "https://stackoverflow.com/questions/38492223/local-variable-referenced-before-assignment-python-3-4-5", "title": "Local variable referenced before assignment Python 3.4.5", "body": "<p>I'm going through LearnPythonTheHardWay book and I'm stuck on ex35. I decided to create my own game as he asked on Study Drills. I have <code>gold_room</code> function that is just like his, but it raises the title's errors on both codes(his and mine).</p>\n\n<pre><code>def gold_room():\n\n    print(\"You enter a room full of gold.\")\n    print(\"Do you take the gold and run to the exit or you just walk out with nothing in your hands?\")\n\n    choice = input(\"&gt; \")\n\n    if choice == \"take\":\n        print(\"How much do you take?\")\n        choice_two = input(\"&gt; \")\n\n        if \"0\" in choice_two or \"1\" in choice_two:\n            how_much = int(choice_two)\n        else:\n            print(\"Man, learn to type a number.\")\n\n        if how_much &lt; 50:\n            print(\"You're not greedy. You win!\")\n            exit(0)\n        else:\n            print(\"You greedy bastard!\")\n            exit(0)\n    elif choice == \"walk\":\n        print(\"You're not greedy. You win!\")\n        exit(0)\n    else:\n        print(\"I don't know what that means\")\n</code></pre>\n\n<blockquote>\n  <p>UnboundLocalError: local variable 'how_much' referenced before assignment</p>\n</blockquote>\n"}, {"tags": ["python", "numpy", "group-by", "graphlab", "sframe"], "answers": [{"tags": [], "owner": {"reputation": 1017, "user_id": 1347807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886cb971056c2bdfb1593ee857b2bf91?s=128&d=identicon&r=PG", "display_name": "papayawarrior", "link": "https://stackoverflow.com/users/1347807/papayawarrior"}, "is_accepted": true, "score": 3, "last_activity_date": 1469059525, "creation_date": 1469059525, "answer_id": 38492735, "question_id": 38492159, "link": "https://stackoverflow.com/questions/38492159/group-by-in-sframe-without-installing-graphlab/38492735#38492735", "title": "Group by in SFrame without installing graphlab", "body": "<p>The <code>sframe</code> package contains the same aggregation module as the <code>graphlab</code> package, so you shouldn't need to resort to numpy.</p>\n\n<pre><code>import sframe\nimport sframe.aggregate as agg\n\nsf = sframe.SFrame({'user_id': [1, 1, 2],\n                    'rating': [3.3, 3.6, 4.1]})\ngrp = sf.groupby('user_id', {'mean_rating': agg.MEAN('rating'),\n                             'std_rating': agg.STD('rating')})\nprint(grp)\n\n+---------+---------------------+-------------+\n| user_id |      std_rating     | mean_rating |\n+---------+---------------------+-------------+\n|    2    |         0.0         |     4.1     |\n|    1    | 0.15000000000000024 |     3.45    |\n+---------+---------------------+-------------+\n[2 rows x 3 columns]\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 2276600, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7b18ab74c7aaccfd299004410c43dda2?s=128&d=identicon&r=PG", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/2276600/vladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 1, "accepted_answer_id": 38492735, "answer_count": 1, "score": 4, "last_activity_date": 1469059525, "creation_date": 1469055150, "question_id": 38492159, "link": "https://stackoverflow.com/questions/38492159/group-by-in-sframe-without-installing-graphlab", "title": "Group by in SFrame without installing graphlab", "body": "<p>How to use groupby operation in SFrame, without installing graphlab.</p>\n\n<p>I would love to do some aggregation, but in all examples in the internet I have seen aggregation function comes from Graphlab.</p>\n\n<p>Like:</p>\n\n<pre><code>import graphlab.aggregate as agg\n\nuser_rating_stats = sf.groupby(key_columns='user_id',\n                          operations={\n                                'mean_rating': agg.MEAN('rating'),\n                                'std_rating': agg.STD('rating')\n                            })\n</code></pre>\n\n<p>How can I use, say, <code>numpy.mean</code> and not <code>agg.MEAN</code> in the above example?</p>\n"}, {"tags": ["python", "psychopy"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4914247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8722ef85588d7bdfe5103ae84a544687?s=128&d=identicon&r=PG&f=1", "display_name": "pyne", "link": "https://stackoverflow.com/users/4914247/pyne"}, "reply_to_user": {"reputation": 2271, "user_id": 3592211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503144df77da1c12c3c3f922629c5ca?s=128&d=identicon&r=PG", "display_name": "Michael MacAskill", "link": "https://stackoverflow.com/users/3592211/michael-macaskill"}, "edited": false, "score": 1, "creation_date": 1469056262, "post_id": 38492240, "comment_id": 64385918, "body": "Thanks @Michael MacAskill."}, {"owner": {"reputation": 1, "user_id": 6442564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eedccc39913c0a611d1fcce0ade0ea7?s=128&d=identicon&r=PG&f=1", "display_name": "boxcar44", "link": "https://stackoverflow.com/users/6442564/boxcar44"}, "edited": false, "score": 0, "creation_date": 1469152362, "post_id": 38492240, "comment_id": 64430440, "body": "thank you! I&#39;ll try it when I get back to work tomorrow. We are coding it from scratch."}], "tags": [], "owner": {"reputation": 377, "user_id": 4914247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8722ef85588d7bdfe5103ae84a544687?s=128&d=identicon&r=PG&f=1", "display_name": "pyne", "link": "https://stackoverflow.com/users/4914247/pyne"}, "is_accepted": false, "score": 1, "last_activity_date": 1469056195, "last_edit_date": 1469056195, "creation_date": 1469055659, "answer_id": 38492240, "question_id": 38492137, "link": "https://stackoverflow.com/questions/38492137/audio-corrective-feedback-on-psychopy-older-version-that-supports-sound/38492240#38492240", "title": "Audio corrective feedback on psychopy (older version that supports sound)", "body": "<p>Are you coding this from scratch or transferred from builder to coder view and making edits?  If you are making edits in the coder view, make sure the indents and punctuations remain the same.</p>\n\n<p>From what you've shared, I can see that</p>\n\n<pre><code>    if key_resp.corr\n    feedback= hit_sound.play\n    else:\n    feedback= miss_sound.play\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>    if key_resp.corr:\n        hit_sound.play()\n    else:\n        miss_sound.play()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6442564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eedccc39913c0a611d1fcce0ade0ea7?s=128&d=identicon&r=PG&f=1", "display_name": "boxcar44", "link": "https://stackoverflow.com/users/6442564/boxcar44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469056195, "creation_date": 1469055034, "question_id": 38492137, "link": "https://stackoverflow.com/questions/38492137/audio-corrective-feedback-on-psychopy-older-version-that-supports-sound", "title": "Audio corrective feedback on psychopy (older version that supports sound)", "body": "<p>As some of you may know, psychopy has errors playing sound files on the newer versions, so I have the oldest version installed currently and am trying to make audio corrective feedback for a behavioral test meant to be in an fMRI scanner. The feedback is needed to keep the participants awake. I'm having a lot of trouble finding how to code it correctly, as nothing I've tried works (I've gotten plenty of errors, the main one being invalid Syntax), as I am not using the builder. I am very new at coding. This is what I have so far:</p>\n\n<pre><code>cue = visual.TextStim(myWin, pos = [0.0,0.0],color = -1)\nfix = visual.TextStim(myWin,text = '+',height = 1.0,color = -1)\nbegin_text = ('Press the space bar to begin')\nhit_sound = sound.Sound(value='G', secs=0.5, octave=4, sampleRate=44100, bits=16)\nmiss_sound = sound.Sound(value='G', secs=0.5, octave=3, sampleRate=44100, bits=16)\ncue_type = ['either_color', 'either_shape', 'either_nochange',    'either_nochange', 'color', 'color_nochange', 'shape', 'shape_nochange']#trial types\ncue_type*=num_trials #number of trials\nrandom.shuffle(cue_type) #randomizing trials\nif key_resp.corr\nfeedback= hit_sound.play\nelse:\nfeedback= miss_sound.play\n</code></pre>\n\n<p>Thank you in advance. </p>\n"}, {"tags": ["python", "indexing", "range"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1469055553, "post_id": 38492126, "comment_id": 64385730, "body": "You could break that statement into several smaller ones and narrow the problem."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1469056374, "post_id": 38492126, "comment_id": 64385950, "body": "I added <code>print find(nested,minimum(nested))</code> to your code and it printed <code>[]</code>. Likely your problem is in <code>find</code> and I couldn&#39;t help but notice that your return is oddly placed."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1469056534, "post_id": 38492126, "comment_id": 64385994, "body": "If you just dedent the return statement in <code>find</code> (right now it returns in the loop so you only process one entry) it works."}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 2, "last_activity_date": 1469056822, "creation_date": 1469056822, "answer_id": 38492406, "question_id": 38492126, "link": "https://stackoverflow.com/questions/38492126/strange-python-index-out-of-range/38492406#38492406", "title": "strange python index out of range", "body": "<p>It pays to unit test your functions or at least add a few print statements to see what they return. I added</p>\n\n<pre><code>print find(nested,minimum(nested))\n</code></pre>\n\n<p>which printed</p>\n\n<pre><code>[]\n</code></pre>\n\n<p><code>find</code> isn't working the way you want it to and after inspection, it appears to be a problem with the <code>return</code> statement inside a <code>for</code> loop. This makes it work</p>\n\n<pre><code>def find (list,sch):\n    ret=[]\n    for t in list:\n        if t[1] == sch:\n            ret.append(t)\n    return ret\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6268577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca4c560f76bc291005e14cf622f7ff2?s=128&d=identicon&r=PG&f=1", "display_name": "PopRocks", "link": "https://stackoverflow.com/users/6268577/poprocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 38492406, "answer_count": 1, "score": -3, "last_activity_date": 1475499960, "creation_date": 1469054920, "question_id": 38492126, "link": "https://stackoverflow.com/questions/38492126/strange-python-index-out-of-range", "title": "strange python index out of range", "body": "<p>I got a strange problem with my python code </p>\n\n<p>when i test it with : </p>\n\n<pre><code>4\nPrashant\n32\nPallavi\n36\nDheeraj\n39\nShivam\n40\n</code></pre>\n\n<p>it works well but when i try to test it with this :</p>\n\n<pre><code>5\nHarry\n37.21\nBerry\n37.21\nTina\n37.2\nAkriti\n41\nHarsh\n39\n</code></pre>\n\n<p>it fail with this error :</p>\n\n<p>Runtime Error\nTraceback (most recent call last):\n  File \"solution.py\", line 48, in \n    final = find(nested,find(nested,minimum(nested))[0][1])\nIndexError: list index out of range</p>\n\n<p>Here is the code, i dont understand why it crash, i try lot of diff\u00e9rents solutions without any result.. </p>\n\n<pre><code>def compteur (list,sch):\n    nb=0\n    for t in list:\n        if t[1] == sch:\n            nb += 1\n    return nb\n\ndef minimum (list):\n    minim = list[0][1]\n    for t in list :\n        if t[1] &lt; minim :\n            minim = t[1]\n    return minim\n\ndef find (list,sch):\n    ret=[]\n    for t in list:\n        if t[1] == sch:\n            ret.append(t)\n        return ret\n\ndef rmv (list,sch):\n    ret = []\n    fd = find(list,sch)\n    for t in list :\n        if not fd[0][1]==t[1]:\n            ret.append(t)\n    return ret\n\nnested = [] \nnumber = int(raw_input())\n\nfor i in range(number+1) :\n    try:\n        nom = raw_input()\n    except (EOFError):\n        break\n    note = float(raw_input())\n    nested.append([nom,note])\n\nmini = find(nested,minimum(nested))\nfor i in mini:\n    nested = rmv(nested,i[1])\n\n\nfinal = find(nested,find(nested,minimum(nested))[0][1])\nfinal.sort(key=str)\n\nfor e in final :\n    print e[0]\n</code></pre>\n\n<p>Thank you for helping !</p>\n"}, {"tags": ["python", "python-2.7", "runtime-error"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6615989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a87cb65cccbb2f367f47c3089b227e4?s=128&d=identicon&r=PG&f=1", "display_name": "Caio Fleury", "link": "https://stackoverflow.com/users/6615989/caio-fleury"}, "edited": false, "score": 0, "creation_date": 1469054663, "post_id": 38492058, "comment_id": 64385483, "body": "Thanks for the answer"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1469054503, "creation_date": 1469054503, "answer_id": 38492058, "question_id": 38492045, "link": "https://stackoverflow.com/questions/38492045/unclear-indexerror-on-python/38492058#38492058", "title": "Unclear IndexError on Python", "body": "<p>Change the condition on the <code>while</code> to:</p>\n\n<pre><code>while i &lt; len(T1)\n#       ^\n</code></pre>\n\n<p>When <code>i = len(T1)</code> and you try to index your list, you'll get an <code>IndexError</code> because your index starts counting from zero.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6615989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a87cb65cccbb2f367f47c3089b227e4?s=128&d=identicon&r=PG&f=1", "display_name": "Caio Fleury", "link": "https://stackoverflow.com/users/6615989/caio-fleury"}, "edited": false, "score": 0, "creation_date": 1469054671, "post_id": 38492071, "comment_id": 64385486, "body": "Thanks for the answer"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 13, "user_id": 6615989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a87cb65cccbb2f367f47c3089b227e4?s=128&d=identicon&r=PG&f=1", "display_name": "Caio Fleury", "link": "https://stackoverflow.com/users/6615989/caio-fleury"}, "edited": false, "score": 0, "creation_date": 1469054945, "post_id": 38492071, "comment_id": 64385564, "body": "@CaioFleury I suggest not using <code>pop()</code> method. It will remove element from the list"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 2, "last_activity_date": 1469055006, "last_edit_date": 1469055006, "creation_date": 1469054546, "answer_id": 38492071, "question_id": 38492045, "link": "https://stackoverflow.com/questions/38492045/unclear-indexerror-on-python/38492071#38492071", "title": "Unclear IndexError on Python", "body": "<p><code>while i &lt;= (len(T1)):</code> is wrong, when i equals the length, it will have IndexError, change it to <code>&lt;</code>. Index is starting from <strong>0</strong> to <strong>(length - 1)</strong></p>\n\n<p>I suggest not using <code>pop()</code> method, it will remove element(s) from your list, scan for match doesn't need the matching elements to be removed, right? :)</p>\n\n<p>Alternatively, you can find the match in this way:</p>\n\n<pre><code>&gt;&gt;&gt; t2= [\"si\", \"no\", \"espanol\"]\n&gt;&gt;&gt; t1=  [\"me\", \"gusta\", \"espanol\"]\n&gt;&gt;&gt; set(t2) &amp; set(t1)\n{'espanol'}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6615989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a87cb65cccbb2f367f47c3089b227e4?s=128&d=identicon&r=PG&f=1", "display_name": "Caio Fleury", "link": "https://stackoverflow.com/users/6615989/caio-fleury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1599542061, "accepted_answer_id": 38492071, "answer_count": 2, "score": 1, "last_activity_date": 1469055006, "creation_date": 1469054418, "last_edit_date": 1469054595, "question_id": 38492045, "link": "https://stackoverflow.com/questions/38492045/unclear-indexerror-on-python", "closed_reason": "Duplicate", "title": "Unclear IndexError on Python", "body": "<pre><code>def scan_for_match(T1, T2):\n    i = 0\n    j = 0\n    while i &lt;= (len(T1)):\n        if T1[i] == T2[j]:\n            keywords = open('keywords.txt', 'w+')\n            keywords.write(T1.pop(i))\n            T2.pop(j)\n        if i &gt; (len(T1)):\n            i = 0\n            j += 1\n        if j &gt; (len(T2)):\n            print \"All words have been scanned through\"\n            print \"These are the matches found:\\n \", keywords.readlines()\n        i += 1\n</code></pre>\n\n<p>I thought that this was a pretty straight forward piece of code, but...</p>\n\n<pre><code>T1 = [\"me\", \"gusta\", \"espanol\"]; T2 = [\"si\", \"no\", \"espanol\"]; scan_for_match(T1, T2)\n</code></pre>\n\n<p>Will just give me:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"stdin\", line 1, in module\n  File \"stdin\", line 5, in scan_for_match\nIndexError: list index out of range\n</code></pre>\n\n<p>The line in question is just a harmless <code>if T1[i] == T2[j]:</code>\nWhich for me just doesn't make sense since:</p>\n\n<pre><code>i = 0\nj = 0\nT1[i] = 'me'\nT2[j] = 'si'\n</code></pre>\n\n<p>So this should just return a False result instead of an IndexError, right?</p>\n"}, {"tags": ["python", "python-2.7", "virtualenv"], "comments": [{"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1472591710, "post_id": 38491992, "comment_id": 65811543, "body": "Do you have permission to write to the directory you are in?  What does <code>ls -la</code> tell you?"}, {"owner": {"reputation": 316, "user_id": 1509718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35aa43accda06075b7b98db12bb5691a?s=128&d=identicon&r=PG", "display_name": "Theuni", "link": "https://stackoverflow.com/users/1509718/theuni"}, "edited": false, "score": 0, "creation_date": 1478516724, "post_id": 38491992, "comment_id": 68171750, "body": "I just stumbled over the same problem. Root access is not an issue: I can read the source files and I can also manually perform the cp command. I get the same files as problematic. :/"}, {"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 0, "creation_date": 1508257920, "post_id": 38491992, "comment_id": 80536481, "body": "see <a href=\"https://stackoverflow.com/a/46787331/4201810\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 1550927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/301a5cbcf87792d2d3159f909a1e516b?s=128&d=identicon&r=PG", "display_name": "Aeramor", "link": "https://stackoverflow.com/users/1550927/aeramor"}, "is_accepted": false, "score": -1, "last_activity_date": 1472591312, "creation_date": 1472591312, "answer_id": 39237120, "question_id": 38491992, "link": "https://stackoverflow.com/questions/38491992/virtualenv-with-always-copy-throws-error-operation-not-permitted/39237120#39237120", "title": "virtualenv with --always-copy throws error &quot;Operation not permitted&quot;", "body": "<p>Hard to answer without additional details but my guess would be you need to sudo first.</p>\n\n<p>so <code>sudo virtualenv --always-copy myenv</code> </p>\n"}], "owner": {"reputation": 63, "user_id": 2970158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c2289701e8959a4bd1155f2d67f4721?s=128&d=identicon&r=PG&f=1", "display_name": "Cherif", "link": "https://stackoverflow.com/users/2970158/cherif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 823, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1472591312, "creation_date": 1469054148, "last_edit_date": 1469131957, "question_id": 38491992, "link": "https://stackoverflow.com/questions/38491992/virtualenv-with-always-copy-throws-error-operation-not-permitted", "title": "virtualenv with --always-copy throws error &quot;Operation not permitted&quot;", "body": "<p>I'm trying to run virtualenv without symlinking python2.7 but I get permission errors when I use the flag --always-copy.</p>\n\n<pre><code>virtualenv --always-copy myenv\n\nTraceback (most recent call last):  \n\n  File \"/usr/local/bin/virtualenv\", line 11, in &lt;module&gt;  \n    sys.exit(main())  \n  File \"/Library/Python/2.7/site-packages/virtualenv.py\", line 711, in main  \n    symlink=options.symlink)  \n  File \"/Library/Python/2.7/site-packages/virtualenv.py\", line 924, in create_environment  \n    site_packages=site_packages, clear=clear, symlink=symlink))  \n  File \"/Library/Python/2.7/site-packages/virtualenv.py\", line 1129, in install_python  \n    copyfile(join(stdlib_dir, fn), join(lib_dir, fn), symlink)  \n  File \"/Library/Python/2.7/site-packages/virtualenv.py\", line 355, in copy file  \n    copyfileordir(src, dest, symlink)  \n  File \"/Library/Python/2.7/site-packages/virtualenv.py\", line 327, in copyfileordir  \n    shutil.copytree(src, dest, symlink)  \n  File   \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 208, in copytree  \n    raise Error, errors  \nshutil.Error:  \n[('/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/config/config.c', '/Users/user1/myenv/lib/python2.7/config/config.c', \"[Errno 1] Operation not permitted: '/Users/user1/myenv/lib/python2.7/config/config.c'\"), ...\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1469171835, "post_id": 38491990, "comment_id": 64436229, "body": "The failing command can be changed to <code>drc.columns.set_levels([&#39;daily_return_cumulative&#39;], level=2, inplace=True, verify_integrity = False)</code> however this yields an <code>algos.cp35-win_amd64.pyd</code> <b>unhandled exception</b>"}], "answers": [{"comments": [{"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1469091434, "post_id": 38493363, "comment_id": 64398786, "body": "I like the simplicity of this.  Given the <code>dav</code> and the <code>amount</code>, I now want to calculate the daily return dav.shift(-1) / amount.  So start point for calculation is  <code>dav on 2010-01-02 &#47; amount on 2010-01-01</code> however if I do this I get error:  <code>ValueError: On level 2, label max (1) &gt;= length of level  (1). NOTE: this index is in an inconsistent state</code>   Is there a way to resolve this?"}, {"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1469103319, "post_id": 38493363, "comment_id": 64406539, "body": "I have resolved this with <code>dr = (dav &#47; mtm.shift().values) * 100 </code>"}, {"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1469109714, "post_id": 38493363, "comment_id": 64410996, "body": "however when I attempt to use <code>drc = 100*((1+dr &#47; 100).cumprod()-1)</code> I get the error again when I try to set_level.  I will edit the question with full details."}, {"owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "edited": false, "score": 0, "creation_date": 1481703000, "post_id": 38493363, "comment_id": 69478436, "body": "Note that the bug metioned above around <code>set_levels</code> was fixed in <code>Pandas 0.19.1</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1469191776, "last_edit_date": 1469191776, "creation_date": 1469064119, "answer_id": 38493363, "question_id": 38491990, "link": "https://stackoverflow.com/questions/38491990/adding-and-renaming-a-column-in-a-multiindex-dataframe/38493363#38493363", "title": "Adding and Renaming a Column in a Multiindex DataFrame", "body": "<p>Skip the <code>groupby</code> it is not necessary</p>\n\n<pre><code>amount = df.loc[:, pd.IndexSlice[:, :, 'amount']]\ninject = df.loc[:, pd.IndexSlice[:, :, 'injection']]\ndav = amount - amount.shift() - inject.shift().values\n#dav.columns.set_levels(['daily_added_value'], level=2, inplace=True)\n\npd.concat([df, dav], axis=1).sort_index(axis=1).T\n</code></pre>\n\n<h3>Note: I used <code>T</code> to get a picture that would easily fit</h3>\n\n<p><a href=\"https://i.stack.imgur.com/kXaEW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kXaEW.png\" alt=\"enter image description here\"></a></p>\n\n<p>there appears to be a <a href=\"https://github.com/pydata/pandas/issues/13754\" rel=\"nofollow noreferrer\">bug</a> in <code>set_levels</code> and as such it is not advised to use it.</p>\n\n<p><strong>Workaround to rename the MultiIndex Column in the DataFrame dav</strong></p>\n\n<pre><code>def map_level(df, dct, level=2):\n    index = df.index\n    index.set_levels([[dct.get(item, item) for item in names] if i==level else    names\n                       for i, names in enumerate(index.levels)], inplace=True)\ndct = {'amount':'daily_added_value'}\nmap_level(dav.T, dct, level=2)\n</code></pre>\n"}], "owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 1, "accepted_answer_id": 38493363, "answer_count": 1, "score": 3, "last_activity_date": 1478652306, "creation_date": 1469054123, "last_edit_date": 1478652306, "question_id": 38491990, "link": "https://stackoverflow.com/questions/38491990/adding-and-renaming-a-column-in-a-multiindex-dataframe", "title": "Adding and Renaming a Column in a Multiindex DataFrame", "body": "<p>The purpose of this post is to understand how to add a column to a level in a <code>MultiIndex.DataFrame</code> using <code>apply()</code> and <code>shift()</code></p>\n\n<p><strong>Create the DataFrame</strong></p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(\n[\n    [5777, 100, 5385, 200, 5419, 4887, 100, 200],\n    [4849, 0, 4539, 0, 3381, 0, 0, ],\n    [4971, 0, 3824, 0, 4645, 3424, 0, 0, ],\n    [4827, 200, 3459, 300, 4552, 3153, 100, 200, ],\n    [5207, 0, 3670, 0, 4876, 3358, 0, 0, ],\n],\nindex=pd.to_datetime(['2010-01-01',\n                      '2010-01-02',\n                      '2010-01-03',\n                      '2010-01-04',\n                      '2010-01-05']),\ncolumns=pd.MultiIndex.from_tuples(\n    [('Portfolio A', 'GBP', 'amount'), ('Portfolio A', 'GBP', 'injection'),\n     ('Portfolio B', 'EUR', 'amount'), ('Portfolio B', 'EUR', 'injection'),\n     ('Portfolio A', 'USD', 'amount'), ('Portfolio A', 'USD', 'injection'),\n     ('Portfolio B', 'JPY', 'amount'), ('Portfolio B', 'JPY', 'injection')])\n).sortlevel(axis=1)\n\nprint df\n</code></pre>\n\n<p>I would like to use the following method to add a new column to each currency at level 2 named daily_added_value:</p>\n\n<pre><code>def do_nothing(group):\n   return group\n\ndef calc_daily_added_value(group):\n    g = (group['amount'] - group['amount'].shift(periods=1, freq=None, axis=0)\n          -df['injection'].shift(periods=1, freq=None, axis=0)).round(decimals=2)\n    g.index = ['daily_added_value']\n    return g\n\npd.concat([df.T.groupby(level=0).apply(f).T for f in [calc_daily_added_value,do_nothing ]], axis=1).sort_index(axis=1)\n</code></pre>\n\n<p>However this throws a key error: <code>KeyError: 'amount'</code></p>\n\n<p>What is the correct syntax for the method <code>calc_daily_added_value()</code>?</p>\n\n<hr>\n\n<p><strong>Following on from the answer below there is still an issue</strong></p>\n\n<p><strong>Adding the daily return works</strong></p>\n\n<pre><code>dav = df.loc[:, pd.IndexSlice[:, :, 'daily_added_value']]\namount = df.loc[:, pd.IndexSlice[:, :, 'amount']]\ndr = (dav.values / amount.shift()) * 100\ndr.columns.set_levels(['daily_return'], level=2, inplace=True)\ndf = pd.concat([df, dr], axis=1).sortlevel(axis=1)\n</code></pre>\n\n<p><strong>Adding the cumulative compounded returns FAILS</strong></p>\n\n<pre><code>dr = df.loc[:, pd.IndexSlice[:, :, 'daily_return']]\ndrc = 100*((1+dr / 100).cumprod()-1)\ndrc.columns.set_levels(['daily_return_cumulative'], level=2, inplace=True)\ndf = pd.concat([df, drc], axis=1).sort_index(axis=1)\ndf.head()\n</code></pre>\n\n<p>this fails because it is missing the .values, but if I add this it becomes an array?</p>\n\n<p>What is strange here though is that drc is in fact a DataFrame of correct shaped etc. and appears to contain correct results.</p>\n\n<p>This fails on this line:</p>\n\n<pre><code>drc.columns.set_levels(['daily_return_cumulative'], level=2, inplace=True)\n</code></pre>\n\n<p>Error is <code>ValueError: On level 2, label max (2) &gt;= length of level  (1). NOTE: this index is in an inconsistent state</code></p>\n\n<p><strong>How can the index be placed back into a consistent state?</strong></p>\n"}, {"tags": ["python", "django", "templates"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 1, "creation_date": 1469054231, "post_id": 38491977, "comment_id": 64385371, "body": "If <code>value</code> is a list or dict, you could iterate over it again."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469123329, "post_id": 38492017, "comment_id": 64419580, "body": "Yep, but this is not ordered. For example. I want the first value of key1 and key2, then i want the second value of the key1 and key2, etc...."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469125101, "post_id": 38492017, "comment_id": 64420589, "body": "@jstnk can you edit your question to show an example of the intended output?"}, {"owner": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469125619, "post_id": 38492017, "comment_id": 64420869, "body": "Edited.  I want show like this:  -&gt; Port -&gt; Banner -&gt; Protocol -&gt; Port -&gt; Banner -&gt; Protocol -&gt; Port -&gt; Banner -&gt; Protocol"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469126964, "post_id": 38492017, "comment_id": 64421619, "body": "@jstnk Try the update and see if it does what you intend"}, {"owner": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469132296, "post_id": 38492017, "comment_id": 64424269, "body": "this does not work :( {{ack.key.forloop.parentloop.counter}}"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "edited": false, "score": 0, "creation_date": 1469133581, "post_id": 38492017, "comment_id": 64424932, "body": "@jstnk Sorry, I missed that. I think you should consider writing a template tag to reorder your data, or do the reordering from your view"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1469132478, "last_edit_date": 1469132478, "creation_date": 1469054277, "answer_id": 38492017, "question_id": 38491977, "link": "https://stackoverflow.com/questions/38491977/django-forloopcounter-in-template/38492017#38492017", "title": "django forloopcounter in template", "body": "<p>You can iterate over the values using another <code>for</code> loop:</p>\n\n<pre><code>{% for key, value in ack.items %}\n     &lt;tr&gt;\n         &lt;th class=\"white\"&gt;{{key}}&lt;/th&gt;\n         {% for v in value %}\n             &lt;th class=\"black\"&gt;{{v}}&lt;/th&gt;\n         {% endfor %}\n     &lt;/tr&gt;\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6141370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4614f38ecbd8cea1de5ca3f5b18685?s=128&d=identicon&r=PG&f=1", "display_name": "jstnk", "link": "https://stackoverflow.com/users/6141370/jstnk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469132478, "creation_date": 1469054077, "last_edit_date": 1469125552, "question_id": 38491977, "link": "https://stackoverflow.com/questions/38491977/django-forloopcounter-in-template", "title": "django forloopcounter in template", "body": "<p>How can i autoincrement a item of my list?</p>\n\n<p>I have something like this:</p>\n\n<p>data = {'port': [22,80,443], 'banner': ['OpenSSH','Apache2','Apache'], 'protocol': ['tcp','tcp','tcp'] }</p>\n\n<pre><code>{% for key, value in data.items %}\n            &lt;tr&gt;\n                 &lt;th class=\"white\"&gt;{{key}}&lt;/th&gt;\n                 &lt;th class=\"black\"&gt;{{value.0}}&lt;/th&gt;\n            &lt;/tr&gt;\n{% endfor %}\n</code></pre>\n\n<p>How can i autoincrement \"value.0\" to \"value.1\", \"value.2\" etc...</p>\n\n<p>Maybe can i do it with forloop.counter0? But how?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1469059251, "post_id": 38491963, "comment_id": 64386662, "body": "It&#39;s simple inheritance. The <code>DrawInput</code> class subclasses <code>Widget</code>, which likely includes logic to run various pre-defined methods, including <code>on_touch_down</code>, <code>on_touch_up</code>, etc."}], "answers": [{"tags": [], "owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "is_accepted": false, "score": 0, "last_activity_date": 1469059548, "last_edit_date": 1469059548, "creation_date": 1469059246, "answer_id": 38492700, "question_id": 38491963, "link": "https://stackoverflow.com/questions/38491963/understanding-kivy-code-snippet/38492700#38492700", "title": "understanding kivy code snippet", "body": "<p>They get called, because they are Widget class methods that you override.\nThey are events bound to click/touch, on the Widget.</p>\n\n<p>As from the <a href=\"https://kivy.org/docs/api-kivy.uix.widget.html#kivy.uix.widget.Widget\" rel=\"nofollow\">Widget</a> docs</p>\n\n<blockquote>\n  <p>Events:      </p>\n  \n  <p>on_touch_down:<br>\n     Fired when a new touch event occurs </p>\n  \n  <p>on_touch_move:<br>\n     Fired when an existing touch moves  </p>\n  \n  <p>on_touch_up:<br>\n     Fired when an existing touch disappears  </p>\n</blockquote>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469119668, "creation_date": 1469053998, "last_edit_date": 1469119668, "question_id": 38491963, "link": "https://stackoverflow.com/questions/38491963/understanding-kivy-code-snippet", "title": "understanding kivy code snippet", "body": "<p>I am using the following code from web:</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.widget import Widget\nfrom kivy.graphics import Line\n\n\nclass DrawInput(Widget):\n    def on_touch_down(self, touch):\n        print(touch)\n        with self.canvas:\n            touch.ud[\"line\"] = Line(points=(touch.x, touch.y))\n\n    def on_touch_move(self, touch):\n        print(touch)\n        touch.ud[\"line\"].points += (touch.x, touch.y)\n\n    def on_touch_up(self, touch):\n        print(\"RELEASED!\", touch)\n\n\nclass SimpleKivy4(App):\n    def build(self):\n        return DrawInput()\n\n\nif __name__ == \"__main__\":\n    SimpleKivy4().run()\n</code></pre>\n\n<p>Why does the method <code>on_touch_down(self, touch)</code> get implemented even when it is not being called explicitly anywhere?</p>\n\n<p>Edit: If <code>widget</code> fires based on when the touch happens. Then how does the <code>DrawInput()</code> function <code>on_touch_down</code> get fired. Cause class <code>Widget</code> doesn't know about <code>DrawInpout()</code> class or any of it's methods.</p>\n"}, {"tags": ["python", "opencv", "homography", "ransac"], "answers": [{"tags": [], "owner": {"reputation": 3849, "user_id": 5198595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e45c7ec5cb67cf3cdf2186d8037e29?s=128&d=identicon&r=PG&f=1", "display_name": "Sunreef", "link": "https://stackoverflow.com/users/5198595/sunreef"}, "is_accepted": true, "score": 3, "last_activity_date": 1469081582, "creation_date": 1469081582, "answer_id": 38496220, "question_id": 38491959, "link": "https://stackoverflow.com/questions/38491959/how-to-apply-ransac-in-python-opencv/38496220#38496220", "title": "How to apply RANSAC in Python OpenCV", "body": "<p>You don't have to use RANSAC before <code>findHomography</code>. RANSAC is applied inside the function. Just pass two arrays of features that match each other (no need to only pass the four best).</p>\n\n<p>However, what you can do is filter out the matches that have large distances. Usually, you try to find two matches for each feature and check if the distance with the first match is greatly inferior to the distance with the second match.  Take a look at <a href=\"http://docs.opencv.org/3.0-beta/doc/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html\" rel=\"nofollow\">this OpenCV tutorial</a> to see some code on how to do that.</p>\n"}], "owner": {"reputation": 109, "user_id": 6466440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37fb391199fd68dcac0ad224393bae84?s=128&d=identicon&r=PG&f=1", "display_name": "Free Tyler1", "link": "https://stackoverflow.com/users/6466440/free-tyler1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21954, "favorite_count": 3, "accepted_answer_id": 38496220, "answer_count": 1, "score": 8, "last_activity_date": 1469081582, "creation_date": 1469053983, "question_id": 38491959, "link": "https://stackoverflow.com/questions/38491959/how-to-apply-ransac-in-python-opencv", "title": "How to apply RANSAC in Python OpenCV", "body": "<p>Can someone show me how to apply RANSAC to find the best 4 feature matching points and their corresponding (x,y) coordinate so I can use them in my homography code?</p>\n\n<p>The feature matching points were obtained by SIFT and here is the code:</p>\n\n<pre><code>import numpy as np\nimport cv2\nfrom matplotlib import pyplot as plt\n\ndef drawMatches(img1, kp1, img2, kp2, matches):\n    rows1 = img1.shape[0]\n    cols1 = img1.shape[1]\n    rows2 = img2.shape[0]\n    cols2 = img2.shape[1]\n\n    out = np.zeros((max([rows1,rows2]),cols1+cols2,3), dtype='uint8')\n\n    # Place the first image to the left\n    out[:rows1,:cols1] = np.dstack([img1, img1, img1])\n\n    # Place the next image to the right of it\n    out[:rows2,cols1:] = np.dstack([img2, img2, img2])\n\n    # For each pair of points we have between both images\n    # draw circles, then connect a line between them\n    for mat in matches:\n\n        # Get the matching keypoints for each of the images\n        img1_idx = mat.queryIdx\n        img2_idx = mat.trainIdx\n\n        # x - columns\n        # y - rows\n        (x1,y1) = kp1[img1_idx].pt\n        (x2,y2) = kp2[img2_idx].pt\n\n        # Draw a small circle at both co-ordinates\n        # radius 4\n        # colour blue\n        # thickness = 1\n        cv2.circle(out, (int(x1),int(y1)), 4, (255, 0, 0), 1)   \n        cv2.circle(out, (int(x2)+cols1,int(y2)), 4, (255, 0, 0), 1)\n\n        # Draw a line in between the two points\n        # thickness = 1\n        # colour blue\n        cv2.line(out, (int(x1),int(y1)), (int(x2)+cols1,int(y2)), (255, 0, 0), 1)\n\n\n    # Show the image\n    cv2.imshow('Matched Features', out)\n    cv2.waitKey(0)\n    cv2.destroyWindow('Matched Features')\n\n    # Also return the image if you'd like a copy\n    return out\n\nimg1 = cv2.imread(\"C://Users//user//Desktop//research//img1.2.jpg\")\nimg2 = cv2.imread(\"C://Users//user//Desktop//research//img3.jpg\")\n\nname = cv2.COLOR_YUV2BGRA_YV12\nprint name\ngray1 = cv2.cvtColor(img1,cv2.COLOR_BGR2GRAY)\ngray2 = cv2.cvtColor(img2, cv2.COLOR_BGR2GRAY)\nsift = cv2.SIFT()\nkp1,des1 = sift.detectAndCompute(gray1, None)\nkp2,des2 = sift.detectAndCompute(gray2, None)\nbf = cv2.BFMatcher()\nmatches=bf.match(des1,des2)\nmatches=sorted(matches,key=lambda x:x.distance)\nimg3 = drawMatches(gray1,kp1,gray2,kp2,matches[:100])\nplt.imshow(img3),plt.show()\n\nprint(matches)\n\n\n\n\ncv2.imwrite('sift_matching1.png',img3)\n</code></pre>\n\n<p>And here is the outcome:\n<a href=\"http://i.stack.imgur.com/odNcV.jpg\" rel=\"noreferrer\">click here</a></p>\n\n<p>Here is my homography code:</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nif __name__ == '__main__' :\n\n    # Read source image.\n    im_src = cv2.imread('C://Users//user//Desktop//research//img1.2.jpg')\n\n    pts_src = np.array([[141, 131], [480, 159], [493, 630],[64, 601]])\n\n\n    # Read destination image.\n    im_dst = cv2.imread('C://Users//user//Desktop//research//img3.jpg')\n\n    pts_dst = np.array([[318, 256],[534, 372],[316, 670],[73, 473]])\n\n    # Calculate Homography\n    h, status = cv2.findHomography(pts_src, pts_dst, cv2.RANSAC,5.0)\n\n    # Warp source image to destination based on homography\n    im_out = cv2.warpPerspective(im_src, h, (im_dst.shape[1],im_dst.shape[0]))\n\n    # Display images\n\n    cv2.imshow(\"Warped Source Image\", im_out)\n\n    cv2.waitKey(0)\n</code></pre>\n\n<p>The four points that I chose randomly:</p>\n\n<blockquote>\n  <p>pts_src = np.array([[141, 131], [480, 159], [493, 630],[64, 601]])</p>\n</blockquote>\n\n<p>same thing here:</p>\n\n<blockquote>\n  <p>pts_dst = np.array([[318, 256],[534, 372],[316, 670],[73, 473]])</p>\n</blockquote>\n\n<p>So yeah, basically, I just need to replace those random points with the best feature matching points that will be obtainned by RANSAC. </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": true, "score": 3, "last_activity_date": 1469055225, "last_edit_date": 1469055225, "creation_date": 1469054395, "answer_id": 38492040, "question_id": 38491927, "link": "https://stackoverflow.com/questions/38491927/why-cant-python-find-the-built-in-print-function-when-calling-from-an-imported/38492040#38492040", "title": "Why can&#39;t Python find the built-in print function when calling from an imported function?", "body": "<p>Try this:</p>\n\n<pre><code>import __builtin__\nfrom __future__ import print_function\n\ndef print(*args, **kwargs):\n    return __builtin__.print(*args, **kwargs)\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; print\n&lt;function print at 0x7f80cd622668&gt;\n&gt;&gt;&gt; print(\"Hello\", \"world\", sep=\"\\n\")\nHello\nworld\n</code></pre>\n\n<p>The reason for the error you were seeing can be explained better by this excerpt from the <a href=\"https://docs.python.org/2.7/reference/executionmodel.html\" rel=\"nofollow\">python docs</a>:</p>\n\n<blockquote>\n  <p>By default, when in the <code>__main__</code> module, <code>__builtins__</code> is the\n  built-in module <code>__builtin__</code> (note: no 's'); when in any other\n  module, <code>__builtins__</code> is an alias for the dictionary of the\n  <code>__builtin__</code> module itself. </p>\n  \n  <p><code>__builtins__</code> can be set to a user-created dictionary to create a\n  weak form of restricted execution.</p>\n  \n  <p><strong>CPython implementation detail:</strong> Users should not touch <code>__builtins__</code>; it is strictly an implementation detail.  Users\n  wanting to override values in the builtins namespace should <code>import</code>\n  the <code>__builtin__</code> (no 's') module and modify its attributes\n  appropriately. The namespace for a module is automatically created the\n  first time a module is imported.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "is_accepted": false, "score": -1, "last_activity_date": 1469054406, "last_edit_date": 1495540735, "creation_date": 1469054406, "answer_id": 38492042, "question_id": 38491927, "link": "https://stackoverflow.com/questions/38491927/why-cant-python-find-the-built-in-print-function-when-calling-from-an-imported/38492042#38492042", "title": "Why can&#39;t Python find the built-in print function when calling from an imported function?", "body": "<p>To quote an answer on this question:\n<a href=\"https://stackoverflow.com/questions/550470/overload-print-python\">overload print python</a></p>\n\n<blockquote>\n  <p>In Python 2.x you can't, because print isn't a function, it's a\n  statement. In Python 3 print is a function, so I suppose it could be\n  overridden (haven't tried it, though).</p>\n</blockquote>\n"}], "owner": {"reputation": 9249, "user_id": 848235, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0efdfbc3d7c390992c3525ca5a23d277?s=128&d=identicon&r=PG", "display_name": "Ghopper21", "link": "https://stackoverflow.com/users/848235/ghopper21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 38492040, "answer_count": 2, "score": 2, "last_activity_date": 1469055225, "creation_date": 1469053807, "question_id": 38491927, "link": "https://stackoverflow.com/questions/38491927/why-cant-python-find-the-built-in-print-function-when-calling-from-an-imported", "title": "Why can&#39;t Python find the built-in print function when calling from an imported function?", "body": "<p>Take this <strong>main.py</strong>:</p>\n\n<pre><code>from __future__ import print_function\n\nfrom sub import print\n\nprint(\"hello, world\")\n</code></pre>\n\n<p>and this <strong>sub.py</strong>:</p>\n\n<pre><code>from __future__ import print_function\n\ndef print(*args, **kwargs):\n    return __builtins__.print(*args, **kwargs)\n</code></pre>\n\n<p>Using Python 2.7.9, run <code>main.py</code> and you get:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"main.py\", line 5, in &lt;module&gt;\n    print(\"hello, world\")\nFile \"/Users/ien/Studio/songifier/sub.py\", line 4, in print\n    return __builtins__.print(*args, **kwargs)\nAttributeError: 'dict' object has no attribute 'print'\n</code></pre>\n\n<p>Why and how to make this work? </p>\n\n<p>NOTE: This is an artificial example to isolate the problem, which has arisen in a logging context, where the <code>print</code> function sometimes does some fancy logging, and other times wants to just call the built-in print function.</p>\n"}, {"tags": ["python", "hdf5", "h5py"], "answers": [{"tags": [], "owner": {"reputation": 575, "user_id": 4820605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdjCE.jpg?s=128&g=1", "display_name": "milembar", "link": "https://stackoverflow.com/users/4820605/milembar"}, "is_accepted": false, "score": 0, "last_activity_date": 1608118608, "creation_date": 1608118608, "answer_id": 65322501, "question_id": 38491902, "link": "https://stackoverflow.com/questions/38491902/how-to-check-if-a-node-is-a-link-in-h5py/65322501#65322501", "title": "How to check if a node is a link in h5py?", "body": "<p>It is a little bit late but it may be useful for someone. Actually the current version of <code>h5py</code> supports it (I don't know if it was the case back in time).</p>\n<p>Actually it is quite easy:</p>\n<pre><code>is_soft_link = isinstance(fh.get('soft_link', getlink=True), h5py.SoftLink)\n</code></pre>\n<p>Just replace <code>h5py.SoftLink</code> by <code>h5py.HardLink</code> or <code>h5py.ExternalLink</code> for the other cases.</p>\n"}, {"tags": [], "owner": {"reputation": 744, "user_id": 7185263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70019c4536c874704e90050f9f02d39?s=128&d=identicon&r=PG&f=1", "display_name": "SOG", "link": "https://stackoverflow.com/users/7185263/sog"}, "is_accepted": false, "score": 0, "last_activity_date": 1608195934, "last_edit_date": 1608195934, "creation_date": 1608153445, "answer_id": 65331237, "question_id": 38491902, "link": "https://stackoverflow.com/questions/38491902/how-to-check-if-a-node-is-a-link-in-h5py/65331237#65331237", "title": "How to check if a node is a link in h5py?", "body": "<p>Not sure how this is done in <code>h5py</code> but, in case you are not bound to a specific library, this can be done as follows in <a href=\"http://www.hdfql.com\" rel=\"nofollow noreferrer\">HDFql</a>:</p>\n<pre><code>HDFql.execute(&quot;SHOW TYPE my_dataset&quot;)\n\nHDFql.cursor_next()\n\ntype = HDFql.cursor_get_int()\n\nif (type &amp; HDFql.SOFT_LINK):\n   print('IT IS A SOFT LINK')\nelif (type &amp; HDFql.EXTERNAL_LINK):\n   print('IT IS AN EXTERNAL LINK')\nelse:\n   print('IT IS A HARD LINK')\n</code></pre>\n<p>Please check section <code>6.7.7</code> in HDFql <a href=\"http://www.hdfql.com/resources/HDFqlReferenceManual.pdf\" rel=\"nofollow noreferrer\">reference manual</a> for additional information.</p>\n"}], "owner": {"reputation": 1896, "user_id": 2527629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4b4cd6fa0393dd88e042c488d88702bc?s=128&d=identicon&r=PG", "display_name": "ddzzbbwwmm", "link": "https://stackoverflow.com/users/2527629/ddzzbbwwmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1608195934, "creation_date": 1469053688, "question_id": 38491902, "link": "https://stackoverflow.com/questions/38491902/how-to-check-if-a-node-is-a-link-in-h5py", "title": "How to check if a node is a link in h5py?", "body": "<p>How can I know if a node is a <code>SoftLink</code> or <code>HardLink</code> or <code>ExternalLink</code>?</p>\n\n<p>For instance, providing <code>fh = h5py.File('test.h5')</code> and <code>/soft_link</code> a <code>SoftLink</code>, I tried <code>type(fh['soft_link'])</code> and it is shown that it's of the type of <code>Group</code>, the same as a regular <code>Group</code> node.</p>\n\n<p>BTW, it seems <code>fh.visititems</code> does not visit the <code>Link</code> nodes, I can understantd that this can avoid to visit the target nodes of <code>SoftLink</code> and <code>HardLink</code> twice, but why <code>ExternalLink</code> is also neglected?</p>\n"}, {"tags": ["python", "r", "csv", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1469124231, "post_id": 38492356, "comment_id": 64420089, "body": "I noticed that in an older version of Pandas for col.str.split(delim, expand=True), expand is not a known keyword argument. A solution to circumvent this is in <a href=\"http://stackoverflow.com/a/35567326/3229995\">stackoverflow.com/a/35567326/3229995</a>"}], "tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 4, "last_activity_date": 1469056913, "last_edit_date": 1469056913, "creation_date": 1469056411, "answer_id": 38492356, "question_id": 38491881, "link": "https://stackoverflow.com/questions/38491881/grouping-and-ungrouping-based-on-a-column/38492356#38492356", "title": "Grouping and ungrouping based on a column", "body": "<p>To perform the grouping, you can <code>groupby</code> on <code>'groupId'</code>, and then within each group perform a join with your given delimiter on each column:</p>\n\n<pre><code>def group_delim(grp, delim='|'):\n    \"\"\"Join each columns within a group by the given delimiter.\"\"\"\n    return grp.apply(lambda col: delim.join(col))\n\n# Make sure the DataFrame consists of strings, then apply grouping function.\ngrouped = df.astype(str).groupby('groupId').apply(group_delim)\n\n# Drop the grouped groupId column, and replace it with the index groupId.\ngrouped = grouped.drop('groupId', axis=1).reset_index()\n</code></pre>\n\n<p>The grouped output:</p>\n\n<pre><code>  groupId uniqueId                                   feature_1 feature_2\n0     100    1|2|5  text of 1|some text of 2|another text of 5  10|20|50\n1     200      3|4                    text of 3|more text of 4     30|40 \n</code></pre>\n\n<p>Similar idea for the inverse process, but since each row is a unique group you can just use a regular <code>apply</code>, no need for a <code>groupby</code>:</p>\n\n<pre><code>def ungroup_delim(col, delim='|'):\n    \"\"\"Split elements in a column by the given delimiter, stacking columnwise\"\"\"\n    return col.str.split(delim, expand=True).stack()\n\n# Apply the ungrouping function, and forward fill elements that aren't grouped.\nungrouped = grouped.apply(ungroup_delim).ffill()\n\n# Drop the unwieldy altered index for a new one.\nungrouped = ungrouped.reset_index(drop=True)\n</code></pre>\n\n<p>And ungrouping yields the original data:</p>\n\n<pre><code>  groupId uniqueId          feature_1 feature_2\n0     100        1          text of 1        10\n1     100        2     some text of 2        20\n2     100        5  another text of 5        50\n3     200        3          text of 3        30\n4     200        4     more text of 4        40\n</code></pre>\n\n<p>To use different delimiters, you'd just pass <code>delim</code> as an argument to <code>apply</code>:</p>\n\n<pre><code>foo.apply(group_delim, delim=';')\n</code></pre>\n\n<p>As a side note, in general iterating over DataFrames is quite slow.  Whenever possible you'll want to use a vectorized approach like what I've done above.</p>\n"}, {"tags": [], "owner": {"reputation": 1681, "user_id": 3956718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nYSa5.jpg?s=128&g=1", "display_name": "thepule", "link": "https://stackoverflow.com/users/3956718/thepule"}, "is_accepted": false, "score": 2, "last_activity_date": 1469059811, "last_edit_date": 1469059811, "creation_date": 1469059114, "answer_id": 38492679, "question_id": 38491881, "link": "https://stackoverflow.com/questions/38491881/grouping-and-ungrouping-based-on-a-column/38492679#38492679", "title": "Grouping and ungrouping based on a column", "body": "<p>A solution in R:</p>\n\n<p>I define the initial data frame (for clarity)</p>\n\n<pre><code>df &lt;- data.frame(uniqueID = c(1,2,3,4,5),\n           groupID = c(100,100,200,200,100),\n           feature_1 = c(\"text of 1\",\"some text of 2\",\n                       \"text of 3\", \"more text of 4\",\n                       \"another text of 5\"),\n           feature_2 = c(10,20,30,40,50), stringsAsFactors = F)\n</code></pre>\n\n<p>To obtain the grouped data frame:</p>\n\n<pre><code># Group and summarise using dplyr\nlibrary(dplyr)\ngrouped &lt;- df %&gt;% group_by(groupID) %&gt;% summarise_each(funs(paste(.,collapse = \"|\")))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>grouped\n\n groupID uniqueID                                  feature_1 feature_2\n    (dbl)    (chr)                                      (chr)     (chr)\n1     100    1|2|5 text of 1|some text of 2|another text of 5  10|20|50\n2     200      3|4                   text of 3|more text of 4     30|40\n</code></pre>\n\n<p>To ungroup and go back to the original data frame:</p>\n\n<pre><code>library(stringr)\napply(grouped, 1, function(x)  {\n\n        temp &lt;- data.frame(str_split(x, '\\\\|'), stringsAsFactors = F)\n        colnames(temp) &lt;- names(x)\n        temp\n\n        }) %&gt;%\n        bind_rows()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  groupID uniqueID         feature_1 feature_2\n    (chr)    (chr)             (chr)     (chr)\n1     100        1         text of 1        10\n2     100        2    some text of 2        20\n3     100        5 another text of 5        50\n4     200        3         text of 3        30\n5     200        4    more text of 4        40\n</code></pre>\n"}], "owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2031, "favorite_count": 0, "accepted_answer_id": 38492356, "answer_count": 2, "score": 1, "last_activity_date": 1469059811, "creation_date": 1469053580, "last_edit_date": 1469054330, "question_id": 38491881, "link": "https://stackoverflow.com/questions/38491881/grouping-and-ungrouping-based-on-a-column", "title": "Grouping and ungrouping based on a column", "body": "<p>My goal is to be able to group rows of a CSV file by a column value, and also to perform the inverse operation. To give an example, it is desired to be able to transform back and forth between these two formats:</p>\n\n<pre><code>uniqueId, groupId, feature_1, feature_2\n1, 100, text of 1, 10\n2, 100, some text of 2, 20\n3, 200, text of 3, 30\n4, 200, more text of 4, 40\n5, 100, another text of 5, 50 \n</code></pre>\n\n<p>Grouped on the groupId:</p>\n\n<pre><code>uniqueId, groupId, feature_1, feature_2\n1|2|5, 100, text of 1|some text of 2|another text of 5, 10|20|50\n3|4, 200, text of 3|more text of 4, 30|40\n</code></pre>\n\n<p>The delimiter (here |) is assumed to not exist anywhere in the data.</p>\n\n<p>I am trying to use Pandas to perform this transformation. My code so far can access the cell of rows grouped by a groupId, but I do not know how to populate the new dataframe.</p>\n\n<p>How can my method be completed to accomplish the transformation into the desired new df?</p>\n\n<p>How would an inverse method look like, that transforms the new df back to the original one?</p>\n\n<p>If R is a better tool for this job, I am also open to suggestions in R.</p>\n\n<pre><code>import pandas as pd  \n\ndef getGroupedDataFrame(df, groupByField, delimiter):\n''' Create a df with the rows grouped on groupByField, values separated by delimiter'''\n    groupIds = set(df[groupByField])\n    df_copy = pd.DataFrame(index=groupIds,columns=df.columns)\n    # iterate over the different groupIds\n    for groupId in groupIds:\n        groupRows = df.loc[df[groupByField] == groupId]\n        # for all rows of the groupId\n        for index, row in groupRows.iterrows():\n            # for all columns in the df\n            for column in df.columns:\n                print row[column]\n                # this prints the value the cell\n                # here append row[column] to its cell in the df_copy row of groupId, separated by delimiter\n</code></pre>\n"}, {"tags": ["python", "mysql", "django", "connector"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1471311190, "post_id": 38491869, "comment_id": 65285338, "body": "<a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 1314272, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/37d53cef8c969eeb2c8ee4a8c0a60fd9?s=128&d=identicon&r=PG", "display_name": "user1314272", "link": "https://stackoverflow.com/users/1314272/user1314272"}, "edited": false, "score": 0, "creation_date": 1469078620, "post_id": 38492016, "comment_id": 64391324, "body": "trying in MySQL to get to the command line does not work, I get this ERROR 1045 (28000): Access denied for user &#39;stevenJing&#39;@&#39;localhost&#39;. If I can get the person who set up the DB to give me permission how would I go about doing that."}], "tags": [], "owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "is_accepted": false, "score": 1, "last_activity_date": 1469115079, "last_edit_date": 1469115079, "creation_date": 1469054270, "answer_id": 38492016, "question_id": 38491869, "link": "https://stackoverflow.com/questions/38491869/django-and-mysql-cannot-gain-access-to-connect-with-the-database-error1045/38492016#38492016", "title": "Django and MySQL, cannot gain access to connect with the database ERROR:1045", "body": "<p>If people are pulling your code, and you want them to access YOUR database, then they probably shouldn't be using \"localhost.\"  If you're getting this error while running on your localhost, too, then it's a permission problem.</p>\n\n<p>The first thing to do is see if you can use the command line MySQL, or another MySQL client, to log in using those credentials.</p>\n\n<p>I get these kinds of errors a lot (unfortunately) and it's usually because I didn't add the user correctly in MySQL.  I noticed just putting '%' doesn't account for localhost, I usually have to add 'user'@'localhost' in addition to 'user'@'%' when granting a user privileges.</p>\n\n<p>EDIT: in order to grant privileges, you need to log into mysql as root, typically you'd use something like:</p>\n\n<pre><code>% mysql -u root -P mysql\n</code></pre>\n\n<p>The \"-P\" means you will have to supply the root/admin password, that last \"mysql\" is the schema to use.  Obviously you need administrator access in order to do that.</p>\n\n<p>Then, in more recent versions of MySQL, you first create the user:</p>\n\n<pre><code>&gt; create user  'stevenJing'@'localhost' identified by 'password';\n</code></pre>\n\n<p>This is actually a different user than 'stevenJing'@'%', so if you're going to connect both from localhost and remote hosts, you actually need both.</p>\n\n<p>Then you need to grant privileges to that user:</p>\n\n<pre><code>&gt; grant all privileges on &lt;schema&gt;.* to 'stevenJing'@'localhost';\n</code></pre>\n\n<p>Where schema is obviously your Django schema (lolProject in your Django settings above).  Additionally, of course, to grant that user privileges to log in from elsewhere:</p>\n\n<pre><code>&gt; grant all privileges on &lt;schema&gt;.* to 'stevenJing'@'%';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 1314272, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/37d53cef8c969eeb2c8ee4a8c0a60fd9?s=128&d=identicon&r=PG", "display_name": "user1314272", "link": "https://stackoverflow.com/users/1314272/user1314272"}, "edited": false, "score": 0, "creation_date": 1469078516, "post_id": 38492873, "comment_id": 64391291, "body": "how would someone go about using the first command. When he types mysql into the terminal he gets blocked because he has no permissions."}, {"owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "edited": false, "score": 0, "creation_date": 1469115317, "post_id": 38492873, "comment_id": 64414912, "body": "Yes, you need someone with mysql admin privileges to add users and grant privileges.  Users can be granted privileges to grant other users privileges, but that&#39;s more than what you want to deal with.  I also like the sqlite idea unless you need to share your database."}, {"owner": {"reputation": 13993, "user_id": 232794, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/o1pji.png?s=128&g=1", "display_name": "Sardathrion - against SE abuse", "link": "https://stackoverflow.com/users/232794/sardathrion-against-se-abuse"}, "edited": false, "score": 0, "creation_date": 1489073290, "post_id": 38492873, "comment_id": 72520269, "body": "SQLite is great but you will encounter problems if you are not using it in production as well. MySQL and SQLite do not mix well."}], "tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": false, "score": 2, "last_activity_date": 1469079652, "last_edit_date": 1469079652, "creation_date": 1469060518, "answer_id": 38492873, "question_id": 38491869, "link": "https://stackoverflow.com/questions/38491869/django-and-mysql-cannot-gain-access-to-connect-with-the-database-error1045/38492873#38492873", "title": "Django and MySQL, cannot gain access to connect with the database ERROR:1045", "body": "<h2>Mysql Privileges</h2>\n\n<p>This error is because the <code>django</code> user does not have access to the <code>lolProject</code> database. You can rectify that by using the <a href=\"http://dev.mysql.com/doc/refman/5.7/en/grant.html\" rel=\"nofollow\">GRANT</a> command. The django user needs a lot of privileges because it needs to create and drop tables as part of migrations so someting like this ought to do it.</p>\n\n<pre><code>GRANT ALL ON lolproject.* TO 'django'@'localhost';\n</code></pre>\n\n<p><strong>Update:</strong> Typically you do this by opening the mysql console as <code>mysql -u root</code> where root is an account that's installed by default and usually does not have a password associated with it.</p>\n\n<p>Now this will be fine if everyone is having a mysql server on their on computers. If everyone connects to the same compupter, it ought to be </p>\n\n<pre><code>GRANT ALL ON lolproject.* TO 'django'@'%';\n</code></pre>\n\n<p>Since everyone who pulls from your repo needs access, you ought to use an IP instead of localhost in your <code>settings.py</code></p>\n\n<h2>Sqlite</h2>\n\n<p>Have you considered using sqlite? It has almost no setup required and every one who clones or pulls from your repo gets a copy of the current database (if it has been added to the repo).</p>\n"}], "owner": {"reputation": 1, "user_id": 4077521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U1KPc.jpg?s=128&g=1", "display_name": "Steven Jing", "link": "https://stackoverflow.com/users/4077521/steven-jing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1757, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469115079, "creation_date": 1469053503, "last_edit_date": 1469054186, "question_id": 38491869, "link": "https://stackoverflow.com/questions/38491869/django-and-mysql-cannot-gain-access-to-connect-with-the-database-error1045", "title": "Django and MySQL, cannot gain access to connect with the database ERROR:1045", "body": "<p>Hello I am working on a project with a few people. We are using django 1.9 my mysql and someone set up django to connect with mysql and then wrote instructions for the rest of us on what we need to download to connect python with mysql. I correctly installed mysql but I have issues with accessing the database. We are all suppose to have access to the DB but I keep getting <code>django.db.utils.OperationalError: (1045, \"Access denied for user 'django'@'localhost' (using password: YES)\")</code> even when I just type in mysql into the terminal I get <code>ERROR 1045 (28000): Access denied for user 'stevenJing'@'localhost' (using password: NO)</code> and typing in <code>mysql -u root -p</code> I get <code>ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)</code>. I am not sure on what I need to to do to fix this for I cannot even do <code>python3 manage.py runserver</code> for I get a big error which is.</p>\n\n<pre><code>    Performing system checks...\n\nUnhandled exception in thread started by &lt;function check_errors.&lt;locals&gt;.wrapper at 0x10434a510&gt;\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 199, in ensure_connection\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 171, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/base.py\", line 264, in get_new_connection\n    conn = Database.connect(**conn_params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/MySQLdb/__init__.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/MySQLdb/connections.py\", line 204, in __init__\n    super(Connection, self).__init__(*args, **kwargs2)\n_mysql_exceptions.OperationalError: (1045, \"Access denied for user 'django'@'localhost' (using password: YES)\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/autoreload.py\", line 226, in wrapper\n    fn(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/management/commands/runserver.py\", line 116, in inner_run\n    self.check(display_num_errors=True)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/management/base.py\", line 426, in check\n    include_deployment_checks=include_deployment_checks,\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/checks/registry.py\", line 75, in run_checks\n    new_errors = check(app_configs=app_configs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/checks/model_checks.py\", line 28, in check_all_models\n    errors.extend(model.check(**kwargs))\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/base.py\", line 1178, in check\n    errors.extend(cls._check_fields(**kwargs))\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/base.py\", line 1255, in _check_fields\n    errors.extend(field.check(**kwargs))\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/fields/__init__.py\", line 925, in check\n    errors = super(AutoField, self).check(**kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/fields/__init__.py\", line 208, in check\n    errors.extend(self._check_backend_specific_checks(**kwargs))\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/fields/__init__.py\", line 317, in _check_backend_specific_checks\n    return connections[db].validation.check_field(self, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/validation.py\", line 18, in check_field\n    field_type = field.db_type(connection)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/models/fields/__init__.py\", line 625, in db_type\n    return connection.data_types[self.get_internal_type()] % data\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/__init__.py\", line 36, in __getattr__\n    return getattr(connections[DEFAULT_DB_ALIAS], item)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/functional.py\", line 33, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/base.py\", line 184, in data_types\n    if self.features.supports_microsecond_precision:\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/functional.py\", line 33, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/features.py\", line 53, in supports_microsecond_precision\n    return self.connection.mysql_version &gt;= (5, 6, 4) and Database.version_info &gt;= (1, 2, 5)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/functional.py\", line 33, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/base.py\", line 359, in mysql_version\n    with self.temporary_connection():\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/contextlib.py\", line 59, in __enter__\n    return next(self.gen)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 564, in temporary_connection\n    cursor = self.cursor()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 231, in cursor\n    cursor = self.make_debug_cursor(self._cursor())\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 204, in _cursor\n    self.ensure_connection()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 199, in ensure_connection\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/utils.py\", line 95, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 199, in ensure_connection\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/base/base.py\", line 171, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/db/backends/mysql/base.py\", line 264, in get_new_connection\n    conn = Database.connect(**conn_params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/MySQLdb/__init__.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/MySQLdb/connections.py\", line 204, in __init__\n    super(Connection, self).__init__(*args, **kwargs2)\ndjango.db.utils.OperationalError: (1045, \"Access denied for user 'django'@'localhost' (using password: YES)\")\n</code></pre>\n\n<p>Here is my settings.py for Django</p>\n\n<pre><code>DATABASES = {\n    'default': {\n       # 'ENGINE': 'mysql.connector.django',\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'lolProject',\n        'USER': 'django',\n        'PASSWORD': 'django-pass',\n        'HOST': '127.0.0.1',\n        #'OPTIONS':{'read_default_file': ''},\n        #'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n</code></pre>\n\n<p>The person who set up the DB is new with MySQL and so am I, how could we get it so if anyone pulls or clones from our git repo they have access to the DB.</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 684, "user_id": 5592754, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d0643dbc791d114689434893fe31ada?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi V", "link": "https://stackoverflow.com/users/5592754/abhi-v"}, "edited": false, "score": 0, "creation_date": 1469053331, "post_id": 38491810, "comment_id": 64385100, "body": "You could just ask for <code>raw_input</code> to the path of the file"}, {"owner": {"reputation": 33, "user_id": 6231495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94b15166c640fb64db23222e311f032e?s=128&d=identicon&r=PG&f=1", "display_name": "CeBiDeX", "link": "https://stackoverflow.com/users/6231495/cebidex"}, "reply_to_user": {"reputation": 684, "user_id": 5592754, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d0643dbc791d114689434893fe31ada?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi V", "link": "https://stackoverflow.com/users/5592754/abhi-v"}, "edited": false, "score": 0, "creation_date": 1469053846, "post_id": 38491810, "comment_id": 64385259, "body": "Can i select &quot;C:\\Users\\Mert\\Desktop\\12.jpg&quot; this file with python ?"}, {"owner": {"reputation": 684, "user_id": 5592754, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d0643dbc791d114689434893fe31ada?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi V", "link": "https://stackoverflow.com/users/5592754/abhi-v"}, "edited": false, "score": 0, "creation_date": 1469056686, "post_id": 38491810, "comment_id": 64386047, "body": "Yes, you just type <code>file = &#39;&#47;Users&#47;Mert&#47;Desktop&#47;12.jpg</code> and get the reference for the file and then you can actually use the file through <code>shutil</code> or <code>os</code>, but I&#39;m not completely sure about that part. But the user will have to type the whole path."}], "answers": [{"tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": false, "score": 1, "last_activity_date": 1469059487, "last_edit_date": 1469059487, "creation_date": 1469058788, "answer_id": 38492642, "question_id": 38491810, "link": "https://stackoverflow.com/questions/38491810/how-can-i-select-a-file-with-python/38492642#38492642", "title": "How can i select a file with python?", "body": "<p>You can open a file GUI similar to Java using Python's <code>tkinter</code>:</p>\n\n<pre><code>from Tkinter import Tk\nfrom tkFileDialog import askopenfilename\n\nTk().withdraw()\nfilename = askopenfilename()\nprint(filename)\n</code></pre>\n\n<p>And the Python3 equivalent:</p>\n\n<pre><code>from tkinter.filedialog import askopenfilename\nfilename = askopenfilename()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6231495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94b15166c640fb64db23222e311f032e?s=128&d=identicon&r=PG&f=1", "display_name": "CeBiDeX", "link": "https://stackoverflow.com/users/6231495/cebidex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1489181540, "creation_date": 1469053211, "last_edit_date": 1489181540, "question_id": 38491810, "link": "https://stackoverflow.com/questions/38491810/how-can-i-select-a-file-with-python", "title": "How can i select a file with python?", "body": "<p><img src=\"https://i.stack.imgur.com/mMIsq.png\" alt=\"enter image description here\"></p>\n\n<p>I can do like this on Java, but i can't do on Python</p>\n\n<pre><code>StringSelection ss = new StringSelection(\"C:\\\\Users\\\\Mert\\\\Desktop\\\\hello.png\");\nToolkit.getDefaultToolkit().getSystemClipboard().setContents(ss, null);\nRobot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_ENTER);\nrobot.keyRelease(KeyEvent.VK_ENTER);\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_ENTER);\nrobot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"}, {"tags": ["python", "shell", "argparse", "csh", "tcsh"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1469228987, "post_id": 38491730, "comment_id": 64466456, "body": "Error messages go to <code>stderr</code>, but help goes to <code>stdout</code>.  Look at the <code>print_help</code> method in <code>argparse.py</code>."}, {"owner": {"reputation": 181, "user_id": 6615775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkVwb.jpg?s=128&g=1", "display_name": "fastzombies", "link": "https://stackoverflow.com/users/6615775/fastzombies"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1469551940, "post_id": 38491730, "comment_id": 64579304, "body": "Thank you, but the PEP 389 doc and the code doesn&#39;t seem to match that.  What am I not understanding?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1469553061, "post_id": 38491730, "comment_id": 64579956, "body": "The PEP dates from 2009.  The code is current.  We&#39;d have to study the code history (on the Python repository) and/or search <code>argparse</code> bug/issues to see whether (or when) the <code>help</code> output was switched to/from err/out.   In any case behavior is controlled by the code (and confirmed by the unittest code), not by the documentation."}], "owner": {"reputation": 181, "user_id": 6615775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkVwb.jpg?s=128&g=1", "display_name": "fastzombies", "link": "https://stackoverflow.com/users/6615775/fastzombies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469462357, "creation_date": 1469052797, "last_edit_date": 1469462357, "question_id": 38491730, "link": "https://stackoverflow.com/questions/38491730/capture-python-script-output-in-nested-tcsh-command-line-without-supressing-argp", "title": "Capture Python script output in nested tcsh command line without supressing argparse output", "body": "<p>I have a multilayered problem.  This is the alias I need to use in csh/tcsh:</p>\n\n<pre><code>alias tools_alpha 'set tools_out=`/tools/bin/tools_alpha.py \\!*` ; if ( $tools_out != '\\'''\\'' ) source $tools_out'\n</code></pre>\n\n<p>The goal is if the program runs it will return the name of a shell script and it will get sourced.  If -h is used, help is written to stderr but it will return empty string to stdout and nothing will be sourced.</p>\n\n<p>I have made this work with perl but I would like to use Python instead as I want to add a GUI.  My first issue is that when using argparse the help gets lost.  I have debug statements that I print to stderr and that works fine.  According to documentation on argparse help is supposed to be written to stderr so I thought that would work but when running the script with -h the help is not written and the shell var doesn't contain anything I can identify:</p>\n\n<pre><code>&gt; echo $myout\necho: No match.\n</code></pre>\n\n<p>If I tee to a log file I get my help text.  </p>\n\n<pre><code>set myout=`/tools/bin/tools_alpha.py -h | tee ~/.tools_setup.stderr`\n</code></pre>\n\n<p>I cannot figure out where the help is going and what $myout has captured, its as if it is stdout.  I tried to rewrite a method of argparse making sure I am writing to stderr</p>\n\n<pre><code>class ArguementParser(argparse.ArgumentParser):\n    def __call__(self, parser, namespace, values, option_string=None):\n        parser.print_help(file=_sys.stderr)\n        parser.exit()\n</code></pre>\n\n<p>But it didn't change anything. Any insight is much appreciated as I have exhausted all my own ideas.</p>\n\n<p><strong>Edit</strong>\nIf I pass print_help(file=sys.stderr) then I should be able to print to stderr.</p>\n\n<p>What's more, this discussion makes it sound like writing help to stderr is default:\n<a href=\"https://www.python.org/dev/peps/pep-0389/#discussion-sys-stderr-and-sys-exit\" rel=\"nofollow\">https://www.python.org/dev/peps/pep-0389/#discussion-sys-stderr-and-sys-exit</a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def print_help(self, file=None):\n    if file is None:\n        file = _sys.stdout\n    self._print_message(self.format_help(), file)\n\ndef _print_message(self, message, file=None):\n    if message:\n        if file is None:\n            file = _sys.stderr\n        file.write(message)\n</code></pre>\n\n<p>So why isn't this working?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3326, "user_id": 957950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42736a5eb715da772cd40f4d8d260d06?s=128&d=identicon&r=PG", "display_name": "brichins", "link": "https://stackoverflow.com/users/957950/brichins"}, "edited": false, "score": 0, "creation_date": 1469056513, "post_id": 38491722, "comment_id": 64385986, "body": "Make sure you&#39;re getting what you think - what do you get if you put that URL into your browser? Github generally returns a page with the file embedded - you may need to adjust your URL to point directly to the file. Try <code>https:&#47;&#47;github.com&#47;repo&#47;raw&#47;...&#47;filename</code>, which redirects to <code>https:&#47;&#47;raw.githubusercontent.com&#47;repo&#47;...&#47;filename</code>"}, {"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "reply_to_user": {"reputation": 3326, "user_id": 957950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42736a5eb715da772cd40f4d8d260d06?s=128&d=identicon&r=PG", "display_name": "brichins", "link": "https://stackoverflow.com/users/957950/brichins"}, "edited": false, "score": 0, "creation_date": 1469112958, "post_id": 38491722, "comment_id": 64413315, "body": "Hi, Thanks for the response. I put the URL into the browser and I am getting the file. Anyway I have tried <a href=\"https://github.com/repo/raw/.../filename\" rel=\"nofollow noreferrer\">github.com/repo/raw/.../filename</a> link also, I am able to open up the file in raw format over browser, but again while reading through python, I got HTML tags only."}], "answers": [{"tags": [], "owner": {"reputation": 2995, "user_id": 667913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e038b48be307830687c8a71ff716ba07?s=128&d=identicon&r=PG", "display_name": "patrick", "link": "https://stackoverflow.com/users/667913/patrick"}, "is_accepted": false, "score": 4, "last_activity_date": 1469052892, "creation_date": 1469052892, "answer_id": 38491755, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags/38491755#38491755", "title": "Reading a github file using python returns HTML tags", "body": "<p>You can access a text version by changing the beginning of your link to </p>\n\n<pre><code>https://raw.githubusercontent.com/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 1, "creation_date": 1469113093, "post_id": 38497199, "comment_id": 64413416, "body": "Hi, I tried this, but I end up with an error saying: ValueError: No JSON object could be decoded"}, {"owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "reply_to_user": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469114021, "post_id": 38497199, "comment_id": 64414049, "body": "I can not replicate your error, even if I get a 404 response (the result in that case is <code>keyError</code>). Tried it with Python 2.7 and 3.4. Can you give me the URL you used or the user, repo and the path? Thank you."}, {"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469216122, "post_id": 38497199, "comment_id": 64461880, "body": "Hi, I think I constructed the URL wrong that&#39;s why I got the previous error. Now I got the URL right, but I am getting 404 response. Do you know how to avoid this? Thanks for helping."}, {"owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "reply_to_user": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469216713, "post_id": 38497199, "comment_id": 64462161, "body": "Hi. I thought so. There are some ways you can do this. Like check the response code or check the dictionary for &#39;message&#39;. I&#39;ll update my answer."}, {"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469462918, "post_id": 38497199, "comment_id": 64534336, "body": "I said, I have created the URL as per your response, but still I couldn&#39;t read the contents. I still receive the error code 404. I think URL still need some more info. to read the contents, may be authentication details or access tokens I am not sure about. Can you help me here."}, {"owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "reply_to_user": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 1, "creation_date": 1469487501, "post_id": 38497199, "comment_id": 64546324, "body": "You can add the access token to the header like this <code>requests.get(url, headers={&#39;Authorization&#39;: &#39;token {your token}&#39;})</code>, example: requests.get(url, headers={&#39;Authorization&#39;: &#39;token c7abb397c7abb397c7abb397&#39;}). Everything else stays the same. You get the token under your Github Settings -&gt; Personal Access Tokens. Let me know if it helps."}, {"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469557605, "post_id": 38497199, "comment_id": 64582472, "body": "The file in which I am using the above piece of code is used by others also, does my token works for all? because everybody has their own authorization details right? If it works, it is secure to use token generated by my authorization details? Thanks for your responses."}, {"owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "reply_to_user": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469599826, "post_id": 38497199, "comment_id": 64596920, "body": "<i>Short version</i>: the token works for others, but I&#39;d advise against your proposal. <i>Long version</i>: The token is bound to your profile. Whoever uses your token interacts with github through your account. When you generate the token you do have the option to limit it&#39;s <a href=\"https://developer.github.com/v3/oauth/#scopes\" rel=\"nofollow noreferrer\">scope</a> (the things you can do with it), but there is no way to limit the token to read-only. If you chose this option, make sure to limit the scope to repos. However, my advice would be to include some option for others to use their access tokens. I hope that is helpful."}, {"owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "edited": false, "score": 0, "creation_date": 1469810813, "post_id": 38497199, "comment_id": 64708439, "body": "Thanks for the reply. Info. really helpful. Though still I need to find a way to limit the token."}, {"owner": {"reputation": 438, "user_id": 1699865, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7dfd127ca79430fed151aa1665ac7c84?s=128&d=identicon&r=PG", "display_name": "Elwyn", "link": "https://stackoverflow.com/users/1699865/elwyn"}, "edited": false, "score": 1, "creation_date": 1548348360, "post_id": 38497199, "comment_id": 95518462, "body": "<code>content = base64.b64decode(req[&#39;content&#39;])</code> works better."}], "tags": [], "owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "is_accepted": true, "score": 6, "last_activity_date": 1469218877, "last_edit_date": 1469218877, "creation_date": 1469084641, "answer_id": 38497199, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags/38497199#38497199", "title": "Reading a github file using python returns HTML tags", "body": "<p>There are some good solutions already, but if you use <code>requests</code> just follow Github's <a href=\"https://developer.github.com/v3/repos/contents/#get-contents\" rel=\"noreferrer\">API</a>.</p>\n\n<p>The endpoint for all content is</p>\n\n<pre><code>GET /repos/:owner/:repo/contents/:path\n</code></pre>\n\n<p>But keep in mind that the default behavior of Github's API is to encode the content using <code>base64</code>.</p>\n\n<p>In your case you would do the following:</p>\n\n<pre><code>#!/usr/bin/env python3\nimport base64\nimport requests\n\n\nurl = 'https://api.github.com/repos/{user}/{repo_name}/contents/{path_to_file}'\nreq = requests.get(url)\nif req.status_code == requests.codes.ok:\n    req = req.json()  # the response is a JSON\n    # req is now a dict with keys: name, encoding, url, size ...\n    # and content. But it is encoded with base64.\n    content = base64.decodestring(req['content'])\nelse:\n    print('Content was not found.')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 299, "user_id": 9245170, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3d3787eebe0d5407d40914f2163a1d90?s=128&d=identicon&r=PG&f=1", "display_name": "Person", "link": "https://stackoverflow.com/users/9245170/person"}, "is_accepted": false, "score": 0, "last_activity_date": 1541925778, "creation_date": 1541925778, "answer_id": 53247105, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags/53247105#53247105", "title": "Reading a github file using python returns HTML tags", "body": "<p>Expanding on @Patrick's answer, I'm going to show you my code for how to do that.</p>\n\n<pre><code>import requests\nurl = 'https://raw.githubusercontent.com/...'\npage = requests.get(url)\nprint page.text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 4237428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ca701ea91b2fe9f9114167576fd4519?s=128&d=identicon&r=PG&f=1", "display_name": "taky2", "link": "https://stackoverflow.com/users/4237428/taky2"}, "is_accepted": false, "score": 0, "last_activity_date": 1560526444, "creation_date": 1560526444, "answer_id": 56601320, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags/56601320#56601320", "title": "Reading a github file using python returns HTML tags", "body": "<p>You could first clone the repo, either via bash, or using a python library like <a href=\"https://gitpython.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">GitPython</a>. Then just open and read the file locally. </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11974168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5058e226a2115d0ebdcbf6e7ff655d73?s=128&d=identicon&r=PG&f=1", "display_name": "qazjvm", "link": "https://stackoverflow.com/users/11974168/qazjvm"}, "is_accepted": false, "score": 2, "last_activity_date": 1566738429, "last_edit_date": 1566738429, "creation_date": 1566731825, "answer_id": 57645516, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags/57645516#57645516", "title": "Reading a github file using python returns HTML tags", "body": "<p>Thank you @dasdachs for your answer. However I was getting an error when executing the following line:</p>\n\n<pre><code>content = base64.decodestring(req['content'])\n</code></pre>\n\n<p>The error I got was:</p>\n\n<pre><code>/usr/lib/python3.6/base64.py in _input_type_check(s)\n    511     except TypeError as err:\n    512         msg = \"expected bytes-like object, not %s\" % s.__class__.__name__\n--&gt; 513         raise TypeError(msg) from err\n    514     if m.format not in ('c', 'b', 'B'):\n    515         msg = (\"expected single byte elements, not %r from %s\" %\n\nTypeError: expected bytes-like object, not str\n</code></pre>\n\n<p>Hence I replaced it with the below snippet:</p>\n\n<pre><code>content = base64.b64decode(json['content'])\n</code></pre>\n\n<p>Sharing my working snippet below (executing in Python 3):</p>\n\n<pre><code>import requests\nimport base64\nimport json\n\n\ndef constructURL(user = \"404\",repo_name= \"404\",path_to_file= \"404\",url= \"404\"):\n  url = url.replace(\"{user}\",user)\n  url = url.replace(\"{repo_name}\",repo_name)\n  url = url.replace(\"{path_to_file}\",path_to_file)\n  return url\n\nuser = '&lt;provide value&gt;'\nrepo_name = '&lt;provide value&gt;'\npath_to_file = '&lt;provide value&gt;'\njson_url ='https://api.github.com/repos/{user}/{repo_name}/contents/{path_to_file}'\n\njson_url = constructURL(user,repo_name,path_to_file,json_url) #forms the correct URL\nresponse = requests.get(json_url) #get data from json file located at specified URL \n\nif response.status_code == requests.codes.ok:\n    jsonResponse = response.json()  # the response is a JSON\n    #the JSON is encoded in base 64, hence decode it\n    content = base64.b64decode(jsonResponse['content'])\n    #convert the byte stream to string\n    jsonString = content.decode('utf-8')\n    finalJson = json.loads(jsonString)\nelse:\n    print('Content was not found.')\n\nfor key, value in finalJson.items():\n    print(\"The key and value are ({}) = ({})\".format(key, value))\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6615907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2d9b564bd8091f021042768339f557?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6615907/sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12201, "favorite_count": 2, "accepted_answer_id": 38497199, "answer_count": 5, "score": 5, "last_activity_date": 1566738429, "creation_date": 1469052751, "question_id": 38491722, "link": "https://stackoverflow.com/questions/38491722/reading-a-github-file-using-python-returns-html-tags", "title": "Reading a github file using python returns HTML tags", "body": "<p>I am trying to read a text file saved in github using requests package.\nHere is the python code I am using:</p>\n\n<pre><code>    import requests\n    url = 'https://github.com/...../filename'\n    page = requests.get(url)\n    print page.text\n</code></pre>\n\n<p>Instead of getting the text, I am reading HTML tags.\nHow can I read the text from the file instead of HTML tags?</p>\n"}, {"tags": ["python", "dictionary", "compare", "contains"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 2406718, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dea900dc8ed977bd883732738600b924?s=128&d=identicon&r=PG", "display_name": "user2406718", "link": "https://stackoverflow.com/users/2406718/user2406718"}, "edited": false, "score": 0, "creation_date": 1469054522, "post_id": 38491928, "comment_id": 64385454, "body": "Thanks Fhaab.  It worked!  Somehow, i was trying to capture the path of the key to compare against master dict.  like masterDict[&quot;assignee&quot;][&quot;first&quot;] == childDictValue.  So, i was mislead there.  This solution is nice.  Thanks again."}], "tags": [], "owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "is_accepted": true, "score": 2, "last_activity_date": 1469053812, "creation_date": 1469053812, "answer_id": 38491928, "question_id": 38491717, "link": "https://stackoverflow.com/questions/38491717/python-how-to-find-if-a-dictionary-contains-data-from-other-dictionary/38491928#38491928", "title": "python how to find if a dictionary contains data from other dictionary", "body": "<p>Note that there were some errors in your dictionary (missing commas).</p>\n\n<pre><code>childDict1 = {\n    \"assignee\": {\n        \"first\":\"myFirstName\",\n        \"last\":\"myLastName\"\n    },\n    \"status\" : \"alive\"\n}\n\nchildDict2 = {\n    \"assignee\": {\n        \"first\":\"myFirstName\",\n        \"last\":\"myLastName\"\n    },\n    \"status\" : \"dead\"\n}\n\nmasterDict = {\n    \"description\": \"sample description\",\n    \"assignee\": {\n        \"first\":\"myFirstName\",\n        \"last\":\"myLastName\"\n    },\n    \"status\": \"dead\",\n    \"identity\": 1234  \n}\n\ndef contains_subdict(master, child):\n    if isinstance(master, dict) and isinstance(child, dict):\n        for key in child.keys():\n            if key in master:\n                if not contains_subdict(master[key], child[key]):\n                    return False\n        return True\n    else:\n        if child == master:\n            return True\n        return False\n\nprint contains_subdict(masterDict, childDict1)\nprint contains_subdict(masterDict, childDict2)\n</code></pre>\n\n<p>Running the code produces the output:</p>\n\n<pre><code>False\nTrue\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 2406718, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dea900dc8ed977bd883732738600b924?s=128&d=identicon&r=PG", "display_name": "user2406718", "link": "https://stackoverflow.com/users/2406718/user2406718"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 38491928, "answer_count": 1, "score": 2, "last_activity_date": 1469058473, "creation_date": 1469052712, "last_edit_date": 1469058473, "question_id": 38491717, "link": "https://stackoverflow.com/questions/38491717/python-how-to-find-if-a-dictionary-contains-data-from-other-dictionary", "title": "python how to find if a dictionary contains data from other dictionary", "body": "<p>In Python, how do i find if a dictionary contains data from the other dictionary.</p>\n\n<p>my data is assigned to a variable like this</p>\n\n<pre><code>childDict = {\n  \"assignee\" : {\n     \"first\":\"myFirstName\",\n     \"last\":\"myLastName\"\n  },\n  \"status\" : \"alive\"\n}\n</code></pre>\n\n<p>I have another dictionary named masterDict with similar hierarchy but with some more data in it.</p>\n\n<pre><code>masterDict = {\n  \"description\": \"sample description\",\n  \"assignee\" : {\n     \"first\" : \"myFirstName\",\n     \"last\" : \"myLastName\"\n  },\n  \"status\" : \"dead\",\n  \"identity\": 1234  \n}  \n</code></pre>\n\n<p>Now I need to read through childDict and find out if masterDict has these values in them or not.</p>\n\n<p>data is nested, it can have more depth.\nIn the above example since the status didn't match, it should return false otherwise it should have returned true.  how do i compare them.  I am new to python.  Thanks for your help.</p>\n"}, {"tags": ["python", "python-2.7", "hadoop", "hadoop-streaming"], "answers": [{"tags": [], "owner": {"reputation": 3594, "user_id": 2079249, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3fcded7f2ae3a90901101a27b5867f56?s=128&d=identicon&r=PG", "display_name": "Ronak Patel", "link": "https://stackoverflow.com/users/2079249/ronak-patel"}, "is_accepted": true, "score": 0, "last_activity_date": 1469156132, "creation_date": 1469156132, "answer_id": 38517426, "question_id": 38491716, "link": "https://stackoverflow.com/questions/38491716/what-will-be-the-hadoop-streaming-run-command-to-access-the-files-in-the-sub-dir/38517426#38517426", "title": "What will be the Hadoop Streaming Run Command to access the files in the Sub Directory", "body": "<p>Use regular expressions: </p>\n\n<p><code>inputfile/*</code>   - will work for 1 level of sub directories</p>\n\n<p><code>inputfile/*/*</code> - will work for 2 level of sub directories </p>\n\n<p>Run As:</p>\n\n<p><code>hadoop jar /usr/hdp/2.3.2.0-2950/hadoop-mapreduce/hadoop-streaming.jar -mapper \"python wordcount_mapper.py\" -file wordcount_mapper.py -input inputfile/* -output outputfile3</code></p>\n"}], "owner": {"reputation": 3, "user_id": 6610574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d7e726ca9e81510976872464251db5?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha Biswas", "link": "https://stackoverflow.com/users/6610574/aniruddha-biswas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 38517426, "answer_count": 1, "score": 0, "last_activity_date": 1469162473, "creation_date": 1469052708, "last_edit_date": 1469162473, "question_id": 38491716, "link": "https://stackoverflow.com/questions/38491716/what-will-be-the-hadoop-streaming-run-command-to-access-the-files-in-the-sub-dir", "title": "What will be the Hadoop Streaming Run Command to access the files in the Sub Directory", "body": "<p>I have written a mapper program in python for hadoop Map-Reduce framework.</p>\n\n<p>And I am executing it through the command:</p>\n\n<p><code>hadoop jar /usr/hdp/2.3.2.0-2950/hadoop-mapreduce/hadoop-streaming.jar -mapper \"python wordcount_mapper.py\" -file wordcount_mapper.py -input inputfile -output outputfile3</code>    </p>\n\n<p>It is working properly if the directory <strong>inputfile</strong> contains only file.</p>\n\n<p>But it is not working and showing error if there is sub directories into the directory <strong>inputfile</strong> . Like i have two sub directory in (KAKA and KAKU) in <strong>inputfile</strong>.</p>\n\n<p>And the error is showing :</p>\n\n<blockquote>\n  <p>16/07/20 17:01:40 ERROR streaming.StreamJob: Error Launching job : Not\n  a file: hdfs://secondary/user/team/inputfile/kaka</p>\n</blockquote>\n\n<p>So, My question is that what will be the command to reach the files into the Sub Directory. </p>\n"}, {"tags": ["python", "menu", "gtk", "submenu"], "comments": [{"owner": {"reputation": 886, "user_id": 1960460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a40f8966f56994e4bee9a2e39b8e75?s=128&d=identicon&r=PG", "display_name": "joaquinlpereyra", "link": "https://stackoverflow.com/users/1960460/joaquinlpereyra"}, "edited": false, "score": 0, "creation_date": 1469202405, "post_id": 38491714, "comment_id": 64455082, "body": "This seems like a weird structure. Why define the same submenu for several items? Just make one menu and decide the item to which it corresponds by looking at which element the user right-clicked :)"}, {"owner": {"reputation": 113, "user_id": 2649861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb384056d9cd169de7cc36ea026908b2?s=128&d=identicon&r=PG", "display_name": "Razor", "link": "https://stackoverflow.com/users/2649861/razor"}, "reply_to_user": {"reputation": 886, "user_id": 1960460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a40f8966f56994e4bee9a2e39b8e75?s=128&d=identicon&r=PG", "display_name": "joaquinlpereyra", "link": "https://stackoverflow.com/users/1960460/joaquinlpereyra"}, "edited": false, "score": 0, "creation_date": 1469213971, "post_id": 38491714, "comment_id": 64460853, "body": "@joaquinlpereyra Uh, no right clicking (just hovering), but I do get the drift. I have done similar stuff in javascript, but I don&#39;t know how to do it in python. Any examples?"}, {"owner": {"reputation": 886, "user_id": 1960460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a40f8966f56994e4bee9a2e39b8e75?s=128&d=identicon&r=PG", "display_name": "joaquinlpereyra", "link": "https://stackoverflow.com/users/1960460/joaquinlpereyra"}, "edited": false, "score": 0, "creation_date": 1469214169, "post_id": 38491714, "comment_id": 64460965, "body": "Mhmmm, hovering seems like a challenge. Are you able to detect where  is the user hovering? What&#39;s the widget below this menu supposed to be?"}, {"owner": {"reputation": 113, "user_id": 2649861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb384056d9cd169de7cc36ea026908b2?s=128&d=identicon&r=PG", "display_name": "Razor", "link": "https://stackoverflow.com/users/2649861/razor"}, "reply_to_user": {"reputation": 886, "user_id": 1960460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a40f8966f56994e4bee9a2e39b8e75?s=128&d=identicon&r=PG", "display_name": "joaquinlpereyra", "link": "https://stackoverflow.com/users/1960460/joaquinlpereyra"}, "edited": false, "score": 0, "creation_date": 1469216392, "post_id": 38491714, "comment_id": 64462001, "body": "@joaquinlpereyra No, I don&#39;t. That&#39;s why I came up with this structure, but apparently this can&#39;t be done without redundancy of code. Also I don&#39;t have any specific widget in mind, just a feature I was trying to build while learning gtk menus"}, {"owner": {"reputation": 886, "user_id": 1960460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a40f8966f56994e4bee9a2e39b8e75?s=128&d=identicon&r=PG", "display_name": "joaquinlpereyra", "link": "https://stackoverflow.com/users/1960460/joaquinlpereyra"}, "edited": false, "score": 0, "creation_date": 1469217675, "post_id": 38491714, "comment_id": 64462572, "body": "Also, why not create several identical submenus that are different objects with a for or while loop? That seems reasonable too. I&#39;m sure this would work. If you&#39;d like, I could work out some sample code for you :)"}], "answers": [{"tags": [], "owner": {"reputation": 7536, "user_id": 771066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d207f95c530f2b59f763d7b699f6d81?s=128&d=identicon&r=PG", "display_name": "ebassi", "link": "https://stackoverflow.com/users/771066/ebassi"}, "is_accepted": false, "score": 0, "last_activity_date": 1469452039, "creation_date": 1469452039, "answer_id": 38568650, "question_id": 38491714, "link": "https://stackoverflow.com/questions/38491714/attaching-cloning-a-submenu-to-more-than-one-menu-item/38568650#38568650", "title": "Attaching/Cloning a submenu to more than one menu item", "body": "<p>As the warning you get on the terminal specifies, you cannot attach the same instance of GtkMenu to different menus \u2014 just like you cannot add the same widget to multiple containers.</p>\n\n<p>Your menu hierarchy seems to be overly complex if you find the need to have the same sub-menu in multiple places; it will undoubtedly confuse users, who rely on positional memory to find actions in a hierarchical menu structure.</p>\n\n<p>In any case, if you still want to repeat menus, you can use a simple \"menu factory\" function, and generate multiple instances from a common GtkBuilder XML description of the menu.</p>\n"}], "owner": {"reputation": 113, "user_id": 2649861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb384056d9cd169de7cc36ea026908b2?s=128&d=identicon&r=PG", "display_name": "Razor", "link": "https://stackoverflow.com/users/2649861/razor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469452039, "creation_date": 1469052684, "question_id": 38491714, "link": "https://stackoverflow.com/questions/38491714/attaching-cloning-a-submenu-to-more-than-one-menu-item", "title": "Attaching/Cloning a submenu to more than one menu item", "body": "<p>So I have a basic menu structure:</p>\n\n<pre><code>menu = gtk.menu()\nitem1 = gtk.MenuItem('Item 1')\nitem2 = gtk.MenuItem('Item 2')\nmenu.append(item1)\nmenu.append(item2)`\nmenu.show_all()\n</code></pre>\n\n<p>And I have a submenu:</p>\n\n<pre><code>submenu = gtk.menu()\nsubitem1 = gtk.MenuItem('Option 1')\nsubitem2 = gtk.MenuItem('Option 2')\nsubmenu.append(subitem1)\nsubmenu.append(subitem2)\nsubmenu.show_all()\n</code></pre>\n\n<p>Now I want to attach this same submenu structure to both of the top level menu items. My first thought was that simply adding <code>.set_submenu(submenu)</code> to both <code>item1</code> and <code>item2</code> should work, but it gives me the error:</p>\n\n<pre><code>Gtk-WARNING **: gtk_menu_attach_to_widget(): menu already attached to GtkMenuItem\n</code></pre>\n\n<p>and the submenu only shows up on the last item it was attached to.</p>\n\n<p>In practice I have a lot more than two top level items, and I need to attach the same submenu structure to most of them. So defining the same submenu structure for each item is not really an option. What is the correct way of doing this?</p>\n"}, {"tags": ["python", "list", "csv"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 2, "creation_date": 1469052803, "post_id": 38491688, "comment_id": 64384915, "body": "You want csvDictReader.  Look here: <a href=\"https://docs.python.org/2/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\">docs.python.org/2/library/csv.html#csv.DictReader</a>"}, {"owner": {"reputation": 64, "user_id": 1362912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391dd3a42166c331648bb0a4a7772b14?s=128&d=identicon&r=PG", "display_name": "peacengell", "link": "https://stackoverflow.com/users/1362912/peacengell"}, "reply_to_user": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1469148405, "post_id": 38491688, "comment_id": 64429537, "body": "Thanks James, you right that&#39;s what I am looking for."}], "owner": {"reputation": 64, "user_id": 1362912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391dd3a42166c331648bb0a4a7772b14?s=128&d=identicon&r=PG", "display_name": "peacengell", "link": "https://stackoverflow.com/users/1362912/peacengell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469056323, "creation_date": 1469052540, "last_edit_date": 1469056323, "question_id": 38491688, "link": "https://stackoverflow.com/questions/38491688/turn-a-list-into-variables-in-python", "title": "Turn a list into variables in python", "body": "<p>I am trying to read a csv file and do some searching in it.</p>\n\n<p>I want to find a way of using the Header in the CSV file as a variable.  Is that possible?</p>\n\n<pre><code>with open(\"Server.csv\", newline='', encoding='utf-8', errors='ignore') as f :\n    reader = csv.reader(f)\n    Header = next(reader)\n\n    # This part below is to get the Header on the file.            \n    Header_array = []   \n    for n in range(len(Header)):\n        header_list = Header[n].replace(\" \", \"_\")\n        Header_array.append(header_list)\n        print(Header_array) # this give me a list \n</code></pre>\n\n<p>The variables I want to extract are </p>\n\n<p><code>Application_Name, Environment, server_hostname, OverallStatus, Migration_Date</code></p>\n\n<p>How can I use this Header like dynamic variables based on the code below? Let's say if I add \"Time\" in the csv file tomorrow, I don't need to care about adding Time  = row[x:x][x] below. </p>\n\n<pre><code>    for row in reader :\n        Application_Name            = row[0:1][0]\n        Environment                 = row[1:2][0]\n        server_hostname         = row[2:3][0]\n        OverallStatus          = row[3:4][0]\n        Migration_Date              = row[4:5][0]\n\n\n\n        return Application_Name, server_hostname\n</code></pre>\n"}, {"tags": ["python", "parsing", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 1, "creation_date": 1469055336, "post_id": 38491645, "comment_id": 64385672, "body": "Add rows from fname.dat file to the question.  How you read the file will solve this."}, {"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 1, "creation_date": 1469055768, "post_id": 38491645, "comment_id": 64385786, "body": "Also, trying reading as tab-delimited to see if tabs are there and not being read properly."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1469056618, "post_id": 38491645, "comment_id": 64386022, "body": "@Merlin Above are the rows. Each row value is exactly shown; they&#39;ve labeled each value with the column, e.g. &quot;Col_11: value&quot; is a value"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469091352, "post_id": 38491645, "comment_id": 64398726, "body": "@ShanZhengYang, if the data set you&#39;ve posted in your question is exactly in the same format as your real data, then it&#39;s not a TSV (tab separated values) - it&#39;s &quot;broken&quot; <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_fwf.html\" rel=\"nofollow noreferrer\">fixed-width formatted</a> file. I&#39;ve put &quot;broken&quot; - because it&#39;s not a standard CSV/TSV/fixed file, as it has various number of columns"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469105006, "post_id": 38491645, "comment_id": 64407657, "body": "@MaxU How does <code>pandas.read_fwf()</code> deal with these varying row length with columns in different order? Does this need to be manually parsed? If so, how?"}, {"owner": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 0, "creation_date": 1469124077, "post_id": 38491645, "comment_id": 64420002, "body": "I&#39;d try to read this text file into a dict first and then create a data frame. BTW, there are two <code>Col_13</code> in the third row. Do the original rows contain duplicates? If so, how to interpret it?"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 0, "creation_date": 1469125860, "post_id": 38491645, "comment_id": 64420993, "body": "@ptrj Edited---mistake. The file is several GB in size---how would you read into a dictionary?"}, {"owner": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 0, "creation_date": 1469127590, "post_id": 38491645, "comment_id": 64421974, "body": "Ah, I see. It doesn&#39;t have to be a dict. It may be a pre-allocated numpy array - creating a data frame from it wouldn&#39;t copy the array. Reading text data from a file is fast, so I guess the main problem is string parsing (it may be slow in a loop). Let me think about it..."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 0, "creation_date": 1469129317, "post_id": 38491645, "comment_id": 64422795, "body": "@ptrj There should be some way to pre-allocated &quot;empty&quot; columns into a 15-16 column dataframe, and then parse/place each of these values into a dataframe."}, {"owner": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 0, "creation_date": 1469130288, "post_id": 38491645, "comment_id": 64423278, "body": "Allocating is easy: either 1) <code>np.zeros</code> or 2) <code>np.empty</code> and assign NaN&#39;s to it or 3) <code>pd.DataFrame</code> with specified cols and index but no data. Tricky is efficient data parsing. Another idea: if memory is an issue, you may read data in chunks (dealing with var number of cols as <a href=\"http://stackoverflow.com/questions/15242746/handling-variable-number-of-columns-with-pandas-python\">here</a>), parse, and assign to a pre-allocated array/frame. Also: depending on your data you may use int32/float32 instead of int64/float64 to save space."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469468979, "post_id": 38491645, "comment_id": 64537801, "body": "@MaxU It doesn&#39;t seem to work with <code>pandas.read_fwf()</code>. How about this: could we allocate &quot;empty&quot; columns and then parse the values (<code>column_name:value</code>) of these columns in order to title them? The following rows could then be individually sorted. Otherwise, I&#39;m lost."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469469563, "post_id": 38491645, "comment_id": 64538083, "body": "@ShanZhengYang, could you post or upload somewhere 10-30 rows with the different number of columns either from the original file or in <b>exactly the same format</b> (but with anonymized data, if you have a sensible data)"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469470198, "post_id": 38491645, "comment_id": 64538387, "body": "@MaxU Ok, but I might get busted for a repost."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469470337, "post_id": 38491645, "comment_id": 64538462, "body": "you can mention that it wasn&#39;t answered and post a link to this question"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1469473000, "post_id": 38491645, "comment_id": 64539961, "body": "@MaxU New question here: <a href=\"http://stackoverflow.com/questions/38575481/how-to-parse-labeled-values-of-columns-into-a-pandas-dataframe-some-column-valu\" title=\"how to parse labeled values of columns into a pandas dataframe some column valu\">stackoverflow.com/questions/38575481/&hellip;</a>"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469125831, "creation_date": 1469052332, "last_edit_date": 1469125831, "question_id": 38491645, "link": "https://stackoverflow.com/questions/38491645/how-to-import-unlabeled-and-missing-columns-into-a-pandas-dataframe", "title": "How to import unlabeled and missing columns into a pandas dataframe?", "body": "<p>I have a tab-delimited set of data with some columns not in the correct order, and missing.</p>\n\n<p>Some rows have 12 columns, others have 13 or 14 or 15 columns. </p>\n\n<p>When I look at the data, I find the following types of rows</p>\n\n<pre><code>.... Col_10: 25    Col_11: 23432    Col12: 639142\n.... Col_10: 25    Col_12: 25134    Col13: 243344\n.... Col_11: 75    Col_13: 79876    Col15: 634534    Col12: 5    Col14: 73453\n.... Col_10: 25    Col_11: 32425    Col13: 989423\n.... Col_10: 25    Col_11: 23424    Col12: 342421    Col13: 7    Col14: 13424    Col 15: 67\n.... Col_10: 95    Col_11: 32121    Col15: 111231\n</code></pre>\n\n<p>So, each column from <code>Col_10</code> to <code>Col_15</code> is labeled such that <code>column_name: value</code>. </p>\n\n<p>I would like to read this data into a pandas dataframe using </p>\n\n<pre><code>import pandas as pd\ndf = pd.read_table(\"fname.dat\")\n</code></pre>\n\n<p>where <code>fname.dat</code> is the format for the data above. </p>\n\n<p>How do you do this? It appears I need to allocate space for 15 columns, and then parse the data such that if it begins with <code>Col_10</code>, this value should be put in the 10th column, if <code>Col_11</code> then in the 11th, etc. </p>\n\n<p>How does one read in such data with pandas? </p>\n"}, {"tags": ["python", "unpack", "bitstring"], "answers": [{"tags": [], "owner": {"reputation": 19629, "user_id": 87699, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cCUt8.jpg?s=128&g=1", "display_name": "Scott Griffiths", "link": "https://stackoverflow.com/users/87699/scott-griffiths"}, "is_accepted": false, "score": 0, "last_activity_date": 1470395507, "creation_date": 1470395507, "answer_id": 38787831, "question_id": 38491602, "link": "https://stackoverflow.com/questions/38491602/change-endian-of-hex-in-bitstring-unpack/38787831#38787831", "title": "change endian of hex in bitstring unpack", "body": "<p>You could use ordinary Python formatting on a little-endian integer interpretation.</p>\n\n<p>Rather than a <code>read</code> then <code>unpack</code> you also can do both together:</p>\n\n<pre><code>print('{:0&gt;4X}'.format(fp.read('uintle:16')))\n</code></pre>\n\n<p>This reads then next 16 bits from the stream, interprets it as an unsigned little-endian integer then formats it as four characters of hexadecimal, right-aligned and padded with zeros.</p>\n"}], "owner": {"reputation": 927, "user_id": 4950204, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/246295ada7d994b6b6a585163107f770?s=128&d=identicon&r=PG&f=1", "display_name": "kaminsknator", "link": "https://stackoverflow.com/users/4950204/kaminsknator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470395507, "creation_date": 1469052142, "question_id": 38491602, "link": "https://stackoverflow.com/questions/38491602/change-endian-of-hex-in-bitstring-unpack", "title": "change endian of hex in bitstring unpack", "body": "<p>I'm using the module bitstring to unpack a 24 byte boundary file. I dont have control over the input file. The default interpretation of the module is big-endian apparently which is easy to fix when unpacking data types like int or float but some data I want to be represented as hex values. Using the unpack hex values it displays the incorrect byte ordering. Is there a fix for this? Example input: <code>D806</code> desired output: <code>06D8</code></p>\n\n<pre><code>from bitstring import ConstBitStream\nfp = ConstBitStream(filename=\"testfile.bin\")\nfirstChunk = fp.read(2*8)\ndata=firstChunk.unpack('hex:16')\nprint(data)\n</code></pre>\n"}, {"tags": ["python", "bash", "shebang"], "comments": [{"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1469052253, "post_id": 38491587, "comment_id": 64384705, "body": "From the bash prompt, run <code>type python</code> and report the results."}, {"owner": {"reputation": 181, "user_id": 3078725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe292587bbfae8ebbe16b64abd7c6301?s=128&d=identicon&r=PG&f=1", "display_name": "Lame-Ov2.0", "link": "https://stackoverflow.com/users/3078725/lame-ov2-0"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1469052384, "post_id": 38491587, "comment_id": 64384758, "body": "@John1024 the result of <code>type python</code> yields the result: <code>python is hashed (&#47;usr&#47;bin&#47;python)</code>"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1469052407, "post_id": 38491587, "comment_id": 64384767, "body": "Then try <code>#!&#47;usr&#47;bin&#47;python</code>."}, {"owner": {"reputation": 181, "user_id": 3078725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe292587bbfae8ebbe16b64abd7c6301?s=128&d=identicon&r=PG&f=1", "display_name": "Lame-Ov2.0", "link": "https://stackoverflow.com/users/3078725/lame-ov2-0"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1469052447, "post_id": 38491587, "comment_id": 64384783, "body": "@John1024 I&#39;ve done this, and it also doesn&#39;t work; I think this is referring to the place where my system-wide python interpreter is installed. Following the tutorial, I used <code>virtualenv</code>"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1469052468, "post_id": 38491587, "comment_id": 64384792, "body": "can you try <code>sed -n l app.py</code> ?  It is for displaying non-visible characters"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 3078725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe292587bbfae8ebbe16b64abd7c6301?s=128&d=identicon&r=PG&f=1", "display_name": "Lame-Ov2.0", "link": "https://stackoverflow.com/users/3078725/lame-ov2-0"}, "edited": false, "score": 0, "creation_date": 1469052763, "post_id": 38491625, "comment_id": 64384901, "body": "Thanks for the info on <code>pwd</code>. Unfortunately, when I try <code>which python</code> it shows me where my system-wide python interpreter is installed. For the <code>flask</code> tutorial, I&#39;ve used <code>virtualenv</code>"}], "tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 1, "last_activity_date": 1469052421, "last_edit_date": 1469052421, "creation_date": 1469052247, "answer_id": 38491625, "question_id": 38491587, "link": "https://stackoverflow.com/questions/38491587/python-script-problems-with-shebang-line-unix/38491625#38491625", "title": "Python script: problems with shebang line (unix)", "body": "<p><code>pwd</code> tells you the current directory. It doesn't tell you where a command is located. The output from that command is a red herring.</p>\n\n<p>You may be looking for <code>which python</code>. Put that path into your shebang line. Note that this will give you the Python interpreter from your <code>$PATH</code>, which may or may not be the right one.</p>\n\n<p>The standard shebang line for Python scripts is</p>\n\n<pre><code>#!/usr/bin/env python\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/usr/bin/python\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "edited": false, "score": 0, "creation_date": 1469053026, "post_id": 38491659, "comment_id": 64384986, "body": "If you don&#39;t know the actual path of the interpreter you are using (in the case that your assumption is incorrect) try inspecting <code>sys.executable</code> in any code that you run."}, {"owner": {"reputation": 181, "user_id": 3078725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe292587bbfae8ebbe16b64abd7c6301?s=128&d=identicon&r=PG&f=1", "display_name": "Lame-Ov2.0", "link": "https://stackoverflow.com/users/3078725/lame-ov2-0"}, "edited": false, "score": 0, "creation_date": 1469053202, "post_id": 38491659, "comment_id": 64385047, "body": "Thanks, this has resolved the issue. I didn&#39;t realize that I needed the full path to call the interpreter I had set up in the virtual environment. I am now dealing with a separate issue with <code>Flask</code>, but I&#39;ll take some time to look into that. Thanks again"}], "tags": [], "owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "is_accepted": true, "score": 3, "last_activity_date": 1469052408, "last_edit_date": 1492086990, "creation_date": 1469052408, "answer_id": 38491659, "question_id": 38491587, "link": "https://stackoverflow.com/questions/38491587/python-script-problems-with-shebang-line-unix/38491659#38491659", "title": "Python script: problems with shebang line (unix)", "body": "<p>Bash shebangs expect an absolute path to the interpreter. So in your case you need to specify the full path to your Python interpreter i.e.:</p>\n\n<pre><code>#!/Users/me/Documents/Python/todo-api/flask/bin\n</code></pre>\n\n<p>You might want to investigate the use of <code>/usr/bin/env python</code> to be able to use the interpreter that is available in your user's <code>$PATH</code> environment variable. See <a href=\"https://unix.stackexchange.com/questions/12736/how-does-usr-bin-env-know-which-program-to-use/12751#12751\">https://unix.stackexchange.com/questions/12736/how-does-usr-bin-env-know-which-program-to-use/12751#12751</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6735331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJMzw.jpg?s=128&g=1", "display_name": "Darrelltwo", "link": "https://stackoverflow.com/users/6735331/darrelltwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1471625011, "creation_date": 1471625011, "answer_id": 39044051, "question_id": 38491587, "link": "https://stackoverflow.com/questions/38491587/python-script-problems-with-shebang-line-unix/39044051#39044051", "title": "Python script: problems with shebang line (unix)", "body": "<p>I was having a similar issue with trying to setup a python script as an executable for testing some things and realized that bash was getting in the way more than it was helping. I ended up setting up pyinstaller (which is incredibly easy) and then making my script a stand alone executable without bash being in the mix. </p>\n\n<p><strong>Here's what I did (only takes a couple of minutes and no config):</strong>\nFirst; pyinstaller needs: build-essential &amp; python-dev</p>\n\n<p><em>apt-get install build-essential python-dev</em><br>\n(or yum, etc... depending on your OS)</p>\n\n<p>Then use the built in python package manager to setup pyinstaller:\n<em>pip install pyinstaller</em></p>\n\n<p>That's it. Run: pyinstaller --onefile myapp.py   (or pyinstaller.exe if your OS needs exe)</p>\n\n<p>If it's successful (and it usually is), your new executable will be in a folder \"Dist\" in the same area you ran pysinstaller. </p>\n"}], "owner": {"reputation": 181, "user_id": 3078725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe292587bbfae8ebbe16b64abd7c6301?s=128&d=identicon&r=PG&f=1", "display_name": "Lame-Ov2.0", "link": "https://stackoverflow.com/users/3078725/lame-ov2-0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 38491659, "answer_count": 3, "score": 0, "last_activity_date": 1471625011, "creation_date": 1469052045, "question_id": 38491587, "link": "https://stackoverflow.com/questions/38491587/python-script-problems-with-shebang-line-unix", "title": "Python script: problems with shebang line (unix)", "body": "<p>I am trying to get a feel for the Flask microframework by launching a test application to local server. When trying to run my code, <code>app.py</code>, I keep getting the error message:</p>\n\n<pre><code>-bash: ./app.py: /flask/bin/python: bad interpreter: No such file or directory\n</code></pre>\n\n<p>Here is the basic code <a href=\"http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask\" rel=\"nofollow\">(taken from here)</a> for <code>app.py</code>, which lives in my todo-api directory:</p>\n\n<pre><code>#!/flask/bin/python\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return \"Hello, World!\"\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>I've checked the file path to the python interpreter, and it should exist:</p>\n\n<pre><code>:bin $ pwd python\n\nUsers/me/Documents/Python/todo-api/flask/bin\n</code></pre>\n\n<p>I have followed the tutorial to the T; I've tried changing the shebang line to:</p>\n\n<pre><code>#!/flask/bin/python2.x\n#!flask/bin/python\n#!/flask/bin/env python\n</code></pre>\n\n<p>But to no avail. I am not that knowledgeable about bash, and have tried looking up what is going on, but the solutions to folks with similar problems have not worked for me; is there something going on behind the scenes that I am not understanding?</p>\n"}, {"tags": ["python", "numpy", "runtime", "ipython", "vectorization"], "answers": [{"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1469053280, "creation_date": 1469053280, "answer_id": 38491834, "question_id": 38491572, "link": "https://stackoverflow.com/questions/38491572/improving-runtime-of-weighted-moving-average-filter-function/38491834#38491834", "title": "Improving runtime of weighted moving average filter function?", "body": "<p>That slicing and summing/averaging on a weighted window basically corresponds to 1D convolution with the kernel being flipped. Now, for <a href=\"https://en.wikipedia.org/wiki/Convolution\" rel=\"nofollow\"><code>1D</code> convolution</a>, NumPy has a very efficient implementation in <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.convolve.html\" rel=\"nofollow\"><code>np.convolve</code></a> and that could be used to get rid of the loop and give us <code>y_avg</code>. Thus, we would have a vectorized implementation like so -</p>\n\n<pre><code>y_sums = np.convolve(y,weights[::-1],'valid')\ny_avg = np.true_divide(y_sums,weights.sum())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 6312602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J2fMlfN4Ghc/AAAAAAAAAAI/AAAAAAAAACc/IIPzG0rPYuA/photo.jpg?sz=128", "display_name": "Jesse Amano", "link": "https://stackoverflow.com/users/6312602/jesse-amano"}, "is_accepted": false, "score": 0, "last_activity_date": 1469053498, "creation_date": 1469053498, "answer_id": 38491867, "question_id": 38491572, "link": "https://stackoverflow.com/questions/38491572/improving-runtime-of-weighted-moving-average-filter-function/38491867#38491867", "title": "Improving runtime of weighted moving average filter function?", "body": "<p>The main concern with looping over a large array is that the memory allocation for the large array can be expensive, and the whole thing has to be initialized before the loop can start.</p>\n\n<p>In this particular case I'd go with what Divakar is saying.</p>\n\n<p>In general, if you find yourself in a circumstance where you <em>really need</em> to iterate over a large collection, use <em>iterators</em> instead of arrays. For a relatively simple case like this, just replace <code>range</code> with <code>xrange</code> (see <a href=\"https://docs.python.org/2/library/functions.html#xrange\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#xrange</a>).</p>\n"}], "owner": {"reputation": 13, "user_id": 6615860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d314353be95a5d6183c24dab14a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ant Isin", "link": "https://stackoverflow.com/users/6615860/ant-isin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 38491834, "answer_count": 2, "score": 1, "last_activity_date": 1469053638, "creation_date": 1469051996, "last_edit_date": 1469053638, "question_id": 38491572, "link": "https://stackoverflow.com/questions/38491572/improving-runtime-of-weighted-moving-average-filter-function", "title": "Improving runtime of weighted moving average filter function?", "body": "<p>I have a weighted moving average function which smooths a curve by averaging 3*width values to the left and to the right of each point using a gaussian weighting mechanism. I am only worried about smoothing a region bounded by [start, end]. The following code works, but the problem is runtime with large arrays.</p>\n\n<pre><code>import numpy as np\ndef weighted_moving_average(x, y, start, end, width = 3):\n    def gaussian(x, a, m, s):\n        return a*exp(-(x-m)**2/(2*s**2))\n    cut = (x&gt;=start-3*width)*(x&lt;=end+3*width)\n    x, y = x[cut], y[cut]\n    x_avg = x[(x&gt;=start)*(x&lt;=end)]\n    y_avg = np.zeros(len(x_avg))\n    bin_vals = np.arange(-3*width,3*width+1)\n    weights = gaussian(bin_vals, 1, 0, width)\n    for i in range(len(x_avg)):\n        y_vals = y[i:i+6*width+1]\n        y_avg[i] = np.average(y_vals, weights = weights)\n    return x_avg, y_avg\n</code></pre>\n\n<p>From my understanding, it is generally inefficient to loop through a NumPy array. I was wondering if anyone had an idea to replace the for loop with something more runtime efficient.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "json", "linux", "python-2.7"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469149852, "post_id": 38491553, "comment_id": 64429839, "body": "If you&#39;ve answered your questions, you may answer them below instead of updating the original post."}, {"owner": {"reputation": 703, "user_id": 3209796, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/96472e067696f2ec9147cd3e33509047?s=128&d=identicon&r=PG&f=1", "display_name": "maco1717", "link": "https://stackoverflow.com/users/3209796/maco1717"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469149989, "post_id": 38491553, "comment_id": 64429861, "body": "thanks, havent answered my question yet completly... I will when I have."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469154608, "post_id": 38491553, "comment_id": 64430868, "body": "What do you have left unanswered?"}, {"owner": {"reputation": 703, "user_id": 3209796, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/96472e067696f2ec9147cd3e33509047?s=128&d=identicon&r=PG&f=1", "display_name": "maco1717", "link": "https://stackoverflow.com/users/3209796/maco1717"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469162881, "post_id": 38491553, "comment_id": 64432635, "body": "actually making it work with vis.js"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469163206, "post_id": 38491553, "comment_id": 64432724, "body": "Sounds like a Javascript problem. You may want to post a new question about that"}], "owner": {"reputation": 703, "user_id": 3209796, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/96472e067696f2ec9147cd3e33509047?s=128&d=identicon&r=PG&f=1", "display_name": "maco1717", "link": "https://stackoverflow.com/users/3209796/maco1717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469149917, "creation_date": 1469051915, "last_edit_date": 1469149917, "question_id": 38491553, "link": "https://stackoverflow.com/questions/38491553/python-working-with-json-for-vis-js-timeline", "title": "python working with JSON for vis.js timeline", "body": "<p>I'm trying to setup a test script to find out how to work with python to generate and read JSON.</p>\n\n<p>I want to start with something simple, when pressing a button generate and event for id 1 when release add and end to that event. at the bottom of the script there is an example of the JSON i need to send to the vis.js timeline... id also like to read the JSON file from python to see what is the last id and add from there, maybe some decision making if i need to create a new event or add at the end of that depending on the time between press and release.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport RPi.GPIO as GPIO\nimport datetime\nimport json\nimport os.path\n\nGPIO.setmode(GPIO.BCM)\n\nGPIO.setup(23, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)\n\n\ndatain = {}\ndataout = {}\n\n\nif os.path.isfile(\"/home/pi/data.json\"):\n    with open('data.json', 'r') as outfile:\n        datain = json.load(outfile)\n\n\nwhile True:\n\n\n    GPIO.wait_for_edge(23, GPIO.RISING)\n    print(\"Button 1 Pressed\")\n    print(datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S'))\n\n    dataout ['id'] = \"1\"\n    dataout ['content'] = \"Button Pressed\"\n    dataout ['start'] = datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S')\n\n    GPIO.wait_for_edge(23, GPIO.FALLING)\n    print(\"Button 1 Released\")\n    print(datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S'))\n\n    dataout [\"end\"] = datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S')\n\n    with open('data.json', 'ab+') as outfile:\n        json.dump(dataout, outfile, sort_keys=False)\n\n\nGPIO.cleanup()\n\n#{\n#id: 1,\n#    content: 'First event',\n#    start: '2014-08-01'\n#}, {\n#    id: 2,\n#    content: 'Pi and Mash',\n#    start: '2014-08-08'}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>turns out I was generating JSON wrongly it wasn's a validated JSON file, I fixed it, the issue now is that I can add/append attributes to the object how would i add new event? ...</p>\n\n<pre><code>#!/usr/bin/python\n\nimport RPi.GPIO as GPIO\nimport datetime\nimport json\nimport os.path\n\nGPIO.setmode(GPIO.BCM)\n\nGPIO.setup(23, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)\n\n\ndatain = {}\ndataout = {}\n\n\nif os.path.isfile(\"/home/pi/data.json\"):\n    with open('data.json', 'r') as outfile:\n        datain = json.load(outfile)\n\n\nwhile True:\n\n\n    GPIO.wait_for_edge(23, GPIO.RISING)\n    print(\"Button 1 Pressed\")\n    print(datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S'))\n\n\n\n    dataout = {\"Events\":[{\"content\": \"Button Pressed\", \"start\": datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S'), \"id\": \"1\" }]}\n\n\n    GPIO.wait_for_edge(23, GPIO.FALLING)\n    print(\"Button 1 Released\")\n    print(datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S'))\n\n\n\n    dataout.append({\"end\"})\n    data[0]['end'] = datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S')\n\n    with open('data.json', 'ab+') as outfile:\n        json.dump(dataout, outfile, sort_keys=False, indent=4)\n\n\nGPIO.cleanup()\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've managed to do the above:</p>\n\n<pre><code>#dataout.append({\"end\"})\ndataout[\"Events\"][0][\"end\"] = datetime.datetime.now().strftime('%Y/%m/%d %H:%M:%S')\n</code></pre>\n\n<p>**UPDATE2*</p>\n\n<p>I have also noticed that this code creates add the new object (new + old) as a duplicated root...</p>\n\n<p>the solution was to open the dump file with a rewrite method.</p>\n\n<pre><code>with open('data.json', 'wb+') as outfile:\n            json.dump(dataout, outfile, sort_keys=False, indent=4)\n</code></pre>\n"}, {"tags": ["python", "ibm-cloud-infrastructure"], "answers": [{"tags": [], "owner": {"reputation": 4368, "user_id": 5165832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7093683da5ea0a5d497732d01124de38?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Raul Cabero Mendoza", "link": "https://stackoverflow.com/users/5165832/nelson-raul-cabero-mendoza"}, "is_accepted": true, "score": 0, "last_activity_date": 1469058870, "creation_date": 1469058870, "answer_id": 38492656, "question_id": 38491538, "link": "https://stackoverflow.com/questions/38491538/internal-server-error-when-get-the-tags-of-the-virtual-guest/38492656#38492656", "title": "Internal Server Error when get the tags of the virtual guest", "body": "<p>it looks like an error because the reponse contains a big amount of data try to add limits in your request:</p>\n\n<pre><code>api = SoftLayer.Client(username=customer_id, api_key=customer_apikey)\napi['Account'].getVirtualGuests(mask='fullyQualifiedDomainName,tagReferences.tag.name',limit=10, offset=0)\n</code></pre>\n\n<p>for more information about limits see:</p>\n\n<p><a href=\"http://softlayer-api-python-client.readthedocs.io/en/latest/api/client/\" rel=\"nofollow\">http://softlayer-api-python-client.readthedocs.io/en/latest/api/client/</a></p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 3, "user_id": 6615853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f44d68264e90877ca67ed90922e7d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Filipe", "link": "https://stackoverflow.com/users/6615853/michel-filipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 38492656, "answer_count": 1, "score": 0, "last_activity_date": 1469058870, "creation_date": 1469051867, "question_id": 38491538, "link": "https://stackoverflow.com/questions/38491538/internal-server-error-when-get-the-tags-of-the-virtual-guest", "title": "Internal Server Error when get the tags of the virtual guest", "body": "<p>The API is returning Internal Server Error when I try to get the tags of the virtual guests of a customer account.</p>\n\n<p>Code example using the SoftLayer API library: </p>\n\n<pre><code>api = SoftLayer.Client(username=customer_id, api_key=customer_apikey)\napi['Account'].getVirtualGuests(mask='fullyQualifiedDomainName,tagReferences.tag.name')\n</code></pre>\n\n<p>The exception is:</p>\n\n<pre><code>File \"scripts/getting_tags.py\", line 16, in &lt;module&gt;\n  for item in func(mask='fullyQualifiedDomainName,tagReferences.tag.name'):\nFile \"/home/mfilipe/workspace/SoftLayerBilling/venv/lib/python2.7/site-packages/SoftLayer/API.py\", line 362, in call_handler\n  return self(name, *args, **kwargs)\nFile \"/home/mfilipe/workspace/SoftLayerBilling/venv/lib/python2.7/site-packages/SoftLayer/API.py\", line 330, in call\n  return self.client.call(self.name, name, *args, **kwargs)\nFile \"/home/mfilipe/workspace/SoftLayerBilling/venv/lib/python2.7/site-packages/SoftLayer/API.py\", line 226, in call\n  return self.transport(request)\nFile \"/home/mfilipe/workspace/SoftLayerBilling/venv/lib/python2.7/site-packages/SoftLayer/transports.py\", line 162, in __call__\n  raise exceptions.TransportError(ex.response.status_code, str(ex))\nSoftLayer.exceptions.TransportError: TransportError(500): 500 Server Error: Internal Server Error\n</code></pre>\n\n<p>Couple months ago that API call was working properly. When I execute the same call for the hardware (api['Account'].getHardware) or remove tagReferences from mask, it works.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1469051948, "post_id": 38491461, "comment_id": 64384604, "body": "<i>&quot;Is this copying the whole hostDictionary into global&#39;s key or is it just referencing it?&quot;</i> It&#39;s just referencing it, e.g <code>a = {}; b = {&#39;a&#39;: a}; b[&#39;a&#39;] is a == True</code>. <i>&quot;Is there a better way to do this?&quot;</i> Maybe. Can you explain in more detail what you&#39;re trying to achieve? <i>&quot;Is this faster?&quot;</i> My guess is probably not, since you have a lot more overhead from the indexing."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1469058871, "post_id": 38491461, "comment_id": 64386575, "body": "How long does it currently take and how fast does it have to be? In the <i>vast</i> majority of cases, this optimization would be minuscule and not worth spending time giving a second thought."}, {"owner": {"reputation": 125, "user_id": 3247226, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/584660488/picture?type=large", "display_name": "VIshu Kamble", "link": "https://stackoverflow.com/users/3247226/vishu-kamble"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1469111868, "post_id": 38491461, "comment_id": 64412548, "body": "@ali_m I am creating a dictionary of all hosts with it&#39;s details. Then a global dict which has the host as key and all it&#39;s value as details. With this i can just query the global dict once for any host rather than finding the ip dict and querying it and any other fuction too can edit it if there&#39;s a change in any of it&#39;s properties."}], "answers": [{"tags": [], "owner": {"reputation": 582, "user_id": 3806077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JtUCR.jpg?s=128&g=1", "display_name": "bull90", "link": "https://stackoverflow.com/users/3806077/bull90"}, "is_accepted": false, "score": 1, "last_activity_date": 1471966438, "last_edit_date": 1471966438, "creation_date": 1469051879, "answer_id": 38491542, "question_id": 38491461, "link": "https://stackoverflow.com/questions/38491461/python-efficient-way-to-copy-one-dictionary-as-value-of-key/38491542#38491542", "title": "Python efficient way to copy one dictionary as value of key", "body": "<p>1\\2 - It is a reference, you need to make a copy in this way.  </p>\n\n<pre><code>from copy import copy  \nglobalDictionary[host] = copy(hostDictionary)\n</code></pre>\n\n<p>3 - I don't think so, I think that a copy to all the object can be quicker than access on each elements.</p>\n"}, {"tags": [], "owner": {"reputation": 4815, "user_id": 5540305, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EuHvE.jpg?s=128&g=1", "display_name": "hashcode55", "link": "https://stackoverflow.com/users/5540305/hashcode55"}, "is_accepted": false, "score": 1, "last_activity_date": 1469052543, "last_edit_date": 1469052543, "creation_date": 1469051940, "answer_id": 38491564, "question_id": 38491461, "link": "https://stackoverflow.com/questions/38491461/python-efficient-way-to-copy-one-dictionary-as-value-of-key/38491564#38491564", "title": "Python efficient way to copy one dictionary as value of key", "body": "<ol>\n<li><p>Nopes, it ain't copying the whole dictionary, its just referencing it. To check this the best method is to do this - </p>\n\n<pre><code>host = 'hostname'\nhostDictionary = {}\nglobalDictionary = {}\nhostDictionary[\"a\"] = a\nhostDictionary[\"b\"] = b\nhostDictionary[\"c\"] = c\nglobalDictionary[host] = hostDictionary`\n</code></pre>\n\n<p>Checking it - </p>\n\n<pre><code>globalDictionary[host] is hostDictionary\n</code></pre>\n\n<p>Output - </p>\n\n<pre><code>True \n</code></pre>\n\n<p>Which means both have the same id.</p></li>\n<li><p>To copy you have to use, <code>copy()</code> or <code>deepcopy()</code></p>\n\n<pre><code>globalDictionary[host] = hostDictionary.copy()\nglobalDictionary[host] is hostDictionary\n</code></pre>\n\n<p>which gives youe <code>False</code> and proves its getting copied.</p></li>\n<li><p>It depends on your purpose actually. But in any case direct assignment is obviously faster.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 6312602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J2fMlfN4Ghc/AAAAAAAAAAI/AAAAAAAAACc/IIPzG0rPYuA/photo.jpg?sz=128", "display_name": "Jesse Amano", "link": "https://stackoverflow.com/users/6312602/jesse-amano"}, "is_accepted": false, "score": 1, "last_activity_date": 1469052063, "creation_date": 1469052063, "answer_id": 38491591, "question_id": 38491461, "link": "https://stackoverflow.com/questions/38491461/python-efficient-way-to-copy-one-dictionary-as-value-of-key/38491591#38491591", "title": "Python efficient way to copy one dictionary as value of key", "body": "<p>I get this from Python CLI:</p>\n\n<pre><code>&gt;&gt;&gt; a = {}\n&gt;&gt;&gt; b = {}\n&gt;&gt;&gt; c = {}\n&gt;&gt;&gt; a[\"foo\"] = 1\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; c = a.copy()\n&gt;&gt;&gt; b[\"bar\"] = 2\n&gt;&gt;&gt; a\n{'foo': 1, 'bar': 2}\n&gt;&gt;&gt; b\n{'foo': 1, 'bar': 2}\n&gt;&gt;&gt; c\n{'foo': 1}\n</code></pre>\n\n<p>Which means:</p>\n\n<ol>\n<li><p>You are just referencing <code>hostDictionary</code> in the key for <code>globalDictionary</code>. If you want a copy, call <code>hostDictionary.copy()</code> or <code>hostDictionary.deepcopy()</code> like hashcode55 said.</p></li>\n<li><p>\"Better\" depends on your use case. But you could have just declared <code>hostDictionary = {'a': a, 'b': b, 'c': c}</code>, for example.</p></li>\n<li><p>It's slower on the Python interpreter side to do what you put there, since (assuming there's nothing built in to optimize things back to your original example) the engine will need to look up the object referenced by <code>globalDictionary[host]</code> for each operation before writing.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 6615916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ee3ca481f6093b429235a4054dd9d5?s=128&d=identicon&r=PG", "display_name": "AyumuKasuga", "link": "https://stackoverflow.com/users/6615916/ayumukasuga"}, "is_accepted": false, "score": 1, "last_activity_date": 1469052748, "last_edit_date": 1469052748, "creation_date": 1469052312, "answer_id": 38491642, "question_id": 38491461, "link": "https://stackoverflow.com/questions/38491461/python-efficient-way-to-copy-one-dictionary-as-value-of-key/38491642#38491642", "title": "Python efficient way to copy one dictionary as value of key", "body": "<p>I think it will be faster if you initialize dict like this</p>\n\n<pre><code>lobalDictionary[host] = {\n    \"a\": a,\n    \"b\": b,\n    \"c\": c\n}\n</code></pre>\n\n<p>Also if you don't want to use copy or deepcopy, you can copy your dictionary like this:</p>\n\n<pre><code>globalDictionary[host] = dict(hostDictionary.items())\n</code></pre>\n\n<p>or</p>\n\n<pre><code>globalDictionary[host] = {k:v for k,v in hostDictionary.items()}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3247226, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/584660488/picture?type=large", "display_name": "VIshu Kamble", "link": "https://stackoverflow.com/users/3247226/vishu-kamble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1471966438, "creation_date": 1469051483, "question_id": 38491461, "link": "https://stackoverflow.com/questions/38491461/python-efficient-way-to-copy-one-dictionary-as-value-of-key", "title": "Python efficient way to copy one dictionary as value of key", "body": "<p>I am working on a monitoring tool in python.\nIt has a global dictionary with all hosts as keys and their details as values.</p>\n\n<p>At the moment I do it like this:</p>\n\n<pre><code>host = hostname\nhostDictionary[\"a\"] = a\nhostDictionary[\"b\"] = b\nhostDictionary[\"c\"] = c\nglobalDictionary[host] = hostDictionary\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Is this copying the whole hostDictionary into global's key or is it just referencing it?</p></li>\n<li><p>Is there a better way to do this? </p></li>\n<li><p>Is this faster?</p>\n\n<pre><code>globalDictionary[host][\"a\"] = a\nglobalDictionary[host][\"b\"] = b\nglobalDictionary[host][\"c\"] = c\n</code></pre></li>\n</ol>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 1, "creation_date": 1469051497, "post_id": 38491441, "comment_id": 64384465, "body": "Could you reproduce a minimal sample case and list out the expected outcome and if possible explain through it?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1469053697, "post_id": 38491441, "comment_id": 64385211, "body": "This sounds like it might be a job for <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ufunc.reduceat.html\" rel=\"nofollow noreferrer\"><code>numpy.add.reduceat</code></a>."}, {"owner": {"reputation": 865, "user_id": 3220303, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f061937011d0ae7e3414e33128ddc170?s=128&d=identicon&r=PG&f=1", "display_name": "BarthesSimpson", "link": "https://stackoverflow.com/users/3220303/barthessimpson"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469054481, "post_id": 38491441, "comment_id": 64385447, "body": "@user2357112 yes - I was thinking some combo of numpy.where and numpy.add.reduceat"}, {"owner": {"reputation": 865, "user_id": 3220303, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f061937011d0ae7e3414e33128ddc170?s=128&d=identicon&r=PG&f=1", "display_name": "BarthesSimpson", "link": "https://stackoverflow.com/users/3220303/barthessimpson"}, "edited": false, "score": 0, "creation_date": 1469055286, "post_id": 38491441, "comment_id": 64385659, "body": "Why was my question downvoted? It is much more helpful if you leave a comment."}], "owner": {"reputation": 865, "user_id": 3220303, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f061937011d0ae7e3414e33128ddc170?s=128&d=identicon&r=PG&f=1", "display_name": "BarthesSimpson", "link": "https://stackoverflow.com/users/3220303/barthessimpson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469057887, "creation_date": 1469051386, "last_edit_date": 1469057887, "question_id": 38491441, "link": "https://stackoverflow.com/questions/38491441/sum-over-variable-slices-of-numpy-ndarray", "title": "Sum over variable slices of numpy ndarray", "body": "<p>I have an m x n matrix stored as an ndarray. It's essentially a time series, with the times as rows (ordered) and the various different data streams as columns. My first goal is to identify points at which any of these columns crosses zero (\"crossings\"), which I accomplished using:</p>\n\n<pre><code>crossings = (np.diff(np.sign(original_matrix), axis=0) != 0)*1\n</code></pre>\n\n<p>Having done this, I now have a new (sparse) matrix with 1s at all crossings. What I need to do is take the sum of each slice of the original matrix that lies between two crossings.</p>\n\n<p>Specifically, if a column has i crossings, I need to return the sum of values in the column since crossing i, divided by the sum of values in the column between crossing i-1 and crossing i-2. If there are no crossings, I need to return 0. </p>\n\n<p>I've looked at boolean masks and sum.reduceat as solutions, and they seem fruitful. But I'm a bit stuck as to how to start.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Here's a simplified example (in reality the matrix would be more like 1000 x 1000)</p>\n\n<pre><code>#original matrix:\n\n[[0.5, 0.5, 0.5],\n [0.5, -0.5, 0.5],\n [-0.5, 0.5, 0.5],\n [0.5, 0.5, 0.5],\n [0.5, -0.5, 0.5],\n [0.5, -0.5, 0.5]\n]\n\n#crossings:\ncrossings = (np.diff(np.sign(original_matrix), axis=0) != 0)*1\n\n[[0, 0, 0],\n [0, 1, 0],\n [1, 1, 0],\n [1, 0, 0],\n [0, 1, 0],\n [0, 0, 0]\n]\n</code></pre>\n\n<p>So for the first column I need the sum of the last three rows [3:5] divided by the value of row [2]. For the second column I need the sum of rows [4:5] divided by the sum of rows [2:3]. For the third column, I return zero.</p>\n\n<p>I realize I can get the indices of all the crossings using:</p>\n\n<pre><code>indices = np.transpose(np.nonzero(crossings))\n\narray([[1, 1],\n       [2, 0],\n       [2, 1],\n       [3, 0],\n       [4, 1]])\n</code></pre>\n\n<p>But I'm having a hard time figuring out how to go from those indices to the sum.reduceat step.</p>\n"}, {"tags": ["java", "python", "multithreading"], "comments": [{"owner": {"reputation": 229, "user_id": 3745362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ba7f3e3692bf5f58cfdd82af650489?s=128&d=identicon&r=PG&f=1", "display_name": "user3745362", "link": "https://stackoverflow.com/users/3745362/user3745362"}, "edited": false, "score": 0, "creation_date": 1469052303, "post_id": 38491422, "comment_id": 64384728, "body": "What are you doing with the ProcessBuilder stdout?  Since by default it just goes into pipes, you may be blocking once the pipe is filled up.  Take a look at ProcessBuilder.inheritIO( ) or ProcessBuilder.redirectOutput( ) - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.h&zwnj;&#8203;tml</a>"}, {"owner": {"reputation": 455, "user_id": 4430722, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ab16cbd48c19efe88e4d1d066d2b459f?s=128&d=identicon&r=PG&f=1", "display_name": "cameronlund4", "link": "https://stackoverflow.com/users/4430722/cameronlund4"}, "reply_to_user": {"reputation": 229, "user_id": 3745362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ba7f3e3692bf5f58cfdd82af650489?s=128&d=identicon&r=PG&f=1", "display_name": "user3745362", "link": "https://stackoverflow.com/users/3745362/user3745362"}, "edited": false, "score": 0, "creation_date": 1469052959, "post_id": 38491422, "comment_id": 64384970, "body": "@user3745362 I&#39;m using the exact solution from the thread at the end of this message. Could your mentioned problem still exist here? <a href=\"http://stackoverflow.com/questions/1732455/redirect-process-output-to-stdout\" title=\"redirect process output to stdout\">stackoverflow.com/questions/1732455/&hellip;</a>  EDIT: Changing to your method didn&#39;t fix the issue"}], "owner": {"reputation": 455, "user_id": 4430722, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ab16cbd48c19efe88e4d1d066d2b459f?s=128&d=identicon&r=PG&f=1", "display_name": "cameronlund4", "link": "https://stackoverflow.com/users/4430722/cameronlund4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469051298, "creation_date": 1469051298, "last_edit_date": 1495540372, "question_id": 38491422, "link": "https://stackoverflow.com/questions/38491422/how-to-run-a-multithreaded-python-program-from-command-in-java", "title": "How to run a multithreaded python program from command in Java", "body": "<p>As I know pretty much nothing about Python, I'm trying to run a python script that I need from Java. I don't need to interface with it's interfaces or anything else, just simply start it with certain arguments.</p>\n\n<p>Following other overflow threads like <a href=\"https://stackoverflow.com/questions/10097491/call-and-receive-output-from-python-script-in-java\">this one</a>, I am starting the script as follows:</p>\n\n<pre><code>String longitude = \"snip\"; // Will be a number like +/-xx.xxxxxxx\nString latitude = \"snip\"; // Will be a number like +/-xx.xxxxxxx\nString[] command = {\"python\", \"example.py\",\n        \"-a\", \"ptc\",\n        \"-u\", \"snip\", // Username\n        \"-p\", \"snip\", // Password\n        \"-l\", longitude + \" \" + latitude,\n            \"-st\", \"10\"\n};\nProcessBuilder probuilder = new ProcessBuilder(command);\nprobuilder.directory(new File(\"snip\")); // Simply a folder where file is\nProcess p = probuilder.start();\n</code></pre>\n\n<p>After this I just have a few lines that capture the output of the process and output it to System.out, then run Process.waitFor() so the main thread doesn't return until the python finishes. The issue is, the python script I'm running (<a href=\"https://github.com/AHAAAAAAA/PokemonGo-Map/blob/master/example.py\" rel=\"nofollow noreferrer\">found here</a>) uses multiple threads, and I believe it's unable to start all threads. I get output from Flask, but then nothing happens yet Process.waitFor() does not return. Is there a way to correctly run multithreaded python scripts through java?</p>\n\n<p>For reference, <a href=\"http://pastebin.com/T5JJzt8P\" rel=\"nofollow noreferrer\">here</a> is the output I'm getting, and <a href=\"http://pastebin.com/sxhZFw37\" rel=\"nofollow noreferrer\">here</a> is expected output.</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql", "user-defined-functions"], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 13, "last_activity_date": 1508074363, "last_edit_date": 1508074363, "creation_date": 1469088793, "answer_id": 38498610, "question_id": 38491377, "link": "https://stackoverflow.com/questions/38491377/pyspark-dataframe-join-using-udf/38498610#38498610", "title": "Pyspark Dataframe Join using UDF", "body": "<p><strong>Spark 2.2+</strong></p>\n\n<p>You have to use <a href=\"https://spark.apache.org/docs/latest/api/python/pyspark.sql.html?highlight=crossjoin#pyspark.sql.DataFrame.crossJoin\" rel=\"noreferrer\"><code>crossJoin</code></a> or enable cross joins <a href=\"https://stackoverflow.com/q/38999140/1560062\">in the configuration</a>:</p>\n\n<pre><code>df1.crossJoin(df2).where(my_join_udf(df1.col_a, df2.col_b))\n</code></pre>\n\n<p><strong>Spark 2.0, 2.1</strong></p>\n\n<p>Method shown below doesn't work anymore in Spark 2.x. See <a href=\"https://issues.apache.org/jira/browse/SPARK-19728\" rel=\"noreferrer\">SPARK-19728</a>.</p>\n\n<p><strong>Spark 1.x</strong></p>\n\n<p>Theoretically you can join and filter:</p>\n\n<pre><code>df1.join(df2).where(my_join_udf(df1.col_a, df2.col_b))\n</code></pre>\n\n<p>but in general you shouldn't to it all. Any type of <code>join</code> which is not based on equality requires a full Cartesian product (same as the answer) which is rarely acceptable (see also <a href=\"https://stackoverflow.com/q/32952080/1560062\">Why using a UDF in a SQL query leads to cartesian product?</a>).</p>\n"}], "owner": {"reputation": 1017, "user_id": 1074021, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7f35d9f37a451b9808adea78cdf523cf?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1074021/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5463, "favorite_count": 2, "accepted_answer_id": 38498610, "answer_count": 1, "score": 5, "last_activity_date": 1547588870, "creation_date": 1469051087, "last_edit_date": 1547588870, "question_id": 38491377, "link": "https://stackoverflow.com/questions/38491377/pyspark-dataframe-join-using-udf", "title": "Pyspark Dataframe Join using UDF", "body": "<p>I'm trying to create a custom join for two dataframes (df1 and df2) in PySpark (similar to <a href=\"https://stackoverflow.com/questions/30132533/custom-join-with-non-equal-keys\">this</a>), with code that looks like this:</p>\n\n<pre><code>my_join_udf = udf(lambda x, y: isJoin(x, y), BooleanType())\nmy_join_df = df1.join(df2, my_join_udf(df1.col_a, df2.col_b))\n</code></pre>\n\n<p>The error message I'm getting is:</p>\n\n<pre><code>java.lang.RuntimeException: Invalid PythonUDF PythonUDF#&lt;lambda&gt;(col_a#17,col_b#0), requires attributes from more than one child\n</code></pre>\n\n<p>Is there a way to write a PySpark UDF that can process columns from two separate dataframes?</p>\n"}, {"tags": ["python", "string", "date"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 4913639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b7eb972b9f3e0d2b2c2f45e4c7c0541?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler R", "link": "https://stackoverflow.com/users/4913639/tyler-r"}, "edited": false, "score": 0, "creation_date": 1469051602, "post_id": 38491452, "comment_id": 64384501, "body": "This is the quick one line way to do this which is what I would do, but I gave the long drawn out version to hopefully make it clearer."}], "tags": [], "owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "is_accepted": false, "score": 1, "last_activity_date": 1469051449, "creation_date": 1469051449, "answer_id": 38491452, "question_id": 38491376, "link": "https://stackoverflow.com/questions/38491376/efficient-way-for-python-date-string-manipulation/38491452#38491452", "title": "Efficient way for python date string manipulation", "body": "<p>Use datetime module:</p>\n\n<pre><code>import datetime\nprint datetime.datetime.strptime(\"07/18/2013\", '%m/%d/%Y').strftime('%m/%Y')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 4913639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b7eb972b9f3e0d2b2c2f45e4c7c0541?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler R", "link": "https://stackoverflow.com/users/4913639/tyler-r"}, "is_accepted": true, "score": 4, "last_activity_date": 1469051531, "creation_date": 1469051531, "answer_id": 38491471, "question_id": 38491376, "link": "https://stackoverflow.com/questions/38491376/efficient-way-for-python-date-string-manipulation/38491471#38491471", "title": "Efficient way for python date string manipulation", "body": "<p>Look into strftime and strptime.</p>\n\n<p>Assuming you start with the string <em>s</em> you can put it into a datetime object using strptime then take that back out into a string with only the necessary fields using strftime.  I didn't actually run this code so I don't know if it is perfect, but the idea is here.</p>\n\n<pre><code>temp = datetime.strptime.(s, \"%m/%D/%Y\")\nfinal = temp.strftime(%m/%Y\")\n</code></pre>\n\n<p>You can find info on the datetime functions here <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow\">https://docs.python.org/2/library/datetime.html</a></p>\n"}], "owner": {"reputation": 16093, "user_id": 534298, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4ba32c06ed067564a6c6512de5217657?s=128&d=identicon&r=PG", "display_name": "nos", "link": "https://stackoverflow.com/users/534298/nos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 38491471, "answer_count": 2, "score": 1, "last_activity_date": 1469051531, "creation_date": 1469051083, "question_id": 38491376, "link": "https://stackoverflow.com/questions/38491376/efficient-way-for-python-date-string-manipulation", "title": "Efficient way for python date string manipulation", "body": "<p>I want to turn '07/18/2013' to '07/2013' and there are a lot of these strings to be processed. What would be the most efficient way to do it?</p>\n\n<p>I am thinking of using </p>\n\n<pre><code>''.join(['07/18/2013'[0:3],'07/18/2013'[6:]])\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1469051819, "post_id": 38491358, "comment_id": 64384563, "body": "Is there any reason you don&#39;t want to use NLTK?"}, {"owner": {"reputation": 348, "user_id": 5487987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pmj08.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/5487987/pankaj-sharma"}, "reply_to_user": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1469051870, "post_id": 38491358, "comment_id": 64384576, "body": "jst trying without nltk bro.."}, {"owner": {"reputation": 864, "user_id": 2039431, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f752361a0ef448dc2fd54c200cfce947?s=128&d=identicon&r=PG", "display_name": "Michael Westwort", "link": "https://stackoverflow.com/users/2039431/michael-westwort"}, "edited": false, "score": 2, "creation_date": 1469092563, "post_id": 38491358, "comment_id": 64399622, "body": "Why is this question put on hold? Three people provided suitable answers so they obviously understood what was asked for."}], "answers": [{"tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": false, "score": 1, "last_activity_date": 1469051934, "creation_date": 1469051934, "answer_id": 38491562, "question_id": 38491358, "link": "https://stackoverflow.com/questions/38491358/find-most-frequent-group-of-3-words-in-a-sentence/38491562#38491562", "title": "Find most frequent group of 3 words in a sentence", "body": "<p><code>nltk</code> makes this problem trivial, but seeing as you don't want such a dependency, I have included a simple implementation using only core libraries. The code works on python2.7 and python3.x, and uses collections.Counter to count frequencies of n-grams. Computationally, it is O(NM) where N is the number of words in the text and M is the number of n-grams being counted (so if one were to count uni and bigrams, M = 2). </p>\n\n<pre><code>import collections\nimport re\nimport sys\nimport time\n\n\n# Convert a string to lowercase and split into words (w/o punctuation)\ndef tokenize(string):\n    return re.findall(r'\\w+', string.lower())\n\n\ndef count_ngrams(lines, min_length=2, max_length=4):\n    lengths = range(min_length, max_length + 1)\n    ngrams = {length: collections.Counter() for length in lengths}\n    queue = collections.deque(maxlen=max_length)\n\n    # Helper function to add n-grams at start of current queue to dict\n    def add_queue():\n        current = tuple(queue)\n        for length in lengths:\n            if len(current) &gt;= length:\n                ngrams[length][current[:length]] += 1\n\n    # Loop through all lines and words and add n-grams to dict\n    for line in lines:\n        for word in tokenize(line):\n            queue.append(word)\n            if len(queue) &gt;= max_length:\n                add_queue()\n\n    # Make sure we get the n-grams at the tail end of the queue\n    while len(queue) &gt; min_length:\n        queue.popleft()\n        add_queue()\n\n    return ngrams\n\n\ndef print_most_frequent(ngrams, num=10):\n    for n in sorted(ngrams):\n        print('----- {} most common {}-grams -----'.format(num, n))\n        for gram, count in ngrams[n].most_common(num):\n            print('{0}: {1}'.format(' '.join(gram), count))\n        print('')\n\n\nif __name__ == '__main__':\n    if len(sys.argv) &lt; 2:\n        print('Usage: python ngrams.py filename')\n        sys.exit(1)\n\n    start_time = time.time()\n    with open(sys.argv[1]) as f:\n        ngrams = count_ngrams(f)\n    print_most_frequent(ngrams)\n    elapsed_time = time.time() - start_time\n    print('Took {:.03f} seconds'.format(elapsed_time))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 5487987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pmj08.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/5487987/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1469052275, "post_id": 38491580, "comment_id": 64384715, "body": "This is not working in python 2.7"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 348, "user_id": 5487987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pmj08.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/5487987/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1469052565, "post_id": 38491580, "comment_id": 64384830, "body": "i had a couple of typos ..."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 348, "user_id": 5487987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pmj08.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/5487987/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1469052747, "post_id": 38491580, "comment_id": 64384893, "body": "well you can lead a horse to water, but you cannot make him drink I guess... are you also hoping someone can just do your interviews for you? or perhaps your school tests?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1469052554, "last_edit_date": 1469052554, "creation_date": 1469052024, "answer_id": 38491580, "question_id": 38491358, "link": "https://stackoverflow.com/questions/38491358/find-most-frequent-group-of-3-words-in-a-sentence/38491580#38491580", "title": "Find most frequent group of 3 words in a sentence", "body": "<pre><code>text=\"I came from the moon. He went to the other room. She went to the drawing room.\"\nfixed_text = re.sub(\"[^a-zA-Z ]\",\" \",text)\ntext_list = fixed_text.split()\nprint Counter(\" \".join(text_list[i:i+3]) for i in range(len(text_list)-3)).most_common(1)\n</code></pre>\n\n<p>I guess ... maybe?</p>\n\n<pre><code>&gt;&gt;&gt; text=\"I came from the moon. He went to the other room. She went to the drawi\nng room.\"\n&gt;&gt;&gt; fixed_text = re.sub(\"[^a-zA-Z ]\",\" \",text)\n&gt;&gt;&gt; text_list = fixed_text.split()\n&gt;&gt;&gt; print Counter(\" \".join(text_list[i:i+3]) for i in range(len(text_list)-3)).most_common(1)\n[('went to the', 2)]\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 2039431, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f752361a0ef448dc2fd54c200cfce947?s=128&d=identicon&r=PG", "display_name": "Michael Westwort", "link": "https://stackoverflow.com/users/2039431/michael-westwort"}, "is_accepted": true, "score": 1, "last_activity_date": 1469053264, "creation_date": 1469053264, "answer_id": 38491828, "question_id": 38491358, "link": "https://stackoverflow.com/questions/38491358/find-most-frequent-group-of-3-words-in-a-sentence/38491828#38491828", "title": "Find most frequent group of 3 words in a sentence", "body": "<pre><code>import string\n\ntext=\"I came from the moon. He went to the other room. She went to the drawing room.\"\n\nfor character in string.punctuation:\n    text = text.replace(character, \" \")\n\nwhile text != text.replace(\"  \", \" \"):\n    text = text.replace(\"  \", \" \")\n\ntext = text.split(\" \")\n\nwordlist = []\nfrequency_dict = dict()\n\nfor i in range(len(text)-3):\n    wordlist.append([text[i], text[i+1], text[i+2]])\n\nfor three_words in wordlist:\n    frequency= wordlist.count(three_words)\n    frequency_dict[\", \".join(three_words)] = frequency\n\nprint max(frequency_dict, key=frequency_dict.get), frequency_dict[max(frequency_dict, key=frequency_dict.get)]\n</code></pre>\n\n<p>Output: <code>went, to, the 2</code></p>\n\n<p>Unfortunately lists are not hashable. Otherwise it would help to create a set of the three_words items.</p>\n"}], "owner": {"reputation": 348, "user_id": 5487987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pmj08.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/5487987/pankaj-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 1, "closed_date": 1469085388, "accepted_answer_id": 38491828, "answer_count": 3, "score": 1, "last_activity_date": 1469053264, "creation_date": 1469051016, "last_edit_date": 1469051661, "question_id": 38491358, "link": "https://stackoverflow.com/questions/38491358/find-most-frequent-group-of-3-words-in-a-sentence", "closed_reason": "Needs details or clarity", "title": "Find most frequent group of 3 words in a sentence", "body": "<p>Suppose I have a text like</p>\n\n<pre><code>text=\"I came from the moon. He went to the other room. She went to the drawing room.\"\n</code></pre>\n\n<p>Most Frequent group of 3 words here is  <code>\"went to the\"</code></p>\n\n<p>I know how to find most frequent <code>bigram</code> or <code>trigram</code> but I am stuck in this.I want to find this solution <code>without using NLTK library</code>.</p>\n"}, {"tags": ["python", "dictionary", "recursion", "nested"], "comments": [{"owner": {"reputation": 684, "user_id": 5592754, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d0643dbc791d114689434893fe31ada?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi V", "link": "https://stackoverflow.com/users/5592754/abhi-v"}, "edited": false, "score": 1, "creation_date": 1469051087, "post_id": 38491318, "comment_id": 64384285, "body": "do you have existing code?"}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "is_accepted": true, "score": 2, "last_activity_date": 1469051966, "creation_date": 1469051966, "answer_id": 38491565, "question_id": 38491318, "link": "https://stackoverflow.com/questions/38491318/python-replace-keys-in-a-nested-dictionary/38491565#38491565", "title": "Python: Replace keys in a nested dictionary", "body": "<p>You need to recurse through the dictionary while building a new one with new keys.  Note that if you have a list or tuple in there somewhere that has other dictionaries in it, they won't be processed - you'd have to add some code to do that.  You can actually do this without building a new dictionary, but I think this way is simpler.</p>\n\n<pre><code>od = { 1: { 2: { 3: None }}}\nkd = { 1: 'x', 2: 'y', 3: 'z' }\n\ndef replace_keys(old_dict, key_dict):\n    new_dict = { }\n    for key in old_dict.keys():\n        new_key = key_dict.get(key, key)\n        if isinstance(old_dict[key], dict):\n            new_dict[new_key] = replace_keys(old_dict[key], key_dict)\n        else:\n            new_dict[new_key] = old_dict[key]\n    return new_dict\n\nnd = replace_keys(od, kd)\nprint nd\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>{'x': {'y': {'z': None}}}\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 1893075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82c678be91d3694aefb5e9a2dd69aa80?s=128&d=identicon&r=PG&f=1", "display_name": "Bilentor", "link": "https://stackoverflow.com/users/1893075/bilentor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1762, "favorite_count": 1, "accepted_answer_id": 38491565, "answer_count": 1, "score": 3, "last_activity_date": 1469052705, "creation_date": 1469050842, "last_edit_date": 1469052705, "question_id": 38491318, "link": "https://stackoverflow.com/questions/38491318/python-replace-keys-in-a-nested-dictionary", "title": "Python: Replace keys in a nested dictionary", "body": "<p>I have a nested dictionary <code>{1: {2: {3: None}}}</code> and a dictionary that maps keys of the nested dictionary to a set of values such as <code>{1: x, 2: y, 3: z}</code>. I want to transform the nested dictionary to this form <code>{x: {y: {z: None}}}</code>. I have tried a couple of recursive functions but I keep going in circles and confusing myself. What is the best way to achieve this?</p>\n\n<p>Edit: I forgot to mention that the level of nesting is arbitrary. The above is a simple example.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1469050385, "post_id": 38491204, "comment_id": 64383988, "body": "There is no <code>&lt;-</code> or <code>&gt;-</code>. There is <code>&gt; (-z)</code> and <code>&lt; (-z)</code> perhaps."}], "answers": [{"tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": true, "score": 3, "last_activity_date": 1469051300, "last_edit_date": 1469051300, "creation_date": 1469050827, "answer_id": 38491310, "question_id": 38491204, "link": "https://stackoverflow.com/questions/38491204/numpy-and-operators/38491310#38491310", "title": "Numpy: &quot;&lt;&lt;&quot; and &quot;&gt;&gt;&quot; operators", "body": "<p>The operators <code>&lt;&lt;</code> and <code>&gt;&gt;</code> are bit shift operators (left and right, respectively). In your particular example (with <code>&lt;&lt;</code>), you are performing <code>x = x * 2^z</code> for each array element, resulting in your modified output. The operator <code>&gt;&gt;</code> in the same example would yield an output characterized by <code>x = x / 2^z</code> for each array element. </p>\n\n<p>As mentioned earlier, <code>&lt;-X</code> is the same as <code>&lt; (-X)</code> (and vice versa for <code>&gt;-</code>); these are not defined Python operators. </p>\n"}], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2919, "favorite_count": 1, "accepted_answer_id": 38491310, "answer_count": 1, "score": 0, "last_activity_date": 1469051300, "creation_date": 1469050325, "question_id": 38491204, "link": "https://stackoverflow.com/questions/38491204/numpy-and-operators", "title": "Numpy: &quot;&lt;&lt;&quot; and &quot;&gt;&gt;&quot; operators", "body": "<p>I was doing some Numpy exercises and came across this example:</p>\n\n<pre><code>z = np.arange(10)\n2 &lt;&lt; z\n</code></pre>\n\n<p>It outputs:\n    array([   2,    4,    8,   16,   32,   64,  128,  256,  512, 1024])</p>\n\n<p>There are a few other operators like this for example: z >> 2, z &lt;- z, z >- z</p>\n\n<p>I did a search and surprisingly found nothing on Google.</p>\n\n<p>Can anyone explain what these operators do? Any documentations?</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1469050122, "post_id": 38491124, "comment_id": 64383862, "body": "<code>widget_to_remove.parent.remove_widget(widget_to_remove)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 5890892, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/875585d727e4e36924a242c6ee568458?s=128&d=identicon&r=PG&f=1", "display_name": "victorcd", "link": "https://stackoverflow.com/users/5890892/victorcd"}, "edited": false, "score": 0, "creation_date": 1469101979, "post_id": 38491700, "comment_id": 64405642, "body": "I wrote here that it didn&#39;t fine, but I remake my code and I saw I didn&#39;t call all &quot;btn = self.btn&quot;. This way, I did &quot;self.btn.bind(on_press=self.fc)&quot; and &quot;self.ids.grade2.add_widget(self.btn)&quot;. Very thanks, and I am sorry for my neglect. It worked fine."}, {"owner": {"reputation": 337, "user_id": 5890892, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/875585d727e4e36924a242c6ee568458?s=128&d=identicon&r=PG&f=1", "display_name": "victorcd", "link": "https://stackoverflow.com/users/5890892/victorcd"}, "edited": false, "score": 0, "creation_date": 1469106263, "post_id": 38491700, "comment_id": 64408510, "body": "To avoid to create another post. How I have to do if I want to add or remove a widget in other class? I am trying the same way as a normal function, because I got it, in a function as change text label. Is it in the same way?"}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "reply_to_user": {"reputation": 337, "user_id": 5890892, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/875585d727e4e36924a242c6ee568458?s=128&d=identicon&r=PG&f=1", "display_name": "victorcd", "link": "https://stackoverflow.com/users/5890892/victorcd"}, "edited": false, "score": 0, "creation_date": 1469106961, "post_id": 38491700, "comment_id": 64409017, "body": "@victorcd To avoid making answers that does not fit the question. you eiter update the question with an example of what you want, or make a new question :)"}], "tags": [], "owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "is_accepted": true, "score": 13, "last_activity_date": 1469052630, "creation_date": 1469052630, "answer_id": 38491700, "question_id": 38491124, "link": "https://stackoverflow.com/questions/38491124/how-can-i-remove-a-widget-in-kivy/38491700#38491700", "title": "How can I remove a widget in kivy?", "body": "<p>Change<br>\n<code>btn = Button(text=\"Bot\u00e3o\",size_hint=(.1,.1))</code><br>\nto<br>\n<code>self.btn = Button(text=\"Bot\u00e3o\",size_hint=(.1,.1))</code><br>\nSo you make it a class attribute.  </p>\n\n<p>And then remove it like this<br>\n<code>self.remove_widget(self.btn)</code></p>\n"}], "owner": {"reputation": 337, "user_id": 5890892, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/875585d727e4e36924a242c6ee568458?s=128&d=identicon&r=PG&f=1", "display_name": "victorcd", "link": "https://stackoverflow.com/users/5890892/victorcd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15984, "favorite_count": 1, "accepted_answer_id": 38491700, "answer_count": 1, "score": 6, "last_activity_date": 1486470740, "creation_date": 1469049918, "last_edit_date": 1486470740, "question_id": 38491124, "link": "https://stackoverflow.com/questions/38491124/how-can-i-remove-a-widget-in-kivy", "title": "How can I remove a widget in kivy?", "body": "<p>I am trying to do the same as I did to add these widgets, but without success.\nI am working with the kv language and bind function. With this code below is possible add a buttons dynamically, but isn't possible remove them.</p>\n\n<p>.py</p>\n\n<pre><code>class PrimeiroScreen(Screen):\n    def __init__(self, **kwargs):\n        self.name = 'um'\n        super(Screen,self).__init__(**kwargs)\n\n\n    def fc2(self):\n        btn = Button(text=\"Bot\u00e3o\",size_hint=(.1,.1))\n        self.ids.grade2.add_widget(btn)     \n        btn.bind(on_press=self.printa)\n\n    def printa(self,*args):\n        #btn2 = Button(text=\"Btn2\",size_hint=(.1,.1))#I can add another btn succesfully\n        self.ids.grade2.add_widget(btn2)#but I can do the same by this way\n        self.remove_widget(btn)\n        grade2.remove_widget(self.btn)\n</code></pre>\n\n<p>and the .kv</p>\n\n<pre><code>&lt;RootScreen&gt;:\n    PrimeiroScreen:\n\n&lt;PrimeiroScreen&gt;:\n    GridLayout:\n        cols: 1\n        size_hint: (.5,1)\n        id: grade\n        Button:\n            text: \"hi!\"\n            on_press: root.fc2()\n\n    StackLayout:\n        orientation: 'bt-rl'\n        GridLayout:\n            cols: 2\n            size_hint: (.5,1)\n            id: grade2\n</code></pre>\n\n<p>Has anybody any idea of the mistake I made? Python shows me the message below:</p>\n\n<pre><code>self.remove_widget(btn)\nNameError: global name 'btn' is not defined\n</code></pre>\n"}, {"tags": ["python", "image", "image-processing"], "comments": [{"owner": {"reputation": 530, "user_id": 4845435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-vvNmFMI1wL0/AAAAAAAAAAI/AAAAAAAAAWE/GGXhpqXoYzQ/photo.jpg?sz=128", "display_name": "Saurav", "link": "https://stackoverflow.com/users/4845435/saurav"}, "edited": false, "score": 0, "creation_date": 1469107282, "post_id": 38491086, "comment_id": 64409251, "body": "please go through the following link. it gives a good description of how you can detect this using opencv in Cpp  <a href=\"http://dsp.stackexchange.com/questions/3016/how-to-detect-gradients-in-images\" title=\"how to detect gradients in images\">dsp.stackexchange.com/questions/3016/&hellip;</a> i have individaully tried the same and could get the results at my end. For some reason, it is not letting me to add answers, so putting it here."}, {"owner": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "edited": false, "score": 0, "creation_date": 1469181211, "post_id": 38491086, "comment_id": 64441657, "body": "You need to clarify what you mean by image gradient. The black and white image you provided has a constant negative gradient going down the image, and an average gradient of zero going across it. Is your intention to visualise the gradient in 3D? Or do you want to plot the gradient going down the image on average?"}, {"owner": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "reply_to_user": {"reputation": 530, "user_id": 4845435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-vvNmFMI1wL0/AAAAAAAAAAI/AAAAAAAAAWE/GGXhpqXoYzQ/photo.jpg?sz=128", "display_name": "Saurav", "link": "https://stackoverflow.com/users/4845435/saurav"}, "edited": false, "score": 0, "creation_date": 1469181327, "post_id": 38491086, "comment_id": 64441725, "body": "@SauravMondal, answering the image is put on hold until the author clarifies his meaning. It prevents people like us from wasting time attempting to guess what the author means."}, {"owner": {"reputation": 131, "user_id": 6268508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09fce1fa9ea8c93b582a9e6f8561ea40?s=128&d=identicon&r=PG&f=1", "display_name": "Python1c", "link": "https://stackoverflow.com/users/6268508/python1c"}, "edited": false, "score": 0, "creation_date": 1469208676, "post_id": 38491086, "comment_id": 64458296, "body": "I&#39;ve just added a pic, what I meant."}], "answers": [{"tags": [], "owner": {"reputation": 864, "user_id": 2039431, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f752361a0ef448dc2fd54c200cfce947?s=128&d=identicon&r=PG", "display_name": "Michael Westwort", "link": "https://stackoverflow.com/users/2039431/michael-westwort"}, "is_accepted": false, "score": 1, "last_activity_date": 1469051301, "creation_date": 1469051301, "answer_id": 38491424, "question_id": 38491086, "link": "https://stackoverflow.com/questions/38491086/how-to-visualize-image-gradient-in-python/38491424#38491424", "title": "How to visualize Image gradient in Python?", "body": "<ul>\n<li>Use the Pyton Imaging Library PIL (<a href=\"http://www.pythonware.com/products/pil/\" rel=\"nofollow\">http://www.pythonware.com/products/pil/</a>)</li>\n<li>Load the image using <code>Image.open</code> and read the colors of each pixel into a 2D list using <code>Image.getpixel</code> (<a href=\"http://effbot.org/imagingbook/image.htm\" rel=\"nofollow\">http://effbot.org/imagingbook/image.htm</a>). One of the three RGB values will do because the image is grayscale thus the R, B, and G values of each pixel are equal to each other.</li>\n<li>Calculate the gradient for each pixel except of those at the edge:\n<code>grad[x][y] = [(list[x+1][y]-list[x-1][y])/2.0, (list[x][y+1]-list[x][y-1])/2.0]</code>\n(Note that the gradient is a 2D vector. It has an x and a y value.)</li>\n<li>Create a quiver plot e.g. with MatPlotLib's PyPlot (<a href=\"https://www.getdatajoy.com/examples/python-plots/vector-fields\" rel=\"nofollow\">https://www.getdatajoy.com/examples/python-plots/vector-fields</a>)</li>\n</ul>\n\n<p>Also check this document where a gradient function from numpy is used: <a href=\"http://elektromagnetisme.no/2011/09/12/calculating-the-gradient-in-python/\" rel=\"nofollow\">http://elektromagnetisme.no/2011/09/12/calculating-the-gradient-in-python/</a></p>\n"}], "owner": {"reputation": 131, "user_id": 6268508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09fce1fa9ea8c93b582a9e6f8561ea40?s=128&d=identicon&r=PG&f=1", "display_name": "Python1c", "link": "https://stackoverflow.com/users/6268508/python1c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 1, "closed_date": 1469059422, "answer_count": 1, "score": 0, "last_activity_date": 1469208646, "creation_date": 1469049788, "last_edit_date": 1469208646, "question_id": 38491086, "link": "https://stackoverflow.com/questions/38491086/how-to-visualize-image-gradient-in-python", "closed_reason": "Needs details or clarity", "title": "How to visualize Image gradient in Python?", "body": "<p><a href=\"https://i.stack.imgur.com/FovOS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FovOS.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7QZn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QZn7.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to visualize the image gradient of this picture in Python, like the pic above?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1469050120, "last_edit_date": 1469050120, "creation_date": 1469049904, "answer_id": 38491119, "question_id": 38491082, "link": "https://stackoverflow.com/questions/38491082/python-unexpected-character-after-line-continuation-character/38491119#38491119", "title": "Python unexpected character after line continuation character", "body": "<p>One of your <code>\\</code> backslashes <em>escapes</em> the <code>\"</code> double quote following it. The rest of the string then <em>ends</em> just before the next <code>\\</code> backslash, and that second backslash is seen as a line-continuation character. Because there's another <code>\"</code> right after that you get your error:</p>\n\n<pre><code>s_path_publish_folder = r\"\\\\\" + s_host + \"\\\" + s_publish_folder \"\\\" + s_release_name\n#                                         ^^ not end of string   ||\n#                                        ^--- actual string  ---^||\n#                                              line continuation /|\n#                                                 extra character /   \n</code></pre>\n\n<p>You need to <em>double</em> those backslashes:</p>\n\n<pre><code>s_path_publish_folder = r\"\\\\\" + s_host + \"\\\\\" + s_publish_folder \"\\\\\" + s_release_name\n</code></pre>\n\n<p>Better yet, use the <code>os.path</code> module here; for example, you could use <code>os.path.join()</code>:</p>\n\n<pre><code>s_path_publish_folder = r\"\\\\\" + os.path.join(s_host, s_publish_folder, s_release_name)\n</code></pre>\n\n<p>or you could use string templating:</p>\n\n<pre><code>s_path_publish_folder = r\"\\\\{}\\{}\\{}\".format(s_host, s_publish_folder, s_release_name)\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 0, "accepted_answer_id": 38491119, "answer_count": 1, "score": 1, "last_activity_date": 1469050227, "creation_date": 1469049775, "last_edit_date": 1495535321, "question_id": 38491082, "link": "https://stackoverflow.com/questions/38491082/python-unexpected-character-after-line-continuation-character", "title": "Python unexpected character after line continuation character", "body": "<p>I am very new to Python. I am constructing a string that is nothing but a path to the network location as follows. But it outputs the error: \"Python unexpected character after line continuation character\". Please help. I saw this post but I am not sure if it applies to my scenario:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7791913/syntaxerror-unexpected-character-after-line-continuation-character-in-python\">syntaxerror: &quot;unexpected character after line continuation character in python&quot; math</a></p>\n\n<pre><code>s_path_publish_folder = r\"\\\\\" + s_host + \"\\\" + s_publish_folder \"\\\" + s_release_name\n</code></pre>\n"}, {"tags": ["python", "flask", "flask-testing"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 8, "last_activity_date": 1469050295, "creation_date": 1469050295, "answer_id": 38491198, "question_id": 38491075, "link": "https://stackoverflow.com/questions/38491075/flask-testing-signals-not-supported-error/38491198#38491198", "title": "Flask-Testing signals not supported error", "body": "<p>Flask only provides signals as an optional dependency.  Flask-Testing requires signals in some places and raises an error if you try to do something without them.  For some reason, some messages are more vague than others Flask-Testing raises elsewhere.  <sub>(This is a good place for a beginner to contribute a pull request.)</sub></p>\n\n<p>You need to install the <a href=\"https://pythonhosted.org/blinker/\" rel=\"noreferrer\">blinker</a> library to enable <a href=\"http://flask.pocoo.org/docs/0.11/signals/\" rel=\"noreferrer\">signal support</a> in Flask.</p>\n\n<pre><code>$ pip install blinker\n</code></pre>\n"}], "owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 38491198, "answer_count": 1, "score": 6, "last_activity_date": 1469050295, "creation_date": 1469049736, "question_id": 38491075, "link": "https://stackoverflow.com/questions/38491075/flask-testing-signals-not-supported-error", "title": "Flask-Testing signals not supported error", "body": "<p>When running my tests I am getting the following traceback.</p>\n\n<pre><code>in get_context_variable\nraise RuntimeError(\"Signals not supported\")\nRuntimeError: Signals not supported\n</code></pre>\n\n<p><strong>__init__.py</strong></p>\n\n<pre><code>from flask_testing import TestCase\n\nfrom app import create_app, db\n\n\nclass BaseTest(TestCase):\n    BASE_URL = 'http://localhost:5000/'\n\n    def create_app(self):\n        return create_app('testing')\n\n    def setUp(self):\n        db.create_all()\n\n    def tearDown(self):\n        db.session.remove()\n        db.drop_all()\n\n    def test_setup(self):\n        response = self.client.get(self.BASE_URL)\n        self.assertEqual(response.status_code, 200)\n</code></pre>\n\n<p><strong>test_routes.py</strong></p>\n\n<pre><code>from . import BaseTest\n\n\nclass TestMain(BaseTest):\n\n    def test_empty_index(self):\n        r = self.client.get('/')\n        self.assert200(r)\n        self.assertEqual(self.get_context_variable('partners'), None)\n</code></pre>\n\n<p>It appears that the <code>get_context_variable</code> function call is where the error is coming from. I also receive this error if I try and use <code>assert_template_used</code>. Having a rather difficult time finding any resolution to this.</p>\n"}, {"tags": ["python", "arguments"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1469049788, "post_id": 38491056, "comment_id": 64383720, "body": "Apparently, your idea of the definition of <code>playerClass.Attack()</code> doesn&#39;t match reality. Are you <b>certain</b> you are looking at the right <code>def Attack()</code> and have restarted your Python script?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1469049916, "post_id": 38491056, "comment_id": 64383776, "body": "Also, why are you passing the player&#39;s damage to it&#39;s method via an argument? Doesn&#39;t the <code>self</code> parameter give you access to the player&#39;s attributes? <code>self.Damage</code>?"}, {"owner": {"reputation": 4077, "user_id": 481082, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9187ffa0433a59e1c126559686c93279?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/481082/samuel"}, "edited": false, "score": 0, "creation_date": 1469050121, "post_id": 38491056, "comment_id": 64383861, "body": "Please show more of your source code, with just these snippets it looks correct. It could be many things, of which we cannot even venture a guess without seeing everything. Likely, it would be an overloaded Attack method, one which only takes one argument (+ self, so 2 total)."}, {"owner": {"reputation": 894, "user_id": 6167697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-GBr58sersRg/AAAAAAAAAAI/AAAAAAAAC1M/jDqUc3eKvWw/photo.jpg?sz=128", "display_name": "Nathan Blair", "link": "https://stackoverflow.com/users/6167697/nathan-blair"}, "edited": false, "score": 0, "creation_date": 1469050211, "post_id": 38491056, "comment_id": 64383901, "body": "Haha, yes, you are correct about the self.Damage parameter; that was an artifact left over as I originally had this Attack method in the playerClass&#39;s base class.  @Martijin, I&#39;m not exactly sure what you&#39;re saying; are you saying that when the code executes it might be executing with perhaps an older version of the Attack() method? This is where my train of thought was going but I closed and reopened my coding environment (I&#39;m just editing python scripts in VS Code). Is there another method of &#39;restarting [my] Python script&#39; that you&#39;re referring to?"}], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 6167697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-GBr58sersRg/AAAAAAAAAAI/AAAAAAAAC1M/jDqUc3eKvWw/photo.jpg?sz=128", "display_name": "Nathan Blair", "link": "https://stackoverflow.com/users/6167697/nathan-blair"}, "edited": false, "score": 0, "creation_date": 1469050668, "post_id": 38491196, "comment_id": 64384120, "body": "I&#39;m aware of including the &#39;self&#39; keyword in the function definition for the class; I had that implemented already. Hence why I&#39;m confused because to the best of my (albeit very limited) knowledge, this is exactly what is required to accomplish what I want :/"}], "tags": [], "owner": {"reputation": 490, "user_id": 2280542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oWlu4.jpg?s=128&g=1", "display_name": "Andrei Tumbar", "link": "https://stackoverflow.com/users/2280542/andrei-tumbar"}, "is_accepted": false, "score": 1, "last_activity_date": 1469050290, "creation_date": 1469050290, "answer_id": 38491196, "question_id": 38491056, "link": "https://stackoverflow.com/questions/38491056/passing-too-many-arguments-to-object-method-python/38491196#38491196", "title": "Passing Too Many Arguments to Object Method - Python", "body": "<p>Try defining your player.playerClass like this</p>\n\n<pre><code>class playerClass:\n  def __init__ (self, health, position, damage):\n    self.health = health\n    self.position = position\n    self.damage = damage\n  def Attack(self, target, damage):\n    self.CurrentTarget = target\n    target.Health -= damage\n    self.CurrentTarget = None\n</code></pre>\n\n<h2>What does <code>self</code> mean?</h2>\n\n<p><code>self</code> is basically an argument that python passed automatically to the method of a initialized class. The value of self is the equal to that of the class instance. So in your case, in the method <code>Attake ()</code>, <code>self</code> is equal to <code>p1</code>. By running <code>self.CurrentTarget = target</code> you are doing the same thing as <code>p1.CurrentTarget = target</code></p>\n"}, {"tags": [], "owner": {"reputation": 894, "user_id": 6167697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-GBr58sersRg/AAAAAAAAAAI/AAAAAAAAC1M/jDqUc3eKvWw/photo.jpg?sz=128", "display_name": "Nathan Blair", "link": "https://stackoverflow.com/users/6167697/nathan-blair"}, "is_accepted": true, "score": 0, "last_activity_date": 1469052664, "creation_date": 1469052664, "answer_id": 38491710, "question_id": 38491056, "link": "https://stackoverflow.com/questions/38491056/passing-too-many-arguments-to-object-method-python/38491710#38491710", "title": "Passing Too Many Arguments to Object Method - Python", "body": "<p>I did end up finding the solution and it has a little to do with @martijin's suggestion.</p>\n\n<p>The issue was that I had compiled python files in the directory that my main.py file was run from - in turn, when python was executing, it was referring to these compiled .pyc files and not the actual script files that I was editing.</p>\n\n<p>Deleting these compiled .pyc files solved my problem as it appears python is now referencing the correct .py script files.</p>\n\n<p>Thanks for input everyone!</p>\n"}], "owner": {"reputation": 894, "user_id": 6167697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-GBr58sersRg/AAAAAAAAAAI/AAAAAAAAC1M/jDqUc3eKvWw/photo.jpg?sz=128", "display_name": "Nathan Blair", "link": "https://stackoverflow.com/users/6167697/nathan-blair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3197, "favorite_count": 0, "accepted_answer_id": 38491710, "answer_count": 2, "score": 1, "last_activity_date": 1469052664, "creation_date": 1469049662, "last_edit_date": 1469050548, "question_id": 38491056, "link": "https://stackoverflow.com/questions/38491056/passing-too-many-arguments-to-object-method-python", "title": "Passing Too Many Arguments to Object Method - Python", "body": "<p>So I think I have an incredibly simple case but I'm utterly lost about why it won't execute.</p>\n\n<p>Here's my source - this is my main.py file that I'm running by just executing 'python main.py' from the command line:</p>\n\n<pre><code>import player\nimport enemy\n\np1 = player.playerClass(health = 200.0, position = [1, 0, 0], damage = 30.0)\ne1 = enemy.enemyClass(position = [3, 0, 0], damage = 35.0)\n\nprint(\"Before attacking: \" + str(e1.Health))\np1.Attack(e1, p1.Damage) # Error is here\nprint(\"After attacking: \" + str(e1.Health))\n</code></pre>\n\n<p>The code for the Attack method is found within the playerClass class. The enemyClass is exactly the same without the Attack() method (trying to keep everything as simple as possible)</p>\n\n<pre><code>import character\n\nclass playerClass(character.CharacterBaseClass): # derived class used to contain an 'Attack' method, but does not anymore\n\n    def __init__(self, health = 100.0, position = [0, 0, 0], damage = 10.0):\n        self.Health = health\n        self.pos = position\n        self.Damage = damage\n\n    def Attack(self, target):\n        self.CurrentTarget = target\n        target.Health -= self.Damage\n        self.CurrentTarget = None\n</code></pre>\n\n<p>From what I've been reading, I've applied the 'self' keyword to the class definition of Attack, and 'p1' should be being passed as such when 'p1.Attack(...)' is called, but for some reason I'm getting the error:</p>\n\n<pre><code>TypeError: Attack() takes exactly 2 arguments (3 given)\n</code></pre>\n\n<p>Any suggestions on what I'm missing? I know there are some related questions about the same issue but those questions explain <em>why</em> 'self' is needed, which I already (sort of) get.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1469049560, "post_id": 38490990, "comment_id": 64383627, "body": "This has nothing to do with nesting classes (a practice not needed in Python at all). Your <code>__init__</code> method has positional arguments following keyword arguments; you can&#39;t do that in Python."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469050632, "post_id": 38490990, "comment_id": 64384103, "body": "&quot;my only non-default argument is self in all of the classes&quot; - take a closer look at that last <code>__init__</code> method, and scroll right."}], "owner": {"reputation": 78, "user_id": 5120805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee446dd999ac2ce39330e6b0c915d32?s=128&d=identicon&r=PG&f=1", "display_name": "kmarwah", "link": "https://stackoverflow.com/users/5120805/kmarwah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1469049607, "answer_count": 0, "score": 0, "last_activity_date": 1469049582, "creation_date": 1469049406, "last_edit_date": 1469049582, "question_id": 38490990, "link": "https://stackoverflow.com/questions/38490990/non-default-argument-follows-default-argument-but-all-arguments-other-than-self", "closed_reason": "Duplicate", "title": "non-default argument follows default argument but all arguments other than self are defined?", "body": "<p>I'm trying to learn how to properly nest classes in python (I'm used to having structs within other structs in C++). The following is my attempt:</p>\n\n<pre><code>class Patient(object):        \n    class FutureMirceraRegimen(object):\n        def __init__ (self, dose = None, frequency = None):\n            self.dose = dose\n            self.frequency = frequency\n\n    class CurrentMirceraRegimen(object):\n        def __init__(self, dose = None, frequency = None, lastdose = None):\n            if dose is None:\n                self.dose = input(\"What is the current dose (in mcg)?\")\n            if frequency is None:\n                self.frequency = input(\"What is the current frequency (in weeks)?\")\n            if lastdose is None:\n                self.lastdose = input(\"How many days have elapsed since the patient's last dose of Mircera?\")\n\n    class Hgb(object):\n        def __init__(self, level = None, increasing = None, decreasing = None):\n            if level is None: \n                self.level = input(\"What is the Hgb level?\")\n            if increasing is None:\n                self.increasing = input(\"Is the Hgb increasing? (answer Y/N)\")\n            if decreasing is None:\n                self.decreasing = input(\"Is the Hgb decreasing? (answer Y/N)\")\n\n    def __init__(self, identifier = None, age = None, gender = None, weight = None, currentminceraregimen, hgb, futureminceraregimen):\n        self.identifier = input(\"Patient identifier?\")\n        self.identifier = int(self.identifier)\n\n        self.age = input(\"Patient age?\")\n        self.age = int(self.age)\n\n        self.gender = input(\"Input 1 if patient is female, input 2 if patient is male.\")\n        self.gender = int(self.gender)\n\n        self.weight = input(\"Input rounded weight in KG.\")\n        self.weight = int(self.weight)\n\n        self.futureminceraregimen = Patient.FutureMirceraRegimen\n\n        self.currentminceraregimen = Patient.CurrentMirceraRegimen\n\n        self.hgb = Patient.Hgb\n\nJeff = Patient\n</code></pre>\n\n<p>However, whenever I run the code I get an error saying that I have a non-default argument following a default argument. I don't understand why because my only non-default argument is self in all of the classes. Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "pyspark", "jupyter", "jupyter-notebook"], "comments": [{"owner": {"reputation": 1175, "user_id": 1930402, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a4cc15c29f08259e05a12aef4027f4b9?s=128&d=identicon&r=PG", "display_name": "pnv", "link": "https://stackoverflow.com/users/1930402/pnv"}, "edited": false, "score": 0, "creation_date": 1566799974, "post_id": 38490946, "comment_id": 101755305, "body": "I have the same issue. I have set <code>PYSPARK_DRIVER_PYTHON</code> as <code>python3 </code> and have commented out <code>PYSPARK_DRIVER_PYTHON_OPTS</code> also, not much help. Running <code>pyspark</code> launches a notebook for me!"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6611777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b222678e0c7a3bf162b58b0244c1f80?s=128&d=identicon&r=PG", "display_name": "Raj Muruges", "link": "https://stackoverflow.com/users/6611777/raj-muruges"}, "edited": false, "score": 0, "creation_date": 1469124871, "post_id": 38510399, "comment_id": 64420435, "body": "Thanks a ton ! Even though it didn&#39;t launch the shell explicitly on the terminal I am able to use &#39;spark-submit&#39;"}], "tags": [], "owner": {"reputation": 483, "user_id": 6586421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d484dc62a7e2f0d90c0c826c5d5e7ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Metzger", "link": "https://stackoverflow.com/users/6586421/mike-metzger"}, "is_accepted": true, "score": 10, "last_activity_date": 1469121033, "creation_date": 1469121033, "answer_id": 38510399, "question_id": 38490946, "link": "https://stackoverflow.com/questions/38490946/pyspark-command-in-terminal-launches-jupyter-notebook/38510399#38510399", "title": "Pyspark command in terminal launches Jupyter notebook", "body": "<p>The PYSPARK_DRIVER_PYTHON variable is set to start ipython/jupyter automatically (probably as intended.)  Run <code>unset PYSPARK_DRIVER_PYTHON</code> and then try pyspark again.</p>\n\n<p>If you wish this to be the default, you'll probably need to modify your profile scripts. </p>\n"}], "owner": {"reputation": 35, "user_id": 6611777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b222678e0c7a3bf162b58b0244c1f80?s=128&d=identicon&r=PG", "display_name": "Raj Muruges", "link": "https://stackoverflow.com/users/6611777/raj-muruges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3165, "favorite_count": 0, "accepted_answer_id": 38510399, "answer_count": 1, "score": 1, "last_activity_date": 1469124011, "creation_date": 1469049214, "last_edit_date": 1469124011, "question_id": 38490946, "link": "https://stackoverflow.com/questions/38490946/pyspark-command-in-terminal-launches-jupyter-notebook", "title": "Pyspark command in terminal launches Jupyter notebook", "body": "<p>I have run into an issue with spark-submit , throws an error is not a Jupyter Command i.e, pyspark launches a web ui instead of pyspark shell </p>\n\n<p>Background info:</p>\n\n<ol>\n<li>Installed Scala , Spark using brew on MAC</li>\n<li>Installed Conda Python 3.5</li>\n<li>Spark commands work on Jupyter Notebook</li>\n<li>'pyspark' on terminal launches notebook instead of shell</li>\n</ol>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["python", "performance", "numpy"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1469052256, "post_id": 38490937, "comment_id": 64384707, "body": "even more painful is the need of contiguous memory blocks for numpy array&#39;s"}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469049856, "post_id": 38491048, "comment_id": 64383744, "body": "numexpr is a fantastic library for working with large arrays.  I&#39;m glad you mentioned it."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1469049633, "creation_date": 1469049633, "answer_id": 38491048, "question_id": 38490937, "link": "https://stackoverflow.com/questions/38490937/does-numpy-allocate-temporary-arrays-in-expressions-like-x-2-y/38491048#38491048", "title": "Does Numpy allocate temporary arrays in expressions like x += 2 * y?", "body": "<p>Yup, that makes a temporary array.</p>\n\n<p>If you find yourself needing to mitigate NumPy's love of giant scratch arrays, additional libraries like <a href=\"https://github.com/pydata/numexpr\" rel=\"nofollow\">Numexpr</a> can help quite a bit, but make sure you're attributing performance problems to the right causes. Naive attempts to save allocations usually cause massive slowdowns instead of performance improvement.</p>\n"}], "owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 38491048, "answer_count": 1, "score": 4, "last_activity_date": 1469050189, "creation_date": 1469049172, "question_id": 38490937, "link": "https://stackoverflow.com/questions/38490937/does-numpy-allocate-temporary-arrays-in-expressions-like-x-2-y", "title": "Does Numpy allocate temporary arrays in expressions like x += 2 * y?", "body": "<p>When evaluating expressions like</p>\n\n<pre><code>x += 2 * y\n</code></pre>\n\n<p>does <code>Numpy</code> first allocate a new temporary array to hold <code>2*y</code>, add it to <code>x</code> and then delete it, or can it perform this whole operation in-place?</p>\n"}, {"tags": ["python", "excel"], "answers": [{"tags": [], "owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1469053502, "last_edit_date": 1469053502, "creation_date": 1469051485, "answer_id": 38491462, "question_id": 38490829, "link": "https://stackoverflow.com/questions/38490829/refresh-excel-external-data-connection-using-python/38491462#38491462", "title": "Refresh Excel external data connection using python", "body": "<p>Definitely refreshing an Excel worksheet would require Excel to be installed.  So your approach seems to be fine, although there may be easier ways.  Pandas has a good library for manipulating Excel spreadsheets <code>pandas.read_excel</code> and <code>pandas.DataFrame.to_excel</code> functions <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html</a> <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_excel.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_excel.html</a> but writing to a named range is not possible using Pandas alone, it makes you specify the worksheet and start cell at least (fine if your named ranges don't change the start cell / worksheet).  BUT you can add another package and use it along with Pandas (or by itself) to WRITE to a named range - <code>xlsxwriter</code> see here: \n<a href=\"http://xlsxwriter.readthedocs.io/example_defined_name.html#ex-defined-name\" rel=\"nofollow\">http://xlsxwriter.readthedocs.io/example_defined_name.html#ex-defined-name</a>\n<a href=\"https://xlsxwriter.readthedocs.io/working_with_pandas.html\" rel=\"nofollow\">https://xlsxwriter.readthedocs.io/working_with_pandas.html</a></p>\n\n<pre><code>import xlsxwriter\nworkbook = xlsxwriter.Workbook('defined_range.xlsx')\nworksheet.write('defined_range', data) # writes to defined_range in the Excel workbook \n</code></pre>\n\n<p>Pandas also lets you read your data directly from a URL which would help in your proposed solution <code>pandas.read_html</code>.  <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_html.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_html.html</a></p>\n"}], "owner": {"reputation": 69, "user_id": 2818196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60571eb6d8c6b1e937da69ba0b07711c?s=128&d=identicon&r=PG&f=1", "display_name": "user2818196", "link": "https://stackoverflow.com/users/2818196/user2818196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2817, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469089102, "creation_date": 1469048665, "last_edit_date": 1469089102, "question_id": 38490829, "link": "https://stackoverflow.com/questions/38490829/refresh-excel-external-data-connection-using-python", "title": "Refresh Excel external data connection using python", "body": "<p>I have a excel file with external data connection. I need to refresh the connection data using python.</p>\n\n<p>I tried a soultion</p>\n\n<pre><code>import win32com.client\nimport os\nfileName=\"testconn.xlsx\"\nxl = win32com.client.DispatchEx(\"Excel.Application\")\nwb = xl.workbooks.open(fileName)\nxl.Visible = True\nwb.RefreshAll()\nwb.Save()\nxl.Quit()\n</code></pre>\n\n<p>But this solution require excel to be installed on the machine.</p>\n\n<p>The another approach i thought was:\n-if some how i get mapping of URLs of data connection and named range in which they are loaded , I can download data from URL and update the data in the named range using openpyxl.</p>\n\n<p>Is there a better way to do this? Does any python library has a a funtionality to retrieve the connection and refresh the connection?</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["python", "tensorflow", "neural-network", "recurrent-neural-network", "lstm"], "comments": [{"owner": {"reputation": 10209, "user_id": 1637673, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102059d423f2265e737117ce0947e7ee?s=128&d=identicon&r=PG", "display_name": "Mithril", "link": "https://stackoverflow.com/users/1637673/mithril"}, "edited": false, "score": 0, "creation_date": 1605864137, "post_id": 38490811, "comment_id": 114788600, "body": "Do you figure it out ? I have exactly same question ."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6650024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DHokmzTblA/AAAAAAAAAAI/AAAAAAAACos/wGwWazyf3vE/photo.jpg?sz=128", "display_name": "Pranav Shyam", "link": "https://stackoverflow.com/users/6650024/pranav-shyam"}, "is_accepted": false, "score": 1, "last_activity_date": 1469715097, "creation_date": 1469715097, "answer_id": 38638969, "question_id": 38490811, "link": "https://stackoverflow.com/questions/38490811/horizontally-layering-lstm-cells/38638969#38638969", "title": "Horizontally layering LSTM cells", "body": "<blockquote>\n  <p>However, I couldn't find anything about horizontal LSTM cells, in which the output of one cell is the input of another.</p>\n</blockquote>\n\n<p>This is the definition of recurrence. All RNNs do this. </p>\n"}], "owner": {"reputation": 963, "user_id": 3102725, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/02eac094b36fdbb0574dff5e53d4ffd1?s=128&d=identicon&r=PG&f=1", "display_name": "agupta231", "link": "https://stackoverflow.com/users/3102725/agupta231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483549715, "creation_date": 1469048627, "last_edit_date": 1483549715, "question_id": 38490811, "link": "https://stackoverflow.com/questions/38490811/horizontally-layering-lstm-cells", "title": "Horizontally layering LSTM cells", "body": "<p>I am pretty new to the whole neural network scene, and I was just going through a couple of tutorials on LSTM cells, specifically, tensorflow.</p>\n\n<p>In the tutorial, they have an object <code>tf.nn.rnn_cell.MultiRNNCell</code>, which from my understanding, is a vertical layering of LSTM cells, similar to layering convolutional networks. However, I couldn't find anything about <strong>horizontal</strong> LSTM cells, in which the output of one cell is the input of another. </p>\n\n<p>I understand that because the cells are recurrent, they wouldn't need to do this, but I was just trying to see if this is straight out possible.</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["python", "simulation", "blackjack"], "comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469048859, "post_id": 38490763, "comment_id": 64383309, "body": "you haven&#39;t included the code you asked about... The meat and potatoes of this example you&#39;re looking at is likely in the <code>main()</code> function"}, {"owner": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469049354, "post_id": 38490763, "comment_id": 64383535, "body": "Not quite sure what you mean, &quot;I&#39;ve been struggling to figure out how to convert this program into one between two players instead of just the dealer and me.&quot; This is what I said."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1469050456, "post_id": 38490763, "comment_id": 64384022, "body": "That&#39;s a problem - What is your specific programming question? &quot;I&#39;m not sure how to make it work&quot; is not an answerable question."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "edited": false, "score": 0, "creation_date": 1469050546, "post_id": 38491059, "comment_id": 64384053, "body": "Thanks, this will point me in the right direction.  If I import random, would I be able to deal the cards randomly?"}, {"owner": {"reputation": 64, "user_id": 6562245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8e81d548baebdb0cb1eab13f917fad36?s=128&d=identicon&r=PG&f=1", "display_name": "Arctic Tern", "link": "https://stackoverflow.com/users/6562245/arctic-tern"}, "reply_to_user": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "edited": false, "score": 0, "creation_date": 1469051915, "post_id": 38491059, "comment_id": 64384595, "body": "see <a href=\"http://stackoverflow.com/questions/4809044/removing-items-randomly-from-a-dictionary\" title=\"removing items randomly from a dictionary\">stackoverflow.com/questions/4809044/&hellip;</a> for how to deal randomly"}], "tags": [], "owner": {"reputation": 64, "user_id": 6562245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8e81d548baebdb0cb1eab13f917fad36?s=128&d=identicon&r=PG&f=1", "display_name": "Arctic Tern", "link": "https://stackoverflow.com/users/6562245/arctic-tern"}, "is_accepted": false, "score": 1, "last_activity_date": 1469049684, "creation_date": 1469049684, "answer_id": 38491059, "question_id": 38490763, "link": "https://stackoverflow.com/questions/38490763/how-do-i-create-a-blackjack-game-as-a-simulation-between-two-players/38491059#38491059", "title": "How do I create a blackjack game as a simulation between two players?", "body": "<p>The code you posted is only dealing a user-specified number of cards (they're not being dealt randomly by the way), summing their value, and terminating. If you want this game to continuously deal cards, you have to add a loop in the main function, something like this: </p>\n\n<pre><code>def main():\n    deck = create_deck()\n    while True:\n\n        num_cards = int(input('How many cards should I deal? '))\n\n        deal_cards(deck, num_cards)\n</code></pre>\n\n<p>Note that this will not sum cards between deals. To do that you'll need to create a variable like p1 or p2 in the main function, and pass that into deal_cards. I'm not quite sure if that's what you want though. </p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "edited": false, "score": 0, "creation_date": 1469050981, "post_id": 38491164, "comment_id": 64384254, "body": "I was wondering how to implement random into my old code.  For some reason when I did, the thing wouldn&#39;t run when I tested it.  I didn&#39;t think about saving the values as separate dictionaries either for each player.  Thanks.  This makes it a lot easier to understand."}, {"owner": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "edited": false, "score": 0, "creation_date": 1469054439, "post_id": 38491164, "comment_id": 64385436, "body": "I tested the code and for some reason I&#39;m unable to get to player two, it only runs with player 1 and then loops."}, {"owner": {"reputation": 73, "user_id": 5451789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab1731462c79c1fdce22c561cfb19840?s=128&d=identicon&r=PG&f=1", "display_name": "Sarthax", "link": "https://stackoverflow.com/users/5451789/sarthax"}, "reply_to_user": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "edited": false, "score": 0, "creation_date": 1469110898, "post_id": 38491164, "comment_id": 64411874, "body": "It will go to the second player if the first player requests to be dealt 0 cards. That&#39;s the check &#39;if response == 0:break&#39;. The input for &#39;response&#39; could be changed to something like &#39;Do you want another card (yes/no)?&#39; and on a &#39;yes&#39; the player player gets one card and on a &#39;no&#39; the loop breaks."}], "tags": [], "owner": {"reputation": 73, "user_id": 5451789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab1731462c79c1fdce22c561cfb19840?s=128&d=identicon&r=PG&f=1", "display_name": "Sarthax", "link": "https://stackoverflow.com/users/5451789/sarthax"}, "is_accepted": true, "score": 2, "last_activity_date": 1469050506, "last_edit_date": 1469050506, "creation_date": 1469050123, "answer_id": 38491164, "question_id": 38490763, "link": "https://stackoverflow.com/questions/38490763/how-do-i-create-a-blackjack-game-as-a-simulation-between-two-players/38491164#38491164", "title": "How do I create a blackjack game as a simulation between two players?", "body": "<p>I suggest trying something like this: </p>\n\n<pre><code>import random\n\ndeck = {'Ace of Spades':1, '2 of Spades':2, '3 of Spades':3,\n        '4 of Spades':4, '5 of Spades':5, '6 of Spades':6,\n        '7 of Spades':7, '8 of Spades':8, '9 of Spades':9,\n        '10 of Spades':10, 'Jack of Spades':10,\n        'Queen of Spades':10, 'King of Spades': 10,\n        'Ace of Hearts':1, '2 of Hearts':2, '3 of Hearts':3,\n        '4 of Hearts':4, '5 of Hearts':5, '6 of Hearts':6,\n        '7 of Hearts':7, '8 of Hearts':8, '9 of Hearts':9,\n        '10 of Hearts':10, 'Jack of Hearts':10,\n        'Queen of Hearts':10, 'King of Hearts': 10, 'Ace of Clubs':1,\n        '2 of Clubs':2, '3 of Clubs':3, '4 of Clubs':4, '5 of Clubs':5,\n        '6 of Clubs':6,'7 of Clubs':7, '8 of Clubs':8, '9 of Clubs':9,\n        '10 of Clubs':10, 'Jack of Clubs':10,\n        'Queen of Clubs':10, 'King of Clubs': 10,\n        'Ace of Diamonds':1, '2 of Diamonds':2, '3 of Diamonds':3,\n        '4 of Diamonds':4, '5 of Diamonds':5, '6 of Diamonds':6,\n        '7 of Diamonds':7, '8 of Diamonds':8, '9 of Diamonds':9,\n        '10 of Diamonds':10, 'Jack of Diamonds':10,\n        'Queen of Diamonds':10, 'King of Diamonds': 10}\n\ndef value(hand):\n    hand_value = 0\n    for i in hand:\n        hand_value += deck[i]\n    return hand_value\n\n\ndef main():\n    keys = list(deck)\n    random.shuffle(keys)\n\n    player1_hand = []\n    player2_hand = []\n    #dealing to player 1\n    while True:\n        print (\"Player 1's hand is \", player1_hand, \"The value is \", value(player1_hand))\n        response = int(input('How many cards should I deal to player1? '))\n        if response == 0:\n            break\n        else:\n            for i in range(int(response)):\n                player1_hand.append(keys.pop())\n    #dealing to player 2\n    while True:\n        print (\"Player 2's hand is \", player2_hand, \"The value is \", value(player2_hand))\n        response = int(input('How many cards should I deal to player2? '))\n        if response == 0:\n            break\n        else:\n            for i in range(int(response)):\n                player2_hand.append(keys.pop())\n    print (player1_hand, value(player1_hand))\n    print (player2_hand, value(player2_hand))\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>Some changes:\n1) The create_deck function is unnecessary because it just returns an unchanging variable, so it was removed.\n2) Random.shuffle is used on the deck so that the game isn't always the same.\n3) Added 'if name == main'. \nThis is a simple formulation where player 1 gets as many cards as they want then player 2 does the same. You can loop around the dealing while loops, or write some separate function to specify the number of rounds. You could also try printing a lot of new line characters after a player finishes getting dealt cards so that the other player can't see what was dealt to them.</p>\n"}], "owner": {"reputation": 47, "user_id": 6466488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8a571702aaa0a1227a7f8775e67c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitsuga Arashi", "link": "https://stackoverflow.com/users/6466488/nitsuga-arashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2185, "favorite_count": 0, "closed_date": 1469087861, "accepted_answer_id": 38491164, "answer_count": 2, "score": 2, "last_activity_date": 1469050506, "creation_date": 1469048426, "question_id": 38490763, "link": "https://stackoverflow.com/questions/38490763/how-do-i-create-a-blackjack-game-as-a-simulation-between-two-players", "closed_reason": "Needs more focus", "title": "How do I create a blackjack game as a simulation between two players?", "body": "<p>I've been struggling to figure out how to convert this program into one between two players instead of just the dealer and me.  Is it supposed to loop somehow, giving the first iteration of the loop to player 1 and than the other to player 2?  I'm not too sure how to make it work.</p>\n\n<pre><code>def main():\n    deck = create_deck()\n\n    num_cards = int(input('How many cards should I deal? '))\n\n    deal_cards(deck, num_cards)\n\ndef create_deck():\n    deck = {'Ace of Spades':1, '2 of Spades':2, '3 of Spades':3, \n            '4 of Spades':4, '5 of Spades':5, '6 of Spades':6, \n            '7 of Spades':7, '8 of Spades':8, '9 of Spades':9, \n            '10 of Spades':10, 'Jack of Spades':10, \n            'Queen of Spades':10, 'King of Spades': 10, \n            'Ace of Hearts':1, '2 of Hearts':2, '3 of Hearts':3, \n            '4 of Hearts':4, '5 of Hearts':5, '6 of Hearts':6, \n            '7 of Hearts':7, '8 of Hearts':8, '9 of Hearts':9, \n            '10 of Hearts':10, 'Jack of Hearts':10, \n            'Queen of Hearts':10, 'King of Hearts': 10, 'Ace of Clubs':1,\n            '2 of Clubs':2, '3 of Clubs':3, '4 of Clubs':4, '5 of Clubs':5,\n            '6 of Clubs':6,'7 of Clubs':7, '8 of Clubs':8, '9 of Clubs':9,\n            '10 of Clubs':10, 'Jack of Clubs':10,\n            'Queen of Clubs':10, 'King of Clubs': 10,\n            'Ace of Diamonds':1, '2 of Diamonds':2, '3 of Diamonds':3, \n            '4 of Diamonds':4, '5 of Diamonds':5, '6 of Diamonds':6, \n            '7 of Diamonds':7, '8 of Diamonds':8, '9 of Diamonds':9, \n            '10 of Diamonds':10, 'Jack of Diamonds':10, \n            'Queen of Diamonds':10, 'King of Diamonds': 10}\n\n    return deck\n\ndef deal_cards(deck, number):\n    hand_value = 0\n\n    if number &gt; len(deck):\n        number = len(deck)\n\n    for count in range(number):\n        card, value = deck.popitem()\n        print(card)\n        hand_value += value\n\n        print('Value of this hand:', hand_value)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 2, "last_activity_date": 1469088185, "creation_date": 1469088185, "answer_id": 38498400, "question_id": 38490748, "link": "https://stackoverflow.com/questions/38490748/isolating-subquery-from-its-parent/38498400#38498400", "title": "Isolating subquery from its parent", "body": "<p>Pass <code>MembershipModel</code> to <code>correlate_except()</code> instead of <code>None</code>, as described <a href=\"http://docs.sqlalchemy.org/en/latest/orm/mapped_sql_expr.html#using-column-property\" rel=\"nofollow\">here</a> in the documentation. Your current method allows omitting everything from the subquery's FROM-clause, if it can be correlated to the enclosing query. When you join <code>MembershipModel</code> it becomes available in the enclosing query.</p>\n\n<p>Here's a simplified example. Given 2 models <code>A</code> and <code>B</code>:</p>\n\n<pre><code>In [2]: class A(Base):\n   ...:     __tablename__ = 'a'\n   ...:     id = Column(Integer, primary_key=True, autoincrement=True)\n   ...:     \n\nIn [3]: class B(Base):\n   ...:     __tablename__ = 'b'\n   ...:     id = Column(Integer, primary_key=True, autoincrement=True)\n   ...:     a_id = Column(Integer, ForeignKey('a.id'))\n   ...:     a = relationship('A', backref='bs')\n</code></pre>\n\n<p>and 2 <code>column_property</code> definitions on <code>A</code>:</p>\n\n<pre><code>In [10]: A.b_count = column_property(\n    select([func.count(B.id)]).where(B.a_id == A.id).correlate_except(B))\n\nIn [11]: A.b_count_wrong = column_property(\n    select([func.count(B.id)]).where(B.a_id == A.id).correlate_except(None))\n</code></pre>\n\n<p>If we query just <code>A</code>, everything's fine:</p>\n\n<pre><code>In [12]: print(session.query(A))\nSELECT a.id AS a_id, (SELECT count(b.id) AS count_1 \nFROM b \nWHERE b.a_id = a.id) AS anon_1, (SELECT count(b.id) AS count_2 \nFROM b \nWHERE b.a_id = a.id) AS anon_2 \nFROM a\n</code></pre>\n\n<p>But if we join <code>B</code>, the second property incorrectly correlates <code>B</code> from the enclosing query and completely omits the FROM-clause:</p>\n\n<pre><code>In [13]: print(session.query(A).join(B))\nSELECT a.id AS a_id, (SELECT count(b.id) AS count_1 \nFROM b \nWHERE b.a_id = a.id) AS anon_1, (SELECT count(b.id) AS count_2 \nWHERE b.a_id = a.id) AS anon_2 \nFROM a JOIN b ON a.id = b.a_id\n</code></pre>\n"}], "owner": {"reputation": 2432, "user_id": 1139131, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c9d5ca0838f355d80360c341122d04b?s=128&d=identicon&r=PG&f=1", "display_name": "Colton Allen", "link": "https://stackoverflow.com/users/1139131/colton-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 38498400, "answer_count": 1, "score": 3, "last_activity_date": 1528662595, "creation_date": 1469048384, "last_edit_date": 1528662595, "question_id": 38490748, "link": "https://stackoverflow.com/questions/38490748/isolating-subquery-from-its-parent", "title": "Isolating subquery from its parent", "body": "<p>I have a <code>column_property</code> on my model that is a count of the relationships on a secondary model.</p>\n\n<pre><code>membership_total = column_property(\n        select([func.count(MembershipModel.id)]).where(\n            MembershipModel.account_id == id).correlate_except(None))\n</code></pre>\n\n<p>This works fine until I try to join the membership model.</p>\n\n<pre><code>query = AccountModel.query.join(MembershipModel)\n# ProgrammingError: subquery uses ungrouped column \"membership.account_id\" from outer query\n</code></pre>\n\n<p>I can fix this issue by appending:</p>\n\n<pre><code>query = query.group_by(MembershipModel.account_id, AccountModel.id)\n# resolves the issue\n</code></pre>\n\n<p>But I don't really want to do that.  I want it to be its own island that ignores whatever the query is doing and just focuses on returning a count of memberships for that particular row's account ID.</p>\n\n<p>What can I do to the column_property to make it more robust and less reliant on what the parent query is doing?</p>\n"}, {"tags": ["python", "subprocess", "multiprocessing"], "comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 1, "creation_date": 1469048989, "post_id": 38490732, "comment_id": 64383373, "body": "unless you do some shared ctypes tomfoolery, subprocess is going to be your best bet. multiprocessing is only built to handle snippets of python code"}, {"owner": {"reputation": 2517, "user_id": 242036, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/608beceac5c543ef6cd9c66547b7ae97?s=128&d=identicon&r=PG", "display_name": "Auxiliary", "link": "https://stackoverflow.com/users/242036/auxiliary"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 1, "creation_date": 1469049485, "post_id": 38490732, "comment_id": 64383596, "body": "Thank you Aaron. Turns out my problem with using subprocess was pretty dumb. I had trouble communicating but flushing the subprocess&#39; stdout every time fixed it."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 1, "creation_date": 1469134920, "post_id": 38490732, "comment_id": 64425640, "body": "You could also change the buffering of std in/out, but flushing is generally a better idea imao"}], "owner": {"reputation": 2517, "user_id": 242036, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/608beceac5c543ef6cd9c66547b7ae97?s=128&d=identicon&r=PG", "display_name": "Auxiliary", "link": "https://stackoverflow.com/users/242036/auxiliary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469048328, "creation_date": 1469048328, "question_id": 38490732, "link": "https://stackoverflow.com/questions/38490732/python-multiprocessing-and-external-program", "title": "Python - Multiprocessing and external program", "body": "<p>I am looking for a way to do multiprocessing (specifically use <code>Process</code> and <code>Queue</code>) but with an external program instead of a Python class/module. Is this possible? I don't want to use the <code>subprocess</code> module because it doesn't provide good message passing like <code>multiprocessing</code> does or at least I wasn't able to use it the same way as multiprocessing -- Running a process, sending a task every now and then and reading the results while keeping the process alive. </p>\n\n<p>Any hint is greatly appreciated. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 3, "creation_date": 1469048332, "post_id": 38490717, "comment_id": 64383088, "body": "Pandas uses <code>numpy.nan</code>. Pandas uses a lot of numpy data structures and algorithms under the covers."}, {"owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "reply_to_user": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 1, "creation_date": 1469048369, "post_id": 38490717, "comment_id": 64383104, "body": "How would I use it without importing numpy?"}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1469048473, "post_id": 38490717, "comment_id": 64383141, "body": "If you set a value in a float64 column to <code>None</code> this will be interpreted by <code>pandas</code> as a missing value, and will be replaced with <code>numpy.nan</code>."}, {"owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "reply_to_user": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1469048594, "post_id": 38490717, "comment_id": 64383189, "body": "It&#39;s not in fact a <code>None</code> type. It&#39;s a <code>str</code> that happens to be &quot;None&quot;."}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1469048787, "post_id": 38490717, "comment_id": 64383274, "body": "Ah you&#39;re right, but think it&#39;s still a <code>None</code>. Caveated the last comment."}, {"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 1, "creation_date": 1469049352, "post_id": 38490717, "comment_id": 64383533, "body": "I don&#39;t know how you&#39;re creating your dataframes, but there are ways of letting pandas know that you want to interpret some input values as <code>NaN</code>s.  See, for example, <code>pd.read_csv</code>&#39;s <code>na_values</code> argument."}, {"owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "edited": false, "score": 0, "creation_date": 1469050029, "post_id": 38490717, "comment_id": 64383820, "body": "Calling <code>pd.DataFrame</code> on an array (because Pandas does not appear to support .ods). I see <code>na_values</code> in <code>pd.read_csv</code> but not in <code>pd.DataFrame</code>. Am I missing something?"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 3, "creation_date": 1469052840, "post_id": 38490717, "comment_id": 64384932, "body": "I think you can do <code>pandas.np.nan</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "edited": false, "score": 0, "creation_date": 1469048948, "post_id": 38490842, "comment_id": 64383348, "body": "Thanks. Is there a way to use <code>dropna</code> on a value other than <code>nan</code>? Or is there some other method that does this?"}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "reply_to_user": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "edited": false, "score": 0, "creation_date": 1469049052, "post_id": 38490842, "comment_id": 64383399, "body": "Like, <code>.replace(&quot;None&quot;, np.nan)</code>?"}, {"owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "edited": false, "score": 0, "creation_date": 1469049128, "post_id": 38490842, "comment_id": 64383436, "body": "I&#39;d rather avoid <code>.replace()</code> altogether. I&#39;m only using it because I want to use <code>dropna</code>."}], "tags": [], "owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "is_accepted": false, "score": 6, "last_activity_date": 1469048966, "last_edit_date": 1469048966, "creation_date": 1469048731, "answer_id": 38490842, "question_id": 38490717, "link": "https://stackoverflow.com/questions/38490717/creating-nan-values-in-pandas-instead-of-numpy/38490842#38490842", "title": "Creating NaN values in Pandas (instead of Numpy)", "body": "<p>You can use <code>float('nan')</code> if you really want to avoid importing things from the numpy namespace:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; s = pd.Series([1, 2, 3])\n&gt;&gt;&gt; s[1] = float('nan')\n&gt;&gt;&gt; s\n0    1.0\n1    NaN\n2    3.0\ndtype: float64\n&gt;&gt;&gt; \n&gt;&gt;&gt; s.dropna()\n0    1.0\n2    3.0\ndtype: float64\n</code></pre>\n\n<p>Moreover, if you have a string value \"None\", you can <code>.replace(\"None\", float(\"nan\"))</code>:</p>\n\n<pre><code>&gt;&gt;&gt; s[1] = \"None\"\n&gt;&gt;&gt; s\n0       1\n1    None\n2       3\ndtype: object\n&gt;&gt;&gt; \n&gt;&gt;&gt; s.replace(\"None\", float(\"nan\"))\n0    1.0\n1    NaN\n2    3.0\ndtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": false, "score": 1, "last_activity_date": 1469055541, "last_edit_date": 1469055541, "creation_date": 1469052405, "answer_id": 38491658, "question_id": 38490717, "link": "https://stackoverflow.com/questions/38490717/creating-nan-values-in-pandas-instead-of-numpy/38491658#38491658", "title": "Creating NaN values in Pandas (instead of Numpy)", "body": "<p>If you are trying to drop directly the rows containing a \"None\" string value (without converting these \"None\" cells to <code>NaN</code> values), I guess it can be done without using <code>replace</code> + <code>dropna</code></p>\n\n<p>Considering a DataFrame like :</p>\n\n<pre><code>In [3]: df = pd.DataFrame({\n            \"foo\": [1,2,3,4],\n            \"bar\": [\"None\",5,5,6],\n            \"baz\": [8, \"None\", 9, 10]\n            })\n\nIn [4]: df\nOut[4]: \n    bar   baz  foo\n0  None     8    1\n1     5  None    2\n2     5     9    3\n3     6    10    4\n</code></pre>\n\n<p>Using <code>replace</code> and <code>dropna</code>\u00a0will return</p>\n\n<pre><code>In [5]: df.replace('None', float(\"nan\")).dropna()\nOut[5]: \n   bar   baz  foo\n2  5.0   9.0    3\n3  6.0  10.0    4\n</code></pre>\n\n<p>Which can also be obtained by simply selecting the row you need :</p>\n\n<pre><code>In [7]: df[df.eval(\"foo != 'None' and bar != 'None' and baz != 'None'\")]\nOut[7]: \n  bar baz  foo\n2   5   9    3\n3   6  10    4\n</code></pre>\n\n<p>You can also use the <code>drop</code> method of your dataframe, selecting appropriately the axis/labels targeted :</p>\n\n<pre><code>In [9]: df.drop(df[(df.baz == \"None\") |\n                   (df.bar == \"None\") |\n                   (df.foo == \"None\")].index)\nOut[9]: \n  bar baz foo\n2   5   9   3\n3   6  10   4\n</code></pre>\n\n<p>These two methods are more or less interchangeable as you can also do for example:<br>\n<code>df[(df.baz != \"None\") &amp; (df.bar != \"None\") &amp; (df.foo != \"None\")]</code><br>\n(but i guess the comparison df.somecolumns == \"Some string\" is only possible if the column type allows it, before theses last 2 examples, which wasn't the case with <code>eval</code>, i had to do <code>df = df.astype (object)</code> as the <code>foo</code> columns was of type <code>int64</code>)</p>\n"}], "owner": {"reputation": 1133, "user_id": 1366410, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a790e6ce0929fcd647f0879edbd9ec3d?s=128&d=identicon&r=PG", "display_name": "zadrozny", "link": "https://stackoverflow.com/users/1366410/zadrozny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2655, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1469055541, "creation_date": 1469048253, "last_edit_date": 1469048440, "question_id": 38490717, "link": "https://stackoverflow.com/questions/38490717/creating-nan-values-in-pandas-instead-of-numpy", "title": "Creating NaN values in Pandas (instead of Numpy)", "body": "<p>I'm converting a .ods spreadsheet to a Pandas DataFrame. I have whole columns and rows I'd like to drop because they contain only \"None\". As \"None\" is a <code>str</code>, I have:</p>\n\n<p><code>pandas.DataFrame.replace(\"None\", numpy.nan)</code></p>\n\n<p>...on which I call: <code>.dropna(how='all')</code></p>\n\n<p>Is there a <code>pandas</code> equivalent to <code>numpy.nan</code>?</p>\n\n<p>Is there a way to use <code>.dropna()</code> with the *string \"None\" rather than <code>NaN</code>?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2008, "user_id": 6504492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df1444ca55de7bf0fad0c53403641ef?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Danilov", "link": "https://stackoverflow.com/users/6504492/vladimir-danilov"}, "edited": false, "score": 0, "creation_date": 1469050391, "post_id": 38490612, "comment_id": 64383993, "body": "What is <code>views</code> field?"}, {"owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "reply_to_user": {"reputation": 2008, "user_id": 6504492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df1444ca55de7bf0fad0c53403641ef?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Danilov", "link": "https://stackoverflow.com/users/6504492/vladimir-danilov"}, "edited": false, "score": 0, "creation_date": 1469050586, "post_id": 38490612, "comment_id": 64384078, "body": "Good question. It&#39;s a field within the Restaurant model. Basically an integer with the total number of views that a restaurant has received. This actually doesn&#39;t have to factor in the past 7 days. I&#39;ll update the question."}], "answers": [{"comments": [{"owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "edited": false, "score": 0, "creation_date": 1469051461, "post_id": 38491395, "comment_id": 64384451, "body": "He wants to calculate for the past 7 days, not today only. So I guess it should be: <code>pub_date__gt=today - timedelta(days=7)</code>"}, {"owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "edited": false, "score": 0, "creation_date": 1470425350, "post_id": 38491395, "comment_id": 64963375, "body": "Only thing I had to fix was: <code>from datetime import datetime, timedelta</code> <code>week_ago = datetime.now() - timedelta(days=7)</code>"}, {"owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "edited": false, "score": 0, "creation_date": 1478908394, "post_id": 38491395, "comment_id": 68353858, "body": "Looking back at this query, wouldn&#39;t this filter out Restaurants with Reviews, but that haven&#39;t been reviewed in the past week?"}], "tags": [], "owner": {"reputation": 2008, "user_id": 6504492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df1444ca55de7bf0fad0c53403641ef?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Danilov", "link": "https://stackoverflow.com/users/6504492/vladimir-danilov"}, "is_accepted": true, "score": 3, "last_activity_date": 1469051860, "last_edit_date": 1469051860, "creation_date": 1469051159, "answer_id": 38491395, "question_id": 38490612, "link": "https://stackoverflow.com/questions/38490612/creating-weight-logic-in-django-based-off-past-7-days/38491395#38491395", "title": "Creating weight logic in django based off past 7 days", "body": "<p>I hope this will help:</p>\n\n<pre><code>import datetime\n\nfrom django.db.models import Q\nfrom django.utils import timezone    \n\nweek_ago = timezone.now() - datetime.timedelta(days=7)\ntop_3 = Restaurant.objects.filter(\n    Q(review__isnull=True) | Q(review__pub_date__gt=week_ago),\n    Q(comment__isnull=True) | Q(comment__pub_date__gt=week_ago),\n).annotate(weight=...).order_by('-weight')[:3]\n</code></pre>\n\n<p><code>review__isnull=True</code> and <code>comment__isnull=True</code> are to not filter out <code>restaurants</code> that are without <code>reviews</code> and <code>comments</code>. If you don't care about those <code>restaurants</code>, you can use this filter:</p>\n\n<pre><code>filter(review__pub_date__gt=week_ago, comment__pub_date__gt=week_ago)\n</code></pre>\n\n<p>Docs</p>\n\n<ul>\n<li><a href=\"https://docs.djangoproject.com/en/1.9/topics/db/aggregation/#filter-and-exclude\" rel=\"nofollow\"><code>filter()</code> and <code>exclude()</code> with annotations</a></li>\n<li><a href=\"https://docs.djangoproject.com/en/1.9/topics/db/queries/#lookups-that-span-relationships\" rel=\"nofollow\">Lookups that span relationships</a></li>\n<li><a href=\"https://docs.djangoproject.com/en/1.9/topics/db/queries/#complex-lookups-with-q-objects\" rel=\"nofollow\"><code>Q()</code></a></li>\n</ul>\n"}], "owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 38491395, "answer_count": 1, "score": 1, "last_activity_date": 1469051860, "creation_date": 1469047832, "last_edit_date": 1469050602, "question_id": 38490612, "link": "https://stackoverflow.com/questions/38490612/creating-weight-logic-in-django-based-off-past-7-days", "title": "Creating weight logic in django based off past 7 days", "body": "<p>I currently have a <code>Restaurant</code> model with associated models <code>Review</code> and <code>Comment</code>. Users can comment and review a restaurant. </p>\n\n<p>I'm trying to create weight logic in Django in which I display the top three restaurants with the largest weight. </p>\n\n<p>The current logic looks like this:</p>\n\n<pre><code>restaurants = Restaurant.objects.all()\ntop_3 = restaurants.annotate(weight=(Count('review')) + F('views') + (Count('comment'))).order_by('-weight')\n</code></pre>\n\n<p>How can I update this logic so that only the reviews and comments for the past 7 days are factored into the weight?</p>\n\n<p><strong>Edit</strong>\nThe Review and Comment models both have a field for tracking when the object was created: \n<code>pub_date = models.DateTimeField(default=timezone.now, blank=True)</code></p>\n"}, {"tags": ["python", "dictionary", "key-value"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1469047861, "post_id": 38490606, "comment_id": 64382856, "body": "<code>{&#39;B&#39;,&#39;C&#39;: &#39;D&#39;}</code> what is that supposed to mean?"}, {"owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1469047978, "post_id": 38490606, "comment_id": 64382915, "body": "Its a dictionary within a dictionary. So A is the first key with values {&#39;B&#39;,&#39;C&#39;:&#39;D&#39;}. This value is itself a dictionary with keys &#39;B&#39;,&#39;C&#39; and a value &#39;D&#39;. Does that make sense @njzk2?"}, {"owner": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "edited": false, "score": 0, "creation_date": 1469048157, "post_id": 38490606, "comment_id": 64383002, "body": "That&#39;s what your result is, it is correct.  Dictionary with keys B and C, both of which have value D."}, {"owner": {"reputation": 1184, "user_id": 6254917, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-rF3f2YtC_zU/AAAAAAAAAAI/AAAAAAAAABY/cQgE97Fmg28/photo.jpg?sz=128", "display_name": "Ankush Raghuvanshi", "link": "https://stackoverflow.com/users/6254917/ankush-raghuvanshi"}, "reply_to_user": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "edited": false, "score": 1, "creation_date": 1469048264, "post_id": 38490606, "comment_id": 64383058, "body": "You can have multiple values for one key i.e., a list of values but if you&#39;ll give the same value to multiple keys, then that will be displayed the way you are getting your output and never the way how you are wanting it to be as the terms &#39;key&#39; &#39;value&#39; in itself mean that we are going to refer to a key&#39;s value and not the other way round (i mean you can, but i hope you get my point).  And @EoinS said it right, that your result is correct indeed.!!"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1469049458, "post_id": 38490606, "comment_id": 64383582, "body": "it doesn&#39;t really. a dictionary needs to have one key and one value for each entry. You can use tuples as keys, but then that means that you need the complete tuple to access the value. (you can&#39;t access <code>D</code> with just <code>B</code> or just <code>C</code>)"}, {"owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "edited": false, "score": 0, "creation_date": 1469063846, "post_id": 38490606, "comment_id": 64387689, "body": "Thank you all for your replies. I&#39;m a newbie and I just got confused. I appreciate the explanation it makes no sense for me to do this. Thank god for StackOverflow! :)"}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 0, "last_activity_date": 1469048263, "creation_date": 1469048263, "answer_id": 38490720, "question_id": 38490606, "link": "https://stackoverflow.com/questions/38490606/assign-the-same-value-to-multiple-keys-in-a-dictionary/38490720#38490720", "title": "Assign the same value to multiple keys in a dictionary", "body": "<p>You can put both items right where you want them, in the tuple:</p>\n\n<pre><code>dict1 = {}\nwith open('foo.csv') as f:\n    reader = csv.DictReader(f)\n    for row in reader:\n         dict1.setdefault(row['A'], {}).update({(row['B'], row['C']): row['D']})\n    #                                               ^         ^\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 38490720, "answer_count": 1, "score": 0, "last_activity_date": 1469048305, "creation_date": 1469047810, "last_edit_date": 1469047867, "question_id": 38490606, "link": "https://stackoverflow.com/questions/38490606/assign-the-same-value-to-multiple-keys-in-a-dictionary", "title": "Assign the same value to multiple keys in a dictionary", "body": "<p>I want my dictionary to look like this:</p>\n\n<pre><code>{'A': {('B','C'): 'D'}}    \n</code></pre>\n\n<p>The code I'm using currently doesn't seem to work to achieve this result.</p>\n\n<pre><code>dict1 = {}\nwith open('foo.csv') as f:\n    reader = csv.DictReader(f)\n    for row in reader:\n        for key in ['B','C']:\n            dict1.setdefault(row['A'], {}).update({row[key]: row['D']})\n</code></pre>\n\n<p>Currently, I'm getting a result like this:</p>\n\n<pre><code>{'A': {'B': 'D','C': 'D'}}\n</code></pre>\n\n<p>Basically, I want B &amp; C to be represented as the key with D as its value.</p>\n\n<p>What am I doing wrong here? Can someone help me correct this code?   </p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 1632, "user_id": 1742198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7ad2774c6551408741a14291c75a330b?s=128&d=identicon&r=PG", "display_name": "Sam Bellerose", "link": "https://stackoverflow.com/users/1742198/sam-bellerose"}, "edited": false, "score": 1, "creation_date": 1469048087, "post_id": 38490605, "comment_id": 64382959, "body": "Can you edit your code please ?"}, {"owner": {"reputation": 1586, "user_id": 4134562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/145433876a4686f100216e9622aac38f?s=128&d=identicon&r=PG&f=1", "display_name": "Avi K.", "link": "https://stackoverflow.com/users/4134562/avi-k"}, "edited": false, "score": 0, "creation_date": 1469049324, "post_id": 38490605, "comment_id": 64383525, "body": "possible duplicate - <a href=\"http://stackoverflow.com/questions/36967097/click-on-buttons-with-images\" title=\"click on buttons with images\">stackoverflow.com/questions/36967097/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 6615687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0f06cbb664ff997d4b3dc00f344f45?s=128&d=identicon&r=PG&f=1", "display_name": "gefound", "link": "https://stackoverflow.com/users/6615687/gefound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 903, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469061884, "creation_date": 1469047810, "last_edit_date": 1469061884, "question_id": 38490605, "link": "https://stackoverflow.com/questions/38490605/how-can-i-click-on-image-button-with-selenium-python", "title": "How can i click on image button with selenium - python", "body": "<p>I am writing a selenium web driver program using <code>python</code>.\nI need help to <code>click</code> on image button with <code>selenium</code> in <code>python</code>.</p>\n\n<p>My <code>html</code> page info is as follows:</p>\n\n<pre><code>&lt;code&gt;\n   &lt;a href=\"javascript:void(0);\" onclick=\"location.href='Yad2Edit.php?SalesID=11847965&amp;amp;leumiCardEnabled=0'\"&gt;\n      &lt;img style=\"border: 0px;\" src=\"http://images.yad2.co.il/Pic/site_images/yad2/MyYad2/images/myorderbottom/new/edit_ad.png\" alt=\"\"&gt;\n    &lt;/a&gt;\n&lt;/code&gt;\n</code></pre>\n"}, {"tags": ["python", "file", "text", "numbers", "average"], "comments": [{"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1469048197, "post_id": 38490602, "comment_id": 64383024, "body": "Once you&#39;ve iterated through f, calls to <code>readline</code> will return <code>None</code>."}, {"owner": {"reputation": 2821, "user_id": 1092803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3sAr.jpg?s=128&g=1", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1092803/gianluca"}, "edited": false, "score": 0, "creation_date": 1469048369, "post_id": 38490602, "comment_id": 64383103, "body": "how the data are written in the file ? one value per line ?"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 2850001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7X8o5.jpg?s=128&g=1", "display_name": "Gilsho", "link": "https://stackoverflow.com/users/2850001/gilsho"}, "is_accepted": false, "score": 1, "last_activity_date": 1469048620, "last_edit_date": 1495542154, "creation_date": 1469048238, "answer_id": 38490715, "question_id": 38490602, "link": "https://stackoverflow.com/questions/38490602/python-getting-the-average-of-n-lines-in-a-txt-file/38490715#38490715", "title": "Python - Getting the average of n lines in a txt file", "body": "<p>You can read the file in reverse order and use <em>break</em> after 5 reads to get out from the loop. You can also just run 5 iteration of the loop while starting from the end of the file, so you will not have to use <em>break</em> at all.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2301789/read-a-file-in-reverse-order-using-python\">Here</a> is how to read in reverse in Python.</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4293701, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/712465743/picture?type=large", "display_name": "Ben Parry", "link": "https://stackoverflow.com/users/4293701/ben-parry"}, "edited": false, "score": 0, "creation_date": 1469048765, "post_id": 38490754, "comment_id": 64383264, "body": "Thanks, works perfectly. Just a side thing, would it be possible to make the print statement only display up to 2dp?"}, {"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "reply_to_user": {"reputation": 107, "user_id": 4293701, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/712465743/picture?type=large", "display_name": "Ben Parry", "link": "https://stackoverflow.com/users/4293701/ben-parry"}, "edited": false, "score": 0, "creation_date": 1469049094, "post_id": 38490754, "comment_id": 64383421, "body": "Sure. Change the last line to: <code>print(&quot;{0:0.2f}&quot;.format(sum(data[-5:])&#47;len(data[-5:])))</code>"}], "tags": [], "owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "is_accepted": true, "score": 3, "last_activity_date": 1469048733, "last_edit_date": 1469048733, "creation_date": 1469048397, "answer_id": 38490754, "question_id": 38490602, "link": "https://stackoverflow.com/questions/38490602/python-getting-the-average-of-n-lines-in-a-txt-file/38490754#38490754", "title": "Python - Getting the average of n lines in a txt file", "body": "<p>You can use <a href=\"http://techearth.net/python/index.php5?title=Python:Basics:Slices\" rel=\"nofollow\">slicing</a> to get only the 5 last numbers (I deleted all the irrelevant code):</p>\n\n<pre><code>with open('PastWinners.txt') as f:\n    data = [float(line.rstrip()) for line in f]\nprint(sum(data[-5:])/len(data[-5:]))\n</code></pre>\n\n<p>the <code>data[-5:]</code> says take only the data from the 5-1 before last item to the last item.</p>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "is_accepted": false, "score": 0, "last_activity_date": 1469049292, "creation_date": 1469049292, "answer_id": 38490963, "question_id": 38490602, "link": "https://stackoverflow.com/questions/38490602/python-getting-the-average-of-n-lines-in-a-txt-file/38490963#38490963", "title": "Python - Getting the average of n lines in a txt file", "body": "<p>This will work when the file is less than 5 lines, too, and will format your average to 2 decimal places.</p>\n\n<pre><code>with open('PastWinners.txt') as f:\n    data = [float(line.rstrip()) for line in f]\n\nif len(data) &gt; 5:\n    data = data[-5:]\n\nprint min(data), max(data), \"{:.2f}\".format(sum(data)/len(data))\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4293701, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/712465743/picture?type=large", "display_name": "Ben Parry", "link": "https://stackoverflow.com/users/4293701/ben-parry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 38490754, "answer_count": 3, "score": 2, "last_activity_date": 1469049292, "creation_date": 1469047800, "question_id": 38490602, "link": "https://stackoverflow.com/questions/38490602/python-getting-the-average-of-n-lines-in-a-txt-file", "title": "Python - Getting the average of n lines in a txt file", "body": "<p>I've taken a look online to try and solve this problem and used solutions from other posts to build towards my solution, however from here, I don't get what to do next.</p>\n\n<p>I basically want to grab the final 5 lines of the PastWinners text file and then get the average of those numbers. What I currently have gets the average of the entire document and also prints out the final line in the text file.</p>\n\n<pre><code>with open('PastWinners.txt') as f:\n    data = [float(line.rstrip()) for line in f]\n\n    first = f.readline()      # Read the first line.\n    f.seek(-2, 2)             # Jump to the second last byte.\n    while f.read(1) != b\"\\n\": # Until EOL is found...\n        f.seek(-2, 1)         # ...jump back the read byte plus one more.\n    last = f.readline()       # Read last line.\n\nbiggest = min(data)\nsmallest = max(data)\nprint(sum(data)/len(data))\nprint(last)\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "django", "python-3.x", "orm", "manytomanyfield"], "comments": [{"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1469048751, "post_id": 38490533, "comment_id": 64383256, "body": "If you put a time stamp on the <code>Stop</code> model, then you could order based on that time stamp."}, {"owner": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "reply_to_user": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1469077602, "post_id": 38490533, "comment_id": 64390993, "body": "The thing is, a <code>Stop</code> instance might belong to more than one Route objects. So even if I put timestamp to it, the <code>timestamp</code> field of a <code>Stop</code> instance would change when it comes to build another <code>Route</code> instance."}], "answers": [{"comments": [{"owner": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "edited": false, "score": 0, "creation_date": 1469077976, "post_id": 38491369, "comment_id": 64391109, "body": "Should your <code>route = models.ForeignKey(Stop)</code> line be <code>route = models.ForeignKey(Route)</code>? Or maybe I am wrong and code is valid?"}, {"owner": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "edited": false, "score": 0, "creation_date": 1469078475, "post_id": 38491369, "comment_id": 64391279, "body": "It also raises when I try to migrate: <code>ValueError: Cannot alter field izmir.Route.stops into izmir.Route.stops - they are not compatible types (you cannot alter to or from M2M fields, or add or remove through= on M2M fields)</code>"}, {"owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "reply_to_user": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "edited": false, "score": 0, "creation_date": 1469080148, "post_id": 38491369, "comment_id": 64391875, "body": "Yes, it should be <code>Route</code> (a typo clearly). About the migration, it won&#39;t happen automatically, you will need to make a <a href=\"http://stackoverflow.com/questions/33257530/how-to-add-through-option-to-existing-manytomanyfield-with-migrations-and-data-i\">data migration</a>"}], "tags": [], "owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "is_accepted": false, "score": 1, "last_activity_date": 1469080019, "last_edit_date": 1469080019, "creation_date": 1469051068, "answer_id": 38491369, "question_id": 38490533, "link": "https://stackoverflow.com/questions/38490533/django-sort-manytomany-field-in-a-nonsignificant-order/38491369#38491369", "title": "Django Sort ManyToMany Field in A Nonsignificant Order", "body": "<p>The <code>position</code> of a <code>stop</code> is relative to a <code>Route</code>, e.g. one stop can be first for <code>route 1</code>, 2nd for <code>route 2</code> and etc. So this is a perfect example that you need more <code>metadata</code> about the <code>Route-Stop</code> relation. Djagno solves this by letting you provide a <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/models/#extra-fields-on-many-to-many-relationships\" rel=\"nofollow\">Intermediate Table</a> with two <code>ForeignKey</code> and the <code>metadata</code> you need for the relation.</p>\n\n<pre><code>class Stop(models.Model):\n    #...\n\nclass Route(models.Model):\n\n    #...\n\n    stops = models.ManyToManyField(Stop, through='RouteStop', blank=True, related_name=\"routes\", verbose_name=\"Stops\")\n\n\nclass RouteStop(models.Model):\n    stop = models.ForeignKey(Stop)\n    route = models.ForeignKey(Route)\n    position = models.PositiveSmallIntegerField()\n\n    class Meta:\n        unique_together = ((\"stop\", \"route\"),)\n</code></pre>\n\n<p>Now when you get <code>Routes</code> you can order <code>route.stops</code> by <code>RouteStop.position</code>, something like:</p>\n\n<pre><code>Route.objects.all().prefetch_related(\n    Prefetch('stops', queryset=Stop.objects.all().order_by('routestop__position'))\n)\n</code></pre>\n"}], "owner": {"reputation": 1683, "user_id": 2926992, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2w3LT.jpg?s=128&g=1", "display_name": "Erdin Eray", "link": "https://stackoverflow.com/users/2926992/erdin-eray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469080019, "creation_date": 1469047611, "question_id": 38490533, "link": "https://stackoverflow.com/questions/38490533/django-sort-manytomany-field-in-a-nonsignificant-order", "title": "Django Sort ManyToMany Field in A Nonsignificant Order", "body": "<p>I have two models as below:</p>\n\n<pre><code>class Stop(models.Model):\n    \"\"\"\n    Showing bus stops in \u0130zmir.\n    \"\"\"\n\n    code = models.PositiveIntegerField(\n        unique=True,\n        primary_key=True,\n        verbose_name=\"Code\"\n    )\n\n    label = models.CharField(\n        null=False,\n        blank=False,\n        max_length=64,\n        verbose_name=\"Label\"\n    )\n\n    coor = ArrayField(\n        models.FloatField(),\n        size=2,\n        verbose_name=\"Coordination\"\n    )\n\n    class Meta:\n        verbose_name = \"Stop\"\n        verbose_name_plural = \"Stops\"\n        ordering = [\"label\"]\n\n    def __str__(self):\n        return self.label\n\nclass Route(models.Model):\n    \"\"\"\n    Bus routes of \u0130zmir.\n    \"\"\"\n\n    code = models.PositiveSmallIntegerField(\n        unique=True,\n        primary_key=True,\n        verbose_name=\"Code\"\n    )\n\n    stops = models.ManyToManyField(\n        Stop,\n        null=True,\n        blank=True,\n        related_name=\"routes\",\n        verbose_name=\"Stops\"\n    )\n\n    terminals = ArrayField(\n        models.CharField(\n            null=False,\n            blank=False,\n            max_length=32,\n        ),\n        size=2,\n        default=[],\n        verbose_name=\"Terminals\"\n    )\n\n    departure_times = ArrayField(\n        ArrayField(\n            models.TimeField(\n                null=False,\n                blank=False\n            ),\n            null=True,\n            default=[]\n        ),\n        default=[],\n        size=6,\n        verbose_name=\"Departure Times\"\n    )\n\n    class Meta:\n        verbose_name = \"Route\"\n        verbose_name_plural = \"Routes\"\n        ordering = [\"code\"]\n\n    def __str__(self):\n        return \"{}: {} - {}\".format(str(self.code), self.terminals[0], self.terminals[1])\n</code></pre>\n\n<p>As you can see, <code>Route</code> has a <code>ManyToManyFields</code> which takes <code>Stop</code> instances.</p>\n\n<p>I put the instances with a script which it scraps a couple of web page, it seems I will use crontab to keep them updated. In the data I am scraping, <code>Stop</code> objects are ordered. The thing is, there are no significant filter to sort e.g. a <code>Stop</code> instance comes after another.</p>\n\n<p>Django (or Django Rest Framework) returns <code>Stop</code> instances of <code>Route</code> instance in alphabetic order, e.g.</p>\n\n<pre><code>{\n    \"code\": 285,\n    \"terminals\": [\n        \"EVKA 1\",\n        \"KONAK\"\n    ],\n    \"stops\": [\n        40586,\n        40633,\n        12066,\n        40645,\n        40627,\n        40647,\n        40588,\n        40592,\n        40623,\n        40016,\n        40506,\n        40508,\n        40528,\n        40462,\n        40631,\n        40014,\n        40619,\n        40530,\n        12060,\n        40661,\n        40504,\n        40488,\n        40653,\n        40590,\n        40512,\n        40464,\n        10240,\n        10036,\n        12068,\n        40514,\n        40510,\n        40658,\n        40002,\n        40649,\n        12070,\n        40004,\n        40010,\n        40656,\n        12064,\n        40614,\n        40012\n    ],\n    ...\n}\n</code></pre>\n\n<p>In which <code>stops[0]</code> returns a <code>Stop</code> instance beginning with <code>A</code> and sorts like that.</p>\n\n<p>So, is there a way to order like a <code>list</code> in Python? Like, there is no significant point, you just append to the end and return so.</p>\n\n<hr>\n\n<h1>Environment</h1>\n\n<ul>\n<li>python 3.5.1</li>\n<li>django 1.9.7</li>\n<li>djangorestframework 3.3.3</li>\n<li>psycopg2 2.6.2</li>\n<li>postgresql 9.5</li>\n</ul>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 244, "user_id": 5862271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0U1zp.jpg?s=128&g=1", "display_name": "Jason Brown", "link": "https://stackoverflow.com/users/5862271/jason-brown"}, "edited": false, "score": 1, "creation_date": 1469047683, "post_id": 38490479, "comment_id": 64382768, "body": "currently, df.replace() is looking for all instances of &quot;col1&quot; (the string, rather than the Series)"}, {"owner": {"reputation": 6344, "user_id": 2486357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d50eaca20365c51634c9452835c50ab?s=128&d=identicon&r=PG", "display_name": "C_Z_", "link": "https://stackoverflow.com/users/2486357/c-z"}, "edited": false, "score": 0, "creation_date": 1469047847, "post_id": 38490479, "comment_id": 64382847, "body": "Why not just do <code>df[&quot;col1&quot;] = [cleanMessage(s) for s in df[&quot;col1&quot;]]</code>?"}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "reply_to_user": {"reputation": 244, "user_id": 5862271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0U1zp.jpg?s=128&g=1", "display_name": "Jason Brown", "link": "https://stackoverflow.com/users/5862271/jason-brown"}, "edited": false, "score": 0, "creation_date": 1469048165, "post_id": 38490479, "comment_id": 64383009, "body": "@JBr, so what should the syntax be, then, if I&#39;m look to <code>replace</code> that column? <code>df = df.replace(df[&quot;col1&quot;], message_dict)</code>?"}, {"owner": {"reputation": 244, "user_id": 5862271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0U1zp.jpg?s=128&g=1", "display_name": "Jason Brown", "link": "https://stackoverflow.com/users/5862271/jason-brown"}, "edited": false, "score": 0, "creation_date": 1469135317, "post_id": 38490479, "comment_id": 64425805, "body": "piRSquared has the syntax below"}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1469148579, "post_id": 38490479, "comment_id": 64429577, "body": "He has some syntax that works, yes. But it&#39;s way slower than the method I put under &quot;Edit&quot; above, and doesn&#39;t use the dictionary replacement approach I outlined above"}], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5862271, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0U1zp.jpg?s=128&g=1", "display_name": "Jason Brown", "link": "https://stackoverflow.com/users/5862271/jason-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1469047892, "creation_date": 1469047892, "answer_id": 38490629, "question_id": 38490479, "link": "https://stackoverflow.com/questions/38490479/re-assigning-pandas-col-by-dictionary-has-no-effect-on-original-dataframe/38490629#38490629", "title": "Re-assigning pandas col by dictionary has no effect on original DataFrame?", "body": "<p><code>replace</code> works well with <code>regex</code> - consider putting the logic of <code>clean message()</code> into a nested <code>replace()</code>.</p>\n\n<pre><code>df[\"col2\"] = df[\"col1\"].replace(...).replace(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1469048218, "creation_date": 1469048218, "answer_id": 38490712, "question_id": 38490479, "link": "https://stackoverflow.com/questions/38490479/re-assigning-pandas-col-by-dictionary-has-no-effect-on-original-dataframe/38490712#38490712", "title": "Re-assigning pandas col by dictionary has no effect on original DataFrame?", "body": "<pre><code>df.col1 = df.col1.str.lower().str.replace(r'([^a-z ])', '')\n\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0dnzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dnzu.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1469113525, "creation_date": 1469047349, "last_edit_date": 1469113525, "question_id": 38490479, "link": "https://stackoverflow.com/questions/38490479/re-assigning-pandas-col-by-dictionary-has-no-effect-on-original-dataframe", "title": "Re-assigning pandas col by dictionary has no effect on original DataFrame?", "body": "<p>I have a huge <code>pandas</code> <code>DataFrame</code> that looks like this (sample):</p>\n\n<pre><code>df = pd.DataFrame({\"col1\":{0:\"There ARE NO ERRORS!!!\", 1:\"EVERYTHING is failing\", 2:\"There ARE NO ERRORS!!!\"}, \"col2\":{0:\"WE HAVE SOME ERRORS\", 1:\"EVERYTHING is failing\", 2:\"System shutdown!\"}})\n</code></pre>\n\n<p>I have a function called <code>cleanMessage</code> that strips punctuation and returns lowercase string. For example, <code>cleanMessage(\"THERE may be some errors, I don't know!!\")</code> would return <code>there may be some errors i dont know</code>.</p>\n\n<p>I am trying to replace every message in <code>col1</code> with whatever <code>cleanMessage</code> returns for that particular message (basically cleaning these message columns up). <code>pd.DataFrame.iterrows</code> worked OK for me, but was a bit slow. I'm trying to basically map new values to the keys in the original <code>df</code>, something like this:</p>\n\n<pre><code>message_set = set(df[\"col1\"])\nmessage_dict = dict((original, cleanMessage(original)) for original in message_set)\ndf = df.replace(\"col1\", message_dict)\n</code></pre>\n\n<p>So, the original <code>df</code> would like:</p>\n\n<pre><code>&gt;&gt;&gt; df\n    col1                      col2\n0   \"There ARE NO ERRORS\"     \"WE HAVE SOME ERRORS\"\n1   \"EVERYTHING is failing\"   \"EVERYTHING is failing\"\n2   \"There ARE NO ERRORS!!!\"  \"System shutdown!\"\n</code></pre>\n\n<p>And the \"after\" <code>df</code> should look like:</p>\n\n<pre><code>&gt;&gt;&gt; df\n    col1                      col2\n0   \"there are no errors\"     \"WE HAVE SOME ERRORS\"\n1   \"everything is failing\"   \"EVERYTHING is failing\"\n2   \"there are no errors\"     \"System shutdown!\"\n</code></pre>\n\n<p>Am I missing something with the <code>replace</code> portion of my code?</p>\n\n<p>Edit:</p>\n\n<p>For future viewers, here's the code I got to work:</p>\n\n<pre><code>df[\"col1\"] = df[\"col1\"].map(message_dict)\n</code></pre>\n"}, {"tags": ["python", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4415564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-zfzFfKeMDmg/AAAAAAAAAAI/AAAAAAAAABY/HghdfAr8gU8/photo.jpg?sz=128", "display_name": "Stephen Kim", "link": "https://stackoverflow.com/users/4415564/stephen-kim"}, "edited": false, "score": 0, "creation_date": 1469048748, "post_id": 38490809, "comment_id": 64383254, "body": "I tried doing this and got the error: Traceback (most recent call last):   File &quot;detect_circles.py&quot;, line 19, in &lt;module&gt;     circles = cv2.HoughCircles(gray, cv2.CV_HOUGH_GRADIENT, 1.2, 100) AttributeError: &#39;module&#39; object has no attribute &#39;CV_HOUGH_GRADIENT&#39;"}, {"owner": {"reputation": 1343, "user_id": 5132595, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gq7MGS_sW1w/AAAAAAAAAAI/AAAAAAAAAXY/a1DOp0cWC5Q/photo.jpg?sz=128", "display_name": "s1hofmann", "link": "https://stackoverflow.com/users/5132595/s1hofmann"}, "reply_to_user": {"reputation": 103, "user_id": 4415564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-zfzFfKeMDmg/AAAAAAAAAAI/AAAAAAAAABY/HghdfAr8gU8/photo.jpg?sz=128", "display_name": "Stephen Kim", "link": "https://stackoverflow.com/users/4415564/stephen-kim"}, "edited": false, "score": 1, "creation_date": 1469049118, "post_id": 38490809, "comment_id": 64383430, "body": "I just edited my post, the constant changed in OpenCV3."}], "tags": [], "owner": {"reputation": 1343, "user_id": 5132595, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gq7MGS_sW1w/AAAAAAAAAAI/AAAAAAAAAXY/a1DOp0cWC5Q/photo.jpg?sz=128", "display_name": "s1hofmann", "link": "https://stackoverflow.com/users/5132595/s1hofmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1469049087, "last_edit_date": 1469049087, "creation_date": 1469048611, "answer_id": 38490809, "question_id": 38490457, "link": "https://stackoverflow.com/questions/38490457/trying-to-detect-circle-with-houghcircles-in-opencv/38490809#38490809", "title": "Trying to Detect Circle with Houghcircles in OpenCV", "body": "<pre><code>cv2.cv.HoughCircles(gray, cv2.cv.CV_HOUGH_GRADIENT, 1.2, 100)\n</code></pre>\n\n<p>The error message says it all. You have a typo in your code, the method should be called without the second cv module specifier.</p>\n\n<pre><code>cv2.HoughCircles(gray, cv2.HOUGH_GRADIENT, 1.2, 100)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4415564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-zfzFfKeMDmg/AAAAAAAAAAI/AAAAAAAAABY/HghdfAr8gU8/photo.jpg?sz=128", "display_name": "Stephen Kim", "link": "https://stackoverflow.com/users/4415564/stephen-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 38490809, "answer_count": 1, "score": 0, "last_activity_date": 1469049087, "creation_date": 1469047250, "question_id": 38490457, "link": "https://stackoverflow.com/questions/38490457/trying-to-detect-circle-with-houghcircles-in-opencv", "title": "Trying to Detect Circle with Houghcircles in OpenCV", "body": "<p>I am trying to detect circles in OpenCV using the method Houghcircles but when I am trying to run my code I get the following error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"detect_circles.py\", line 19, in &lt;module&gt;\n    circles = cv2.cv.HoughCircles(gray, cv2.cv.CV_HOUGH_GRADIENT, 1.2, 100)\nAttributeError: 'module' object has no attribute 'cv'\n</code></pre>\n\n<p>I am currently following the tutorial from this website: <a href=\"http://www.pyimagesearch.com/2014/07/21/detecting-circles-images-using-opencv-hough-circles/\" rel=\"nofollow\">http://www.pyimagesearch.com/2014/07/21/detecting-circles-images-using-opencv-hough-circles/</a></p>\n\n<p>I was wondering what was causing this error and what I could do to fix it.</p>\n\n<p>I am running the code like this:</p>\n\n<pre><code>python detect_circles.py --image images/simple.png\n</code></pre>\n\n<p>And this is my code:</p>\n\n<pre><code># import the necessary packages\nimport numpy as np\nimport argparse\nimport cv2\nimport copy\n\n# construct the argument parser and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--image\", required = True, help = \"Path to the image\")\nargs = vars(ap.parse_args())\n\n# load the image, clone it for output, and then convert it to grayscale\nimage = cv2.imread(args[\"image\"])\noriginal_img = cv2.imread(args[\"image\"])\nclone_img = copy.copy(original_img)\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n\n# detect circles in the image\ncircles = cv2.cv.HoughCircles(gray, cv2.cv.CV_HOUGH_GRADIENT, 1.2, 100)\n\n# ensure at least some circles were found\nif circles is not None:\n    # convert the (x, y) coordinates and radius of the circles to integers\n    circles = np.round(circles[0, :]).astype(\"int\")\n\n    # loop over the (x, y) coordinates and radius of the circles\n    for (x, y, r) in circles:\n        # draw the circle in the output image, then draw a rectangle\n        # corresponding to the center of the circle\n        cv2.circle(output, (x, y), r, (0, 255, 0), 4)\n        cv2.rectangle(output, (x - 5, y - 5), (x + 5, y + 5), (0, 128, 255), -1)\n\n    # show the output image\n    cv2.imshow(\"output\", np.hstack([image, output]))\n    cv2.waitKey(0)\n</code></pre>\n"}, {"tags": ["python", "list", "printing"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1469047222, "post_id": 38490428, "comment_id": 64382513, "body": "Then use <code>itertools.izip_longest</code>. There&#39;s probably a dupe for this already. searching . . ."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1469047337, "post_id": 38490428, "comment_id": 64382582, "body": "Also <a href=\"http://stackoverflow.com/questions/11318977/zipping-unequal-lists-in-python-in-to-a-list-which-does-not-drop-any-element-fro\">Zipping unequal lists in python in to a list which does not drop any element from longer list being zipped</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1469047235, "creation_date": 1469047235, "answer_id": 38490455, "question_id": 38490428, "link": "https://stackoverflow.com/questions/38490428/print-different-size-lists-side-by-side/38490455#38490455", "title": "Print different size lists side by side", "body": "<p>Check out <a href=\"https://docs.python.org/3.4/library/itertools.html#itertools.zip_longest\" rel=\"nofollow\"><code>itertools.zip_longest</code></a>.</p>\n\n<pre><code>import itertools\n\nfor a, b in itertools.zip_longest([1,2], [3,4,5]):\n    print(a, b)\n\n# outputs\n1 3\n2 4\nNone 5\n</code></pre>\n\n<p>You can change the value used to fill with the kwarg <code>fillvalue</code>.</p>\n"}], "owner": {"reputation": 181, "user_id": 6505850, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d17bd636ae8155e4694aa0c7d7e61e32?s=128&d=identicon&r=PG&f=1", "display_name": "Yared J.", "link": "https://stackoverflow.com/users/6505850/yared-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "closed_date": 1469048289, "accepted_answer_id": 38490455, "answer_count": 1, "score": 1, "last_activity_date": 1469047235, "creation_date": 1469047132, "question_id": 38490428, "link": "https://stackoverflow.com/questions/38490428/print-different-size-lists-side-by-side", "closed_reason": "Duplicate", "title": "Print different size lists side by side", "body": "<p>I want to print different size lists side by side.</p>\n\n<p>I'm using</p>\n\n<pre><code>In: for n,g in zip(ten_pos,real_pos):\n        print (n + \"\\t\\t\\t\\t\\t\\t\" + g)\n</code></pre>\n\n<p>But If one list has 5 item and the other one has 20, It only prints 5 and 5 and I want 5 and 20.</p>\n\n<p>Is there an easy way to solve this? </p>\n"}, {"tags": ["python", "module"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1469047301, "post_id": 38490384, "comment_id": 64382569, "body": "Do you mean alter an image that is displayed in the python program or change the monitor settings / colour profile of computer?"}, {"owner": {"reputation": 296, "user_id": 6296291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4a1ee5bfcc3540a22ca7b61e6bd92e7?s=128&d=identicon&r=PG&f=1", "display_name": "c1646091", "link": "https://stackoverflow.com/users/6296291/c1646091"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1469220062, "post_id": 38490384, "comment_id": 64463649, "body": "@TadhgMcDonald-Jensen I apologise as I wasn&#39;t clear. Not an image displayed in the python program, but, it&#39;s hard to explain. Basically like it intercepts what the graphics card produces on-screen, but applies a colour filter to it."}], "owner": {"reputation": 296, "user_id": 6296291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4a1ee5bfcc3540a22ca7b61e6bd92e7?s=128&d=identicon&r=PG&f=1", "display_name": "c1646091", "link": "https://stackoverflow.com/users/6296291/c1646091"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469046956, "creation_date": 1469046956, "question_id": 38490384, "link": "https://stackoverflow.com/questions/38490384/what-python-module-can-i-use-to-manipulate-onscreen-graphics", "title": "What python module can I use to manipulate onscreen graphics?", "body": "<p>This is a bit hard to explain, but I'm looking for a python module I can install that would allow me to manipulate what I'm presently viewing on-screen (specifically, changing the colour hue of the visuals).</p>\n\n<p>For example, changing it so that what I'm seeing is presented in black and white, or altering it so it's primarily red hued or blue hued etc.</p>\n\n<p>Is there any module that can do this?</p>\n"}, {"tags": ["python", "django", "twython"], "comments": [{"owner": {"reputation": 1096, "user_id": 2087549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd60e923b026b22045450ec26adca1?s=128&d=identicon&r=PG", "display_name": "Andreas Gnyp", "link": "https://stackoverflow.com/users/2087549/andreas-gnyp"}, "edited": false, "score": 0, "creation_date": 1469053245, "post_id": 38490314, "comment_id": 64385069, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/16866323/authentication-with-twython\">Authentication with twython</a>"}, {"owner": {"reputation": 3, "user_id": 6615168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PQTiGFiL0-c/AAAAAAAAAAI/AAAAAAAAAC0/NH9cg82Dcrc/photo.jpg?sz=128", "display_name": "bharat agarwal", "link": "https://stackoverflow.com/users/6615168/bharat-agarwal"}, "reply_to_user": {"reputation": 1096, "user_id": 2087549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd60e923b026b22045450ec26adca1?s=128&d=identicon&r=PG", "display_name": "Andreas Gnyp", "link": "https://stackoverflow.com/users/2087549/andreas-gnyp"}, "edited": false, "score": 0, "creation_date": 1469075897, "post_id": 38490314, "comment_id": 64390525, "body": "I have tried already seen that post but still facing the problem."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6709921, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5_zOAn2VqNM/AAAAAAAAAAI/AAAAAAAAADI/QH-GWbuALsU/photo.jpg?sz=128", "display_name": "Ryan Schmidt", "link": "https://stackoverflow.com/users/6709921/ryan-schmidt"}, "is_accepted": true, "score": 0, "last_activity_date": 1471017191, "creation_date": 1471017191, "answer_id": 38922006, "question_id": 38490314, "link": "https://stackoverflow.com/questions/38490314/obtaining-access-token-error-401-in-twython/38922006#38922006", "title": "Obtaining access token error 401 in Twython", "body": "<p>On the second Twython instantiation, you have to include the OAUTH_TOKEN and the OAUTH_SECRET_TOKEN obtained in the first step.    </p>\n\n<pre><code>twitter = Twython(APP_KEY, APP_SECRET, OAUTH_TOKEN, OAUTH_TOKEN_SECRET)    \n</code></pre>\n\n<p>It is returning Invalid Token because the instantiation you're using didn't include the tokens you received.</p>\n"}], "owner": {"reputation": 3, "user_id": 6615168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PQTiGFiL0-c/AAAAAAAAAAI/AAAAAAAAAC0/NH9cg82Dcrc/photo.jpg?sz=128", "display_name": "bharat agarwal", "link": "https://stackoverflow.com/users/6615168/bharat-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 38922006, "answer_count": 1, "score": 0, "last_activity_date": 1471017191, "creation_date": 1469046682, "last_edit_date": 1469080660, "question_id": 38490314, "link": "https://stackoverflow.com/questions/38490314/obtaining-access-token-error-401-in-twython", "title": "Obtaining access token error 401 in Twython", "body": "<p>I am trying to veify Twitter account of user via Twython</p>\n\n<pre><code>def twitter_view(request):\ntwitter = Twython(APP_KEY, APP_SECRET)\nauth = twitter.get_authentication_tokens(callback_url='http://127.0.0.1:8000/confirm/', force_login=True)\n\nrequest.session['oauth_token'] = auth['oauth_token']\nrequest.session['oauth_token_secret'] = auth['oauth_token_secret']\nreturn HttpResponseRedirect(auth['auth_url'])\n\n\ndef redirect_view(request):\noauth_verifier = request.GET['oauth_verifier']\ntwitter = Twython(APP_KEY, APP_SECRET)\nfinal_step = twitter.get_authorized_tokens(oauth_verifier)\nrequest.user.twitter_oauth_token = final_step['oauth_token']\nrequest.user.twitter_oauth_token_secret = final_step['oauth_token_secret']\nrequest.user.save()\n\nreturn redirect('twitterapp:homepage')\n</code></pre>\n\n<p>I am getting </p>\n\n<blockquote>\n  <p>Twitter API returned a 401 (Unauthorized), Invalid / expired Token</p>\n</blockquote>\n\n<p>Traceback (most recent call last):</p>\n\n<blockquote>\n  <p>File\n  \"/Users/bharatagarwal/my-venv/lib/python2.7/site-packages/django/core/handlers/base.py\",\n  line 149, in get_response\n      response = self.process_exception_by_middleware(e, request)</p>\n  \n  <p>File\n  \"/Users/bharatagarwal/my-venv/lib/python2.7/site-packages/django/core/handlers/base.py\",\n  line 147, in get_response  response = wrapped_callback(request,\n  *callback_args, **callback_kwargs)</p>\n  \n  <p>File\n  \"/Users/bharatagarwal/projects/twitterproject/mysite/twitterapp/views.py\",\n  line 100, in redirect_view<br>\n        final_step = twitter.get_authorized_tokens(str(oauth_verifier))</p>\n  \n  <p>File\n  \"/Users/bharatagarwal/my-venv/lib/python2.7/site-packages/twython/api.py\",\n  line 379, in get_authorized_tokens\n      ken'), error_code=response.status_code)</p>\n  \n  <p>TwythonError: Twitter API returned a 401 (Unauthorized), Invalid /\n  expired To             ken</p>\n</blockquote>\n"}, {"tags": ["python", "pandas", "io"], "comments": [{"owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 2, "creation_date": 1469046778, "post_id": 38490286, "comment_id": 64382281, "body": "Do you know about <code>pd.read_fwf()</code>?"}, {"owner": {"reputation": 608, "user_id": 3624650, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c9599fb074e5586d6d451f13304f6689?s=128&d=identicon&r=PG&f=1", "display_name": "PSNR", "link": "https://stackoverflow.com/users/3624650/psnr"}, "reply_to_user": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "edited": false, "score": 0, "creation_date": 1469047113, "post_id": 38490286, "comment_id": 64382440, "body": "now I do! Thank you"}], "owner": {"reputation": 608, "user_id": 3624650, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c9599fb074e5586d6d451f13304f6689?s=128&d=identicon&r=PG&f=1", "display_name": "PSNR", "link": "https://stackoverflow.com/users/3624650/psnr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469046587, "creation_date": 1469046587, "question_id": 38490286, "link": "https://stackoverflow.com/questions/38490286/read-txt-file-using-pandas-space-delimiter-and-column-position", "title": "Read txt file using Pandas: space delimiter and column position", "body": "<p>Here is a subset of the txt file I am trying to read into a pandas DataFrame:</p>\n\n<pre><code>ACW00011604  17.1167  -61.7833   10.1    ST JOHNS COOLIDGE FLD                       \nACW00011647  17.1333  -61.7833   19.2    ST JOHNS                                    \nAE000041196  25.3330   55.5170   34.0    SHARJAH INTER. AIRP            GSN     41196\nAEM00041194  25.2550   55.3640   10.4    DUBAI INTL                             41194\nAEM00041217  24.4330   54.6510   26.8    ABU DHABI INTL                         41217\n</code></pre>\n\n<p>As you can tell it uses space as the delimiter, and also has missing values and various length for each field. The schema is like this:</p>\n\n<pre><code>Variable   Columns   Type\n\nID            1-11   Character\nLATITUDE     13-20   Real\nLONGITUDE    22-30   Real\nELEVATION    32-37   Real\nSTATE        39-40   Character\nNAME         42-71   Character\nGSN FLAG     73-75   Character\nHCN/CRN FLAG 77-79   Character\nWMO ID       81-85   Character\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"}, {"tags": ["python", "scikit-learn", "linear-discriminant"], "comments": [{"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 0, "creation_date": 1469137139, "post_id": 38490269, "comment_id": 64426569, "body": "Is there a reason for the first y to have a shape like this: <code>Y shape (395,)</code>?"}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 0, "creation_date": 1469193839, "post_id": 38490269, "comment_id": 64449284, "body": "It is generated from <code>pandas</code> object and appears this way. I don&#39;t know why, this is precondition. Anyway I eliminate this property by <code>reshape</code>."}, {"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 0, "creation_date": 1469195193, "post_id": 38490269, "comment_id": 64450200, "body": "There might be something wrong with that. Have you tried to print its elements just to make sure everything is fine with that array?"}, {"owner": {"reputation": 250, "user_id": 5631237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cfc9f2e1634310425d56eefd27ce654f?s=128&d=identicon&r=PG&f=1", "display_name": "romeasy", "link": "https://stackoverflow.com/users/5631237/romeasy"}, "edited": false, "score": 0, "creation_date": 1486730212, "post_id": 38490269, "comment_id": 71484120, "body": "I experience the same error but I also get a warning <code>Variables are collinear</code>, ie the <i>within-scatter</i> matrix does not have full rank. Maybe, its coming from there."}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1472905477, "creation_date": 1469046536, "question_id": 38490269, "link": "https://stackoverflow.com/questions/38490269/why-do-lda-returns-only-1-column-in-sklearn-python", "title": "Why do LDA returns only 1 column in sklearn/Python?", "body": "<p>The following code</p>\n\n<pre><code>print \"X type\", type(X_all2)\nprint \"X shape\", np.shape(X_all2)\n\nprint \"Y type\", type(y_all2)\nprint \"Y shape\", np.shape(y_all2)\n\ny_all2 = np.reshape(y_all2, (395, 1))\n\nprint \"Y type\", type(y_all2)\nprint \"Y shape\", np.shape(y_all2)\n\nfrom sklearn.discriminant_analysis import LinearDiscriminantAnalysis\nlda = LinearDiscriminantAnalysis(n_components=2)\nX_r = lda.fit(X_all2, y_all2).transform(X_all2)\n\nprint \"R type\", type(X_r)\nprint \"R shape\", np.shape(X_r)\n</code></pre>\n\n<p>Returns following:</p>\n\n<pre><code>X type &lt;type 'numpy.ndarray'&gt;\nX shape (395, 48)\nY type &lt;type 'numpy.ndarray'&gt;\nY shape (395,)\nY type &lt;type 'numpy.ndarray'&gt;\nY shape (395, 1)\nR type &lt;type 'numpy.ndarray'&gt;\nR shape (395, 1)\n</code></pre>\n\n<p>I.e. <code>lda.fit()</code> returns 1 column despite it is said <code>n_components=2</code>.</p>\n\n<p>Why and how to force to return 2 columns?</p>\n\n<p>Doc is here: <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.discriminant_analysis.LinearDiscriminantAnalysis.html#sklearn.discriminant_analysis.LinearDiscriminantAnalysis\" rel=\"nofollow\">http://scikit-learn.org/stable/modules/generated/sklearn.discriminant_analysis.LinearDiscriminantAnalysis.html#sklearn.discriminant_analysis.LinearDiscriminantAnalysis</a></p>\n"}, {"tags": ["python", "database", "jdbc", "jaydebeapi"], "comments": [{"owner": {"reputation": 721, "user_id": 6301014, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nx0QBGL0WTI/AAAAAAAAAAI/AAAAAAAAAGA/mtSKFZ6euxg/photo.jpg?sz=128", "display_name": "Jerod Johnson", "link": "https://stackoverflow.com/users/6301014/jerod-johnson"}, "edited": false, "score": 0, "creation_date": 1469109249, "post_id": 38490233, "comment_id": 64410652, "body": "Just to clarify, JDBC is an API/standard, not a database. It looks like you&#39;re connecting to a MS SQL Server instance, in which case you should be able to use pymssql or an appropriate ODBC driver through pyodbc. Regardless, it would help if you clarified what errors or behavior you are seeing when you try <code>jaydebeapi.connect(...)</code>."}, {"owner": {"reputation": 189, "user_id": 6615001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hs1IO.jpg?s=128&g=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/6615001/hobbes"}, "reply_to_user": {"reputation": 721, "user_id": 6301014, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nx0QBGL0WTI/AAAAAAAAAAI/AAAAAAAAAGA/mtSKFZ6euxg/photo.jpg?sz=128", "display_name": "Jerod Johnson", "link": "https://stackoverflow.com/users/6301014/jerod-johnson"}, "edited": false, "score": 0, "creation_date": 1469112661, "post_id": 38490233, "comment_id": 64413107, "body": "Hmm, so maybe MATLAB uses JDBC because it is java based?  If I try using pymssql, I get this error message:  login failed, DB-Lib error message 20018, severity 14:\\nGeneral SQL Server error: Check messages from the SQL Server\\nDB-Lib error message 20002, severity 9:\\nAdaptive Server connection failed (DB:1433)\\n&quot;)"}, {"owner": {"reputation": 189, "user_id": 6615001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hs1IO.jpg?s=128&g=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/6615001/hobbes"}, "reply_to_user": {"reputation": 721, "user_id": 6301014, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nx0QBGL0WTI/AAAAAAAAAAI/AAAAAAAAAGA/mtSKFZ6euxg/photo.jpg?sz=128", "display_name": "Jerod Johnson", "link": "https://stackoverflow.com/users/6301014/jerod-johnson"}, "edited": false, "score": 0, "creation_date": 1469120918, "post_id": 38490233, "comment_id": 64418320, "body": "@Jerod, thanks for pointing me in the right direction.  I posted my solution."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 6615001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hs1IO.jpg?s=128&g=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/6615001/hobbes"}, "is_accepted": true, "score": 1, "last_activity_date": 1469119892, "creation_date": 1469119892, "answer_id": 38510073, "question_id": 38490233, "link": "https://stackoverflow.com/questions/38490233/connecting-to-a-jdbc-database-in-python-vs-matlab/38510073#38510073", "title": "Connecting to a JDBC database in Python vs. MATLAB", "body": "<p>I think that MATLAB requires the jdbc driver because of Java, but it is unnecessary in Python.  My solution is using pyodbc:</p>\n\n<pre><code>conn = pyodbc.connect(driver='{SQL Server}', host=Server,     database=DB,\n                  trusted_connection='yes', Username ='', Password='', readonly = True)\n</code></pre>\n\n<p>It doesn't look like pymssql can pass a ReadOnly argument, which is why I use pyodbc.</p>\n"}], "owner": {"reputation": 189, "user_id": 6615001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hs1IO.jpg?s=128&g=1", "display_name": "Hobbes", "link": "https://stackoverflow.com/users/6615001/hobbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2306, "favorite_count": 0, "accepted_answer_id": 38510073, "answer_count": 1, "score": 2, "last_activity_date": 1469119892, "creation_date": 1469046378, "question_id": 38490233, "link": "https://stackoverflow.com/questions/38490233/connecting-to-a-jdbc-database-in-python-vs-matlab", "title": "Connecting to a JDBC database in Python vs. MATLAB", "body": "<p>I am trying to connect to a SQL database in Python, but I am have difficult finding documentation/examples of connecting to a JDBC.  I can do this in MATLAB using the following code:</p>\n\n<pre><code>`Name = 'ServerName';\nUsername = '';\nPassword = '';\nServer = ['jdbc:sqlserver://ServerName:1433;'...\n    'database=DB;',...\n    'applicationIntent=ReadOnly;',...\n    'integratedSecurity=true;'];\nConnection = database('DB',Username , Password,...\n    'com.microsoft.sqlserver.jdbc.SQLServerDriver', Server );`\n</code></pre>\n\n<p>I would like to do this in Python.  Because of the JDBC, I don't think I can use pymssql or pyodbc (I have tried).  I have tried, and failed, using the following:</p>\n\n<pre><code>`import jaydebeapi\nconn = jaydebeapi.connect('com.microsoft.sqlserver.jdbc.SQLServerDriver', \n    [Server , Username,Password])`\n</code></pre>\n\n<p>Any help in implementing this in Python would be great, thanks!</p>\n"}, {"tags": ["python", "csv", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1469046598, "post_id": 38490183, "comment_id": 64382183, "body": "How are you examining the CSV file? Also, what OS are you using? Are you using Python2 or Python3?"}, {"owner": {"reputation": 565, "user_id": 2272156, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5d551835c9838f5ea6a7c88a22225ec4?s=128&d=identicon&r=PG", "display_name": "Piyush", "link": "https://stackoverflow.com/users/2272156/piyush"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1469047222, "post_id": 38490183, "comment_id": 64382514, "body": "Using Python 3. Mac OS. Opening the CSV with Excel"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1469048372, "post_id": 38490183, "comment_id": 64383109, "body": "Related: <a href=\"http://stackoverflow.com/questions/6588068/which-encoding-opens-csv-files-correctly-with-excel-on-both-mac-and-windows\" title=\"which encoding opens csv files correctly with excel on both mac and windows\">stackoverflow.com/questions/6588068/&hellip;</a>"}, {"owner": {"reputation": 565, "user_id": 2272156, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5d551835c9838f5ea6a7c88a22225ec4?s=128&d=identicon&r=PG", "display_name": "Piyush", "link": "https://stackoverflow.com/users/2272156/piyush"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1469082038, "post_id": 38490183, "comment_id": 64392787, "body": "@Rob\u1d69 : Ahh seems like the issue with encoding in CSV and not related to some problem with the code. Opening the file with TextEdit seems to solve the problem. I anyways need the csv as a datastore for some text analysis..so I think it should be fine as it is."}], "owner": {"reputation": 565, "user_id": 2272156, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5d551835c9838f5ea6a7c88a22225ec4?s=128&d=identicon&r=PG", "display_name": "Piyush", "link": "https://stackoverflow.com/users/2272156/piyush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469046167, "creation_date": 1469046167, "question_id": 38490183, "link": "https://stackoverflow.com/questions/38490183/downloading-tweets-to-csv-replaces-non-alphanumeric-characters-with-weird-unicod", "title": "Downloading tweets to csv replaces non-alphanumeric characters with weird unicodes", "body": "<p>I am downloading all the tweets sent to a user into a csv      </p>\n\n<pre><code>auth = tweepy.OAuthHandler(cons_tok, cons_sec)\nauth.set_access_token(app_tok, app_sec)\ntwitter_api = tweepy.API(auth,retry_delay=5,retry_errors=set([401, 404, 500, 503]),\n         wait_on_rate_limit=True )\n\n#Open CSV\nmyfile = open('teststream.csv', 'w')\nwr = csv.writer(myfile, quoting=csv.QUOTE_ALL)\n\n#Search for tweets sent to a particular user\nsearch_results = tweepy.Cursor(twitter_api.search, q=\"@iamsrk\").items(5)\ntry:\n    for results in search_results:\n        print(results.text)\n        item = (results.text).encode('utf-8').strip()\n        wr.writerow([item])\n</code></pre>\n\n<p>The problem is that the csv contains some weird characters and I am not sure how to fix it.</p>\n\n<p>For the tweet:</p>\n\n<pre><code>.@iamsrk\u2019s breakout film #Baazigar also had this soothing romantic track\n</code></pre>\n\n<p>The data saved in CSV is this:</p>\n\n<pre><code>RT @RadioMirchi: .@iamsrk\u00e2\u20ac\u2122s breakout film #Baazigar also had this soothing romantic track \u00e2\u20ac\u00a6\n</code></pre>\n\n<p>Here as you can see <code>'</code> is getting replaced by <code>\u00e2\u20ac\u2122s</code></p>\n\n<p>I have seen some more weird replacements for other non-alphanumerical characters. How can I fix this?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": false, "score": 4, "last_activity_date": 1469046262, "creation_date": 1469046262, "answer_id": 38490208, "question_id": 38490144, "link": "https://stackoverflow.com/questions/38490144/pandas-interpreting-datetime-wrong/38490208#38490208", "title": "Pandas interpreting datetime wrong", "body": "<p>Use the dayfirst parameter:</p>\n\n<pre><code>pd.to_datetime(df[col], dayfirst=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "is_accepted": false, "score": 0, "last_activity_date": 1469046275, "creation_date": 1469046275, "answer_id": 38490209, "question_id": 38490144, "link": "https://stackoverflow.com/questions/38490144/pandas-interpreting-datetime-wrong/38490209#38490209", "title": "Pandas interpreting datetime wrong", "body": "<p>Use the <code>dayfirst</code> parameter.</p>\n\n<pre><code>In [42]: pd.to_datetime('9/6/16 8:58:1', dayfirst=True)\nOut[42]: Timestamp('2016-06-09 08:58:01')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1469046747, "last_edit_date": 1469046747, "creation_date": 1469046294, "answer_id": 38490214, "question_id": 38490144, "link": "https://stackoverflow.com/questions/38490144/pandas-interpreting-datetime-wrong/38490214#38490214", "title": "Pandas interpreting datetime wrong", "body": "<p>Using the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"nofollow\"><code>to_datetime</code> function</a>.</p>\n\n<pre><code>pd.to_datetime(df.iloc[:, 1], format='%d/%m/%y %H:%M:%S')\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 6092721, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/rGp52.jpg?s=128&g=1", "display_name": "Christopher Turnbull", "link": "https://stackoverflow.com/users/6092721/christopher-turnbull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1469046747, "creation_date": 1469046041, "question_id": 38490144, "link": "https://stackoverflow.com/questions/38490144/pandas-interpreting-datetime-wrong", "title": "Pandas interpreting datetime wrong", "body": "<p>This probably has a quick answer and I'm being silly, but after one hour of struggling and 3 cups of coffee...</p>\n\n<p>I have this (not very well formatted) time series which is indexing some readings, here's part of it:</p>\n\n<pre><code>71670       9/6/16 8:58:1\n71671       9/6/16 8:59:1\n71672        9/6/16 9:0:1\n71673        9/6/16 9:1:1\n71674        9/6/16 9:2:1\n71675        9/6/16 9:3:1\n71676        9/6/16 9:4:1\n71677        9/6/16 9:5:1\n71678        9/6/16 9:6:1\n71679        9/6/16 9:7:1\n71680        9/6/16 9:8:1\n71681        9/6/16 9:9:1\n71682       9/6/16 9:10:1\n71683       9/6/16 9:11:1\n</code></pre>\n\n<p>Now this is actually the <strong>9th of June</strong> but when I call pd.to_datetime it interprets this as the 6th of September. How do I tell it what I mean?</p>\n"}, {"tags": ["python", "python-3.x", "parsing", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1469055921, "post_id": 38490142, "comment_id": 64385835, "body": "Try using python csv reader to read this file."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1469058466, "post_id": 38490142, "comment_id": 64386499, "body": "@Merlin Using <code>pandas.read_csv()</code> results in the same error"}, {"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1469058765, "post_id": 38490142, "comment_id": 64386548, "body": "<a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/csv.html</a>  This not pandas read_csv."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1469064771, "post_id": 38490142, "comment_id": 64387878, "body": "@Merlin How does one use <code>csv.reader()</code> to import into a pandas dataframe?"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469051202, "creation_date": 1469046037, "last_edit_date": 1469051202, "question_id": 38490142, "link": "https://stackoverflow.com/questions/38490142/can-i-set-extra-columns-at-pandas-read-table-to-avoid-cparsererror", "title": "Can I set extra columns at pandas read_table() to avoid CParserError?", "body": "<p>I have the following file which I try to import into a pandas dataframe with Python 3.4.5:</p>\n\n<pre><code>filename = \"fname.dat\"\nimport pandas as pd\ndf = pd.read_table(filename)\n</code></pre>\n\n<p>However, due to how the data is formatted (i.e. some rows have 22 columns, others 23), I get the following error:</p>\n\n<pre><code>pandas.parser.CParserError: Error tokenizing data. C error: Expected 22 fields in line 13,  saw 23\n</code></pre>\n\n<p>This problem exists in many lines, so skipping lines a priori doesn't quite make sense to me. One could use the parameter <code>error_bad_lines=False</code>, i.e. </p>\n\n<pre><code>df = pd.read_table(filename, error_bad_lines=False)\n</code></pre>\n\n<p>but this isn't a good solution, as this causes the \"problem rows\" to be skipped. </p>\n\n<p>For <code>fname.dat</code>, this means skipping thousands of lines. </p>\n\n<p>Can't I allocate memory at <code>pandas.read_table()</code> for an empty column which is used if there are 23 columns in a row instead of 22? How does this affect the other rows? </p>\n\n<p>Should I somehow direct pandas to say \"if non-existent, skip\"? </p>\n"}, {"tags": ["python", "qt", "pyqt", "qlistwidget"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469046703, "post_id": 38490220, "comment_id": 64382240, "body": "That doesn&#39;t work. I can&#39;t apply &quot;setEnabled/setDisabled&quot; on a button which is part of the QWizard."}, {"owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "reply_to_user": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469046907, "post_id": 38490220, "comment_id": 64382344, "body": "If you post your code we might be able to help you better"}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469047373, "post_id": 38490220, "comment_id": 64382602, "body": "I don&#39;t think that the entire <code>setupUi</code> function will interest you very much. Basically the only thing that is relevant to the <code>QListWidget</code> is the following line: <code>self.wizard_page_features.registerField(&#39;features*&#39;, self.features_list)</code> which is on the <code>__init__</code> function of the modified Wizard class.  btw: <code>self.wizard_page_features</code> is the <code>QWizardPage</code> with the <code>QListWidget</code> in it, and <code>self.features_list</code> is the <code>QListWidget</code> itself."}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469048152, "post_id": 38490220, "comment_id": 64382999, "body": "This is the addition you suggested (which didn&#39;t work for me): <code>self.features_list.itemActivated.connect(self.enable_button)</code> (on the <code>__init__</code>) and  <code>def enable_button(self):         self.button(self.NextButton).setEnabled(True)</code>"}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469048647, "post_id": 38490220, "comment_id": 64383206, "body": "I think that the problem is that initializePage() sets the currentRow() of the QListWidget to -1, and immediately after the painting of the gui, it becomes 0. Since the values are different - it counts that field as &quot;filled&quot;"}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "edited": false, "score": 0, "creation_date": 1469094512, "post_id": 38490220, "comment_id": 64400914, "body": "Another thing I&#39;ve tried was to promote QListWidget to a modified class. Then define a function which counts the selected items and return int. Then I tried the register the field under the slot of countCheckedItems (which I defined myself). Still didn&#39;t work. I think there might be a problem with PyQt and registerField."}], "tags": [], "owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1469046324, "creation_date": 1469046324, "answer_id": 38490220, "question_id": 38490137, "link": "https://stackoverflow.com/questions/38490137/set-qlistwidgets-items-selection-mandatory/38490220#38490220", "title": "Set QListWidget&#39;s items selection mandatory", "body": "<p>QListWidgets have a signal for when an item is activated (selected). You can connect this signal to a slot that enables the next button.</p>\n\n<p>You can use something like</p>\n\n<pre><code>QListWidget.itemActivated.connect(self.enable_button)\n</code></pre>\n\n<p>and in your <code>enable_button</code> function, you could just enable the button:</p>\n\n<pre><code>next_button.setEnabled(True)\n</code></pre>\n\n<p>This should allow you to do it without redoing any of your QWizardPage stuff</p>\n"}], "owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469046324, "creation_date": 1469046019, "question_id": 38490137, "link": "https://stackoverflow.com/questions/38490137/set-qlistwidgets-items-selection-mandatory", "title": "Set QListWidget&#39;s items selection mandatory", "body": "<p>I have a QWizardPage in which I have a QListWidget. I wish that the next button will only be enabled when at least one item was selected in the QListWidget.\nI tried to use registerField(...) and set it as mandatory, but it didn't seem to do anything.\nI also tried to change the property in the registerField command to (\"selectedItems()\") and then it got stuck on disabled.</p>\n\n<p>I really wouldn't want to create a new modified class for QWizardPage and re-implement isComplete(). Is there any other way?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 6106447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1205e4c7988465db98c0ca24b5d158f5?s=128&d=identicon&r=PG&f=1", "display_name": "Tiya B.", "link": "https://stackoverflow.com/users/6106447/tiya-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1469048296, "last_edit_date": 1469048296, "creation_date": 1469047374, "answer_id": 38490488, "question_id": 38490125, "link": "https://stackoverflow.com/questions/38490125/writing-a-join-in-sqlalchemy-error-sqlalchemy-exc-invalidrequesterror/38490488#38490488", "title": "Writing a join in SQLAlchemy error: sqlalchemy.exc.InvalidRequestError:", "body": "<p>I'm fairly new to SQLAlchemy but I think you need to update your join relationship under the role table to:</p>\n\n<pre><code>user = relationship(\"Candidate\", back_populates=\"role\", order_by=id).\n</code></pre>\n"}], "owner": {"reputation": 2727, "user_id": 986012, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/07059b53ad8cdae7f9955da84756b089?s=128&d=identicon&r=PG", "display_name": "Morgan Allen", "link": "https://stackoverflow.com/users/986012/morgan-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 38490488, "answer_count": 1, "score": 0, "last_activity_date": 1469048296, "creation_date": 1469045968, "last_edit_date": 1469046106, "question_id": 38490125, "link": "https://stackoverflow.com/questions/38490125/writing-a-join-in-sqlalchemy-error-sqlalchemy-exc-invalidrequesterror", "title": "Writing a join in SQLAlchemy error: sqlalchemy.exc.InvalidRequestError:", "body": "<p>This is the first table I created</p>\n\n<pre><code>class Candidate(Base):\n  __tablename__ = 'candidates'\n  id = Column(Integer, primary_key=True)\n  first = Column(String, nullable=False)\n  last = Column(String)\n  title = Column(String)\n  company = Column(String, nullable=False)\n\n\n  def __repr__(self):\n    return \"&lt;Candidate(first='%s', last='%s', title = '%s', company='%s')&gt;\" % (self.first, self.last, self.title, self.company)\n\n## Add user\nmorgan = Candidate(first='john', last='doe', title='some_title', company='some_company')\nsession.add(morgan)\nsession.commit()\n</code></pre>\n\n<p>I got this query to work:</p>\n\n<pre><code>morgan = session.query(Candidate).filter(Candidate.first=='morgan').first()\n</code></pre>\n\n<p>But when I add a second table, it stops working.</p>\n\n<pre><code>class Roles(Base):\n  __tablename__ = 'role'\n  id = Column(Integer, primary_key=True)\n  role = Column(String, nullable=False)\n  user_id = Column(Integer, ForeignKey('candidates.id'))\n\n  user = relationship(\"Candidate\", back_populates=\"role\")\n\n  def __repr__(self):\n    return \"&lt;Roles(role='%s')&gt;\" % (self.role)\n</code></pre>\n\n<p>I'm assuming that I'm doing something wrong with this:</p>\n\n<pre><code>Candidate.role = relationship(\"Roles\", order_by=Roles.id, back_populates='user')\n</code></pre>\n\n<p>Try this search again</p>\n\n<pre><code>morgan = session.query(Candidate).filter(Candidate.first=='morgan').first()\n</code></pre>\n\n<p>And I get this error</p>\n\n<pre><code>sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers.  Original exception was: Mapper 'Mapper|Candidate|candidates' has no property 'role'\n</code></pre>\n"}, {"tags": ["python", "json", "dictionary", "circular-dependency"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1469045764, "post_id": 38490051, "comment_id": 64381736, "body": "How did you get the <i>nested cyclical dictionary</i>?"}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1469046048, "post_id": 38490051, "comment_id": 64381889, "body": "Hmm, I get a <code>ValueError</code> with a cyclical dictionary."}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 0, "last_activity_date": 1469046041, "creation_date": 1469046041, "answer_id": 38490145, "question_id": 38490051, "link": "https://stackoverflow.com/questions/38490051/python-convert-cyclical-dictionary-to-json/38490145#38490145", "title": "Python: Convert Cyclical dictionary to JSON", "body": "<p>Python's json decoder does have a feature to check for cyclical objects - <code>check_circular</code> - which defaults to True. Its behavior is exactly to raise the overflowerro you are seeing.</p>\n\n<p>(In Python 3.5 I get a <code>ValueError</code> with <code>check_circular</code> enabled and a <code>RecursionError</code> with it disabled)</p>\n\n<p>Now, setting it to False certainly won't fix things, since a JSON representation of a cyclical data structure would still be infinite. </p>\n\n<p>The only way is to create a custom JSON encoder and DECODER, and devise a schema for your own decoder to be able to restore any cyclical reference.</p>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 6288059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9d71f6d8af73c9eea6482547096b26?s=128&d=identicon&r=PG&f=1", "display_name": "Fhaab", "link": "https://stackoverflow.com/users/6288059/fhaab"}, "is_accepted": false, "score": 0, "last_activity_date": 1469048050, "creation_date": 1469048050, "answer_id": 38490667, "question_id": 38490051, "link": "https://stackoverflow.com/questions/38490051/python-convert-cyclical-dictionary-to-json/38490667#38490667", "title": "Python: Convert Cyclical dictionary to JSON", "body": "<p>How to make a cyclical dictionary, shortest example I can think of:</p>\n\n<pre><code>&gt;&gt;&gt; foo = { 'bar': None }\n&gt;&gt;&gt; foo['bar'] = foo\n&gt;&gt;&gt; foo\n{'bar': {...}}\n&gt;&gt;&gt; foo['bar']\n{'bar': {...}}\n&gt;&gt;&gt; foo['bar']['bar']\n{'bar': {...}}\n</code></pre>\n\n<p>So the question is what your question is.  Despite the fact Python (at least 2.7, anyway) allows the cyclical reference, what do you want to do with it?  Do you really want the JSON data to be able to support a cycle?  It seems impractical to create your own encoder and decoder - then it's not really JSON, it's not data you can generically pass to others as JSON, a decoder written to standards wouldn't be able to decode it properly.</p>\n\n<p>It seems to make far more sense to find and eliminate the cycles, or somehow self refer without actually self referring in the dictionary, perhaps create some sort of reference class, perhaps, that can find the item in the dictionary you are looking for using a list of keys and indexes (for lists) instead of referring to the object directly?</p>\n\n<p>And then run it through a standard encoder.</p>\n"}], "owner": {"reputation": 1747, "user_id": 2088886, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4254f4feeee792a65ea10391f8a4e74f?s=128&d=identicon&r=PG", "display_name": "David Yang", "link": "https://stackoverflow.com/users/2088886/david-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469048050, "creation_date": 1469045697, "question_id": 38490051, "link": "https://stackoverflow.com/questions/38490051/python-convert-cyclical-dictionary-to-json", "title": "Python: Convert Cyclical dictionary to JSON", "body": "<p>I'm trying to convert a nested cyclical dictionary to JSON. I am getting an overflow error:</p>\n\n<pre><code>In [8]: xx = json.dumps(d)\n---------------------------------------------------------------------------\nOverflowError                             Traceback (most recent call last)\n&lt;ipython-input-8-95e57b3e2ca3&gt; in &lt;module&gt;()\n----&gt; 1 xx = json.dumps(d)\n\nOverflowError: Maximum recursion level reached\n</code></pre>\n\n<p>Not sure why this is happening, but my guess is that it has something to do with my dictionary, and how it's structured.</p>\n"}, {"tags": ["python", "bluetooth-lowenergy", "bluez"], "owner": {"reputation": 35, "user_id": 1959137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12a8fdc48c37ce63fa9a8b7fb5be5863?s=128&d=identicon&r=PG", "display_name": "Stanley Lei", "link": "https://stackoverflow.com/users/1959137/stanley-lei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1469045405, "creation_date": 1469045405, "question_id": 38489952, "link": "https://stackoverflow.com/questions/38489952/failed-to-scan-device-on-ubuntu-with-python-ble-library", "title": "Failed to scan device on Ubuntu with Python BLE library", "body": "<p>I am trying to use Python BLE library to connect my BLE device on both IOS and Ubuntu, now it's working well on IOS, but when it always fails when the same script is executed on Ubuntu when the call \"adapter.start_scan\" is called:</p>\n\n<pre><code>adapter.start_scan()\nFile \"build/bdist.linux-x86_64/egg/Adafruit_BluefruitLE/bluez_dbus/adapter.py\", line 69, in start_scan\nFile \"/usr/lib/python2.7/dist-packages/dbus/proxies.py\", line 145, in __call__\n**keywords)\nFile \"/usr/lib/python2.7/dist-packages/dbus/connection.py\", line 651, in call_blocking\nmessage, timeout)\ndbus.exceptions.DBusException: org.bluez.Error.InProgress: Operation already in progress\n</code></pre>\n\n<p>I searched everywhere, but still can't get solution. Can anyone help me on this?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 4052, "user_id": 5180509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd701362efce86f71d40e1ebe0254462?s=128&d=identicon&r=PG&f=1", "display_name": "JazZ", "link": "https://stackoverflow.com/users/5180509/jazz"}, "edited": false, "score": 0, "creation_date": 1469045573, "post_id": 38489920, "comment_id": 64381626, "body": "Why don&#39;t you call the static file in the html part ?"}], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 6, "last_activity_date": 1469045807, "last_edit_date": 1495540370, "creation_date": 1469045807, "answer_id": 38490081, "question_id": 38489920, "link": "https://stackoverflow.com/questions/38489920/generate-an-image-tag-with-a-django-static-url-in-the-view-instead-of-the-templa/38490081#38490081", "title": "Generate an image tag with a Django static url in the view instead of the template", "body": "<p>You've marked the string, containing a template directive, as safe.  However, templates are rendered in one pass.  When you render that string, that's it, it doesn't go through and then render any directives that were in rendered strings.  You need to <a href=\"https://stackoverflow.com/a/17738606/400617\">generate the static url</a> without using template directives.</p>\n\n<pre><code>from django.contrib.staticfiles.templatetags.staticfiles import static\n\nurl = static('images/deal/deal-brand.png')\nimg = mark_safe('&lt;img src=\"{url}\"&gt;'.format(url=url))\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 5913564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wJLlu.jpg?s=128&g=1", "display_name": "shuboy2014", "link": "https://stackoverflow.com/users/5913564/shuboy2014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "accepted_answer_id": 38490081, "answer_count": 1, "score": 2, "last_activity_date": 1469046315, "creation_date": 1469045284, "last_edit_date": 1469046315, "question_id": 38489920, "link": "https://stackoverflow.com/questions/38489920/generate-an-image-tag-with-a-django-static-url-in-the-view-instead-of-the-templa", "title": "Generate an image tag with a Django static url in the view instead of the template", "body": "<p>I want to generate an image with a static url in a view, then render it in a template.  I use <code>mark_safe</code> so that the HTML won't be escaped.  However, it still doesn't render the image.  How do I generate the image tag in Python?</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.utils.safestring import mark_safe\n\ndef check(request):\n    html = mark_safe('&lt;img src=\"{% static \"brand.png\" %}\" /&gt;')\n    return render(request, \"check.html\", {\"image\": html})\n</code></pre>\n\n<p>Rendering it in a template:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{{ image }}\n</code></pre>\n\n<p>renders the img tag without generating the url:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=\"{% static \"brand.png\" %} /&gt;\n</code></pre>\n"}, {"tags": ["python", "mysql", "csv"], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469045849, "post_id": 38489966, "comment_id": 64381788, "body": "Thanks! Clumsy mistakes, by bad... What about if I want to look through entire 4th column to check if it has data from the 2nd column? And in case it does, I want to add 5rd column with data from the 1st?"}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469047418, "post_id": 38489966, "comment_id": 64382621, "body": "I tried this code, but it says that <code>&#39;maximum recursion depth exceeded\\n(offending frame is two down the stack</code>. Therefore, this code is supposed to check if row[3] == row[1], whereas I need to see if any entry from column[1] is in column[3]"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469047662, "post_id": 38489966, "comment_id": 64382758, "body": "maximum recursion? Do you happen to run it from pyscripter? it happens sometimes. Just quit &amp; relaunch. For the question within a question, please edit your post, as my answer needs some rework (2 passes, 1 to read column 1 entirely, and 1 to check column 3 values)"}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469048786, "post_id": 38489966, "comment_id": 64383273, "body": "No, I am running it from Eric6 IDE for Linux and restarting it seems not to have any effect on it"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469049338, "post_id": 38489966, "comment_id": 64383528, "body": "run it from a standard python executable. No reason why it would fail. Trying to solve your question again now :)"}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469094094, "post_id": 38489966, "comment_id": 64400633, "body": "I will mark your answer as the solution, no worries :) but I still have one more question - I&#39;ve edited your code a little bit. Here is a link for a code - <a href=\"http://www.pastebucket.com/549640\" rel=\"nofollow noreferrer\">pastebucket.com/549640</a> and a link to CSV - <a href=\"http://www.pastebucket.com/549641\" rel=\"nofollow noreferrer\">pastebucket.com/549641</a>. You can see in CSV there are similar names but the are not aligned. So what I need is new ID in col[0] of one name to be copied in col[4] next to the exact name in col[3]"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469102612, "post_id": 38489966, "comment_id": 64406047, "body": "you mean the CSV file you linked to is the input? In that case, please provide an example/sample of the output because I don&#39;t get your explanation."}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469103023, "post_id": 38489966, "comment_id": 64406324, "body": "This is what I am trying to achieve - <a href=\"http://www.pastebucket.com/549715\" rel=\"nofollow noreferrer\">pastebucket.com/549715</a>"}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1469187028, "post_id": 38489966, "comment_id": 64444953, "body": "You are my savior! Thank you!"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1469136090, "last_edit_date": 1469136090, "creation_date": 1469045451, "answer_id": 38489966, "question_id": 38489882, "link": "https://stackoverflow.com/questions/38489882/changing-row-data-in-case-it-doesnt-match-different-row/38489966#38489966", "title": "Changing row data in case it doesn&#39;t match different row", "body": "<p>3 problems here:</p>\n\n<ul>\n<li>first you don't specify the delimiter, I assume it's pipe. csv parser cannot autodetect the delimiter.</li>\n<li>second, you create the reader but scan the raw input file instead,\nwhich explains that when you write the csv back, it creates as many cells as there are letters (iterates over row as <code>string</code> type instead of <code>list</code>)</li>\n<li>third, when you close your handles, you actually don't call <code>close</code> but just access to the method reference. Add <code>()</code> to call the methods (classical mistake, everyone gets caught once in a while)</li>\n</ul>\n\n<p>Here's my fixed version for your \"extended\" question. You need 2 passes, one to read fully column 1 and the other one to check. I use a <code>dict</code> to store values and make a relation between name and ID</p>\n\n<p>My code runs in Python 2.7 only but runs in Python 3.4 provided you comment/uncomment the indicated lines</p>\n\n<pre><code>import csv\n# python 2 only, remove if using python 3:\ninput_handle = open('tbr.csv', \"r\")  # don't use input: reserved kw    \noutput = open('sortedTbr.csv',  \"wb\")\n# uncomment 2 lines below if you're using python 3\n#input_handle = open('tbr.csv', \"r\", newline='')  # don't use input: reserved kw\n#output = open('sortedTbr.csv',  \"w\", newline='')\n\nreader = csv.reader(input_handle,delimiter='\\t')\nwriter = csv.writer(output,delimiter='\\t')\n\ntitle = next(reader) # skip title line\ntitle.append(\"ID2\")  # add column title\n\ndb = dict()\n\ninput_rows = list(reader)  # read file once\ninput_handle.close()   # actually calls close!\n\n# first pass\nfor row in input_rows:\n    db[row[1]] = row[0] # relation: name =&gt; id\n\nwriter.writerow(title)\n\n# second pass\nfor row in input_rows:\n    row.append(db.get(row[3],\"\"))\n\n    writer.writerow(row)\n\noutput.close()\n</code></pre>\n\n<p>I used this as <code>tbr.csv</code> (should be .tsv since separator is TAB)</p>\n\n<pre><code>New ID  name    ID that needs to be changed name\n492 abboui jaouad jordan    438 abboui jaouad jordan\n22  abrazone nelli  536 abrazone nelli\n493 abuladze damirs 736 abuladze damirs\n275 afanasjeva ludmila  472 afanasjeva oksana\n494 afanasjeva oksana   578 afanasjevs viktors\n54  afanasjevs viktors  354 aksinovichs andrejs\n166 aksinovichs andrejs 488 aksinovichs german\n495 aksinovichs german  462 aleksandra \n</code></pre>\n\n<p>got this in output: note: added one column</p>\n\n<pre><code>New ID  name    ID that needs to be changed name    ID2\n492 abboui jaouad jordan    438 abboui jaouad jordan    492\n22  abrazone nelli  536 abrazone nelli  22\n493 abuladze damirs 736 abuladze damirs 493\n275 afanasjeva ludmila  472 afanasjeva oksana   494\n494 afanasjeva oksana   578 afanasjevs viktors  54\n54  afanasjevs viktors  354 aksinovichs andrejs 166\n166 aksinovichs andrejs 488 aksinovichs german  495\n495 aksinovichs german  462 aleksandra \n</code></pre>\n\n<p>I would say it works. Don't hesitate to accept the answer :)</p>\n"}], "owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 38489966, "answer_count": 1, "score": 0, "last_activity_date": 1469136090, "creation_date": 1469045176, "last_edit_date": 1469047964, "question_id": 38489882, "link": "https://stackoverflow.com/questions/38489882/changing-row-data-in-case-it-doesnt-match-different-row", "title": "Changing row data in case it doesn&#39;t match different row", "body": "<p>I ran into an issue while was trying to work with a CSV file. Basically, I have a CSV file which contains names and ID's. Header looks something similar to this:<br></p>\n\n<p>New ID | name | ID that needs to be changed | name |<br></p>\n\n<p>In the column[0], New ID column, there are numbers from 1 to 980. in the column[3], ID that needs to be changed, there are 714.What I really need to accomplish is to create column[4], which will store ID from column[1] in case name in column[1] is to be found in column[3]. I need to come up with a fucntion which will pick 1 name from column[1], scan whole column[3] to see if that name is there and if it is, ID from columnp[0] is copied to column[4]</p>\n\n<p>So far I got this:</p>\n\n<pre><code>import csv\ninput = open('tbr.csv', \"rb\")\noutput = open('sortedTbr.csv',  \"wb\")\nreader = csv.reader(input)\nwriter = csv.writer(output)\n\nfor row in input:\n    writer.writerow(row)\n    print row\n\ninput.close\noutput.close\n</code></pre>\n\n<p>Which doesn't do much. It writes every single letter into a new column in a csv...</p>\n"}, {"tags": ["python", "google-app-engine"], "answers": [{"tags": [], "owner": {"reputation": 10170, "user_id": 1916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487430ca3c1389e98a3c39c3910de8ef?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1916/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1469130259, "creation_date": 1469130259, "answer_id": 38513079, "question_id": 38489813, "link": "https://stackoverflow.com/questions/38489813/how-can-i-stop-app-engine-images-get-serving-url-returning-a-scaled-down-image/38513079#38513079", "title": "How can I stop App Engine images.get_serving_url returning a scaled down image?", "body": "<p>Adding <code>=s0</code> to the end of the URL will return the original size.</p>\n"}], "owner": {"reputation": 1864, "user_id": 714852, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7a5693b13e60de3f332caf538f892da3?s=128&d=identicon&r=PG", "display_name": "user714852", "link": "https://stackoverflow.com/users/714852/user714852"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 38513079, "answer_count": 1, "score": 0, "last_activity_date": 1469130259, "creation_date": 1469044901, "question_id": 38489813, "link": "https://stackoverflow.com/questions/38489813/how-can-i-stop-app-engine-images-get-serving-url-returning-a-scaled-down-image", "title": "How can I stop App Engine images.get_serving_url returning a scaled down image?", "body": "<p>I have just started using google.appengine.api.images.get_serving_url to serve images uploaded to Google Cloud Storage (GCS). Following the <a href=\"https://cloud.google.com/appengine/docs/python/refdocs/google.appengine.api.images\" rel=\"nofollow\">docs</a> I am just calling</p>\n\n<pre><code>url = google.appengine.api.images.get_serving_url(blob_key, secure_url=True)\n</code></pre>\n\n<p>This does successfully return a serving url. However the image size is considerably lower than what's hosted in GCS. I have attempted to add the \"=s1600\" flags to the url (or any other integer, even 32) but that returns a 404.</p>\n\n<p>Is there any way to serve the original size image, rather than a scaled down version or is this an app engine bug?</p>\n"}, {"tags": ["python", "python-3.x", "stdin", "termios"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1469045787, "post_id": 38489809, "comment_id": 64381746, "body": "<code>sys.stdin</code> is the wrong abstraction for this. It&#39;s just a file that contains bytes; any information about what keystrokes <i>produced</i> those bytes is lost. You need to interact directly with the keyboard, which I don&#39;t think is possible using the standard library alone."}, {"owner": {"reputation": 10856, "user_id": 260839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6557bf2e72668e75bc215c882620836?s=128&d=identicon&r=PG", "display_name": "amicitas", "link": "https://stackoverflow.com/users/260839/amicitas"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1469045944, "post_id": 38489809, "comment_id": 64381835, "body": "I guess maybe a more specific question here is why is <code>select.select</code> not properly reporting that <code>sys.stdin</code> is available for reading?"}], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 4537518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5Qyj.jpg?s=128&g=1", "display_name": "Min4Builder", "link": "https://stackoverflow.com/users/4537518/min4builder"}, "is_accepted": true, "score": 1, "last_activity_date": 1485178663, "creation_date": 1485178663, "answer_id": 41807703, "question_id": 38489809, "link": "https://stackoverflow.com/questions/38489809/read-multi-character-keyboard-strokes/41807703#41807703", "title": "Read multi-character keyboard strokes", "body": "<p>When you encounter an <code>\\x1b</code>, wait for the rest of the escape sequence. Then leave a timeout, just in case the user pressed esc alone. Vim does that, as it is the only way to do it.</p>\n"}], "owner": {"reputation": 10856, "user_id": 260839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6557bf2e72668e75bc215c882620836?s=128&d=identicon&r=PG", "display_name": "amicitas", "link": "https://stackoverflow.com/users/260839/amicitas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 41807703, "answer_count": 1, "score": 1, "last_activity_date": 1485178663, "creation_date": 1469044896, "last_edit_date": 1469046509, "question_id": 38489809, "link": "https://stackoverflow.com/questions/38489809/read-multi-character-keyboard-strokes", "title": "Read multi-character keyboard strokes", "body": "<p>I have a script to read and handle keyboard strokes within python.  This works perfectly fine for me for standard keys which send one byte to <code>stdin</code>.  I cannot find a reasonable way to read keystrokes that produce a multi-byte ansi escape code.  What do I need to do to be able to read all available data from stdin?</p>\n\n<p>System: OSX, Python 3.4</p>\n\n<p>Here is my minimal example code:</p>\n\n<pre><code>import sys\nimport termios\nimport select\n\n# Save the terminal settings\nfd = sys.stdin.fileno()\nnew_term = termios.tcgetattr(fd)\nold_term = termios.tcgetattr(fd)\n\n# New terminal setting unbuffered\nnew_term[3] = (new_term[3] &amp; ~termios.ICANON &amp; ~termios.ECHO)\ntermios.tcsetattr(fd, termios.TCSAFLUSH, new_term)\n\nwhile sys.stdin in select.select([sys.stdin], [], [], 10.0)[0]:\n    char = sys.stdin.buffer.read(1)\n    print('User input: {}'.format(char))\n\n    if char == b'q':\n        break\n\ntermios.tcsetattr(fd, termios.TCSAFLUSH, old_term)\n</code></pre>\n\n<p><br /></p>\n\n<h2>Expected/Desired Behavior</h2>\n\n<p>When I start the script and press the right arrow button I would expect the output to be:</p>\n\n<pre><code>b'\\x1b'\nb'['\nb'C'\n</code></pre>\n\n<p>What I actually get is:</p>\n\n<pre><code>b'\\x1b'\n</code></pre>\n\n<p>If I then press any other key, everything else gets read. For example if I now press 'x' I get:</p>\n\n<pre><code>b'['\nb'C'\nb'x'\n</code></pre>\n\n<p>How can I get all three bytes with the initial key press?</p>\n"}, {"tags": ["python", "numpy", "tensorflow", "feature-extraction", "conv-neural-network"], "comments": [{"owner": {"reputation": 61, "user_id": 6558381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891be2959f06588f9ff3540b526d7240?s=128&d=identicon&r=PG&f=1", "display_name": "Emme", "link": "https://stackoverflow.com/users/6558381/emme"}, "edited": false, "score": 0, "creation_date": 1469092993, "post_id": 38489794, "comment_id": 64399904, "body": "I partially solved the second part using <code>features = features.eval(feed_dict={x:[im1]}) where x</code> where x is my placeholder <code>x = tf.placeholder(tf.float32, (None,) + xdim)</code> and <code>xdim = zeros((1, 227,227,3)).astype(float32).shape[1:]</code>"}, {"owner": {"reputation": 2385, "user_id": 1327070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/84Ola.jpg?s=128&g=1", "display_name": "Shan Carter", "link": "https://stackoverflow.com/users/1327070/shan-carter"}, "edited": false, "score": 0, "creation_date": 1469209605, "post_id": 38489794, "comment_id": 64458779, "body": "For saving images from tensors, you can try scikit <a href=\"http://scikit-image.org/docs/dev/api/skimage.io.html#skimage.io.imsave\" rel=\"nofollow noreferrer\">imsave</a>"}, {"owner": {"reputation": 61, "user_id": 6558381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891be2959f06588f9ff3540b526d7240?s=128&d=identicon&r=PG&f=1", "display_name": "Emme", "link": "https://stackoverflow.com/users/6558381/emme"}, "reply_to_user": {"reputation": 2385, "user_id": 1327070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/84Ola.jpg?s=128&g=1", "display_name": "Shan Carter", "link": "https://stackoverflow.com/users/1327070/shan-carter"}, "edited": false, "score": 0, "creation_date": 1469363786, "post_id": 38489794, "comment_id": 64494812, "body": "Thank you, it was very helpuful!"}], "owner": {"reputation": 61, "user_id": 6558381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891be2959f06588f9ff3540b526d7240?s=128&d=identicon&r=PG&f=1", "display_name": "Emme", "link": "https://stackoverflow.com/users/6558381/emme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1393, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469046565, "creation_date": 1469044854, "last_edit_date": 1469046565, "question_id": 38489794, "link": "https://stackoverflow.com/questions/38489794/save-feature-map-from-a-convolutional-layer-as-images-tensorflow", "title": "Save Feature Map from a convolutional layer as Images - Tensorflow", "body": "<p>I would like to save the feature map produced by one of the convolutional layers as png images. I am already able to visualize it on <b>tensorboard</b> but I did not find any way to save them. </p>\n\n<ol>\n<li>There is any way to save the images visualized in tensorboard using <code>tf.image_summary('conv1/features', features)</code>?</li>\n</ol>\n\n<p>I also tried to convert the feature tensor in a NumPy array (using <code>features.eval()</code>) in order to save it using PIL.\nNow, when I use <code>eval()</code> I am getting the following error:</p>\n\n<pre><code>tensorflow.python.framework.errors.InvalidArgumentError: You must feed a value for placeholder tensor 'Placeholder' with dtype float and shape [1,227,227,3]\n</code></pre>\n\n<p>This because it passes the tensors as input to the Graph, but I want just to convert it in a NumPy array. I also tried to reset the graph using <code>tf.reset_default_graph()</code> but this time I get the error:</p>\n\n<pre><code>ValueError: ... the tensor's graph is different from the session's graph.\n</code></pre>\n\n<ol start=\"2\">\n<li>How can I store the feature map (a tensor of shape (256, 13, 13, 1), 256 images 13x13x1) as images on my filesystem?</li>\n</ol>\n"}, {"tags": ["python", "dictionary", "tree"], "answers": [{"comments": [{"owner": {"reputation": 1559, "user_id": 4108461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWEr.jpg?s=128&g=1", "display_name": "grepe", "link": "https://stackoverflow.com/users/4108461/grepe"}, "edited": false, "score": 1, "creation_date": 1469045560, "post_id": 38489875, "comment_id": 64381621, "body": "this is really cool answer! you made me google explanation for this and other similar python built-in functions: <a href=\"http://www.bogotobogo.com/python/python_fncs_map_filter_reduce.php\" rel=\"nofollow noreferrer\">bogotobogo.com/python/python_fncs_map_filter_reduce.php</a>"}, {"owner": {"reputation": 661, "user_id": 5605660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12c6a87d8adcc8de82639e46f017c495?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Gold", "link": "https://stackoverflow.com/users/5605660/amit-gold"}, "edited": false, "score": 0, "creation_date": 1469045579, "post_id": 38489875, "comment_id": 64381627, "body": "Reversed could be changed into <code>[::-1]</code>, maybe?"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 661, "user_id": 5605660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12c6a87d8adcc8de82639e46f017c495?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Gold", "link": "https://stackoverflow.com/users/5605660/amit-gold"}, "edited": false, "score": 2, "creation_date": 1469045618, "post_id": 38489875, "comment_id": 64381653, "body": "@AmitGold There&#39;s no reason to. In fact <code>[::-1]</code> is less efficient because it has to build a new list, while <code>reversed</code> is only an iterator."}, {"owner": {"reputation": 661, "user_id": 5605660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12c6a87d8adcc8de82639e46f017c495?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Gold", "link": "https://stackoverflow.com/users/5605660/amit-gold"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1469045704, "post_id": 38489875, "comment_id": 64381693, "body": "@Bakuriu I don&#39;t actually know how <code>reversed</code> works, but it seems to me that <code>list</code>&#39;s implementation would be more specific to the list itself and thus better than <code>reversed</code> which should handle an arbitary iterable... (I think)"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 661, "user_id": 5605660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12c6a87d8adcc8de82639e46f017c495?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Gold", "link": "https://stackoverflow.com/users/5605660/amit-gold"}, "edited": false, "score": 0, "creation_date": 1469045823, "post_id": 38489875, "comment_id": 64381771, "body": "@AmitGold No, <code>reversed</code> requires a <i>sequence</i> and simply calls <code>__getitem__</code> with the indices starting from the last, but it is lazy and requires only constant space. Using <code>[::-1]</code> will produce a new list which doubles the memory (at least for a while, until the other one is garbage collected)."}, {"owner": {"reputation": 3450, "user_id": 948866, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/51be4b39df7f8f8c5bc66c9767324f3c?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/948866/dave"}, "reply_to_user": {"reputation": 1559, "user_id": 4108461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWEr.jpg?s=128&g=1", "display_name": "grepe", "link": "https://stackoverflow.com/users/4108461/grepe"}, "edited": false, "score": 0, "creation_date": 1469214398, "post_id": 38489875, "comment_id": 64461088, "body": "@grepe - yes, a really cool answer!  Looking at the sequence [42, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;] and the left-to-right triangle diagram in <a href=\"http://www.python-course.eu/lambda.php\" rel=\"nofollow noreferrer\">python-course.eu/lambda.php</a> makes it crystal clear, and leads to a forehead slap &quot;Why didn&#39;t I think of that?&quot;"}], "tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": true, "score": 11, "last_activity_date": 1473844509, "last_edit_date": 1473844509, "creation_date": 1469045145, "answer_id": 38489875, "question_id": 38489772, "link": "https://stackoverflow.com/questions/38489772/is-there-a-pythonic-way-to-process-tree-structured-dict-keys/38489875#38489875", "title": "Is there a pythonic way to process tree-structured dict keys?", "body": "<blockquote>\n  <p>I'm looking for a pythonic idiom to turn a list of keys and a value into a dict with those keys nested.</p>\n</blockquote>\n\n<pre><code>reduce(lambda v, k: {k: v}, reversed(\"a/b/c\".split(\"/\")), 42)\n</code></pre>\n\n<blockquote>\n  <p>This could be used to turn a set of values with hierarchical keys into a tree</p>\n</blockquote>\n\n<pre><code>def hdict(keys, value, sep=\"/\"):\n    return reduce(lambda v, k: {k: v}, reversed(keys.split(sep)), value)\n\ndef merge_dict(trg, src):\n    for k, v in src.items():\n        if k in trg:\n            merge_dict(trg[k], v)\n        else:\n            trg[k] = v\n\ndef hdict_from_dict(src):\n    result = {}\n    for sub_hdict in map(lambda kv: hdict(*kv), src.items()):\n        merge_dict(result, sub_hdict)\n    return result\n\ndata = {\n    \"a/b/c\": 10,\n    \"a/b/d\": 20,\n    \"a/e\": \"foo\",\n    \"a/f\": False,\n    \"g\": 30 }\n\nprint(hdict_from_dict(data))\n</code></pre>\n\n<h3>Another overall solution using <code>collections.defaultdict</code></h3>\n\n<pre><code>import collections\n\ndef recursive_dict():\n    return collections.defaultdict(recursive_dict)\n\ndef dtree(inp):\n    result = recursive_dict()\n    for keys, value in zip(map(lambda s: s.split(\"/\"), inp), inp.values()):\n        reduce(lambda d, k: d[k], keys[:-1], result)[keys[-1]] = value\n    return result\n\nimport json\nprint(json.dumps(dtree({\n    \"a/b/c\": 10,\n    \"a/b/d\": 20,\n    \"a/e\": \"foo\",\n    \"a/f\": False,\n    \"g\": 30 }), indent=4))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469303571, "post_id": 38545579, "comment_id": 64483487, "body": "I had a similar prototype. In the end I disliked piping side-effects through <code>reduce</code> without really utilizing the returned value of the reduction function. Nevertheless, this is not the shortest version possible. You don&#39;t need to copy <code>x</code>. Just modify <code>x</code> and return it as result. It does not matter as you created the hdicts. Further, you can use the list comprehension to already unpack the mapping pair. This way you can pattern match <code>k</code> and <code>y[k]</code> in the reduction function. See <a href=\"https://gist.github.com/mhoff/53be2c14195dbeb424722009da5d730b\" rel=\"nofollow noreferrer\">this gist</a> for the condensed version. :)"}], "tags": [], "owner": {"reputation": 3450, "user_id": 948866, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/51be4b39df7f8f8c5bc66c9767324f3c?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/948866/dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1469301398, "creation_date": 1469301398, "answer_id": 38545579, "question_id": 38489772, "link": "https://stackoverflow.com/questions/38489772/is-there-a-pythonic-way-to-process-tree-structured-dict-keys/38545579#38545579", "title": "Is there a pythonic way to process tree-structured dict keys?", "body": "<p>Or just for grins since <code>reduce</code> is the coolest thing since sliced bread, you could save one SLOC by using it twice :-)</p>\n\n<pre><code>def dmerge(x, y):\n    result = x.copy()\n    k = next(iter(y))\n    if k in x:\n        result[k] = dmerge(x[k], y[k])\n    else:\n        result.update(y)\n    return result\n\ndef hdict(keys, value, sep=\"/\"):\n    return reduce(lambda v, k: {k: v}, reversed(keys.split(sep)), value)\n\ndef hdict_from_dict(src):\n    return reduce(lambda x, y: dmerge(x, y), [hdict(k, v) for k, v in src.items()])\n\ndata = {\n    \"a/b/c\": 10,\n    \"a/b/d\": 20,\n    \"a/e\": \"foo\",\n    \"a/f\": False,\n    \"g\": 30 }\n\nprint(\"flat:\", data)\nprint(\"tree:\", hdict_from_dict(data))\n</code></pre>\n"}], "owner": {"reputation": 3450, "user_id": 948866, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/51be4b39df7f8f8c5bc66c9767324f3c?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/948866/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 2, "accepted_answer_id": 38489875, "answer_count": 2, "score": 8, "last_activity_date": 1473844509, "creation_date": 1469044785, "question_id": 38489772, "link": "https://stackoverflow.com/questions/38489772/is-there-a-pythonic-way-to-process-tree-structured-dict-keys", "title": "Is there a pythonic way to process tree-structured dict keys?", "body": "<p>I'm looking for a pythonic idiom to turn a list of keys and a value into a dict with those keys nested.  For example:</p>\n\n<pre><code>dtree([\"a\", \"b\", \"c\"]) = 42\n    or\ndtree(\"a/b/c\".split(sep='/')) = 42\n</code></pre>\n\n<p>would return the nested dict:</p>\n\n<pre><code>{\"a\": {\"b\": {\"c\": 42}}}\n</code></pre>\n\n<p>This could be used to turn a set of values with hierarchical keys into a tree:</p>\n\n<pre><code>dtree({\n    \"a/b/c\": 10,\n    \"a/b/d\": 20,\n    \"a/e\": \"foo\",\n    \"a/f\": False,\n    \"g\": 30 })\n\nwould result in:\n\n{   \"a\": {\n        \"b\": {\n            \"c\": 10,\n            \"d\": 20 },\n        \"e\": foo\",\n        \"f\": False },\n    \"g\": 30 }\n</code></pre>\n\n<p>I could write some FORTRANish code to do the conversion using brute force and multiple loops and maybe <code>collections.defaultdict</code>, but it seems like a language with splits and joins and slices and comprehensions should have a primitive that turns a list of strings <code>[\"a\",\"b\",\"c\"]</code> into nested dict keys <code>[\"a\"][\"b\"][\"c\"]</code>.  What is the shortest way to do this without using <code>eval</code> on a dict expression string?</p>\n"}, {"tags": ["python", "ssl", "request"], "answers": [{"comments": [{"owner": {"reputation": 4881, "user_id": 313721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/107ecf299f6b6bc92382a5674fd1856b?s=128&d=identicon&r=PG", "display_name": "rlc", "link": "https://stackoverflow.com/users/313721/rlc"}, "edited": false, "score": 2, "creation_date": 1469052252, "post_id": 38490149, "comment_id": 64384704, "body": "Thanks for your answer. How can I update it on my virtual environment? I&#39;m Using a Mac to code, I&#39;ll later on deploy it on Heroku."}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 4881, "user_id": 313721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/107ecf299f6b6bc92382a5674fd1856b?s=128&d=identicon&r=PG", "display_name": "rlc", "link": "https://stackoverflow.com/users/313721/rlc"}, "edited": false, "score": 0, "creation_date": 1469080190, "post_id": 38490149, "comment_id": 64391893, "body": "@rlc: You need to recompile everything. See <a href=\"http://stackoverflow.com/questions/18752409/updating-openssl-in-python-2-7\">Updating openssl in python 2.7</a>"}], "tags": [], "owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1469046061, "creation_date": 1469046061, "answer_id": 38490149, "question_id": 38489767, "link": "https://stackoverflow.com/questions/38489767/ssl-error-on-python-request/38490149#38490149", "title": "SSL Error On Python Request", "body": "<blockquote>\n  <p>msesandbox.cisco.com:8081</p>\n</blockquote>\n\n<p>This server supports only TLS 1.2, i.e. no TLS 1.0 or worse.</p>\n\n<blockquote>\n  <p>'OpenSSL 0.9.8zg 14 July 2015'</p>\n</blockquote>\n\n<p>This OpenSSL version does not support TLS 1.2 yet. You need at least OpenSSL 1.0.1 for this.</p>\n"}], "owner": {"reputation": 4881, "user_id": 313721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/107ecf299f6b6bc92382a5674fd1856b?s=128&d=identicon&r=PG", "display_name": "rlc", "link": "https://stackoverflow.com/users/313721/rlc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6438, "favorite_count": 0, "accepted_answer_id": 38490149, "answer_count": 1, "score": 3, "last_activity_date": 1469046061, "creation_date": 1469044769, "last_edit_date": 1495542877, "question_id": 38489767, "link": "https://stackoverflow.com/questions/38489767/ssl-error-on-python-request", "title": "SSL Error On Python Request", "body": "<p>I'm trying to make a request to an API using Python, but I'm getting an <strong>SSL error</strong>. I've searched it everywhere, but can't seem to find a fix.</p>\n\n<p>This is the versions I have installed on my virtual environment:</p>\n\n<pre><code>Python 2.7.12 (v2.7.12:d33e0cf91556, Jun 26 2016, 12:10:39) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ssl\n&gt;&gt;&gt; ssl.OPENSSL_VERSION\n'OpenSSL 0.9.8zg 14 July 2015'\n</code></pre>\n\n<p>I'm trying to use the code I found on <a href=\"https://lukasa.co.uk/2013/01/Choosing_SSL_Version_In_Requests/\" rel=\"nofollow noreferrer\">this blog</a>:</p>\n\n<pre><code>from requests.adapters import HTTPAdapter\nfrom requests.packages.urllib3.poolmanager import PoolManager\nimport ssl\nimport requests\n\nclass SSLAdapter(HTTPAdapter):\n    '''An HTTPS Transport Adapter that uses an arbitrary SSL version.'''\n    def __init__(self, ssl_version=None, **kwargs):\n        self.ssl_version = ssl_version\n\n        super(SSLAdapter, self).__init__(**kwargs)\n\n    def init_poolmanager(self, connections, maxsize, block=False):\n        self.poolmanager = PoolManager(num_pools=connections,\n                                       maxsize=maxsize,\n                                       block=block,\n                                       ssl_version=self.ssl_version)\n\nif __name__ == '__main__':\n    url = 'https://msesandbox.cisco.com:8081/api/location/v2/clients?sortBy=lastLocatedTime:DESC'\n    s = requests.Session()\n    s.mount(\"https://\", SSLAdapter(ssl.PROTOCOL_SSLv2))\n    response = s.get(url) #line that trigger the mistake.\n    print (response)\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/path/to/file\", line 23, in &lt;module&gt;\n    response = s.get(url)\n  File \"/Users/rafacarv/Environments/python2_7_12_cmx/venv/lib/python2.7/site-packages/requests/sessions.py\", line 487, in get\n    return self.request('GET', url, **kwargs)\n  File \"/Users/rafacarv/Environments/python2_7_12_cmx/venv/lib/python2.7/site-packages/requests/sessions.py\", line 475, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Users/rafacarv/Environments/python2_7_12_cmx/venv/lib/python2.7/site-packages/requests/sessions.py\", line 585, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Users/rafacarv/Environments/python2_7_12_cmx/venv/lib/python2.7/site-packages/requests/adapters.py\", line 477, in send\n    raise SSLError(e, request=request)\nrequests.exceptions.SSLError: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590)\n</code></pre>\n\n<p>I also tried to use the suggestion I found on this other <a href=\"https://stackoverflow.com/questions/25896562/ssl-error-on-python-get-request\">question</a>, which consists of using the <strong>requests_toolbelt</strong> package, but had no luck.</p>\n\n<p><strong>How can I fix this?</strong></p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469116083, "post_id": 38490023, "comment_id": 64415420, "body": "Updated question above with revised code that is not working.  @graham-booth"}], "tags": [], "owner": {"reputation": 153, "user_id": 5179387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1103578346322331/picture?type=large", "display_name": "Graham Booth", "link": "https://stackoverflow.com/users/5179387/graham-booth"}, "is_accepted": false, "score": 2, "last_activity_date": 1469046306, "last_edit_date": 1469046306, "creation_date": 1469045613, "answer_id": 38490023, "question_id": 38489761, "link": "https://stackoverflow.com/questions/38489761/how-can-i-select-only-a-particular-row-in-a-csv-file/38490023#38490023", "title": "How can I select only a particular row in a CSV file?", "body": "<p>the csv library DictReader() object has the ability to display the current line number with:</p>\n\n<pre><code>reader = csv.DictReader(csv_file)\nreader.line_num\n</code></pre>\n\n<p>you could iterate through and do nothing until you reach the correct line number that you need, something like this:</p>\n\n<pre><code>for row in reader:\n    if reader.line_num == row_you_want\n        do something\n</code></pre>\n\n<p>the DictReader class also allows you to have the first row in your CSV file to be title columns, and then you can access them like so:</p>\n\n<pre><code>reader[\"title_of_column1\"]\n</code></pre>\n\n<p>which might save you some work as well, also you should use the python with block when working with files like so:</p>\n\n<pre><code>with open(f, 'rb') as f, open(destination1, 'w') as f1, open(destination3, 'w') as f3, open(destination4, 'w') as f5, open(destination5, 'w') as f5:\n    target_row = int(target_row)\n    try:\n        reader = csv.reader(f)  # creates the reader object\n        for row in itertools.islice(reader,1,1):   # iterates the rows of the file in orders\n            editedby = row[0] # we throw away column 2\n            booktitle = row[2]\n            print row[2]\n            seeds = row[3]\n            imprint = row[4]\n            f1.write(editedby)\n            f3.write(booktitle)\n            f4.write(seeds)\n            f5.write(imprint)\n</code></pre>\n\n<p>This way you don't have to worry about closing them all</p>\n"}, {"comments": [{"owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469117268, "post_id": 38491289, "comment_id": 64416228, "body": "This script generates an error message: <code>builtins.execfile(filename, *where)   File &quot;&#47;home&#47;fred&#47;pagekicker-community&#47;scripts&#47;bin&#47;csv_row_reader.&zwnj;&#8203;py&quot;, line 8     def multi_file_manager(*files, mode=&#39;r&#39;):                                       ^ SyntaxError: invalid syntax </code>  I don&#39;t understand how the mode is defined. It looks as if it&#39;s defined as r in the function but then called as w in the script. Why isn&#39;t it just defined as &#39;mode&#39;?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469120657, "post_id": 38491289, "comment_id": 64418192, "body": "Sorry about that\u2014I modified something I wrote long ago and didn&#39;t test the changes and have updated the code in my answer to address the issue."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469121466, "post_id": 38491289, "comment_id": 64418580, "body": "To answer your question about how mode is defined: You can give arguments default values in the function definition by assigning a value to them using <code>arg=x</code> syntax. So in the case the files will all be opened in read-mode by default. However, when the function is actually called, the default value can be overridden by supplying a different value for it. Conversely, if a function is defined with default arguments, they can left out of calls to it in which case the defaults will be used."}, {"owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469122722, "post_id": 38491289, "comment_id": 64419254, "body": "` builtins.execfile(filename, *where)   File &quot;/home/fred/pagekicker-community/scripts/bin/csv_row_reader.&zwnj;&#8203;py&quot;, line 36, in &lt;module&gt;     with multi_file_manager(destinations, mode=&#39;w&#39;) as files:   File &quot;/usr/lib/python2.7/contextlib.py&quot;, line 17, in <b>enter</b>     return self.gen.next()   File &quot;/home/fred/pagekicker-community/scripts/bin/csv_row_reader.&zwnj;&#8203;py&quot;, line 10, in multi_file_manager     files = [open(file, mode) for file in files] IOError: [Errno 2] No such file or directory: &#39;/csv/row.editedby&#39;`  I don&#39;t get this, the /tmp/pagekicker/123/csv is writable"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469123850, "post_id": 38491289, "comment_id": 64419860, "body": "If the directory exists and there&#39;s no write-permissions issue, it sounds it might be attempting to open the file in read mode (although that shouldn&#39;t be the case)."}, {"owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "edited": false, "score": 0, "creation_date": 1469123883, "post_id": 38491289, "comment_id": 64419885, "body": "<code>destinations = [os.path.join(folder, dest) for dest in (&#39;&#47;csv&#47;row.editedby&#39;,                                                         &#39;&#47;csv&#47;row.booktitle&#39;,                                                         &#39;&#47;csv&#47;row.seeds&#39;,                                                         &#39;&#47;csv&#47;row.imprint&#39;)] print destinations</code> &gt;&gt;&gt; runfile(&#39;/home/fred/pagekicker-community/scripts/bin/csv_row&zwnj;&#8203;_reader.py&#39;, args=&#39;/home/fred/scratch/1001_7.csv 123 2&#39;) [&#39;/csv/row.editedby&#39;, &#39;/csv/row.booktitle&#39;, &#39;/csv/row.seeds&#39;, &#39;/csv/row.imprint&#39;] &gt;&gt;&gt;"}, {"owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1469123919, "post_id": 38491289, "comment_id": 64419911, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/117961/discussion-between-fred-zimmerman-and-martineau\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1469126367, "last_edit_date": 1469126367, "creation_date": 1469050690, "answer_id": 38491289, "question_id": 38489761, "link": "https://stackoverflow.com/questions/38489761/how-can-i-select-only-a-particular-row-in-a-csv-file/38491289#38491289", "title": "How can I select only a particular row in a CSV file?", "body": "<p>Assuming you count rows from 1 (rather than 0), here's a standalone function that will do it:</p>\n\n<pre><code>import csv\nfrom contextlib import contextmanager\nimport sys\nimport itertools\n\n@contextmanager\ndef multi_file_manager(files, mode='r'):\n    \"\"\" Context manager for multiple files. \"\"\"\n    files = [open(file, mode) for file in files]\n    yield files\n    for file in files:\n        file.close()\n\n# This is the standalone function\ndef csv_read_row(filename, n):\n    \"\"\" Read and return nth row of a csv file, counting from 1. \"\"\"\n    with open(filename, 'rb') as f:\n        reader = csv.reader(f)\n        return next(itertools.islice(reader, n-1, n))\n\nif len(sys.argv) != 4:\n    print('usage: utility &lt;csv filename&gt; &lt;uuid&gt; &lt;target row&gt;')\n    sys.exit(1)\n\ntmpdir = \"/tmp/pagekicker\"\nf = sys.argv[1]\nuuid = sys.argv[2]\ntarget_row = int(sys.argv[3])\nfolder = os.path.join(tmpdir, uuid)\n\ndestinations = [folder+dest for dest in ('/csv/row.editedby',\n                                         '/csv/row.booktitle',\n                                         '/csv/row.seeds',\n                                         '/csv/row.imprint')]\n\nwith multi_file_manager(destinations, mode='w') as files:\n    row = csv_read_row(f, target_row)\n    #editedby, booktitle, seeds, imprint = row[0], row[2], row[3], row[4]\n    for i,j in zip(range(4), (0, 2, 3, 4)):\n        files[i].write(row[j]+'\\n')\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 1024200, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4d495e479ed7de5feb00d15a30e99262?s=128&d=identicon&r=PG", "display_name": "Fred Zimmerman", "link": "https://stackoverflow.com/users/1024200/fred-zimmerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469126367, "creation_date": 1469044728, "last_edit_date": 1469116014, "question_id": 38489761, "link": "https://stackoverflow.com/questions/38489761/how-can-i-select-only-a-particular-row-in-a-csv-file", "title": "How can I select only a particular row in a CSV file?", "body": "<p>I have a little program that just needs to read one (and only one) row from a csv file and write the column values to a series of files.  The program has three system arguments: the path to the data file, the job id (uuid), and the target row number, i.e. the row in the csv that I want to parse.  It's not working, how can I fix it?</p>\n\n<pre><code>import csv\nimport sys\nimport itertools\n\nf = sys.argv[1]\nuuid = sys.argv[2]\ntarget_row = sys.argv[3]\ntmpdir=\"/tmp/pagekicker/\"\nfolder = tmpdir+uuid\n\ndestination1 = folder + '/csv/row.editedby'\ndestination3 = folder + '/csv/row.booktitle'\ndestination4 = folder + '/csv/row.seeds'\ndestination5 = folder + '/csv/row.imprint'\nf = open(f, 'rb')\nf1 = open(destination1, 'w')\nf3 = open(destination3, 'w')\nf4 = open(destination4, 'w')\nf5 = open(destination5, 'w')\n\ntarget_row = int(target_row)\ntry:\n    reader = csv.reader(f)  # creates the reader object\n    for row in itertools.islice(reader,1,1):   # iterates the rows of the file in orders\n            editedby = row[0] # we throw away column 2\n            booktitle = row[2]\n            print row[2]\n            seeds = row[3]\n            imprint = row[4]\n            f1.write(editedby)\n            f3.write(booktitle)\n            f4.write(seeds)\n            f5.write(imprint)\n            f.close()      \n            f1.close()\n            f3.close()\n            f4.close()\n            f5.close()\nfinally:\n    print 'done'\n</code></pre>\n\n<p>UPDATE: thanks Graham Bell for his suggested code. There are two \"f5s\" in the first line of his 'with' statement  My code now looks like this:</p>\n\n<p>i</p>\n\n<pre><code>mport csv\nimport sys\nimport itertools\n\nf = sys.argv[1]\nuuid = sys.argv[2]\ntarget_row = sys.argv[3]\ntmpdir=\"/tmp/pagekicker/\"\nfolder = tmpdir+uuid\n# os.mkdir(folder)\n\ndestination3 = folder + '/csv/row.booktitle'\ndestination1 = folder + '/csv/row.editedby'\ndestination4 = folder + '/csv/row.seeds'\ndestination5 = folder + '/csv/row.imprint'\n\nwith open(f, 'rb') as f, open(destination1, 'w') as f1, open(destination3, 'w') as f3, open(destination4, 'w') as f4, open(destination5, 'w') as f5:\n    target_row = int(target_row)\n    try:\n        reader = csv.reader(f)  # creates the reader object\n        for row in itertools.islice(reader,1,1):   # iterates the rows of the file in orders\n            editedby = row[0] # we throw away column 2\n            booktitle = row[2]\n            print row[2]\n            seeds = row[3]\n            imprint = row[4]\n            f1.write(editedby)\n            f3.write(booktitle)\n            f4.write(seeds)\n            f5.write(imprint)\n        except\n            print 'done'\n</code></pre>\n\n<p>Without the except, it generates \"unexpected unindent\" when I run it.  With the except, it says that the except line is invalid syntax.</p>\n"}, {"tags": ["python", "terminal"], "comments": [{"owner": {"reputation": 4052, "user_id": 5180509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd701362efce86f71d40e1ebe0254462?s=128&d=identicon&r=PG&f=1", "display_name": "JazZ", "link": "https://stackoverflow.com/users/5180509/jazz"}, "edited": false, "score": 0, "creation_date": 1469044842, "post_id": 38489755, "comment_id": 64381238, "body": "Have a look here : <a href=\"http://stackoverflow.com/questions/6469655/how-can-i-spawn-new-shells-to-run-python-scripts-from-a-base-python-script\">how-can-i-spawn-new-shells-to-run-python-scripts-from-a-base&zwnj;&#8203;-python-script</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1887, "user_id": 6510101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GlJwX.png?s=128&g=1", "display_name": "D3181", "link": "https://stackoverflow.com/users/6510101/d3181"}, "reply_to_user": {"reputation": 69, "user_id": 6481286, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4834c6cf8e9969bfcc225e1af803ec72?s=128&d=identicon&r=PG&f=1", "display_name": "Gray Noneya", "link": "https://stackoverflow.com/users/6481286/gray-noneya"}, "edited": false, "score": 0, "creation_date": 1469095595, "post_id": 38493278, "comment_id": 64401635, "body": "Awesome glad it worked! could you consider marking the question as solved if it worked?"}], "tags": [], "owner": {"reputation": 1887, "user_id": 6510101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GlJwX.png?s=128&g=1", "display_name": "D3181", "link": "https://stackoverflow.com/users/6510101/d3181"}, "is_accepted": true, "score": 1, "last_activity_date": 1469063373, "last_edit_date": 1495542756, "creation_date": 1469063373, "answer_id": 38493278, "question_id": 38489755, "link": "https://stackoverflow.com/questions/38489755/python-script-to-type-something-in-terminal/38493278#38493278", "title": "Python script to type something in terminal", "body": "<p>you can try a few ways</p>\n\n<p>such as:</p>\n\n<pre><code>os.system(\"gnome-terminal -e 'bash -c \\\"sudo apt-get update; exec bash\\\"'\")\n</code></pre>\n\n<p>Although on windows i opt for a sub-process, heres an example from stack:</p>\n\n<pre><code>import subprocess as sub\n\nsub.Popen('cmd /K dir')\nsub.Popen(['cmd', '/K', 'dir'])\n</code></pre>\n\n<p>And replace dir with whichever command you wish to use. The /k is used to keep the commandline open and run the command.</p>\n\n<p>here is some other links that answer the question fairly well most of the answers actually being valid, <a href=\"https://stackoverflow.com/questions/22163422/using-python-to-open-a-shell-environment-run-a-command-and-exit-environment\">stackoverflow</a></p>\n"}], "owner": {"reputation": 69, "user_id": 6481286, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4834c6cf8e9969bfcc225e1af803ec72?s=128&d=identicon&r=PG&f=1", "display_name": "Gray Noneya", "link": "https://stackoverflow.com/users/6481286/gray-noneya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4062, "favorite_count": 0, "accepted_answer_id": 38493278, "answer_count": 1, "score": 1, "last_activity_date": 1469063373, "creation_date": 1469044715, "last_edit_date": 1469047200, "question_id": 38489755, "link": "https://stackoverflow.com/questions/38489755/python-script-to-type-something-in-terminal", "title": "Python script to type something in terminal", "body": "<p>I'm trying to make a python script that opens a separate terminal window and immediately enters a command without the user having to type anything.</p>\n\n<p>I use <code>os.system(\"gnome-terminal\")</code> to open the second terminal but I have no clue how to make it go ahead an enter a command. I tried <code>os.system(\"gnome-terminal -e 'python ./example.py'\")</code> but it doesn't even open a second terminal, but while I have <code>os.system(\"gnome-terminal\")</code> it opens one fine.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "list", "compare"], "answers": [{"comments": [{"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1469045005, "post_id": 38489798, "comment_id": 64381318, "body": "@ReutSharabani smells like premature optimization to me :)"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1469045064, "post_id": 38489798, "comment_id": 64381355, "body": "Smells like the right data structure to me, but yeah if it&#39;s some one-off it doesn&#39;t matter."}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1469045065, "post_id": 38489798, "comment_id": 64381357, "body": "@ReutSharabani Also, if you were going to do that, you would want to create the set variable outside of the loop (since set creation is O(N))."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1469045112, "post_id": 38489798, "comment_id": 64381385, "body": "That&#39;s what I was aiming at, I just put the idea out there for you to add it if you want. Had it been that important I&#39;d add my own answer."}], "tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1469045172, "last_edit_date": 1469045172, "creation_date": 1469044867, "answer_id": 38489798, "question_id": 38489754, "link": "https://stackoverflow.com/questions/38489754/culling-certain-numbers-from-a-list/38489798#38489798", "title": "Culling certain numbers from a List", "body": "<p>Use a for loop with a <a href=\"https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops\" rel=\"nofollow\"><code>break</code></a>.</p>\n\n<pre><code>finalList = []\n\nfor sl in aList:\n    for item in sl:\n        if item in bList:\n            finalList.append(item)\n            break\n</code></pre>\n\n<p>To iterate with a single for loop you could use the <a href=\"https://docs.python.org/3.5/library/itertools.html#itertools.chain.from_iterable\" rel=\"nofollow\"><code>itertools</code> module</a></p>\n"}], "owner": {"reputation": 47, "user_id": 6586342, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fe6ad65da7460b1edad5db2b1c4bded2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/6586342/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469045172, "creation_date": 1469044713, "last_edit_date": 1469045056, "question_id": 38489754, "link": "https://stackoverflow.com/questions/38489754/culling-certain-numbers-from-a-list", "title": "Culling certain numbers from a List", "body": "<p>I have a series of variable lists inside a list, and I'm comparing it to another list.  I want, run through each list in aList, analyze each number and as soon its a match in bList, append that number to finalList.  I want to return the first match in other words and ignore future matches.  For Example:</p>\n\n<pre><code>aList = [[0,1],[8,9,4,5],[7,6,3,2]]\nbList = [0,5,1,4]\nfinalList = [0,4]\n</code></pre>\n"}, {"tags": ["python", "html", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 2954187, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27e9edd22ce0533aa62e399b96df4796?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/2954187/george"}, "edited": false, "score": 0, "creation_date": 1469046229, "post_id": 38490138, "comment_id": 64381975, "body": "Thanks, I&#39;ll look into those, although I&#39;ve had some other issues with the <code>html.parser</code> before at least."}], "tags": [], "owner": {"reputation": 597, "user_id": 5377941, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EvOvOfKnC3I/AAAAAAAAAAI/AAAAAAAAASQ/HSDFwpKVTHY/photo.jpg?sz=128", "display_name": "Greg", "link": "https://stackoverflow.com/users/5377941/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1469046340, "last_edit_date": 1469046340, "creation_date": 1469046025, "answer_id": 38490138, "question_id": 38489674, "link": "https://stackoverflow.com/questions/38489674/beautifulsoup-lxml-parser-closing-tags-where-it-shouldnt-be/38490138#38490138", "title": "BeautifulSoup lxml parser closing tags where it shouldn&#39;t be", "body": "<p>This is because you can't have a <code>&lt;p&gt;</code> tag inside of a <code>&lt;b&gt;</code> tag, so the parser is trying to fix broken HTML. Using html5lib's <code>html5lib</code> parser or Python's <code>html.parser</code> will result in your expected output (I only know this because I just tested it).</p>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 2954187, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27e9edd22ce0533aa62e399b96df4796?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/2954187/george"}, "edited": false, "score": 0, "creation_date": 1469046199, "post_id": 38490179, "comment_id": 64381962, "body": "Thanks, although this is a file that I&#39;m scraping, so I&#39;d like to be able to handle this case since I don&#39;t really have control over what the document will look like."}, {"owner": {"reputation": 1703, "user_id": 2741678, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f0320b8f7573138ce60164ff939734e?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2741678/sumit"}, "reply_to_user": {"reputation": 1273, "user_id": 2954187, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27e9edd22ce0533aa62e399b96df4796?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/2954187/george"}, "edited": false, "score": 0, "creation_date": 1469046561, "post_id": 38490179, "comment_id": 64382158, "body": "@George: In that case, <code>html5lib</code> seems like your best bet, according to <a href=\"http://stackoverflow.com/a/23394822/2741678\">this answer</a>. It does work as expected for your case."}], "tags": [], "owner": {"reputation": 1703, "user_id": 2741678, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f0320b8f7573138ce60164ff939734e?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2741678/sumit"}, "is_accepted": false, "score": 2, "last_activity_date": 1469046150, "creation_date": 1469046150, "answer_id": 38490179, "question_id": 38489674, "link": "https://stackoverflow.com/questions/38489674/beautifulsoup-lxml-parser-closing-tags-where-it-shouldnt-be/38490179#38490179", "title": "BeautifulSoup lxml parser closing tags where it shouldn&#39;t be", "body": "<p>That's because paragraphs are not allowed inside the <code>&lt;b&gt;</code> tag.</p>\n\n<p>Only tags that accept flow content are allowed as the parent of <a href=\"https://developer.mozilla.org/en/docs/Web/HTML/Element/p\" rel=\"nofollow\"><code>&lt;p&gt;</code></a> tags. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Flow_content\" rel=\"nofollow\">here</a> for a list.</p>\n\n<p>However, you can do the reverse; <code>&lt;p&gt;</code> is allowed as the parent for <code>&lt;b&gt;</code> tags. In your case, your can change your raw HTML to something like this:</p>\n\n<pre><code>my_html = '''\n&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;\n&lt;b&gt;\nHello, I am some bolded text\n&lt;/b&gt;\n&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n'''\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 2954187, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27e9edd22ce0533aa62e399b96df4796?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/2954187/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 38490138, "answer_count": 2, "score": 1, "last_activity_date": 1469046340, "creation_date": 1469044407, "question_id": 38489674, "link": "https://stackoverflow.com/questions/38489674/beautifulsoup-lxml-parser-closing-tags-where-it-shouldnt-be", "title": "BeautifulSoup lxml parser closing tags where it shouldn&#39;t be", "body": "<p>I'm using BeautifulSoup's lxml parser to parse some html. However, it's not being parsed as it's written. For instance, the following code:</p>\n\n<pre><code>import bs4\n\nmy_html = '''\n&lt;html&gt;\n&lt;body&gt;\n&lt;B&gt;\n&lt;P&gt;\nHello, I am some bolded text\n&lt;/P&gt;\n&lt;/B&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n'''\n\nsoup = bs4.BeautifulSoup(my_html, 'lxml')\nprint soup.prettify()\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>&lt;html&gt;\n &lt;body&gt;\n  &lt;b&gt;\n  &lt;/b&gt;\n  &lt;p&gt;\n   Hello, I am some bolded text\n  &lt;/p&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can see that somehow the <code>&lt;B&gt;</code> tag from <code>my_html</code> gets closed off before the <code>&lt;p&gt;</code> tag in the prettified version, even though it should be closed off after the <code>&lt;/p&gt;</code>. Any ideas about what might be going on? I'm totally baffled.</p>\n"}, {"tags": ["python", "python-2.7", "serialization", "msgpack"], "answers": [{"comments": [{"owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "edited": false, "score": 0, "creation_date": 1616877950, "post_id": 38825561, "comment_id": 118142769, "body": "unpacking a top-level list errors <code>TypeError: unhashable type: &#39;list&#39;</code>"}], "tags": [], "owner": {"reputation": 38146, "user_id": 533399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Pem8D.jpg?s=128&g=1", "display_name": "DhruvPathak", "link": "https://stackoverflow.com/users/533399/dhruvpathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1470648389, "creation_date": 1470648389, "answer_id": 38825561, "question_id": 38489617, "link": "https://stackoverflow.com/questions/38489617/how-to-pack-unpack-tuples-and-list-with-use-msgpack-generic-solution-for-any-ob/38825561#38825561", "title": "How to pack/unpack tuples and list with use msgpack (generic solution for any object)?", "body": "<p>For your objects, you would have to write hooks for   <code>dict</code> as well, this is because your keys <code>Period((2016,7))</code> etc are hashable ( being a tuple ) in the original object, get converted to list which is unhashable.\nFor your custom hooks, you can store the dict as tuples of key-value pairs,\ni.e. <code>{Period((2016, 7)): 112, Period((2016, 8)): 231}</code> should be converted to <code>[(Period((2016, 7)), 112), (Period((2016, 8)), 231)]</code> first.</p>\n\n<p>and convert them to dict while unpacking. That way the unhashable nature of lists will not come into picture.</p>\n"}], "owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1208, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470648389, "creation_date": 1469044202, "question_id": 38489617, "link": "https://stackoverflow.com/questions/38489617/how-to-pack-unpack-tuples-and-list-with-use-msgpack-generic-solution-for-any-ob", "title": "How to pack/unpack tuples and list with use msgpack (generic solution for any object)?", "body": "<p>Here is some problem with pack/unpack tuples. As I know msgpack not distinguish between list and tuple and there is not hook to force list or tuple be ExtType. It generates frustrating problems.</p>\n\n<p>Assume that I want do generic solution for all types of objects not only for Period - it is simple to assume that key should be fixed for Period but it is not want I want to do.</p>\n\n<p>See simple example class with <strong>__hash__</strong> - nothing special:</p>\n\n<pre><code>import msgpack\n\nclass Period(object):\n    def __init__(self, key):\n        self.key = key\n\n    def __hash__(self):\n        return hash(self.key)\n\n    def __eq__(self, other):\n        self.key == self.key\n\ndef encode(o):\n    if type(o) is Period:\n        return msgpack.ExtType(0, msgpack.dumps(o.__dict__))\n\ndef decode_ext(code, data):\n    if code == 0:\n        o = Period.__new__(Period)\n        o.__dict__ = msgpack.loads(data)\n        return o\n\no = {Period((2016, 7)): 112, Period((2016, 8)): 231}\n\nprint o\ns = msgpack.dumps(o, default=encode)\nprint s\no2 = msgpack.loads(s, ext_hook=decode_ext)\nprint o2\n</code></pre>\n\n<p>It generates problem during unpacking which cannot be solved easily I think:</p>\n\n<pre><code>C:\\root\\Python27-64\\python.exe \"C:/Users/Cezary Wagner/PycharmProjects/msgpack_learn/src/02_tuple_wrong_pack.py\"\nTraceback (most recent call last):\n{&lt;__main__.Period object at 0x0000000002941668&gt;: 231, &lt;__main__.Period object at 0x0000000002941AC8&gt;: 112}\n  File \"C:/Users/Cezary Wagner/PycharmProjects/msgpack_learn/src/02_tuple_wrong_pack.py\", line 28, in &lt;module&gt;\n\ufffd\ufffd\n    o2 = msgpack.loads(s, ext_hook=decode_ext)\n \ufffd\ufffdkey\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n  File \"msgpack/_unpacker.pyx\", line 139, in msgpack._unpacker.unpackb (msgpack/_unpacker.cpp:139)\n \ufffd\ufffdkey\ufffd\ufffd\ufffdp\n  File \"C:/Users/Cezary Wagner/PycharmProjects/msgpack_learn/src/02_tuple_wrong_pack.py\", line 8, in __hash__\n    return hash(self.key)\nTypeError: unhashable type: 'list'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Do you have any idea how to reconstruct tuple to tuples and list to lists using msgpack if it possible at all? </p>\n"}, {"tags": ["python", "csv", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "edited": false, "score": 0, "creation_date": 1469089665, "post_id": 38489606, "comment_id": 64397586, "body": "Please provide your code and a nippet of a csv file."}, {"owner": {"reputation": 29, "user_id": 6472490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6lFg.jpg?s=128&g=1", "display_name": "snelltheta", "link": "https://stackoverflow.com/users/6472490/snelltheta"}, "reply_to_user": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "edited": false, "score": 0, "creation_date": 1469215428, "post_id": 38489606, "comment_id": 64461588, "body": "I don&#39;t believe my code would help. I&#39;m looking for suggestions of how to approach it. Perhaps not even using code. I just know that trying to load in huge arrays and trying to animate them is not working well (very slow). Pseudocode of how to do this would be sufficient."}], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 7764171, "user_type": "registered", "profile_image": "https://graph.facebook.com/1398408450182419/picture?type=large", "display_name": "Josh Duzan", "link": "https://stackoverflow.com/users/7764171/josh-duzan"}, "is_accepted": false, "score": 1, "last_activity_date": 1523911898, "creation_date": 1523911898, "answer_id": 49866027, "question_id": 38489606, "link": "https://stackoverflow.com/questions/38489606/animate-data-by-scrolling-in-matplotlib/49866027#49866027", "title": "Animate data by scrolling in Matplotlib", "body": "<p>here is some code from the mat plot lib tutorials.</p>\n\n<pre><code>import numpy as np\nfrom matplotlib.lines import Line2D\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\nimport math\n\n\n\nclass Scope(object):\n    def __init__(self, ax, maxt=2, dt=0.02):\n        self.ax = ax\n        self.dt = dt\n        self.maxt = maxt\n        self.tdata = [0]\n        self.ydata = [0]\n        self.line = Line2D(self.tdata, self.ydata)\n        self.ax.add_line(self.line)\n        self.ax.set_ylim(-.1, 1.1)\n        self.ax.set_xlim(0, self.maxt)\n\n    def update(self, y):\n        lastt = self.tdata[-1]\n        if lastt &gt; self.tdata[0] + self.maxt:  # reset the arrays\n            self.tdata = [self.tdata[-1]]\n            self.ydata = [self.ydata[-1]]\n            self.ax.set_xlim(self.tdata[0], self.tdata[0] + self.maxt)\n            self.ax.figure.canvas.draw()\n\n        t = self.tdata[-1] + self.dt\n        self.tdata.append(t)\n        self.ydata.append(y)\n        self.line.set_data(self.tdata, self.ydata)\n        return self.line,\n\n\ndef emitter(x=0):\n    'return a random value with probability p, else 0'\n\n    while True:\n        if x&lt;361:\n            x = x + 1\n            yield math.sin(math.radians(x))\n        else:\n            x=0\n            x =x + 1\n            yield math.sin(math.radians(x))\n\n# Fixing random state for reproducibility\nnp.random.seed(19680801)\n\n\nfig, ax = plt.subplots()\nscope = Scope(ax)\n\n# pass a generator in \"emitter\" to produce data for the update func\nani = animation.FuncAnimation(fig, scope.update, emitter, interval=10,\n                              blit=True)\n\nplt.show()\n</code></pre>\n\n<p>my suggestion is to build a generator that yields the next data set you want to display every time it is called.  this way you wont need to load the whole file into memory.  more on that <a href=\"https://stackoverflow.com/questions/6475328/read-large-text-files-in-python-line-by-line-without-loading-it-in-to-memory\">here</a>.  replace <code>emitter</code> function with generator that will pull from you file.  disadvantage of this is I don't believe the full array will be available in the plot.</p>\n"}], "owner": {"reputation": 29, "user_id": 6472490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6lFg.jpg?s=128&g=1", "display_name": "snelltheta", "link": "https://stackoverflow.com/users/6472490/snelltheta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1523911898, "creation_date": 1469044163, "last_edit_date": 1469090620, "question_id": 38489606, "link": "https://stackoverflow.com/questions/38489606/animate-data-by-scrolling-in-matplotlib", "title": "Animate data by scrolling in Matplotlib", "body": "<p>I have a large dataset (~30GB) that I want to visualize by looking at it scrolling past. A great example is the top graph in <a href=\"https://www.youtube.com/watch?v=zUfvRVkHWWY\" rel=\"nofollow\">this video.</a>\nMy data is coming from CSV files.</p>\n\n<p>What I have tried so far is importing the massive CSV files into a numpy array and using <code>np.roll()</code> to shift in a new column from the right side (like in the video) repeatedly until I hit the last column of the array (by calling <code>np.roll()</code> in the <code>mpl.animation.FuncAnimation</code> iterations.\nThis takes a large amount of CPU, and a much larger amount of memory.</p>\n\n<p>Any suggestion on how to approach this? I couldn't find very many examples online that could help me with this.</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6566848, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be3c79985dbaf2b628989f66dfa1ae8e?s=128&d=identicon&r=PG&f=1", "display_name": "Devone", "link": "https://stackoverflow.com/users/6566848/devone"}, "edited": false, "score": 0, "creation_date": 1469046026, "post_id": 38489701, "comment_id": 64381874, "body": "in folder.subfolders.all() where does folder come from?"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 135, "user_id": 6566848, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be3c79985dbaf2b628989f66dfa1ae8e?s=128&d=identicon&r=PG&f=1", "display_name": "Devone", "link": "https://stackoverflow.com/users/6566848/devone"}, "edited": false, "score": 0, "creation_date": 1469046074, "post_id": 38489701, "comment_id": 64381908, "body": "Your question reads: <i>That is given a <b>folder</b> list all its subfolder</i>"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 0, "last_activity_date": 1469044503, "creation_date": 1469044503, "answer_id": 38489701, "question_id": 38489593, "link": "https://stackoverflow.com/questions/38489593/recursive-relations-django-queires/38489701#38489701", "title": "recursive relations django queires", "body": "<p>A <em>self-referencing</em> many-to-many field works the same way as a conventional one. Given a <code>folder</code> you can access all subfolders with:</p>\n\n<pre><code>sub_folders = folder.subfolders.all()\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6566848, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be3c79985dbaf2b628989f66dfa1ae8e?s=128&d=identicon&r=PG&f=1", "display_name": "Devone", "link": "https://stackoverflow.com/users/6566848/devone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 38489701, "answer_count": 1, "score": 0, "last_activity_date": 1469044503, "creation_date": 1469044131, "question_id": 38489593, "link": "https://stackoverflow.com/questions/38489593/recursive-relations-django-queires", "title": "recursive relations django queires", "body": "<p>I created a many to many recursive relationship in Django.  How do you query the recursive field subfolder in the code below. That is given a folder list all its subfolder?</p>\n\n<pre><code>class Folder(models.Model):\n\"\"\"Folder Model, can contain many folders and many files\"\"\"\n    name = models.CharField(max_length=64)\n    subfolders = models.ManyToManyField('Folder', blank=True)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1469044228, "post_id": 38489589, "comment_id": 64380899, "body": "Is <a href=\"https://docs.python.org/2/library/os.html#os.chroot\" rel=\"nofollow noreferrer\"><code>os.chroot(path)</code></a> what you&#39;re looking for?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1469044541, "post_id": 38489589, "comment_id": 64381092, "body": "1) You can add <code>fonts</code> to syspath from whatever loads your <code>classes</code> package. 2) Make <code>fonts</code> and <code>classes</code> into sub-packages of your game package, then just do <code>from .. import fonts.blah</code>. 3) Avoid mixing code and data. Why not just put the code into classes?"}, {"owner": {"reputation": 23, "user_id": 1710013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971a22001846751acaee98f2e924f51f?s=128&d=identicon&r=PG", "display_name": "leod", "link": "https://stackoverflow.com/users/1710013/leod"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1469053836, "post_id": 38489589, "comment_id": 64385255, "body": "Sam, it says that it&#39;s not available on Windows, so even if it were a solution I couldn&#39;t use it. Thanks for trying to help though. @MadPhysicist Thanks for the syspath pointer, that worked just fine. To answer 3, I&#39;m just really used to organizing files like this from other projects where it couldn&#39;t be helped. Feels cleaner to me now."}], "answers": [{"comments": [{"owner": {"reputation": 3421, "user_id": 3926735, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cd07f4b7ab3002264309b8dbf5eecfa7?s=128&d=identicon&r=PG", "display_name": "zezollo", "link": "https://stackoverflow.com/users/3926735/zezollo"}, "edited": false, "score": 0, "creation_date": 1469078596, "post_id": 38493301, "comment_id": 64391315, "body": "It works and there are several similar answers on SO. But it is not considered good practice to mess with python path this way (might lead to side effects at some point?). The proper way to solve your case is to make a complete python project structure (including a setup.py), that you can install as developer (i.e. via <code>python setup.py develop</code>), preferably from inside a venv. When this is done, your project&#39;s path belongs to your python path (in your venv) and you won&#39;t have problems to import anything from your project anymore."}], "tags": [], "owner": {"reputation": 23, "user_id": 1710013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971a22001846751acaee98f2e924f51f?s=128&d=identicon&r=PG", "display_name": "leod", "link": "https://stackoverflow.com/users/1710013/leod"}, "is_accepted": false, "score": 0, "last_activity_date": 1469063567, "creation_date": 1469063567, "answer_id": 38493301, "question_id": 38489589, "link": "https://stackoverflow.com/questions/38489589/run-function-in-separate-folder/38493301#38493301", "title": "Run function in separate folder", "body": "<p>Following what Mad Physicist said, editing <code>sys.path</code> to include the project directory works fine, like so:</p>\n\n<pre><code>import sys\nsys.path.append('C:\\\\Path\\\\to\\\\Project\\\\')\nimport fonts\n</code></pre>\n\n<p>Same code works for modules anywhere else by adding their respective paths as well.</p>\n\n<p>Answered this myself so I can mark it as such.</p>\n"}], "owner": {"reputation": 23, "user_id": 1710013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/971a22001846751acaee98f2e924f51f?s=128&d=identicon&r=PG", "display_name": "leod", "link": "https://stackoverflow.com/users/1710013/leod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469063567, "creation_date": 1469044125, "question_id": 38489589, "link": "https://stackoverflow.com/questions/38489589/run-function-in-separate-folder", "title": "Run function in separate folder", "body": "<p>In my project folder I have two directories: <code>classes</code> and <code>fonts</code>.<br>\nThe <code>fonts</code> directory contains my game's fonts' .ttf and related files (like special letter properties and widths). For example my <code>item</code> font has an associated <code>item.ttf</code> file and an <code>item.widths</code> file.</p>\n\n<p>Now I would like to add another file for each font that contains a function related to rendering, so each font may have its own outline style or a glow effect or whatever that would be handled by code in this file.  </p>\n\n<p>Is there a way for me call a function from these files from within the <code>classes</code> folder without having to reorganize my folder structure? Can I call, for example, a function in <code>fonts/item_render.py</code> from within <code>classes/text.py</code>?</p>\n"}, {"tags": ["python", "path", "save", "ioerror"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1469044011, "post_id": 38489418, "comment_id": 64380762, "body": "I note that the full filename is in Unicode, why is that?  Are the directory names in your tests in Unicode too?"}, {"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1469044286, "post_id": 38489418, "comment_id": 64380942, "body": "How are you getting the path names?"}, {"owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "edited": false, "score": 0, "creation_date": 1469044312, "post_id": 38489418, "comment_id": 64380959, "body": "To be honest, I don&#39;t know if the directory names are in Unicode. I pulled the filenames using Tkinter and split names up using os.path, and they don&#39;t specify what they output. Plus, I tried type casting the filename to a string and that didn&#39;t work."}, {"owner": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "edited": false, "score": 0, "creation_date": 1469044514, "post_id": 38489418, "comment_id": 64381078, "body": "If this is an network drive in Windows, you need to map it to a drive letter and use the drive letter in you path. You can&#39;t refer to network locations directly in <code>open()</code>."}, {"owner": {"reputation": 1559, "user_id": 4108461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWEr.jpg?s=128&g=1", "display_name": "grepe", "link": "https://stackoverflow.com/users/4108461/grepe"}, "edited": false, "score": 0, "creation_date": 1469044523, "post_id": 38489418, "comment_id": 64381081, "body": "this is not a solution to your problem, but if you can get rid of the spaces in the path (both directory and file name), your life will be much easier. just a best practice."}, {"owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1469044787, "post_id": 38489418, "comment_id": 64381218, "body": "@cdarke I tested it and yes, my directory path is in Unicode."}, {"owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "reply_to_user": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "edited": false, "score": 0, "creation_date": 1469044805, "post_id": 38489418, "comment_id": 64381225, "body": "@Munir I have the networked mapped to a drive letter, so I wonder why it&#39;s not showing up. I didn&#39;t see that before so thank you. I&#39;m looping through os.walk from a parent directory, but I don&#39;t know why that would give me the actual network location rather than the mapped letter."}, {"owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "reply_to_user": {"reputation": 1559, "user_id": 4108461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWEr.jpg?s=128&g=1", "display_name": "grepe", "link": "https://stackoverflow.com/users/4108461/grepe"}, "edited": false, "score": 0, "creation_date": 1469044927, "post_id": 38489418, "comment_id": 64381289, "body": "@grepe I&#39;m not the one who makes the file or directory names, it&#39;s the grad student I work under, so I don&#39;t really have any authority over that. Thank you though."}, {"owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "reply_to_user": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "edited": false, "score": 0, "creation_date": 1469046838, "post_id": 38489418, "comment_id": 64382318, "body": "@Munir your comment ended up helping me fix the problem. Do you want to write a reply so I can mark it as the correct one and you get credit for it? Otherwise I&#39;ll answer it myself in case other people see this post."}, {"owner": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "edited": false, "score": 0, "creation_date": 1469046956, "post_id": 38489418, "comment_id": 64382365, "body": "Sure...let me write one up in a few minutes."}], "answers": [{"tags": [], "owner": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "is_accepted": true, "score": 0, "last_activity_date": 1469047778, "creation_date": 1469047778, "answer_id": 38490591, "question_id": 38489418, "link": "https://stackoverflow.com/questions/38489418/ioerror-with-python-write-but-the-directory-exists/38490591#38490591", "title": "IOError with Python write but the directory exists", "body": "<p>When using network drives with Windows, the drive has to be mapped to a drive letter. This can be done by right clicking My Computer > Map Network Drive. After that, use the mapped drive letter in the path to <code>open()</code>. </p>\n"}], "owner": {"reputation": 65, "user_id": 4224763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b73461126233237c750eb9cf11bf7880?s=128&d=identicon&r=PG&f=1", "display_name": "vis_Research", "link": "https://stackoverflow.com/users/4224763/vis-research"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 38490591, "answer_count": 1, "score": 0, "last_activity_date": 1469047778, "creation_date": 1469043513, "question_id": 38489418, "link": "https://stackoverflow.com/questions/38489418/ioerror-with-python-write-but-the-directory-exists", "title": "IOError with Python write but the directory exists", "body": "<p>I'm trying to open and write to a file which may or may not exist. I'm have Windows 7 and am using Python. I'm getting an IOError because the file was not found. Here is my code to save my file:</p>\n\n<pre><code>dirBool = os.path.exists(saveDir)\nprint dirBool\nif not dirBool:\n    os.mkdir(saveDir)\n\nif saveDir == os.path.dirname(newFname):\n    print 'They are the same'\nelse:\n    print 'They are not the same'\n\nprint saveDir\nprint newFname\nfileSpace = open(newFname, \"w\")\n</code></pre>\n\n<p>In another part of my code I created newFname with <code>os.path.join(saveDir, fname)</code>, with fname being what you will see below in the output. The output I get is:</p>\n\n<pre><code>True\nThey are the same\n//itsofs04.itap.purdue.edu/bio_mousevision/Data/skissing/WT vs Fragile X/FXS Paper/16.02.9 4 WT 4 FX VEH vs DGX/16.02.9 CC#028849 Group1B ET#387 pre t/Pupilometry Data_1.2\n//itsofs04.itap.purdue.edu/bio_mousevision/Data/skissing/WT vs Fragile X/FXS Paper/16.02.9 4 WT 4 FX VEH vs DGX/16.02.9 CC#028849 Group1B ET#387 pre t/Pupilometry Data_1.2\\010 G-1-G-2-G Drifting 0.0625s Interval_2016-02-09_18-08-04_units_010 Video_pupilometry_1.2_x_y_Area.hdf5\n</code></pre>\n\n<p>I am aware that these are long names but it's required. You can see that the directory both exists, and that it is the same as the directory that the new file will be saved into.\nThe error I get is:</p>\n\n<pre><code>IOError: [Errno 2] No such file or directory: u'//itsofs04.itap.purdue.edu/bio_mousevision/Data/skissing/WT vs Fragile X/FXS Paper/16.02.9 4 WT 4 FX VEH vs DGX/16.02.9 CC#028849 Group1B ET#387 pre t/Pupilometry Data_1.2\\\\010 G-1-G-2-G Drifting 0.0625s Interval_2016-02-09_18-08-04_units_010 Video_pupilometry_1.2_x_y_Area.hdf5'\n</code></pre>\n\n<p>Things I've tried so far:</p>\n\n<ol>\n<li>Change forward slashes to backward slashes</li>\n<li>Change only some of the forward slashes and/or some of the backslashes</li>\n<li>Type cast newFname to str</li>\n<li>Get rid of any files in the directory that come close to what newFname is called.</li>\n</ol>\n\n<p>I can't think of anything else to do, nor why it would be throwing me that error in the first place.</p>\n"}, {"tags": ["python", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 4367, "user_id": 2564557, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a8a59aca2939b63c5c4de6fe60049e8?s=128&d=identicon&r=PG", "display_name": "snrlx", "link": "https://stackoverflow.com/users/2564557/snrlx"}, "edited": false, "score": 15, "creation_date": 1556895953, "post_id": 38489588, "comment_id": 98595776, "body": "You can also just execute <code>navigator.userAgent</code> in the Chrome developer console if you are too lazy to look in the network tab :)"}, {"owner": {"reputation": 1017, "user_id": 3788340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f395b8e76dda8e86df20ae339e7a70b?s=128&d=identicon&r=PG", "display_name": "QtRoS", "link": "https://stackoverflow.com/users/3788340/qtros"}, "edited": false, "score": 0, "creation_date": 1593780494, "post_id": 38489588, "comment_id": 110906327, "body": "Saved my day, thank you! Almost started to deeply investigate related problems with SSL-certificates but it was kind of dummy anti-robot defense."}], "tags": [], "owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "is_accepted": true, "score": 208, "last_activity_date": 1469044111, "creation_date": 1469044111, "answer_id": 38489588, "question_id": 38489386, "link": "https://stackoverflow.com/questions/38489386/python-requests-403-forbidden/38489588#38489588", "title": "Python requests. 403 Forbidden", "body": "<p>It seems the page rejects <code>GET</code> requests that do not identify a <code>User-Agent</code>. I visited the page with a browser (Chrome) and copied the <code>User-Agent</code> header of the <code>GET</code> request (look in the Network tab of the developer tools):</p>\n\n<pre><code>import requests\nurl = 'http://worldagnetwork.com/'\nheaders = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36'}\nresult = requests.get(url, headers=headers)\nprint(result.content.decode())\n\n# &lt;!doctype html&gt;\n# &lt;!--[if lt IE 7 ]&gt;&lt;html class=\"no-js ie ie6\" lang=\"en\"&gt; &lt;![endif]--&gt;\n# &lt;!--[if IE 7 ]&gt;&lt;html class=\"no-js ie ie7\" lang=\"en\"&gt; &lt;![endif]--&gt;\n# &lt;!--[if IE 8 ]&gt;&lt;html class=\"no-js ie ie8\" lang=\"en\"&gt; &lt;![endif]--&gt;\n# &lt;!--[if (gte IE 9)|!(IE)]&gt;&lt;!--&gt;&lt;html class=\"no-js\" lang=\"en\"&gt; &lt;!--&lt;![endif]--&gt;\n# ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 2101117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qfw7v.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/2101117/aleksandar"}, "is_accepted": false, "score": 2, "last_activity_date": 1527334260, "creation_date": 1527334260, "answer_id": 50542288, "question_id": 38489386, "link": "https://stackoverflow.com/questions/38489386/python-requests-403-forbidden/50542288#50542288", "title": "Python requests. 403 Forbidden", "body": "<p>If You are the server's owner/admin, and the accepted solution didn't work for You, then try <a href=\"https://stackoverflow.com/a/30470844/2101117\">disabling CSRF protection (link to an SO answer)</a>. </p>\n\n<p>I am using Spring (Java), so the setup requires You to make a <code>SecurityConfig.java</code> file containing:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure (HttpSecurity http) throws Exception {\n        http.csrf().disable();\n    }\n    // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1775, "user_id": 4764604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qCcfH.jpg?s=128&g=1", "display_name": "Revolucion for Monica", "link": "https://stackoverflow.com/users/4764604/revolucion-for-monica"}, "edited": false, "score": 1, "creation_date": 1604599001, "post_id": 56946001, "comment_id": 114402829, "body": "Thanks for your answer. I didn&#39;t found Headers in Network though"}, {"owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "edited": false, "score": 0, "creation_date": 1605409591, "post_id": 56946001, "comment_id": 114640406, "body": "Go to network, refresh the page so there are requests, select any http request (most of them are), then a new box opens which has headers, you should scroll down that list and you&#39;ll find request headers"}], "tags": [], "owner": {"reputation": 339, "user_id": 8328786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AziIX.jpg?s=128&g=1", "display_name": "Hansimov", "link": "https://stackoverflow.com/users/8328786/hansimov"}, "is_accepted": false, "score": 10, "last_activity_date": 1562651045, "creation_date": 1562651045, "answer_id": 56946001, "question_id": 38489386, "link": "https://stackoverflow.com/questions/38489386/python-requests-403-forbidden/56946001#56946001", "title": "Python requests. 403 Forbidden", "body": "<p>Just add to Alberto's answer:</p>\n\n<p>If you still get a <code>403 Forbidden</code> after adding a <code>user-agent</code>, you may need to add more headers, such as <code>referer</code>:</p>\n\n<pre><code>headers = {\n    'User-Agent': '...',\n    'referer': 'https://...'\n}\n</code></pre>\n\n<p>The headers can be found in the <code>Network &gt; Headers &gt; Request Headers</code> of the Developer Tools. (Press <code>F12</code> to toggle it.)</p>\n"}], "owner": {"reputation": 1069, "user_id": 6615439, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1x0CS.jpg?s=128&g=1", "display_name": "\u0422\u043e\u043b\u043a\u0430\u0447\u0451\u0432 \u0418\u0432\u0430\u043d", "link": "https://stackoverflow.com/users/6615439/%d0%a2%d0%be%d0%bb%d0%ba%d0%b0%d1%87%d1%91%d0%b2-%d0%98%d0%b2%d0%b0%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95886, "favorite_count": 17, "protected_date": 1608361120, "accepted_answer_id": 38489588, "answer_count": 3, "score": 76, "last_activity_date": 1590695932, "creation_date": 1469043406, "last_edit_date": 1516816120, "question_id": 38489386, "link": "https://stackoverflow.com/questions/38489386/python-requests-403-forbidden", "title": "Python requests. 403 Forbidden", "body": "<p>I needed to parse a <a href=\"http://worldagnetwork.com/\" rel=\"noreferrer\">site</a>, but i got an error 403 Forbidden.\nHere is a code:</p>\n\n<pre><code>url = 'http://worldagnetwork.com/'\nresult = requests.get(url)\nprint(result.content.decode())\n</code></pre>\n\n<p>Its output:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;\n&lt;body bgcolor=\"white\"&gt;\n&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;\n&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Please, say what the problem is.</p>\n"}, {"tags": ["python", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "reply_to_user": {"reputation": 1445, "user_id": 2981600, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/29a5ddb44f1b4156fea5db74720026fd?s=128&d=identicon&r=PG", "display_name": "user137717", "link": "https://stackoverflow.com/users/2981600/user137717"}, "edited": false, "score": 0, "creation_date": 1469043194, "post_id": 38489252, "comment_id": 64380308, "body": "@user137717 You&#39;re welcome. You should accept the answer and next time please detail what you have tried."}], "tags": [], "owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "is_accepted": true, "score": 1, "last_activity_date": 1469042933, "creation_date": 1469042933, "answer_id": 38489252, "question_id": 38489160, "link": "https://stackoverflow.com/questions/38489160/unconverted-data-remains-python-strptime/38489252#38489252", "title": "unconverted data remains python strptime", "body": "<p>That works for your example:</p>\n\n<pre><code>import datetime\ns = \"Dec\\xa031 2011\"\ndatetime.datetime.strptime(s, \"%b\\xa0%d %Y\")\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>datetime.datetime(2011, 12, 31, 0, 0)\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 2981600, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/29a5ddb44f1b4156fea5db74720026fd?s=128&d=identicon&r=PG", "display_name": "user137717", "link": "https://stackoverflow.com/users/2981600/user137717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 0, "accepted_answer_id": 38489252, "answer_count": 1, "score": 0, "last_activity_date": 1469042933, "creation_date": 1469042614, "question_id": 38489160, "link": "https://stackoverflow.com/questions/38489160/unconverted-data-remains-python-strptime", "title": "unconverted data remains python strptime", "body": "<p>I am trying to convert strings to datetime in python, but I am getting an error \"unconverted data remains: 11\". The strings I am dealing with have a form like \"Dec\\xa031 2011\". I think the unicode character is causing a problem. I have tried splitting on \\xa0 which gives me ['Dec', '31 2011'], then joining. I have also tried replacing by re with re.sub('\\xa0', '', dateStr). Neither has worked.</p>\n"}, {"tags": ["python", "list-comprehension", "idioms"], "comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 2, "creation_date": 1469042852, "post_id": 38489151, "comment_id": 64380117, "body": "this may be a question better suited to <a href=\"http://codereview.stackexchange.com/\">Code Review</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1469042865, "creation_date": 1469042865, "answer_id": 38489234, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension/38489234#38489234", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>How about with <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow\"><code>str.join</code></a>.</p>\n\n<pre><code>['-'.join(('prefix', a, b)) for a, b in zip('12', 'ab')]\n</code></pre>\n\n<p>As others mentioned, you should use <a href=\"https://docs.python.org/3/library/os.path.html#os.path.join\" rel=\"nofollow\"><code>os.path.join</code></a> for filepaths.</p>\n"}, {"tags": [], "owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "is_accepted": false, "score": 0, "last_activity_date": 1469042932, "creation_date": 1469042932, "answer_id": 38489251, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension/38489251#38489251", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>First one: <code>['prefix-%s-%s' % (a,b) for a in [1, 2] for b in 'ab']</code></p>\n\n<p>The second one could be the same way but you may want to use <code>os.path.join</code> to normalize for Windows:</p>\n\n<pre><code>[os.path.join('home', dir_, file_) for dir_ in ['dir1', 'dir2'] for file_ in ['file1', 'file2']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1628, "user_id": 5648958, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/13475885590ece9efbd475483d279233?s=128&d=identicon&r=PG", "display_name": "frist", "link": "https://stackoverflow.com/users/5648958/frist"}, "is_accepted": false, "score": 3, "last_activity_date": 1469042965, "creation_date": 1469042965, "answer_id": 38489260, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension/38489260#38489260", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>You can use list comprehension, <code>os.path.join</code> function and <code>itertools</code> module:</p>\n\n<pre><code>[os.path.join('home', a, b) for a, b in itertools.product(ddirs, files)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "is_accepted": false, "score": 1, "last_activity_date": 1469042978, "creation_date": 1469042978, "answer_id": 38489263, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension/38489263#38489263", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>You could use cartesian product for lists.</p>\n\n<pre><code>import itertools\nfor element in itertools.product([\"1\", \"2\"], [\"a\", \"b\"]):\n    print element\n\n# Gives\n('1', 'a')\n('1', 'b')\n('2', 'a')\n('2', 'b')\n</code></pre>\n\n<p>Then join them however you want.</p>\n"}, {"comments": [{"owner": {"reputation": 3407, "user_id": 6194839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37573941d7944ae3f83d5547af858b0?s=128&d=identicon&r=PG&f=1", "display_name": "Bryce Drew", "link": "https://stackoverflow.com/users/6194839/bryce-drew"}, "edited": false, "score": 1, "creation_date": 1469043190, "post_id": 38489270, "comment_id": 64380299, "body": "This seems like the most pythonic way to go about it (out of the answers below)."}, {"owner": {"reputation": 2647, "user_id": 776515, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IrXxz.png?s=128&g=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/776515/luis"}, "reply_to_user": {"reputation": 1628, "user_id": 5648958, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/13475885590ece9efbd475483d279233?s=128&d=identicon&r=PG", "display_name": "frist", "link": "https://stackoverflow.com/users/5648958/frist"}, "edited": false, "score": 0, "creation_date": 1469044245, "post_id": 38489270, "comment_id": 64380909, "body": "@frist That was my mistake. I corrected it in the original post."}], "tags": [], "owner": {"reputation": 14401, "user_id": 1730261, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/m57hO.jpg?s=128&g=1", "display_name": "Rushy Panchal", "link": "https://stackoverflow.com/users/1730261/rushy-panchal"}, "is_accepted": true, "score": 3, "last_activity_date": 1469046447, "last_edit_date": 1469046447, "creation_date": 1469042987, "answer_id": 38489270, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension/38489270#38489270", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>For working specifically with file paths, use <code>os.path.join</code>:</p>\n\n<pre><code>dirs = ['dir1', 'dir2']\nfiles = ['file1', 'file2']\n[os.path.join('home', d, f) for d in dirs for f in files]\n</code></pre>\n"}], "owner": {"reputation": 2647, "user_id": 776515, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IrXxz.png?s=128&g=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/776515/luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 38489270, "answer_count": 5, "score": 0, "last_activity_date": 1469046447, "creation_date": 1469042582, "last_edit_date": 1469044221, "question_id": 38489151, "link": "https://stackoverflow.com/questions/38489151/idiomatic-way-to-combine-strings-via-list-comprehension", "title": "Idiomatic way to combine strings via list comprehension", "body": "<p>Can you suggest a better way to combine strings from lists?</p>\n\n<p>Here is an example:</p>\n\n<pre><code>[ 'prefix-' + a + '-' + b for a in [ '1', '2' ]  for b in [ 'a', 'b' ] ]\n</code></pre>\n\n<p>which results in: </p>\n\n<pre><code>['prefix-1-a', 'prefix-1-b', 'prefix-2-a', 'prefix-2-b']\n</code></pre>\n\n<hr>\n\n<p>The actual context is working with files and paths:</p>\n\n<pre><code>dirs = [ 'dir1', 'dir2' ]\nfiles = [ 'file1', 'file2' ]\n[ 'home/' + d + '/' + f for d in dirs  for f in files ]\n</code></pre>\n\n<p>resulting in:</p>\n\n<pre><code>['home/dir1/file1', 'home/dir1/file2', 'home/dir2/file1', 'home/dir2/file2']\n</code></pre>\n"}]