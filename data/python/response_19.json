[{"tags": ["python", "macos", "image-uploading"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432166785, "post_id": 30362315, "comment_id": 48816206, "body": "Is leaving the <code>&#47;</code> off of <code>&#47;Users</code> just a typo, or do you not understand the difference?"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 1, "last_activity_date": 1432167206, "last_edit_date": 1432167206, "creation_date": 1432166873, "answer_id": 30362408, "question_id": 30362315, "link": "https://stackoverflow.com/questions/30362315/mac-python-3-4-4-importing-files-images-tkinter/30362408#30362408", "title": "Mac Python 3.4.4, importing files/images, tkinter", "body": "<p>The path <code>/Users/ramos1992/Desktop/test_image.gif</code>, which a leading slash, is an <em>absolute path</em>: it starts at the top of your hard disk, gets the directory named <code>Users</code> there, then gets the directory named <code>ramos1992</code> there, and so on.</p>\n\n<p>The path <code>Users/ramos1992/Desktop/test_image.gif</code>, without a leading slash, is a <em>relative path</em>: it starts in the current working directory. Which may be, say, <code>/Users/ramos1992/Documents/Python Projects</code>. So, you end up looking in <code>/Users/ramos1992/Documents/Python Projects/Users/ramos1992/Desktop/test_image.gif</code>, and of course there's no such location.</p>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Path_%28computing%29#Absolute_and_relative_paths\" rel=\"nofollow\">absolute and relative paths</a> on Wikipedia for more details.</p>\n\n<hr>\n\n<p><sub>Just in case you (or someone else reading this) was a classic Mac expert back in the old days and is confused: absolute vs. relative paths have almost the exact opposite syntax between classic Mac OS-style paths and modern Mac OS X-style (Unix) paths. The old-style <code>Drive:Folder:Folder:File</code> with no prefix is <code>/Drive/Folder/Folder/File</code>, while the old-style <code>:Folder:File</code> with a prefix is <code>./Folder/File</code>, which is effectively the same as <code>Folder/File</code>, with no prefix.</sub></p>\n"}], "owner": {"reputation": 3, "user_id": 4919168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b14081c83f79261f44f656616315f77?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ramos", "link": "https://stackoverflow.com/users/4919168/rafael-ramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2584, "favorite_count": 0, "accepted_answer_id": 30362408, "answer_count": 1, "score": 0, "last_activity_date": 1432316236, "creation_date": 1432166237, "last_edit_date": 1432316236, "question_id": 30362315, "link": "https://stackoverflow.com/questions/30362315/mac-python-3-4-4-importing-files-images-tkinter", "title": "Mac Python 3.4.4, importing files/images, tkinter", "body": "<p>I am having difficulty displaying an image on a canvas using tkinter. I believe the problem arises from me improperly loading the image. Below is the code that I am trying to make work. The \" file='Users/ramos1992/Desktop/test_image.gif' \" is my attempt at loading an image from my desktop.</p>\n\n<pre><code>from tkinter import *\ntk = Tk()\ncanvas = Canvas(tk, width=400, height=400)\ncanvas.pack()\nmy_image = PhotoImage(file='Users/ramos1992/Desktop/test_image.gif')\ncanvas.create_image(0, 0, anchor=NW, image=my_image)\n\nmainloop()\n</code></pre>\n\n<p>What is the correct method of loading files using a Mac and how can I make the code work?</p>\n"}, {"tags": ["python", "css", "edit", "rules"], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 398146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1P0R.jpg?s=128&g=1", "display_name": "pista329", "link": "https://stackoverflow.com/users/398146/pista329"}, "is_accepted": false, "score": 1, "last_activity_date": 1446818738, "creation_date": 1446818738, "answer_id": 33568605, "question_id": 30362301, "link": "https://stackoverflow.com/questions/30362301/how-do-i-edit-rule-with-cssutils-in-python/33568605#33568605", "title": "How do i edit rule with cssutils in python", "body": "<p>You can edit rule simply by changing <code>rule.style</code> attribute</p>\n\n<pre><code>#!/usr/bin/python\nimport cssutils\n\nstylesheet = cssutils.parseString(style)\n\nfor rule in stylesheet.cssRules:\n    if rule.type == cssutils.css.CSSRule.STYLE_RULE:\n        rule.style.background = \"#abcdef\"\n</code></pre>\n\n<p><code>rule.style</code> is instance of <code>cssutils.css.CSSStyleDeclaration</code> class. More info in <a href=\"https://pythonhosted.org/cssutils/docs/css.html#cssstyledeclaration\" rel=\"nofollow\">cssutils docs</a>.</p>\n"}], "owner": {"reputation": 215, "user_id": 4922196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6CNit.jpg?s=128&g=1", "display_name": "Tristan Vigil", "link": "https://stackoverflow.com/users/4922196/tristan-vigil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 888, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446818738, "creation_date": 1432166106, "question_id": 30362301, "link": "https://stackoverflow.com/questions/30362301/how-do-i-edit-rule-with-cssutils-in-python", "title": "How do i edit rule with cssutils in python", "body": "<p>I have never used cssutils in python. when I print a rule I get the following string, how do I edit the css rule in python? For example if I wanted to change the background color?</p>\n\n<pre><code>&lt;cssutils.css.CSSStyleRule object selectorText='#panel' style='color: #eee;\\nbackground-color: #000;\\nfont-weight: bold;\\nheight: 32px' _namespaces={} at 0x7f9b5d76bd30&gt;\n</code></pre>\n"}, {"tags": ["python", "excel", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1432168199, "post_id": 30362284, "comment_id": 48816557, "body": "Also going to add: this happens also if I have a multiIndexed index and columns, except, the offset is still only one. In short, the output is the exact same, despite the fact that the index now takes up &quot;n&quot; columns rather than 1."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1432169177, "post_id": 30362284, "comment_id": 48816820, "body": "I&#39;ve also tried this with all 3 engines now (XlsxWriter, OpenPyXl, and Xlwt), and the error is the exact same for all 3. Should I submit a bug report?"}], "answers": [{"tags": [], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "is_accepted": true, "score": 0, "last_activity_date": 1432178105, "creation_date": 1432178105, "answer_id": 30363925, "question_id": 30362284, "link": "https://stackoverflow.com/questions/30362284/fixing-exporting-to-excel-with-multiindexing/30363925#30363925", "title": "Fixing Exporting to Excel with MultiIndexing", "body": "<p>So I couldn't find anything in the documentation to address this, but I came up with a temporary fix.</p>\n\n<pre><code>import itertools\n\ndef pseudo_header(df):\n    '''Create a pseudo-header for the dataframe due to indexing\n    issues.\n    '''\n\n    # grab grouped columns\n    columns = df.columns\n    grouped = itertools.groupby(columns, key=lambda x: x[0])\n    grouped = [tuple(v) for k, v in grouped]\n    # grab col/index counters\n    index = DF.get_last_index(df)\n    counter = 0\n    # set rows\n    df.loc[index] = pd.Series(index=columns)\n    df.loc[index+1] = pd.Series(index=columns)\n    for group in grouped:\n        for idx, values in enumerate(group):\n            # grab indexing\n            column = columns[counter]\n            if idx == 0:\n            df.loc[index, column] = values[0]\n            df.loc[index+1, column] = values[1]\n            counter += 1\n</code></pre>\n\n<p>Then, I export with the index and the header off. It works, there's no header formatting, but it's not a bad fix.</p>\n\n<p>Currently, only works for a 2-level header, and I could generalize, but for my needs it's not necessary right now.</p>\n"}], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 30363925, "answer_count": 1, "score": 0, "last_activity_date": 1432194342, "creation_date": 1432165986, "last_edit_date": 1432194342, "question_id": 30362284, "link": "https://stackoverflow.com/questions/30362284/fixing-exporting-to-excel-with-multiindexing", "title": "Fixing Exporting to Excel with MultiIndexing", "body": "<p>So here's my problem so far. My Pandas version is 0.15.2 and I'm working on Python 2.7. I'm trying to export a dataframe with MultiIndexed columns to excel without the vertical index. This fully recapitulates my issue:</p>\n\n<pre><code># imports\n&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; import numpy as np\n# setting columns\n&gt;&gt;&gt; level_one = ['a']*3 + ['b']*3 + ['c']*3\n&gt;&gt;&gt; level_two = ['1', '2', '3']*3\n&gt;&gt;&gt; columns = [np.array(level_one), np.array(level_two)]\n# making the dataframe\n&gt;&gt;&gt; df = pd.DataFrame(index=range(10), columns=columns)\n&gt;&gt;&gt; series = pd.Series({k:k**2 for k in range(10)})\n&gt;&gt;&gt; df[first_col] = series\n&gt;&gt;&gt; first_col = df.columns.tolist()[0]\n&gt;&gt;&gt; df\n     a              b              c          \n     1    2    3    1    2    3    1    2    3\n 0   0  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 1   1  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 2   4  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 3   9  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 4  16  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 5  25  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 6  36  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 7  49  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 8  64  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n 9  81  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n</code></pre>\n\n<p>So, everything works fine so far. Now, when I export to csv, both methods work in terms of data integrity (there is no data shifting relative to the header, although it does repeat each element in level_one).</p>\n\n<pre><code> &gt;&gt;&gt; import os\n &gt;&gt;&gt; path = os.path.join(os.path.expanduser('~'), 'test.csv')\n &gt;&gt;&gt; df.to_csv(path)\n &gt;&gt;&gt; df.to_csv(path, index=False)\n</code></pre>\n\n<p>However, for the ExcelWriter, it does the following:</p>\n\n<pre><code> &gt;&gt;&gt; import os\n &gt;&gt;&gt; path = os.path.join(os.path.expanduser('~'), 'test.xlsx')\n &gt;&gt;&gt; writer = pd.ExcelWriter(path)\n &gt;&gt;&gt; df.to_excel(writer, 'Sheet 1')\n &gt;&gt;&gt; df.to_excel(writer, 'Sheet 2', index=False)\n &gt;&gt;&gt; writer.save()\n</code></pre>\n\n<p><a href=\"http://pastebin.com/ZtMy8xKt\" rel=\"nofollow\">With Index</a></p>\n\n<p><a href=\"http://pastebin.com/5iNviNyW\" rel=\"nofollow\">Index False</a></p>\n\n<p>As you can see, it eliminate the index but not in the column header, leading to a data shift. Is there a fix, or a workaround? In my actual data sets, the actual \"index\" has repetitive elements and spacers, so it's unsuitable to work as an index.</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "pixel"], "comments": [{"owner": {"reputation": 1309, "user_id": 3089271, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e0b91a7c8c3b12362285d9c28bd37987?s=128&d=identicon&r=PG&f=1", "display_name": "Maxqueue", "link": "https://stackoverflow.com/users/3089271/maxqueue"}, "edited": false, "score": 0, "creation_date": 1432165891, "post_id": 30362244, "comment_id": 48816003, "body": "I know that using matlab there is a polyfit function that does what your trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4812591, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/871f5bd7fcf632845f4b0a7ba2ac42a6?s=128&d=identicon&r=PG&f=1", "display_name": "Zswide", "link": "https://stackoverflow.com/users/4812591/zswide"}, "edited": false, "score": 0, "creation_date": 1432262620, "post_id": 30362480, "comment_id": 48864220, "body": "This was tremendously helpful, but can you clarify something for me?  I wasn&#39;t able to plot those graphs without prefacing <code>plot</code> with <code>pyplot.</code>, nowI am able to graph the gaussian distribution, but <code>pyplot.plot(x, polyval(p,x))</code> yields a <code>NameError: name &#39;polyval&#39; is not defined</code>.  what exactly is polyval, and should python know what it is?  When plotting a gaussian curve, I had no trouble with ffunc in the same line `pyplot.plot(x, ffunc(x, *p))"}, {"owner": {"reputation": 855, "user_id": 1427284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/362097d6462c15cd83b0e4b191bddc18?s=128&d=identicon&r=PG", "display_name": "mcwitt", "link": "https://stackoverflow.com/users/1427284/mcwitt"}, "reply_to_user": {"reputation": 175, "user_id": 4812591, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/871f5bd7fcf632845f4b0a7ba2ac42a6?s=128&d=identicon&r=PG&f=1", "display_name": "Zswide", "link": "https://stackoverflow.com/users/4812591/zswide"}, "edited": false, "score": 0, "creation_date": 1432267449, "post_id": 30362480, "comment_id": 48865256, "body": "Sure, <code>polyval</code> is a function in numpy (as are <code>arange</code> and <code>polyfit</code>). Notice that I have at the top the line <code>from pylab import *</code>, which pulls in various useful bits of numpy and matplotlib, giving a MATLAB-like interface which is handy for quick work. A popular alternative is to put <code>import numpy as np</code> and then use <code>np.polyval</code>, etc."}], "tags": [], "owner": {"reputation": 855, "user_id": 1427284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/362097d6462c15cd83b0e4b191bddc18?s=128&d=identicon&r=PG", "display_name": "mcwitt", "link": "https://stackoverflow.com/users/1427284/mcwitt"}, "is_accepted": true, "score": 4, "last_activity_date": 1432168362, "last_edit_date": 1432168362, "creation_date": 1432167381, "answer_id": 30362480, "question_id": 30362244, "link": "https://stackoverflow.com/questions/30362244/python-fit-a-curve-to-a-list-of-integers/30362480#30362480", "title": "Python : fit a curve to a list of integers", "body": "<p>To fit a polynomial, e.g. quadratic, use <code>polyfit</code>:</p>\n\n<pre><code>from pylab import *\n\nx = arange(len(intList))\np = polyfit(x, intList, 2)\na, b, c = p\nx0 = -0.5*b/a # x coordinate of vertex\n\n# plot\nx = arange(len(intList))\nplot(x, intList)\nplot(x, polyval(p, x))\naxvline(x0, color='r', ls='--')\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/IrbOJ.png\" alt=\"quadratic fit\"></p>\n\n<p>To fit a more complicated function, e.g. a Gaussian, you can use <code>curve_fit</code>:</p>\n\n<pre><code>from scipy.optimize import curve_fit\n\n# define function to fit\nffunc = lambda x, a, x0, s: a*exp(-0.5*(x-x0)**2/s**2)\n\n# fit with initial guess a=100, x0=5, s=2\np, _ = curve_fit(ffunc, x, intList, p0=[100,5,2])\n\nx0 = p[1] # location of the mean\n\n# plot\nplot(x, intList)\nplot(x, ffunc(x, *p))\naxvline(x0, color='r', ls='--')\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/iHHVQ.png\" alt=\"Gaussian fit\"></p>\n\n<p>(Although to fit a Gaussian you're probably better off directly calculating the mean and variance of the distribution.)</p>\n"}], "owner": {"reputation": 175, "user_id": 4812591, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/871f5bd7fcf632845f4b0a7ba2ac42a6?s=128&d=identicon&r=PG&f=1", "display_name": "Zswide", "link": "https://stackoverflow.com/users/4812591/zswide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2413, "favorite_count": 0, "accepted_answer_id": 30362480, "answer_count": 1, "score": 3, "last_activity_date": 1432168362, "creation_date": 1432165739, "last_edit_date": 1432165975, "question_id": 30362244, "link": "https://stackoverflow.com/questions/30362244/python-fit-a-curve-to-a-list-of-integers", "title": "Python : fit a curve to a list of integers", "body": "<p>I have a list of integers.</p>\n\n<pre><code>intList = [96, 98, 120, 163, 158, 166, 201, 201, 159, 98, 93, 73, 77, 72]\n</code></pre>\n\n<p>These numbers represent the grey values of a strip of 14 pixels, I would like to fit a curve to the distribution and save the x location of the vertex. </p>\n\n<p>For the sake of context: I'm really working with a (<em>much</em> larger) lists of lists, each list containing the grey value of a row of pixel from an image.  For each row of pixels, I would like to plot a curve to the data and append the x-location of the vertex to a growing list.  Each row of pixels will have some noise, but one and only one broad, clear peak of pixel intensity (sample image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/gPSME.png\" alt=\"the image from which I am extracting data\"></p>\n\n<p>I have NumPy, SciPy, matplotlib, and pillow, but I don't know very much about the <em>many</em> functions found within each.  Can anybody point me towards a module or functions that can likely do this?</p>\n"}, {"tags": ["python", "html", "api", "twitter"], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 4655784, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T4j6eZBGWro/AAAAAAAAAAI/AAAAAAAACNo/uyeYamRVpn0/photo.jpg?sz=128", "display_name": "suripoori", "link": "https://stackoverflow.com/users/4655784/suripoori"}, "is_accepted": false, "score": 2, "last_activity_date": 1432168054, "creation_date": 1432168054, "answer_id": 30362574, "question_id": 30362212, "link": "https://stackoverflow.com/questions/30362212/running-twitter-api-streaming-code-python-in-html-page-click-on-button/30362574#30362574", "title": "Running Twitter API Streaming Code (Python) in HTML Page (Click on Button)", "body": "<p>If I understand your question correctly, I think you may be able to use the flask framework and the Jinja template engine to get the data which you need and call the functions which you want to call. Suppose you want a button to call a particular function, you do this:</p>\n\n<p>First install flask and Jinja.</p>\n\n<p>Next, in your main portion of the python code:</p>\n\n<pre><code>from flask import Flask\napp = Flask(__name__)\n</code></pre>\n\n<p>Then you can have a method in your class which does the required actions on a button click:</p>\n\n<pre><code>@app.route(\"/some_operation\", methods=['POST'])\ndef perform_some_operation():\n</code></pre>\n\n<p>Finally, in your html page, you can call perform_some_operation function like this:</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"{{ url_for('perform_some_operation') }}\"&gt;&lt;button type=\"submit\" name=\"submit\" value=\"submit\"&gt;StartSomeOperation&lt;/button&gt;&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4922491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e98509557408b0bed85bd0be87253ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Fadil Amin", "link": "https://stackoverflow.com/users/4922491/fadil-amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432372681, "creation_date": 1432165556, "last_edit_date": 1432372681, "question_id": 30362212, "link": "https://stackoverflow.com/questions/30362212/running-twitter-api-streaming-code-python-in-html-page-click-on-button", "title": "Running Twitter API Streaming Code (Python) in HTML Page (Click on Button)", "body": "<p>I have this python code for getting tweets through the Twitter API based on keywords and save it into a JSON file:</p>\n\n<p>Python Code:</p>\n\n<pre><code>import json\nimport tweepy\nfrom datetime import datetime\nfrom pytz import timezone\nimport pytz\n\n\n# put your keys\nCONSUMER_KEY = ''\nCONSUMER_SECRET = ''\nACCESS_TOKEN_KEY =''\nACCESS_TOKEN_SECRET = ''\n\n# FILTER_KEYWORDS = ['manhattan' + 'nyc']\nFILTER_KEYWORDS = ['Twitter']\n#FILTER_LANGUAGES = ['en']\n#FILTER_LOCATIONS_ALL=[-180,-90,180,90]\n#FILTER_LOCATIONS_MANHATTAN=[-74.021248,40.698770 ,-73.905459, 40.872932]\n\nclass SimpleTweetStreamer:\n\n\n\n    def __init__(self):\n        try:\n            self.auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)\n            self.auth.set_access_token(ACCESS_TOKEN_KEY, ACCESS_TOKEN_SECRET)\n            self.api = tweepy.API(self.auth)\n\n            self.sapi = tweepy.streaming.Stream(self.auth, CustomStreamListener(self.api))\n            self.sapi.filter(track=FILTER_KEYWORDS)\n            #self.sapi.filter(locations=FILTER_LOCATIONS_MANHATTAN, languages=FILTER_LANGUAGES)\n\n        except tweepy.error.TweepError as e:\n            print(\"Unable to authenticate\", e)\n\n\n\nclass CustomStreamListener(tweepy.StreamListener):\n\n    def __init__(self, api):\n        self.api = api\n        def on_data(self, body):\n        try:\n            tweet = json.loads(body)\n\n            date_format = '%Y-%m-%d'\n            time_format = '%H:%M:%S'\n\n            ts = tweet['timestamp_ms']\n            date = datetime.fromtimestamp(int(ts)/1000, tz=pytz.timezone('EST'))\n            tweet['MYT_local_date'] = date.strftime(date_format)\n            tweet['MYT_local_time'] = date.strftime(time_format)\n\n\n\n\n            fileName = 'abc'+  '.json'\n            with open(fileName, 'a') as outfile:\n                json.dump(tweet, outfile)\n                outfile.write(\"\\n\")\n                outfile.flush()\n                outfile.close()\n\n        except:\n            pass\n        return True\n\n    def on_error(self, status_code):\n        print(\"[error] \" + str(status_code))\n        return True # Don't kill the stream\n\n    def on_timeout(self):\n        return True # Don't kill the stream\n\n\nif __name__ == \"__main__\":\n\n    t = SimpleTweetStreamer()\n</code></pre>\n\n<p>How do I run this by clicking a button in an HTML Page?</p>\n"}, {"tags": ["python", "ipython", "cluster-computing", "ipython-parallel", "matlab-engine"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 2101132, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f9feb8293e09bcfb8df4470a4ce079d8?s=128&d=identicon&r=PG", "display_name": "Roland", "link": "https://stackoverflow.com/users/2101132/roland"}, "edited": false, "score": 0, "creation_date": 1434062805, "post_id": 30519101, "comment_id": 49634712, "body": "looks like you could also use <code>with dview.sync_imports(): import matlab.engine</code> as an alternative way to push imports out to the clients. Would <code>ipEngine.execute()</code> do something different thatn <code>ipEngine.run()</code>? Was looking at <a href=\"https://minrk.github.io/scipy-tutorial-2011/basic_remote.html#execute-and-run\" rel=\"nofollow noreferrer\">this post from MinRK</a>."}, {"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "reply_to_user": {"reputation": 409, "user_id": 2101132, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f9feb8293e09bcfb8df4470a4ce079d8?s=128&d=identicon&r=PG", "display_name": "Roland", "link": "https://stackoverflow.com/users/2101132/roland"}, "edited": false, "score": 0, "creation_date": 1434141397, "post_id": 30519101, "comment_id": 49671622, "body": "That&#39;s a good technique too, I&#39;ve yet to figure out how it relates to Matlab installations on my cluster, I&#39;m hoping to avoid if possible having to get licenses for all cluster machines or at least minimize the number of licenses needed. I know IPython would push functions over to engines through the zeroMQ protocol, but if those function have internal needs that are only satisfied on the client, I don&#39;t imagine the full dependencies of a function are pushed to the remote engines as well. Unfortunately I have a bunch of refactoring prerequisites to do to the Matlab before I start experimenting"}, {"owner": {"reputation": 409, "user_id": 2101132, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f9feb8293e09bcfb8df4470a4ce079d8?s=128&d=identicon&r=PG", "display_name": "Roland", "link": "https://stackoverflow.com/users/2101132/roland"}, "edited": false, "score": 0, "creation_date": 1434398470, "post_id": 30519101, "comment_id": 49751294, "body": "I agree that you won&#39;t be able to get access to multiple, simultaneous instances of a license-controlled software (it&#39;ll either be node-locked or the license manager will refuse to turn on extra instances)."}], "tags": [], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "is_accepted": false, "score": 1, "last_activity_date": 1435971484, "last_edit_date": 1592644375, "creation_date": 1432858218, "answer_id": 30519101, "question_id": 30362177, "link": "https://stackoverflow.com/questions/30362177/where-and-how-to-spin-up-reusable-resources-matlab-engine-for-ipython-cluster/30519101#30519101", "title": "Where and how to spin up reusable resources (matlab.engine) for IPython cluster Tasks", "body": "<p>Haven't figured it all out entirely but I'll document here what I've found thus far.</p>\n<p>So after the creation of the engines and connecting to them via a direct view from a client I can execute any ole python code in the embedded Python instance connected to the engine via the <a href=\"http://ipython.org/ipython-doc/stable/parallel/parallel_details.html#running-code\" rel=\"nofollow noreferrer\">run</a> method. This includes the creation of a matlab engine for that IPython engine...</p>\n<pre><code>rc = parallel.Client()\ndview = rc[:]\n        \nfor ipEngine in dview :\n    ipEngine.run( &quot;import matlab.engine&quot; )\n    ipEngine.run( &quot;eng = matlab.engine.start_matlab('-noFigureWindows')&quot; )\n</code></pre>\n<p>I still need to actually do this and figure out all the variable scoping rules in this distributed environment and how it relates back to the environment kept on the client and how to navigate the namespace conflicts that may arise but this looks promising as far as getting stuff set up in the engine's embedded python instance. I'll be evolving this answer as the answers roll in from my development.</p>\n<p>There's also the <a href=\"http://ipython.org/ipython-doc/stable/parallel/parallel_multiengine.html#moving-python-objects-around\" rel=\"nofollow noreferrer\">pushing and pulling</a> of objects to pass Python objects around although I'm not sure how this would work in practice with a matlab engine and the whole namespace thing or even with respect to the remote computer's environment and the requirement that matlab even be installed there.</p>\n<p>There is a known limitation for the Matlab Engine for python worth stating here as well, which is found in Ch 8 &quot;MATLAB Engine for Python Topics&quot; of the <a href=\"http://www.mathworks.com/help/pdf_doc/matlab/apiext.pdf\" rel=\"nofollow noreferrer\">Matlab External Interfaces</a> pdf document:</p>\n<blockquote>\n<p>Limitations to MATLAB Engine for Python</p>\n<ul>\n<li>The MATLAB Engine for Python is not thread-safe</li>\n</ul>\n</blockquote>\n"}], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435971484, "creation_date": 1432165330, "last_edit_date": 1432169262, "question_id": 30362177, "link": "https://stackoverflow.com/questions/30362177/where-and-how-to-spin-up-reusable-resources-matlab-engine-for-ipython-cluster", "title": "Where and how to spin up reusable resources (matlab.engine) for IPython cluster Tasks", "body": "<p>I've decided to target the creation of some test bench Python scripts that will exercise various algorithms developed by multiple developers under a variety of environments to all be exercised by IPython's parallel distributed cluster capabilities. One such environment of interest is Matlab, but the resource scenario is generic enough to abstract rules from this question. To invoke the prototyping Matlab scripts I've decided to use the <a href=\"http://www.mathworks.com/help/matlab/matlab-engine-for-python.html\" rel=\"nofollow\" title=\"MATLAB Engine for Python\">matlab engine for Python</a>. These engine objects will be instantiated in Python, but rather than spinning one up per work unit I'd like to reuse the Matlab engines if at all possible to avoid the overhead of creating and destroying those beefy Matlab engine objects. I'm still early in reading up on IPython parallel documentation but I thought I'd do a preemptive strike to get feedback so I can draw attention to specific parts of the documentation once I come across them. I may even be making the fallacious assumption that I require multiple Matlab engines to avoid synchronization or thread safety issues with a single Matlab engine instance. But the general question is if I have a resource that can and should be reused analogous to something tucked away in Thread Local Storage so that as tasks and jobs receive the next work unit they'll reuse that resource to accomplish their work. Once there's no more units of work that resource can be wound down and destroyed if necessary.</p>\n"}, {"tags": ["python", "amazon-dynamodb", "boto"], "comments": [{"owner": {"reputation": 1153, "user_id": 4131111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a205c8cdc5fd3623d4df4cce54f43ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniela Miao", "link": "https://stackoverflow.com/users/4131111/daniela-miao"}, "edited": false, "score": 0, "creation_date": 1432776378, "post_id": 30362147, "comment_id": 49068833, "body": "Have you tried the overwrite=True setting? As mentioned here for save(), maybe it&#39;s the same for partial_save(): <a href=\"http://boto.readthedocs.org/en/latest/dynamodb2_tut.html#updating-an-item\" rel=\"nofollow noreferrer\">boto.readthedocs.org/en/latest/&hellip;</a>"}, {"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "reply_to_user": {"reputation": 1153, "user_id": 4131111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a205c8cdc5fd3623d4df4cce54f43ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniela Miao", "link": "https://stackoverflow.com/users/4131111/daniela-miao"}, "edited": false, "score": 0, "creation_date": 1432776459, "post_id": 30362147, "comment_id": 49068846, "body": "partial_save takes no <code>overwrite</code> argument.  If it did, my problem would be solved."}], "owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1449773037, "creation_date": 1432165110, "question_id": 30362147, "link": "https://stackoverflow.com/questions/30362147/boto-dynamodb2-partial-save-on-existing-item", "title": "boto.dynamodb2: partial_save on existing item?", "body": "<p>My goal: to simply update a single attribute of a record in DynamoDB.  I do not want to read the item first; I'm merely setting one of its attributes--I don't care what the attribute's previous value was, if any.</p>\n\n<p>The problem: If the item already exists, boto throws a <code>ConditionalCheckFailedException</code>.</p>\n\n<p>Some code that illustrates the problem:</p>\n\n<pre><code>from boto.dynamodb2.items import Item\nfrom boto.dynamodb2.table import Table\nfrom time import time\n\ntable = Table('my_table')\n\ndata = {\n    'the_key': '123456',\n    'last_seen': time()\n}\n\nitem = Item(table, data=data)\nitem.partial_save()\n</code></pre>\n\n<p>The first time I run this code (when item 123456 does not exist), it works fine.  Item 123456 is created and its <code>last_seen</code> attribute is set.</p>\n\n<p>The second time I run the code, it blows up:</p>\n\n<pre><code>boto.dynamodb2.exceptions.ConditionalCheckFailedException: ConditionalCheckFailedException: 400 Bad Request\n{u'message': u'The conditional request failed', u'__type': u'com.amazonaws.dynamodb.v20120810#ConditionalCheckFailedException'}\n</code></pre>\n\n<hr>\n\n<p>Poking around the boto code, it looks like <code>partial_save</code> is setting an <code>expects</code> parameter that forces DynamoDB to check the attribute's previous value (and fail if it isn't what was expected).  I understand that boto is trying to help me from accidentally overwriting data that some other process may have updated.  But, in this case, I don't care about that; I simply want to blindly set the attribute value, even if that means it'll overwrite someone else's change.</p>\n\n<p>Is there a way to do this using boto.dynamodb2?  (I cobbled together a working version using boto.dynamodb, but I'd really rather not use deprecated code.)</p>\n"}, {"tags": ["python", "http", "post", "load-balancing", "scalable"], "comments": [{"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432165368, "post_id": 30362121, "comment_id": 48815860, "body": "Look at depolying with Gunicorn, it supports multiple processes. Don&#39;t use Flask&#39;s builtin server, that&#39;s just for development."}, {"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432165448, "post_id": 30362121, "comment_id": 48815888, "body": "<a href=\"http://flask.pocoo.org/docs/0.10/deploying/wsgi-standalone/\" rel=\"nofollow noreferrer\">flask.pocoo.org/docs/0.10/deploying/wsgi-standalone</a>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432165843, "post_id": 30362121, "comment_id": 48815992, "body": "This is way too broad of a question (and probably too subjective, too); people have written whole blogs on the various ways to build scalable web apps around Flask. See, for example, <a href=\"http://highscalability.com/blog/2014/4/28/how-disqus-went-realtime-with-165k-messages-per-second-and-l.html\" rel=\"nofollow noreferrer\">Disqus&#39;s blog post on how they did it</a>. That&#39;s not the kind of thing you&#39;d want to write in a SO answer, and it&#39;s not going to apply to everyone, nor is it the objectively &quot;right&quot; answer, just one of many possible answers that worked."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432165868, "post_id": 30362121, "comment_id": 48815999, "body": "So, I think you need to find a more discussion-oriented forum to post this question on instead of StackOverflow."}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432167316, "post_id": 30362121, "comment_id": 48816359, "body": "@nathancahill - what do you mean by Flask&#39;s builtin server?"}, {"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432167437, "post_id": 30362121, "comment_id": 48816397, "body": "When you do <code>app.run()</code> it starts a server in a single process. But it&#39;s not meant for production"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432164915, "creation_date": 1432164915, "question_id": 30362121, "link": "https://stackoverflow.com/questions/30362121/scalable-server-to-listen-to-post-messages", "title": "Scalable Server to listen to POST messages", "body": "<p>I have a python Flask listener waiting on port 8080.I expect a client to POST documents to this listener.</p>\n\n<pre><code>#!/usr/bin/env python2\nfrom __future__ import print_function\nfrom flask import Flask, request\nfrom flask.ext.cors import CORS\nfrom datetime import datetime\nimport os, traceback, sys \nimport json\nimport os\n\napp = Flask('__name__')\ncors = CORS(app)\n\n@app.route('/',methods=['GET','POST','OPTIONS'])                                                                                                                                         \ndef recive_fe_events():\n    try:\n        data = request.get_data()\n\n        if request.content_length &lt; 20000 and request.content_length != 0:\n            filename = 'out/{0}.json'.format(str(datetime.now()))\n            with open(filename, 'w') as f:\n                 f.write(data)\n\n            print('Wrote', filename)\n        else:\n            print(\"Request too long\", request.content_length)\n            content = '{{\"status\": 413, \"content_length\": {0}, \"content\": \"{1}\"}}'.format(request.content_length, data)\n            return content, 413 \n    except:\n        traceback.print_exc()\n        return None, status.HTTP_500_INTERNAL_SERVER_ERROR\n\n    return '{\"status\": 200}\\n'\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0',debug=False,port=8080)\n</code></pre>\n\n<p>This server is able to listen to POST messages and decode them and dump them to a file.However there is a concern that the frequency of <code>POST</code> messages may become very high. I am thinking about ways to make this application scalable. What is the best way.Do I implement a load balancer in front, listening on port <code>8080</code> and then balance traffic across multiple listeners on <code>8081</code>,<code>8082</code> and <code>8083</code> for example.</p>\n"}, {"tags": ["python", "numpy", "matrix", "multidimensional-array"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432165162, "post_id": 30362059, "comment_id": 48815804, "body": "You&#39;re still focusing on the wrong thing. Initializing the array with 0&#39;s takes so close to no time that it&#39;s not worth worrying about. The problem is the inner loop, where you call the very slow <code>arbitrary_function</code> X*Y times. That&#39;s where all of your time is spent, so that&#39;s the part you need to optimize."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1432166207, "post_id": 30362059, "comment_id": 48816080, "body": "The 1st expression is fine (use <code>[x,y]</code> indexing).  The 2nd is a misguided immitation of a list comprehension."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432166551, "post_id": 30362059, "comment_id": 48816160, "body": "In the future, it would really help if, when you create a question related to another question, you include a link to it, like <a href=\"http://stackoverflow.com/questions/30360970/\">this</a>. There&#39;s a lot of background information that&#39;s relevant to this question that nobody&#39;s going to know unless they happened to remember that question, or go through all the same comments and edits as you went through last time."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432166700, "post_id": 30362059, "comment_id": 48816193, "body": "@abarnert okay i&#39;ll be sure to include that next time,sorry."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432164782, "post_id": 30362090, "comment_id": 48815693, "body": "but I want to use Numpy arrays isn&#39;t that possible?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1432165654, "post_id": 30362090, "comment_id": 48815947, "body": "This isn&#39;t going to help much; you&#39;re just turning a nested <code>for</code> statement into a nested comprehension. You can do a little better by turning it into a NumPy nested loop using <code>np.vectorize</code>. But, as I explained in my answer, I&#39;m pretty sure we&#39;re talking about maybe a 15% speedup (your version) or a 20% speedup (mine) on the part of the code that takes under 0.1% of the total time, so it&#39;s irrelevant."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1432164816, "last_edit_date": 1432164816, "creation_date": 1432164714, "answer_id": 30362090, "question_id": 30362059, "link": "https://stackoverflow.com/questions/30362059/fill-up-a-2d-array-while-iterating-through-it/30362090#30362090", "title": "Fill up a 2D array while iterating through it", "body": "<pre><code>rows = 10\ncols = 10\nZ = numpy.array([ arbitrary_function(each_point, each_axes) for each_axes in range(cols) for each_point in range(rows) ]).reshape((rows,cols))\n</code></pre>\n\n<p>maybe?</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432165743, "post_id": 30362143, "comment_id": 48815964, "body": "Dude to need to realize that you&#39;re hitting me with too much information at once and i&#39;m not that familiar with python that&#39;s why im facing those performance issues. I&#39;ll try to read what you said 10 more times and understand what I should do to solve my performance issues I really appreciate the help. One thing I can say is that i&#39;ve already extracted the excel sheet information into a list of lists in python but I can definitely try to change that into a np array and work on that instead."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432165989, "post_id": 30362143, "comment_id": 48816028, "body": "@MahmoudAyman: Sorry, but if you actually want to learn how to program efficiently with NumPy, there&#39;s a lot to learn, and you have to start with the basics. I can&#39;t write an answer that gives you a complete tutorial ranging from what vectorization means all the way up to tips and tricks for vectorizing different kinds of problems; there is no substitute for you putting in the effort to learn it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432166072, "post_id": 30362143, "comment_id": 48816041, "body": "@MahmoudAyman: And meanwhile, you also need to learn the broader topic of optimizing in general: how to profile your code to figure out which parts are slow, and how to try to guess which parts matter so you know what to profile, how to get a feel for which optimizations will affect which parts, and so on."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432166289, "post_id": 30362143, "comment_id": 48816100, "body": "i&#39;m keen to always learn and now as I am in the current time trying to apply what you said. It&#39;s only the fact that I&#39;ve been working with python not too much to know that many stuff and ofcourse there&#39;s much to learn. I&#39;ll start with working with the extracted data from the excel sheet as np array and working with it."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1432166427, "post_id": 30362143, "comment_id": 48816132, "body": "I had no idea arbitrary_function was doing file processing ... this isnt going to help you at all ..."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432166732, "post_id": 30362143, "comment_id": 48816198, "body": "@MahmoudAyman: The good news is, once you get the hang of it, learning how to vectorize your loops is often kind of fun. Until, of course, you run into something where you come at it from every angle and none of them work, at least not without creating a massive X<i>X</i>Y*Y-sized array that uses up all your RAM and slows things down even worse, which happens pretty much at least once in every NumPy project. But that&#39;s what the internet is for; someone else has always done the same thing and been smarter than me (at least in my experience). :)"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1432166849, "post_id": 30362143, "comment_id": 48816223, "body": "to be fair vectorizing python functions is largely a convienience  that provides no speed-up over looping. (in fact im pretty sure numpy library implements it with simple looping constructs)  (that said its still a good idea I was the +1)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1432167830, "post_id": 30362143, "comment_id": 48816468, "body": "@JoranBeasley: That&#39;s my point: turning the loop into a <code>vectorize</code>d call will provide a small, constant speedup (just like turning the loop a listcomp), but not nearly enough to make a difference; you really need to turn the innermost part of the logic into a sequence of steps NumPy knows how to vectorize natively (or at least into a C function call rather than a Python function call)."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432168518, "post_id": 30362143, "comment_id": 48816642, "body": "@abarnert so if I use an array or a list of lists to extract my data to be used by the arbitrary function that will speed up my code instead of getting my information from the excel sheet?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432171105, "post_id": 30362143, "comment_id": 48817334, "body": "@MahmoudAyman: I don&#39;t understand what you&#39;re asking. The key is to look at the innermost call in your code that takes time. You&#39;re calling <code>power_at_each_point</code> on each element. That has its own loop inside it. And inside that loop, you&#39;re calling <code>cal_pow_rec_plandwall_contour</code>. My suspicion is that the body of that function takes up 1000x more time than the function calls and loops around it, so whatever you do to optimize out those function calls and loops isn&#39;t going to help. But profiling is better than suspecting, so try running it under <code>cProfile</code> (but note the caveats in the docs)."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1432165408, "last_edit_date": 1495540689, "creation_date": 1432165093, "answer_id": 30362143, "question_id": 30362059, "link": "https://stackoverflow.com/questions/30362059/fill-up-a-2d-array-while-iterating-through-it/30362143#30362143", "title": "Fill up a 2D array while iterating through it", "body": "<p>As I explained in my answer to <a href=\"https://stackoverflow.com/questions/30360970/\">your previous question</a>, you really need to vectorize <code>arbitrary_function</code>.</p>\n\n<p>You <em>can</em> do this by just calling <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html\" rel=\"nofollow noreferrer\"><code>np.vectorize</code></a> on the function, something like this:</p>\n\n<pre><code>Z = np.vectorize(arbitrary_function)(np.arange(3), np.arange(5).reshape(5, 1))\n</code></pre>\n\n<p>But that will only give you a small speedup. In your case, since <code>arbitrary_function</code> is doing a huge amount of work\u00a0(including opening and parsing an Excel spreadsheet), it's unlikely to make enough difference to even notice, much less to solve your performance problem.</p>\n\n<p>The whole point of using NumPy for speedups is to find the slow part of the code that operates on one value at a time, and replace it with something that operates on the whole array (or at least a whole row or column) at once. You can't do that by looking at the very outside loop, you need to look at the very <em>inside</em> loop. In other words, at <code>arbitrary_function</code>.</p>\n\n<p>In your case, what you probably want to do is read the Excel spreadsheet into a global array, structured in such a way that each step in your process can be written as an array-wide operation on that array. Whether that means multiplying by a slice of the array, indexing the array using your input values as indices, or something completely different, it has to be something NumPy can do for you in C, or NumPy isn't going to help you.</p>\n\n<hr>\n\n<p>If you can't figure out how to do that, you may want to consider not using NumPy, and instead compiling your inner loop with Cython, or running your code under PyPy. You'll still almost certainly need to move the \"open and parse a whole Excel spreadsheet\" outside of the inner loop, but at least you won't have to figure out how to rethink your problem in terms of vectorized operations, so it may be easier for you.</p>\n"}], "owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 30362143, "answer_count": 2, "score": 0, "last_activity_date": 1432165408, "creation_date": 1432164531, "question_id": 30362059, "link": "https://stackoverflow.com/questions/30362059/fill-up-a-2d-array-while-iterating-through-it", "title": "Fill up a 2D array while iterating through it", "body": "<p>An example what I want to do is instead of doing what is shown below:</p>\n\n<pre><code>Z_old = [[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]]\nfor each_axes in range(len(Z_old)):\n    for each_point in range(len(Z_old[each_axes])):\n        Z_old[len(Z_old)-1-each_axes][each_point] = arbitrary_function(each_point, each_axes)\n</code></pre>\n\n<p>I want now to not initialize the Z_old array with zeroes but rather fill it up with values while iterating through it which is going to be something like the written below although it's syntax is horribly wrong but that's what I want to reach in the end.</p>\n\n<pre><code> Z = np.zeros((len(x_list), len(y_list))) for Z[len(x_list) -1 - counter_1][counter_2] is equal to power_at_each_point(counter_1, counter_2] for counter_1 in range(len(x_list)) and counter_2 in range(len(y_list))]\n</code></pre>\n"}, {"tags": ["python", "random-forest", "feature-selection"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1561401907, "post_id": 30362040, "comment_id": 100043528, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35249760/using-scikit-to-determine-contributions-of-each-feature-to-a-specific-class-pred\">Using scikit to determine contributions of each feature to a specific class prediction</a>"}], "owner": {"reputation": 2149, "user_id": 4129364, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bb5990e010befd596c37ea85c5e28572?s=128&d=identicon&r=PG&f=1", "display_name": "gladys0313", "link": "https://stackoverflow.com/users/4129364/gladys0313"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 668, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1432164388, "creation_date": 1432164388, "question_id": 30362040, "link": "https://stackoverflow.com/questions/30362040/python-how-to-know-important-features-for-each-class-using-random-forest", "title": "python: how to know important features for each class using Random Forest", "body": "<p>I am using sklearn.ensemble.RandomForestClassifier to do classification. I have 14 classes (14 labels) in total. Now my code is like</p>\n\n<pre><code>clf = RandomForestClassifier(n_estimators = 50)\nclf.fit(train_data, labels)\nimportances = clf.feature_importances_\nindices = np.argsort(importances)[-20:]\n</code></pre>\n\n<p>by doing this I can get the indices for top 20 important features. However, since I have 14 classes (0,1,2,3,4,5,6,7,8,9,10,11,12,13) and now I want to know for each class, what its most important features are, then what should I do?</p>\n"}, {"tags": ["python", "linux", "setup.py", "software-packaging"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432166385, "post_id": 30362023, "comment_id": 48816120, "body": "<code>py2exe</code> doesn&#39;t come with its own built-in wrappers for every third-party module that&#39;s tricky to deal with. There&#39;s a <a href=\"http://www.py2exe.org/index.cgi/WorkingWithVariousPackagesAndModules\" rel=\"nofollow noreferrer\">wiki page</a> that shows how to deal with some of them manually, and some of those link to code that shows how it works under the covers; you presumably need to do something similar for the ones it doesn&#39;t know about."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432166453, "post_id": 30362023, "comment_id": 48816138, "body": "You also might want to consider <code>pyInstaller</code>, which has put a lot more work than <code>py2exe</code> into wrapping up all of the most popular tricky packages. Of course both have their strengths and weaknesses; you may want to use <code>py2exe</code> for other reasons\u2014but in that case, maybe you can still borrow from <code>pyInstaller</code>&#39;s tricks."}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 3333591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96719a56279122fbede96e8b1d6c405?s=128&d=identicon&r=PG&f=1", "display_name": "user193673", "link": "https://stackoverflow.com/users/3333591/user193673"}, "is_accepted": false, "score": 0, "last_activity_date": 1432164788, "creation_date": 1432164788, "answer_id": 30362104, "question_id": 30362023, "link": "https://stackoverflow.com/questions/30362023/python-packaging-on-linux-with-many-imports-using-disutils-setup-py/30362104#30362104", "title": "Python Packaging on Linux with many Imports using disutils&#39; setup.py", "body": "<p>It looks like in your <code>setup()</code> you need something like this: <code>packages=['distutils', 'distutils.command'],</code> according to the <a href=\"https://docs.python.org/2/distutils/setupscript.html\" rel=\"nofollow\">distutils</a> documentation.</p>\n"}], "owner": {"reputation": 1685, "user_id": 2406824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b9e6d42de16d7fd42a75edf7470f0ebc?s=128&d=identicon&r=PG", "display_name": "napkinsterror", "link": "https://stackoverflow.com/users/2406824/napkinsterror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432164788, "creation_date": 1432164272, "question_id": 30362023, "link": "https://stackoverflow.com/questions/30362023/python-packaging-on-linux-with-many-imports-using-disutils-setup-py", "title": "Python Packaging on Linux with many Imports using disutils&#39; setup.py", "body": "<p>I want to have my python program installed on linux computers (and later windows if someone can help me with that). Ideally this would work on anyone's computer who has python installed, but not all the required modules. I am thinking of this like a C binary/executable after running gcc / make commands.</p>\n\n<p>The hard part is that I don't understand how to handle all the imports required. I keep failing when using py2exe or similiar things because I am using 'GDAL'. So here is what I want to put in my setup.py, but I am so confused. Any help greatly appreciated.</p>\n\n<p><em>setup.py:</em></p>\n\n<pre><code>from disutils.core import setup\n\nsetup(\n  name='gui',\n  version='1.0',\n  py_modules=['gui'],\n  install_requires=[],\n)\n</code></pre>\n\n<p>My main files is \"gui.py\". When I run <code>ipython</code> and then <code>run gui.py</code> my program executes perfectly. </p>\n\n<p>Here are the import statements from the gui.py and the files it includes for reference:</p>\n\n<p><em>gui.py:</em></p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom Tkinter import *\nimport tkFileDialog\nfrom scipy import *\nimport spleem_image_class as sic\nimport spleem_image_display_class as sidc\nimport matplotlib.pyplot as plt\n// code ...\n</code></pre>\n\n<p><em>spleem_image_class.py:</em></p>\n\n<pre><code># -*- coding: iso-8859-15 -*-\n\nfrom osgeo import gdal\nimport scipy\nimport scipy.interpolate\nimport itertools\nfrom scipy import ndimage\nfrom scipy.ndimage import morphology\nfrom scipy import math\nfrom scipy import *\nimport matplotlib.pyplot as plt\nfrom scipy import linalg\n// code ...\n</code></pre>\n\n<p><em>spleem_image_display_class.py</em></p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: iso-8559-15 -*-\n\nimport matplotlib.pyplot as plt\nimport matplotlib.colors\nimport matplotlib.cm as cm\nimport colorsys\nimport scipy.optimize as optimize\nfrom scipy import *\nimport scipy\nimport numpy\nimport sys\nimport itertools\nimport spleem_image_class as SI\nimport pickle\n// code ...\n</code></pre>\n"}, {"tags": ["python", "json", "rest", "jira", "jira-rest-api"], "answers": [{"tags": [], "owner": {"reputation": 2073, "user_id": 357403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpSGe.jpg?s=128&g=1", "display_name": "Koshinae", "link": "https://stackoverflow.com/users/357403/koshinae"}, "is_accepted": true, "score": 0, "last_activity_date": 1432200258, "creation_date": 1432200258, "answer_id": 30369663, "question_id": 30361982, "link": "https://stackoverflow.com/questions/30361982/jira-attachment-with-rest-api/30369663#30369663", "title": "JIRA attachment with REST API", "body": "<p>You can only set issue fields during creation: <a href=\"https://docs.atlassian.com/jira/REST/latest/#d2e2786\" rel=\"nofollow\">https://docs.atlassian.com/jira/REST/latest/#d2e2786</a></p>\n\n<p>You can add attachments to already existing issues by posting the content itself: <a href=\"https://docs.atlassian.com/jira/REST/latest/#d2e2035\" rel=\"nofollow\">https://docs.atlassian.com/jira/REST/latest/#d2e2035</a></p>\n\n<p>Sou you have to do it in two steps.</p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 4884671, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d3735270d4be0b602d1fe5fdc872f64?s=128&d=identicon&r=PG&f=1", "display_name": "Rayees Namathponnan", "link": "https://stackoverflow.com/users/4884671/rayees-namathponnan"}, "is_accepted": false, "score": 0, "last_activity_date": 1432219077, "creation_date": 1432219077, "answer_id": 30376940, "question_id": 30361982, "link": "https://stackoverflow.com/questions/30361982/jira-attachment-with-rest-api/30376940#30376940", "title": "JIRA attachment with REST API", "body": "<p>It works now, i was not using rest/api/2/issue/DEV-290/attachments</p>\n"}], "owner": {"reputation": 177, "user_id": 4884671, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d3735270d4be0b602d1fe5fdc872f64?s=128&d=identicon&r=PG&f=1", "display_name": "Rayees Namathponnan", "link": "https://stackoverflow.com/users/4884671/rayees-namathponnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "accepted_answer_id": 30369663, "answer_count": 2, "score": 0, "last_activity_date": 1482923412, "creation_date": 1432163974, "last_edit_date": 1472070071, "question_id": 30361982, "link": "https://stackoverflow.com/questions/30361982/jira-attachment-with-rest-api", "title": "JIRA attachment with REST API", "body": "<p>I want to upload attachment while creating JIRA ticket, I tried the format below but its not working with syntax error given for the file. Do you have any idea how to create this in a json file ?</p>\n\n<pre><code>    data = {\n        \"fields\": {\n            \"project\": {\n                \"key\": project\n            },\n            \"attachments\" : [\n                \"file\": \"C:\\data.txt\"\n                ],\n            \"summary\": task_summary,\n            \"issuetype\": {\n                \"name\": \"Task\"\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432164347, "post_id": 30361979, "comment_id": 48815560, "body": "You start at index 0 going to index -1. That is from the first element to last with a step of -2. It&#39;s no wonder you are getting nothing in the slice."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 5, "last_activity_date": 1432164057, "creation_date": 1432164057, "answer_id": 30361991, "question_id": 30361979, "link": "https://stackoverflow.com/questions/30361979/python-list-selecting-from-back/30361991#30361991", "title": "Python List selecting from back", "body": "<pre><code>&gt;&gt;&gt; a = [1,2,3,4,5,6,7]\n&gt;&gt;&gt; a[-2::-2]\n[6, 4, 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1432164463, "post_id": 30362010, "comment_id": 48815602, "body": "For a <code>list</code> with an even length, this will omit the first element (e.g. <code>list(range(1,9))[-2:0:-2]</code> produces <code>[7, 5, 3]</code> instead of <code>[7, 5, 3, 1]</code>)."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432165952, "post_id": 30362010, "comment_id": 48816016, "body": "Does that mean it assumes only <code>list</code>s of odd lengths?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432166083, "post_id": 30362010, "comment_id": 48816045, "body": "Nevermind, you are correct. I don&#39;t really understand why yours works and mine doesn&#39;t. Isn&#39;t the zero implied?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432166171, "post_id": 30362010, "comment_id": 48816073, "body": "The zero isn&#39;t implied; it&#39;s the same as <code>[1,2,3][:]</code> vs <code>[1,2,3][:-1]</code>. It starts from the start, inclusive, then goes to the end, non-inclusive."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432166282, "post_id": 30362010, "comment_id": 48816098, "body": "Oh, so it&#39;s the exclusion which differs the two?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432166566, "post_id": 30362010, "comment_id": 48816162, "body": "Yes, just like <code>range(10)</code> doesn&#39;t include 10 and <code>range(10,0,-1)</code> doesn&#39;t include 0."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 3, "last_activity_date": 1432166302, "last_edit_date": 1432166302, "creation_date": 1432164145, "answer_id": 30362010, "question_id": 30361979, "link": "https://stackoverflow.com/questions/30361979/python-list-selecting-from-back/30362010#30362010", "title": "Python List selecting from back", "body": "<p>You need to specify the slice in the format <code>list[start:end:step]</code> so use the following instead:</p>\n\n<pre><code>a[-2::-2] # start at the second to last, to to the end by backing up 2\n</code></pre>\n\n<p>You are in fact going from at the beginning to the end stepping back by twos, thus getting nothing.</p>\n"}], "owner": {"reputation": 838, "user_id": 4493212, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/wsXRZ.jpg?s=128&g=1", "display_name": "John Constantine", "link": "https://stackoverflow.com/users/4493212/john-constantine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1432167710, "creation_date": 1432163970, "question_id": 30361979, "link": "https://stackoverflow.com/questions/30361979/python-list-selecting-from-back", "title": "Python List selecting from back", "body": "<p>Suppose I have a list</p>\n\n<pre><code>a = [1,2,3,4,5,6,7]\n</code></pre>\n\n<p>I want alternate digits starting from second to last i.e <code>[6,4,2]</code> . </p>\n\n<p>I tried <code>a[:-1:-2]</code> but I dont get the correct output.</p>\n"}, {"tags": ["python", "sockets", "freeze", "tcp-ip"], "answers": [{"tags": [], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "is_accepted": false, "score": 1, "last_activity_date": 1432188028, "last_edit_date": 1432188028, "creation_date": 1432187415, "answer_id": 30365532, "question_id": 30361950, "link": "https://stackoverflow.com/questions/30361950/avoiding-tcp-ip-connection-hanging/30365532#30365532", "title": "Avoiding TCP/IP connection hanging", "body": "<blockquote>\n  <p>I have circumvented this problem by using the recv_timeout() function\n  below, which returns no data if the socket is hanging</p>\n</blockquote>\n\n<p>Are you certain that the socket will hang forever?  What about the possibility that the instrument just sometimes takes more than half a second to respond?  (Note that even if the instrument's software is good at responding in a timely manner, that is no guarantee that the response data will actually get to your Python program in a timely manner.  For example, if the TCP packets containing the response get dropped by the network and have to be resent, that could cause them to take more than .5 seconds to return to your program.  You can force that scenario to occur by pulling the Ethernet cable out of your PC for a second or two, and then plugging it back in... you'll see that the response bytes still make it through, just a second or two later on (after the dropped packets get resent); that is, if your Python program hasn't given up on them and closed the socket already.</p>\n\n<blockquote>\n  <p>Is there a more elegant solution without having to reboot anything?</p>\n</blockquote>\n\n<p>The elegant solution is to figure out what is happening to the reply bytes in the fault scenario, and fixing the underlying bug so that the reply bytes no longer get lost.  WireShark can be very helpful in diagnosing where the fault is; for example if WireShark shows that the response bytes did enter your computer's Ethernet port, then that is a pretty good clue that the bug is in your Python program's handling of the incoming bytes(*).  On the other hand if the response bytes never show up in WireShark, then there might be a bug in the instrument itself that causes it to fail to respond sometimes.  Wireshark would also show you if the problem is that your Python script failed to send out the \"check\" command for some reason.</p>\n\n<p>That said, if you really can't fix the underlying bug (e.g. because it's a bug in the instrument and you don't have the ability to upgrade the source code of the software running on the instrument) then the only thing you can do is what you are doing -- close the socket connection and reconnect.  If the instrument doesn't want to respond for some reason, you can't force it to respond.</p>\n\n<p>(*) One thing to do is print out the contents of the string returned by recv_timeout().  You may find that you did get a reply, but it just wasn't the '1' string you were expecting.</p>\n"}], "owner": {"reputation": 107, "user_id": 3403779, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/547a564d7c4ae7c54c13e73b6a118278?s=128&d=identicon&r=PG&f=1", "display_name": "user3403779", "link": "https://stackoverflow.com/users/3403779/user3403779"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1381, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432188028, "creation_date": 1432163818, "last_edit_date": 1432165787, "question_id": 30361950, "link": "https://stackoverflow.com/questions/30361950/avoiding-tcp-ip-connection-hanging", "title": "Avoiding TCP/IP connection hanging", "body": "<p>I am communicating with an instrument via TCP/IP using the Python <code>socket</code> package.     </p>\n\n<p>The program sends a command to the instrument to perform an action, and then repetitively sends another \"check\" command until it receives a \"done\" reply.  However, after many loops, the program hangs while waiting for a \"done\" reply.  </p>\n\n<p>I have circumvented this problem by using the <code>recv_timeout()</code> function below, which returns no data if the socket is hanging, then I close the connection with <code>socket.close()</code> and reconnect.  </p>\n\n<p>Is there a more elegant solution without having to reboot anything?</p>\n\n<pre><code>    import socket\n    import time\n\n    def recv_timeout(self,timeout=0.5):\n         '''\n         code from http://code.activestate.com/recipes/408859/\n         '''\n         self.s.setblocking(0)\n         total_data=[];data='';begin=time.time()\n         while 1:There must be a way I can reboot to carry on communicating with the instrument, without having to restart.   \n             #if you got some data, then break after wait sec\n             if total_data and time.time()-begin&gt;timeout:\n                 break\n             #if you got no data at all, wait a little longer\n             elif time.time()-begin&gt;timeout*2:\n                 break\n             try:\n                 data=self.s.recv(8192)\n                 if data:\n                      total_data.append(data)\n                      begin=time.time()\n             else:\n                 time.sleep(0.1)\n             except:\n                 pass\n         return ''.join(total_data)\n\n    sock = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n    sock.connect(('555.555.55.555',23))\n\n    for action_num in range(0,1000):\n         socket.sendall(('performaction %s \\r'%action_num).encode())\n\n         while True:\n              time.sleep(0.2) \n              socket.sendall(('checkdone \\r').encode())\n              done = socket.recv_timeout()  \n              if not done:\n                   print 'communication broken...what should I do?'\n                   socket.close()\n                   time.sleep(60)\n                   sock = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n                   sock.connect(('555.555.55.555',23))\n              elif done == '1':\n                   print 'done performing action'\n                   break  \n    socket.close()    \n</code></pre>\n"}, {"tags": ["python", "numpy", "matrix"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1432164736, "post_id": 30361903, "comment_id": 48815682, "body": "Generally with a 2d array, it&#39;s better index with <code>M[l,0]</code>.  As to your problem, the base string type in 3.4 is unicode, while in 2.7 it&#39;s ascii.  So for some purposes <code>b&#39;abc&#39;</code> is the 3.4 equivalent, but for other just type <code>str</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1924, "user_id": 2190906, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/v7jUv.jpg?s=128&g=1", "display_name": "ePascoal", "link": "https://stackoverflow.com/users/2190906/epascoal"}, "is_accepted": false, "score": 1, "last_activity_date": 1432164064, "creation_date": 1432164064, "answer_id": 30361994, "question_id": 30361903, "link": "https://stackoverflow.com/questions/30361903/numpy-matrix-string-with-python3-4/30361994#30361994", "title": "numpy matrix string with python3.4", "body": "<p>in my case the solution were simply to change <code>dtype('|S20')</code> to <code>dtype(str)</code>..I hope this help.</p>\n"}], "owner": {"reputation": 1924, "user_id": 2190906, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/v7jUv.jpg?s=128&g=1", "display_name": "ePascoal", "link": "https://stackoverflow.com/users/2190906/epascoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432164064, "creation_date": 1432163568, "question_id": 30361903, "link": "https://stackoverflow.com/questions/30361903/numpy-matrix-string-with-python3-4", "title": "numpy matrix string with python3.4", "body": "<p>i'm having trouble with 3.4 using numpy. My question is to know how can i have a numpy matrix with plain string format instead byte-string.</p>\n\n<pre><code>def res(data):\n    M = np.zeros(data.shape).astype(dtype='|S20')\n    lines,columns = M.shape\n    for l in range(lines):\n        M[l][0] = data[l][1]\n        M[l][1] = data[l][2]\n        M[l][2] = data[l][3]  \n    return M\n**result python2.7**\n[['Ann' '38.72' '-9.133']\n ['John' '55.68' '12.566']\n ['Richard' '52.52' '13.411']\n ['Alex' '40.42' '-3.703']]\n\n**result python3.4**\n[[b'Ann' b'38.72' b'-9.133']\n [b'John' b'55.68' b'12.566']\n [b'Richard' b'52.52' b'13.411']\n [b'Alex' b'40.42' b'-3.703']]\n</code></pre>\n\n<p>In Python3.4 How can i have my Matrix in plain string like in example for python2.7 this is bad because i have functions that expect string values and not byte-strings.</p>\n\n<p>Any help would be great. thanks</p>\n"}, {"tags": ["python", "python-3.x", "python-asyncio"], "answers": [{"comments": [{"owner": {"reputation": 723, "user_id": 2900735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdf6434f6df71edf933f9b804e94c2ee?s=128&d=identicon&r=PG", "display_name": "Yury Bayda", "link": "https://stackoverflow.com/users/2900735/yury-bayda"}, "edited": false, "score": 0, "creation_date": 1432191735, "post_id": 30364143, "comment_id": 48824262, "body": "Thanks for explanation, the documentation was not perfectly clear about exception handling"}, {"owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 0, "creation_date": 1517357440, "post_id": 30364143, "comment_id": 84060605, "body": "So how would one do it with <code>wait</code>? Is it something like <code>yield from asyncio.wait(...)</code>? Should <code>await asyncio.wait(...)</code> work too?"}, {"owner": {"reputation": 557, "user_id": 4138912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfb282d42e7adca342f1752b92daa61?s=128&d=identicon&r=PG&f=1", "display_name": "doak", "link": "https://stackoverflow.com/users/4138912/doak"}, "edited": false, "score": 0, "creation_date": 1548431633, "post_id": 30364143, "comment_id": 95551428, "body": "By the way, the same issue arises if one of the couroutine is never actually started. Happens for me with two coroutines opening some socket (manually) and try to <code>await &lt;loop&gt;.sock_recv(&lt;socket&gt;, &lt;size&gt;)</code>. If the socket is not switched to non-blocking (with <code>&lt;socket&gt;.setblocking()</code>), the second coroutine is not started and a <code>KeyboardInterrupt</code> results in &quot;Task exception was never retrieved&quot;."}, {"owner": {"reputation": 2145, "user_id": 3367753, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8e61bf504a2e093e140a5597ad0a4dcf?s=128&d=identicon&r=PG&f=1", "display_name": "Rugnar", "link": "https://stackoverflow.com/users/3367753/rugnar"}, "edited": false, "score": 0, "creation_date": 1579008331, "post_id": 30364143, "comment_id": 105617991, "body": "Inside async function one can&#39;t use <code>yield from</code> to resolve future or task. One should <code>await</code> instead. This was not clear for me."}, {"owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 1, "creation_date": 1610363656, "post_id": 30364143, "comment_id": 116100021, "body": "thanks for providing the <code>return_exceptions</code> hint. Doing hundreds of head request I don&#39;t want an exception is thrown cause one of them is timeouted."}], "tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 66, "last_activity_date": 1432416132, "last_edit_date": 1432416132, "creation_date": 1432179559, "answer_id": 30364143, "question_id": 30361824, "link": "https://stackoverflow.com/questions/30361824/asynchronous-exception-handling-in-python/30364143#30364143", "title": "Asynchronous exception handling in Python", "body": "<p><code>asyncio.wait</code> doesn't actually consume the <code>Futures</code> passed to it, it just waits for them to complete, and then returns the <code>Future</code> objects:</p>\n\n<blockquote>\n  <p><em>coroutine</em> <strong><code>asyncio.wait(futures, *, loop=None, timeout=None,\n  return_when=ALL_COMPLETED)</code></strong></p>\n  \n  <p>Wait for the Futures and coroutine objects\n  given by the sequence futures to complete. Coroutines will be wrapped\n  in Tasks. Returns two sets of <code>Future</code>: (done, pending).</p>\n</blockquote>\n\n<p>Until you actually <code>yield from</code> the items in the <code>done</code> list, they'll remain unconsumed. Since your program exits without consuming the futures, you see the \"exception was never retrieved\" messages.</p>\n\n<p>For your use-case, it probably makes more sense to use <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.gather\" rel=\"noreferrer\"><code>asyncio.gather</code></a>, which will actually consume each <code>Future</code>, and then return a single <code>Future</code> that aggregates all their results (or raises the first <code>Exception</code> thrown by a future in the input list).</p>\n\n<pre><code>def get_runs():\n    runs = [ {'name': 'one'}, {'name': 'two'} ]\n    loop = asyncio.get_event_loop()\n    tasks = asyncio.gather(*[fill_data(r) for r in runs])\n    loop.run_until_complete(tasks)\n    return runs\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>GET http://www.google.com/two\nGET http://www.google.com/one\nException(\"http://www.google.com/one has error '404: Not Found'\",)\n</code></pre>\n\n<p>Note that <code>asyncio.gather</code> actually lets you customize its behavior when one of the futures raises an exception; the default behavior is to raise the first exception it hits, but it can also just return each exception object in the output list:</p>\n\n<blockquote>\n  <p><strong><code>asyncio.gather(*coros_or_futures, loop=None, return_exceptions=False)</code></strong></p>\n  \n  <p>Return a future aggregating results from the given coroutine objects\n  or futures.</p>\n  \n  <p>All futures must share the same event loop. If all the tasks are done\n  successfully, the returned future\u2019s result is the list of results (in\n  the order of the original sequence, not necessarily the order of\n  results arrival). <strong>If <code>return_exceptions</code> is <code>True</code>, exceptions in the\n  tasks are treated the same as successful results, and gathered in the\n  result list; otherwise, the first raised exception will be immediately\n  propagated to the returned future.</strong></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 7907, "user_id": 1592008, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e208220f7cb95e6854adb653663736a?s=128&d=identicon&r=PG", "display_name": "Oleg Neumyvakin", "link": "https://stackoverflow.com/users/1592008/oleg-neumyvakin"}, "is_accepted": false, "score": 4, "last_activity_date": 1540572087, "last_edit_date": 1540572087, "creation_date": 1457072877, "answer_id": 35789404, "question_id": 30361824, "link": "https://stackoverflow.com/questions/30361824/asynchronous-exception-handling-in-python/35789404#35789404", "title": "Asynchronous exception handling in Python", "body": "<p>To debug or \"handle\" exceptions in <a href=\"https://docs.python.org/3.6/library/asyncio-task.html#asyncio.Future.add_done_callback\" rel=\"nofollow noreferrer\">callback</a>:</p>\n\n<p>Coroutine which return some result or raise exceptions:</p>\n\n<pre><code>@asyncio.coroutine\ndef async_something_entry_point(self):\n    try:\n        return self.real_stuff_which_throw_exceptions()\n    except:\n        raise Exception(some_identifier_here + ' ' + traceback.format_exc())\n</code></pre>\n\n<p>And callback:</p>\n\n<pre><code>def callback(self, future: asyncio.Future):\n    exc = future.exception()\n    if exc:\n        # Handle wonderful empty TimeoutError exception\n        if type(exc) == TimeoutError:\n            self.logger('&lt;Some id here&gt; callback exception TimeoutError')\n        else:\n            self.logger(\"&lt;Some id here&gt; callback exception \" + str(exc))\n\n    # store your result where you want\n    self.result.append(\n        future.result()\n    )\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 2900735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdf6434f6df71edf933f9b804e94c2ee?s=128&d=identicon&r=PG", "display_name": "Yury Bayda", "link": "https://stackoverflow.com/users/2900735/yury-bayda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57765, "favorite_count": 17, "accepted_answer_id": 30364143, "answer_count": 2, "score": 51, "last_activity_date": 1618291956, "creation_date": 1432163086, "last_edit_date": 1618291956, "question_id": 30361824, "link": "https://stackoverflow.com/questions/30361824/asynchronous-exception-handling-in-python", "title": "Asynchronous exception handling in Python", "body": "<p>I've the following code using <code>asyncio</code> and <code>aiohttp</code> to make asynchronous HTTP requests.</p>\n<pre><code>import sys\nimport asyncio\nimport aiohttp\n\n@asyncio.coroutine\ndef get(url):\n    try:\n        print('GET %s' % url)\n        resp = yield from aiohttp.request('GET', url)\n    except Exception as e:\n        raise Exception(&quot;%s has error '%s'&quot; % (url, e))\n    else:\n        if resp.status &gt;= 400:\n            raise Exception(&quot;%s has error '%s: %s'&quot; % (url, resp.status, resp.reason))\n\n    return (yield from resp.text())\n\n@asyncio.coroutine\ndef fill_data(run):\n    url = 'http://www.google.com/%s' % run['name']\n    run['data'] = yield from get(url)\n\ndef get_runs():\n    runs = [ {'name': 'one'}, {'name': 'two'} ]\n    loop = asyncio.get_event_loop()\n    task = asyncio.wait([fill_data(r) for r in runs])\n    loop.run_until_complete(task)   \n    return runs\n\ntry:\n    get_runs()\nexcept Exception as e:\n    print(repr(e))\n    sys.exit(1)\n</code></pre>\n<p>For some reason, exceptions raised inside the <code>get</code> function are not caught:</p>\n<pre><code>Future/Task exception was never retrieved\nTraceback (most recent call last):\n  File &quot;site-packages/asyncio/tasks.py&quot;, line 236, in _step\n    result = coro.send(value)\n  File &quot;mwe.py&quot;, line 25, in fill_data\n    run['data'] = yield from get(url)\n  File &quot;mwe.py&quot;, line 17, in get\n    raise Exception(&quot;%s has error '%s: %s'&quot; % (url, resp.status, resp.reason))\nException: http://www.google.com/two has error '404: Not Found'\n</code></pre>\n<p>So, what is correct way to handle exceptions raised by coroutines?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1432163046, "post_id": 30361776, "comment_id": 48815146, "body": "For SQLAlchemy I like to store all my models in one file, along with the db connection details, that when whereever I import its simply dbdefs.model_name."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1432164309, "post_id": 30361825, "comment_id": 48815549, "body": "one last disclosure to be very explicit this 2nd method i detailed is <b>very very very</b> hacky and I would never ever ever recommend anyone ever use it in the real world for actual code ... it was more a thought experiment"}, {"owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "edited": false, "score": 0, "creation_date": 1432178008, "post_id": 30361825, "comment_id": 48819035, "body": "will be accepting this based on the great hack, though I will probs be using answer 2 instead. thanks!"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 4, "last_activity_date": 1432223362, "last_edit_date": 1592644375, "creation_date": 1432163090, "answer_id": 30361825, "question_id": 30361776, "link": "https://stackoverflow.com/questions/30361776/common-import-statement-for-similar-classes/30361825#30361825", "title": "common import statement for similar classes", "body": "<p>this probably isnt what you want but who knows</p>\n<h1>common_imports.py</h1>\n<pre><code> from sqlalchemy import Model,String,...\n</code></pre>\n<p>in other scripts just do</p>\n<pre><code>from common_imports import *\n</code></pre>\n<p>[edit]\n<strong>actually  I came up with a really awful and hacky way to do what you want</strong></p>\n<p>a really hacky way to do it might be something like</p>\n<pre><code>\\root_of_package\n    -main.py\n    \\models\n       -__init__.py\n       -model1.py\n       -model2.py\n</code></pre>\n<p>then in <code>models\\__init__.py</code></p>\n<pre><code>from sqlalchemy import String,Integer,...\nfrom glob import glob\nBase = ...\nfor fname in glob(&quot;%s/*.py&quot;%dirname(__file__)):\n    with open(fname) as f:\n        eval(f.read())\n__all__ = locals()\n</code></pre>\n<p>then in <code>models/model1.py</code></p>\n<pre><code>#just use all the imports/locals from __init__.py as if they already existed\n#this will be hellish if you use an IDE that checks for errors for you\nclass Model1(Base):\n      id = Column(Integer,primary_key=True)\n      ...\n</code></pre>\n<p>then in <code>main.py</code></p>\n<pre><code>from models import Model1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1432163160, "post_id": 30361829, "comment_id": 48815175, "body": "hehe :P ... great answer :P I thought about doing the namespace in my example but meh"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1432163352, "post_id": 30361829, "comment_id": 48815243, "body": "@JoranBeasley I think it was actually AnttiHaapala that showed me this when he posted some snippet of his own project. I stole it immediately."}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 4, "last_activity_date": 1432163122, "creation_date": 1432163122, "answer_id": 30361829, "question_id": 30361776, "link": "https://stackoverflow.com/questions/30361776/common-import-statement-for-similar-classes/30361829#30361829", "title": "common import statement for similar classes", "body": "<p>I do this in one of my applications.</p>\n\n<pre><code># approot/m.py\n\nfrom models.model import String, Integer, Session, (etc)\n\n# Otherwise blank!\n</code></pre>\n\n<p>Then in everything else:</p>\n\n<pre><code>import m\n</code></pre>\n\n<p>Then you can do <code>m.String</code>, <code>m.Integer</code>, <code>m.Session</code> and etc. This also means I can further encapsulate my code so that later when I write up user models I can just add to <code>m.py</code></p>\n\n<pre><code>from models.user import User, Group, PermissionSet\n</code></pre>\n\n<p>and continue to access <code>m.User</code>, <code>m.Group</code> and etc.</p>\n"}], "owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 30361825, "answer_count": 2, "score": 3, "last_activity_date": 1432223362, "creation_date": 1432162767, "question_id": 30361776, "link": "https://stackoverflow.com/questions/30361776/common-import-statement-for-similar-classes", "title": "common import statement for similar classes", "body": "<p>In my app, I have a <code>model</code> folder / package.</p>\n\n<p>In that model folder, I generally have a whole bunch of import statements (most of them from SQLAlchemy, such as <code>String, Integer, Session</code>, etc.</p>\n\n<p>I find myself writing the same import statements again and again for stuff like <code>User, Blog, Article, Etc.</code> and have become pretty sloppy at it.</p>\n\n<p>Understanding that explicit is better than implicit and then going ahead and disregarding that, is there a way to do this once?</p>\n"}, {"tags": ["python", "class", "object", "instantiation"], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1432162139, "post_id": 30361649, "comment_id": 48814878, "body": "Python class attributes aren&#39;t quite the same as Java or C++ static member variables. The Python docs are very careful to avoid using the term &quot;static variable&quot; or &quot;static attribute&quot; anywhere to avoid implying anything that isn&#39;t true, and it would be better to do the same here. (Otherwise, great explanation.)"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162188, "post_id": 30361649, "comment_id": 48814889, "body": "@abarnert, Thanks for the comment. I&#39;ll update the terminology."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162210, "post_id": 30361649, "comment_id": 48814899, "body": "Oh, also, <code>__init__</code> is the initializer; the constructor (which you rarely have to worry about) is <code>__new__</code>."}, {"owner": {"reputation": 735, "user_id": 4659047, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f08307707b0bb67277c9dff269048ca1?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyJony", "link": "https://stackoverflow.com/users/4659047/crazyjony"}, "edited": false, "score": 0, "creation_date": 1432162218, "post_id": 30361649, "comment_id": 48814903, "body": "Thank you for the quick reply. Do you mean to put &quot;self.toys = [ ]&quot; inside the <b>init</b> function? As you wrote it, it gives an error"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 735, "user_id": 4659047, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f08307707b0bb67277c9dff269048ca1?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyJony", "link": "https://stackoverflow.com/users/4659047/crazyjony"}, "edited": false, "score": 0, "creation_date": 1432162268, "post_id": 30361649, "comment_id": 48814916, "body": "@CrazyJony, I have updated my answer."}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162336, "post_id": 30361649, "comment_id": 48814945, "body": "@abarnert, Also a very good point. It is common to treat <code>__init__</code> as a constructor but you&#39;re correct in that it is not."}, {"owner": {"reputation": 735, "user_id": 4659047, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f08307707b0bb67277c9dff269048ca1?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyJony", "link": "https://stackoverflow.com/users/4659047/crazyjony"}, "edited": false, "score": 0, "creation_date": 1432162342, "post_id": 30361649, "comment_id": 48814947, "body": "@merlin2011 You&#39;re far quicker than me :p thanks again, it works perfectly now"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 735, "user_id": 4659047, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f08307707b0bb67277c9dff269048ca1?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyJony", "link": "https://stackoverflow.com/users/4659047/crazyjony"}, "edited": false, "score": 0, "creation_date": 1432162378, "post_id": 30361649, "comment_id": 48814960, "body": "@CrazyJony, Glad to help. Please accept the answer if it resolves your question."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162477, "post_id": 30361649, "comment_id": 48814988, "body": "@merlin2011: Yeah, even core devs sometimes call <code>__init__</code> the constructor method\u2026 but the first time I told a novice to &quot;do it in the constructor&quot; and he searched the docs exactly as you&#39;d hope someone would and found a bunch of complicated stuff about <code>__new__</code> and couldn&#39;t even figure out how to ask how to use it, I learned my lesson. :)"}], "tags": [], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "is_accepted": true, "score": 11, "last_activity_date": 1432162284, "last_edit_date": 1432162284, "creation_date": 1432161926, "answer_id": 30361649, "question_id": 30361638, "link": "https://stackoverflow.com/questions/30361638/in-a-loop-in-python-i-assign-a-new-instance-of-a-class-to-the-same-variable-bu/30361649#30361649", "title": "In a loop in Python, I assign a new instance of a class to the same variable, but it keeps pointing to the old instance?", "body": "<p>The problem is that you have a class attribute and not an instance variable. Change your class to make it an instance variable by creating it in the <code>__init__</code> function as a member of <code>self</code>.</p>\n\n<p>Also, there's no need to use <code>return</code> in <code>__init__</code>.</p>\n\n<pre><code>class Chest:\n\n  def __init__(self):\n    self.toys = []\n\n\n  def add(self, num):\n    self.toys.append(num)\n</code></pre>\n\n<p>This is a common mistake if you're coming from a language like Java or C++.</p>\n"}], "owner": {"reputation": 735, "user_id": 4659047, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f08307707b0bb67277c9dff269048ca1?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyJony", "link": "https://stackoverflow.com/users/4659047/crazyjony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2303, "favorite_count": 0, "closed_date": 1432163115, "accepted_answer_id": 30361649, "answer_count": 1, "score": 7, "last_activity_date": 1432162284, "creation_date": 1432161843, "question_id": 30361638, "link": "https://stackoverflow.com/questions/30361638/in-a-loop-in-python-i-assign-a-new-instance-of-a-class-to-the-same-variable-bu", "closed_reason": "Duplicate", "title": "In a loop in Python, I assign a new instance of a class to the same variable, but it keeps pointing to the old instance?", "body": "<p>I created the following class that represents a chest where toys (numbers) can be stored:</p>\n\n<pre><code>class Chest:\n\n  toys = []\n\n  def __init__(self):\n    return\n\n  def add(self, num):\n    self.toys.append(num)\n    return\n</code></pre>\n\n<p>The main code that uses this class is as follows:</p>\n\n<pre><code>room_of_chests = []\n\nfor i in range(3):\n\n  print \"Chest\", i\n  temp = Chest()\n\n  print \"Number of toys in the chest:\", len(temp.toys)\n\n  for j in range(5):\n    temp.add(j)\n\n  print \"Number of toys in the chest:\", len(temp.toys)\n  print \"\"\n\n  room_of_chests.append(temp)\n</code></pre>\n\n<p>So, for each iteration of i, I create a new <em>Chest</em> and make the variable <em>temp</em> point to it (correct?). So, in theory, in each iteration, temp would start with an empty chest and end with a chest with 5 toys (correct?).</p>\n\n<p>Therefore, the output I am expecting is:</p>\n\n<pre><code>Chest 0\nNumber of toys in the chest: 0\nNumber of toys in the chest: 5\n\nChest 1\nNumber of toys in the chest: 0\nNumber of toys in the chest: 5\n\nChest 2\nNumber of toys in the chest: 0\nNumber of toys in the chest: 5\n</code></pre>\n\n<p>However, what I am actually getting is:</p>\n\n<pre><code>Chest 0\nNumber of toys in the chest: 0\nNumber of toys in the chest: 5\n\nChest 1\nNumber of toys in the chest: 5\nNumber of toys in the chest: 10\n\nChest 2\nNumber of toys in the chest: 10\nNumber of toys in the chest: 15\n</code></pre>\n\n<p>What am I doing wrong? Can someone give a quick explanation of how instantiation works in this case? And the rules of variables pointing to objects in Python? Thanks in advance.</p>\n"}, {"tags": ["python", "django", "amazon-web-services", "amazon-s3"], "comments": [{"owner": {"reputation": 690, "user_id": 3460945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AVmTZ.png?s=128&g=1", "display_name": "MrPiao", "link": "https://stackoverflow.com/users/3460945/mrpiao"}, "edited": false, "score": 0, "creation_date": 1432162298, "post_id": 30361624, "comment_id": 48814930, "body": "Could you clarify a few things in your question? Are you trying to upload the avatar image from the web app you&#39;re writing with django? What do you mean django doesn&#39;t have any &quot;collectmedia&quot; in its core? Are you manually uploading the image file and you still get an &quot;Access Denied&quot; error?"}, {"owner": {"reputation": 2752, "user_id": 1238737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f12344b1086944a8189571259e2ede1?s=128&d=identicon&r=PG", "display_name": "snkashis", "link": "https://stackoverflow.com/users/1238737/snkashis"}, "edited": false, "score": 0, "creation_date": 1432162496, "post_id": 30361624, "comment_id": 48814994, "body": "Have you given your bucket an access policy which allows operations on behalf of the AWS credentials you are using in django?"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 2015660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9900ad067dcde153ffff70be9b3e80e9?s=128&d=identicon&r=PG", "display_name": "chaos", "link": "https://stackoverflow.com/users/2015660/chaos"}, "is_accepted": false, "score": 1, "last_activity_date": 1432211800, "creation_date": 1432211800, "answer_id": 30374007, "question_id": 30361624, "link": "https://stackoverflow.com/questions/30361624/django-cant-access-to-manually-created-s3-bucket-folder/30374007#30374007", "title": "Django can&#39;t access to manually-created S3 bucket folder", "body": "<p>If you storage backend is set to use S3 (django-storages comes to mind) then you do not need to create things manually at all. Please check your permissions and make sure the communication with AWS is setup correctly (bucket, privileges, keys)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4922377"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1432211800, "creation_date": 1432161792, "last_edit_date": 1432164090, "question_id": 30361624, "link": "https://stackoverflow.com/questions/30361624/django-cant-access-to-manually-created-s3-bucket-folder", "title": "Django can&#39;t access to manually-created S3 bucket folder", "body": "<p>I'm using <strong>django 1.7</strong>, <strong>python 2.7</strong> and <strong>django-storages</strong> to manage amazon S3 files.  </p>\n\n<p>In my template I have an image link that displays the web-user avatar. My image model field it's default to something like \n\"default/default.png\".</p>\n\n<p>Since Django hasn't any \"collectmedia\" in his core, I use the aws web console to create the folder and upload the file but it doesn't work. I get this error: </p>\n\n<blockquote>\n  <p>Access Denied</p>\n</blockquote>\n\n<p>I could imagine it's a permission/acount problem, like \"you need to upload the file with the same django app aws account\".</p>\n\n<p>What is the best aproach to solve this? </p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p><strong>\"Are you trying to upload the avatar image from the web app you're writing with django?\"</strong> :<br>\nI am trying to figure out how to do that.</p>\n\n<p><strong>\"What do you mean django doesn't have any \"collectmedia\" in its core?\"</strong> :<br>\nLike manage.py collectstatic, which copy to S3 all statitc files in static_root.</p>\n\n<p><strong>\"Are you manually uploading the image file and you still get an \"Access Denied\" error?\"</strong> : Yes.</p>\n"}, {"tags": ["python", "sockets", "irc"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162646, "post_id": 30361577, "comment_id": 48815030, "body": "Which Windows version? As <a href=\"https://docs.python.org/2/library/signal.html#execution-of-python-signal-handlers\" rel=\"nofollow noreferrer\"><code>signal</code></a> explains, when Python receives a signal, it just stashes it away to deal with after the current bytecode finishes. If that bytecode is a call to the C function <code>socket.recv</code>, that won&#39;t finish until there&#39;s data. Of course on most *nix platforms in most scenarios, the signal will interrupt the <code>recv</code>, so that isn&#39;t a problem, but you&#39;re not on *nix, you&#39;re on Windows. And that means digging into what Python&#39;s Windows code and Windows&#39; WinSock2 code do on Ctrl-C here\u2026"}, {"owner": {"reputation": 672, "user_id": 1421248, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/023634de21a47ccbe4c0329059196d34?s=128&d=identicon&r=PG", "display_name": "falconspy", "link": "https://stackoverflow.com/users/1421248/falconspy"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162722, "post_id": 30361577, "comment_id": 48815049, "body": "I&#39;m using Python version 2.7.9 on Windows. I am not doing any kind of threading. The bot just sits and waits for data from a user or channel"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162751, "post_id": 30361577, "comment_id": 48815060, "body": "Yes, I see &quot;Windows&quot;, but which Windows version? (I tried to rewrite my comment to explain why that might matter.)"}, {"owner": {"reputation": 672, "user_id": 1421248, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/023634de21a47ccbe4c0329059196d34?s=128&d=identicon&r=PG", "display_name": "falconspy", "link": "https://stackoverflow.com/users/1421248/falconspy"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162759, "post_id": 30361577, "comment_id": 48815061, "body": "Python 2.7.9 (default, Dec 10 2014, 12:28:03) [MSC v.1500 64 bit (AMD64)] on win32"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162829, "post_id": 30361577, "comment_id": 48815077, "body": "That&#39;s which <i>Python</i> version, not which <i>WIndows</i> versions."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162841, "post_id": 30361577, "comment_id": 48815080, "body": "Also, does Ctrl-Break work, or does it have the same problem as Ctrl-C?"}, {"owner": {"reputation": 672, "user_id": 1421248, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/023634de21a47ccbe4c0329059196d34?s=128&d=identicon&r=PG", "display_name": "falconspy", "link": "https://stackoverflow.com/users/1421248/falconspy"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432162902, "post_id": 30361577, "comment_id": 48815106, "body": "Woops sorry, Windows 8.1 Enterprise 64-bit. Ctrl + Break has the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1432164594, "last_edit_date": 1432164594, "creation_date": 1432163693, "answer_id": 30361923, "question_id": 30361577, "link": "https://stackoverflow.com/questions/30361577/python-script-interrupts-only-after-buffer-receives-data-using-socket-and-keyboa/30361923#30361923", "title": "Python script interrupts only after buffer receives data using socket and KeyboardInterrupt sent", "body": "<p>On Windows, with Python 2.x, Ctrl-C generally does not interrupt socket calls.</p>\n\n<p>In some cases, Ctrl-Break works. If it does, and if that's good enough for you, you're done. </p>\n\n<p>But if Ctrl-Break doesn't work, or if that isn't acceptable as a workaround, the only option is to set your own console ctrl-key handler, with [<code>SetConsoleControlHandler</code>](\n<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686016%28v=vs.85%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms686016%28v=vs.85%29.aspx</a>).</p>\n\n<p>There's a good discussion of this <a href=\"https://github.com/zeromq/pyzmq/issues/100\" rel=\"nofollow\">on the PyZMQ issue tracker</a>, including a link to <a href=\"https://gist.github.com/schlamar/7921ec587dd58a72a6d6\" rel=\"nofollow\">some sample code</a> for working around it.</p>\n\n<p>The code could be simpler if you can use the <code>win32api</code> module from <code>PyWin32</code>, but assuming you can't, I think this is the code you want:</p>\n\n<pre><code>from ctypes import WINFUNCTYPE, windll\nfrom ctypes.wintypes import BOOL, DWORD\n\nkernel32 = windll.LoadLibrary('kernel32')\nPHANDLER_ROUTINE = WINFUNCTYPE(BOOL, DWORD)\nSetConsoleCtrlHandler = kernel32.SetConsoleCtrlHandler\nSetConsoleCtrlHandler.argtypes = (PHANDLER_ROUTINE, BOOL)\nSetConsoleCtrlHandler.restype = BOOL\nCTRL_C_EVENT = 0\nCTRL_BREAK_EVENT = 1\n\n@PHANDLER_ROUTINE\ndef console_handler(ctrl_type):\n    if ctrl_type in (CTRL_C_EVENT, CTRL_BREAK_EVENT):\n        # do something here\n        return True\n    return False\n\nif __name__ == '__main__':\n    if not SetConsoleCtrlHandler(console_handler, True):\n        raise RuntimeError('SetConsoleCtrlHandler failed.')\n</code></pre>\n\n<hr>\n\n<p>The question is what to put in the <code># do something here</code>. If there were an easy answer, Python would already be doing it. :)</p>\n\n<p>According to the docs, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683242(v=vs.85).aspx\" rel=\"nofollow\"><code>HandlerRoutine</code></a> functions actually run on a different thread. And, IIRC, closing the socket out from under the main thread will always cause its <code>recv</code> to wake up and raise an exception. (Not the one you <em>want</em>, but still, something you can handle.)</p>\n\n<p>However, I can't find documentation to prove that\u2014it's definitely not recommended (and WinSock2 seems to officially allow the <code>close</code> to fail with <code>WSAEINPROGRESS</code>, even if no Microsoft implementation of WinSock2 actually does that\u2026), but then you're just trying to bail out and quit here.</p>\n\n<p>So, I believe just defining and installing the handler inside <code>main</code> so you can write <code>s.close()</code> as the <code># do something here</code> will work.</p>\n\n<hr>\n\n<p>If you want to do this in a way that's <em>guaranteed</em> to be safe and effective, even with some weird WinSock2 implementation you've never heard of being, what you need to do is a bit more complicated. You need to make the <code>recv</code> asynchronous, and use either Windows async I/O (which is very painful from Python 2.x, unless you use a heavy-duty library like Twisted), or write cross-platform <code>select</code>-based code (which isn't very Windows-y, but works\u2014as long as your use an extra <code>socket</code> instead of the usual Unix solution of a <code>pipe</code>). Like this (untested!) example:</p>\n\n<pre><code># ctypes setup code from above\n\ndef main():\n    extrasock = socket.socket(socket.SOCK_DGRAM)\n    extrasock.bind(('127.0.0.1', 0))\n    extrasock.setblocking(False)\n\n    @PHANDLER_ROUTINE\n    def console_handler(ctrl_type):\n        if ctrl_type in (CTRL_C_EVENT, CTRL_BREAK_EVENT):\n            killsock = socket.socket(socket.SOCK_DGRAM)\n            killsock.sendto('DIE', extrasock.getsockname())\n            killsock.close()\n            return True\n        return False\n\n    if not SetConsoleCtrlHandler(console_handler, True):\n        raise RuntimeError('SetConsoleCtrlHandler failed.')\n\n    # your existing main code here, up to the try\n    # except that you need s.setblocking(False) too\n    try:\n        r, _, _ = select.select([s, extrasock], [], [])\n        if extrasock in r:\n            raise KeyboardInterrupt\n        if s in r:\n            readbuffer = readbuffer + s.recv(4096)\n    except KeyboardInterrupt:\n    # rest of your code here\n</code></pre>\n\n<p>If this makes no sense to you, the <a href=\"https://docs.python.org/2/howto/sockets.html\" rel=\"nofollow\">Sockets HOWTO</a> actually has a pretty good explanation of how to use <code>select</code>, and the pitfalls of using it on Windows.</p>\n"}], "owner": {"reputation": 672, "user_id": 1421248, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/023634de21a47ccbe4c0329059196d34?s=128&d=identicon&r=PG", "display_name": "falconspy", "link": "https://stackoverflow.com/users/1421248/falconspy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432164594, "creation_date": 1432161573, "last_edit_date": 1432162929, "question_id": 30361577, "link": "https://stackoverflow.com/questions/30361577/python-script-interrupts-only-after-buffer-receives-data-using-socket-and-keyboa", "title": "Python script interrupts only after buffer receives data using socket and KeyboardInterrupt sent", "body": "<p>I'm using Python version 2.7.9 on Windows 8.1 Enterprise 64-bit.</p>\n\n<p>(Python 2.7.9 (default, Dec 10 2014, 12:28:03) [MSC v.1500 64 bit (AMD64)] on win32)</p>\n\n<p>So I am writing a python IRC bot and everything works within the script.</p>\n\n<p>The issue that I am having is if I send a KeyboardInterrupt, the script in the console window shows that it is still running UNTIL the bot receives data.</p>\n\n<p>Situation:</p>\n\n<blockquote>\n  <p>Execute script to connect to IRC server</p>\n  \n  <p>Logs onto the server no problem</p>\n  \n  <p>In console window, I send a CTRL + C</p>\n  \n  <p>Console window hangs making it seem like script is running</p>\n  \n  <p>Send bot a query message / message is sent to the channel</p>\n  \n  <p>Console shows interrupt and exit message I designated in the exception</p>\n</blockquote>\n\n<p>Shouldn't the script immediately quit once a CTRL + C is sent to the console? I do have a part in the script to make it close gracefully if I send a quit message, but this part bothers me.</p>\n\n<p>Here is my code where I believe it may have issues:</p>\n\n<pre><code>def main(NETWORK, NICK, CHAN, PORT):\n   flag = True\n   readbuffer = \"\"\n   global CURRENTCHANNELS\n   global MAXCHANNELS\n\n   s.connect((NETWORK,PORT))\n   s.send(\"NICK %s\\r\\n\" % NICK)\n   s.send(\"USER %s %s bla :%s\\r\\n\" % (IDENTD, NETWORK, REALNAME))\n\n   while(flag):\n       try:\n           readbuffer = readbuffer + s.recv(4096)\n       except KeyboardInterrupt:\n           print \"Interrupt received\"\n       finally:\n            s.close()\n</code></pre>\n"}, {"tags": ["python", "function", "scope"], "comments": [{"owner": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "edited": false, "score": 0, "creation_date": 1432161837, "post_id": 30361555, "comment_id": 48814785, "body": "why was this downvoted?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4773482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6135a0f8aab12020fd71c8fced703f9b?s=128&d=identicon&r=PG&f=1", "display_name": "c3066521", "link": "https://stackoverflow.com/users/4773482/c3066521"}, "edited": false, "score": 0, "creation_date": 1432162507, "post_id": 30361595, "comment_id": 48814999, "body": "Thankyou Paul and others below. Speedy and comprehensive, I really appreciate it."}, {"owner": {"reputation": 51, "user_id": 4773482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6135a0f8aab12020fd71c8fced703f9b?s=128&d=identicon&r=PG&f=1", "display_name": "c3066521", "link": "https://stackoverflow.com/users/4773482/c3066521"}, "edited": false, "score": 0, "creation_date": 1432212822, "post_id": 30361595, "comment_id": 48838490, "body": "Done and thanks again. Just a quick follow-up. Taking the first example of the get_inputs function, am I able to return two separate values? eg:  return input1, input2"}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 4, "last_activity_date": 1432161962, "last_edit_date": 1432161962, "creation_date": 1432161647, "answer_id": 30361595, "question_id": 30361555, "link": "https://stackoverflow.com/questions/30361555/having-trouble-using-user-input-between-functions/30361595#30361595", "title": "Having trouble using user input between functions", "body": "<p>You are trying to use function scope variables in other functions. Nothing outside of function <code>get_inputs</code> can see variable <code>sales_amount</code>, its a variable local to that function. You will encounter the same issue with <code>discount_amount</code>, which is scoped to <code>calculate_discount</code>.</p>\n\n<p>Instead return the values and pass them to other functions.</p>\n\n<pre><code>def get_inputs():\n    return float(input(\"Enter total sales amount: \"))\n\ndef calculate_discount(sales_amount):\n    discount_amount = sales_amount * 2 \n    return discount_amount\n\ndef output(discount_amount):\n    print ( discount_amount )\n\ndef main():\n    inputs = get_inputs()\n    discounts = calculate_discount(inputs)\n    output(discounts)\n\nmain()\n</code></pre>\n\n<p>The dirty option is to make them globals</p>\n\n<pre><code>def get_inputs():\n    global sales_amount\n    sales_amount = float(input(\"Enter total sales amount: \"))\n\ndef calculate_discount(sales_amount):\n    global discount_amount\n    discount_amount = sales_amount * 2 \n    return discount_amount\n\ndef output():\n    print ( discount_amount )\n\ndef main():\n    get_inputs()\n    calculate_discount(sales_amount)\n    output()\n\nmain()\n</code></pre>\n\n<p>Globals are slower, make your code more difficult to maintain and are bad for a whole raft of reasons.</p>\n"}, {"tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 1, "last_activity_date": 1432161711, "creation_date": 1432161711, "answer_id": 30361605, "question_id": 30361555, "link": "https://stackoverflow.com/questions/30361555/having-trouble-using-user-input-between-functions/30361605#30361605", "title": "Having trouble using user input between functions", "body": "<p>The simple answer is to pass <code>sales_amount</code> out of <code>gets_input()</code>:</p>\n\n<pre><code>def get_inputs():\n    sales_amount = float(input(\"Enter total sales amount: \"))\n    return sales_amount\n</code></pre>\n\n<p>and to use it in <code>main()</code>:</p>\n\n<pre><code>def main():\n    sales_amount = get_inputs()\n    calculate_discount(sales_amount)\n    output()\n</code></pre>\n\n<p>If you want to make it \"self-contained\" then you want to use classes:</p>\n\n<pre><code>class Sales(object):\n    def get_inputs(self):\n        self.sales_amount = float(input(\"Enter total sales amount: \"))\n\n    def calculate_discount(self):\n        self.discount_amount = self.sales_amount * 2 \n\n    def output(self):\n        print ( self.discount_amount )\n\n\ndef main():\n    my_sale = Sales()\n    my_sale.get_inputs()\n    my_sale.calculate_discount()\n    my_sale.output()\n\nmain()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1968, "user_id": 2368132, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1c2487e1ee8cdf6257e19b374a6aa46f?s=128&d=identicon&r=PG", "display_name": "Mike Crawford", "link": "https://stackoverflow.com/users/2368132/mike-crawford"}, "is_accepted": false, "score": 0, "last_activity_date": 1432161778, "creation_date": 1432161778, "answer_id": 30361619, "question_id": 30361555, "link": "https://stackoverflow.com/questions/30361555/having-trouble-using-user-input-between-functions/30361619#30361619", "title": "Having trouble using user input between functions", "body": "<p>in each of get_inputs, calculate_discounts and main, sales_amount is a local variable.  It might make more sense to you if each subroutine used a different variable name where presently all three use sales_amount.</p>\n\n<p>I suggest that get_inputs return a result, and that main store the result of get_inputs into a variable that is then passed to calculate_discounts.</p>\n"}, {"tags": [], "owner": {"reputation": 498, "user_id": 3629028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac156119c7461b103bf37306625816e1?s=128&d=identicon&r=PG", "display_name": "laugri", "link": "https://stackoverflow.com/users/3629028/laugri"}, "is_accepted": false, "score": 0, "last_activity_date": 1432161926, "last_edit_date": 1495541155, "creation_date": 1432161926, "answer_id": 30361648, "question_id": 30361555, "link": "https://stackoverflow.com/questions/30361555/having-trouble-using-user-input-between-functions/30361648#30361648", "title": "Having trouble using user input between functions", "body": "<p>This is because variables defined in functions are local in Python.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules/292502#292502\">this StackOverflow answer</a> to help you understand from where you can access variables.</p>\n\n<p>In your case, you should just pass sales_amount as a parameter to your function, as others have pointed out :)</p>\n"}], "owner": {"reputation": 51, "user_id": 4773482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6135a0f8aab12020fd71c8fced703f9b?s=128&d=identicon&r=PG&f=1", "display_name": "c3066521", "link": "https://stackoverflow.com/users/4773482/c3066521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 30361595, "answer_count": 4, "score": 3, "last_activity_date": 1432162362, "creation_date": 1432161506, "last_edit_date": 1432162362, "question_id": 30361555, "link": "https://stackoverflow.com/questions/30361555/having-trouble-using-user-input-between-functions", "title": "Having trouble using user input between functions", "body": "<p>I'm trying to learn Python and I'm really struggling with getting my code into self-contained functions. Here is an example:</p>\n\n<pre><code>def get_inputs():\n    sales_amount = float(input(\"Enter total sales amount: \"))\n\ndef calculate_discount(sales_amount):\n    discount_amount = sales_amount * 2 \n    return discount_amount\n\ndef output():\n    print ( discount_amount )\n\ndef main():\n    get_inputs()\n    calculate_discount(sales_amount)\n    output()\n\nmain()\n</code></pre>\n\n<p>Running this returns</p>\n\n<pre><code>File \"/Users/Desktop/assA3.py\", line 17, in &lt;module&gt;\nmain()\n\nFile \"/Users/Desktop/assA3.py\", line 14, in main\ncalculate_discount(sales_amount)\n\nNameError: name 'sales_amount' is not defined\n</code></pre>\n\n<p>I thought the variable <code>sales_amount</code> was defined by the user input before it is referenced later. I can't figure out what I'm missing.</p>\n\n<p>I apologise for how basic this problem is but I'm clearly misunderstanding something fundamental and I'm just really struggling. Any help would be greatly appreciated. Thanks.</p>\n"}, {"tags": ["python", "amazon-web-services", "boto", "ansible", "rds"], "comments": [{"owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "edited": false, "score": 1, "creation_date": 1432163215, "post_id": 30361478, "comment_id": 48815200, "body": "can you ran the same command in ansible and see what it&#39;s going to print out?"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 1064619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1797307564c2566c3e006aac2f44458f?s=128&d=identicon&r=PG", "display_name": "Chris Young", "link": "https://stackoverflow.com/users/1064619/chris-young"}, "edited": false, "score": 0, "creation_date": 1432625769, "post_id": 30370532, "comment_id": 48985554, "body": "Thanks for that DefionsCode.    I actually want it to use the Python in the virtualenv which it <i>appears</i> to be doing anyway as adding a <code>local_action: command which python</code> yields the path to the virtualenv python: <code>&quot;stdout&quot;: &quot;&#47;home&#47;chris&#47;src&#47;.hc-inf&#47;bin&#47;python&quot;</code>"}], "tags": [], "owner": {"reputation": 453, "user_id": 2649213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba8efe29c622291ba7ec757b6e835592?s=128&d=identicon&r=PG", "display_name": "DefionsCode", "link": "https://stackoverflow.com/users/2649213/defionscode"}, "is_accepted": false, "score": 0, "last_activity_date": 1432202568, "creation_date": 1432202568, "answer_id": 30370532, "question_id": 30361478, "link": "https://stackoverflow.com/questions/30361478/ansible-reports-requires-boto-rds-boto-2-26-0-even-though-boto-2-38-0-is-in/30370532#30370532", "title": "Ansible reports requires boto.rds (boto &gt;= 2.26.0) even though boto 2.38.0 is installed", "body": "<p>As an inventory variable (either in <code>$project_root/group_vars/all</code> or <code>$project_root/host_vars/localhost</code>), specify:</p>\n\n<pre><code>#$project_root/group_vars/all or #host_vars/localhost\nansible_python_interpreter='/usr/bin/env python'\n</code></pre>\n\n<p>Or directly in the inventory file like:</p>\n\n<pre><code># inventory file\nlocalhost ansible_python_interpreter='/usr/bin/env python'\n</code></pre>\n\n<p>That should get you squared away.</p>\n\n<p>Ansible by default won't pickup the env python.</p>\n"}], "owner": {"reputation": 463, "user_id": 1064619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1797307564c2566c3e006aac2f44458f?s=128&d=identicon&r=PG", "display_name": "Chris Young", "link": "https://stackoverflow.com/users/1064619/chris-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517755547, "creation_date": 1432161050, "last_edit_date": 1517755547, "question_id": 30361478, "link": "https://stackoverflow.com/questions/30361478/ansible-reports-requires-boto-rds-boto-2-26-0-even-though-boto-2-38-0-is-in", "title": "Ansible reports requires boto.rds (boto &gt;= 2.26.0) even though boto 2.38.0 is installed", "body": "<p>With Ansible version 1.9.1:</p>\n\n<pre><code>ansible --version\nansible 1.9.1\n</code></pre>\n\n<p>On Ubuntu 14.04.2 LTS</p>\n\n<pre><code>lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04.2 LTS\nRelease:    14.04\nCodename:   trusty\n</code></pre>\n\n<p>I'm using the Ansible rds module to create a database:</p>\n\n<pre><code>- hosts: localhost\n  gather_facts: False\n  sudo: no\n\n  tasks:\n\n    - name: get-boto-version\n      local_action: command python -c 'import boto; print boto.__version__'\n\n    - name: Launch RDS instances\n      rds:\n        region: eu-west-1\n        ec2_access_key: \"{{ ec2_access_key }}\"\n        ec2_secret_key: \"{{ ec2_secret_key }}\"\n        command: create\n        instance_name: test\n        instance_type: db.m1.small\n        tags:\n          this: that\n        db_engine: MySQL\n        size: 10\n        username: foo\n        password: foobar1000\n        vpc_security_groups: this\n        subnet: that\n</code></pre>\n\n<p>I want to add tags to the database, but when I run my playbook I get the following error:</p>\n\n<pre><code>    ansible-playbook -i ec2 simple-db.yml --extra-vars \"ec2_access_key=${AWS_ACCESS_KEY_ID} ec2_secret_key=${AWS_SECRET_ACCESS_KEY}\" -v\n\n    PLAY [localhost] ************************************************************** \n\n    TASK: [get-boto-version] ****************************************************** \n    changed: [127.0.0.1 -&gt; 127.0.0.1] =&gt; {\"changed\": true, \"cmd\": [\"python\", \"-c\", \"import boto; print boto.__version__\"], \"delta\": \"0:00:00.138097\", \"end\": \"2015-05-21 08:36:55.233037\", \"rc\": 0, \"start\": \"2015-05-21 08:36:55.094940\", \"stderr\": \"\", \n    \"stdout\": \"2.38.0\", \"warnings\": []}\n\n    TASK: [Launch RDS instances] ************************************************** \n    failed: [127.0.0.1] =&gt; {\"failed\": true}\n    msg: Parameter tags requires boto.rds (boto &gt;= 2.26.0)\n\n    FATAL: all hosts have already failed -- aborting\n\n    PLAY RECAP ******************************************************************** \n               to retry, use: --limit @/home/chris/simple-db.retry\n\n    127.0.0.1                  : ok=1    changed=1    unreachable=0    failed=1\n</code></pre>\n\n<p>This is despite having a later version of <code>boto</code> installed. See output of task <code>get-boto-version</code> above and ...</p>\n\n<pre><code>$ python -c 'import boto; print boto.__version__'\n2.38.0\n</code></pre>\n\n<p>I'm running in a <code>virtualenv</code>.  Have tried setting the PYTHONPATH to explicitly point to the location of <code>boto</code> in the <code>virtualenv</code>, but no dice.</p>\n\n<p>Can anyone see what I'm doing wrong?</p>\n"}, {"tags": ["python", "range"], "comments": [{"owner": {"reputation": 70911, "user_id": 712603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mCoc7.jpg?s=128&g=1", "display_name": "David Robinson", "link": "https://stackoverflow.com/users/712603/david-robinson"}, "edited": false, "score": 3, "creation_date": 1432161087, "post_id": 30361474, "comment_id": 48814566, "body": "Change <code>range(100,100,1501)</code> to <code>range(100,1501,100)</code>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432161095, "post_id": 30361474, "comment_id": 48814570, "body": "You swapped the end and step."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1432161126, "post_id": 30361474, "comment_id": 48814575, "body": "Also, once you fix that, you&#39;re going to get a <code>NameError</code> because <code>miles</code> and <code>mile</code> aren&#39;t the same thing."}, {"owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1432161145, "post_id": 30361474, "comment_id": 48814581, "body": "syntax is range(start, end +1, step)"}, {"owner": {"reputation": 13, "user_id": 4922376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ed06eb9cbd70d2595055a43c5443b9?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil Raman", "link": "https://stackoverflow.com/users/4922376/akhil-raman"}, "edited": false, "score": 0, "creation_date": 1432161362, "post_id": 30361474, "comment_id": 48814651, "body": "Thank you everyone for your help! As I responded to Ryan below, I had a blank out moment right there."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4922376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ed06eb9cbd70d2595055a43c5443b9?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil Raman", "link": "https://stackoverflow.com/users/4922376/akhil-raman"}, "edited": false, "score": 0, "creation_date": 1432161291, "post_id": 30361485, "comment_id": 48814629, "body": "Ryan, Thank you very much for your help. I just had a &quot;duh!&quot; moment. The previous questions in this chapter I completed with the correct range syntax (start, stop, step), yet somehow forgot to do it on this one!"}], "tags": [], "owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1432161129, "creation_date": 1432161129, "answer_id": 30361485, "question_id": 30361474, "link": "https://stackoverflow.com/questions/30361474/python-converting-miles-to-kilometers/30361485#30361485", "title": "Python: Converting Miles to Kilometers", "body": "<p>That's because you're stepping by 1501 instead of 100:</p>\n\n<pre><code>def mile(x): \n        return 1.609 * x\ndef main():\n    for n in range(100,1501,100):\n        print(n,mile(n))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1432161165, "creation_date": 1432161165, "answer_id": 30361495, "question_id": 30361474, "link": "https://stackoverflow.com/questions/30361474/python-converting-miles-to-kilometers/30361495#30361495", "title": "Python: Converting Miles to Kilometers", "body": "<p>You are using <code>range</code> incorrectly.  The <a href=\"https://docs.python.org/3/library/functions.html#func-range\" rel=\"nofollow\">documentation</a> says:</p>\n\n<blockquote>\n  <p><code>range(start, stop[, step])</code></p>\n</blockquote>\n\n<p>Going from 100 to 100 with a step of 1501 gives you no values, so your range is empty and the loop never runs.  You might have meant <code>range(100, 1501, 100)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1432161521, "creation_date": 1432161521, "answer_id": 30361561, "question_id": 30361474, "link": "https://stackoverflow.com/questions/30361474/python-converting-miles-to-kilometers/30361561#30361561", "title": "Python: Converting Miles to Kilometers", "body": "<p>List comprehensions are now the most pythonic way of doing this</p>\n\n<pre><code>def mile(x):\n     return 1.6*x \ndef main():\n     print [(x, mile(x)) for x in range(100,1501,100)]\n</code></pre>\n\n<p>The upshot is they evaluate lazily which for big lists means less memory pressure.</p>\n"}], "owner": {"reputation": 13, "user_id": 4922376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ed06eb9cbd70d2595055a43c5443b9?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil Raman", "link": "https://stackoverflow.com/users/4922376/akhil-raman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3111, "favorite_count": 0, "accepted_answer_id": 30361485, "answer_count": 3, "score": 0, "last_activity_date": 1432162789, "creation_date": 1432161009, "last_edit_date": 1432162789, "question_id": 30361474, "link": "https://stackoverflow.com/questions/30361474/python-converting-miles-to-kilometers", "title": "Python: Converting Miles to Kilometers", "body": "<p>I am an undergraduate statistics major attempting to learn some programming on the side. I purchased a python book and am stuck on a problem. </p>\n\n<p>The chapter introduces For Loops and the preceding introduced functions. </p>\n\n<p>Question - Write a program <code>disttable.py</code> that prints a table of mile to kilometer conversions for distances between 100 and 1500 miles at 100 mile intervals. Write a function to do the conversion. One mile approximately 1.609 km.</p>\n\n<p>My code thus far - </p>\n\n<pre><code>def mile(x): \n        return 1.609 * x\ndef main():\n    for n in range(100,100,1501):\n        print(n,miles(n))\n</code></pre>\n\n<p>When I call <code>main()</code>, nothing happens. No error message. </p>\n\n<p>I tried to place the for loop inside <code>main()</code>, however, I am unsure how to define the local variable inside the <code>main()</code> when I move the for loop there, so I end up getting a error message stating the local variable isn't defined. </p>\n"}, {"tags": ["python", "http", "flask"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1432161315, "post_id": 30361460, "comment_id": 48814636, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/30339629/python-flask-application-getting-options-instead-of-post\">Python Flask application getting OPTIONS instead of POST</a>"}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1432161432, "post_id": 30361460, "comment_id": 48814669, "body": "@Celeo - That is my question as well. I have clearly tried and looked at the answer and this is a different problem."}, {"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432162688, "post_id": 30361460, "comment_id": 48815042, "body": "HTTP clients send an OPTIONS request first to handle CORS. You don&#39;t have to specifically handle the OPTIONS method. Google &quot;CORS preflight request&quot;"}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432162833, "post_id": 30361460, "comment_id": 48815078, "body": "@nathancahill - That is not working in my case. So I have to explictly send OPTIONS response with the mentioned values."}, {"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 2, "creation_date": 1432162871, "post_id": 30361460, "comment_id": 48815093, "body": "What do you mean not working? Is Flask set up for CORS? Are you using <a href=\"http://flask-cors.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">Flask-CORS</a>?"}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432163469, "post_id": 30361460, "comment_id": 48815283, "body": "@nathancahill - You are a lifesaver :) Can you please post this as an answer so that I can accept it. Thanks :)"}, {"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432163658, "post_id": 30361460, "comment_id": 48815329, "body": "Ok, you should probably delete your other question too :)"}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 0, "creation_date": 1432164589, "post_id": 30361460, "comment_id": 48815637, "body": "well I did try.I didn&#39;t let me :("}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1432165233, "post_id": 30361460, "comment_id": 48815822, "body": "@nathancahill - could you please look at <a href=\"http://stackoverflow.com/questions/30362121/scalable-server-to-listen-to-post-messages\" title=\"scalable server to listen to post messages\">stackoverflow.com/questions/30362121/&hellip;</a> please?"}], "answers": [{"tags": [], "owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "is_accepted": true, "score": 4, "last_activity_date": 1432163561, "creation_date": 1432163561, "answer_id": 30361899, "question_id": 30361460, "link": "https://stackoverflow.com/questions/30361460/sending-response-to-options-in-python-flask-application/30361899#30361899", "title": "Sending Response to OPTIONS in Python Flask application", "body": "<p>You need to set up your application for CORS. The easiest was is to use <a href=\"http://flask-cors.readthedocs.org/en/latest/\" rel=\"nofollow\">Flask-CORS</a>.</p>\n"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10325, "favorite_count": 0, "accepted_answer_id": 30361899, "answer_count": 1, "score": 5, "last_activity_date": 1432163561, "creation_date": 1432160901, "last_edit_date": 1432161477, "question_id": 30361460, "link": "https://stackoverflow.com/questions/30361460/sending-response-to-options-in-python-flask-application", "title": "Sending Response to OPTIONS in Python Flask application", "body": "<p>I have a python Flask listener waiting on port 8080. I expect another process to make a series of POST's to this port.The code for listener is as follows.</p>\n\n<pre><code>#!/usr/bin/env python2\nfrom __future__ import print_function\nfrom flask import Flask, request\nfrom werkzeug import secure_filename\nfrom datetime import datetime\nimport os, traceback, sys \nimport zlib\nimport ssl \nimport json\nimport os\nimport base64\n\napp = Flask('__name__')\n\n@app.route('/',methods=['GET','POST','OPTIONS'])                                                                                                                                         \ndef recive_fe_events():\n    try:\n        data = request.get_data()\n\n        if request.content_length &lt; 20000 and request.content_length != 0:\n            filename = 'out/{0}.json'.format(str(datetime.now()))\n            with open(filename, 'w') as f:\n                 f.write(data)\n\n            print('Wrote', filename)\n        else:\n            print(\"Request too long\", request.content_length)\n            content = '{{\"status\": 413, \"content_length\": {0}, \"content\": \"{1}\"}}'.format(request.content_length, data)\n            return content, 413 \n    except:\n        traceback.print_exc()\n        return None, status.HTTP_500_INTERNAL_SERVER_ERROR\n\n    return '{\"status\": 200}\\n'\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0',debug=False,port=8080)\n</code></pre>\n\n<p>However whenever I try to trigger an event to be pushed to the above listener.It seems that I am getting <code>OPTIONS</code> instead of <code>POST</code>. </p>\n\n<pre><code>192.168.129.75 - - [20/May/2015 14:33:45] \"OPTIONS / HTTP/1.1\" 200 -\n192.168.129.75 - - [20/May/2015 14:33:45] \"OPTIONS / HTTP/1.1\" 200 -\n192.168.129.75 - - [20/May/2015 14:33:51] \"OPTIONS / HTTP/1.1\" 200 -\n192.168.129.75 - - [20/May/2015 14:33:51] \"OPTIONS / HTTP/1.1\" 200 -\n</code></pre>\n\n<p>The investigation of my client revealed that it expects the following flags in its <code>response</code> to <code>OPTIONS</code>.</p>\n\n<pre><code>Access-Control-Allow-Origin          value_1\nAccess-Control-Allow-Methods         value_2      \nAccess-Control-Allow-Headers         value_3\n</code></pre>\n\n<p>How do I format the above <code>response</code> to <code>OPTIONS</code> so that my server can start receiving <code>POST</code> messages from the client. </p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 1226, "user_id": 1920968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86485848ffa24e80357abe78325a56d?s=128&d=identicon&r=PG", "display_name": "zEro", "link": "https://stackoverflow.com/users/1920968/zero"}, "edited": false, "score": 0, "creation_date": 1432163730, "post_id": 30361449, "comment_id": 48815358, "body": "Have you tried <a href=\"http://www.django-rest-framework.org/tutorial/3-class-based-views/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#saving-instances\" rel=\"nofollow noreferrer\">this</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "is_accepted": true, "score": 5, "last_activity_date": 1432163991, "creation_date": 1432163991, "answer_id": 30361985, "question_id": 30361449, "link": "https://stackoverflow.com/questions/30361449/some-actions-with-object-in-updateapiview-when-update/30361985#30361985", "title": "Some actions with object in UpdateAPIView when update", "body": "<p>You can get it with self.get_object()</p>\n\n<p>Take a look at the source UpdateView, which you are overriding. You can use the same method to get the object:</p>\n\n<pre><code>class UpdateModelMixin(object):\n    \"\"\"\n    Update a model instance.\n    \"\"\"\n    def update(self, request, *args, **kwargs):\n        partial = kwargs.pop('partial', False)\n        instance = self.get_object()\n        serializer = self.get_serializer(instance, data=request.data, partial=partial)\n        serializer.is_valid(raise_exception=True)\n        self.perform_update(serializer)\n        return Response(serializer.data)\n\n    def perform_update(self, serializer):\n        serializer.save()\n\n    def partial_update(self, request, *args, **kwargs):\n        kwargs['partial'] = True\n        return self.update(request, *args, **kwargs)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "is_accepted": false, "score": 4, "last_activity_date": 1432165939, "creation_date": 1432165939, "answer_id": 30362277, "question_id": 30361449, "link": "https://stackoverflow.com/questions/30361449/some-actions-with-object-in-updateapiview-when-update/30362277#30362277", "title": "Some actions with object in UpdateAPIView when update", "body": "<p>You can use <a href=\"http://www.django-rest-framework.org/api-guide/generic-views/\" rel=\"nofollow\">the <code>perform_update</code> method</a> which is available on views and is used to perform the update on the serializer. It is designed to be a hook that is triggered when the serializer needs to be saved (which performs the update), and it must call <code>serializer.save()</code> in order to do the update.</p>\n\n<pre><code>def perform_update(self, serializer):\n    # get the object itself\n    instance = self.get_object()\n    # modify fields during the update\n    modified_instance = serializer.save(model_field=new_value)\n</code></pre>\n\n<p>You can pass attributes that should be updated on the model in the <code>save</code> method on the serializer. It is not recommended to interact directly with the instance unless you are using the one returned from <code>serializer.save()</code>, which will contain any updated fields on the model.</p>\n"}], "owner": {"reputation": 5429, "user_id": 1751039, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1fec4c8deb40ebcf499d6aaf102267f4?s=128&d=identicon&r=PG", "display_name": "Lev", "link": "https://stackoverflow.com/users/1751039/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9020, "favorite_count": 0, "accepted_answer_id": 30361985, "answer_count": 2, "score": 4, "last_activity_date": 1432167873, "creation_date": 1432160831, "last_edit_date": 1432167873, "question_id": 30361449, "link": "https://stackoverflow.com/questions/30361449/some-actions-with-object-in-updateapiview-when-update", "title": "Some actions with object in UpdateAPIView when update", "body": "<p>My code:</p>\n\n<pre><code>class CarView(generics.UpdateAPIView):\n    permission_classes = (IsAdminUser,)\n    serializer_class = CarSerializer\n\n    def get_queryset(self):\n        return ...\n\n    def update(self, request, *args, **kwargs):\n        # some actions\n        return super(CarView, self).update(request, *args, **kwargs) \n</code></pre>\n\n<p>In update method I want to do some operations with updated object. How to do this?</p>\n"}, {"tags": ["python", "function", "input", "arguments", "terminology"], "comments": [{"owner": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 2, "creation_date": 1432161010, "post_id": 30361438, "comment_id": 48814538, "body": "They are interchangeable really."}, {"owner": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "reply_to_user": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 0, "creation_date": 1432161622, "post_id": 30361438, "comment_id": 48814719, "body": "@MartinKonecny Ok, thanks"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1432198868, "post_id": 30361438, "comment_id": 48828599, "body": "Now I think it&#39;s a good question because it led to more than one simple answer that seemed obvious from the quoted tutorial text."}], "answers": [{"tags": [], "owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1432199267, "last_edit_date": 1432199267, "creation_date": 1432161163, "answer_id": 30361494, "question_id": 30361438, "link": "https://stackoverflow.com/questions/30361438/python-function-taking-argument-vs-input/30361494#30361494", "title": "Python function taking argument vs input", "body": "<p>It's the same term: The actual input of a function is the argument(s) passed when calling it.</p>\n\n<p><strong>Edit:</strong> As I learned, there are more than one answer to the question what <em>input</em> may mean to a function. However, in the case of this basic tutorial the simple answer is appropriate.</p>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1432161197, "creation_date": 1432161197, "answer_id": 30361505, "question_id": 30361438, "link": "https://stackoverflow.com/questions/30361438/python-function-taking-argument-vs-input/30361505#30361505", "title": "Python function taking argument vs input", "body": "<p>I guess you are confusing the expressions.</p>\n\n<p>The <strong>input(s)</strong> of a function is (are) the value(s) you pass as argument(s).</p>\n"}, {"tags": [], "owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "is_accepted": false, "score": 3, "last_activity_date": 1432161561, "creation_date": 1432161561, "answer_id": 30361573, "question_id": 30361438, "link": "https://stackoverflow.com/questions/30361438/python-function-taking-argument-vs-input/30361573#30361573", "title": "Python function taking argument vs input", "body": "<p>The inputs to a function are <strong>not only</strong> the arguments. The function arguments are just one form of input that a function can take. Some functions take other types of inputs. So an <em>input</em> is more general than an <em>argument</em>.</p>\n\n<p>A function can take input from a file or network socket or from a global or module variable.</p>\n\n<p>A class or instance method of a class can also take input from class or instance variables on that same class.</p>\n\n<p>However, in this particular context, the question appears to be using the two interchangeably.</p>\n"}, {"comments": [{"owner": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "edited": false, "score": 0, "creation_date": 1432164172, "post_id": 30361617, "comment_id": 48815488, "body": "Would you say that the Codeacademy question/instruction could be better written with less ambiguity?"}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "edited": false, "score": 0, "creation_date": 1432220573, "post_id": 30361617, "comment_id": 48844582, "body": "I would say that &quot;takes a positive integer as an argument&quot; is more specific and clearer assuming they have previously defined what an argument is. However if the assumption is that they always pass values to you as arguments directly then there is little ambiguity. If at some point they ask questions involving console or file input it would be better to be precise early on."}], "tags": [], "owner": {"reputation": 2747, "user_id": 666884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25312de0634467e6f2a5c332206f576?s=128&d=identicon&r=PG&f=1", "display_name": "pathfinderelite", "link": "https://stackoverflow.com/users/666884/pathfinderelite"}, "is_accepted": false, "score": 2, "last_activity_date": 1432162372, "last_edit_date": 1432162372, "creation_date": 1432161777, "answer_id": 30361617, "question_id": 30361438, "link": "https://stackoverflow.com/questions/30361438/python-function-taking-argument-vs-input/30361617#30361617", "title": "Python function taking argument vs input", "body": "<p>I think the term <em>input</em> is too ambiguous to equate to <em>argument</em>.  Object methods could use object members as <em>input</em>, but these would not be passed in as arguments.  Also, arguments can be outputs (e.g. an array which is filled by the method).</p>\n"}], "owner": {"reputation": 1550, "user_id": 3772347, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/PXajO.jpg?s=128&g=1", "display_name": "AdjunctProfessorFalcon", "link": "https://stackoverflow.com/users/3772347/adjunctprofessorfalcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1432199267, "creation_date": 1432160805, "last_edit_date": 1432162365, "question_id": 30361438, "link": "https://stackoverflow.com/questions/30361438/python-function-taking-argument-vs-input", "title": "Python function taking argument vs input", "body": "<p>Is there a difference in the Python nomeclature wherein a function taking input is different than a function taking an argument? </p>\n\n<p>Isn't the input (i.e. the data you would have a function \"process\") the same as when you pass an argument to a function? </p>\n\n<p>The reason I'm asking is Codeacademy has a tutorial that asks the student:</p>\n\n<blockquote>\n  <p>Write a function called digit_sum that takes a positive integer n as\n  input and returns the sum of all that number's digits.</p>\n  \n  <p>For example: digit_sum(1234) should return 10 which is 1 + 2 + 3 + 4.</p>\n  \n  <p>(Assume that the number you are given will always be positive.)</p>\n</blockquote>\n\n<p>Isn't input in this sense the same as an argument? </p>\n\n<p>Codeacademy is notorious for its poorly written tutorials, so just checking.</p>\n"}, {"tags": ["python", "gis", "arcpy"], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 4747285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a40d8c2f15218b7af8285453c581c57?s=128&d=identicon&r=PG&f=1", "display_name": "DWynne", "link": "https://stackoverflow.com/users/4747285/dwynne"}, "edited": false, "score": 1, "creation_date": 1432229329, "post_id": 30376606, "comment_id": 48850328, "body": "Agreed. However, to match the question you should also show rounding. <code>row[2] = round(row[0], 3)</code>, etc"}, {"owner": {"reputation": 446, "user_id": 641922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869c37d43a8dc18d3752011e1342436d?s=128&d=identicon&r=PG", "display_name": "Evan", "link": "https://stackoverflow.com/users/641922/evan"}, "reply_to_user": {"reputation": 136, "user_id": 4747285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a40d8c2f15218b7af8285453c581c57?s=128&d=identicon&r=PG&f=1", "display_name": "DWynne", "link": "https://stackoverflow.com/users/4747285/dwynne"}, "edited": false, "score": 0, "creation_date": 1432229878, "post_id": 30376606, "comment_id": 48850639, "body": "Good point @DWynne. I updated the code to include the round function."}], "tags": [], "owner": {"reputation": 446, "user_id": 641922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869c37d43a8dc18d3752011e1342436d?s=128&d=identicon&r=PG", "display_name": "Evan", "link": "https://stackoverflow.com/users/641922/evan"}, "is_accepted": true, "score": 1, "last_activity_date": 1432229744, "last_edit_date": 1432229744, "creation_date": 1432218247, "answer_id": 30376606, "question_id": 30361391, "link": "https://stackoverflow.com/questions/30361391/writing-lat-long-geometries-to-a-feature-class-field/30376606#30376606", "title": "Writing lat/long geometries to a feature class field", "body": "<p>You were on the right track with the <code>UpdateCursor</code>. If you haven't already added the XY fields, then you can do that with the script and set the <code>field_scale</code> parameter (number of decimal places) to 3 or round the values themselves. Then just make sure to include the new XY fields when you create the cursor.</p>\n\n<pre><code>import arcpy\n\nfrom arcpy import env \nenv.workspace = 'C:\\Users\\Testing'\nenv.overwriteOutput = True\n\ninFeatures = 'ras2point.shp'\narcpy.AddField_management(inFeatures, 'X', 'DOUBLE', 8, 3)\narcpy.AddField_management(inFeatures, 'Y', 'DOUBLE', 8, 3)\nwith arcpy.da.UpdateCursor(inFeatures, ['SHAPE@X', 'SHAPE@Y', 'X', 'Y']) as cursor:\n    for row in cursor:\n        row[2] = round(row[0], 3)\n        row[3] = round(row[1], 3)\n        cursor.updateRow(row)\n\nprint 'FINISHED'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4816221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f5c8d635761721e1a3c2a43b5e0ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Dejon Elmer", "link": "https://stackoverflow.com/users/4816221/dejon-elmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "accepted_answer_id": 30376606, "answer_count": 1, "score": 0, "last_activity_date": 1432229744, "creation_date": 1432160492, "last_edit_date": 1432228623, "question_id": 30361391, "link": "https://stackoverflow.com/questions/30361391/writing-lat-long-geometries-to-a-feature-class-field", "title": "Writing lat/long geometries to a feature class field", "body": "<p>I have a point feature class with over 80 million features that need to have fields added to include both the lat/long coordinates in two different fields. While it is easy to calculate this in ArcMap, I need to write a script that will write both to the table then round to within 3 of the decimal point. I have tried using both <code>InsertCursor</code> and <code>UpdateCursor</code> and have failed to be able to write to the fields. However when I use the <code>SearchCursor</code> I can retrieve the values I am just unable to write them to the fields. </p>\n\n<p>Here's what I am working with so far:</p>\n\n<pre><code>import arcpy\n\nfrom arcpy import env \nenv.workspace = 'C:\\Users\\Testing'\nenv.overwriteOutput = True\n\ninFeatures = \"ras2point.shp\"\ncursor = arcpy.da.InsertCursor(inFeatures, [\"SHAPE@X\"])\nfor row in inFeatures:\n     X = row[0]\n     cursor.insertRow([X])\n\ndel row\ndel cursor   \nprint 'FINISHED'\n</code></pre>\n"}, {"tags": ["c#", "python", "visual-studio", "pycharm", "python.net"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1499265648, "post_id": 30361381, "comment_id": 76834185, "body": "<a href=\"https://github.com/pythonnet/pythonnet/wiki/Various-debugging-scenarios-of-embedded-CPython\" rel=\"nofollow noreferrer\">github.com/pythonnet/pythonnet/wiki/&hellip;</a>"}], "owner": {"reputation": 3245, "user_id": 1141818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/49d11c19126e225ff02a84d646df25e8?s=128&d=identicon&r=PG", "display_name": "GuillaumeA", "link": "https://stackoverflow.com/users/1141818/guillaumea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1499286092, "creation_date": 1432160468, "last_edit_date": 1499286092, "question_id": 30361381, "link": "https://stackoverflow.com/questions/30361381/debug-assembly-with-python-net-script", "title": "Debug assembly with python.net script", "body": "<p>I would like to know if it is poasible to debug a .NET assembly called from ampython.net script ? I tried to attach (debug) the solution to PyCharm (the python IDE I use) but without success.</p>\n\n<p>Usong IronPython is not a solution as I need scientific libraries such as numpy and Co.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "datetime"], "comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1432160552, "post_id": 30361349, "comment_id": 48814387, "body": "How do you obtain that <code>time_str</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3921265"}, "reply_to_user": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1432160682, "post_id": 30361349, "comment_id": 48814432, "body": "@PascalvKooten: from sar&#39;s output"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1432193142, "post_id": 30361349, "comment_id": 48825039, "body": "note: <code>time.strptime(*args)</code> returns <code>time.struct_time()</code>, not <code>datetime.time()</code>. To get the latter, call <code>datetime.strptime(*args).time()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3921265"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1432219472, "post_id": 30361349, "comment_id": 48843668, "body": "@J.F.Sebastian great perfect that is the last piece of the puzzle (for me in this particular instance, all my excuses to user abarnert for not reading the full datetime.datetime/datetime.date/datetime.time/time.struc_tim&zwnj;&#8203;e/etc documentation and taking a risk at asking a question on SO, so following that train of thought perhaps it is about time that people sort out stuff on their own by reading docs and books instead of bothering other SO users... &lt;end of rant&gt;)"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 5, "last_activity_date": 1432160579, "last_edit_date": 1592644375, "creation_date": 1432160579, "answer_id": 30361400, "question_id": 30361349, "link": "https://stackoverflow.com/questions/30361349/combine-datetime-date-object-with-time-string-in-a-datetime-datetime-object/30361400#30361400", "title": "Combine datetime.date object with time string in a datetime.datetime object", "body": "<p>If you just read the docs for <a href=\"https://docs.python.org/2/library/datetime.html#datetime.datetime\" rel=\"noreferrer\"><code>datetime</code></a>, or look at the <code>help(datetime)</code> in the interactive interpreter, you'll see the <a href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime.combine\" rel=\"noreferrer\"><code>combine</code></a> method:</p>\n<blockquote>\n<p><em>classmethod</em> <code>datetime.combine(date, time)</code></p>\n<p>Return a new <code>datetime</code> object whose date components are equal to the given <code>date</code> object\u2019s, and whose time components and <code>tzinfo</code> attributes are equal to the given <code>time</code> object\u2019s. For any <code>datetime</code> object <em>d</em>, <code>d == datetime.combine(d.date(), d.timetz())</code>. If <em>date</em> is a <code>datetime</code> object, its time components and <code>tzinfo</code> attributes are ignored.</p>\n</blockquote>\n<p>So, you don't have to write the method yourself; it's already there in the module.</p>\n<p>Of course you need to parse that <code>time_str</code> into a <code>time</code> object, but you clearly already know how to do that.</p>\n<hr />\n<p>But if you <em>did</em> want to write it yourself, formatting the date and time as strings just to parse them back out would be silly. Why not just access the attributes directly?</p>\n<pre><code>return datetime(d.year, d.month, d.day, t.hour, t.minute. t.second, t.tzinfo)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3921265"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1528, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432161046, "creation_date": 1432160359, "last_edit_date": 1432161046, "question_id": 30361349, "link": "https://stackoverflow.com/questions/30361349/combine-datetime-date-object-with-time-string-in-a-datetime-datetime-object", "title": "Combine datetime.date object with time string in a datetime.datetime object", "body": "<p>Say you have a <code>datetime.date</code> object such as that returned by <code>datetime.date.today()</code>.</p>\n\n<p>Then later on you also get a string representing the time that complements the date object.</p>\n\n<p>What is a pythonic way of combining these two in a datetime.datetime object? More specifically, can I avoid converting the date object to a string? </p>\n\n<p>This is how I get it done for now:</p>\n\n<pre><code>def combine_date_obj_and_time_str(date_obj, time_str):\n    # time_str has this form: 03:40:01 PM\n    return datetime.datetime.strptime(date_obj.strftime(\"%Y-%m-%d\") + ' ' + time_str, \"%Y-%m-%d %I:%M:%S %p\")\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I looked into <code>datetime.datetime.combine</code> as the first answer describes, but I am a bit at loss with getting the time string into a time object:</p>\n\n<pre><code>&gt;&gt;&gt; datetime.datetime.combine(datetime.date.today(), time.strptime(\"03:40:01 PM\", \"%I:%M:%S %p\"))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: combine() argument 2 must be datetime.time, not time.struct_time\n&gt;&gt;&gt; datetime.datetime.combine(datetime.date.today(), datetime.time.strptime(\"03:40:01 PM\", \"%I:%M:%S %p\"))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: type object 'datetime.time' has no attribute 'strptime'\n</code></pre>\n"}, {"tags": ["javascript", "python", "svg", "flask", "requirejs"], "owner": {"reputation": 18460, "user_id": 974407, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/19c57d25aa8932f3c41257ab756b69eb?s=128&d=identicon&r=PG", "display_name": "Johnston", "link": "https://stackoverflow.com/users/974407/johnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1432159928, "creation_date": 1432159928, "question_id": 30361274, "link": "https://stackoverflow.com/questions/30361274/uncaught-syntaxerror-unexpected-identifier-requirejs-and-svgjs", "title": "Uncaught SyntaxError: Unexpected identifier RequireJS and SVGJS", "body": "<p>I am attempting to use RequireJS and SVG.JS together (I happen to be using Flask also but that should not matter for this bug). I am getting this error:</p>\n\n<pre><code>Uncaught SyntaxError: Unexpected identifier\n</code></pre>\n\n<p>And the error points to code that looks like this (This appears to be generated somehow by Require or SVG or something). At <code>VM4803:2</code> which I believe is generated by Chrome's JS Engine. </p>\n\n<pre><code>(function() {\n   [object SVGSVGElement]\n})\n</code></pre>\n\n<p>Obviously this is not valid code. The code I wrote in a couple of files is as follows.<br/></p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{{ url_for('static', filename='css/styles.css') }}\"&gt;\n    &lt;title&gt;MCB&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"canvas\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar staticJSURL = \"{{ url_for('static',filename='js') }}\";\n&lt;/script&gt;\n&lt;script data-main=\"{{ url_for('static',filename='js/app') }}\" src=\"{{ url_for('static', filename='js/lib/require.js') }}\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>requirejs.config({\n    baseUrl: staticJSURL + '/lib/',\n    paths: {\n        app: staticJSURL + \"/app/\",\n        svg: staticJSURL + \"/lib/svg\",\n        \"svg-grid\" : staticJSURL + \"/app/helpers/grid\"  \n    },\n    shim: {\n        svg: {\n            exports: 'SVG'\n        },\n            'svg-grid': {\n                deps: ['svg']\n        }\n    }\n});\n\n\nrequirejs(['app/main']);\n</code></pre>\n\n<p><strong>main.js</strong></p>\n\n<pre><code>define(['svg','svg-grid'],function (require,grid) {\n\n    var canvasSize = {\n        width: window.innerWidth - 16,\n        height: window.innerHeight - 16\n    }\n    var draw = SVG('canvas').size(canvasSize.width,canvasSize.height);\n    draw.rect(canvasSize.width,canvasSize.height)\n    .stroke({\n        width: 1,\n        color: \"#000\"\n    })\n    .fill({\n        color: \"#FFF\"\n    });\n\n    SVG.Grid('100%').start();\n\n});\n</code></pre>\n\n<p><strong>grid.js</strong></p>\n\n<pre><code>SVG.Grid = function(width, height, cellSize){\n    console.log(\"grid init\",width,height,cellSize);\n    this.constructor.call(this, SVG.create('svg'));\n    this.viewbox(0, 0, 100, 100);\n    this.update(0);\n}\n\nSVG.Grid.prototype = new SVG.Container;\n\nSVG.extend(SVG.Grid, {\n    draw: function() {\n        console.log(\"Draw\")\n    }\n\n});\n\nSVG.extend(SVG.Container, {\n    Grid: function(width, height, cellSize){\n        return this.put(new SVG.Grid(size));\n    }\n});\n</code></pre>\n\n<p>My goal is to just make these files work together without getting errors. Basically I am trying to setup the requirejs structure with svg js. I know this isn't a valid grid and it doesn't show much but I don't understand how to get rid of that error. I tried variations of getting rid of different things in the config. I am sure that all the files are being found because the network tab in Chrome shows a 200 status for all of them. </p>\n\n<p>For completeness sake this is my app.py that flask is running to show the index.html file. </p>\n\n<pre><code>from flask import Flask, render_template\napp = Flask(__name__)\napp.debug = True\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n"}, {"tags": ["python", "for-loop", "sensors", "light", "ambient"], "comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1432160098, "post_id": 30361267, "comment_id": 48814223, "body": "You even keep it a secret at which line the error occurred? Man, you really don&#39;t want help..."}, {"owner": {"reputation": 47, "user_id": 4919760, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/15bd5d2ddc0db906dd49a9fb2d49192f?s=128&d=identicon&r=PG&f=1", "display_name": "Bryn", "link": "https://stackoverflow.com/users/4919760/bryn"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1432160341, "post_id": 30361267, "comment_id": 48814316, "body": "Im sorry but this is what the complete error says:"}, {"owner": {"reputation": 47, "user_id": 4919760, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/15bd5d2ddc0db906dd49a9fb2d49192f?s=128&d=identicon&r=PG&f=1", "display_name": "Bryn", "link": "https://stackoverflow.com/users/4919760/bryn"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1432160428, "post_id": 30361267, "comment_id": 48814343, "body": "Traceback (most recent call last):   File &quot;C:\\Users\\\\Desktop\\&quot;, line 67, in -toplevel-     main()   File &quot;C:\\Users\\&quot;, line 65, in main     average()   File &quot;C:\\Users\\&quot;, line 46, in average     max(rightSensor) ValueError: max() arg is an empty sequence"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1432160601, "post_id": 30361267, "comment_id": 48814401, "body": "what is the meaning of the three consecutive return statements <code>return rightSensor</code> <code>return centerSensor</code> <code>return leftSensor</code>? Only the first one will ever be executed."}, {"owner": {"reputation": 47, "user_id": 4919760, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/15bd5d2ddc0db906dd49a9fb2d49192f?s=128&d=identicon&r=PG&f=1", "display_name": "Bryn", "link": "https://stackoverflow.com/users/4919760/bryn"}, "edited": false, "score": 0, "creation_date": 1432160838, "post_id": 30361267, "comment_id": 48814493, "body": "I thought I had to return them to use them as values. Are they not necessary?"}], "answers": [{"tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1432160483, "creation_date": 1432160483, "answer_id": 30361386, "question_id": 30361267, "link": "https://stackoverflow.com/questions/30361267/determine-the-amount-of-ambient-light-levels/30361386#30361386", "title": "determine the amount of ambient light levels", "body": "<p>This is the relevant part of your code:</p>\n\n<pre><code>def average():\n    rightSensor = []\n    (do stuff that does not change rightSensor)\n    max(rightSensor)\n</code></pre>\n\n<p>No wonder it's empty then.</p>\n"}], "owner": {"reputation": 47, "user_id": 4919760, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/15bd5d2ddc0db906dd49a9fb2d49192f?s=128&d=identicon&r=PG&f=1", "display_name": "Bryn", "link": "https://stackoverflow.com/users/4919760/bryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1432161162, "creation_date": 1432159903, "last_edit_date": 1432161162, "question_id": 30361267, "link": "https://stackoverflow.com/questions/30361267/determine-the-amount-of-ambient-light-levels", "title": "determine the amount of ambient light levels", "body": "<p>For this program I am working with python. </p>\n\n<p>I am supposed to move the robot to a random position and rotate it 360 degrees. I have to assign 15 readings from all three light sensors to three different lists. </p>\n\n<p>I then have to calculate the average of the light value from each sensor, and then determine the maximum and minimum values for each sensor. </p>\n\n<p>I then have to calculate and display the average of the light values from all three sensors, and have it announce the average light value of its surrounding and whether its too bright or too dark. </p>\n\n<p>I believe that I have done all this, but my program does not work. For instance, my robot moves in random position and then turns 360 degrees, but then the program just stops and I can't figure out why. </p>\n\n<p>An error appears that says:                   </p>\n\n<pre><code>max() arg is an empty sequence \n</code></pre>\n\n<p>If someone could help me figure out what I am doing wrong that would be great!\nThank you so much!!!</p>\n\n<p>This is my program:</p>\n\n<pre><code>from myro import *\ninit(\"simulator\")\n\ndef pressC():\n    entry = \" \"\n    while(entry != \"c\"):\n        entry = raw_input(\"Press c to continue: \")\n\ndef movement():\n    rightSensor = []\n    centerSensor = []\n    leftSensor = []\n    return rightSensor\n    return centerSensor\n    return leftSensor\n\n    for index in range(1,15):\n        rightSensor.append(getLight(\"right\"))\n        centerSensor.append(getLight(\"center\"))\n        leftSensor.append(getLight(\"left\"))\n\ndef average():\n    rightSensor = []\n    centerSensor = []\n    leftSensor = []\n    sumRight = 0\n    sumCenter = 0\n    sumLeft = 0\n\n    for index in range(len(rightSensor)):\n        sumRight = sumRight + rightSensor[index]\n        averageRight = sumRight / 15\n\n    for index in range(len(centerSensor)):\n        sumCenter = sumCenter + centerSensor[index]\n        averageCenter = sumCenter / 15\n        while averageCenter &gt; 100:\n            speak(\"Its too dark. I need light\")\n        else:\n            speak(\"Its so bright\")\n\n    for index in range(len(leftSensor)):\n        sumLeft = sumLeft + leftSensor[index]\n        averageLeft = sumLeft / 15\n\n    max(rightSensor)\n    min(rightSensor)\n    max(centerSensor)\n    min(centerSensor)\n    max(leftSensor)\n    min(leftSensor)\n\n    print \"Left Avg: \" + str(averageLeft), \"Max: \" + str(leftSensor), \"Min: \" + str(leftSensor)\n    print \"Center Avg: \" + str(averageCenter), \"Max: \" + str(centerSensor), \"Min: \" + str(centerSensor)\n    print \"Right Avg: \" + str(averageRight), \"Max: \" + str(rightSensor), \"Min: \" + str(rightSensor)\n\n\ndef main():\n    pressC()\n    forward(1,1)\n    rotate(1)\n    wait(7)\n    stop()\n    movement()\n    average()\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 3, "creation_date": 1432159764, "post_id": 30361221, "comment_id": 48814102, "body": "Can you elaborate what you mean by &quot;isn&#39;t working&quot;?"}, {"owner": {"reputation": 15, "user_id": 4412549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-HBcGiOeXvy0/AAAAAAAAAAI/AAAAAAAAAEM/dA6SymSTTLo/photo.jpg?sz=128", "display_name": "coconutfury", "link": "https://stackoverflow.com/users/4412549/coconutfury"}, "reply_to_user": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1432159909, "post_id": 30361221, "comment_id": 48814156, "body": "Oh, just edited the post, sorry, pretty new to this site, I&#39;ve added more details on my problem"}], "answers": [{"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 1, "last_activity_date": 1432160334, "last_edit_date": 1432160334, "creation_date": 1432159933, "answer_id": 30361277, "question_id": 30361221, "link": "https://stackoverflow.com/questions/30361221/im-really-new-to-python-and-i-was-wondering-why-my-else-isnt-working/30361277#30361277", "title": "I&#39;m really new to Python, and I was wondering why my &quot;Else:&quot; isn&#39;t working", "body": "<p>First of all when you use <code>raw_input(\"Try to guess my number...\")</code> ir returns a string and <code>str!=int</code> in any case so you were running an <strong>infinite</strong> <code>while guess!=number:</code> loop, as the condition would always hold true for comparison of a string and an integer.</p>\n\n<p>Another thing was contradicting statements of <code>while</code> and <code>elif</code>, when you are running a while condition with <code>while guess!=number:</code> then how can you expect this <code>elif guess==number:</code> statement to run inside the while statement , So the answer would be handle this case outside the <code>while</code> loop.</p>\n\n<pre><code>import random\n\nnumber = 50\nguess = int(raw_input(\"Try to guess my number...\"))\n\nwhile guess!=number:\n    if guess&gt;number:\n        print \"Lower\"\n    else:\n        print \"Higher\"\n    guess = int(raw_input(\"Try again...\"))\n\nprint \"Correct, you win!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "is_accepted": true, "score": 2, "last_activity_date": 1432159974, "creation_date": 1432159974, "answer_id": 30361287, "question_id": 30361221, "link": "https://stackoverflow.com/questions/30361221/im-really-new-to-python-and-i-was-wondering-why-my-else-isnt-working/30361287#30361287", "title": "I&#39;m really new to Python, and I was wondering why my &quot;Else:&quot; isn&#39;t working", "body": "<p>It's not working because <code>raw_input</code> returns a string.</p>\n\n<pre><code>\"50\" == 50 # False!\n</code></pre>\n\n<p>You will need to ensure you are checking for equality of the same types. Try converting to an int first:</p>\n\n<pre><code>int(raw_input(\"Try to guess my number...\"))\n</code></pre>\n\n<p>Of course this will throw an exception if you try to convert a non-numeric string to an int, so you will need some error-handling as well:</p>\n\n<pre><code>valid_num = False\n\nwhile not valid_num:\n    guess = raw_input()\n    try:\n        guess_num = int(guess)\n        valid_num = True\n    except ValueError:\n        print \"Please enter a valid number\"\n\n\nwhile guess!=number:\n    if guess&gt;number:\n        print \"Lower\"\n    elif guess==number:\n        print \"Correct, you win!\"\n    else:\n        print \"Higher\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 0, "last_activity_date": 1432159997, "creation_date": 1432159997, "answer_id": 30361292, "question_id": 30361221, "link": "https://stackoverflow.com/questions/30361221/im-really-new-to-python-and-i-was-wondering-why-my-else-isnt-working/30361292#30361292", "title": "I&#39;m really new to Python, and I was wondering why my &quot;Else:&quot; isn&#39;t working", "body": "<p>raw_input returns a string.  You will want to convert that to an int for your comparison:</p>\n\n<pre><code>guess = int(raw_input(\"Try to guess my number...\"))\n</code></pre>\n\n<p>a <code>str</code> will never == an <code>int</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7806008, "user_type": "unregistered", "profile_image": "https://i.stack.imgur.com/O1UTz.jpg?s=128&g=1", "display_name": "HI.", "link": "https://stackoverflow.com/users/7806008/hi"}, "is_accepted": false, "score": 0, "last_activity_date": 1491269735, "creation_date": 1491269735, "answer_id": 43196914, "question_id": 30361221, "link": "https://stackoverflow.com/questions/30361221/im-really-new-to-python-and-i-was-wondering-why-my-else-isnt-working/43196914#43196914", "title": "I&#39;m really new to Python, and I was wondering why my &quot;Else:&quot; isn&#39;t working", "body": "<p>About your randrange problem:</p>\n\n<p>You should use random.randint(a,b) instead. It chooses a random integer between the number a and b (exclusive, I think.)</p>\n"}], "owner": {"reputation": 15, "user_id": 4412549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-HBcGiOeXvy0/AAAAAAAAAAI/AAAAAAAAAEM/dA6SymSTTLo/photo.jpg?sz=128", "display_name": "coconutfury", "link": "https://stackoverflow.com/users/4412549/coconutfury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 30361287, "answer_count": 4, "score": -1, "last_activity_date": 1491269735, "creation_date": 1432159650, "last_edit_date": 1432159976, "question_id": 30361221, "link": "https://stackoverflow.com/questions/30361221/im-really-new-to-python-and-i-was-wondering-why-my-else-isnt-working", "title": "I&#39;m really new to Python, and I was wondering why my &quot;Else:&quot; isn&#39;t working", "body": "<pre><code>import random\n\nnumber = 50\nguess = raw_input(\"Try to guess my number...\")\n\nwhile guess!=number:\nif guess&gt;number:\n    print \"Lower\"\nelif guess==number:\n    print \"Correct, you win!\"\nelse:\n    print \"Higher\"\nguess = raw_input(\"Try again...\")\n</code></pre>\n\n<p>I'm really new, and I'm wondering why it won't display \"Higher\" when the number I input is less than the number, plus, how can I make the number random, since randrange(1,100) won't work</p>\n"}, {"tags": ["python", "pandas", "statsmodels"], "comments": [{"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 1, "creation_date": 1432161404, "post_id": 30361171, "comment_id": 48814660, "body": "I don&#39;t really understand the last part and how this relates to larger datasets. We always have to create a new array or dataframe, whether the user does it or statsmodels does it. The numpy array that was used in OLS regression, or in any other model, is available as <code>model.exog</code>. I&#39;m not sure where the information about the dataframe index is attached, and it might be for internal use only, i.e. no established API for it."}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 2, "creation_date": 1432161616, "post_id": 30361171, "comment_id": 48814716, "body": "<code>dir(model.data)</code> will show the information about the initial data handling. But since it wasn&#39;t intended as public, I wouldn&#39;t rely on a stable API for it."}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 1, "creation_date": 1432162112, "post_id": 30361171, "comment_id": 48814869, "body": "a comment to you your code for dropping na. it&#39;s better to keep the response variable y in the same dataset while dropping observations in case there are also missing values in y. When we want to compare models, then it is better to drop missing values for all variables, so we have a common dataset for the estimation of different models, which means that the user has to do it."}, {"owner": {"reputation": 9391, "user_id": 717481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0292aeefc5c774d3acd0ca14914c5db2?s=128&d=identicon&r=PG", "display_name": "sparc_spread", "link": "https://stackoverflow.com/users/717481/sparc-spread"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1432164677, "post_id": 30361171, "comment_id": 48815663, "body": "+1 on all of these.  Argh I can&#39;t believe I forgot the regressand!  Thanks for catching that.  Will fix either tonight or tomorrow AM.  Will also try the internal API method you showed."}, {"owner": {"reputation": 9391, "user_id": 717481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0292aeefc5c774d3acd0ca14914c5db2?s=128&d=identicon&r=PG", "display_name": "sparc_spread", "link": "https://stackoverflow.com/users/717481/sparc-spread"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1432216572, "post_id": 30361171, "comment_id": 48841326, "body": "Using <code>model.endog</code> and <code>model.exog</code> for the data, and then <code>model.endog_names</code> and <code>model.exog_names</code> to make the column index, I can reconstruct the data used in the regression.  Thank you for pointing me in this direction!  I suggest you post this in answer format so I can upvote and accept it :-)"}], "answers": [{"tags": [], "owner": {"reputation": 6314, "user_id": 2858145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abd13a6cf8322daae2ab850cbd36f6a?s=128&d=identicon&r=PG&f=1", "display_name": "Pietro Battiston", "link": "https://stackoverflow.com/users/2858145/pietro-battiston"}, "is_accepted": true, "score": 2, "last_activity_date": 1521389781, "creation_date": 1521389781, "answer_id": 49350108, "question_id": 30361171, "link": "https://stackoverflow.com/questions/30361171/any-way-in-statsmodels-to-obtain-final-observations-used-in-a-regression/49350108#49350108", "title": "Any way in statsmodels to obtain final observations used in a regression?", "body": "<p>The cleanest approach to get what you ask seems to rely on <code>model.data</code>, as suggested by user333700 in the comments. Differently from what user333700 states, then, <code>model.data</code> <a href=\"https://github.com/statsmodels/statsmodels/issues/402/\" rel=\"nofollow noreferrer\">seems to have deliberately exposed as public interface</a> by statsmodels developers.</p>\n\n<p>In particular, <code>model.data.missing_row_idx</code> provides what you ask <a href=\"https://github.com/statsmodels/statsmodels/commit/0ce2f66279bd559cca082a3de24779b99b35ad25#diff-2e18ce91dae3e3e78a23ba177fdfce58R56\" rel=\"nofollow noreferrer\">since 2012</a>... so although undocumented, it seems relatively stable.</p>\n\n<p>Example:</p>\n\n<pre><code>In [3]: model = OLS(pd.DataFrame([[1, 2], [3, 4], [5, float('nan')]]), [2, 5, 4], missing='drop')\n\nIn [4]: model.data.missing_row_idx\nOut[4]: [2]\n</code></pre>\n"}], "owner": {"reputation": 9391, "user_id": 717481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0292aeefc5c774d3acd0ca14914c5db2?s=128&d=identicon&r=PG", "display_name": "sparc_spread", "link": "https://stackoverflow.com/users/717481/sparc-spread"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 1, "accepted_answer_id": 49350108, "answer_count": 1, "score": 2, "last_activity_date": 1521389781, "creation_date": 1432159390, "last_edit_date": 1432237656, "question_id": 30361171, "link": "https://stackoverflow.com/questions/30361171/any-way-in-statsmodels-to-obtain-final-observations-used-in-a-regression", "title": "Any way in statsmodels to obtain final observations used in a regression?", "body": "<p>Very frequently, regressions will drop some observations because they are missing one or more regressor fields. For example:</p>\n\n<pre><code>In [30]: len(df)  #df is our dataframe\nOut[30]: 39243\n\nIn [31]: model = sm.OLS(df[var_name_y], df[var_names_x], missing=\"drop\")\n         result = model.fit()\n\nIn [32]: len(result.fittedvalues)\nOut[32]: 38013\n</code></pre>\n\n<p>Here, we dropped 1230 observations, each of which was missing one or more regressors.</p>\n\n<p>Is there any way to get access to the <code>DataFrame</code> that was actually used in the regrssion - that is, the smaller one of size 38013 that remains after the regression dropped the missing observations? This is available, for example, in the various SAS regression routines. I have been combing the API but am unable to locate anything. I need this data to produce various diagnostics based on the actual data used in the regression.</p>\n\n<p>Of course, I could drop the correct rows myself before the regression, like this:</p>\n\n<pre><code>In [58]: len(df)\nOut[58]: 39243\n\nIn [59]: df2 = df.dropna(subset=var_name_y + var_names_x)\nIn [60]: len(df2)\nOut[60]: 38013\n\nIn [64]: model = sm.OLS(df2[var_name_y], df2[var_names_x],missing=\"drop\")\n         result = model.fit()\nIn [65]: len(result.fittedvalues)\nOut[65]: 38013\n</code></pre>\n\n<p>Then the <code>DataFrame</code> that I feed to the regression is already the one with all the missing observations removed. But I was hoping to avoid that, particularly if I am working with a much larger dataset. Is there a better way to do this, particularly programmatically accessing the post-regression <code>DataFrame</code> via the <code>OLS</code> model class or the <code>RegressionResultsWrapper</code> output of the fit?</p>\n"}, {"tags": ["python", "python-2.7", "raspberry-pi", "wifi"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1432161107, "post_id": 30361166, "comment_id": 48814573, "body": "It&#39;s just an arbitrary name you give it, so you can look it up again in <code>Scheme.find</code>. Also seems like in contradiction to <a href=\"https://media.readthedocs.org/pdf/wifi/latest/wifi.pdf\" rel=\"nofollow noreferrer\">docs</a> passkey is not an optional param. You will probably have to start python as super user or sudo to perform next step <code>scheme.save()</code> it writes to your <code>&#47;etc&#47;network&#47;interfaces</code> file"}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 4888721, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8571a59d3fc341ad2e025f4e6cc391c7?s=128&d=identicon&r=PG&f=1", "display_name": "Oluderi", "link": "https://stackoverflow.com/users/4888721/oluderi"}, "is_accepted": true, "score": 6, "last_activity_date": 1432209239, "creation_date": 1432209239, "answer_id": 30372995, "question_id": 30361166, "link": "https://stackoverflow.com/questions/30361166/connect-to-wifi-using-python-on-raspberry-pi/30372995#30372995", "title": "Connect to wifi using Python on Raspberry Pi", "body": "<p>After some research, I didn't find a way to connect easily to a wifi using Python on a Raspberry Pi. So I solved my problem by using the wifi command on the Terminal:</p>\n\n<pre><code>sudo wifi connect --ad-hoc SSID_Name\n</code></pre>\n\n<p>Which automatically asks me for an input: passkey> .Where you can actually type the password, press enter and after that it automatically connects to the wifi. After that I can run my Python script which needs a connection to the internet in order to run. The wifi command is preferable to other terminal commands when it comes to my problem cause it needs less time to connect to a wifi manually. For example it is preferable to the process which uses this terminal command:</p>\n\n<pre><code>sudo nano /etc/network/interfaces\n</code></pre>\n\n<p>I hope this helps everyone who has the same problem.</p>\n"}], "owner": {"reputation": 323, "user_id": 4888721, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8571a59d3fc341ad2e025f4e6cc391c7?s=128&d=identicon&r=PG&f=1", "display_name": "Oluderi", "link": "https://stackoverflow.com/users/4888721/oluderi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6773, "favorite_count": 0, "accepted_answer_id": 30372995, "answer_count": 1, "score": 2, "last_activity_date": 1496127100, "creation_date": 1432159338, "last_edit_date": 1432209398, "question_id": 30361166, "link": "https://stackoverflow.com/questions/30361166/connect-to-wifi-using-python-on-raspberry-pi", "title": "Connect to wifi using Python on Raspberry Pi", "body": "<p>I am using Python 2.7 and wifi library (<a href=\"https://wifi.readthedocs.org/en/latest/\" rel=\"nofollow\">https://wifi.readthedocs.org/en/latest/</a>) on a Raspberry Pi. I have managed to install wifi library using:</p>\n\n<pre><code>sudo pip install wifi \n</code></pre>\n\n<p>on the terminal. The library seems to work but I can't figure out the way to connect to a wifi using a password. The documentation on the website is a bit difficult to understand, especially if you are a Python noob like me. I used this:</p>\n\n<pre><code>&gt;&gt;&gt; from wifi import Cell, Scheme\n&gt;&gt;&gt; Cell.all('wlan0')\n</code></pre>\n\n<p>and I got all the wifi networks available and also the one I want to connect to called test1. So I am sure that the library works. I followed the steps on the website but got a permission denied error at:</p>\n\n<pre><code>&gt;&gt;&gt; scheme.save()\n</code></pre>\n\n<p>Also, before that there was this command:</p>\n\n<pre><code>&gt;&gt;&gt; scheme = Scheme.for_cell('wlan0', 'home', cell)\n</code></pre>\n\n<p>Does anyone know what that 'home' refer to? Is it the SSID name? Can anyone help me connect to a wifi called test1 whose password is passwordtest1? Is there any easier way to connect to wifi through terminal so as not to use Python?. Thanks in advance.</p>\n"}, {"tags": ["python", "machine-learning", "nlp", "scikit-learn", "one-hot-encoding"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2320993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyKdN.jpg?s=128&g=1", "display_name": "Aaron7Sun", "link": "https://stackoverflow.com/users/2320993/aaron7sun"}, "edited": false, "score": 0, "creation_date": 1458312295, "post_id": 30362520, "comment_id": 59818959, "body": "THX! very helpful!"}, {"owner": {"reputation": 671, "user_id": 4304526, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/pAbrY.png?s=128&g=1", "display_name": "bmc", "link": "https://stackoverflow.com/users/4304526/bmc"}, "edited": false, "score": 6, "creation_date": 1491491134, "post_id": 30362520, "comment_id": 73586568, "body": "How do you handle the situation when docs = [&quot;A B&quot;, &quot;B B C&quot;], for example working with different tweets, they don&#39;t always have the same length and contain different words."}, {"owner": {"reputation": 287, "user_id": 2672805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7a1e4a251bce0991f9b092fac99693?s=128&d=identicon&r=PG", "display_name": "fotis j", "link": "https://stackoverflow.com/users/2672805/fotis-j"}, "edited": false, "score": 0, "creation_date": 1556973069, "post_id": 30362520, "comment_id": 98614344, "body": "one common approach is to set a max length and pad shorter texts with a padding character and cut off longer texts"}], "tags": [], "owner": {"reputation": 2286, "user_id": 3760780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e6ad5307822e2b7c9f32668a023a62?s=128&d=identicon&r=PG&f=1", "display_name": "aleju", "link": "https://stackoverflow.com/users/3760780/aleju"}, "is_accepted": true, "score": 5, "last_activity_date": 1432167685, "creation_date": 1432167685, "answer_id": 30362520, "question_id": 30361118, "link": "https://stackoverflow.com/questions/30361118/one-hot-encoding-for-representing-corpus-sentences-in-python/30362520#30362520", "title": "One Hot Encoding for representing corpus sentences in python", "body": "<p>In order to use the OneHotEncoder, you can split your documents into tokens and then map every token to an id (that is always the same for the same string). Then apply the OneHotEncoder to that list. The result is by default a sparse matrix.</p>\n\n<p>Example code for two simple documents <code>A B</code> and <code>B B</code>:</p>\n\n<pre><code>from sklearn.preprocessing import OneHotEncoder\nimport itertools\n\n# two example documents\ndocs = [\"A B\", \"B B\"]\n\n# split documents to tokens\ntokens_docs = [doc.split(\" \") for doc in docs]\n\n# convert list of of token-lists to one flat list of tokens\n# and then create a dictionary that maps word to id of word,\n# like {A: 1, B: 2} here\nall_tokens = itertools.chain.from_iterable(tokens_docs)\nword_to_id = {token: idx for idx, token in enumerate(set(all_tokens))}\n\n# convert token lists to token-id lists, e.g. [[1, 2], [2, 2]] here\ntoken_ids = [[word_to_id[token] for token in tokens_doc] for tokens_doc in tokens_docs]\n\n# convert list of token-id lists to one-hot representation\nvec = OneHotEncoder(n_values=len(word_to_id))\nX = vec.fit_transform(token_ids)\n\nprint X.toarray()\n</code></pre>\n\n<p>Prints (one hot vectors in concatenated form per document):</p>\n\n<pre><code>[[ 1.  0.  0.  1.]\n [ 0.  1.  0.  1.]]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2320993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyKdN.jpg?s=128&g=1", "display_name": "Aaron7Sun", "link": "https://stackoverflow.com/users/2320993/aaron7sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8612, "favorite_count": 3, "accepted_answer_id": 30362520, "answer_count": 1, "score": 3, "last_activity_date": 1432167685, "creation_date": 1432159131, "last_edit_date": 1432159683, "question_id": 30361118, "link": "https://stackoverflow.com/questions/30361118/one-hot-encoding-for-representing-corpus-sentences-in-python", "title": "One Hot Encoding for representing corpus sentences in python", "body": "<p>I am a starter in Python and Scikit-learn library.\nI currently need to work on a NLP project which firstly need to represent a large corpus by One-Hot Encoding.\nI have read Scikit-learn's documentations about the preprocessing.OneHotEncoder, however, it seems like it is not the understanding of my term.</p>\n\n<p>basically, the idea is similar as below:</p>\n\n<ul>\n<li>1000000 Sunday;\n0100000 Monday;\n0010000 Tuesday;\n...\n0000001 Saturday;</li>\n</ul>\n\n<p>if the corpus only have 7 different words, then I only need a 7-digit vector to represent every single word. and then, a completed sentence can be represented by a conjunction of all the vectors, which is a sentence matrix.\nHowever, I tried in Python, it seems not working...</p>\n\n<p>How can I work this out? my corpus have a very large amount of different words.</p>\n\n<p>Btw, also, seems like if the vectors are mostly fulfilled with zeros, we can use Scipy.Sparse to make the storage small, for example, CSR.</p>\n\n<p>Hence, my entire question will be:</p>\n\n<p>how the sentences in corpus can be represented by OneHotEncoder, and stored in a SparseMatrix?</p>\n\n<p>Thank you guys.</p>\n"}, {"tags": ["python", "postgresql"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 2, "creation_date": 1432158959, "post_id": 30361050, "comment_id": 48813825, "body": "Sounds like the query didn&#39;t return any data. Check rowcount and print out the entire cursor results"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1432159059, "post_id": 30361050, "comment_id": 48813868, "body": "I sincerely doubt it has value <code>Nonetype</code>. Probably it has value <code>None</code>, whose type is <code>NoneType</code>, which you saw in some error you didn&#39;t show us."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432159075, "post_id": 30361050, "comment_id": 48813876, "body": "At any rate, if a column in the database has the SQL value <code>NULL</code>, and you <code>SELECT</code> it and <code>fetch</code> it in Python, what you get is <code>None</code>. So that&#39;s probably what you&#39;re seeing."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1432159110, "post_id": 30361050, "comment_id": 48813896, "body": "@SterlingArcher: That would raise an <code>IndexError</code>."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432159817, "post_id": 30361050, "comment_id": 48814120, "body": "@abarnert I think SterlingArcher is right... if there are no rows, then <code>fetchone</code> returns <code>None</code>, and <code>None[0]</code> raises <code>TypeError: &#39;NoneType&#39; ...</code>. Not <code>IndexError</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1432160441, "post_id": 30361050, "comment_id": 48814347, "body": "@StefanPochmann: Ah, yeah, <code>fetchone</code> should either return <code>None</code> or raise an exception here, not return an empty row. But still, there&#39;s no way <code>employeeid</code> will be <code>None</code> (or <code>Nonetype</code>\u2026) after that; the assignment won&#39;t even happen."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432161223, "post_id": 30361050, "comment_id": 48814607, "body": "@abarnert Yeah, but I don&#39;t trust the OP&#39;s description (I learned to never do that). I suspect the assignment is just shown one line above the <code>TypeError: ...</code> line and that the OP is misreporting it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1432161502, "post_id": 30361050, "comment_id": 48814687, "body": "@StefanPochmann: Well, you have to trust <i>some</i> part of the description; otherwise the answer could just be &quot;Java 1.3 doesn&#39;t have a <code>ConcurrentSkipListMap</code>, so you either need to upgrade to a later version, or get a third-party implementation, or just use <code>TreeMap</code>, since you aren&#39;t using multiple threads anyway&quot;. :)"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1432161849, "last_edit_date": 1432161849, "creation_date": 1432159238, "answer_id": 30361142, "question_id": 30361050, "link": "https://stackoverflow.com/questions/30361050/why-does-fetchone0-return-a-nonetype/30361142#30361142", "title": "Why does fetchone()[0] return a &#39;Nonetype&#39;", "body": "<p>The reason <code>fetchone()[0]</code> returns <code>None</code> is almost certainly that the first column in the first row matching your <code>WHERE</code> clause has a <code>NULL</code> value.</p>\n\n<p>Since you're just doing <code>SELECT *</code> rather than providing a column list, the first column could be any of the columns in the table. If you specifically want the <code>employeeid</code> column, you should <code>SELECT employeeid</code>.</p>\n\n<p>Also, since you're not using <code>ORDER BY</code>, the first row could be any of the matching rows. So make sure there aren't multiple rows matching your <code>WHERE</code> clause (unless you expect there to be). It's possible that you have one \"good\" row with a value of 23, plus another \"bad\" row with a value of <code>NULL</code>.</p>\n\n<hr>\n\n<p>As StefanPochmann points out, it's also possible that you didn't find any rows, and you've misinterpreted the results. If a query returns nothing, the <code>fetchone()</code> call will either return <code>None</code>, or raise an exception. In this first case, your statement would cause an error like <code>TypeError: 'NoneType' object is not subscriptable</code>, because <code>cursor.fetchone()[0]</code> is effectively doing <code>None[0]</code>. In the second case, the exception from <code>fetchone</code> itself might mention <code>NoneType</code> somewhere. In neither case is <code>employeeid</code> ending up with the value <code>NoneType</code> as you claim, but if you're not looking in the right place, you might have somehow convinced yourself that it is.</p>\n"}, {"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432161648, "post_id": 30361407, "comment_id": 48814726, "body": "The OP didn&#39;t tell us which DB-API library he&#39;s using for PostgreSQL, but most of them use the <code>%s</code> paramstyle (or the non-standard <code>$1</code> paramstyle), not the <code>?</code> paramstyle, so this answer is going to make things worse."}], "tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": -1, "last_activity_date": 1432160595, "creation_date": 1432160595, "answer_id": 30361407, "question_id": 30361050, "link": "https://stackoverflow.com/questions/30361050/why-does-fetchone0-return-a-nonetype/30361407#30361407", "title": "Why does fetchone()[0] return a &#39;Nonetype&#39;", "body": "<p>While you could be looking at a null valued column in a valid row, I strongly suspect that you did not match any rows.  You can check if you matched a row by printing the results of your <code>cursor.fetchone()</code>.  I think you did not match any rows because of the way you sent your parameters to sql.  inserting them into the string, you need to quote the string parameters like:</p>\n\n<pre><code>cursor.execute(\"SELECT*FROM EMPLOYEE WHERE first_name = '%s' AND last_name = '%s'\", (employee['firstname'],employee['lastname']))\n</code></pre>\n\n<p>the preferred option is  pass them in as sql parameters like:</p>\n\n<pre><code>stmt = \"SELECT * FROM EMPLOYEE WHERE first_name = ? AND last_name = ?\"\nresult = cursor.execute (stmt,(employee['firstname'],employee['lastname']))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12284475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934ef8269bcc0e03e01265b497ea615f?s=128&d=identicon&r=PG&f=1", "display_name": "masete", "link": "https://stackoverflow.com/users/12284475/masete"}, "is_accepted": false, "score": 0, "last_activity_date": 1615416493, "creation_date": 1615416493, "answer_id": 66574012, "question_id": 30361050, "link": "https://stackoverflow.com/questions/30361050/why-does-fetchone0-return-a-nonetype/66574012#66574012", "title": "Why does fetchone()[0] return a &#39;Nonetype&#39;", "body": "<p>Answered here, <a href=\"https://stackoverflow.com/questions/48143659/cursor-fetchone-returns-none-even-though-a-value-exists\">click me</a></p>\n<p>7</p>\n<p>When you call execute, the results are computed and fetched, and you use fetchone/fetchmany/fetchall to retrieve them.</p>\n<p>In your case, your query returns a single row as the result, so calling cursor.fetchone in the if causes the result to be fetched and subsequently thrown away, so another call to fetchone will yield None as the pointer has already advanced past the only row in the result set.</p>\n<p>The idiomatic sqlite way of checking if data exists, is to query a row, and test its truthiness -</p>\n"}], "owner": {"reputation": 41, "user_id": 3255978, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180090400/picture?type=large", "display_name": "user3255978", "link": "https://stackoverflow.com/users/3255978/user3255978"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5844, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1615416493, "creation_date": 1432158825, "last_edit_date": 1432158941, "question_id": 30361050, "link": "https://stackoverflow.com/questions/30361050/why-does-fetchone0-return-a-nonetype", "title": "Why does fetchone()[0] return a &#39;Nonetype&#39;", "body": "<p>I'm trying to store the employeeid value from employee table, to get the specific row I use the following command on Python:</p>\n\n<pre><code>cursor.execute(\"SELECT*FROM EMPLOYEE WHERE first_name = %s AND last_name = %s\", (employee['firstname'],employee['lastname']))\n</code></pre>\n\n<p>followed by </p>\n\n<pre><code>employeeid=cursor.fetchone()[0]\n</code></pre>\n\n<p>why does employeeid have value Nonetype? </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432158925, "post_id": 30361040, "comment_id": 48813808, "body": "Either <code>P1Puts</code> has fewer than <code>r+1</code> elements, or <code>P1Puts[r]</code> has fewer than <code>3</code> elements."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432159062, "post_id": 30361040, "comment_id": 48813869, "body": "Nope you left the colon out of your formatting string."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1432159493, "last_edit_date": 1432159493, "creation_date": 1432158989, "answer_id": 30361080, "question_id": 30361040, "link": "https://stackoverflow.com/questions/30361040/why-does-formatting-cause-print-to-fail/30361080#30361080", "title": "Why does formatting cause print() to fail?", "body": "<p>You are missing a <code>:</code></p>\n\n<pre><code>for r in range(9):\n    print('r',r,\"{:6.2f}\".format(P1Puts[r][2])) # : \u2190 missing \n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4874660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c7d43886feebb048f69e19450595a?s=128&d=identicon&r=PG&f=1", "display_name": "steve123", "link": "https://stackoverflow.com/users/4874660/steve123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432163952, "creation_date": 1432158784, "question_id": 30361040, "link": "https://stackoverflow.com/questions/30361040/why-does-formatting-cause-print-to-fail", "title": "Why does formatting cause print() to fail?", "body": "<p>I create a 2-d array named P1Puts[][]. Everything I want to do with it works fine, UNTIL it comes time to format the output. Can anyone tell me why my attempt to format the output causes the error \"tuple index out of range\"? I created the example below from the shell, using live data. Note that \"Trial 1 of 2\" works okay, but \"Trial 2 of 2\" yields an error.</p>\n\n<pre><code>#=================================================\n# TRIAL 1 OF 2:\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; for r in range(9):\n    print('r',r,P1Puts[r][2])\n\n\nr 0 51.73\nr 1 51.8\nr 2 60.46\nr 3 34.62\nr 4 49.69\nr 5 87.93\nr 6 33.37\nr 7 42.59\nr 8 54.6\n&gt;&gt;&gt; \n#=================================================\n# TRIAL 2 OF 2: \n# (Note that all I did below was add formatting\n#  to the third argument in print()\n\n&gt;&gt;&gt; for r in range(9):\n    print('r',r,\"{6.2f}\".format(P1Puts[r][2]))\n\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#21&gt;\", line 2, in &lt;module&gt;\n    print('r',r,\"{6.2f}\".format(P1Puts[r][2]))\nIndexError: tuple index out of range\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "postgresql", "openshift", "pyramid"], "comments": [{"owner": {"reputation": 1673, "user_id": 1347214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97efef4376a688da5ef9c142058e68f4?s=128&d=identicon&r=PG", "display_name": "joao Beno", "link": "https://stackoverflow.com/users/1347214/joao-beno"}, "edited": false, "score": 0, "creation_date": 1432159040, "post_id": 30361022, "comment_id": 48813857, "body": "Tried: <a href=\"http://www.cnblogs.com/spaceship9/archive/2013/04/08/3006880.html\" rel=\"nofollow noreferrer\">cnblogs.com/spaceship9/archive/2013/04/08/3006880.html</a>? Also, provide some info on what you tried, and the error(s) you encountered.."}], "answers": [{"tags": [], "owner": {"reputation": 270, "user_id": 4824187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-OnDI_uznHlk/AAAAAAAAAAI/AAAAAAAACRQ/Seu9fPhBCwI/photo.jpg?sz=128", "display_name": "Roger Gonzalez", "link": "https://stackoverflow.com/users/4824187/roger-gonzalez"}, "is_accepted": true, "score": 0, "last_activity_date": 1432589037, "creation_date": 1432589037, "answer_id": 30446200, "question_id": 30361022, "link": "https://stackoverflow.com/questions/30361022/how-to-use-postgresql-on-a-pyramid-app-in-openshift/30446200#30446200", "title": "How to use PostgreSQL on a Pyramid App in OpenShift?", "body": "<p>I solved it myself, by adding/replacing this to my \"_ _init__.py\" and \"initializedb.py\"</p>\n\n<pre><code>import os\nengine = create_engine(os.environ.get('OPENSHIFT_POSTGRESQL_DB_URL'))\n</code></pre>\n"}], "owner": {"reputation": 270, "user_id": 4824187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-OnDI_uznHlk/AAAAAAAAAAI/AAAAAAAACRQ/Seu9fPhBCwI/photo.jpg?sz=128", "display_name": "Roger Gonzalez", "link": "https://stackoverflow.com/users/4824187/roger-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 30446200, "answer_count": 1, "score": 0, "last_activity_date": 1432589037, "creation_date": 1432158685, "last_edit_date": 1432176946, "question_id": 30361022, "link": "https://stackoverflow.com/questions/30361022/how-to-use-postgresql-on-a-pyramid-app-in-openshift", "title": "How to use PostgreSQL on a Pyramid App in OpenShift?", "body": "<p>How can I use a PostgreSQL database on a Pyramid application? I'm using OpenShift as my \"PaaS\".</p>\n\n<p>I added the PostgreSQL cartridge and it gave me a sql connection url that looked like this:</p>\n\n<pre><code>postgresql://$OPENSHIFT_POSTGRESQL_DB_HOST:$OPENSHIFT_POSTGRESQL_DB_PORT\n</code></pre>\n\n<p>But I don't know how and where to use it.</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "plot", "matplotlib-basemap"], "comments": [{"owner": {"reputation": 1241, "user_id": 2457474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536ec763ef7ef9f7f69f7834f6596fb9?s=128&d=identicon&r=PG", "display_name": "AMacK", "link": "https://stackoverflow.com/users/2457474/amack"}, "edited": false, "score": 1, "creation_date": 1432160535, "post_id": 30361002, "comment_id": 48814377, "body": "Have you tried adjusting the zorder of the Basemap.draw* calls?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4746908"}, "reply_to_user": {"reputation": 1241, "user_id": 2457474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536ec763ef7ef9f7f69f7834f6596fb9?s=128&d=identicon&r=PG", "display_name": "AMacK", "link": "https://stackoverflow.com/users/2457474/amack"}, "edited": false, "score": 0, "creation_date": 1432164108, "post_id": 30361002, "comment_id": 48815468, "body": "I&#39;ve tried playing around with the zorder some, but maybe I&#39;m missing something. What would you suggest for adjusting the zorder?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4746908"}, "is_accepted": true, "score": 0, "last_activity_date": 1434702062, "last_edit_date": 1434702062, "creation_date": 1432181266, "answer_id": 30364407, "question_id": 30361002, "link": "https://stackoverflow.com/questions/30361002/plotting-3d-bars-in-matplotlib/30364407#30364407", "title": "Plotting 3D bars in Matplotlib", "body": "<p>This is probably not the best way to resolve this and if anyone has a better method please share.</p>\n\n<p>I've found that a very simple way to get around the polygons going over the bars and creating this offset look is to simply make the polygon collection have a high transparency factor. Unfortunately, this also takes away the face color set to the polygons, and this is why I dislike this as a solution as you can no longer have a wide range of options manipulating the face / edge colors. The result is the following difference:</p>\n\n<p>The bars i've created also have an <code>alpha</code> option set to <code>alpha = 0.5</code> that can of course be changed if anyone was wondering why they appeared to be so transparent.</p>\n\n<p>Without manipulating the <code>alpha</code> option in a polygon collection such as the following</p>\n\n<pre><code>map = Basemap()\nfigure = plot.figure()\naxes = Axes3D(figure)\nfor polygon in map.landpolygons:\n    polygons.append(polygon.get_cords())\n    #alpha = 0-1 in the below 1 highest 0 lowest\n    collection = PolyCollection(polygons, closed = False)\naxes.add_collection3d(collection)\n</code></pre>\n\n<p>results in the following</p>\n\n<p><img src=\"https://i.stack.imgur.com/SqdCb.png\" alt=\"enter image description here\"></p>\n\n<p>giving an alpha option of 0 in <code>collection = PolyCollection(polygons, alpha = 0, closed = False)</code> results in the following</p>\n\n<p><img src=\"https://i.stack.imgur.com/tN273.png\" alt=\"enter image description here\"></p>\n\n<p>As an interesting aside with an alpha option set to <code>alpha = 0.4</code> you can see where the polygons created start to overlap the bars</p>\n\n<p><img src=\"https://i.stack.imgur.com/ndT3u.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4746908"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 1, "accepted_answer_id": 30364407, "answer_count": 1, "score": 1, "last_activity_date": 1434702062, "creation_date": 1432158602, "last_edit_date": 1432181859, "question_id": 30361002, "link": "https://stackoverflow.com/questions/30361002/plotting-3d-bars-in-matplotlib", "title": "Plotting 3D bars in Matplotlib", "body": "<p>Why does the following happen when using <code>matplotlib</code> and <code>basemap</code> to plot a simple polygon collection and 3D bars. Using how it says to create these type of plots <a href=\"http://basemaptutorial.readthedocs.org/en/latest/basemap3d.html\" rel=\"nofollow noreferrer\">here</a> one can create this sort of plot.</p>\n\n<p>However, what's interesting is that if instead you do not zoom \"all\" the way in to focus on a specific set of bars they appear to be off-center although they aren't really. This results from the polygons being tilted and the bars remaining stationary I assume. Whenever tilting / rotating the plot the polygons will be moved to face over the bars and this is rather annoying as it ruins the look of the plot imo. </p>\n\n<p>Does anyone know how to avoid this / fix this problem? I've included some sample images to describe this behavior.</p>\n\n<p><img src=\"https://i.stack.imgur.com/iaCeu.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "arrays", "matrix", "multidimensional-array"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1432158702, "post_id": 30360970, "comment_id": 48813713, "body": "Why are you using a list of lists for Z instead of just using a NumPy 2D array? Pre-filling the array and then replacing the values may make your code take 1.5x as long, but using a list of lists and looping in Python will make it take 10x as long, and surely that&#39;s a much bigger issue?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1432158780, "post_id": 30360970, "comment_id": 48813745, "body": "Meanwhile, can you give us a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> instead of some not-quite-working code that&#39;s sort of similar to your real code, isn&#39;t complete, and has irrelevant stuff in it?"}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432158786, "post_id": 30360970, "comment_id": 48813748, "body": "Can you poste the  function <code>power...</code> ?  Maybe it is possible to vectorize it ? If not, I would try to use lists instead of the array. If speed is a big issue you could use cython or f2py."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432158787, "post_id": 30360970, "comment_id": 48813749, "body": "@abarnert Yes I think that is one of the problems but I am not quite familiar with python so I made it as trivial as it can be.Can you help me and post how I can change the code so that it can achieve what I did above in a faster way?"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432158878, "post_id": 30360970, "comment_id": 48813791, "body": "I will an example now by editing my question."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1432158955, "post_id": 30360970, "comment_id": 48813823, "body": "@MahmoudAyman: That&#39;s exactly why Moritz and I both asked for a <i>complete</i> example. If we can see exactly what you&#39;re doing, we can show you how to do the same thing with a numpy array and, hopefully, numpy vector operations, and you can understand how it corresponds to what you showed us. If we see something different, the best you can get is a vague example that may not be relevant to your real code and may be hard to understand."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432159642, "post_id": 30360970, "comment_id": 48814055, "body": "@abarnert I&#39;ve added the whole bulk of code that I wrote that is related to my problem I hope that helps you figure out what I want to do why the code is slow like you said. If you want me to clarify anything else please say it."}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432159939, "post_id": 30360970, "comment_id": 48814165, "body": "are you sure that the speed bottleneck lies within the storage loops ?"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432160562, "post_id": 30360970, "comment_id": 48814389, "body": "@Moritz It definitely 100% does because the rest of my code takes less than 10s to run but this part takes about 25 mins to run so yea im sure."}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432161352, "post_id": 30360970, "comment_id": 48814646, "body": "Yeah, but you call your function many times. Probably the function has to be optimized. Did you checked how much time the loops need and how much time the function itself ?"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432161790, "post_id": 30360970, "comment_id": 48814773, "body": "@Moritz I will change the function first as abarnert stated and then i&#39;ll check the time the loops and the function itself takes but how can I do that in python?"}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432162097, "post_id": 30360970, "comment_id": 48814860, "body": "google for profiling and python"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "reply_to_user": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1432162844, "post_id": 30360970, "comment_id": 48815083, "body": "@Moritz okay thank you for the help."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432160806, "post_id": 30361242, "comment_id": 48814482, "body": "The part where you reversed the negatives you said I&#39;m trying to set each <code>Z[r,c]</code> to <code>(len(Z)-1-r)**2 + c**2</code> but in my case its that I&#39;m setting the position <code>Z[len(Z)-1-r, c]</code> in the 2D array to <code>r**2 + c**2</code> instead."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432161013, "post_id": 30361242, "comment_id": 48814540, "body": "@MahmoudAyman: But that does the exact same thing. Look at this simplified: setting <code>Z[3-1-0]</code> to <code>f(0)</code>, <code>Z[3-1-1]</code> to <code>f(1)</code>, <code>Z[3-1-2]</code> to <code>f(2)</code>, vs. setting <code>Z[0]</code> to <code>f(3-1-0)</code>, <code>Z[1]</code> to <code>f(3-1-1)</code>, and <code>Z[2]</code> to <code>f(3-1-2)</code>. In each case, <code>Z[0] == f(2)</code>, <code>Z[1] == f(1)</code>, and <code>Z[2] == f(0)</code>. (If you really don&#39;t trust this, you can always build the array upside-down and then just flip it by indexing <code>[::-1]</code>; that only wastes a tiny bit of time\u2026)"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432161575, "post_id": 30361242, "comment_id": 48814708, "body": "oh,yes I do see it now. So for my original code where does the <code>(3-1-np.arange(3))**2</code> fit ? Because in my code i&#39;m not really squaring each position but rather executing the power_at_each_point method. I want to replace your example line <code>Z_old = (3 - 1 - np.arange(3))**2 + (np.arange(5)**2).reshape((5, 1))</code> to fit mine at <code>Z[len(Z)-1-each_axes][each_point] = power_at_each_point(each_point, each_axes)</code>. What corresponds to len(Z) now and how can I get to call my method inside instead of squaring as a function?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432162017, "post_id": 30361242, "comment_id": 48814835, "body": "@MahmoudAyman: You have to figure out how to vectorize the operation. Can you implement <code>power_at_each_point</code> in terms of values you already have (or can easily get) in an array? In this case, the real guts of the function are just a call to another function, <code>cal_pow_rec_plandwall_contour</code>, which apparently opens an Excel spreadsheet and pulls out a value. You need to change things to open the spreadsheet once, and ideally to pull out all of the values into an array that you can use."}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432163150, "post_id": 30361242, "comment_id": 48815171, "body": "@abanert I just want to the code to output something similar to that although the syntax that i&#39;m gonna write is wrong but you can get what I want to do is fill the np.array matrix by values directly in one time. Something like this as follows: <code>Z = np.zeros((len(x_list), len(y_list))) for Z[len(x_list) -1 - counter_1][counter_2] is equal to power_at_each_point(counter_1, counter_2] for counter_1 in range(len(x_list)) and counter_2 in range(len(y_list))]</code>"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432169957, "post_id": 30361242, "comment_id": 48817029, "body": "@arbarnert what you said was true!!!! I switched from extracting my information from the excel sheet directly to just extracting it all to a list of lists and then getting my information from it and it drastically changed my run time from 20 minutes to 20seconds!!!! THANK YOU DUDE!"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432171381, "post_id": 30361242, "comment_id": 48817401, "body": "@MahmoudAyman: Great! Converting that list of lists to a 2D array may get you down to 5 seconds, or save memory, but if you&#39;re happy with 20 seconds, better to stick with something simple that you understand. :)"}, {"owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "edited": false, "score": 0, "creation_date": 1432171643, "post_id": 30361242, "comment_id": 48817468, "body": "i&#39;ll try the 2D array approach and i&#39;ll be sure to tell you what happened you&#39;re great man thank you once again ! :)"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 0, "last_activity_date": 1432160166, "last_edit_date": 1432160166, "creation_date": 1432159780, "answer_id": 30361242, "question_id": 30360970, "link": "https://stackoverflow.com/questions/30360970/fill-two-dimensional-list-with-values-instead-of-initializing-it-first-with-zero/30361242#30361242", "title": "Fill two-dimensional list with values instead of initializing it first with zeros", "body": "<p>OK, first, you want to create a NumPy array, not a list of lists. This is almost always going to be significantly smaller, and a little faster to work on. And, more importantly, it opens the door to vectorizing your loops, which makes them a <em>lot</em> faster to work on. So, instead of this:</p>\n\n<pre><code>Z_old = [[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]]\n</code></pre>\n\n<p>\u2026 do this:</p>\n\n<pre><code>Z_old = np.zeros((3, 5))\n</code></pre>\n\n<p>But now let's see whether we can vectorize your loop instead of modifying the values:</p>\n\n<pre><code>for each_axes in range(len(Z_old)):\n    for each_point in range(len(Z_old[each_axes])):\n        Z_old[len(Z_old)-1-each_axes][each_point] = each_point**2 + each_axes**2\n</code></pre>\n\n<p>The initial values of <code>Z[\u2026]</code> aren't being used at all here, so we don't need to pre-fill them with 0, just as you suspected. What <em>is</em> being used at each point is <code>r</code> and <code>c</code>. (I'm going to rename your <code>Z_old</code>, <code>each_axes</code>, and <code>each_point</code> to <code>Z</code>, <code>r</code>, and <code>c</code> for brevity.) In particular, you're trying to set each <code>Z[len(Z)-1-r, c]</code> to <code>r**2 + c**2</code>.</p>\n\n<p>First, let's reverse the negatives so you're setting each <code>Z[r, c]</code> to something\u2014in this case, to <code>(len(Z)-1-r)**2 + c**2</code>.</p>\n\n<p>That \"something\" is just a function on <code>r</code> and <code>c</code> values. Which we can get by creating <code>arange</code>s. In particular, <code>arange(5)</code> is just an array of the numbers <code>0, 1, 2, 3, 4</code>, and <code>arange(5)**2</code> is an array of the squares <code>0, 1, 4, 9, 16</code>.</p>\n\n<p>The only problem is that to get a 3x5 array out of this, we have to elementwise add two 2D arrays, a 3x1 array and a 1x5 array, vice-versa, but we've got two 1D arrays from <code>arange</code>. Well, we can <code>reshape</code> one of them:</p>\n\n<pre><code>Z_old = (3 - 1 - np.arange(3))**2 + (np.arange(5)**2).reshape((5, 1))\n</code></pre>\n\n<p>You can, of course, simplify this further (you obviously don't need <code>3 - 1</code>, and you can just add a new axis without <code>reshape</code>), but hopefully this shows directly how it corresponds to your original code.</p>\n"}], "owner": {"reputation": 177, "user_id": 4647721, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10205208983697994/picture?type=large", "display_name": "Mahmoud Ayman", "link": "https://stackoverflow.com/users/4647721/mahmoud-ayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432163351, "creation_date": 1432158477, "last_edit_date": 1432163351, "question_id": 30360970, "link": "https://stackoverflow.com/questions/30360970/fill-two-dimensional-list-with-values-instead-of-initializing-it-first-with-zero", "title": "Fill two-dimensional list with values instead of initializing it first with zeros", "body": "<p>I have a two-dimensional array that I want to fill up with values that represent powers but my problem lies in the speed of the code because the two-dimensional array is 100x100 size and I don't want to first initialize it with 100x100 list of zereos then fill up the list with values but rather fill up the 100x100 two-dimensional list by values directly. My code is shown down below</p>\n\n<pre><code>x_list = np.linspace(min_x, max_x, (max_x - min_x)+1)\n y_list = np.linspace(min_y, max_y, (max_y - min_y)+1)\n\nX, Y = np.meshgrid(x_list, y_list)\nY = Y[::-1]\nZ = [[0 for x in range(len(x_list))] for x in range(len(y_list))]         #Z is the two-dimensional list containing powers of reach position in the structure to be plotted\n\nfor each_axes in range(len(Z)):\n    for each_point in range(len(Z[each_axes])):\n        Z[len(Z)-1-each_axes][each_point] = power_at_each_point(each_point, each_axes)\n#The method power_at_each_point is the one that calculates the values in the two-dimensional array Z\n</code></pre>\n\n<p>An example what I want to do is instead of doing what is shown below:</p>\n\n<pre><code>Z_old = [[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]]\nfor each_axes in range(len(Z_old)):\n    for each_point in range(len(Z_old[each_axes])):\n        Z_old[len(Z_old)-1-each_axes][each_point] = power_at_each_point(each_point, each_axes)\n</code></pre>\n\n<p>I want now to not initialize the Z_old array with zeroes but rather fill it up with values while iterating through it which is going to be something like the written below although it's syntax is horribly wrong but that's what I want to reach in the end.</p>\n\n<pre><code> Z = np.zeros((len(x_list), len(y_list))) for Z[len(x_list) -1 - counter_1][counter_2] is equal to power_at_each_point(counter_1, counter_2] for counter_1 in range(len(x_list)) and counter_2 in range(len(y_list))]\n</code></pre>\n\n<p>plus the method of power_at_each_point is shown below with it's related methods if it helps you understand what I wanted to do:</p>\n\n<pre><code> #A method to calculate the power reached from one node to the other for contourf function\n\ndef cal_pow_rec_plandwall_contour(node_index_tx, receiver):   \nnodess_excel = xlrd.open_workbook(Node_file_location)\nnodes_sheet = nodess_excel.sheet_by_index(0)\n\nnode_index_tx_coor = [nodes_sheet.cell_value(node_index_tx - 1, 3), nodes_sheet.cell_value(node_index_tx - 1, 4)] #just co-ordinates of a point\ndistance = cal_distance(node_index_tx_coor, receiver)\nif distance == 0:\n    power_rec = 10 * (np.log10((nodes_sheet.cell_value(node_index_tx - 1, 0) * 1e-3)))\n    return power_rec  #this is the power received at each position\nelse:\n    power_rec = 10 * (np.log10((nodes_sheet.cell_value(node_index_tx - 1, 0) * 1e-3))) - 20 * np.log10((4 * math.pi * distance * 2.4e9) / 3e8) - cal_wall_att([node_index_tx_coor, receiver])\n    return power_rec\n\n\ndef power_at_each_point(x_cord, y_coord):  #A method to get each position in the structure and calculate the power reached at that position to draw the structure's contourf plot\nfa = lambda xa: cal_pow_rec_plandwall_contour(xa, [x_cord, y_coord])\nreturn max(fa(each_node) for each_node in range(1, len(Node_Positions_Ascending) + 1)) #Node_position_ascending is a list containing the co-ordinate positions of markers basically or nodes.\n</code></pre>\n\n<p>If someone could tell me how can I fill the two-dimensional array Z with values from the bottom of the top as I did right there without initially setting the two-dimensional array to zero first it would be much appreciated.</p>\n"}, {"tags": ["python", "dictionary", "nested", "hierarchical-data"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1432158661, "post_id": 30360964, "comment_id": 48813698, "body": "The problem is that you have a dictionary that holds the information for one student. What you need is to create a dictionary that has the student name as a key, and the value of each key is a dictionary that stores the other values."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 1, "creation_date": 1432158798, "post_id": 30360964, "comment_id": 48813752, "body": "Here&#39;s a hint towards the solution: Each of the n students has 3 different courses. But you currently store each record directly into the dict <code>student_info[entry]</code>, so the most recent record overwrites any previous. You&#39;ll need a dict-of-dict, or dict-of-list, or some other data structure. Also, check out <code>collections.defaultdict</code>, it will help here."}, {"owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1432158912, "post_id": 30360964, "comment_id": 48813802, "body": "Your inner for loop is always setting the same tuple"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1432159016, "post_id": 30360964, "comment_id": 48813849, "body": "By the way, this may be more suitable for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a> than SO. At least, check out CodeReview, it&#39;s neat."}, {"owner": {"reputation": 57830, "user_id": 2792531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/teNzk.gif?s=128&g=1", "display_name": "nhgrif", "link": "https://stackoverflow.com/users/2792531/nhgrif"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1432159066, "post_id": 30360964, "comment_id": 48813871, "body": "@smci <a href=\"http://codereview.stackexchange.com/help\">Code Review</a> is explicitly for code which works as intended--this code does not work as intended."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "reply_to_user": {"reputation": 57830, "user_id": 2792531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/teNzk.gif?s=128&g=1", "display_name": "nhgrif", "link": "https://stackoverflow.com/users/2792531/nhgrif"}, "edited": false, "score": 0, "creation_date": 1432160196, "post_id": 30360964, "comment_id": 48814258, "body": "Oh thanks @nhgrif. The OP can and still should read CodeReview to learn from it."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 4922326, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3781588001bf34c30b06980123d98cca?s=128&d=identicon&r=PG&f=1", "display_name": "SpaceOddity", "link": "https://stackoverflow.com/users/4922326/spaceoddity"}, "edited": false, "score": 0, "creation_date": 1432160645, "post_id": 30361121, "comment_id": 48814419, "body": "would you please tell me what this line does exactly?: student_info[student_name] = {}"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 311, "user_id": 4922326, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3781588001bf34c30b06980123d98cca?s=128&d=identicon&r=PG&f=1", "display_name": "SpaceOddity", "link": "https://stackoverflow.com/users/4922326/spaceoddity"}, "edited": false, "score": 0, "creation_date": 1432160744, "post_id": 30361121, "comment_id": 48814455, "body": "It will create a new empty dictionary for each input name by the user , to sore the marks for various subjects ."}, {"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1432160859, "post_id": 30361121, "comment_id": 48814497, "body": "{} is another way of writing dict(),the initializer for a dictionary. So that line is initializing a dictionary in student_info dictionary under key student_name"}], "tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": true, "score": 4, "last_activity_date": 1432159597, "last_edit_date": 1432159597, "creation_date": 1432159171, "answer_id": 30361121, "question_id": 30360964, "link": "https://stackoverflow.com/questions/30360964/how-to-store-multiple-entries-for-each-student-using-dictionaries/30361121#30361121", "title": "How to store multiple entries for each student using dictionaries", "body": "<p>Actually you need to create a nested dictionary with name as values and another dict as keys, in pretty way the nested dict may look like:</p>\n\n<pre><code>{\n    'anmol': {'chemistrymarks': 3, 'physicsmarks': 2, 'mathmarks': 1},\n    'uppal': {'chemistrymarks': 6, 'physicsmarks': 5, 'mathmarks': 4}\n}\n</code></pre>\n\n<p>So you need to add the following lines to create a nested dictionary.</p>\n\n<pre><code>num_students = int(raw_input(\"Please enter number of students:\"))\nprint \"you entered %s students\" %num_students\nstudent_info = {}\nstudent_data = ['Math marks : ', 'Physics marks : ', 'Chemistry marks : ']\nfor i in range(0,num_students):\n    student_name = raw_input(\"Name :\")\n    student_info[student_name] = {}\n    for entry in student_data:\n        student_info[student_name][entry] = int(raw_input(entry)) #storing the marks entered as integers to perform arithmetic operations later on.\n#print student_info\nprint\"Please enter student name ?\"\nname = raw_input(\"Student name : \")\nif name in student_info.keys():\n    print \"Average student marks : \", str(sum(student_info[name].values())/3.0)\nelse:\n    print\"please enter valid name\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 3847870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5cf210f96632aecebaf2653fe3794c76?s=128&d=identicon&r=PG&f=1", "display_name": "user3847870", "link": "https://stackoverflow.com/users/3847870/user3847870"}, "is_accepted": false, "score": 0, "last_activity_date": 1440438351, "creation_date": 1440438351, "answer_id": 32188468, "question_id": 30360964, "link": "https://stackoverflow.com/questions/30360964/how-to-store-multiple-entries-for-each-student-using-dictionaries/32188468#32188468", "title": "How to store multiple entries for each student using dictionaries", "body": "<pre><code>  #youcan use print stmts. acording to your problem\n n = raw_input()\n    grades = []\n    for entry in range(int(n)):\n        grades.append([i for i in raw_input().split()])\n    query = raw_input()\n\n    # Find list where first item matches name in query and\n    # assign grades to queryResult\n    queryResult = [x[1:] for x in grades if x[0] == query]\n\n    total = 0\n    scores = 0\n\nfor x in queryResult:\n    for y in x:\n        total += float(y)\n        scores += 1\nprint \"%.2f\" % (float(total/scores))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4186901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pdO30.jpg?s=128&g=1", "display_name": "Digvijay", "link": "https://stackoverflow.com/users/4186901/digvijay"}, "is_accepted": false, "score": 0, "last_activity_date": 1452506383, "creation_date": 1452506383, "answer_id": 34718585, "question_id": 30360964, "link": "https://stackoverflow.com/questions/30360964/how-to-store-multiple-entries-for-each-student-using-dictionaries/34718585#34718585", "title": "How to store multiple entries for each student using dictionaries", "body": "<pre><code>#Another way\nnum_of_student = int(raw_input())\ndir_student = {}\n\nfor i in range(0,num_of_student):\n    student_info = raw_input()\n    name = student_info.split()\n    dir_student[name[0]] = [float(name[1]),float(name[2]),float(name[3])]\n\nfind_name = raw_input()\nif dir_student.has_key(find_name):\n    print \"{0:.2f}\".format(sum(dir_student[find_name])/3.0)\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 4922326, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3781588001bf34c30b06980123d98cca?s=128&d=identicon&r=PG&f=1", "display_name": "SpaceOddity", "link": "https://stackoverflow.com/users/4922326/spaceoddity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22803, "favorite_count": 0, "accepted_answer_id": 30361121, "answer_count": 3, "score": 3, "last_activity_date": 1452506383, "creation_date": 1432158445, "last_edit_date": 1432158920, "question_id": 30360964, "link": "https://stackoverflow.com/questions/30360964/how-to-store-multiple-entries-for-each-student-using-dictionaries", "title": "How to store multiple entries for each student using dictionaries", "body": "<p>Here is the problem statement:</p>\n\n<p>There is a record of 'n' students, each record having name of student, percent marks obtained in Maths, Physics and Chemistry. The user enters an integer 'n' followed by names and marks for the 'n' students. I am required to save the record in a dictionary data type. The user then enters name of a student and you are required to print the average percentage marks obtained by that student, correct to two decimal places.\nwhat I have tried so far:</p>\n\n<pre><code>num_students = int(raw_input(\"Please enter number of students:\"))\nprint \"you entered %s students\" %num_students\nstudent_info = {}\nstudent_data = ['studentname', 'mathmarks', 'physicsmarks', 'chemistrymarks']\nfor i in range(0,num_students):\n    for entry in student_data:\n        student_info[entry] = raw_input(entry )\nprint student_info\nprint\"please enter student name\"\nname = raw_input(\"student name\")\nif student_info['studentname'] == name:\n    print \"Average student marks:\", (int(student_info['mathmarks']) + int(student_info['physicsmarks']) + int(student_info['chemistrymarks']))/3\nelse:\n    print\"please enter valid name\"\n</code></pre>\n\n<p>This code is working is num_students = 1, However if num_students >1 the code fails.</p>\n\n<p>I am unable to save the entry of each student in dictionary.</p>\n\n<p>I am pretty new to python, would be glad if any one can help me with this.</p>\n"}, {"tags": ["python", "scope", "arguments", "optparse"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1432158592, "post_id": 30360949, "comment_id": 48813670, "body": "I&#39;m confused...how are you calling the scripts and why are you doing it this way? Why do you say that Script 1 is &quot;immutable?&quot;"}, {"owner": {"reputation": 771, "user_id": 1942263, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/npjAx.png?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1942263/alexander"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1432158746, "post_id": 30360949, "comment_id": 48813728, "body": "Both of these scripts have the executable bit set. They would be run in the command line (For example, <i>./Script1.py -a</i> or <i>./Script2.py</i>). Script 1 is immutable as in I cannot change the code in script 1. As to the why, that&#39;s a very good question! :D"}], "answers": [{"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 2, "last_activity_date": 1432159504, "creation_date": 1432159504, "answer_id": 30361192, "question_id": 30360949, "link": "https://stackoverflow.com/questions/30360949/python-optparse-from-method-call/30361192#30361192", "title": "Python optparse from method call?", "body": "<p>If you don't pass any arguments to <code>parse_args</code>, it just uses the value of <code>sys.argv[1:]</code>, which is going to be whatever arguments were passed when you called <code>Script2.py</code>. The fact that <code>Script2.py</code> calls <code>Script1.main</code> doesn't change that.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 2619657, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c2f7569cfae6b5d8f115a9e137af216?s=128&d=identicon&r=PG", "display_name": "Rain Lee", "link": "https://stackoverflow.com/users/2619657/rain-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1432159898, "last_edit_date": 1495542608, "creation_date": 1432159898, "answer_id": 30361265, "question_id": 30360949, "link": "https://stackoverflow.com/questions/30360949/python-optparse-from-method-call/30361265#30361265", "title": "Python optparse from method call?", "body": "<p>Firstly, maybe use <a href=\"https://stackoverflow.com/questions/3217673/why-use-argparse-rather-than-optparse\">argparse</a> instead. You can process all arguments in script 2, then pass the argument handle to script 1.</p>\n\n<pre><code># Script1.py\ndef main(args):\n    print args\n\n# Script2.py\nimport argparse\nfrom Script1 import main as script1Main\n\ndef main():\n    parser = argparse.ArgumentParser(\n    parser.add_option(\"-a\", \"--add-foobar\", action=\"store_true\", help=\"set foobar true\", default=False)\n    args = parser.parse_args()\n    script1Main(args)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 771, "user_id": 1942263, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/npjAx.png?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1942263/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432159898, "creation_date": 1432158379, "question_id": 30360949, "link": "https://stackoverflow.com/questions/30360949/python-optparse-from-method-call", "title": "Python optparse from method call?", "body": "<p>I have two python scripts with the following structure:</p>\n\n<pre><code># Script1.py\nfrom optparse import OptionParser\ndef main():\n    parser = OptionParser()\n    parser.add_option(\"-a\", \"--add-foobar\", action=\"store_true\", help=\"set foobar true\",\n        dest=\"foobar\", default=False)\n    options, args = parser.parse_args()\n    print options.foobar\n\nif __name__ == \"__main__\":\n    main()\n\n# Script2.py\nfrom Script1 import main as script1Main\ndef main():\n    script1Main()\n</code></pre>\n\n<p>Is there a way to pass command line arguments from script 2 to script 1? Script 1 in this example is immutable, therefore this must be done only thorough optparse.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 4813, "user_id": 4663466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TvczL.png?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/4663466/scott"}, "edited": false, "score": 1, "creation_date": 1432165302, "post_id": 30360946, "comment_id": 48815837, "body": "Looking at the matplotlib example you link their function <code>onpick(event)</code> has only event as a parameter.  Did you try the link&#39;s onpick?"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1432176242, "post_id": 30360946, "comment_id": 48818634, "body": "You should also be getting <code>TypeError</code>s someplace as the function signature is wrong."}], "owner": {"reputation": 1, "user_id": 4922306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ccd1231076aabdd5fdc9e799d8b5c2?s=128&d=identicon&r=PG&f=1", "display_name": "John Madden", "link": "https://stackoverflow.com/users/4922306/john-madden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 832, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432158357, "creation_date": 1432158357, "question_id": 30360946, "link": "https://stackoverflow.com/questions/30360946/setting-a-picker-for-items-on-a-legend-in-matplotlib-pyplot", "title": "Setting a picker for items on a legend in matplotlib.pyplot", "body": "<p>I have created a line graph of some data in matplotlib. However, there are many observations, and so it is difficult to identify the trajectory of any single observation, as the graph is crowded.</p>\n\n<p>I would like to add a picker function to the legend which, when a certain line is selected, would set the alpha of all other lines to 0, rendering them invisible. When selected again, alpha of other lines would assume their original values.</p>\n\n<p>In order to do this, I have adapted code from this example:<br>\n<a href=\"http://matplotlib.org/1.4.3/examples/event_handling/legend_picking.html\" rel=\"nofollow\">http://matplotlib.org/1.4.3/examples/event_handling/legend_picking.html</a></p>\n\n<p>I have followed this example to the best of my knowledge, but the graph is not responding as expected: the picker function is never executing. I have tried giving it more radius, and tried some slight variations in syntax, but I cannot identify the problem. Please find below the pertinent code:</p>\n\n<pre><code>#initialize figure\nfig, axp = plt.subplots()\n\n#plotting, one by one.\nlines = [x for x in range(0, len(df.columns))]\nfor i, country in enumerate(df):\n    lines[i],  = axp.plot(range(0, len(df[country]-1)), df[country], label = country)\n\n#create legend\nleg = axp.legend(loc='upper right', fancybox=True, shadow=True)\n\n#fixing plot size to fit key\nbox = axp.get_position()\naxp.set_position([box.x0, box.y0, box.width * 0.8, box.height])\n\n#fixing key location and size\naxp.legend(loc='center left', bbox_to_anchor=(1, 0.5),prop={'size':10})\n\n#create dictionary for picking, set picking radius\nlined = dict()\nfor legline, origline in zip(leg.get_lines(), lines):\n    lined[legline] = origline\n    legline.set_picker(5)\n</code></pre>\n\n<p>Subsequently, I define a picker function onpick:</p>\n\n<pre><code>def onpick(artist, event):\n    # on the pick event, find the orig line corresponding to the\n    # legend proxy line, and toggle the visibility\n    print 'This function is being executed'\n    origline = lined[artist]\n    vis = not origline.get_visible()\n    origline.set_visible(vis)\n    # Change the alpha on the line in the legend so we can see what lines\n    # have been toggled\n    if vis:\n        artist.set_alpha(1.0)\n    else:\n        artist.set_alpha(0.2)\n</code></pre>\n\n<p>And then attach it:</p>\n\n<pre><code>fig.canvas.draw()\n\n\nfig.canvas.mpl_connect('pick_event', onpick)\n\nplt.show()\n</code></pre>\n\n<p>I would appreciate any assistance you can offer me. Thank you in advance for your time.</p>\n"}, {"tags": ["python", "finance"], "comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1432158106, "post_id": 30360840, "comment_id": 48813478, "body": "Which python version are you using?"}, {"owner": {"reputation": 664, "user_id": 1942603, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/000d3f5089feca9226a46f8e1eba1bf0?s=128&d=identicon&r=PG", "display_name": "Joshua Snider", "link": "https://stackoverflow.com/users/1942603/joshua-snider"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1432158223, "post_id": 30360840, "comment_id": 48813520, "body": "I&#39;m using Python 2.7.8."}, {"owner": {"reputation": 664, "user_id": 1942603, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/000d3f5089feca9226a46f8e1eba1bf0?s=128&d=identicon&r=PG", "display_name": "Joshua Snider", "link": "https://stackoverflow.com/users/1942603/joshua-snider"}, "edited": false, "score": 0, "creation_date": 1432165359, "post_id": 30360840, "comment_id": 48815856, "body": "I rounded 17.6639 to 17.66 when I typed it in on that website, adding the remaining decimals makes it agree exactly."}, {"owner": {"reputation": 664, "user_id": 1942603, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/000d3f5089feca9226a46f8e1eba1bf0?s=128&d=identicon&r=PG", "display_name": "Joshua Snider", "link": "https://stackoverflow.com/users/1942603/joshua-snider"}, "edited": false, "score": 0, "creation_date": 1432166335, "post_id": 30360840, "comment_id": 48816112, "body": "The idea of infinite volatility in options pricing does not make any practical sense, so I&#39;m 99% confident that my output is a bug, but I don&#39;t understand the Black-Scholes equation well enough to debug it."}, {"owner": {"reputation": 664, "user_id": 1942603, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/000d3f5089feca9226a46f8e1eba1bf0?s=128&d=identicon&r=PG", "display_name": "Joshua Snider", "link": "https://stackoverflow.com/users/1942603/joshua-snider"}, "edited": false, "score": 0, "creation_date": 1432170749, "post_id": 30360840, "comment_id": 48817246, "body": "So, blame floating point weirdness?"}, {"owner": {"reputation": 1398, "user_id": 9563537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Josmoor98", "link": "https://stackoverflow.com/users/9563537/josmoor98"}, "edited": false, "score": 0, "creation_date": 1525106286, "post_id": 30360840, "comment_id": 87226563, "body": "Did you find a solution?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12171790, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/32e279a650b1185593a522219ea2d87c?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/12171790/stuart"}, "is_accepted": false, "score": 0, "last_activity_date": 1570355986, "creation_date": 1570355986, "answer_id": 58256155, "question_id": 30360840, "link": "https://stackoverflow.com/questions/30360840/implied-volatility-calculator-is-wrong/58256155#58256155", "title": "Implied volatility calculator is wrong", "body": "<p>What you are doing doesn't make a lot on sense.  You are trying to back out the implied vol of a massively in the money, short dated option.  The vega on this option will be effectively 0 so the implied vol number you get will be meaningless.   It wouldn't surprise me at all is floating point rounding gave you infinite vol.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7203186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mXj3Z.jpg?s=128&g=1", "display_name": "Con Fluentsy", "link": "https://stackoverflow.com/users/7203186/con-fluentsy"}, "is_accepted": false, "score": 0, "last_activity_date": 1611791942, "creation_date": 1611791942, "answer_id": 65929169, "question_id": 30360840, "link": "https://stackoverflow.com/questions/30360840/implied-volatility-calculator-is-wrong/65929169#65929169", "title": "Implied volatility calculator is wrong", "body": "<p>If you are using vega to estimate implied volatility, you are probably doing some variant of a newtons gradient search, which does not converge to a solution in all circumstamces, I program in R, or VBA so can only offer a solution for you to translate, the bi-section search method is simple robust and always converges, from the man who wrote the complete book of option pricing models here is Espen Haugs algorithm for a bisection search to find the implied volatility;</p>\n<p>The Newton-Raphson method requires knowledge of the partial\nderivative of the option pricing formula with respect to volatility\n(vega) when searching for the implied volatility. For some options\n(exotic and American options in particular), vega is not known ana-\nlytically. The bisection method is an even simpler method to estimate\nimplied volatility when vega is unknown. The bisection method\nrequires two initial volatility estimates (seed values):</p>\n<ol>\n<li>A &quot;low&quot; estimate of the implied volatility, al, corresponding to\nan option value, CL</li>\n<li>A &quot;high&quot; volatility estimate, aH, corresponding to an option\nvalue, CH\nThe option market price, Cm, lies between CL and cH. The bisec-\ntion estimate is given as the linear interpolation between the two\nestimates:\nReplace al with 0 i+1 if c(cr, + ) &lt; c m , or else replace aH with a i+ 1 if\nC(7,+ ) &gt; c m until lcm \u2014 c(cri+i)i &lt; E, at which point cr, \u00b11 is the implied\nvolatility and E is the desired degree of accuracy.\nComputer algorithm\nThis function returns the implied volatility of a European plain\nvanilla call or put option. With small modifications, the function can\nalso be used to find the implied volatility for American and exotic\noptions. The variable counter keeps track of how many loops have\nbeen done. If the implied volatility is not found to the specified accu-racy E within 100 loops, the algorithm stops and returns &quot;NA&quot; (not\navailable).</li>\n</ol>\n<pre><code>      Function  GBlackScholesImpVolBisection(CallPutFlag \n       As String, S As Double,\n       X As Double, T As Double, r As Double, _\n       b As Double, cm As Double) As Variant\n       Dim vLow As Double, vHigh As Double, vi As Double\n       Dim cLow As Double, cHigh As Double, epsilon As \n   Double\n   Dim counter As Integer\n   vLow = 0.005\n   vHigh = 4\n   epsilon = le-08\n   cLow = GBlackScholes ( CallPutFlag , S, X, T, r, b, vLow)\n   cHigh = GBlackScholes ( CallPutFlag , S, X, T, r, b, vHigh)\n   counter = 0\n   vi = vLow + (cm \u2014 cLow ) * (vHigh \u2014 vLow) / ( cHigh \u2014 cLow)\n   While Abs(cm \u2014 GBlackScholes ( CallPutFlag , S, X, T, r, b, vi )) &gt; epsilon\n   counter = counter + 1\n   If counter = 100 Then\n   GBlackScholesImpVolBisection\n   Exit Function\n   End If\n   If GBlackScholes ( CallPutFlag , S, X, T, r, b, vi ) &lt; cm Then\n   vLow = vi\n   Else\n   vHigh = vi\n   End If\n   cLow = GBlackScholes ( CallPutFlag , S, X, T, r, b, vLow)\n   cHigh = GBlackScholes ( CallPutFlag , S, X, T, r, b, vHigh )\n   vi = vLow + (cm \u2014 cLow ) * (vHigh \u2014 vLow) / ( cHigh \u2014 cLow)\n   Wend\n   GBlackScholesImpVolBisection = vi\n   End Function```\n</code></pre>\n"}], "owner": {"reputation": 664, "user_id": 1942603, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/000d3f5089feca9226a46f8e1eba1bf0?s=128&d=identicon&r=PG", "display_name": "Joshua Snider", "link": "https://stackoverflow.com/users/1942603/joshua-snider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1803, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1611791942, "creation_date": 1432157834, "last_edit_date": 1432158073, "question_id": 30360840, "link": "https://stackoverflow.com/questions/30360840/implied-volatility-calculator-is-wrong", "title": "Implied volatility calculator is wrong", "body": "<p>I'm a computer scientist trying to learn more about quantitative finance. I have a program for calculating the value of a European call option in the Black-Scholes model and am trying to add a method to calculate implied volatility to it.</p>\n\n<pre><code>import math\nimport numpy as np\nimport pdb\nfrom scipy.stats import norm\n\nclass BlackScholes(object):\n  '''Class wrapper for methods.'''\n\n  def __init__(self, s, k, t, r, sigma):\n    '''Initialize a model with the given parameters.\n       @param s: initial stock price\n       @param k: strike price\n       @param t: time to maturity (in years)\n       @param r: Constant, riskless short rate (1 equals 100%)\n       @param sigma: Guess for volatility. (1 equals 100%)\n    '''\n    self.s = s\n    self.k = k\n    self.t = t\n    self.r = r\n    self.sigma = sigma\n    self.d = self.factors()\n\n  def euro_call(self):\n    ''' Calculate the value of a European call option\n        using Black-Scholes. No dividends.\n        @return: The value for an option with the given parameters.'''\n    return norm.cdf(self.d[0]) * self.s - (norm.cdf(self.d[1]) * self.k *\n                                     np.exp(-self.r * self.t))\n\n  def factors(self):\n    '''\n      Calculates the d1 and d2 factors used in a large\n      number of Black Scholes equations.\n    '''\n    d1 = (1.0 / (self.sigma * np.sqrt(self.t)) * (math.log(self.s / self.k)\n                    + (self.r + self.sigma ** 2 / 2) * self.t))\n    d2 = (1.0 / (self.sigma * np.sqrt(self.t)) * (math.log(self.s / self.k)\n                    + (self.r - self.sigma ** 2 / 2) * self.t))\n    if math.isnan(d1):\n      pdb.set_trace()\n    assert(not math.isnan(d1))\n    assert(not math.isnan(d2))\n    return (d1, d2) \n\n  def imp_vol(self, C0):\n    ''' Calculate the implied volatility of a call option,\n        where sigma is interpretered as a best guess.\n        Updates sigma as a side effect.\n        @rtype: float\n        @return: Implied volatility.'''\n    for i in range(128):\n      self.sigma -= (self.euro_call() - C0) / self.vega()\n      assert(self.sigma != -float(\"inf\"))\n      assert(self.sigma != float(\"inf\"))\n      self.d = self.factors()\n    print(C0,\n      BlackScholes(self.s, self.k, self.t, self.r, self.sigma).euro_call())\n    return self.sigma\n\n  def vega(self):\n    ''' Returns vega, which is the derivative of the\n        option value with respect to the asset's volatility.\n        It is the same for both calls and puts.\n        @rtype: float\n        @return: vega'''\n    v = self.s * norm.pdf(self.d[0]) * np.sqrt(self.t)\n    assert(not math.isnan(v))\n    return v\n</code></pre>\n\n<p>Here are the two test cases I currently have:</p>\n\n<pre><code>print(BlackScholes(17.6639, 1.0, 1.0, .01, 2.0).imp_vol(16.85))\nprint(BlackScholes(17.6639, 1.0, .049, .01, 2.0).imp_vol(16.85))\n</code></pre>\n\n<p>the top one prints out 1.94 which is reasonably close to the value of 195.21% given by <a href=\"http://www.option-price.com/implied-volatility.php\" rel=\"nofollow\">http://www.option-price.com/implied-volatility.php</a>. The bottom one however (if you remove the assert statements) prints out 'nan' and the following warning message. With the assert statements, <code>self.vega()</code> returns zero in the imp_vol method and then <code>assert(self.sigma != -float(\"inf\"))</code>.</p>\n\n<pre><code>so.py:51: RuntimeWarning: divide by zero encountered in double_scalars\n  self.sigma -= (self.euro_call() - C0) / self.vega()\nso.py:37: RuntimeWarning: invalid value encountered in double_scalars\n  + (self.r + self.sigma ** 2 / 2) * self.t))\nso.py:39: RuntimeWarning: invalid value encountered in double_scalars\n  + (self.r - self.sigma ** 2 / 2) * self.t))\n</code></pre>\n"}, {"tags": ["python", "list", "search"], "answers": [{"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 3, "last_activity_date": 1432157766, "creation_date": 1432157766, "answer_id": 30360828, "question_id": 30360772, "link": "https://stackoverflow.com/questions/30360772/how-to-retrieve-lists-that-contains-specific-query-items/30360828#30360828", "title": "How to retrieve list(s) that contains specific query items", "body": "<p>By making minimal changes in the code provided you can create new dummy list to store values and at end of each inner loop iteration you just append it to the main list.</p>\n\n<pre><code>_list=[[1,2,3],[2,3,4]]\nquerylist=[1,2,4]\nrelvant=[]\nfor x in querylist:\n    dummy = []\n    for y in _list:\n        if x in y:\n            dummy.append(y)\n    relvant.append(dummy)\n\nprint relvant\n&gt;&gt;&gt; [[[1, 2, 3]], [[1, 2, 3], [2, 3, 4]],[[2, 3, 4]]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27107, "user_id": 13169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5986747b5b748191ff78064865e3a062?s=128&d=identicon&r=PG", "display_name": "Roberto Bonvallet", "link": "https://stackoverflow.com/users/13169/roberto-bonvallet"}, "is_accepted": true, "score": 7, "last_activity_date": 1432157788, "creation_date": 1432157788, "answer_id": 30360832, "question_id": 30360772, "link": "https://stackoverflow.com/questions/30360772/how-to-retrieve-lists-that-contains-specific-query-items/30360832#30360832", "title": "How to retrieve list(s) that contains specific query items", "body": "<p>I think it's clearer to use a list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; _list = [[1,2,3],[2,3,4]]\n&gt;&gt;&gt; querylist = [1,2,4]\n&gt;&gt;&gt; [[l for l in _list if x in l] for x in querylist]\n[[[1, 2, 3]], [[1, 2, 3], [2, 3, 4]], [[2, 3, 4]]]\n</code></pre>\n\n<p>The inner expression <code>[l for l in _list if x in l]</code> describes the list of all sublists that contain <code>x</code>. The outer expression's job is to get that list for all values of <code>x</code> in the query list.</p>\n"}], "owner": {"reputation": 329, "user_id": 2274879, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/552e2be8278e28129691c5125f3bd4aa?s=128&d=identicon&r=PG", "display_name": "user2274879", "link": "https://stackoverflow.com/users/2274879/user2274879"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 30360832, "answer_count": 2, "score": 0, "last_activity_date": 1432234407, "creation_date": 1432157524, "last_edit_date": 1432234407, "question_id": 30360772, "link": "https://stackoverflow.com/questions/30360772/how-to-retrieve-lists-that-contains-specific-query-items", "title": "How to retrieve list(s) that contains specific query items", "body": "<p>I am trying to group list of items relevant to a query item. Below is an example of the problem and my attempt at it:</p>\n\n<pre><code>&gt;&gt;&gt; _list=[[1,2,3],[2,3,4]]\n&gt;&gt;&gt; querylist=[1,2,4]\n&gt;&gt;&gt; relvant=[]\n&gt;&gt;&gt; for x in querylist:\n        for y in _list:\n            if x in y:\n                relvant.append(y)\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>&gt;&gt;&gt; relvant\n[[1, 2, 3], [1, 2, 3], [2, 3, 4], [2, 3, 4]]\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>[[[1, 2, 3]], [[1, 2, 3], [2, 3, 4]],[[2, 3, 4]]]\n</code></pre>\n\n<p>The issue is after each loop of a query item, I expected the relevant lists to be grouped but that isn't the case with my attempt.</p>\n\n<p>Thanks for your suggestions.</p>\n"}, {"tags": ["python", "macos", "python-3.x", "version", "kivy"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1432166306, "post_id": 30360725, "comment_id": 48816105, "body": "I&#39;m not certain here, but I think the package supports python2 because it uses the system installation. I could be wrong though, someone else may know for sure. You should be able to install it yourself if you make sure you have the dependencies, particularly sdl2 now (not pygame any more). In this case, it seems you lack cython...I don&#39;t know how you installed python, but you&#39;ll need to install cython if you want to compile kivy."}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 1, "creation_date": 1432166453, "post_id": 30360725, "comment_id": 48816137, "body": "I installed Python from the PSF website... I didn&#39;t know <code>cython</code> was a dependency, but the error is of course related to it...Do you know a guide to install kivy for Python by installing all the dependencies?"}, {"owner": {"reputation": 1556, "user_id": 2298935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e6cf47a45636de5036da34d16f42415?s=128&d=identicon&r=PG", "display_name": "toine", "link": "https://stackoverflow.com/users/2298935/toine"}, "edited": false, "score": 0, "creation_date": 1441186320, "post_id": 30360725, "comment_id": 52572299, "body": "did you manage to solve your problem?"}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "reply_to_user": {"reputation": 1556, "user_id": 2298935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e6cf47a45636de5036da34d16f42415?s=128&d=identicon&r=PG", "display_name": "toine", "link": "https://stackoverflow.com/users/2298935/toine"}, "edited": false, "score": 0, "creation_date": 1441188325, "post_id": 30360725, "comment_id": 52573664, "body": "@toine I had given up using Kivy (this question is from 3 months ago) and for now I will not try to use it again, because I don&#39;t have time. In a few days I will try and I make you know ;)"}, {"owner": {"reputation": 2229, "user_id": 2102965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PoShE.jpg?s=128&g=1", "display_name": "krs013", "link": "https://stackoverflow.com/users/2102965/krs013"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1444065187, "post_id": 30360725, "comment_id": 53733047, "body": "@inclement Kivy comes with its own python distribution. It might work with the system installation but that is not its default."}], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 2298935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e6cf47a45636de5036da34d16f42415?s=128&d=identicon&r=PG", "display_name": "toine", "link": "https://stackoverflow.com/users/2298935/toine"}, "is_accepted": false, "score": 1, "last_activity_date": 1441186363, "last_edit_date": 1441186363, "creation_date": 1441110690, "answer_id": 32331726, "question_id": 30360725, "link": "https://stackoverflow.com/questions/30360725/kivy-for-python-3-on-a-mac-os-x/32331726#32331726", "title": "Kivy for Python 3 on a Mac OS X", "body": "<p>According to the error message, you are missing the package <code>cython</code>:</p>\n\n<pre><code>Cython is missing, its required for compiling kivy !\n...\nImportError: No module named 'Cython'\n</code></pre>\n\n<p>You should run <code>pip install cython</code>.\nThen installing from source worked for me, by opposition to using <code>pip</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 4015330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f55b82f355bdc489fa442983169464be?s=128&d=identicon&r=PG&f=1", "display_name": "uclatommy", "link": "https://stackoverflow.com/users/4015330/uclatommy"}, "is_accepted": false, "score": 3, "last_activity_date": 1448303053, "creation_date": 1448303053, "answer_id": 33877940, "question_id": 30360725, "link": "https://stackoverflow.com/questions/30360725/kivy-for-python-3-on-a-mac-os-x/33877940#33877940", "title": "Kivy for Python 3 on a Mac OS X", "body": "<p>You will need to <a href=\"http://kivy.org/docs/installation/installation.html#os-x\" rel=\"nofollow\">build from source</a>.</p>\n\n<p>As a previous poster mentioned, you will need to get Cython installed.</p>\n\n<p>To get the latest version, use</p>\n\n<pre><code>$ pip3 install cython\n</code></pre>\n\n<p>From there, you need to modify setup.py. <a href=\"https://github.com/uclatommy/kivy/wiki/Building-for-OSX-Python3\" rel=\"nofollow\">Here's an example of how I did it.</a></p>\n"}], "owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4070, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1448303053, "creation_date": 1432157331, "question_id": 30360725, "link": "https://stackoverflow.com/questions/30360725/kivy-for-python-3-on-a-mac-os-x", "title": "Kivy for Python 3 on a Mac OS X", "body": "<p>I was wondering if <code>kivy</code> supports Python 3 on Mac OS X systems. From the <a href=\"http://kivy.org/#download\" rel=\"nofollow\">download</a> page from the <code>kivy</code> official website, it seems that <code>kivy-1.9.0</code> is available for Python 3.4 for Windows systems, but it does not seem to support Python 3 on Mac OS X:</p>\n\n<blockquote>\n  <p>Mac OS X Mac OS X 10.9, 10.10 (requires Python 2.7)<br>\n  Kivy-1.9.0-rev3-osx.dmg (Mirror)</p>\n</blockquote>\n\n<p>This seems a little but nonsensical, why kivy should support Python 3 on Windows but not on a Mac OS X? It could be because of the missing support of PyGame for Python 3 for OS X systems? Actually, there's a way to install PyGame for OS X systems for Python 3, so I do not understand why they do not fix this problem, if this is really a problem.</p>\n\n<p>I have also tried to install it globally via <code>pip3</code> using:</p>\n\n<pre><code>sudo pip3 install kivy\n</code></pre>\n\n<p>But I am getting the following error:</p>\n\n<blockquote>\n  <p>Collecting kivy   Downloading Kivy-1.9.0.tar.gz (16.2MB)\n      100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 16.2MB 34kB/s \n      Complete output from command python setup.py egg_info:</p>\n\n<pre><code>Cython is missing, its required for compiling kivy !\n\n\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 20, in &lt;module&gt;\n  File \"/private/tmp/pip-build-qt70t_44/kivy/setup.py\", line 173, in &lt;module&gt;\n    from Cython.Distutils import build_ext\nImportError: No module named 'Cython'\n\n----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/tmp/pip-build-qt70t_44/kivy\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "animation", "printing"], "comments": [{"owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432157524, "post_id": 30360661, "comment_id": 48813245, "body": "my initial reaction was that it might have something to do with buffering the output. But even running with <code>python -u</code> didn&#39;t change the behavior...."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 2, "creation_date": 1432157729, "post_id": 30360661, "comment_id": 48813321, "body": "@Gil: As <a href=\"https://docs.python.org/3/using/cmdline.html#cmdoption-u\" rel=\"nofollow noreferrer\">the docs</a> explain, <code>-u</code> will only &quot;Force the binary I/O layers of  stdout and stderr to be unbuffered\u2026 The text I/O layer will still be line-buffered\u2026&quot;"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432157916, "post_id": 30360661, "comment_id": 48813394, "body": "@Gil: You can use <code>-u</code> and then wrap a different <code>TextIOWrapper</code> around <code>sys.stdout.buffer</code> and reassign <code>sys.stdout</code> to that, but if you&#39;re going to do that, you might as well just rewrap the <code>sys.stdout.buffer.raw</code> instead and not bother with the flag."}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432157752, "post_id": 30360762, "comment_id": 48813329, "body": "Do you have any idea why disabling buffering when calling the code i.e. using <code>python -u</code> doesn&#39;t give the same result as your solution?"}, {"owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432157784, "post_id": 30360762, "comment_id": 48813349, "body": "Apologies, just had my question answered in original comment."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 6, "last_activity_date": 1432158229, "last_edit_date": 1432158229, "creation_date": 1432157481, "answer_id": 30360762, "question_id": 30360661, "link": "https://stackoverflow.com/questions/30360661/how-to-make-a-line-crawl-across-the-screen-in-python/30360762#30360762", "title": "How to make a line crawl across the screen in Python?", "body": "<p>Output is normally line-buffered, meaning when you <code>print</code> part of a line, it may not get displayed until you finish <code>print</code>ing the rest of the line.</p>\n\n<p>You can change the buffering, but the simpler solution is just to explicitly call <a href=\"https://docs.python.org/3/library/io.html#io.IOBase.flush\" rel=\"nofollow\"><code>flush</code></a> on the <a href=\"https://docs.python.org/3/library/sys.html#sys.stdin\" rel=\"nofollow\"><code>stdout</code></a> stream (which <code>print</code> normally prints to) every time you want to force it to display what you have so far:</p>\n\n<pre><code>print('Loading Documents...')\nLoadDocuments() #Function That Loads the Documents\nfor i in range(0, 30, 1):\n    print(\"-\", end=\"\")\n    sys.stdout.flush()\n    time.sleep(0.1)\nprint(\" \")\nprint('Documents Loaded')\n</code></pre>\n\n<p>In this case, it may also be cleaner to also use <a href=\"https://docs.python.org/3/library/io.html#io.TextIOBase.write\" rel=\"nofollow\"><code>write</code></a> directly on <code>stdout</code>, just to make it clear that you're doing low-level I/O instead of the normal high-level <code>print</code> mechanism:</p>\n\n<pre><code>print('Loading Documents...')\nLoadDocuments() #Function That Loads the Documents\nfor i in range(0, 30, 1):\n    sys.stdout.write('-')\n    sys.stdout.flush()\n    time.sleep(0.1)\nprint(\" \")\nprint('Documents Loaded')\n</code></pre>\n\n<hr>\n\n<p>This is explained in the docs\u2026 but only if you know where to look, and already understand most of it\u2026</p>\n\n<p><a href=\"https://docs.python.org/3/library/functions.html#print\" rel=\"nofollow\"><code>print</code></a> explains that <code>sys.stdout</code> is the default file that gets printed to, then <a href=\"https://docs.python.org/3/library/sys.html#sys.stdin\" rel=\"nofollow\"><code>sys.stdout</code></a> says:</p>\n\n<blockquote>\n  <p>These streams are regular <a href=\"https://docs.python.org/3/glossary.html#term-text-file\" rel=\"nofollow\"><em>text files</em></a> like those returned by the <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow\"><code>open()</code></a> function. Their parameters are chosen as follows: \u2026 When interactive, standard streams are line-buffered \u2026 You can override this value with the <a href=\"https://docs.python.org/3/using/cmdline.html#cmdoption-u\" rel=\"nofollow\"><em>-u</em></a> command-line option.</p>\n</blockquote>\n\n<p>If you follow the link to <code>-u</code>, it says:</p>\n\n<blockquote>\n  <p>Force the binary layer of the <code>stdout</code> and <code>stderr</code> streams (which is available as their <code>buffer</code> attribute) to be unbuffered. The text I/O layer will still be line-buffered if writing to the console\u2026</p>\n</blockquote>\n\n<p>Then you have to follow a few links from <code>open</code> or <em>text files</em> to get to <a href=\"https://docs.python.org/3/library/io.html\" rel=\"nofollow\"><code>io</code></a> and read almost the entire module documentation to figure out how to access and rewrap <code>sys.stdout.buffer.raw</code> or just call <code>sys.stdout.flush</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 2990197, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0a011b835fded33ce63c755cbe104f09?s=128&d=identicon&r=PG&f=1", "display_name": "Pythogen", "link": "https://stackoverflow.com/users/2990197/pythogen"}, "edited": false, "score": 0, "creation_date": 1432158424, "post_id": 30360784, "comment_id": 48813593, "body": "I tried that, I couldn&#39;t import <code>progress bar</code> I looked up progressbar python and It looks like it is not part of python3, but thanks tho!"}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "reply_to_user": {"reputation": 430, "user_id": 2990197, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0a011b835fded33ce63c755cbe104f09?s=128&d=identicon&r=PG&f=1", "display_name": "Pythogen", "link": "https://stackoverflow.com/users/2990197/pythogen"}, "edited": false, "score": 0, "creation_date": 1432158685, "post_id": 30360784, "comment_id": 48813711, "body": "You would have to install it. <code>pip install progress</code>"}], "tags": [], "owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "is_accepted": false, "score": 1, "last_activity_date": 1432158724, "last_edit_date": 1432158724, "creation_date": 1432157577, "answer_id": 30360784, "question_id": 30360661, "link": "https://stackoverflow.com/questions/30360661/how-to-make-a-line-crawl-across-the-screen-in-python/30360784#30360784", "title": "How to make a line crawl across the screen in Python?", "body": "<p>Seems like you are wanting to display some kind of \"progress\" to your user.</p>\n\n<p>I recommend you use something like <a href=\"https://pypi.python.org/pypi/progress\" rel=\"nofollow\">progress</a></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>from progress.bar import Bar\n\nbar = Bar('Processing', max=20)\nfor i in range(20):\n    # Do some work\n    bar.next()\nbar.finish()\n</code></pre>\n\n<p>You do have to install this 3rd-party package hwoever as it's not part of the standard library. Typically this as as simple as:</p>\n\n<pre><code>pip install progress\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 2990197, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0a011b835fded33ce63c755cbe104f09?s=128&d=identicon&r=PG&f=1", "display_name": "Pythogen", "link": "https://stackoverflow.com/users/2990197/pythogen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 1, "accepted_answer_id": 30360762, "answer_count": 2, "score": 2, "last_activity_date": 1432158724, "creation_date": 1432157071, "question_id": 30360661, "link": "https://stackoverflow.com/questions/30360661/how-to-make-a-line-crawl-across-the-screen-in-python", "title": "How to make a line crawl across the screen in Python?", "body": "<pre><code>print('Loading Documents...')\nLoadDocuments() #Function That Loads the Documents\nfor i in range(0, 30, 1):\n    print(\"-\", end=\"\")\n    time.sleep(0.1)\nprint(\" \")\nprint('Documents Loaded')\n</code></pre>\n\n<p>What I want it to do is print  <code>Loading Documents...</code> then have an animation of a line crawling across the screen</p>\n\n<p>Instead it prints <code>Loading Documents</code> and then after a couple seconds, all the dashes in the line pop up at once</p>\n\n<p>Any Ideas?</p>\n"}, {"tags": ["python", "scope", "immutability", "mutable"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 2, "creation_date": 1432157355, "post_id": 30360659, "comment_id": 48813159, "body": "Unrelated to this: there is no reason to use <code>return()</code> if you do not return anything, and return is not a function. Instead you return an empty tuple - which certainly is not what you want."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4922286, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153337825011255/picture?type=large", "display_name": "Shed", "link": "https://stackoverflow.com/users/4922286/shed"}, "edited": false, "score": 0, "creation_date": 1432393504, "post_id": 30360704, "comment_id": 48914498, "body": "Thank you  - going to try the slicing notation"}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 0, "last_activity_date": 1432157249, "creation_date": 1432157249, "answer_id": 30360704, "question_id": 30360659, "link": "https://stackoverflow.com/questions/30360659/having-trouble-understanding-immutable-mutable-scope-in-python-functions/30360704#30360704", "title": "Having trouble understanding immutable, mutable, scope in python functions", "body": "<p>In the first example, you're using a method that modifies <code>a</code> in-place. In the second example, you're making a new <code>a</code> that replaces the old <code>a</code> but without modifying the old <code>a</code> - that's usually what happens when you use the <code>=</code> to assign a new value. One exception is when you use slicing notation on the left-hand side: <code>a[:] = a + [3]</code> would work as your first example did.</p>\n"}, {"tags": [], "owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "is_accepted": false, "score": 1, "last_activity_date": 1432157345, "creation_date": 1432157345, "answer_id": 30360733, "question_id": 30360659, "link": "https://stackoverflow.com/questions/30360659/having-trouble-understanding-immutable-mutable-scope-in-python-functions/30360733#30360733", "title": "Having trouble understanding immutable, mutable, scope in python functions", "body": "<p>In <code>foo2</code> you do not mutate the original list referred to by a - instead, you create a new list from <code>list1</code> and <code>[3]</code>, and bind the result which is a new list to the <em>local</em> name <code>a</code>. So <code>list1</code> is not changed at all.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4922286, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153337825011255/picture?type=large", "display_name": "Shed", "link": "https://stackoverflow.com/users/4922286/shed"}, "edited": false, "score": 0, "creation_date": 1432393438, "post_id": 30360735, "comment_id": 48914476, "body": "Thank you very much this helps"}], "tags": [], "owner": {"reputation": 191, "user_id": 1129458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/221deee6d4e5c7694e5bd71773b44808?s=128&d=identicon&r=PG", "display_name": "fred.kassi", "link": "https://stackoverflow.com/users/1129458/fred-kassi"}, "is_accepted": false, "score": 1, "last_activity_date": 1432157350, "creation_date": 1432157350, "answer_id": 30360735, "question_id": 30360659, "link": "https://stackoverflow.com/questions/30360659/having-trouble-understanding-immutable-mutable-scope-in-python-functions/30360735#30360735", "title": "Having trouble understanding immutable, mutable, scope in python functions", "body": "<p>There is a difference between append and +=</p>\n\n<pre><code>&gt;&gt;&gt; a = []\n&gt;&gt;&gt; id(a)\n11814312\n&gt;&gt;&gt; a.append(\"hello\")\n&gt;&gt;&gt; id(a)\n11814312\n\n&gt;&gt;&gt; b = []\n&gt;&gt;&gt; id(b)\n11828720\n&gt;&gt;&gt; c = b + [\"hello\"]\n&gt;&gt;&gt; id(c)\n11833752\n&gt;&gt;&gt; b += [\"hello\"]\n&gt;&gt;&gt; id(b)\n11828720\n</code></pre>\n\n<p>As you can see, append and += have the same result; they add the item to the list, without producing a new list. Using + adds the two lists and produces a new list.</p>\n"}], "owner": {"reputation": 11, "user_id": 4922286, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153337825011255/picture?type=large", "display_name": "Shed", "link": "https://stackoverflow.com/users/4922286/shed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1432157350, "creation_date": 1432157069, "last_edit_date": 1432157119, "question_id": 30360659, "link": "https://stackoverflow.com/questions/30360659/having-trouble-understanding-immutable-mutable-scope-in-python-functions", "title": "Having trouble understanding immutable, mutable, scope in python functions", "body": "<p>See my code in python 3.4. I can get around it fine. It bugs me a little. I'm guessing it's something to do with foo2 resetting a rather than treating it as list 1.</p>\n\n<pre><code>def foo1(a):\n    a.append(3) ### add element 3 to end of list\n    return()\n\ndef foo2(a):\n    a=a+[3] #### add element 3 to end of list\n    return()\n\nlist1=[1,2]\nfoo1(list1)\nprint(list1) ### shows [1,2,3]\n\nlist1=[1,2]\nfoo2(list1)\nprint(list1) #### shows [1,2]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1432161428, "post_id": 30360626, "comment_id": 48814667, "body": "Note that the article you&#39;re looking at was written back in 2002, 4 years before <code>ctypes</code> was introduced. It&#39;s so old, <code>eval(&#39;0xFFFFFFFF&#39;)</code> would produce <code>-1</code> instead of <code>4294967295L</code> on a 32-bit Python build."}], "answers": [{"tags": [], "owner": {"reputation": 263, "user_id": 4897442, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d672bfd441175c6343b835fe2e7913b6?s=128&d=identicon&r=PG&f=1", "display_name": "Sajal Jain", "link": "https://stackoverflow.com/users/4897442/sajal-jain"}, "is_accepted": true, "score": 1, "last_activity_date": 1432160863, "creation_date": 1432160863, "answer_id": 30361454, "question_id": 30360626, "link": "https://stackoverflow.com/questions/30360626/c-mul-and-regular-python-multiplication/30361454#30361454", "title": "c_mul and regular python multiplication", "body": "<p>I certainly think so. The values should be same.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user277465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 30361454, "answer_count": 1, "score": 2, "last_activity_date": 1432160863, "creation_date": 1432156950, "question_id": 30360626, "link": "https://stackoverflow.com/questions/30360626/c-mul-and-regular-python-multiplication", "title": "c_mul and regular python multiplication", "body": "<p>I was looking at the code sample <a href=\"http://effbot.org/zone/python-hash.htm#integers\" rel=\"nofollow\">here</a> and I had a doubt regarding the implementation of the function c_mul. I'm copying the function here for convenience.</p>\n\n<pre><code>def c_mul(a, b):\n    return eval(hex((long(a) * b) &amp; 0xFFFFFFFFL)[:-1])\n</code></pre>\n\n<p>Would it be the same as <code>ctypes.c_int32((long(a) * b) &amp; 0xffffffff).value</code> ?</p>\n"}, {"tags": ["python", "python-2.7", "dictionary", "twitter", "praw"], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 3565315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f94c26f3337cd6d46fce6dcccad0b3e4?s=128&d=identicon&r=PG&f=1", "display_name": "manglano", "link": "https://stackoverflow.com/users/3565315/manglano"}, "is_accepted": false, "score": 0, "last_activity_date": 1432167612, "creation_date": 1432167612, "answer_id": 30362512, "question_id": 30360585, "link": "https://stackoverflow.com/questions/30360585/reddit-to-twitter-bot-having-issues-with-key-dictionary-calls/30362512#30362512", "title": "Reddit to Twitter bot having issues with key-dictionary calls", "body": "<p>Try printing <code>post</code> and <code>post_dict</code> before you call that concatenation in the the <code>tweeter</code> function's For loop. That should show you what those structs look like and make the solution evident.</p>\n"}], "owner": {"reputation": 149, "user_id": 3002416, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3fWQV.png?s=128&g=1", "display_name": "jakeinmn", "link": "https://stackoverflow.com/users/3002416/jakeinmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432167612, "creation_date": 1432156812, "last_edit_date": 1432157299, "question_id": 30360585, "link": "https://stackoverflow.com/questions/30360585/reddit-to-twitter-bot-having-issues-with-key-dictionary-calls", "title": "Reddit to Twitter bot having issues with key-dictionary calls", "body": "<p>So I'm following the tutorial of a certain reddit to twitter bot thats coded in python using PRAW and I am stuck hitting errors. </p>\n\n<p>Running this code in the command console gives me the error on line 74</p>\n\n<pre><code>import praw\nimport json\nimport requests\nimport tweepy\nimport time\n\naccess_token = 'secret'\naccess_token_secret = ' secret'\nconsumer_key = 'secret'\nconsumer_secret = 'secret'\n\ndef strip_title(title):\n    if len(title) &lt; 94:\n        return title\n    else:\n        return title[:93] + \"...\"\n\ndef tweet_creator(subreddit_info):\n    post_dict = {}\n    post_ids = []\n    print \"[bot] Getting posts from Reddit\"\n    for submission in subreddit_info.get_hot(limit=20):\n        post_dict[strip_title(submission.title)] = submission.url\n        post_ids.append(submission.id)\n    print \"[bot] Generating short link using goo.gl\"\n    mini_post_dict = {}\n    for post in post_dict:\n        post_title = post\n        post_link = post_dict[post]         \n        short_link = shorten(post_link)\n        mini_post_dict[post_title] = short_link \n    return mini_post_dict, post_ids\n\ndef setup_connection_reddit(subreddit):\n    print \"[bot] setting up connection with Reddit\"\n    r = praw.Reddit('yasoob_python reddit twitter bot '\n                'monitoring %s' %(subreddit)) \n    subreddit = r.get_subreddit(subreddit)\n    return subreddit\n\ndef shorten(url):\n    headers = {'content-type': 'application/json'}\n    payload = {\"longUrl\": url}\n    url = \"https://www.googleapis.com/urlshortener/v1/url\"\n    r = requests.post(url, data=json.dumps(payload), headers=headers)\n    link = json.loads(r.text)\n    return link\n\ndef duplicate_check(id):\n    found = 0\n    with open('posted_posts.txt', 'r') as file:\n        for line in file:\n            if id in line:\n                found = 1\n    return found\n\ndef add_id_to_file(id):\n    with open('posted_posts.txt', 'a') as file:\n        file.write(str(id) + \"\\n\")\n\ndef main():\n    subreddit = setup_connection_reddit('showerthoughts')\n    post_dict, post_ids = tweet_creator(subreddit)\n    tweeter(post_dict, post_ids)\n\ndef tweeter(post_dict, post_ids):\n    auth = tweepy.OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n    api = tweepy.API(auth)\n    for post, post_id in zip(post_dict, post_ids):\n        found = duplicate_check(post_id)\n        if found == 0:\n            print \"[bot] Posting this link on twitter\"\n            print post+\" \"+post_dict[post]+\" #Python #reddit #bot\"\n            api.update_status(post+\" \"+post_dict[post]+\" #Python #reddit #bot\")\n            add_id_to_file(post_id)\n            time.sleep(30)\n        else:\n            print \"[bot] Already posted\" \n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Error :</p>\n\n<pre><code>print post+\" \"+post_dict[post]+\"#python #reddit #bot\"\nTypeError: coercing to Unicode: need string or buffer, dict found\n</code></pre>\n\n<p>My understanding of the code and error is that it needs a string to be send but is somehow getting the entire key-dictionary set. I thought by sending the [post] parameter into post_dict that it will be able to get the certain post for the bot to utalize, but instead, its fetching the dictionary!</p>\n\n<p>There are two lines, 74 and 75 that both call post_dict[post] and is not utalizing the dictionary's value when calling post key. </p>\n"}, {"tags": ["python", "apache", "wsgi"], "answers": [{"tags": [], "owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "is_accepted": false, "score": 0, "last_activity_date": 1432171723, "creation_date": 1432171723, "answer_id": 30363056, "question_id": 30360535, "link": "https://stackoverflow.com/questions/30360535/apache-sending-transfer-encoding-chunked-when-deflate-module-is-enabled/30363056#30363056", "title": "Apache sending Transfer-Encoding: chunked when deflate module is enabled", "body": "<p>The response <code>Content-Length</code> has to reflect the final length of the data sent after the compression has been done, not the original length. Thus mod_deflate has to remove the original <code>Content-Length</code> header and use chunked transfer encoding. The only way it could otherwise know the content length to be able to send the <code>Content-Length</code> before sending the compressed data, would be to buffer up the complete compressed response in memory or into a file and then calculate the length. Buffering all the compressed content isn't practical and in part defeats the point of compressing the data as the response is streamed.</p>\n\n<p>If you don't want mod_deflate enabled for the whole site, then only enable it for certain URL prefixes by scoping it within a <code>Location</code> block.</p>\n"}], "owner": {"reputation": 5657, "user_id": 619424, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1f873b4c4f66bac5afc9eb755cc11e9f?s=128&d=identicon&r=PG", "display_name": "chengbo", "link": "https://stackoverflow.com/users/619424/chengbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1248, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432171723, "creation_date": 1432156662, "question_id": 30360535, "link": "https://stackoverflow.com/questions/30360535/apache-sending-transfer-encoding-chunked-when-deflate-module-is-enabled", "title": "Apache sending Transfer-Encoding: chunked when deflate module is enabled", "body": "<p>I have a simple web.py code like below, deployed with mod_wsgi in apache.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import web\n\nurls = (\n    '/', 'index'\n)\n\nclass index:\n    def GET(self):\n        content = 'hello'\n        web.header('Content-length', len(content))\n        return content\n\napp = web.application(urls, globals())\napplication = app.wsgifunc()\n</code></pre>\n\n<p>This website runs well, except one minor issue. When mod_deflate is turn on, the response is chunked, even it has a very small response body.</p>\n\n<p>Response Header</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Wed, 20 May 2015 20:14:12 GMT\nServer: Apache/2.4.7 (Ubuntu)\nVary: Accept-Encoding\nContent-Encoding: gzip\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: text/html\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/eAZRX.png\" alt=\"deflate is turn on\"></p>\n\n<p>When mod_deflate is <strong>turn off</strong>, <code>Content-Length</code> header is back.</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Wed, 20 May 2015 20:30:09 GMT\nServer: Apache/2.4.7 (Ubuntu)\nContent-Length: 5\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: text/html; charset=utf-8\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Ld2pE.png\" alt=\"deflate is turn off\"></p>\n\n<p>I've searched around and someone said reduce the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html#DeflateBufferSize\" rel=\"nofollow noreferrer\">DeflateBufferSize</a> will help, but this response's size is only 5, far from it's default value: 8096, so I don't think it interferes with this issue.</p>\n\n<p>And someone said apache send chunked response because it doesn't know the response's size before begin to send the response to client, but in my code, I do set Content-Length.</p>\n\n<p>I've also tried <a href=\"http://flask.pocoo.org\" rel=\"nofollow noreferrer\">Flask</a> and Apache/2.2.15 (CentOS), same result.</p>\n\n<p>How do I set content-length when deflate module is enabled? and I don't like to gzip content in python.</p>\n"}, {"tags": ["python", "python-3.x", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432157367, "post_id": 30360562, "comment_id": 48813166, "body": "Hi Martin, i tried it but it didnt work I tried this: <code>s = requests.Session() s.auth = (username, password) print(s.get(&#39;http:&#47;&#47;login.company.com&#47;&#39;)) print(s.get(&#39;http:&#47;&#47;wiki.company.com&#47;wiki_page&#39;))</code> still got the same issue"}, {"owner": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432157476, "post_id": 30360562, "comment_id": 48813222, "body": "Also not sure whether this might be helpful or not but in the first working code if i replace <code>top_level_url</code> in the line <code>password_mgr.add_password(None, top_level_url, username, password)</code> with <code>wiki_page </code> it wont work. I get the same 401 there as well"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432157478, "post_id": 30360562, "comment_id": 48813225, "body": "@Pulimon: you should not need to go to <code>login.company.com</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432157609, "post_id": 30360562, "comment_id": 48813274, "body": "@Pulimon: the password manager in <code>urllib</code> implements a full challenge-response system, which isn&#39;t really needed for Basic Authentication. It could be that the system uses a redirect to <code>login.company.com</code> that then sets a cookie, after which the basic auth is no longer needed."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432157651, "post_id": 30360562, "comment_id": 48813292, "body": "@Pulimon: perhaps you need to look closely at what happens in the network tab of your browser when you log in; open the browser development tools, go to the network tab, look at document interactions only. Log in."}, {"owner": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432158343, "post_id": 30360562, "comment_id": 48813562, "body": "Ok wait I have no clue how to decode what happens in that section. What I did see in the network tab is one document with initiator = wiki_page, and request url = (login.company.com/&lt;a lot of gibberish&gt;) The response is an html about 1000 lines long. Could you let me know how to make sense of the document interactions?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432159776, "post_id": 30360562, "comment_id": 48814107, "body": "That does sound like a redirect is happening from one page to the next. The login page contents won&#39;t matter there, just that a challenge (40x) result is given after the redirect."}, {"owner": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "edited": false, "score": 0, "creation_date": 1432309581, "post_id": 30360562, "comment_id": 48889400, "body": "Was finally able to get it working Martijn. Thanks a lot for your help :)"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1584823801, "last_edit_date": 1584823801, "creation_date": 1432156731, "answer_id": 30360562, "question_id": 30360532, "link": "https://stackoverflow.com/questions/30360532/unable-to-retain-login-credentials-across-pages-while-using-requests/30360562#30360562", "title": "Unable to retain login credentials across pages while using requests", "body": "<p>The site uses the Basic Auth authorization scheme; you'll need to send the login credentials with each request.</p>\n\n<p>Set the <a href=\"https://requests.readthedocs.io/en/latest/api/#sessionapi\" rel=\"nofollow noreferrer\"><code>Session.auth</code> attribute</a> to a tuple with the username and password on the session:</p>\n\n<pre><code>s = requests.Session()\ns.auth = (username, password)\n\nresponse = s.get('http://wiki.company.com/wiki_page')\nprint(response.text)\n</code></pre>\n\n<p>The <code>urllib.request.HTTPPasswordMgrWithDefaultRealm()</code> object would normally only respond to challenges on URLs that <em>start</em> with <code>http://login.company.com/</code> (so any deeper path will do too), and not send the password elsewhere.</p>\n\n<p>If the simple approach (setting <code>Session.auth</code>) doesn't work, you'll need to find out what response is returned by accessing <code>http://wiki.company.com/wiki_page</code> directly, which is what your original code <em>does</em>. If the server <em>redirects</em> you to a login page, where you <em>then</em> use the Basic Auth information, you can replicate that:</p>\n\n<pre><code>s = requests.Session()\nresponse = s.get('http://wiki.company.com/wiki_page', allow_redirects=False)\nif response.status_code in (302, 303):\n    target = response.headers['location']\n    authenticated = s.get(target, auth=(username, password))\n    # continue on to the wiki again\n    response = s.get('http://wiki.company.com/wiki_page')\n</code></pre>\n\n<p>You'll have to investigate carefully what responses you get from the server. Open up an interactive console and see what responses you get back. Look at <code>response.status_code</code> and <code>response.headers</code> and <code>response.text</code> for hints. If you leave <code>allow_redirects</code> to the default <code>True</code>, look at <code>response.history</code> to see if there were any intermediate redirections.</p>\n"}], "owner": {"reputation": 1706, "user_id": 990772, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ccd7d2b25ddc29e7d660631119a74066?s=128&d=identicon&r=PG", "display_name": "Pulimon", "link": "https://stackoverflow.com/users/990772/pulimon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 30360562, "answer_count": 1, "score": 0, "last_activity_date": 1584823801, "creation_date": 1432156654, "question_id": 30360532, "link": "https://stackoverflow.com/questions/30360532/unable-to-retain-login-credentials-across-pages-while-using-requests", "title": "Unable to retain login credentials across pages while using requests", "body": "<p>I am pretty new to using <code>urllib</code> and <code>requests</code> module in python. I am trying to access a wikipage in my company's website which requires me to provide my login credentials through a pop up window when I try to access it through a browser.</p>\n\n<p>I was able to write the following script to successfully access the webpage and read it using the following piece of code:</p>\n\n<pre><code>import sys\nimport urllib.parse\nimport urllib.request\nimport getpass\nimport http.cookiejar\n\nwiki_page = 'http://wiki.company.com/wiki_page'\ntop_level_url = 'http://login.company.com/'\n\nusername = input(\"Enter Username: \")\npassword = getpass.getpass('Enter Password: ')\n\n# Authenticate with login server and fetch the wiki page\npassword_mgr = urllib.request.HTTPPasswordMgrWithDefaultRealm()\ncj = http.cookiejar.CookieJar()\npassword_mgr.add_password(None, top_level_url, username, password)\nhandler = urllib.request.HTTPBasicAuthHandler(password_mgr)\nopener = urllib.request.build_opener(urllib.request.HTTPCookieProcessor(cj),handler)\nopener.open(wiki_page)\nurllib.request.install_opener(opener)\n\nwith urllib.request.urlopen(wiki_page) as response:\n    # Do something\n</code></pre>\n\n<p>But now I need to use <code>requests</code> module to do the same. I tried using several methods including sessions but could not get it to work. The following is the piece of code which I think close to the actual solution but it gives Response 200 in the first print and Response 401 in the second print:</p>\n\n<pre><code>s = requests.Session()\nprint(s.post('http://login.company.com/', auth=(username, password)))  # I have tried s.post() as well as s.get() in this line\nprint(s.get('http://wiki.company.com/wiki_page'))\n</code></pre>\n"}, {"tags": ["javascript", "php", "python", "batch-file"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1432157163, "post_id": 30360494, "comment_id": 48813064, "body": "you can download a wierd mime, one not used aready, and tell the browser you want to always open that type of file.  then associate the bat file with that type (ch) or, browse to the bat directly to open the mime the first time(ff). from then on, triggering the same download will execute your application. when associating the app, you may have to type &quot;*&quot; in the file name slot of the file browse dialog to reveal more than just EXEs, but it will still work with any executable file that accepts command-line args. the download data (if needed) is passed behind a temp file path to the cmd."}, {"owner": {"reputation": 10920, "user_id": 738017, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/36f14b3c49a2bb8512cc09ef33c4018b?s=128&d=identicon&r=PG", "display_name": "Vito Gentile", "link": "https://stackoverflow.com/users/738017/vito-gentile"}, "edited": false, "score": 0, "creation_date": 1432160290, "post_id": 30360494, "comment_id": 48814298, "body": "Improving formatting and fixing typos. Changed some tags and used a better title"}], "answers": [{"tags": [], "owner": {"reputation": 1087, "user_id": 2179189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Tk0HC.jpg?s=128&g=1", "display_name": "jewelhuq", "link": "https://stackoverflow.com/users/2179189/jewelhuq"}, "is_accepted": false, "score": 0, "last_activity_date": 1432168609, "creation_date": 1432168609, "answer_id": 30362660, "question_id": 30360494, "link": "https://stackoverflow.com/questions/30360494/how-to-execute-python-and-bat-scripts-from-a-web-page-on-local-machine/30362660#30362660", "title": "How to execute Python and .bat scripts from a web page on local machine", "body": "<p>Learn more about exec @ <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow\">http://php.net/manual/en/function.exec.php</a></p>\n\n<pre><code>&lt;?php\nexec(\"batfilename.bat\");\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 2731159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Iv1a.png?s=128&g=1", "display_name": "tmnj7", "link": "https://stackoverflow.com/users/2731159/tmnj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432168609, "creation_date": 1432156485, "last_edit_date": 1432160290, "question_id": 30360494, "link": "https://stackoverflow.com/questions/30360494/how-to-execute-python-and-bat-scripts-from-a-web-page-on-local-machine", "title": "How to execute Python and .bat scripts from a web page on local machine", "body": "<p>I want create a web page which has links of different Python scripts and .bat files, which can call different .bat file with different parameters specified in web-form.</p>\n\n<p>Purpose of this web page is to only use on a local machine. </p>\n\n<p>I tried with JavaScript and PHP, but I am not able to open any local .bat or .py file on machine. How can I do this?</p>\n"}, {"tags": ["python", "algorithm", "image-processing", "lines"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1432169540, "post_id": 30360478, "comment_id": 48816925, "body": "Minor comment - Your coordinates for <code>px</code> and <code>py</code> don&#39;t match up with the image that is produced.  For one thing, you have <code>y</code> coordinates that go beyond 175 but the image stops at 175."}, {"owner": {"reputation": 797, "user_id": 2619485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/afab2ef44f9cd846f7cb817804252568?s=128&d=identicon&r=PG", "display_name": "Mathusalem", "link": "https://stackoverflow.com/users/2619485/mathusalem"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1432192915, "post_id": 30360478, "comment_id": 48824897, "body": "ah sorry. I had to cut the vectors down if I wanted to post them. Anyway these two vectors should give a relatively similar image."}], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 2619485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/afab2ef44f9cd846f7cb817804252568?s=128&d=identicon&r=PG", "display_name": "Mathusalem", "link": "https://stackoverflow.com/users/2619485/mathusalem"}, "edited": false, "score": 0, "creation_date": 1432192940, "post_id": 30360791, "comment_id": 48824911, "body": "Thanks a lot, I didn&#39;t know about skeletonize. I&#39;ll try it out immediately and get back to you"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 797, "user_id": 2619485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/afab2ef44f9cd846f7cb817804252568?s=128&d=identicon&r=PG", "display_name": "Mathusalem", "link": "https://stackoverflow.com/users/2619485/mathusalem"}, "edited": false, "score": 0, "creation_date": 1432193056, "post_id": 30360791, "comment_id": 48824985, "body": "@Mathusalem - Look at <code>scikit-image</code> for a good out of the box skeletonization algorithm:  <a href=\"http://scikit-image.org/docs/dev/auto_examples/plot_skeleton.html\" rel=\"nofollow noreferrer\">scikit-image.org/docs/dev/auto_examples/plot_skeleton.html</a>"}], "tags": [], "owner": {"reputation": 310, "user_id": 2326461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ludi4.jpg?s=128&g=1", "display_name": "vzaguskin", "link": "https://stackoverflow.com/users/2326461/vzaguskin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432157603, "creation_date": 1432157603, "answer_id": 30360791, "question_id": 30360478, "link": "https://stackoverflow.com/questions/30360478/image-analysis-separating-intersecting-spaghettis/30360791#30360791", "title": "image analysis : separating intersecting spaghettis", "body": "<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Topological_skeleton\" rel=\"nofollow\">Skeletonize</a> the image.</li>\n<li>Split by the crossing point(it has more than 2 neighbours) - that gives you 4 segments.</li>\n<li>Join similarly directed pairs together - you get 2 skeleton lines.</li>\n<li>Assign original pixels to each of those lines by proximity threshold.</li>\n</ol>\n"}], "owner": {"reputation": 797, "user_id": 2619485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/afab2ef44f9cd846f7cb817804252568?s=128&d=identicon&r=PG", "display_name": "Mathusalem", "link": "https://stackoverflow.com/users/2619485/mathusalem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432157603, "creation_date": 1432156434, "last_edit_date": 1592644375, "question_id": 30360478, "link": "https://stackoverflow.com/questions/30360478/image-analysis-separating-intersecting-spaghettis", "title": "image analysis : separating intersecting spaghettis", "body": "<p>I've got an image which to the human eye clearly contains several (2 here) overlapping 'laces'.<img src=\"https://i.stack.imgur.com/42662.png\" alt=\"enter image description here\" /></p>\n<p>This stems from a pretty lengthy image analysis of an experiment.</p>\n<p>The red dots are all the points contained in two vectors, px and py, one with the x_position of the red pixels, the other one with the y positions.</p>\n<pre><code>  px= array([  0,   0,   0,   0,   0,   0,   1,   1,   1,   1,   1,   1,   1,\n     2,   2,   2,   2,   2,   2,   2,   3,   3,   3,   3,   3,   3,\n     3,   4,   4,   4,   4,   4,   4,   4,   5,   5,   5,   5,   5,\n     5,   5,   6,   6,   6,   6,   6,   6,   6,   7,   7,   7,   7,\n     7,   7,   7,   8,   8,   8,   8,   8,   8,   8,   8,   9,   9,\n     9,   9,   9,   9,   9,   9,  10,  10,  10,  10,  10,  10,  10,\n    11,  11,  11,  11,  11,  11,  11,  12,  12,  12,  12,  12,  12,\n    13,  13,  13,  13,  13,  13,  14,  14,  14,  14,  14,  14,  14,\n    15,  15,  15,  15,  15,  15,  15,  15,  16,  16,  16,  16,  16,\n    16,  16,  16,  17,  17,  17,  17,  17,  17,  18,  18,  18,  18,\n    18,  18,  18,  19,  19,  19,  19,  19,  19,  19,  20,  20,  20,\n    20,  20,  20,  20,  21,  21,  21,  21,  21,  21,  21,  22,  22,\n    22,  22,  22,  22,  22,  23,  23,  23,  23,  23,  23,  23,  23,\n    24,  24,  24,  24,  24,  24,  24,  24,  25,  25,  25,  25,  25,\n    25,  25,  26,  26,  26,  26,  26,  26,  26,  27,  27,  27,  27,\n    27,  27,  27,  28,  28,  28,  28,  28,  28,  28,  29,  29,  29,\n    29,  29,  29,  29,  30,  30,  30,  30,  30,  30,  30,  30,  31,\n    31,  31,  31,  31,  31,  31,  31,  32,  32,  32,  32,  32,  32,\n    32,  33,  33,  33,  33,  33,  33,  33,  34,  34,  34,  34,  34,\n    34,  34,  35,  35,  35,  35,  35,  35,  35,  36,  36,  36,  36,\n    36,  36,  37,  37,  37,  37,  37,  37,  37,  38,  38,  38,  38,\n    38,  38,  38,  39,  39,  39,  39,  39,  39,  39,  40,  40,  40,\n    40,  40,  40,  40,  41,  41,  41,  41,  41,  41,  41,  41,  42,\n    42,  42,  42,  42,  42,  42,  43,  43,  43,  43,  43,  43,  43,\n    44,  44,  44,  44,  44,  44,  44,  44,  45,  45,  45,  45,  45,\n    45,  45,  45,  45,  45,  45,  46,  46,  46,  46,  46,  46,  46,\n    46,  46,  46,  46,  46,  46,  46,  46,  47,  47,  47,  47,  47,\n    47,  47,  47,  47,  47,  47,  47,  47,  47,  47,  47,  48,  48,\n    48,  48,  48,  48,  48,  48,  48,  48,  48,  48,  48,  48,  48,\n    48,  48,  49,  49,  49,  49,  49,  49,  49,  49,  49,  49,  49,\n    49,  49,  49,  49,  49,  49,  49,  50,  50,  50,  50,  50,  50,\n    50,  50,  50,  50,  50,  50,  50,  50,  50,  50,  50,  50,  50,\n    50,  51,  51,  51,  51,  51,  51,  51,  51,  51,  51,  51,  51,\n    51,  51,  51,  51,  51,  51,  51,  52,  52,  52,  52,  52,  52,\n    52,  52,  52,  52,  52,  52,  52,  52,  52,  52,  52,  52,  52,\n    52,  53,  53,  53,  53,  53,  53,  53,  53,  53,  53,  53,  53,\n    53,  53,  53,  53,  53,  53,  53,  53,  54,  54,  54,  54,  54,\n    54,  54,  54,  54,  54,  54,  54,  54,  54,  54,  54,  54,  54,\n    54,  54,  54,  54,  55,  55,  55,  55,  55,  55,  55,  55,  55,\n    55,  55,  55,  55,  55,  55,  55,  55,  55,  55,  55,  55,  55,\n    55,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,\n    56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,\n    57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,\n    57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  58,  58,  58,\n    58,  58,  58,  58,  58,  58,  58,  58,  58,  58,  58,  58,  58,\n    58,  58,  58,  58,  58,  58,  59,  59,  59,  59,  59,  59,  59,\n    59,  59,  59,  59,  59,  59,  59,  59,  59,  59,  59,  59,  59,\n    59,  59,  59,  60,  60,  60,  60,  60,  60,  60,  60,  60,  60,\n    60,  60,  60,  60,  60,  60,  60,  60,  60,  60,  60,  60,  60,\n    61,  61,  61,  61,  61,  61,  61,  61,  61,  61,  61,  61,  61,\n    61,  61,  61,  61,  61,  61,  61,  61,  61,  61,  62,  62,  62,\n    62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,\n    62,  62,  62,  62,  62,  62,  62,  63,  63,  63,  63,  63,  63,\n    63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,\n    63,  63,  63,  63,  63,  64,  64,  64,  64,  64,  64,  64,  64,\n    64,  64,  64,  64,  64,  64,  64,  64,  64,  64,  64,  64,  64,\n    64,  65,  65,  65,  65,  65,  65,  65,  65,  65,  65,  65,  65,\n    65,  65,  65,  65,  65,  65,  65,  65,  65,  65,  65,  66,  66,\n    66,  66,  66,  66,  66,  66,  66,  66,  66,  66,  66,  66,  66,\n    66,  66,  66,  66,  66,  66,  66,  66,  67,  67,  67,  67,  67,\n    67,  67,  67,  67,  67,  67,  67,  67,  67,  67,  67,  67,  67,\n    67,  67,  67,  67,  67,  67,  68,  68,  68,  68,  68,  68,  68,\n    68,  68,  68,  68,  68,  68,  68,  68,  68,  68,  68,  68,  68,\n    68,  68,  68,  68,  68,  69,  69,  69,  69,  69,  69,  69,  69,\n    69,  69,  69,  69,  69,  69,  69,  69,  69,  69,  69,  69,  69,\n    69,  69,  69,  69,  70,  70,  70,  70,  70,  70,  70,  70,  70,\n    70,  70,  70,  70,  70,  70,  70,  70,  70,  70,  70,  70,  70,\n    71,  71,  71,  71,  71,  71,  71,  71,  71,  71,  71,  71,  71,\n    71,  71,  71,  71,  71,  72,  72,  72,  72,  72,  72,  72,  72,\n    72,  72,  72,  72,  72,  72,  72,  72,  72,  72,  73,  73,  73,\n    73,  73,  73,  73,  73,  73,  73,  73,  73,  73,  73,  73,  73,\n    73,  73,  73,  73,  74,  74,  74,  74,  74,  74,  74,  74,  74,\n    74,  74,  74,  74,  74,  74,  74,  74,  74,  74,  74,  74,  75,\n    75,  75,  75,  75,  75,  75,  75,  75,  75,  75,  75,  75,  75,\n    75,  75,  75,  75,  75,  75,  75,  75,  75,  75,  76,  76,  76,\n    76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,\n    76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,  76,\n    77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,\n    77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,  77,\n    77,  77,  77,  77,  77,  77,  77,  77,  78,  78,  78,  78,  78,\n    78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,\n    78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,  78,\n    78,  78,  78,  78,  79,  79,  79,  79,  79,  79,  79,  79,  79,\n    79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,\n    79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,\n    79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,  79,\n    79,  79,  79,  79,  80,  80,  80,  80,  80,  80,  80,  80,  80,\n    80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,\n    80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,\n    80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,  80,\n    80,  80,  80,  80,  80,  80,  81,  81,  81,  81,  81,  81,  81,\n    81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,\n    81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,\n    81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,\n    81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,  81,\n    81,  81,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,\n    82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,\n    82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,\n    82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,  82,\n    82,  82,  82,  82,  82,  82,  82,  82,  83,  83,  83,  83,  83,\n    83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,\n    83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,\n    83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,  83,\n    83,  83,  83,  83,  83,  83,  83,  83,  83,  84,  84,  84,  84,\n    84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,\n    84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,\n    84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,  84,\n    84,  84,  84,  84,  85,  85,  85,  85,  85,  85,  85,  85,  85,\n    85,  85,  85,  85,  85,  85,  85,  85,  85,  85,  85,  85,  85,\n    85,  85,  85,  85,  86,  86,  86,  86,  86,  86,  86,  86,  86,\n    86,  86,  86,  86,  86,  86,  86,  86,  86,  86,  86,  87,  87,\n    87,  87,  87,  87,  88,  88,  88,  88,  88,  88,  89,  89,  89,\n    89,  89,  89,  89,  90,  90,  90,  90,  90,  90,  91,  91,  91,\n    91,  91,  91,  91,  92,  92,  92,  92,  92,  92,  92,  93,  93,\n    93,  93,  93,  93,  93,  94,  94,  94,  94,  94,  94,  95,  95,\n    95,  95,  95,  95,  96,  96,  96,  96,  96,  96,  97,  97,  97,\n    97,  97,  97,  97,  98,  98,  98,  98,  98,  98,  99,  99,  99,\n    99,  99,  99, 100, 100, 100, 100, 100, 100, 101, 101, 101, 101,\n   101, 101, 102, 102, 102, 102, 102, 102, 103, 103, 103, 103, 103,\n   103, 104, 104, 104, 104, 104, 104, 105, 105, 105, 105, 105, 105,\n   106, 106, 106, 106, 106, 106, 106, 107, 107, 107, 107, 107, 107,\n   108, 108, 108, 108, 108, 108, 108, 109, 109, 109, 109, 109, 109,\n   110, 110, 110, 110, 110, 110, 110, 111, 111, 111, 111, 111, 111,\n   112, 112, 112, 112, 112, 112, 113, 113, 113, 113, 113, 113, 114,\n   114, 114, 114, 114, 114, 115, 115, 115, 115, 115, 115, 116, 116,\n   116, 116, 116, 116, 117, 117, 117, 117, 117, 117, 117, 118, 118,\n   118, 118, 118, 118, 119, 119, 119, 119, 119, 119, 119, 120, 120,\n   120, 120, 120, 120, 121, 121, 121, 121, 121, 121, 121, 122, 122,\n   122, 122, 122, 122, 123, 123, 123, 123, 123, 123, 123, 124, 124,\n   124, 124, 124, 124, 125, 125, 125, 125, 125, 125, 125, 126, 126,\n   126, 126, 126, 126, 127, 127, 127, 127, 127, 127, 128, 128, 128,\n   128, 128, 128, 129, 129, 129, 129, 129, 129, 129, 130, 130, 130,\n   130, 130, 130, 131, 131, 131, 131, 131, 131, 131, 132, 132, 132,\n   132, 132, 132, 133, 133, 133, 133, 133, 133, 133, 134, 134, 134,\n   134, 134, 134, 135, 135, 135, 135, 135, 135, 135, 136, 136, 136,\n   136, 136, 136, 137, 137, 137, 137, 137, 137, 138, 138, 138, 138,\n   138, 138, 139, 139, 139, 139, 139, 139, 140, 140, 140, 140, 140,\n   140, 141, 141, 141, 141, 141, 141, 141, 142, 142, 142, 142, 142,\n   142, 143, 143, 143, 143, 143, 143, 143, 144, 144, 144, 144, 144,\n   144, 145, 145, 145, 145, 145, 145, 145, 146, 146, 146, 146, 146,\n   146, 147, 147, 147, 147, 147, 147, 148, 148, 148, 148, 148, 148,\n   149, 149, 149, 149, 149, 149, 150, 150, 150, 150, 150, 150, 150,\n   151, 151, 151, 151, 151, 151, 152, 152, 152, 152, 152, 152, 153,\n   153, 153, 153, 153, 153, 153, 154, 154, 154, 154, 154, 154, 155,\n   155, 155, 155, 155, 155, 155, 156, 156, 156, 156, 156, 156, 157,\n   157, 157, 157, 157, 157, 158, 158, 158, 158, 158, 158, 158, 159,\n   159, 159, 159, 159, 159, 159, 160, 160, 160, 160, 160, 160, 160,\n   161, 161, 161, 161, 161, 161, 162, 162, 162, 162, 162, 162, 162,\n   163, 163, 163, 163, 163, 163, 163, 164, 164, 164, 164, 164, 164,\n   164, 165, 165, 165, 165, 165, 165, 165, 165, 166, 166, 166, 166,\n   166, 166, 166, 166, 167, 167, 167, 167, 167, 167, 167, 168, 168,\n   168, 168, 168, 168, 168, 169, 169, 169, 169, 169, 169, 169, 170,\n   170, 170, 170, 170, 170, 170, 171, 171, 171, 171, 171, 171, 171,\n   172, 172, 172, 172, 172, 172, 172, 173, 173, 173, 173])\n</code></pre>\n<p>and</p>\n<pre><code>py=array([189, 190, 191, 192, 193, 194, 189, 190, 191, 192, 193, 194, 195,\n   190, 191, 192, 193, 194, 195, 196, 190, 191, 192, 193, 194, 195,\n   196, 191, 192, 193, 194, 195, 196, 197, 192, 193, 194, 195, 196,\n   197, 198, 193, 194, 195, 196, 197, 198, 199, 194, 195, 196, 197,\n   198, 199, 200, 194, 195, 196, 197, 198, 199, 200, 201, 195, 196,\n   197, 198, 199, 200, 201, 202, 196, 197, 198, 199, 200, 201, 202,\n   197, 198, 199, 200, 201, 202, 203, 198, 199, 200, 201, 202, 203,\n   199, 200, 201, 202, 203, 204, 199, 200, 201, 202, 203, 204, 205,\n   199, 200, 201, 202, 203, 204, 205, 206, 200, 201, 202, 203, 204,\n   205, 206, 207, 202, 203, 204, 205, 206, 207, 202, 203, 204, 205,\n   206, 207, 208, 203, 204, 205, 206, 207, 208, 209, 204, 205, 206,\n   207, 208, 209, 210, 205, 206, 207, 208, 209, 210, 211, 206, 207,\n   208, 209, 210, 211, 212, 206, 207, 208, 209, 210, 211, 212, 213,\n   207, 208, 209, 210, 211, 212, 213, 214, 208, 209, 210, 211, 212,\n   213, 214, 209, 210, 211, 212, 213, 214, 215, 210, 211, 212, 213,\n   214, 215, 216, 211, 212, 213, 214, 215, 216, 217, 211, 212, 213,\n   214, 215, 216, 217, 212, 213, 214, 215, 216, 217, 218, 219, 213,\n   214, 215, 216, 217, 218, 219, 220, 214, 215, 216, 217, 218, 219,\n   220, 215, 216, 217, 218, 219, 220, 221, 216, 217, 218, 219, 220,\n   221, 222, 217, 218, 219, 220, 221, 222, 223, 218, 219, 220, 221,\n   222, 223, 218, 219, 220, 221, 222, 223, 224, 219, 220, 221, 222,\n   223, 224, 225, 220, 221, 222, 223, 224, 225, 226, 221, 222, 223,\n   224, 225, 226, 227, 221, 222, 223, 224, 225, 226, 227, 228, 222,\n   223, 224, 225, 226, 227, 228, 223, 224, 225, 226, 227, 228, 229,\n   224, 225, 226, 227, 228, 229, 230, 311, 225, 226, 227, 228, 229,\n   230, 309, 310, 311, 312, 313, 225, 226, 227, 228, 229, 230, 231,\n   307, 308, 309, 310, 311, 312, 313, 314, 226, 227, 228, 229, 230,\n   231, 232, 306, 307, 308, 309, 310, 311, 312, 313, 314, 227, 228,\n   229, 230, 231, 232, 304, 305, 306, 307, 308, 309, 310, 311, 312,\n   313, 314, 228, 229, 230, 231, 232, 233, 302, 303, 304, 305, 306,\n   307, 308, 309, 310, 311, 312, 313, 228, 229, 230, 231, 232, 233,\n   234, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311,\n   312, 229, 230, 231, 232, 233, 234, 298, 299, 300, 301, 302, 303,\n   304, 305, 306, 307, 308, 309, 310, 230, 231, 232, 233, 234, 235,\n   296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308,\n   309, 230, 231, 232, 233, 234, 235, 236, 294, 295, 296, 297, 298,\n   299, 300, 301, 302, 303, 304, 305, 306, 231, 232, 233, 234, 235,\n   236, 237, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301,\n   302, 303, 304, 305, 232, 233, 234, 235, 236, 237, 238, 239, 288,\n   289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301,\n   302, 233, 234, 235, 236, 237, 238, 239, 240, 285, 286, 287, 288,\n   289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301,\n   234, 235, 236, 237, 238, 239, 240, 283, 284, 285, 286, 287, 288,\n   289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 235, 236, 237,\n   238, 239, 240, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290,\n   291, 292, 293, 294, 295, 296, 235, 236, 237, 238, 239, 240, 241,\n   278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290,\n   291, 292, 293, 236, 237, 238, 239, 240, 241, 242, 276, 277, 278,\n   279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291,\n   237, 238, 239, 240, 241, 242, 243, 273, 274, 275, 276, 277, 278,\n   279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 238, 239, 240,\n   241, 242, 243, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278,\n   279, 280, 281, 282, 283, 284, 285, 238, 239, 240, 241, 242, 243,\n   244, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278,\n   279, 280, 281, 282, 283, 239, 240, 241, 242, 243, 244, 265, 266,\n   267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279,\n   280, 240, 241, 242, 243, 244, 245, 261, 262, 263, 264, 265, 266,\n   267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 240, 241,\n   242, 243, 244, 245, 258, 259, 260, 261, 262, 263, 264, 265, 266,\n   267, 268, 269, 270, 271, 272, 273, 274, 241, 242, 243, 244, 245,\n   246, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266,\n   267, 268, 269, 270, 271, 272, 241, 242, 243, 244, 245, 246, 247,\n   252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264,\n   265, 266, 267, 268, 269, 242, 243, 244, 245, 246, 247, 249, 250,\n   251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263,\n   264, 265, 266, 267, 242, 243, 244, 245, 246, 247, 248, 249, 250,\n   251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263,\n   243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255,\n   256, 257, 258, 259, 260, 240, 241, 242, 243, 244, 245, 246, 247,\n   248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 235, 236, 237,\n   238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250,\n   251, 252, 253, 254, 231, 232, 233, 234, 235, 236, 237, 238, 239,\n   240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 227,\n   228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\n   241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 223, 224, 225,\n   226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238,\n   239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251,\n   215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227,\n   228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\n   241, 242, 246, 247, 248, 249, 250, 251, 210, 211, 212, 213, 214,\n   215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227,\n   228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 246, 247,\n   248, 249, 250, 251, 189, 190, 191, 192, 193, 194, 195, 196, 197,\n   198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210,\n   211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223,\n   224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 247, 248,\n   249, 250, 251, 252, 183, 184, 185, 186, 187, 188, 189, 190, 191,\n   192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n   205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217,\n   218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230,\n   247, 248, 249, 250, 251, 252, 172, 173, 174, 175, 176, 177, 178,\n   179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191,\n   192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n   205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217,\n   218, 219, 220, 221, 222, 223, 224, 225, 226, 248, 249, 250, 251,\n   252, 253, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178,\n   179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191,\n   192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n   205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217,\n   218, 219, 249, 250, 251, 252, 253, 254, 167, 168, 169, 170, 171,\n   172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,\n   185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197,\n   198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210,\n   211, 212, 213, 249, 250, 251, 252, 253, 254, 167, 168, 169, 170,\n   171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183,\n   184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\n   197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 250, 251,\n   252, 253, 254, 255, 167, 168, 169, 170, 171, 172, 173, 174, 175,\n   176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 250, 251,\n   252, 253, 254, 255, 168, 169, 170, 171, 172, 173, 174, 175, 176,\n   177, 178, 179, 180, 250, 251, 252, 253, 254, 255, 256, 251, 252,\n   253, 254, 255, 256, 252, 253, 254, 255, 256, 257, 252, 253, 254,\n   255, 256, 257, 258, 253, 254, 255, 256, 257, 258, 253, 254, 255,\n   256, 257, 258, 259, 254, 255, 256, 257, 258, 259, 260, 254, 255,\n   256, 257, 258, 259, 260, 255, 256, 257, 258, 259, 260, 256, 257,\n   258, 259, 260, 261, 256, 257, 258, 259, 260, 261, 256, 257, 258,\n   259, 260, 261, 262, 257, 258, 259, 260, 261, 262, 258, 259, 260,\n   261, 262, 263, 258, 259, 260, 261, 262, 263, 259, 260, 261, 262,\n   263, 264, 259, 260, 261, 262, 263, 264, 260, 261, 262, 263, 264,\n   265, 260, 261, 262, 263, 264, 265, 261, 262, 263, 264, 265, 266,\n   261, 262, 263, 264, 265, 266, 267, 262, 263, 264, 265, 266, 267,\n   262, 263, 264, 265, 266, 267, 268, 263, 264, 265, 266, 267, 268,\n   263, 264, 265, 266, 267, 268, 269, 264, 265, 266, 267, 268, 269,\n   265, 266, 267, 268, 269, 270, 265, 266, 267, 268, 269, 270, 266,\n   267, 268, 269, 270, 271, 266, 267, 268, 269, 270, 271, 267, 268,\n   269, 270, 271, 272, 267, 268, 269, 270, 271, 272, 273, 268, 269,\n   270, 271, 272, 273, 268, 269, 270, 271, 272, 273, 274, 269, 270,\n   271, 272, 273, 274, 269, 270, 271, 272, 273, 274, 275, 270, 271,\n   272, 273, 274, 275, 270, 271, 272, 273, 274, 275, 276, 271, 272,\n   273, 274, 275, 276, 271, 272, 273, 274, 275, 276, 277, 272, 273,\n   274, 275, 276, 277, 273, 274, 275, 276, 277, 278, 273, 274, 275,\n   276, 277, 278, 273, 274, 275, 276, 277, 278, 279, 274, 275, 276,\n   277, 278, 279, 274, 275, 276, 277, 278, 279, 280, 275, 276, 277,\n   278, 279, 280, 275, 276, 277, 278, 279, 280, 281, 276, 277, 278,\n   279, 280, 281, 276, 277, 278, 279, 280, 281, 282, 277, 278, 279,\n   280, 281, 282, 278, 279, 280, 281, 282, 283, 278, 279, 280, 281,\n   282, 283, 279, 280, 281, 282, 283, 284, 279, 280, 281, 282, 283,\n   284, 279, 280, 281, 282, 283, 284, 285, 280, 281, 282, 283, 284,\n   285, 280, 281, 282, 283, 284, 285, 286, 281, 282, 283, 284, 285,\n   286, 281, 282, 283, 284, 285, 286, 287, 282, 283, 284, 285, 286,\n   287, 283, 284, 285, 286, 287, 288, 283, 284, 285, 286, 287, 288,\n   284, 285, 286, 287, 288, 289, 284, 285, 286, 287, 288, 289, 290,\n   285, 286, 287, 288, 289, 290, 286, 287, 288, 289, 290, 291, 286,\n   287, 288, 289, 290, 291, 292, 287, 288, 289, 290, 291, 292, 287,\n   288, 289, 290, 291, 292, 293, 288, 289, 290, 291, 292, 293, 289,\n   290, 291, 292, 293, 294, 289, 290, 291, 292, 293, 294, 295, 290,\n   291, 292, 293, 294, 295, 296, 291, 292, 293, 294, 295, 296, 297,\n   292, 293, 294, 295, 296, 297, 292, 293, 294, 295, 296, 297, 298,\n   293, 294, 295, 296, 297, 298, 299, 294, 295, 296, 297, 298, 299,\n   300, 294, 295, 296, 297, 298, 299, 300, 301, 295, 296, 297, 298,\n   299, 300, 301, 302, 296, 297, 298, 299, 300, 301, 302, 297, 298,\n   299, 300, 301, 302, 303, 298, 299, 300, 301, 302, 303, 304, 299,\n   300, 301, 302, 303, 304, 305, 300, 301, 302, 303, 304, 305, 306,\n   301, 302, 303, 304, 305, 306, 307, 302, 303, 304, 305])\n</code></pre>\n<p>To reproduce the image, this MWE should be enough, once you copy-paste the arrays as px and py into your editor</p>\n<pre><code>import numpy as np\nplot_mtx = np.zeros( (5120,5120) )\npx=...\npy=...\nwindow_size = max(px[-1]-px[0],[py[-1]-py[0]])\nimshow(plot_mtx[min(px):min(px)+window_size,min(py):min(py)+window_size])\n</code></pre>\n<p>Essentially, these are two lines that each have a width of about 6 pixels. I would like to separate them into two distinct lines, so that I would have px_1,py_1 for the one running from top to down, and px_2,py_2 for the one running from left to right.</p>\n<p>I've failed so far to find the right keywords to find such algorithms. What I would have in mind is a for loop, that starts at one extremity, to complete a list with pixel positions in such a way, that the direction in which the loop is progressing never exceeds a certain angle with respect to several previous steps. This way, the algorithm would always take the set of pixels that cross smoothly through the intersection. Then it's just a matter of removing the new found line from the data and starting again.</p>\n<p>Would you have any better input ?</p>\n<p>Any feedback appreciated</p>\n"}, {"tags": ["python", "dictionary", "robotframework"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1432156572, "post_id": 30360456, "comment_id": 48812759, "body": "I have literally no idea what your actual question is."}, {"owner": {"reputation": 33, "user_id": 726349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/405ab9176436b75b8303186882983cb1?s=128&d=identicon&r=PG", "display_name": "BakerBug", "link": "https://stackoverflow.com/users/726349/bakerbug"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1432156771, "post_id": 30360456, "comment_id": 48812871, "body": "I&#39;ve updated the question to hopefully make it more clear."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1432157000, "last_edit_date": 1432157000, "creation_date": 1432156700, "answer_id": 30360551, "question_id": 30360456, "link": "https://stackoverflow.com/questions/30360456/can-a-robot-framework-variable-file-create-a-dictionary-that-is-usable-in-a-test/30360551#30360551", "title": "Can a Robot Framework variable file create a dictionary that is usable in a test case?", "body": "<p>Yes, a variable file can create a dictionary. The robot framework user's guide <a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#extended-variable-syntax\" rel=\"nofollow\">gives an example</a>. </p>\n\n<p>You are using the wrong syntax when referencing the value. When using <a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#extended-variable-syntax\" rel=\"nofollow\">extended variable syntax</a> you have to use python quoting inside the curly braces because everything inside the curly braces is treated like a python expression. The variable reference should be <code>${UUT1[\"address\"]}</code></p>\n\n<p>Your code could also fail if <code>sys.argv[1]</code> is neither <code>\"development\"</code> nor <code>\"platform\"</code>, in which case <code>UUT1</code> and <code>UUT2</code> will not be defined.</p>\n\n<p>All of that being said, will probably not cause the error <code>[ ERROR ] Execution stopped by user.</code> If you use the wrong syntax you'll get a different error, so the error in your question seems to be related to a different problem. </p>\n"}], "owner": {"reputation": 33, "user_id": 726349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/405ab9176436b75b8303186882983cb1?s=128&d=identicon&r=PG", "display_name": "BakerBug", "link": "https://stackoverflow.com/users/726349/bakerbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1365, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1432157884, "creation_date": 1432156371, "last_edit_date": 1432157884, "question_id": 30360456, "link": "https://stackoverflow.com/questions/30360456/can-a-robot-framework-variable-file-create-a-dictionary-that-is-usable-in-a-test", "title": "Can a Robot Framework variable file create a dictionary that is usable in a test case?", "body": "<p>I'm trying to use a robot framework variable file to create a dictionary to describe the hardware in my test bed.  Depending on the value of the argument provided, different hardware will be returned.</p>\n\n<p>For example, this is the variable file that I am trying to use (named Topology.py):</p>\n\n<pre><code>import sys\ntestbed = sys.argv[1]\nUUT1 = {}\nUUT2 = {}\n\nif testbed == 'development':\n    UUT1 = {'platform': 'xyz', 'address': '192.168.1.1'}\n    UUT2 = {'platform': 'xyz', 'address': '192.168.1.2'}\nif testbed == 'production':\n    UUT1 = {'platform': 'pdq', 'address': '192.168.2.1'}\n    UUT2 = {'platform': 'pdq', 'address': '192.168.2.2'}\n</code></pre>\n\n<p>My goal is then to be able to reference this dictionary from within a test case. For example:</p>\n\n<pre><code>| | Verify Unit Is Online | ${UUT1[address]}\n</code></pre>\n\n<p>The problem I am facing is that whenever I invoke the variable file, robot immediately exits with the following error:</p>\n\n<pre><code>[ ERROR ] Execution stopped by user.\n</code></pre>\n\n<p>Is it possible to use a dictionary in this manner?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1432156316, "post_id": 30360398, "comment_id": 48812643, "body": "<code>if temp == 0 or 1:</code> doesn&#39;t do what you think it does. See the dupe for details."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "edited": false, "score": 0, "creation_date": 1432156806, "post_id": 30360442, "comment_id": 48812894, "body": "thanks a lot, maybe I should ( ) them as well"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432157419, "post_id": 30360442, "comment_id": 48813195, "body": "<code>if temp in (0,1)</code> is nice, too."}], "tags": [], "owner": {"reputation": 5601, "user_id": 399704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b514c8a067bea4798fe21b5822d1bba7?s=128&d=identicon&r=PG", "display_name": "Aaron D", "link": "https://stackoverflow.com/users/399704/aaron-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1432156310, "creation_date": 1432156310, "answer_id": 30360442, "question_id": 30360398, "link": "https://stackoverflow.com/questions/30360398/whats-wrong-with-my-python-code-add-binary/30360442#30360442", "title": "What&#39;s wrong with my python code (Add binary)?", "body": "<p>You have a typo</p>\n\n<pre><code>if temp == 0 or 1:\n</code></pre>\n\n<p>should instead be:</p>\n\n<pre><code>if temp == 0 or temp == 1:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 73277, "user_id": 47550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/887434f3314a16aaf60182223df48347?s=128&d=identicon&r=PG", "display_name": "Paul Sasik", "link": "https://stackoverflow.com/users/47550/paul-sasik"}, "edited": false, "score": 0, "creation_date": 1432156480, "post_id": 30360449, "comment_id": 48812718, "body": "@PaulSasik: No, it&#39;s supposed to be &quot;10&quot;. &quot;100&quot; is the expected output for inputs &quot;11&quot; and &quot;1&quot;."}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432156540, "post_id": 30360449, "comment_id": 48812746, "body": "@PaulSasik you are doubting on Python binary arithmetic ?"}, {"owner": {"reputation": 73277, "user_id": 47550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/887434f3314a16aaf60182223df48347?s=128&d=identicon&r=PG", "display_name": "Paul Sasik", "link": "https://stackoverflow.com/users/47550/paul-sasik"}, "edited": false, "score": 0, "creation_date": 1432156587, "post_id": 30360449, "comment_id": 48812771, "body": "@anmol_uppal: No, I&#39;m doubting why you chose a different set of input than the OP?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 73277, "user_id": 47550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/887434f3314a16aaf60182223df48347?s=128&d=identicon&r=PG", "display_name": "Paul Sasik", "link": "https://stackoverflow.com/users/47550/paul-sasik"}, "edited": false, "score": 0, "creation_date": 1432156654, "post_id": 30360449, "comment_id": 48812807, "body": "@PaulSasik: Look further down in the question. &quot;1&quot; and &quot;1&quot; is the specific failing test case."}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 73277, "user_id": 47550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/887434f3314a16aaf60182223df48347?s=128&d=identicon&r=PG", "display_name": "Paul Sasik", "link": "https://stackoverflow.com/users/47550/paul-sasik"}, "edited": false, "score": 0, "creation_date": 1432156694, "post_id": 30360449, "comment_id": 48812835, "body": "@PaulSasik Because the OP had given 2 sample inputs and I just tried out the latter one, read the bottom line of the question."}, {"owner": {"reputation": 73277, "user_id": 47550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/887434f3314a16aaf60182223df48347?s=128&d=identicon&r=PG", "display_name": "Paul Sasik", "link": "https://stackoverflow.com/users/47550/paul-sasik"}, "edited": false, "score": 0, "creation_date": 1432156753, "post_id": 30360449, "comment_id": 48812864, "body": "Long day. Sorry guys. What&#39;s the down vote about? I didn&#39;t run it but your code seem legit."}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432156796, "post_id": 30360449, "comment_id": 48812884, "body": "Don&#39;t worry it happens, and comments from downvoters ?"}], "tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1432156345, "creation_date": 1432156345, "answer_id": 30360449, "question_id": 30360398, "link": "https://stackoverflow.com/questions/30360398/whats-wrong-with-my-python-code-add-binary/30360449#30360449", "title": "What&#39;s wrong with my python code (Add binary)?", "body": "<p>A simple and more pythonic way of doing the same is:</p>\n\n<pre><code>def add_binary(a, b):\n    return bin(int(a) + int(b))[2:]\n\nprint add_binary(\"1\", \"1\")\n&gt;&gt;&gt; 10\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "closed_date": 1432156292, "accepted_answer_id": 30360442, "answer_count": 2, "score": 1, "last_activity_date": 1432156345, "creation_date": 1432156160, "last_edit_date": 1592644375, "question_id": 30360398, "link": "https://stackoverflow.com/questions/30360398/whats-wrong-with-my-python-code-add-binary", "closed_reason": "Duplicate", "title": "What&#39;s wrong with my python code (Add binary)?", "body": "<p>It's a very simple problem from leetcode:</p>\n<blockquote>\n<p>Given two binary strings, return their sum (also a binary string).</p>\n<p>For example, a = &quot;11&quot; b = &quot;1&quot; Return &quot;100&quot;.</p>\n</blockquote>\n<p>Here is my code, I think it's just okay</p>\n<pre><code>def addBinary(self, a, b):\n    if len(a) &lt; len(b):\n        a, b = b, a\n            \n    rev, temp, sum = list(a[::-1]), 0, &quot;&quot;\n        \n    for i, j in enumerate(b[::-1]):\n        temp = temp + int(rev[i]) + int(j)\n        if temp == 0 or 1:\n            rev[i] = str(temp)\n            temp = 0\n            x2 = temp\n        elif temp == 2:\n            rev[i] = &quot;0&quot;\n            temp = 1\n            \n    if temp == 1:\n        rev = rev + [&quot;1&quot;]\n        \n    for digit in rev[::-1]:\n        sum += digit\n        \n    return sum\n</code></pre>\n<p>However as I run, a test can't pass</p>\n<blockquote>\n<p>Input:    &quot;1&quot;, &quot;1&quot;</p>\n<p>Output:   &quot;2&quot;</p>\n<p>Expected: &quot;10&quot;</p>\n</blockquote>\n<p>I simply don't know why and set a break point, finding that though &quot;temp = temp + int(rev[i]) + int(j)&quot;, temp was equalled to 2, it didn't go to the elif part of the condition and thus returns &quot;2&quot; as the final result.</p>\n<p>Could anyone tell me why? I really appreciate that.</p>\n"}, {"tags": ["python", "reverse"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1432155976, "post_id": 30360312, "comment_id": 48812468, "body": "Do you want the content of each line reversed, but the lines in their original order, or the individual lines reversed <i>and</i> in reversed order?"}, {"owner": {"reputation": 784, "user_id": 3565315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f94c26f3337cd6d46fce6dcccad0b3e4?s=128&d=identicon&r=PG&f=1", "display_name": "manglano", "link": "https://stackoverflow.com/users/3565315/manglano"}, "edited": false, "score": 7, "creation_date": 1432156003, "post_id": 30360312, "comment_id": 48812481, "body": "The most important thing you can do when learning a new language is approach these things like a puzzle. Is your code reading that file correctly? Try printing &quot;line&quot; to be sure. Knowing how Python lists work, how should you fill &quot;a&quot;?  Answering these questions yourself will help you more in becoming a competent coder than StackExchange will :)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432156374, "post_id": 30360362, "comment_id": 48812670, "body": "oh thanks, that is what I was looking for. I just have to ask if it&#39;s not too much what does the * in print(*f.read().split[::-1]) do and what about the [::-1]. I guess that reverses the words that have bens split but thats&#39;s a very vague explanation sadly. thanks again for your help."}, {"owner": {"reputation": 565, "user_id": 4890269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAxAl.png?s=128&g=1", "display_name": "nullptr", "link": "https://stackoverflow.com/users/4890269/nullptr"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432156456, "post_id": 30360362, "comment_id": 48812707, "body": "@likurges * flattens the list back to a string ;) nice and easy solution. only downside is that it eliminates any mulitple spaces and tabs."}, {"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "reply_to_user": {"reputation": 565, "user_id": 4890269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAxAl.png?s=128&g=1", "display_name": "nullptr", "link": "https://stackoverflow.com/users/4890269/nullptr"}, "edited": false, "score": 3, "creation_date": 1432156645, "post_id": 30360362, "comment_id": 48812799, "body": "@nullptr <code>*</code> does nothing of the sort. It unpacks the argument. In this case, the list returned by <code>f.read().split()[::-1]</code> is &quot;turned into&quot; individual arguments for the print function: <code>print(&#39;text&#39;, &#39;more&#39;, &#39;world!&#39;, &#39;hello&#39;)</code>"}, {"owner": {"reputation": 565, "user_id": 4890269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAxAl.png?s=128&g=1", "display_name": "nullptr", "link": "https://stackoverflow.com/users/4890269/nullptr"}, "reply_to_user": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1432156847, "post_id": 30360362, "comment_id": 48812912, "body": "@That1Guy what do you think &quot;flatten&quot; meant in this context... Giving unnecessary information. +1 to compensate"}, {"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "reply_to_user": {"reputation": 565, "user_id": 4890269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAxAl.png?s=128&g=1", "display_name": "nullptr", "link": "https://stackoverflow.com/users/4890269/nullptr"}, "edited": false, "score": 1, "creation_date": 1432156917, "post_id": 30360362, "comment_id": 48812940, "body": "@nullptr Regardless of any invented definition of the word &quot;flatten&quot; you may have, <code>*</code> <b>does not</b> have anything to do with <i>anything becoming a string.</i>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1432165367, "post_id": 30360362, "comment_id": 48815859, "body": "I don&#39;t understand why this keeps getting downvoted. What is wrong with it?"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": -1, "last_activity_date": 1432156603, "last_edit_date": 1432156603, "creation_date": 1432155995, "answer_id": 30360362, "question_id": 30360312, "link": "https://stackoverflow.com/questions/30360312/how-to-read-from-a-txt-file-and-output-on-the-screen-the-words-in-a-reversed-or/30360362#30360362", "title": "How to read from a .txt file and output on the screen the words in a reversed order?", "body": "<p>If you're on Python 3:</p>\n\n<p>Input file:</p>\n\n<pre><code>hello world!\nmore text\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>with open('text.txt', 'r') as f:\n    print(*f.read().split()[::-1])\n</code></pre>\n\n<p><code>read()</code> reads the entire contents of the file into one big string. <code>split()</code> splits a string into a whitespace-separated <code>list</code>. The <code>*</code> operator unpacks the sequence, sending it to <code>print()</code>. <code>print(*[1,'a',3])</code> produces the same results as <code>print(1,'a',3)</code>. <code>[::-1]</code> reverses the <code>list</code>. So, it reads the file, splits it by word, reverses that, and sends each word to <code>print()</code>.</p>\n\n<p>Output:</p>\n\n<pre><code>text more world! hello\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432156468, "post_id": 30360427, "comment_id": 48812713, "body": "No I wanted everything to be reversed and not each line separatelly"}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432156848, "post_id": 30360427, "comment_id": 48812913, "body": "and sadly when i try this out I get an error message saying &quot;words = f.split()   AtributeError: &#39;_io.TextIOWrapper&#39; object has no attribute &#39;split&#39;&quot;"}], "tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": false, "score": 0, "last_activity_date": 1432156889, "last_edit_date": 1432156889, "creation_date": 1432156270, "answer_id": 30360427, "question_id": 30360312, "link": "https://stackoverflow.com/questions/30360312/how-to-read-from-a-txt-file-and-output-on-the-screen-the-words-in-a-reversed-or/30360427#30360427", "title": "How to read from a .txt file and output on the screen the words in a reversed order?", "body": "<p>If you're trying to reverse each line individually then,</p>\n\n<pre><code>with open('text.txt', 'r') as f:\n    for line in f:\n        words = line.split()\n        print(words.reverse())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432156975, "post_id": 30360567, "comment_id": 48812969, "body": "You can iterate directly over <code>var</code> instead of calling <code>readlines()</code> and iterating over that: <code>for i in var:</code>. <code>a</code> is a <code>list</code>, not a string. Instead of concatenating a space and each word of the reversed line, you can just <code>join()</code> them: <code>print &#39; &#39;.join(b)</code>."}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432157022, "post_id": 30360567, "comment_id": 48813002, "body": "I&#39;m on python 3.4 but I guess with a bit fo tricking that should work"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432157092, "post_id": 30360567, "comment_id": 48813039, "body": "@TigerhawkT3 Thanks for the suggestion; I wanted to show every steps in a very basic way! thanks again!"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432157195, "post_id": 30360567, "comment_id": 48813083, "body": "@likurges I think this should on work on python 3.4 too. I encourage you to try it! And do let me know if you are confused on any steps or if error pops out on python 3.4 it should be fine though..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432157216, "post_id": 30360567, "comment_id": 48813093, "body": "All you have to do for this to work on Python 3 is to turn the <code>print</code> statement into a function by putting parentheses around what you&#39;re printing. Also, this prints the lines in order, with their words reversed."}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432157571, "post_id": 30360567, "comment_id": 48813259, "body": "@likurges did you try it accordingly whay TigerhawkT3 mentioned! Did it worked for you?"}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432157680, "post_id": 30360567, "comment_id": 48813305, "body": "oh I see and it works, thanks a lot. Is there a way that would reverse the whole text and not line by line?"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432157799, "post_id": 30360567, "comment_id": 48813353, "body": "@likurge could you please elaborate your query; i mean could you please show an example of what you want so I would better understand the problem. Thanks"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432158124, "post_id": 30360567, "comment_id": 48813487, "body": "@likurges for this one i should borrow the code of TigerhawkT3                     with open(&#39;text.txt&#39;, &#39;r&#39;) as f:     print(*f.read().split()[::-1])"}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432158190, "post_id": 30360567, "comment_id": 48813512, "body": "sure, the original text is :     &quot;hello world      how are you&quot;  and the given resoult should be something like this:    &quot;you are how      world hello&quot;.  Now I see that it won&#39;t let me make paragraphs so I will explain it in a different way. it must output the text like it was  written in the opposite order meaning what is at the end goes at the top and vice versa(that wher there are multiple paragraphs)"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432158231, "post_id": 30360567, "comment_id": 48813523, "body": "@likurge i mean you could look the answer of TigerHawkT3 if you need it whole reversed! If that helps its okay; if not I could modify it into more simpler form so that you could better understand!"}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432158444, "post_id": 30360567, "comment_id": 48813599, "body": "yes plese@AshimPaudel if you could that, it would be great"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432159008, "post_id": 30360567, "comment_id": 48813845, "body": "@likurge it is simple than you think! when you run my original code what you get is every line in its reversed order. So at the beginning of your code creat a variable( something like bigger_string) and set its value to empty string( &#39;&#39; ). and every time code generates the reverse order for line concatenate that linke to bigger_string. Finally follow the same approach for bigger_string. Do let me know if you are confused so I could figure out something else!"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "reply_to_user": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432165575, "post_id": 30360567, "comment_id": 48815924, "body": "@likurge did you get it? or should I modify my original answer to the way you want it! If you find my answer useful, please help me keep encouraged by hitting the green check mark, so that I can improve my reputation."}, {"owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "edited": false, "score": 0, "creation_date": 1432238122, "post_id": 30360567, "comment_id": 48855417, "body": "actually I&#39;m a bit confused now because I tried what you @ap2051 said but I didn&#39;t manage it to work. I know it&#39;s me who made a mistake but whatever I try I just cant get it to work right"}, {"owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "edited": false, "score": 0, "creation_date": 1432241569, "post_id": 30360567, "comment_id": 48857389, "body": "So, look at this code by @matt joiner. I am sure it wil help:  At first step do as it is said on this answer <a href=\"http://stackoverflow.com/questions/2301789/read-a-file-in-reverse-order-using-python\" title=\"read a file in reverse order using python\">stackoverflow.com/questions/2301789/&hellip;</a>                                                                                                                      and after that follow my code!"}], "tags": [], "owner": {"reputation": 39, "user_id": 4619265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64a50f3f2957113b109529e37cdf86d?s=128&d=identicon&r=PG&f=1", "display_name": "ap2051", "link": "https://stackoverflow.com/users/4619265/ap2051"}, "is_accepted": false, "score": -1, "last_activity_date": 1432156739, "creation_date": 1432156739, "answer_id": 30360567, "question_id": 30360312, "link": "https://stackoverflow.com/questions/30360312/how-to-read-from-a-txt-file-and-output-on-the-screen-the-words-in-a-reversed-or/30360567#30360567", "title": "How to read from a .txt file and output on the screen the words in a reversed order?", "body": "<p>If you are on python 2.7:\nI tried to simplify my code as much as possible:</p>\n\n<pre><code>var = open('text.txt', 'r')\na = var.readlines()\n\nfor i in a:\n    a = i.split()\n    b =  a[::-1] # this is the pythonic way to reverse the string\n    final_string = ''\n    for i in b:\n        final_string += i + ' '\n    print final_string\n</code></pre>\n\n<p>do let me know if you have any questions</p>\n"}], "owner": {"reputation": 1, "user_id": 4913388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45f95fef374b3e10aa9c91223ad9eee?s=128&d=identicon&r=PG&f=1", "display_name": "likurges", "link": "https://stackoverflow.com/users/4913388/likurges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1432322079, "creation_date": 1432155730, "last_edit_date": 1432322079, "question_id": 30360312, "link": "https://stackoverflow.com/questions/30360312/how-to-read-from-a-txt-file-and-output-on-the-screen-the-words-in-a-reversed-or", "title": "How to read from a .txt file and output on the screen the words in a reversed order?", "body": "<p>Basicaly, what I have to do is to open a certain text file and output the content of it in a reversed order like this <code>\"Hello world\"</code> ---> <code>\"world Hello\"</code>. I have written some code so far but I'm not even sure I'm on the right direction, please help me to understand what should I do next and if what I already wrote is a good start or did I totally miss it</p>\n\n<pre><code>the code is:\nt = open(\"text.txt\", \"r\")\nn = (t.readline)\nline = t.readline()\nword = line.split()\na = []\na.append(word)\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-views", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "is_accepted": false, "score": 0, "last_activity_date": 1432164345, "creation_date": 1432164345, "answer_id": 30362035, "question_id": 30360295, "link": "https://stackoverflow.com/questions/30360295/search-api-creation-in-django-restframework/30362035#30362035", "title": "Search API creation in Django Restframework", "body": "<p>Yeah it is built right into django-rest-framework. Take a look at some of the examples in the <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#searchfilter\" rel=\"nofollow\">docs</a>. Is that what you're looking for?</p>\n"}], "owner": {"reputation": 1, "user_id": 4718092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca577fd91242f994f80b691cdc2d66e?s=128&d=identicon&r=PG&f=1", "display_name": "Searcher", "link": "https://stackoverflow.com/users/4718092/searcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432164345, "creation_date": 1432155654, "question_id": 30360295, "link": "https://stackoverflow.com/questions/30360295/search-api-creation-in-django-restframework", "title": "Search API creation in Django Restframework", "body": "<p>I am learning Django and Restframework. My OS is MS-Windows 7 Professional. I am working on Python2.7+. \nI wanted to learn how to make an API on REST with Python. I chose above mentioned path. \nTo learn REST I could do the Quickstart tutorial, and could build a browsable API. \nAs I found there are serializers.py, views.py, and urls.py. I feel the functionality of a model depends based on which Django libraries I call in serializers.py. \nAgain the functionality of each Django library is predefined, thus I can not change user, email, etc. to some other like text input or some other. </p>\n\n<p>After building browsable API I wanted to make a search API, where I would be able to key in some character strings and boolean queries. \nI was looking to change the Django library that I was calling in serializers.py, but without much success.\nI tried to browse through web or your previous posts and Restframework tutorial but did not find much help. \nIf any one may kindly suggest me how should I approach this problem it would be of great help. \nThanks in Advance. </p>\n"}, {"tags": ["python", "css", "text", "replace", "edit"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432155716, "post_id": 30360290, "comment_id": 48812296, "body": "You could use more check statements depending upon the surrounding text of variable you want to change."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1432155718, "post_id": 30360290, "comment_id": 48812299, "body": "What edits do you want to make, what differentiates those two lines, etc.?"}, {"owner": {"reputation": 27107, "user_id": 13169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5986747b5b748191ff78064865e3a062?s=128&d=identicon&r=PG", "display_name": "Roberto Bonvallet", "link": "https://stackoverflow.com/users/13169/roberto-bonvallet"}, "edited": false, "score": 1, "creation_date": 1432157436, "post_id": 30360290, "comment_id": 48813200, "body": "In this example, which of the two lines is the one that you want to replace? What&#39;s the general criterion?"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 4922196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6CNit.jpg?s=128&g=1", "display_name": "Tristan Vigil", "link": "https://stackoverflow.com/users/4922196/tristan-vigil"}, "edited": false, "score": 0, "creation_date": 1432159088, "post_id": 30360994, "comment_id": 48813887, "body": "This may work, in terms of my example, how do I know if I&#39;m changing the background of #panel {}"}, {"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "reply_to_user": {"reputation": 215, "user_id": 4922196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6CNit.jpg?s=128&g=1", "display_name": "Tristan Vigil", "link": "https://stackoverflow.com/users/4922196/tristan-vigil"}, "edited": false, "score": 0, "creation_date": 1432168534, "post_id": 30360994, "comment_id": 48816648, "body": "See the update. In general, you can experiment for yourself by trying out the code in the interpreter. I did not know anything about cssutils until now."}], "tags": [], "owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "is_accepted": true, "score": 0, "last_activity_date": 1432168454, "last_edit_date": 1432168454, "creation_date": 1432158575, "answer_id": 30360994, "question_id": 30360290, "link": "https://stackoverflow.com/questions/30360290/replace-css-block-of-text-within-file-python/30360994#30360994", "title": "Replace CSS block of text within file Python", "body": "<p>It looks like you are trying to deal with CSS files. To properly parse this file format, you need something like\n<a href=\"https://pypi.python.org/pypi/cssutils/\" rel=\"nofollow\">cssutils</a>:</p>\n\n<pre><code>import cssutils\n\n# Parse the stylesheet, replace color\nparser = cssutils.parseFile('style.css')\nfor rule in parser.cssRules:\n    try:\n        if rule.selectorText == '#panel':\n            rule.style.backgroundColor = 'blue'  # Replace background\n    except AttributeError as e:\n        pass  # Ignore error if the rule does not have background\n\n# Write to a new file\nwith open('style_new.css', 'wb') as f:\n    f.write(parser.cssText)\n</code></pre>\n\n<h1>Update</h1>\n\n<p>I made a change in the code and now only change the background for <code>#panel</code></p>\n"}], "owner": {"reputation": 215, "user_id": 4922196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6CNit.jpg?s=128&g=1", "display_name": "Tristan Vigil", "link": "https://stackoverflow.com/users/4922196/tristan-vigil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "accepted_answer_id": 30360994, "answer_count": 1, "score": 0, "last_activity_date": 1432263458, "creation_date": 1432155630, "last_edit_date": 1432263458, "question_id": 30360290, "link": "https://stackoverflow.com/questions/30360290/replace-css-block-of-text-within-file-python", "title": "Replace CSS block of text within file Python", "body": "<p>I'm tying to make a python program to help me make simple edits to a config file. I want to be able to read the file, replace a section of the file and then write the changes. One of the problems i have been having is that there are multiple lines that are the same. For example the config file looks like:</p>\n\n<pre><code>/* Panel */\n\n#panel {\n    background-color: black;\n    font-weight: bold;\n    height: 1.86em;\n}\n#panel.unlock-screen,\n#panel.login-screen {\n    background-color: transparent;\n</code></pre>\n\n<p>there are two lines that contain background-color: so i am unable to test if the line is equal to a string because if i were to replace every line containing background-color: i would get unwanted changes.\nAlso I dont want to have to rely on the index of the line because as lines of the config file are added or removed, it will change.\n Any help would be appreciated!</p>\n"}, {"tags": ["python", "visa"], "answers": [{"tags": [], "owner": {"reputation": 7229, "user_id": 246095, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/edde29f5a7122602ae81653cb9108899?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/246095/nik"}, "is_accepted": false, "score": 1, "last_activity_date": 1432162250, "creation_date": 1432162250, "answer_id": 30361708, "question_id": 30360271, "link": "https://stackoverflow.com/questions/30360271/not-able-to-query-instrument-using-pyvisa/30361708#30361708", "title": "Not able to query instrument using PyVISA", "body": "<p>I figured it out.\ninstead of doing</p>\n\n<pre><code>RAS = rm.open_resource('TCPIP::10.8.9.16::5025::SOCKET')\n</code></pre>\n\n<p>I just had to do </p>\n\n<pre><code>RAS = rm.open_resource('TCPIP::10.8.9.16::inst0::INSTR')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>RAS = rm.open_resource('TCPIP::10.8.9.16::INSTR')\n</code></pre>\n\n<p>either works</p>\n"}, {"tags": [], "owner": {"reputation": 753, "user_id": 2118095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d822727adf33f0e98c9b5529da49dd3d?s=128&d=identicon&r=PG", "display_name": "user2118095", "link": "https://stackoverflow.com/users/2118095/user2118095"}, "is_accepted": false, "score": 0, "last_activity_date": 1445814283, "creation_date": 1445814283, "answer_id": 33336099, "question_id": 30360271, "link": "https://stackoverflow.com/questions/30360271/not-able-to-query-instrument-using-pyvisa/33336099#33336099", "title": "Not able to query instrument using PyVISA", "body": "<pre><code>    import visa\n    import socket\n\n\n    try:\n      #open connection\n      rm = visa.ResourceManager()\n      c = (rm.list_resources())\n      myinst = rm.open_resource('TCPIP::xxx.xxx.xxx.xxx::inst0::INSTR')\n\n\n      #Close Connection\n      myinst.close()\n      print 'close instrument connection'\n\n    except Exception as err:\n       print 'Exception: ' + str(err.message)\n\n    finally:\n      #perform clean up operations\n      print 'complete'\n</code></pre>\n"}], "owner": {"reputation": 7229, "user_id": 246095, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/edde29f5a7122602ae81653cb9108899?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/246095/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2353, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445814283, "creation_date": 1432155575, "question_id": 30360271, "link": "https://stackoverflow.com/questions/30360271/not-able-to-query-instrument-using-pyvisa", "title": "Not able to query instrument using PyVISA", "body": "<p>I am trying to control Rohde &amp; Schwarz signal generator using PyVISA</p>\n\n<p>PyVISA details is as follows.  </p>\n\n<pre><code>C:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1222: VisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407): The specified configuration either does not exist or could not be loaded. VISA-specified defaults will be used.\n  ret = library.viOpenDefaultRM(byref(session))\nMachine Details:\n   Platform ID:    Windows-8-6.2.9200\n   Processor:      Intel64 Family 6 Model 61 Stepping 4, GenuineIntel\n\nPython:\n   Implementation: CPython\n   Executable:     C:\\Python27\\python.exe\n   Version:        2.7.9\n   Compiler:       MSC v.1500 32 bit (Intel)\n   Bits:           32bit\n   Build:          Dec 10 2014 12:24:55 (#default)\n   Unicode:        UCS2\n\nPyVISA Version: 1.7\n\nBackends:\n   ni:\n      Version: 1.7 (bundled with PyVISA)\n      #1: C:\\Windows\\system32\\visa32.dll:\n         found by: auto\n         bitness: 32\n         Vendor: National Instruments\n         Impl. Version: 5243905\n         Spec. Version: 5243136\n      #2: C:\\Windows\\system32\\visa32.dll:\n         found by: auto\n         bitness: 32\n         Vendor: National Instruments\n         Impl. Version: 5243905\n         Spec. Version: 5243136\n</code></pre>\n\n<p>NI-VISA version is 5.4.1.\nHere is what I get when I run following code</p>\n\n<pre><code>&gt;&gt;&gt; import visa\n&gt;&gt;&gt; rm = visa.ResourceManager()\nC:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1222: VisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407): The specified configuration either does not exist or could not be loaded. VISA-specified defaults will be used.\n  ret = library.viOpenDefaultRM(byref(session))\n&gt;&gt;&gt; RAS = rm.open_resource('TCPIP::10.8.9.16::5025::SOCKET')\n&gt;&gt;&gt; RAS.ask(\"*idn?\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 387, in query\n    return self.read()\n  File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 312, in read\n    message = self.read_raw().decode(enco)\n  File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 286, in read_raw\n    chunk, status = self.visalib.read(self.session, size)\n  File \"C:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1582, in read\n    ret = library.viRead(session, buffer, count, byref(return_count))\n  File \"C:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\n    raise errors.VisaIOError(ret_value)\npyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Does anyone know what am I doing wrong?</p>\n"}, {"tags": ["python", "xml", "elementtree", "minidom", "processing-instruction"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 2, "creation_date": 1432155651, "post_id": 30360183, "comment_id": 48812271, "body": "Sounds like preprocessing for me - convert the PIs into normal tags, writing some small specialized preprocessing-script for that. Then, process  with ElementTree."}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 3, "creation_date": 1432160556, "post_id": 30360183, "comment_id": 48814388, "body": "have you considered <a href=\"http://lxml.de\" rel=\"nofollow noreferrer\">lxml</a>? <code>tree.xpath(&#39;&#47;&#47;processing-instruction()&#39;)</code> should return all PIs in the tree..."}], "answers": [{"tags": [], "owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "is_accepted": true, "score": 2, "last_activity_date": 1458260328, "creation_date": 1458260328, "answer_id": 36073998, "question_id": 30360183, "link": "https://stackoverflow.com/questions/30360183/finding-and-converting-xml-processing-instructions-using-python/36073998#36073998", "title": "Finding and converting XML processing instructions using Python", "body": "<p>Use the XPath API of the <code>lxml</code> module as such:</p>\n\n<pre><code>from lxml import etree\n\nfoo = StringIO('&lt;foo&gt;&lt;bar&gt;&lt;/bar&gt;&lt;/foo&gt;')\ntree = etree.parse(foo)\nresult = tree.xpath('//processing-instruction()')\n</code></pre>\n\n<blockquote>\n  <p>The node test processing-instruction() is true for any processing instruction. The processing-instruction() test may have an argument that is Literal; in this case, it is true for any processing instruction that has a name equal to the value of the Literal.</p>\n</blockquote>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><a href=\"http://lxml.de/xpathxslt.html\" rel=\"nofollow\">XPath and XSLT with lxml</a></li>\n<li><a href=\"https://www.w3.org/TR/xpath/#node-tests\" rel=\"nofollow\">XML Path Language 1.0: Node Tests</a></li>\n</ul>\n"}], "owner": {"reputation": 63, "user_id": 2908989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1728075a209bed45cdb737b0a72d3b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Pantagrool", "link": "https://stackoverflow.com/users/2908989/pantagrool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 36073998, "answer_count": 1, "score": 3, "last_activity_date": 1458266536, "creation_date": 1432155223, "last_edit_date": 1458266536, "question_id": 30360183, "link": "https://stackoverflow.com/questions/30360183/finding-and-converting-xml-processing-instructions-using-python", "title": "Finding and converting XML processing instructions using Python", "body": "<p>We are converting our ancient FrameMaker docs to XML. My job is to convert this:</p>\n\n<pre><code>&lt;?FM MARKER [Index] foo, bar ?&gt;` \n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>&lt;indexterm&gt;\n    &lt;primary&gt;foo, bar&lt;/primary&gt;\n&lt;/indexterm&gt;\n</code></pre>\n\n<p>I'm not worried about that part (yet); what is stumping me is that the <code>ProcessingInstruction</code>s are all over the documents and could potentially be under any element, so I need to be able to search the entire tree, find them, and then process them. I cannot figure out how to iterate over an entire XML tree using <code>minidom</code>. Am I missing some secret method/iterator? This is what I've looked at thus far:</p>\n\n<ul>\n<li><p><code>Elementtree</code> has the excellent <code>Element.iter()</code> method, which is a depth-first search, but it doesn't process <code>ProcessingInstruction</code>s.</p></li>\n<li><p><code>ProcessingInstruction</code>s don't have tag names, so I cannot search for them using <code>minidom</code>'s <code>getElementsByTagName</code>.</p></li>\n<li><p><code>xml.sax</code>'s <code>ContentHandler.processingInstruction</code> looks like it's only used to create <code>ProcessingInstruction</code>s.</p></li>\n</ul>\n\n<p>Short of creating my own depth-first search algorithm, is there a way to generate a list of <code>ProcessingInstruction</code>s in an XML file, or identify their parents?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 402, "user_id": 4412115, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh4.googleusercontent.com/-3qJFMrm1xKI/AAAAAAAAAAI/AAAAAAAAABM/ENKqIh1klLk/photo.jpg?sz=128", "display_name": "wiedzminYo", "link": "https://stackoverflow.com/users/4412115/wiedzminyo"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1432155503, "post_id": 30360147, "comment_id": 48812189, "body": "Yes,its just my bad in rewritting"}], "answers": [{"tags": [], "owner": {"reputation": 8316, "user_id": 4759209, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff821860933d0565fe62aed9fe2132f7?s=128&d=identicon&r=PG&f=1", "display_name": "farhawa", "link": "https://stackoverflow.com/users/4759209/farhawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1432155306, "creation_date": 1432155306, "answer_id": 30360195, "question_id": 30360147, "link": "https://stackoverflow.com/questions/30360147/numpy-loadtxt-valueerror-invalid-literal-for-float/30360195#30360195", "title": "numpy loadtxt ValueError: invalid literal for float()", "body": "<p>Use <code>np.loadtxt(file_,dtype=object)</code></p>\n\n<p>OR</p>\n\n<p>Open your file as a dataframe and convert it to a numpy array</p>\n\n\n\n<pre><code>import pandas as pd\nprint pd.read_csv(file_).as_matrix()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 4, "last_activity_date": 1432156237, "creation_date": 1432156237, "answer_id": 30360421, "question_id": 30360147, "link": "https://stackoverflow.com/questions/30360147/numpy-loadtxt-valueerror-invalid-literal-for-float/30360421#30360421", "title": "numpy loadtxt ValueError: invalid literal for float()", "body": "<p>The default delimiter of <code>loadtxt</code> is whitespace.  You want to use a comma, so add the argument <code>delimiter=','</code> to the <code>loadtxt</code> call.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1432158873, "creation_date": 1432158873, "answer_id": 30361062, "question_id": 30360147, "link": "https://stackoverflow.com/questions/30360147/numpy-loadtxt-valueerror-invalid-literal-for-float/30361062#30361062", "title": "numpy loadtxt ValueError: invalid literal for float()", "body": "<p>The fact that it is trying to convert <code>'0,6288,10,f,3,4'</code> indicates that you have a delimiter error as <code>Warren</code> points out.</p>\n\n<p>As to why it is complaining about a float when all of your dtypes are int., a clue can be found in <code>lambda x: int(float(x))</code>.</p>\n\n<p>The code to select default converters is (from np.lib/npyio.py):</p>\n\n<pre><code>def _getconv(dtype):\n    typ = dtype.type\n    if issubclass(typ, np.bool_):\n        return lambda x: bool(int(x))\n    if issubclass(typ, np.uint64):\n        return np.uint64\n    if issubclass(typ, np.int64):\n        return np.int64\n    if issubclass(typ, np.integer):\n        return lambda x: int(float(x))\n    elif issubclass(typ, np.floating):\n        return float\n    elif issubclass(typ, np.complex):\n        return complex\n    elif issubclass(typ, np.bytes_):\n        return bytes\n    else:\n        return str\n</code></pre>\n\n<p>Note that <code>int('1.0')</code> gives an error, but <code>int(float('1.0'))</code> works.  So this more complex converter is less likely to choke on formatting details.</p>\n"}], "owner": {"reputation": 402, "user_id": 4412115, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh4.googleusercontent.com/-3qJFMrm1xKI/AAAAAAAAAAI/AAAAAAAAABM/ENKqIh1klLk/photo.jpg?sz=128", "display_name": "wiedzminYo", "link": "https://stackoverflow.com/users/4412115/wiedzminyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5313, "favorite_count": 0, "accepted_answer_id": 30360421, "answer_count": 3, "score": 2, "last_activity_date": 1432181303, "creation_date": 1432155098, "last_edit_date": 1432181303, "question_id": 30360147, "link": "https://stackoverflow.com/questions/30360147/numpy-loadtxt-valueerror-invalid-literal-for-float", "title": "numpy loadtxt ValueError: invalid literal for float()", "body": "<pre><code>import numpy as n\n\na=n.loadtxt(\"data.txt\",dtype=[('ID',int),('ID2',int),('ID3',int),\n                              ('GENDER','|S1'),('ID4',int),('ID5',int)])\n\nprint len(n.unique(a[a['GENDER']==f]['ID']))\n</code></pre>\n\n<p>I have problem with this code,I was trying to count how many womans I have in my data file,so I used numpy .loadtxt and .unique but I've got strange (for me) error</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Python27\\Lib\\site-packages\\xy\\bazy.py\", line 78, in &lt;module&gt;\na=n.loadtxt(\"C:\\\\Users\\\\DzwiedzN7\\\\Desktop\\\\plec.txt\",dtype=[('ID',int),('U-  ID',int),('KIER',int),('PLEC','|S1'),('TRYB',int),('RODZAJ',int)])\nFile \"C:\\Python27\\lib\\site-packages\\numpy\\lib\\npyio.py\", line 848, in loadtxt\nitems = [conv(val) for (conv, val) in zip(converters, vals)]\nFile \"C:\\Python27\\lib\\site-packages\\numpy\\lib\\npyio.py\", line 616, in &lt;lambda&gt;\nreturn lambda x: int(float(x))\nValueError: invalid literal for float(): 0,6288,10,f,3,4\n</code></pre>\n\n<p>I don't get it,what is about this iteral for float?There is no float and it shouldn't be.</p>\n"}, {"tags": ["python", "python-module"], "comments": [{"owner": {"reputation": 1453, "user_id": 3195614, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qw0hw.jpg?s=128&g=1", "display_name": "Zach P", "link": "https://stackoverflow.com/users/3195614/zach-p"}, "edited": false, "score": 0, "creation_date": 1432155199, "post_id": 30360110, "comment_id": 48812037, "body": "Does <a href=\"http://stackoverflow.com/questions/2029523/how-to-prevent-a-module-from-being-imported-twice\">this</a> solve your problem?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1432155201, "post_id": 30360110, "comment_id": 48812039, "body": "No, it&#39;s fine; Python only actually imports each module once"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432155255, "post_id": 30360110, "comment_id": 48812063, "body": "See <a href=\"https://programmers.stackexchange.com/q/187403\">&#39;import module&#39; vs. &#39;from module import function&#39;</a>; importing loads the file <b>once</b>, then just binds names to loaded objects."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1432155713, "last_edit_date": 1432155713, "creation_date": 1432155362, "answer_id": 30360210, "question_id": 30360110, "link": "https://stackoverflow.com/questions/30360110/can-i-import-a-built-in-module-twice-in-both-my-script-and-custom-module/30360210#30360210", "title": "Can I import a built-in module twice in both my script and custom module", "body": "<p>No, there is no downside. Importing a module does <em>two</em> things:</p>\n\n<ol>\n<li>If not yet in memory, load the module, storing the resulting object in <a href=\"https://docs.python.org/3/library/sys.html#sys.modules\" rel=\"nofollow\"><code>sys.modules</code></a>.</li>\n<li>Bind names to either the module object (<code>import modulename</code>) or to attributes of the module object (<code>from modulename import objectname</code>).</li>\n</ol>\n\n<p>Additional imports only execute step 2, as the module is already loaded.</p>\n\n<p>See <a href=\"https://docs.python.org/3/reference/import.html\" rel=\"nofollow\"><em>The import system</em></a> in the Python reference documentation for the nitty gritty details:</p>\n\n<blockquote>\n  <p>The <code>import</code> statement combines two operations; it searches for the named module, then it binds the results of that search to a name in the local scope.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1432155434, "post_id": 30360215, "comment_id": 48812152, "body": "Martijin explains it very well."}], "tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": false, "score": 0, "last_activity_date": 1432155387, "creation_date": 1432155387, "answer_id": 30360215, "question_id": 30360110, "link": "https://stackoverflow.com/questions/30360110/can-i-import-a-built-in-module-twice-in-both-my-script-and-custom-module/30360215#30360215", "title": "Can I import a built-in module twice in both my script and custom module", "body": "<p>You can import the same module in separate files (custom modules) as far as I know. Python keeps track of already imported modules and knows how to resolve a second import.</p>\n"}, {"comments": [{"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 1, "creation_date": 1432222214, "post_id": 30361063, "comment_id": 48845802, "body": "Another interesting note is that the module name in your current module is a variable like any other. It can be <i>reassigned</i> to something else; this is especially useful for mocking. +1"}], "tags": [], "owner": {"reputation": 629, "user_id": 1102214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f3a0d245fa5200c43182325937f2c?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1102214/andrew"}, "is_accepted": true, "score": 2, "last_activity_date": 1500388311, "last_edit_date": 1500388311, "creation_date": 1432158874, "answer_id": 30361063, "question_id": 30360110, "link": "https://stackoverflow.com/questions/30360110/can-i-import-a-built-in-module-twice-in-both-my-script-and-custom-module/30361063#30361063", "title": "Can I import a built-in module twice in both my script and custom module", "body": "<p>The short answer is no, there is no downside.</p>\n\n<p>That being said, it may be helpful to understand what imports mean, particularly for anyone new to programming or coming from a different language background.</p>\n\n<p>I imagine your code looks something like this:</p>\n\n<pre><code># my_module.py\nimport os\nimport csv\n\ndef bar(path, filename, list):\n    full_path = os.path.join(path, filename)\n    with open(full_path, 'w') as f:\n        csv_writer = csv.writer\n        csv_writer.writerows(list)\n</code></pre>\n\n<p>and</p>\n\n<pre><code># my_script.py\nimport csv\nimport my_module\n\ndef foo(path):\n    contents = []\n    with open(path, 'r') as f:\n        csv_reader = csv.reader(f)\n        for row in csv_reader:\n            contents.append(row)\n</code></pre>\n\n<p>As a high-level overview, when you do an import in this manner, Python determines whether the module has already been imported. If not, then it searches the Python path to determine where the imported module lives on the file system, then it loads the imported module's code into memory and executes it. The interpreter takes all objects that are created during the execution of the imported module and makes them attributes on a new module object that the interpreter creates. Then the interpreter stores this module object into a dictionary-like structure that maps the module name to the module object. Finally, the interpreter brings the imported module's name into the importing module's scope.</p>\n\n<p>This has some interesting consequences. For example, it means that you could simply use <code>my_module.csv</code> to access the csv module within my_script.py. It also means that importing csv in both is trivial and is probably the clearest thing you can do.</p>\n\n<p>One very interesting consequence is that if any statements that get executed during import have any side effects, those side effects will only happen when the module is first loaded by the interpreter. For example, suppose you had two modules a.py and b.py with the following code:</p>\n\n<pre><code># a.py\nprint('hello world')\n\n# b.py\nprint('goodbye world')\nimport a\n</code></pre>\n\n<p>If you run <code>import a</code> followed by <code>import b</code> then you will see</p>\n\n<pre><code>&gt;&gt;&gt; import a\nhello world\n&gt;&gt;&gt; import b\ngoodbye world\n&gt;&gt;&gt;\n</code></pre>\n\n<p>However, if you import in the opposite order, you get this:</p>\n\n<pre><code>&gt;&gt;&gt; import b\ngoodbye world\nhello world\n&gt;&gt;&gt; import a\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Anyway, I think I've rambled enough and I hope I've adequately answered the question while giving some background. If this is at all interesting, I'd recommend <a href=\"http://pyvideo.org/video/2567/import-ant-decisions\" rel=\"nofollow noreferrer\" title=\"PyCon 2014: &#39;Import-Ant Decisions&#39; By Allison Kaptur\">Allison Kaptur's PyCon 2014 talk about import</a>.</p>\n"}], "owner": {"reputation": 492, "user_id": 3412518, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cYO05.jpg?s=128&g=1", "display_name": "jes516", "link": "https://stackoverflow.com/users/3412518/jes516"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 30361063, "answer_count": 3, "score": 0, "last_activity_date": 1500388311, "creation_date": 1432154943, "question_id": 30360110, "link": "https://stackoverflow.com/questions/30360110/can-i-import-a-built-in-module-twice-in-both-my-script-and-custom-module", "title": "Can I import a built-in module twice in both my script and custom module", "body": "<p>Is there a downside to importing the same built-in module in both my script and custom module?</p>\n\n<p>I have a script that: imports my custom module and imports the built-in csv module to open a csv file and append any necessary content to a list.</p>\n\n<p>I then have a method in my custom module in which i pass a path, filename and list and writes a csv, but I have to import the csv module again (in my module).</p>\n\n<p>I do not understand what happens when I import the csv module twice so I wanted to know if there is a more uniformed way of doing what I'm doing or if this is ok.</p>\n"}, {"tags": ["python", "csv", "beautifulsoup"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1432155577, "post_id": 30360010, "comment_id": 48812229, "body": "Extract code into functions and troubleshoot them separately instead of reams of code."}], "answers": [{"comments": [{"owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 0, "creation_date": 1432155825, "post_id": 30360302, "comment_id": 48812371, "body": "silly me. that works. but if we wanted to work with &#39;w&#39; instead of &#39;a&#39;, is there a way to shuffle around the while/fors/etc to make it work? i feel like i got lost in the control flow and it&#39;s bugging me."}, {"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "reply_to_user": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 1, "creation_date": 1432155908, "post_id": 30360302, "comment_id": 48812428, "body": "Yes, you can move the open before the while loop. That way, you only open the file once and you can write until all the pages are done"}, {"owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 0, "creation_date": 1432156282, "post_id": 30360302, "comment_id": 48812628, "body": "isn&#39;t that what I did in the first code? the open before the while loop?"}, {"owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 0, "creation_date": 1432156378, "post_id": 30360302, "comment_id": 48812676, "body": "and if i take out the indent in the while block to line it up with open block from the first example, it throws me a <code>ValueError: I&#47;O operation on closed file</code>"}, {"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "reply_to_user": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 1, "creation_date": 1432156545, "post_id": 30360302, "comment_id": 48812749, "body": "If your first code sample is accurate, I don&#39;t think it will ever exit the while loop since page_num will always be less than total_pages because you&#39;re not incrementing page_num in that loop. My guess is that your for loop needs to be indented one more level so that its inside your while loop. Right now because of its indentation level the for loop is getting the page_num increment instead of the while loop."}], "tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": true, "score": 2, "last_activity_date": 1432155694, "creation_date": 1432155694, "answer_id": 30360302, "question_id": 30360010, "link": "https://stackoverflow.com/questions/30360010/logic-flow-trying-to-iterate-through-website-pages-with-beautifulsoup-and-csv/30360302#30360302", "title": "Logic flow - trying to iterate through website pages with BeautifulSoup and CSV Writer", "body": "<p>The issue with your second code example is that you're overwriting your file each time. Instead of </p>\n\n<pre><code>open(\"MegaMillions.tsv\",\"w\")\n</code></pre>\n\n<p>use </p>\n\n<pre><code>open(\"MegaMillions.tsv\",\"a\")\n</code></pre>\n\n<p>The \"a\" opens the file for appending, which is what you want to do </p>\n"}, {"tags": [], "owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "is_accepted": false, "score": -1, "last_activity_date": 1432158390, "creation_date": 1432158390, "answer_id": 30360959, "question_id": 30360010, "link": "https://stackoverflow.com/questions/30360010/logic-flow-trying-to-iterate-through-website-pages-with-beautifulsoup-and-csv/30360959#30360959", "title": "Logic flow - trying to iterate through website pages with BeautifulSoup and CSV Writer", "body": "<p>Thanks to the suggestions, here's one variation that works:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom urllib2 import urlopen\nimport csv\n\npage_num = 1\ntotal_pages = 73\n\nwith open(\"MegaMillions.tsv\",\"w\") as f:\n    fieldnames = ['date', 'numbers', 'moneyball']\n    writer = csv.writer(f, delimiter = '\\t')\n    writer.writerow(fieldnames)\n\n    while page_num &lt;= total_pages:\n        page_num = str(page_num)\n        soup = BeautifulSoup(urlopen('http://www.usamega.com/mega-millions-history.asp?p='+page_num).read())\n\n        for row in soup('table',{'bgcolor':'white'})[0].findAll('tr'):\n\n            tds = row('td')\n            if tds[1].a is not None:\n                date = tds[1].a.string.encode(\"utf-8\")\n                if tds[3].b is not None:\n                    uglynumber = tds[3].b.string.split()\n                    betternumber = [int(uglynumber[i]) for i in range(len(uglynumber)) if i%2==0]\n                    moneyball = tds[3].strong.string.encode(\"utf-8\")\n\n                    writer.writerow([date, betternumber, moneyball])\n        page_num = int(page_num)\n        page_num += 1\n\nprint 'We\\'re done here.'\n</code></pre>\n\n<p>opted for this over the 'a' because then the headerrow gets written for every page.</p>\n"}], "owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 30360302, "answer_count": 2, "score": -1, "last_activity_date": 1521391267, "creation_date": 1432154578, "last_edit_date": 1521391267, "question_id": 30360010, "link": "https://stackoverflow.com/questions/30360010/logic-flow-trying-to-iterate-through-website-pages-with-beautifulsoup-and-csv", "title": "Logic flow - trying to iterate through website pages with BeautifulSoup and CSV Writer", "body": "<p>I can't seem to figure out the proper indents/clause placements to get this to loop through more than 1 page. This code current prints out a CSV file fine, but only does it for the first page.</p>\n\n<pre><code>#THIS WORKS BUT ONLY PRINTS THE FIRST PAGE\n\nfrom bs4 import BeautifulSoup\nfrom urllib2 import urlopen\nimport csv\n\npage_num = 1\ntotal_pages = 20\n\nwith open(\"MegaMillions.tsv\",\"w\") as f:\n    fieldnames = ['date', 'numbers', 'moneyball']\n    writer = csv.writer(f, delimiter = '\\t')\n    writer.writerow(fieldnames)\n\n    while page_num &lt; total_pages:\n        page_num = str(page_num)\n        soup = BeautifulSoup(urlopen('http://www.usamega.com/mega-millions-history.asp?p='+page_num).read())\n\n    for row in soup('table',{'bgcolor':'white'})[0].findAll('tr'):\n\n        tds = row('td')\n        if tds[1].a is not None:\n            date = tds[1].a.string.encode(\"utf-8\")\n            if tds[3].b is not None:\n                uglynumber = tds[3].b.string.split()\n                betternumber = [int(uglynumber[i]) for i in range(len(uglynumber)) if i%2==0]\n                moneyball = tds[3].strong.string.encode(\"utf-8\")\n\n                writer.writerow([date, betternumber, moneyball])\n        page_num = int(page_num)\n        page_num += 1\n\nprint 'We\\'re done here.'\n</code></pre>\n\n<p>And of course, this only prints the last page:</p>\n\n<pre><code>#THIS WORKS BUT ONLY PRINTS THE LAST PAGE\n\nfrom bs4 import BeautifulSoup\nfrom urllib2 import urlopen\nimport csv\n\npage_num = 1\ntotal_pages = 20\n\nwhile page_num &lt; total_pages:\n    page_num = str(page_num)\n    soup = BeautifulSoup(urlopen('http://www.usamega.com/mega-millions-history.asp?p='+page_num).read())\n\n    with open(\"MegaMillions.tsv\",\"w\") as f:\n        fieldnames = ['date', 'numbers', 'moneyball']\n        writer = csv.writer(f, delimiter = '\\t')\n        writer.writerow(fieldnames)\n\n        for row in soup('table',{'bgcolor':'white'})[0].findAll('tr'):\n\n            tds = row('td')\n            if tds[1].a is not None:\n                date = tds[1].a.string.encode(\"utf-8\")\n                if tds[3].b is not None:\n                    uglynumber = tds[3].b.string.split()\n                    betternumber = [int(uglynumber[i]) for i in range(len(uglynumber)) if i%2==0]\n                    moneyball = tds[3].strong.string.encode(\"utf-8\")\n\n                    writer.writerow([date, betternumber, moneyball])\n        page_num = int(page_num)\n        page_num += 1\n\nprint 'We\\'re done here.'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 11566, "user_id": 1262820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mq3Cq.png?s=128&g=1", "display_name": "felipsmartins", "link": "https://stackoverflow.com/users/1262820/felipsmartins"}, "edited": false, "score": 0, "creation_date": 1432154762, "post_id": 30359976, "comment_id": 48811781, "body": "In fact, it works form me with or without re.MULTILINE flag"}, {"owner": {"reputation": 1453, "user_id": 3195614, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qw0hw.jpg?s=128&g=1", "display_name": "Zach P", "link": "https://stackoverflow.com/users/3195614/zach-p"}, "edited": false, "score": 0, "creation_date": 1432155033, "post_id": 30359976, "comment_id": 48811950, "body": "Just printed ` GOOD DATA ` for me."}, {"owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "edited": false, "score": 1, "creation_date": 1432155036, "post_id": 30359976, "comment_id": 48811952, "body": "This will only return an empty list if you run f.read() twice"}, {"owner": {"reputation": 41, "user_id": 4918731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6678f9093c200738ea8e9da84b9584e5?s=128&d=identicon&r=PG&f=1", "display_name": "Linda Shaw", "link": "https://stackoverflow.com/users/4918731/linda-shaw"}, "edited": false, "score": 0, "creation_date": 1432155465, "post_id": 30359976, "comment_id": 48812171, "body": "You are right it does return GOOD DATA, but it&#39;s not getting MORE GOOD DATA. What is the easiest way to grab both?"}, {"owner": {"reputation": 758, "user_id": 1252095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a940555421f72e7f364fca7604661161?s=128&d=identicon&r=PG", "display_name": "begemotv2718", "link": "https://stackoverflow.com/users/1252095/begemotv2718"}, "edited": false, "score": 1, "creation_date": 1432155530, "post_id": 30359976, "comment_id": 48812201, "body": "re.MULTILINE is wrong flag, the good flag is re.DOTALL"}], "answers": [{"comments": [{"owner": {"reputation": 1596, "user_id": 1588032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/86c80fd71df0d74fe8a8da04cc1e533f?s=128&d=identicon&r=PG", "display_name": "UNagaswamy", "link": "https://stackoverflow.com/users/1588032/unagaswamy"}, "edited": false, "score": 1, "creation_date": 1432155654, "post_id": 30360250, "comment_id": 48812275, "body": "very nice, I did not know about re.DOTALL!"}, {"owner": {"reputation": 1371, "user_id": 2754566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23d025e1247d8ef77145ca74d8faaba?s=128&d=identicon&r=PG", "display_name": "brandon.bell", "link": "https://stackoverflow.com/users/2754566/brandon-bell"}, "edited": false, "score": 1, "creation_date": 1432155727, "post_id": 30360250, "comment_id": 48812306, "body": "By default, &#39;.&#39; does not include new line characters.  DOTALL forces it to include the new line."}, {"owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1432156105, "post_id": 30360250, "comment_id": 48812532, "body": "Yes, added the explanation on the response, thanks for feedback"}], "tags": [], "owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "is_accepted": false, "score": 3, "last_activity_date": 1432155752, "last_edit_date": 1432155752, "creation_date": 1432155515, "answer_id": 30360250, "question_id": 30359976, "link": "https://stackoverflow.com/questions/30359976/python-re-findall-from-file/30360250#30360250", "title": "Python re.findall from file", "body": "<p>If you want to grab all the data you should use re.DOTALL flag:</p>\n\n<pre><code>trim = re.findall('keyword1(.+?)keyword2', f.read(), re.DOTALL)\n</code></pre>\n\n<p>Usually the dot character means to get all chars but \\n. With the DOTALL attribute the engine also matches \\n for the dot character.</p>\n\n<p>Output:</p>\n\n<pre><code>[' GOOD DATA ', ' MORE \\nGOOD DATA ']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 2635972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2458841d0927b88681a0730c49e97f56?s=128&d=identicon&r=PG", "display_name": "ybenjira", "link": "https://stackoverflow.com/users/2635972/ybenjira"}, "edited": false, "score": 1, "creation_date": 1556229563, "post_id": 30360254, "comment_id": 98377560, "body": "The question states &quot;in a text file&quot;, not from a multiline string."}], "tags": [], "owner": {"reputation": 565, "user_id": 4890269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAxAl.png?s=128&g=1", "display_name": "nullptr", "link": "https://stackoverflow.com/users/4890269/nullptr"}, "is_accepted": true, "score": 0, "last_activity_date": 1432155527, "creation_date": 1432155527, "answer_id": 30360254, "question_id": 30359976, "link": "https://stackoverflow.com/questions/30359976/python-re-findall-from-file/30360254#30360254", "title": "Python re.findall from file", "body": "<pre><code>import re\n\ns = \"bad bad keyword1 GOOD DATA \" \\\n    \"keyword2 bad bad bad bad \" \\\n    \"keyword1 MORE GOOD DATA \" \\\n    \"keyword2 bad bad\"\n\nfor i in re.findall('keyword1(.*?)keyword2', s, re.DOTALL):\n    print(i)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4918731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6678f9093c200738ea8e9da84b9584e5?s=128&d=identicon&r=PG&f=1", "display_name": "Linda Shaw", "link": "https://stackoverflow.com/users/4918731/linda-shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3203, "favorite_count": 2, "accepted_answer_id": 30360254, "answer_count": 2, "score": 3, "last_activity_date": 1432155752, "creation_date": 1432154414, "question_id": 30359976, "link": "https://stackoverflow.com/questions/30359976/python-re-findall-from-file", "title": "Python re.findall from file", "body": "<p>I am trying to extract all of the text between two keywords in a text file. The keywords appear multiple times in the file, so I will have multiple blocks of good text.  </p>\n\n<p>The input.txt file is this:</p>\n\n<pre><code>bad bad keyword1 GOOD DATA keyword2 bad\nbad bad bad keyword1 MORE \nGOOD DATA keyword2 bad bad \n</code></pre>\n\n<p>This is not working: </p>\n\n<pre><code>import re\n\nf = open('input.txt', 'r')\ntrim = re.findall('keyword1(.+?)keyword2', f.read())\nprint trim\n</code></pre>\n\n<p>It returns an empty list:</p>\n\n<pre><code>[]\n</code></pre>\n"}, {"tags": ["c#", "python", "ironpython"], "answers": [{"tags": [], "owner": {"reputation": 5899, "user_id": 468244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104499f4d16c9363ad1564fb9415a4fc?s=128&d=identicon&r=PG", "display_name": "Simon Opelt", "link": "https://stackoverflow.com/users/468244/simon-opelt"}, "is_accepted": true, "score": 1, "last_activity_date": 1432193866, "last_edit_date": 1432193866, "creation_date": 1432193426, "answer_id": 30367265, "question_id": 30359912, "link": "https://stackoverflow.com/questions/30359912/python-to-c-stongboxsingle/30367265#30367265", "title": "Python to C# StongBox[Single]", "body": "<p>In order to have a proper target for the out parameter you have to explicitly create a clr reference (<a href=\"https://msdn.microsoft.com/en-us/library/bb549038%28v=vs.110%29.aspx\" rel=\"nofollow\">StrongBox</a> serves as that reference/value wrapper) in IronPython, as there is no out keyword on the caller side (like in C#) that would allow you to do so.</p>\n\n<p>This could look like:</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>import clr\nimport System\ntempValue = clr.Reference[System.Single]()\n</code></pre>\n\n<p>Directly creating the StrongBox instance should also work.</p>\n\n<p>Please be aware that you could also consume methods, that have only out parameters, not passing anything but receiving a tuple as explained <a href=\"http://ironpython.net/documentation/dotnet/dotnet.html#ref-and-out-parameters\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 53, "user_id": 4922142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a86d4c8c80b4ba1e0fa357efde3181d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Albert", "link": "https://stackoverflow.com/users/4922142/matt-albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 30367265, "answer_count": 1, "score": 4, "last_activity_date": 1432193866, "creation_date": 1432154203, "last_edit_date": 1432155919, "question_id": 30359912, "link": "https://stackoverflow.com/questions/30359912/python-to-c-stongboxsingle", "title": "Python to C# StongBox[Single]", "body": "<p>I've used IronPython to add a reference to a C# dll.  I'm attempting to use a method in the DLL which requires an argument of type:</p>\n\n<pre><code>out float tempValue\n</code></pre>\n\n<p>When I pass a python float object to the method I get the following traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"MeasurementComputing.py\", line 20, in &lt;module&gt;\nTypeError: expected StrongBox[Single], got float\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>What is a StrongBox[Single]</li>\n<li>How do I create such an object in python to pass to the C# method.</li>\n</ol>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "reply_to_user": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1432154253, "post_id": 30359864, "comment_id": 48811520, "body": "That may explain how the situation came to be, but then the question would be why was one chosen to be a standard over the other?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1432154263, "post_id": 30359864, "comment_id": 48811529, "body": "They don&#39;t do the same thing <i>in all circumstances</i>..."}], "answers": [{"comments": [{"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1432154395, "post_id": 30359923, "comment_id": 48811604, "body": "Awesome answer, thanks. And for a noob followup, what technically is the name for <code>sys.argv</code> if it is not a module?"}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1432154398, "post_id": 30359923, "comment_id": 48811605, "body": "So you are saying that we can use the  dot notation just to access submodules, otherwise we cannot use this notation..?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1432154431, "post_id": 30359923, "comment_id": 48811615, "body": "<code>sys.argv</code> is just the fully qualified name of an object (in this case, an instance of <code>list</code>.)"}, {"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1432154656, "post_id": 30359923, "comment_id": 48811728, "body": "and <code>sys</code> is not a module, and instead is a ___?"}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "reply_to_user": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 1, "creation_date": 1432154952, "post_id": 30359923, "comment_id": 48811899, "body": "@MattO&#39;Brien: <code>sys</code> certainly is a module: <a href=\"https://docs.python.org/2/library/sys.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/sys.html</a>. Most of the things available in modules are just regular objects, but sometimes there are other modules contained inside modules. For example, the <a href=\"https://docs.python.org/2/library/os.html\" rel=\"nofollow noreferrer\"><code>os</code> module</a> contains the <code>os.path</code> module. In your case, the <code>theano</code> module contains a module called <code>tensor</code>."}], "tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": false, "score": 7, "last_activity_date": 1432154242, "creation_date": 1432154242, "answer_id": 30359923, "question_id": 30359864, "link": "https://stackoverflow.com/questions/30359864/why-are-there-redundant-ways-to-import-in-python/30359923#30359923", "title": "Why are there redundant ways to import in Python?", "body": "<p>The statement</p>\n\n<pre><code>import theano.tensor\n</code></pre>\n\n<p>only works if <code>theano.tensor</code> is a <em>module</em> itself. This is what permits both your examples to work.</p>\n\n<p>Consider <code>sys.argv</code>, which is not a module. The following works:</p>\n\n<pre><code>from sys import argv\n</code></pre>\n\n<p>which imports <code>argv</code> into the global namespace, but the <code>import</code> form does not:</p>\n\n<pre><code>&gt;&gt;&gt; import sys.argv\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named argv\n</code></pre>\n"}], "owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1432154242, "creation_date": 1432154055, "question_id": 30359864, "link": "https://stackoverflow.com/questions/30359864/why-are-there-redundant-ways-to-import-in-python", "title": "Why are there redundant ways to import in Python?", "body": "<p>Unless I'm mistaken, these two lines do exactly the same thing:</p>\n\n<pre><code>import theano.tensor as T\n\nfrom theano import tensor as T\n</code></pre>\n\n<p>Is there any reason why there are redundant ways to import in Python?</p>\n"}, {"tags": ["python", "tweepy"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432154021, "post_id": 30359801, "comment_id": 48811383, "body": "I am afraid if you would be able to retrieve all 100k posts that&#39;s a huge number and I guess there is a limit as how many tweets can you retrieve using twitter API."}, {"owner": {"reputation": 4699, "user_id": 1072724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c801226729ed3ea93676eb25c61299a?s=128&d=identicon&r=PG", "display_name": "Mike McMahon", "link": "https://stackoverflow.com/users/1072724/mike-mcmahon"}, "edited": false, "score": 1, "creation_date": 1432154108, "post_id": 30359801, "comment_id": 48811429, "body": "that cursor that&#39;s being returned and then you call <code>items()</code> on it.  Try getting that cursor, it likely has the cookie required to continue where you left off.  Or you need to space out your API calls with a sleep so as not to bump up against the rate limiter."}], "answers": [{"comments": [{"owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "edited": false, "score": 0, "creation_date": 1432158903, "post_id": 30360743, "comment_id": 48813798, "body": "thanks, i double checked with twitter&#39;s documentation"}], "tags": [], "owner": {"reputation": 784, "user_id": 3565315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f94c26f3337cd6d46fce6dcccad0b3e4?s=128&d=identicon&r=PG&f=1", "display_name": "manglano", "link": "https://stackoverflow.com/users/3565315/manglano"}, "is_accepted": true, "score": 9, "last_activity_date": 1432157381, "creation_date": 1432157381, "answer_id": 30360743, "question_id": 30359801, "link": "https://stackoverflow.com/questions/30359801/how-to-successfully-get-all-the-tweets-for-one-user-with-tweepy/30360743#30360743", "title": "How to successfully get all the tweets for one user with tweepy?", "body": "<p>Outside of API limits, only the most recent 3000 tweets are available to anyone other than the account holder, even in the web interface. If you want the tweets before that, you'd need access to the archive.</p>\n"}], "owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9600, "favorite_count": 1, "accepted_answer_id": 30360743, "answer_count": 1, "score": 6, "last_activity_date": 1432157381, "creation_date": 1432153852, "question_id": 30359801, "link": "https://stackoverflow.com/questions/30359801/how-to-successfully-get-all-the-tweets-for-one-user-with-tweepy", "title": "How to successfully get all the tweets for one user with tweepy?", "body": "<p>I am trying to pull all the tweets from USATODAY's twitter account. But, I keep hitting the rate limits when doing so. How do I start from where I left off of after I hit the rate limit?</p>\n\n<p>For example, there are a total of 100k tweets. My code gets the first 3000 then hits the limit. How do I start at 3001 when my limit resets and so on until I can get all 100k?</p>\n\n<pre><code>auth = tweepy.OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token_key, access_token_secret)\n\napi = tweepy.API(auth)\n\nfor tweet in tweepy.Cursor(api.user_timeline,id='USATODAY').items():\n    print tweet\n</code></pre>\n"}, {"tags": ["python", "user-interface", "dll", "pyuic"], "comments": [{"owner": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "edited": false, "score": 0, "creation_date": 1432154177, "post_id": 30359711, "comment_id": 48811475, "body": "This suggests that the program cannot load the QtCore DLL. I would <a href=\"https://stackoverflow.com/questions/2738879/cannot-import-pyqt4-qtgui\">try the answer to this</a>"}, {"owner": {"reputation": 37, "user_id": 4509924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43cd375be561dbbbd87c92209bce2597?s=128&d=identicon&r=PG&f=1", "display_name": "cdbean04", "link": "https://stackoverflow.com/users/4509924/cdbean04"}, "reply_to_user": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "edited": false, "score": 0, "creation_date": 1432156061, "post_id": 30359711, "comment_id": 48812509, "body": "None of those helped me, anyother ideas?"}, {"owner": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "edited": false, "score": 0, "creation_date": 1432157106, "post_id": 30359711, "comment_id": 48813048, "body": "Re-install PyQt4? This often happens because of a problem with the install."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1432159450, "post_id": 30359711, "comment_id": 48813993, "body": "@cdbean04. Are you sure that the necessary PyQt directories are on your <code>PATH</code>? What is the output of <code>echo %PATH%</code>?"}], "owner": {"reputation": 37, "user_id": 4509924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43cd375be561dbbbd87c92209bce2597?s=128&d=identicon&r=PG&f=1", "display_name": "cdbean04", "link": "https://stackoverflow.com/users/4509924/cdbean04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432153498, "creation_date": 1432153498, "question_id": 30359711, "link": "https://stackoverflow.com/questions/30359711/pyuic4-import-qtcore-dll-failed-error", "title": "pyuic4 import QtCore DLL failed error", "body": "<p>I am trying to convert a ui file to a py file using pyuic4. I keep getting errors. I have tried several answers including writing the command diffrently and checking to make sure I am running PyQt and Python both x64. Also I am in the directory where the input (ui) file is located. My code is</p>\n\n<p>C:\\Users\\Charles\\Desktop>pyuic4 -o printHam_widget.py testUi.ui\nTraceback (most recent call last):\n File \"C\\Python34\\Lib\\sites-packages\\PyQt4\\uic\\pyuic\", line 31, in \n    from PyQt4 import QtCore\nImportError: DLL load failed: %1 is not a valid Win32 application.</p>\n\n<p>I have also tried</p>\n\n<p>C:\\Users\\Charles\\Desktop>pyuic4 -x testUi.ui -o printHam_widget.py</p>\n\n<p>I received that same error.</p>\n"}, {"tags": ["python", "google-chrome", "selenium", "selenium-webdriver", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 1922622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570f6900f44ff28bf22a3072bf8e28c3?s=128&d=identicon&r=PG", "display_name": "shafer12", "link": "https://stackoverflow.com/users/1922622/shafer12"}, "edited": false, "score": 1, "creation_date": 1432228927, "post_id": 30359760, "comment_id": 48850076, "body": "That fixed it! Thank you! Now using <code>ChomeDriver 2.15</code>"}, {"owner": {"reputation": 168, "user_id": 4924282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca24b498568f381ac9611244eabc190b?s=128&d=identicon&r=PG", "display_name": "JSDeveloper", "link": "https://stackoverflow.com/users/4924282/jsdeveloper"}, "edited": false, "score": 0, "creation_date": 1482148147, "post_id": 30359760, "comment_id": 69642284, "body": "This problem has struck again. I have upgraded to latest ChromeDriver version 2.26.0. My Chrome version is 55.0.2883.87. I am still getting this error. I have searched other forums, didn&#39;t find any definitive answer.Any idea on the solution?"}], "tags": [], "owner": {"reputation": 2125, "user_id": 2669716, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nCRgK.jpg?s=128&g=1", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/2669716/anirudh"}, "is_accepted": true, "score": 0, "last_activity_date": 1432153710, "creation_date": 1432153710, "answer_id": 30359760, "question_id": 30359621, "link": "https://stackoverflow.com/questions/30359621/webdriverexception-message-unknown-error-devtools-returned-unknown-typeservi/30359760#30359760", "title": "WebDriverException: Message: unknown error: DevTools returned unknown type:service_worker", "body": "<p>This looks most probably like a <code>ChromeDriver Issue</code>.</p>\n\n<p>You can try with downloading the latest Chrome WebDriver <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.15/\" rel=\"nofollow\">here</a></p>\n\n<p>for you Platform or operating system.</p>\n\n<p>It should work.</p>\n"}], "owner": {"reputation": 3, "user_id": 1922622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570f6900f44ff28bf22a3072bf8e28c3?s=128&d=identicon&r=PG", "display_name": "shafer12", "link": "https://stackoverflow.com/users/1922622/shafer12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2605, "favorite_count": 0, "accepted_answer_id": 30359760, "answer_count": 1, "score": 0, "last_activity_date": 1466065687, "creation_date": 1432153200, "last_edit_date": 1432172623, "question_id": 30359621, "link": "https://stackoverflow.com/questions/30359621/webdriverexception-message-unknown-error-devtools-returned-unknown-typeservi", "title": "WebDriverException: Message: unknown error: DevTools returned unknown type:service_worker", "body": "<p>I'm seeing the following error in a python selenium automated test when running in chrome. The failure is with closing the window, on <code>driver.close()</code>. The test is passing without error when I run in Firefox.</p>\n\n<p>I'm using <em>ChromeDriver 2.10.267517.</em></p>\n\n<blockquote>\n  <p>WebDriverException: Message: unknown error: DevTools returned unknown >type:service_worker</p>\n</blockquote>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4922028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749b3f50ad435f979a9288eeb68bf5cb?s=128&d=identicon&r=PG&f=1", "display_name": "People Counter PBL", "link": "https://stackoverflow.com/users/4922028/people-counter-pbl"}, "edited": false, "score": 0, "creation_date": 1432154510, "post_id": 30359680, "comment_id": 48811656, "body": "well that really didn&#39;t do much: adding the except statment just brought a syntax error on that line that says inconsistent use of tabs and indentations:         <code>try:                values  = [datetime.datetime.now(), newState]                with open(&quot;test.txt&quot;, &quot;a&quot;) as text_file:                    text_file.write(values)         except: \t    print: &quot;cannot open file&quot; time.sleep(1.5)</code>"}, {"owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "reply_to_user": {"reputation": 1, "user_id": 4922028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749b3f50ad435f979a9288eeb68bf5cb?s=128&d=identicon&r=PG&f=1", "display_name": "People Counter PBL", "link": "https://stackoverflow.com/users/4922028/people-counter-pbl"}, "edited": false, "score": 0, "creation_date": 1432154816, "post_id": 30359680, "comment_id": 48811816, "body": "Remove all tabs and spaces before the lines and indent it so it looks identical as above, it is due mixture of tabs vs ordinary spaces for indentation."}, {"owner": {"reputation": 1, "user_id": 4922028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749b3f50ad435f979a9288eeb68bf5cb?s=128&d=identicon&r=PG&f=1", "display_name": "People Counter PBL", "link": "https://stackoverflow.com/users/4922028/people-counter-pbl"}, "edited": false, "score": 0, "creation_date": 1432749958, "post_id": 30359680, "comment_id": 49058038, "body": "this code will work now, as in you get all the appropiate responses`try:             values = &quot;[datetime.datetime.now(), new_state]&quot;             with open(&quot;test.txt&quot;, &quot;a&quot;) as text_file:                 text_file.write(values), the only problem It would only write [datetime.datetime.now(), new_state] so not import from datetime is happening...any ideas?"}], "tags": [], "owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1432153391, "creation_date": 1432153391, "answer_id": 30359680, "question_id": 30359558, "link": "https://stackoverflow.com/questions/30359558/python-write-gpio-values/30359680#30359680", "title": "Python write GPIO values", "body": "<p>You must always follow the try statement with an except or finally statement, but you mentioned that you also got the error with the try statement? Did that also include the : after print (it shouldn't)? This should work:</p>\n\n<pre><code>            try:\n                values  = [datetime.datetime.now(), newState]\n                with open(\"test.txt\", \"a\") as text_file:\n                    text_file.write(values)\n            except: \n                print: \"cannot open file\" \n</code></pre>\n\n<p>Notice that I also removed the quotes around values in text_file.write(values).</p>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 0, "last_activity_date": 1432155539, "creation_date": 1432155539, "answer_id": 30360262, "question_id": 30359558, "link": "https://stackoverflow.com/questions/30359558/python-write-gpio-values/30360262#30360262", "title": "Python write GPIO values", "body": "<p>You have indentation issues.  It looks like you started allowing Idle to tab - 8 for indentation then switched to 4.  You need to unindent and re-indent everything.</p>\n\n<p>The way you are handling your file, you will overwrite it every time through.  You will end up with only one entry in the file.  Try opening the file before your main loop:</p>\n\n<pre><code>import time\nimport datetime\nimport RPi.GPIO as GPIO\n\nsensor = 4\n\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(sensor, GPIO.IN, GPIO.PUD_DOWN)\n\nprevstate = False\ncurrState = False\n\nwith open(\"test.txt\", \"a\") as text_file:  \n    while True:\n        time.sleep(0.1)\n        prevState = currState\n        currState = GPIO.input(sensor)\n        if currState != prevState:\n            newState = \"1\" if currState else \"0\"\n            print(\"GPIO pin %s is %s\" % (sensor, newState))\n\n            try:\n                values  = [datetime.datetime.now(), newState]\n                text_file.write(\"values\")\n            except: \n                print \"cannot open file\" \n</code></pre>\n\n<p>get rid of the colon \":\" after print, and that sleep after your main loop was not doing anything.</p>\n"}], "owner": {"reputation": 1, "user_id": 4922028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749b3f50ad435f979a9288eeb68bf5cb?s=128&d=identicon&r=PG&f=1", "display_name": "People Counter PBL", "link": "https://stackoverflow.com/users/4922028/people-counter-pbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432311950, "creation_date": 1432152974, "last_edit_date": 1432153019, "question_id": 30359558, "link": "https://stackoverflow.com/questions/30359558/python-write-gpio-values", "title": "Python write GPIO values", "body": "<p>I am a complete noob using a Raspberry Pi trying to make a program that would track instances of movement with a PIR sensor set on GPIO 4, now the program works without any issues until I try to export the data, long story short, I try gspread, and ubidots and both won't work, even just with a test file. So my next attempt is a simple txt file that will capture time and date, and would write a 1.</p>\n\n<p>this is what I have:</p>\n\n<pre><code>import time\nimport datetime\nimport RPi.GPIO as GPIO\n\nsensor = 4\n\n\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(sensor, GPIO.IN, GPIO.PUD_DOWN)\n\nprevstate = False\ncurrState = False\n\nwhile True:\n        time.sleep(0.1)\n        prevState = currState\n        currState = GPIO.input(sensor)\n        if currState != prevState:\n                newState = \"1\" if currState else \"0\"\n                print(\"GPIO pin %s is %s\" % (sensor, newState))\n\n                try:\n                    values  = [datetime.datetime.now(), newState]\n                    with open(\"test.txt\", \"a\") as text_file:\n                        text_file.write(\"values\")\n\ntime.sleep(1.5)\n</code></pre>\n\n<p>So i don't really don't now why but everything works until I hit the value section, and then I get a unindent error, if I remove from try down i get nothing</p>\n\n<p>I did had before:</p>\n\n<pre><code>except: \n    print: \"cannot open file\" \n</code></pre>\n\n<p>but that really wasn't any issue there. the unindent still comes up.</p>\n"}, {"tags": ["python", "mysql", "regex", "django", "performance"], "answers": [{"comments": [{"owner": {"reputation": 2973, "user_id": 869809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f2wPs.jpg?s=128&g=1", "display_name": "Ray Kiddy", "link": "https://stackoverflow.com/users/869809/ray-kiddy"}, "edited": false, "score": 0, "creation_date": 1432159647, "post_id": 30359572, "comment_id": 48814059, "body": "Query OK, 199425 rows affected (13 min 53.12 sec) Rows matched: 19898385  Changed: 199425  Warnings: 0"}], "tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1432153016, "creation_date": 1432153016, "answer_id": 30359572, "question_id": 30359495, "link": "https://stackoverflow.com/questions/30359495/combine-strings-from-mysql-tables-without-extra-spaces/30359572#30359572", "title": "combine strings from mysql tables without extra spaces", "body": "<p>In MySQL, I think you are looking for <code>concat_ws()</code>:</p>\n\n<pre><code>concat_ws(' ', nullif(namt, ''), nullif(namf, ''), nullif(naml, ''), nullif(nams, ''))\n</code></pre>\n\n<p>The <code>nullif()</code> turns the value to <code>NULL</code> if it is blank.  <code>concat_ws()</code> ignores <code>NULL</code> values, so you won't get duplicated spaces.</p>\n"}], "owner": {"reputation": 2973, "user_id": 869809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f2wPs.jpg?s=128&g=1", "display_name": "Ray Kiddy", "link": "https://stackoverflow.com/users/869809/ray-kiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 30359572, "answer_count": 1, "score": 0, "last_activity_date": 1432153016, "creation_date": 1432152772, "question_id": 30359495, "link": "https://stackoverflow.com/questions/30359495/combine-strings-from-mysql-tables-without-extra-spaces", "title": "combine strings from mysql tables without extra spaces", "body": "<p>I have been working on this django app. We pull a big set of tables from a California state agency, process the data and re-publish it. I have been trying to do something simple but the simple implementation is really slow and I may be thinking myself into a hole. Here is a bit of one of the tables. There are a lot of tables like this.</p>\n\n<pre><code>mysql&gt; desc EXPN_CD;\n+------------+---------------+------+-----+---------+-------+\n| Field      | Type          | Null | Key | Default | Extra |\n+------------+---------------+------+-----+---------+-------+\n| AGENT_NAMF | varchar(45)   | NO   |     | NULL    |       |\n| AGENT_NAML | varchar(200)  | NO   |     | NULL    |       |\n| AGENT_NAMS | varchar(10)   | NO   |     | NULL    |       |\n| AGENT_NAMT | varchar(10)   | NO   |     | NULL    |       |\n| AMEND_ID   | int(11)       | NO   | MUL | NULL    |       |\n| AMOUNT     | decimal(14,2) | NO   |     | NULL    |       |\n| BAKREF_TID | varchar(20)   | NO   |     | NULL    |       |\n| BAL_JURIS  | varchar(40)   | NO   |     | NULL    |       |\n| BAL_NAME   | varchar(200)  | NO   |     | NULL    |       |\n| BAL_NUM    | varchar(7)    | NO   |     | NULL    |       |\n| CAND_NAMF  | varchar(45)   | NO   |     | NULL    |       |\n| CAND_NAML  | varchar(200)  | NO   |     | NULL    |       |\n| CAND_NAMS  | varchar(10)   | NO   |     | NULL    |       |\n| CAND_NAMT  | varchar(10)   | NO   |     | NULL    |       |\n| CMTE_ID    | varchar(9)    | NO   |     | NULL    |       |\n| CUM_OTH    | decimal(14,2) | YES  |     | NULL    |       |\n| CUM_YTD    | decimal(14,2) | YES  |     | NULL    |       |\n| DIST_NO    | varchar(3)    | NO   |     | NULL    |       |\n| ENTITY_CD  | varchar(3)    | NO   |     | NULL    |       |\n| EXPN_CHKNO | varchar(20)   | NO   |     | NULL    |       |\n| EXPN_CODE  | varchar(3)    | NO   |     | NULL    |       |\n| EXPN_DATE  | date          | YES  |     | NULL    |       |\n| EXPN_DSCR  | varchar(400)  | NO   |     | NULL    |       |\n| FILING_ID  | int(11)       | NO   | MUL | NULL    |       |\n...\n</code></pre>\n\n<p>I am going through all of these tables. I pull out each name, the \"CAND\" (candidate), \"AGENT\", and so on, and put each reference into a row:</p>\n\n<pre><code>mysql&gt; desc calaccess_campaign_browser_name;\n+-------------+---------------+------+-----+---------+----------------+\n| Field       | Type          | Null | Key | Default | Extra          |\n+-------------+---------------+------+-----+---------+----------------+\n| id          | int(11)       | NO   | PRI | NULL    | auto_increment |\n| ext_pk      | int(11)       | NO   | MUL | NULL    |                |\n| ext_table   | varchar(255)  | NO   |     | NULL    |                |\n| ext_prefix  | varchar(255)  | NO   |     | NULL    |                |\n| naml        | varchar(255)  | YES  |     | NULL    |                |\n| namf        | varchar(255)  | YES  |     | NULL    |                |\n| nams        | varchar(255)  | YES  |     | NULL    |                |\n| namt        | varchar(255)  | YES  |     | NULL    |                |\n| name        | varchar(1023) | YES  |     | NULL    |                |\n+-------------+---------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>The values are never null but many, sometimes the vast majority, are empty strings.</p>\n\n<p>I am building the name column. The obvious way to do this is:</p>\n\n<p>concat(namt, ' ', namf, ' ', naml, ' ', nams)</p>\n\n<p>But when 2 or 3 of those are blank that gives me a lot of double-spaces and space padding at the beginning or end of the string.</p>\n\n<p>Things I have done:</p>\n\n<p>1) use python regex's to find and remove the extra spaces. This works if I have a month or so for it to run.</p>\n\n<p>2) put the name together as above and use SQL to find and replace the extra spaces. Again, takes a really long time.</p>\n\n<p>One of the problems is that the MySQL library for python has a cursor especially set up for dealing with large result sets. There is nothing similar for large query operations. Or perhaps I am looking at this wrong.</p>\n\n<pre><code>% pip freeze\n...\nMySQL-python==1.2.5c\n...\n</code></pre>\n\n<p>3) Pull the names out into a tab-separated text file and do the fixing there, and then load the file into to the new table. Blech. Lots of dumb scripting. Use sed or awk? What?</p>\n\n<p>4) I can do the concat() operations in 15 different queries and I do the proper concat for each so that I do not have extra spaces in the name. I have:</p>\n\n<ol>\n<li>namt = null and namf = null and naml = null and nams != null (case 0001)</li>\n<li>namt = null and namf = null and naml != null and nams = null (case 0010)</li>\n<li>namt = null and namf = null and naml != null and nams != null (case 0011)</li>\n<li>etc, etc.</li>\n</ol>\n\n<p>This is actually what I went with. It takes less than a day to run. Woohoo!</p>\n\n<p>But I am doing similar things for other reasons too and how the heck many times do I want to write this kind of code? Ick!</p>\n\n<p>There must be a smarter way to do this that I am not seeing. I am doing this in about 2 dozen tables, with 2 - 5 names in each table, with sometimes around 15,000 rows and sometimes 20,000,000 rows. Most tables are in the 300,000 to 750,000 range. And, jeez, am I tired....</p>\n"}, {"tags": ["python", "json", "pandas", "ipython", "ipython-notebook"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 4896200, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yB0mC.png?s=128&g=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/4896200/marcus"}, "edited": false, "score": 0, "creation_date": 1432218434, "post_id": 30359849, "comment_id": 48842788, "body": "Hi this works quite well after further testing but could you help me with one thing. For example the facebookDteails column now contains: &quot;{         &quot;accessToken&quot;: &quot;123&quot;,         &quot;facebookId&quot;: &quot;123&quot;     }&quot;    Is there any way to get accessToken and facebookId in their own column?"}], "tags": [], "owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "is_accepted": false, "score": 1, "last_activity_date": 1432153991, "creation_date": 1432153991, "answer_id": 30359849, "question_id": 30359480, "link": "https://stackoverflow.com/questions/30359480/nested-json-with-pandas/30359849#30359849", "title": "Nested JSON with Pandas", "body": "<p>Here's a way:</p>\n\n<pre><code>import pandas as pd\nimport json\n\ndata = json.dumps([{\n\"_id\": 11,\n\"claimToFame\": \"Send me some tunes...or your GitHub!\",\n\"commentCount\": 230,\n\"coverImage\": \"img.jpg\",\n\"currentLanguage\": \"en-GB\",\n\"dateOfBirth\": \"07/29/1982\",\n\"email\": \"l@gmail.com\",\n\"facebookDetails\":    {\n        \"accessToken\": \"123\",\n        \"facebookId\": \"123\"\n    }\n,\n\"facebookId\": 1,\n\"firstName\": \"David\",\n\"followerCount\": 422403,\n\"following\": False,\n\"followingCount\": 253,\n\"googleDetails\": \n    {\n        \"googleId\": \"111411986454983058357\",\n        \"accessToken\": \"123\"\n    }\n}], separators=(',',':'))\n\npd.read_json(data)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 5784956, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2edfb655831f5996138372784f45239?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Michael Engh", "link": "https://stackoverflow.com/users/5784956/matthias-michael-engh"}, "is_accepted": false, "score": 0, "last_activity_date": 1472721611, "last_edit_date": 1472721611, "creation_date": 1472652311, "answer_id": 39251852, "question_id": 30359480, "link": "https://stackoverflow.com/questions/30359480/nested-json-with-pandas/39251852#39251852", "title": "Nested JSON with Pandas", "body": "<p>With your data in a file object <code>FILEOBJECT</code>, load the data into a python structure using the json module</p>\n\n<pre><code>import json\njsondata = json.load(FILEOBJECT)\n</code></pre>\n\n<p>you can then create the dataframe by using the json_normalize function</p>\n\n<pre><code>import pandas as pd\nusable_dataframe = pd.io.json.json_normalize(jsondata)\n</code></pre>\n\n<p>which in your case will result in a dataframe of these columns:</p>\n\n<p>[_id, claimToFame, commentCount, coverImage, currentLanguage, dateOfBirth, email, facebookDetails.accessToken, facebookDetails.facebookId, facebookId, firstName, followerCount, following, followingCount, googleDetails.accessToken, googleDetails.googleId]</p>\n"}], "owner": {"reputation": 95, "user_id": 4896200, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yB0mC.png?s=128&g=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/4896200/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1472721611, "creation_date": 1432152714, "last_edit_date": 1461890469, "question_id": 30359480, "link": "https://stackoverflow.com/questions/30359480/nested-json-with-pandas", "title": "Nested JSON with Pandas", "body": "<p>I am trying to create a data frame from the JSON file below. I have been using <code>d1 = pd.read_json('user.json')</code>, but this isn't creating columns for the nested values <code>accessToken,facebookId</code> etc.</p>\n\n<p>Is there an easy way of telling pandas to deal with these nested values?</p>\n\n<p>This question has been asked elsewhere but I require the nested values to be input as columns in the larger dataframe.</p>\n\n<pre><code>{\n\"_id\": 11,\n\"claimToFame\": \"Send me some tunes...or your GitHub!\",\n\"commentCount\": 230,\n\"coverImage\": \"img.jpg\",\n\"currentLanguage\": \"en-GB\",\n\"dateOfBirth\": \"07/29/1982\",\n\"email\": \"l@gmail.com\",\n\"facebookDetails\":    {\n        \"accessToken\": \"123\",\n        \"facebookId\": \"123\"\n    }\n,\n\"facebookId\": 1,\n\"firstName\": \"David\",\n\"followerCount\": 422403,\n\"following\": false,\n\"followingCount\": 253,\n\"googleDetails\": \n    {\n        \"googleId\": \"111411986454983058357\",\n        \"accessToken\": \"123\"\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-requests"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1432152865, "post_id": 30359472, "comment_id": 48810708, "body": "The <i>remote</i> server is refusing connections. Perhaps you are being rate limited?"}, {"owner": {"reputation": 2258, "user_id": 3083243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c1aecb5bbac7b1c92bdb9c1e87f66886?s=128&d=identicon&r=PG&f=1", "display_name": "devautor", "link": "https://stackoverflow.com/users/3083243/devautor"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432157331, "post_id": 30359472, "comment_id": 48813139, "body": "Thanks @MartijnPieters. I can understand this part, but not the inherent design/logic of these rate and session things! That is, why is rate limitation not happening every time?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432157458, "post_id": 30359472, "comment_id": 48813212, "body": "I have no idea, that depends on what kind of rate limiting system is in place."}, {"owner": {"reputation": 2258, "user_id": 3083243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c1aecb5bbac7b1c92bdb9c1e87f66886?s=128&d=identicon&r=PG&f=1", "display_name": "devautor", "link": "https://stackoverflow.com/users/3083243/devautor"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432157694, "post_id": 30359472, "comment_id": 48813310, "body": "Oh, but thanks anyways. So where should I be looking to learn more then?"}], "owner": {"reputation": 2258, "user_id": 3083243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c1aecb5bbac7b1c92bdb9c1e87f66886?s=128&d=identicon&r=PG&f=1", "display_name": "devautor", "link": "https://stackoverflow.com/users/3083243/devautor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432152696, "creation_date": 1432152696, "question_id": 30359472, "link": "https://stackoverflow.com/questions/30359472/reason-for-uncertainty-in-python-requests-connectionerror-10061", "title": "Reason for uncertainty in python-requests ConnectionError [10061]", "body": "<p>I am using requests and BeautifulSoup to download the higher resolution images by iterating through the links parsed from their thumbnails using BeautifulSoup on a web page.<br> \n<strong>Making multiple connections with the requests module in python [2.7] on my system could run smoothly sometimes and it could also get aborted midway on the very next run, with the following error:</strong></p>\n\n<pre><code>File \"G:\\imgDownloader.py\", line 69, in imageSearch\n    dwdPage = requests.get(dwdLink)\n  File \"C:\\Python27\\lib\\site-packages\\requests\\api.py\", line 69, in get\n    return request('get', url, params=params, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\requests\\api.py\", line 50, in request\n    response = session.request(method=method, url=url, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\requests\\sessions.py\", line 465, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\requests\\sessions.py\", line 573, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\requests\\adapters.py\", line 415, in send\n    raise ConnectionError(err, request=request)\nConnectionError: ('Connection aborted.', error(10061, 'No connection could be made because the target machine actively refused it'))\n</code></pre>\n\n<p><em>My system is connected to the Internet through college LAN (via Proxifier) (I don't know if this is important, so pardon me)</em>. </p>\n\n<p><strong>If use of session is required, then why is not there a certainity in execution/abortion behavior?</strong></p>\n"}, {"tags": ["python", "list", "numpy"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1432153709, "post_id": 30359291, "comment_id": 48811177, "body": "@KronoS: numpy <i>can</i> be a factor and can actually be a huge help here."}, {"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432163377, "post_id": 30359291, "comment_id": 48815256, "body": "@MartijnPieters ah you mean that the solution would include the use of <code>numpy</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432152900, "post_id": 30359395, "comment_id": 48810725, "body": "much cleaner use of numpy than what i had... this is a very clean way to do it with numpy."}, {"owner": {"reputation": 1686, "user_id": 1566200, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5123ca9217a405695f6cb56e4645d84f?s=128&d=identicon&r=PG", "display_name": "user1566200", "link": "https://stackoverflow.com/users/1566200/user1566200"}, "edited": false, "score": 0, "creation_date": 1432169818, "post_id": 30359395, "comment_id": 48816991, "body": "Thank you, this is perfect."}], "tags": [], "owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "is_accepted": true, "score": 4, "last_activity_date": 1432152457, "creation_date": 1432152457, "answer_id": 30359395, "question_id": 30359291, "link": "https://stackoverflow.com/questions/30359291/simple-python-code-for-writing-data-to-separate-files-based-on-condition/30359395#30359395", "title": "Simple python code for writing data to separate files based on condition?", "body": "<p>If I understand you correctly you can get the datasets you want like this:</p>\n\n<pre><code>import numpy\ndata = numpy.array([23, 45, 23, 55, 66, 77])\npattern = numpy.array([1, 2, 1, 1, 2, 2])\n\nset1 = data[pattern == 1]\nset2 = data[pattern == 2]\n</code></pre>\n\n<p>Then you just need to save them like you did before.</p>\n"}, {"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 2, "last_activity_date": 1432152922, "last_edit_date": 1432152922, "creation_date": 1432152523, "answer_id": 30359410, "question_id": 30359291, "link": "https://stackoverflow.com/questions/30359291/simple-python-code-for-writing-data-to-separate-files-based-on-condition/30359410#30359410", "title": "Simple python code for writing data to separate files based on condition?", "body": "<p>You simply create 2 files as <code>1.txt</code> and <code>2.txt</code> then we use <code>zip()</code> method which zips the two lists and returns a new nested list, and the each element of nested list contains an element form list a and the other from list b.</p>\n\n<p>Then we simply iterate over this new list and check the required conditions and write the data to the relevant file.</p>\n\n<pre><code>a  = [23, 45, 23, 55, 66, 77]\n\nb = [1, 2, 1, 1, 2, 2]\n\nwith open(\"1.txt\", \"w\") as one , open(\"2.txt\", \"w\") as two:\n    for data in zip(b, a):\n        if data[0] == 1:\n            one.write(str(data[1])+\"\\t\")\n        else:\n            two.write(str(data[1])+\"\\t\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432152973, "post_id": 30359547, "comment_id": 48810756, "body": "For numpy, there are better options though."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432153630, "post_id": 30359547, "comment_id": 48811136, "body": "For small lists, the overhead of creating <code>numpy</code> arrays isn&#39;t time efficient.  And in this case it isn&#39;t clear whether the OP has <code>numpy</code> available."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432153690, "post_id": 30359547, "comment_id": 48811169, "body": "The question was initially tagged with <code>numpy</code>; I rolled back the edit that removed it."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1432154531, "last_edit_date": 1432154531, "creation_date": 1432152937, "answer_id": 30359547, "question_id": 30359291, "link": "https://stackoverflow.com/questions/30359291/simple-python-code-for-writing-data-to-separate-files-based-on-condition/30359547#30359547", "title": "Simple python code for writing data to separate files based on condition?", "body": "<p>The other answers are good, but it is worth while knowning that a list comprehsion takes a conditional clause:</p>\n\n<pre><code>[\"{}\".format(a) for a,m in zip(data,mask) if m==1]\n</code></pre>\n\n<p>and of course a similar expression with <code>m==2</code>.</p>\n\n<hr>\n\n<p>Out of curiousity I timed some alternatives:</p>\n\n<pre><code>In [188]: data=np.arange(1000)\nIn [189]: mask=(data%2)==1\n</code></pre>\n\n<p>Time to format the whole array this way.  This respects the OP's choice of <code>.format</code>:</p>\n\n<pre><code>In [190]: timeit ' '.join([\"{}\".format(a) for a in data])\n1000 loops, best of 3: 1.02 ms per loop\n</code></pre>\n\n<p>Apply the boolean mask, and then format.  Applying the mask is fast, so this 2x speed is a consequence of having half the values to format:</p>\n\n<pre><code>In [191]: timeit ' '.join([\"{}\".format(a) for a in data[mask]])\n1000 loops, best of 3: 527 \u00b5s per loop\n</code></pre>\n\n<p>Apply the mask via the comprehension.  Not as good as <code>data[mask]</code>, but still not bad:</p>\n\n<pre><code>In [192]: timeit ' '.join([\"{}\".format(a) for a,m in zip(data,mask) if m])\n1000 loops, best of 3: 742 \u00b5s per loop\n</code></pre>\n\n<p>Curiously using the 'native' format is slower.  Maybe that has to do with breaking the string into lines:</p>\n\n<pre><code>In [193]: timeit str(data[mask])\n100 loops, best of 3: 5.91 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 1686, "user_id": 1566200, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5123ca9217a405695f6cb56e4645d84f?s=128&d=identicon&r=PG", "display_name": "user1566200", "link": "https://stackoverflow.com/users/1566200/user1566200"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 30359395, "answer_count": 3, "score": -1, "last_activity_date": 1432154531, "creation_date": 1432152052, "last_edit_date": 1432153672, "question_id": 30359291, "link": "https://stackoverflow.com/questions/30359291/simple-python-code-for-writing-data-to-separate-files-based-on-condition", "title": "Simple python code for writing data to separate files based on condition?", "body": "<p>I have a data set that looks something like</p>\n\n<pre><code>[23, 45, 23, 55, 66, 77]\n</code></pre>\n\n<p>I am writing the data to a file using this method (I know there's better ways to write this type of data to a file, but I am using the .format method for specific reasons later on):</p>\n\n<pre><code>mydata.write(' '.join([\"{}\".format(a) for a in data]) + '\\n')\n</code></pre>\n\n<p>Now, I have a different data set with the same number of elements as 'data':</p>\n\n<pre><code>[1, 2, 1, 1, 2, 2]\n</code></pre>\n\n<p>I am wanting to, in the most simple code possible, write all data that corresponds to the '1's in one file, and all the data that corresponds to the '2's in another file. </p>\n"}, {"tags": ["python", "list", "nested-lists"], "comments": [{"owner": {"reputation": 175, "user_id": 4122532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lfFT7.jpg?s=128&g=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/4122532/eric-hansen"}, "edited": false, "score": 0, "creation_date": 1432152406, "post_id": 30359290, "comment_id": 48810471, "body": "For input there is a csv file which is being read into a multidimensional array. Also, on input the client will give me instructions on how to reorder the data. There are some cleanup changes being made to some of the data. After the cleanup,  I want to reorder the data and print the results."}], "answers": [{"comments": [{"owner": {"reputation": 672, "user_id": 2848281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyg0K.jpg?s=128&g=1", "display_name": "Pete Cacioppi", "link": "https://stackoverflow.com/users/2848281/pete-cacioppi"}, "edited": false, "score": 0, "creation_date": 1432152781, "post_id": 30359408, "comment_id": 48810662, "body": "yes, same as mine, but i think a dedicated function is more clear for something like this"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 672, "user_id": 2848281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyg0K.jpg?s=128&g=1", "display_name": "Pete Cacioppi", "link": "https://stackoverflow.com/users/2848281/pete-cacioppi"}, "edited": false, "score": 0, "creation_date": 1432152919, "post_id": 30359408, "comment_id": 48810737, "body": "@Pete ... <code>map</code> is a bit tedious here. I will add a few points as to why I chose a lisco over <code>map</code>. Dedicated funcs can be left to the OP. This is because he needs this as a plug-in. So we may as well wait for the OP to clarify"}, {"owner": {"reputation": 672, "user_id": 2848281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyg0K.jpg?s=128&g=1", "display_name": "Pete Cacioppi", "link": "https://stackoverflow.com/users/2848281/pete-cacioppi"}, "edited": false, "score": 0, "creation_date": 1432153125, "post_id": 30359408, "comment_id": 48810842, "body": "I think in terms of maps and lambdas. I guess not everyone else does (sigh)"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 672, "user_id": 2848281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyg0K.jpg?s=128&g=1", "display_name": "Pete Cacioppi", "link": "https://stackoverflow.com/users/2848281/pete-cacioppi"}, "edited": false, "score": 0, "creation_date": 1432153226, "post_id": 30359408, "comment_id": 48810894, "body": "@Pete Do avoid a <code>lambda</code> whenever possible."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432154489, "post_id": 30359408, "comment_id": 48811645, "body": "@BhargavRao You forgot to put a function name."}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432154531, "post_id": 30359408, "comment_id": 48811668, "body": "@MalikBrahimi Thanks. Changed"}], "tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 3, "last_activity_date": 1432154518, "last_edit_date": 1495541710, "creation_date": 1432152512, "answer_id": 30359408, "question_id": 30359290, "link": "https://stackoverflow.com/questions/30359290/how-to-order-a-multidimensional-list-using-another-list/30359408#30359408", "title": "How to Order a multidimensional List using another list", "body": "<p>You can try a simple nested comprehension</p>\n\n<pre><code>&gt;&gt;&gt; l = [['a', 'b', 'c', 'd'], [1, 2, 3, 4]]\n&gt;&gt;&gt; s = [1, 3, 0, 2]\n&gt;&gt;&gt; [[j[i] for i in s] for j in l]\n[['b', 'd', 'a', 'c'], [2, 4, 1, 3]]\n</code></pre>\n\n<p>If you need this as a function you can have a very simple function as in</p>\n\n<pre><code>def reorder(need_to_reorder,sorting_array)\n    return [[j[i] for i in sorting_array] for j in need_to_reorder]\n</code></pre>\n\n<hr>\n\n<p>Do note that this can be solved using <code>map</code> function also. However in this case, a list comp is preferred as the <code>map</code> variant would require a <code>lambda</code> function. The difference between <code>map</code> and a list-comp is discussed in full length in this <a href=\"https://stackoverflow.com/q/1247486/4099593\">answer</a></p>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1432153320, "post_id": 30359447, "comment_id": 48810948, "body": "I would have upvoted this answer if it wasn&#39;t a code block. It is a good answer, no doubt, but it needs some statements around it to."}, {"owner": {"reputation": 175, "user_id": 4122532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lfFT7.jpg?s=128&g=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/4122532/eric-hansen"}, "edited": false, "score": 0, "creation_date": 1432156741, "post_id": 30359447, "comment_id": 48812860, "body": "I would but don&#39;t have enough karma or whatever to do it."}], "tags": [], "owner": {"reputation": 672, "user_id": 2848281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyg0K.jpg?s=128&g=1", "display_name": "Pete Cacioppi", "link": "https://stackoverflow.com/users/2848281/pete-cacioppi"}, "is_accepted": false, "score": 0, "last_activity_date": 1432152637, "creation_date": 1432152637, "answer_id": 30359447, "question_id": 30359290, "link": "https://stackoverflow.com/questions/30359290/how-to-order-a-multidimensional-list-using-another-list/30359447#30359447", "title": "How to Order a multidimensional List using another list", "body": "<pre><code>def order_with_sort_array(arr, sort_arr):\n    assert len(arr) == len(sort_arr)\n    return [arr[i] for i in sort_arr]\n\nsorting_array = [1, 3, 0, 2]\nneed_to_reorder = [['a', 'b', 'c', 'd'], [1, 2, 3, 4]]\n\nafter_reordered =  map(lambda arr : order_with_sort_array(arr, sorting_array), \n                      need_to_reorder)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8316, "user_id": 4759209, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff821860933d0565fe62aed9fe2132f7?s=128&d=identicon&r=PG&f=1", "display_name": "farhawa", "link": "https://stackoverflow.com/users/4759209/farhawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1432152824, "creation_date": 1432152824, "answer_id": 30359509, "question_id": 30359290, "link": "https://stackoverflow.com/questions/30359290/how-to-order-a-multidimensional-list-using-another-list/30359509#30359509", "title": "How to Order a multidimensional List using another list", "body": "<p>This should work</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nntr = np.array([['a', 'b', 'c', 'd'], [1, 2, 3, 4]])\nsa = np.array([1, 3, 0, 2])\nprint np.array( [ntr[0,] , np.array([ntr[1,][sa[i]] for i in range(sa.shape[0])])] )\n&gt;&gt; [['a' 'b' 'c' 'd'],['2' '4' '1' '3']]\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4122532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lfFT7.jpg?s=128&g=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/4122532/eric-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 30359408, "answer_count": 3, "score": 1, "last_activity_date": 1448824091, "creation_date": 1432152038, "last_edit_date": 1448824091, "question_id": 30359290, "link": "https://stackoverflow.com/questions/30359290/how-to-order-a-multidimensional-list-using-another-list", "title": "How to Order a multidimensional List using another list", "body": "<p>Quick Summary:</p>\n\n<pre><code>need_to_reorder = [['a', 'b', 'c', 'd'], [1, 2, 3, 4]]\n</code></pre>\n\n<p>I want to set an order for the <strong>need_to_reorder[0][x]</strong> <strong><em>x</em></strong> values using my sorting array</p>\n\n<pre><code>sorting_array = [1, 3, 0, 2]\n</code></pre>\n\n<p>Required result: <strong>need_to_reorder</strong> will equal</p>\n\n<pre><code>[['b', 'd', 'a', 'c'], [2, 4, 1, 3]] \n</code></pre>\n\n<p>Searching for the answer, I tried using <strong>numPy</strong>:</p>\n\n<pre><code>import numpy as np\nsorting_array = [1, 3, 0, 2]\ni = np.array(sorting_array)\nprint i  ## Results: [1 3 0 2] &lt;-- No Commas?\nneed_to_reorder[:,i]\n</code></pre>\n\n<p>RESULTS: </p>\n\n<pre><code>TypeError: list indicies must be integers, not tuple\n</code></pre>\n\n<p>I'm looking for a correction to the code above or an entirely different approach. </p>\n"}, {"tags": ["python", "c++", "sentinel"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1432152039, "post_id": 30359255, "comment_id": 48810269, "body": "There does not appear to be any risk."}, {"owner": {"reputation": 1198, "user_id": 581330, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72309ce8ef24824ea947eaf58dc5ed24?s=128&d=identicon&r=PG", "display_name": "RomanK", "link": "https://stackoverflow.com/users/581330/romank"}, "edited": false, "score": 0, "creation_date": 1432152891, "post_id": 30359255, "comment_id": 48810722, "body": "According to this post, there is no risk: <a href=\"http://stackoverflow.com/questions/1069621/are-members-of-a-c-struct-initialized-to-0-by-default\" title=\"are members of a c struct initialized to 0 by default\">stackoverflow.com/questions/1069621/&hellip;</a>  Everything gets initialised to zero by default."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1432153878, "post_id": 30359255, "comment_id": 48811303, "body": "<a href=\"http://stackoverflow.com/users/333698/psmears\">psmears</a> made a very interesting point about there not being a problem even if such code is compiled under C."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 2, "last_activity_date": 1432155096, "creation_date": 1432155096, "answer_id": 30360146, "question_id": 30359255, "link": "https://stackoverflow.com/questions/30359255/python-sentinel-in-c-extension/30360146#30360146", "title": "Python sentinel in C++ extension", "body": "<p>A pod class initialized with <code>{}</code> has fields not explicitly set zeroed.</p>\n\n<p>If <code>PyMethodDef</code> is pod (plain old data), as I suspect, <code>{NULL, NULL, 0, NULL}</code> will generate the same data as <code>{}</code>.</p>\n\n<p>This is true in both C and C++.</p>\n\n<p>If the class <code>PyMethodDef</code> was a non-pod class in C++11, <code>{NULL, NULL, 0, NULL}</code> could do something different than <code>{}</code>, but I strongly doubt that is the case here.</p>\n\n<p>The only concern I would have is if the library changed on me to make <code>PyMethodDef</code> a non-pod, and chose to make <code>{}</code> not zero the data at the same time.  I would find that unlikely.</p>\n"}], "owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 30360146, "answer_count": 1, "score": 1, "last_activity_date": 1432155096, "creation_date": 1432151902, "question_id": 30359255, "link": "https://stackoverflow.com/questions/30359255/python-sentinel-in-c-extension", "title": "Python sentinel in C++ extension", "body": "<p>I'm working on a Python extension module written in C++.</p>\n\n<p>According to the Python <a href=\"https://docs.python.org/3/extending/extending.html\" rel=\"nofollow\">documentation</a> the module method table should be written like this:</p>\n\n<pre><code>static PyMethodDef SpamMethods[] = {\n    ...\n    {\"system\",  spam_system, METH_VARARGS,\n    \"Execute a shell command.\"},\n    ...\n    {NULL, NULL, 0, NULL}        /* Sentinel */\n};\n</code></pre>\n\n<p>But I see that some developers write the sentinel like this:</p>\n\n<pre><code>static PyMethodDef SpamMethods[] = {\n    ...\n    {\"system\",  spam_system, METH_VARARGS,\n    \"Execute a shell command.\"},\n    ...\n    {}                          /* Sentinel */\n};\n</code></pre>\n\n<p>My question is the following is there a risk to use the shortened version?</p>\n"}, {"tags": ["python", "cython"], "answers": [{"comments": [{"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1432153329, "post_id": 30359391, "comment_id": 48810954, "body": "How is it possible to set <code>inplace</code> <i>not</i> from command-line, but directly inside <code>setup.py</code>&#39;s content?  Can I put <code>inplace</code> as a parameter in <code>setup(ext_modules = cythonize(&quot;myfile.pyx&quot;))</code> ? Same question about <code>clean</code> : is it possible to trigger <code>clean</code> from Python code?"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1432153358, "post_id": 30359391, "comment_id": 48810971, "body": "In a shorter way: I&#39;d like that simple <code>python setup.py</code> does inplace + clean  automatically."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1432153716, "post_id": 30359391, "comment_id": 48811180, "body": "Ok. Something else. Any idea why I get: <code>error: option --inplace not recognized</code> when doing <code>python setup.py build --inplace</code>"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1432153902, "post_id": 30359391, "comment_id": 48811316, "body": "Last thing: about deleting the temporary <code>.c</code> file, I have to remove it myself, right?"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1432154305, "post_id": 30359391, "comment_id": 48811551, "body": "Looks like. Just add the deletion to your <code>make</code> file."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 10, "last_activity_date": 1432152443, "creation_date": 1432152443, "answer_id": 30359391, "question_id": 30359216, "link": "https://stackoverflow.com/questions/30359216/compile-a-cython-project-and-clean/30359391#30359391", "title": "Compile a Cython project and clean", "body": "<p>You can use the <code>--inplace</code> option:</p>\n\n<pre><code>--inplace (-i)       ignore build-lib and put compiled extensions into the\n                     source directory alongside your pure Python modules\n</code></pre>\n\n<p><code>setup.py clean</code> should clean the build dir. <code>setup.py clean --all</code> cleans all build output.</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5112, "favorite_count": 1, "accepted_answer_id": 30359391, "answer_count": 1, "score": 5, "last_activity_date": 1432153155, "creation_date": 1432151755, "last_edit_date": 1432153155, "question_id": 30359216, "link": "https://stackoverflow.com/questions/30359216/compile-a-cython-project-and-clean", "title": "Compile a Cython project and clean", "body": "<p>I'm using:</p>\n\n<pre><code>from distutils.core import setup\nfrom Cython.Build import cythonize\nsetup(ext_modules = cythonize(\"myfile.pyx\"))\n</code></pre>\n\n<p>to compile <code>myfile.pyx</code>. Is there a way to:</p>\n\n<ol>\n<li>Have the <code>.pyd</code> in the current folder (instead of <code>build/</code> subfolder)</li>\n<li>Clean after compile (i.e. delete <code>build/</code> subfolder, delete the <code>.c</code> file)</li>\n</ol>\n\n<p><em>without having to do it myself with <code>os.remove(...)</code> ?</em></p>\n"}, {"tags": ["python", "sqlalchemy", "vertica"], "comments": [{"owner": {"reputation": 6902, "user_id": 3148478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cfb54292261fde31574e100a1f7d66c?s=128&d=identicon&r=PG&f=1", "display_name": "woot", "link": "https://stackoverflow.com/users/3148478/woot"}, "edited": false, "score": 0, "creation_date": 1432220496, "post_id": 30359204, "comment_id": 48844522, "body": "Could you share your <code>odbcinst.ini</code> and <code>vertica.ini</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 6902, "user_id": 3148478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cfb54292261fde31574e100a1f7d66c?s=128&d=identicon&r=PG&f=1", "display_name": "woot", "link": "https://stackoverflow.com/users/3148478/woot"}, "is_accepted": false, "score": 0, "last_activity_date": 1432221503, "creation_date": 1432221503, "answer_id": 30377864, "question_id": 30359204, "link": "https://stackoverflow.com/questions/30359204/driver-manager-odbc-error-when-attempting-to-write-to-vertica/30377864#30377864", "title": "Driver Manager ODBC error when attempting to write to Vertica", "body": "<p>Setting up unixODBC for Vertica is a bit of manual effort.  You have to: </p>\n\n<ol>\n<li>set up <code>odbcinst.ini</code></li>\n<li>set up <code>vertica.ini</code> (maybe only Linux?)</li>\n<li>set up <code>odbc.ini</code></li>\n<li>export <code>VERTICAINI</code> (maybe only Linux?)</li>\n</ol>\n\n<p>I would look at the following: </p>\n\n<p><a href=\"https://my.vertica.com/docs/7.1.x/HTML/index.htm#Authoring/ConnectingToHPVertica/InstallingDrivers/InstallingTheODBCDriverOnMacintoshOSX.htm%3FTocPath%3DConnecting%2520to%2520HP%2520Vertica%7CClient%2520Libraries%7CInstalling%2520the%2520%2520Client%2520Drivers%7CInstalling%2520the%2520Client%2520Drivers%7C_____8\" rel=\"nofollow\">Installing ODBC on Mac OSX</a>\n<br>\n<a href=\"https://my.vertica.com/docs/7.1.x/HTML/index.htm#Authoring/ConnectingToHPVertica/InstallingDrivers/CreatingAnODBCDSNForMacintoshOSXClients.htm\" rel=\"nofollow\">Creating odbc.ini and odbcinst.ini</a> <br>\n<a href=\"https://my.vertica.com/docs/7.1.x/HTML/index.htm#Authoring/ConnectingToHPVertica/ClientODBC/LocationOfTheAdditionalDriverSettings.htm\" rel=\"nofollow\">Additional settings for Linux</a> <br>(Not sure if you need the last one or not, it's listed as Linux but I would look at it anyhow)</p>\n"}], "owner": {"reputation": 2289, "user_id": 2516989, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6343b9e889df2a3d09dd87cba9cd38c8?s=128&d=identicon&r=PG", "display_name": "orange1", "link": "https://stackoverflow.com/users/2516989/orange1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1551, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432221503, "creation_date": 1432151720, "question_id": 30359204, "link": "https://stackoverflow.com/questions/30359204/driver-manager-odbc-error-when-attempting-to-write-to-vertica", "title": "Driver Manager ODBC error when attempting to write to Vertica", "body": "<p>I'm attempting to write to a Vertica database using SQLAlchemy. </p>\n\n<p>I've created my engine as follows:</p>\n\n<pre><code>from sqlalchemy import create_engine\nimport sclalchemy_vertica\nengine = create_engine('vertica+pyodbc://username:password@127.0.0.1:9223/DB')\ndf.to_sql('some_table', engine)\n</code></pre>\n\n<p>where df is a pandas dataframe with some data. However, upon attempting to write, I get the following error:</p>\n\n<pre><code>DBAPIError: (pyodbc.Error) ('01000', \"[01000] [unixODBC][Driver Manager]Can't open lib 'Vertica' : file not found (0) (SQLDriverConnect)\")\n</code></pre>\n\n<p>anyone know what this might be about? I am on Mac OS X. </p>\n"}, {"tags": ["python", "autobahn", "yappi"], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 2504477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0afaea00cecf4b9acc7b15ef6065efc?s=128&d=identicon&r=PG", "display_name": "yavalvas", "link": "https://stackoverflow.com/users/2504477/yavalvas"}, "is_accepted": false, "score": 0, "last_activity_date": 1448046524, "last_edit_date": 1495541044, "creation_date": 1448024778, "answer_id": 33827475, "question_id": 30359161, "link": "https://stackoverflow.com/questions/30359161/profiling-an-application-that-uses-reactors-websockets-and-threads/33827475#33827475", "title": "Profiling an application that uses reactors/websockets and threads", "body": "<p>It's possible to use twistd profilers by the following way:</p>\n\n<pre><code>twistd -n --profile=profiling_results.txt --savestats --profiler=hotshot your_app\n</code></pre>\n\n<p>hotshot is a default profiler, you are also able to use cprofile.\nOr you can run twistd from your python script by means of:</p>\n\n<pre><code>from twistd.scripts import run\nrun()\n</code></pre>\n\n<p>And add necessary parameters to script by <code>sys.argv[1:1] = [\"--profile=profiling_results.txt\", ...]</code>\nAfter all you can convert hotshot format to calltree by means of:</p>\n\n<pre><code>hot2shot2calltree profiling_results.txt &gt; calltree_profiling\n</code></pre>\n\n<p>And open generated calltree_profiling file:</p>\n\n<pre><code>kcachegrind calltree_profiling\n</code></pre>\n\n<p>There is a project for profiling of asynchronous execution time <a href=\"https://github.com/flowroute/twisted-theseus\" rel=\"nofollow noreferrer\">twisted-theseus</a>\nYou can also try tool of pycharm: <a href=\"http://blog.jetbrains.com/pycharm/2015/10/announcing-pycharm-5-eap-143-308-thread-concurrency-visualization/\" rel=\"nofollow noreferrer\">thread concurrency</a></p>\n\n<p>There is a related question here <a href=\"https://stackoverflow.com/questions/582336/how-can-you-profile-a-python-script\">sof</a>\nYou can also run your function by:</p>\n\n<pre><code>reactor.callWhenRunning(your_function, *parameters_list)\n</code></pre>\n\n<p>Or by <code>reactor.addSystemEventTrigger()</code> with event description and your profiling function call.</p>\n"}], "owner": {"reputation": 297, "user_id": 2886789, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e06556e2f0529e91e04a1c2f6eb7fb1d?s=128&d=identicon&r=PG&f=1", "display_name": "daeda", "link": "https://stackoverflow.com/users/2886789/daeda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 604, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1448046524, "creation_date": 1432151542, "question_id": 30359161, "link": "https://stackoverflow.com/questions/30359161/profiling-an-application-that-uses-reactors-websockets-and-threads", "title": "Profiling an application that uses reactors/websockets and threads", "body": "<p>Hi I wrote a Python program that should run unattended. What it basically does is fetching some data via http get requests in a couple of threads and fetching data via websockets and the autobahn framework. Running it for 2 days shows me that it has a growing memory demand and even stops without any notice.\nThe documentation says I have to run the reactor as last line of code in the app.</p>\n\n<p>I read that <a href=\"https://stackoverflow.com/questions/653419/how-can-i-profile-a-multithread-program-in-python\">yappi</a> is capable of profiling threaded applications\nHere is some pseudo code</p>\n\n<pre><code>from autobahn.twisted.websocket import  WebSocketClientFactory,connectWS\n\nif __name__ == \"__main__\":\n#setting up a thread\n\n#start the thread\nConsumer.start()\n\nxfactory = WebSocketClientFactory(\"wss://url\")\ncex_factory.protocol = socket\n## SSL client context: default\n##\nif factory.isSecure:\n    contextFactory = ssl.ClientContextFactory()\nelse:\n    contextFactory = None\n\nconnectWS(xfactory, contextFactory)\n\nreactor.run() \n</code></pre>\n\n<p>The example from the <a href=\"https://code.google.com/p/yappi/wiki/usageyappi_v092\" rel=\"nofollow\">yappi project site</a> is the following:</p>\n\n<pre><code>import yappi\ndef a(): \n    for i in range(10000000): pass\n\nyappi.start()\na()\nyappi.get_func_stats().print_all()\nyappi.get_thread_stats().print_all()\n</code></pre>\n\n<p>So I could put <code>yappi.start()</code> at the beginning and <code>yappi.get_func_stats().print_all()</code> plus <code>yappi.get_thread_stats().print_all()</code> after <code>reactor.run()</code> but since this code is never executed I will never get it executed.</p>\n\n<p>So how do I profile a program like that ?</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "vigenere"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4921999"}, "edited": false, "score": 0, "creation_date": 1432151190, "post_id": 30359039, "comment_id": 48809730, "body": "Some code might be missing. but this should all be it"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1432151726, "post_id": 30359039, "comment_id": 48810068, "body": "We aren&#39;t here to help you cheat on your coursework, @GeorgeTaylder. Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1432153968, "post_id": 30359039, "comment_id": 48811347, "body": "what problem is this code having? Other then the fact that you want to re-look at your <code>if &#39;yes&#39;.startswith</code> statement (print needs indented and that code is not best logic for checking for a &quot;yes&quot;). Or do you just need help understanding the logic of that encryption method?"}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1432155106, "post_id": 30359039, "comment_id": 48811979, "body": "For the second part (vigenere ciphers) a very simple example of this problem (with explanation) can be found in <a href=\"http://inventwithpython.com/hacking/chapter19.html\" rel=\"nofollow noreferrer\">chapter 19 of Invent with Python</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921999"}, "edited": false, "score": 0, "creation_date": 1432222474, "post_id": 30359039, "comment_id": 48845981, "body": "its just the encryption, all the rest i want to make it look a bit better, if you get what i mean."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921999"}, "edited": false, "score": 0, "creation_date": 1432238031, "post_id": 30359039, "comment_id": 48855371, "body": "im not asking to cheat. i was just asking for some examples. i haven&#39;t copied anything. i just dont know how i can solve it so it will actually encrypt and decrypt."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4921999"}, "edited": false, "score": 0, "creation_date": 1432222562, "post_id": 30360021, "comment_id": 48846056, "body": "no no no. i want it so the user can input the message and the key and then it will give out the encrypted message through the keyword. i dont want to edit any from  k = input (&quot;&quot;)"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1432222778, "post_id": 30360021, "comment_id": 48846184, "body": "@GeorgeTaylder Yes, I understand .... but the input isn&#39;t your problem, it is one of the multiple reasons, you get the negative points in question"}], "tags": [], "owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1432156387, "last_edit_date": 1432156387, "creation_date": 1432154619, "answer_id": 30360021, "question_id": 30359039, "link": "https://stackoverflow.com/questions/30359039/trouble-with-the-vigenere-cipher/30360021#30360021", "title": "trouble with the vigenere cipher", "body": "<p><strong>first, failures in your question:</strong></p>\n\n<p>all the code up <code>for a in m:</code> is unnecessary, all that is not part of your problem, your real problem is to encrypt a word using the vigenere cipher's algorithm, this can be replaced by two lines:</p>\n\n<pre><code>message = \"ATTACKATDAWN\"\nkey_adj = \"LEMONLEMONLE\"\n</code></pre>\n\n<p>or if you prefer</p>\n\n<pre><code>message = \"ATTACKATDAWN\"\nkey = \"LEMON\"\n#key_adj and message equal length\nkey_adj = key + key*((len(message)/len(key))-1) + key[:len(message)%len(key)]\n#key_adj is LEMONLEMONLE\n</code></pre>\n\n<p><strong>Note:</strong> i rename the variables so that the people who help you, better understand, </p>\n\n<p>as the input isn't a problem now, i can solve the problem</p>\n\n<p><strong>second, failures in your algorithm:</strong></p>\n\n<p>The most visible fault is using nested <code>for</code>, more isn't better, this complicates your solution, for this problem you need only one <code>for</code></p>\n\n<pre><code>for a in m:\n    for b in k:\n        ....\n</code></pre>\n\n<p>second failure, is the cipher equation .... for example, first letters:</p>\n\n<pre>\nletter_menssage = \"A\" -> ord(\"A\") = 65\nletter_key = \"L\"      -> ord(\"L\") = 76\n                                  +141 -> chr(141) = \"\u00ec\"\n</pre>\n\n<p>with all this explanation , now I can show a solution:</p>\n\n<pre><code>#i use zip function, match letter message with letter key\n# (A,L) (T,E) (T,M) (A,O) (C,N) (K,L) etc.\nencrypt = \"\"\nfor letter_msg, letter_key in zip(message, key_adj):\n    code_letter_msg = ord(letter_msg)-ord('A')\n    code_letter_key = ord(letter_key)-ord('A')\n    encrypt += chr((code_letter_msg+code_letter_key) % 26 + ord('A'))\n\nprint (encrypt)\n</code></pre>\n\n<p>you get:</p>\n\n<pre><code>LXFOPVEFRNHR\n</code></pre>\n\n<p>explanation equation:</p>\n\n<pre>\nletter_menssage = \"A\" -> ord(\"A\")-65 = 0\nletter_key      = \"L\" -> ord(\"L\")-65 = 11\n                                    ((0+11)%26 + 65)-> chr(76) = \"L\"\n\nletter_menssage = \"T\" -> ord(\"A\")-65 = 19\nletter_key      = \"E\" -> ord(\"E\")-65 = 4\n                                    ((19+4)%26 + 65)-> chr(88) = \"X\"\n</pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4921999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1520347484, "creation_date": 1432151142, "last_edit_date": 1520347484, "question_id": 30359039, "link": "https://stackoverflow.com/questions/30359039/trouble-with-the-vigenere-cipher", "title": "trouble with the vigenere cipher", "body": "<pre><code>print (\"\")\nprint (\"Welcome to Vigenere cipher!\")\nprint (\"\")\nprint (\"This program will encrypt then offer you a decryption of your message.\")\nprint (\"\")\nprint (\"Start this off with inputting your message you would like to encrypt.\")\nm = input(\"\")\nprint (\"\")\nprint (\"Now enter your keyword you would like to use. (it must be (\" +str(len(m)),\"or less letters.))\")\nk = input(\"\")\n\nif len(k) &gt; len(m):\n    print (\"\")\n    print (\"sorry this is an invaild keyword\")\n    print (\"Please re-enter your keyword.\")\n    k = input(\"\")\nelse:\n    print (\"Your keyword is great. Lets keep going\")\n\nprint (\"\")\n\nprint (\"Is this correct?\")\nprint (\"\")\n\nprint(\"-------\\n\"\n  \"Message:  \",m,\"\\n\"\n  \"Key:      \",k,\n  \"\\n-------\")\nprint (\"\")\n\nprint (\"yes or no\")\ncorrect = input (\"\")\nif 'yes'.startswith(correct.lower()):\nprint(\"Great! Lets keep going.\")\nelse:\n    print (\"You previously put: \" +str(m), \" as your message.\")\n    print (\"Please re-enter the keyword you wish to use. (it must be (\" +str(len(m)),\"or less letters.))\")\n    k = input(\"\")\nencrypted = (\"\")\nprint (\"\")\n\nfor a in m:\n    print (\"The message letters are\")\n    encrypt2 = ord(a)\n\n    for b in k:\n        print (\"The keyword letters are\")\n        encrypt = ord(b)\n        encrypt3 = (encrypt) + (encrypt2)\n        encrpyted = chr(encrypt3)\n        print (chr(encrypt3))\n</code></pre>\n\n<p>I need it to encrypt with the keyword, any help?\np.s it needs to be basic like the code  above.\nit is for GCSE (UK) \nif it needs to have some commands then can you please tell me what they do :) so i can explain it in the task :)</p>\n"}, {"tags": ["python", "django", "environment-variables", "stripe-payments"], "comments": [{"owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "edited": false, "score": 0, "creation_date": 1432151868, "post_id": 30358975, "comment_id": 48810170, "body": "Can you confirm what shell you&#39;re using?"}, {"owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "reply_to_user": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "edited": false, "score": 0, "creation_date": 1432153600, "post_id": 30358975, "comment_id": 48811118, "body": "Sure. I&#39;m using bash."}], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1432152495, "post_id": 30359074, "comment_id": 48810525, "body": "Yes, I mentioned that I tried it without quotation marks and still got the same error. I haven&#39;t heard of django-dotenv before. I&#39;ll look into it."}, {"owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "reply_to_user": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1432153275, "post_id": 30359074, "comment_id": 48810920, "body": "My bad, I missed that point! dotenv is my preferred method when working with any web framework (implementations exist for everything, and are easy to customize or implement yourself if needed). The point being that with a dotenv, you&#39;re loading the variables directly from the working environment."}, {"owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1432153698, "post_id": 30359074, "comment_id": 48811172, "body": "If I install django-dotenv, I don&#39;t need to change anything about the way the variables are set in my settings files, do I?"}, {"owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "reply_to_user": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1432154632, "post_id": 30359074, "comment_id": 48811719, "body": "You shouldn&#39;t have to! You could also try <a href=\"https://github.com/theskumar/python-dotenv\" rel=\"nofollow noreferrer\">github.com/theskumar/python-dotenv</a>. It&#39;s pretty much the same, and much better documented, but lacks some Django-specific functionality."}, {"owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1433189662, "post_id": 30359074, "comment_id": 49234696, "body": "Yep. See my comment below."}, {"owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "reply_to_user": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "edited": false, "score": 0, "creation_date": 1433208452, "post_id": 30359074, "comment_id": 49241357, "body": "Oh, sweet! I didn&#39;t notice it. Good to hear you&#39;ve got it under control!"}], "tags": [], "owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "is_accepted": false, "score": 1, "last_activity_date": 1432153297, "last_edit_date": 1432153297, "creation_date": 1432151255, "answer_id": 30359074, "question_id": 30358975, "link": "https://stackoverflow.com/questions/30358975/django-stripe-api-key-issues/30359074#30359074", "title": "Django Stripe API Key Issues", "body": "<p>For API keys, the quotes aren't necessary</p>\n\n<pre><code>export STRIPE_SECRET_KEY=sk_test_example\nexport STRIPE_PUBLIC_KEY=pk_test_example\n</code></pre>\n\n<p>It looks like the string format constructed with bash quotes is different than what Python is accepting. I don't know what formats these are, but this would definitely make sense.</p>\n\n<p>Alternatively, you might want to look into a \"dotenv\" implementation such as <a href=\"https://github.com/jpadilla/django-dotenv\" rel=\"nofollow\"><code>django-dotenv</code></a>. </p>\n\n<p>This is a much more reliable way to work with strings like this. The problem is that when you're using different string formats (UTF-8 vs UTF-16 or Unicode), you may run into the situation where some program is expecting one format but receives another. The output you included is an example of what this looks like (hence my concern here).</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "is_accepted": false, "score": 2, "last_activity_date": 1432176751, "creation_date": 1432176751, "answer_id": 30363743, "question_id": 30358975, "link": "https://stackoverflow.com/questions/30358975/django-stripe-api-key-issues/30363743#30363743", "title": "Django Stripe API Key Issues", "body": "<p>It turns out that I'd forgotten (argh) to export the environment variables in my virtualenv postactivate file and was running the server in a different window, so once I put the Stripe API keys in the postactivate file, I needed to deactivate and activate the virtualenv before running the server.</p>\n"}], "owner": {"reputation": 1049, "user_id": 1956649, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/efbeddfdf3f7cb2a015385d2bb081a9f?s=128&d=identicon&r=PG", "display_name": "Michelle Glauser", "link": "https://stackoverflow.com/users/1956649/michelle-glauser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1432176751, "creation_date": 1432150925, "question_id": 30358975, "link": "https://stackoverflow.com/questions/30358975/django-stripe-api-key-issues", "title": "Django Stripe API Key Issues", "body": "<p>I have these lines (among other things) in my Django base settings file:</p>\n\n<pre><code>import os\nSTRIPE_PUBLIC_KEY = os.environ.get(\"STRIPE_PUBLIC_KEY\", \"your publishable test key\")\nSTRIPE_SECRET_KEY = os.environ.get(\"STRIPE_SECRET_KEY\", \"your secret test key\")\n</code></pre>\n\n<p>I created those two environment variables in my virtualenv like this: </p>\n\n<pre><code>export STRIPE_SECRET_KEY=\"sk_test_example\"\nexport STRIPE_PUBLIC_KEY=\"pk_test_example\"\n</code></pre>\n\n<p>When I run env | grep STRIPE, I get this:</p>\n\n<pre><code>STRIPE_SECRET_KEY=sk_test_example\nSTRIPE_PUBLIC_KEY=pk_test_example\n</code></pre>\n\n<p>But for some reason, I keep getting this Stripe error: \"\"Invalid API Key provided: \\\"\\u003C**** ****** **** key\\u003E\\\". This key contains at least one space. Please delete the spaces and try again.\"</p>\n\n<p>I tried exporting the environment variables again, once without quotation marks and once with single quotation marks, and I got the same result, so I tried printing the STRIPE_SECRET_KEY and STRIPE_PUBLIC_KEY from the settings file, and it returned the defaults, \"your publishable test key\" and \"your secret test key\". So that's why there were spaces. But why weren't the environment variables getting picked up?</p>\n\n<p>So I tried getting rid of the defaults in my base settings so the variables look like this:</p>\n\n<pre><code>STRIPE_PUBLIC_KEY = os.environ.get(\"STRIPE_PUBLIC_KEY\")\nSTRIPE_SECRET_KEY = os.environ.get(\"STRIPE_SECRET_KEY\")\n</code></pre>\n\n<p>That threw a NoneType error. I also tried the following:</p>\n\n<pre><code>STRIPE_PUBLIC_KEY = os.environ['STRIPE_PUBLIC_KEY']\nSTRIPE_SECRET_KEY = os.environ['STRIPE_SECRET_KEY']\n</code></pre>\n\n<p>That threw \"KeyError: u'STRIPE_PUBLIC_KEY'\". What do I need to change? I really don't want to hard-code these API keys.</p>\n"}, {"tags": ["android", "python", "qpython"], "owner": {"reputation": 31, "user_id": 4921627, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206027289974207/picture?type=large", "display_name": "Bolan Moonward", "link": "https://stackoverflow.com/users/4921627/bolan-moonward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1432150890, "creation_date": 1432150890, "question_id": 30358964, "link": "https://stackoverflow.com/questions/30358964/using-the-interactive-qpython-on-android-cant-import-from-cwd", "title": "Using the Interactive QPython on Android, Can&#39;t Import from CWD", "body": "<p>When using the interactive console in QPython on Android, chdir'ed to a directory containing .py files, attempts to import them result in 'module  not found'.  The problem is that sys.path has, as its first element, '', instead of '.'.  Setting sys.path[0] to '.', either before or after os.chdir(), fixes that.</p>\n"}, {"tags": ["python", "ini", "configparser"], "comments": [{"owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "edited": false, "score": 1, "creation_date": 1432152179, "post_id": 30358949, "comment_id": 48810355, "body": "Why the constraint to only one section? For that matter, it seems to me like JSON or YAML would be a better file format than INI files."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1432152281, "post_id": 30358949, "comment_id": 48810413, "body": "Unless an external requirement forces you to use an INI file, another format would be much easier to use."}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1432152947, "last_edit_date": 1432152947, "creation_date": 1432152112, "answer_id": 30359311, "question_id": 30358949, "link": "https://stackoverflow.com/questions/30358949/how-to-use-configparser-to-extract-an-unknown-number-of-value-pairs/30359311#30359311", "title": "How to use ConfigParser to extract an unknown number of value pairs?", "body": "<p>Without testing it, I'd write something like:</p>\n\n<pre><code>config = ConfigParser.ConfigParser()\n\nwith open('path/to/file.ini') as config_f:\n    config.readfp(config_f)\n    # config.readfile in 3.2+\n\nconfigitems = config.section('pings')\n\nping_infos = [{'host':host, 'port':port, 'interval':interval} for\n                host, port, interval in [value.split()]} for\n              key,value in configitems if key.startswith('ping')]\n</code></pre>\n\n<p>Then you can write your config file as</p>\n\n<pre><code>[pings]\n; pingANYUNIQUECHAR = hostname, portnumber, interval\nping-foo.com = foo.com, 80, 60\nping-bar.com = bar.com, 8080, 300\n</code></pre>\n\n<p>And you'll end up with:</p>\n\n<pre><code>ping_infos = [{'host': 'foo.com',\n               'port': '80',\n               'interval': 60},\n              {'host': 'bar.com',\n               'port': 8080,\n               'interval': 300}]\n</code></pre>\n"}], "owner": {"reputation": 5144, "user_id": 1713313, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/45ci2.jpg?s=128&g=1", "display_name": "smitelli", "link": "https://stackoverflow.com/users/1713313/smitelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432152947, "creation_date": 1432150866, "last_edit_date": 1495542115, "question_id": 30358949, "link": "https://stackoverflow.com/questions/30358949/how-to-use-configparser-to-extract-an-unknown-number-of-value-pairs", "title": "How to use ConfigParser to extract an unknown number of value pairs?", "body": "<p>In <a href=\"https://stackoverflow.com/questions/24215971/parse-config-file-of-unknown-length\">this question</a>, the OP wanted to extract an unknown number of sections from a config file using ConfigParser, where all of the sections shared the same internal format.</p>\n\n<p>In my case, I'm constrained to keep everything confined to one section. I'm trying to work out a maintainable, sane method of storing \"pairs\" of data. A contrived example will explain things better:</p>\n\n<pre><code>[pings]\nhost1 = foo.com\nport1 = 80\ninterval1 = 60\nhost2 = bar.com\nport2 = 8080\ninterval2 = 300\nhost3 = baz.com\nport3 = 443\ninterval3 = 15\n</code></pre>\n\n<p>This could be read in an incrementing-index loop, and once we reach an iteration where an expected value is not found, we can surmise that we've reached the end of the data and stop. Problem is this is ugly and unmaintainable, and what's worse, suppose we wanted to comment out <code>host1</code>... We would have to renumber everything else in the list to prevent the scan from terminating early.</p>\n\n<p>This doesn't strike me as being much better:</p>\n\n<pre><code>[pings]\nhosts = foo.com, bar.com, baz.com\nports = 80, 8080, 443\nintervals = 60, 300, 15\n</code></pre>\n\n<p>Too hard to read for any significant number of items, fragile to edit, etc.</p>\n\n<p>I could pivot it:</p>\n\n<pre><code>[pings]\nping1 = foo.com, 80, 60\nping2 = bar.com, 8080, 300\nping3 = baz.com, 443, 15\n</code></pre>\n\n<p>A bit more logically grouped, but still suffers from the line renumbering problem if items are added/removed/rearranged. Also it's easy to get lost (think visually scanning a very wide CSV table).</p>\n\n<p>I'd like to avoid embedding JSON or any kind of formal object literal notation. Too many opportunities for a bad edit to trip up the parser.</p>\n\n<p>A long time ago I remember working with PHP where you could add a variable number of query string items like <code>?host[]=foo.com&amp;host[]=bar.com&amp;host[]=baz.com</code> and the <code>$_GET['host']</code> global would become an array with the three items inside. Stealing that syntax, I could do:</p>\n\n<pre><code>[pings]\nhost[] = foo.com\nport[] = 80\ninterval[] = 60\n\nhost[] = bar.com\nport[] = 8080\ninterval[] = 300\n\nhost[] = baz.com\nport[] = 443\ninterval[] = 15\n</code></pre>\n\n<p>... or:</p>\n\n<pre><code>[pings]\nping[] = foo.com, 80, 60\nping[] = bar.com, 8080, 300\nping[] = baz.com, 443, 15\n</code></pre>\n\n<p>... and there would be a little less to worry about when adding/removing items. But I believe what would actually happen with ConfigParser is the latest items (or is it the earliest ones?) would overwrite the others... if <code>[]</code> is even accepted as a config key.</p>\n\n<p>Are there any established best practices to express things like this in config files?</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 429, "user_id": 3427749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b5c9bfd34f3b33b3bac52011713dca7c?s=128&d=identicon&r=PG&f=1", "display_name": "Versatile", "link": "https://stackoverflow.com/users/3427749/versatile"}, "edited": false, "score": 0, "creation_date": 1432151064, "post_id": 30358907, "comment_id": 48809651, "body": "There is a matplotlib plotting package which is somewhat equal to matplot. It has simple examples on how to plot data. Google for it and plot yourself.  Also post if you have tried plotting using any of the other packages."}, {"owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "reply_to_user": {"reputation": 429, "user_id": 3427749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b5c9bfd34f3b33b3bac52011713dca7c?s=128&d=identicon&r=PG&f=1", "display_name": "Versatile", "link": "https://stackoverflow.com/users/3427749/versatile"}, "edited": false, "score": 0, "creation_date": 1432151358, "post_id": 30358907, "comment_id": 48809822, "body": "@Versatile: Thank you to mention that, but as I said I&#39;ve checked the samples but most of them are around the simple cases, not 2-D integral functions..."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "reply_to_user": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "edited": false, "score": 0, "creation_date": 1432155471, "post_id": 30359336, "comment_id": 48812176, "body": "You are welcome - I just added a bit more information to help you with plotting."}, {"owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "edited": false, "score": 0, "creation_date": 1432155540, "post_id": 30359336, "comment_id": 48812209, "body": "Nice suggestion to use <code>pcolormesh</code>... But actually the current problem is just before plotting, i.e. within the integral computation, as I&#39;ve illustrated within the question..."}, {"owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "reply_to_user": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "edited": false, "score": 0, "creation_date": 1432156047, "post_id": 30359336, "comment_id": 48812506, "body": "A totally different direction, but if you are trying to plot the cumulative normal distribution wouldn&#39;t it be easier to use the error function, scipy.special.erf? Alternatively if you want to use numerical integration, numpy.cumsum might be relevant for you."}], "tags": [], "owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "is_accepted": true, "score": 0, "last_activity_date": 1432156186, "last_edit_date": 1495541641, "creation_date": 1432152193, "answer_id": 30359336, "question_id": 30358907, "link": "https://stackoverflow.com/questions/30358907/plotting-2d-integral-function-in-python/30359336#30359336", "title": "Plotting 2D integral function in python", "body": "<p>Just a few hints to get you in the right direction.\nnumpy.meshgrid can do the same as MatLABs function:\n<a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html\" rel=\"nofollow noreferrer\">http://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html</a></p>\n\n<p>When you have x and n you can do math just like in matlab:</p>\n\n<pre><code>sigma = numpy.sqrt(2)/n\n</code></pre>\n\n<p>(in python multiplication/division is default index by index - no dot needed)</p>\n\n<p>scipy has a lot more advanced functions, see for example <a href=\"https://stackoverflow.com/questions/809362/cumulative-normal-distribution-in-python\">How to calculate cumulative normal distribution in Python</a> for a 1D case.</p>\n\n<p>For plotting you can use matplotlibs pcolormesh:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.pcolormesh(x,n,real_integral)\n</code></pre>\n\n<p>Hope this helps until someone can give you a more detailed answer.</p>\n"}], "owner": {"reputation": 916, "user_id": 1393214, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9c77aec8e279242d34f9073750f479b?s=128&d=identicon&r=PG&f=1", "display_name": "Roboticist", "link": "https://stackoverflow.com/users/1393214/roboticist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 0, "accepted_answer_id": 30359336, "answer_count": 1, "score": 2, "last_activity_date": 1432156186, "creation_date": 1432150677, "last_edit_date": 1432155286, "question_id": 30358907, "link": "https://stackoverflow.com/questions/30358907/plotting-2d-integral-function-in-python", "title": "Plotting 2D integral function in python", "body": "<p>Here is my first steps within the <code>NumPy</code> world.\nAs a matter of fact the target is plotting below 2-D function as a 3-D mesh:</p>\n\n<pre><code>N = \\frac{n}{2\\sigma\\sqrt{\\pi}}\\exp^{-\\frac{n^{2}x^{2}}{4\\sigma^{2}}}\n</code></pre>\n\n<p>That could been done as a piece a cake in <code>Matlab</code> with below snippet:</p>\n\n<pre><code>[x,n] = meshgrid(0:0.1:20, 1:1:100);\n\nmu = 0;\nsigma = sqrt(2)./n;\n\nf = normcdf(x,mu,sigma);\nmesh(x,n,f);\n</code></pre>\n\n<p>But the bloody result is ugly enough to drive me trying <code>Python</code> capabilities to generate scientific plots.</p>\n\n<p>I searched something and found that the primary steps to hit above mark in <code>Pyhton</code> might be acquired by below snippet:</p>\n\n<pre><code>from matplotlib.patches import Polygon\nimport numpy as np\nfrom scipy.integrate import quad\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\nsigma = 1\n\ndef integrand(x,n):\n    return (n/(2*sigma*np.sqrt(np.pi)))*np.exp(-(n**2*x**2)/(4*sigma**2))\n\nt = np.linespace(0, 20, 0.01)\nn = np.linespace(1, 100, 1)\n\nlower_bound = -100000000000000000000 #-inf\nupper_bound = t\n\ntt, nn = np.meshgrid(t,n)\n\nreal_integral = quad(integrand(tt,nn), lower_bound, upper_bound)\n\nAxes3D.plot_trisurf(real_integral, tt,nn)\n</code></pre>\n\n<p>Edit: With due attention to more investigations on Greg's advices, above code is the most updated snippet.</p>\n\n<p>Here is the generated exception:</p>\n\n<p><code>RuntimeError: infinity comparisons don't work for you</code></p>\n\n<p>It is seemingly referring to the <code>quad</code> call...</p>\n\n<p>Would you please helping me to handle this integrating-plotting problem?!...</p>\n\n<p>Best</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4839952, "user_type": "registered", "profile_image": "https://graph.facebook.com/855887584479289/picture?type=large", "display_name": "Elijah Anderson", "link": "https://stackoverflow.com/users/4839952/elijah-anderson"}, "edited": false, "score": 0, "creation_date": 1432151430, "post_id": 30359015, "comment_id": 48809876, "body": "Ok yeah I noticed my error there, now when it loops through it always comes back with key and adds that to inv no matter what is in the file, the ItemID thing is meant to put the item into it&#39;s specific ID"}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1432151064, "creation_date": 1432151064, "answer_id": 30359015, "question_id": 30358899, "link": "https://stackoverflow.com/questions/30358899/typeerror-list-indices-must-be-integers-not-str-loading-strings-from-a-list/30359015#30359015", "title": "TypeError: list indices must be integers, not str - loading strings from a list", "body": "<p>If <code>PositionOfItems</code> is a list, then <code>items</code> needs to be in an integer. Right now, it's a string, because you're reading it from a file.</p>\n\n<p>Try:</p>\n\n<pre><code>    PositionOfItems[int(items)]=HERO_INVENTORY_POS\n</code></pre>\n\n<p>Alternatively, maybe you intended to index the list with <code>item</code> and not <code>items</code>? In which case you should do</p>\n\n<pre><code>    PositionOfItems[item]=HERO_INVENTORY_POS\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 266, "user_id": 3877325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9840b661614b9e044ba118630fb47360?s=128&d=identicon&r=PG&f=1", "display_name": "Mark N", "link": "https://stackoverflow.com/users/3877325/mark-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1432151791, "last_edit_date": 1432151791, "creation_date": 1432151459, "answer_id": 30359131, "question_id": 30358899, "link": "https://stackoverflow.com/questions/30358899/typeerror-list-indices-must-be-integers-not-str-loading-strings-from-a-list/30359131#30359131", "title": "TypeError: list indices must be integers, not str - loading strings from a list", "body": "<p>Depending in how you defined <code>PositionOfItems</code></p>\n\n<p>In your line of code</p>\n\n<pre><code>PositionOfItems[items]=HERO_INVENTORY_POS\n</code></pre>\n\n<p>You are treating it as a <strong>dictionary</strong> instead of a <strong>list</strong>, where <code>items</code> is the key and <code>HERO_INVENTORY_POS</code> is the value. When I tried reproducing your code snippet(below), my error was that the dictionary was not defined as empty before its use, and if defined as a list I received the <code>TypeError: list indices must be integers, not str</code>.</p>\n\n<pre><code>with open(\"test.txt\", 'r') as f:\n    dict = {} #This line\n    for item in f:\n        dict[item] = 999\n        print item,\n</code></pre>\n\n<p>If you have assigned <code>PositionOfItems</code> as a <strong>list</strong>, then the issue is that you would be referring to indexes that have not been defined (or at least not show in your code here) and are attempting to reference them with a string (<code>items</code>) instead of an integer. (Giving you the TypeError)</p>\n"}], "owner": {"reputation": 39, "user_id": 4839952, "user_type": "registered", "profile_image": "https://graph.facebook.com/855887584479289/picture?type=large", "display_name": "Elijah Anderson", "link": "https://stackoverflow.com/users/4839952/elijah-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432153652, "creation_date": 1432150657, "last_edit_date": 1432153652, "question_id": 30358899, "link": "https://stackoverflow.com/questions/30358899/typeerror-list-indices-must-be-integers-not-str-loading-strings-from-a-list", "title": "TypeError: list indices must be integers, not str - loading strings from a list", "body": "<p>So I have a list of strings I want to make = 999</p>\n\n<pre><code>with open (\"Inventory.txt\", 'r') as i:\n    for items in i:\n        item = GetItemID(items)\n        PositionOfItems[items]=HERO_INVENTORY_POS\n</code></pre>\n\n<p><code>HERO_INVENTORY_POS is = 999</code>, but I get the error displayed above, if I'm missing anything else require please tell me.</p>\n\n<p>This is the code I used for spawning an item so I kinda just tried to recreate that.`</p>\n\n<pre><code>ItemRequest = input(\"Which item would you like?\").upper()\n    for i in ItemList:\n        if i == ItemRequest:\n            ItemRequest = GetItemID(ItemRequest)\n            PositionOfItems[ItemRequest]=HERO_INVENTORY_POS`\n</code></pre>\n"}, {"tags": ["python", "bottle", "yahoo-finance"], "comments": [{"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1432239612, "post_id": 30358849, "comment_id": 48856234, "body": "comments in your code! +1  :)   really convoluted design.  -1 :("}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1442694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd65ae1114d1a96146dc13d4e37b0a29?s=128&d=identicon&r=PG", "display_name": "Cody_Morton", "link": "https://stackoverflow.com/users/1442694/cody-morton"}, "edited": false, "score": 0, "creation_date": 1432252519, "post_id": 30360256, "comment_id": 48861686, "body": "Disregard the last comments, I didn&#39;t understand what you meant. I did what you and ron.rothman said and will update tomorrow morning when markets open. Thanks!"}], "tags": [], "owner": {"reputation": 2052, "user_id": 710047, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27b521f193b58d597edba1a15eb55296?s=128&d=identicon&r=PG", "display_name": "totowtwo", "link": "https://stackoverflow.com/users/710047/totowtwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1432155531, "creation_date": 1432155531, "answer_id": 30360256, "question_id": 30358849, "link": "https://stackoverflow.com/questions/30358849/how-can-i-refresh-data-from-yahoo-finance-api-every-time-webpage-is-viewed-in-py/30360256#30360256", "title": "How can I refresh data from yahoo finance API every time webpage is viewed in Python?", "body": "<p>Call the refresh code within index(), before you return. </p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 1442694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd65ae1114d1a96146dc13d4e37b0a29?s=128&d=identicon&r=PG", "display_name": "Cody_Morton", "link": "https://stackoverflow.com/users/1442694/cody-morton"}, "edited": false, "score": 0, "creation_date": 1432252291, "post_id": 30383572, "comment_id": 48861602, "body": "I&#39;m using the yahoo finance API I linked to get quotes: <code>from yahoo_finance import Share</code> I&#39;ve done what you said and will update tomorrow if it works once the markets open. Thanks!"}], "tags": [], "owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "is_accepted": true, "score": 0, "last_activity_date": 1432252163, "last_edit_date": 1432252163, "creation_date": 1432239482, "answer_id": 30383572, "question_id": 30358849, "link": "https://stackoverflow.com/questions/30358849/how-can-i-refresh-data-from-yahoo-finance-api-every-time-webpage-is-viewed-in-py/30383572#30383572", "title": "How can I refresh data from yahoo finance API every time webpage is viewed in Python?", "body": "<p>If you're not in DEBUG mode, then <a href=\"http://bottlepy.org/docs/dev/tutorial.html#templates\" rel=\"nofollow\">Bottle is caching</a> your rendered template.</p>\n\n<p>Couple of things:</p>\n\n<ul>\n<li><p><a href=\"http://bottlepy.org/docs/dev/tutorial.html#tutorial-debugging\" rel=\"nofollow\">Turn debug mode on</a> and see if that helps.  <code>bottle.debug(True)</code> before you run the server.  (EDIT: I hadn't noticed earlier that you're already using debug mode.  Leaving this item here anyway for reference.)</p></li>\n<li><p>Do not call <code>refresh()</code> (or any other state-changing or blocking functions) from within your template.  It's bad idea.  As totowtwo suggested, you should call it from <code>index</code> before you invoke the template.</p></li>\n</ul>\n\n<hr>\n\n<pre><code>@route('/')\ndef index():\n    refresh()\n    return template('index', **my_dict)\n</code></pre>\n\n<hr>\n\n<ul>\n<li>Print out the value of AAPL et al. after you call refresh() but before you invoke the template, to confirm that they're being updated as you expect.</li>\n</ul>\n\n<hr>\n\n<pre><code>@route('/')\ndef index():\n    refresh()\n    # print the value of AAPL here, to confirm that it's updated\n    return template('index', **my_dict)\n</code></pre>\n\n<hr>\n\n<ul>\n<li>How does your template have access to AAPL and FB, anyway?  Where are they being passed?</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 1442694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd65ae1114d1a96146dc13d4e37b0a29?s=128&d=identicon&r=PG", "display_name": "Cody_Morton", "link": "https://stackoverflow.com/users/1442694/cody-morton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 30383572, "answer_count": 2, "score": 0, "last_activity_date": 1432253242, "creation_date": 1432150503, "last_edit_date": 1592644375, "question_id": 30358849, "link": "https://stackoverflow.com/questions/30358849/how-can-i-refresh-data-from-yahoo-finance-api-every-time-webpage-is-viewed-in-py", "title": "How can I refresh data from yahoo finance API every time webpage is viewed in Python?", "body": "<p>I'm running a website for personal use using <a href=\"http://bottlepy.org/docs/dev/index.html\" rel=\"nofollow noreferrer\">Bottle, a simple web server for python.</a></p>\n<p>I'm using <a href=\"https://pypi.python.org/pypi/yahoo-finance/1.1.4\" rel=\"nofollow noreferrer\">this API</a> to get market data from yahoo finance.</p>\n<p>This is a simplified version of my script (my first script with Python, btw) with comments explaining how it works. I hope this is understandable:\nEDIT: Don't know if I made it clear but not all the code is here, I took a lot out because in this case it is irrelevant.</p>\n<pre><code>from bottle import route, run, template\nfrom yahoo_finance import Share\n#Using AAPL and FB as an example..\n# Gets market data\nAAPL = Share('AAPL')\nFB = Share('FB')\n# Does a whole bunch of things with the data that eventually makes readable portfolio percentages..\n# This is SUPPOSED to be a function that refreshes the data so that when called in the template it has up to date data.\n# Refresh market data..\ndef refreshAll():\n    AAPL.refresh()\n    FB.refresh()\n    #Basically this just has a bunch of lines that refreshes the data for every symbol\n# Makes it accessible to my template..\n# Variables changed to make it understandable..\nmy_dict = {'holdings': printTotalHoldings, 'day_change': PercentDayChange, 'total_change': PercentTotalChange, 'date': date}\n# This is supposed to make the function accessible by the view. So when I call it, it refreshes the data. Doesn't seem to work though..\nmy_dict['refresh'] = refreshAll\n\n# Makes the template routed to root directory.\n@route('/')\ndef index():\n    # Template file index.tpl.. **my_dict makes my variables and functions work on the view.\n    return template('index', **my_dict)\n# Starts the webserver on port 8080\nif __name__ == '__main__':\n    port = int(os.environ.get('PORT', 8080))\n    run(host='0.0.0.0', port=port, debug=True)\n</code></pre>\n<p>So that's basically what my index.py file looks like.</p>\n<p>This is what I have in my template on the top of the page. I would think that each time the page is viewed it refreshes the data, right?</p>\n<pre><code>% refresh() #Refreshes market data\n</code></pre>\n<p>Then to call the variables with the data I just put something like this in place of where it should go in the HTML:</p>\n<pre><code>&lt;p class=&quot;day_change&quot;&gt;Today's Change: &lt;span id=&quot;price&quot;&gt;{{get('day_change')}}&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n<p>That all works fine except the data never changes. In order to actually refresh data I have to stop and start my script on the server.\nDoes this make sense? So my question is, how can I get my data to refresh without stopping and restarting my script every time?</p>\n<p>Thanks! Please let me know if something doesn't make enough sense. I've been having trouble with this for a bit.</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1432150474, "post_id": 30358781, "comment_id": 48809353, "body": "Next time, please include your code in your post, and not in an external link. I&#39;ve edited it into your post this time"}, {"owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432150665, "post_id": 30358781, "comment_id": 48809440, "body": "there are lots of different formats to write to files. Do you want to write the data to a file e.g. one name on each line of the file and then parse the input? Or do you actually want to save the data structure list and all its members?"}, {"owner": {"reputation": 1, "user_id": 4921948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-scXjytyiBEY/AAAAAAAAAAI/AAAAAAAAB-I/efHYO3AEx4w/photo.jpg?sz=128", "display_name": "George Edmonds", "link": "https://stackoverflow.com/users/4921948/george-edmonds"}, "reply_to_user": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "edited": false, "score": 0, "creation_date": 1432150840, "post_id": 30358781, "comment_id": 48809550, "body": "@GC123UNC the file is purely for use of the program so its not needed for human use, so whatever the best way is for the program to retrieve the list for when the program is opened next"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4921948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-scXjytyiBEY/AAAAAAAAAAI/AAAAAAAAB-I/efHYO3AEx4w/photo.jpg?sz=128", "display_name": "George Edmonds", "link": "https://stackoverflow.com/users/4921948/george-edmonds"}, "edited": false, "score": 0, "creation_date": 1432151152, "post_id": 30358941, "comment_id": 48809708, "body": "would you be able to break down whats happening in that for me, to help my understanding, Thanks:)"}, {"owner": {"reputation": 284, "user_id": 4907456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7e9ca6461d3002aafae538302b6973?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamSF", "link": "https://stackoverflow.com/users/4907456/williamsf"}, "reply_to_user": {"reputation": 1, "user_id": 4921948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-scXjytyiBEY/AAAAAAAAAAI/AAAAAAAAB-I/efHYO3AEx4w/photo.jpg?sz=128", "display_name": "George Edmonds", "link": "https://stackoverflow.com/users/4921948/george-edmonds"}, "edited": false, "score": 0, "creation_date": 1432151339, "post_id": 30358941, "comment_id": 48809813, "body": "you should read this well written and simple tutorial about reading and writing files in Python: <a href=\"http://www.pythonforbeginners.com/files/reading-and-writing-files-in-python\" rel=\"nofollow noreferrer\">pythonforbeginners.com/files/&hellip;</a>"}], "tags": [], "owner": {"reputation": 284, "user_id": 4907456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7e9ca6461d3002aafae538302b6973?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamSF", "link": "https://stackoverflow.com/users/4907456/williamsf"}, "is_accepted": false, "score": 0, "last_activity_date": 1432150831, "creation_date": 1432150831, "answer_id": 30358941, "question_id": 30358781, "link": "https://stackoverflow.com/questions/30358781/python-writing-a-list-to-a-file-so-it-can-be-read-and-written-to/30358941#30358941", "title": "PYTHON - Writing a list to a file so it can be read and written to", "body": "<p>Here are two functions to save and load your list:</p>\n\n<pre><code>Club = ['George','Isaiah','Alby','Jack']\ndef saveClub(club):\n    myfile= open('myfile.txt','w')\n    for member in club:\n        myfile.write(member+'\\n')\n\ndef loadClub():\n    newClub=[]\n    with open('myfile.txt', 'r') as ins:\n        for line in ins:\n            newClub.append(line.rstrip('\\n'))\n    return newClub\n\nsaveClub(Club)\nClub=loadClub()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 370, "user_id": 3842697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T4AQR.jpg?s=128&g=1", "display_name": "Gil", "link": "https://stackoverflow.com/users/3842697/gil"}, "is_accepted": false, "score": 2, "last_activity_date": 1432151348, "last_edit_date": 1432151348, "creation_date": 1432151018, "answer_id": 30359007, "question_id": 30358781, "link": "https://stackoverflow.com/questions/30358781/python-writing-a-list-to-a-file-so-it-can-be-read-and-written-to/30359007#30359007", "title": "PYTHON - Writing a list to a file so it can be read and written to", "body": "<p>What you are describing is data serialization. There are many formats.</p>\n\n<p>For example, have a look at the <a href=\"https://docs.python.org/2/library/pickle.html#data-stream-format\" rel=\"nofollow\">pickle</a> module. Example usage:</p>\n\n<pre><code> &gt;&gt;&gt; import pickle\n &gt;&gt;&gt; l = [\"my\",\"list\",\"of\",\"strings\"]\n &gt;&gt;&gt; pickle.dump(l,open('pickledfile.txt','wb'))    \n &gt;&gt;&gt; pickle.load(open('pickledfile.txt','rb'))\n    ['my', 'list', 'of', 'strings']\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4921948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-scXjytyiBEY/AAAAAAAAAAI/AAAAAAAAB-I/efHYO3AEx4w/photo.jpg?sz=128", "display_name": "George Edmonds", "link": "https://stackoverflow.com/users/4921948/george-edmonds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432151348, "creation_date": 1432150287, "last_edit_date": 1432150447, "question_id": 30358781, "link": "https://stackoverflow.com/questions/30358781/python-writing-a-list-to-a-file-so-it-can-be-read-and-written-to", "title": "PYTHON - Writing a list to a file so it can be read and written to", "body": "<p>I'm a complete rookie programmer and am making a basic 'membership' program to give me some experience with functions and lists \nSo far i have <a href=\"http://pastebin.com/WDFs72qR\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>#Club membership program with functions\n\nClub = ['George','Isaiah','Alby','Jack']\n\n#FUNCTIONS=========================================================================================================================================================================================================\n\ndef remove_member():\n    \"\"\"Function to delete member from the club\"\"\"\n    print('The club members are:', Club)\n    removal_member = str(input('Enter the name of the member you would like to remove:'))\n    if removal_member in Club:\n        Club.remove(removal_member)\n    else:\n        print('Member not found')\n    print('The club members are now:', Club)\n\ndef add_member():\n    \"\"\"Funtion to add a member to the club\"\"\"\n    new_member = str(input('Enter the name of the member you would like to add:'))\n    Club.append(new_member)\n    print('The club members are now:', Club)\n\ndef functions():\n    print('''\n   List of current funtions:\n   1 = Remove a member\n   2 = Add a member\n   3 = trherjuthyjht\\n''')\n\n#MAIN==================================================================================================================================================================================================================\n\nprint('HELLO AND WELCOME TO THE CLUB MEMBERS PROGRAM')\nprint('The current members of the club are:', Club)\nfunctions()\n\n\nrun_program = input('Would you like to carry out a function? (y/n):')\nwhile run_program == 'y':\n    function_no = int(input('enter the the number of the funtion you would like to execute:'))\n    if function_no == 1:\n        remove_member()\n        run_program = input('Would you like to carry out a function? (y/n):')\n        functions()\n    else:\n        if function_no == 2:\n            add_member()\n            run_program = input('Would you like to carry out a function? (y/n):')\n            functions()\n\ninput('Thanks you for using the Club membership program, press enter to exit.')\n</code></pre>\n\n<p>what i want to do next is expand my file handling skills:\ni want to be able to write the list to a file so everytime i open or close the program the list can be retrieved </p>\n\n<ol>\n<li>how can i do this</li>\n<li>what file type will i need to save it as for python to recognise it as a list</li>\n</ol>\n\n<p>any further help will be much appreciated  </p>\n"}, {"tags": ["python", "c++", "dll", "code-injection", "cpython"], "answers": [{"tags": [], "owner": {"reputation": 423, "user_id": 1924602, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9OwzG.jpg?s=128&g=1", "display_name": "otc", "link": "https://stackoverflow.com/users/1924602/otc"}, "is_accepted": false, "score": 0, "last_activity_date": 1479315494, "last_edit_date": 1479315494, "creation_date": 1432151720, "answer_id": 30359205, "question_id": 30358740, "link": "https://stackoverflow.com/questions/30358740/release-the-python-import-lock-from-a-thread-you-do-not-control-do-not-have-ac/30359205#30359205", "title": "Release the Python import lock from a thread you do not control &amp; do not have access to", "body": "<p>Fixed. Use</p>\n\n<pre><code>_PyImport_ReInitLock(void)\n</code></pre>\n\n<p>before importing</p>\n"}], "owner": {"reputation": 423, "user_id": 1924602, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9OwzG.jpg?s=128&g=1", "display_name": "otc", "link": "https://stackoverflow.com/users/1924602/otc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479315542, "creation_date": 1432150132, "last_edit_date": 1479315542, "question_id": 30358740, "link": "https://stackoverflow.com/questions/30358740/release-the-python-import-lock-from-a-thread-you-do-not-control-do-not-have-ac", "title": "Release the Python import lock from a thread you do not control &amp; do not have access to", "body": "<p>So, I'm injecting a DLL into a Cython application in order to extend its functionality. I am doing this using the following code:\nNote: using Python 2.7; uses the old ModuleNoBlock scheme</p>\n\n<pre><code>PyGILState_STATE sMain = PyGILState_Ensure();\nPyObject* mHook = PyImport_ImportModuleNoBlock(\"hookmodule\");\nPyGILState_Release(sMain);\n</code></pre>\n\n<p>Now, when I inject the DLL into the application and print errors, I get the following:</p>\n\n<pre><code>ImportError: Failed to import hookmodule because the import lockis held by another thread. \n</code></pre>\n\n<p>I found the source to the imp module <a href=\"http://svn.python.org/projects/python/trunk/Python/import.c\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>However <code>_PyImport_ReleaseLock(void)</code> only releases the lock if you call it from the same thread where the lock was acquired.</p>\n\n<p>Is it possible to do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1432150164, "post_id": 30358739, "comment_id": 48809185, "body": "You are using Python 2.7, you need to use <code>raw_input</code> instead of <code>input</code>"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1432150170, "post_id": 30358739, "comment_id": 48809190, "body": "Use <code>raw_input</code> as it seems that you are using python 2"}], "owner": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1432150207, "answer_count": 0, "score": 0, "last_activity_date": 1432150129, "creation_date": 1432150129, "question_id": 30358739, "link": "https://stackoverflow.com/questions/30358739/input-printing-traceback-error", "closed_reason": "Duplicate", "title": "input printing Traceback Error", "body": "<p>I'm new to python and i'm trying to get user input, and print it on the screen, my code is</p>\n\n<pre><code>print(\"What is your name\")\ny = input(\"\")\nprint(y)\n</code></pre>\n\n<p>When ever I put a number it prints, but when i type in a name for example Mike i get the error of,</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"F\", line 10, in &lt;module&gt;\ny = input(\"\")\nFile \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'Mike' is not defined\n</code></pre>\n\n<p>I'm using Pycharm to write and run the program.</p>\n"}, {"tags": ["python", "sql", "django"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user554538"}, "is_accepted": false, "score": 1, "last_activity_date": 1432341508, "creation_date": 1432341508, "answer_id": 30407713, "question_id": 30358736, "link": "https://stackoverflow.com/questions/30358736/compare-two-databases-using-django-and-create-a-third-one-with-the-result/30407713#30407713", "title": "Compare two databases using Django and create a third one with the result?", "body": "<p>You can define <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/multi-db/\" rel=\"nofollow\">multiple database connections</a> in Django. Then, you can issue queries on each connection, and use <a href=\"https://docs.python.org/2/library/difflib.html\" rel=\"nofollow\">difflib</a> to get differences in rows between the results, and put them into another table in another database.</p>\n"}], "owner": {"reputation": 127, "user_id": 1178212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b71ea10cf8e5e302270a39e4f94947?s=128&d=identicon&r=PG", "display_name": "Matias Palomera", "link": "https://stackoverflow.com/users/1178212/matias-palomera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1432341508, "creation_date": 1432150120, "last_edit_date": 1432340808, "question_id": 30358736, "link": "https://stackoverflow.com/questions/30358736/compare-two-databases-using-django-and-create-a-third-one-with-the-result", "title": "Compare two databases using Django and create a third one with the result?", "body": "<p>I am developing a website using Django and I need to compare two databases. </p>\n\n<p>With the differences found I want to create a third table in memory to later use. To give you an idea.</p>\n\n<pre><code>Table1:\n------------\n|ID | Name |\n------------\n| 1 |  A   |\n------------\n| 2 |  B   |\n------------\n| 3 |  C   |\n------------\n\nTable2:\n------------\n|ID | Name |\n------------\n| 1 |  A   |\n------------\n| 2 |  R   |\n------------\n| 3 |  G   |\n------------\n\nResultTable:\n------------\n|ID | Name |\n------------\n| 2 |  R   |\n------------\n| 3 |  G   |\n------------\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["python", "google-app-engine", "google-api", "google-drive-api"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 2744119, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb840988607cb269bb69218fb0f3be0e?s=128&d=identicon&r=PG&f=1", "display_name": "user2744119", "link": "https://stackoverflow.com/users/2744119/user2744119"}, "edited": false, "score": 0, "creation_date": 1432214596, "post_id": 30366272, "comment_id": 48839791, "body": "I don&#39;t think that is going to work.  As I understand it file.insert is supposed to be used when uploading a file to Google Drive.  I&#39;m not uploading anything.  I just want to transfer ownership of a file in my drive and give it to someone else and have it appear in the root of their Drive."}, {"owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "reply_to_user": {"reputation": 133, "user_id": 2744119, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb840988607cb269bb69218fb0f3be0e?s=128&d=identicon&r=PG&f=1", "display_name": "user2744119", "link": "https://stackoverflow.com/users/2744119/user2744119"}, "edited": false, "score": 0, "creation_date": 1432214639, "post_id": 30366272, "comment_id": 48839828, "body": "I suspect you will have to download the file then upload it again."}], "tags": [], "owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "is_accepted": false, "score": 0, "last_activity_date": 1432211420, "last_edit_date": 1432211420, "creation_date": 1432190282, "answer_id": 30366272, "question_id": 30358692, "link": "https://stackoverflow.com/questions/30358692/how-can-i-use-the-google-drive-api-to-transfer-a-file-to-another-users-drive/30366272#30366272", "title": "How can I use the Google Drive API to transfer a file to another user&#39;s Drive?", "body": "<p>Does it return any kind of error?</p>\n\n<p>I don't think you can \"move\" the file like that.  Try <a href=\"https://developers.google.com/drive/v2/reference/files/insert\" rel=\"nofollow\">file.insert</a> to his drive then <a href=\"https://developers.google.com/drive/v2/reference/files/delete\" rel=\"nofollow\">delete</a> from your own.   </p>\n\n<p>I have never heard of anyone trying to patch the location of a file to someone else.  TBH I can't see how that could work, because you would have to have service authenticated with both your account and his account which is not possible.   Even though as you say you are using a service account with access to both account, I seriously drought that the API can support this.   </p>\n\n<p>You will need to do this in two steps,  insert -> to him  Delete -> from you</p>\n\n<p><strong>Update</strong>: I just heard from a colleague who is a Google Drive expert, he said he thought it was broken (patching location).  He did a quick test and verified this is a broken feature.   All it returns is <code>403 - insufficient permissions</code></p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 2744119, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb840988607cb269bb69218fb0f3be0e?s=128&d=identicon&r=PG&f=1", "display_name": "user2744119", "link": "https://stackoverflow.com/users/2744119/user2744119"}, "is_accepted": false, "score": 1, "last_activity_date": 1432220005, "creation_date": 1432220005, "answer_id": 30377309, "question_id": 30358692, "link": "https://stackoverflow.com/questions/30358692/how-can-i-use-the-google-drive-api-to-transfer-a-file-to-another-users-drive/30377309#30377309", "title": "How can I use the Google Drive API to transfer a file to another user&#39;s Drive?", "body": "<p>OK, I figured it out.  It looks like I was just using the wrong API.  You have to first insert the new permission then you have to delete the old permission.  This will send the file to the root of the new user's Drive.</p>\n\n<pre><code># Insert new permission first\nnew_permission = {\n          'value': 'email_of_new_owner@mydomain.com',\n          'type': 'user',\n          'role': 'owner'\n          }\n\nrun_new_permission = service.permissions().insert(fileId='FILE_ID_GOES_HERE',body=new_permission).execute()\n# Then delete old permission\nservice.permissions().delete(fileId='FILE_ID_GOES_HERE', permissionId='PERMISSION_ID_GOES_HERE').execute()\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 2744119, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb840988607cb269bb69218fb0f3be0e?s=128&d=identicon&r=PG&f=1", "display_name": "user2744119", "link": "https://stackoverflow.com/users/2744119/user2744119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1402, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432220005, "creation_date": 1432149974, "last_edit_date": 1432191948, "question_id": 30358692, "link": "https://stackoverflow.com/questions/30358692/how-can-i-use-the-google-drive-api-to-transfer-a-file-to-another-users-drive", "title": "How can I use the Google Drive API to transfer a file to another user&#39;s Drive?", "body": "<p>I am trying to transfer a Google Doc that currently belongs to me and move it to the root of another user's Google Drive.  Both account are in the same domain and I'm using a Service Account to access all users.</p>\n\n<p>At first I tried doing this by modifying the permissions. This would give the second user access to the file but it would not place it into the root of their drive or anywhere else.  If the user wanted to see it they would have to do a search.</p>\n\n<p>I then found some information that mentioned using the patch method of the files service to change the metadata of the file and thus initiate the transfer, but this hasn't worked.</p>\n\n<p>The only thing I have for certain are the ID's of the root folders belonging to myself and the user I want to transfer the files to.  Here's what I tried to do but failed.</p>\n\n<pre><code># Note: \"service\" is the connection to the domain service account \n\nservice.files().patch(fileId='FILE_ID_GOES_HERE',\n                                     body={'parents':[{'isRoot':True,'kind':'drive#parentReference','id':'user_two_root_folder_id'}]},\n                                     removeParents=['user_one_root_folder_id'],\n                                     addParents=['user_two_root_folder_id'])\n</code></pre>\n\n<p>I can't tell if anything is wrong because I'm not getting any error messages.</p>\n\n<p>Any ideas as to how to go about this would be greatly appreciated.</p>\n"}, {"tags": ["python", "python-2.7", "opencv", "numpy", "pycharm"], "comments": [{"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1432150342, "post_id": 30358603, "comment_id": 48809287, "body": "you need to install <code>scipy</code> it looks like: <code>ImportError: cannot import name scimath</code>"}, {"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1432150385, "post_id": 30358603, "comment_id": 48809312, "body": "I would suggest installing something like Python(x,y) or my personal favorite Anaconda.  These help you to manage installations correctly."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1432150386, "post_id": 30358603, "comment_id": 48809314, "body": "Do you have multiple python installations or any virtual environments?"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1432150466, "post_id": 30358603, "comment_id": 48809350, "body": "@KronoS, if OP is using pycharm, OP may want to <a href=\"https://www.jetbrains.com/pycharm/help/installing-uninstalling-and-upgrading-packages.html\" rel=\"nofollow noreferrer\">install packages through pycharm</a> instead of complicating the problem with another installation."}, {"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1432150519, "post_id": 30358603, "comment_id": 48809376, "body": "@wflynny I&#39;m not sure that pycharm always does a good enough job of installing dependencies with the packages."}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1432151263, "post_id": 30358603, "comment_id": 48809783, "body": "@wflynny i can not download scimath through pycharm. it gives error."}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "edited": false, "score": 0, "creation_date": 1432151335, "post_id": 30358603, "comment_id": 48809811, "body": "I think moving to anaconda will make me suffer more, i will prefer to use pycharm. currently i am use too with it. So how should i install scimath"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1432151431, "post_id": 30358603, "comment_id": 48809879, "body": "@khan Install scipy through pycharm, not scimath."}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1432151529, "post_id": 30358603, "comment_id": 48809940, "body": "@wflynny it was already there, even i install scipy again but still give same error."}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "edited": false, "score": 0, "creation_date": 1432152192, "post_id": 30358603, "comment_id": 48810365, "body": "i solved that problem with the help of this post. <a href=\"http://unix.stackexchange.com/questions/52703/using-atlas-from-scipy\" title=\"using atlas from scipy\">unix.stackexchange.com/questions/52703/using-atlas-from-scip&zwnj;&#8203;y</a>"}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "edited": false, "score": 0, "creation_date": 1432152206, "post_id": 30358603, "comment_id": 48810374, "body": "But how to solve now the second part. No module name cv2"}, {"owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "edited": false, "score": 0, "creation_date": 1432154610, "post_id": 30358603, "comment_id": 48811708, "body": "You need to install OpenCV, have a look at <a href=\"http://docs.opencv.org/doc/tutorials/introduction/linux_install/linux_install.html\" rel=\"nofollow noreferrer\">docs.opencv.org/doc/tutorials/introduction/linux_install/&hellip;</a>."}, {"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "reply_to_user": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "edited": false, "score": 0, "creation_date": 1432165231, "post_id": 30358603, "comment_id": 48815821, "body": "@Greg Yes still gave the same error"}, {"owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "edited": false, "score": 0, "creation_date": 1432187860, "post_id": 30358603, "comment_id": 48822201, "body": "I just noticed that that only install OpenCV and not the Python bindings which is probably why you still get the ImportError, maybe <a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_setup/py_setup_in_fedora/py_setup_in_fedora.html#install-opencv-python-in-fedora\" rel=\"nofollow noreferrer\">opencv-python-tutroals.readthedocs.org/en/latest/py_tutorial&zwnj;&#8203;s/&hellip;</a> can help you."}], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "edited": false, "score": 0, "creation_date": 1432151615, "post_id": 30358828, "comment_id": 48809989, "body": "Gives error : ImportError: libatlas.so.3gf: cannot open shared object file: No such file or directory"}], "tags": [], "owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "is_accepted": false, "score": -1, "last_activity_date": 1432150442, "creation_date": 1432150442, "answer_id": 30358828, "question_id": 30358603, "link": "https://stackoverflow.com/questions/30358603/import-numpy-and-cv2-error-in-pycharm/30358828#30358828", "title": "import Numpy and cv2 error in pycharm", "body": "<p>I am unaware how much experience you have with Python, so sorry if my answer is too simple, but have you tried installing scimath by typing</p>\n\n<pre><code>pip install scimath\n</code></pre>\n\n<p>in a console/terminal?</p>\n"}], "owner": {"reputation": 511, "user_id": 242871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a536aba68eb292c38fab0b97501a34aa?s=128&d=identicon&r=PG", "display_name": "khan", "link": "https://stackoverflow.com/users/242871/khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432150442, "creation_date": 1432149677, "question_id": 30358603, "link": "https://stackoverflow.com/questions/30358603/import-numpy-and-cv2-error-in-pycharm", "title": "import Numpy and cv2 error in pycharm", "body": "<p>I am trying to set up theano in Pycharm community edition 4.5. I am working on ubuntu 12.04.\nI have two questions,</p>\n\n<pre><code>1) import numpy gives error, although when i check project interpreter i see numpy installed.\n2) import cv2; (this is underlined with red line).\n</code></pre>\n\n<p>The error on pycharm console is givn below:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/afs/cs.stanford.edu/u/ihsan/Documents/pycharm-community-4.5/helpers /pydev/pydevd.py\", line 2357, in &lt;module&gt; \n globals = debugger.run(setup['file'], None, None, is_module)\n File \"/afs/cs.stanford.edu/u/ihsan/Documents/pycharm-community-4.5/helpers/pydev/pydevd.py\", line 1777, in run\n pydev_imports.execfile(file, globals, locals)  # execute the script\n File \"/scr/Ihsan/22-april-code/my_convolutional_mlp_2.py\", line 29, in &lt;module&gt;\n import numpy\n File \"/afs/cs.stanford.edu/u/ihsan/Documents/pycharm-community-4.5/helpers/pydev/pydev_monkey_qt.py\", line 71, in patched_import\n return original_import(name, *args, **kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/numpy/__init__.py\", line 170, in &lt;module&gt;\n  from . import add_newdocs\nFile \"/afs/cs.stanford.edu/u/ihsan/Documents/pycharm-community-4.5/helpers/pydev/pydev_monkey_qt.py\", line 71, in patched_import\n return original_import(name, *args, **kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/numpy/add_newdocs.py\", line 13, in &lt;module&gt;\nfrom numpy.lib import add_newdoc\nFile \"/afs/cs.stanford.edu/u/ihsan/Documents/pycharm-community-4.5/helpers/pydev/pydev_monkey_qt.py\", line 71, in patched_import\n  return original_import(name, *args, **kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/numpy/lib/__init__.py\", line 17, in &lt;module&gt; \n  from . import scimath as emath\nImportError: cannot import name scimath\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>But my first problem is with numpy, it stops with import numpy and does not go further.\nAny clue how to solve it?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 939, "user_id": 5660315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41692e908eb7d3f521efdf8a130b9636?s=128&d=identicon&r=PG&f=1", "display_name": "VirtualScooter", "link": "https://stackoverflow.com/users/5660315/virtualscooter"}, "is_accepted": false, "score": 1, "last_activity_date": 1451669881, "last_edit_date": 1451669881, "creation_date": 1451669476, "answer_id": 34558355, "question_id": 30358504, "link": "https://stackoverflow.com/questions/30358504/pandas-python-collecting-using-and-saving-real-time-data/34558355#34558355", "title": "pandas, python: collecting, using and saving real time data", "body": "<p>Insert the following code near the top of your code:</p>\n\n<pre><code>from datetime import *\n\ndef fivemin():\n    \"\"\"Generate time string in 5 minute intervals\"\"\"\n    dt0 = datetime.now()\n    dt1 = dt0.replace(minute=5*(int)(dt0.minute/5),second=0,microsecond=0)\n    return dt1.time().strftime('%H:%M')\n</code></pre>\n\n<p>Just above the definition for <code>error_handler</code>, add the following:</p>\n\n<pre><code>ds = datetime.now().replace(hour=9,minute=30,second=0,microsecond=0)\nfor i in range(79):\n    d_i = ds+timedelta(minutes=5*i)\n    contracts[d_i.strftime('%H:%M') = 0\n</code></pre>\n\n<p>Then replace your <code>contracts...bidVol</code> line with the following:</p>\n\n<pre><code>contracts.loc[msg.tickerId, fivemin()] += contracts.loc[msg.tickerId, 'lastSize']\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4474538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac07adeab6ec10625d8f888c83c182c?s=128&d=identicon&r=PG&f=1", "display_name": "john wouters", "link": "https://stackoverflow.com/users/4474538/john-wouters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1451669881, "creation_date": 1432149325, "question_id": 30358504, "link": "https://stackoverflow.com/questions/30358504/pandas-python-collecting-using-and-saving-real-time-data", "title": "pandas, python: collecting, using and saving real time data", "body": "<p>In the Python (2.7.9) code below, I am receiving real time stock data via callbacks through TWS API and IBpy.  As the data of interest, <strong>bid, ask, last price, and last trade size</strong> comes in, it goes into a pandas (0.16.1) data frame.  Also, I have added a column to the data frame 'bidVol' where the last few lines of code place the running sum of trades or volume done at the bid price.  Currently I get the total shares exchanged at the bid for a given stock in the 'bidVol' column.  I would like to replace the single 'bidVol' column with 78 columns, one for each total generated over the five minute intervals of a trading day.\nHow would I:</p>\n\n<p>1) create additional columns with clock time headings for 5 minute intervals between 9:30 and 4:00 pm, so the headings of the data frame look like:</p>\n\n<p>'symbol', 'security', 'exchange', 'currency', '9:30', '9:35',..., '3:55'</p>\n\n<p>2) then put that sum of volume for trades done at the bid price during a given time interval into its respective column?</p>\n\n<pre><code> from __future__ import print_function\n import pandas as pd\n import numpy\n from ib.opt import ibConnection, message\n from ib.ext.Contract import Contract\n from ib.ext.TickType import TickType as tt\n from time import sleep\n\n # establish universe of stocks to watch...\n\n contracts = pd.DataFrame([\n        ['FGEN', 'STK', 'SMART', 'USD'],\n        ['AAPL', 'STK', 'SMART', 'USD'],\n        ['GILD', 'STK', 'SMART', 'USD'],\n        ['INTC', 'STK', 'SMART', 'USD'],\n        ['MSFT', 'STK', 'SMART', 'USD']\n\n ])\n\n # create column names for DataFrame\n\n contracts.columns = ['symbol', 'security', 'exchange', 'currency']\n\n # add specific column names to match name returned by tickType.getField()\n contracts['bidPrice'] = 0\n contracts['askPrice'] = 0\n contracts['lastPrice'] = 0\n contracts['lastSize'] = 0\n contracts['bidVol'] = 0\n def error_handler(msg):\n        print(msg)\n\n def my_callback_handler(msg):\n        if msg.field in [tt.BID, tt.ASK, tt.LAST]:\n               # now store response in the data frame\n                 contracts.loc[msg.tickerId, tt.getField(msg.field)] =   msg.price\n        elif msg.field in [tt.LAST_SIZE]:\n                 contracts.loc[msg.tickerId, tt.getField(msg.field)] = msg.size\n                 if msg.field == tt.LAST_SIZE:\n                         if contracts.loc[msg.tickerId, 'bidPrice'] ==    contracts.loc[msg.tickerId, 'lastPrice']:\n                        contracts.loc[msg.tickerId, 'bidVol'] += contracts.loc[msg.tickerId, 'lastSize']\n\n                             print(contracts.values)\n</code></pre>\n"}, {"tags": ["python", "multiprocessing", "subprocess"], "comments": [{"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "edited": false, "score": 1, "creation_date": 1432149638, "post_id": 30358484, "comment_id": 48808873, "body": "Popen.communicate waits for the process to finish, so when you try the second call, the process is already dead."}, {"owner": {"reputation": 11, "user_id": 4080714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd53996ebd690f34f827f4d15cba6fd4?s=128&d=identicon&r=PG&f=1", "display_name": "arna1998", "link": "https://stackoverflow.com/users/4080714/arna1998"}, "reply_to_user": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "edited": false, "score": 0, "creation_date": 1432151162, "post_id": 30358484, "comment_id": 48809717, "body": "So, is it correct using the functions write(), flush() and read()?"}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "edited": false, "score": 0, "creation_date": 1432151247, "post_id": 30358484, "comment_id": 48809770, "body": "Yep. Check this <a href=\"http://stackoverflow.com/questions/30241937/communicate-data-between-c-and-python-apps-running-continuously/30242613#30242613\" title=\"communicate data between c and python apps running continuously\">stackoverflow.com/questions/30241937/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 4080714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd53996ebd690f34f827f4d15cba6fd4?s=128&d=identicon&r=PG&f=1", "display_name": "arna1998", "link": "https://stackoverflow.com/users/4080714/arna1998"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1432151209, "creation_date": 1432149282, "last_edit_date": 1432151209, "question_id": 30358484, "link": "https://stackoverflow.com/questions/30358484/subprocess-module-python", "title": "Subprocess module Python", "body": "<p>We have an issue using the subprocess library in Python. We tried to pass 2 message with the function communicate. The first one work correctly, but the second one generates a IOError\nerror. I think that we probably use incorrectly the function of the subprocess library, but we are not able to fix it.\nCan anyone help us?\nHere is the code:</p>\n\n<pre><code>from subprocess import *\n\nvideo=Popen(\"omxplayer myvideo.mp4\",shell=True,stdout=PIPE,stdin=PIPE)\n\nvideo.stdin.write('+')\nvideo.stdin.flush()\nresult=video.stdout.read()\nprint \"Vol +: \"+result\nvideo.communicate('p')\nprint \"Pause\"\n</code></pre>\n\n<p>And the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"youtube.py\", line 55, in &lt;module&gt;\n    proc.stdin.write('+')\nIOError: [Errno 32] Broken pipe\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "counter", "ordereddictionary"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432154392, "post_id": 30359590, "comment_id": 48811599, "body": "I wouldn&#39;t recommend this. Neither <code>defaultdict</code> nor <code>OrderedDict</code> were designed to be used with multiple inheritance. I see you tried to address the problems with multiple initialization, but it&#39;s still much more fragile than just inheriting from <code>OrderedDict</code> and supplying your own <code>__missing__</code> method."}], "tags": [], "owner": {"reputation": 11148, "user_id": 342859, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6484adc258d87ac6b62dbd93898df65d?s=128&d=identicon&r=PG", "display_name": "Yossi", "link": "https://stackoverflow.com/users/342859/yossi"}, "is_accepted": false, "score": 0, "last_activity_date": 1432153083, "creation_date": 1432153083, "answer_id": 30359590, "question_id": 30358471, "link": "https://stackoverflow.com/questions/30358471/using-ordereddict-to-count-instances/30359590#30359590", "title": "Using OrderedDict to count instances", "body": "<p>You can define your own class that inherits from both <code>defaultdict</code> and <code>OrderedDict</code>.</p>\n\n<pre><code>class OrderedDefaultDict(defaultdict, OrderedDict):\n    def __init__(self, default, *args, **kwargs):\n        defaultdict.__init__(self, default)\n        OrderedDict.__init__(self, *args, **kwargs)\n\ncounter = OrderedDefaultDict(int)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432153802, "post_id": 30359679, "comment_id": 48811238, "body": "Or <code>counter[day] = counter.get(day, 0) + 1</code>."}, {"owner": {"reputation": 165, "user_id": 4921853, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/602d046ecc1bc07ce379e77e1d541766?s=128&d=identicon&r=PG&f=1", "display_name": "superhero", "link": "https://stackoverflow.com/users/4921853/superhero"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432155433, "post_id": 30359679, "comment_id": 48812151, "body": "@user2357112 nailed it!"}, {"owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432216450, "post_id": 30359679, "comment_id": 48841225, "body": "Good call @user2357112. Not sure why I didn&#39;t think to do it that way myself. I&#39;ve updated the answer and gave you credit."}], "tags": [], "owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "is_accepted": false, "score": 1, "last_activity_date": 1432216376, "last_edit_date": 1432216376, "creation_date": 1432153390, "answer_id": 30359679, "question_id": 30358471, "link": "https://stackoverflow.com/questions/30358471/using-ordereddict-to-count-instances/30359679#30359679", "title": "Using OrderedDict to count instances", "body": "<p>You can check that <code>day</code> is in the OrderedDict. If so, add to it, if not set it to <code>1</code>.</p>\n\n<pre><code>counter = OrderedDict()\n\nw = open('file.txt', 'r')\ny = w.readlines()\nfor line in y:\n    day,words = line[:6], line[14:]\n    if re.search(r\"foo\", words):\n        if day in counter:\n            counter[day] += 1\n        else:\n            counter[day] = 1\n</code></pre>\n\n<p>Of course, the OrderedDict will then be ordered by the first occurrence of each day in your source text file.</p>\n\n<p>Instead, you might consider parsing the date as a datetime.date object and using that as the key on your defaultdict. Then you can sort on the keys and get all items in order by date/time--regardless of what order they appear in your source text file.</p>\n\n<hr>\n\n<p>As @user2357112 pointed out in a comment, you could make the logic simpler when incrementing the counter. Like this:</p>\n\n<pre><code>counter = OrderedDict()\n\nw = open('file.txt', 'r')\ny = w.readlines()\nfor line in y:\n    day,words = line[:6], line[14:]\n    if re.search(r\"foo\", words):\n        counter[day] = counter.get(day, 0) + 1\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4921853, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/602d046ecc1bc07ce379e77e1d541766?s=128&d=identicon&r=PG&f=1", "display_name": "superhero", "link": "https://stackoverflow.com/users/4921853/superhero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432216376, "creation_date": 1432149248, "last_edit_date": 1432152008, "question_id": 30358471, "link": "https://stackoverflow.com/questions/30358471/using-ordereddict-to-count-instances", "title": "Using OrderedDict to count instances", "body": "<p>I am trying to use OrderedDict() to keep track of instances of a word. I have data that is organized by day, and I want to count the number of instances of 'foo' in that day. Each line is indexed by the day. Using defaultdict gives me what I want, but, of course, without the ordering:</p>\n\n<pre><code>from collections import defaultdict\ncounter = defaultdict(int)\n\nw = open('file.txt', 'r')\ny = w.readlines()\nfor line in y:\n    day,words = line[:6], line[14:]\n    if re.search(r\"foo\", words):\n        counter[day] += 1\n</code></pre>\n\n<p>If I use OrderedDict how can I do the same thing so I can have the data ordered the way it is read? If I use </p>\n\n<pre><code>for key, value in sorted(counter.items()):\n    print(key, value)\n</code></pre>\n\n<p>Then I get the list in alphabetical order. I know I could read the days into an array and then iterate the keys based on this, however, this seems very inefficient. </p>\n\n<p>Suppose my text file looks like this:</p>\n\n<pre><code>Sep 1, 2014, 22:23 - ######: Here is a foo\nSep 1, 2014, 22:23 - ######: Not here\nSep 2, 2014, 19:09 - ######: foo sure\nSep 2, 2014, 19:57 - ######: footastic\nSep 2, 2014, 19:57 - ######: foo-king awesome\nSep 2, 2014, 19:57 - ######: No esta aqui\n</code></pre>\n\n<p>I want my dictionary to print:</p>\n\n<pre><code>('Sep 1,', 1)\n('Sep 2,', 3)\n</code></pre>\n"}, {"tags": ["python", "windows-installer", "installation", "setuptools"], "comments": [{"owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "edited": false, "score": 1, "creation_date": 1432150209, "post_id": 30358452, "comment_id": 48809215, "body": "could you include a batch file with the <code>python setup.py install</code> and just have them run th batch file?"}, {"owner": {"reputation": 2270, "user_id": 299354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88b1c3689340957c13f77ff1558b4ade?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeyg36", "link": "https://stackoverflow.com/users/299354/mikeyg36"}, "reply_to_user": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "edited": false, "score": 0, "creation_date": 1432150550, "post_id": 30358452, "comment_id": 48809394, "body": "I suppose I could. Good idea. But I am also wondering if there are more polished solutions."}], "answers": [{"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1433484930, "creation_date": 1433484930, "answer_id": 30659543, "question_id": 30358452, "link": "https://stackoverflow.com/questions/30358452/windows-installer-for-python-module-which-includes-dependencies/30659543#30659543", "title": "Windows installer for Python module which includes dependencies", "body": "<p>Yes, it would be possible to use an application like <a href=\"http://nsis.sourceforge.net/Main_Page\" rel=\"nofollow\">Nullsoft NSIS</a> to build an installer that would install your python package, but it will require more code and an extra build step.</p>\n\n<p>Do your coworkers have pip and setuptools installed?  Are you able to distribute your package on pypi?  If so, it would be really simple for your coworkers to just do <code>pip install mypackage</code>.  It has the added benefit of handling dependencies and if you use python wheels, your users don't require a build environment to install your package.</p>\n"}], "owner": {"reputation": 2270, "user_id": 299354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88b1c3689340957c13f77ff1558b4ade?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeyg36", "link": "https://stackoverflow.com/users/299354/mikeyg36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433484930, "creation_date": 1432149174, "question_id": 30358452, "link": "https://stackoverflow.com/questions/30358452/windows-installer-for-python-module-which-includes-dependencies", "title": "Windows installer for Python module which includes dependencies", "body": "<p>I have a python module with an entry point in its setup.py which points to __ main__.py. I want to be able to distribute this module to my coworkers in such a way that they can install it using a windows installer, and execute the entry point from the command line. They already have Python installed on their computer.</p>\n\n<p>The built-in <code>python setup.py bdist_wininst</code> functionality looked perfect, except that my module has a third party module dependency, and for some reason, bdist_wininst does not install dependencies even if they are specified in the setup's <code>install_requires</code>.</p>\n\n<p>All-in-one windows exe solutions such as py2exe or pyinstaller are not suitable since the entry point requires input, and I want the user to be able to specify the input via the command line.</p>\n\n<p>Of course, I could distribute the module source files and have my coworkers run python setup.py install, but they will be too afraid - they are not programmers.</p>\n"}, {"tags": ["python", "django", "python-mock"], "comments": [{"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 1, "creation_date": 1432908318, "post_id": 30358440, "comment_id": 49136825, "body": "I&#39;m not a Django expert, but my guess is that <code>TaxCloud</code> object is not build at request time but a django service init time. You should try to <code>patch</code> <code>sales.TaxCloud.Client.service.Lookup</code>  instead and use <code>return_value</code> instead of your own new mock."}, {"owner": {"reputation": 2340, "user_id": 1840001, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/81f858f27726ad1aa998439d0b654008?s=128&d=identicon&r=PG", "display_name": "cph2117", "link": "https://stackoverflow.com/users/1840001/cph2117"}, "edited": false, "score": 0, "creation_date": 1493337489, "post_id": 30358440, "comment_id": 74386332, "body": "@melissa did you find a solution for this?"}, {"owner": {"reputation": 1309, "user_id": 374383, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/89717db02f914bb81b8a90b7f2d16733?s=128&d=identicon&r=PG", "display_name": "Melissa Avery-Weir", "link": "https://stackoverflow.com/users/374383/melissa-avery-weir"}, "reply_to_user": {"reputation": 2340, "user_id": 1840001, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/81f858f27726ad1aa998439d0b654008?s=128&d=identicon&r=PG", "display_name": "cph2117", "link": "https://stackoverflow.com/users/1840001/cph2117"}, "edited": false, "score": 0, "creation_date": 1494184096, "post_id": 30358440, "comment_id": 74707685, "body": "@cph2117 Unfortunately not. We&#39;ve been able to mock other service calls just fine using the method I describe above, but not this."}], "owner": {"reputation": 1309, "user_id": 374383, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/89717db02f914bb81b8a90b7f2d16733?s=128&d=identicon&r=PG", "display_name": "Melissa Avery-Weir", "link": "https://stackoverflow.com/users/374383/melissa-avery-weir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1007, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1433284063, "creation_date": 1432149126, "last_edit_date": 1495535494, "question_id": 30358440, "link": "https://stackoverflow.com/questions/30358440/where-to-mock-to-test-a-django-view-that-calls-a-service", "title": "Where to mock to test a Django view that calls a service?", "body": "<p>This is Django 1.6.8, Python 2.7, and the <a href=\"https://pypi.python.org/pypi/mock/1.0.1\" rel=\"nofollow noreferrer\">mock</a> library.</p>\n\n<p>I have a view that calls a remote service using suds for sales tax information (this is a simplified version):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def sales_tax(self, bundle_slug):\n    bundle = get_object_or_404(Bundle, slug=bundle_slug,\n                                active=True)\n\n    cloud = TaxCloud(TAXCLOUD_API_ID, TAXCLOUD_API_KEY)\n    origin = Address('origin address')\n    destination = Address('customer address')\n    cart_item = CartItem(bundle.sku, TAXCLOUD_TIC_ONLINE_GAMES,\n                        bundle.price, 1)\n\n    try:\n        rate_info = cloud.get_rate(origin, destination,\n                                    [cart_item],\n                                    str(customer.id))\n\n        sales_tax = Decimal(rate_info['sales_tax'])\n\n        response = {'salesTax': locale.currency(sales_tax),\n                    'total':  locale.currency(bundle.price + sales_tax)}\n    except TaxCloudException as tce:\n        response = {\n            'error': str(tce)\n        }\n</code></pre>\n\n<p>Here's relevant code from the <code>TaxCloud</code> class:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from suds.client import Client\nfrom suds import WebFault\n\nclass TaxCloud(object):\n\n    def __init__(self, api_login_id, api_key):\n        self.api_login_id = api_login_id\n        self.api_key = api_key\n        self.soap_url = 'https://api.taxcloud.net/1.0/TaxCloud.asmx'\n        self.wsdl_url = 'https://api.taxcloud.net/1.0/?wsdl' \n\n        self.client = Client(url=self.wsdl_url, location=self.soap_url, faults=False)\n\n    def get_rate(self, billing_address, origin_address, raw_cart_items, customer_id):\n        address = self.convert_to_address(billing_address)\n        origin = self.convert_to_address(origin_address)\n        cart_items = self.convert_to_cart_list(raw_cart_items)\n\n        response = self.client.service.Lookup(self.api_login_id,\n                                              self.api_key, customer_id,\n                                              self.cart_id(customer_id), cart_items,\n                                              address, origin, True, None)\n\n        if( response[1].ResponseType == 'Error' ):\n            raise TaxCloudException(response[1].Messages[0][0].Message)\n\n        return {\n            'sales_tax': str(response[1].CartItemsResponse[0][0].TaxAmount),\n            'cart_id': response[1].CartID\n        }\n</code></pre>\n\n<p>In my test for the view, I don't want to call the remote service. Using <a href=\"https://stackoverflow.com/a/28284506/374383\">this example of a mocked client</a>, I built out a dumb mock class (my <code>ClientMock</code> matches exactly the example in that answer):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class TaxCloudServiceClientMock(ClientMock):\n    \"\"\"\n    Mock object that implements remote side services.\n    \"\"\"\n\n    def Lookup(cls, api_id, api, customer_id, cart_id, cart_items,\n               address, origin, flag, setting):\n        \"\"\"\n        Stub for remote service.\n        \"\"\"\n        return \"\"\"(200, (LookupRsp){\n               ResponseType = \"OK\"\n               Messages = \"\"\n               CartID = \"82cabf35faf66d8b197c7040a9f7382b3f61573fc043d73717\"\n               CartItemsResponse =\n                  (ArrayOfCartItemResponse){\n                     CartItemResponse[] =\n                        (CartItemResponse){\n                           CartItemIndex = 1\n                           TaxAmount = 0.10875\n                        },\n                  }\n                })\"\"\"\n</code></pre>\n\n<p>In my test, I'm trying to <code>@patch</code> the <code>Client</code> used in the <code>TaxCloud</code> class:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>@patch('sales.TaxCloud.Client', new=TaxCloudServiceClientMock)\ndef test_can_retrieve_sales_tax(self):\n    from django.core.urlresolvers import reverse\n\n    tax_url = reverse('sales_tax', kwargs={'bundle_slug': self.bundle.slug})\n    self.client.login(username=self.user.username, password='testpassword')\n\n    response = self.client.get(tax_url, {'address1': '1234 Blah St',\n                                        'city': 'Some City',\n                                        'state': 'OH',\n                                        'zipcode': '12345',\n                                        'country': 'US'},\n        HTTP_X_REQUESTED_WITH='XMLHttpRequest')\n\n    self.assertEqual(response.status_code, 200)\n</code></pre>\n\n<p>The remote call is still being made, however. Based on the \"<a href=\"http://www.voidspace.org.uk/python/mock/patch.html#where-to-patch\" rel=\"nofollow noreferrer\">Where to mock</a>\" documentation, I'm correctly targeting <code>sales.TaxCloud.Client</code> instead of <code>suds.client.Client</code>.</p>\n\n<p>What could be causing the patch to be ignored/bypassed?</p>\n"}, {"tags": ["python", "function", "class", "variables"], "comments": [{"owner": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 1, "creation_date": 1432149133, "post_id": 30358395, "comment_id": 48808598, "body": "indentation is wrong. The two functions inside the class must be indented for them to be part of the class. If this is not exactly the code you are working with, please copy it with the correct indentation."}, {"owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "reply_to_user": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 1, "creation_date": 1432154314, "post_id": 30358395, "comment_id": 48811561, "body": "Where is the indentation wrong?"}, {"owner": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 0, "creation_date": 1432154702, "post_id": 30358395, "comment_id": 48811751, "body": "Now it is ok. It was wrong in the first version."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1432157027, "post_id": 30358395, "comment_id": 48813005, "body": "Define &quot;it didn&#39;t work&quot;. Include any errors too (in the question itself)."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "edited": false, "score": 0, "creation_date": 1432154379, "post_id": 30358705, "comment_id": 48811590, "body": "Also, thanks, I had changed the variable name and forgot to do so in the message"}, {"owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "edited": false, "score": 0, "creation_date": 1432156267, "post_id": 30358705, "comment_id": 48812620, "body": "I&#39;m sure it&#39;s something really silly that I&#39;m not seeing. The error is TypeError: createNewFile() takes exactly 2 arguments (1 given). My code for instancing it is the same as in the question"}, {"owner": {"reputation": 1416, "user_id": 3568491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/L9O7f.jpg?s=128&g=1", "display_name": "Namit Singal", "link": "https://stackoverflow.com/users/3568491/namit-singal"}, "reply_to_user": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "edited": false, "score": 0, "creation_date": 1432156422, "post_id": 30358705, "comment_id": 48812691, "body": "Oh, this is because of def createNewFile(self, createFileEntry), Remove createFileEntry from the class definition, adding in edit, try removing it and running it. It is because, the function accepts createFileEntry as a parameter, and you are passing no parameters while calling the function"}, {"owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "edited": false, "score": 0, "creation_date": 1432156569, "post_id": 30358705, "comment_id": 48812757, "body": "So I did that, and it came back to the original error: NameError: global name &#39;createFileEntry&#39; is not defined"}, {"owner": {"reputation": 5601, "user_id": 399704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b514c8a067bea4798fe21b5822d1bba7?s=128&d=identicon&r=PG", "display_name": "Aaron D", "link": "https://stackoverflow.com/users/399704/aaron-d"}, "edited": false, "score": 0, "creation_date": 1432156892, "post_id": 30358705, "comment_id": 48812931, "body": "@NamitSingal I think you want <code>self.createFileEntry.</code> on the two last lines of the <code>def createNewFile(self):</code> block"}, {"owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "edited": false, "score": 0, "creation_date": 1432157419, "post_id": 30358705, "comment_id": 48813194, "body": "Thanks guys, that fixed it."}, {"owner": {"reputation": 1416, "user_id": 3568491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/L9O7f.jpg?s=128&g=1", "display_name": "Namit Singal", "link": "https://stackoverflow.com/users/3568491/namit-singal"}, "edited": false, "score": 0, "creation_date": 1432158619, "post_id": 30358705, "comment_id": 48813681, "body": "You can also click the checkmark next to the answer to indicate that it was correct. :)"}], "tags": [], "owner": {"reputation": 1416, "user_id": 3568491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/L9O7f.jpg?s=128&g=1", "display_name": "Namit Singal", "link": "https://stackoverflow.com/users/3568491/namit-singal"}, "is_accepted": false, "score": 1, "last_activity_date": 1432156960, "last_edit_date": 1432156960, "creation_date": 1432150019, "answer_id": 30358705, "question_id": 30358395, "link": "https://stackoverflow.com/questions/30358395/geting-a-function-variable-in-another-function-in-a-python-class/30358705#30358705", "title": "Geting a function variable in another function in a python class", "body": "<p>Here in the code shown above you are only creating local instances of the variables, create class variables if you want to use across classes, try using this: - </p>\n\n<pre><code>class createNewFile:\n    def createNewFile(self): \n        string = StringVar()\n        self.createFileEntry = Entry( CROW, textvariable = string)\n        self.createFileEntry.pack()\n        self.createFileEntry.focus_set()  \n\n    def saveNewFile(self, message):\n        filename = self.createFileEntry.get()  \n        extention = filename \n        target = open (extention, 'a')  \n        message = tkMessageBox.showinfo('What happened','Recived ' +getFileEntry+' as filename')\n</code></pre>\n\n<p>Also, I am unable to find getFileEntry in the source code you have provided.  anything that you want to save in the class instance, save or edit it using self.variable_name. I hope I have answered your question.</p>\n"}], "owner": {"reputation": 57, "user_id": 3712497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000103950820/picture?type=large", "display_name": "Andre Felipe", "link": "https://stackoverflow.com/users/3712497/andre-felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432156960, "creation_date": 1432148962, "last_edit_date": 1432149856, "question_id": 30358395, "link": "https://stackoverflow.com/questions/30358395/geting-a-function-variable-in-another-function-in-a-python-class", "title": "Geting a function variable in another function in a python class", "body": "<p>So I have this code</p>\n\n<pre><code>class createNewFile:\n    def createNewFile(createFileEntry):\n        string = StringVar()\n        createFileEntry = Entry( CROW, textvariable = string)\n        createFileEntry.pack()\n        createFileEntry.focus_set()\n\n    def saveNewFile(message):\n        filename = createFileEntry.get()\n        extention = filename\n        target = open (extention, 'a')\n        message = tkMessageBox.showinfo('What happened','Recived ' +getFileEntry+' as filename')\n\n\nnewFileButton = createNewFile()\nnewFileButton.createNewFile()\nnewFileButton.saveNewFile\n\nnewFileIcon = PhotoImage(file='icons/newFile.png')\ncreateFileBtn = Button(toolbar, image = newFileIcon, command = newFileButton.createNewFile,relief='solid',background='white', border=0)\ncreateFileBtn.pack(side=LEFT, padx=0,pady=0)\n\nsaveFileIcon = PhotoImage(file='icons/saveFile.png')\nsaveFileEntry = Button(toolbar,image = saveFileIcon, command = newFileButton.saveNewFile,relief='solid',background='white', border=0)\nsaveFileEntry.pack(side=LEFT, padx=0,pady=0)\n</code></pre>\n\n<p>and the idea is for the new file button to create a entry space to get the name and extension of the file, and the save button to write it.</p>\n\n<p>I read here in stack overflow how to set up the class for you to be able to call a variable from one function to another, but it didn't work. What am I doing wrong?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 6756, "user_id": 1606248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0lXId.jpg?s=128&g=1", "display_name": "Pierre Prinetti", "link": "https://stackoverflow.com/users/1606248/pierre-prinetti"}, "is_accepted": true, "score": 1, "last_activity_date": 1432149188, "creation_date": 1432149188, "answer_id": 30358456, "question_id": 30358369, "link": "https://stackoverflow.com/questions/30358369/loading-a-geographical-map-in-python/30358456#30358456", "title": "Loading a geographical map in Python", "body": "<p>I would personally look for a web service instead of a Python package for this kind of complex tasks involving massive databases (read: MAPS).</p>\n\n<p>Have a look at <a href=\"https://developers.google.com/maps/\" rel=\"nofollow\">OpenStreetMap</a> or <a href=\"https://developers.google.com/maps/\" rel=\"nofollow\">Google Maps</a> APIs.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 729885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7dbb427bff947da87342141d425337?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/729885/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1432150835, "creation_date": 1432150835, "answer_id": 30358943, "question_id": 30358369, "link": "https://stackoverflow.com/questions/30358369/loading-a-geographical-map-in-python/30358943#30358943", "title": "Loading a geographical map in Python", "body": "<p>If you just have the coordinates you could use something like matplotlib basemap:</p>\n\n<p><a href=\"http://matplotlib.org/basemap/users/examples.html\" rel=\"nofollow\">http://matplotlib.org/basemap/users/examples.html</a></p>\n"}], "owner": {"reputation": 1585, "user_id": 1767774, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c59034ad2c9c2daf4b4a8d3c56449f5e?s=128&d=identicon&r=PG", "display_name": "user1767774", "link": "https://stackoverflow.com/users/1767774/user1767774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "closed_date": 1432185975, "accepted_answer_id": 30358456, "answer_count": 2, "score": -2, "last_activity_date": 1432150835, "creation_date": 1432148893, "question_id": 30358369, "link": "https://stackoverflow.com/questions/30358369/loading-a-geographical-map-in-python", "closed_reason": "Needs more focus", "title": "Loading a geographical map in Python", "body": "<p>I want to write a program that gets the geographical coordinates of a point, and then displays a map of some area around this point (for example a square that its center is the point and its side is R km) and saves it as an image file. Preferably, the map would also include streets names etc. What is the simplest, most straightforward way to do it? what package should I use?</p>\n\n<p>Thank you. </p>\n"}]