[{"tags": ["python", "list", "recursion", "python-3.4", "nested-lists"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1475712483, "post_id": 39885472, "comment_id": 67057708, "body": "This looks like a job for a Collection or a groupby, based on the second element of each list member."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475712495, "post_id": 39885526, "comment_id": 67057713, "body": "Wow. Our answers are almost exactly the same."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475712549, "post_id": 39885526, "comment_id": 67057728, "body": "@juanpa.arrivillaga - Odd how that happens. :P I think yours includes a false positive entry <code>Silloth&#39;: [[&#39;HAV SNAPPER&#39;, &#39;Silloth&#39;]]</code>, though."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475712576, "post_id": 39885526, "comment_id": 67057731, "body": "Sure, I didn&#39;t bother to filter. Yours is more complete. I bow out"}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1475712691, "post_id": 39885526, "comment_id": 67057752, "body": "Hey thanks for the answer, Is <code>l</code> stands for the big list that have nested lists? If it is, what <code>list</code> stands for in <code>d = collections.defaultdict(list)</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1475712807, "post_id": 39885526, "comment_id": 67057770, "body": "That&#39;s a special kind of dictionary that, if a certain key isn&#39;t found, calls the passed argument (<code>list</code> in this case) to create an entry with the desired key and the default value. See the documentation for <code>collections.defaultdict</code>."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1475712466, "creation_date": 1475712466, "answer_id": 39885526, "question_id": 39885472, "link": "https://stackoverflow.com/questions/39885472/finding-the-same-second-elements-in-nested-lists-recursive-function/39885526#39885526", "title": "Finding the same second elements in nested lists - recursive function", "body": "<p>There's no need to use recursion here. Create a dictionary with a key of the second element and values of the whole sublist, then create a result that only includes the matches you're interested in:</p>\n\n<pre><code>import collections\nl = [['CELTIC AMBASSASDOR', 'Warrenpoint'],['HAV SNAPPER', 'Silloth'],['BONAY', 'Antwerp'],['NINA', 'Antwerp'],['FRI SKIEN', 'Warrenpoint']]\nd = collections.defaultdict(list)\nfor item in l:\n    d[item[1]].append(item)\n\nresult = dict(item for item in d.items() if len(d[item[0]]) &gt; 1)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; pprint.pprint(result)\n{'Antwerp': [['BONAY', 'Antwerp'], ['NINA', 'Antwerp']],\n 'Warrenpoint': [['CELTIC AMBASSASDOR', 'Warrenpoint'],\n                 ['FRI SKIEN', 'Warrenpoint']]}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2551, "user_id": 1007939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjpvE.png?s=128&g=1", "display_name": "CDspace", "link": "https://stackoverflow.com/users/1007939/cdspace"}, "edited": false, "score": 0, "creation_date": 1475785985, "post_id": 39886638, "comment_id": 67095789, "body": "While this may answer the question, it would be more useful as an answer if you added an explanation why this works."}], "tags": [], "owner": {"reputation": 128, "user_id": 6899440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mxhOz.jpg?s=128&g=1", "display_name": "zxy", "link": "https://stackoverflow.com/users/6899440/zxy"}, "is_accepted": false, "score": 0, "last_activity_date": 1475721480, "creation_date": 1475721480, "answer_id": 39886638, "question_id": 39885472, "link": "https://stackoverflow.com/questions/39885472/finding-the-same-second-elements-in-nested-lists-recursive-function/39886638#39886638", "title": "Finding the same second elements in nested lists - recursive function", "body": "<pre><code>filter(lambda x:x[1] in set(filter(lambda x:zip(*l)[1].count(x)==2,zip(*l)[1])),l)\n</code></pre>\n"}], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 39885526, "answer_count": 2, "score": -1, "last_activity_date": 1475721480, "creation_date": 1475711997, "question_id": 39885472, "link": "https://stackoverflow.com/questions/39885472/finding-the-same-second-elements-in-nested-lists-recursive-function", "title": "Finding the same second elements in nested lists - recursive function", "body": "<p>I have nested lists looks like this;</p>\n\n<pre><code>[['CELTIC AMBASSASDOR', 'Warrenpoint'],['HAV SNAPPER', 'Silloth'],['BONAY', 'Antwerp'],['NINA', 'Antwerp'],['FRI SKIEN', 'Warrenpoint']]\n</code></pre>\n\n<p>and goes on. How can I find the lists that have same second elements, for example</p>\n\n<pre><code>['CELTIC AMBASSASDOR', 'Warrenpoint']\n['FRI SKIEN', 'Warrenpoint']\n\n['BONAY', 'Antwerp']\n['NINA', 'Antwerp']\n</code></pre>\n\n<p>The list is too long (I'm reading it from a .csv file) and I can't determine to search which thing exactly (eg: I can't search for 'Antwerp' to find all Antwerps because I don't know all of the texts in csv file), so I thought I need a recursive function that will search until find the all nested lists seperated by second items. Couldn't figure out how to make the recursive function, if anyone has a better solution, much appreciated.</p>\n"}, {"tags": ["python", "python-2.7", "module", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 4718154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80a29c9e82cc8a38bbdfa830d23be749?s=128&d=identicon&r=PG", "display_name": "Yotam Alon", "link": "https://stackoverflow.com/users/4718154/yotam-alon"}, "edited": false, "score": 0, "creation_date": 1475712142, "post_id": 39885444, "comment_id": 67057641, "body": "My file does include &quot;from logilab.constraint import *&quot;. the script itself works, and gets everything it needs, and there aren&#39;t any hidden imports."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1475711813, "creation_date": 1475711813, "answer_id": 39885444, "question_id": 39885396, "link": "https://stackoverflow.com/questions/39885396/pyinstaller-not-getting-all-modules-importerror-no-module-named-logilab-const/39885444#39885444", "title": "Pyinstaller not getting all modules - ImportError: No module named logilab.constraint", "body": "<p>on the first line of your script(schedule_maker.py) just add</p>\n\n<pre><code>import logilib\nimport logilib.constraint\n</code></pre>\n\n<p>basically pyinstallers analysis probably didnt realize that you needed that package</p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 4718154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80a29c9e82cc8a38bbdfa830d23be749?s=128&d=identicon&r=PG", "display_name": "Yotam Alon", "link": "https://stackoverflow.com/users/4718154/yotam-alon"}, "is_accepted": false, "score": 0, "last_activity_date": 1475815182, "creation_date": 1475815182, "answer_id": 39909502, "question_id": 39885396, "link": "https://stackoverflow.com/questions/39885396/pyinstaller-not-getting-all-modules-importerror-no-module-named-logilab-const/39909502#39909502", "title": "Pyinstaller not getting all modules - ImportError: No module named logilab.constraint", "body": "<p>Apparently just installing the modules from their \"setup.py\" file was not enough, I had to </p>\n\n<pre><code>pip install --upgrade \n</code></pre>\n\n<p>on both of them.\nthat fixed it.</p>\n"}], "owner": {"reputation": 88, "user_id": 4718154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80a29c9e82cc8a38bbdfa830d23be749?s=128&d=identicon&r=PG", "display_name": "Yotam Alon", "link": "https://stackoverflow.com/users/4718154/yotam-alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1041, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1475815182, "creation_date": 1475711494, "question_id": 39885396, "link": "https://stackoverflow.com/questions/39885396/pyinstaller-not-getting-all-modules-importerror-no-module-named-logilab-const", "title": "Pyinstaller not getting all modules - ImportError: No module named logilab.constraint", "body": "<p>I am trying to compile a python script into a .exe using Pyinstaller.\nI am using python 2.7, Pyinstaller 3.2 and windows 7.</p>\n\n<p>The script is using a module called \"logilab\", and another called \"logilab.constraint\".</p>\n\n<p>I have installed both modules succesfully using pip.\nThe script runs fine, but when trying to run the .exe I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"schedule_maker.py\", line 1, in &lt;module&gt;\nImportError: No module named logilab.constraint\nFailed to execute script schedule_maker\n</code></pre>\n\n<p>here is the Pyinstaller log:</p>\n\n<pre><code>490 INFO: PyInstaller: 3.2\n490 INFO: Python: 2.7.11\n490 INFO: Platform: Windows-7-6.1.7601-SP1\n493 INFO: wrote c:\\Scripts\\Employee-Scheduler-master\\schedule\\schedule_maker.spe\nc\n496 INFO: UPX is not available.\n497 INFO: Extending PYTHONPATH with paths\n['c:\\\\Scripts\\\\Employee-Scheduler-master\\\\schedule',\n 'C:\\\\Python27\\\\Lib\\\\site-packages',\n 'c:\\\\Scripts\\\\Employee-Scheduler-master\\\\schedule']\n498 INFO: checking Analysis\n513 INFO: Building because pathex changed\n514 INFO: Initializing module dependency graph...\n519 INFO: Initializing module graph hooks...\n595 INFO: running Analysis out00-Analysis.toc\n608 INFO: Adding Microsoft.VC90.CRT to dependent assemblies of final executable\n  required by C:\\Python27\\python.exe\n692 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.21022.8_none_60a5df56e60dc5df.manifest\n710 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.1_none_8550c6b5d18a9128.manifest\n715 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.4148_none_f47e1bd6f6571810.manifest\n727 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.4940_none_f47ed0f6f6564d90.manifest\n812 INFO: Searching for assembly x86_Microsoft.VC90.CRT_1fc8b3b9a1e18e3b_9.0.307\n29.4940_none ...\n812 INFO: Found manifest C:\\WINDOWS\\WinSxS\\Manifests\\x86_microsoft.vc90.crt_1fc8\nb3b9a1e18e3b_9.0.30729.4940_none_50916076bcb9a742.manifest\n825 INFO: Searching for file msvcr90.dll\n825 INFO: Found file C:\\WINDOWS\\WinSxS\\x86_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9\n.0.30729.4940_none_50916076bcb9a742\\msvcr90.dll\n825 INFO: Searching for file msvcp90.dll\n826 INFO: Found file C:\\WINDOWS\\WinSxS\\x86_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9\n.0.30729.4940_none_50916076bcb9a742\\msvcp90.dll\n826 INFO: Searching for file msvcm90.dll\n826 INFO: Found file C:\\WINDOWS\\WinSxS\\x86_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9\n.0.30729.4940_none_50916076bcb9a742\\msvcm90.dll\n904 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.21022.8_none_60a5df56e60dc5df.manifest\n907 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.1_none_8550c6b5d18a9128.manifest\n908 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.4148_none_f47e1bd6f6571810.manifest\n909 INFO: Found C:\\WINDOWS\\WinSxS\\Manifests\\x86_policy.9.0.microsoft.vc90.crt_1f\nc8b3b9a1e18e3b_9.0.30729.4940_none_f47ed0f6f6564d90.manifest\n911 INFO: Adding redirect Microsoft.VC90.CRT version (9, 0, 21022, 8) -&gt; (9, 0,\n30729, 4940)\n4608 INFO: Caching module hooks...\n4611 INFO: Analyzing c:\\Scripts\\Employee-Scheduler-master\\schedule\\schedule_make\nr.py\n6958 INFO: Loading module hooks...\n6958 INFO: Loading module hook \"hook-logilab.py\"...\n6963 INFO: Loading module hook \"hook-encodings.py\"...\n8536 INFO: Looking for ctypes DLLs\n8536 INFO: Analyzing run-time hooks ...\n8543 INFO: Looking for dynamic libraries\n9572 INFO: Looking for eggs\n9572 INFO: Using Python library C:\\WINDOWS\\system32\\python27.dll\n9572 INFO: Found binding redirects:\n[BindingRedirect(name=u'Microsoft.VC90.CRT', language=None, arch=u'x86', oldVers\nion=(9, 0, 21022, 8), newVersion=(9, 0, 30729, 4940), publicKeyToken=u'1fc8b3b9a\n1e18e3b')]\n9582 INFO: Warnings written to c:\\Scripts\\Employee-Scheduler-master\\schedule\\bui\nld\\schedule_maker\\warnschedule_maker.txt\n9622 INFO: checking PYZ\n9692 INFO: checking PKG\n9695 INFO: Building because c:\\Scripts\\Employee-Scheduler-master\\schedule\\build\\\nschedule_maker\\schedule_maker.exe.manifest changed\n9697 INFO: Building PKG (CArchive) out00-PKG.pkg\n9951 INFO: Redirecting Microsoft.VC90.CRT version (9, 0, 21022, 8) -&gt; (9, 0, 307\n29, 4940)\n11652 INFO: Bootloader C:\\Python27\\lib\\site-packages\\pyinstaller-3.2-py2.7.egg\\P\nyInstaller\\bootloader\\Windows-32bit\\run.exe\n11654 INFO: checking EXE\n11655 INFO: Rebuilding out00-EXE.toc because pkg is more recent\n11657 INFO: Building EXE from out00-EXE.toc\n11657 INFO: Appending archive to EXE c:\\Scripts\\Employee-Scheduler-master\\schedu\nle\\dist\\schedule_maker.exe\n</code></pre>\n\n<p>I am using the following command to build:</p>\n\n<pre><code>pyinstaller --onefile schedule_maker.py\n</code></pre>\n\n<p>I tried adding the installation path for logilab.constraint in the command:</p>\n\n<pre><code>pyinstaller --onefile --paths=C:\\Python27\\Lib\\site-packages\\ schedule_maker.py\n</code></pre>\n\n<p>Any ideas? Am I missing something?</p>\n"}, {"tags": ["python", "sockets", "tcp", "concurrency"], "comments": [{"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1475711501, "post_id": 39885364, "comment_id": 67057473, "body": "&quot;<i>Only when a message has been sent from the client I have just created, does the other messages come in.</i>&quot; - what other messages? come in where?"}, {"owner": {"reputation": 104, "user_id": 6910695, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e8deb11a8c3254c1342a056e9bca5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Lukaszewski", "link": "https://stackoverflow.com/users/6910695/matthew-lukaszewski"}, "reply_to_user": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1475712888, "post_id": 39885364, "comment_id": 67057783, "body": "The messages are coming from other clients connected to the TCP chat server. My goal is to have those messages automatically appear when they are sent from those other clients."}, {"owner": {"reputation": 3265, "user_id": 2606938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7gIUB.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2606938/prabhu"}, "edited": false, "score": 0, "creation_date": 1475722069, "post_id": 39885364, "comment_id": 67059897, "body": "Do show the server code."}], "answers": [{"tags": [], "owner": {"reputation": 50179, "user_id": 594589, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f9d5953607841d6a50b843a1107e51e?s=128&d=identicon&r=PG", "display_name": "dm03514", "link": "https://stackoverflow.com/users/594589/dm03514"}, "is_accepted": false, "score": 0, "last_activity_date": 1475953684, "last_edit_date": 1495541210, "creation_date": 1475953359, "answer_id": 39936234, "question_id": 39885364, "link": "https://stackoverflow.com/questions/39885364/get-python-tcp-server-to-send-and-recive-messages-once-that-are-sent/39936234#39936234", "title": "Get python tcp server to send and recive messages once that are sent?", "body": "<p>I am pretty new to socket programming, so this may be a shot in the darK:</p>\n\n<ul>\n<li>The client is generating a lot of threads reading and writing from a blocking socket. It looks like only a single operation can be performed at one time, a thread is blocking on a write or a thread is blocking on a read, since there is only one socket, all threads are operating on that single resource.  You could have each thread you spawn open its own own socket connection write to it the read from it, which should address the issue. </li>\n<li>For the client, Are socket reads/writes thread safe?? <a href=\"https://stackoverflow.com/questions/1981372/are-parallel-calls-to-send-recv-on-the-same-socket-valid\">Yes</a></li>\n<li><p>On the server should the <code>accept</code>ed connection be marked as non-blocking??</p>\n\n<p><code>sockfd, addr = server_socket.accept()</code></p>\n\n<p><code>sockfd.setblocking(0)</code></p></li>\n<li><p>On the server, do you need to manage when sockets are writable? It looks like sockets are written to as they become readable.  I'd imagine that <code>socket.send</code> blocks during the readcall, so new connections aren't being handled during this time.  <a href=\"https://pymotw.com/2/select/\" rel=\"nofollow noreferrer\">Python module of the week</a> has awesome clear example of using <code>select</code> for non blocking servers</p></li>\n</ul>\n"}], "owner": {"reputation": 104, "user_id": 6910695, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e8deb11a8c3254c1342a056e9bca5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Lukaszewski", "link": "https://stackoverflow.com/users/6910695/matthew-lukaszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1025, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475953743, "creation_date": 1475711253, "last_edit_date": 1475953743, "question_id": 39885364, "link": "https://stackoverflow.com/questions/39885364/get-python-tcp-server-to-send-and-recive-messages-once-that-are-sent", "title": "Get python tcp server to send and recive messages once that are sent?", "body": "<p>I have been experimenting with network programing with python. To teach myself how to do this I have been playing with multiple versions of TCP chat servers and clients. My newest attempt has left me wondering what is wrong with the code I have just written. Only when a message has been sent from the client I have just created, does the other messages come in. I am not sure why this is happening. I have been searching online and I can't figure out why it is happening. All I do know is that it is not the servers mistake. I am certain that the problem is with the client I just created.</p>\n\n<pre><code>import socket, thread, threading, os\n\ndef sendMsg():\n    Message = raw_input('[-]You:')\n    s.send(Message)\n\ndef recvMsg():\n    data = s.recv(buff)\n    print(data)\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\nhost = raw_input('[-]Target Ip-&gt; ')\nport = 5000\nbuff = 1024\n\ntry:\n    s.connect((host, port))\n\nexcept:\n    print('[-]Failed to Connect')\n    s.close()\n\nloop = True\nthreads = []\nwhile loop == True:\n    try:\n        t1 = threading.Thread(target=sendMsg())\n        threads.append(t1)\n        t1.start()\n\n        t2 = threading.Thread(target=recvMsg())\n        threads.append(t2)\n        t2.start()\n\n    except KeyboardInterrupt:\n        print('\\n')\n        break\n\n\ns.close()\nos.system('clear')\n</code></pre>\n\n<p>Server code</p>\n\n<pre><code># Tcp Chat server\n\nimport socket, select, os, time\n\ndef broadcast_data (sock, message):\n    for socket in CONNECTION_LIST:\n            if socket != server_socket and socket != sock :\n            try :\n                socket.send(message)\n            except :\n                socket.close()\n                CONNECTION_LIST.remove(socket)\n\nif __name__ == \"__main__\":\n\n        CONNECTION_LIST = []\n    RECV_BUFFER = 4096\n    IP_MNG = ''\n    PORT = 5000     \n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    server_socket.bind((IP_MNG, PORT))\n\n    server_socket.listen(10)\n    CONNECTION_LIST.append(server_socket)\n\n    print \"[-]Connected To \" + str(PORT)\n\n    start = True \n    while start == True:\n        try:\n            read_sockets,write_sockets,error_sockets = select.select(CONNECTION_LIST,[],[])\n\n            for sock in read_sockets:\n                    if sock == server_socket:\n                    sockfd, addr = server_socket.accept()\n                    CONNECTION_LIST.append(sockfd)\n                    print \"Client (%s, %s) connected\" % addr\n                    broadcast_data(sockfd, \"[-][%s:%s] entered room\\n\" % addr)\n\n\n                else:\n\n                        try:\n                        data = sock.recv(RECV_BUFFER)\n                        if data:\n                            broadcast_data(sock, \"\\r\" + '&lt;' + str(sock.getpeername()) + '&gt; ' + data)                \n\n                    except:\n                        broadcast_data(sock, \"Client (%s, %s) is offline\" % addr)\n                        print \"Client (%s, %s) is offline\" % addr\n                        sock.close()\n                        CONNECTION_LIST.remove(sock)\n                        continue\n\n        except KeyboardInterrupt:\n            print('[-]Server Stopped')\n            start = False\n\n\nserver_socket.close()\ntime.sleep(1)\nos.system('clear')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 1561, "user_id": 2764634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9cny.jpg?s=128&g=1", "display_name": "4140tm", "link": "https://stackoverflow.com/users/2764634/4140tm"}, "edited": false, "score": 0, "creation_date": 1475757557, "post_id": 39885359, "comment_id": 67078066, "body": "Paste the actual code you are running. When I test the steps you&#39;ve described everything is alright. <b>EDIT</b> Also, you are missing a closing <code>div</code>, but that&#39;s no problem for BS"}], "answers": [{"comments": [{"owner": {"reputation": 3141, "user_id": 4111920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RCjK1.png?s=128&g=1", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/4111920/gilbert"}, "edited": false, "score": 1, "creation_date": 1485801481, "post_id": 39904439, "comment_id": 71066356, "body": "For some reason the <code>decompose()</code> stop working. Now I have <code>script</code> code in my <code>.txt</code> files. I went to the documentation and the instructions are pretty much the same as before."}, {"owner": {"reputation": 3141, "user_id": 4111920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RCjK1.png?s=128&g=1", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/4111920/gilbert"}, "edited": false, "score": 0, "creation_date": 1485801616, "post_id": 39904439, "comment_id": 71066435, "body": "<code># Removing JS and CSS     for script in soup(&#39;script&#39;, &#39;style&#39;):         script.decompose()         with open(my_params[&#39;q&#39;] + &#39;_&#39; + str(count) + &#39;.txt&#39;, &#39;w&#39;) as webpage_out:         webpage_out.write(soup.get_text())         print(&#39;The file &#39; + my_params[&#39;q&#39;] + &#39;_&#39; + str(count) + &#39;.txt &#39; + &#39;has been created successfully.&#39;)         count += 1     except:             pass</code>"}, {"owner": {"reputation": 131, "user_id": 9865853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35da67ee0aba2f8762882fe8b9302e3c?s=128&d=identicon&r=PG&f=1", "display_name": "MHBN", "link": "https://stackoverflow.com/users/9865853/mhbn"}, "edited": false, "score": 0, "creation_date": 1599390380, "post_id": 39904439, "comment_id": 112754863, "body": "Thanks for sharing the simplest, yet a very effective method to get rid of everything useless. I am benefiting from this method for long enough now. :)"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 18, "last_activity_date": 1475783059, "creation_date": 1475783059, "answer_id": 39904439, "question_id": 39885359, "link": "https://stackoverflow.com/questions/39885359/beautifulsoup-decompose/39904439#39904439", "title": "Beautifulsoup decompose()", "body": "<blockquote>\n  <p><code>soup.script.decompose()</code></p>\n</blockquote>\n\n<p>This would remove a <em>single script element</em> from the \"Soup\" only. Instead, I think you meant to decompose all of them:</p>\n\n<pre><code>for script in soup(\"script\"):\n    script.decompose()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 7774377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0a5aff148dea3f347aca711562c8803?s=128&d=identicon&r=PG&f=1", "display_name": "InTheShell", "link": "https://stackoverflow.com/users/7774377/intheshell"}, "is_accepted": false, "score": 5, "last_activity_date": 1490642375, "creation_date": 1490642375, "answer_id": 43054709, "question_id": 39885359, "link": "https://stackoverflow.com/questions/39885359/beautifulsoup-decompose/43054709#43054709", "title": "Beautifulsoup decompose()", "body": "<p>To elaborate on the answer provided by alecxe, here is a full script for anyone's reference:</p>\n\n<pre><code>selects = soup.findAll('select')\nfor match in selects:\n    match.decompose()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7905304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d4c751b1a223af46495b50268caa4f?s=128&d=identicon&r=PG", "display_name": "Stan Paszt", "link": "https://stackoverflow.com/users/7905304/stan-paszt"}, "is_accepted": false, "score": 0, "last_activity_date": 1492855217, "creation_date": 1492855217, "answer_id": 43557837, "question_id": 39885359, "link": "https://stackoverflow.com/questions/39885359/beautifulsoup-decompose/43557837#43557837", "title": "Beautifulsoup decompose()", "body": "<p>The soup.script.decompose() would only remove it from the soup variable... not the html_body variable. you would have to remove it from the html_body variable as well. (I think.)</p>\n"}, {"tags": [], "owner": {"reputation": 3141, "user_id": 4111920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RCjK1.png?s=128&g=1", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/4111920/gilbert"}, "is_accepted": false, "score": 1, "last_activity_date": 1492863820, "creation_date": 1492863820, "answer_id": 43559168, "question_id": 39885359, "link": "https://stackoverflow.com/questions/39885359/beautifulsoup-decompose/43559168#43559168", "title": "Beautifulsoup decompose()", "body": "<p>I was able to fix the issue with the following code...</p>\n\n<pre><code>scripts = soup.findAll(['script', 'style'])\n    for match in scripts:\n        match.decompose()\n        file_content = soup.get_text()\n        # Striping 'ascii' code\n        content = re.sub(r'[^\\x00-\\x7f]', r' ', file_content)\n    # Creating 'txt' files\n    with open(my_params['q'] + '_' + str(count) + '.txt', 'w+') as webpage_out:\n        webpage_out.write(content)\n        print('The file ' + my_params['q'] + '_' + str(count) + '.txt ' + 'has been created successfully.')\n        count += 1\n</code></pre>\n\n<p>The error was that the <code>with open(...</code> was part or the <code>for match...</code></p>\n\n<p>Code that <strong>did not</strong> work...</p>\n\n<pre><code>scripts = soup.findAll(['script', 'style'])\n    for match in scripts:\n        match.decompose()\n        file_content = soup.get_text()\n        # Striping 'ascii' code\n        content = re.sub(r'[^\\x00-\\x7f]', r' ', file_content)\n        # Creating 'txt' files\n        with open(my_params['q'] + '_' + str(count) + '.txt', 'w+') as webpage_out:\n            webpage_out.write(content)\n            print('The file ' + my_params['q'] + '_' + str(count) + '.txt ' + 'has been created successfully.')\n            count += 1\n</code></pre>\n"}], "owner": {"reputation": 3141, "user_id": 4111920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RCjK1.png?s=128&g=1", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/4111920/gilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18195, "favorite_count": 4, "accepted_answer_id": 39904439, "answer_count": 4, "score": 12, "last_activity_date": 1492863820, "creation_date": 1475711186, "last_edit_date": 1475783081, "question_id": 39885359, "link": "https://stackoverflow.com/questions/39885359/beautifulsoup-decompose", "title": "Beautifulsoup decompose()", "body": "<p>I'm trying to get rid of <code>&lt;script&gt;</code> tags and the content inside the tag utilizing beatifulsoup. I went to the documentation and seems to be a really simple function to call. More information about the function is <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#decompose\" rel=\"noreferrer\">here</a>. Here is the content of the html page that I have parsed so far...</p>\n\n<pre><code>&lt;body class=\"pb-theme-normal pb-full-fluid\"&gt;\n    &lt;div class=\"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links\" id=\"wp-adb-c\" style=\"width: 1px !important;\n    height: 1px !important;\n    position: absolute !important;\n    left: -10000px !important;\n    top: -1000px !important;\n    \"&gt;\n&lt;/div&gt;\n&lt;div id=\"pb-f-a\"&gt;\n&lt;/div&gt;\n    &lt;div class=\"\" id=\"pb-root\"&gt;\n    &lt;script&gt;\n    (function(a){\n        TWP=window.TWP||{};\n        TWP.Features=TWP.Features||{};\n        TWP.Features.Page=TWP.Features.Page||{};\n        TWP.Features.Page.PostRecommends={};\n        TWP.Features.Page.PostRecommends.url=\"https://recommendation-hybrid.wpdigital.net/hybrid/hybrid-filter/hybrid.json?callback\\x3d?\";\n        TWP.Features.Page.PostRecommends.trackUrl=\"https://recommendation-hybrid.wpdigital.net/hybrid/hybrid-filter/tracker.json?callback\\x3d?\";\n        TWP.Features.Page.PostRecommends.profileUrl=\"https://usersegment.wpdigital.net/usersegments\";\n        TWP.Features.Page.PostRecommends.canonicalUrl=\"\"\n    })(jQuery);\n\n    &lt;/script&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Imagine you have some web content like that and you have that in a BeautifulSoup object called <code>soup_html</code>. If I run <code>soup_html.script.decompose()</code> and them call the object <code>soup_html</code> the script tags still there. How I can get rid of the <code>&lt;script&gt;</code> and the content inside those tags?</p>\n\n<pre><code>markup = 'The html above'\nsoup = BeautifulSoup(markup)\nhtml_body = soup.body\n\nsoup.script.decompose()\n\nhtml_body\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 1939, "user_id": 4907496, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lz1fz.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/4907496/phillip"}, "edited": false, "score": 0, "creation_date": 1481402105, "post_id": 39885430, "comment_id": 69366213, "body": "You may be able to help solve my <a href=\"http://stackoverflow.com/questions/41073132/pyinstaller-app-is-accessing-txt-files-but-not-writing-to-them-works-before-ap\">problem</a>."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 11, "last_activity_date": 1592835070, "last_edit_date": 1592835070, "creation_date": 1475711685, "answer_id": 39885430, "question_id": 39885354, "link": "https://stackoverflow.com/questions/39885354/pyinstaller-cannot-add-txt-files/39885430#39885430", "title": "PyInstaller cannot add .txt files", "body": "<p>After the line</p>\n<pre><code>a = Analysis( ... )\n</code></pre>\n<p>add</p>\n<pre><code>a.datas += [\n    (&quot;/absolute/path/to/some.txt&quot;,&quot;txt_files/some.txt&quot;,&quot;DATA&quot;),\n    (&quot;/absolute/path/to/some2.txt&quot;,&quot;txt_files/some2.txt&quot;,&quot;DATA&quot;),\n    (&quot;/absolute/path/to/some3.txt&quot;,&quot;txt_files/some3.txt&quot;,&quot;DATA&quot;),\n]\n</code></pre>\n<p>Then in your program use the following to get the resource path of your .txt files.</p>\n<pre><code>def resource_path(relative_path):\n    &quot;&quot;&quot; Get absolute path to resource, works for dev and for PyInstaller &quot;&quot;&quot;\n    try:\n        # PyInstaller creates a temp folder and stores path in _MEIPASS\n        base_path = sys._MEIPASS\n    except Exception:\n        base_path = os.environ.get(&quot;_MEIPASS2&quot;,os.path.abspath(&quot;.&quot;))\n\n    return os.path.join(base_path, relative_path)\n\n ...\n\n\n txt_data = open(resource_path(&quot;txt_files/some.txt&quot;)).read()\n</code></pre>\n<p>Make sure you build it like <code>python -m PyInstaller my_target.spec</code> ... do not call PyInstaller directly against your .py file after you have edited your specification file or it will overwrite your edited file...</p>\n"}], "owner": {"reputation": 55, "user_id": 6929059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c10f1044a6e8cc3492e17ee1d9e89323?s=128&d=identicon&r=PG&f=1", "display_name": "PL de Chantal", "link": "https://stackoverflow.com/users/6929059/pl-de-chantal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4788, "favorite_count": 1, "accepted_answer_id": 39885430, "answer_count": 1, "score": 5, "last_activity_date": 1592835070, "creation_date": 1475711134, "last_edit_date": 1592834836, "question_id": 39885354, "link": "https://stackoverflow.com/questions/39885354/pyinstaller-cannot-add-txt-files", "title": "PyInstaller cannot add .txt files", "body": "<p>I'm fairly new with programming (and with Python) and the Stack Overflow question/response system allowed me to resolve all my problems until now. I didn't find any post directly addressing my current issue, but have to admit that I don't really know what's wrong. Let me explain.</p>\n<p>I'm trying to make an executable file of a <code>*.py</code> script using PyInstaller. There's no problem doing it with a simple Python script (using --onefile), but it does not work when it comes to a more complex program that uses other <code>*.py</code> and <code>*.txt</code> files. I know that I need to modify the specification file and tried many alternatives - adding hidden files for instance.</p>\n<p>Here are the files:</p>\n<ul>\n<li><code>UpdatingStrategy.py</code> (the target file to transform in executable)</li>\n<li><code>LPRfunctions.py</code> (<code>UpdatingStrategy.py</code> imports functions from this file)</li>\n</ul>\n<p>The following <code>*.txt</code> files are read by <code>UpdatingStrategy.py</code>:</p>\n<ul>\n<li><code>Strategy_Observ.txt</code></li>\n<li><code>Strategy_Problems.txt</code></li>\n<li><code>Updating_Observ1.txt</code></li>\n<li><code>Updating_Observ2.txt</code></li>\n<li><code>Updating_Problems.txt</code></li>\n</ul>\n<p>I'm using Python 3.5 and Windows 10. Tell me if you need extra information.</p>\n<p>How do I use the specification file properly and modify it in order to make an executable file of <code>UpdatingStrategy.py</code>?</p>\n<p>I have read the PyInstaller documentation, but I lack many key principles and I couldn't make it work.</p>\n"}, {"tags": ["python", "gtk", "gtk3", "pygobject"], "comments": [{"owner": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 2, "creation_date": 1475750455, "post_id": 39885351, "comment_id": 67073358, "body": "It&#39;s possible that &quot;modal&quot; isn&#39;t really respected unless you set &quot;transient-for&quot; property as well."}, {"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "reply_to_user": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 0, "creation_date": 1475766092, "post_id": 39885351, "comment_id": 67084441, "body": "I added <code>self.chooser_dialog.set_transient_for(parent)</code> below the <code>self.chooser_dialog = self.builder.get_object(&#39;icd_photo_chsrdialog&#39;)</code>. <code>parent</code> is passed through the constructor <code>def __init__(self, cap_app_path, parent):</code>. But the problem remains. <code>parent</code> is a GtkApplicationWindow"}, {"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "reply_to_user": {"reputation": 12075, "user_id": 2241569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMrPS.jpg?s=128&g=1", "display_name": "Jussi Kukkonen", "link": "https://stackoverflow.com/users/2241569/jussi-kukkonen"}, "edited": false, "score": 0, "creation_date": 1475769044, "post_id": 39885351, "comment_id": 67086511, "body": "Although I can interact with the other window (the parent window), the <code>GtkFileChooserDialog</code> continues in front of the parent window. But I can interact with buttons, menus and others components of parent window even though she is in the background. I think this is a bug of 3.20 version because I was running the same code in version 3.18 and it worked perfectly. How could I get around this?"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1475810112, "post_id": 39885351, "comment_id": 67102652, "body": "Which dialog isn&#39;t modal, the file chooser dialog or the message dialog?"}, {"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "edited": false, "score": 0, "creation_date": 1475840445, "post_id": 39885351, "comment_id": 67116667, "body": "The file chooser dialog. The message dialog is modal. But the file chooser dialog is not modal."}, {"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "edited": false, "score": 0, "creation_date": 1475851221, "post_id": 39885351, "comment_id": 67123461, "body": "A possible solution for get around this problem is <code>set_sensitive(False)</code> on the <code>parent</code> window when the <code>GtkFileChooserButton</code> is clicked and <code>set_sensitive(True)</code> when the <code>GtkFileChooserDialog</code> is closed. But I still have not tested."}], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "edited": false, "score": 0, "creation_date": 1475863046, "post_id": 39919924, "comment_id": 67130155, "body": "Not the MainWindow to be modal, but the <code>GtkFileChooserDialog</code> she calls. Palliative I set the <code>parent</code> (MainWindow) to <code>set_sensitive(False)</code> when the <code>GtkFileChooserButton</code> is clicked and <code>set_sensitive(True)</code> when the <code>GtkFileChooserDialog</code> is hided. But I had to use the event <code>button-release-event</code> of <code>GtkFileChooserButton</code> because with <code>button-press-event</code> not work."}, {"owner": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "reply_to_user": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "edited": false, "score": 0, "creation_date": 1476113505, "post_id": 39919924, "comment_id": 67203294, "body": "<code>MainWindow</code> in my code is your <code>self.chooser_dialog</code>. Dialogs are a subclass of Windows. Window must be realized to grab a pointer."}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1476159507, "post_id": 39919924, "comment_id": 67220160, "body": "This isn&#39;t what grabs are intended for, and trying to do it this way will break if any of the controls in the child dialog grab (comboboxes, for instance)."}], "tags": [], "owner": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "is_accepted": false, "score": 0, "last_activity_date": 1475851181, "last_edit_date": 1495540840, "creation_date": 1475851181, "answer_id": 39919924, "question_id": 39885351, "link": "https://stackoverflow.com/questions/39885351/gtkfilechooserdialog-does-not-act-as-modal/39919924#39919924", "title": "GtkFileChooserDialog does not act as modal", "body": "<p>Would <a href=\"https://stackoverflow.com/a/39873728/1981374\">grabbing</a> the pointer work for you?</p>\n\n<pre><code>//pass all events to window apart LEAVE_NOTIFY_MASK \nMainWindow-&gt;set_events(GDK_EXPOSURE_MASK | GDK_POINTER_MOTION_MASK | GDK_POINTER_MOTION_HINT_MASK | GDK_BUTTON_MOTION_MASK | GDK_BUTTON1_MOTION_MASK | GDK_BUTTON2_MOTION_MASK | GDK_BUTTON3_MOTION_MASK | GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK | GDK_KEY_PRESS_MASK | GDK_KEY_RELEASE_MASK | GDK_ENTER_NOTIFY_MASK | GDK_FOCUS_CHANGE_MASK | GDK_STRUCTURE_MASK | GDK_PROPERTY_CHANGE_MASK | GDK_VISIBILITY_NOTIFY_MASK | GDK_PROXIMITY_IN_MASK | GDK_PROXIMITY_OUT_MASK | GDK_SUBSTRUCTURE_MASK | GDK_SCROLL_MASK | GDK_TOUCH_MASK | GDK_SMOOTH_SCROLL_MASK | GDK_TOUCHPAD_GESTURE_MASK);\nMainWindow-&gt;set_modal(true);\nauto display = MainWindow-&gt;get_display();\nauto window = MainWindow-&gt;get_window();\nauto grabSuccess = display-&gt;get_default_seat()-&gt;grab(window, Gdk::SEAT_CAPABILITY_ALL, true);\nif(grabSuccess != Gdk::GRAB_SUCCESS)\n{\n    std::clog&lt;&lt;\"grab failed: \"&lt;&lt;grabSuccess&lt;&lt;std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 894, "user_id": 5913854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/782826775148383/picture?type=large", "display_name": "Matheus Saraiva", "link": "https://stackoverflow.com/users/5913854/matheus-saraiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475851181, "creation_date": 1475711118, "question_id": 39885351, "link": "https://stackoverflow.com/questions/39885351/gtkfilechooserdialog-does-not-act-as-modal", "title": "GtkFileChooserDialog does not act as modal", "body": "<p>I have a <a href=\"https://paste.gnome.org/pvxwgixip/lyrvkg\" rel=\"nofollow\">custom</a> <code>GtkFileChooserDialog</code> created with Glade. The <code>Modal</code> property is marked.\nI also have a <code>GtkFileChooserButton</code> that uses this <code>GtkFileChooserDialog</code> as its dialog:</p>\n\n<pre><code>class ImgChooserBttWithCapture(Gtk.FileChooserButton):\n    \"\"\"\n    The custom Gtk.FileChooserButton and Gtt.FileChooserDialog with a button for call capture app\n    \"\"\"\n\n    def __init__(self, cap_app_path):\n        self.builder = Gtk.Builder.new_from_file(\n            UIS_PATH + 'images_chooser_dialog.xml')\n        self.chooser_dialog = self.builder.get_object('icd_photo_chsrdialog')\n\n        super().__init__(dialog=self.chooser_dialog)\n        self.cap_app_path = cap_app_path\n        self.set_title('Selecione uma imagem')\n        self.set_halign(Gtk.Align.START)\n        self.set_valign(Gtk.Align.FILL)\n        self.set_hexpand(True)\n        self.set_tooltip_text('Clique para escolher uma nova imagem')\n        self.set_local_only(False)\n\n        handlers = {'onCaptureButtonClicked': self._on_capture_button_clicked}\n\n        self.builder.connect_signals(handlers)\n\n    def _on_capture_button_clicked(self, button):\n\n        try:\n            subprocess.call([self.cap_app_path])\n        except (subprocess.CalledProcessError, subprocess.TimeoutExpired, FileNotFoundError) as ex:\n\n            self.builder.add_from_file(UIS_PATH + 'information_window.xml')\n            msg_dialog = self.builder.get_object('iw_messagedialog')\n\n            msg_dialog.set_title('Erro')\n            msg_dialog.set_markup(\n                '&lt;span size=\"12000\"&gt;&lt;b&gt;N\u00e3o foi poss\u00edvel abrir o aplicativo&lt;/b&gt;&lt;/span&gt;')\n\n            msg_dialog.format_secondary_markup(\n                'O aplicativo de captura n\u00e3o est\u00e1 dispon\u00edvel.\\nVerifique o caminho para o aplicativo de caputura em configura\u00e7\u00f5es.\\n' + '&lt;span foreground=\"red\"&gt;&lt;u&gt;' + str(ex) + '&lt;/u&gt;&lt;/span&gt;')\n\n            msg_dialog.set_property('message-type', Gtk.MessageType.ERROR)\n            msg_dialog.set_transient_for(self.chooser_dialog)\n            self.builder.get_object('iw_message_image').set_from_file(\n                'views/uis/images/message_error.png')\n\n            msg_dialog.run()\n            msg_dialog.destroy()\n</code></pre>\n\n<p>But, when I click on the button, the dialog is not modal, that is, I can interact with the other window.</p>\n"}, {"tags": ["python", "mp3", "youtube-dl"], "answers": [{"comments": [{"owner": {"reputation": 2006, "user_id": 4970632, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9pW6x.jpg?s=128&g=1", "display_name": "Luke Davis", "link": "https://stackoverflow.com/users/4970632/luke-davis"}, "edited": false, "score": 2, "creation_date": 1488098310, "post_id": 41867959, "comment_id": 72074262, "body": "Thanks for posting your answer! Found this super useful, wrote a nice little python executable for parsing audio files in a directory and applying <code>artist - title</code> format metadata. <code>EasyMP4</code> from <code>mutagen.easymp4</code> also has identical functionality, and can be used for <code>m4a</code> files."}, {"owner": {"reputation": 353, "user_id": 3452235, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/husOu.jpg?s=128&g=1", "display_name": "lealoureiro", "link": "https://stackoverflow.com/users/3452235/lealoureiro"}, "edited": false, "score": 0, "creation_date": 1611440179, "post_id": 41867959, "comment_id": 116453427, "body": "How do you get the final path to downloaded final after conversion so you are able to change it with EasyID3 ?"}], "tags": [], "owner": {"reputation": 4574, "user_id": 2963703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/05dbb03a093d0e76ca5b6622855cb3c4?s=128&d=identicon&r=PG&f=1", "display_name": "stackPusher", "link": "https://stackoverflow.com/users/2963703/stackpusher"}, "is_accepted": true, "score": 6, "last_activity_date": 1487442837, "last_edit_date": 1495540479, "creation_date": 1485412243, "answer_id": 41867959, "question_id": 39885346, "link": "https://stackoverflow.com/questions/39885346/youtube-dl-add-metadata-during-audio-conversion/41867959#41867959", "title": "Youtube-dl add metadata during audio conversion", "body": "<p>Since someone upvoted my question, I'll mention that I did not end up finding a way to do this with youtube-dl, but thats ok because its easy to do with EasyID3:</p>\n\n<pre><code>from mutagen.easyid3 import EasyID3\n\nmetatag = EasyID3(pathToMp3File)\nmetatag['title'] = \"Song Title\"\nmetatag['artist'] = \"Song Artist\"\nmetatag.RegisterTextKey(\"track\", \"TRCK\")\nmetatag['track'] = 7\nmetatag.save()\n</code></pre>\n\n<p>More info about how to use it <a href=\"https://stackoverflow.com/questions/4040605/does-anyone-have-good-examples-of-using-mutagen-to-write-files\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 1860867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c3c0a2ed27f97ad4dd372794b1711b5?s=128&d=identicon&r=PG", "display_name": "ptha", "link": "https://stackoverflow.com/users/1860867/ptha"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 1, "creation_date": 1511622726, "post_id": 43793466, "comment_id": 81929743, "body": "@zerohedge it takes metadata from the Youtube video itself: Artist, Track Title, Date and Comment tags, and then adds it to the video or audio file metadata tags. You don&#39;t need to specify any additional arguments."}], "tags": [], "owner": {"reputation": 651, "user_id": 1860867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c3c0a2ed27f97ad4dd372794b1711b5?s=128&d=identicon&r=PG", "display_name": "ptha", "link": "https://stackoverflow.com/users/1860867/ptha"}, "is_accepted": false, "score": 16, "last_activity_date": 1493935661, "last_edit_date": 1493935661, "creation_date": 1493935318, "answer_id": 43793466, "question_id": 39885346, "link": "https://stackoverflow.com/questions/39885346/youtube-dl-add-metadata-during-audio-conversion/43793466#43793466", "title": "Youtube-dl add metadata during audio conversion", "body": "<p>There is the youtube-dl option: <strong>--add-metadata</strong> see the <a href=\"https://github.com/rg3/youtube-dl/blob/master/README.md#post-processing-options\" rel=\"noreferrer\" title=\"youtube-dl post-processing documentation\">post-processing documentation</a>.\nThe documentation says that it will add metadata to the video file, but this will also work for audio files. I've used it to download the m4a audio file for a video, so it should also work for mp3. This option adds Artist, Track Title, Date and Comment tags.</p>\n\n<p>I found that I needed to download <a href=\"https://ffmpeg.org/download.html\" rel=\"noreferrer\" title=\"FFmpeg\">FFmpeg</a> for this to work, I just put the ffmpeg.exe file in the same directory as youtube-dl.exe (this is on a windows system).</p>\n\n<p>I just noticed you mentioned you'd noticed this option. From testing it appears that it's using the Video Uploader for the Artist Tag, the actual Video name as the Title tag, the Video publish date as the Date tag and the Video comment for the Comment tag. So for music videos this is probably not ideal.</p>\n"}, {"tags": [], "owner": {"reputation": 2172, "user_id": 62536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CLfJu.gif?s=128&g=1", "display_name": "pbarney", "link": "https://stackoverflow.com/users/62536/pbarney"}, "is_accepted": false, "score": 0, "last_activity_date": 1605819923, "creation_date": 1605819923, "answer_id": 64919993, "question_id": 39885346, "link": "https://stackoverflow.com/questions/39885346/youtube-dl-add-metadata-during-audio-conversion/64919993#64919993", "title": "Youtube-dl add metadata during audio conversion", "body": "<p>If you want to do this with Youtube-dl, you can use the <code>--postprocessor-args</code> switch:</p>\n<pre><code>--add-metadata --postprocessor-args &quot;-metadata artist=Pink\\ Floyd&quot;\n</code></pre>\n"}], "owner": {"reputation": 4574, "user_id": 2963703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/05dbb03a093d0e76ca5b6622855cb3c4?s=128&d=identicon&r=PG&f=1", "display_name": "stackPusher", "link": "https://stackoverflow.com/users/2963703/stackpusher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19481, "favorite_count": 2, "accepted_answer_id": 41867959, "answer_count": 3, "score": 12, "last_activity_date": 1605819923, "creation_date": 1475711065, "question_id": 39885346, "link": "https://stackoverflow.com/questions/39885346/youtube-dl-add-metadata-during-audio-conversion", "title": "Youtube-dl add metadata during audio conversion", "body": "<p>Sorry if this question is misguided. I'm using youtube-dl to download song videos as mp3's before adding them to itunes. The problem is that the videos dont seem to contain the metadata in there. I read what i could about --add-metadata option but from what i understand this option is only used to add the ids if they are already in the video? I know the artist and song title so Id like a way to add it in directly if possible. Something to the effect --add-metadata-artist \"Pink Floyd\"\nIs that possible with the current configuration options?I saw this related issue but it didnt really help <a href=\"https://github.com/rg3/youtube-dl/issues/1570\" rel=\"noreferrer\">https://github.com/rg3/youtube-dl/issues/1570</a>\nHere are my current configuration settings:</p>\n\n<pre><code>options = {\n        'format':'bestaudio/best',\n        'extractaudio':True,\n        'audioformat':'mp3',\n        'outtmpl':'%(id)s.%(ext)s',     #name the file the ID of the video\n        'noplaylist':True,\n        'nocheckcertificate':True,\n        'proxy':\"\",\n        'addmetadata':True,\n        'postprocessors': [{\n            'key': 'FFmpegExtractAudio',\n            'preferredcodec': 'mp3',\n            'preferredquality': '192',\n        }]\n    }\n</code></pre>\n"}, {"tags": ["python", "json", "rest", "python-3.x", "urllib"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475711537, "post_id": 39885277, "comment_id": 67057485, "body": "Is it printing the <code>!!!FAILURE</code> notice? Is there a <code>team_loan.json</code> file in the working directory?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475711743, "post_id": 39885277, "comment_id": 67057548, "body": "Also, you realize that you will <i>overwrite</i> your <code>team_loan.json</code> every time in the loop? Is that on purpose?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475713285, "post_id": 39885277, "comment_id": 67057894, "body": "@juanpa.arrivillaga Thanks for the reply. Yes and yes, it runs print(&quot;!!!FAILURE to write data to outfile!!!&quot;), and my file is in the proper directory. As for overwriting team_loan.json in the loop, I don&#39;t see what you do, could you point and explain, please?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1475713366, "post_id": 39885277, "comment_id": 67057920, "body": "It&#39;s printing the <code>&quot;!!!FAILURE to write data to outfile!!!&quot;</code> message whenever <code>(int(i) % 10 == 0)</code> is <code>False</code> However that expression only checks to see whether 10 teams have been read yet after each iteration. The logic of your test is wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1475713920, "post_id": 39885277, "comment_id": 67058051, "body": "@martineau I see that now, thanks! I was confusing page numbers for team numbers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475713964, "post_id": 39885277, "comment_id": 67058067, "body": "I would still like to see where @juanpa.arrivillaga says I am overwriting my data. This process will take much time and I want to be sure I&#39;m not overwriting anything"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475714173, "post_id": 39885277, "comment_id": 67058119, "body": "I think @juanpa.arrivillaga was referring to the fact that when the data is written to a file, the same file name (&#39;team_loan.json&#39;) is always used\u2014so each suggestive one will overwrite the last, if any already exists. You could use the value <code>str(i)</code> to form unique names for each one if that&#39;s a problem."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1475714543, "post_id": 39885277, "comment_id": 67058199, "body": "Also, you should devise a way to not process all the data while doing development so you can obtain code that works more quickly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "edited": false, "score": 0, "creation_date": 1475714702, "post_id": 39885277, "comment_id": 67058221, "body": "@martineauThank you for the help, I&#39;ve got it running now. Can you recommend me a personal method or a stackoverflow page for making this script more efficient? I&#39;d like to try that"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "is_accepted": false, "score": 0, "last_activity_date": 1475714806, "creation_date": 1475714806, "answer_id": 39885812, "question_id": 39885277, "link": "https://stackoverflow.com/questions/39885277/urllib-request-data-not-writing-to-outfile/39885812#39885812", "title": "urllib.request: Data Not Writing to Outfile", "body": "<p>For others who may read this post, the script does in face write data to an outfile. It was simply test code logic that was wrong. Ignore the print statements I have put into place.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4234032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475714806, "creation_date": 1475710464, "last_edit_date": 1475711819, "question_id": 39885277, "link": "https://stackoverflow.com/questions/39885277/urllib-request-data-not-writing-to-outfile", "title": "urllib.request: Data Not Writing to Outfile", "body": "<p>I've got a script here which (ideally) iterates through multiple pages X of JSON data for each entity Y (in this case, multiple loans X for each team Y). The way that the api is constructed, I believe I must physically change a subdirectory within the URL in order to iterate through multiple entities. Here is the explicit documentation and URL:</p>\n\n<blockquote>\n  <p>GET /teams/:id/loans </p>\n  \n  <p>Returns loans belonging to a particular team.\n  Example <a href=\"http://api.kivaws.org/v1/teams/2/loans.json\" rel=\"nofollow\">http://api.kivaws.org/v1/teams/2/loans.json</a></p>\n  \n  <p>Parameters id(number) Required. The team ID for which to return loans.\n  page(number) The page position of results to return. Default: 1\n  sort_by(string) The order by which to sort results. One of: oldest,\n  newest Default: newest app_id(string) The application id in reverse\n  DNS notation. ids_only(string) Return IDs only to make the return\n  object smaller. One of: true, false Default: false Response<br>\n  loan_listing \u2013 HTML , JSON , XML , RSS</p>\n  \n  <p>Status   Production</p>\n</blockquote>\n\n<p>And here is my script, which does run and appear to extract the correct data, but <strong>doesn't seem to write any data to the outfile:</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\n\nimport urllib.request as urllib\nimport json\nimport time\n\n# storing team loans dict. The key is the team id, en value is the list of lenders\nteam_loans = {}\n\nurl = \"http://api.kivaws.org/v1/teams/\"\n\n#teams_id range 1 - 11885\nfor i in range(1, 100):\n\n  params = dict(\n    id = i\n  )\n\n  #i =1\n  try:\n    handle = urllib.urlopen(str(url+str(i)+\"/loans.json\"))\n    print(handle)\n  except:\n    print(\"Could not handle url\")\n    continue\n  # reading response\n  item_html =  handle.read().decode('utf-8')\n  # converting bytes to str\n  data = str(item_html)\n  # converting to json\n  data = json.loads(data)\n  # getting number of pages to crawl\n  numPages = data['paging']['pages']\n  # deleting paging data\n  data.pop('paging')\n\n  # calling additional pages\n  if numPages &gt;1:\n    for pa in range(2,numPages+1,1):\n        #pa = 2\n        handle = urllib.urlopen(str(url+str(i)+\"/loans.json?page=\"+str(pa)))\n        print(\"Pulling loan data from team \" + str(i) + \"...\")\n        # reading response\n        item_html =  handle.read().decode('utf-8')\n        # converting bytes to str\n        datatemp = str(item_html)\n        # converting to json\n        datatemp = json.loads(datatemp)\n        #Pagings are redundant headers\n        datatemp.pop('paging')\n        # adding data to initial list\n        for loan in datatemp['loans']:\n            data['loans'].append(loan)\n        time.sleep(2)\n\n  # recording loans by team in dict\n  team_loans[i] = data['loans']\n  if (data['loans']):\n    print(\"===Data added to the team_loan dictionary===\")\n  else:\n    print(\"!!!FAILURE to add data to team_loan dictionary!!!\")\n\n  # recorging data to file when 10 teams are read\n  print(\"===Finished pulling from page \" + str(i) + \"===\")\n  if (int(i) % 10 == 0):\n    outfile = open(\"team_loan.json\", \"w\")\n    print(\"===Now writing data to outfile===\")\n    json.dump(team_loans, outfile, sort_keys = True, indent = 2, ensure_ascii=True)\n    outfile.close()\n  else:\n    print(\"!!!FAILURE to write data to outfile!!!\")\n\n  # compliance with API # of requests\n  time.sleep(2)\n\nprint ('Done! Check your outfile (team_loan.json)')\n</code></pre>\n\n<p>I know that may be a heady amount of code to throw in your faces, but it's a pretty sequential process.</p>\n\n<p>Again, this program is pulling the correct data, but it is <strong>not</strong>  writing this data to the outfile. Can anyone understand why? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475710666, "post_id": 39885180, "comment_id": 67057266, "body": "Path <code>.</code> is reative to current working directory, which is directory from which the proecss was started, not the path to current &quot;py&quot; file. Use variable <code>__file__</code> for that."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6929031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7c26bc642d602e429ec3d5f00179a9?s=128&d=identicon&r=PG&f=1", "display_name": "astrapios", "link": "https://stackoverflow.com/users/6929031/astrapios"}, "edited": false, "score": 0, "creation_date": 1475860164, "post_id": 39885367, "comment_id": 67128780, "body": "Putting my_dir = os.path.dirname(<b>file</b>) inside the function in a separate .py file and importing it gives me an error message saying: IndentationError: unindent does not match any outer indentation level..."}, {"owner": {"reputation": 23, "user_id": 6929031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7c26bc642d602e429ec3d5f00179a9?s=128&d=identicon&r=PG&f=1", "display_name": "astrapios", "link": "https://stackoverflow.com/users/6929031/astrapios"}, "edited": false, "score": 0, "creation_date": 1475860516, "post_id": 39885367, "comment_id": 67128943, "body": "nevermind, it works perfectly. Somehow my vim messed up the file. Thank you!!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1475711707, "last_edit_date": 1475711707, "creation_date": 1475711284, "answer_id": 39885367, "question_id": 39885180, "link": "https://stackoverflow.com/questions/39885180/access-folder-that-a-custom-python-function-resides-in/39885367#39885367", "title": "Access folder that a custom python function resides in", "body": "<p>Like this:  </p>\n\n<pre><code>import os\n\nmy_dir = os.path.dirname(__file__)\nfname = 'file_path_in_the_function_folder.txt'\nfilepath = os.path.join(my_dir, fname)\n</code></pre>\n\n<p>As explained in the <a href=\"https://docs.python.org/3/reference/datamodel.html?highlight=__file__\" rel=\"nofollow\">data model</a>, you can use the <code>__file__</code> name for getting the path of the current module.  In python 3.4+ it's an absolute path, for earlier version you can't easily know if it's absolute or relative - but you usually needn't care, either.</p>\n"}], "owner": {"reputation": 23, "user_id": 6929031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7c26bc642d602e429ec3d5f00179a9?s=128&d=identicon&r=PG&f=1", "display_name": "astrapios", "link": "https://stackoverflow.com/users/6929031/astrapios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 39885367, "answer_count": 1, "score": 2, "last_activity_date": 1475711707, "creation_date": 1475709755, "question_id": 39885180, "link": "https://stackoverflow.com/questions/39885180/access-folder-that-a-custom-python-function-resides-in", "title": "Access folder that a custom python function resides in", "body": "<p>How do I access a folder that a python function resides in?</p>\n\n<p>For example, lets say that I have a N by 2 array of data. First column is the independent variable, and second is the dependent variable. I need to interpolate this data with different array of independent variable who's range is contained in the original independent variable. This procedure is used in multiple different codes with varying range of independent variables such that I do not want to copy this data file to multiple places. I would like to write a single function that achieves this, with the single copy of data inside the folder containing the function itself. </p>\n\n<p>My example attempts are:</p>\n\n<pre><code>import numpy as np\nfrom scipy.interpolate import splev, splrep\n\ndef function(some_array):\n    filepath = './file_path_in_the_function_folder.txt'\n    some_data = np.loadtxt(filepath)\n\n    interpolated_data = splev(some_array, splrep(some_data[:,0], some_data[:,1]))\n\n    return interpolated_data\n</code></pre>\n\n<p>However, './' does not recognize the location of the function, rather it directs to the current working directory of the script that imports the function. How can I circumvent this problem?</p>\n"}, {"tags": ["python", "image", "image-processing", "rgb"], "comments": [{"owner": {"reputation": 1638, "user_id": 6309608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vjkZY.png?s=128&g=1", "display_name": "techydesigner", "link": "https://stackoverflow.com/users/6309608/techydesigner"}, "edited": false, "score": 0, "creation_date": 1475709750, "post_id": 39885178, "comment_id": 67057036, "body": "Have you done any research so far?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6929083, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210056151536980/picture?type=large", "display_name": "Juan Telo", "link": "https://stackoverflow.com/users/6929083/juan-telo"}, "edited": false, "score": 0, "creation_date": 1475716088, "post_id": 39885418, "comment_id": 67058467, "body": "wow thanks, not quite what I needed but this is really interesting. Sorry for being vague, I meant I wanted to do an histogram for each of the channels"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 31, "user_id": 6929083, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210056151536980/picture?type=large", "display_name": "Juan Telo", "link": "https://stackoverflow.com/users/6929083/juan-telo"}, "edited": false, "score": 0, "creation_date": 1475716447, "post_id": 39885418, "comment_id": 67058540, "body": "@JuanTelo You could have mentioned this... Well... i added it to the code."}, {"owner": {"reputation": 1029, "user_id": 12304000, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mASvJdf8Dhr_5q9ugWamgQrLPSHTkl28b9ol7gcxg=k-s128", "display_name": "x89", "link": "https://stackoverflow.com/users/12304000/x89"}, "edited": false, "score": 0, "creation_date": 1601501731, "post_id": 39885418, "comment_id": 113432001, "body": "I have a similar problem. Could you look into this? <a href=\"https://stackoverflow.com/questions/64145300/remove-a-particular-color-from-an-image\" title=\"remove a particular color from an image\">stackoverflow.com/questions/64145300/&hellip;</a>"}], "tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": false, "score": 2, "last_activity_date": 1475716393, "last_edit_date": 1475716393, "creation_date": 1475711647, "answer_id": 39885418, "question_id": 39885178, "link": "https://stackoverflow.com/questions/39885178/how-can-i-see-the-rgb-channels-of-a-given-image-with-python/39885418#39885418", "title": "How can I see the RGB channels of a given image with python?", "body": "<p>My favorite approach is using <a href=\"http://scikit-image.org/\" rel=\"nofollow noreferrer\">scikit-image</a>. It is built on top of numpy/scipy and images are internally stored within numpy-arrays.</p>\n\n<p>Your question is a bit vague, so it's hard to answer. I don't know exactly what you want to do but will show you some code.</p>\n\n<h3>Test-image:</h3>\n\n<p>I will use <a href=\"http://www.colorwiki.com/images/0/0a/Photodisc.png\" rel=\"nofollow noreferrer\">this test image</a>.</p>\n\n<h3>Code:</h3>\n\n<pre><code>import skimage.io as io\nimport matplotlib.pyplot as plt\n\n# Read\nimg = io.imread('Photodisc.png')\n\n# Split\nred = img[:, :, 0]\ngreen = img[:, :, 1]\nblue = img[:, :, 2]\n\n# Plot\nfig, axs = plt.subplots(2,2)\n\ncax_00 = axs[0,0].imshow(img)\naxs[0,0].xaxis.set_major_formatter(plt.NullFormatter())  # kill xlabels\naxs[0,0].yaxis.set_major_formatter(plt.NullFormatter())  # kill ylabels\n\ncax_01 = axs[0,1].imshow(red, cmap='Reds')\nfig.colorbar(cax_01, ax=axs[0,1])\naxs[0,1].xaxis.set_major_formatter(plt.NullFormatter())\naxs[0,1].yaxis.set_major_formatter(plt.NullFormatter())\n\ncax_10 = axs[1,0].imshow(green, cmap='Greens')\nfig.colorbar(cax_10, ax=axs[1,0])\naxs[1,0].xaxis.set_major_formatter(plt.NullFormatter())\naxs[1,0].yaxis.set_major_formatter(plt.NullFormatter())\n\ncax_11 = axs[1,1].imshow(blue, cmap='Blues')\nfig.colorbar(cax_11, ax=axs[1,1])\naxs[1,1].xaxis.set_major_formatter(plt.NullFormatter())\naxs[1,1].yaxis.set_major_formatter(plt.NullFormatter())\nplt.show()\n\n# Plot histograms\nfig, axs = plt.subplots(3, sharex=True, sharey=True)\n\naxs[0].hist(red.ravel(), bins=10)\naxs[0].set_title('Red')\naxs[1].hist(green.ravel(), bins=10)\naxs[1].set_title('Green')\naxs[2].hist(blue.ravel(), bins=10)\naxs[2].set_title('Blue')\n\nplt.show()\n</code></pre>\n\n<h3>Output:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/QrsKN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrsKN.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RgIW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RgIW2.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Comment</h3>\n\n<ul>\n<li>Output looks good: see for example the yellow flower, which has much green and red, but not much blue which is compatible with wikipedia's scheme from <a href=\"https://en.wikipedia.org/wiki/RGB_color_model\" rel=\"nofollow noreferrer\">here</a>:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/afqqm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afqqm.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 6929083, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210056151536980/picture?type=large", "display_name": "Juan Telo", "link": "https://stackoverflow.com/users/6929083/juan-telo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5592, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475716393, "creation_date": 1475709709, "question_id": 39885178, "link": "https://stackoverflow.com/questions/39885178/how-can-i-see-the-rgb-channels-of-a-given-image-with-python", "title": "How can I see the RGB channels of a given image with python?", "body": "<p>Imagine a I have an image and I want to split it and see the RGB channels. How can I do it using python?</p>\n"}, {"tags": ["python", "numpy", "indexing", "mask", "scikit-image"], "comments": [{"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475709633, "post_id": 39885113, "comment_id": 67057011, "body": "You&#39;d like to calculate the median value of what, exactly? If you&#39;re trying to find the center of the area bounded by those two lines, isn&#39;t that just finding the midpoint of a trapezoid?"}, {"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475709909, "post_id": 39885113, "comment_id": 67057082, "body": "Sorry I wanted to say median pixel value  between those lines in the y direction."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475710561, "post_id": 39885113, "comment_id": 67057236, "body": "So you could find the midpoint coordinates of that trapezoid and then index the image to find the RGB  value. Working on a solution now...."}, {"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475710772, "post_id": 39885113, "comment_id": 67057295, "body": "I do not think I follow you: The output should be an array not a single point... also in this case the lines are  parallel but it might not be the case..."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475711059, "post_id": 39885113, "comment_id": 67057363, "body": "Are you looking for the RGB for the middlemost point? Or the average RGB value for all pixels contained in that shape? Those are two different questions."}, {"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475711362, "post_id": 39885113, "comment_id": 67057441, "body": "For example going from the bottom to the top of the image I want the median value for the pixels within those two curves for each row. (without looping) The image is not RGB composition is just a np.ndarray with a cmap."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475712171, "post_id": 39885113, "comment_id": 67057648, "body": "I&#39;m looking into solutions. In the meantime, if you haven&#39;t seen <a href=\"http://docs.astropy.org/en/stable/io/fits/usage/image.html\" rel=\"nofollow noreferrer\">this</a>, it might be valuable."}, {"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1475770634, "post_id": 39885113, "comment_id": 67087462, "body": "Thank you. I have adapted the initial example to make it more understandable"}], "answers": [{"comments": [{"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "edited": false, "score": 0, "creation_date": 1475770483, "post_id": 39885536, "comment_id": 67087379, "body": "Thank you very much @jadsq for your example. I was not aware of this mgrid method... However I did not provide a good example for my question: This solution will work for straight lines but not curves... I have changed my initial code to better represent the problem... do you think it can be adapted somehow?"}], "tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": true, "score": 4, "last_activity_date": 1475785900, "last_edit_date": 1475785900, "creation_date": 1475712529, "answer_id": 39885536, "question_id": 39885113, "link": "https://stackoverflow.com/questions/39885113/mask-an-image-np-ndarray-section-which-lies-between-two-curves/39885536#39885536", "title": "Mask an image (np.ndarray) section which lies between two curves", "body": "<p>A fairly straight forward way of generating such a mask would be to use the <code>numpy.mgrid</code> thingy that essentially gives you x and y-coordinate arrays (in that 2D case) that can then be used to compute the mask with the equation of the lines . </p>\n\n<p><strong>Edit :</strong> Provided you can express your mask using an equation (like <code>f(x,y)&lt;0</code> where f is any function you want) or a combination of those equations, you can do anything you want. Here is an example with your new mask along with some extra art pieces:  </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ny,x=np.mgrid[0:1000,0:1000]\n\n#a wiggly ramp\nplt.subplot(221)\nmask0=(y &lt; x + 20 * np.sin(0.05*x)) &amp; (y &gt; x - 100 + 20 * np.sin(0.05*x))\nplt.imshow(mask0,origin='lower',cmap='gray')\n\n#a ramp\nplt.subplot(222)\nmask1=(y &lt; x) &amp; (x &lt; y+100)\nplt.imshow(mask1,origin='lower',cmap='gray')\n\n#a disk\nplt.subplot(223)\nmask2=(200**2&gt;(x-500)**2+(y-500)**2)\nplt.imshow(mask2,origin='lower',cmap='gray')\n\n#a ying-yang attempt\nplt.subplot(224)\nmask3= (mask2 &amp; (0 &lt; np.sin(3.14*x/250)*100 + 500 - y) &amp; (30**2 &lt; (x-620)**2+(y-500)**2) )| (30**2 &gt; (x-380)**2+(y-500)**2)\nplt.imshow(mask3,origin='lower',cmap='gray')\n\nplt.show()\n</code></pre>\n\n<p>Output :</p>\n\n<p><a href=\"https://i.stack.imgur.com/VPK6w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPK6w.png\" alt=\"Output\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "edited": false, "score": 1, "creation_date": 1475770287, "post_id": 39886055, "comment_id": 67087270, "body": "Thank you very much for the reply Stefan! It is a very clean, however I think I did not explain myself properly: I believe this polygon method will only work if the section edges are completely straight... It will not give the right solution for curved edges... Do you think it can be adapted somehow? (I have updated the example using a bit of yours)"}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "reply_to_user": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "edited": false, "score": 0, "creation_date": 1475816751, "post_id": 39886055, "comment_id": 67104266, "body": "In that case, the above two posted solutions in combination gives you what you need.  Not that you are consuming a lot of memory with this operation; a loop in Cython, numba, pypi, etc. would be much quicker."}], "tags": [], "owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "is_accepted": false, "score": 5, "last_activity_date": 1475716790, "creation_date": 1475716790, "answer_id": 39886055, "question_id": 39885113, "link": "https://stackoverflow.com/questions/39885113/mask-an-image-np-ndarray-section-which-lies-between-two-curves/39886055#39886055", "title": "Mask an image (np.ndarray) section which lies between two curves", "body": "<p>The code snippet below creates a mask, sets all values outside the mask to nan, and then uses NumPy's <code>nanmedian</code> to calculate the desired quantity along the direction indicated.</p>\n\n<pre><code>import numpy as np\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import gridspec\n\nfrom skimage.measure import grid_points_in_poly\n\n\n# Create test image\nN = 900\nimage = np.sin(np.linspace(0, 2 * np.pi, N * N).reshape((N, N)) ** 2)\n\n# Define the mask polygon\npoly = [[N, 0],\n        [0, N],\n        [100, N],\n        [N, 100]]\n\n# Create the mask (True is inside the polygon)\nmask = grid_points_in_poly(image.shape, poly)\n\n# Set everything outside the mask to nan\nmasked_image = image.copy()\nmasked_image[~mask] = np.nan\n\n# Perform the required operation\nrow_med = np.nanmedian(masked_image, axis=1)\n\n# The rest of the code is to visualize the result\nfig = plt.figure(figsize=(15, 10))\ngs = gridspec.GridSpec(1, 3, width_ratios=(1, 1, 1/8))\nax0 = plt.subplot(gs[0])\nax1 = plt.subplot(gs[1])\nax2 = plt.subplot(gs[2])\n\nax0.imshow(image, cmap='gray')\nax0.set_title('Input image')\nax0.set_xlim(0, N)\n\nax1.imshow(masked_image, cmap='gray')\nax1.set_title('Masked image')\nax1.set_xlim(0, N)\n\nax2.plot(row_med, np.arange(N))\nax2.set_ylim([N, 0])\nax2.set_xlim([-1.5, 1.5])\nax2.set_title('Row median')\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/axaZq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/axaZq.png\" alt=\"Median along rows inside region of interest\"></a></p>\n"}], "owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "accepted_answer_id": 39885536, "answer_count": 2, "score": 1, "last_activity_date": 1475785900, "creation_date": 1475709349, "last_edit_date": 1475769921, "question_id": 39885113, "link": "https://stackoverflow.com/questions/39885113/mask-an-image-np-ndarray-section-which-lies-between-two-curves", "title": "Mask an image (np.ndarray) section which lies between two curves", "body": "<p>Borrowing this example from astropy:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nfrom astropy.io import fits\nfrom astropy.wcs import WCS\nfrom astropy.utils.data import download_file\n\nfits_file = 'http://data.astropy.org/tutorials/FITS-images/HorseHead.fits'\nimage_file = download_file(fits_file, cache=True)\nhdu = fits.open(image_file)[0]\nwcs = WCS(hdu.header)\n\nfig = plt.figure()\nax = fig.add_subplot(111)\nplt.imshow(hdu.data, origin='lower', cmap='cubehelix')\nplt.xlabel('X')\nplt.ylabel('Y')\n\nx_array = np.arange(0, 1000)\nline_1 = 1 * x_array + 20 * np.sin(0.05*x_array)\nline_2 = x_array - 100 + 20 * np.sin(0.05*x_array)\n\nplt.plot(x_array, line_1, color='red')\nplt.plot(x_array, line_2, color='red')\n\nax.set_xlim(0, hdu.shape[1])\nax.set_ylim(0, hdu.shape[0])\n\nplt.show()\n</code></pre>\n\n<p>I would like to calculate the median pixel value (in y direction for example) which lies between the two curves:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5QvFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QvFz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I believe the clever thing would be to create a mask for the region of interest.</p>\n\n<p>Is there a way to generate this mask without looping across the image pixels?</p>\n\n<p>Edit 1: Modified question improve understanding</p>\n\n<p>Edit 2: I changed the example to better represent the question title (curves instead of straight lines)</p>\n"}, {"tags": ["python", "rest", "amazon-web-services", "curl", "amazon-ec2"], "comments": [{"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1475749047, "post_id": 39885013, "comment_id": 67072519, "body": "<i>&quot;The result is not hexadecimal nor alphanumeric&quot;</i>  No, it isn&#39;t.  It isn&#39;t expected to be.  I suspect your problem is that you have found the right documentation but you need to slow down and read every sentence carefully until you are certain you have overlooked nothing.  For example, this statement is on the page you linked: <i>&quot;Note that these are hex-encoded representations of the binary data; the key itself and the intermediate values should be in binary format.&quot;</i> The hex representation is for human readability/debugging.  The actual result should indeed <b>not</b> be hex or alphanumeric."}, {"owner": {"reputation": 79, "user_id": 5697119, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94bf123c7e410d662834e2140e6b868e?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran", "link": "https://stackoverflow.com/users/5697119/kiran"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1475752477, "post_id": 39885013, "comment_id": 67074619, "body": "The result is used for the construction of a signature in an API call.  The code and documentation leaves out that a library binascii needs to be imported and then a hexlify function needs to be ran.  These, according to your comment, are crucial yet implied.  To me, it&#39;s inconsistent in the directions that are available with the code provided to leave out such a big step.  I&#39;ll continue troubleshooting this method. But I looked at intermediate steps and found digests were the same when I tested examples.  I&#39;ll also go back to the beginning and verify I have not overlooked something else."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1475758886, "post_id": 39885013, "comment_id": 67079095, "body": "No, hexify should not be needed.  The documentation <i>shows</i> the hex encoded versions of the keys, for purposes of illustration of what the actual bytes are, but the keys are not actually used in that form. You might find <a href=\"http://docs.aws.amazon.com/general/latest/gr/signature-v4-test-suite.html\" rel=\"nofollow noreferrer\">the test suite</a> useful.  It gives you sample requests and credentials and the results of some of the intermediate steps."}, {"owner": {"reputation": 79, "user_id": 5697119, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94bf123c7e410d662834e2140e6b868e?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran", "link": "https://stackoverflow.com/users/5697119/kiran"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1475803170, "post_id": 39885013, "comment_id": 67101100, "body": "How do you do it without hexify?  The result is not a hexadecimal string on one line.  I downloaded the testsuite.zip. I see get-vanilla and post-vanilla files with file extensions such as .req, .creq, .sts, and authz. I see the content of these files. I do not know how to use them or apply them. Can you explain how to use this?"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1475808759, "post_id": 39885013, "comment_id": 67102291, "body": "This is explained near the top of the page.  <i>&quot;Each test group contains five files that you can use to validate each of the tasks described in <a href=\"http://docs.aws.amazon.com/general/latest/gr/signature-version-4.html\" rel=\"nofollow noreferrer\">Signature Version 4 Signing Process</a>. The following list describes the contents of each file.&quot;</i>  If that doesn&#39;t give you some direction, I am uncertain exactly what else can be done to assist you."}], "owner": {"reputation": 79, "user_id": 5697119, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94bf123c7e410d662834e2140e6b868e?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran", "link": "https://stackoverflow.com/users/5697119/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475708762, "creation_date": 1475708762, "question_id": 39885013, "link": "https://stackoverflow.com/questions/39885013/i-cannot-calculate-a-working-aws-signature-version-4-hexadecimal-string-for-cu", "title": "I cannot calculate a working AWS signature version 4 (hexadecimal string) for curl commands to work to test the REST API", "body": "<p>I have never been able to get Rest APIs to completely work with AWS.  The error messages I have seen have been about the time not being correct or the command not being recognized (e.g., list-users).  I have verified the \"version\" was appropriate for the command with AWS's website documentation.</p>\n\n<p>I am trying to use curl with Linux to list the users or instances in my AWS account.  I have a problem when I run it.  My current error, that I would like to focus on, is \"request signatures calculated does not match the signature provided.\"  I went through the process of creating a signature carefully.  It wasn't that surprising that it did not work given the hours of trouble and the seemingly many potential pitfalls in the tedious task of creating a signature.</p>\n\n<p>I used this link to generate the hexadecimal string for the signature:\n<a href=\"http://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html#signature-v4-examples-python\" rel=\"nofollow\">http://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html#signature-v4-examples-python</a></p>\n\n<p>I analyzed the output of the signatureKey using a modification of the Python code in the above link.  The result is not hexadecimal nor alphanumeric.  The result is a combination of special non-alphabet, non-numeric symbols and alphabet letters.  I tried to work around this problem by using import binascii and binascii.hexlify.  I was able to get a hexadecimal string from otherwise strictly adhering to the sample of Python code from the above link.  I tend to think my signatureKey is not right because of this binascii work that I had to do.  But what did I do wrong?  How is that Python code supposed to calculate a signature?</p>\n\n<p>Alternatively, are there thorough directions not written by Amazon to create a signature key?  The process is not simple and seemingly error prone.  I could start over with creating a signature if someone cannot clearly tell me how to create a signature.  Amazon's forums have few postings related to this topic.  I'd prefer to create the signature with Python.  If someone recommends Ruby (an accessible language for me), I could try something like that.</p>\n"}, {"tags": ["python", "python-2.7", "pyqtgraph"], "answers": [{"comments": [{"owner": {"reputation": 1262, "user_id": 5597037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eaab5b288caf39e6cbd4387c0c3cf344?s=128&d=identicon&r=PG", "display_name": "Mike C.", "link": "https://stackoverflow.com/users/5597037/mike-c"}, "edited": false, "score": 0, "creation_date": 1475775704, "post_id": 39889712, "comment_id": 67090231, "body": "Worked like a charm. Thanks."}], "tags": [], "owner": {"reputation": 689, "user_id": 4328381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a5d35264f3115677cf54d3434344b4?s=128&d=identicon&r=PG&f=1", "display_name": "luddek", "link": "https://stackoverflow.com/users/4328381/luddek"}, "is_accepted": true, "score": 4, "last_activity_date": 1475737893, "creation_date": 1475737893, "answer_id": 39889712, "question_id": 39884931, "link": "https://stackoverflow.com/questions/39884931/how-do-i-clear-a-scatterplotitem-in-pyqtgraph/39889712#39889712", "title": "How do I clear a ScatterPlotItem in PYQTGRAPH", "body": "<p>When you call addItem you add the plotdataitem, in this case a scatterplotitem to your plotitem. To remove it you call removeItem in the same way. But you need to keep a reference to the scatterplotitem to do that.</p>\n\n<p>Note that addItem doesn't return anything i.e. your self.cursor2 is None.</p>\n\n<p>If you want to remove everything from your plot you could call</p>\n\n<pre><code>self.p2_3.clear()\n</code></pre>\n\n<p>otherwise to just remove the scatterplotitem you can do like this</p>\n\n<pre><code>import pyqtgraph as pg\n\nwin = pg.GraphicsWindow()\nplotitem = win.addPlot()\nscatterplot = pg.ScatterPlotItem([2], [3], symbol='+', color = 'b')\n\nplotitem.addItem(scatterplot)\nplotitem.removeItem(scatterplot)\n</code></pre>\n"}], "owner": {"reputation": 1262, "user_id": 5597037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eaab5b288caf39e6cbd4387c0c3cf344?s=128&d=identicon&r=PG", "display_name": "Mike C.", "link": "https://stackoverflow.com/users/5597037/mike-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4503, "favorite_count": 0, "accepted_answer_id": 39889712, "answer_count": 1, "score": 1, "last_activity_date": 1475737893, "creation_date": 1475708164, "question_id": 39884931, "link": "https://stackoverflow.com/questions/39884931/how-do-i-clear-a-scatterplotitem-in-pyqtgraph", "title": "How do I clear a ScatterPlotItem in PYQTGRAPH", "body": "<p>I am attempting to move a \"cursor\" around my graph using ScatterPlotItem and a '+' symbol as the cursor. The cursor updates its position perfectly but I cannot figure out how to clear the last instance. Here is the line that I use to plot the 'cursor'.</p>\n\n<pre><code>self.cursor2 = self.p2_3.addItem(pg.ScatterPlotItem([self.xx], [self.yy], pen=None, symbol='+', color = 'b'))\n</code></pre>\n\n<p>I tried self.cursor2.clear() but that didn't work. Any help is appreciated. </p>\n"}, {"tags": ["python", "multithreading", "multiprocessing", "deadlock"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 7018794, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-97wGhqpYUt0/AAAAAAAAAAI/AAAAAAAAAeo/os-xiF_oppU/photo.jpg?sz=128", "display_name": "Roman Podoliaka", "link": "https://stackoverflow.com/users/7018794/roman-podoliaka"}, "is_accepted": false, "score": 8, "last_activity_date": 1476454906, "creation_date": 1476454906, "answer_id": 40045511, "question_id": 39884898, "link": "https://stackoverflow.com/questions/39884898/large-amount-of-multiprocessing-process-causing-deadlock/40045511#40045511", "title": "Large amount of multiprocessing.Process causing deadlock", "body": "<p>The problem is also reproduced on the latest build of CPython - <code>Python 3.7.0a0 (default:4e2cce65e522, Oct 13 2016, 21:55:44)</code>.</p>\n\n<p>If you <a href=\"http://podoliaka.org/2016/04/10/debugging-cpython-gdb/\" rel=\"noreferrer\">attach</a> to one of the stuck processes with gdb, you'll see that it's trying to acquire a lock in <code>sys.stdout.flush()</code> call:</p>\n\n<pre><code>(gdb) py-list\n 263                import traceback\n 264                sys.stderr.write('Process %s:\\n' % self.name)\n 265                traceback.print_exc()\n 266            finally:\n 267                util.info('process exiting with exitcode %d' % exitcode)\n&gt;268                sys.stdout.flush()\n 269                sys.stderr.flush()\n 270\n 271            return exitcode\n</code></pre>\n\n<p>Python level backtrace looks like this:</p>\n\n<pre><code> (gdb) py-bt\n Traceback (most recent call first):\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/process.py\", line 268, in _bootstrap\n     sys.stdout.flush()\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/popen_fork.py\", line 74, in _launch\n     code = process_obj._bootstrap()\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/popen_fork.py\", line 20, in __init__\n     self._launch(process_obj)\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/context.py\", line 277, in _Popen\n     return Popen(process_obj)\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/context.py\", line 223, in _Popen\n     return _default_context.get_context().Process._Popen(process_obj)\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/process.py\", line 105, in start\n     self._popen = self._Popen(self)\n   File \"deadlock.py\", line 17, in run\n     process.start()\n   File \"/home/rpodolyaka/src/cpython/Lib/multiprocessing/pool.py\", line 119, in worker\n     result = (True, func(*args, **kwds))\n   File \"/home/rpodolyaka/src/cpython/Lib/threading.py\", line 864, in run\n     self._target(*self._args, **self._kwargs)\n   File \"/home/rpodolyaka/src/cpython/Lib/threading.py\", line 916, in _bootstrap_inner\n     self.run()\n   File \"/home/rpodolyaka/src/cpython/Lib/threading.py\", line 884, in _bootstrap\n     self._bootstrap_inner()\n</code></pre>\n\n<p>At the interpreter level it looks like:</p>\n\n<pre><code>(gdb) frame 6\n\n(gdb) list\n287        return 0;\n288    }\n289    relax_locking = (_Py_Finalizing != NULL);\n290    Py_BEGIN_ALLOW_THREADS\n291    if (!relax_locking)\n292        st = PyThread_acquire_lock(self-&gt;lock, 1);\n293    else {\n294        /* When finalizing, we don't want a deadlock to happen with daemon\n295         * threads abruptly shut down while they owned the lock.\n296         * Therefore, only wait for a grace period (1 s.). ... */\n\n(gdb) p /x self-&gt;lock\n$1 = 0xd25ce0\n\n(gdb) p /x self-&gt;owner\n$2 = 0x7f9bb2128700\n</code></pre>\n\n<p>Note, that from the point of view of this particular child process the lock is still owned by one of threads in the parent process (<code>LWP 1105</code>):</p>\n\n<pre><code>(gdb) info threads\n  Id   Target Id         Frame\n* 1    Thread 0x7f9bb5559440 (LWP 1102) \"python\" 0x00007f9bb5157577 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, \n    futex_word=0xe4d340) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  2    Thread 0x7f9bb312a700 (LWP 1103) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  3    Thread 0x7f9bb2929700 (LWP 1104) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  4    Thread 0x7f9bb2128700 (LWP 1105) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  5    Thread 0x7f9bb1927700 (LWP 1106) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  6    Thread 0x7f9bb1126700 (LWP 1107) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  7    Thread 0x7f9bb0925700 (LWP 1108) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  8    Thread 0x7f9b9bfff700 (LWP 1109) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  9    Thread 0x7f9b9b7fe700 (LWP 1110) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  10   Thread 0x7f9b9affd700 (LWP 1111) \"python\" 0x00007f9bb4780253 in select () at ../sysdeps/unix/syscall-template.S:84\n  11   Thread 0x7f9b9a7fc700 (LWP 1112) \"python\" 0x00007f9bb5157577 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, \n    futex_word=0x7f9b80001ed0) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n  12   Thread 0x7f9b99ffb700 (LWP 1113) \"python\" 0x00007f9bb5157577 in futex_abstimed_wait_cancelable (private=0, abstime=0x0, expected=0, \n    futex_word=0x7f9b84001bb0) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\n</code></pre>\n\n<p>So it's indeed a deadlock and it happens due to the fact that you perform writes and flushing on <code>sys.stdout</code> in multiple\nthreads concurrently in the original process while also creating subprocesses - by the nature of <code>fork(2)</code> system call\nchildren inherit the parent memory including acquired locks: <code>fork()</code> calls must have been performed while the lock was acquired, and even when the parent process finally releases it, the children won't see that, as each of them now has its own memory space, that was copied on write.</p>\n\n<p>Thus, you need to be very careful when mixing\nmultithreading with multiprocessing and make sure all the locks are properly released before <code>fork()</code>, if they are to\nbe used in the children processes.</p>\n\n<p>It's very similar to what is described in <a href=\"http://bugs.python.org/issue6721\" rel=\"noreferrer\">http://bugs.python.org/issue6721</a></p>\n\n<p>Note, that if you remove the interactions with <code>sys.stdout</code> from your snippet, it will work correctly.</p>\n"}], "owner": {"reputation": 91, "user_id": 4028982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4518549aea3ed2ca2e06f4ce0ab520?s=128&d=identicon&r=PG&f=1", "display_name": "Hadhoke", "link": "https://stackoverflow.com/users/4028982/hadhoke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2591, "favorite_count": 4, "answer_count": 1, "score": 7, "last_activity_date": 1476454906, "creation_date": 1475707996, "last_edit_date": 1475795316, "question_id": 39884898, "link": "https://stackoverflow.com/questions/39884898/large-amount-of-multiprocessing-process-causing-deadlock", "title": "Large amount of multiprocessing.Process causing deadlock", "body": "<p><strong>Context</strong></p>\n\n<p>I need to run a multiprocessing.Process inside a multiprocessing.ThreadPool.\nIt seems weird at first but it is the only way I found to deals with segfault that could occurs because I am using a c++ shared library.\nIf a segfault append, the process is killed and I can check the process.exitcode and deal with that.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>After a while, a deadlock append when I am trying to join the process.</p>\n\n<p>Here is a simple version a my code:</p>\n\n<pre><code>import sys, time, multiprocessing\nfrom multiprocessing.pool import ThreadPool\n\ndef main():\n    # Launch 8 workers\n    pool = ThreadPool(8)\n    it = pool.imap(run, range(500))\n    while True:\n        try:\n            it.next()\n        except StopIteration:\n            break\n\ndef run(value):\n    # Each worker launch it own Process\n    process = multiprocessing.Process(target=run_and_might_segfault,     args=(value,))\n    process.start()\n\n    while process.is_alive():\n        sys.stdout.write('.')\n        sys.stdout.flush()\n        time.sleep(0.1)\n\n    # Will never join after a while, because of a mystery deadlock\n    process.join()\n\n    # Deals with process.exitcode to log errors\n\ndef run_and_might_segfault(value):\n    # Load a shared library and do stuff (could throw c++ exception, segfault ...)\n    print(value)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>And here is a possible output:</p>\n\n<pre><code>\u279c  ~ python m.py\n..0\n1\n........8\n.9\n.......10\n......11\n........12\n13\n........14\n........16\n........................................................................................\n</code></pre>\n\n<p>As you can see, <code>process.is_alive()</code> is alway true after few iterations, the process will never join.</p>\n\n<p>If I CTRL-C the script a get this stacktrace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/multiprocessing/pool.py\", line 680, in next\n    item = self._items.popleft()\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"m.py\", line 30, in &lt;module&gt;\n    main()\n  File \"m.py\", line 9, in main\n    it.next()\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5    /lib/python3.5/multiprocessing/pool.py\", line 684, in next\n    self._cond.wait(timeout)\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5    /lib/python3.5/threading.py\", line 293, in wait\n    waiter.acquire()\nKeyboardInterrupt\n\nError in atexit._run_exitfuncs:\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5    /lib/python3.5/multiprocessing/popen_fork.py\", line 29, in poll\n    pid, sts = os.waitpid(self.pid, flag)\nKeyboardInterrupt\n</code></pre>\n\n<p><strong>PS</strong>\nUsing python 3.5.2 on macos.</p>\n\n<p>Every kind of help is appreciate, thanks.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I tried using python 2.7, and it is working well. May be a python 3.5 issue only?</p>\n"}, {"tags": ["python", "matplotlib", "spyder"], "comments": [{"owner": {"reputation": 1736, "user_id": 2241910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516190dbb5e7655792bfe6d49316222f?s=128&d=identicon&r=PG", "display_name": "benten", "link": "https://stackoverflow.com/users/2241910/benten"}, "edited": false, "score": 0, "creation_date": 1475723365, "post_id": 39884875, "comment_id": 67060233, "body": "have you looked at bokeh? it has built in functionality for things like this."}], "answers": [{"comments": [{"owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "reply_to_user": {"reputation": 69, "user_id": 6916524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af1dedd0cba96b5557fd9ac5e046fe01?s=128&d=identicon&r=PG&f=1", "display_name": "J. Jones", "link": "https://stackoverflow.com/users/6916524/j-jones"}, "edited": false, "score": 0, "creation_date": 1475834509, "post_id": 39885682, "comment_id": 67113147, "body": "No problem, my pleasure. Next time, try to provide a more minimal example - that makes the life of the people who are trying to help easier. ;-)"}], "tags": [], "owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "is_accepted": true, "score": 1, "last_activity_date": 1475713631, "creation_date": 1475713631, "answer_id": 39885682, "question_id": 39884875, "link": "https://stackoverflow.com/questions/39884875/in-python-spyder-interactive-plotting-how-do-i-link-plots-so-that-when-i-zoom-i/39885682#39885682", "title": "In Python Spyder interactive plotting. How do I link plots so that when I zoom in on a plot it zooms in on the rest", "body": "<p><code>sharex</code> and <code>sharey</code> are your friends.\nMinimal example:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nfig1, (ax1, ax2) = plt.subplots(1,2,sharex=True, sharey=True)\nax1.plot(np.random.rand(10))\nax2.plot(np.random.rand(11))\n\nfig2 = plt.figure()\nax3 = fig2.add_axes([0.1, 0.1, 0.8, 0.8], sharex=ax1, sharey=ax1)\nax3.plot(np.random.rand(12))\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6916524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af1dedd0cba96b5557fd9ac5e046fe01?s=128&d=identicon&r=PG&f=1", "display_name": "J. Jones", "link": "https://stackoverflow.com/users/6916524/j-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 39885682, "answer_count": 1, "score": 2, "last_activity_date": 1475713631, "creation_date": 1475707841, "question_id": 39884875, "link": "https://stackoverflow.com/questions/39884875/in-python-spyder-interactive-plotting-how-do-i-link-plots-so-that-when-i-zoom-i", "title": "In Python Spyder interactive plotting. How do I link plots so that when I zoom in on a plot it zooms in on the rest", "body": "<p>In Python Spyder interactive plotting. How do I link plots so that when I zoom in on one plot in one figure, it zooms all the other plots that are on the same figure and different figure to the same scale? They are all plotted vs time which is mSec.</p>\n\n<p>Here is a sample of my current code that is still in the works. (I know I am plotting the same thing twice, I am just testing few things.)</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n\ndata = np.loadtxt('data'.csv', delimiter=',', skiprows=1)\n\n\n# This uses array slicing/indexing to cut the correct columns into variables.\nmSec = data[:,0]\nAirspeed = data[:,10]\nAS_Cmd = data[:,25]\nairspeed = data[:,3]\n\nplt.rc('xtick', labelsize=15) #increase xaxis tick size\nplt.rc('ytick', labelsize=15) #increase yaxis tick size\n\n# Create a figure figsize = ()\nfig1 = plt.figure(figsize= (20,20))\nax = fig1.add_subplot(211)\n\nax.plot(mSec, Airspeed, label='Ground speed [m/s]', color = 'r')\nax.plot(mSec, AS_Cmd, label='AS_Cmd')\nplt.legend(loc='best',prop={'size':13})\nax.set_ylim([-10,40])\n\nax1 = fig1.add_subplot(212)\n\nax1.plot(mSec, Airspeed, label='Ground speed [m/s]', color = 'r')\nax1.plot(mSec, AS_Cmd, label='AS_Cmd[m/s]')\n# Show the legend\nplt.legend(loc='lower left',prop={'size':8})\nfig1.savefig('trans2.png', dpi=(200), bbox_inches='tight') #borderless on save\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "datetime"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1475708178, "post_id": 39884856, "comment_id": 67056644, "body": "Just don&#39;t convert back to strings with <code>strftime</code>...?"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 2827286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8277bf132bcd93b7977c6a64f087cb3e?s=128&d=identicon&r=PG&f=1", "display_name": "user2827286", "link": "https://stackoverflow.com/users/2827286/user2827286"}, "edited": false, "score": 0, "creation_date": 1475717942, "post_id": 39885249, "comment_id": 67058935, "body": "nvm, got it to work just by taking out strftime part and your suggestion. thank you for your help."}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 1, "last_activity_date": 1475710313, "creation_date": 1475710313, "answer_id": 39885249, "question_id": 39884856, "link": "https://stackoverflow.com/questions/39884856/converting-and-comparing-2-datetimes/39885249#39885249", "title": "Converting and comparing 2 datetimes", "body": "<p>Indeed, don't convert back to strings and instead work with <code>datetime</code> objects. As noted in the error message <code>str - str</code> isn't an operation that's defined (what does it mean to subtract a string from another?):</p>\n\n<pre><code>\"s\" - \"s\" # TypeError\n</code></pre>\n\n<p>Instead, initialize <code>timeNow</code> with <code>datetime.now()</code>, <code>datetime</code> instances support subtracting. As a second suggestion, subtract <code>ele</code> from <code>timeNow</code> and not <code>timeNow</code> from <code>ele</code>: </p>\n\n<pre><code>def time_calculation():\n    # snipped for brevity\n    timeNow = datetime.now()\n\n    # snipped\n\n    for ele in timeList:\n        deltaTime = timeNow - ele\n        if deltaTime.days &lt; 4:\n            print(\"This time was less than 4 days old {}\\n\".format(ele.strftime(\"%Y%m%d-%H%M%S\")))\n</code></pre>\n\n<p>Prints out:</p>\n\n<pre><code>time_calculation()\nthe new time1 is 2016-10-05 14:00:00\nthe new time2 is 2016-10-04 14:00:00\nthe new time3 is 2016-10-01 14:00:00\nThis time was less than 4 days old 20161005-140000\n\nThis time was less than 4 days old 20161004-140000\n</code></pre>\n\n<p>Which I'm guessing is what you were after.</p>\n"}], "owner": {"reputation": 79, "user_id": 2827286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8277bf132bcd93b7977c6a64f087cb3e?s=128&d=identicon&r=PG&f=1", "display_name": "user2827286", "link": "https://stackoverflow.com/users/2827286/user2827286"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 39885249, "answer_count": 1, "score": 0, "last_activity_date": 1475710341, "creation_date": 1475707726, "last_edit_date": 1475710341, "question_id": 39884856, "link": "https://stackoverflow.com/questions/39884856/converting-and-comparing-2-datetimes", "title": "Converting and comparing 2 datetimes", "body": "<p>I need help trying to convert a string to datetime, then comparing it to see if it is less than 3 days old. I have tried both with the time class, as well as the datetime class, but I keep getting the same error:</p>\n\n<pre><code>TypeError: unsupported operand type(s) for -: 'str' and 'str'\n</code></pre>\n\n<p>here is the code I have tried:</p>\n\n<pre><code>def time_calculation():\n    time1 = \"2:00 PM 5 Oct 2016\"\n    time2 = \"2:00 PM 4 Oct 2016\"\n    time3 = \"2:00 PM 1 Oct 2016\"\n    timeNow = time.strftime(\"%Y%m%d-%H%M%S\")\n    #newtime1 = time.strftime(\"%Y%m%d-%H%M%S\", time.strptime(time1, \"%I:%M %p %d %b %Y\"))\n    newtime1 = datetime.strptime(time1, \"%I:%M %p %d %b %Y\").strftime(\"%Y%m%d-%H%M%S\")\n    print(\"the new time1 is {}\".format(newtime1))\n    #newtime2 = time.strftime(\"%Y%m%d-%H%M%S\", time.strptime(time2, \"%I:%M %p %d %b %Y\"))\n    newtime2 = datetime.strptime(time2, \"%I:%M %p %d %b %Y\").strftime(\"%Y%m%d-%H%M%S\")\n    print(\"the new time2 is {}\".format(newtime2))\n    #newtime3 = time.strftime(\"%Y%m%d-%H%M%S\", time.strptime(time3, \"%I:%M %p %d %b %Y\"))\n    newtime3 = datetime.strptime(time3, \"%I:%M %p %d %b %Y\").strftime(\"%Y%m%d-%H%M%S\")\n    print(\"the new time3 is {}\".format(newtime3))\n    timeList = []\n    timeList.append(newtime1)\n    timeList.append(newtime2)\n    timeList.append(newtime3)\n\n    for ele in timeList:\n        deltaTime = ele - timeNow\n        if deltaTime.days &lt; 4:\n            print(\"This time was less than 4 days old {}\\n\".format(ele.strftime(\"%Y%m%d-%H%M%S\")))\n</code></pre>\n\n<p>the commented out parts are what I did with time, while the others are with datetime. </p>\n\n<p>the error happens at the line where I try to compare the current time with each time in the list, but it takes them as strings instead of datetimes and won't subtract them so I can compare them. (In the for loop at the bottom.)</p>\n"}, {"tags": ["python", "multithreading", "python-2.7", "queue"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1475887582, "post_id": 39884815, "comment_id": 67138610, "body": "Don&#39;t any of these answers address your question? See <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"comments": [{"owner": {"reputation": 836, "user_id": 4903508, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/pL0ph.jpg?s=128&g=1", "display_name": "Pixel", "link": "https://stackoverflow.com/users/4903508/pixel"}, "edited": false, "score": 0, "creation_date": 1475707929, "post_id": 39884866, "comment_id": 67056578, "body": "If I do that the first app will be slowed during the checks. I need to do these checks on an other app"}, {"owner": {"reputation": 881, "user_id": 2575902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/74Kmq.jpg?s=128&g=1", "display_name": "tesseract", "link": "https://stackoverflow.com/users/2575902/tesseract"}, "edited": false, "score": 0, "creation_date": 1475708194, "post_id": 39884866, "comment_id": 67056647, "body": "<a href=\"https://www.youtube.com/watch?v=0oTh1CXRaQ0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=0oTh1CXRaQ0</a> This helped me understand modules and packages very well..take  your time and follow the code on your computer its worth it."}, {"owner": {"reputation": 836, "user_id": 4903508, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/pL0ph.jpg?s=128&g=1", "display_name": "Pixel", "link": "https://stackoverflow.com/users/4903508/pixel"}, "edited": false, "score": 0, "creation_date": 1475708301, "post_id": 39884866, "comment_id": 67056681, "body": "I want to separate the two app&#39;s on 2 process not on the same"}, {"owner": {"reputation": 649, "user_id": 2287177, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/023581b580bfd19eb36e23c61ad93643?s=128&d=identicon&r=PG", "display_name": "jxmorris12", "link": "https://stackoverflow.com/users/2287177/jxmorris12"}, "reply_to_user": {"reputation": 836, "user_id": 4903508, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/pL0ph.jpg?s=128&g=1", "display_name": "Pixel", "link": "https://stackoverflow.com/users/4903508/pixel"}, "edited": false, "score": 0, "creation_date": 1475708320, "post_id": 39884866, "comment_id": 67056686, "body": "@Pixel in that case, you&#39;re trying to implement something called multithreading in Python. <a href=\"http://stackoverflow.com/a/1239252/2287177\">Here&#39;s a good answer explaining how to call a function asynchronously in Python.</a>"}], "tags": [], "owner": {"reputation": 649, "user_id": 2287177, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/023581b580bfd19eb36e23c61ad93643?s=128&d=identicon&r=PG", "display_name": "jxmorris12", "link": "https://stackoverflow.com/users/2287177/jxmorris12"}, "is_accepted": false, "score": 0, "last_activity_date": 1475707798, "creation_date": 1475707798, "answer_id": 39884866, "question_id": 39884815, "link": "https://stackoverflow.com/questions/39884815/communicate-between-two-python-app/39884866#39884866", "title": "Communicate between two python app", "body": "<p>You want to save one file as a \"module\" to be imported by the other file. Here this can be implemented with the the <code>import</code> keyword. For example, if you name the second part of your application <code>listener.py</code>, you can type <code>import listener</code> in your other file (remember to put them in the same folder!) and call any method from the second file. <a href=\"https://docs.python.org/2/tutorial/modules.html\" rel=\"nofollow\">You can read more on Python modules here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "is_accepted": false, "score": 0, "last_activity_date": 1475709149, "creation_date": 1475709149, "answer_id": 39885079, "question_id": 39884815, "link": "https://stackoverflow.com/questions/39884815/communicate-between-two-python-app/39885079#39885079", "title": "Communicate between two python app", "body": "<p>There are all sorts of ways to accomplish inter-process communication, but by far the simplest is to use the filesystem.  Have your spider write it's output to a temp file. When it's finished, move it into a folder that your second process polls periodically and when it finds work, then process it.</p>\n\n<p>The <code>spider</code> could like something like:</p>\n\n<pre><code>import tempfile, os\ntmpname = ''\nwith tempfile.NamedTemporaryFile(delete=False) as tmp:\n    tmpname = tmp.name\n    tmp.write(\"spider output....\\n\")\ntgt = os.path.join('incoming', os.path.basename(tmpname))\nos.rename(tmpname, tgt)\n</code></pre>\n\n<p>The second process could look something like this:</p>\n\n<pre><code>import time, os\nwhile 1:\n    time.sleep(5)\n    for item in os.listdir('incoming'):\n        work_item = os.path.join('incoming', item)\n        with open(work_item) as fin:\n            # do something with item\n        os.unlink(work_item)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1475709235, "creation_date": 1475709235, "answer_id": 39885092, "question_id": 39884815, "link": "https://stackoverflow.com/questions/39884815/communicate-between-two-python-app/39885092#39885092", "title": "Communicate between two python app", "body": "<p>A <a href=\"https://en.wikipedia.org/wiki/Queue_%28abstract_data_type%29\" rel=\"nofollow\">Queue</a> is just a container into which items may be put and retrieved, often in <a href=\"https://en.wikipedia.org/wiki/FIFO_%28computing_and_electronics%29\" rel=\"nofollow\">FIFO</a> order. The <a href=\"https://docs.python.org/2/library/queue.html\" rel=\"nofollow\"><code>Queue</code></a> module in Python 2 is just an implementation of one that supports synchronized access, meaning that it supports multiple threads using it (putting and getting things) at the same time.</p>\n"}], "owner": {"reputation": 836, "user_id": 4903508, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/pL0ph.jpg?s=128&g=1", "display_name": "Pixel", "link": "https://stackoverflow.com/users/4903508/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1475709235, "creation_date": 1475707449, "question_id": 39884815, "link": "https://stackoverflow.com/questions/39884815/communicate-between-two-python-app", "title": "Communicate between two python app", "body": "<p>I have done two app's :</p>\n\n<ol>\n<li>The first one is a spider that extract all links from a website.<br></li>\n<li>The second one  do some checks on each link sent by the first app.</li>\n</ol>\n\n<p>When the first app find a link, how can I send a notification or something else to the second app ?<br>\nThe second app must listen continuously the data sent by the first app.</p>\n\n<p>I found few post speaking of <code>Queue</code> but I don't really understand how that work.</p>\n\n<p>Can someone explain me with a simple exemple how to communicate between the two app ?</p>\n\n<p>Thank's</p>\n"}, {"tags": ["python", "numpy", "for-loop", "matrix"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 2, "creation_date": 1475707452, "post_id": 39884769, "comment_id": 67056447, "body": "Reshaping can be inexpensive using <code>b.shape = (np.size(b),1)</code> instead since this is done inplace with no intermediate copy and reassignment of the data."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1475715837, "last_edit_date": 1475715837, "creation_date": 1475713572, "answer_id": 39885674, "question_id": 39884769, "link": "https://stackoverflow.com/questions/39884769/iterate-through-number-of-columns-with-variable-columns/39885674#39885674", "title": "iterate through number of columns, with variable columns", "body": "<p>If you index with a list or tuple, the 2d shape is preserved:</p>\n\n<pre><code>In [638]: a=np.random.randint(0,10,(10,10))\nIn [639]: a[:,(1,2)].shape\nOut[639]: (10, 2)\nIn [640]: a[:,(1,)].shape\nOut[640]: (10, 1)\n</code></pre>\n\n<p>And I think <code>b</code> iteration can be simplified to:</p>\n\n<pre><code>a[:,k] += np.arange(len(k))*100\n</code></pre>\n\n<p>This sort of calculation will also be easier is <code>k</code> is always a list or tuple, and never a scalar (a scalar does not have a <code>len</code>).</p>\n\n<p><code>np.column_stack</code> ensures its inputs are 2d (and expands at the end if not) with:</p>\n\n<pre><code> if arr.ndim &lt; 2:\n     arr = array(arr, copy=False, subok=True, ndmin=2).T\n</code></pre>\n\n<p><code>np.atleast_2d</code> does</p>\n\n<pre><code> elif len(ary.shape) == 1:\n     result = ary[newaxis,:]\n</code></pre>\n\n<p>which of course could changed in this case to</p>\n\n<pre><code> if b.ndim==1:\n     b = b[:,None]\n</code></pre>\n\n<p>Any ways, I think it is better to ensure the <code>k</code> is a tuple rather than adjust <code>b</code> shape after.  But keep both options in your toolbox.</p>\n"}], "owner": {"reputation": 491, "user_id": 2116599, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/91a3a4cef08c38efe7069ecdaebff4f4?s=128&d=identicon&r=PG", "display_name": "Vaaal88", "link": "https://stackoverflow.com/users/2116599/vaaal88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 39885674, "answer_count": 1, "score": 2, "last_activity_date": 1475715837, "creation_date": 1475707087, "last_edit_date": 1475711737, "question_id": 39884769, "link": "https://stackoverflow.com/questions/39884769/iterate-through-number-of-columns-with-variable-columns", "title": "iterate through number of columns, with variable columns", "body": "<p>For example, let's consider this toy code </p>\n\n<pre><code>import numpy as np\nimport numpy.random as rnd  \n\na = rnd.randint(0,10,(10,10))\nk = (1,2)\nb = a[:,k]\n\nfor col in np.arange(np.size(b,1)):\n    b[:,col] = b[:,col]+col*100\n</code></pre>\n\n<p>This code will work when the size of <code>k</code> is bigger than 1. However, with the size equal to 1, the extracted sub-matrix from <code>a</code> is transformed into a row vector, and applying the function in the <code>for</code> loop throws an error.\n Of course, I could fix this by checking the dimension of <code>b</code> and reshaping:</p>\n\n<pre><code>if np.dim(b) == 1: \n    b = np.reshape(b, (np.size(b), 1))\n</code></pre>\n\n<p>in order to obtain a column vector, but this is expensive. </p>\n\n<p>So, the question is: what is the best way to handle this situation?\nThis seems like something that would arise quite often and I wonder what is the best strategy to deal with it. </p>\n"}, {"tags": ["python", "python-3.x", "while-loop", "boolean-logic"], "comments": [{"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1475706863, "post_id": 39884701, "comment_id": 67056289, "body": "First of all, you can put your print statements inside input(). Secondly, there is no code after the the conditional...Since your loop condition is True, the loop will just keep running....you haven&#39;t told us(or your code) what you want to have happen when you select &quot;left&quot; or &quot;right&quot;"}, {"owner": {"reputation": 1, "user_id": 6924531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a60aaea15a6f831a45123c07187c8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Quinney", "link": "https://stackoverflow.com/users/6924531/trevor-quinney"}, "reply_to_user": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1475707605, "post_id": 39884701, "comment_id": 67056483, "body": "That actually solved my problem! I have code after that but didn&#39;t think it was relevant enough to add here, the issue was I didn&#39;t indent the code to be included in my loop so it just kept looping back rather than continuing on since it didn&#39;t know what to continue to. I didn&#39;t even think that it might be an issue until you said that."}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1475707904, "post_id": 39884701, "comment_id": 67056568, "body": "Glad to be of assistance, as you may have noticed, your question has been marked as a duplicate. If you haven&#39;t already, visit the site <a href=\"http://stackoverflow.com/tour\">tour</a>"}], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "is_accepted": false, "score": 2, "last_activity_date": 1475707260, "last_edit_date": 1475707260, "creation_date": 1475706898, "answer_id": 39884741, "question_id": 39884701, "link": "https://stackoverflow.com/questions/39884701/while-loops-and-or-function-in-python-not-giving-expected-results/39884741#39884741", "title": "While loops and OR function in python not giving expected results", "body": "<p>You probably mean:</p>\n\n<pre><code>if not door in (door1, door2):\n</code></pre>\n\n<p>What you have written is essentially:</p>\n\n<pre><code>if (door != door1) or bool(door2):\n</code></pre>\n\n<p>And <code>bool(door2) == True</code> unless <code>door2</code> is the empty string.</p>\n"}], "owner": {"reputation": 1, "user_id": 6924531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a60aaea15a6f831a45123c07187c8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Quinney", "link": "https://stackoverflow.com/users/6924531/trevor-quinney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1475707461, "answer_count": 1, "score": 0, "last_activity_date": 1475707923, "creation_date": 1475706618, "last_edit_date": 1475707923, "question_id": 39884701, "link": "https://stackoverflow.com/questions/39884701/while-loops-and-or-function-in-python-not-giving-expected-results", "closed_reason": "Duplicate", "title": "While loops and OR function in python not giving expected results", "body": "<p>Very basic question but I'm new to Python and working on a small text-adventure game to help me better understand while loops along with if/else/elif. It worked well until I introduced while loops to the code. In the beginning the user is supposed to pick a door to walk into, right or left, if the user types something else it's supposed to back to the top and ask them to select their door. And it's doing that correctly but if you type in right or left like you're supposed to it still takes you back to ask you to select your door.</p>\n\n<pre><code>door1 = 'right'\ndoor2 = 'left'\nprint(\"Please type the name you'd like to use\")\nmyName = input()\nprint(\"Hello \" + myName)\nprint(\"Would you like to go through the door on the left or the door on the right?\")\nwhile True:\n    print(\"Please type left or right to indicate the door you choose\")\n    door = input()\n    if door != door1 or door2:\n        continue\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1475707416, "post_id": 39884681, "comment_id": 67056439, "body": "As a quick guess the base 36 issue may just be encoding (26 letters and 10 numerals to encode is all you have to output using <code>10=A</code>)"}, {"owner": {"reputation": 21, "user_id": 6928933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a507547539be60a0ebdf130c0bfa?s=128&d=identicon&r=PG&f=1", "display_name": "scarlett", "link": "https://stackoverflow.com/users/6928933/scarlett"}, "reply_to_user": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1475707609, "post_id": 39884681, "comment_id": 67056485, "body": "Are there any other functions such as int() that I can use to convert between bases &gt;36 as succinctly?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475707634, "post_id": 39884681, "comment_id": 67056493, "body": "With regards to your question about strings of the form <code>b&quot;hi scarlett&quot;</code> see this question: <a href=\"http://stackoverflow.com/questions/6269765/what-does-the-b-character-do-in-front-of-a-string-literal\" title=\"what does the b character do in front of a string literal\">stackoverflow.com/questions/6269765/&hellip;</a>"}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 2, "creation_date": 1475707689, "post_id": 39884681, "comment_id": 67056514, "body": "You&#39;re asking many different questions in one Stack Overflow question. Please keep it limited to one question per question."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1475707746, "post_id": 39884681, "comment_id": 67056535, "body": "*what&#39;s with the <code>b&#39;...&#39;</code>&#39;&quot;. Those are <a href=\"https://docs.python.org/3/whatsnew/2.6.html?#pep-3112-byte-literals\" rel=\"nofollow noreferrer\"><code>bytes</code></a>"}, {"owner": {"reputation": 21, "user_id": 6928933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a507547539be60a0ebdf130c0bfa?s=128&d=identicon&r=PG&f=1", "display_name": "scarlett", "link": "https://stackoverflow.com/users/6928933/scarlett"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 1, "creation_date": 1475708056, "post_id": 39884681, "comment_id": 67056612, "body": "@Colonel kind of. I wasn&#39;t really looking for answers to those many questions particularly, the purpose of mentioning them was rather to serve as an example of the type of question that I had, and I was hoping that someone could show me the way to somewhere I could learn about those. Anyway, I&#39;m sorry, I wasn&#39;t really sure how to phrase it."}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1475709052, "last_edit_date": 1475709052, "creation_date": 1475708533, "answer_id": 39884981, "question_id": 39884681, "link": "https://stackoverflow.com/questions/39884681/hex-to-base-64-and-other-bases/39884981#39884981", "title": "Hex to base-64 and other bases", "body": "<p>assume input of 'aaccffdde5e5ff'</p>\n\n<pre><code>import binascii,base64\ninput_str = 'aaccffdde5e5ff'\ndehexed_str = binascii.unhexlify(input_str)\nbase64_str = base64.b64encode(dehexed_str)\n</code></pre>\n\n<p><code>b'...'</code> is just a bytestring you can encode a normal unicode string to bytes with </p>\n\n<p><code>as_bytes = u'hello world'.encode('utf-8')</code></p>\n\n<p>to handle arbitrary base conversion to base10 see this tutorial</p>\n\n<p><a href=\"http://mathbits.com/MathBits/CompSci/Introduction/tobase10.htm\" rel=\"nofollow\">http://mathbits.com/MathBits/CompSci/Introduction/tobase10.htm</a></p>\n\n<p>here is a function to convert any string in any alphabet to decimal base 10</p>\n\n<pre><code>def int10(s,alphabet):\n    base = len(alphabet)\n    return sum([alphabet.index(c)*base**i for i,c in enumerate(s[::-1])])\n\nhexAlphabet=\"0123456789abcdef\"\nprint(int10('f3',hexAlphabet))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6928933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a507547539be60a0ebdf130c0bfa?s=128&d=identicon&r=PG&f=1", "display_name": "scarlett", "link": "https://stackoverflow.com/users/6928933/scarlett"}, "edited": false, "score": 0, "creation_date": 1475710595, "post_id": 39885122, "comment_id": 67057246, "body": "<code>b64encode</code> returns an ASCII-string? So, for instance the first <code>q</code> in <code>e</code> is a byte holding the value 113? For the computer, that string is a different number than the one it happens to represent for us (a number in base-64)?"}, {"owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "reply_to_user": {"reputation": 21, "user_id": 6928933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a507547539be60a0ebdf130c0bfa?s=128&d=identicon&r=PG&f=1", "display_name": "scarlett", "link": "https://stackoverflow.com/users/6928933/scarlett"}, "edited": false, "score": 0, "creation_date": 1475711640, "post_id": 39885122, "comment_id": 67057519, "body": "Base64 orignal purpose is to take raw bytes of data (that may not be printable as ascii) and turn it to an ascii sequence that can be copy/pasted in a text message, to give an example. So <b>the real/expected output of b64 is the sequence of characters you can read</b>. But as you have noted, for the computer (and for python) those characters are just a sequence of bytes; to make python understand that they are indeed a string of ascii-characters you would have to call <code>e.decode(&quot;ascii&quot;)</code>."}], "tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": true, "score": 2, "last_activity_date": 1475709429, "creation_date": 1475709429, "answer_id": 39885122, "question_id": 39884681, "link": "https://stackoverflow.com/questions/39884681/hex-to-base-64-and-other-bases/39885122#39885122", "title": "Hex to base-64 and other bases", "body": "<p>Here is a code that walks you trough the process of converting from a hex string to a b64 encoded string.</p>\n\n<pre><code>import base64\nx=int('0xABCDEF01',base=16)\nprint(\"x  : \",x)\nb=x.to_bytes(length=4,byteorder='big')\nprint(\"b  : \",b)\ne=base64.b64encode(b)\nprint(\"e  : \",e)\nb2=base64.b64decode(e)\nprint(\"b2 : \",int(b2.hex(),base=16))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>x  :  2882400001\nb  :  b'\\xab\\xcd\\xef\\x01'\ne  :  b'q83vAQ=='\nb2 :  2882400001\n</code></pre>\n\n<p>Some (lengthy) explanations: so we start with a hex in a string, nothing special, <code>int</code> takes it along with the base to turn it into a regular integer <code>x</code>. To python <code>x</code> is a bunch of bits representing a number that will be printed in base 10 most of the time. We can ask the bit representation using <code>x.to_bytes</code>. The result is a sequence of bytes that will print as <code>b'...'</code> note that the printing process automatically tries to convert the bytes to ascii caracters or to somthing like<code>\\xab</code> if that given byte isn't associated with a ascii character. So we then feed the bytes to <code>b64encode</code> that is usually use to process files hence that byte-object requirement and it spits an <em>ascii-string</em> as a byte object. With that result the reverse process is similar :  b64 <em>ascii-string</em> -> binary number in bytes -> hex -> int.</p>\n"}], "owner": {"reputation": 21, "user_id": 6928933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a507547539be60a0ebdf130c0bfa?s=128&d=identicon&r=PG&f=1", "display_name": "scarlett", "link": "https://stackoverflow.com/users/6928933/scarlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1475742188, "accepted_answer_id": 39885122, "answer_count": 2, "score": 1, "last_activity_date": 1475712732, "creation_date": 1475706492, "last_edit_date": 1475712732, "question_id": 39884681, "link": "https://stackoverflow.com/questions/39884681/hex-to-base-64-and-other-bases", "closed_reason": "Needs more focus", "title": "Hex to base-64 and other bases", "body": "<p>I have some string representing a number in hex and I want to convert it to base-64. How do I do this and how does this suggestion work? As I need to have an understanding of how it works.</p>\n\n<p>The first thing I thought of was (I'm a noob) implementing a simple algorithm that would proceed as one would when working with pen and paper, though I imagine Python has this sort of stuff \"built-in\".</p>\n\n<p>I can implement this through searching on the internet however I need an understanding of how it works. </p>\n\n<p>Some sample questions to give you an idea of the explanations I need:</p>\n\n<ul>\n<li>If your answer requires strings of the type <code>b'...'</code> could you please explain what they are and why does <code>b64encode()</code> seems to only accept objects of this type as arguments?</li>\n<li>Why does <code>int()</code> only work up to base-36 and how can I in general handle conversion between different bases tidily and could you give a further explanation if your solution involves this function?</li>\n</ul>\n\n<p>So if anyone could give me some pointers here. I am not being able to extract much from the documentation as this type of knowledge seems to be already expected.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "numpy", "scipy", "cython", "gsl"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1475712202, "post_id": 39884665, "comment_id": 67057654, "body": "What do you know about <code>stats.t.sf</code>?  Why do you think a <code>cython</code> version can be faster?  I look for things like iterations that can be translated to <code>c</code>."}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1475717560, "post_id": 39884665, "comment_id": 67058830, "body": "scipy.stats.t.sf and other methods have some python overhead mainly for input checking. If you want speed, then you can use the scipy.special functions directly which are written either in Fortran or in C. I doubt it&#39;s possible to beat scipy.special by any sizable amount unless there is a more efficient algorithm or an algorithm that trades off speed for accuracy."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1475736340, "post_id": 39884665, "comment_id": 67064583, "body": "There&#39;s  no advantage to having a separate <code>def</code> and <code>cdef</code> function for get_gsl_p_for_2D_matrix. You might get a bit from specifying a return type for get_gsl_p."}], "answers": [{"tags": [], "owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "is_accepted": true, "score": 1, "last_activity_date": 1475762446, "creation_date": 1475762446, "answer_id": 39898055, "question_id": 39884665, "link": "https://stackoverflow.com/questions/39884665/comparing-scipy-stats-t-sf-vs-gsl-using-cython/39898055#39898055", "title": "Comparing scipy.stats.t.sf vs GSL using Cython", "body": "<p>You can get some small gain in raw performance by using a raw special function instead of <code>stats.t.sf</code>. Looking at the source, you find  (<a href=\"https://github.com/scipy/scipy/blob/master/scipy/stats/_continuous_distns.py#L3849\" rel=\"nofollow\">https://github.com/scipy/scipy/blob/master/scipy/stats/_continuous_distns.py#L3849</a>)</p>\n\n<pre><code>def _sf(self, x, df):\n      return sc.stdtr(df, -x)\n</code></pre>\n\n<p>So that you can use <code>stdtr</code> directly:</p>\n\n<pre><code>np.random.seed(1234)\nx = np.random.random((3740, 374))\nt1 = stats.t.sf(x, 25)\nt2 = stdtr(25, -x)\n\n1 loop, best of 3: 653 ms per loop\n1 loop, best of 3: 562 ms per loop\n</code></pre>\n\n<p>If you do reach out for cython, the typed memoryview syntax often gives you faster code than the old ndarray syntax:</p>\n\n<pre><code>from scipy.special.cython_special cimport stdtr\nfrom numpy cimport npy_intp\nimport numpy as np\n\ndef tsf(double [:, ::1] x, int df=25):\n    cdef double[:, ::1] out = np.empty_like(x)\n    cdef npy_intp i, j\n    cdef double tmp, xx\n\n    for i in range(x.shape[0]):\n        for j in range(x.shape[1]):\n            xx = x[i, j]\n            out[i, j] = stdtr(df, -xx)\n\n    return np.asarray(out)\n</code></pre>\n\n<p>Here I'm also using the <code>cython_special</code> interface, which is only avaialble in the dev version of scipy (<a href=\"http://scipy.github.io/devdocs/special.cython_special.html#module-scipy.special.cython_special\" rel=\"nofollow\">http://scipy.github.io/devdocs/special.cython_special.html#module-scipy.special.cython_special</a>), but you can use GSL if you want.</p>\n\n<p>Finally, if you suspect a bottleneck in iterations, don't forget to inspect the output of <code>cython -a</code> to see if there's some python overhead in the hot loops.</p>\n"}], "owner": {"reputation": 540, "user_id": 480551, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fd5d4f26c0386546903aed6c66fbb5f9?s=128&d=identicon&r=PG", "display_name": "ssm", "link": "https://stackoverflow.com/users/480551/ssm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 1, "accepted_answer_id": 39898055, "answer_count": 1, "score": 0, "last_activity_date": 1475762446, "creation_date": 1475706392, "last_edit_date": 1475710191, "question_id": 39884665, "link": "https://stackoverflow.com/questions/39884665/comparing-scipy-stats-t-sf-vs-gsl-using-cython", "title": "Comparing scipy.stats.t.sf vs GSL using Cython", "body": "<p>I would like to calculate the p values of a large 2D numpy t values array. However, this takes long time and I would like to improve its speed. I tried using GSL. \nAlthough a single gsl_cdf_tdist_P is much much faster than scipy.stats.t.sf, when iterating over the ndarray, the process is very slow. I would like help to improve this. \nSee the code below.</p>\n\n<p>GSL_Test.pyx</p>\n\n<pre><code>import cython\ncimport cython\n\nimport numpy\ncimport numpy\nfrom cython_gsl cimport *\n\nDTYPE = numpy.float32\nctypedef numpy.float32_t DTYPE_t\n\ncdef get_gsl_p(double t, double nu):\n    return (1 - gsl_cdf_tdist_P(t, nu)) * 2\n\n@cython.boundscheck(False)\n@cython.wraparound(False)\n@cython.nonecheck(False)\ncdef get_gsl_p_for_2D_matrix(numpy.ndarray[DTYPE_t, ndim=2] t_matrix, int n):\n\n    cdef unsigned int rows = t_matrix.shape[0]\n    cdef numpy.ndarray[DTYPE_t, ndim=2] out = numpy.zeros((rows, rows), dtype='float32')\n    cdef unsigned int row, col\n\n    for row in range(rows):\n        for col in range(rows):\n            out[row, col] = get_gsl_p(t_matrix[row, col], n-2)\n    return out\n\ndef get_gsl_p_for_2D_matrix_def(numpy.ndarray[DTYPE_t, ndim=2] t_matrix, int n):\n    return get_gsl_p_for_2D_matrix(t_matrix, n)\n</code></pre>\n\n<p>ipython</p>\n\n<pre><code>import GSL_Test\nimport numpy\nimport scipy.stats\na = numpy.random.rand(3544, 3544).astype('float32')\n%timeit -n 1 GSL_Test.get_gsl_p_for_2D_matrix(a, 25)\n1 loop, best of 3: 7.87 s per loop\n%timeit -n 1 scipy.stats.t.sf(a, 25)*2\n1 loop, best of 3: 4.66 s per loop\n</code></pre>\n\n<p><strong>UPDATE:</strong> Adding cdef declarations I was able to  reduce the computational time but not lower than scipy still. I modified the code to have the cdef declarations. </p>\n\n<pre><code>%timeit -n 1 GSL_Test.get_gsl_p_for_2D_matrix_def(a, 25)\n1 loop, best of 3: 6.73 s per loop\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475706361, "post_id": 39884579, "comment_id": 67056130, "body": "You could try to use the <code>contextmanager</code> decorator from <code>contextlib</code> but then your function must be a generator, which I think is even less elegant. <a href=\"https://docs.python.org/2/library/contextlib.html#contextlib.contextmanager\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475706831, "post_id": 39884579, "comment_id": 67056275, "body": "<code>open</code> holds state (the opened file handle) that is cleaned up when the object ref count goes to zero. <code>open(&#39;foo&#39;)</code> (without assigning it to anything) is only useful for its side effects. So, question... do you want <code>foo = set_active_language();del foo</code> to revert back to the original language? If so, the call is carrying state, just like <code>open</code>."}, {"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 1, "creation_date": 1475708344, "post_id": 39884579, "comment_id": 67056695, "body": "You are spending time trying to design/implement something of very questionable value. Think about it: do users <i>really</i> need it? Is that what makes your code useful? I doubt it. By  the principle of least astonishment last thing I would expect for a class (not object!) to be a function AND context manager. Make function and context manager separate entities. Follow existing practices: <a href=\"https://github.com/django/django/blob/master/django/utils/translation/__init__.py#L170\" rel=\"nofollow noreferrer\">github.com/django/django/blob/master/django/utils/translatio&zwnj;&#8203;n/&hellip;</a>"}, {"owner": {"reputation": 6123, "user_id": 1163893, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/942f6a63d4a85a1fc660ea6662e85832?s=128&d=identicon&r=PG", "display_name": "Thijs van Dien", "link": "https://stackoverflow.com/users/1163893/thijs-van-dien"}, "reply_to_user": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 0, "creation_date": 1475709393, "post_id": 39884579, "comment_id": 67056951, "body": "I know it doesn&#39;t answer your question, but I agree with @Andrey that even if you figure out a way to do it, I don&#39;t recommend you do. If it&#39;s hard to do, it&#39;s probably the wrong way to do it. In this case, <code>set_active_language</code> would be the right name for the imperative. A context is rather declarative, for which I suggest you use <code>with active_language</code> or even <code>with language</code>."}, {"owner": {"reputation": 5359, "user_id": 582917, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/98a347823cd1db90af884b227a29c29e?s=128&d=identicon&r=PG", "display_name": "CMCDragonkai", "link": "https://stackoverflow.com/users/582917/cmcdragonkai"}, "edited": false, "score": 0, "creation_date": 1595300927, "post_id": 39884579, "comment_id": 111419687, "body": "This is what <code>open</code> does. Is <code>open</code> in Python an actual class?"}], "answers": [{"tags": [], "owner": {"reputation": 1654, "user_id": 1410290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78166023444789c3ff485d7913975417?s=128&d=identicon&r=PG", "display_name": "Yotam Ofek", "link": "https://stackoverflow.com/users/1410290/yotam-ofek"}, "is_accepted": false, "score": 0, "last_activity_date": 1475706840, "creation_date": 1475706840, "answer_id": 39884736, "question_id": 39884579, "link": "https://stackoverflow.com/questions/39884579/use-context-manager-as-a-function/39884736#39884736", "title": "Use context manager as a function", "body": "<p>Hopefully someone will prove me wrong, but I think the answer is <strong>no</strong>: there is no other way. And also, another short-coming of the method you chose is that it might misbehave when used along with other context managers in a <code>with a, b, c:</code> statement. The intended side-effect of the CM is executed on object construction, and not in the <code>__enter__</code> method as would be expected.</p>\n\n<p>To be able to do what you want, you would have to know from inside the class constructor whether it was initialized as a context manager in a <code>with</code> statement, or simply called as a function. As far as I can tell, there is no way to gather that, not even with the <code>inspect</code> module.</p>\n"}, {"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1475711659, "post_id": 39884831, "comment_id": 67057521, "body": "You could make it slightly less expensive by declaring <code>ActiveScope</code> outside the function, and passing <code>language</code> as an argument to <code>__init__</code> instead of capturing it via a closure. Then you only have to pay the cost of instantiating <code>ActiveScope</code> instead defining the class every time you call <code>set_active_language</code>."}], "tags": [], "owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "is_accepted": true, "score": 2, "last_activity_date": 1475707594, "creation_date": 1475707594, "answer_id": 39884831, "question_id": 39884579, "link": "https://stackoverflow.com/questions/39884579/use-context-manager-as-a-function/39884831#39884831", "title": "Use context manager as a function", "body": "<p>Technically no, you cannot do this.  But you can fake it well enough that people (who didn't overthink it) wouldn't notice.</p>\n\n<pre><code>def set_active_language(language):\n    global active_language\n    previous_language = active_language\n    active_language = language\n\n    class ActiveScope(object):\n        def __enter__(self):\n            pass\n\n        def __exit__(self, *args):\n            global active_language\n            active_language = previous_language\n\n    return ActiveScope()\n</code></pre>\n\n<p>When used as a function the <code>ActiveScope</code> class is just a slightly wasteful no-op.</p>\n"}], "owner": {"reputation": 4552, "user_id": 196550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75de77176dc22bb6f1970d45d2d3ba9d?s=128&d=identicon&r=PG", "display_name": "Andrey Fedoseev", "link": "https://stackoverflow.com/users/196550/andrey-fedoseev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "accepted_answer_id": 39884831, "answer_count": 2, "score": 7, "last_activity_date": 1475724677, "creation_date": 1475705895, "last_edit_date": 1475724677, "question_id": 39884579, "link": "https://stackoverflow.com/questions/39884579/use-context-manager-as-a-function", "title": "Use context manager as a function", "body": "<p>I'd like to make a function which would also act as context manager if called with <code>with</code> statement. Example usage would be:</p>\n\n<pre><code># Use as function    \nset_active_language(\"en\")\n\n# Use as context manager\nwith set_active_language(\"en\"):\n    ...\n</code></pre>\n\n<p>This is very similar to how the standard function <code>open</code> is used.</p>\n\n<p>Here's the solution I came up with:</p>\n\n<pre><code>active_language = None  # global variable to store active language\n\nclass set_active_language(object):\n\n    def __init__(self, language):\n        global active_language\n        self.previous_language = active_language\n        active_language = language\n\n    def __enter__(self):\n        pass\n\n    def __exit__(self, *args):\n        global active_language\n        active_language = self.previous_language\n</code></pre>\n\n<p>This code is not thread-safe, but this is not related to the problem. </p>\n\n<p>What I don't like about this solution is that class constructor pretends to be a simple function and is used only for its side effects.</p>\n\n<p>Is there a better way to do this?</p>\n\n<p>Note that I haven't tested this solution.</p>\n\n<p>Update: the reason why I don't want to split function and context manager into separate entities is is naming. The function and the context manager do the same thing, basically, so it seems reasonable to use one name for both. Naming the context processor would be problematic if I wanted to keep it separate. What should it be? <code>active_language</code>? This name may (and will) collide with variable name. <code>override_active_language</code> might work, though.</p>\n"}, {"tags": ["python", "database", "algorithm", "csv", "pandas"], "comments": [{"owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 0, "creation_date": 1475708125, "post_id": 39884561, "comment_id": 67056631, "body": "Row 2 is not the same as row 1."}, {"owner": {"reputation": 65, "user_id": 6142088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fc6aab22bc8fa11f652d25d4d3a2a2b4?s=128&d=identicon&r=PG&f=1", "display_name": "Mostafa Zamani", "link": "https://stackoverflow.com/users/6142088/mostafa-zamani"}, "reply_to_user": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 0, "creation_date": 1475729706, "post_id": 39884561, "comment_id": 67061916, "body": "@JoeR I know, but I want to remove Row 2 based on the conditions I explained!"}], "answers": [{"tags": [], "owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "is_accepted": false, "score": 0, "last_activity_date": 1475709419, "creation_date": 1475709419, "answer_id": 39885121, "question_id": 39884561, "link": "https://stackoverflow.com/questions/39884561/removing-duplicates-conditional-in-pandas-based-on-all-but-on-column/39885121#39885121", "title": "Removing Duplicates conditional in Pandas based on all but on column?", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.1/generated/pandas.DataFrame.drop_duplicates.html\" rel=\"nofollow\">drop_duplicates</a>. If your column names are, let's say: <code>['A', 'B', 'C', 'D', 'E']</code> and your data frame is <code>df</code> and <code>row 0</code> and <code>row 1</code> are not duplicated in column 'A' and column 'B', then you can do this:</p>\n\n<pre><code>df.drop_duplicates(['C', 'D','E'], keep='first')\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6142088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fc6aab22bc8fa11f652d25d4d3a2a2b4?s=128&d=identicon&r=PG&f=1", "display_name": "Mostafa Zamani", "link": "https://stackoverflow.com/users/6142088/mostafa-zamani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475710395, "creation_date": 1475705812, "question_id": 39884561, "link": "https://stackoverflow.com/questions/39884561/removing-duplicates-conditional-in-pandas-based-on-all-but-on-column", "title": "Removing Duplicates conditional in Pandas based on all but on column?", "body": "<p>So I have a Pandas DataFrame loaded with a bunch of data, yet, there are some duplicates in the data. The way duplicates exist, make it hard to remove them. Imagine this:</p>\n\n<pre><code>1         |a          |b         |c          |1232\n2         |           |b         |c          |1232\n3         |           |as        |ac         |89231\n</code></pre>\n\n<p>Now I want the code to be able to remove row 2, because it's basically same as row 1, but its second column is empty (the second column has some empty artifacts based on the way data was scraped from the web), yet I don't want the code to remove 3 and 1. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "linux", "anaconda"], "answers": [{"comments": [{"owner": {"reputation": 1904, "user_id": 2605262, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1a5d81ecf2f500b5a9856140a1b2e372?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/2605262/lukasz"}, "edited": false, "score": 0, "creation_date": 1475778037, "post_id": 39884767, "comment_id": 67091538, "body": "That&#39;s the exact output I get when I run <code>cat ~&#47;anaconda3&#47;bin&#47;conda</code>. I&#39;m trying to change the first line to point to a correct interpreter but I&#39;m unsure how to accomplish that."}, {"owner": {"reputation": 834, "user_id": 5338542, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6e9bcd453f848ea2621666790e40ff80?s=128&d=identicon&r=PG&f=1", "display_name": "M. Mashaye", "link": "https://stackoverflow.com/users/5338542/m-mashaye"}, "edited": false, "score": 0, "creation_date": 1491502421, "post_id": 39884767, "comment_id": 73594128, "body": "This solution is applicable to ipython as well, which needs to do the same thing with cat ~/anaconda3/bin/ipython. The problem happened to me when I moved my python folder to somewhere else."}, {"owner": {"reputation": 2243, "user_id": 1625695, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nb5fo.jpg?s=128&g=1", "display_name": "Hesham Eraqi", "link": "https://stackoverflow.com/users/1625695/hesham-eraqi"}, "edited": false, "score": 4, "creation_date": 1563032090, "post_id": 39884767, "comment_id": 100571482, "body": "This a very neat solution. Thanks."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1578264165, "post_id": 39884767, "comment_id": 105373615, "body": "is the anaconda community link still working for you?"}, {"owner": {"reputation": 735, "user_id": 4711098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3cc7b6d4644ecb2b44b9344f273d79?s=128&d=identicon&r=PG&f=1", "display_name": "Thinkeye", "link": "https://stackoverflow.com/users/4711098/thinkeye"}, "edited": false, "score": 0, "creation_date": 1614943590, "post_id": 39884767, "comment_id": 117545866, "body": "No, the support link is dead and it&#39;s not obvious where it should go now. I would say maybe: <a href=\"https://docs.anaconda.com/anacondaorg/\" rel=\"nofollow noreferrer\">docs.anaconda.com/anacondaorg</a>. BTW: I have just used <code>cd &#47;</code> and <code>sudo ln -s &#47;home&#47;user&#47;anaconda3</code> to join the assumed and real location of the directory."}, {"owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1614974445, "post_id": 39884767, "comment_id": 117558691, "body": "Thx for the comments. I&#39;ve fixed the dead link to have it point to the new location."}], "tags": [], "owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "is_accepted": true, "score": 65, "last_activity_date": 1614974413, "last_edit_date": 1614974413, "creation_date": 1475707084, "answer_id": 39884767, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/39884767#39884767", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>Something must have gone wrong during the installation, I suppose.\nThe bad interpreter means that a script is looking for an interpreter that doesn't exist - as you rightfully pointed out.</p>\n<p>The problem is likely to be in the shebang <code>#!</code> statement of your conda script.</p>\n<blockquote>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow noreferrer\">From Wikipedia</a>: Under Unix-like operating systems, when a script with a shebang is run as a program, the program loader parses the rest\nof the script's initial line as an interpreter directive; the\nspecified interpreter program is run instead, passing to it as an\nargument the path that was initially used when attempting to run the\nscript.</em></p>\n</blockquote>\n<p>If you run</p>\n<pre><code>cat ~/anaconda3/bin/conda\n</code></pre>\n<p>You will probably get the following:</p>\n<pre><code>#!/opt/anaconda1anaconda2anaconda3/bin/python\nif __name__ == '__main__':\n    import sys\n    import conda.cli\n\n    sys.exit(conda.cli.main())\n</code></pre>\n<p>Changing the first line to point a correct interpreter, i.e., changing it to:</p>\n<pre><code>#!/home/lukasz/anaconda3/bin/python\n</code></pre>\n<p>Should make the <code>conda</code> command work.</p>\n<p>If you are sure that you installed everything properly, then I'd suggest maybe reaching out for <a href=\"https://groups.google.com/a/continuum.io/g/anaconda\" rel=\"nofollow noreferrer\">support from the anaconda community.</a></p>\n"}, {"comments": [{"owner": {"reputation": 398, "user_id": 11440526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ezWkj.jpg?s=128&g=1", "display_name": "Mwibutsa Floribert", "link": "https://stackoverflow.com/users/11440526/mwibutsa-floribert"}, "edited": false, "score": 0, "creation_date": 1591354308, "post_id": 45708250, "comment_id": 110030231, "body": "It should point to the anaconda installation path, and that would be the case if you have yours in the /opt/ directory"}], "tags": [], "owner": {"reputation": 862, "user_id": 5440063, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/G1R4v.jpg?s=128&g=1", "display_name": "Rockbar", "link": "https://stackoverflow.com/users/5440063/rockbar"}, "is_accepted": false, "score": 5, "last_activity_date": 1502870707, "creation_date": 1502870707, "answer_id": 45708250, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/45708250#45708250", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>As the response above, this issue can be solved by changing the</p>\n\n<pre><code>#!/opt/anaconda1anaconda2anaconda3/bin/python\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#!/opt/anaconda3/bin/python\n</code></pre>\n\n<p>However, as soon as you do the next installation, e.g. \"conda install [...]\" this will be changed again to anaconda1anaconda2anaconda3, for whatever reasons. </p>\n\n<p>You might also realize some installation warnings and errors which are very likely to be related to this problem. If you want to get rid of this problem, you have to solve this warnings and errors. My strongest assumption is that there are missing administrator rights causing this problem, when you attempt to installs some conda packages the first time.</p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 11716607, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jyUnB6ToECE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-SIrz5KAKvf0Y3YBy0elfhQUbSw/photo.jpg?sz=128", "display_name": "Kirill_Zaitsev", "link": "https://stackoverflow.com/users/11716607/kirill-zaitsev"}, "is_accepted": false, "score": 6, "last_activity_date": 1585344480, "creation_date": 1585344480, "answer_id": 60894334, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/60894334#60894334", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>I encountered the same error while trying</p>\n\n<pre><code>conda\n</code></pre>\n\n<p>The error you should interpret as follows:</p>\n\n<pre><code>bash: \"path_to_file_with_error\": \"path_to_file_it_points_to\": \nbad interpreter: No such file or directory\n</code></pre>\n\n<p><strong>How to fix</strong>\nType in terminal </p>\n\n<pre><code>nano \"path_to_file_with_error\"\n</code></pre>\n\n<p>Change first line of the file to correct path of the python (in my case it was in miniconda/bin)</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 10840839, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156296925371341/picture?type=large", "display_name": "Karim Sherif", "link": "https://stackoverflow.com/users/10840839/karim-sherif"}, "is_accepted": false, "score": 4, "last_activity_date": 1595333607, "last_edit_date": 1595333607, "creation_date": 1595333030, "answer_id": 63014145, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/63014145#63014145", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>When you change the path to the interpreter conda will not be activated, so by following any of the previous answers you will end up in dead end.</p>\n<p>you get the following</p>\n<pre><code>CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.\n</code></pre>\n<p>So to solve this renaming path issue you need to:\nyou can use any text editor:</p>\n<pre><code>nano ~/anaconda3/etc/profile.d/conda.sh\n</code></pre>\n<p>change the CONDA_EXE and CONDA_PYTHON_EXE paths to the correct path\nexample:</p>\n<pre><code>      export \n      CONDA_EXE='/home/yourusername/anaconda3/bin/conda'\n      export _CE_M=''\n      export _CE_CONDA=''\n      export CONDA_PYTHON_EXE='/home/yourusername/anaconda3/bin/python'\n</code></pre>\n<p>then last step do:</p>\n<pre><code>source ~/anaconda3/etc/profile.d/conda.sh\n</code></pre>\n<p>To test your conda</p>\n<p>Try:</p>\n<pre><code>conda activate \nconda deactivate\n</code></pre>\n<p>to make this change permanent to all terminals\nplease add this line to ~/.bashrc</p>\n<pre><code>source ~/anaconda3/etc/profile.d/conda.sh\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6283817, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334280276587238/picture?type=large", "display_name": "JamesYen Yen", "link": "https://stackoverflow.com/users/6283817/jamesyen-yen"}, "is_accepted": false, "score": 1, "last_activity_date": 1606386718, "last_edit_date": 1606386718, "creation_date": 1606371088, "answer_id": 65016905, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/65016905#65016905", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>For centos 8 OS:\nconda is a 32 bit application but centos OS is 64 bit,\nyou need to install package below:\n<code>yum install glibc.i686</code></p>\n<p>reference:\n<a href=\"https://forums.centos.org/viewtopic.php?t=14169\" rel=\"nofollow noreferrer\">https://forums.centos.org/viewtopic.php?t=14169</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1995293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7593fe95354252b13d0f138fb98dbe8?s=128&d=identicon&r=PG", "display_name": "Blonck", "link": "https://stackoverflow.com/users/1995293/blonck"}, "is_accepted": false, "score": 2, "last_activity_date": 1611945505, "creation_date": 1611945505, "answer_id": 65960005, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory/65960005#65960005", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>If somebody runs into this problem and none of the above solutions works, it could be that on some update process the conda executable (which is a python script) was replaced with an identical-looking script with one key difference, it contains windows line endings.\nThis results in that executing the script via bash e.g.:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&lt;some_path&gt;/conda/bin/conda\n</code></pre>\n<p>will result in the error, but executing directly via python works</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&lt;some_path&gt;/conda/bin/python &lt;some_path&gt;/conda/bin/conda\n</code></pre>\n<p>Can be fixed by <code>dos2unix</code></p>\n<pre><code>dos2unix &lt;some_path&gt;/conda/bin/conda\n</code></pre>\n<p>or just move the file away and move it back.</p>\n"}], "owner": {"reputation": 1904, "user_id": 2605262, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1a5d81ecf2f500b5a9856140a1b2e372?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/2605262/lukasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36473, "favorite_count": 11, "accepted_answer_id": 39884767, "answer_count": 6, "score": 41, "last_activity_date": 1614974413, "creation_date": 1475705427, "last_edit_date": 1610635300, "question_id": 39884499, "link": "https://stackoverflow.com/questions/39884499/conda-command-will-prompt-error-bad-interpreter-no-such-file-or-directory", "title": "conda command will prompt error: &quot;Bad Interpreter: No such file or directory&quot;", "body": "<p>I'm using arch linux and I've installed Anaconda as per the instruction on the Anaconda site. When I'm attempting to run <code>conda info --envs </code> I get the following error:</p>\n<blockquote>\n<p>bash: /home/lukasz/anaconda3/bin/conda:\n/opt/anaconda1anaconda2anaconda3/bin/python: bad interpreter: No such\nfile or directory</p>\n</blockquote>\n<p>I've tried looking for the directory <code>/opt/anaconda1anaconda2anaconda3/bin/python:</code> but it simply doesn't exist.</p>\n<p>Furthermore, when I run python from the terminal it runs as normal with the following displayed at the top</p>\n<pre><code>Python 3.5.2 |Anaconda custom (64-bit)| (default, Jul  2 2016, 17:53:06) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n</code></pre>\n<p>for completeness my <code>.bashrc</code> file resembles:</p>\n<pre><code>#\n# ~/.bashrc\n#\n\n# If not running interactively, don't do anything\n[[ $- != *i* ]] &amp;&amp; return\n\nalias ls='ls --color=auto'\nPS1='[\\u@\\h \\W]\\$ '\n\n# added by Anaconda3 4.0.0 installer\nexport PATH=&quot;/home/lukasz/anaconda3/bin:$PATH&quot;\n\n# python startup for up keys\nexport PYTHONSTARTUP=$HOME/.pythonstartup\n</code></pre>\n<p>I've tried following <a href=\"https://stackoverflow.com/questions/35246386/conda-command-not-found\">this</a> and making the the appropriate changes but nothing, I've also attempted to do <a href=\"https://stackoverflow.com/questions/33946829/conda-command-not-found-path-is-in-bashrc\">this</a> but there really isn't a solution posted.</p>\n<p>I would like to try to fix this without having to remove Anaconda and reinstalling it.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6922241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81543a8018c1c583b0d08428b166c6c?s=128&d=identicon&r=PG&f=1", "display_name": "S. G.", "link": "https://stackoverflow.com/users/6922241/s-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1475707239, "creation_date": 1475707239, "answer_id": 39884784, "question_id": 39884482, "link": "https://stackoverflow.com/questions/39884482/specify-what-y-labels-to-use/39884784#39884784", "title": "Specify what Y labels to use", "body": "<p>You will want to use <a href=\"http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_yticks\" rel=\"nofollow\">axes.set_yticks</a> and/or <a href=\"http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_yticklabels\" rel=\"nofollow\">axes.set_yticklabels</a>.</p>\n\n<p>To set the ticks and labels as you specify, you would do:</p>\n\n<pre><code>ax.set_yticks([-10, 0, 10])\n</code></pre>\n\n<p>This will eliminate all of the other ticks. If you want the ticks to remain, but the labels to disappear (e.g. you want to have grid lines on -9, -8, -7 etc. but don't want the label), you could do:</p>\n\n<pre><code>ax.set_yticks(range(-10,11)) # to make sure they are what you think they are\nlabels = [-10,'','','','','','','','','',0,'','','','','','','','','',10]\nax.set_yticklabels(labels)\n</code></pre>\n\n<p>If you wanted to make the labels a little more elegantly, you could do:</p>\n\n<pre><code>labels = [y if y in [-10,0,10] else '' for y in xrange(-10,11)]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6928920, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6ZlWPCyWttQ/AAAAAAAAAAI/AAAAAAAAAAA/ObH0knhdGcM/photo.jpg?sz=128", "display_name": "Brendan ", "link": "https://stackoverflow.com/users/6928920/brendan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475708064, "creation_date": 1475705367, "last_edit_date": 1475708064, "question_id": 39884482, "link": "https://stackoverflow.com/questions/39884482/specify-what-y-labels-to-use", "title": "Specify what Y labels to use", "body": "<p>Using python and Matplotlib, I am trying to explicitly control what Y labels are shown on Y axis:</p>\n\n<pre><code>def plot_sample_top(sample, chrom):\n    ax = fig.add_subplot(23, 1, subplot_coord[sample])\n    ax.set_xlim([1, chrom_lengths[chrom]])\n    ax.set_ylim([-10, 10])\n\n    # scatter\n    ax.scatter(df_strain['POS'], df_strain[\"SD\"], color='black', label=\"&lt; 1 SD\")\n</code></pre>\n\n<p>I need the bounds of Y axis to be -10 and 10, and I want only the numbers -10, 0, and 10 to be shown as Y axis labels.  with current code it shows -10, -5, 0, 5, 10  and is too squeezed together</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 5869177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-Tn0NRR1crRY/AAAAAAAAAAI/AAAAAAAAABo/y3sY8SQIS8s/photo.jpg?sz=128", "display_name": "Cesar", "link": "https://stackoverflow.com/users/5869177/cesar"}, "edited": false, "score": 0, "creation_date": 1475760880, "post_id": 39885791, "comment_id": 67080527, "body": "Wow I had this before and it threw an error and it was cause one of the lines had an indentation error so I thought it was something else. Thanks!! This worked :)"}], "tags": [], "owner": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "is_accepted": true, "score": 1, "last_activity_date": 1475714645, "creation_date": 1475714645, "answer_id": 39885791, "question_id": 39884456, "link": "https://stackoverflow.com/questions/39884456/delete-blank-columns-from-header-row/39885791#39885791", "title": "Delete blank columns from header row", "body": "<p>You've found the line with the problem - all you have to do is only print the headers you want.  <code>next(cr)</code> reads the header line, but you pass the entire line to <code>writer.writerow()</code>.</p>\n\n<p>Instead of</p>\n\n<pre><code>writer.writerow(next(cr))\n</code></pre>\n\n<p>you want:</p>\n\n<pre><code>writer.writerow(next(cr)[:25])\n</code></pre>\n\n<p>(<code>[:25]</code> and <code>[0:25]</code> are the same in Python)</p>\n"}], "owner": {"reputation": 577, "user_id": 5869177, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-Tn0NRR1crRY/AAAAAAAAAAI/AAAAAAAAABo/y3sY8SQIS8s/photo.jpg?sz=128", "display_name": "Cesar", "link": "https://stackoverflow.com/users/5869177/cesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 39885791, "answer_count": 1, "score": 0, "last_activity_date": 1475714645, "creation_date": 1475705204, "question_id": 39884456, "link": "https://stackoverflow.com/questions/39884456/delete-blank-columns-from-header-row", "title": "Delete blank columns from header row", "body": "<p>I'm pretty new to python and I'm having trouble deleting the header columns after the 25th column. There are 8 more extra columns that have no data so I'm trying to delete those columns. Columns 1-25 have like 50,000k of data and the rest of the columns are blank.How would I do this? My code for now is able to clean up the file but I cant delete the headers for row[0] AFTER COLUMN 25.<br>\nThanks     </p>\n\n<pre><code>import csv\n\nmy_file_name = \"NVG.txt\"\ncleaned_file = \"cleanNVG.csv\"\nremove_words = ['INAC-EIM','-INAC','TO-INAC','TO_INAC','SHIP_TO-inac','SHIP_TOINAC']\n\n\nwith open(my_file_name, 'r', newline='') as infile, open(cleaned_file, 'w',newline='') as outfile:\n    writer = csv.writer(outfile)\n    cr =  csv.reader(infile, delimiter='|')\n    writer.writerow(next(cr)) #I think this is why is not working\n    for line in (r[0:25] for r in cr):\n        #del line [26:32]\n        if not any(remove_word in element for element in line for remove_word in remove_words):\n        line[11]= line[11][:5]\n        writer.writerow(line)\n</code></pre>\n"}, {"tags": ["python", "list", "append"], "answers": [{"comments": [{"owner": {"reputation": 95991, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1616177796, "post_id": 39884449, "comment_id": 117930714, "body": "Hello sir, I have created room <a href=\"https://chat.stackoverflow.com/rooms/230139/talkwithsir\">chat.stackoverflow.com/rooms/230139/talkwithsir</a>  for chat now, I am IST timings in case I slept before you join please forgive me :)"}], "tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 1, "last_activity_date": 1475705161, "last_edit_date": 1495542259, "creation_date": 1475705161, "answer_id": 39884449, "question_id": 39884409, "link": "https://stackoverflow.com/questions/39884409/build-2d-array-using-append/39884449#39884449", "title": "Build 2D array using append", "body": "<p>You can use a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> to do this easily along with a <a href=\"https://docs.python.org/3/library/functions.html#iter\" rel=\"nofollow noreferrer\"><code>iter</code></a>. </p>\n\n<pre><code>&gt;&gt;&gt; l = [(0, 1), (0, 2), (1, 3), (1, 4)]\n&gt;&gt;&gt; i = iter(l)\n&gt;&gt;&gt; [[x[1],y[1]] for x,y in zip(i,i)]\n[[1, 2], [3, 4]]\n</code></pre>\n\n<p>The algorithm here is to iterate over the list of tuples in pairs. This is where <code>iter</code> comes to use. <code>iter</code> creates an iterator that is consumed by the <code>zip</code> function. We then read the tuples into the list comprehension and add only the required two numbers, which is the second indices. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/34835951/what-does-list-comprehension-in-python-mean-how-does-it-work-and-how-can-i-us\">What does &quot;list comprehension&quot; mean? How does it work and how can I use it?</a> for more details about them. </p>\n"}, {"tags": [], "owner": {"reputation": 8938, "user_id": 152873, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d9db589b5fe85469144e3bc22e0c5112?s=128&d=identicon&r=PG", "display_name": "aviraldg", "link": "https://stackoverflow.com/users/152873/aviraldg"}, "is_accepted": false, "score": 3, "last_activity_date": 1475705615, "creation_date": 1475705615, "answer_id": 39884532, "question_id": 39884409, "link": "https://stackoverflow.com/questions/39884409/build-2d-array-using-append/39884532#39884532", "title": "Build 2D array using append", "body": "<p>Use <code>itertools.groupby</code>:</p>\n\n<pre><code>import itertools\n\na = [(0, 1), (0, 2), (1, 3), (1, 4)]\ng = itertools.groupby(a, key=lambda x: x[0])\ng = [list(i[1]) for i in g]\n</code></pre>\n"}], "owner": {"reputation": 796, "user_id": 3353412, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b07be389d046666645430d8e4a17b63e?s=128&d=identicon&r=PG&f=1", "display_name": "eng27", "link": "https://stackoverflow.com/users/3353412/eng27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 39884449, "answer_count": 2, "score": 1, "last_activity_date": 1475705615, "creation_date": 1475704935, "last_edit_date": 1475705213, "question_id": 39884409, "link": "https://stackoverflow.com/questions/39884409/build-2d-array-using-append", "title": "Build 2D array using append", "body": "<p>Python: I would like to read set of data</p>\n\n<pre><code>(category, value): (0, 1) (0, 2) (1, 3) (1, 4)\n</code></pre>\n\n<p>To an array as</p>\n\n<pre><code>[[1, 2],[3, 4]]\n</code></pre>\n\n<p>Since max number of category is unknown, I would like to create 2D-array dynamically using \"append\" method.</p>\n\n<p>I wrote a sample code:</p>\n\n<pre><code>data = []\ndata.append([])\n\ndata[0].append(1)\ndata[0].append(2)\n\ntry:\n  print (data[1])\nexcept IndexError:\n  data.append([])\nfinally:\n  data[1].append(3)\n  data[1].append(4)\n\nprint(data)\n</code></pre>\n\n<p>But, I understand that the code is really ugly because I am using \"print\" to check the access to <code>data[1]</code>.</p>\n\n<p>Is there any more beautiful solution for this problem?</p>\n"}, {"tags": ["python", "list", "zip", "comparison"], "comments": [{"owner": {"reputation": 812, "user_id": 2812104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32020ed2a1967e06e2c6a6be71921fd6?s=128&d=identicon&r=PG&f=1", "display_name": "jeremy radcliff", "link": "https://stackoverflow.com/users/2812104/jeremy-radcliff"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1475704456, "post_id": 39884294, "comment_id": 67055518, "body": "@BhargavRao, does that work for zipped lists, though?"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1475704515, "post_id": 39884294, "comment_id": 67055530, "body": "Yes, Certainly. Try it and check. If it works, inform me."}], "owner": {"reputation": 812, "user_id": 2812104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/32020ed2a1967e06e2c6a6be71921fd6?s=128&d=identicon&r=PG&f=1", "display_name": "jeremy radcliff", "link": "https://stackoverflow.com/users/2812104/jeremy-radcliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "closed_date": 1475705381, "answer_count": 0, "score": 0, "last_activity_date": 1475709707, "creation_date": 1475704332, "last_edit_date": 1475709707, "question_id": 39884294, "link": "https://stackoverflow.com/questions/39884294/comparing-two-zipped-lists", "closed_reason": "Duplicate", "title": "Comparing two zipped lists", "body": "<p>I have two zipped lists of (value, associated label) where label is an integer and want to check whether they are the same; how would I do that?</p>\n"}, {"tags": ["python", "multiprocessing", "python-multiprocessing"], "answers": [{"tags": [], "owner": {"reputation": 2297, "user_id": 6817049, "user_type": "registered", "profile_image": "https://graph.facebook.com/580250048815/picture?type=large", "display_name": "Tore Eschliman", "link": "https://stackoverflow.com/users/6817049/tore-eschliman"}, "is_accepted": false, "score": 1, "last_activity_date": 1475705669, "creation_date": 1475705669, "answer_id": 39884539, "question_id": 39884292, "link": "https://stackoverflow.com/questions/39884292/efficient-way-to-retrieve-and-merge-returned-arrays-from-multiprocess-function-c/39884539#39884539", "title": "Efficient way to retrieve and merge returned arrays from multiprocess function call", "body": "<p>Use <code>map_async</code> instead of <code>apply_async</code>.</p>\n\n<pre><code>pool = Pool()\nenv = ['uat', 'prod', 'lt', 'lt2', 'cert', 'sin']\nx = pool.map_async(get_version_list, env)\n</code></pre>\n\n<p>And now <code>x</code> will be a list of the results.</p>\n"}], "owner": {"reputation": 2213, "user_id": 498488, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/defd03700cdae74f43aa90d04dc41e8a?s=128&d=identicon&r=PG", "display_name": "Amaranth", "link": "https://stackoverflow.com/users/498488/amaranth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475710114, "creation_date": 1475704326, "last_edit_date": 1475710114, "question_id": 39884292, "link": "https://stackoverflow.com/questions/39884292/efficient-way-to-retrieve-and-merge-returned-arrays-from-multiprocess-function-c", "title": "Efficient way to retrieve and merge returned arrays from multiprocess function call", "body": "<pre><code>def get_version_list(env):\n  list = []\n  #do some intensive work\n  return list\n\nif __name__ == '__main__':\n  from multiprocessing import Pool\n\n  pool = Pool()\n\n  result1 = pool.apply_async(get_version_list, ['prod'])\n  result2 = pool.apply_async(get_version_list, ['uat'])\n  #etc, I have six environment to check.\n\n  alist = result1.get()\n  blist = result2.get()\n</code></pre>\n\n<p>Ideally, I would like to have a list containing my six environments, and loop on that list to call my function for each environment (in parallel) then unite all the returned lists. The united list should not contain a value multiple times.</p>\n\n<p>something like so (I knwo that code does not work, but it's to give an idea of what wish to do)</p>\n\n<pre><code>if __name__ == '__main__':\n  from multiprocessing import Pool\n\n  pool = Pool()\n\n  env = ['uat', 'prod', 'lt', 'lt2', 'cert', 'sin']\n\n  for e in env:\n      result = pool.apply_async(get_version_list, [e])\n\n  #Merging the lists of the 6 function calls (unique entries)\n  list = result.get()\n</code></pre>\n\n<p>Is there a simple way to do it?</p>\n"}, {"tags": ["python", "sockets", "python-3.x", "portforwarding"], "comments": [{"owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1475710288, "post_id": 39884279, "comment_id": 67057161, "body": "You could just say: <code>host = &quot;&quot;</code> and your server will listen on <b>all</b> interfaces .. (I am not saying this will work for you, I&#39;m just saying this might given the limited info in your question)"}, {"owner": {"reputation": 43, "user_id": 2578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd11845d4247f9cc4c894b1f41678c0f?s=128&d=identicon&r=PG", "display_name": "user2578348", "link": "https://stackoverflow.com/users/2578348/user2578348"}, "reply_to_user": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1475710327, "post_id": 39884279, "comment_id": 67057166, "body": "@SuperSaiyan will it work for devices not on my network so that I can send messages to PCs on other networks? And what ip would i log into the client with?"}, {"owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1475710705, "post_id": 39884279, "comment_id": 67057276, "body": "It will work from where you are able to reach the ip/port. The real answer will depend on your network layout. For eg: are you directly connected to internet, are there any firewall rules, are there port forwarding rules etc. Coming to your main question, you should plan on setting up port forwarding rules like: Ext interface port A =&gt; internal ip X + internal port B. You&#39;d connect via external ip and port A"}, {"owner": {"reputation": 43, "user_id": 2578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd11845d4247f9cc4c894b1f41678c0f?s=128&d=identicon&r=PG", "display_name": "user2578348", "link": "https://stackoverflow.com/users/2578348/user2578348"}, "reply_to_user": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1475712187, "post_id": 39884279, "comment_id": 67057652, "body": "@SuperSaiyan I think I understand what you mean. Ex set up forwarding so data from the pub addr 78.321.45.41 and port 8888 goes to 192.168.5.27 at port 5555, I have my python code fixed so the host is internal or &#39;&#39; and 5555 but when i go to client with 78.321.45.41 with port 8888 it says connection refused."}], "owner": {"reputation": 43, "user_id": 2578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd11845d4247f9cc4c894b1f41678c0f?s=128&d=identicon&r=PG", "display_name": "user2578348", "link": "https://stackoverflow.com/users/2578348/user2578348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1593791643, "creation_date": 1475704252, "last_edit_date": 1475710156, "question_id": 39884279, "link": "https://stackoverflow.com/questions/39884279/port-forwarding-with-sockets-and-making-socket-code-public", "title": "Port Forwarding with Sockets and Making Socket Code Public", "body": "<p>I am trying to allow my code to be run from devices on other networks. The code here is for my server. My question is when going to port forward settings on my router if I want someone to be able to reach the network do I put my external IP or internal IP in the port forward settings? And when I execute the client to try to connect do I give them the external IP and port or internal IP and port to try to connect to? </p>\n\n<pre><code>import sockets\ndef main():\n    port = None\n    host = str(input(\"Enter ip to host on:\"))\n    if host == \"port_forward\"\n        host = \"192.xxx.x.x\"\n        port = 9856\n    elif host == \"my_ip\":\n        host = socket.gethostbyname(socket.gethostbyname())\n        port = int(input(\"Enter port to listen to\"))\n    else:\n        port=int(input(\"Enter port to listen to\"))\n    s = socket.socket()\n    s.bind((host,port))\n    print(\"Host: \"+host + \" port:\"+str(port))\n    s.listen(1)\n    c, addr = s.accept()\n    print(\"Connection from:\" +str(addr))\n    while True:\n        data = c.recv(1024).decode('utf-8')\n        if not data:\n            break\n        print(\"from connected user:\")\n        data = input(\"Enter text to send.\")\n        c.send(data.encode('utf-8'))\n    c.close()\nmain()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 1, "creation_date": 1475704367, "post_id": 39884278, "comment_id": 67055484, "body": "What&#39;s your question?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475704412, "post_id": 39884278, "comment_id": 67055507, "body": "There are a lot of syntax errors. You may want to start with a basic Python tutorial first before attempting something like what you are trying to do."}, {"owner": {"reputation": 11, "user_id": 6928850, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210885934931063/picture?type=large", "display_name": "Ayman Main", "link": "https://stackoverflow.com/users/6928850/ayman-main"}, "edited": false, "score": 0, "creation_date": 1475704641, "post_id": 39884278, "comment_id": 67055578, "body": "My question is what&#39;s the appropriate code to generate the biased coin flip"}, {"owner": {"reputation": 1748, "user_id": 1443386, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ec92d7417c029c4f351a8f75733f4eea?s=128&d=identicon&r=PG", "display_name": "Daniel Tate", "link": "https://stackoverflow.com/users/1443386/daniel-tate"}, "edited": false, "score": 0, "creation_date": 1475705138, "post_id": 39884278, "comment_id": 67055734, "body": "You could do a really dirty example with getting a random number from a large range say 1 - 100 and include a statement that if say 1 - 60 = heads 61 - 100 = tails... thats biased and simple..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475705475, "post_id": 39884278, "comment_id": 67055853, "body": "Please at least attempt to do a Google search before asking a new question."}, {"owner": {"reputation": 11, "user_id": 6928850, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210885934931063/picture?type=large", "display_name": "Ayman Main", "link": "https://stackoverflow.com/users/6928850/ayman-main"}, "edited": false, "score": 0, "creation_date": 1475705723, "post_id": 39884278, "comment_id": 67055939, "body": "I&#39;ve actually looked through google but none of them give the desired outcome im looking for and the i&#39;ve looked through the link you mentioned but that code doesn&#39;t run."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1475706468, "post_id": 39884278, "comment_id": 67056163, "body": "That code works perfectly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475706479, "post_id": 39884278, "comment_id": 67056169, "body": "I just tried the code in the duplicate question and it ran fine in both python 2 and 3"}, {"owner": {"reputation": 11, "user_id": 6928850, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210885934931063/picture?type=large", "display_name": "Ayman Main", "link": "https://stackoverflow.com/users/6928850/ayman-main"}, "edited": false, "score": 0, "creation_date": 1475706654, "post_id": 39884278, "comment_id": 67056214, "body": "I may have formatted it incorrectly or made some other error could you please provide me the entire code, so that i copy paste it into idle and try ?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6928888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1165b8645461f74e9a25147a6ea53890?s=128&d=identicon&r=PG&f=1", "display_name": "ChuckTheTsundereFoxNeenja", "link": "https://stackoverflow.com/users/6928888/chuckthetsunderefoxneenja"}, "is_accepted": false, "score": 1, "last_activity_date": 1475706713, "creation_date": 1475706713, "answer_id": 39884714, "question_id": 39884278, "link": "https://stackoverflow.com/questions/39884278/biased-coin-flip/39884714#39884714", "title": "Biased coin flip", "body": "<p><em>(\"This is answer is based on the latest version of python, so make sure you are using 3.5.x otherwise some notation may not work properly\")</em></p>\n\n<p>Firstly your function \"biasedflip\" needs brackets after the name and before the colon for proper notation\nSo it should be:</p>\n\n<pre><code>def biasedflip():\n</code></pre>\n\n<p>Secondly to make it easier to change the probability to use a range of 1-100 so that you can avoid decimals to make it easier to follow through\nSo when they input (p) it should be 1-100 and that will decide your fail value which is where if it is equal to or higher than it displays Tails\nYou can produce this by using:</p>\n\n<pre><code>random.randint(1,100)\n</code></pre>\n\n<p>^\nThis generates a random integer using an inclusive range of 1-100 rather than your random.random() which is not going to function.</p>\n\n<p>After editing your random statement you then just change your if statement to look like:</p>\n\n<pre><code>if random.randint(1,100) &lt; Probability:\n\n   print(\"Heads\")\n\nelse:\n\n   print(\"Tails\")\n</code></pre>\n\n<p>When running the program you should also set the number of flips to be an input so you can test it multiple times rather than editing the code so add a new variable called NumberOfTrials:</p>\n\n<pre><code>NumberOfTrials = int(input(\"How many times do you wish to flip the coin? \"))\n</code></pre>\n\n<p>^\nThis converts their input into an integer so it can be used in the range function</p>\n\n<p>With the input for your probability python takes standard inputs to be strings so you need to convert the input into an integer which you can do by using:</p>\n\n<pre><code>Probability = int(input(\"Enter a probability for heads between 1 and 100\"))\n</code></pre>\n\n<p>^This will convert the input straight to an integer and assign it to Probability, I have changed the variable name from \"p\" to \"Probability\" so the use is clearly defined</p>\n\n<p>At this stage from the top of your program it should look like:</p>\n\n<pre><code>import random\n\ni = 0\nProbability = int(input(\"Enter a probability for heads between 1 and 100: \"))\nNumberOfTrials = int(input(\"How many times do you wish to flip the coin? \"))\n\ndef biasedflip():\n\n   if random.randint(1,100) &lt; Probability:\n\n      print(\"Heads\")\n\n   else:\n\n      print(\"Tails\")\n</code></pre>\n\n<p>Next we will add another 2 new variables so you can store the totals for Heads and Tails separately to allow for later reference:</p>\n\n<pre><code>TotalHeads = 0\nTotalTails = 0 \n</code></pre>\n\n<p>^These are starting as 0 and will be defined before the function so they are not reset every time we call it, only every time the program is reset</p>\n\n<p>The final stage is adding a loop and then displaying the total number of heads and tails. This can be done using a while loop and a count variable of (i) which you have already defined before and set to 0. This will something like:</p>\n\n<pre><code>while i &lt; NumberOfTrials:\n   biasedflip()\n   i += 1\n</code></pre>\n\n<p>^After adding this loop we need to modify our function so that the TotalHeads and TotalTails variables are increased inside the function rather than complicating it and editing inside and outside of the function. This just involves adding a <strong>TotalHeads += 1</strong> beneath the Print(\"Heads\") statement and a <strong>TotalTails += 1</strong> beneath the Print(\"Tails\") statement. An important note is as we have set the variables outside of the function we have to had 2 global statements to call the variables in to the function to allow editing, these statements just look like <strong>global TotalHeads</strong> and <strong>global TotalTails</strong> and should be the first commands of the function.</p>\n\n<p>We also need to add a final print command at the end just displaying the totals so our final result should look like:</p>\n\n<pre><code>import random\n\nTotalHeads = 0\nTotalTails = 0\ni = 0\nProbability = int(input(\"Enter a probability for heads between 1 and 100: \"))\nNumberOfTrials = int(input(\"How many times do you wish to flip the coin? \"))\n\ndef biasedflip():\n\n   global TotalTails\n   global TotalHeads\n\n   if random.randint(1,100) &lt; Probability:\n\n      print(\"Heads\")\n      TotalHeads += 1\n\n   else:\n\n      print(\"Tails\")\n      TotalTails += 1\n\nwhile i &lt; NumberOfTrials:\n   biasedflip()\n   i += 1\n\nprint(\"After {0} flips there was {1} Head(s) and {2} Tail(s)\".format(NumberOfTrials,TotalHeads,TotalTails))\n</code></pre>\n\n<p>^You can see on that final command I have used <strong>.format</strong> which means you can use placeholder {0} values to fill with variables such as NumberOfTrials so you can make sentences editable through the program and look neater when printed</p>\n\n<p>Also for calling functions the general format is <strong>FunctionName()</strong> but when defining it should be <strong>def FunctionName():</strong></p>\n"}], "owner": {"reputation": 11, "user_id": 6928850, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210885934931063/picture?type=large", "display_name": "Ayman Main", "link": "https://stackoverflow.com/users/6928850/ayman-main"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6213, "favorite_count": 0, "closed_date": 1475710445, "answer_count": 1, "score": 1, "last_activity_date": 1475710319, "creation_date": 1475704248, "last_edit_date": 1475710319, "question_id": 39884278, "link": "https://stackoverflow.com/questions/39884278/biased-coin-flip", "closed_reason": "Duplicate", "title": "Biased coin flip", "body": "<p>I'm trying to write a code that takes the probability of a biased coin with range between 0 and 1, as input from the user and tests a number of coin \ufb02ips where p is the probability of the \ufb02ip resulting in a result of heads.Here's what I have so far:</p>\n\n<pre><code>import random\ni = 0\nfor i in range(3):\n    i = i + 1\n#I want to call biasedflip function here\n\np = input(\"Enter probability:\")\ndef biasedflip():\n    if random.random() &lt; p:\n        print(\"Heads\")\n    else:\n        print(\"Tails\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6665281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dd2753490c11ef840bc53d1e19212a?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/6665281/arne"}, "edited": false, "score": 0, "creation_date": 1475796293, "post_id": 39884514, "comment_id": 67099620, "body": "Hi Bob, Thanks for your response. My dataframe has the name B in this case. I must be making a mistake in my copying your code, when typing it replacing df and data with B, I get the error that &#39;Dataframe&#39; object has no attribute &#39;split&#39;, what did I do wrong here? I also am not sure I understand the first two lines of code..."}, {"owner": {"reputation": 3097, "user_id": 5058588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JN6_yvR-04/AAAAAAAAAAI/AAAAAAAAI1g/4S0B-xB7UH0/photo.jpg?sz=128", "display_name": "Bob Baxley", "link": "https://stackoverflow.com/users/5058588/bob-baxley"}, "reply_to_user": {"reputation": 27, "user_id": 6665281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dd2753490c11ef840bc53d1e19212a?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/6665281/arne"}, "edited": false, "score": 0, "creation_date": 1475799954, "post_id": 39884514, "comment_id": 67100410, "body": "If you have a dataframe as <code>B</code>, the only line you need to run is <code>B.fillna(method=&#39;ffill&#39;,axis=0)</code>"}, {"owner": {"reputation": 27, "user_id": 6665281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dd2753490c11ef840bc53d1e19212a?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/6665281/arne"}, "edited": false, "score": 0, "creation_date": 1475855674, "post_id": 39884514, "comment_id": 67126291, "body": "It works and it is that simple. One more question, the data frame happens to have a few NaN in the first 2 or 3 rows, why does the whole data frame then not get filled with NaN? And thanks for the help!"}, {"owner": {"reputation": 3097, "user_id": 5058588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JN6_yvR-04/AAAAAAAAAAI/AAAAAAAAI1g/4S0B-xB7UH0/photo.jpg?sz=128", "display_name": "Bob Baxley", "link": "https://stackoverflow.com/users/5058588/bob-baxley"}, "reply_to_user": {"reputation": 27, "user_id": 6665281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dd2753490c11ef840bc53d1e19212a?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/6665281/arne"}, "edited": false, "score": 0, "creation_date": 1475858007, "post_id": 39884514, "comment_id": 67127635, "body": "Great!  The function only fills in from values that are not nan."}], "tags": [], "owner": {"reputation": 3097, "user_id": 5058588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JN6_yvR-04/AAAAAAAAAAI/AAAAAAAAI1g/4S0B-xB7UH0/photo.jpg?sz=128", "display_name": "Bob Baxley", "link": "https://stackoverflow.com/users/5058588/bob-baxley"}, "is_accepted": true, "score": 1, "last_activity_date": 1475799881, "last_edit_date": 1475799881, "creation_date": 1475705497, "answer_id": 39884514, "question_id": 39884225, "link": "https://stackoverflow.com/questions/39884225/variation-of-iterating-through-a-single-column/39884514#39884514", "title": "Variation of iterating through a single column", "body": "<p>You want <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html\" rel=\"nofollow\"><code>fillna</code></a>:</p>\n\n<pre><code>data = '''time power frequency duty_cycle\n1.4  1.2   500.0     45.0 \n2.1  49.9  NaN       NaN \n3.4  245.0 NaN       NaN \n4.5  323.0 NaN       NaN \n5.6  320.0 NaN       NaN \n6.6  309.0 1000      450 \n7.6  306.0 NaN      NaN \n8.7  305.0 NaN      NaN \n9.7  304.0 NaN      NaN \n10.8 300.0 NaN      NaN'''\n\ndd = [d.split() for d in data.split('\\n')]\ndf = pd.DataFrame(dd[1:],columns=dd[0])\ndf.replace('NaN',np.nan,inplace=True)\n\n\ndf.fillna(method='ffill',axis=0)\n\ntime    power   frequency   duty_cycle\n0   1.4     1.2     500.0   45.0\n1   2.1     49.9    500.0   45.0\n2   3.4     245.0   500.0   45.0\n3   4.5     323.0   500.0   45.0\n4   5.6     320.0   500.0   45.0\n5   6.6     309.0   1000    450\n6   7.6     306.0   1000    450\n7   8.7     305.0   1000    450\n8   9.7     304.0   1000    450\n9   10.8    300.0   1000    450\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6665281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dd2753490c11ef840bc53d1e19212a?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/6665281/arne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 39884514, "answer_count": 1, "score": 0, "last_activity_date": 1475799881, "creation_date": 1475703956, "last_edit_date": 1475710874, "question_id": 39884225, "link": "https://stackoverflow.com/questions/39884225/variation-of-iterating-through-a-single-column", "title": "Variation of iterating through a single column", "body": "<p>I know there are a zillion ways to iterate through data in a data frame.\nI am acquiring data from a detector, power, frequency, time. The time and power columns have values in every row. The frequency changes with time <strong>but</strong> for each frequency 'segment' the frequency and duty cycle are only listed in the column at the beginning of the segment. Below what it looks like.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>time power frequency duty cycle\n1.4  1.2   500.0     45.0\n2.1  49.9  NaN       NaN\n3.4  245.0 NaN       NaN\n4.5  323.0 NaN       NaN\n5.6  320.0 NaN       NaN\n6.6  309.0 1000      45\n7.6  306.0 NaN       NaN\n8.7  305.0 NaN       NaN\n9.7  304.0 NaN       NaN\n10.8 300.0 NaN       NaN\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>InitFreqs = df['frequency']\nInitDuty = df['dutycycle']\nfor i in np.arange(1, len(InitFreqs)):\n    if np.isnan(InitFreqs[i]):\n     InitFreqs[i] = InitFreqs[i - 1]\n     InitDuty[i] = InitDuty[i - 1]\n</code></pre>\n\n<p>I get the result I want which looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>time power frequency duty cycle\n1.4  1.2   500.0     45.0\n2.1  49.9  500.0     45.0\n3.4  245.0 500.0     45.0\n4.5  323.0 500.0     45.0\n5.6  320.0 500.0     45.0\n6.6  309.0 1000      45.0\n7.6  306.0 1000      45.0\n8.7  305.0 1000      45.0\n9.7  304.0 1000      45.0\n10.8 300.0 1000      45.0\n</code></pre>\n\n<p>The 45 in this example might or might not change as well and subsequent values need to reflect this. While this does the job it is horribly slow and inefficient. I have found examples of how to replace <em>all</em> values in a column with something else or all NaN's but not exactly what I am looking for.\nI should be able to perform this operation on a column as a whole vs the <code>for i</code> statement.</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1475704315, "post_id": 39884197, "comment_id": 67055469, "body": "Are you only looking for text that appears in a <code>&lt;div&gt;</code>, or can it appear anywhere?"}, {"owner": {"reputation": 25, "user_id": 6928770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e2c738d87cb1bae356fce431846c3f4?s=128&d=identicon&r=PG&f=1", "display_name": "dwill", "link": "https://stackoverflow.com/users/6928770/dwill"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1475704671, "post_id": 39884197, "comment_id": 67055586, "body": "It can appear anywhere in block-level, such as &lt;p&gt;..but the text I am looking for is not within any other tags, such as &lt;span&gt;....&lt;/span&gt;. If you check the source code of my html, you will see &quot;liability&quot; is not within any other tags, except in&lt;div&gt; ...  &lt;/div&gt;"}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1475705103, "post_id": 39884197, "comment_id": 67055730, "body": "Use a xpath expression to find all useful elements like <code>div</code> and <code>p</code>. Then, for each element, extract the text (it can also be with a xpath expression like <code>string(.)</code>). Then, with the RegEx <code>\\bliability\\b</code>, use <code>re.findall</code> to find all occurrences in the text. Then count the occurrences."}, {"owner": {"reputation": 25, "user_id": 6928770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e2c738d87cb1bae356fce431846c3f4?s=128&d=identicon&r=PG&f=1", "display_name": "dwill", "link": "https://stackoverflow.com/users/6928770/dwill"}, "reply_to_user": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1475768756, "post_id": 39884197, "comment_id": 67086336, "body": "@Laurent Thanks for the suggestion. This surely is one way to reach my purpose."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6928770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e2c738d87cb1bae356fce431846c3f4?s=128&d=identicon&r=PG&f=1", "display_name": "dwill", "link": "https://stackoverflow.com/users/6928770/dwill"}, "edited": false, "score": 0, "creation_date": 1475806819, "post_id": 39904363, "comment_id": 67101845, "body": "alecxe, thanks a lot for your help! You solution is great, it works easily and neatly."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1475782784, "creation_date": 1475782784, "answer_id": 39904363, "question_id": 39884197, "link": "https://stackoverflow.com/questions/39884197/count-certain-words-on-html-file-by-python/39904363#39904363", "title": "count certain words on html file by python", "body": "<p>You can apply a <em>partial string match</em> on an element's text when using <code>find()</code> or <code>find_all()</code>:</p>\n\n<pre><code>soup.find(text=lambda text: text and \"liability\" in text)\n</code></pre>\n\n<p>Or, a <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression\" rel=\"nofollow\">regular expression pattern</a> can be used in place of a <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function\" rel=\"nofollow\">function</a>:</p>\n\n<pre><code>soup.find(text=re.compile(r\"\\bliability\\b\")\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6928770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e2c738d87cb1bae356fce431846c3f4?s=128&d=identicon&r=PG&f=1", "display_name": "dwill", "link": "https://stackoverflow.com/users/6928770/dwill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1834, "favorite_count": 0, "accepted_answer_id": 39904363, "answer_count": 1, "score": 0, "last_activity_date": 1544015274, "creation_date": 1475703785, "last_edit_date": 1475703855, "question_id": 39884197, "link": "https://stackoverflow.com/questions/39884197/count-certain-words-on-html-file-by-python", "title": "count certain words on html file by python", "body": "<p>I am a rookie in Python. I am trying to count some words or expressions on html files. For example,I have a piece of html with source codes as below:</p>\n\n<pre><code>&lt;div style=\"line-height:120%;text-align:justify;text-indent:24px;font-size:10.5pt;\"&gt;\n&lt;font style=\"font-family:inherit;font-size:10.5pt;font-style:italic;font-weight:bold;\"&gt;2013 vs. 2012&amp;#160;&amp;#160;&lt;/font&gt;\n&lt;font style=\"font-family:inherit;font-size:10.5pt;\"&gt;During 2013, the Company recognized a decommissioning charge of $117 million and a restoration liability of $50 million, partially offset by the 2013 reversal of the $56&amp;#160;million tax indemnification liability associated with the 2006 sale of the Company&amp;#8217;s Canadian subsidiary.&lt;/font&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I want to count how many times \"liability\" show up in the piece. Below is my  code, which is not working:</p>\n\n<pre><code>import os\nfrom bs4 import BeautifulSoup\n\nlst=os.listdir(\"C:/html/\")\nfor x in lst:\n    print (x)\n    html = open (\"C:/html/\"+x,'rb')\n    bsobj = BeautifulSoup(html,\"html.parser\")\n    metricslist = bsobj.findAll(div.string ='liability')\n    print(len(metricslist)) \n</code></pre>\n\n<p>I know bsobj.findAll(div.string ='liability') is very wrong, but have no idea on what the code should be. Any help will be appreciated!</p>\n"}, {"tags": ["python", "numpy", "python-xarray"], "answers": [{"tags": [], "owner": {"reputation": 7287, "user_id": 809705, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93a76a800ef6c5919baa8ba91120ee98?s=128&d=identicon&r=PG", "display_name": "shoyer", "link": "https://stackoverflow.com/users/809705/shoyer"}, "is_accepted": true, "score": 2, "last_activity_date": 1475704192, "creation_date": 1475704192, "answer_id": 39884270, "question_id": 39884068, "link": "https://stackoverflow.com/questions/39884068/how-does-xarray-broadcasting-work-with-numpy-functions/39884270#39884270", "title": "How does xarray broadcasting work with numpy functions?", "body": "<p>Unfortunately, NumPy functions generally don't do appropriate broadcasting on xarray objects. But xarray does come with wrapped versions of many of these functions, including <code>arctan2</code>, in the <a href=\"http://xarray.pydata.org/en/stable/api.html#universal-functions\" rel=\"nofollow\"><code>xarray.ufuncs</code> module</a>. So <code>xarray.ufuncs.arctan2</code> should do exactly what you're looking for.</p>\n"}], "owner": {"reputation": 452, "user_id": 250992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90b8fb9faf69878242370162687878e7?s=128&d=identicon&r=PG", "display_name": "triplepoint217", "link": "https://stackoverflow.com/users/250992/triplepoint217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 39884270, "answer_count": 1, "score": 2, "last_activity_date": 1475704192, "creation_date": 1475703204, "question_id": 39884068, "link": "https://stackoverflow.com/questions/39884068/how-does-xarray-broadcasting-work-with-numpy-functions", "title": "How does xarray broadcasting work with numpy functions?", "body": "<p>I am trying to do a coordinate transformation with my xarray coordinates so </p>\n\n<p>I have a DataArray like:</p>\n\n<pre><code>d = xr.DataArray(np.zeros((10, 10, 1)), dims=['x', 'y', 'z']\n</code></pre>\n\n<p>and am doing operations like:</p>\n\n<pre><code>r = np.sqrt(d.x**2 + d.y**2 + d.z**2)\ntheta = np.arctan2(np.sqrt(d.x**2 + d.y**2), d.z)\nphi = np.arctan2(d.y, d.x)\n</code></pre>\n\n<p>I get shapes of:</p>\n\n<pre><code>In [212]: r.shape\nOut[212]: (10, 10, 1)\n\nIn [214]: theta.shape\nOut[214]: (10, 10)\n\nIn [216]: phi.shape\nOut[216]: (10,)\n</code></pre>\n\n<p>I would like to see the <code>(10, 10, 1)</code> shape that I get for r for all of them. </p>\n\n<p>It looks like xarray's fancy broadcasting only kicks in for basic arithmetic operations and the numpy functions are broadcasting naively. </p>\n\n<p>Is this correct?</p>\n\n<p>Is there an approved way to get around this? I can write my own xarray aware arctan2 function which gets the broadcasting right, but I am hoping I don't have to.</p>\n"}, {"tags": ["python", "image-processing", "dcraw"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475704067, "post_id": 39884033, "comment_id": 67055379, "body": "Converting back to raw would be a lossy step, you probably should keep it as a TIFF instead. I believe NEF is based on TIFF so the metadata should be compatible."}, {"owner": {"reputation": 43, "user_id": 4946085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPDMA.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4946085/richard"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475705433, "post_id": 39884033, "comment_id": 67055835, "body": "I was hoping to avoid TIFF altogether if I could. I&#39;d like to handle all demosaicing and color adjustment in a program like Photoshop but I need to deal with identifying noise at individual pixels before demosaicing. So just access the raw data and removing the noise there shouldn&#39;t be lossy, I think?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475705901, "post_id": 39884033, "comment_id": 67056000, "body": "Maybe I misunderstood. When you say you&#39;ve used <code>dcraw</code> to read the file, do you mean reading it <i>without</i> demosaicing? Anyway, I believe the raw data is compressed so you won&#39;t be able to write it back in place, you&#39;ll need to create a whole new file."}, {"owner": {"reputation": 43, "user_id": 4946085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPDMA.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4946085/richard"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475706349, "post_id": 39884033, "comment_id": 67056126, "body": "Yep, I&#39;ve been working with dcraw options to output the unaltered pixel values without demosaicing, white balancing, gamma correction etc. I would be fine with creating a new file, but I would need to transfer all the metadata and maintain a raw format to handle all those steps above in Photoshop"}], "owner": {"reputation": 43, "user_id": 4946085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPDMA.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4946085/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475703068, "creation_date": 1475703068, "question_id": 39884033, "link": "https://stackoverflow.com/questions/39884033/loading-and-saving-raw-images", "title": "Loading and saving raw images", "body": "<p>I'm looking to be able to read in pixel values as captured in a raw NEF image, process the data for noise removal, and then save the new values back into the raw image format maintaining all the metadata for later use. I've seen dcraw can read in raw format and output the Bayer pattern data as a tiff or other image but I can't save it back to my NEF. I've also been attempting to read in and save the image with simple python file open or numpy memmap but have no clue how to handle the binary data. Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["python", "scikit-learn"], "comments": [{"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "edited": false, "score": 0, "creation_date": 1475704151, "post_id": 39884009, "comment_id": 67055405, "body": "i&#39;m not sure if I understand what you want, but a <code>for loop</code> will do the job!!!"}, {"owner": {"reputation": 605, "user_id": 3436624, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/28101442/picture?type=large", "display_name": "user3436624", "link": "https://stackoverflow.com/users/3436624/user3436624"}, "reply_to_user": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "edited": false, "score": 1, "creation_date": 1478107928, "post_id": 39884009, "comment_id": 68024138, "body": "Just to clarify, the person below answered perfectly."}, {"owner": {"reputation": 1714, "user_id": 1265409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f37a8ac01b8fc3978f0ed6315d57d8c?s=128&d=identicon&r=PG", "display_name": "Moot", "link": "https://stackoverflow.com/users/1265409/moot"}, "edited": false, "score": 2, "creation_date": 1499929553, "post_id": 39884009, "comment_id": 77119711, "body": "I&#39;ve edited the question so that it is clear, can someone please unclose it? It&#39;s a good question and I have an alternate answer that I cannot add since it is still closed."}, {"owner": {"reputation": 4712, "user_id": 2468113, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1552a75f9fd4f6850d3bedc930597b68?s=128&d=identicon&r=PG", "display_name": "sapo_cosmico", "link": "https://stackoverflow.com/users/2468113/sapo-cosmico"}, "edited": false, "score": 2, "creation_date": 1510246666, "post_id": 39884009, "comment_id": 81363983, "body": "The correct answer is to use scikit&#39;s <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.validation.check_is_fitted.html\" rel=\"nofollow noreferrer\">check_is_fitted</a>"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 4712, "user_id": 2468113, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1552a75f9fd4f6850d3bedc930597b68?s=128&d=identicon&r=PG", "display_name": "sapo_cosmico", "link": "https://stackoverflow.com/users/2468113/sapo-cosmico"}, "edited": false, "score": 1, "creation_date": 1522753888, "post_id": 39884009, "comment_id": 86263983, "body": "@sapo_cosmico, thanks for bringing up <code>check_is_fitted</code>. I updated the answer with more details."}, {"owner": {"reputation": 953, "user_id": 10367549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpGfC.jpg?s=128&g=1", "display_name": "Oliver Sieweke", "link": "https://stackoverflow.com/users/10367549/oliver-sieweke"}, "edited": false, "score": 0, "creation_date": 1591531862, "post_id": 39884009, "comment_id": 110085583, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/51369709/scikit-learn-how-to-check-if-model-e-g-tfidfvectorizer-has-been-already-fit\">Scikit-learn how to check if model (e.g. TfidfVectorizer) has been already fit</a>"}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 3436624, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/28101442/picture?type=large", "display_name": "user3436624", "link": "https://stackoverflow.com/users/3436624/user3436624"}, "edited": false, "score": 0, "creation_date": 1478107949, "post_id": 39900933, "comment_id": 68024160, "body": "Thank you, this is perfect."}, {"owner": {"reputation": 1919, "user_id": 1888029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghptp.jpg?s=128&g=1", "display_name": "George Fisher", "link": "https://stackoverflow.com/users/1888029/george-fisher"}, "edited": false, "score": 1, "creation_date": 1493667475, "post_id": 39900933, "comment_id": 74494309, "body": "@elyase is right for sklearn. There are others: <code>from xgboost.core import XGBoostError</code> and <code>from lightgbm.sklearn import LightGBMError</code>, for instance"}, {"owner": {"reputation": 1714, "user_id": 1265409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f37a8ac01b8fc3978f0ed6315d57d8c?s=128&d=identicon&r=PG", "display_name": "Moot", "link": "https://stackoverflow.com/users/1265409/moot"}, "reply_to_user": {"reputation": 1919, "user_id": 1888029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghptp.jpg?s=128&g=1", "display_name": "George Fisher", "link": "https://stackoverflow.com/users/1888029/george-fisher"}, "edited": false, "score": 0, "creation_date": 1499901630, "post_id": 39900933, "comment_id": 77111200, "body": "@GeorgeFisher: True, but the OP did specify sklearn specifically."}, {"owner": {"reputation": 4712, "user_id": 2468113, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1552a75f9fd4f6850d3bedc930597b68?s=128&d=identicon&r=PG", "display_name": "sapo_cosmico", "link": "https://stackoverflow.com/users/2468113/sapo-cosmico"}, "edited": false, "score": 2, "creation_date": 1510246428, "post_id": 39900933, "comment_id": 81363804, "body": "This is not a good solution, as your <code>try</code> might fail because of a problem with <code>some_test_data</code>.   For instance, if <code>some_test_data = &quot;duck&quot;</code>, the model might be completely fine, but will fail. You will then report the wrong error.   Use <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.validation.check_is_fitted.html\" rel=\"nofollow noreferrer\">check_is_fitted</a> instead"}, {"owner": {"reputation": 2084, "user_id": 836153, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5ceb2c1a7a02f0056dee1fe2414133d0?s=128&d=identicon&r=PG", "display_name": "Zouzias", "link": "https://stackoverflow.com/users/836153/zouzias"}, "edited": false, "score": 0, "creation_date": 1517687907, "post_id": 39900933, "comment_id": 84199440, "body": "Along the same lines with @elyase, see <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.validation.check_is_fitted.html\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/modules/generated/&hellip;</a>"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 4712, "user_id": 2468113, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1552a75f9fd4f6850d3bedc930597b68?s=128&d=identicon&r=PG", "display_name": "sapo_cosmico", "link": "https://stackoverflow.com/users/2468113/sapo-cosmico"}, "edited": false, "score": 1, "creation_date": 1522754555, "post_id": 39900933, "comment_id": 86264348, "body": "@sapo_cosmico, the except clause only catches <code>NotFittedError</code> so this error will be reported in the correct situation. Given that <code>.predict()</code> calls <code>check_is_fitted</code> which then raises <code>NotFittedError</code> I can&#39;t think of a situation where the wrong error would be displayed but please feel free to correct me if I am missing something."}, {"owner": {"reputation": 953, "user_id": 10367549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpGfC.jpg?s=128&g=1", "display_name": "Oliver Sieweke", "link": "https://stackoverflow.com/users/10367549/oliver-sieweke"}, "edited": false, "score": 0, "creation_date": 1591532466, "post_id": 39900933, "comment_id": 110085809, "body": "Note that <code>check_is_fitted()</code> does not necessarily have to specify the attribute. From the <a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.utils.validation.check_is_fitted.html\" rel=\"nofollow noreferrer\">documentation</a> of the <code>attribute</code> parameter:  &quot;<i>If <code>None</code>, <code>estimator</code> is considered fitted if there exist an attribute that ends with a underscore and does not start with double underscore.</i>&quot;"}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": true, "score": 18, "last_activity_date": 1522766312, "last_edit_date": 1522766312, "creation_date": 1475770390, "answer_id": 39900933, "question_id": 39884009, "link": "https://stackoverflow.com/questions/39884009/whats-the-best-way-to-test-whether-an-sklearn-model-has-been-fitted/39900933#39900933", "title": "What&#39;s the best way to test whether an sklearn model has been fitted?", "body": "<p>You can do something like:</p>\n\n<pre><code>from sklearn.exceptions import NotFittedError\n\nfor model in models:\n    try:\n        model.predict(some_test_data)\n    except NotFittedError as e:\n        print(repr(e))\n</code></pre>\n\n<p>Ideally you would check the results of <code>model.predict</code> against expected results but if all you want to know if wether the model is fitted or not that should suffice.</p>\n\n<h3><strong>Update</strong>:</h3>\n\n<p>Some commenters have suggested using <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.validation.check_is_fitted.html\" rel=\"noreferrer\">check_is_fitted</a>. I consider <code>check_is_fitted</code> an <a href=\"http://scikit-learn.org/dev/glossary.html#term-fitted\" rel=\"noreferrer\">internal method</a>. Most algorithms will call <code>check_is_fitted</code> inside their predict method which in turn might raise <code>NotFittedError</code> if needed. The problem with using <code>check_is_fitted</code> directly is that it is model specific, i.e. you need to know which members to check depending on your algorithm. For example:</p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 Tree models    \u2551 check_is_fitted(self, 'tree_')             \u2551\n\u2551 Linear models  \u2551 check_is_fitted(self, 'coefs_')            \u2551\n\u2551 KMeans         \u2551 check_is_fitted(self, 'cluster_centers_')  \u2551\n\u2551 SVM            \u2551 check_is_fitted(self, 'support_')          \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>and so on. So in general I would recommend calling <code>model.predict()</code> and letting the specific algorithm handle the best way to check whether it is already fitted or not.</p>\n"}, {"comments": [{"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "edited": false, "score": 0, "creation_date": 1522766375, "post_id": 48046685, "comment_id": 86272855, "body": "interesting solution! Goes along the lines of <a href=\"http://scikit-learn.org/dev/glossary.html#term-fitted\" rel=\"nofollow noreferrer\">scikit-learn.org/dev/glossary.html#term-fitted</a>. +1"}], "tags": [], "owner": {"reputation": 6900, "user_id": 819544, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XIFoP.jpg?s=128&g=1", "display_name": "David Marx", "link": "https://stackoverflow.com/users/819544/david-marx"}, "is_accepted": false, "score": 3, "last_activity_date": 1514770953, "creation_date": 1514770953, "answer_id": 48046685, "question_id": 39884009, "link": "https://stackoverflow.com/questions/39884009/whats-the-best-way-to-test-whether-an-sklearn-model-has-been-fitted/48046685#48046685", "title": "What&#39;s the best way to test whether an sklearn model has been fitted?", "body": "<p>This is sort of a greedy approach, but it should be fine for most if not all models. The only time this might not work is for models that set an attribute ending in an underscore prior to being fit, which I'm pretty sure would violate scikit-learn convention so this should be fine.</p>\n\n<pre><code>import inspect\n\ndef is_fitted(model):\n        \"\"\"Checks if model object has any attributes ending with an underscore\"\"\"\n        return 0 &lt; len( [k for k,v in inspect.getmembers(model) if k.endswith('_') and not k.startswith('__')] )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "is_accepted": false, "score": 6, "last_activity_date": 1530830793, "creation_date": 1530830793, "answer_id": 51200847, "question_id": 39884009, "link": "https://stackoverflow.com/questions/39884009/whats-the-best-way-to-test-whether-an-sklearn-model-has-been-fitted/51200847#51200847", "title": "What&#39;s the best way to test whether an sklearn model has been fitted?", "body": "<p>I do this for classifiers:</p>\n\n<pre><code>def check_fitted(clf): \n    return hasattr(clf, \"classes_\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 8630238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f819257be909cde33277c10830d4f2?s=128&d=identicon&r=PG&f=1", "display_name": "emigre459", "link": "https://stackoverflow.com/users/8630238/emigre459"}, "is_accepted": false, "score": 0, "last_activity_date": 1599785355, "creation_date": 1599785355, "answer_id": 63839394, "question_id": 39884009, "link": "https://stackoverflow.com/questions/39884009/whats-the-best-way-to-test-whether-an-sklearn-model-has-been-fitted/63839394#63839394", "title": "What&#39;s the best way to test whether an sklearn model has been fitted?", "body": "<p>Cribbing directly from the scikit-learn source code for the <code>check_is_fitted</code> function (similar logic to @david-marx, but a little simpler):</p>\n<pre><code>def is_fitted(model):\n    '''\n    Checks if a scikit-learn estimator/transformer has already been fit.\n    \n    \n    Parameters\n    ----------\n    model: scikit-learn estimator (e.g. RandomForestClassifier) \n        or transformer (e.g. MinMaxScaler) object\n        \n    \n    Returns\n    -------\n    Boolean that indicates if ``model`` has already been fit (True) or not (False).\n    '''\n    \n    attrs = [v for v in vars(model)\n             if v.endswith(&quot;_&quot;) and not v.startswith(&quot;__&quot;)]\n    \n    return len(attrs) != 0\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 3436624, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/28101442/picture?type=large", "display_name": "user3436624", "link": "https://stackoverflow.com/users/3436624/user3436624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8386, "favorite_count": 4, "accepted_answer_id": 39900933, "answer_count": 4, "score": 22, "last_activity_date": 1599785355, "creation_date": 1475703000, "last_edit_date": 1499927269, "question_id": 39884009, "link": "https://stackoverflow.com/questions/39884009/whats-the-best-way-to-test-whether-an-sklearn-model-has-been-fitted", "title": "What&#39;s the best way to test whether an sklearn model has been fitted?", "body": "<p>What's the most elegant way to check whether an sklearn model has been fitted? i.e. whether its <code>fit()</code> function has been called after it was instantiated, or not. </p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1475705702, "post_id": 39883994, "comment_id": 67055930, "body": "These are lists, not arrays.  Python also has an array data type in the <code>array</code> module, but it is used much less frequently than the built-in list type."}], "answers": [{"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": false, "score": 5, "last_activity_date": 1475703119, "last_edit_date": 1495541343, "creation_date": 1475703119, "answer_id": 39884043, "question_id": 39883994, "link": "https://stackoverflow.com/questions/39883994/how-can-i-append-this-elements-to-an-array-in-python/39884043#39884043", "title": "How can I append this elements to an array in python?", "body": "<p>You can use a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> to solve your issue. </p>\n\n<pre><code>&gt;&gt;&gt; input_elements = [\"a\", \"b\", \"c\", \"d\"]\n&gt;&gt;&gt; my_array = [\"1\", \"2\", \"3\", \"4\"]\n&gt;&gt;&gt; [my_array+[i] for i in input_elements]\n</code></pre>\n\n<p>The result looks like</p>\n\n<pre><code>&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint([my_array+[i] for i in input_elements])\n[['1', '2', '3', '4', 'a'],\n ['1', '2', '3', '4', 'b'],\n ['1', '2', '3', '4', 'c'],\n ['1', '2', '3', '4', 'd']]\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/34835951/what-does-list-comprehension-in-python-mean-how-does-it-work-and-how-can-i-us\">What does &quot;list comprehension&quot; mean? How does it work and how can I use it?</a> for more details about them. </p>\n"}, {"comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "reply_to_user": {"reputation": 4699, "user_id": 1072724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c801226729ed3ea93676eb25c61299a?s=128&d=identicon&r=PG", "display_name": "Mike McMahon", "link": "https://stackoverflow.com/users/1072724/mike-mcmahon"}, "edited": false, "score": 0, "creation_date": 1475705511, "post_id": 39884088, "comment_id": 67055869, "body": "@MikeMcMahon The temporary list is implicit in the list comprehension.   You could use <code>new_list.appen(my_array + [e])</code> in the for-loop as well.  Why should there be any difference in that regard?  Everything that can be done with a list comprehension can be done with a for loop as well, and more."}, {"owner": {"reputation": 4699, "user_id": 1072724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c801226729ed3ea93676eb25c61299a?s=128&d=identicon&r=PG", "display_name": "Mike McMahon", "link": "https://stackoverflow.com/users/1072724/mike-mcmahon"}, "edited": false, "score": 0, "creation_date": 1475705681, "post_id": 39884088, "comment_id": 67055920, "body": "One of the fundamentals in Python is to be pythonic. A list comprehension is both expressive and pythonic."}, {"owner": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "edited": false, "score": 0, "creation_date": 1475705817, "post_id": 39884088, "comment_id": 67055970, "body": "I agree about the pythonic part. But the OP who&#39;s asking the question seems to be new to python and maybe CS (based on the question alone). In such a case my opinion is that the pythonic way is not instructive."}, {"owner": {"reputation": 4699, "user_id": 1072724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c801226729ed3ea93676eb25c61299a?s=128&d=identicon&r=PG", "display_name": "Mike McMahon", "link": "https://stackoverflow.com/users/1072724/mike-mcmahon"}, "edited": false, "score": 0, "creation_date": 1475706426, "post_id": 39884088, "comment_id": 67056154, "body": "I don&#39;t think the use of a temporary here is detrimental to understanding what is going on. Though that&#39;s debatable of course. To express the implied nature of what is happening under the hood while showing the way in which to code within the paradigm of a given language is probably the best way to do it. That said I&#39;m neither the teacher nor the student!"}], "tags": [], "owner": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "is_accepted": false, "score": 1, "last_activity_date": 1477440770, "last_edit_date": 1477440770, "creation_date": 1475703286, "answer_id": 39884088, "question_id": 39883994, "link": "https://stackoverflow.com/questions/39883994/how-can-i-append-this-elements-to-an-array-in-python/39884088#39884088", "title": "How can I append this elements to an array in python?", "body": "<p>You need to make a copy of the old list in the loop:</p>\n\n<pre><code>input_elements = [\"a\", \"b\", \"c\", \"d\"]\nmy_array = [\"1\", \"2\", \"3\", \"4\"]\nnew_list = []\nfor e in input_elements:\n  tmp_list = list(my_array)\n  tmp_list.append(e)\n  new_list.append(tmp_list)\n\nprint(new_list)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['1', '2', '3', '4', 'a'], ['1', '2', '3', '4', 'b'], ['1', '2', '3', '4', 'c'], ['1', '2', '3', '4', 'd']]\n</code></pre>\n\n<p>Note that <code>tmp_list = list(my_array)</code> makes a new copy of <code>my_array</code>.</p>\n\n<p><strong>The above can be shortened by making <code>tmp-list</code> implicit:</strong></p>\n\n<pre><code>input_elements = [\"a\", \"b\", \"c\", \"d\"]\nmy_array = [\"1\", \"2\", \"3\", \"4\"]\nnew_list = []\nfor e in input_elements:\n  new_list.append(my_array + [e]) # the temporary copy is implicit\nprint(new_list)\n</code></pre>\n\n<p><strong>The above can then be further shortened using lambdas (essentially making the loop implicit in this example):</strong></p>\n\n<pre><code>input_elements = [\"a\", \"b\", \"c\", \"d\"]\nmy_array = [\"1\", \"2\", \"3\", \"4\"]\nnew_list = [my_array + [e] for e in input_elements]\nprint(new_list)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 1, "creation_date": 1475705636, "post_id": 39884191, "comment_id": 67055911, "body": "<code>my_array.remove(e)</code> will perform a linear search in the list for the first element matching <code>e</code>, and remove that.  That&#39;s wrong in some cases, and even in cases where it happens to work it is inefficient.  <code>my_array.pop()</code> will do what you want in an efficient way."}], "tags": [], "owner": {"reputation": 694, "user_id": 2060137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QXevP.jpg?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/2060137/christine"}, "is_accepted": true, "score": 1, "last_activity_date": 1475706116, "last_edit_date": 1475706116, "creation_date": 1475703768, "answer_id": 39884191, "question_id": 39883994, "link": "https://stackoverflow.com/questions/39883994/how-can-i-append-this-elements-to-an-array-in-python/39884191#39884191", "title": "How can I append this elements to an array in python?", "body": "<p>I'm assuming the output you're getting is:</p>\n\n<pre><code>['1', '2', '3', '4', 'a', 'b', 'c', 'd']\n</code></pre>\n\n<p>...because, that's what I'm getting.</p>\n\n<p>The problem is, in your loop, you're simply adding a new element to the existing array, then printing the \"grand total.\"  So, you add a, then you add b, then you add c, then d... all to the same array, then printing out the whole shebang.</p>\n\n<p>The easiest solution for your particular problem is, in your for loop, print the array as it is, with the <code>e</code> selection concatenated.  Like so:</p>\n\n<pre><code>input_elements = [\"a\", \"b\", \"c\", \"d\"]\nmy_array = [\"1\", \"2\", \"3\", \"4\"]\n\nfor e in input_elements:\n  print my_array + [e]\n</code></pre>\n\n<p>That way, you're printing the array with the extra element, without actually affecting the original array... keeping it \"clean\" to loop back through and add the next element.</p>\n\n<p>This method allows you to achieve the desired result without having to result to extra memory allocation or unnecessary variables.</p>\n\n<p>If you have other things to do during the <code>for</code> loop, you could always add the element, then remove it after processing using the <code>pop</code> function, like so:</p>\n\n<pre><code>for e in input_elements:\n  my_array.append(e)\n  print my_array\n  # Do some other nifty stuff\n  my_array.pop()\n</code></pre>\n\n<p>Another option is to use List Comprehension, which allows you to iterate through an array as more of an inherent statement:</p>\n\n<p><code>print [my_array+[e] for e in input_elements]</code></p>\n"}], "owner": {"reputation": 77, "user_id": 6739448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8cc0a27aff2fca594f4211baf47d87b?s=128&d=identicon&r=PG&f=1", "display_name": "Kristine", "link": "https://stackoverflow.com/users/6739448/kristine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 39884191, "answer_count": 3, "score": 4, "last_activity_date": 1477440770, "creation_date": 1475702941, "last_edit_date": 1475703133, "question_id": 39883994, "link": "https://stackoverflow.com/questions/39883994/how-can-i-append-this-elements-to-an-array-in-python", "title": "How can I append this elements to an array in python?", "body": "<pre><code>input_elements = [\"a\", \"b\", \"c\", \"d\"]\nmy_array = [\"1\", \"2\", \"3\", \"4\"]\n</code></pre>\n\n<p>the output I want is:</p>\n\n<pre><code>[\"1\", \"2\", \"3\", \"4\", \"a\"]\n[\"1\", \"2\", \"3\", \"4\", \"b\"]\n[\"1\", \"2\", \"3\", \"4\", \"c\"]\n[\"1\", \"2\", \"3\", \"4\", \"d\"]\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>for e in input_elements:\n  my_array.append(e)\n</code></pre>\n\n<p>I know the code right above is wrong, so I am wondering how I can generate the output like that.</p>\n"}, {"tags": ["python", "pickle"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1475702950, "post_id": 39883965, "comment_id": 67054893, "body": "A newline character was found where the pickle module expected a type dispatch byte. Is this <b>exactly</b> the code that produces the file? Nothing else manipulates that file in any way?"}, {"owner": {"reputation": 345, "user_id": 6200378, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUFjiCdaoNE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfam0cDhcJAqKaoUxIGZm5ItEG9DQ/photo.jpg?sz=128", "display_name": "nik_97", "link": "https://stackoverflow.com/users/6200378/nik-97"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475703024, "post_id": 39883965, "comment_id": 67054931, "body": "Yes.Nothing else manipulates the file in any way whatsoever."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475703085, "post_id": 39883965, "comment_id": 67054951, "body": "What does <code>with open(&#39;file.dat&#39;, &#39;rb&#39;) as myfile:</code>, <code>print repr(myfile.read())</code> produce?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475703127, "post_id": 39883965, "comment_id": 67054970, "body": "And given <i>just</i> the code here and the sample <code>activitydata</code> list reduced to just the one tuple, I can&#39;t reproduce this."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475703210, "post_id": 39883965, "comment_id": 67055007, "body": "Last but not least, a CP1252 decoding of the data <i>I</i> have, gives me subtly different data, but that may be due to you having included more tuples. I&#39;m also using 2.7.12, but scanning the <a href=\"https://hg.python.org/cpython/file/v2.7.12/Misc/NEWS\" rel=\"nofollow noreferrer\">detailed release history</a> doesn&#39;t show any relevant changes to <code>pickle</code>."}, {"owner": {"reputation": 345, "user_id": 6200378, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUFjiCdaoNE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfam0cDhcJAqKaoUxIGZm5ItEG9DQ/photo.jpg?sz=128", "display_name": "nik_97", "link": "https://stackoverflow.com/users/6200378/nik-97"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475704024, "post_id": 39883965, "comment_id": 67055362, "body": "This is what repr(myfile.read()) gives (text too large to be typed here) : <a href=\"https://drive.google.com/open?id=0B9s7RuI739tuZEVDQ0dzNnZGM1E\" rel=\"nofollow noreferrer\">link</a> P.S. text1 and text2 correspond to &#39;Activity since .....2:46 AM&#39; and &#39;CS/ECE.......LS1&#39; respectively,i.e. to say they always have the same format."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475704163, "post_id": 39883965, "comment_id": 67055412, "body": "Perhaps you could try and reproduce this with a smaller dataset so that the <code>repr()</code> does fit in the question?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475704320, "post_id": 39883965, "comment_id": 67055472, "body": "And the data you gave gives me <code>KeyError: &#39;\\x07&#39;</code>, not <code>\\n</code>, interestingly enough."}, {"owner": {"reputation": 345, "user_id": 6200378, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUFjiCdaoNE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfam0cDhcJAqKaoUxIGZm5ItEG9DQ/photo.jpg?sz=128", "display_name": "nik_97", "link": "https://stackoverflow.com/users/6200378/nik-97"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475704932, "post_id": 39883965, "comment_id": 67055665, "body": "Have tried repr() with just two tuples now, updated in question."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475705716, "post_id": 39883965, "comment_id": 67055935, "body": "Groan Mode: On. <code>print repr(myfile.read())</code> leaves the file pointer at end-of-file. <code>myfile.seek(0)</code> will fix it."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475706225, "post_id": 39883965, "comment_id": 67056090, "body": "@MartijnPieters - the Lastactivity.dat file from the link loaded for me without an error. Python 2.7.6 on linux mint."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475708117, "post_id": 39883965, "comment_id": 67056627, "body": "@nik_97 sorry; out of time for today. I&#39;ll try to check this again tomorrow."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1475747060, "post_id": 39883965, "comment_id": 67071242, "body": "@nik_97: I can&#39;t reproduce your error. I get <i>different output</i> for the same <code>activity_list</code> you produced, but I have no trouble loading the <code>repr()</code> output you added to the question either. Your <code>EOFError</code> is due to you having read the file already, as tdelaney already pointed out, you need a <code>myfile.seek(0)</code> before doing <code>pickle.load(my_file)</code>. Alternatively, use <code>data = myfile.read()</code>, then <code>print(repr(data))</code> and <code>activitydata = pickle.loads(data)</code> (note the <code>s</code> in <code>loads</code>)."}, {"owner": {"reputation": 655, "user_id": 4121413, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-RennGvb4Qws/AAAAAAAAAAI/AAAAAAAABLc/grX5wlTzl2E/photo.jpg?sz=128", "display_name": "Emma Strubell", "link": "https://stackoverflow.com/users/4121413/emma-strubell"}, "edited": false, "score": 0, "creation_date": 1477867076, "post_id": 39883965, "comment_id": 67923944, "body": "Was this ever resolved? I&#39;m having exactly the same issue trying to load <code>mappings.pkl</code> here: <a href=\"https://github.com/glample/tagger/tree/master/models/english\" rel=\"nofollow noreferrer\">github.com/glample/tagger/tree/master/models/english</a> ."}], "owner": {"reputation": 345, "user_id": 6200378, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUFjiCdaoNE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfam0cDhcJAqKaoUxIGZm5ItEG9DQ/photo.jpg?sz=128", "display_name": "nik_97", "link": "https://stackoverflow.com/users/6200378/nik-97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1446, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1475704808, "creation_date": 1475702805, "last_edit_date": 1475704808, "question_id": 39883965, "link": "https://stackoverflow.com/questions/39883965/keyerror-n-while-unpickling-in-python-2-7-10", "title": "KeyError: &#39;\\n&#39; while Unpickling in Python 2.7.10", "body": "<p>I have a list of tuples of the form <code>activity_list=[('text 1', 'text 2', \"('No recent activity',)\")........]</code>, which I have pickled into a file as</p>\n\n<pre><code>with open('file.dat', 'wb') as writefile:\n    pickle.dump(activity_list, writefile, protocol=pickle.HIGHEST_PROTOCOL)\n</code></pre>\n\n<p>However, when I try to Unpickle this file using </p>\n\n<pre><code>if os.path.isfile('file.dat') and os.stat('file.dat').st_size!=0:\n        with open('file.dat', 'rb') as myfile:\n                activitydata=pickle.load(myfile)\n                print activitydata\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>`Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\lib-tk\\Tkinter.py\", line 1536, in __call__\n    return self.func(*args)\n  File \"C:\\Python27\\CMS downloader\\cms-dl\\gui.py\", line 117, in show_last\n    activitydata=pickle.load(myfile)\n  File \"C:\\Python27\\lib\\pickle.py\", line 1378, in load\n    return Unpickler(file).load()\n  File \"C:\\Python27\\lib\\pickle.py\", line 858, in load\n    dispatch[key](self)\nKeyError: '\\n'\n</code></pre>\n\n<p>What <strong>EXACTLY</strong> is the reason for this error,and how can I solve it ? </p>\n\n<p>Code:\n`</p>\n\n<pre><code>import pickle\nimport os\nactivity_list=[('Activity since Thursday, 6 October 2016, 3:18 AM', 'CS/ECE/EEE/INSTR F215 DIGITAL DESIGN LS1', \"('No recent activity',)\"), ('Activity since Thursday, 6 October 2016, 3:18 AM', 'ECE/EEE/INSTR F211 ELECTRICAL MACHINES LS1', \"('No recent activity',)\")]\nwith open('activity.dat', 'wb') as writefile:\n    pickle.dump(activity_list, writefile, protocol=pickle.HIGHEST_PROTOCOL)\nif os.path.isfile('activity.dat') and os.stat('activity.dat').st_size!=0:\n    with open('activity.dat', 'rb') as myfile:\n        print repr(myfile.read())\n        activitydata=pickle.load(myfile)\n        print activitydata\n</code></pre>\n\n<p>'\nOutput:\n'</p>\n\n<pre><code>\"\\x80\\x02]q\\x00(U0Activity since Thursday, 6 October 2016, 3:18 AMq\\x01U(CS/ECE/EEE/INSTR F215 DIGITAL DESIGN LS1q\\x02U\\x17('No recent activity',)q\\x03\\x87q\\x04U0Activity since Thursday, 6 October 2016, 3:18 AMq\\x05U*ECE/EEE/INSTR F211 ELECTRICAL MACHINES LS1q\\x06U\\x17('No recent activity',)q\\x07\\x87q\\x08e.\"\n\nTraceback (most recent call last):\n  File \"C:/Python27/CMS downloader/cms-dl/lol.py\", line 9, in &lt;module&gt;\n    activitydata=pickle.load(myfile)\n  File \"C:\\Python27\\lib\\pickle.py\", line 1378, in load\n    return Unpickler(file).load()\n  File \"C:\\Python27\\lib\\pickle.py\", line 858, in load\n    dispatch[key](self)\n  File \"C:\\Python27\\lib\\pickle.py\", line 880, in load_eof\n    raise EOFError\nEOFError\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["python", "pca"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1475703305, "post_id": 39883958, "comment_id": 67055044, "body": "This question is off-topic because it&#39;s about interpreting statistics, not programming."}, {"owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "edited": false, "score": 0, "creation_date": 1475703737, "post_id": 39883958, "comment_id": 67055239, "body": "It looks like youre taking the complex eigenvector, multiplying it by your covariance matrix and plotting the result. I&#39;m not really sure of the interpretational value of that. I think what you&#39;d actually want to do (maybe) is projecting all of your actual data onto the subspace of your eigenvector(s) and then plotting that to see where your data lies along each factor"}, {"owner": {"reputation": 143, "user_id": 6846554, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1019128dbffc1b32df32ec1d4f01e6ee?s=128&d=identicon&r=PG&f=1", "display_name": "skafetaur", "link": "https://stackoverflow.com/users/6846554/skafetaur"}, "edited": false, "score": 0, "creation_date": 1475765401, "post_id": 39883958, "comment_id": 67083882, "body": "@ Josh Caswell -- Thank you and noted. I&#39;ll be careful to post only technically relevant questions."}, {"owner": {"reputation": 143, "user_id": 6846554, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1019128dbffc1b32df32ec1d4f01e6ee?s=128&d=identicon&r=PG&f=1", "display_name": "skafetaur", "link": "https://stackoverflow.com/users/6846554/skafetaur"}, "edited": false, "score": 0, "creation_date": 1475765585, "post_id": 39883958, "comment_id": 67084023, "body": "@ Simon -- Thank you! Indeed I think I&#39;m already doing that via plt.plot(eig_vec[0:2].dot(lr_norm.T).T), where eig_vec are the eigen vectors and lr_norm is the original normalized (standardized) sample. I am definitely not multiplying the eig_vec with the covariance matrix (lr_cov). I guess I&#39;ll figure out next steps. Thanks again."}], "owner": {"reputation": 143, "user_id": 6846554, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1019128dbffc1b32df32ec1d4f01e6ee?s=128&d=identicon&r=PG&f=1", "display_name": "skafetaur", "link": "https://stackoverflow.com/users/6846554/skafetaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475703082, "creation_date": 1475702782, "last_edit_date": 1475703082, "question_id": 39883958, "link": "https://stackoverflow.com/questions/39883958/inference-from-pca-using-python-on-oil-stock-returns", "title": "Inference from PCA (Using Python) on Oil Stock Returns", "body": "<p>I was interested in finding out if there are a few common factors that have been driving the returns in individual stocks in the U.S. Oil sector, sourcing the daily closing prices from Yahoo!. Below is the (fairly simple) Python code I used, with the final result (the graph) presented all the way down below showing the top 2 PCs (as they seem to explain most of the variance). Problem is I can't make heads or tails of the plot. Not sure what can be inferred at all from this! Anyone willing to take a stab and/or point out the ugliness in my implementation? :-)</p>\n\n<p>Sincerely.</p>\n\n<pre><code>import pandas as pd\nfrom pandas_datareader import data as web\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport statsmodels.api as sm\nimport statistics as st\n%matplotlib inline\n\nsymbols=['XOM','CVX','SLB','PXD','EOG','OXY','HAL','KMI','SE','PSX','VLO','COP','APC','TSO','WMB','BHI','APA','COG','DVN','MPC','NBL','CXO','NOV','HES','MRO','EQT','XEC','FTI','RRC','OKE','SWN','NFX','HP','MUR','CHK','RIG','DO']\ntry:\n   h13 = pd.HDFStore('port.h13')\n   data = h13['norm']\n   h13.close()\nexcept:\n   data = pd.DataFrame()\n   for sym in symbols:\n       data[sym] = web.DataReader(sym, data_source='yahoo', start='01/01/2016')['Adj Close']\n   data = data.dropna()\n   h13 = pd.HDFStore('port.h13')\n   h13['norm'] = data\n   h13.close()\n\n(data / data.ix[0] * 100).plot(figsize=(8,6), grid = True)\n\nlog_returns = np.log(data / data.shift(1))\nlog_returns.hist(bins=50, figsize=(9,6))\nlr = log_returns.iloc[1:]\nsigma = np.cov(lr, rowvar = False)\n\nlr_list = lr.T.values\nmyu_list=[sum(elem)/len(elem) for elem in zip(*lr_list.T)]  \nstd_list=[st.stdev(elem) for elem in zip(*lr_list.T)]  \nlr_norm = (lr.as_matrix() - myu_list)/std_list\nlr_cov = np.cov(lr_norm, rowvar = False, ddof = 0)\neig_val, eig_vec = np.linalg.eig(lr_cov)\nplt.plot(eig_vec[0:3].dot(lr_norm.T).T)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/AnAvI.png\" alt=\"PCs Plot\"></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 5, "creation_date": 1475702802, "post_id": 39883950, "comment_id": 67054821, "body": "<code>return self.soi_l1, self.soi_l2, self.status</code> doesn&#39;t return a string, it returns a tuple. You can&#39;t return a tuple from <code>__str__</code>. What could be improved on the error message to make it clearer?"}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 12, "last_activity_date": 1475702964, "creation_date": 1475702964, "answer_id": 39884000, "question_id": 39883950, "link": "https://stackoverflow.com/questions/39883950/str-returned-non-string-type-tuple/39884000#39884000", "title": "__str__ returned non-string (type tuple)", "body": "<p>Those commas aren't actually doing what you think they do. The commas make your return value a <em>tuple</em> instead of a <em>string</em> which a <code>__str__</code> method is supposed to return.</p>\n\n<p>You can instead do:</p>\n\n<pre><code>def __str__(self):\n    return '%s %s %s'%(self.soi_l1, self.soi_l2, self.status)\n</code></pre>\n\n<p>Or use the <em>new-style</em> formatting:</p>\n\n<pre><code>def __str__(self):\n    return '{} {} {}'.format(self.soi_l1, self.soi_l2, self.status)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 19, "last_activity_date": 1475702966, "creation_date": 1475702966, "answer_id": 39884003, "question_id": 39883950, "link": "https://stackoverflow.com/questions/39883950/str-returned-non-string-type-tuple/39884003#39884003", "title": "__str__ returned non-string (type tuple)", "body": "<p>The error is in your model:</p>\n\n<pre><code>class SourceOfInjuryLevel2(models.Model):\n\n    ...\n\n    def __str__(self):\n        return self.soi_l1, self.soi_l2, self.status\n</code></pre>\n\n<p>I guess you were confused because the Python 2 print statement looks like it turns tuples into strings, but that's not actually how the print statement works - it's a confusing detail that was changed in Python 3.  </p>\n\n<p>Try this instead:</p>\n\n<pre><code>def __str__(self):\n    template = '{0.soi_l1} {0.soi_l2} {0.status}'\n    return template.format(self)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 6737496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZI4jbKB_ano/AAAAAAAAAAI/AAAAAAAAACA/0KiYmic__vo/photo.jpg?sz=128", "display_name": "penguio", "link": "https://stackoverflow.com/users/6737496/penguio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15348, "favorite_count": 3, "accepted_answer_id": 39884003, "answer_count": 2, "score": 9, "last_activity_date": 1475702966, "creation_date": 1475702764, "question_id": 39883950, "link": "https://stackoverflow.com/questions/39883950/str-returned-non-string-type-tuple", "title": "__str__ returned non-string (type tuple)", "body": "<p>I have a form that keeps throwing me an error in django, Ive tried searching online tried str() on my models but wouldnt work at all. Googled a couple of times tried a couple different methods but none worked still get the same django error page everytime i click the link to the form.</p>\n\n<pre><code>TypeError: __str__ returned non-string (type tuple)\n</code></pre>\n\n<p>my model</p>\n\n<pre><code># Injury Parameters -&gt; SOI Level 2 #\n####################################\nclass SourceOfInjuryLevel2(models.Model):\n    creator = models.ForeignKey('auth.User')\n    id = models.AutoField(primary_key=True)\n    soi_l1 = models.CharField(max_length=80)\n    soi_l2 = models.CharField(max_length=80)\n    status = models.CharField(max_length=8)\n    created_date = models.DateTimeField(default=timezone.now)\n    modified_date = models.DateTimeField(blank=True, null=True)\n    modified_by = models.CharField(max_length=60, blank=True, null=True)\n\n    def create(self):\n        self.save()\n\n    def __str__(self):\n        return self.soi_l1, self.soi_l2, self.status\n</code></pre>\n\n<p>my form</p>\n\n<pre><code># Soure of Injury Level 2 #\n###########################\nclass SourceOfInjuryLevel2Form(forms.ModelForm):\n    options = (('Enabled', 'Enabled',), ('Disabled', 'Disabled'))\n    soi_l1 = forms.ModelChoiceField(\n            queryset=SourceOfInjuryLevel1.objects.filter(status='Enabled'),\n            widget=forms.Select(attrs={'class': 'form-control'})\n            )\n    soi_l2 = forms.CharField(\n            widget=forms.TextInput(attrs={'class': 'form-control'})\n            )\n    status = forms.CharField(\n            widget=forms.Select(\n                attrs={'class': 'form-control'},\n                choices=options\n                )\n            )\n\n    class Meta:\n        model = SourceOfInjuryLevel2\n        fields = ('soi_l1', 'soi_l2', 'status')\n</code></pre>\n\n<p>My Views</p>\n\n<pre><code># New Source of Injury Level 2 #\n################################\ndef new_source_of_injury_level2(request):\n    form = SourceOfInjuryLevel2Form()\n    if request.method == \"POST\":\n        form = SourceOfInjuryLevel2Form(request.POST)\n        if form.is_valid():\n            source_of_injury_level2 = form.save(commit=False)\n            source_of_injury_level2.creator = request.user\n            source_of_injury_level2.created_date = timezone.now()\n            source_of_injury_level2.save()\n            messages.success(request, 'Object Has Been Created')\n            return redirect(injury_parameters)\n        else:\n            messages.error(request, 'Object Has Not Been Created')\n    else:\n        form = SourceOfInjuryLevel2Form()\n    return render(request,\n                  'process_injury_management/source_of_injury_level2.html',\n                  {'form': form,\n                   'title': 'New Source of Injury Level 2'})\n</code></pre>\n"}, {"tags": ["python", "ternary"], "comments": [{"owner": {"reputation": 1271, "user_id": 6742808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eZKjY.jpg?s=128&g=1", "display_name": "Kalpesh Dusane", "link": "https://stackoverflow.com/users/6742808/kalpesh-dusane"}, "edited": false, "score": 0, "creation_date": 1475702426, "post_id": 39883816, "comment_id": 67054663, "body": "You should use <code>print(&quot;Binary &quot; ,bin(i))</code> instead of <code>+</code> because for <code>+</code> to work both should be of string or same type."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1475703501, "post_id": 39883816, "comment_id": 67055137, "body": "Your algorithm for converting to ternary is not even close to correct. You need a loop that repeats the calculations for each digit, and appends them to the result."}], "answers": [{"tags": [], "owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "is_accepted": false, "score": 0, "last_activity_date": 1475703633, "creation_date": 1475703633, "answer_id": 39884159, "question_id": 39883816, "link": "https://stackoverflow.com/questions/39883816/ternary-conversion-in-python-not-working-well-why/39884159#39884159", "title": "Ternary Conversion in Python not working well. Why?", "body": "<p>There are a couple of mistakes in your code which others have pointed out in the comments, but I'll reiterate them</p>\n\n<ul>\n<li>You are using regular division when you want to use integer division (in Python 3).</li>\n<li>You are returning an integer from your function whereas <code>bin</code>, <code>oct</code>, and <code>hex</code> all return strings.</li>\n</ul>\n\n<p>In addition, your ternary function is incorrect, even with the errors fixed.  The best way to write a function for base conversion on your own is with recursion.  </p>\n\n<pre><code>def ternary(n):\n    if n == 0:\n        return ''\n    else:\n        e = n//3\n        q = n%3\n        return ternary(e) + str(q)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6928721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-THRLYXWYkiE/AAAAAAAAAAI/AAAAAAAAAeg/IKWphYUD0Po/photo.jpg?sz=128", "display_name": "harmony5", "link": "https://stackoverflow.com/users/6928721/harmony5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "closed_date": 1475703866, "answer_count": 1, "score": -1, "last_activity_date": 1475703633, "creation_date": 1475702224, "last_edit_date": 1475702866, "question_id": 39883816, "link": "https://stackoverflow.com/questions/39883816/ternary-conversion-in-python-not-working-well-why", "closed_reason": "Duplicate", "title": "Ternary Conversion in Python not working well. Why?", "body": "<p>I've tried to make a ternary calculator on Python, with some other functions like hex, bin, and oct with the built-in functions. There isn't one for ternary so I built one.</p>\n\n<pre><code>def ternary(n):\n    e = n/3\n    q = n%3\n    e = n/3\n    q = e%3\n    return q\n\ni = int(input(\"May you please give me a number: \"))\nprint(\"Binary \"+bin(i))\nprint(\"Octal \"+oct(i))\nprint(\"Hexadecimal \"+hex(i))\nprint(\"Ternary \"+ternary(i))\nenter code here\n</code></pre>\n\n<p>But it doesn't work. Why? Where is the problem?</p>\n"}, {"tags": ["python", "regex", "python-2.7", "regex-lookarounds"], "comments": [{"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1475702247, "post_id": 39883786, "comment_id": 67054577, "body": "Can&#39;t you replace <code>*</code> operators by <code>+</code> ?"}, {"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "reply_to_user": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1475702335, "post_id": 39883786, "comment_id": 67054615, "body": "@FedericoPiazza No because the digits may not exist even if has_digits is true - and if has_digits is true then the first group is optional <i>if</i> there are some digits"}, {"owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1475702378, "post_id": 39883786, "comment_id": 67054632, "body": "Can you show some valid/invalid sample matches?"}, {"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475702629, "post_id": 39883786, "comment_id": 67054750, "body": "@Tim The groups are different depending on has_digits"}, {"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475703131, "post_id": 39883786, "comment_id": 67054971, "body": "@revo: doesn&#39;t this mean that it will match <code>.exe</code> ? That is doesn&#39;t the <code>?</code> make the first match optional ?"}], "answers": [{"comments": [{"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475703544, "post_id": 39884080, "comment_id": 67055146, "body": "Thanks - what does the ? do in <code>(.*?)</code> ? Is it equivalent to <code>(.*)?</code> ? EDIT: followed your link - explains all :) Let me test this..."}, {"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475703788, "post_id": 39884080, "comment_id": 67055256, "body": "Still not quite sure the ? is needed - if I omit it it will eat up the digits ?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 1, "creation_date": 1475703960, "post_id": 39884080, "comment_id": 67055332, "body": "<code>(.*?)</code> differs from <code>(.*)?</code> in the sense that <code>.*?</code> is an un-greedy dot star quantifier (which can consume no character at all) but <code>(.*)?</code> is a greedy dot star quantifier that consumes characters as much as possible (the reason why digits are not captured by the second group). The latter is made optional by appending <code>?</code> to grouping construct."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 2, "last_activity_date": 1475703237, "creation_date": 1475703237, "answer_id": 39884080, "question_id": 39883786, "link": "https://stackoverflow.com/questions/39883786/match-two-groups-but-none-of-them-should-be-empty/39884080#39884080", "title": "Match two groups but none of them should be empty", "body": "<p>Regex:</p>\n\n<pre><code>^(.*?)(\\d+)?(?&lt;=.)\\.exe$\n</code></pre>\n\n<p>Positive lookbehind assures that there is at least one character before extension part.</p>\n\n<p><strong><a href=\"https://www.regex101.com/r/CNBQyG/1\" rel=\"nofollow\">Live demo</a></strong></p>\n\n<p>Integrated:</p>\n\n<pre><code>regex = '^(.*?)'\nif has_digits: regex += '(\\d+)?'\nregex += '(?&lt;=.)' + ext + '$'\nrePattern = re.compile(regex, re.I | re.U)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475704394, "post_id": 39884234, "comment_id": 67055501, "body": "Thanks - interesting variation - just @revo got there first :)"}, {"owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475704544, "post_id": 39884234, "comment_id": 67055545, "body": "Yes, that also works. This is a bit faster due to lookahead and no optional group."}, {"owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "edited": false, "score": 0, "creation_date": 1475704894, "post_id": 39884234, "comment_id": 67055651, "body": "Haha thanks (it would be unfair to unaccept but I will probably use yours then :) Your using <code>r&#39;&#39;</code> just made me realize that: <i>Unlike Standard C, all unrecognized escape sequences are left in the string unchanged, i.e., the backslash is left in the string</i> -&gt; <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#string-literals\" rel=\"nofollow noreferrer\">docs.python.org/2/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1475704003, "creation_date": 1475704003, "answer_id": 39884234, "question_id": 39883786, "link": "https://stackoverflow.com/questions/39883786/match-two-groups-but-none-of-them-should-be-empty/39884234#39884234", "title": "Match two groups but none of them should be empty", "body": "<p>You can use this lookahead based regex:</p>\n\n<pre><code>ext = r'\\.exe'\n\nregex = r'^(?=.+\\.)(.*?)'\nif has_digits: regex += r'(\\d*)'\nregex += ext + '$'\nrePattern = re.compile(regex, re.I | re.U)\n# ^(?=.+\\.)(.*?)(\\d*)\\.exe$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/DXv0ep/1\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p>Lookahead <code>(?=.+\\.)</code> ensures presence of at least one character before DOT.</p>\n"}], "owner": {"reputation": 26765, "user_id": 281545, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e9afcf11d81904cdb5677c13d249b6c5?s=128&d=identicon&r=PG", "display_name": "Mr_and_Mrs_D", "link": "https://stackoverflow.com/users/281545/mr-and-mrs-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 39884080, "answer_count": 2, "score": 0, "last_activity_date": 1475704003, "creation_date": 1475702098, "last_edit_date": 1495535645, "question_id": 39883786, "link": "https://stackoverflow.com/questions/39883786/match-two-groups-but-none-of-them-should-be-empty", "title": "Match two groups but none of them should be empty", "body": "<p>I want my regex to be able to match strings of random chars optionally followed by some digits - but if both matches are empty I want the match to fail. I am currently constructing the regex as in:</p>\n\n<pre><code>regex = u'^(.*)'\nif has_digits: regex += u'(\\d*)'\nregex += ext + u'$' # extension group as in u'(\\.exe)'\nrePattern = re.compile(regex, re.I | re.U)\n</code></pre>\n\n<p>but this also matches empty filenames (with extension only). Can't wrap my head around similar questions like:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/13351990/281545\">In a regular expression, match one thing or another, or both</a></li>\n<li><a href=\"https://stackoverflow.com/q/6664015/281545\">Matching a group that may or may not exist</a></li>\n</ul>\n\n<p>The extra complication is that the second group (the digits) may not be added</p>\n\n<p>So valid:</p>\n\n<pre><code>abc%.exe\n123.exe\n</code></pre>\n\n<p>If has_digits is true:</p>\n\n<pre><code>abc 123.exe # I want the second group to contain the 123 not the first one\n</code></pre>\n\n<p>Invalid : <code>.exe</code></p>\n"}, {"tags": ["python", "django", "python-2.7", "django-models", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 1, "last_activity_date": 1475702479, "creation_date": 1475702479, "answer_id": 39883887, "question_id": 39883737, "link": "https://stackoverflow.com/questions/39883737/displaying-a-foreignkeys-value/39883887#39883887", "title": "Displaying a foreignkey&#39;s value", "body": "<p>You need to define the <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/instances/#str\" rel=\"nofollow\"><code>__str__</code></a> method:</p>\n\n<pre><code>class Show(models.Model):\n    name = models.CharField(max_length=255, null=True, blank=True)\n\n    def __str__(self):\n        return \"%s\" % self.name\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6814667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0edfedf233f0150022e0aeb65c88a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kil", "link": "https://stackoverflow.com/users/6814667/kil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "closed_date": 1475702738, "answer_count": 1, "score": 0, "last_activity_date": 1475702479, "creation_date": 1475701893, "question_id": 39883737, "link": "https://stackoverflow.com/questions/39883737/displaying-a-foreignkeys-value", "closed_reason": "Duplicate", "title": "Displaying a foreignkey&#39;s value", "body": "<p>So I have a model like this:</p>\n\n<pre><code>class Season(models.Model):\n    number = models.IntegerField()\n    show = models.ForeignKey(\"Show\")\n\nclass Show(models.Model):\n    name = models.CharField(max_length=255, null=True, blank=True)\n</code></pre>\n\n<p>Inside my SeasonAdmin I can see that the show field has a dropdown box for the list of Shows, but the problem is that when I click on the dropdown box I just see a list of <code>Show object</code>. How would I make it show the object name instead of just <code>Show object</code>?</p>\n"}, {"tags": ["python", "parsing", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 0, "last_activity_date": 1475703800, "last_edit_date": 1475703800, "creation_date": 1475703020, "answer_id": 39884013, "question_id": 39883726, "link": "https://stackoverflow.com/questions/39883726/web-scraping-with-beautifulsoup/39884013#39884013", "title": "web scraping with beautifulsoup", "body": "<p>It can change on other page - (I didn't check it with other pages)</p>\n\n<pre><code>for d in soup.select(\"script[type=text/javascript]\")[27].text.split('\\n')[51:62]:\n    print(d.strip())\n</code></pre>\n\n<p>result   </p>\n\n<pre><code>'page':'ProductPage',\n'OAM':'False',\n'storeNum':'029',\n'brand':'Microsoft',\n'productPrice':'129.99',\n'SKU':'883785',\n'productID':'456088',\n'mpn':'QC7-00001',\n'ean':'889842010060',\n'category':'Tablet Accessories',\n'isMobile':'False'\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> other version:</p>\n\n<pre><code>text = soup.select(\"head script[type=text/javascript]\")[-1].text\n\nstart = text.find('dataLayer = [{') + len('dataLayer = [{') \nend = text.rfind('}];')\n\nrows = text[start:end].strip().split('\\n')\n\nfor d in rows:\n    print(d.strip())\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6806711, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/12dfb9d02274937b13dc74e1f436b315?s=128&d=identicon&r=PG&f=1", "display_name": "Burak", "link": "https://stackoverflow.com/users/6806711/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 39884013, "answer_count": 1, "score": 0, "last_activity_date": 1475802342, "creation_date": 1475701845, "last_edit_date": 1475802342, "question_id": 39883726, "link": "https://stackoverflow.com/questions/39883726/web-scraping-with-beautifulsoup", "title": "web scraping with beautifulsoup", "body": "<p>I'm trying to parsing the website only particular part. Here is my code below. Is there anyway to do it more efficient.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport urllib.request\nimport json\n\nsoup = BeautifulSoup(requests.get(\"http://www.example.com\").content, \"html.parser\")\n\nfor d in soup.select(\"script[type=text/javascript]\"):\n    print(d.text[2300:2600])\n</code></pre>\n\n<p>Here is the output what i need</p>\n\n<pre><code>&gt; dataLayer = [{\n&gt;      'page':'ProductPage',\n&gt;       'OAM':'False',\n&gt;       'storeNum':'075',\n&gt;       'brand':'Seagate',\n&gt;       'productPrice':'69.99',\n&gt;      'SKU':'106674',\n&gt;      'productID':'467336',\n&gt;      'mpn':'ST2000DM006',\n&gt;      'ean':'763649110218',\n&gt;       'category':'Internal Hard Drives',\n&gt;      'isMobile':'False' }];\n</code></pre>\n"}, {"tags": ["python", "io", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 6375313, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e5b7e013b000fc705519fb68ea9a52c5?s=128&d=identicon&r=PG&f=1", "display_name": "zimmermc", "link": "https://stackoverflow.com/users/6375313/zimmermc"}, "is_accepted": true, "score": 1, "last_activity_date": 1475737962, "creation_date": 1475737962, "answer_id": 39889727, "question_id": 39883715, "link": "https://stackoverflow.com/questions/39883715/how-to-efficiently-write-a-binary-file-containing-mixed-label-and-image-data/39889727#39889727", "title": "How to efficiently write a binary file containing mixed label and image data", "body": "<p>When I write binary files I usually just use the python module <em>struct</em>, which works somehow like this:</p>\n\n<pre><code>import struct\nimport numpy as np\n\nimage = np.zeros([2, 300, 300], dtype=np.uint8)\nlabel = np.zeros([2, 1], dtype=np.uint16)\n\nwith open('data.bin', 'w') as fo:\n    s = image.shape\n    for k in range(s[0]):\n        # write label as uint16\n        fo.write(struct.pack('H', label[k, 0]))\n\n        # write image as uint8\n        for i in range(s[1]):\n            for j in range(s[2]):\n                fo.write(struct.pack('B', image[k, i, j]))\n</code></pre>\n\n<p>This should result in a 300*300*2 + 2*1*2 = 180004 bytes big binary file.\nIts probably not the fastest way to get the job done, but for me it worked sufficiently fast so far. For other datatypes see the <a href=\"https://docs.python.org/2/library/struct.html\" rel=\"nofollow\">documentation</a></p>\n"}], "owner": {"reputation": 654, "user_id": 3930957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/16e2fe7d82c4a48b199b2880a78df368?s=128&d=identicon&r=PG&f=1", "display_name": "Hasnat", "link": "https://stackoverflow.com/users/3930957/hasnat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 39889727, "answer_count": 1, "score": 0, "last_activity_date": 1475737962, "creation_date": 1475701782, "last_edit_date": 1495535654, "question_id": 39883715, "link": "https://stackoverflow.com/questions/39883715/how-to-efficiently-write-a-binary-file-containing-mixed-label-and-image-data", "title": "How to efficiently write a binary file containing mixed label and image data", "body": "<p>The <a href=\"https://github.com/tensorflow/tensorflow/tree/411f57e291839094108afdaa9c43094f44979eaa/tensorflow/models/image/cifar10\" rel=\"nofollow noreferrer\">cifar10 tutorial</a> deals with binary files as input. Each record/example on these CIFAR10 datafiles contain mixed label (first element) and image data information. The first answer in <a href=\"https://stackoverflow.com/questions/34631852/attach-a-queue-to-a-numpy-array-in-tensorflow-for-data-fetch-instead-of-files\">this page</a> shows how to write binary file from a numpy array (which accumulates the label and image data information in each row) using <strong>ndarray.tofile()</strong> as follows: </p>\n\n<pre><code>import numpy as np\nimages_and_labels_array = np.array([[...], ...], dtype=np.uint8)\nimages_and_labels_array.tofile(\"/tmp/images.bin\")\n</code></pre>\n\n<p>This is perfect for me when the maximum number of classes is 256 as the uint8 datatype is sufficient. However, when the maximum number of classes is more than 256, then I have to change the dtype=np.uint16 in the images_and_labels_array. The consequence is just doubling the size. I would like to know if there is an efficient way to overcome it. If yes, please provide an example.</p>\n"}, {"tags": ["python", "macos", "google-chrome", "selenium"], "comments": [{"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1475702918, "post_id": 39883704, "comment_id": 67054868, "body": "Please post the code you are using and what errors, etc. you are encountering."}, {"owner": {"reputation": 47, "user_id": 6924158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a0311608d35b46f53f94e6660230d5?s=128&d=identicon&r=PG&f=1", "display_name": "ogul", "link": "https://stackoverflow.com/users/6924158/ogul"}, "reply_to_user": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1475703171, "post_id": 39883704, "comment_id": 67054985, "body": "I try to reach it by XPath but it didn&#39;t work driver.find_element_by_xpath(&quot;//td[contains(text(),&#39;EB Trial2&#39;)]/preceding-sibling::td[1]&quot;).click() like this. I can&#39;t figured it out how to do it."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6924158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a0311608d35b46f53f94e6660230d5?s=128&d=identicon&r=PG&f=1", "display_name": "ogul", "link": "https://stackoverflow.com/users/6924158/ogul"}, "edited": false, "score": 1, "creation_date": 1475783278, "post_id": 39886202, "comment_id": 67094327, "body": "Btw I try to wait until the button is clickable with this code element = WebDriverWait(driver, 60).until(         EC.element_to_be_clickable((By.XPATH,&quot;&quot;)) but it gives me unknown error: Element is not clickable at point lots of times"}], "tags": [], "owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "is_accepted": true, "score": 0, "last_activity_date": 1475728728, "last_edit_date": 1475728728, "creation_date": 1475718062, "answer_id": 39886202, "question_id": 39883704, "link": "https://stackoverflow.com/questions/39883704/selenium-python-cant-click-button-by-checking-the-table-items-name/39886202#39886202", "title": "Selenium, Python, Can&#39;t Click Button by Checking the Table Items Name", "body": "<blockquote>\n  <p>I want to locate EB Trial 2 then click the import button which is related to that</p>\n</blockquote>\n\n<p>You should try using <code>xpath</code> as :</p>\n\n<pre><code>driver.find_element_by_xpath(\".//td[descendant::a[text()='EB Trial2']]/following-sibling::td//a[normalize-space(.)='Import']\").click()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6924158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a0311608d35b46f53f94e6660230d5?s=128&d=identicon&r=PG&f=1", "display_name": "ogul", "link": "https://stackoverflow.com/users/6924158/ogul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 39886202, "answer_count": 1, "score": 1, "last_activity_date": 1475728728, "creation_date": 1475701727, "last_edit_date": 1475718204, "question_id": 39883704, "link": "https://stackoverflow.com/questions/39883704/selenium-python-cant-click-button-by-checking-the-table-items-name", "title": "Selenium, Python, Can&#39;t Click Button by Checking the Table Items Name", "body": "<p>I am trying to improve my <code>Selenium</code> skills and for this task, I try to click a button the way that chooses it by table elements name.</p>\n\n<p>For example, in this case, I want to locate <code>EB Trial 2</code> then click the <code>import</code> button which is related to that.</p>\n\n<pre><code>&lt;tr ng-repeat=\"event in bcEvents\" class=\"ng-scope\"&gt;\n            &lt;td&gt;\n                &lt;div class=\"dib fxac\"&gt;\n                    &lt;i class=\"icon-event fs32 text-light-blue mr15\"&gt;&lt;/i&gt;\n                    &lt;div class=\"event-inner\"&gt;\n                        &lt;a href=\"\" class=\"link link-underline db ng-binding\"&gt;EB Trial2&lt;/a&gt;\n                        &lt;span class=\"db fs-small text-light-blue ng-binding\"&gt;11/15/2016&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td ng-switch=\"bc_source\"&gt;\n                &lt;!-- ngSwitchWhen: 2 --&gt;&lt;div ng-switch-when=\"2\" class=\"ng-scope\"&gt;\n                    &lt;a href=\"\" ng-click=\"import_bc_event(event)\" class=\"btn btn-icon btn-orange\"&gt;\n                        &lt;i class=\"icon icon-eventbrite-icon\"&gt;&lt;/i&gt; Import\n                    &lt;/a&gt;\n                &lt;/div&gt;\n                &lt;!-- ngSwitchWhen: 8 --&gt;\n                &lt;!-- ngSwitchWhen: A --&gt;\n                &lt;!-- ngSwitchWhen: 9 --&gt;\n                &lt;!-- ngSwitchWhen: B --&gt;\n            &lt;/td&gt;\n\n            &lt;!-- ngIf: bc_source != 2 --&gt;\n        &lt;/tr&gt;\n</code></pre>\n\n<p>I try to reach it by <code>XPath</code> but it didn't work </p>\n\n<pre><code>driver.find_element_by_xpath(\"//td[contains(text(),'EB Trial2')]/preceding-sibling::td[1]\").click() \n</code></pre>\n\n<p>I can't figured it out how to do it</p>\n\n<p>Can anybody help me about this ?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "merge", "concat"], "answers": [{"comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 43, "user_id": 6928678, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209475179893005/picture?type=large", "display_name": "Kenny Liao", "link": "https://stackoverflow.com/users/6928678/kenny-liao"}, "edited": false, "score": 0, "creation_date": 1475770735, "post_id": 39883694, "comment_id": 67087515, "body": "If my answer was helpful dont forget  <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept</a> it. Thanks."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1475701669, "creation_date": 1475701669, "answer_id": 39883694, "question_id": 39883656, "link": "https://stackoverflow.com/questions/39883656/combining-dataframes-in-pandas-with-the-same-rows-and-columns-but-different-cel/39883694#39883694", "title": "Combining dataframes in pandas with the same rows and columns, but different cell values", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.combine_first.html\" rel=\"nofollow\"><code>combine_first</code></a>:</p>\n\n<pre><code>print (df1.combine_first(df2))\n       A      B      C      D\n0   22.0   23.0   24.0   25.0\n1    2.0    4.0    6.0    8.0\n2   56.0   58.0   59.0   60.0\n3  100.0  101.0  102.0  103.0\n</code></pre>\n\n<p>Or <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html\" rel=\"nofollow\"><code>fillna</code></a>:</p>\n\n<pre><code>print (df1.fillna(df2))\n       A      B      C      D\n0   22.0   23.0   24.0   25.0\n1    2.0    4.0    6.0    8.0\n2   56.0   58.0   59.0   60.0\n3  100.0  101.0  102.0  103.0\n</code></pre>\n\n<p>Or <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.update.html\" rel=\"nofollow\"><code>update</code></a>:</p>\n\n<pre><code>df1.update(df2)\nprint (df1)\n       A      B      C      D\n0   22.0   23.0   24.0   25.0\n1    2.0    4.0    6.0    8.0\n2   56.0   58.0   59.0   60.0\n3  100.0  101.0  102.0  103.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "is_accepted": false, "score": 1, "last_activity_date": 1475701677, "creation_date": 1475701677, "answer_id": 39883697, "question_id": 39883656, "link": "https://stackoverflow.com/questions/39883656/combining-dataframes-in-pandas-with-the-same-rows-and-columns-but-different-cel/39883697#39883697", "title": "Combining dataframes in pandas with the same rows and columns, but different cell values", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.combine_first.html\" rel=\"nofollow\">combine_first</a></p>\n\n<pre><code>df1.combine_first(df2)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6928678, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209475179893005/picture?type=large", "display_name": "Kenny Liao", "link": "https://stackoverflow.com/users/6928678/kenny-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 39883694, "answer_count": 2, "score": 3, "last_activity_date": 1475701677, "creation_date": 1475701493, "question_id": 39883656, "link": "https://stackoverflow.com/questions/39883656/combining-dataframes-in-pandas-with-the-same-rows-and-columns-but-different-cel", "title": "Combining dataframes in pandas with the same rows and columns, but different cell values", "body": "<p>I'm interested in combining two dataframes in pandas that have the same row indices and column names, but different cell values. See the example below:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf1 = pd.DataFrame({'A':[22,2,np.NaN,np.NaN],\n                    'B':[23,4,np.NaN,np.NaN],\n                    'C':[24,6,np.NaN,np.NaN],\n                    'D':[25,8,np.NaN,np.NaN]})\n\ndf2 = pd.DataFrame({'A':[np.NaN,np.NaN,56,100],\n                    'B':[np.NaN,np.NaN,58,101],\n                    'C':[np.NaN,np.NaN,59,102],\n                    'D':[np.NaN,np.NaN,60,103]})\n\nIn[6]: print(df1)\n      A     B     C     D\n0  22.0  23.0  24.0  25.0\n1   2.0   4.0   6.0   8.0\n2   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n\nIn[7]: print(df2)\n       A      B      C      D\n0    NaN    NaN    NaN    NaN\n1    NaN    NaN    NaN    NaN\n2   56.0   58.0   59.0   60.0\n3  100.0  101.0  102.0  103.0\n</code></pre>\n\n<p>I would like the resulting frame to look like this:</p>\n\n<pre><code>       A      B      C      D\n0   22.0   23.0   24.0   25.0\n1    2.0    4.0    6.0    8.0\n2   56.0   58.0   59.0   60.0\n3  100.0  101.0  102.0  103.0\n</code></pre>\n\n<p>I have tried different ways of pd.concat and pd.merge but some of the data always gets replaced with NaNs. Any pointers in the right direction would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "python", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 3245, "user_id": 1141818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/49d11c19126e225ff02a84d646df25e8?s=128&d=identicon&r=PG", "display_name": "GuillaumeA", "link": "https://stackoverflow.com/users/1141818/guillaumea"}, "edited": false, "score": 0, "creation_date": 1475709847, "post_id": 39884251, "comment_id": 67057063, "body": "Great, thanks @bigreddot. I&#39;ll wait as it is not crucial for me. By the way, is there a way to debug a callback script ?"}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 3245, "user_id": 1141818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/49d11c19126e225ff02a84d646df25e8?s=128&d=identicon&r=PG", "display_name": "GuillaumeA", "link": "https://stackoverflow.com/users/1141818/guillaumea"}, "edited": false, "score": 0, "creation_date": 1475761745, "post_id": 39884251, "comment_id": 67081149, "body": "In a <code>CustomJS</code> callback, you can just add a line that says <code>debugger</code> and then the if you run with un-minified BokehJS (easiest way, set env var <code>BOKEH_MINIFIED=no</code> then your browser will stop at that line in the JS debugger console."}], "tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": true, "score": 1, "last_activity_date": 1475704098, "creation_date": 1475704098, "answer_id": 39884251, "question_id": 39883625, "link": "https://stackoverflow.com/questions/39883625/hovertool-callback-source-selection-for-multi-plot-graph/39884251#39884251", "title": "Hovertool callback source selection for multi-plot graph", "body": "<p>I'm afraid this is a <a href=\"https://github.com/bokeh/bokeh/issues/2136\" rel=\"nofollow\">known bug</a>. There is a <a href=\"https://github.com/bokeh/bokeh/pull/5158\" rel=\"nofollow\">\"WIP\" PR to fix it</a> but it will not go in this weeks <code>0.12.3</code> release. It should be in <code>0.12.4</code>, though. </p>\n"}], "owner": {"reputation": 3245, "user_id": 1141818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/49d11c19126e225ff02a84d646df25e8?s=128&d=identicon&r=PG", "display_name": "GuillaumeA", "link": "https://stackoverflow.com/users/1141818/guillaumea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 39884251, "answer_count": 1, "score": 0, "last_activity_date": 1475704098, "creation_date": 1475701378, "question_id": 39883625, "link": "https://stackoverflow.com/questions/39883625/hovertool-callback-source-selection-for-multi-plot-graph", "title": "Hovertool callback source selection for multi-plot graph", "body": "<p>I currently use bokeh version 0.12.2. I am plotting a graph with two series of circles.</p>\n\n<pre><code>graph1 = figure(plot_width=800, plot_height=800)\ngraph1.circle('fpr1', 'tpr1', color='red', source=source)\ngraph1.circle('fpr2', 'tpr2', color='blue', source=source)\n</code></pre>\n\n<p>Now, I would like to add a HoverTool which is done with :</p>\n\n<pre><code>code = \"source.set('selected', cb_data['index']);\"\ncallback = CustomJS(args={'source': source}, code=code)\nhover1 = HoverTool(\n        tooltips=[\n            ....\n        ],\n        callback=callback,\n    )\ngraph1.add_tools(hover1)\n</code></pre>\n\n<p>The behavior of this code is that when I put mouse cursor hover a red circle, the callback is called and the tooltip is displayed. However, when I hover a blue circle, the tooltip is displayed but the callback is not called. How to fix that ?</p>\n"}, {"tags": ["python", "python-3.x", "loops", "for-loop", "output"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1475701458, "post_id": 39883607, "comment_id": 67054270, "body": "not mutate a list as you iterate over it!!!!"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1475701463, "post_id": 39883607, "comment_id": 67054273, "body": "I think you may be looking for <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate()</code></a>. Also, <b>never mutate a list while iterating over it</b>. It results in bad, bad things...."}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1475701669, "post_id": 39883607, "comment_id": 67054355, "body": "You are removing elements from the list as you are iterating through it. I&#39;m not 100% sure, but I believe it keeps the index intact during a remove, which means if the index points to element number 4, and you delete number 4, all the elements to the right shift one to the left, then the index increments, thereby skipping one element. A better way would be to keep a list of items to remove, then remove them after this loop."}, {"owner": {"reputation": 82, "user_id": 6928691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad7f2f026883de9821c000f67d7b7971?s=128&d=identicon&r=PG&f=1", "display_name": "Ledorub", "link": "https://stackoverflow.com/users/6928691/ledorub"}, "edited": false, "score": 0, "creation_date": 1475702453, "post_id": 39883607, "comment_id": 67054675, "body": "Thank you all! I forgot that result is just a mirror (not copy) of the lst."}], "answers": [{"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1475701561, "post_id": 39883652, "comment_id": 67054314, "body": "Wouldn&#39;t it be a good idea to note how he <b><i>can</i></b> make a copy of the list(<code>result = lst[:]</code>)?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1475701563, "post_id": 39883652, "comment_id": 67054316, "body": "this should really be a comment not an answer  ..."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": true, "score": 0, "last_activity_date": 1475701727, "last_edit_date": 1475701727, "creation_date": 1475701478, "answer_id": 39883652, "question_id": 39883607, "link": "https://stackoverflow.com/questions/39883607/python-for-loop-wrong-output/39883652#39883652", "title": "Python: for-loop wrong output", "body": "<p>You're removing items from a list <em>as you're iterating over it</em>, which you shouldn't do.</p>\n\n<p>(<code>result = lst</code> does NOT make a copy of <code>lst</code>; it creates a new <em>name</em> which refers to the same object.)</p>\n\n<p>If you just want to remove duplicate elements, you can use a <code>set</code> (although you may lose your ordering):</p>\n\n<pre><code>lst = list(set(lst))\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 6928691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad7f2f026883de9821c000f67d7b7971?s=128&d=identicon&r=PG&f=1", "display_name": "Ledorub", "link": "https://stackoverflow.com/users/6928691/ledorub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "closed_date": 1475701501, "accepted_answer_id": 39883652, "answer_count": 1, "score": -1, "last_activity_date": 1475701727, "creation_date": 1475701319, "question_id": 39883607, "link": "https://stackoverflow.com/questions/39883607/python-for-loop-wrong-output", "closed_reason": "Duplicate", "title": "Python: for-loop wrong output", "body": "<p>Can't understand why it missing some indexes in loop?\nIndex number 3 for example.\nI just want to delete the unique elements this way. I know another one but I don't know what's wrong with this one (or me).</p>\n\n<pre><code>lst = [2, 7, 1, 9, 3, 5, 2, 1]\n\ndef check(lst):\n    result = lst\n    print(lst) #checking\n    for num in lst:\n        print(\"index:\", num) #checking\n        print(\"num:\", num) #checking\n        if lst.count(num) &lt; 2:\n            print(\"count:\", lst.count(num)) #checking\n            result.remove(num)\n    return(result)\n\nprint(check(lst))\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[2, 7, 1, 9, 3, 5, 2, 1]\nindex: 2\nnum: 2\nindex: 7\nnum: 7\ncount: 1\nindex: 9\nnum: 9\ncount: 1\nindex: 5\nnum: 5\ncount: 1\nindex: 1\nnum: 1\n[2, 1, 3, 2, 1]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "timeout", "subprocess"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475711343, "post_id": 39883543, "comment_id": 67057436, "body": "That looks like a bug in subprocess32. BTW, what are you trying to accomplish with the timeout? Are you aware of the fact that it does not kill the process after the timeout? You could achieve the same by calling <code>process.poll()</code> until timeout expires. Without subprocess32."}, {"owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475712344, "post_id": 39883543, "comment_id": 67057680, "body": "@zvone Thanks for your comment. I have since read <a href=\"http://stackoverflow.com/questions/36952245/subprocess-timeout-failure\" title=\"subprocess timeout failure\">stackoverflow.com/questions/36952245/subprocess-timeout-fail&zwnj;&#8203;ure</a>, so I am semi-aware of that now, but have not found a good workaround yet. All I want to do is call a program, store the output, and have it timeout after <code>t</code> seconds."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475712645, "post_id": 39883543, "comment_id": 67057747, "body": "The thing with that is, it is usually not done. It is sort-of like turning you computer off by unplugging it. If you really want to, you can <code>time.sleep(timeout)</code>, followed by <code>if process.poll() is None: process.kill()</code> (instead of <code>communicate()</code>). Or <code>communicate()</code> in a thread and kill from the outside... In any case, you risk killing the process in the middle of something sensitive."}, {"owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1476328887, "post_id": 39883543, "comment_id": 67301327, "body": "For future readers of this question, I found out that subprocess32 doesn&#39;t really work in windows and ended up switching to python 3."}], "owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475705056, "creation_date": 1475701122, "last_edit_date": 1495535268, "question_id": 39883543, "link": "https://stackoverflow.com/questions/39883543/typeerror-when-attempting-to-timeout-process", "title": "TypeError when attempting to timeout process", "body": "<p>I'm trying to use <code>subprocess32</code> to timeout a program like so</p>\n\n<pre><code>process = subprocess32.Popen(program, stdin =subprocess32.PIPE,\n                                      stdout=subprocess32.PIPE,\n                                      stderr=subprocess32.PIPE)\nout, err = process.communicate(input_file, timeout=10)\n</code></pre>\n\n<p>This raises a <code>TypeError</code></p>\n\n<pre><code>TypeError: __init__() takes at least 3 arguments (2 given)\n</code></pre>\n\n<p>Without the timeout argument, everything works fine. But I installed subprocess32 specifically for that purpose following this post, <a href=\"https://stackoverflow.com/questions/1191374/using-module-subprocess-with-timeout\">Using module &#39;subprocess&#39; with timeout</a>.</p>\n\n<hr>\n\n<p>Traceback:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n     92                                            stdout=subprocess32.PIPE,\n     93                                            stderr=subprocess32.PIPE)\n---&gt; 94         out, err = process.communicate(input_file, timeout=10)\n     95\n     96         if \"Focus conditions specified by user have been achieved\" in out:\n\nC:\\Anaconda\\lib\\site-packages\\subprocess32.pyc in communicate(self, input, timeout)\n    925\n    926         try:\n--&gt; 927             stdout, stderr = self._communicate(input, endtime, timeout)\n    928         finally:\n    929             self._communication_started = True\n\nC:\\Anaconda\\lib\\site-packages\\subprocess32.pyc in _communicate(self, input, endtime, orig_timeout)\n   1188                 self.stdout_thread.join(self._remaining_time(endtime))\n   1189                 if self.stdout_thread.isAlive():\n-&gt; 1190                     raise TimeoutExpired(self.args)\n   1191             if self.stderr is not None:\n   1192                 self.stderr_thread.join(self._remaining_time(endtime))\n\nTypeError: __init__() takes at least 3 arguments (2 given)\n</code></pre>\n\n<hr>\n\n<p>My first thought was that I need to specify an <code>endtime</code> to <code>communicate</code>, since it says it needs at least 3 arguments, but after <a href=\"http://docs.python.org/3/library/subprocess.html#popen-objects\" rel=\"nofollow noreferrer\">reading the docs</a> I saw that</p>\n\n<blockquote>\n  <p>Deprecated since version 3.4: Do not use the endtime parameter. It is\n  was unintentionally exposed in 3.3 but was left undocumented as it was\n  intended to be private for internal use. Use timeout instead.</p>\n</blockquote>\n\n<p>So now I don't know what the problem is.</p>\n\n<p>Using <code>Python 2.7.11</code> and <code>subprocess32 3.2.7</code></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6085, "user_id": 3940749, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2720eedf618e62e66422950fed961041?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Redway", "link": "https://stackoverflow.com/users/3940749/sam-redway"}, "edited": false, "score": 1, "creation_date": 1475701156, "post_id": 39883517, "comment_id": 67054135, "body": "str(97723)[3] % 2 == 0 # will probably do it?"}, {"owner": {"reputation": 211, "user_id": 6780929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce1842797fb08c54fc638f008482bb1c?s=128&d=identicon&r=PG&f=1", "display_name": "Pitipaty", "link": "https://stackoverflow.com/users/6780929/pitipaty"}, "edited": false, "score": 0, "creation_date": 1475701230, "post_id": 39883517, "comment_id": 67054158, "body": "honestly i didn&#39;t find anything to try yet, I didn&#39;t find any function that reads an integer digit to digit"}, {"owner": {"reputation": 211, "user_id": 6780929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce1842797fb08c54fc638f008482bb1c?s=128&d=identicon&r=PG&f=1", "display_name": "Pitipaty", "link": "https://stackoverflow.com/users/6780929/pitipaty"}, "edited": false, "score": 0, "creation_date": 1475701278, "post_id": 39883517, "comment_id": 67054173, "body": "Sam Redway, str(97723)[3] it&#39;s what I was looking for, Thanks :)"}, {"owner": {"reputation": 1895, "user_id": 2692780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec511090ba5b409e19590637d234e395?s=128&d=identicon&r=PG&f=1", "display_name": "honza_p", "link": "https://stackoverflow.com/users/2692780/honza-p"}, "edited": false, "score": 0, "creation_date": 1475701973, "post_id": 39883517, "comment_id": 67054481, "body": "str(97723)[3] is a string, so str(97723)[3] % 2 will raise an exception."}, {"owner": {"reputation": 211, "user_id": 6780929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce1842797fb08c54fc638f008482bb1c?s=128&d=identicon&r=PG&f=1", "display_name": "Pitipaty", "link": "https://stackoverflow.com/users/6780929/pitipaty"}, "edited": false, "score": 0, "creation_date": 1475702174, "post_id": 39883517, "comment_id": 67054557, "body": "true, i can always convert the string to a digit again after selecting it tho"}], "answers": [{"comments": [{"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1475701451, "post_id": 39883577, "comment_id": 67054268, "body": "This won&#39;t generalize. I think the OP is looking for a method to pick an arbitrary digit out of a number."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1475708657, "post_id": 39883577, "comment_id": 67056777, "body": "My objective was to offer a simple answer to a simple question. What sort of generalisation would you like?"}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": true, "score": 3, "last_activity_date": 1475711917, "last_edit_date": 1475711917, "creation_date": 1475701221, "answer_id": 39883577, "question_id": 39883517, "link": "https://stackoverflow.com/questions/39883517/how-to-pick-one-number-of-an-integer/39883577#39883577", "title": "How to pick one number of an Integer", "body": "<p>2 is the 4th digit.</p>\n\n<p>You can get the digits of a number using this construct.</p>\n\n<pre><code>digits = [int(_) for _ in str(97723)]\n</code></pre>\n\n<p>This expression will be <code>true</code> if the 4th digit is even.</p>\n\n<pre><code>digits[3] % 2 == 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 6928691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad7f2f026883de9821c000f67d7b7971?s=128&d=identicon&r=PG&f=1", "display_name": "Ledorub", "link": "https://stackoverflow.com/users/6928691/ledorub"}, "is_accepted": false, "score": 0, "last_activity_date": 1475701959, "creation_date": 1475701959, "answer_id": 39883751, "question_id": 39883517, "link": "https://stackoverflow.com/questions/39883517/how-to-pick-one-number-of-an-integer/39883751#39883751", "title": "How to pick one number of an Integer", "body": "<pre><code>even = lambda integer: int(\"\".join([num for num in str(integer) if int(num) % 2 == 0]))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>def even(integer):\n    result = \"\"\n    integer = str(integer)\n    for num in integer:\n        if int(num) % 2 == 0:\n            result += num\n    result = int(result)\n    return(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1012, "user_id": 3208691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31196822ac3a23e6243ac9bc928c0f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Tuc3k", "link": "https://stackoverflow.com/users/3208691/tuc3k"}, "is_accepted": false, "score": 0, "last_activity_date": 1475702260, "creation_date": 1475702260, "answer_id": 39883830, "question_id": 39883517, "link": "https://stackoverflow.com/questions/39883517/how-to-pick-one-number-of-an-integer/39883830#39883830", "title": "How to pick one number of an Integer", "body": "<p>If you want to \"parse\" a number the easiest way to do this is to convert it to string. You can convert an int to string like this <code>s = string(500)</code>. Then use string index to get character that you want. For example if you want first character (number) then use this <code>string_name[0]</code>, for second character (number) use <code>string_name[1]</code> . To get length of your string (number) use <code>len(string)</code>. And to check if number is odd or even mod it with 2.</p>\n\n<pre><code># Converting int to string\nint_to_sting = str(97723)\n\n# Getting number of characters in your string (in this case number)\nn_of_numbers = len(int_to_sting)\n\n# Example usage of string index\nprint(\"First number in your number is: \",int_to_sting[0])\nprint(\"Second number in your number is: \",int_to_sting[1])\n\n# We need to check for every number, and since the first number is int_to_sting[0] and len(int_to_sting) returns actual length of string we need to reduce it by 1\nfor i in range(n_of_numbers-1):\n        if int_to_sting[i]%2==0:\n              print(int_to_sting[i],\" is even\")\n        else:\n              print(int_to_sting[i],\" is odd\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4719, "user_id": 2958070, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FtkjC.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2958070/ben"}, "is_accepted": false, "score": 1, "last_activity_date": 1475702380, "creation_date": 1475702380, "answer_id": 39883860, "question_id": 39883517, "link": "https://stackoverflow.com/questions/39883517/how-to-pick-one-number-of-an-integer/39883860#39883860", "title": "How to pick one number of an Integer", "body": "<pre><code># choose a digit (by index)\n\ninteger = 97723\n\ndigit_3 = str(integer)[3]\n\nprint(digit_3)\n\n# check if even:\n\nif int(digit_3) % 2 == 0:\n    print(digit_3, \"is even\")\n\n\n# get all odd numbers directly\n\nodd_digits = [digit for digit in str(integer) if int(digit) % 2 == 1]\n\nprint(odd_digits)\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 6780929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce1842797fb08c54fc638f008482bb1c?s=128&d=identicon&r=PG&f=1", "display_name": "Pitipaty", "link": "https://stackoverflow.com/users/6780929/pitipaty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 39883577, "answer_count": 4, "score": 0, "last_activity_date": 1475711917, "creation_date": 1475700997, "last_edit_date": 1475701041, "question_id": 39883517, "link": "https://stackoverflow.com/questions/39883517/how-to-pick-one-number-of-an-integer", "title": "How to pick one number of an Integer", "body": "<p>How can I pick one of the digits from an Integer like: 97723\nand choose (for example) the number 2 from that number and check if its an odd or an even number?</p>\n\n<p>Also, can I print only the odd numbers from an Integer directly? (Is there any default function for that already?)</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475701527, "post_id": 39883478, "comment_id": 67054301, "body": "What are <code>diff</code> and <code>forwdiff</code>?"}, {"owner": {"reputation": 41, "user_id": 6928695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6201d66da804eb9b5d2bdc2f79598ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Errata", "link": "https://stackoverflow.com/users/6928695/errata"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475702875, "post_id": 39883478, "comment_id": 67054848, "body": "I added the full code; diff and forwdiff are functions to approximate continuous differentiation as finite differences."}, {"owner": {"reputation": 41, "user_id": 6928695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6201d66da804eb9b5d2bdc2f79598ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Errata", "link": "https://stackoverflow.com/users/6928695/errata"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475706501, "post_id": 39883478, "comment_id": 67056174, "body": "I&#39;ve updated my post with some progress(?) I&#39;ve made."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1475766488, "post_id": 39883478, "comment_id": 67084752, "body": "Are you looking for subplots on the same figure? Something like this: <a href=\"http://matplotlib.org/examples/pylab_examples/subplot_demo.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/pylab_examples/subplot_demo.html</a> or similar to one of the ones here: <a href=\"http://matplotlib.org/examples/pylab_examples/subplots_demo.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/pylab_examples/subplots_demo.html</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6928695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6201d66da804eb9b5d2bdc2f79598ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Errata", "link": "https://stackoverflow.com/users/6928695/errata"}, "is_accepted": false, "score": 0, "last_activity_date": 1475706846, "creation_date": 1475706846, "answer_id": 39884738, "question_id": 39883478, "link": "https://stackoverflow.com/questions/39883478/how-do-i-make-matplotlib-generate-a-single-plot-instead-of-a-plot-for-each-data/39884738#39884738", "title": "How do I make matplotlib generate a single plot instead of a plot for each data point?", "body": "<p>So, I found out that plot() needs to have the entire x_list and y_list as arguments.</p>\n\n<p>which got me to this:</p>\n\n<pre><code>    xlist = np.linspace(0, 2.5)\n\nfor name, f in zip(func_names, funcs):\n    ylist = [forwdiff(f, x, h=0.01) for x in xlist]\n    plt.plot(xlist, ylist, 'g^')\n\n    ylist = [diff(f, x, h=0.01) for x in xlist]\n    plt.plot(xlist, ylist, 'bs')\n    plt.title(name)\n\nplt.xlabel('x')\nplt.ylabel('f(x)')\nbluesq = plt.Line2D([], [], color='blue', marker='s',\n                          markersize=15, label='Centered Difference')\ngreentr = plt.Line2D([], [], color='green', marker='^',\n                          markersize=15, label='Forward Difference')\nl1 = plt.legend(handles = [bluesq], loc=1)\nl2 = plt.legend(handles = [greentr], loc=4)\nplt.gca().add_artist(l1)\nplt.gca().add_artist(l2)\nplt.show()\n</code></pre>\n\n<p>This correctly plots all of the inputs onto one plot, but I was attempting to generate three plots. One for each f input. The code given calls f and df and generates a single plot for each, but plots them to the same window. How would I separate that plot into three different windows showing forwdiff and diff for each f?</p>\n\n<p>Sorry if this is a stupid question, my background is not in computer science/programming.</p>\n\n<p>I want to separate the plots into three plots of forwdiff and diff for each of exp(-2x2), cos(x), and sin(x).</p>\n"}, {"tags": [], "owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "is_accepted": false, "score": 0, "last_activity_date": 1475712883, "creation_date": 1475712883, "answer_id": 39885579, "question_id": 39883478, "link": "https://stackoverflow.com/questions/39883478/how-do-i-make-matplotlib-generate-a-single-plot-instead-of-a-plot-for-each-data/39885579#39885579", "title": "How do I make matplotlib generate a single plot instead of a plot for each data point?", "body": "<p>Going off your answer, you are looking for something like this:</p>\n\n<pre><code># axarr is an array of axes objects (1 row, 3 columns)\nfig, axarr = plt.subplots(1, 3)\nfor ax, name, f in zip(ax, func_names, funcs):\n    for df, dfname in zip((forwdiff, diff), ('forward', 'central')):\n        ylist = [df(f, x, h=0.01) for x in xlist]\n        ax.plot(xlist, ylist, 'g^', label=dfname)\n\n    ax.set_title(name)\n    # either set the axes labels here so all axes get them\n    #ax.set_xlabel('x')\n    #ax.set_ylabel('f(x)')\n    # similarly, you can add a legend to each plot here\n    #ax.legend(loc='upper right')\n\n# or set axes labels here:\n# all plots get x labels\n[ax.set_xlabel('x') for ax in axarr]\n# only the left most plot gets a ylabel\naxarr[0].set_ylabel('f(x)')\n\n# set only one legend and make it outside the rightmost plot\naxarr[-1].legend(loc='upper left', bbox_to_anchor=(1.02, 1))\n# move subplots over so you can see the legend\nfig.subplots_adjust(right=0.8)\n\nplt.show()\n</code></pre>\n\n<p>You may want to look into <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.gradient.html\" rel=\"nofollow\"><code>numpy.gradient</code></a> which can compute the derivatives in a vectorized way.  That way you could do something like:</p>\n\n<pre><code>xlist = np.linspace(0, 2.5)\ndx = np.gradient(xlist)\ndydx = np.gradient(f(xlist), dx)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6928695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6201d66da804eb9b5d2bdc2f79598ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Errata", "link": "https://stackoverflow.com/users/6928695/errata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1475712883, "creation_date": 1475700876, "last_edit_date": 1475706769, "question_id": 39883478, "link": "https://stackoverflow.com/questions/39883478/how-do-i-make-matplotlib-generate-a-single-plot-instead-of-a-plot-for-each-data", "title": "How do I make matplotlib generate a single plot instead of a plot for each data point?", "body": "<p>I am trying to generate three plots, each using the same inputs. \nWhen I run my code I generate a plot for each x input instead of three plots consisting of all of their data points.</p>\n\n<p>See my code below:</p>\n\n<pre><code>xlist = np.linspace(0, 2.5)\n\nfor name, f, df in zip(func_names, funcs, diff_funcs):\n for x in xlist:\n  plt.plot(diff(f, x, h=0.01), 'bs', forwdiff(f, x, h=0.01), 'g^')\n  plt.title(name)\n  plt.xlabel('x')\n  plt.ylabel('f(x)')\n  bluesq = plt.Line2D([], [], color='blue', marker='s',\n                      markersize=15, label='Centered Difference')\n  greentr = plt.Line2D([], [], color='green', marker='^',\n                      markersize=15, label='Forward Difference')\n  l1 = plt.legend(handles = [bluesq], loc=1)\n  l2 = plt.legend(handles = [greentr], loc=4)\n  plt.gca().add_artist(l1)\n  plt.gca().add_artist(l2)\n  plt.show()\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nprint(\"---Forward Diff---\")\n\ndef forwdiff(f, x, h=1e-5):\n     \"\"\"\n     Returns the forward derivative of a function f\n     \"\"\"\n     return 1 / (h) * (f(x + h) - f(x))\n\nfrom math import exp, cos, sin, pi, log\n\n\nf1 = lambda x: exp(-2 * x ** 2)\ndf1 = lambda x: -4 * x * exp(-2 * x ** 2)\nf2 = lambda x: cos(x)\ndf2 = lambda x: -sin(x)\nf3 = lambda x: sin(x)\ndf3 = lambda x: cos(x)\n\nfuncs = [f1, f2, f3]\ndiff_funcs = [df1, df2, df3]\nfunc_names = ['exp(-2x^2)', 'cos(x)', 'sin(x)']\nvalues = [2, 0.6, 0.6]\n\nprint '%10s %8s %8s %8s' % ('function', 'exact', 'approx', 'error')\n\nfor name, f, df, x in zip(func_names, funcs, diff_funcs, values):\n    exact = df(x)\n    approx = forwdiff(f, x, h=0.01)\n    error = abs(exact - approx)\n    print '%10s %.6f %.6f %.6f' % (name, exact, approx, error)\n\n\ndef test_forwdiff():\n    success = 6 - forwdiff(lambda x: x**2, 3, h=0.01) &lt; 0.00000000001\n    msg = \"test_forwdiff failed\"\n    assert success, msg\n\nprint(\"---Centered Diff---\")\n\n\ndef diff(f, x, h=1e-5):\n     \"\"\"\n     Returns the derivative of a function f\n     \"\"\"\n     return 1 / (2 * h) * (f(x + h) - f(x - h))\n\nfrom math import exp, cos, sin, pi, log\n\nf1 = lambda x: exp(-2 * x ** 2)\ndf1 = lambda x: -4 * x * exp(-2 * x ** 2)\nf2 = lambda x: cos(x)\ndf2 = lambda x: -sin(x)\nf3 = lambda x: sin(x)\ndf3 = lambda x: cos(x)\n\nfuncs = [f1, f2, f3]\ndiff_funcs = [df1, df2, df3]\nfunc_names = ['exp(-2x^2)', 'cos(x)', 'sin(x)']\nvalues = [2, 0.6, 0.6]\n\nprint '%10s %8s %8s %8s' % ('function', 'exact', 'approx', 'error')\n\nfor name, f, df, x in zip(func_names, funcs, diff_funcs, values):\n    exact = df(x)\n    approx = diff(f, x, h=0.01)\n    error = abs(exact - approx)\n    print '%10s %.6f %.6f %.6f' % (name, exact, approx, error)\n\n\ndef test_diff():\n    success = 6 - diff(lambda x: x**2, 3, h=0.01) &lt; 0.00000000001\n    msg = \"test_diff failed\"\n    assert success, msg\n\nxlist = np.linspace(0, 2.5)\n\nfor name, f, df in zip(func_names, funcs, diff_funcs):\n    for x in xlist:\n     plt.plot(diff(f, x, h=0.01), 'bs', forwdiff(f, x, h=0.01), 'g^')\n     plt.title(name)\n     plt.xlabel('x')\n     plt.ylabel('f(x)')\n     bluesq = plt.Line2D([], [], color='blue', marker='s',\n                          markersize=15, label='Centered Difference')\n     greentr = plt.Line2D([], [], color='green', marker='^',\n                          markersize=15, label='Forward Difference')\n     l1 = plt.legend(handles = [bluesq], loc=1)\n     l2 = plt.legend(handles = [greentr], loc=4)\n     plt.gca().add_artist(l1)\n     plt.gca().add_artist(l2)\n     plt.show()\n</code></pre>\n\n<p>So, I found out that plot() needs to have the entire x_list and y_list as arguments.</p>\n\n<p>which got me to this:</p>\n\n<pre><code>    xlist = np.linspace(0, 2.5)\n\nfor name, f in zip(func_names, funcs):\n    ylist = [forwdiff(f, x, h=0.01) for x in xlist]\n    plt.plot(xlist, ylist, 'g^')\n\n    ylist = [diff(f, x, h=0.01) for x in xlist]\n    plt.plot(xlist, ylist, 'bs')\n    plt.title(name)\n\nplt.xlabel('x')\nplt.ylabel('f(x)')\nbluesq = plt.Line2D([], [], color='blue', marker='s',\n                          markersize=15, label='Centered Difference')\ngreentr = plt.Line2D([], [], color='green', marker='^',\n                          markersize=15, label='Forward Difference')\nl1 = plt.legend(handles = [bluesq], loc=1)\nl2 = plt.legend(handles = [greentr], loc=4)\nplt.gca().add_artist(l1)\nplt.gca().add_artist(l2)\nplt.show()\n</code></pre>\n\n<p>This correctly plots all of the inputs onto one plot, but I was attempting to generate three plots. One for each f input. The code given calls f and df and generates a single plot for each, but plots them to the same window. How would I separate that plot into three different windows showing forwdiff and diff for each f?</p>\n\n<p>Sorry if this is a stupid question, my background is not in computer science/programming.</p>\n\n<p>I want to separate the plots into three plots of forwdiff and diff for each of exp(-2x2), cos(x), and sin(x).</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "reply_to_user": {"reputation": 328, "user_id": 4251877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zmnbf.jpg?s=128&g=1", "display_name": "SlowSuperman", "link": "https://stackoverflow.com/users/4251877/slowsuperman"}, "edited": false, "score": 0, "creation_date": 1475701292, "post_id": 39883540, "comment_id": 67054178, "body": "Your correction is still invalid. You cannot pass arguments like that to <code>list()</code>. In your case, you would create a list using <code>[]</code>"}], "tags": [], "owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "is_accepted": true, "score": 4, "last_activity_date": 1475701320, "last_edit_date": 1475701320, "creation_date": 1475701108, "answer_id": 39883540, "question_id": 39883472, "link": "https://stackoverflow.com/questions/39883472/is-there-array-count-values-analogue-for-python-3-x-or-best-way-to-do-this/39883540#39883540", "title": "Is there array_count_values() analogue for Python 3.x or best way to do this?", "body": "<p>You can count the occurrence of each element in a list using <code>Counter</code>:</p>\n\n<pre><code>from collections import Counter\n\nl = [1, \"this\", 1, \"is\", \"Sparta\", \"Sparta\"]\nprint(Counter(l))\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>Counter({1: 2, 'Sparta': 2, 'this': 1, 'is': 1})\n</code></pre>\n\n<p><a href=\"https://repl.it/DpTq\" rel=\"nofollow\">repl.it link</a></p>\n"}], "owner": {"reputation": 328, "user_id": 4251877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zmnbf.jpg?s=128&g=1", "display_name": "SlowSuperman", "link": "https://stackoverflow.com/users/4251877/slowsuperman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 39883540, "answer_count": 1, "score": 1, "last_activity_date": 1475701320, "creation_date": 1475700841, "last_edit_date": 1475701176, "question_id": 39883472, "link": "https://stackoverflow.com/questions/39883472/is-there-array-count-values-analogue-for-python-3-x-or-best-way-to-do-this", "title": "Is there array_count_values() analogue for Python 3.x or best way to do this?", "body": "<p>Is there array_count_values() analogue or fastest way to do this in Python 3.x</p>\n\n<p>from</p>\n\n<pre><code>d = [\"1\", \"this\", \"1\", \"is\", \"Sparta\", \"Sparta\"]\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{\n  '1': 2,\n  'this': 1,\n  'is': 1,\n  'Sparta': 2\n}\n</code></pre>\n"}, {"tags": ["python", "python-unittest"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1475701148, "post_id": 39883396, "comment_id": 67054129, "body": "I tried that: <code>import unittest  class TestSpider(unittest.TestCase):     def testExtractAnchor(self):         print(&quot;Hello world&quot;)  if __name__ == &#39;__main__&#39;:     unittest.main()</code> and it worked. Does it work for you?"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475701244, "post_id": 39883396, "comment_id": 67054163, "body": "Are you sure there are no other modules named <code>tests</code> installed? <code>IPython</code> provides one, for example. Check that <code>import tests;print(tests.__file__)</code> actually points to your content."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1475701304, "post_id": 39883396, "comment_id": 67054186, "body": "I can&#39;t reproduce this. Also, maybe it was a typo in this question, but your command is referencing <code>test&#47;TestSpider</code>, but your screenshot is showing folder <code>tests</code>"}, {"owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1475701360, "post_id": 39883396, "comment_id": 67054213, "body": "@Jean-Fran&#231;oisFabre yes that code works."}, {"owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1475701364, "post_id": 39883396, "comment_id": 67054216, "body": "@idjaw that is a typo"}, {"owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "reply_to_user": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475701467, "post_id": 39883396, "comment_id": 67054276, "body": "@MisterMiyagi pretty sure <code>ImportError: No module named &#39;tests&#39;</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1475701552, "post_id": 39883396, "comment_id": 67054309, "body": "I was expecting user-made <code>unittest.py</code> but today it&#39;s a dirname with <code>__init__.py</code> instead :) good find all! You should <i>never</i> call your modules or directories <code>test</code> or <code>tests</code> because it conflicts with ... well, a lot of stuff :)"}, {"owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "edited": false, "score": 0, "creation_date": 1475701792, "post_id": 39883396, "comment_id": 67054404, "body": "I tried to rename the dir to <code>aiiihooo</code> still smae error :/"}, {"owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "edited": false, "score": 0, "creation_date": 1475702760, "post_id": 39883396, "comment_id": 67054806, "body": "But thanks moving the test file to the <code>root</code> folder fixed the problem :/"}], "owner": {"reputation": 1464, "user_id": 936269, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1fac3223b59eb3774aef86f7684f7f5f?s=128&d=identicon&r=PG", "display_name": "Lars Nielsen", "link": "https://stackoverflow.com/users/936269/lars-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1475701387, "creation_date": 1475700577, "last_edit_date": 1475701387, "question_id": 39883396, "link": "https://stackoverflow.com/questions/39883396/attributeerror-module-object-has-no-attribute-testspider", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;TestSpider&#39;", "body": "<p>I am trying to use <code>unittest</code> from python, but I get the following error: <code>AttributeError: 'module' object has no attribute 'TestSpider'</code> My test code is as follows</p>\n\n<pre><code>import unittest\n\nfrom spiders.eshopsite import EshopsiteSpider\n\n### Unit Test for the EshopsiteSpider class\n\nclass TestSpider(unittest.TestCase):\n\n    def testExtractAnchor(self):\n        testArray = [u'/test1', u'/test1/test2', u'test2']\n        testObj = EshopsiteSpider()\n        testOutputArray = testObjextractAnchors(testArray)\n        self.assertEqual(len(testArray), len(testOutputArray))\n        index = 0\n        ### A loop is needed to compare each element in the\n        ### arrays. To assert if they are equal\n        while index &lt; len(testOutputArray):\n            varOne = testOutputArray[index]\n            varTwo = testArray[index].encode('utf8')[1:]\n            self.assertEqual(varOne, varTwo)\n            index = index + 1\n\n\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>and my folder structure: </p>\n\n<p><a href=\"https://i.stack.imgur.com/K4T5b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K4T5b.png\" alt=\"enter image description here\"></a></p>\n\n<p>And the full stack trace: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/runpy.py\", line 170, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/__main__.py\", line 18, in &lt;module&gt;\n    main(module=None)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/main.py\", line 92, in __init__\n    self.parseArgs(argv)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/main.py\", line 139, in parseArgs\n    self.createTests()\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/main.py\", line 146, in createTests\n    self.module)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/loader.py\", line 146, in loadTestsFromNames\n    suites = [self.loadTestsFromName(name, module) for name in names]\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/loader.py\", line 146, in &lt;listcomp&gt;\n    suites = [self.loadTestsFromName(name, module) for name in names]\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/unittest/loader.py\", line 114, in loadTestsFromName\n    parent, obj = obj, getattr(obj, part)\nAttributeError: 'module' object has no attribute 'TestSpider'\n</code></pre>\n\n<p>To execute the test, I used the following command: <code>python3 -m unittest tests/TestSpider</code></p>\n\n<p>I cannot figure out what is wrong based on other tests. Even if I comment out everything in the test function, except the very first statement, I get the same error. </p>\n\n<p>I hope someone can point me in the right direction or help with a solution. </p>\n\n<p>\\Lars</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1475700773, "post_id": 39883387, "comment_id": 67053962, "body": "Try using a <code>with ThreadLimiter:</code> instead of &quot;manually&quot; calling <code>acquire</code> and <code>release</code>."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475701075, "post_id": 39883387, "comment_id": 67054101, "body": "But how are you creating the threads? Are you joining them later? this seems like a good use case for <code>multiprocessing.pool.ThreadPool</code> - let the stdlib do the heavy lifting."}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 1, "last_activity_date": 1475702002, "creation_date": 1475702002, "answer_id": 39883760, "question_id": 39883387, "link": "https://stackoverflow.com/questions/39883387/limit-python-threads-resource-temporarily-unavailable/39883760#39883760", "title": "Limit Python Threads : Resource Temporarily Unavailable", "body": "<p>Use a thread pool and save yourself a lot of work! Here I md5sum files:</p>\n\n<pre><code>import os\nimport multiprocessing.pool\nimport subprocess as subp\n\ndef walker(path):\n    \"\"\"Walk the file system returning file names\"\"\"\n    for dirpath, dirs, files in os.walk(path):\n        for fn in files:\n            yield os.path.join(dirpath, fn)\n\ndef worker(filename):\n    \"\"\"get md5 sum of file\"\"\"\n    p = subp.Popen(['md5sum', filename], stdin=subp.PIPE,\n            stdout=subp.PIPE, stderr=subp.PIPE)\n    out, err = p.communicate()\n    return filename, p.returncode, out, err\n\npool = multiprocessing.pool.ThreadPool(3)\n\nfor filename, returncode, out, err in pool.imap(worker, walker('.'), chunksize=1):\n    print(filename, out.strip())\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 4254936, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PpUdU.jpg?s=128&g=1", "display_name": "Sivaswami Jeganathan", "link": "https://stackoverflow.com/users/4254936/sivaswami-jeganathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 39883760, "answer_count": 1, "score": 0, "last_activity_date": 1564060343, "creation_date": 1475700538, "question_id": 39883387, "link": "https://stackoverflow.com/questions/39883387/limit-python-threads-resource-temporarily-unavailable", "title": "Limit Python Threads : Resource Temporarily Unavailable", "body": "<p>I use python threading.Thread to spawn threads that execute a small utility for every filename found in os.walk() and get its output. I tried limiting number of threads using:</p>\n\n<pre><code>ThreadLimiter = threading.BoundedSemaphore(3)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>ThreadLimiter.acquire() \n</code></pre>\n\n<p>in start of run method and </p>\n\n<pre><code>ThreadLimiter.release() \n</code></pre>\n\n<p>at end of run method</p>\n\n<p>But I still get the below error message when I run the python program. Any suggestions on improving this ?</p>\n\n<pre><code>bash: fork: retry: Resource temporarily unavailable\nbash: fork: retry: Resource temporarily unavailable\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "for-loop"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1475700931, "post_id": 39883386, "comment_id": 67054035, "body": "I don&#39;t what your constraints are. However, here are two hints: (a) Use a monospace font (so that each character occupies the same amount of horizontal space). (b) Use two character positions for each asterisk, one blank and one the asterisk itself."}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475701858, "post_id": 39883386, "comment_id": 67054430, "body": "You have to remove <b>two</b> stars per line -  that&#39;s <code>range(x_int+1, 0, -2)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 3843890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09f49c18d6c39c5467ec651172cb4f7a?s=128&d=identicon&r=PG&f=1", "display_name": "eeScott", "link": "https://stackoverflow.com/users/3843890/eescott"}, "is_accepted": false, "score": 0, "last_activity_date": 1475700927, "creation_date": 1475700927, "answer_id": 39883497, "question_id": 39883386, "link": "https://stackoverflow.com/questions/39883386/creating-an-upside-down-asterisk-triangle-in-python-using-for-loop/39883497#39883497", "title": "Creating an upside down asterisk triangle in Python using for loop", "body": "<p>I don't think you can center them due to not being able to place characters between half-spaces. Maybe try inserting a space between all stars so you can center them better and produce something like this.</p>\n\n<pre><code>* * * *\n * * *\n  * * \n   *\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>****\n ***\n **\n  *\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6928581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be913963088b5c2fb492f8a7a18d72c5?s=128&d=identicon&r=PG&f=1", "display_name": "chillbro", "link": "https://stackoverflow.com/users/6928581/chillbro"}, "edited": false, "score": 0, "creation_date": 1475705953, "post_id": 39883562, "comment_id": 67056022, "body": "Thank you! Feel dumb that it was such a simple fix, but much appreciated."}], "tags": [], "owner": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "is_accepted": false, "score": 1, "last_activity_date": 1475701620, "last_edit_date": 1475701620, "creation_date": 1475701169, "answer_id": 39883562, "question_id": 39883386, "link": "https://stackoverflow.com/questions/39883386/creating-an-upside-down-asterisk-triangle-in-python-using-for-loop/39883562#39883562", "title": "Creating an upside down asterisk triangle in Python using for loop", "body": "<p>You need to set the 'step' of the <code>range</code> to <code>-2</code>, so that it only grabs odds ints in reverse. Then the number of white spaces needed to have a <code>+ 1</code> to work properly.  </p>\n\n<pre><code>x=input('Enter an odd number width: ')\nx_int = int(x)\nprint('Triangle:')\nfor i in range(x_int, 0, -2):\n    numwhite = ((x_int - i)/2) + 1\n    white_int= int(numwhite)\n    print(' ' * white_int + '*'*i)\n</code></pre>\n\n<p>Ouput:</p>\n\n<pre><code>Enter an odd number width: 7\nTriangle:\n*******\n *****\n  ***\n   *\n</code></pre>\n\n<p><strong>More readable code with explanations</strong></p>\n\n<pre><code>x_int = int(input('Enter an odd number width: '))  # reducing\n\nprint('Triangle:')\n\nfor i in range(x_int, 0, -2):  # -2 means only do every 2nd number in reverse\n    num_white = int(((x_int - i)/2) + 1)  # Checking the math here, needed a +1\n    print(' ' * num_white + '*' * i)  # Could be changed to .format but works\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Enter an odd number width: 13\nTriangle:\n *************\n  ***********\n   *********\n    *******\n     *****\n      ***\n       *\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6928581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be913963088b5c2fb492f8a7a18d72c5?s=128&d=identicon&r=PG&f=1", "display_name": "chillbro", "link": "https://stackoverflow.com/users/6928581/chillbro"}, "edited": false, "score": 0, "creation_date": 1475706014, "post_id": 39883601, "comment_id": 67056043, "body": "Thanks, I&#39;ll look into that.  Just beginning coding."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 2, "last_activity_date": 1475701623, "last_edit_date": 1475701623, "creation_date": 1475701305, "answer_id": 39883601, "question_id": 39883386, "link": "https://stackoverflow.com/questions/39883386/creating-an-upside-down-asterisk-triangle-in-python-using-for-loop/39883601#39883601", "title": "Creating an upside down asterisk triangle in Python using for loop", "body": "<p>Apart from setting your step value to <code>-2</code>, you'll have a more readable code if you use Python's string <code>format</code> method. You can easily center your asterisks by using <em>center alignment</em> viz. <code>^</code>:   </p>\n\n<pre><code>x = input('Enter an odd number width: ')\nx_int = int(x)\nprint('Triangle:')\n\nfmt = '{' + ':^{}'.format(x_int) + '}' # Notice the caret ^ and how the width is set\nfor i in range(x_int, 0, -2):\n    stars = '*'*i\n    print(fmt.format(stars))\n</code></pre>\n\n<p>Trial:</p>\n\n<pre><code>Enter an odd number width: 15\nTriangle:\n***************\n ************* \n  ***********  \n   *********   \n    *******    \n     *****     \n      ***      \n       *    \n</code></pre>\n\n<p>You can do more with <em>string formatting</em>. Have a look at the reference: <a href=\"https://pyformat.info\" rel=\"nofollow\">https://pyformat.info</a></p>\n"}, {"tags": [], "owner": {"reputation": 1330, "user_id": 6335503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229c916be89ba4012cc6962aadaec14a?s=128&d=identicon&r=PG&f=1", "display_name": "Nf4r", "link": "https://stackoverflow.com/users/6335503/nf4r"}, "is_accepted": false, "score": 2, "last_activity_date": 1475701592, "creation_date": 1475701592, "answer_id": 39883673, "question_id": 39883386, "link": "https://stackoverflow.com/questions/39883386/creating-an-upside-down-asterisk-triangle-in-python-using-for-loop/39883673#39883673", "title": "Creating an upside down asterisk triangle in Python using for loop", "body": "<p>Try something like:</p>\n\n<pre><code>x = int(input('Enter an odd number width: '))\nprint('Triangle:')\nfor i in range(x_int, 0, -1):\n    print('{:^{str_len}}'.format('* ' * i, str_len= x_int * 2))\n</code></pre>\n\n<p>That should work not only for odd numbers.</p>\n"}], "owner": {"reputation": 91, "user_id": 6928581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be913963088b5c2fb492f8a7a18d72c5?s=128&d=identicon&r=PG&f=1", "display_name": "chillbro", "link": "https://stackoverflow.com/users/6928581/chillbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2452, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1475701623, "creation_date": 1475700532, "question_id": 39883386, "link": "https://stackoverflow.com/questions/39883386/creating-an-upside-down-asterisk-triangle-in-python-using-for-loop", "title": "Creating an upside down asterisk triangle in Python using for loop", "body": "<p>I hate that I have to ask this, but I can't for the life of me figure out how to make this work.  The program is supposed to ask for an input of an odd integer and then create an upside down pyramid with the first row containing the amount of asterisks as the number, and the last row having only one, centered asterisk.  I've managed to figure out most of it, but my asterisks refuse to line up centered no matter what I try.  I've looked at the other topics similar here, and tried to use them but still cannot figure it out. I'm not sure why 'i' is being used, but saw it on another post and it looked marginally better than what I had before.</p>\n\n<p>Here is my code, I have tinkered with it quite a bit to no avail.  </p>\n\n<pre><code>x=input('Enter an odd number width: ')\nx_int = int(x)\nprint('Triangle:')\nfor i in range(x_int+1, 0, -1) :\n    numwhite = (x_int - i)/2\n    white_int= int(numwhite)\n    print(' '* white_int + '*'*i)\n</code></pre>\n\n<p>Which outputs (input 13):</p>\n\n<pre><code>Triangle:\n**************\n*************\n************\n ***********\n **********\n  *********\n  ********\n   *******\n   ******\n    *****\n    ****\n     ***\n     **\n      *\n</code></pre>\n\n<p>I want it to look something like (input 7)</p>\n\n<pre><code>*******\n *****\n  ***\n   *\n</code></pre>\n"}, {"tags": ["python", "html", "python-3.x", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": -1, "last_activity_date": 1475746053, "last_edit_date": 1475746053, "creation_date": 1475704574, "answer_id": 39884339, "question_id": 39883332, "link": "https://stackoverflow.com/questions/39883332/how-to-get-a-var-out-of-beautifulsoup-soup/39884339#39884339", "title": "How to get a var out of beautifulsoup soup", "body": "<p>Description in code</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nhtml = '''&lt;html&gt;&lt;body&gt;&lt;p&gt;var rechallengeState = {\n    challenge : '03AHJ_Vuv8ZHJfsjnR3ueIvm89Jfa6oUJ3-kuzA-VcQIaR30A9CZva7lMaBrYlvcGG4cOPCeKXfERQe_u-cMw_8ZVi6CipeJVAYAsrOeBHryWRCMIaMt4V-TQlTgyUA4ndejEgBGUCUw7rwM-ltDr-do8ry-MRv26qQTpS-iCtvONYc6xZBURPEaTo2Nkfq8HJeFA_g6mMLUBG',\n    timeout : 1800,\n    lang : 'en',\n    site : '6LceKe0SAAAAACFIVHolzCVkrGgSfzFASoOmELIc',\n    error_message : '',\n    programming_error : '',\n    is_incorrect : false,\n    rtl : false,\n    t1 : 'Ly93d3cuZ29vZ2xlLmNvbS9qcy90aC83ZFZqVVRQN3pmYXh1UnMtNFV3Q19KT0dvbHU4LWdXcXhHTlhNMjRoV1VZLmpz',\n    t2 : '',\n    t3 : 'NjliZ0lya2VaS3JHpaaU9sbFJuSREF6Sk9KMNZbW9tcjlvcVlEnV5Y3NlWHN2YWt6ZEdleDZQcVkyaForVXJZclVsZGN0ek5rSGZlU3BuNlkrNkE9PQ\\x3d\\x3d'\n};\n\n&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'''\n\nsoup = BeautifulSoup(html)\n\n# get only text - without `var rechallengeState = {` and `};`\ntext = soup.find('p').text.strip()[29:-3]\n\n# split to rows, clean row and split row to columns\nrows = [x.strip(',').split(':') for x in text.split('\\n')]\n\n# clean and convert to dictionary\ndata = {a.strip():b.strip(\" '\") for a,b in rows}\n\nprint(data['challenge'])\n</code></pre>\n\n<p>result</p>\n\n<pre><code>03AHJ_Vuv8ZHJfsjnR3ueIvm89Jfa6oUJ3-kuzA-VcQIaR30A9CZva7lMaBrYlvcGG4cOPCeKXfERQe_u-cMw_8ZVi6CipeJVAYAsrOeBHryWRCMIaMt4V-TQlTgyUA4ndejEgBGUCUw7rwM-ltDr-do8ry-MRv26qQTpS-iCtvONYc6xZBURPEaTo2Nkfq8HJeFA_g6mMLUBG\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6888068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47cb2e4e4839146de927010c1228d89f?s=128&d=identicon&r=PG&f=1", "display_name": "smitty", "link": "https://stackoverflow.com/users/6888068/smitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 39884339, "answer_count": 1, "score": -2, "last_activity_date": 1475746053, "creation_date": 1475700329, "last_edit_date": 1475743941, "question_id": 39883332, "link": "https://stackoverflow.com/questions/39883332/how-to-get-a-var-out-of-beautifulsoup-soup", "title": "How to get a var out of beautifulsoup soup", "body": "<p>How would I get the variable out into like a json or any other way \n    to just take out like challenge</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;&lt;p&gt;var rechallengeState = {\n    challenge : '03AHJ_Vuv8ZHJfsjnR3ueIvm89Jfa6oUJ3-kuzA-VcQIaR30A9CZva7lMaBrYlvcGG4cOPCeKXfERQe_u-cMw_8ZVi6CipeJVAYAsrOeBHryWRCMIaMt4V-TQlTgyUA4ndejEgBGUCUw7rwM-ltDr-do8ry-MRv26qQTpS-iCtvONYc6xZBURPEaTo2Nkfq8HJeFA_g6mMLUBG',\n    timeout : 1800,\n    lang : 'en',\n    site : '6LceKe0SAAAAACFIVHolzCVkrGgSfzFASoOmELIc',\n    error_message : '',\n    programming_error : '',\n    is_incorrect : false,\n    rtl : false,\n    t1 : 'Ly93d3cuZ29vZ2xlLmNvbS9qcy90aC83ZFZqVVRQN3pmYXh1UnMtNFV3Q19KT0dvbHU4LWdXcXhHTlhNMjRoV1VZLmpz',\n    t2 : '',\n    t3 : 'ZnlxN0NEbUtzcEZVSUJDcnNFaVp2Z1FKSyt2S0gxNmZ0ZEN3MGQ2VEhrRTE2UjY3QWJpNGphRStKaisxVlZDbFR6clRxUU1aTFFqME04clpBWEF1RGViQ3JwUjFOcnkvMTVKTHFwdWlkcU53R0lIeVJlditZc0p5TnRPQy9lNUNqV3BMRlJiVkh6ZjgvZ1czc25LV3FnZ1ZQWG96NHlJWmJacGI2Z3VCTVF6VVdublBmSkFRVXJzVGg5RFhHTmw0NjR6czZML0JSeWl0WE5keGVTTUsvN3VIWmw5OFpSeUhiU3lTTEhhUzZsUVU3R1k4MGloYktXeGpHYnI2VWl0bkFPR1dzZDYwb052a2xjUjI4aFBBTTdOdW51a1lGNzh5ck9maTRyU0dkYTluTDBWb2VxRTZTUEtUNWxiTW5Idk5lUFpWNzJwb2o1OWRMeWN1S3BoLzdDMlU1c0F5UFQwQXM1SytTdFZobDFVdjFhUFlGOHZVa25CZ3E5S0I1c3A4ZnVrQ01XSHE4bll5SVNscVJSRjJKbU1JaFRZSURmZW4xd2wyZU52bHpRM0pEQzc3Ly9TSzdmV2IySjJmeHJ4Yk43TStmSnZWUnpWeVFUNnBmdWpKaDdLbFF1eEZkaHl3TnFDTlR6RElsNHBvRDNDc0NHcWw3OE9oWmYrVzlDbXFneEV4RHYvNWdaVU40TVJYaExzSGNVYklaRExtTGtqZkpDem1FNWhKQktpVkxNWmxYSWNCb096K2cwbHVCQVRYeXFTQnE3bmF0VGUrenY0Rm9iaUNIQkRhaFI2ZTQwTDhoRHlRZGI1WXo5eDU3MUdxU3UyVFZ5Qm40S1FsRTBvM2tlLzdhZGtKbThONnpFTkhYYTVBakx4UkpBSGlDRTB5a2lSY2xFVU56RldDVHZlVVhsQitKUmJFeDloQ2RhODFZUUlVTTNSSkJKV0swTnVOb0syRktGdDZQeTQ2emFucFo0TWh5Z1hVaHVORUE0RE9NemJUR1ZEdVhrSHhJcWZENXc0L0R5eG8vOHZMdnZjUUJUYjhycjNXSDRmUWwycmpEaTBHUGZJTkpLVTU1cWNFamtRdE41WUlERHlESmoyRXlGUUtCMFRHSTR5YnhwdlBwNEpvVk9BQlNZWXJaWmpvWW1SMjZTdzF0Y1ZOR3J0MFNzc1Q3bWRVMzFRUDYxYWlmTE1GK2t0TktEMTVLb0h4R0sxV01jcUNVLzYyVkpXaVFkRWpJVXg5K3dOckVLeERMbGw2V1laRERLbmxoQlpMR2xLSWh3QWVCOGVUWFZ3YkE3UkJjNHFnSDdzS1dZVC8yVk5wcncrNjltUHlsM3F0VCtpOEwvYzZGOE4raWE2L0dQbTd6WXpSVkoxS2lVL1NPMXpyMGNrSjY2Z1N6NWNxaFIyRjBsWlJlMmR4NW9LRWtEamNqN0dvOE8yTUx2R1VkMTNleGhFTmlldXhrYUpGOEowcnFKaDMzT2xQNFZZWWFkSXRRMVI0aC9NREFMWmZjdGFDWEQxTzNvVU9NQWdiSkw3TEQvcy9vVklmTVhxTndZL2pmb0VZaU45bVRNS0syNEkrV0hOeWxnTVFpUDJsUDVjekVLRmI5czRCelp0T09hZ29QYTJTMUFTcVB4cWhOek5kMkFXZldlbFU3UHdQOHo0QjNLOVhiWk82ckp6dzRwQ29CTmhQcVVpSUttYTU0NzYrdnc0VW1jVDdhb2RMUVl0RXlqR2k0NWIwclg3bXdkcUVFK1Q2SkVDUmROM3JRdWR3TytZMTljbjRwQlN0Wnd3VXFCZzM2NTJJQlZ6OVpJcVNpYjNsWVlrZVBOUi9qeGlLT2lZTXNGZitVaGY3eFNaakhDTnpsNUlwWHcvTnJIU09RNEJWWGhyb3drR1pFeG16Yy90djVwSW4vNkNnSnRnR0R1QlZQQkJ5bTkyZDR5dzhyd3JLR1J1YkFGdWZvcmVwRGlRYWR1QjZuNmtVTHptZ2p6THZHamk2S0JSK0RMT3hscWpES3h0Ym1zMjVuREdkdm43RTZ0bnhGUDhNNzk4cDkxU2VtenZMT00rcjdrZzBVMitNNWJFNVVaVUtIQVN5ZXcyTk1zVFhrTVZwUW9yYlJkZ0xyZVBTOTU4TFV6VmF3MlV2WUZ1OVI1YUhPVm9BN2hxVkJhQ2tLcWRiR2xLUmVTbkFIVEpyNi9RUU5lQytESGluOWJGSmNyb1hROURZMk9hVHdZUWlBWjhuTzBWTGtTY3RIRGZUSi9qS1BpSEdEQVVXZm5VdjNvaHpoRFpyYXBET24vKytxNlhEZXNXNTE3SlZTRE9WWDYxeFNKRjRIU2FuK0VJUksvUlp6VEpaamloRXlOVGdFcjJjMFp0NWpSdWFDemROZHA4RHRackpzK2VDS3VIMjEzdWk2cEsxOFNZYUFkN1BGSEQ4bHQzWEtaNms4VVM2WTlHeXlpaUp2Tks3cXBsRGNrRlptb1RWVE1FYnc5dFJYSUMya2JpYStWV0F5TU1meUZGekp4dUMwTFNrdUlqelV3S3NjampUQ2ptbkZoakc4VTBiWEZjenI5aWJvNHl3OW9PaTRvWGsxN3hwOFpxeEM2NXdBbURvVWJNKzl4MkFwWUM3SlJtL2hkYnlXU3NRc3pnVjQ0TEtDY080N0FYbjdiVXdkSVMrcStUWU1BNkI3cG42a2t2OVM2aGJZZEgrTUhDTjhLQUVlY0FrVEtKR1ZxWTNoL1dYeFJwWGY2NWhEUGVzT1pmVXdreVo3bGVBTmtrakpPMUlXWDhjcExpTk5zRDVLcWRuT1Q4YW9EYVIrVHcyS3VCeEFqUzZuMTZFTGNOaUcvUm0zVGU0WW51dVIrL0xPNGV6QU9lMjZQS2FIbW00ZVBxZDUrSThPOWhXTVd6UWZCWTJqZUhUbUVZODdIZnZLeUl1V1ordlZVM21OQzVsTXpIQlZVSHpIV2tWN1VuTVFOZ3FxOS8xYzZlaC8wWmZBVFNtWlVBNGUrcm83Z0VMZHZVeUVWclpzWGRSOGNjaVZsT0xzNXlqMHUzd2IvZm9kenJhSjBZcmY4WmlnMXdUL1pYNnJBcmhnRUFYNWV4Sm5KWTRGYmhaTHFxOTJhM21jT1pyYWo0SWlJNk1zeGFMLzEzVWZXSm9pcG9MY2Z2YmhoWG93Um1hR2k0c00reVBvQnFFcFE2RFBhTGJzaHdnWWNYRDRTY0Zha0NIQ2c0dW5XWkxuZTlIdmZ3Qzh2SXNQMitQazRJYnVCMERvOWtIZDRHUWFYRlNobGxsSzlnK1FqSW1RenhDVGw2aUs0WEFzTERvZ1dBeFBuRzR6VzJ5VURrdCs2TXE4N2VQYitPRmF3QzBLSnFzTHJNdDIydWsvQWNHTjNRYU0rZzVtOEIxN3FaWmUwWUxnTXNGcy9KYWlIcGtKU2pGYTNuaDczR2graklObzhsOEc4b0tsNmljMDZ6QkVEY3liNnRUREpVVWJ0MGgrOEZQdjlBb2FJa3dtUGtyTkZmVlU0Wnh2MzFoeDAvNVZURG84eTRYcXE5UEV0NHZOS3c4MExQVUV3MzZyL1kvdFpldDJFRm4vWk4vaVFBdWRxanFPTGQxcURoc2FGaFdOd29XS2FPUmN6dmRGSGJkSWZFZ3VyeGdPeCtKdkFqWjF0OVRZN21KRUJYeVdQaHp1TkJDU3JwRjVkQWRMZW1xcTd4UzZTY2tnN0gxczl6U3RYOENic2ZHeWswbjlzMXppR0F0aThvNjNDdDJZd1pGRHZDQmd2bEk2aEFmWEQ0R1ZJc3pTMzZqSGJCdTlUeGZOMk9PeGk4MWVrcE9rWC9WeE5qLzdDSHA0TERuK2ZrLytFYVRTWXBnOWxMd01pZVVBU2l1czgyUGlMNS9wM0JES2NwMDE2alVDMldlTDdma1pQclIzOVR6ZVorODNHb2lYTlQ3WDFtcXVyR1JEWlZXWWVHZGU1M3o5WWFtTmY0RWh2OXFQWFJUV005NnlBUXZMNTRDS3A0TzBxWCs5VGtHcVVmb1c3ZlM2VTRWSFdTTDVscE9aaVZqTi9LblZOazVINkRZNWlqUEVjSTRpRk9vN0U2TXgrMUhicEd3VjBIbzYvekVQcUs3czZUM0RhekpCVFRwNVM5YTI2SysxUDRIVGVFTFV1eVV4NUpIMVRseDJCTjVqVFVVVUl6anNiOU5xV1VrUDJIYnFqOXF4bkluQnVWZStyQ0RzekcvdEhxZVJ6bGNReGxuaGFTeEd4TTRsSVRtQWJ1bHBkVXJ4dk9lakxZQ05OWDRXWXVBQ1NNQ0hpOTZ6bmpxVTdXMFIzMkRwWHNtc1NOVlZITkNRYkpXMVhFa1FSN1VVZEFwYUs1WHFZL1RCMW1qcGRIUjcwclJHWm5SMitpelB0c3lkeDdNZVlyOWdaUTU5eEFEaWJsc1dnZlFXSU9Gc0loUUNCL1h4NHNLQklZUW1vWEJBSFJYZmVyWUZOVjZ2UUovUUVHTFJNcDlPVnY1K0tUQ2RERzFkbUc2Z2JxRzErbTl3WTY0K2lVRHlwbHFpaXk2cEJNWUt3Z3dDVjJvZUZSdXg4VDNNZjhBYTM5VW5FczdGdlhrMmhKMk42WkFpNWZOc3Y1NVFJM0Z5RTBQYTZMRlhUekk2NDFKQ2dPOVdNelI4Z2M1cC9FZnNFWC9YcUVXY3gxYTU0WDF4aHQrcUpuSERwVVZ2UVJJK0JrczVzeFFCbUcwQkpPUWpWOVBna1oxMEtvK2xRSXNPMTgwL05wS1JUVWpaQ3lVNGpIZldOTUx3bWVKcDlwVEZjUWNacW16TjMyaU0vbTR6bWZlVkNuZUt5TDU0Y2RkbFlXNVFmWEl6MXZyR05aa2FUd0k5WDNFN3E0TFlCZlM2TG9XNlZabnB3c2xSWUNmVytaQUJUYjA1RVJVWnNMM1FaYzdvVGJSVGZwb2ZDaWRtdkdpeUVlYTVKY2E3d1lNd2RzSkJiQzBSOVpvTDhpbVE0a1lHRnNDdXpqekMraEdiMHgreW5JQTM2MmhVTXdxZnNhWDM5aFRnZWROMnNqdC9LdmlCQVhvK2F3aUFIU2ZpckNYelFLT0V2VGVPTGhNY1gzYWdHMUxVQ25oY2hCUXNRQmJ0U21xdmwxMDhPbU9xUGlnOVUydEJkUFJ4bjhlWUlmSnlqeHNtSFE4YUlCelJtVmxPWnZaRzlDbkVIK0Q5WGZSY0tCdmIzZVpMb2lCRjlkYVJieGRuTko5TndKRy9TbnR5bE9uN2NxaVVNL2hwQTdaMy9EckZlbHZFQXNTL09WS3c2K2x1OWFQNUZiN1lSVmdkWDg5RnlSU1N4TDJMWHdFbzdHU3dwS28xenVwdDg2YlY4QmpRZ3FYZ2FpeGJhRWJTNC90SkQ5TVo5WE1xeWV6dlJTaWQwZUM3akhXcVZ2b2o5VHBHTTJNS2o2MHZ6YzZKQnhiMjJSTUFLQ01oYVlXaEk0dFYxWVpHcVp4T24vdjFCamF6ZzdoN2s2NTYvVUZJdFhHTWNHbjZXNVdZaHNCL09aeVIzZ1NDakIrWndxbmhzY045Mm1xZUhOZjdubU9FMmx1K3NzOGVBYktCZjNPdk1SMnBRM2RvTmRMTHhNRVN0OEQ4Q0IyNG9VSFRZZVR3dFh6QW5MUFVXWkFnRmJwbjB6VmcvR251ZVdCMXZ3ZXNLbkVDK1JtNHVkbkdxMnA2ME92SWFVblQzRUVuR0VBUFhtazYvWFYwamxaUSs2Tmp1QnVYMDZpdnlNZzh1Qk1wNFBUTUJFNTVlaTJPODV0b1JIR1FiZ1lXUFowdGltcVk0SVZPZlRMTGpqYTNyblo1aUtZSFNaTWp2STVwNkxlU2FEa282aVBoTFpwdnMzNDFaYjJnUnZoNHY5b0pzQmhkQmxTek5DWnhSR2NpK0xpNWJDaEtud0NXcFhFQ1NmcW9QNlFMY2xxYkpRVkU5SHVzWk9SSldZb2hFQmQ4aFpZOGFrcVpUaCtNLzh6OE14d04wOEZuWTRlN2FicStrU3R1RHY3OHFrY253WDNjemNENFhMNiswZDBoUWtESHg4QUtOVDVTeE5YN3pJSDF0ckoxWTNaeXVsRUhydk1vdW1ZK1RIa0VURGJDMGFtQXR6VTJIRlVrSzN5aWJVMXB3MmdmZ0EzdDBjSnVmUUxUSDIxVUN4VXpxZnYyUWpvQThDSUlmSSsyTHoxYnhvSG1KZFBXdW16U1o1REU3QXE2UVVPaFR0V1UxdjBxTHVsa1dKQlJacGtCZHkzRGhSeStxei9uT1FYbEZ1aHduSFQ3SWJ3L0JSczZKdjdkalRKbnZKL08zZUNvM0FnQkh3RXp1d2RrdkQ2Ynd3dit0aU1peEFQSi9FZGIwZyt4VndrcUg4VklrcGJIclZzWmEzWGJDK0ZKaXFKcFpuYWZsTDNjUjFBVEI4Zyt4eDBRMGsvTUxSVU40R29KR0w1M3Bxbk4wWmFVSk1COUhBL1BuZ0ZxOFgrazJlMEhzODZqVWprWXA2Vm95RTRDcTZRQnRHNCsvTElodnRvZC9kVWxZZUJsL2xCQU5iV0FkaVZtMjlLcnZid01kS2Z1bmE0QWlTZGt6bWc1ek5EZHExdGhjQVpIY204eHJzY0hkYXNMMTVUSHFnNUFtNm1ydzJzOVNLV3M3Nmk3b3phYkxFMWRJYjFwcWtRMVZwL1p0aWhSQVZSMVVVc1AzZVdjcVBVZThRUUFXdGpnR2loZ1VSMHdmSk5xUHJxUWNYUEowQUxrZ0NxOGQ4ZS9qWmhUbUpaSDQ2UW5sT0h5dFR2R2g1Vlkwa281RlJFVm1RdG5LSUhnUTJlV1lFRG1HL1BsYjVLamhOQVg4NlI5MTd0ZitIQlRQbTJkWkF5QkZUejdvZ244aGFmNCtMTmVwb25PMy9YNlJsc3FYVW5WMjRYS094YmhCMnVFSGVVWWtHR0RYci9HSGJiMGdURXZZdVlTb0dVOUVmRE9SOC9weHlDV3Q2ajV1UXBualdXQ1FJdVoxS3UxMnU1YXhReGRlYWRzU2lIei9jelVmUElqakVScysrbkc1ZWh6MlV5YlUrUFQrbG81OVI4Vlk5aWJRd000cytBRy9DVThKVkllaHR6M1o3a2U2S0xXTVpJdHJYSWpraTFCMzUvRDhqdHBpaEo4NlBTbUxzVHpGNzcxU2YycHBZOWFQUEhwSzhVM29MbWpEOXh4VURXaC9ya2k1ZUZBWnFBTTBBM0drQmpiWEd2VjZIRmxJazJDNU9lRnRnWmxSRGRNVS82emFqbS9QMU5ib1VScDFNTDNMM096WmdGR0c0MFBPeDh1bkZ6OGFmcFlVLzhFSkNHUnhvaUluYkNmRGV5NmhSbXIxUyszR0JDRTdkYnJobW9meVhmN3BmcW9BM0dXaVI1dHhrcUxOSjlRcmFsVEJQMkdXT0VUS2hjTGNVRkpMWUdFWnVRTUFvYXpXVDJPUzJQazN2cEdNckpKMzJRSDJRQTR0aU5jQTJHUFhVcjBKY2FLRytCcXc3Nk9jbWNma2c5TEFjM1E5akF0aHZ0V2JySGRicFFQWGQwcjhYQVRDNHhRUHdwQ3JRcy91QUhwYlh3eFowODRoMGlrQ2RiNjNxNFZUaEZ6elFObUpVWDIzbDF3NWpRQk5NTjB3dmY3MFZqb2ZUNUZRaURFVEJZRUd3PQ\\x3d\\x3d'\n};\n\n&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>This is my Soup from beautifulsoup4. \n   How would I get the variable out into like a json or any other way \n    to just take out like challenge\nThank you very much for the help!</p>\n"}, {"tags": ["python", "function", "dataframe"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1475700095, "post_id": 39883261, "comment_id": 67053640, "body": "Could you include the full traceback?"}, {"owner": {"reputation": 525, "user_id": 3839243, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f2dae740bd725c10fb3ae1e6e97c9b33?s=128&d=identicon&r=PG&f=1", "display_name": "user36729", "link": "https://stackoverflow.com/users/3839243/user36729"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1475700141, "post_id": 39883261, "comment_id": 67053660, "body": "Sorry, I&#39;m just a beginner. What is traceback?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1475700164, "post_id": 39883261, "comment_id": 67053680, "body": "All of the other stuff that comes with the error message"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1475700208, "post_id": 39883261, "comment_id": 67053702, "body": "It displays the state of the call stack before the error. It&#39;s the long piece of text before the error itself with function and file names, line numbers and rows of code. It would make pinpointing where the error is actually generated a lot easier."}, {"owner": {"reputation": 525, "user_id": 3839243, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f2dae740bd725c10fb3ae1e6e97c9b33?s=128&d=identicon&r=PG&f=1", "display_name": "user36729", "link": "https://stackoverflow.com/users/3839243/user36729"}, "edited": false, "score": 0, "creation_date": 1475700744, "post_id": 39883261, "comment_id": 67053949, "body": "I added them to the question."}, {"owner": {"reputation": 1023, "user_id": 3982405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b4pcz.jpg?s=128&g=1", "display_name": "Jalo", "link": "https://stackoverflow.com/users/3982405/jalo"}, "edited": false, "score": 0, "creation_date": 1475751782, "post_id": 39883261, "comment_id": 67074197, "body": "You are passing to <code>File2.apply()</code> the function name (Compute). However, I think that you should pass a call to that function, with your desired row e.g. <code>File2.apply(Compute(&#39;enter_your_row_here&#39;), axis=1)</code>"}, {"owner": {"reputation": 525, "user_id": 3839243, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f2dae740bd725c10fb3ae1e6e97c9b33?s=128&d=identicon&r=PG&f=1", "display_name": "user36729", "link": "https://stackoverflow.com/users/3839243/user36729"}, "edited": false, "score": 0, "creation_date": 1475758034, "post_id": 39883261, "comment_id": 67078458, "body": "But I want it to be ran on all &#39;File2&#39; rows. Will File2.apply(Compute(row), axis = 1) work for me?"}], "owner": {"reputation": 525, "user_id": 3839243, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f2dae740bd725c10fb3ae1e6e97c9b33?s=128&d=identicon&r=PG&f=1", "display_name": "user36729", "link": "https://stackoverflow.com/users/3839243/user36729"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1049, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1475706978, "creation_date": 1475699978, "last_edit_date": 1475706978, "question_id": 39883261, "link": "https://stackoverflow.com/questions/39883261/cannot-copy-sequence-with-size-11-to-array-axis-with-dimension-0", "title": "Cannot copy sequence with size 11 to array axis with dimension 0", "body": "<p>I have written a function in python in order to do some experiments on dataframe 'Demand' using information in each row of dataframe 'File2':</p>\n\n<pre><code>   def Compute(row):\n\n        File = pd.concat([File2[ (File2.Number == row['Number']) ]]*len(Demand), ignore_index = True)\n\n        File.Number = Demand.Number\n\n        result = pd.merge(Demand, File, on = 'Number')\n\n        result['Situation'] = 0\n\n        result.Situation = result.apply(lambda r: 1 if (r.Arrival &lt;= r.Time2) &amp; (r.Departure &gt; r.Time2) &amp; (r.Scenario == r.Scenario2) &amp; (sum(pd.Series(r.Station).isin([row['Station2']])) != 0) else 0, axis = 1)\n\n        if len(result) != 0:\n\n            result = result[ (result.Situation == 1) ]\n\n            return result\n\n\n    File2.apply(Compute, axis = 1)\n</code></pre>\n\n<p>While I don't get any error using simple for loop on 'File2', I am getting the following error when I use this function:</p>\n\n<pre><code>      Traceback (most recent call last):\n\n      File \"&lt;ipython-input-133-cbdaa2bf5936&gt;\", line 1, in &lt;module&gt;\n      File2.apply(Compute, axis = 1)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 3972, in apply\n      return self._apply_standard(f, axis, reduce=reduce)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 4081, in _apply_standard\n      result = self._constructor(data=results, index=index)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 226, in __init__\n      mgr = self._init_dict(data, index, columns, dtype=dtype)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 363, in _init_dict\ndtype=dtype)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 5163, in _arrays_to_mgr\n      arrays = _homogenize(arrays, index, dtype)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py\", line 5477, in _homogenize\nraise_cast_failure=False)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\series.py\", line 2887, in _sanitize_array\nsubarr = _asarray_tuplesafe(data, dtype=dtype)\n\n      File \"C:\\Users\\Research\\Anaconda3\\lib\\site-packages\\pandas\\core\\common.py\", line 2011, in _asarray_tuplesafe\n      result[:] = [tuple(x) for x in values]\n\n      ValueError: cannot copy sequence with size 11 to array axis with dimension 0\n\n      \"cannot copy sequence with size 11 to array axis with dimension 0\"\n</code></pre>\n\n<p>Could you please tell me what is the potential problem?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 0, "creation_date": 1475700424, "post_id": 39883232, "comment_id": 67053802, "body": "what have you tried? check out <a href=\"http://pandas.pydata.org/pandas-docs/stable/text.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/text.html</a>"}, {"owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "reply_to_user": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 0, "creation_date": 1475700794, "post_id": 39883232, "comment_id": 67053970, "body": "I don&#39;t want to replace the string by any text. What I&#39;ve tried was to reset the index to <code>SampleID</code> and use <code>df.loc[ParentID]</code> but then I couldn&#39;t retrieve the previous id"}], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "edited": false, "score": 0, "creation_date": 1475759481, "post_id": 39883603, "comment_id": 67079530, "body": "Uh, I really liked the map one!!! I use a lot of javascript and I used some map/reduce for school projects for &#39;big data&#39; problems and mapping is a common practice. For this reason this seems clearer to me even though the merge is also clear. Thank you very much!"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1475704051, "last_edit_date": 1475704051, "creation_date": 1475701308, "answer_id": 39883603, "question_id": 39883232, "link": "https://stackoverflow.com/questions/39883232/pandas-self-reference-of-instances-in-column/39883603#39883603", "title": "Pandas - Self reference of instances in column", "body": "<p>I think you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.merge.html\" rel=\"nofollow\"><code>merge</code></a> and then assign column <code>index</code>:</p>\n\n<pre><code>df1 = pd.merge(df[['SampleID']].reset_index(), \n               df[['ParentID']], \n               left_on='SampleID',\n               right_on='ParentID')\nprint (df1)\n   index SampleID ParentID\n0      2      S20      S20\n1      3      S30      S30\n2      4      S40      S40\n\ndf['ParentID'] = df1['index']\ndf.fillna('', inplace=True)\nprint (df)\n  SampleID ParentID\n0      S10        2\n1      S10        3\n2      S20        4\n3      S30         \n4      S40      \n</code></pre>\n\n<hr>\n\n<p>Another solution with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.map.html\" rel=\"nofollow\"><code>map</code></a> and <code>dict</code> where swap keys with values:</p>\n\n<pre><code>d = dict((v,k) for k,v in df.SampleID.iteritems())\nprint (d)\n{'S10': 1, 'S40': 4, 'S20': 2, 'S30': 3}\n\ndf.ParentID = df.ParentID.map(d)\ndf.ParentID.fillna('', inplace=True)\nprint (df)\n  SampleID ParentID\n0      S10        2\n1      S10        3\n2      S20        4\n3      S30         \n4      S40         \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "edited": false, "score": 0, "creation_date": 1475702443, "post_id": 39883828, "comment_id": 67054671, "body": "This didn&#39;t work. It gave an error saying about comparing strings and ndarray <code>TypeError: Cannot compare types &#39;ndarray(dtype=float64)&#39; and &#39;str&#39; </code>"}, {"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "reply_to_user": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "edited": false, "score": 1, "creation_date": 1475702625, "post_id": 39883828, "comment_id": 67054746, "body": "it&#39;s inplace so if you run it twice, you very likely get a dumb answer the second time because the mapping is already done"}, {"owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "edited": false, "score": 0, "creation_date": 1475757496, "post_id": 39883828, "comment_id": 67078012, "body": "That&#39;s true. I read the csv file again and it didn&#39;t throw an error. It seems much slower, though. It&#39;s been running for a while and no response so far. I think the .tolist() transformation is what makes the process slow"}], "tags": [], "owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "is_accepted": false, "score": 1, "last_activity_date": 1475702255, "creation_date": 1475702255, "answer_id": 39883828, "question_id": 39883232, "link": "https://stackoverflow.com/questions/39883232/pandas-self-reference-of-instances-in-column/39883828#39883828", "title": "Pandas - Self reference of instances in column", "body": "<p>Use <code>replace</code> by passing along the mapping lists of values to replace:</p>\n\n<pre><code>df.ParentID.replace(df.SampleID.tolist(), df.index.tolist(), inplace=True)\n\ndf\nOut[22]: \n  SampleID  ParentID\n0      S10       2.0\n1      S10       3.0\n2      S20       4.0\n3      S30       NaN\n4      S40       NaN\n</code></pre>\n"}], "owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 39883603, "answer_count": 2, "score": 0, "last_activity_date": 1475704051, "creation_date": 1475699855, "last_edit_date": 1495540853, "question_id": 39883232, "link": "https://stackoverflow.com/questions/39883232/pandas-self-reference-of-instances-in-column", "title": "Pandas - Self reference of instances in column", "body": "<p>I have the following DF</p>\n\n<pre><code> SampleID ParentID\n0  S10        S20    \n1  S10        S30    \n2  S20        S40     \n3  S30              \n4  S40       \n</code></pre>\n\n<p>How can I put the id of the other row in the column 'ParentID' instead of the string?</p>\n\n<p>Expected result:</p>\n\n<pre><code> SampleID ParentID \n0  S10        2    \n1  S10        3    \n2  S20        4   \n3  S30              \n4  S40              \n</code></pre>\n\n<p>The closest result I found for this problem was:\n<a href=\"https://stackoverflow.com/questions/28101317/how-to-self-reference-column-in-pandas-data-frame\">How to self-reference column in pandas Data Frame?</a></p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 1, "creation_date": 1475699747, "post_id": 39883182, "comment_id": 67053458, "body": "Have you tried <code>user2[&quot;CallTime&quot;] = CallTime</code>? :)"}, {"owner": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1475735388, "post_id": 39883182, "comment_id": 67064133, "body": "Returns an error message. See the main body of the question."}, {"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1475740630, "post_id": 39883182, "comment_id": 67067001, "body": "If you want people to be able to help you better, have a look at how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Specifically, we need to know what your format your data is in!"}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "edited": false, "score": 0, "creation_date": 1475734514, "post_id": 39883467, "comment_id": 67063739, "body": "I tried what you suggested this time with a different dataframe called user3 and a np.ndarray called labels.  Both have the same number of rows:         type(labels)       Out[64]: numpy.ndarray       labels.shape       Out[65]: (1405,)       user3.shape       Out[66]: (1405, 4) I entered:       user3[&#39;labels&#39;] = pd.Series(labels[:, 0]) and I received the following error message:      File &quot;&lt;ipython-input-63-95a7b4c124a8&gt;&quot;, line 1, in &lt;module&gt;      user3[&#39;labels&#39;] = pd.Series(labels[:, 0])     IndexError: too many indices for array"}], "tags": [], "owner": {"reputation": 1851, "user_id": 4177078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c881f10920eedf522afae7bc193d6c?s=128&d=identicon&r=PG&f=1", "display_name": "rojeeer", "link": "https://stackoverflow.com/users/4177078/rojeeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1475700828, "creation_date": 1475700828, "answer_id": 39883467, "question_id": 39883182, "link": "https://stackoverflow.com/questions/39883182/append-a-column-to-a-dataframe-in-pandas/39883467#39883467", "title": "Append a column to a dataframe in Pandas", "body": "<p><code>pandas DataFrame</code> is a 2-dimensional data structure, and each column of a <code>DataFrame</code> is a 1-dimensional <code>Series</code>. So if you want to add one column to a DataFrame, you must first convert it into <code>Series</code>. np.ndarray is a multi-dimensional data structure. From your code, I believe the shape of np.ndarray <code>CallTime</code> should be <code>nx1</code> (<code>n</code> rows and <code>1</code> colmun), and it's easy to convert it to a Series. Here is an example:</p>\n\n<pre><code>df = DataFrame(np.random.rand(5,2), columns=['A', 'B'])\n</code></pre>\n\n<p>This creates a dataframe <code>df</code> with two columns 'A' and 'B', and <code>5</code> rows.</p>\n\n<pre><code>CallTime = np.random.rand(5,1)\n</code></pre>\n\n<p>Assume this is your <code>np.ndarray</code> data <code>CallTime</code></p>\n\n<pre><code>df['C'] = pd.Series(CallTime[:, 0])\n</code></pre>\n\n<p>This will add a new column to <code>df</code>. Here <code>CallTime[:,0]</code> is used to select first column of <code>CallTime</code>, so if you want to use different column from <code>np.ndarray</code>, change the index.</p>\n\n<p>Please make sure that the number of rows for <code>df</code> and <code>CallTime</code> are equal.</p>\n\n<p>Hope this would be helpful.</p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "edited": false, "score": 0, "creation_date": 1475740488, "post_id": 39889564, "comment_id": 67066907, "body": "I am still receiving an error message.  Look at the main body of the question."}, {"owner": {"reputation": 1827, "user_id": 2027457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yH8Bv.jpg?s=128&g=1", "display_name": "n1tk", "link": "https://stackoverflow.com/users/2027457/n1tk"}, "reply_to_user": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "edited": false, "score": 0, "creation_date": 1475744245, "post_id": 39889564, "comment_id": 67069318, "body": "@AlexanderKonstantinidis, try this one user2.loc[:,&#39;CallTime&#39;] = CallTime.tolist() , I edited the answer so should work now."}, {"owner": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "edited": false, "score": 0, "creation_date": 1475746309, "post_id": 39889564, "comment_id": 67070762, "body": "Thank you.  The column was appended although I still got the same error message which is kind of strange."}, {"owner": {"reputation": 1827, "user_id": 2027457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yH8Bv.jpg?s=128&g=1", "display_name": "n1tk", "link": "https://stackoverflow.com/users/2027457/n1tk"}, "reply_to_user": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "edited": false, "score": 0, "creation_date": 1475746898, "post_id": 39889564, "comment_id": 67071125, "body": "Will work, you can ignore the warning and here is the description for the warning: &quot;The warning is here to stop you modifying a copy (user2.loc[:,&#39;CallTime&#39;] = CallTime.tolist() is potentially a copy, and if it is then any modifications would not change the original frame. It could be that it works correctly in some cases but pandas cannot guarantee it will work in all cases... use at your own risk (consider yourself warned! ;) ).&quot;"}], "tags": [], "owner": {"reputation": 1827, "user_id": 2027457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yH8Bv.jpg?s=128&g=1", "display_name": "n1tk", "link": "https://stackoverflow.com/users/2027457/n1tk"}, "is_accepted": false, "score": 0, "last_activity_date": 1475744213, "last_edit_date": 1495535568, "creation_date": 1475737406, "answer_id": 39889564, "question_id": 39883182, "link": "https://stackoverflow.com/questions/39883182/append-a-column-to-a-dataframe-in-pandas/39889564#39889564", "title": "Append a column to a dataframe in Pandas", "body": "<p>I think instead to provide only documentation, I will try to provide a sample:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndata = {'A': [2010, 2011, 2012],\n    'B': ['Bears', 'Bears', 'Bears'],\n    'C': [11, 8, 10],\n    'D': [5, 8, 6]}\nuser2 = pd.DataFrame(data, columns=['A', 'B', 'C', 'D'])\n\n#creating the array what will append to pandas dataframe user2\nCallTime = np.array([1, 2, 3])\n\n#convert to list the ndarray array CallTime, if you your CallTime is a matrix than after converting to list you can iterate or you can convert into dataframe and just append column required or just join the dataframe.\n\nuser2.loc[:,'CallTime'] = CallTime.tolist()\n\n\nprint(user2)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GuchR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GuchR.jpg\" alt=\"result of dataframe user2\"></a></p>\n\n<p>I think this one will help, also check <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tolist.html\" rel=\"nofollow noreferrer\">numpy.ndarray.tolist</a> documentation if need to find out why we need the list and how to do, also here is example how to create dataframe from numpy in case of need <a href=\"https://stackoverflow.com/a/35245297/2027457\">https://stackoverflow.com/a/35245297/2027457</a></p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 9288752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f1de8b4b9f83b72700887a7f06ff8a?s=128&d=identicon&r=PG&f=1", "display_name": "Xiaojian Chen", "link": "https://stackoverflow.com/users/9288752/xiaojian-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533468655, "creation_date": 1533468655, "answer_id": 51693923, "question_id": 39883182, "link": "https://stackoverflow.com/questions/39883182/append-a-column-to-a-dataframe-in-pandas/51693923#51693923", "title": "Append a column to a dataframe in Pandas", "body": "<p>Here is a simple solution.</p>\n\n<pre><code>user2[\"CallTime\"] = CallTime\n</code></pre>\n\n<p>The problem here for you is that CallTime is an array, you couldn't use .values. Since .values is used to convert a dataframe to array. For example,</p>\n\n<pre><code>df = DataFrame(np.random.rand(10,2), columns=['A', 'B'])\n# The followings are correct\ndf.values\ndf['A'].values\ndf['B'].values \n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 6875401, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/58298ad9864486901cceffd189516eb2?s=128&d=identicon&r=PG&f=1", "display_name": "AlK", "link": "https://stackoverflow.com/users/6875401/alk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5505, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1533468655, "creation_date": 1475699625, "last_edit_date": 1475747830, "question_id": 39883182, "link": "https://stackoverflow.com/questions/39883182/append-a-column-to-a-dataframe-in-pandas", "title": "Append a column to a dataframe in Pandas", "body": "<p>I am trying to append a numpy.darray to a dataframe with little success.\nThe dataframe is called user2 and the numpy.darray is called CallTime.</p>\n\n<p>I tried:</p>\n\n<pre><code>user2[\"CallTime\"] = CallTime.values\n</code></pre>\n\n<p>but I get an error message:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;ipython-input-53-fa327550a3e0&gt;\", line 1, in &lt;module&gt;\nuser2[\"CallTime\"] = CallTime.values\nAttributeError: 'numpy.ndarray' object has no attribute 'values'\n</code></pre>\n\n<p>Then I tried:</p>\n\n<pre><code>user2[\"CallTime\"] = user2.assign(CallTime = CallTime.values)\n</code></pre>\n\n<p>but I get again the same error message as above.</p>\n\n<p>I also tried to use the merge command but for some reason it was not recognized by Python although I have imported pandas.  In the example below CallTime is a dataframe:</p>\n\n<pre><code> user3 = merge(user2, CallTime)\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>  Traceback (most recent call last):\n  File \"&lt;ipython-input-56-0ebf65759df3&gt;\", line 1, in &lt;module&gt;\n  user3 = merge(user2, CallTime)\n  NameError: name 'merge' is not defined\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "timer", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 1759, "user_id": 2467544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP1mx.png?s=128&g=1", "display_name": "Blake O&#39;Hare", "link": "https://stackoverflow.com/users/2467544/blake-ohare"}, "is_accepted": false, "score": 2, "last_activity_date": 1475802522, "last_edit_date": 1475802522, "creation_date": 1475700609, "answer_id": 39883405, "question_id": 39883175, "link": "https://stackoverflow.com/questions/39883175/game-timer-in-pygame/39883405#39883405", "title": "Game timer in pygame", "body": "<p>Create your own timer class. Use <code>time.time()</code> (from the regular python <code>time</code> module). </p>\n\n<pre><code>import time\n\nclass MyTimer:\n    def __init__(self):\n        self.elapsed = 0.0\n        self.running = False\n        self.last_start_time = None\n\n    def start(self):\n        if not self.running:\n            self.running = True\n            self.last_start_time = time.time()\n\n    def pause(self):\n        if self.running:\n            self.running = False\n            self.elapsed += time.time() - self.last_start_time\n\n    def get_elapsed(self):\n        elapsed = self.elapsed\n        if self.running:\n            elapsed += time.time() - self.last_start_time\n        return elapsed\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3376286, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/825513064/picture?type=large", "display_name": "Milnik", "link": "https://stackoverflow.com/users/3376286/milnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475802522, "creation_date": 1475699614, "question_id": 39883175, "link": "https://stackoverflow.com/questions/39883175/game-timer-in-pygame", "title": "Game timer in pygame", "body": "<p>I'm trying to implement a game timer for a word memory game. The game has a start screen, so the time should be calculated from when the user presses \"play\", paused when the user presses \"pause\" mid game and continued when the user presses \"continue\" on the pause screen.\nI understand that the correct implementation of this should be independent(ish) of the ticks as i'm using that to control fps. Also it is suggested to use pygame.time.set_times(), which in most examples takes (USEREVENT+1, 1000) as arguments. What is USEREVENT? I can't grasp the documentation for this function.</p>\n\n<p>Below is my implementation. It starts measuring time at pygame.init(), not whhen i call my game loop although the function call for timer() is in the game loop,  and can't be paused. How do i rewrite it in order to be able to control the start/stop state of the timer?</p>\n\n<p>Thanks!</p>\n\n<pre><code>def timer():   \n    #isOn =True         \n    #while isOn:\n    second=round((pygame.time.get_ticks())/1000)\n    minute=0\n    hour=0    \n\n    minute, second=divmod(second, 60)\n    hour, minute=divmod(minute, 60)\n    #text=smallfont.render(\"Elapsed time: \"+str(getSeconds), True, WHITE)       \n    text=smallfont.render(\"Elapsed time: \"+str(\"%d\" %hour + \" : \"+\"%d\" %minute + \" : \"+\"%d\" %second), True, WHITE) \n    gameDisplay.blit(text, [0+MARGIN,350])\n    return time\n</code></pre>\n"}, {"tags": ["python", "optimization"], "comments": [{"owner": {"reputation": 1185, "user_id": 6054326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TOp-QTMQJ7Y/AAAAAAAAAAI/AAAAAAAAFiI/MwmBvJaIs-U/photo.jpg?sz=128", "display_name": "Victor Chubukov", "link": "https://stackoverflow.com/users/6054326/victor-chubukov"}, "edited": false, "score": 0, "creation_date": 1475699871, "post_id": 39883173, "comment_id": 67053537, "body": "What do you think the answer should be? It looks to me like this function is miminzed at x=infinity"}, {"owner": {"reputation": 117, "user_id": 3338009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe98b0310306c80020a75040704ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "DivideByZero", "link": "https://stackoverflow.com/users/3338009/dividebyzero"}, "reply_to_user": {"reputation": 1185, "user_id": 6054326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TOp-QTMQJ7Y/AAAAAAAAAAI/AAAAAAAAFiI/MwmBvJaIs-U/photo.jpg?sz=128", "display_name": "Victor Chubukov", "link": "https://stackoverflow.com/users/6054326/victor-chubukov"}, "edited": false, "score": 0, "creation_date": 1475700101, "post_id": 39883173, "comment_id": 67053643, "body": "@VictorChubukov my bad I am looking for root finding methods so that f(x) = 0. I think scipy.optimize.newton will do what I am looking for. Thanks"}, {"owner": {"reputation": 1185, "user_id": 6054326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TOp-QTMQJ7Y/AAAAAAAAAAI/AAAAAAAAFiI/MwmBvJaIs-U/photo.jpg?sz=128", "display_name": "Victor Chubukov", "link": "https://stackoverflow.com/users/6054326/victor-chubukov"}, "edited": false, "score": 0, "creation_date": 1475700339, "post_id": 39883173, "comment_id": 67053762, "body": "Ok (comment removed as original comment was edited)"}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 3338009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe98b0310306c80020a75040704ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "DivideByZero", "link": "https://stackoverflow.com/users/3338009/dividebyzero"}, "is_accepted": true, "score": 0, "last_activity_date": 1475701806, "creation_date": 1475701806, "answer_id": 39883720, "question_id": 39883173, "link": "https://stackoverflow.com/questions/39883173/scipy-minimization-optimization-of-simple-function/39883720#39883720", "title": "scipy minimization/optimization of simple function", "body": "<p>As Victor mentioned, the optimization function is working correctly,</p>\n\n<p>I was looking to solve <code>f(x) --&gt; 0</code> which requires a root finding method rather than an optimization routine.</p>\n\n<p>for example: </p>\n\n<p><code>scipy.optimize.root(testfun, 1)</code> or <code>scipy.optimize.Newton(testfun, 1)</code></p>\n"}], "owner": {"reputation": 117, "user_id": 3338009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe98b0310306c80020a75040704ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "DivideByZero", "link": "https://stackoverflow.com/users/3338009/dividebyzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 39883720, "answer_count": 1, "score": 0, "last_activity_date": 1475701806, "creation_date": 1475699611, "last_edit_date": 1475700004, "question_id": 39883173, "link": "https://stackoverflow.com/questions/39883173/scipy-minimization-optimization-of-simple-function", "title": "scipy minimization/optimization of simple function", "body": "<p>I'm having trouble optimizing a very simple function I'm using as a test case before moving on to something more complex. I've tried different optimization methods, giving the method a bound and even giving the exact solution as the initial guess.</p>\n\n<p>Function I'm trying to optimize: <code>f(x) = 1 / x - x</code></p>\n\n<p>Here is my code:</p>\n\n<pre><code>import scipy\ndef testfun(x): return (1 / x - x) \n\nsol = scipy.optimize.minimize(testfun, 1).x\n</code></pre>\n\n<p>it returns large numbers (3.2 e+08) as the solution</p>\n\n<p>Am I using the optimization function incorrectly?</p>\n"}, {"tags": ["python", "class", "loops", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475700905, "post_id": 39883127, "comment_id": 67054020, "body": "Way more pythonic:) I think this is a dumb question and shows my noobness, but how can I get John&#39;s Age through the class once I have the objects created?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475701284, "post_id": 39883127, "comment_id": 67054175, "body": "I&#39;m assuming you mean: which object <code>e</code> in the list has <code>e.name == &quot;John&quot;</code>? Without some index, you just need to walk through it: <code>johns_age =   [e.age for e in employees if e.name == &quot;John&quot;][0]</code>."}, {"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475773791, "post_id": 39883127, "comment_id": 67089195, "body": "Thanks again. I have looked into indexing and am thoroughly confused on how to do it. Can you link me to something you think would be helpful for a beginner?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475774632, "post_id": 39883127, "comment_id": 67089650, "body": "A <code>dict</code> can be a simple index: <code>d = {&quot;John&quot;: Employee(&quot;John&quot;, 30, &quot;Employed&quot;)}</code>. Here, you could access the correct <code>Employeed</code> object using <code>d[name]</code> as long as <code>name</code> was set to the correct value."}, {"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475775801, "post_id": 39883127, "comment_id": 67090285, "body": "My ultimate objective is to use objects to analyze a much larger dataset, so I will need something other than setting a unique variable for each employee. Does that make sense?"}, {"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1475779003, "post_id": 39883127, "comment_id": 67092066, "body": "Had a duh moment where I can just run a for loop on employees to get all ages.        for i in employees:          print (i.age)"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 4, "last_activity_date": 1475699411, "creation_date": 1475699411, "answer_id": 39883127, "question_id": 39883083, "link": "https://stackoverflow.com/questions/39883083/how-to-create-and-set-variables-as-classes-from-a-list-of-tuples/39883127#39883127", "title": "How to create and set variables as classes from a list of tuples?", "body": "<p>You just need</p>\n\n<pre><code>employees = [Employee(*v) for v in employee_list]\n</code></pre>\n\n<p>Note that <code>employees</code> and <code>Employee.elist</code> are essentially the same once\neach <code>Employee</code> object has been created.</p>\n"}], "owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1475699478, "creation_date": 1475699191, "last_edit_date": 1475699478, "question_id": 39883083, "link": "https://stackoverflow.com/questions/39883083/how-to-create-and-set-variables-as-classes-from-a-list-of-tuples", "title": "How to create and set variables as classes from a list of tuples?", "body": "<p>I am trying to figure out how to create variables from a list of tuple and assign them to a class. </p>\n\n<p>I have data organized like this</p>\n\n<pre><code> Name  Age  Status\n John  30   Employed\n</code></pre>\n\n<p>That I have created a list of tuple like this</p>\n\n<pre><code> employeelist = [(John, 30, Employed), (Steve, 25, Part-Time)]\n</code></pre>\n\n<p>And a class set up like this </p>\n\n<pre><code>class Employee():\necount = 0\nelist = []\n\ndef __init__(self, name, age, emp_status):\n    self.name = name\n    self.age = age\n    self.emp_status = emp_status\n    self.lookup = {}\n    Employee.ecount = Employee.ecount+1\n    Employee.elist.append(self.name)\n</code></pre>\n\n<p>Using this code I am able to turn the tuple into an instance of the class</p>\n\n<pre><code> for i in range(0, len(employeelist),1):\n    sublist = [str(n) for n in employeelist[i]]\n    Employee(sublist[0], sublist[1], sublist[2])\n</code></pre>\n\n<p>But I am not able to access them. Is there a way to think about setting up the for loop to create a variable from sublist[0] and then create a class out of it (e.g. sublist[0] = Employee(sublist[0], sublist[1], sublist[2]))?</p>\n"}, {"tags": ["python", "testing", "twisted", "trial"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6928574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0141b61b9f20ef1a25a8c0a8d70547f?s=128&d=identicon&r=PG&f=1", "display_name": "ppao", "link": "https://stackoverflow.com/users/6928574/ppao"}, "edited": false, "score": 0, "creation_date": 1475706411, "post_id": 39883194, "comment_id": 67056148, "body": "Is there any way to tell if the setUp is failing? It looks like it&#39;s completing successfully and moving on to the test. Then it fails in the test and tearDown never gets called"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "reply_to_user": {"reputation": 1, "user_id": 6928574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0141b61b9f20ef1a25a8c0a8d70547f?s=128&d=identicon&r=PG&f=1", "display_name": "ppao", "link": "https://stackoverflow.com/users/6928574/ppao"}, "edited": false, "score": 0, "creation_date": 1475706862, "post_id": 39883194, "comment_id": 67056288, "body": "Does the timeout raise an exception? If so you could try catching that exception. But it is hard to say without seeing the method. Could you add the code of your <code>setUp</code> method to your question?"}], "tags": [], "owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "is_accepted": false, "score": 1, "last_activity_date": 1475699688, "creation_date": 1475699688, "answer_id": 39883194, "question_id": 39883058, "link": "https://stackoverflow.com/questions/39883058/teardown-not-called-after-timeout-in-twisted-trial/39883194#39883194", "title": "tearDown not called after timeout in twisted trial?", "body": "<p>You are correct that <code>tearDown()</code> should be called regardless of what happens in your test. From <a href=\"https://docs.python.org/2/library/unittest.html#unittest.TestCase.tearDown\" rel=\"nofollow\">the documentation</a> for <code>tearDown()</code>:</p>\n\n<blockquote>\n  <p>This is called even if the test method raised an exception</p>\n</blockquote>\n\n<p>However, there is a catch. From the same documentation:</p>\n\n<blockquote>\n  <p>This method will only be called if the setUp() succeeds, regardless of the outcome of the test method.</p>\n</blockquote>\n\n<p>So it sounds like you perhaps start the reactor in <code>setUp()</code> and when it times out, this is preventing your <code>tearDown()</code> from running - the idea being that whatever you were trying to \"set up\" in <code>setUp()</code> was <em>not</em> successfully set up, so you do not want to try to tear it down. However, it would be hard to diagnose with certainty unless you provide the code of your <code>setUp</code> and <code>tearDown</code> methods, along with the code of any relevant tests. </p>\n"}, {"tags": [], "owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "is_accepted": false, "score": 1, "last_activity_date": 1475731604, "creation_date": 1475731604, "answer_id": 39888137, "question_id": 39883058, "link": "https://stackoverflow.com/questions/39883058/teardown-not-called-after-timeout-in-twisted-trial/39888137#39888137", "title": "tearDown not called after timeout in twisted trial?", "body": "<p>It's rather strange because on my box, the teardown executes even if a timeout occurs. The tests should stop running if the reactor is not in a clean state, unless you use the <code>--unclean-warnings</code> flag. Does the test runner stop after the timeout for you? What version of Python and Twisted are you running?</p>\n\n<p>As a side note, if you need to run a unique teardown for a specific test function, there's a very convenient <a href=\"https://twistedmatrix.com/documents/current/core/howto/trial.html#cleaning-up-after-tests\" rel=\"nofollow\"><code>addCleanup()</code></a> callback. It comes in handy if you need to cancel callback, LoopingCall, or callLater functions so that the reactor isn't in a dirty state. <code>addCleanup</code> returns a <code>Deferred</code> so you can just chain callbacks that perform an adhoc teardown. It might be a good option to try if the class teardown isn't working for you.</p>\n\n<p>PS</p>\n\n<p>I've been so used to writing \"well behaved\" Twisted code, I don't even recall how to get into an unclean reactor state :D I swear I'm not bragging. Could you provide me a brief summary of what you're doing so that I could test it out on my end?</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6928574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0141b61b9f20ef1a25a8c0a8d70547f?s=128&d=identicon&r=PG&f=1", "display_name": "ppao", "link": "https://stackoverflow.com/users/6928574/ppao"}, "is_accepted": false, "score": 0, "last_activity_date": 1481058980, "creation_date": 1481058980, "answer_id": 41005067, "question_id": 39883058, "link": "https://stackoverflow.com/questions/39883058/teardown-not-called-after-timeout-in-twisted-trial/41005067#41005067", "title": "tearDown not called after timeout in twisted trial?", "body": "<p>I found the problem, I'll put this here in case it's helpful to anyone else in the future.</p>\n\n<p>I was returning a deferred from the test that had already been called (as in, deferred.callback had been called), but it still had an unfinished callback chain. From what I can see in the trial code here <a href=\"https://github.com/twisted/twisted/blob/twisted-16.5.0/src/twisted/trial/_asynctest.py#L92\" rel=\"nofollow noreferrer\">https://github.com/twisted/twisted/blob/twisted-16.5.0/src/twisted/trial/_asynctest.py#L92</a>, the reactor is crashed when this happens, which explains why the tearDown doesn't get called. The solution for me was to return a deferred from the offending tests that does not have a callback chain that lives for a long time (it's callbacks do not return deferreds themselves).</p>\n"}], "owner": {"reputation": 1, "user_id": 6928574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0141b61b9f20ef1a25a8c0a8d70547f?s=128&d=identicon&r=PG&f=1", "display_name": "ppao", "link": "https://stackoverflow.com/users/6928574/ppao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1481058980, "creation_date": 1475699084, "question_id": 39883058, "link": "https://stackoverflow.com/questions/39883058/teardown-not-called-after-timeout-in-twisted-trial", "title": "tearDown not called after timeout in twisted trial?", "body": "<p>I'm seeing an issue in my test suite in trial where everything works fine until I get a timeout. If a test fails due to a timeout, the tearDown function never gets called, leaving the reactor unclean which in turn causes the rest of the tests to fail. I believe tearDown should be called after a timeout, does anyone know why this might happen?</p>\n"}, {"tags": ["python", "python-3.5", "typing"], "comments": [{"owner": {"reputation": 40406, "user_id": 336527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a57f523157ebdf6e5a9662d2e8754b9?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/336527/max"}, "edited": false, "score": 0, "creation_date": 1492408533, "post_id": 39883043, "comment_id": 73947957, "body": "FWIW, there is a <a href=\"https://github.com/python/mypy/issues/3062\" rel=\"nofollow noreferrer\">discussion</a> about adding types that represent just a few specific values. But certainly, there&#39;s no need for that in this case, since <code>enum</code> fits perfectly."}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 7219515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7o82.jpg?s=128&g=1", "display_name": "Lukisn", "link": "https://stackoverflow.com/users/7219515/lukisn"}, "is_accepted": false, "score": 4, "last_activity_date": 1489745738, "creation_date": 1489745738, "answer_id": 42854778, "question_id": 39883043, "link": "https://stackoverflow.com/questions/39883043/typing-module-string-literal-type/42854778#42854778", "title": "typing module - String Literal Type", "body": "<p>Disregarding the <code>typing</code> module you asked about, one solution to your problem could be the use of an <code>Enum</code> as supposed in multiple comments. The code for this would look like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from enum import Enum\n\nclass Quadrant(Enum):\n    I = 1\n    II = 2\n    III = 3\n    IV = 4\n\ndef compute_quadrant(x: int, y: int) -&gt; Quadrant:\n    if x &gt; 0 and y &gt; 0:\n        return Quadrant.I\n    elif x &lt; 0 and y &gt; 0:\n        return Quadrant.II\n    elif x &lt; 0 and y &lt; 0:\n        return Quadrant.III\n    elif x &gt; 0 and y &lt; 0:\n        return Quadrant.IV\n    # return None  # this is what happens without an else clause!\n\nif __name__ == \"__main__\":\n    quad = compute_quadrant(1, -1)\n    print(quad, type(quad))              # -&gt; Quadrant.IV &lt;enum 'Quadrant'&gt;\n    print(quad.name, type(quad.name))    # -&gt; IV &lt;class 'str'&gt;\n    print(quad.value, type(quad.value))  # -&gt; 4 &lt;class 'int'&gt;\n</code></pre>\n\n<p>As you can see you can use the Enums name and value. The name is one of the strings you asked for.</p>\n\n<p>One issue I see here is the missing else clause in the function and mypy's current behaviour of accepting <code>None</code> as a valid return value for <code>Quadrant</code>. This should be handled manually.</p>\n"}], "owner": {"reputation": 161, "user_id": 6928526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60f04ce6bb13b2b397dfed12f773d5e?s=128&d=identicon&r=PG&f=1", "display_name": "fructosewizard", "link": "https://stackoverflow.com/users/6928526/fructosewizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2785, "favorite_count": 4, "closed_date": 1569503603, "answer_count": 1, "score": 16, "last_activity_date": 1492426717, "creation_date": 1475699040, "last_edit_date": 1492426717, "question_id": 39883043, "link": "https://stackoverflow.com/questions/39883043/typing-module-string-literal-type", "closed_reason": "Duplicate", "title": "typing module - String Literal Type", "body": "<p>I'm using the new Python 3.5 module <a href=\"https://docs.python.org/3/library/typing.html#module-typing\" rel=\"noreferrer\">typing</a> and it has been joyous.</p>\n\n<p>I was wondering how one might specify a type based on an exact string literal. For example, a function is guaranteed to return one of the four strings - \"North\", \"West\", \"East\", \"South - how can we express that as a specific type variable, instead of just <code>str</code>.</p>\n\n<p>I looked through the documentation, finding the <code>Union</code> type and the <code>TypeVar</code> function, but was unable to find an answer.</p>\n\n<p>An example function expressing this problem:</p>\n\n<pre><code>def compute_quadrant(x: int, y: int) -&gt; str:\n    if x &gt; 0 and y &gt; 0:\n        return 'I'\n    elif x &lt; 0 and y &gt; 0:\n        return 'II'\n    elif x &lt; 0 and y &lt; 0:\n        return 'III'\n    elif x &gt; 0 and y &lt; 0:\n        return 'IV'\n</code></pre>\n\n<p>Instead of just returning <code>str</code>, I'd like to to return a more specific type that is one of four values - <code>\"I\"</code>, <code>\"II\"</code>, <code>\"III\"</code>, or <code>\"IV\"</code>.</p>\n\n<p>In Typescript, one can do: <code>type Quadrant = \"I\" | \"II\" | \"III\" | \"IV\"</code> - is there any nice Python sugar for this use case with the <code>typing</code> module?</p>\n"}, {"tags": ["python", "loops", "for-loop", "long-running-processes", "pause"], "comments": [{"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1475699291, "post_id": 39882967, "comment_id": 67053233, "body": "Use your hardware/OS to do it, hibernate, or put the whole thing in a virtual machine and save the machine state instead of turning it off."}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1475699418, "post_id": 39882967, "comment_id": 67053291, "body": "I was thinking something along the lines of putting the loop inside of a <code>try</code> block and then <code>except KeyboardInterrupt: outfile.close()</code>so that data would be intact if you force closed the program during the loop. The &#39;picking up where you left off&#39; idea is mind-boggling for me, though!"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475699495, "post_id": 39882967, "comment_id": 67053337, "body": "Have a look at the <code>with</code> statement."}, {"owner": {"reputation": 885, "user_id": 5149992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/10153144427069790/picture?type=large", "display_name": "RBuntu", "link": "https://stackoverflow.com/users/5149992/rbuntu"}, "edited": false, "score": 0, "creation_date": 1475699529, "post_id": 39882967, "comment_id": 67053352, "body": "You could change the code to write both the total sum as well as the last number that was added as a comma separated value. Then change the code so that it checks the last number added and continues from there, or starts from 0 if that field is empty."}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475699865, "post_id": 39882967, "comment_id": 67053531, "body": "Can you please specify what your actual question is? Creating safe-points inside the loop is the way to go if you want to preserve the loop&#39;s state. Whether file I/O is safe against corruption doesn&#39;t depend on your application so much as operating/file system. In Linux, it&#39;s safe to write to a temporary file, then rename it; files are also closed automatically when a program exits."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1475701101, "post_id": 39882967, "comment_id": 67054114, "body": "You need to save and restore the state of the program somehow. There are often OS related ways of saving the state of the entire computer (i.e. entering a &quot;sleeping&quot; or &quot;hibernating&quot; state), although that may be overkill to preserve one process. A more lightweight approach would be to add functions or methods to you program that can used to tell it to do these things itself (using by writing and later reading back a file contain information about just its state)."}, {"owner": {"reputation": 1547, "user_id": 1610950, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4bdf26f3a05f1dbaa2a52ec1fc0aca27?s=128&d=identicon&r=PG", "display_name": "user1610950", "link": "https://stackoverflow.com/users/1610950/user1610950"}, "reply_to_user": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1475727118, "post_id": 39882967, "comment_id": 67061213, "body": "@MisterMiyagi I am interested in creating a safe point inside the loop so that if I terminate the application, I could restart the program and continue from where I left off."}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 0, "creation_date": 1475733592, "post_id": 39882967, "comment_id": 67063355, "body": "A solution <i>inside the loop</i> will only work if the loop will run on, but will not perform the addition, since any event that will actually <i>stop</i> or pauze the loop will also stop checking the condition for it to continue. There are thinkable solutions, but possible solutions will be language specific in any way, so <i>&quot;it could be for any programming language really.&quot;</i> will lead to &quot;too broad&quot;."}, {"owner": {"reputation": 1547, "user_id": 1610950, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4bdf26f3a05f1dbaa2a52ec1fc0aca27?s=128&d=identicon&r=PG", "display_name": "user1610950", "link": "https://stackoverflow.com/users/1610950/user1610950"}, "reply_to_user": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 0, "creation_date": 1475734953, "post_id": 39882967, "comment_id": 67063935, "body": "@JacobVlijm that&#39;s why I tagged the question python and also said using python."}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 0, "creation_date": 1475735212, "post_id": 39882967, "comment_id": 67064049, "body": "Ah, I see. The vote isn&#39;t mine btw."}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 0, "creation_date": 1475746864, "post_id": 39882967, "comment_id": 67071106, "body": "Edited the loop, it had a minor bug, skipping one loop on resume."}], "answers": [{"comments": [{"owner": {"reputation": 1547, "user_id": 1610950, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4bdf26f3a05f1dbaa2a52ec1fc0aca27?s=128&d=identicon&r=PG", "display_name": "user1610950", "link": "https://stackoverflow.com/users/1610950/user1610950"}, "edited": false, "score": 0, "creation_date": 1475737345, "post_id": 39883237, "comment_id": 67065146, "body": "I up voted this answer but selected the other one because I think both of these answers will help solve the problem. I can check if some file exists and if it doesn&#39;t create it. To resume the program I just rerun the program, if the file exists, get the last value, init the loop and continue. Thanks for the additional information."}], "tags": [], "owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "is_accepted": false, "score": 1, "last_activity_date": 1475699880, "creation_date": 1475699880, "answer_id": 39883237, "question_id": 39882967, "link": "https://stackoverflow.com/questions/39882967/how-can-i-pause-a-long-running-loop/39883237#39883237", "title": "How can I pause a long running loop?", "body": "<p>Ctrl+C won't corrupt the file. I'm not sure how sophisticated you need to be, but a simple solution would be to be able to give the program an input of where to resume from:</p>\n\n<pre><code>def main(start=0):\n    with open('./sum.txt', 'w') as outfile:\n        for i in range(start, 10000000):\n            outfile.write(str(i) +'\\n')\n\n\nif __name__ == \"__main__\":\n    import sys\n    try:\n        start = int(sys.argv[1])\n    except IndexError:\n        start = 0\n    main()\n</code></pre>\n\n<p>Then run this like to resume from 1000:</p>\n\n<pre><code>python foo.py 1000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1547, "user_id": 1610950, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4bdf26f3a05f1dbaa2a52ec1fc0aca27?s=128&d=identicon&r=PG", "display_name": "user1610950", "link": "https://stackoverflow.com/users/1610950/user1610950"}, "edited": false, "score": 1, "creation_date": 1475737385, "post_id": 39889147, "comment_id": 67065164, "body": "This along with the answer provided below can be combined to give a pretty robust solution that should be pretty language independent. Thank you!"}], "tags": [], "owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "is_accepted": true, "score": 1, "last_activity_date": 1475746822, "last_edit_date": 1592644375, "creation_date": 1475735935, "answer_id": 39889147, "question_id": 39882967, "link": "https://stackoverflow.com/questions/39882967/how-can-i-pause-a-long-running-loop/39889147#39889147", "title": "How can I pause a long running loop?", "body": "<h3>Create a condition for the loop to either continue or hold</h3>\n<p>A possible solution would be in the script, periodically checking for a &quot;trigger&quot; file to exist. In the example below, the loop checks once in hundred cycles, but you could make it 500 for example.</p>\n<p><em><strong>If</strong></em> and as long as the file exists, the loop will hold, checking again every two seconds. <br>\nWhile this works fine, you will have to accept the fact that it slightly slows down the loop, depending on <code>n</code>; larger n will decrease the effect. <em>ANY</em> solution inside the loop will however have at least <em>some</em> effect on the loop.</p>\n<p>Although this is on <code>python</code>, the concept should be possible in any language, and on any os.</p>\n<p>The <code>print</code> functions are only to show that it works of course:)</p>\n<h3>The edited loop:</h3>\n<pre><code>import os\nimport time\n\nresults = []\nn = 100\n\nfor i in range(1000000000):\n    results.append(i + i*2)\n    print(i)\n    if i%n == 0:\n        while os.path.exists(&quot;test123&quot;):\n            time.sleep(2)\n            print(&quot;wait&quot;)   \n        else:\n            print(&quot;go on&quot;)\n        \nwith open('./sum.txt', 'w') as outfile:\n    for r in results:\n        output.write(r+'\\n')\noutfile.close()\n</code></pre>\n<p>The result, if I create the trigger file and remove it again:</p>\n<pre><code>4096\n4097\n4098\n4099\nwait\nwait\nwait\nwait\nwait\nwait\ngo on\n4100\n4101\n4102\n</code></pre>\n"}], "owner": {"reputation": 1547, "user_id": 1610950, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4bdf26f3a05f1dbaa2a52ec1fc0aca27?s=128&d=identicon&r=PG", "display_name": "user1610950", "link": "https://stackoverflow.com/users/1610950/user1610950"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3383, "favorite_count": 0, "accepted_answer_id": 39889147, "answer_count": 2, "score": 0, "last_activity_date": 1475756510, "creation_date": 1475698749, "last_edit_date": 1475756510, "question_id": 39882967, "link": "https://stackoverflow.com/questions/39882967/how-can-i-pause-a-long-running-loop", "title": "How can I pause a long running loop?", "body": "<p>I have a question about pausing / resuming a long running program. I'll use Python in this example, but it could be for any programming language really.</p>\n\n<p>Let's say I want to sum up all the numbers to a billion for example</p>\n\n<pre><code>results = []\n\nfor i in range(1000000000):\n    results.append(i + i*2)\n\nwith open('./sum.txt', 'w') as outfile:\n    for r in results:\n        output.write(r+'\\n')\noutfile.close()\n</code></pre>\n\n<p>That's a very simple program and in the end I would like to write the values out to a file.</p>\n\n<p>Let's say I start this script and it's taking hours and I want to shut down my computer. Now I could wait but what are some ways that I could stop this process while keeping the data in tact?</p>\n\n<p>I've though about opening the file before the loop and inside the loop, instead of appending to the results list, I could just write [append] to the opened file but that seems like still if I quit the program, the file never closes and the data could get corrupted. Even if I just write to the file in the loop then directly close the file after the write operation, couldn't that still cause data corruption or something?</p>\n\n<p>What are some ways that I could tackle a problem like this. Where I'd like to be able to stop a program and later, restart the program and it could continue from where it left off?</p>\n\n<p>If you have a long running script that does most of the work on the inner part of a loop.</p>\n\n<blockquote>\n  <p>@MisterMiyagi \n  Can you please specify what your actual question is?\n  Creating safe-points inside the loop is the way to go if you want to\n  preserve the loop's state. Whether file I/O is safe against corruption\n  doesn't depend on your application so much as operating/file system.\n  In Linux, it's safe to write to a temporary file, then rename it;\n  files are also closed automatically when a program exits.</p>\n</blockquote>\n\n<p>I was more interested in a safe place inside the loop. What are some recommended ways to do that in a program that's structured like the one above.</p>\n"}, {"tags": ["python", "python-3.x", "while-loop"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 3, "creation_date": 1475698759, "post_id": 39882966, "comment_id": 67052945, "body": "Well, what number do you expect <code>quit</code> to be? You need to check the input before you convert it to an int."}, {"owner": {"reputation": 53, "user_id": 5357024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84083cb5a367987564f182efe6139bf?s=128&d=identicon&r=PG&f=1", "display_name": "B. Allan ", "link": "https://stackoverflow.com/users/5357024/b-allan"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1475698846, "post_id": 39882966, "comment_id": 67052984, "body": "Yes, I understand the reason for the error but do not know how to fix it."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 3, "creation_date": 1475698886, "post_id": 39882966, "comment_id": 67053003, "body": "Do not cast <code>grade</code> to an <code>int()</code> until the next lines where you add to <code>total</code>"}, {"owner": {"reputation": 53, "user_id": 5357024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84083cb5a367987564f182efe6139bf?s=128&d=identicon&r=PG&f=1", "display_name": "B. Allan ", "link": "https://stackoverflow.com/users/5357024/b-allan"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1475698961, "post_id": 39882966, "comment_id": 67053052, "body": "Would you show me this? @cricket_007"}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 1, "creation_date": 1475698975, "post_id": 39882966, "comment_id": 67053059, "body": "You need to check for &#39;quit&#39; before casting the input to an int. Change the assignment to input(&#39;Enter grade :&#39;), then first line in while loop set grade = int(grade)"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1475698996, "post_id": 39882966, "comment_id": 67053070, "body": "For example, <code>grade != &#39;quit&#39;</code> will never be true if <code>grade</code> could be converted to a number. Just use <code>grade = input(&quot;Enter a grade&quot;)</code>, then compare <code>if grade.lower() != &#39;quit&#39;</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1475699059, "post_id": 39882966, "comment_id": 67053106, "body": "More relevant duplicate.. <a href=\"https://stackoverflow.com/questions/29290556/grade-average-calculator?rq=1\" title=\"grade average calculator\">stackoverflow.com/questions/29290556/&hellip;</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1475699625, "post_id": 39882966, "comment_id": 67053397, "body": "You could put the <code>grade = int(input(&#39;Enter grade :&#39;))</code> statement inside a <code>try&#47;except ValueError:</code> and handle the exception accordingly."}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 1, "creation_date": 1475701966, "post_id": 39882966, "comment_id": 67054479, "body": "Change your first line in your while loop to <code>total += int(grade)</code>. Then in your second user input, use <code>grade = raw_input(&#39;Enter grade :&#39;)</code> because otherwise Python will interpret you trying to quit the program (i.e. <code>exit()</code>)"}], "owner": {"reputation": 53, "user_id": 5357024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84083cb5a367987564f182efe6139bf?s=128&d=identicon&r=PG&f=1", "display_name": "B. Allan ", "link": "https://stackoverflow.com/users/5357024/b-allan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 965, "favorite_count": 0, "closed_date": 1475698799, "answer_count": 0, "score": 0, "last_activity_date": 1475698764, "creation_date": 1475698734, "last_edit_date": 1475698764, "question_id": 39882966, "link": "https://stackoverflow.com/questions/39882966/average-grades-using-a-while-loop", "closed_reason": "Duplicate", "title": "Average grades using a while loop", "body": "<p>I am trying to average grades using a while loop. Here is the program requirements:</p>\n\n<p><em>Let the user enter grades to average. The user may type any number of grades; when he or she types \u201cquit\u201d or \u201cQuit\u201d print the average, rounded to two decimal places.</em></p>\n\n<p>Please keep advice relatively simple. First time programming. Only am familiar with for loops and while loops and if else statements right now.</p>\n\n<p>I was given this skeleton code: </p>\n\n<pre><code>def main():\n    '''Average grades entered by the user'''\n    #Set the total to 0\n    #Set the grade count to 0\n    #Get a grade\n    #While the grade is not \"quit\" or \"Quit\"\n    #    Add the grade to total\n    #    Add one to the grade count\n    #    Get a grade\n    #Average the grades\n    #Round the average to two decimal places\n    #Print the average\n\nmain()  #Start execution\n</code></pre>\n\n<p>Here is my code thus far:</p>\n\n<pre><code>def main():\n    '''Average grades entered by the user'''\n    total = 0#Set the total to 0\n    grade_count = 0#Set the grade count to 0\n    grade = int(input('Enter grade :'))#Get a grade\n    while grade != 'quit' or grade != 'Quit':#While the grade is not \"quit\" or \"Quit\"\n        total += grade#    Add the grade to total\n        grade_count += 1#    Add one to the grade count\n        grade = int(input('Enter grade :'))#    Get a grade\n    average = total / grade_count#Average the grades\n    round(average, 2)#Round the average to two decimal places\n    print(average)#Print the average\n\nmain()  #Start execution\n</code></pre>\n\n<p>And this is the error I am getting:</p>\n\n<pre><code>Enter grade :70\nEnter grade :80\nEnter grade :90\nEnter grade :quit\nTraceback (most recent call last):\n  File \"\\\\trace\\Class\\CSC-130\\004\\Rall992\\Asn2\\Asn2-1.py\", line 21, in        &lt;module&gt;\n    main()  #Start execution\n  File \"\\\\trace\\Class\\CSC-130\\004\\Rall992\\Asn2\\Asn2-1.py\", line 16, in main\n    grade = int(input('Enter grade :'))#    Get a grade\nValueError: invalid literal for int() with base 10: 'quit'\n</code></pre>\n"}, {"tags": ["python", "graph", "tensorflow", "custom-operator"], "comments": [{"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 2, "creation_date": 1475712385, "post_id": 39882956, "comment_id": 67057688, "body": "You are asking how to replace an op in the graph with another op. Until recently graphs were append-only and it was not possible to do this. However, recently there&#39;s been a graph editor library added, perhaps there&#39;s some function there that can help -- <a href=\"https://www.tensorflow.org/versions/r0.11/api_docs/python/contrib.graph_editor.html#library-overview\" rel=\"nofollow noreferrer\">tensorflow.org/versions/r0.11/api_docs/python/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6426, "user_id": 4471715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af5026f58744339680af12b163aad259?s=128&d=identicon&r=PG&f=1", "display_name": "A STEFANI", "link": "https://stackoverflow.com/users/4471715/a-stefani"}, "is_accepted": false, "score": 0, "last_activity_date": 1476892026, "creation_date": 1476892026, "answer_id": 40136131, "question_id": 39882956, "link": "https://stackoverflow.com/questions/39882956/replacing-a-node-in-graph-with-custom-op-having-variable-dependency-in-tensorflo/40136131#40136131", "title": "Replacing a node in graph with custom op having variable dependency in tensorflow", "body": "<p>Could you precise which version of Tensorflow you use : r0.08, r0.09, r0.10, r0.11 ?</p>\n\n<p>That is impossible to change an op in the graph with another op. \nBut If you may access W, you can still make a backup copy of W (using deepcopy() <a href=\"https://docs.python.org/2/library/copy.html\" rel=\"nofollow\">from copy module</a> ) before running the train op which update it ? </p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 912, "user_id": 699743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/41bac43294d1246b091928aeda94eba8?s=128&d=identicon&r=PG", "display_name": "Anil Shanbhag", "link": "https://stackoverflow.com/users/699743/anil-shanbhag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476892026, "creation_date": 1475698650, "question_id": 39882956, "link": "https://stackoverflow.com/questions/39882956/replacing-a-node-in-graph-with-custom-op-having-variable-dependency-in-tensorflo", "title": "Replacing a node in graph with custom op having variable dependency in tensorflow", "body": "<p>I am trying to replace the computation done in the graph with a custom op that does the same. </p>\n\n<p>Lets say the graph has a constant <code>A</code> and weight variable <code>W</code>, I create the custom op to take these two inputs and do the entire computation (except the last step of weight update):</p>\n\n<pre><code>custom_op_tensor = custom_module.custom_op([A,W])\ng_def = tf.get_default_graph().as_graph_def()\ninput_map = { tensor.name : custom_op_tensor }\ntrain_op, = tf.import_graph_def(g_def, input_map=input_map, return_elements=[train_op])\n</code></pre>\n\n<p>After the import graph def, there are two <code>W</code>'s, one from the original graph def and one in the imported graph. When we run the train op, the custom op ends up reading the old <code>W</code> and the new <code>W</code> is updated. As a result, the gradient descent ends up failing to do the right thing.</p>\n\n<p>The problem is instantiation of custom_op requires the input weight tensor <code>W</code>. The new <code>W</code> is known only after the import. And, import requires the custom op.\nHow does one get around this problem ?  </p>\n"}, {"tags": ["python", "string", "function", "file", "loops"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1475702324, "post_id": 39882953, "comment_id": 67054606, "body": "I&#39;m not sure I understand all of your code, but I&#39;d guess your issue might have to do with using mode <code>&quot;w+&quot;</code> when opening the files. That mode will truncate the file, so if you ever open the same file several different times, you&#39;ll only see the data from the last time in the final output. Perhaps try <code>&quot;r+&quot;</code> (plus a <code>seek()</code> to the end of the file) or <code>&quot;a&quot;</code> mode instead."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475716324, "post_id": 39882953, "comment_id": 67058517, "body": "@MrDoe777 This problem interested me so I rewrote your code.  However, there are a few confusing points.  1.) What value in each row of the exon file should be stored as the key in <code>Exon_dict</code>?  The value corresponding to <code>exon_id</code>, e.g. FBtr0330363:1?  2.) How many files of each type do you expect? I count 162331 exons in exons.gff3."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5609349"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475793101, "post_id": 39882953, "comment_id": 67098583, "body": "@wflynny Thanks! 1) It should be exon_id like FBgn0264003 2) If there are 162331 exons, there should 162331 exon files (1 for each exon) and less than 162331 CDS files (since there is only one CDS for each parent gene of a group of exons. Most parent genes should have four exons so a reasonable estimate would be 40582 CDS files). For example in the line, gene_id &quot;FBgn0264003&quot;; gene_version &quot;5&quot;; gene_name &quot;mir-5613&quot;; gene_source &quot;FlyBase&quot;; gene_biotype &quot;pre_miRNA&quot;; the key should be FBgn0264003"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475802384, "post_id": 39882953, "comment_id": 67100919, "body": "@MrDoe777, for StackOverflow, this question is of low quality due to the poor example code, extreme lack of question clarity, and little reusability for others.  But you&#39;ve posted about this problem twice here, and on biostars too, so it&#39;s likely very important to your (research) work.  I spent an hour yesterday/today trying to make sense of this problem, but there are still some problematic/unclear things.  Because it&#39;s not perfect, here&#39;s a <a href=\"http://pastebin.com/qRmvKRkS\" rel=\"nofollow noreferrer\">pastebin snippet</a> instead of an answer.  Please ensure future questions on StackOverflow are simpler/clearer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5609349"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475804859, "post_id": 39882953, "comment_id": 67101416, "body": "@wflynny Thanks! I will try to be more clear on future questions. Do you have any suggestions for how to be more clear?"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1475856859, "post_id": 39882953, "comment_id": 67127000, "body": "@MrDoe777  For a start, follow the guidelines to ask a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>.  Supply a concrete set of inputs and what the desired output is.  Your example output isn&#39;t consistent with your question or code, and it isn&#39;t clear how to create it.  In addition though, you&#39;re question is very domain specific using jargon that the vast majority of users here won&#39;t be able to understand."}], "owner": {"user_type": "does_not_exist", "display_name": "user5609349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475795076, "creation_date": 1475698641, "last_edit_date": 1475795076, "question_id": 39882953, "link": "https://stackoverflow.com/questions/39882953/how-do-i-fix-a-paradox-casual-loop-in-a-program-splitting-a-fasta-file-into-mult", "title": "How do I fix a paradox/casual loop in a program splitting a FASTA file into multiple files?", "body": "<p>I created a file that takes a GFF3 file and a FASTA genome file and writes each exon from the GFF3 file into a new file and each gene group of exons into a new CDS file. The problem is that the exons write to a separate file but the CDS files have only a header and no CDS sequence.</p>\n\n<p>I suspect that the problem begins at line</p>\n\n<pre><code>   if NMID != previous:\n</code></pre>\n\n<p>when I try to see whether the parent gene of the exon is the same as the previous exon. If it's not, then the current CDS file is written and closed before opening a new CDS file.</p>\n\n<p>Any suggestions on fixing the if else clause beginning at </p>\n\n<pre><code>   if NMID != previous:\n</code></pre>\n\n<p>I think it's because I set the value previous inside the scope of the program.</p>\n\n<p>How do I fix this paradox/casual loop in a program splitting a file into multiple files?</p>\n\n<p>Input files:</p>\n\n<p><a href=\"ftp://ftp.flybase.net/genomes/Drosophila_melanogaster/dmel_r5.49_FB2013_01/fasta/dmel-all-chromosome-r5.49.fasta.gz\" rel=\"nofollow\">ftp://ftp.flybase.net/genomes/Drosophila_melanogaster/dmel_r5.49_FB2013_01/fasta/dmel-all-chromosome-r5.49.fasta.gz</a> This is the FASTA file</p>\n\n<p><a href=\"ftp://ftp.ensembl.org/pub/release-77/gtf/drosophila_melanogaster/Drosophila_melanogaster.BDGP5.77.gtf.gz\" rel=\"nofollow\">ftp://ftp.ensembl.org/pub/release-77/gtf/drosophila_melanogaster/Drosophila_melanogaster.BDGP5.77.gtf.gz</a> This is the gff3 file. Even though it's technically gtf, this is the file I am using as the gff3 file since it contains the exons.</p>\n\n<hr>\n\n<p>I have a gff3 file and a FASTA genome file</p>\n\n<p>The gff3 file is like this:</p>\n\n<pre><code>20 protein2genome exon 12005 12107 . - . ID=Blah_exon:1;Name=Blah:1;Parent=Blah\n\n20 protein2genome exon 12108 12200 . - . ID=Blah_exon:2;Name=Blah:1;Parent=Blah\n\n20 protein2genome exon 12005 12107 . - . ID=Blah_exon:3;Name=Blah:1;Parent=Blah\n\n20 protein2genome exon 12342 12542 . - . ID=Blah_exon:4;Name=Blah:1;Parent=Blah\n\n20 protein2genome exon 13005 13107 . - . ID=ABC_exon:1;Name=ABC:1;Parent=ABC\n</code></pre>\n\n<p>For each exon, I need to write a new file named gene_name_exon_number.fa</p>\n\n<p>The header inside the file is this:</p>\n\n<blockquote>\n  <p>gene_name exon_number  chromosome_name exon_start   exon_end</p>\n</blockquote>\n\n<p>followed by the nucleotide bases in its chromosome using the start and end numbers</p>\n\n<p>So the first exon file would look like:</p>\n\n<blockquote>\n  <p>Blah 1 20 12005 12107\n  ACGGGCCTCAAAGCCGCGACACGACGGCTGTCGGCCGGTAACAGTAACCCCGGAGTGAACTCCTAT</p>\n</blockquote>\n\n<p>Each exon will be a new file.</p>\n\n<p>Also, I need to create a CDS file for each gene containing all the exons named gene_name_cds.fa</p>\n\n<p>The header inside the file is this:</p>\n\n<blockquote>\n  <p>gene_name number_of_exons chromosome_name cds_start cds_end cds_total_length</p>\n</blockquote>\n\n<p>So the first CDS file would look like:</p>\n\n<blockquote>\n  <p>Blah 4 20 12005 12542\n  ACGGGCCTCAAAGCCGCGACACGACGGCTGTCGGCCGGTAACAGTAACCCCGGAGTGAACTCCTAT\n  ACGGGCCTCAAAGCCGCGACACGACGGCTGTCGGCCGGTAACAGTAACCCCGGAGTGAACTCCTAT</p>\n</blockquote>\n\n<p>Note: the nucleotide bases are just all of the nucleotide bases from the exons pasted together.</p>\n\n<p>In the end, there will be several exon files and one CDS file for EACH gene in a GFF3 file containing several hundred genes and thousands of exons.</p>\n\n<p>For the exon, I need this:</p>\n\n<blockquote>\n  <p>gene_name exon_number  chromosome_name exon_start   exon_end</p>\n</blockquote>\n\n<p>For the CDS, I need this:</p>\n\n<blockquote>\n  <p>gene_name    number_of_exons   chromosome_name    cds_start   cds_end cds_total_length</p>\n</blockquote>\n\n<p>cds_total_length should be cds_end-cds_start</p>\n\n<pre><code>from collections import defaultdict\nfrom Bio import SeqIO\n\nExon_file = \"exon.gff3\"\nFASTA_file = \"melanogaster.fasta\"\n\nhandle = open(FASTA_file, \"rU\")\nFASTA_dict = SeqIO.to_dict(SeqIO.parse(handle, \"fasta\"))\nhandle.close()\n\nExon_dict = {}\nwith open(Exon_file) as f:\n    for line in f:\n        Exon_dict[line.split()[-1].rsplit(\";\")[0].replace(\":\",\"\")[3:]] = line.split()\n\nprevious = \"\"\nCDS_sequence = \"\"\nCDS_number_of_exons = int(0)\nCDS_start = int(0)\nCDS_end = int(0)\nCDS_file = open (str(\"testfolder/\" + \"DUMMY\" +\"_CDS\" + \".fas\"),\"w+\")\n\nfor key, value in Exon_dict.iteritems():\n    for k,v in FASTA_dict.iteritems():\n        chromosome = value[0]\n        direction = value[6]\n        NMID = value[-1].split()[0].rsplit(';')[0][3:].rsplit(\"_\")[0]\n        if chromosome == k:\n            start = value[3]\n            end = value[4]\n            exon_file = open (str(\"testfolder/\" + key + \".fas\"),\"w+\")\n            exon_file.write(\"&gt;\" + key + \" \" + k + \" \" + start + \" \" + end + \"\\n\")\n            if direction == \"+\":\n                exon_file.write(str(v.seq[int(int(start)-1):(int(end))]))\n                CDS_sequence.__add__(str(v.seq[int(int(start)-1):(int(end))]))\n            elif direction == \"-\":\n                exon_file.write(str(v.seq[int(int(start)-1):(int(end))].reverse_complement()))\n                CDS_sequence.__add__(str(v.seq[int(int(start)-1):(int(end))].reverse_complement()))\n\n        if NMID != previous:\n            CDS_file.write(\"&gt;\" + str(NMID) + \" \" + str(CDS_number_of_exons) + \" \" + str(chromosome) + \" \" + str(CDS_start) + \" \" + str(CDS_end) + \" \" + str(int(CDS_end)-int(CDS_start)) + \"\\n\")\n            CDS_file.write(CDS_sequence)\n            CDS_file.close()\n            CDS_file = open (str(\"testfolder/\" + NMID +\"_CDS\" + \".fas\"),\"w+\")\n            previous = NMID\n        else:\n            CDS_number_of_exons += 1\n            CDS_end += int(end)\n            if start &gt; CDS_start:\n                pass\n            else:\n                CDS_start = start\n</code></pre>\n"}, {"tags": ["python", "odoo-9"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475767541, "post_id": 39883798, "comment_id": 67085563, "body": "In  logger:-INFO test13 openerp.addons.client_models.product.calculate_price: EXECUTING _calculate_sale_price() function"}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475767795, "post_id": 39883798, "comment_id": 67085744, "body": "Really, so it starts the function. The next line it evaluates and it does not print either the 33 or the catchall else statement? With no additional error? Maybe python&#39;s if else needs a fallback for else."}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475767862, "post_id": 39883798, "comment_id": 67085795, "body": "Just in case else does not cover everything <code>else</code> that could occur."}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475767884, "post_id": 39883798, "comment_id": 67085807, "body": "Sorry, couldn&#39;t help my self."}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475767957, "post_id": 39883798, "comment_id": 67085845, "body": "You really should also see either your <code>if</code> or <code>else</code> statements printing logs. Its practically impossible that they are not unless you get an error."}, {"owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475768076, "post_id": 39883798, "comment_id": 67085913, "body": "Ya there is no statement is printing neither for if nor for the else no error is showing and calculation is giving desired result"}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475768182, "post_id": 39883798, "comment_id": 67085976, "body": "Well, I am deeply troubled by the logging not printing. I dont know how I am going to sleep tonight however if it is working for you I would appreciate if you up vote my work."}, {"owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "reply_to_user": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "edited": false, "score": 0, "creation_date": 1475768250, "post_id": 39883798, "comment_id": 67086026, "body": "It might be taking out the list_price resolved the issue. Or something you have done that you were not aware of. I cant really be sure. Once you have it working I might remove all the logging though. No need unless you are debugging."}], "tags": [], "owner": {"reputation": 3190, "user_id": 4313055, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xmPwf.jpg?s=128&g=1", "display_name": "Phillip Stack", "link": "https://stackoverflow.com/users/4313055/phillip-stack"}, "is_accepted": false, "score": 0, "last_activity_date": 1475702155, "creation_date": 1475702155, "answer_id": 39883798, "question_id": 39882822, "link": "https://stackoverflow.com/questions/39882822/after-override-the-field-as-compute-its-not-working/39883798#39883798", "title": "After override the field as compute it&#39;s not working", "body": "<p>THIS IS NOT A SOLUTION. But I cant really put this suggestion in a comment.</p>\n\n<p>I am not sure if you should use list_price in your depends decorator arguments. Try placing some logging in and see what is happening when you load the page.</p>\n\n<pre><code>import logging\n_logger = logging.getLogger(__name__)\n\n@api.multi\n@api.depends('profit_per_unit', 'estimated_shipping_charges', 'flat_rate_charges')\ndef _calculate_sale_price(self):\n    _logger.info(\"EXECUTING _calculate_sale_price() function\")\n    if self.category_parent_id == 33:\n        _logger.info(\"CATEGORY PARENT ID IS 33!\")\n        _logger.info(\"list_price = {} + {} + {}\".format(self.standard_price, self.profit_per_unit, self.estimated_shipping_charges))\n        self.list_price = self.standard_price+self.profit_per_unit + self.estimated_shipping_charges\n    else:\n        _logger.info(\"CATEGORY PARENT ID IS NOT 33! REPEAT NOT\")\n        _logger.info(\"list_price = {} + {} + {} - {} + {}\".format(self.standard_price, self.profit_per_unit, self.collected_shipping_charges, self.flat_rate_charges))\n        self.list_price = self.standard_price + self.profit_per_unit -self.collected_shipping_charges + self.flat_rate_charges\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5360709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b65cff6781e41dfd15b636829c41d9?s=128&d=identicon&r=PG&f=1", "display_name": "Paramita", "link": "https://stackoverflow.com/users/5360709/paramita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475702155, "creation_date": 1475698118, "question_id": 39882822, "link": "https://stackoverflow.com/questions/39882822/after-override-the-field-as-compute-its-not-working", "title": "After override the field as compute it&#39;s not working", "body": "<p>I did some changes in product.template and override the field like this</p>\n\n<pre><code>list_price = fields.Float(copy=False, string='Sale Price',  store=True,compute='_calculate_sale_price',\n                              help='compute cost as per gun_dealer', default=0.00)\n</code></pre>\n\n<p>and the compute methods is like </p>\n\n<pre><code>@api.multi\n    @api.depends('profit_per_unit', 'estimated_shipping_charges'\n                 , 'flat_rate_charges', 'list_price')\n    def _calculate_sale_price(self):\n\n        if self.category_parent_id == 33:\n                self.list_price = self.standard_price+self.profit_per_unit+ \\\n                                  self.estimated_shipping_charges\n\n        else:\n            self.list_price = self.standard_price+self.profit_per_unit-self.collected_shipping_charges + \\\n                                  self.flat_rate_charges\n</code></pre>\n\n<p>But after doing this the Unit Price from sale order's order line is not grabbing value of Sales Price from product.template</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "anaconda", "miniconda"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1475698164, "post_id": 39882809, "comment_id": 67052617, "body": "You need to give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. &quot;not work&quot; doesn&#39;t help us."}, {"owner": {"reputation": 65, "user_id": 6928513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-1PlASUjGOvQ/AAAAAAAAAAI/AAAAAAAAAA4/7PYMcmXD6lU/photo.jpg?sz=128", "display_name": "Kurosaki", "link": "https://stackoverflow.com/users/6928513/kurosaki"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1475698214, "post_id": 39882809, "comment_id": 67052645, "body": "I add a example, idk why the image didn&#39;t show up..."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1475698253, "post_id": 39882809, "comment_id": 67052672, "body": "Don&#39;t do it as an image. The error message needs to be in the post itself."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1475698388, "post_id": 39882809, "comment_id": 67052747, "body": "What is <code>datetime[1]</code> supposed to do?  Why are you passing two arguments to <code>list.append</code>?"}, {"owner": {"reputation": 65, "user_id": 6928513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-1PlASUjGOvQ/AAAAAAAAAAI/AAAAAAAAAA4/7PYMcmXD6lU/photo.jpg?sz=128", "display_name": "Kurosaki", "link": "https://stackoverflow.com/users/6928513/kurosaki"}, "edited": false, "score": 0, "creation_date": 1475698512, "post_id": 39882809, "comment_id": 67052812, "body": "I think I can do slice to the datetime object, like mm/dd/yyyy, I only want to keep the mmdd part."}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1475698625, "post_id": 39882809, "comment_id": 67052868, "body": "Do you just want <code>pd.date_range(&#39;2016-01-01&#39;, &#39;2016-12-31&#39;).strftime(&#39;%m%d&#39;)</code>? Or  <code>pd.date_range(&#39;2016-01-01&#39;, &#39;2016-12-31&#39;).strftime(&#39;%m%d&#39;).tolist()</code> for a python list instead of a numpy array."}, {"owner": {"reputation": 65, "user_id": 6928513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-1PlASUjGOvQ/AAAAAAAAAAI/AAAAAAAAAA4/7PYMcmXD6lU/photo.jpg?sz=128", "display_name": "Kurosaki", "link": "https://stackoverflow.com/users/6928513/kurosaki"}, "edited": false, "score": 0, "creation_date": 1475698959, "post_id": 39882809, "comment_id": 67053051, "body": "OMG, got it! Thank you soooooo much! XD"}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 1, "creation_date": 1475699234, "post_id": 39882809, "comment_id": 67053200, "body": "Okay, I&#39;ve added my comment as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 1, "last_activity_date": 1475699182, "creation_date": 1475699182, "answer_id": 39883081, "question_id": 39882809, "link": "https://stackoverflow.com/questions/39882809/how-can-i-get-a-list-of-the-days-in-a-year-and-follow-this-form/39883081#39883081", "title": "How can I get a list of the days in a year and follow this form?", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DatetimeIndex.strftime.html\" rel=\"nofollow\"><code>strftime</code></a> to directly do the formatting:</p>\n\n<pre><code>dt_list = pd.date_range('2016-01-01', '2016-12-31').strftime('%m%d')\n</code></pre>\n\n<p>Use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tolist.html\" rel=\"nofollow\"><code>tolist</code></a> if you want a Python list instead of a numpy array:</p>\n\n<pre><code>dt_list = pd.date_range('2016-01-01', '2016-12-31').strftime('%m%d').tolist()\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6928513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-1PlASUjGOvQ/AAAAAAAAAAI/AAAAAAAAAA4/7PYMcmXD6lU/photo.jpg?sz=128", "display_name": "Kurosaki", "link": "https://stackoverflow.com/users/6928513/kurosaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 39883081, "answer_count": 1, "score": 0, "last_activity_date": 1475699182, "creation_date": 1475698059, "last_edit_date": 1475698170, "question_id": 39882809, "link": "https://stackoverflow.com/questions/39882809/how-can-i-get-a-list-of-the-days-in-a-year-and-follow-this-form", "title": "How can I get a list of the days in a year and follow this form?", "body": "<p>This code not work at all, and I'm still confusing with the pandas datetime method...</p>\n\n<pre><code>def date_list():\n\n    list = []\n\n    for i in pd.date_range(datetime(2016, 1, 1), datetime(2016, 12, 31)):\n\n        list.append(datetime[1], datetime[2])\n    return list\n</code></pre>\n\n<p>This is the example for the list, and should I use zfill method for making this list?(If it's leap year)\n  [0101, 0102, 0103, ..., 1230, 1231]</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1475724932, "post_id": 39882773, "comment_id": 67060654, "body": "change <code>rcpams[&#39;keymap.back&#39;]</code> to not include <code>&#39;backspace&#39;</code>.  The returned values are ignored in <code>cbook.CallbackRegistry.process</code> (which is what does the event dispatch."}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1475724972, "post_id": 39882773, "comment_id": 67060665, "body": "Further, the callbacks are stored in a dictionary so the order of processing is not guaranteed."}], "answers": [{"tags": [], "owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "is_accepted": true, "score": 0, "last_activity_date": 1475773612, "creation_date": 1475773612, "answer_id": 39901886, "question_id": 39882773, "link": "https://stackoverflow.com/questions/39882773/how-to-suppress-further-processing-of-matplotlib-event/39901886#39901886", "title": "how to suppress further processing of matplotlib event", "body": "<p>From tacaswell's comments above:</p>\n\n<p>Callbacks are stored in a dictionary so the order in which they get called cannot be guaranteed. Callback return values are ignored.</p>\n\n<p>The solution is to change <code>matplotlib.rcParams['keymap.back']</code> so that it does not include <code>'backspace'</code>.</p>\n"}], "owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 39901886, "answer_count": 1, "score": 1, "last_activity_date": 1475773612, "creation_date": 1475697947, "question_id": 39882773, "link": "https://stackoverflow.com/questions/39882773/how-to-suppress-further-processing-of-matplotlib-event", "title": "how to suppress further processing of matplotlib event", "body": "<p>I'm building an interactive graphical application with matplotlib.  I want it to play nice with the existing \"pan\" and \"zoom\" functions of the default matplotlib GUI, but I also want to overshadow some keystrokes.  My problem is that I don't know to suppress the GUI's default response to those keystrokes. For example, the GUI responds to the backspace key by stepping back one view in the history: I want to replace this behaviour with my own custom behaviour:</p>\n\n<pre><code>def KeyUp(event):\n\n    if event.key.lower() == 'backspace':\n        RespondToBackspace()\n        PreventAnybodyElseRespondingToBackspace()  # HOW??\n\nimport matplotlib.pyplot as plt\ncid = plt.gcf().canvas.mpl_connect( 'key_release_event', KeyUp )\n</code></pre>\n\n<p>I can find no documentation on cancelling or suppressing event processing and have run out of creativity on my search terms.  Speculatively, thinking that this mechanism will work as it does in some other toolkits, I tried returning either <code>True</code> or <code>False</code> from the callback, without effect (i.e. the \"step back one view\" behaviour still happens, along with my custom response, when I press backspace).</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 2, "last_activity_date": 1475699615, "last_edit_date": 1475699615, "creation_date": 1475698247, "answer_id": 39882854, "question_id": 39882767, "link": "https://stackoverflow.com/questions/39882767/split-a-pandas-dataframe-into-two-by-columns/39882854#39882854", "title": "Split a pandas dataframe into two by columns", "body": "<p>You can use <code>list comprehensions</code> for select all columns names:</p>\n\n<pre><code>df = pd.DataFrame({'fooA':[1,2,3],\n                   'fooB':[4,5,6],\n                   'fooC':[7,8,9],\n                   'D':[1,3,5],\n                   'E':[5,3,6],\n                   'F':[7,4,3]})\n\nprint (df)\n   D  E  F  fooA  fooB  fooC\n0  1  5  7     1     4     7\n1  3  3  4     2     5     8\n2  5  6  3     3     6     9\n\nfoo = [col for col in df.columns if col.startswith('foo')]\nprint (foo)\n['fooA', 'fooB', 'fooC']\n\nother = [col for col in df.columns if not col.startswith('foo')]\nprint (other)\n['D', 'E', 'F']\n\nprint (df[foo])\n   fooA  fooB  fooC\n0     1     4     7\n1     2     5     8\n2     3     6     9\n\nprint (df[other])\n   D  E  F\n0  1  5  7\n1  3  3  4\n2  5  6  3\n</code></pre>\n\n<hr>\n\n<p>Another solution with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.filter.html\" rel=\"nofollow\"><code>filter</code></a> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.difference.html\" rel=\"nofollow\"><code>difference</code></a>:</p>\n\n<pre><code>df1 = df.filter(regex='^foo')\nprint (df1)\n   fooA  fooB  fooC\n0     1     4     7\n1     2     5     8\n2     3     6     9\n\nprint (df.columns.difference(df1.columns))\nIndex(['D', 'E', 'F'], dtype='object')\n\nprint (df[df.columns.difference(df1.columns)])\n   D  E  F\n0  1  5  7\n1  3  3  4\n2  5  6  3\n</code></pre>\n\n<p><strong>Timings</strong>:</p>\n\n<pre><code>In [123]: %timeit a(df)\n1000 loops, best of 3: 1.06 ms per loop\n\nIn [124]: %timeit b(df3)\n1000 loops, best of 3: 1.04 ms per loop\n\nIn [125]: %timeit c(df4)\n1000 loops, best of 3: 1.41 ms per loop\n</code></pre>\n\n\n\n<pre><code>df3 = df.copy()\ndf4 = df.copy()\n\ndef a(df):\n    df1 = df.filter(regex='^foo')\n    df2 = df[df.columns.difference(df1.columns)]\n    return df1, df2\n\ndef b(df):\n    df1 = df[[col for col in df.columns if col.startswith('foo')]]\n    df2 = df[[col for col in df.columns if not col.startswith('foo')]]\n    return df1, df2\n\ndef c(df):\n    df1 = df[df.columns[df.columns.str.startswith('foo')]]\n    df2 = df[df.columns[~df.columns.str.startswith('foo')]]\n    return df1, df2\n\ndf1, df2 = a(df)\nprint (df1)\nprint (df2)    \n\ndf1, df2 = b(df3)\nprint (df1)\nprint (df2)   \n\ndf1, df2 = c(df4)\nprint (df1)\nprint (df2)   \n</code></pre>\n"}], "owner": {"reputation": 2995, "user_id": 1742188, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/df7cb616eb3851d9c3e53d8c6d18c5fe?s=128&d=identicon&r=PG", "display_name": "user1742188", "link": "https://stackoverflow.com/users/1742188/user1742188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475699615, "creation_date": 1475697939, "question_id": 39882767, "link": "https://stackoverflow.com/questions/39882767/split-a-pandas-dataframe-into-two-by-columns", "title": "Split a pandas dataframe into two by columns", "body": "<p>I have a dataframe and I want to split it into two dataframes, one that has all the columns beginning with <code>foo</code> and one with the rest of the columns.\nIs there a quick way of doing this?</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1475697936, "post_id": 39882645, "comment_id": 67052497, "body": "Could you please elaborate what headers do you want to extract and what for? Thanks."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1475698199, "post_id": 39882645, "comment_id": 67052636, "body": "Pretty sure that you cannot do it out of the box."}], "answers": [{"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 1, "creation_date": 1475700131, "post_id": 39882959, "comment_id": 67053654, "body": "what about executing javascript or something within the page to log it to console or something? Is there a (hackish) way to do something like that?"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1475701067, "post_id": 39882959, "comment_id": 67054097, "body": "One suggestion I have seen repeatedly on this subject is to use BrowserMob Proxy: <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">github.com/lightbody/browsermob-proxy</a>, which can be used with selenium: <a href=\"https://github.com/lightbody/browsermob-proxy#using-with-selenium\" rel=\"nofollow noreferrer\">github.com/lightbody/browsermob-proxy#using-with-selenium</a>. However, I do not have experience with this utility. Sorry I couldn&#39;t be of more help!"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1475701419, "post_id": 39882959, "comment_id": 67054250, "body": "@David542 also, see the last paragraph of my updated answer. It includes a link to a Python wrapper for BrowserMob Proxy, which may work for your use case."}], "tags": [], "owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "is_accepted": true, "score": 12, "last_activity_date": 1475701335, "last_edit_date": 1475701335, "creation_date": 1475698659, "answer_id": 39882959, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver/39882959#39882959", "title": "How to grab headers in python selenium-webdriver", "body": "<p>Unfortunately, you <strong>cannot</strong> get this information from the Selenium webdriver, nor will you be able to any time in the near future it seems. An excerpt from <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/141\" rel=\"noreferrer\">a very long conversation on the subject</a>:</p>\n\n<blockquote>\n  <p>This feature isn't going to happen.</p>\n</blockquote>\n\n<p>The gist of the main reason being, from what I gather from the discussion, that the webdriver is meant for \"driving the browser\", and extending the API beyond that primary goal will, in the opinion of the developers, cause the overall quality and reliability of the API to suffer. </p>\n\n<p>One potential workaround that I have seen suggested in a number of places, including the conversation linked above, is to use <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"noreferrer\">BrowserMob Proxy</a>, which can be used to capture HTTP content, and <a href=\"https://github.com/lightbody/browsermob-proxy#using-with-selenium\" rel=\"noreferrer\">can be used with selenium</a> - though the linked example does not use the Python selenium API. It does seem that there is <a href=\"https://github.com/AutomatedTester/browsermob-proxy-py\" rel=\"noreferrer\">a Python wrapper for BrowserMob Proxy</a>, but I cannot vouch for it's efficacy since I have never used it. </p>\n"}, {"comments": [{"owner": {"reputation": 1302, "user_id": 8739330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a72fe03143bcbcae9c5cbc610c72870?s=128&d=identicon&r=PG&f=1", "display_name": "West", "link": "https://stackoverflow.com/users/8739330/west"}, "edited": false, "score": 0, "creation_date": 1529695430, "post_id": 42833452, "comment_id": 88983397, "body": "i get an error <code>ImportError: cannot import name &#39;mobidriver&#39;</code>. Any ideas how I can fix this?"}, {"owner": {"reputation": 1986, "user_id": 999951, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e89293f0e424b332a617a95938ee5e73?s=128&d=identicon&r=PG", "display_name": "deweydb", "link": "https://stackoverflow.com/users/999951/deweydb"}, "reply_to_user": {"reputation": 1302, "user_id": 8739330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a72fe03143bcbcae9c5cbc610c72870?s=128&d=identicon&r=PG&f=1", "display_name": "West", "link": "https://stackoverflow.com/users/8739330/west"}, "edited": false, "score": 0, "creation_date": 1587769357, "post_id": 42833452, "comment_id": 108649846, "body": "@west <code>pip install mobilenium</code>"}, {"owner": {"reputation": 1986, "user_id": 999951, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e89293f0e424b332a617a95938ee5e73?s=128&d=identicon&r=PG", "display_name": "deweydb", "link": "https://stackoverflow.com/users/999951/deweydb"}, "reply_to_user": {"reputation": 1302, "user_id": 8739330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a72fe03143bcbcae9c5cbc610c72870?s=128&d=identicon&r=PG&f=1", "display_name": "West", "link": "https://stackoverflow.com/users/8739330/west"}, "edited": false, "score": 0, "creation_date": 1587770902, "post_id": 42833452, "comment_id": 108650243, "body": "@West i was wrong, there is an issue with that repo, you can work around it with: <code>pip install -U git+https:&#47;&#47;github.com&#47;rafpyprog&#47;Mobilenium</code>"}], "tags": [], "owner": {"reputation": 193, "user_id": 5855007, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7FKw-baJ-X4/AAAAAAAAAAI/AAAAAAAAFYI/WFXeCWqCwgc/photo.jpg?sz=128", "display_name": "Rafael Ribeiro", "link": "https://stackoverflow.com/users/5855007/rafael-ribeiro"}, "is_accepted": false, "score": 5, "last_activity_date": 1526321701, "last_edit_date": 1526321701, "creation_date": 1489665486, "answer_id": 42833452, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver/42833452#42833452", "title": "How to grab headers in python selenium-webdriver", "body": "<p>You could try <a href=\"https://github.com/rafpyprog/Mobilenium\" rel=\"nofollow noreferrer\">Mobilenium</a>, a python package (still in development) that binds BrowserMob Proxy and Selenium.</p>\n\n<p>An usage example:</p>\n\n<pre><code>&gt;&gt;&gt; from mobilenium import mobidriver\n&gt;&gt;&gt;\n&gt;&gt;&gt; browsermob_path = 'path/to/browsermob-proxy'\n&gt;&gt;&gt; mob = mobidriver.Firefox(browsermob_binary=browsermob_path)\n&gt;&gt;&gt; mob.get('http://python-requests.org')\n301\n&gt;&gt;&gt; mob.response['redirectURL']\n'http://docs.python-requests.org'\n&gt;&gt;&gt; mob.headers['Content-Type']\n'application/json; charset=utf8'\n&gt;&gt;&gt; mob.title\n'Requests: HTTP for Humans \\u2014 Requests 2.13.0 documentation'\n&gt;&gt;&gt; mob.find_elements_by_tag_name('strong')[1].text\n'Behold, the power of Requests'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1302, "user_id": 8739330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a72fe03143bcbcae9c5cbc610c72870?s=128&d=identicon&r=PG&f=1", "display_name": "West", "link": "https://stackoverflow.com/users/8739330/west"}, "edited": false, "score": 0, "creation_date": 1529690293, "post_id": 47929576, "comment_id": 88981302, "body": "Where do you put the site url?"}], "tags": [], "owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "is_accepted": false, "score": 2, "last_activity_date": 1513875731, "creation_date": 1513875731, "answer_id": 47929576, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver/47929576#47929576", "title": "How to grab headers in python selenium-webdriver", "body": "<p>You can get the header via the log (source from <a href=\"https://stackoverflow.com/a/47533387/7227370\">Mma's answer</a>)</p>\n\n<pre><code>from selenium import webdriver\nimport json\ndriver = webdriver.PhantomJS(executable_path=r\"your_path\")\nhar = json.loads(driver.get_log('har')[0]['message']) # get the log\nprint('headers: ', har['log']['entries'][0]['request']['headers'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 11790080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa98a4261c552bc125e44f006712028?s=128&d=identicon&r=PG&f=1", "display_name": "Heartthrob_Rob", "link": "https://stackoverflow.com/users/11790080/heartthrob-rob"}, "edited": false, "score": 0, "creation_date": 1595116176, "post_id": 57743992, "comment_id": 111363766, "body": "I wish this was more popular &amp; updates still being rolled out, it&#39;s so intuitive ..."}], "tags": [], "owner": {"reputation": 3881, "user_id": 730858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8fbbdee11e60637a80fe74d6f3b747fd?s=128&d=identicon&r=PG", "display_name": "munish", "link": "https://stackoverflow.com/users/730858/munish"}, "is_accepted": false, "score": 5, "last_activity_date": 1567322674, "creation_date": 1567322674, "answer_id": 57743992, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver/57743992#57743992", "title": "How to grab headers in python selenium-webdriver", "body": "<p>Now,  it is very easy i suppose <a href=\"https://pypi.org/project/selenium-wire/\" rel=\"noreferrer\">https://pypi.org/project/selenium-wire/</a>\nit is an extension of selenium. use <code>from seleniumwire import webdriver</code> and proceed as usual.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6219821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b195e644e9ee95283cffc5399f086e5c?s=128&d=identicon&r=PG&f=1", "display_name": "BabyPoopSoup", "link": "https://stackoverflow.com/users/6219821/babypoopsoup"}, "is_accepted": false, "score": 0, "last_activity_date": 1587247850, "creation_date": 1587247850, "answer_id": 61296949, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver/61296949#61296949", "title": "How to grab headers in python selenium-webdriver", "body": "<p>You can use the JAVASCRIPT built-in method. </p>\n\n<p>It only can be done once the driver has already been created though.</p>\n\n<pre><code>from selenium import webdriver\ndriver = webdriver.Chrome()\n# Store it in a variable and print the value\nagent = driver.execute_script(\"return navigator.userAgent\")\nprint(agent)\n# directly print the value\nprint(driver.execute_script(\"return navigator.userAgent\"))\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29678, "favorite_count": 4, "accepted_answer_id": 39882959, "answer_count": 5, "score": 14, "last_activity_date": 1587247850, "creation_date": 1475697446, "question_id": 39882645, "link": "https://stackoverflow.com/questions/39882645/how-to-grab-headers-in-python-selenium-webdriver", "title": "How to grab headers in python selenium-webdriver", "body": "<p>I am trying to grab the headers in selenium webdriver. Something similar to the following:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; res=requests.get('http://google.com')\n&gt;&gt;&gt; print res.headers\n</code></pre>\n\n<p>I need to use the <code>Chrome</code> webdriver because it supports flash and some other things that I need to test a web page. Here is what I have so far in Selenium:</p>\n\n<pre><code>from selenium import webdriver\ndriver = webdriver.Chrome()\ndriver.get('https://login.comcast.net/login?r=comcast.net&amp;s=oauth&amp;continue=https%3A%2F%2Flogin.comcast.net%2Foauth%2Fauthorize%3Fclient_id%3Dxtv-account-selector%26redirect_uri%3Dhttps%3A%2F%2Fxtv-pil.xfinity.com%2Fxtv-authn%2Fxfinity-cb%26response_type%3Dcode%26scope%3Dopenid%2520https%3A%2F%2Flogin.comcast.net%2Fapi%2Flogin%26state%3Dhttps%3A%2F%2Ftv.xfinity.com%2Fpartner-success.html%26prompt%3Dlogin%26response%3D1&amp;reqId=18737431-624b-44cb-adf0-2a85d91bd662&amp;forceAuthn=1&amp;client_id=xtv-account-selector')\ndriver.find_element_by_css_selector('#user').send_keys('XY@comcast.net')\ndriver.find_element_by_css_selector('#passwd').send_keys('XXY')\ndriver.find_element_by_css_selector('#passwd').submit()\nprint driver.headers ### How to do this?\n</code></pre>\n\n<p>I have seen some other answers that recommend running an entire selenium server to get this information (<a href=\"https://github.com/derekargueta/selenium-profiler\">https://github.com/derekargueta/selenium-profiler</a>). How would I get it using something similar to the above with Webdriver?</p>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 193, "user_id": 2279328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3afad53b39f5f1c50ee57c0b48cc1c0c?s=128&d=identicon&r=PG", "display_name": "Akis", "link": "https://stackoverflow.com/users/2279328/akis"}, "edited": false, "score": 1, "creation_date": 1475697693, "post_id": 39882644, "comment_id": 67052368, "body": "From docs <code>r = requests.get(&#39;http:&#47;&#47;httpbin.org&#47;get&#39;, params=payload)</code> watch the <code>params</code> instead of <code>data</code> var,  see <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#passing-parameters-in-urls\" rel=\"nofollow noreferrer\">docs.python-requests.org/en/master/user/quickstart/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "reply_to_user": {"reputation": 193, "user_id": 2279328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3afad53b39f5f1c50ee57c0b48cc1c0c?s=128&d=identicon&r=PG", "display_name": "Akis", "link": "https://stackoverflow.com/users/2279328/akis"}, "edited": false, "score": 0, "creation_date": 1475697816, "post_id": 39882644, "comment_id": 67052432, "body": "Params allows you to pass in a dict of key value pairs. I don&#39;t need a key-value pair, just that simple string, unless I am misunderstanding the documentation."}, {"owner": {"reputation": 193, "user_id": 2279328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3afad53b39f5f1c50ee57c0b48cc1c0c?s=128&d=identicon&r=PG", "display_name": "Akis", "link": "https://stackoverflow.com/users/2279328/akis"}, "edited": false, "score": 0, "creation_date": 1475697897, "post_id": 39882644, "comment_id": 67052474, "body": "<code>record</code> is your key and <code>%7B%22</code> your value ;)"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "reply_to_user": {"reputation": 193, "user_id": 2279328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3afad53b39f5f1c50ee57c0b48cc1c0c?s=128&d=identicon&r=PG", "display_name": "Akis", "link": "https://stackoverflow.com/users/2279328/akis"}, "edited": false, "score": 0, "creation_date": 1475698097, "post_id": 39882644, "comment_id": 67052586, "body": "I added some clarity above. %7B%22 was not my actual value, just a snippet from the url. The actual data follows that."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1475698491, "post_id": 39882644, "comment_id": 67052803, "body": "Can you link to the docs?"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698696, "post_id": 39882644, "comment_id": 67052911, "body": "Not in full, no. It is a private link on this particular AWS AMI, that is only available when the machine is running."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1475698711, "post_id": 39882644, "comment_id": 67052917, "body": "Decoding the percent encoding your &quot;record&quot; starts with <code>{&quot;</code>. Are you perhaps meant to pass in JSON string?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1475698740, "post_id": 39882644, "comment_id": 67052937, "body": "What does you data dict look like? It is supposed to be <code>{&quot;record&quot;:{field:value...}}</code>"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698857, "post_id": 39882644, "comment_id": 67052991, "body": "No special characters in the names. its just string variable names with float values, e.g. : <code>{&#39;x1&#39;:1.0, &#39;x2&#39;: 0.75....}</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1475698879, "post_id": 39882644, "comment_id": 67053001, "body": "But what exact format do you have it in?  Are you passing a dict with a record key and a sub dict of key/value fields?"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475699073, "post_id": 39882644, "comment_id": 67053119, "body": "I was not doing that, no. The <b>record=</b> was added solely by their Swagger docs. I will try adding that as a top level key, and then nesting my key/value fields."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475697954, "post_id": 39882741, "comment_id": 67052503, "body": "So, if I were to use params, I&#39;d have to pre-form the remainder of the string that would be produced by this? And I assure you, this is indeed a &quot;GET&quot; request that requires data, per the API I am using."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698077, "post_id": 39882741, "comment_id": 67052573, "body": "No.  You send a dict of <code>{query_key: query_value}</code> as shown.  Don&#39;t try to prepare the query string manually, unless you want to muck around with <code>urllib.quote</code> and basically be in a world of pain."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698343, "post_id": 39882741, "comment_id": 67052718, "body": "I have a hard time believing the API requires data, because that&#39;s not playing HTTP properly.  If it really does, you should not have much faith in that API - it will probably break horribly if any caching or proxying come into play."}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698344, "post_id": 39882741, "comment_id": 67052720, "body": "When I simply pass the dict to params though, it doesn&#39;t include the &quot;record=&quot; piece that is otherwise missing."}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475698634, "post_id": 39882741, "comment_id": 67052875, "body": "Wim, I have added a link to a screenshot from the documentation."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475699070, "post_id": 39882741, "comment_id": 67053115, "body": "Nowhere in your screenshot does it say to send data.  It says to send <code>model_name</code> by path (i.e. part of url before the <code>?</code>) and <code>record</code> by query (i.e. part of the url after the <code>?</code>)"}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 0, "creation_date": 1475699266, "post_id": 39882741, "comment_id": 67053218, "body": "Ah, I had misunderstood how to modify that. That&#39;s the fix. Thanks, wim."}, {"owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "edited": false, "score": 1, "creation_date": 1475779193, "post_id": 39882741, "comment_id": 67092166, "body": "To add clarity, wim was correct about it needing to be in params, so the final solution ended up being: <code>params = {&quot;record&quot;: json.dumps(data)}</code>"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": -1, "last_activity_date": 1475697982, "last_edit_date": 1475697982, "creation_date": 1475697813, "answer_id": 39882741, "question_id": 39882644, "link": "https://stackoverflow.com/questions/39882644/python-requests-add-text-at-the-beginning-of-query-string/39882741#39882741", "title": "Python Requests - add text at the beginning of query string", "body": "<p>'GET' requests don't have data, that's for 'POST' and friends.  </p>\n\n<p>You can send the query string arguments using <code>params</code> kwarg instead:</p>\n\n<pre><code>&gt;&gt;&gt; params = {'record': '{\"'}\n&gt;&gt;&gt; response = requests.get('http://www.example.com/explain', params=params)\n&gt;&gt;&gt; response.request.url\n'http://www.example.com/explain?record=%7B%22'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 2279328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3afad53b39f5f1c50ee57c0b48cc1c0c?s=128&d=identicon&r=PG", "display_name": "Akis", "link": "https://stackoverflow.com/users/2279328/akis"}, "is_accepted": false, "score": -1, "last_activity_date": 1475699212, "last_edit_date": 1475699212, "creation_date": 1475698893, "answer_id": 39883003, "question_id": 39882644, "link": "https://stackoverflow.com/questions/39882644/python-requests-add-text-at-the-beginning-of-query-string/39883003#39883003", "title": "Python Requests - add text at the beginning of query string", "body": "<p>From the comments i felt the need to explain this. </p>\n\n<p><code>http://example.com/sth?key=value&amp;anotherkey=anothervalue</code></p>\n\n<p>Let's assume  you have a url like the above in order to call with python requests you only have to write </p>\n\n<pre><code> response = requests.get('http://example.com/sth', params={\n                          'key':'value', \n                           'anotherkey':'anothervalue'\n                         })\n</code></pre>\n\n<p>Have in mind that if your value or your keys have any special character in them they will be escaped thats the reason for the <code>%7B%2</code> part of url in your question. </p>\n"}], "owner": {"reputation": 23, "user_id": 6883167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3a5a63ef7bd6de0a7acea4f50d482d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Woods", "link": "https://stackoverflow.com/users/6883167/j-woods"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 39882741, "answer_count": 2, "score": 0, "last_activity_date": 1475699212, "creation_date": 1475697438, "last_edit_date": 1475698581, "question_id": 39882644, "link": "https://stackoverflow.com/questions/39882644/python-requests-add-text-at-the-beginning-of-query-string", "title": "Python Requests - add text at the beginning of query string", "body": "<p>When sending data through python-requests a GET request, I have a need to specifically add something at the beginning of the query string. I have tried passing the data in through dicts and json strings with no luck.</p>\n\n<p>The request as it appears when produced by requests:</p>\n\n<pre><code>/apply/.../explain?%7B%22......\n</code></pre>\n\n<p>The request as it appears when produced by their interactive API documentation (Swagger):</p>\n\n<pre><code>/apply/.../explain?record=%7B%22....\n</code></pre>\n\n<p>Where the key-value pairs of my data follow the excerpt above.</p>\n\n<p>Ultimately, I think the missing piece is the <strong>record=</strong> that gets produced by their documentation. It is the only piece that is different from what is produced by Requests.</p>\n\n<p>At the moment I've got it set up something like this:</p>\n\n<pre><code>import requests\ns = requests.Session()\ns.auth = requests.auth.HTTPBasicAuth(username,password)\ns.verify = certificate_path\n\n# with data below being a dictionary of the values I need to pass.\nr = s.get(url,data=data)\n</code></pre>\n\n<p>I am trying to include an image of the documentation below, but don't yet have enough reputation to do so:</p>\n\n<p><a href=\"http://i.stack.imgur.com/r7Z5x.png\" rel=\"nofollow\">apply/model/explain documentation</a></p>\n"}, {"tags": ["python", "numpy", "image-processing"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1475697536, "post_id": 39882632, "comment_id": 67052297, "body": "I guess it would depend to at least some extent the kind of operations you might want to use on that data. Any insights on it?"}, {"owner": {"reputation": 1107, "user_id": 5905245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dd58e460854fb991011268e46485f495?s=128&d=identicon&r=PG&f=1", "display_name": "kmh", "link": "https://stackoverflow.com/users/5905245/kmh"}, "edited": false, "score": 0, "creation_date": 1475698347, "post_id": 39882632, "comment_id": 67052724, "body": "a quadtree would do the trick."}, {"owner": {"reputation": 1794, "user_id": 5688175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/33bc30bff78bd69ebff12290b52f49a7?s=128&d=identicon&r=PG&f=1", "display_name": "floflo29", "link": "https://stackoverflow.com/users/5688175/floflo29"}, "edited": false, "score": 0, "creation_date": 1475698945, "post_id": 39882632, "comment_id": 67053042, "body": "I will use it in a markov random field framework. For a pixel at a given, I need its parent  and its children at the finest scale."}], "answers": [{"tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1475700789, "creation_date": 1475700789, "answer_id": 39883453, "question_id": 39882632, "link": "https://stackoverflow.com/questions/39882632/how-would-you-store-a-pyramidal-image-representation-in-python/39883453#39883453", "title": "How would you store a pyramidal image representation in Python?", "body": "<p>You could just use a list of numpy arrays. Assuming a scale factor of two, for the <em>i,j</em><sup>th</sup> pixel at scale <em>n</em>:</p>\n\n<ul>\n<li>The indices of its \"parent\" pixel at scale <em>n-1</em> will be <code>(i//2, j//2)</code></li>\n<li>Its \"child\" pixels at scale <em>n+1</em> can be indexed by <code>(slice(2*i, 2*(i+1)), slice(2*j, 2*(j+1)))</code></li>\n</ul>\n"}], "owner": {"reputation": 1794, "user_id": 5688175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/33bc30bff78bd69ebff12290b52f49a7?s=128&d=identicon&r=PG&f=1", "display_name": "floflo29", "link": "https://stackoverflow.com/users/5688175/floflo29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 39883453, "answer_count": 1, "score": 0, "last_activity_date": 1475700789, "creation_date": 1475697405, "question_id": 39882632, "link": "https://stackoverflow.com/questions/39882632/how-would-you-store-a-pyramidal-image-representation-in-python", "title": "How would you store a pyramidal image representation in Python?", "body": "<p>Suppose I have N images which are a multiresolution representation of a single image (the Nth image being the coarsest one). If my finest scale is a  16x16 image, the next scale is a 8x8 image and so on.\nHow should I store such data to fastly be able to access, at a given scale and for a given pixel, its unique parent in the next coarser scale and its children at each finest scale?</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning"], "answers": [{"tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 2, "last_activity_date": 1475697650, "creation_date": 1475697650, "answer_id": 39882694, "question_id": 39882623, "link": "https://stackoverflow.com/questions/39882623/in-tensorflow-how-can-you-check-if-gradients-are-correct-for-your-custom-operat/39882694#39882694", "title": "In Tensorflow, how can you check if gradients are correct for your custom operation?", "body": "<p>There is nothing magical about it. You extract a part of the tensor and use for computations, so all the partial derivatives that \"flow through\" this slice are well defined. From math perspective it is something among the lines of having</p>\n\n<pre><code>f([x1,x2,x3,x4]) = f(x) = 2 * sum(slice(x, 2, 2)) + 1 = 2 * (x2 + x3) + 1\n</code></pre>\n\n<p>and you can compute the gradient directly</p>\n\n<pre><code>grad f(x) = [df / dx1, df / dx2, df / dx3, df / dx4] = [0, 2, 2, 0]\n</code></pre>\n\n<p>And now when you <strong>add</strong> this f your original loss g, from properties of the gradients, it is added as well. So </p>\n\n<pre><code>grad (f + g)(x) = grad f(x) + grad g(x) = [0, 2, 2, 0] + grad g(x)\n</code></pre>\n\n<p>Everything works fine.</p>\n\n<p>In particular, you can always <strong>visualize your graph</strong> in the TensorBoard, double click on \"gradient\" node and you will see exactly each operation used to compute your gradients.</p>\n"}], "owner": {"reputation": 1878, "user_id": 3251207, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/fFPz4.png?s=128&g=1", "display_name": "YW P Kwon", "link": "https://stackoverflow.com/users/3251207/yw-p-kwon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "accepted_answer_id": 39882694, "answer_count": 1, "score": 2, "last_activity_date": 1475697650, "creation_date": 1475697365, "question_id": 39882623, "link": "https://stackoverflow.com/questions/39882623/in-tensorflow-how-can-you-check-if-gradients-are-correct-for-your-custom-operat", "title": "In Tensorflow, how can you check if gradients are correct for your custom operation?", "body": "<p>My question is, how backpropatation paths are determined e.g., when using <code>tf.slice</code>? </p>\n\n<p>Let me take an example. Let's say, I have a K-classification problem. I can do this in a standard way like</p>\n\n<pre><code>conv1 = # conv1+relu1+lrm1+pool1\nconv2 = # from conv1\nfc1 = # from conv2 to 128D fully connected + relu\nfc2 = # from fc2 to K-D fully connected\nbatch_loss = tf.softmax_cross_entropy(fc2, labels)\nloss = tf.reduce_mean(batch_loss)\n... minimize(loss)\n</code></pre>\n\n<p>In this case, the gradient of <code>loss</code> will backpropagate to each weights.</p>\n\n<p>Let's say, I calcuated a custom loss value by slicing <code>labels</code> and <code>fc2</code> output (maybe since I think a certain class is more important?)</p>\n\n<pre><code>label_sub = tf.slice(labels, ..)\noutput_sub =  tf.slice(fc2, ..)\nbatch_loss_sub = tf.softmax_cross_entropy(output_sub, label_sub)\nloss = tf.reduce_mean(batch_loss + batch_loss_sub)\n... minimize(loss)\n</code></pre>\n\n<p>In this case, I am not getting how back-propagation would work. From the \"slicing\", didn't we lose backprob paths?</p>\n\n<p>This might be a weird pseudo-code, but my question is \"when using tf.slice, how backpropagation work?\" </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475697461, "post_id": 39882621, "comment_id": 67052263, "body": "Don&#39;t convert to int! <code>operator=input(&quot;Operator: &quot;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 5947891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e533298ad0a3547aff0e03abf2d1ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Just Rudy", "link": "https://stackoverflow.com/users/5947891/just-rudy"}, "reply_to_user": {"reputation": 17, "user_id": 6928451, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-hRg7VTxPCwM/AAAAAAAAAAI/AAAAAAAAAJA/Vocj5wZXXzc/photo.jpg?sz=128", "display_name": "Shadow Sage", "link": "https://stackoverflow.com/users/6928451/shadow-sage"}, "edited": false, "score": 1, "creation_date": 1475698546, "post_id": 39882658, "comment_id": 67052827, "body": "Glad it helped. Can you mark this as solved? Thanks."}], "tags": [], "owner": {"reputation": 658, "user_id": 5947891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e533298ad0a3547aff0e03abf2d1ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Just Rudy", "link": "https://stackoverflow.com/users/5947891/just-rudy"}, "is_accepted": false, "score": 0, "last_activity_date": 1475697507, "creation_date": 1475697507, "answer_id": 39882658, "question_id": 39882621, "link": "https://stackoverflow.com/questions/39882621/how-to-resolve-valueerror-invalid-literal-for-int-with-base-10-in-python/39882658#39882658", "title": "How to resolve &quot;ValueError: invalid literal for int() with base 10&quot; in Python?", "body": "<p>The operator is being cast as an int. This should not be the case:</p>\n\n<p><code>int( input(\"First Operator: \"))</code></p>\n\n<p>Try without the int(...).</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 6928523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6YHXC.jpg?s=128&g=1", "display_name": "Cleber Couto Filho", "link": "https://stackoverflow.com/users/6928523/cleber-couto-filho"}, "is_accepted": true, "score": 0, "last_activity_date": 1475698963, "last_edit_date": 1475698963, "creation_date": 1475698493, "answer_id": 39882915, "question_id": 39882621, "link": "https://stackoverflow.com/questions/39882621/how-to-resolve-valueerror-invalid-literal-for-int-with-base-10-in-python/39882915#39882915", "title": "How to resolve &quot;ValueError: invalid literal for int() with base 10&quot; in Python?", "body": "<p>You are trying to turn a char variable, in this case the operator, in an int one. Since the compiler cant turn the operator in int it will return this error. If you just declare a variable called operator it will work, your code will look like this:</p>\n\n<pre><code>a= float( input(\"First Number: \"))\n\noperator =input(\"First Operator: \")\n\nb= float( input(\"Second Number: \"))\n\nif (operator == \"+\"):\n    c=a+b\n\nelif(operator == \"-\"):\n    c=a-b\n\nelif(operator == \"*\"):\n    c=a*b\n\nelif(operator == \"-\"):\n    c=a/b\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6928451, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-hRg7VTxPCwM/AAAAAAAAAAI/AAAAAAAAAJA/Vocj5wZXXzc/photo.jpg?sz=128", "display_name": "Shadow Sage", "link": "https://stackoverflow.com/users/6928451/shadow-sage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 0, "accepted_answer_id": 39882915, "answer_count": 2, "score": -1, "last_activity_date": 1475755500, "creation_date": 1475697364, "last_edit_date": 1475755500, "question_id": 39882621, "link": "https://stackoverflow.com/questions/39882621/how-to-resolve-valueerror-invalid-literal-for-int-with-base-10-in-python", "title": "How to resolve &quot;ValueError: invalid literal for int() with base 10&quot; in Python?", "body": "<p>I'm having a little trouble with a calculator that I'm making. I need to make it where it can add, multiply, divide, and subtract if you put them as the operator then it will follow which one it is. My code looks like this:</p>\n\n<pre><code>   a= int( input(\"First Number: \"))\n\n   int( input(\"First Operator: \"))\n\n   b= int( input(\"Second Number: \"))\n\n   if (operator == \"+\"):\n       c=a+b\n   elif(operator == \"-\"):\n       c=a-b\n   elif(operator == \"*\"):\n       c=a*b\n   elif(operator == \"-\"):\n       c=a/b\n\n\n\n   print(c)\n</code></pre>\n\n<p>Every time I enter either a <code>+,-,*,or/</code> as the operator it give me this:</p>\n\n<pre><code>   operator=int( input(\"Operator: \"))\n   ValueError: invalid literal for int() with base 10: '/'\n</code></pre>\n\n<p>I know this means that I need an integer, but how can I fix it?</p>\n"}, {"tags": ["python", "python-2.7", "zip", "subprocess"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475711663, "post_id": 39882604, "comment_id": 67057524, "body": "Why do you think anything would be faster than giving all files directly to 7z.exe?"}, {"owner": {"reputation": 3874, "user_id": 2423116, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8047e96df3264a4cabc812b4da38577e?s=128&d=identicon&r=PG", "display_name": "ADJ", "link": "https://stackoverflow.com/users/2423116/adj"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475769652, "post_id": 39882604, "comment_id": 67086886, "body": "I don&#39;t. But based on the experiments I ran and the problem constraints I fail to see a solution."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475771787, "post_id": 39882604, "comment_id": 67088124, "body": "Well, I would look for alternatives to 7z. I&#39;m not saying 7z is not good, maybe it is the best, but maybe it is not. I don&#39;t know why it is so much slower to add file by file, I have a feeling it should be approximately as fast as doing all at once. Maybe it is with other tools."}], "answers": [{"tags": [], "owner": {"reputation": 3874, "user_id": 2423116, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8047e96df3264a4cabc812b4da38577e?s=128&d=identicon&r=PG", "display_name": "ADJ", "link": "https://stackoverflow.com/users/2423116/adj"}, "is_accepted": true, "score": 0, "last_activity_date": 1475785936, "creation_date": 1475785936, "answer_id": 39905145, "question_id": 39882604, "link": "https://stackoverflow.com/questions/39882604/managing-zipping-large-number-of-files-in-python-using-7zip-and-subprocess/39905145#39905145", "title": "Managing zipping large number of files in Python using 7zip and subprocess", "body": "<p>I ended up finding a workaround, where essentially I write all file names from FilesListBelow2GB to a .txt file, and then ask 7zip to use that to know which files to zip.</p>\n\n<pre><code>outf = open('list.txt','w') \nfor fileToZip in FilesListBelow2GB :\n    outf.write(fileToZip+'\\n')\n    outf.close()\n\ntxt = '\"C:\\\\Program Files\\\\7-Zip\\\\7z.exe\" a -tzip compress.zip -i@list.txt'\nout = subprocess.check_output(txt, shell = True)\n</code></pre>\n"}], "owner": {"reputation": 3874, "user_id": 2423116, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8047e96df3264a4cabc812b4da38577e?s=128&d=identicon&r=PG", "display_name": "ADJ", "link": "https://stackoverflow.com/users/2423116/adj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 39905145, "answer_count": 1, "score": 0, "last_activity_date": 1475785936, "creation_date": 1475697317, "question_id": 39882604, "link": "https://stackoverflow.com/questions/39882604/managing-zipping-large-number-of-files-in-python-using-7zip-and-subprocess", "title": "Managing zipping large number of files in Python using 7zip and subprocess", "body": "<p>I have a large amount of files (~100k) moved from a server to a designated folder on a daily basis. I'm running a Python script against these files. At the end of the process I want to create a number of .zip files, each of approximately 2GB.</p>\n\n<p>The script will get a list of all files in the folder, get the size one a time using <code>os.path.getsize</code> , keep track of the total accrued file size until it gets above 2GB, it will take the list of those files and zip them in one zip archive, then reset the size accumulator and move on to the next chunk of files.</p>\n\n<p>If there wasn't a 2GB requirement I'd just run the following and it would be super speedy.</p>\n\n<pre><code>txt = '\"C:\\\\Program Files\\\\7-Zip\\\\7z.exe\" a -tzip %s *.txt -pSECRET'%(zipFileName)\nout = subprocess.check_output(txt, shell = True)\n</code></pre>\n\n<p>But given the 2GB requirement I've tried two routes. One is to add one file at a time to the archive, but that seems to be orders of magnitude slower than just using a wildcard (I'm hypothesizing that is due to the constant re-opening of the archive).</p>\n\n<pre><code>for file in FilesListBelow2GB:\n    txt = '\"C:\\\\Program Files\\\\7-Zip\\\\7z.exe\" a -tzip %s %s -pSECRET'%(zipFileName,file)\n    out = subprocess.check_output(txt, shell = True)\n</code></pre>\n\n<p>I also tried to supply a space delimited list of files to process but it errors <code>WindowsError: [Error 206] The filename or extension is too long</code>.</p>\n\n<pre><code>txt = '\"C:\\\\Program Files\\\\7-Zip\\\\7z.exe\" a -tzip %s %s -pSECRET'%(zipFileName,' '.join(FilesListBelow2GB))\nout = subprocess.check_output(txt, shell = True)\n</code></pre>\n\n<p>How can I manage this situation so that I can achive better zipping performance given the constraints I'm given (all files are in the same folder, can't delete files, zip files need to be approximately ~2GB in size)?</p>\n"}, {"tags": ["python", "qt", "pyqt", "qlistwidget"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "edited": false, "score": 0, "creation_date": 1475735307, "post_id": 39883248, "comment_id": 67064089, "body": "when i set stylesheet to QListWidget and than set background color to item, this last one dosen&#39;t work."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "edited": false, "score": 0, "creation_date": 1475771337, "post_id": 39883248, "comment_id": 67087839, "body": "Set the background color in style sheet itself. listWidget-&gt;setStyleSheet(    &quot;QListWidget::item {&quot;      &quot;border-style: solid;&quot;       &quot;border-width:1px;&quot;       &quot;border-color:black;&quot;       &quot;background-color: green;&quot;   &quot;}&quot;"}, {"owner": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "edited": false, "score": 0, "creation_date": 1475856559, "post_id": 39883248, "comment_id": 67126821, "body": "it doesn&#39;t work, this is what I did: self.list_widget.setStyleSheet(&quot;&quot;&quot;         QListWidget::item {                 border-style: solid;                 border-width:1px;                 border-color:black;                 background-color: green;             }         &quot;&quot;&quot;) than I add a color background to the first item like this: item.setBackground(QtGui.QColor(255, 255, 100)) the result that I got is: all items in green color (that sets in stylesheet)."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "edited": false, "score": 0, "creation_date": 1475858854, "post_id": 39883248, "comment_id": 67128073, "body": "I am missing something the. Could you please refer below link? It may help you a bit.  <a href=\"http://stackoverflow.com/questions/36018010/how-to-change-remove-selection-active-color-of-qlistwidget\" title=\"how to change remove selection active color of qlistwidget\">stackoverflow.com/questions/36018010/&hellip;</a>"}, {"owner": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "edited": false, "score": 0, "creation_date": 1476005308, "post_id": 39883248, "comment_id": 67164754, "body": "I read the question and answers in the link that you told me about and try to use delegate, but still can&#39;t do what I want."}], "tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1475699944, "creation_date": 1475699944, "answer_id": 39883248, "question_id": 39882602, "link": "https://stackoverflow.com/questions/39882602/add-custom-items-to-qlistwidget/39883248#39883248", "title": "Add custom items to QListWidget", "body": "<p>I see you have QListWidgetItem with you.</p>\n\n<p>From documentation you can customize each widget item, customize it and add to your listwidget:</p>\n\n<p>The appearance of the text can be customized with setFont(), setForeground(), and setBackground(). Text in list items can be aligned using the setTextAlignment() function. Tooltips, status tips and \"What's This?\" help can be added to list items with setToolTip(), setStatusTip(), an\nd setWhatsThis().</p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qlistwidgetitem.html#details\" rel=\"nofollow\">http://doc.qt.io/qt-5/qlistwidgetitem.html#details</a></p>\n"}], "owner": {"reputation": 345, "user_id": 6243838, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e61a53299563841004281794c52e3f46?s=128&d=identicon&r=PG&f=1", "display_name": "Oussama He", "link": "https://stackoverflow.com/users/6243838/oussama-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1365, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475704443, "creation_date": 1475697315, "last_edit_date": 1475704443, "question_id": 39882602, "link": "https://stackoverflow.com/questions/39882602/add-custom-items-to-qlistwidget", "title": "Add custom items to QListWidget", "body": "<p>How can I add customized items to a QListWidget with a background color that I choose, and add a bottom border to each item, like this draft example in the picture below.</p>\n\n<p>This is the code that I wrote:</p>\n\n<pre><code>from PyQt5 import QtWidgets, QtGui\nimport sys\n\n\nclass CustomListHead(QtWidgets.QWidget):\n    def __init__(self):\n        super(CustomListHead, self).__init__()\n        self.project_title = QtWidgets.QLabel(\"Today\")\n        self.set_ui()\n\n    def set_ui(self):\n        grid_box = QtWidgets.QGridLayout()\n        grid_box.addWidget(self.project_title, 0, 0)\n\n        self.setLayout(grid_box)\n        self.show()\n\n\nclass CustomListItem(QtWidgets.QWidget):\n    def __init__(self):\n        super(CustomListItem, self).__init__()\n        self.project_title = QtWidgets.QLabel(\"Learn Python\")\n        self.task_title = QtWidgets.QLabel(\"Learn more about forms, models and include\")\n        self.set_ui()\n\n    def set_ui(self):\n        grid_box = QtWidgets.QGridLayout()\n\n        grid_box.addWidget(self.project_title, 0, 0)\n        grid_box.addWidget(self.task_title, 1, 0)\n\n        self.setLayout(grid_box)\n        self.show()\n\n\nclass MainWindowUI(QtWidgets.QMainWindow):\n    def __init__(self):\n        super(MainWindowUI, self).__init__()\n        self.list_widget = QtWidgets.QListWidget()\n        self.set_ui()\n\n    def set_ui(self):\n        custom_head_item = CustomListHead()\n\n        item = QtWidgets.QListWidgetItem(self.list_widget)\n        item.setSizeHint(custom_head_item.sizeHint())\n\n        self.list_widget.setItemWidget(item, custom_head_item)\n        self.list_widget.addItem(item)\n\n        custom_item = CustomListItem()\n        item = QtWidgets.QListWidgetItem(self.list_widget)\n        item.setSizeHint(custom_item.sizeHint())\n\n        self.list_widget.addItem(item)\n        self.list_widget.setItemWidget(item, custom_item)\n\n        vertical_layout = QtWidgets.QVBoxLayout()\n        vertical_layout.addWidget(self.list_widget)\n\n        widget = QtWidgets.QWidget()\n        widget.setLayout(vertical_layout)\n        self.setCentralWidget(widget)\n        self.show()\n\n\napp = QtWidgets.QApplication(sys.argv)\nui = MainWindowUI()\nsys.exit(app.exec_())\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/dLkvl.png\" alt=\"example\"></p>\n"}, {"tags": ["python", "pandas", "timestamp", "duplicates"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 1, "last_activity_date": 1475697435, "creation_date": 1475697435, "answer_id": 39882642, "question_id": 39882522, "link": "https://stackoverflow.com/questions/39882522/finding-duplicate-rows-python/39882642#39882642", "title": "Finding duplicate rows python", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow\"><code>groupby</code></a> and get mask of all duplicates values per group by <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.duplicated.html\" rel=\"nofollow\"><code>Series.duplicated</code></a>. Last use <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#boolean-indexing\" rel=\"nofollow\"><code>boolean indexing</code></a>:</p>\n\n<pre><code>print (df.groupby(['id'])['timestamp'].apply(lambda x: x.duplicated(keep=False)))\n0     True\n1     True\n2    False\n3     True\n4     True\n5    False\n6    False\nName: timestamp, dtype: bool\n\nprint (df[df.groupby(['id'])['timestamp'].apply(lambda x: x.duplicated(keep=False))])\n            timestamp  id\n0 2016-06-09 08:33:37  a1\n1 2016-06-09 08:33:37  a1\n3 2016-06-09 08:33:39  a1\n4 2016-06-09 08:33:39  a1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4480, "user_id": 10232932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8ac182af86808de7f193677348c87d?s=128&d=identicon&r=PG&f=1", "display_name": "PV8", "link": "https://stackoverflow.com/users/10232932/pv8"}, "edited": false, "score": 0, "creation_date": 1576505962, "post_id": 39883411, "comment_id": 104911191, "body": "any change in this solution? <code>ix</code> is depreciated?"}, {"owner": {"reputation": 3674, "user_id": 4049396, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HFySR.jpg?s=128&g=1", "display_name": "Little Bobby Tables", "link": "https://stackoverflow.com/users/4049396/little-bobby-tables"}, "reply_to_user": {"reputation": 4480, "user_id": 10232932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8ac182af86808de7f193677348c87d?s=128&d=identicon&r=PG&f=1", "display_name": "PV8", "link": "https://stackoverflow.com/users/10232932/pv8"}, "edited": false, "score": 1, "creation_date": 1576534474, "post_id": 39883411, "comment_id": 104923869, "body": "use <code>loc</code> instead"}], "tags": [], "owner": {"reputation": 3674, "user_id": 4049396, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HFySR.jpg?s=128&g=1", "display_name": "Little Bobby Tables", "link": "https://stackoverflow.com/users/4049396/little-bobby-tables"}, "is_accepted": true, "score": 0, "last_activity_date": 1576534483, "last_edit_date": 1576534483, "creation_date": 1475700623, "answer_id": 39883411, "question_id": 39882522, "link": "https://stackoverflow.com/questions/39882522/finding-duplicate-rows-python/39883411#39883411", "title": "Finding duplicate rows python", "body": "<p>If you wish to find all duplicates then use the <code>duplicated</code> method. It only works on the columns. On the other hand <code>df.index.duplicated</code> works on the index. Therefore we do a quick <code>reset_index</code> to bring the index into the columns.</p>\n\n<pre><code>df = df.reset_index()\ndf.loc[df.duplicated(keep=False)]\n\n    index               id\n0   2016-06-09 8:33:37  a1\n1   2016-06-09 8:33:37  a1\n3   2016-06-09 8:33:39  a1\n4   2016-06-09 8:33:39  a1\n</code></pre>\n\n<p>If you just wish to remove duplicates there is the DataFrame method <code>drop_duplicates</code>.</p>\n\n<pre><code>df = df.reset_index()\ndf = df.drop_duplicates() # keep='first' by default.\n\n    index               id\n0   2016-06-09 8:33:37  a1\n2   2016-06-09 8:33:38  a1\n3   2016-06-09 8:33:39  a1\n5   2016-06-09 8:33:37  b1\n6   2016-06-09 8:33:38  b1\n</code></pre>\n\n<p>If you wish to get back your old index then set_index using the default columns name 'index' for either of the above then simply use.</p>\n\n<pre><code>df.set_index('index')\n\n                    id\nindex               \n2016-06-09 8:33:37  a1\n2016-06-09 8:33:38  a1\n2016-06-09 8:33:39  a1\n2016-06-09 8:33:37  b1\n2016-06-09 8:33:38  b1\n</code></pre>\n\n<p>The above methods allow you choose whether to keep the first, last or none of the duplicates by setting the <code>keep</code> attribute to <code>'first'</code>, <code>'last'</code> or <code>False</code>. So to remove all duplicates in <code>df</code> then use <code>keep=False</code>.</p>\n"}], "owner": {"reputation": 145, "user_id": 6779640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8ad5f18614286d9fa0c6be4451fbdee?s=128&d=identicon&r=PG&f=1", "display_name": "sshr", "link": "https://stackoverflow.com/users/6779640/sshr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3574, "favorite_count": 0, "accepted_answer_id": 39883411, "answer_count": 2, "score": 2, "last_activity_date": 1576534483, "creation_date": 1475697014, "question_id": 39882522, "link": "https://stackoverflow.com/questions/39882522/finding-duplicate-rows-python", "title": "Finding duplicate rows python", "body": "<p>I have <code>timestamp</code> and <code>id</code> variables in my dataframe (<code>df</code>)</p>\n\n<pre><code>timestamp                    id\n2016-06-09 8:33:37           a1  \n2016-06-09 8:33:37           a1  \n2016-06-09 8:33:38           a1\n2016-06-09 8:33:39           a1\n2016-06-09 8:33:39           a1\n2016-06-09 8:33:37           b1\n2016-06-09 8:33:38           b1\n</code></pre>\n\n<p>Each <code>id</code> can't have two timestamps. I have to print these duplicate timestamps for each <code>id</code>. In my above case, the output should be for rows 1,2,4,5</p>\n\n<p>The following code will give the duplicate <code>timestamp</code></p>\n\n<pre><code>set([x for x in df['timestamp'] if df['timestamp'].count(x) &gt; 1])\n</code></pre>\n\n<p>How to consider <code>id</code> along with <code>timestamp</code> to have the duplicate rows?</p>\n"}, {"tags": ["python", "django", "django-tables2"], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 2602386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e121cd787d17d6d4d24b3a93cb38b46e?s=128&d=identicon&r=PG", "display_name": "user2602386", "link": "https://stackoverflow.com/users/2602386/user2602386"}, "is_accepted": true, "score": 2, "last_activity_date": 1475696977, "creation_date": 1475696977, "answer_id": 39882505, "question_id": 39882504, "link": "https://stackoverflow.com/questions/39882504/django-tables2-flooding-database-with-queries/39882505#39882505", "title": "django-tables2 flooding database with queries", "body": "<p>Im posting this as a future reference for myself and other who might have the same problem. </p>\n\n<p>After searching for a bit I found out that django-tables2 was sending a single query for each row. The query was something like <code>SELECT * FROM \"table\"  LIMIT 1 OFFSET 1</code> with increasing offset. </p>\n\n<p>I reduced the number of sql calls by calling <code>query = list(query)</code> before i create the table and pass the query. By evaluating the query in the python view code the table now seems to work with the evaulated data instead and there is only one database call instead of hundreds.</p>\n"}, {"tags": [], "owner": {"reputation": 2934, "user_id": 238166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6520d6a558afed658accca4633ad4d0f?s=128&d=identicon&r=PG", "display_name": "Inti", "link": "https://stackoverflow.com/users/238166/inti"}, "is_accepted": false, "score": 1, "last_activity_date": 1488206209, "creation_date": 1488206209, "answer_id": 42488402, "question_id": 39882504, "link": "https://stackoverflow.com/questions/39882504/django-tables2-flooding-database-with-queries/42488402#42488402", "title": "django-tables2 flooding database with queries", "body": "<p>This was a bug and has been fixed in <a href=\"https://github.com/bradleyayers/django-tables2/issues/427\" rel=\"nofollow noreferrer\">https://github.com/bradleyayers/django-tables2/issues/427</a></p>\n"}], "owner": {"reputation": 120, "user_id": 2602386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e121cd787d17d6d4d24b3a93cb38b46e?s=128&d=identicon&r=PG", "display_name": "user2602386", "link": "https://stackoverflow.com/users/2602386/user2602386"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 39882505, "answer_count": 2, "score": 3, "last_activity_date": 1488206209, "creation_date": 1475696977, "question_id": 39882504, "link": "https://stackoverflow.com/questions/39882504/django-tables2-flooding-database-with-queries", "title": "django-tables2 flooding database with queries", "body": "<p>im using django-tables2 in order to show values from a database query. And everythings works fine. Im now using Django-dabug-toolbar and was looking through my pages with it. More out of curiosity than performance needs. When a lokked at the page with the table i saw that the debug toolbar registerd over 300 queries for a table with a little over 300 entries. I dont think flooding the DB with so many queries is a good idea even if there is no performance impact (at least not now). All the data should be coming from only one query.</p>\n\n<p>Why is this happening and how can i reduce the number of queries?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1475697245, "post_id": 39882473, "comment_id": 67052171, "body": "How will the file be structured?  Will it contain one list and then the other?  If so, how will you know where one list stops and the other starts?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1475697312, "post_id": 39882473, "comment_id": 67052199, "body": "So is your question &quot;How do I write to a file in Python&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1475697526, "creation_date": 1475697526, "answer_id": 39882662, "question_id": 39882473, "link": "https://stackoverflow.com/questions/39882473/how-to-store-list-of-word-and-numbers-in-a-file/39882662#39882662", "title": "how to store list of word and numbers in a file", "body": "<p>Just <code>open</code> a file and write to it</p>\n\n<pre><code>In [1]: sentence = input('Please enter a sentence: ')\nPlease enter a sentence: Hello World\n\nIn [2]: with open('output.txt', 'w') as f:\n   ...:     for i, word in enumerate(sentence.split(), start=1):\n   ...:         f.write(\"{} {}\\n\".format(i, word))\n   ...:\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>$ cat output.txt\n1 Hello\n2 World\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1330, "user_id": 6335503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229c916be89ba4012cc6962aadaec14a?s=128&d=identicon&r=PG&f=1", "display_name": "Nf4r", "link": "https://stackoverflow.com/users/6335503/nf4r"}, "is_accepted": true, "score": 0, "last_activity_date": 1475697634, "creation_date": 1475697634, "answer_id": 39882688, "question_id": 39882473, "link": "https://stackoverflow.com/questions/39882473/how-to-store-list-of-word-and-numbers-in-a-file/39882688#39882688", "title": "how to store list of word and numbers in a file", "body": "<p>What you can try (if this is what you want) is:</p>\n\n<pre><code>sentence = input('Please enter a sentence: ')\nlist_of_words = sentence.split()\nwords_with_numbers = enumerate(list_of_words, start=1)\nfilename = 'yourfilename.txt'\nwith open(filename, 'w+') as file:\n    file.write(str(list_of_words) + '\\n' + str(words_with_numbers) + '\\n')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6928343"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1475697654, "accepted_answer_id": 39882688, "answer_count": 2, "score": 0, "last_activity_date": 1475697634, "creation_date": 1475696898, "last_edit_date": 1475697147, "question_id": 39882473, "link": "https://stackoverflow.com/questions/39882473/how-to-store-list-of-word-and-numbers-in-a-file", "closed_reason": "Duplicate", "title": "how to store list of word and numbers in a file", "body": "<p>I want to assign numbers to words (starting from one) and create two lists, one of the words, one of the numbers. Then create a file and store both lists in it. So far I have:</p>\n\n<pre><code>sentence = input('Please enter a sentence: ')\nlist_of_words = sentence.split()\nwords_with_numbers = enumerate(list_of_words, start=1)\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1475697043, "post_id": 39882449, "comment_id": 67052058, "body": "That&#39;s actually a python dictionary, not JSON"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1475697330, "post_id": 39882449, "comment_id": 67052204, "body": "...it may have been a JSON response <b>earlier</b>, but it&#39;s not JSON any more at the point in time when it&#39;s quoted for that question, which means that its history as JSON is effectively irrelevant."}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 3, "last_activity_date": 1475696965, "creation_date": 1475696965, "answer_id": 39882497, "question_id": 39882449, "link": "https://stackoverflow.com/questions/39882449/how-to-pass-json-in-python/39882497#39882497", "title": "how to pass json in python", "body": "<p>Pay attention to the hierarchy. You'll notice the dictionary containing the <code>intent</code> key is <em>nested</em> in a list, so you'll have to index the list before you can access the dictionary:</p>\n\n<pre><code>COMMANDS[\"outcomes\"][0][\"intent\"]\n#                    ^ --&gt; dictionary is located at index 0 of the list\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1475697092, "creation_date": 1475697092, "answer_id": 39882541, "question_id": 39882449, "link": "https://stackoverflow.com/questions/39882449/how-to-pass-json-in-python/39882541#39882541", "title": "how to pass json in python", "body": "<pre><code>yourString = {u'outcomes': [{u'entities': {}, u'confidence': 0.951, u'intent': u'timeanddate', u'_text': u'what is the'}], u'msg_id': u'629bbdbd-788b-4418-a5cf-1f9a7895f490', u'_text': u'what is the'}\nyourString['outcomes'][0]['intent']\n&gt;&gt;&gt; u'timeanddate'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3188033"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1475697256, "accepted_answer_id": 39882497, "answer_count": 2, "score": 0, "last_activity_date": 1475697092, "creation_date": 1475696814, "last_edit_date": 1475696894, "question_id": 39882449, "link": "https://stackoverflow.com/questions/39882449/how-to-pass-json-in-python", "closed_reason": "Duplicate", "title": "how to pass json in python", "body": "<p>I am using python and have a json response :</p>\n\n<pre><code>{u'outcomes': [{u'entities': {}, u'confidence': 0.951, u'intent': u'timeanddate', u'_text': u'what is the'}], u'msg_id': u'629bbdbd-788b-4418-a5cf-1f9a7895f490', u'_text': u'what is the'}\n</code></pre>\n\n<p>I would like to access the information like this or something similar:</p>\n\n<pre><code>COMMANDS[\"outcomes\"][\"intent\"]\n</code></pre>\n\n<p>How would I do this.</p>\n\n<p>Thank You</p>\n"}, {"tags": ["python", "python-requests", "unify"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1475696844, "post_id": 39882412, "comment_id": 67051942, "body": "Dictionaries have no order.  use <code>collections.OrderedDict</code>"}, {"owner": {"reputation": 6488, "user_id": 1716549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18df112ba3654190d3d30a714040cc27?s=128&d=identicon&r=PG", "display_name": "Mathias", "link": "https://stackoverflow.com/users/1716549/mathias"}, "edited": false, "score": 1, "creation_date": 1475696938, "post_id": 39882412, "comment_id": 67052003, "body": "Or python 3.6 - they ordered in python 3.6"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1475697085, "post_id": 39882412, "comment_id": 67052086, "body": "You have duplicate keys so that is probably a bigger problem"}, {"owner": {"reputation": 6919, "user_id": 26224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac56cfaecf1f5e364224e9159810022?s=128&d=identicon&r=PG", "display_name": "muratgu", "link": "https://stackoverflow.com/users/26224/muratgu"}, "edited": false, "score": 0, "creation_date": 1475697563, "post_id": 39882412, "comment_id": 67052312, "body": "why does the server rely on ordering one way or another?"}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1475698433, "last_edit_date": 1475698433, "creation_date": 1475697330, "answer_id": 39882607, "question_id": 39882412, "link": "https://stackoverflow.com/questions/39882412/python-request-payload-without-sorting/39882607#39882607", "title": "python request payload without sorting", "body": "<p>You can pass tuples in place of the dict:</p>\n\n<pre><code>In [7]: \n   ...: import requests\n   ...: d = {\"foo\":\"bar\",\"bar\":\"foo\",\"123\":\"456\"}\n   ...: t = ((\"foo\",\"bar\"),(\"bar\",\"foo\"),(\"123\",\"456\"))\n   ...: r1 = requests.post(\"http://httpbin.org\", data=d)\n   ...: r2 = requests.post(\"http://httpbin.org\", data=t)\n   ...: print(r1.request.body)\n   ...: print(r2.request.body)\n   ...: \nbar=foo&amp;123=456&amp;foo=bar\nfoo=bar&amp;bar=foo&amp;123=456\n</code></pre>\n\n<p>Also you have <code>selectedUser</code> twice in your <em>dict</em> so that won't work as you will only have the last key/value pair you assign, not sure what the correct format is but again tuples would allow you to repeat a key:</p>\n\n<pre><code>In [8]: import requests\n   ...: d = {\"foo\":\"bar\",\"bar\":\"foo\",\"123\":\"456\",\"selectedUser\":\"0\", \"selectedUs\n   ...: er\":\"1\"}\n   ...: t = ((\"foo\",\"bar\"),(\"bar\",\"foo\"),(\"123\",\"456\"), (\"selectedUser\",\"0\"),(\"s\n   ...: electedUser\",\"1\"))\n   ...: r1 = requests.post(\"http://httpbin.org\", data=d)\n   ...: r2 = requests.post(\"http://httpbin.org\", data=t)\n   ...: print(r1.request.body)\n   ...: print(r2.request.body)\n   ...: \nbar=foo&amp;selectedUser=1&amp;123=456&amp;foo=bar\nfoo=bar&amp;bar=foo&amp;123=456&amp;selectedUser=0&amp;selectedUser=1\n</code></pre>\n\n<p>You can see using a dict leaves you with just <code>selectedUser=1</code> as that is the last of the pair assigned. That may actually be your problem more than the order of the post body keys. If you only meant to use <code>selectedUser</code> once then remove whichever you did not mean to post.</p>\n"}], "owner": {"reputation": 19, "user_id": 5181485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b663f35a184ecf5b65146c8c538d057e?s=128&d=identicon&r=PG&f=1", "display_name": "mikegray", "link": "https://stackoverflow.com/users/5181485/mikegray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 39882607, "answer_count": 1, "score": 2, "last_activity_date": 1475698433, "creation_date": 1475696689, "question_id": 39882412, "link": "https://stackoverflow.com/questions/39882412/python-request-payload-without-sorting", "title": "python request payload without sorting", "body": "<p>I am trying to use python request module to pass few values to server using the following code, but in the http request its changing the order of the payload values.   </p>\n\n<pre><code>payload3 = {'OSILA_LinkTo_Site': OSILA_LinkTo_Site, 'OSILA_LinkTo_Service': OSILA_LinkTo_Service, 'OSILA_Locale': OSILA_Locale, 'OSILA_Locale_display': OSILA_Locale, 'OSILA_TimeZone': OSILA_TimeZone, 'OSILA_TimeZone_display': OSILA_TimeZone, 'selectedUser': '', 'OSILA_LinkTo_User_display': '', 'OSILA_LinkTo_User': OSILA_LinkTo_User, 'OSILA_DisplayName': OSILA_DisplayName, 'OSILA_CountryCode': OSILA_CountryCode, 'OSILA_AreaCode': OSILA_AreaCode, 'OSILA_LocalOfficeCode': OSILA_LocalOfficeCode, 'OSILA_LinkTo_Extension': OSILA_LinkTo_Extension, 'OSILA_ProductPackage': OSILA_ProductPackage, 'OSILA_ProductPackage_display': OSILA_ProductPackage, 'OSILA_DeviceType': OSILA_DeviceType, 'OSILA_DeviceType_display': OSILA_DeviceType, 'OSILA_Parameter_4': OSILA_Parameter_4, 'OSILA_Parameter_4_display': OSILA_Parameter_4, 'OSILA_Parameter_3': OSILA_Parameter_3, 'OSILA_Parameter_3_display': OSILA_Parameter_3, 'OSILA_Parameter_2': OSILA_Parameter_2, 'OSILA_Parameter_2_display': OSILA_Parameter_2, 'OSILA_Parameter_5': OSILA_Parameter_5, 'OSILA_Parameter_5_display': OSILA_Parameter_5, 'OSILA_Parameter_1': OSILA_Parameter_1, 'OSILA_Parameter_1_display': OSILA_Parameter_1, 'OSILA_CreateNewFax': OSILA_CreateNewFax, 'OSILA_LinkTo_ServiceFax': '', 'OSILA_CountryCodeFax': '', 'OSILA_AreaCodeFax': '', 'OSILA_LocalOfficeCodeFax': '', 'OSILA_LinkTo_ExtensionFax': '', 'OSILA_ProvisioningDate': OSILA_ProvisioningDate, 'OSILA_DateMail_1': OSILA_ProvisioningDate, 'OSILA_DateMail_2': '', 'OSILA_DateMail_3': '', 'OSILA_DateMail_4': '', 'OSILA_DateMail_5': '', 'OSILA_DateMail_6': '', 'OSILA_DateMail_7': '', 'OSILA_DateMail_8': '', 'OSILA_DateMail_9': '', 'attachEventListeners': '', 'webMgrRequestId': webMgrRequestId, 'WT': WT2, 'enterConfirm': 'true', 'users_R_0_C__select': 'on', 'selectedUser': '0'}\n</code></pre>\n\n<p><code>subcr = session.post(\"http://192.168.0.10:8080/OSILAManager/createSubscriber2.do\", data=payload3)</code></p>\n\n<p>using  browser i can see the values are passing in the following order ,but when i use python its changing the order, is there any way to avoid this sorting </p>\n\n<pre><code>OSILA_LinkTo_Site\nOSILA_LinkTo_Service\nOSILA_Locale\nOSILA_Locale_display\nOSILA_TimeZone\nOSILA_TimeZone_display\nusers_R_0_C__select\nselectedUser\nOSILA_LinkTo_User_display\nOSILA_LinkTo_User\nOSILA_DisplayName\nOSILA_CountryCode\nOSILA_AreaCode\nOSILA_LocalOfficeCode\nOSILA_LinkTo_Extension\nOSILA_ProductPackage\nOSILA_ProductPackage_display\nOSILA_DeviceType\nOSILA_DeviceType_display\nOSILA_Parameter_4\nOSILA_Parameter_4_display\nOSILA_Parameter_3\nOSILA_Parameter_3_display\nOSILA_Parameter_2\nOSILA_Parameter_2_display\nOSILA_Parameter_5\nOSILA_Parameter_5_display\nOSILA_Parameter_1\nOSILA_Parameter_1_display\nOSILA_CreateNewFax\nOSILA_LinkTo_ServiceFax\nOSILA_CountryCodeFax\nOSILA_AreaCodeFax\nOSILA_LocalOfficeCodeFax\nOSILA_LinkTo_ExtensionFax\nOSILA_ProvisioningDate\nOSILA_DateMail_1\nOSILA_DateMail_2\nOSILA_DateMail_3\nOSILA_DateMail_4\nOSILA_DateMail_5\nOSILA_DateMail_6\nOSILA_DateMail_7\nOSILA_DateMail_8\nOSILA_DateMail_9\nattachEventListeners\nwebMgrRequestId\nWT\nenterConfirm\n</code></pre>\n"}, {"tags": ["python", "http", "urllib", "information-retrieval"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 2, "creation_date": 1475696897, "post_id": 39882388, "comment_id": 67051977, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32763720/timeout-a-file-download-with-python-urllib\">Timeout a file download with Python urllib?</a>"}, {"owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475697707, "post_id": 39882388, "comment_id": 67052375, "body": "@zvone please check the update!"}], "answers": [{"tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": true, "score": 1, "last_activity_date": 1475895384, "last_edit_date": 1475895384, "creation_date": 1475697996, "answer_id": 39882797, "question_id": 39882388, "link": "https://stackoverflow.com/questions/39882388/image-downloading-gets-stuck-on-a-link-that-doesnt-exists-anymore/39882797#39882797", "title": "image downloading gets stuck on a link that doesn&#39;t exists anymore", "body": "<p>Use <code>urlopen</code> with <code>timeout</code> argument:</p>\n\n<pre><code>&gt;&gt;&gt; import urllib2\n&gt;&gt;&gt; modified_url = 'http://cutearoo.com/wp-content/uploads/2011/04/Pomsky.png'\n&gt;&gt;&gt; try:\n...     image_file = urllib2.urlopen(modified_url, timeout=5)\n... except urllib2.URLError:\n...     print 'could not download :('\n...\ncould not download :(\n&gt;&gt;&gt;\n</code></pre>\n\n<p>The answer above is correct :) just adding what I have based on your answer as well;</p>\n\n<pre><code>image_file = urllib2.urlopen(modified_url)\n                with open('/home/jalal/computer_vision/image_retrieval/'+category+'/' + datetime.datetime.now().strftime('%y-%m-%d-%s') + modified_url[-5:], 'wb') as output_image:\n                    output_image.write(image_file.read(), timeout = 5)\n                except urllib2.URLError as e:\n                   print(e)\n                   continue\n</code></pre>\n"}], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 39882797, "answer_count": 1, "score": 0, "last_activity_date": 1475895384, "creation_date": 1475696634, "last_edit_date": 1475697693, "question_id": 39882388, "link": "https://stackoverflow.com/questions/39882388/image-downloading-gets-stuck-on-a-link-that-doesnt-exists-anymore", "title": "image downloading gets stuck on a link that doesn&#39;t exists anymore", "body": "<p>So I am not sure how to handle this situation. It almost works on many other broken links but not this one:</p>\n\n<pre><code>import datetime\nimport praw\nimport re\nimport urllib\nimport requests\nfrom bs4 import BeautifulSoup\n\n\n\n\nsub = 'dog'\nimgurUrlPattern = re.compile(r'(http://i.imgur.com/(.*))(\\?.*)?')\nr = praw.Reddit(user_agent = \"download all images from a subreddit\",\n        user_site = \"lamiastella\")\nalready_done = []\n#checkWords = ['i.imgur.com',  'jpg', 'png',]\ncheck_words = ['jpg', 'jpeg', 'png']\n\nsubreddit = r.get_subreddit(sub)\nfor submission in subreddit.get_top_from_all(limit=10000):\n#for submission in subreddit.get_hot(limit=10000):\n        is_image = any(string in submission.url for string in check_words)\n        print '[LOG] Getting url:  ' + submission.url\n        if submission.id not in already_done and is_image:\n       if submission.url.endswith('/'):\n        modified_url = submission.url[:len(submission.url)-1]\n                try:\n            urllib.urlretrieve(modified_url, '/home/jalal/computer_vision/image_retrieval/images/' + datetime.datetime.now().strftime('%y-%m-%d-%s') + modified_url[-5:])\n            except Exception as e:\n            print(e)\n            #pass\n            continue\n           else:\n        try:\n                urllib.urlretrieve(submission.url, '/home/jalal/computer_vision/image_retrieval/images/' + datetime.datetime.now().strftime('%y-%m-%d-%s') + submission.url[-5:])\n        except Exception as e:\n            print(e)\n            #pass\n            continue\n\n           already_done.append(submission.id)\n           print '[LOG] Done Getting ' + submission.url\n           print('{0}: {1}'.format('submission id is', submission.id))\n        elif 'imgur.com' in submission.url and not (submission.url.endswith('gif') \n                            or submission.url.endswith('webm')\n                            or submission.url.endswith('mp4')\n                            or submission.url.endswith('all')\n                            or '#' in submission.url\n                            or '/a/' in submission.url):\n            # This is an Imgur page with a single image.\n            html_source = requests.get(submission.url).text # download the image's page\n            soup = BeautifulSoup(html_source, \"lxml\")\n            image_url = soup.select('img')[0]['src']\n            if image_url.startswith('//'):\n                    # if no schema is supplied in the url, prepend 'http:' to it\n                    image_url = 'http:' + image_url\n                image_id = image_url[image_url.rfind('/') + 1:image_url.rfind('.')]\n                        urllib.urlretrieve(image_url, '/home/jalal/computer_vision/image_retrieval/images/' + 'imgur_'+ datetime.datetime.now().strftime('%y-%m-%d-%s') + submission.url[-9:0])\n    elif 'instagram.com' in submission.url:\n        html_source = requests.get(submission.url).text \n        soup = BeautifulSoup(html_source, \"lxml\")\n        instagram_url = soup.find('meta', {\"property\":\"og:image\"})['content']\n        urllib.urlretrieve(instagram_url, '/home/jalal/computer_vision/image_retrieval/images/' + 'instagram_'+ datetime.datetime.now().strftime('%y-%m-%d-%s') + '.jpg')\n    else:\n        continue\n</code></pre>\n\n<p>I get stuck at a link \n<a href=\"http://cutearoo.com/wp-content/uploads/2011/04/Pomsky.png\" rel=\"nofollow\">http://cutearoo.com/wp-content/uploads/2011/04/Pomsky.png</a>\nand have to CTL+C it:</p>\n\n<pre><code>[LOG] Done Getting http://i.imgur.com/Vc9P9QC.jpg\nsubmission id is: 1fv70j\n[LOG] Getting url:  http://i.imgur.com/iOBi0qx.jpg\n[LOG] Done Getting http://i.imgur.com/iOBi0qx.jpg\nsubmission id is: 1dof3o\n[LOG] Getting url:  http://cutearoo.com/wp-content/uploads/2011/04/Pomsky.png\n^CTraceback (most recent call last):\n  File \"download_images.py\", line 35, in &lt;module&gt;\n    urllib.urlretrieve(submission.url, '/home/jalal/computer_vision/image_retrieval/images/' + datetime.datetime.now().strftime('%y-%m-%d-%s') + submission.url[-5:])\n  File \"/usr/lib/python2.7/urllib.py\", line 98, in urlretrieve\n    return opener.retrieve(url, filename, reporthook, data)\n  File \"/usr/lib/python2.7/urllib.py\", line 245, in retrieve\n    fp = self.open(url, data)\n  File \"/usr/lib/python2.7/urllib.py\", line 213, in open\n    return getattr(self, name)(url)\n  File \"/usr/lib/python2.7/urllib.py\", line 350, in open_http\n    h.endheaders(data)\n  File \"/usr/lib/python2.7/httplib.py\", line 1053, in endheaders\n    self._send_output(message_body)\n  File \"/usr/lib/python2.7/httplib.py\", line 897, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python2.7/httplib.py\", line 859, in send\n    self.connect()\n  File \"/usr/lib/python2.7/httplib.py\", line 836, in connect\n    self.timeout, self.source_address)\n  File \"/usr/lib/python2.7/socket.py\", line 566, in create_connection\n    sock.connect(sa)\n  File \"/usr/lib/python2.7/socket.py\", line 228, in meth\n    return getattr(self._sock,name)(*args)\nKeyboardInterrupt\n</code></pre>\n\n<p>Please suggest fixes for this.</p>\n\n<p>UPDATE:\nI used something like:</p>\n\n<pre><code>image_file = urllib2.urlopen(modified_url)\nwith open('/home/jalal/computer_vision/image_retrieval/images/' + datetime.datetime.now().strftime('%y-%m-%d-%s') + modified_url[-5:], 'wb') as output_image:\n                                output_image.write(image_file.read())\n</code></pre>\n\n<p>and still get stuck for the particular link.</p>\n"}, {"tags": ["python", "python-2.7", "amazon-ec2", "odbc", "teradata"], "comments": [{"owner": {"reputation": 353, "user_id": 5104387, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh3.googleusercontent.com/-upIFSQCawpU/AAAAAAAAAAI/AAAAAAAABf4/NNcjq4W93yc/photo.jpg?sz=128", "display_name": "JC203", "link": "https://stackoverflow.com/users/5104387/jc203"}, "edited": false, "score": 0, "creation_date": 1475696808, "post_id": 39882352, "comment_id": 67051918, "body": "maybe boto? <a href=\"https://aws.amazon.com/articles/3998\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "reply_to_user": {"reputation": 353, "user_id": 5104387, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh3.googleusercontent.com/-upIFSQCawpU/AAAAAAAAAAI/AAAAAAAABf4/NNcjq4W93yc/photo.jpg?sz=128", "display_name": "JC203", "link": "https://stackoverflow.com/users/5104387/jc203"}, "edited": false, "score": 0, "creation_date": 1475696914, "post_id": 39882352, "comment_id": 67051988, "body": "<code>boto3</code> is already installed."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1475703647, "post_id": 39882352, "comment_id": 67055191, "body": "Please post attempted connection string. It could be a very minor syntax or missing attribute. And please add all <code>import</code> lines."}, {"owner": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1475784203, "post_id": 39882352, "comment_id": 67094799, "body": "@Parfait: posted the code. The same code is working perfectly on Macbook. It only crashes on Linux systems. So there is some problem kicking off the correct driver."}], "answers": [{"comments": [{"owner": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "edited": false, "score": 0, "creation_date": 1475783752, "post_id": 39894883, "comment_id": 67094570, "body": "I have the driver installed but it is not showing up in the list of the drivers."}, {"owner": {"reputation": 71, "user_id": 6809597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6772fe3978ebc379bd6bf7dfe64b77d?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Baldwin", "link": "https://stackoverflow.com/users/6809597/jim-baldwin"}, "reply_to_user": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "edited": false, "score": 0, "creation_date": 1475792189, "post_id": 39894883, "comment_id": 67098290, "body": "Could it be the drivers are 64 bit and python is 32 bit (or vice versa)? That can cause the drivers to not show up in Windows, not sure about Unix/Linux."}], "tags": [], "owner": {"reputation": 71, "user_id": 6809597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6772fe3978ebc379bd6bf7dfe64b77d?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Baldwin", "link": "https://stackoverflow.com/users/6809597/jim-baldwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1475753556, "creation_date": 1475753556, "answer_id": 39894883, "question_id": 39882352, "link": "https://stackoverflow.com/questions/39882352/python-connect-to-teradata-in-aws-ec2/39894883#39894883", "title": "Python connect to Teradata in AWS EC2", "body": "<p>It sounds like you need to install the Teradata ODBC driver.</p>\n\n<p>Available on the Teradata Developer Exchange.\n<a href=\"http://downloads.teradata.com/download/connectivity\" rel=\"nofollow\">http://downloads.teradata.com/download/connectivity</a></p>\n"}, {"comments": [{"owner": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "edited": false, "score": 0, "creation_date": 1483599631, "post_id": 40663720, "comment_id": 70163380, "body": "Thanks Alex. I switched to using the REST interface so I didn&#39;t have to deal with drivers altogether. Much better now."}], "tags": [], "owner": {"reputation": 11, "user_id": 7174890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8aa0d977e88f7fde1cc87189131971a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ruch", "link": "https://stackoverflow.com/users/7174890/alex-ruch"}, "is_accepted": false, "score": 1, "last_activity_date": 1479411877, "creation_date": 1479411877, "answer_id": 40663720, "question_id": 39882352, "link": "https://stackoverflow.com/questions/39882352/python-connect-to-teradata-in-aws-ec2/40663720#40663720", "title": "Python connect to Teradata in AWS EC2", "body": "<p>I ran into this issue today and found that it is caused by one of the latest versions of the teradata python package.  Installing version 15.10.0.10 with pip allowed me to connect from my RHEL instance.</p>\n"}, {"tags": [], "owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "is_accepted": false, "score": 4, "last_activity_date": 1485241065, "last_edit_date": 1485241065, "creation_date": 1485240381, "answer_id": 41821688, "question_id": 39882352, "link": "https://stackoverflow.com/questions/39882352/python-connect-to-teradata-in-aws-ec2/41821688#41821688", "title": "Python connect to Teradata in AWS EC2", "body": "<p>This fixed the issue for me:</p>\n\n<pre><code>export ODBC_VERSION=14.10\nexport ODBCINI=/opt/teradata/client/$ODBC_VERSION/odbc_64/odbc.ini \nexport ODBCINSTINI=/opt/teradata/client/$ODBC_VERSION/odbc_64/odbcinst.ini\nexport LD_LIBRARY_PATH=/opt/teradata/client/$ODBC_VERSION/odbc_64/lib:/opt/teradata/client/$ODBC_VERSION/tdicu/lib64:$LD_LIBRARY_PATH\nexport NLSPATH=/opt/teradata/client/$ODBC_VERSION/odbc_64/msg/tdodbc.cat\n</code></pre>\n\n<p><strong>note:</strong> </p>\n\n<ul>\n<li>change <code>$ODBC_VERSION</code> as needed.</li>\n<li>update <code>/etc/resolv.conf</code> for the <code>system</code> kwarg in <code>udaExec.connect</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10559471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c10296189337a1a92a416606a9692120?s=128&d=identicon&r=PG&f=1", "display_name": "Bluber", "link": "https://stackoverflow.com/users/10559471/bluber"}, "is_accepted": false, "score": 0, "last_activity_date": 1540492905, "creation_date": 1540492905, "answer_id": 52996078, "question_id": 39882352, "link": "https://stackoverflow.com/questions/39882352/python-connect-to-teradata-in-aws-ec2/52996078#52996078", "title": "Python connect to Teradata in AWS EC2", "body": "<p>I know I am about 2 years late, but I had the same issue today and found a solution to it. Please go to /usr/lib64 and check the following two symlinks:</p>\n\n<pre><code>lrwxrwxrwx 1 root root 20 Oct 18 10:56 libodbcinst.so -&gt; libodbcinst.so.2.0.0\nlrwxrwxrwx 1 root root 20 Oct 18 10:56 libodbcinst.so.2 -&gt; libodbcinst.so.2.0.0\n</code></pre>\n\n<p>If they don't point to teradata, it will not work! They should point to the teradata odbc installation dir:</p>\n\n<p>Fix (use at your own risk, without any warrenty) ;):</p>\n\n<pre><code>sudo rm /usr/lib64/libodbc.so\nsudo rm /usr/lib64/libodbcinst.so\nsudo ln -s /opt/teradata/client/16.20/lib64/libodbc.so /usr/lib64/libodbc.so\nsudo ln -s /opt/teradata/client/16.20/lib64/libodbcinst.so /usr/lib64/libodbcinst.so\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>lrwxrwxrwx 1 root root 47 Oct 25 20:10 libodbcinst.so -&gt; /opt/teradata/client/16.20/lib64/libodbcinst.so\nlrwxrwxrwx 1 root root 43 Oct 25 20:10 libodbc.so -&gt; /opt/teradata/client/16.20/lib64/libodbc.so\n</code></pre>\n\n<p>And voil\u00e1, the connection to Teradata should be running smooth as butter!</p>\n"}], "owner": {"reputation": 4235, "user_id": 1306819, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d40a429220eaba06b94e1ab561e88a77?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/1306819/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1663, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1540492905, "creation_date": 1475696516, "last_edit_date": 1475784116, "question_id": 39882352, "link": "https://stackoverflow.com/questions/39882352/python-connect-to-teradata-in-aws-ec2", "title": "Python connect to Teradata in AWS EC2", "body": "<p>I want to pull data from a Teradata instance. Client code runs Python2.7+ on AWS EC2 instance.</p>\n\n<p>I installed unixODBC driver and <code>sudo pip install teradata</code> but I am still getting the following exception:</p>\n\n<pre><code>  File \"/usr/local/lib/python2.7/site-packages/teradata/tdodbc.py\", line 369, in determineDriver\n\"Available drivers: {}\".format(dbType, \",\".join(drivers)))\nteradata.api.InterfaceError: ('DRIVER_NOT_FOUND', \"No driver found for 'Teradata'.  Available drivers: PostgreSQL,MySQL\")\n</code></pre>\n\n<p>The code is as follows:</p>\n\n<pre><code>import sys\nimport teradata\n# my own imports\ntd = TeradataClient(DEFAULT_HOSTNAME, DEFAULT_USERNAME, DEFAULT_PASSWORD)\ntd.select(query, outfile)\n</code></pre>\n\n<p>The <code>TeradataClient</code> class I created which calls Teradata is as follows:</p>\n\n<pre><code>class TeradataClient:\n    def __init__(self, hostname, username, password):\n        self._hostname = hostname\n        self._username = username\n        self._password = password\n        self._udaExec = teradata.UdaExec(appName=\"MyApp\", version=\"1.0\", logConsole=False)\n\n\n    def select(self, query, outfile, sep=DEFAULT_SEPARATOR, nullstr=DEFAULT_NULL_STR):\n        with self._udaExec.connect(method=\"odbc\", system=self._hostname, username=self._username,\n                                          password=self._password) as session:\n            print 'Connection to Teradata established'\n            with open(outfile,'w') as fp:\n                with session.cursor() as cursor:\n                    for row in cursor.execute(query):\n                        lineparts = [str(x if x!=None else nullstr) for x in row]\n                        fp.write('%s\\n' %sep.join(lineparts))\n</code></pre>\n\n<p>How can I fix this? Is there another ODBC driver that needs to be installed?</p>\n"}, {"tags": ["python", "django", "generics", "foreign-keys", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "is_accepted": false, "score": 2, "last_activity_date": 1475715693, "creation_date": 1475715693, "answer_id": 39885914, "question_id": 39882314, "link": "https://stackoverflow.com/questions/39882314/django-rest-framework-foreign-key-with-generics-listcreateapiview/39885914#39885914", "title": "Django REST framework foreign key with generics.ListCreateAPIView", "body": "<p>If you want to get the pk. You can use <code>lookup_url_kwarg</code> attribute from <code>ListCreateAPIView</code> class.</p>\n\n<pre><code>class CommentLikeList(ListCreateAPIView):\n\n    def get(self, request, *args, **kwargs):\n        key = self.kwargs[self.lookup_url_kwarg]\n        commentLikes = CommentLike.objects.filter(pk=key)\n        serializer = CommentLikeSerializer(commentLikes, many=True)\n        return Response(serializer.data)\n</code></pre>\n\n<blockquote>\n  <p>lookup_url_kwarg - The URL keyword argument that should be used for\n  object lookup. The URL conf should include a keyword argument\n  corresponding to this value. If unset this defaults to using the same\n  value as lookup_field.</p>\n</blockquote>\n\n<p>The default value for <code>lookup_field</code> attribute is <code>'pk'</code>. So, if you change your url keyword argumento from another different to pk, you should define <code>lookup_url_kwarg</code> then.  </p>\n\n<pre><code>class CommentLikeList(ListCreateAPIView):\n    lookup_url_kwarg = 'eventnumber'\n</code></pre>\n\n<p>You can inspect all DRF classes methods and attributes over here:\n<a href=\"http://www.cdrf.co/\" rel=\"nofollow\">http://www.cdrf.co/</a></p>\n"}], "owner": {"reputation": 573, "user_id": 3679681, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/100001008052981/picture?type=large", "display_name": "anduplats", "link": "https://stackoverflow.com/users/3679681/anduplats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1475715693, "creation_date": 1475696382, "last_edit_date": 1475704902, "question_id": 39882314, "link": "https://stackoverflow.com/questions/39882314/django-rest-framework-foreign-key-with-generics-listcreateapiview", "title": "Django REST framework foreign key with generics.ListCreateAPIView", "body": "<p>How it is possible to get foreign key assigned in url with Django REST Framework?</p>\n\n<pre><code>class CommentList(generics.ListCreateAPIView):\n    serializer_class = CommentSerializer\n    pagination_class = StandardResultsSetPagination\n    queryset = Comment.objects.all()\n    def get(self, *args, **kwargs):\n        serializer = CommentSerializer(comment, many=True)\n        return super(CommentList, self).get(*args, **kwargs)\n</code></pre>\n\n<p>My goal is to use this URL (urls.py):</p>\n\n<pre><code>url(r'^event/(?P&lt;pk&gt;[0-9]+)/comments', views.CommentList.as_view())\n</code></pre>\n\n<p>Somehow I managed to get foreign key with this way</p>\n\n<pre><code>class CommentLikeList(APIView):\n    def get(self, request, *args, **kwargs):\n        key = self.kwargs['pk']\n        commentLikes = CommentLike.objects.filter(pk=key)\n        serializer = CommentLikeSerializer(commentLikes, many=True)\n        return Response(serializer.data)\n    def post(self):\n        pass\n</code></pre>\n\n<p>But I don't know how to get foreign key with such URL using \n''generics.ListCreateAPIView''</p>\n\n<pre><code>http://127.0.0.1:8000/event/&lt;eventnumber&gt;/comments\n</code></pre>\n"}, {"tags": ["python", "nltk"], "comments": [{"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 1, "creation_date": 1475710485, "post_id": 39882311, "comment_id": 67057214, "body": "Instead of using a fixed formula with hard-coded weights (that&#39;s what I understand you are doing), you could try training a classifier on those features, eg. an SVM (support vector machine)."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1475747303, "post_id": 39882311, "comment_id": 67071390, "body": "The authors of the published article have (presumably) put some non-trivial effort to getting their performance to its current level. If you have matched their performance but need to do better, you&#39;ll need to put in the same kind of effort and time. Random guesses by us SO readers are no substitute."}], "owner": {"reputation": 1, "user_id": 6843404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3fLniTVnbWY/AAAAAAAAAAI/AAAAAAAADoE/S0aw5EU03mY/photo.jpg?sz=128", "display_name": "\u5f20\u5b8f\u5b87", "link": "https://stackoverflow.com/users/6843404/%e5%bc%a0%e5%ae%8f%e5%ae%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475696356, "creation_date": 1475696356, "question_id": 39882311, "link": "https://stackoverflow.com/questions/39882311/how-to-improve-the-personality-extraction-accuracy", "title": "How to improve the personality extraction accuracy?", "body": "<p>I read an article, named Unsupervised Personality Recognition for Social Network Sites, about the personality extraction from text. There are 22 features and 4 classes represented 4 personalities. Through counting the features in a text, we can know which class this sentence belong to, which means we can know the personality of the sentence. \nThe article provides the correlations for every feature and class. So the score of a class is the feature's value minus the mean of all feature's value then divided by the standard deviation of all feature's value then multiply the correlation coefficiency provided by the article. Then we can judge if the sentence belongs to the class through its score. I set the threshold to improve its accuracy but it is still not good enough. My result is around 50-60% accuracy and don't know how to improve it. Anyone can help me ?</p>\n\n<pre><code>import csv\nimport re\nimport nltk\nfrom nltk.tokenize import word_tokenize, sent_tokenize, RegexpTokenizer\nimport pickle\nfrom statistics import mean, stdev\n\n\nwith open('mypersonality_final.csv', newline = '') as csvfile:\n    reader = csv.reader(csvfile)\n    test = []\n    for w in reader:\n        test.append(w)\n\ndef all_punctuation(text):\n    punctuations = ['.', ',', ';', ':']\n    count = 0\n    for w in text:\n        if w in punctuations:\n            count += 1\n    return count\n\ndef count_commas(text):\n    count = 0\n    for w in text:\n        if w == ',':\n            count += 1\n    return count\n\ndef count_pattern(text):\n    grammar = RegexpTokenizer(r'\\@')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef count_exclamation(text):\n    grammar = RegexpTokenizer(r'\\!')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef ex_links(text):\n    grammar = RegexpTokenizer(r'http?\\S+\\w(?:(?:\\/[^\\s/]*))*|www\\.\\S+\\w(?:(?:\\/[^\\s/]*))*|ftp\\S+\\w(?:(?:\\/[^\\s/]*))*')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef firs_sinpronouns(text):\n    sigpronouns = ['i', 'me', 'my', 'mine', 'we']\n    count = 0\n    for w in text:\n        if w.lower() in sigpronouns:\n            count += 1\n    return count\n\ndef negative_particle(text):\n    with open('negative-words.txt') as neg:\n        neg = neg.read()\n    words = nltk.word_tokenize(neg)\n    grammar = RegexpTokenizer(r'\\w+')\n    nopunctuation = grammar.tokenize(text)\n    count = 0\n    for w in nopunctuation:\n        if w.lower() in words:\n            count += 1\n    return count\n\ndef negative_emoticon(text):\n    grammar = RegexpTokenizer(r\"(?::|;|=)(?:-)?(?:\\()\")\n    emoticons = grammar.tokenize(text)\n    return len(emoticons)\n\ndef numbers(text):\n    grammar = RegexpTokenizer(r'\\d+')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef parenthesis(text):\n    pat = '\\([^)]*\\)'\n    parent = re.findall(pat, text)\n    return len(parent)\n\ndef positive_emoticon(text):\n    grammar = RegexpTokenizer(r'(?::|;|=|&lt;|&gt;)(?:-|\\.)?(?:\\)|D|P|3|&lt;)')\n    emoticons = grammar.tokenize(text)\n    return len(emoticons)\n\ndef prepositions(text):\n    tagged = nltk.pos_tag(text)\n    count = 0\n    for w in tagged:\n        if w[1] == 'IN':\n            count += 1\n    return count\n\ndef pronouns(text):\n    tagged = nltk.pos_tag(text)\n    count = 0\n    for w in tagged:\n        if (w[1] == 'PRP' or w[1] == 'PRP$' or w[1] == 'WP' or w[1] == 'WPR$'):\n            count += 1\n    return count\n\ndef count_question(text):\n    grammar = RegexpTokenizer(r'\\?')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef long_words(text):\n    grammar = RegexpTokenizer(r'\\w{7,}')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef firs_pronouns(text):\n    firstpronouns = ['i', 'me', 'my', 'mine', 'we', 'our', 'ours', 'us']\n    count = 0\n    for w in text:\n        if w.lower() in firstpronouns:\n            count += 1\n    return count\n\ndef swears_count(text):\n    with open('swears.txt') as test:\n        words = test.read()\n        swears = re.sub(r'[^\\w+\\s]+', '', words)\n        swears = swears.split('\\n')\n        count = 0\n    for w in text:\n        if w.lower() in swears:\n            count += 1\n    return count\n\ndef typetoken_ratio(text):\n    typed = set(text)\n    token = text\n    ratio = len(typed)/len(token)\n    return ratio\n\ndef count_words(text):\n    grammar = RegexpTokenizer(r'\\w+')\n    pattern = grammar.tokenize(text)\n    return len(pattern)\n\ndef firs_pluralpronouns(text):\n    pluralpronouns = ['we', 'our', 'ours', 'us']\n    count = 0\n    for w in text:\n        if w.lower() in pluralpronouns:\n            count += 1\n    return count\n\ndef sec_pronouns(text):\n    secpronouns = ['you', 'your', 'yours']\n    count = 0\n    for w in text:\n        if w.lower() in secpronouns:\n            count += 1\n    return count\n\ndef mean_freq(text):\n##    grammar = RegexpTokenizer(r'\\w+')\n    words = word_tokenize(text)\n    wordsl = []\n    for w in words:\n        wordsl.append(w.lower())\n    unique = set(wordsl)\n    return (len(wordsl)/len(unique))\n\n\ndef mean_std(test):\n    f1 = []\n    f2 = []\n    f3 = []\n    f4 = []\n    f5 = []\n    f6 = []\n    f7 = []\n    f8 = []\n    f9 = []\n    f10 = []\n    f11 = []\n    f12 = []\n    f13 = []\n    f14 = []\n    f15 = []\n    f16 = []\n    f17 = []\n    f18 = []\n    f19 = []\n    f20 = []\n    f21 = []\n    f22 = []\n    for w in test[1:]:\n        f1.append(all_punctuation(word_tokenize(w[1])))\n        f2.append(count_commas(word_tokenize(w[1])))\n        f3.append(count_pattern(w[1]))\n        f4.append(count_exclamation(w[1]))\n        f5.append(ex_links(w[1]))\n        f6.append(firs_sinpronouns(word_tokenize(w[1])))\n        f7.append(negative_particle(w[1]))\n        f8.append(negative_emoticon(w[1]))\n        f9.append(numbers(w[1]))\n        f10.append(parenthesis(w[1]))\n        f11.append(positive_emoticon(w[1]))\n        f12.append(prepositions(word_tokenize(w[1])))\n        f13.append(pronouns(word_tokenize(w[1])))\n        f14.append(count_question(w[1]))\n        f15.append(long_words(w[1]))\n        f16.append(firs_pronouns(word_tokenize(w[1])))\n        f17.append(swears_count(word_tokenize(w[1])))\n        f18.append(typetoken_ratio(word_tokenize(w[1])))\n        f19.append(count_words(w[1]))\n        f20.append(firs_pluralpronouns(word_tokenize(w[1])))\n        f21.append(sec_pronouns(word_tokenize(w[1])))\n        f22.append(mean_freq(w[1]))\n    value = [f1, f2, f3, f4, f5, f6, f7, f8, f9, f10, f11, f12, f13, f14, f15, f16, f17, f18, f19, f20, f21, f22]\n    mean1 = []\n    stdev1 = []\n    for a in value:\n        mean1.append(round(mean(a),2))\n        stdev1.append(round(stdev(a),2))\n    return (mean1, stdev1)\n\n##save_file = open('sample_value.pickle', 'wb')\n##pickle.dump(mean_std(test), save_file)\n##save_file.close()\nsavedfile = open('sample_value.pickle', 'rb')\ntrained = pickle.load(savedfile)\nsavedfile.close()\n\ndef evaluation(test):\n    ne = 0\n    ns = 0\n    na = 0\n    nc = 0\n    no = 0\n    for w in test[1:]:\n        z1 = (all_punctuation(word_tokenize(w[1])) - trained[0][0])/(trained[1][0])\n        z2 = (count_commas(word_tokenize(w[1]))- trained[0][1])/(trained[1][1])\n        z3 = (count_pattern(w[1]) - trained[0][2])/(trained[1][2])\n        z4 = (count_exclamation(w[1]) - trained[0][3])/(trained[1][3])\n        z5 = (ex_links(w[1]) - trained[0][4])/(trained[1][4])\n        z6 = (firs_sinpronouns(word_tokenize(w[1]))- trained[0][5])/(trained[1][5])\n        z7 = (negative_particle(w[1])-trained[0][6])/(trained[1][6])\n        z8 = (negative_emoticon(w[1]) - trained[0][7])/(trained[1][7])\n        z9 = (numbers(w[1])-trained[0][8])/(trained[1][8])\n        z10 = (parenthesis(w[1])-trained[0][9])/(trained[1][9])\n        z11 = (positive_emoticon(w[1])-trained[0][10])/(trained[1][10])\n        z12 = (prepositions(word_tokenize(w[1]))-trained[0][11])/(trained[1][11])\n        z13 = (pronouns(word_tokenize(w[1]))-trained[0][12])/(trained[1][12])\n        z14 = (count_question(w[1])-trained[0][13])/(trained[1][13])\n        z15 = (long_words(w[1])-trained[0][14])/(trained[1][14])\n        z16 = (firs_pronouns(word_tokenize(w[1]))-trained[0][15])/(trained[1][15])\n        z17 = (swears_count(word_tokenize(w[1]))-trained[0][16])/(trained[1][16])\n        z18 = (typetoken_ratio(word_tokenize(w[1]))-trained[0][17])/(trained[1][17])\n        z19 = (count_words(w[1])-trained[0][18])/(trained[1][18])\n        z20 = (firs_pluralpronouns(word_tokenize(w[1]))-trained[0][19])/(trained[1][19])\n        z21 = (sec_pronouns(word_tokenize(w[1]))-trained[0][20])/(trained[1][20])\n        z22 = (mean_freq(w[1])-trained[0][21])/(trained[1][21])\n        E = -0.08*z1-0.02*z2-0.07*z3-0.05*z5+0.05*z6-0.08*z7-0.03*z8-0.03*z9-0.06*z10+0.07*z11+0.07*z13-0.06*z14-0.06*z15+0.07*z16-0.01*z17-0.05*z18-0.01*z19+0.06*z20-0.01*z21+0.05*z22\n        S = -0.04*z1+0.01*z2+0.02*z3-0.05*z4-0.02*z5-0.15*z6+0.12*z7-0.18*z8+0.05*z9+0.03*z10+0.07*z11+0.06*z12+0.12*z13-0.05*z14+0.06*z15-0.14*z16+0.1*z18+0.02*z19+0.07*z20+0.03*z21-0.06*z22\n        A = -0.01*z1-0.02*z2+0.01*z3+0.06*z4-0.01*z5+0.05*z6+0.11*z7-0.11*z8-0.03*z9-0.04*z10+0.05*z11+0.04*z12+0.04*z13-0.04*z14-0.05*z15-0.06*z16-0.14*z17-0.04*z18+0.02*z19+0.04*z20-0.06*z21+0.03*z22\n        C = -0.04*z1-0.01*z2+0.01*z3-0.03*z5+0.04*z6-0.07*z7-0.11*z8-0.02*z9-0.01*z10+0.02*z11+0.08*z12+0.02*z13-0.06*z14+0.02*z15-0.04*z16-0.11*z17-0.05*z18-0.02*z19+0.01*z20-0.04*z21+0.06*z22\n        O = -10*z1+0.1*z2+0.06*z3-0.03*z4+0.09*z5-0.14*z6+0.01*z7+0.04*z8-0.06*z9+0.1*z10+0.02*z11-0.04*z12-0.06*z13+0.08*z14+0.1*z15-0.14*z16+0.08*z17+0.09*z18+0.06*z19+0.04*z20+0.11*z21-0.07*z22\n\n        if E&gt;0.65:\n            if w[7] =='y':\n                ne+=1\n        if E&lt;0.65:\n            if w[7]=='n':\n                ne+=1\n        if S&gt;0.75:\n            if w[8] == 'y':\n                ns +=1\n        if S&lt;0.75:\n            if w[8] == 'n':\n                ns+=1\n        if A&gt;0.005:\n            if w[9]=='y':\n                na+=1\n        if A&lt;0.005:\n            if w[9]=='n':\n                na+=1\n        if C&gt;0.58:\n            if w[10]=='y':\n                nc+=1\n        if C&lt;0.58:\n            if w[10]=='n':\n                nc+=1\n        if O&gt;(-0.05):\n            if w[11]=='y':\n                no+=1\n        if O&lt;(-0.05):\n            if w[11]=='n':\n                no+=1       \n    print (round((ne/9917)*100,2), round((ns/9917)*100,2),round((na/9917)*100,2),round((nc/9917)*100,2),round((no/9917)*100,2))\n\nevaluation(test)\n</code></pre>\n\n<p>The sample data is:\n<a href=\"http://i.stack.imgur.com/kFmh3.png\" rel=\"nofollow\">enter image description here</a>           </p>\n"}, {"tags": ["python", "mysql", "csv"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475696740, "post_id": 39882301, "comment_id": 67051880, "body": "That code has too many errors to figure out what&#39;s going on. How about a working example that reads the csv and then prints what you would normally add to the database?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475696970, "post_id": 39882301, "comment_id": 67052020, "body": "How are you printing the data from the database? Does the field really have quotes or are we just seeing a quoted string rendering of the data? For instance, in python, if I <code>print(&#39;(&quot;Apple Inc.&quot;, 113.08, 113.07)&#39;)</code> I get the string repl including quotes even though they aren&#39;t in the string itself (<code>(&quot;Apple Inc.&quot;, 113.08, 113.07)</code>)."}, {"owner": {"reputation": 107, "user_id": 3170242, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af4fa481e6ba19512b196eaa2da584d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3170242", "link": "https://stackoverflow.com/users/3170242/user3170242"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475713308, "post_id": 39882301, "comment_id": 67057901, "body": "the string has quotes im not printing within python im importing them to a sql database."}, {"owner": {"reputation": 107, "user_id": 3170242, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af4fa481e6ba19512b196eaa2da584d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3170242", "link": "https://stackoverflow.com/users/3170242/user3170242"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1475713358, "post_id": 39882301, "comment_id": 67057917, "body": "edited to use te working code"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3170242, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af4fa481e6ba19512b196eaa2da584d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3170242", "link": "https://stackoverflow.com/users/3170242/user3170242"}, "edited": false, "score": 0, "creation_date": 1475713963, "post_id": 39882598, "comment_id": 67058065, "body": "the problem comes when i am importing it to SQL it has the quotes around it."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 2, "last_activity_date": 1475697293, "creation_date": 1475697293, "answer_id": 39882598, "question_id": 39882301, "link": "https://stackoverflow.com/questions/39882301/remove-quotes-from-csv-file-data-in-python/39882598#39882598", "title": "remove quotes from csv file data in python", "body": "<p><code>csv.reader</code> removes the quotes properly. You may be viewing a quoted string representation of the text instead of the actual text.</p>\n\n<pre><code>&gt;&gt;&gt; new_data = '''\"Apple Inc.\",113.08,113.07\n... \"Alphabet Inc.\",777.61,777.30\n... \"Microsoft Corporation\",57.730,57.720'''\n&gt;&gt;&gt; \n&gt;&gt;&gt; import csv\n&gt;&gt;&gt; \n&gt;&gt;&gt; for row in csv.reader(new_data.splitlines()):\n...     print(','.join(row))\n... \nApple Inc.,113.08,113.07\nAlphabet Inc.,777.61,777.30\nMicrosoft Corporation,57.730,57.720\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 3170242, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af4fa481e6ba19512b196eaa2da584d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3170242", "link": "https://stackoverflow.com/users/3170242/user3170242"}, "is_accepted": true, "score": 1, "last_activity_date": 1475967377, "creation_date": 1475967377, "answer_id": 39938223, "question_id": 39882301, "link": "https://stackoverflow.com/questions/39882301/remove-quotes-from-csv-file-data-in-python/39938223#39938223", "title": "remove quotes from csv file data in python", "body": "<p>Figured it out, the problem was as tdelaney mentioned was that the quotes were not acually in the string it was python, so my changing value in </p>\n\n<pre><code>cursor.execute('INSERT INTO `trade_data`.`import_data`'\n                       '(date, name, price) VALUES(%s, \"%s\", %s)',\n                       row)\n</code></pre>\n\n<p>to %s instead of \"%s\" it fixed the problem and removed the extra quotes. </p>\n"}], "owner": {"reputation": 107, "user_id": 3170242, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af4fa481e6ba19512b196eaa2da584d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3170242", "link": "https://stackoverflow.com/users/3170242/user3170242"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 39938223, "answer_count": 2, "score": 0, "last_activity_date": 1475967377, "creation_date": 1475696313, "last_edit_date": 1475713333, "question_id": 39882301, "link": "https://stackoverflow.com/questions/39882301/remove-quotes-from-csv-file-data-in-python", "title": "remove quotes from csv file data in python", "body": "<p>I have a csv that is being imported from url and placed into a database, however it imports with quotes around the names and id like to remove them. The originial format of the csv file is</p>\n\n<pre><code>\"Apple Inc.\",113.08,113.07\n\"Alphabet Inc.\",777.61,777.30\n\"Microsoft Corporation\",57.730,57.720\n</code></pre>\n\n<p>the code I currently have is as follows. </p>\n\n<pre><code>def csv_new(conn, cursor, filename):\n    with open(filename, 'rt') as csv_file:\n        csv_data = csv.reader(csv_file)\n        for row in csv_data:\n            if(not row[0][0].isdigit()):\n                continue\n            split = [int(x) for x in row[0].split('/')]\n            row[0] = datetime.datetime(split[2], split[0],\n                                       split[1]).date().isoformat()\n            print(row);\n            cursor.execute('INSERT INTO `trade_data`.`import_data`'\n                           '(date, name, price) VALUES(%s, \"%s\", %s)',\n                           row)\n    conn.commit()\n</code></pre>\n\n<p>final database looks like this </p>\n\n<pre><code> Name   | Price1| Price 2|\n'Apple Inc.' 113.08 113.07\n'Alphabet Inc.' 777.61 777.30\n'Microsoft Corporation' 57.730 57.720\n</code></pre>\n\n<p>and I would like it to look like </p>\n\n<pre><code>Name   | Price1| Price 2|\nApple Inc. 113.08 113.07\nAlphabet Inc. 777.61 777.30\nMicrosoft Corporation 57.730 57.720\n</code></pre>\n\n<p>I tried using for row in csv.reader(new_data.splitlines(), delimiter=', skipinitialspace=True): but it threw errors</p>\n"}, {"tags": ["python", "ubuntu", "apache-spark", "caffe", "pycaffe"], "comments": [{"owner": {"reputation": 1688, "user_id": 6691599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee305f1965944923f05d562e1fa6011?s=128&d=identicon&r=PG&f=1", "display_name": "Arunakiran Nulu", "link": "https://stackoverflow.com/users/6691599/arunakiran-nulu"}, "edited": false, "score": 0, "creation_date": 1475700234, "post_id": 39882281, "comment_id": 67053712, "body": "please check if this is useful <a href=\"https://github.com/yahoo/CaffeOnSpark/wiki/GetStarted_standalone\" rel=\"nofollow noreferrer\">github.com/yahoo/CaffeOnSpark/wiki/GetStarted_standalone</a>"}, {"owner": {"reputation": 23, "user_id": 6107394, "user_type": "registered", "profile_image": "https://graph.facebook.com/531160187062561/picture?type=large", "display_name": "Julian Bici", "link": "https://stackoverflow.com/users/6107394/julian-bici"}, "reply_to_user": {"reputation": 1688, "user_id": 6691599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee305f1965944923f05d562e1fa6011?s=128&d=identicon&r=PG&f=1", "display_name": "Arunakiran Nulu", "link": "https://stackoverflow.com/users/6691599/arunakiran-nulu"}, "edited": false, "score": 0, "creation_date": 1475705387, "post_id": 39882281, "comment_id": 67055818, "body": "Thanks Arunakiran, that example is using CaffeOnSpark a Yahoo open platform that I believe uses Scala instead of python. We have looked at that but it doesn&#39;t benefit us at the moment."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6107394, "user_type": "registered", "profile_image": "https://graph.facebook.com/531160187062561/picture?type=large", "display_name": "Julian Bici", "link": "https://stackoverflow.com/users/6107394/julian-bici"}, "edited": false, "score": 0, "creation_date": 1476672453, "post_id": 40077765, "comment_id": 67428576, "body": "Thanks Arun, this is exactly what I needed to know."}], "tags": [], "owner": {"reputation": 333, "user_id": 1869715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QUN6q.jpg?s=128&g=1", "display_name": "Arun Das", "link": "https://stackoverflow.com/users/1869715/arun-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1476672487, "last_edit_date": 1476672487, "creation_date": 1476672190, "answer_id": 40077765, "question_id": 39882281, "link": "https://stackoverflow.com/questions/39882281/importerror-no-module-named-caffe-while-running-spark-submit/40077765#40077765", "title": "ImportError: No module named caffe while running spark-submit", "body": "<p>Please note that the CaffeOnSpark team ported Caffe to a distributed environment backed by Hadoop and Spark. You cannot, I am 99.99% sure, use Caffe alone <em>(without any modifications)</em> in a Spark cluster or any distributed environment per se. (Caffe team is known to be working on this).</p>\n\n<p>If you need distributed deep-learning using Caffe, please follow the building method mentioned here in <a href=\"https://github.com/yahoo/CaffeOnSpark/wiki/build\" rel=\"nofollow\">https://github.com/yahoo/CaffeOnSpark/wiki/build</a> to build CaffeOnSpark for that and use CaffeOnSpark instead of Caffe. </p>\n\n<p>But, best bet will be to follow either this <a href=\"https://github.com/yahoo/CaffeOnSpark/wiki/GetStarted_standalone\" rel=\"nofollow\">GetStarted_standalone wiki</a> or <a href=\"https://github.com/yahoo/CaffeOnSpark/wiki/GetStarted_yarn\" rel=\"nofollow\">GetStarted_yarn wiki</a> to create you a distributed environment to carry out deep-learning.</p>\n\n<p>Further, to add python, please go through <a href=\"https://github.com/yahoo/CaffeOnSpark/wiki/GetStarted_python\" rel=\"nofollow\">GetStarted_python wiki</a>.</p>\n\n<p>Also, since you mentioned that you are using Ubuntu <a href=\"https://github.com/yahoo/CaffeOnSpark/issues/164\" rel=\"nofollow\">here</a>, please use <code>~/.bashrc</code> to update environment your variables. You will have to source the file after the changes: <code>source ~/.bashrc</code></p>\n"}], "owner": {"reputation": 23, "user_id": 6107394, "user_type": "registered", "profile_image": "https://graph.facebook.com/531160187062561/picture?type=large", "display_name": "Julian Bici", "link": "https://stackoverflow.com/users/6107394/julian-bici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476672487, "creation_date": 1475696226, "last_edit_date": 1475709713, "question_id": 39882281, "link": "https://stackoverflow.com/questions/39882281/importerror-no-module-named-caffe-while-running-spark-submit", "title": "ImportError: No module named caffe while running spark-submit", "body": "<p>While running a <code>spark-submit</code> on a spark standalone cluster comprised of one master and 1 worker, the <code>caffe</code> python module does not get imported due to error <code>ImportError: No module named caffe</code></p>\n\n<p>This doesn't seem to be an issue whenever I run a job locally by \n<code>spark-submit --master local script.py</code> the <code>caffe</code> module gets imported just fine.</p>\n\n<p>The environmental variables are currently set under <code>~/.profile</code> for spark and caffe and they are pointing to the <code>PYTHONPATH</code>.</p>\n\n<p>Is <code>~/.profile</code> the correct location to set these variables or perhaps a system wide configuration is needed such as adding the variables under <code>/etc/profile.d/</code></p>\n"}, {"tags": ["python", "django", "python-2.7", "django-models", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 753, "user_id": 3287377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a813d11e10ec2dc5cc375cfb111f448?s=128&d=identicon&r=PG&f=1", "display_name": "1GDST", "link": "https://stackoverflow.com/users/3287377/1gdst"}, "is_accepted": true, "score": 0, "last_activity_date": 1475696635, "creation_date": 1475696635, "answer_id": 39882389, "question_id": 39882222, "link": "https://stackoverflow.com/questions/39882222/post-data-from-modelform-factory-generated-form/39882389#39882389", "title": "POST data from modelform_factory generated form", "body": "<pre><code>def admin_add_object(request, model):\n    model_name = apps.get_model(\"product\", model)\n    ModelFormSet = modelformset_factory(model_name)\n    if request.method == 'POST':\n        formset = ModelFormSet(request.POST, request.FILES)\n        if formset.is_valid():\n            formset.save()\n            # do something fancy. Redirect or so...\n    else:\n        ModelFormSet = modelform_factory(model_name, fields=(\"__all__\"))\n        return render(request, 'product/admin/add.html', {'formset': ModelFormSet})\n</code></pre>\n\n<p>Something like that. You can read more about this in the docs: <a href=\"https://docs.djangoproject.com/en/1.10/topics/forms/modelforms/#using-a-model-formset-in-a-view\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.10/topics/forms/modelforms/#using-a-model-formset-in-a-view</a>   </p>\n"}], "owner": {"reputation": 35, "user_id": 6928350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/09ffd04a7180afed06fc2c690371399b?s=128&d=identicon&r=PG&f=1", "display_name": "MagnusD", "link": "https://stackoverflow.com/users/6928350/magnusd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 39882389, "answer_count": 1, "score": 0, "last_activity_date": 1475696635, "creation_date": 1475695999, "question_id": 39882222, "link": "https://stackoverflow.com/questions/39882222/post-data-from-modelform-factory-generated-form", "title": "POST data from modelform_factory generated form", "body": "<p>What I'm trying to accomplish is to save the data to the relevant model. Very much looking to mimic the Django admin interface.</p>\n\n<p>urls.py   </p>\n\n<pre><code>url(r'^admin/add/(\\w+)', views.admin_add_object, name='admin_add_object'),\n</code></pre>\n\n<p>view.py: </p>\n\n<pre><code>def admin_add_object(request, model):\nif request.method == \"POST\":\n    # The code I need to save the posted data\nelse:\n    model_name = apps.get_model(\"product\", model)\n    ModelFormSet = modelform_factory(model_name, fields=(\"__all__\"))\n    return render(request, 'product/admin/add.html', {'formset': ModelFormSet})\n</code></pre>\n\n<p>add.html</p>\n\n<p>Here I simply access <code>{{ formset }}</code> to get the relevant input fields.</p>\n"}, {"tags": ["python", "scrapy", "pip"], "answers": [{"comments": [{"owner": {"reputation": 1647, "user_id": 517403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74057226e8aa13c8becad3ae00f11ac1?s=128&d=identicon&r=PG", "display_name": "moeseth", "link": "https://stackoverflow.com/users/517403/moeseth"}, "edited": false, "score": 1, "creation_date": 1475752257, "post_id": 39882444, "comment_id": 67074484, "body": "I cannot install that because I cannot even run pip command without getting that error. Any solution?"}, {"owner": {"reputation": 1647, "user_id": 517403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74057226e8aa13c8becad3ae00f11ac1?s=128&d=identicon&r=PG", "display_name": "moeseth", "link": "https://stackoverflow.com/users/517403/moeseth"}, "edited": false, "score": 0, "creation_date": 1475752435, "post_id": 39882444, "comment_id": 67074597, "body": "I forced remove cffi from site-packages and install version 1.7.0 from pip. It&#39;s working now."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1475696794, "creation_date": 1475696794, "answer_id": 39882444, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade/39882444#39882444", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>Got the exact same error today, but in a different situation. I suspect this is related to <code>cryptography</code> module.</p>\n\n<p>What helped me was to install a specific version of <code>cffi</code> package:</p>\n\n<pre><code>pip install cffi==1.7.0 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6928227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f1ec330a924e35b6913576a06d9075?s=128&d=identicon&r=PG", "display_name": "Fire0594", "link": "https://stackoverflow.com/users/6928227/fire0594"}, "is_accepted": false, "score": 1, "last_activity_date": 1475773983, "creation_date": 1475773983, "answer_id": 39901990, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade/39901990#39901990", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>i removed cffi and tried this command to install cffi 1.7.0:</p>\n\n<pre><code>pip install cffi==1.7.0\n</code></pre>\n\n<p>it worked, thank you, alecxe and moeseth :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1693258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VzeSb.gif?s=128&g=1", "display_name": "KevinKam", "link": "https://stackoverflow.com/users/1693258/kevinkam"}, "is_accepted": false, "score": 0, "last_activity_date": 1476375528, "last_edit_date": 1476375528, "creation_date": 1476328718, "answer_id": 40011723, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade/40011723#40011723", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>My situation was like @alecxe</p>\n\n<p>This works:</p>\n\n<pre><code>pip install cffi==1.7.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2852, "user_id": 1426569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUIqz.png?s=128&g=1", "display_name": "oseiskar", "link": "https://stackoverflow.com/users/1426569/oseiskar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476517127, "creation_date": 1476517127, "answer_id": 40056431, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade/40056431#40056431", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>Had the same problem as <em>moeseth</em>: the <code>pip install something</code> answers are pretty useless when all pip commands throw the original exception. Installing cffi v. 1.7.0 also solved the problem and this is how I managed to do it in Debian Jessie without relying on pip:</p>\n\n<ol>\n<li><p>Temporarily add testing repos to <code>/etc/apt/sources.list</code>, e.g.,</p>\n\n<pre><code>deb http://ftp.fi.debian.org/debian/ testing main contrib non-free\ndeb-src http://ftp.fi.debian.org/debian/ testing main contrib non-free\n</code></pre></li>\n<li><p>Run <code>sudo apt-get update</code></p></li>\n<li>Use aptitude or apt-get to upgrade <code>python-cffi</code> and <code>python-cffi-backend</code> to v. 1.7.0</li>\n<li>Remove the lines added in step 1. from <code>/etc/apt/sources.list</code> and run <code>sudo apt-get update</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2393, "user_id": 5176834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fZjJReIZG_M/AAAAAAAAAAI/AAAAAAAAABI/UA7LXk7KP6E/photo.jpg?sz=128", "display_name": "pixis", "link": "https://stackoverflow.com/users/5176834/pixis"}, "is_accepted": false, "score": 0, "last_activity_date": 1477960773, "creation_date": 1477960773, "answer_id": 40352584, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade/40352584#40352584", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>So I was in a situation where <code>pip</code> was failing. I had to remove <code>python-cffi</code> and then install it from pip with a correct version</p>\n\n<pre><code>sudo apt-get remove python-cffi\npip install cffi==1.7.0\n</code></pre>\n\n<p>Works like a charm.</p>\n"}], "owner": {"reputation": 51, "user_id": 6928227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f1ec330a924e35b6913576a06d9075?s=128&d=identicon&r=PG", "display_name": "Fire0594", "link": "https://stackoverflow.com/users/6928227/fire0594"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1776, "favorite_count": 1, "answer_count": 5, "score": 4, "last_activity_date": 1477960773, "creation_date": 1475695883, "last_edit_date": 1475696678, "question_id": 39882200, "link": "https://stackoverflow.com/questions/39882200/pip-error-after-upgrading-pip-scrapy-by-pip-install-upgrade", "title": "pip error after upgrading pip &amp; scrapy by &quot;pip install --upgrade&quot;", "body": "<p>Using debian 8(jessie) amd64 with python 2.7.9. I tried following commands:</p>\n\n<pre><code>pip install --upgrade pip\n\npip install --upgrade scrapy\n</code></pre>\n\n<p>after that, I am getting following pip error</p>\n\n<pre><code>root@debian:~# pip\nTraceback (most recent call last):\nFile \"/usr/local/bin/pip\", line 11, in &lt;module&gt;\nload_entry_point('pip==8.1.2', 'console_scripts', 'pip')()\nFile \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 567, in load_entry_point\nreturn get_distribution(dist).load_entry_point(group, name)\nFile \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2604, in load_entry_point\nreturn ep.load()\nFile \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2264, in load\nreturn self.resolve()\nFile \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2270, in resolve\nmodule = __import__(self.module_name, fromlist=['__name__'], level=0)\nFile \"/usr/local/lib/python2.7/dist-packages/pip/__init__.py\", line 16, in &lt;module&gt;\nfrom pip.vcs import git, mercurial, subversion, bazaar  # noqa\nFile \"/usr/local/lib/python2.7/dist-packages/pip/vcs/mercurial.py\", line 9, in &lt;module&gt;\nfrom pip.download import path_to_url\nFile \"/usr/local/lib/python2.7/dist-packages/pip/download.py\", line 39, in &lt;module&gt;\nfrom pip._vendor import requests, six\nFile \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/__init__.py\", line 53, in &lt;module&gt;\nfrom .packages.urllib3.contrib import pyopenssl\nFile \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/packages/urllib3/contrib/pyopenssl.py\", line 54, in &lt;module&gt;\nimport OpenSSL.SSL\nFile \"/usr/lib/python2.7/dist-packages/OpenSSL/__init__.py\", line 8, in &lt;module&gt;\nfrom OpenSSL import rand, crypto, SSL\nFile \"/usr/lib/python2.7/dist-packages/OpenSSL/rand.py\", line 11, in &lt;module&gt;\nfrom OpenSSL._util import (\nFile \"/usr/lib/python2.7/dist-packages/OpenSSL/_util.py\", line 4, in &lt;module&gt;\nbinding = Binding()\nFile \"/usr/lib/python2.7/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 89, in __init__\nself._ensure_ffi_initialized()\nFile \"/usr/lib/python2.7/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 113, in _ensure_ffi_initialized\nlibraries=libraries,\nFile \"/usr/lib/python2.7/dist-packages/cryptography/hazmat/bindings/utils.py\", line 80, in build_ffi\nextra_link_args=extra_link_args,\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/api.py\", line 437, in verify\nlib = self.verifier.load_library()\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/verifier.py\", line 114, in load_library\nreturn self._load_library()\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/verifier.py\", line 225, in _load_library\nreturn self._vengine.load_library()\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/vengine_cpy.py\", line 174, in load_library\nlst = list(map(self.ffi._get_cached_btype, lst))\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/api.py\", line 409, in _get_cached_btype\nBType = type.get_cached_btype(self, finishlist)\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/model.py\", line 61, in get_cached_btype\nBType = self.build_backend_type(ffi, finishlist)\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/model.py\", line 507, in build_backend_type\nbase_btype = self.build_baseinttype(ffi, finishlist)\nFile \"/usr/local/lib/python2.7/dist-packages/cffi/model.py\", line 525, in build_baseinttype\n% self._get_c_name())\ncffi.api.CDefError: 'point_conversion_form_t' has no values explicitly defined: refusing to guess which integer type it is meant to be (unsigned/signed, int/long)\n</code></pre>\n\n<p>googled for several similar problem, cffi or cryptography may cause this problem, but i can't find any clear way to fix it.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 1283, "user_id": 2552873, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a26b2521c7c65aa78ef4ee154be4ddde?s=128&d=identicon&r=PG", "display_name": "jtebert", "link": "https://stackoverflow.com/users/2552873/jtebert"}, "edited": false, "score": 0, "creation_date": 1475703482, "post_id": 39884034, "comment_id": 67055129, "body": "Brilliant, thanks. I guess that will do in the meantime. Mostly unrelated, but is there a date for the 2.0 release? I can only find info about when various betas are out."}, {"owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "reply_to_user": {"reputation": 1283, "user_id": 2552873, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a26b2521c7c65aa78ef4ee154be4ddde?s=128&d=identicon&r=PG", "display_name": "jtebert", "link": "https://stackoverflow.com/users/2552873/jtebert"}, "edited": false, "score": 0, "creation_date": 1475703882, "post_id": 39884034, "comment_id": 67055297, "body": "Glad to help! No idea, I&#39;ve been watching the developer mailing list and haven&#39;t seen anything about a specific date yet either."}], "tags": [], "owner": {"reputation": 3602, "user_id": 812786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AtQA7.png?s=128&g=1", "display_name": "user812786", "link": "https://stackoverflow.com/users/812786/user812786"}, "is_accepted": true, "score": 1, "last_activity_date": 1475703070, "last_edit_date": 1495541206, "creation_date": 1475703070, "answer_id": 39884034, "question_id": 39882004, "link": "https://stackoverflow.com/questions/39882004/hide-upper-right-tick-markers-using-rcparams-mplstyle/39884034#39884034", "title": "Hide upper/right tick markers using rcparams/mplstyle", "body": "<p>You can use:</p>\n\n<pre><code>axes.spines.top : False\naxes.spines.right : False\n</code></pre>\n\n<p>in a mpstyle file to turn off spines. Unfortunately, <a href=\"https://stackoverflow.com/a/38750147/812786\">this recent answer</a> indicates that ticks cannot currently be controlled from an rc or style file like this, and I haven't yet found a way either. However, in matplotlib 2.0 you should be able to write:</p>\n\n<pre><code>xtick.top : False\nytick.right : False\n</code></pre>\n\n<p>(In fact, this appears to be the default style for 2.0, according to <a href=\"https://github.com/matplotlib/matplotlib/blob/v2.x/matplotlibrc.template#L362\" rel=\"nofollow noreferrer\">the template file</a>.)</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 11100315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdacd10f166a200291a0705d92d6a652?s=128&d=identicon&r=PG&f=1", "display_name": "Mads", "link": "https://stackoverflow.com/users/11100315/mads"}, "is_accepted": false, "score": 0, "last_activity_date": 1612788888, "creation_date": 1612788888, "answer_id": 66102065, "question_id": 39882004, "link": "https://stackoverflow.com/questions/39882004/hide-upper-right-tick-markers-using-rcparams-mplstyle/66102065#66102065", "title": "Hide upper/right tick markers using rcparams/mplstyle", "body": "<p>Adding to @user812786's <a href=\"https://stackoverflow.com/a/39884034/11100315\">answer</a>:\nYou can remove ticks while keeping the spines by changing the size of the ticks to zero. This works in any version of matplotlib.</p>\n<p>In your .mplstyle file write:</p>\n<pre><code>xtick.major.size: 0\nxtick.minor.size: 0\nytick.major.size: 0\nytick.minor.size: 0\n</code></pre>\n"}], "owner": {"reputation": 1283, "user_id": 2552873, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a26b2521c7c65aa78ef4ee154be4ddde?s=128&d=identicon&r=PG", "display_name": "jtebert", "link": "https://stackoverflow.com/users/2552873/jtebert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 39884034, "answer_count": 2, "score": 1, "last_activity_date": 1612788888, "creation_date": 1475695078, "last_edit_date": 1495542805, "question_id": 39882004, "link": "https://stackoverflow.com/questions/39882004/hide-upper-right-tick-markers-using-rcparams-mplstyle", "title": "Hide upper/right tick markers using rcparams/mplstyle", "body": "<p>I am currently using a variant of <a href=\"https://stackoverflow.com/a/11417222/2552873\">this answer</a> to eliminate the top/right edges on my plots. However, I would like to be able to add this to my .mplstyle file instead of calling this function for every plot I create. Is there a way to achieve this functionality using the style parameters, or even by calling something once at the beginning of my code?</p>\n"}, {"tags": ["python", "gtk", "pygobject"], "comments": [{"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1476159433, "post_id": 39881948, "comment_id": 67220140, "body": "I don&#39;t know Python enough to know if this is correct but I&#39;m pretty sure your widget variables are local to <code>__init__</code> and are thus lost when that returns."}, {"owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1477541166, "post_id": 39881948, "comment_id": 67810919, "body": "@andlabs that&#39;s correct, they would need to be changed to <code>self.oldPDF</code>, etc. I&#39;ll refrain from posting it as the answer so you can earn the points :-)"}], "answers": [{"tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": true, "score": 0, "last_activity_date": 1477575198, "creation_date": 1477575198, "answer_id": 40285964, "question_id": 39881948, "link": "https://stackoverflow.com/questions/39881948/pygobject-method-linked-to-button-press-isnt-recognizing-data-in-the-entry-fie/40285964#40285964", "title": "PyGObject: Method linked to button press isn&#39;t recognizing data in the entry fields", "body": "<p>The variables you create in <code>__init__()</code>, such as <code>oldPDF</code>, are local to <code>__init__()</code> and not properties of the class. To make them accessible by other methods, prefix them with <code>self.</code>, so <code>self.oldPDF</code>. Then you'll be able to use them in the other methods of the class, such as the signal handlers.</p>\n"}], "owner": {"reputation": 15, "user_id": 5765048, "user_type": "registered", "profile_image": "https://graph.facebook.com/450754108449201/picture?type=large", "display_name": "Zazie Ayesha McKenzie", "link": "https://stackoverflow.com/users/5765048/zazie-ayesha-mckenzie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 40285964, "answer_count": 1, "score": 0, "last_activity_date": 1477575198, "creation_date": 1475694871, "last_edit_date": 1475846889, "question_id": 39881948, "link": "https://stackoverflow.com/questions/39881948/pygobject-method-linked-to-button-press-isnt-recognizing-data-in-the-entry-fie", "title": "PyGObject: Method linked to button press isn&#39;t recognizing data in the entry fields", "body": "<p>I recently wrote a command line script that takes a range of pages from a pdf and makes a new pdf out of them. I am now trying to turn that script into a small gui program.</p>\n\n<p>I am having problems getting the slice method code to run when the button is clicked however. As of now running the program bring up the gui, but when I click the button I get this error message in the shell:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"pdfSliceGui.py\", line 54, in slice\n    old = oldPDF.get_text()\nNameError: global name 'oldPDF' is not defined\n</code></pre>\n\n<p>There seems to be a problem with the slice() method not being able to read what is in the Entries. And it appears to be a scope problem, the slice() method doesn't recognize the entry. There may also be an issue with me converting some of the entries to Ints but my primary focus is getting the slice() method to work with the Entry data.</p>\n\n<p>Here is the relevant part of the code I wrote:</p>\n\n<pre><code>class MyWindow(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title=\"PDF Slicer\")\n        self.set_size_request(320, 320)\n\n        vbox = Gtk.Box(orientation=Gtk.Orientation.VERTICAL, spacing=10)\n        self.add(vbox)\n\n        label1 = Gtk.Label()\n        label1.set_text(\"PDF to extract from\")\n        vbox.pack_start(label1, True, True, 0)\n\n        oldPDF = Gtk.Entry()\n        vbox.pack_start(oldPDF, True, True, 0)\n\n        label2 = Gtk.Label()\n        label2.set_text(\"PDF to extract to\")\n        vbox.pack_start(label2, True, True, 0)\n\n        newPDF = Gtk.Entry()\n        vbox.pack_start(newPDF, True, True, 0)\n\n        label3 = Gtk.Label()\n        label3.set_text(\"Start page\")\n        vbox.pack_start(label3, True, True, 0)\n\n        start = Gtk.Entry()\n        vbox.pack_start(start, True, True, 0)\n\n        label4 = Gtk.Label()\n        label4.set_text(\"End page\")\n        vbox.pack_start(label4, True, True, 0)\n\n        end = Gtk.Entry()\n        vbox.pack_start(end, True, True, 0)\n\n        button = Gtk.Button.new_with_label(\"Slice\")\n        button.connect(\"clicked\", self.slice)\n        vbox.pack_start(button, True, True, 0)\n\n    def slice(self, button):    \n        old = oldPDF.get_text()\n        new = newPDF.get_text()\n        s = int(start.get_text()) - 1\n        e = int(end.get_text())\n\n        pdfFileObj = open(old, 'rb')\n        pdfReader = PyPDF2.PdfFileReader(pdfFileObj)\n        pdfWriter = PyPDF2.PdfFileWriter()\n\n        for page in range (s, e):\n            pageObj = pdfReader.getPage(page)\n            pdfWriter.addPage(pageObj)\n\n        pdfOutputFile = open(new, 'wb')\n        pdfWriter.write(pdfOutputFile)\n        pdfOutputFile.close()\n        pdfFileObj.close()\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "ansible", "ansible-playbook"], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "edited": false, "score": 0, "creation_date": 1475730291, "post_id": 39882855, "comment_id": 67062116, "body": "Thanks,I tried in ansible config file,but still it shows same error,VALUE_SPECIFIED_IN_NO_LOG_PARAMETER while passing token and keys."}, {"owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "reply_to_user": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "edited": false, "score": 0, "creation_date": 1475735065, "post_id": 39882855, "comment_id": 67063985, "body": "You can&#39;t avoid this text. But if you set <code>display_args_to_stdout</code>, the task header will change and look like this <code>TASK [ec2_remote_facts aws_secret_key=SSKDFBHJLSHB]</code>, so you can see the values."}, {"owner": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "edited": false, "score": 0, "creation_date": 1475739038, "post_id": 39882855, "comment_id": 67066095, "body": "i set display_args_to_stdout=true ,but whats  that TASK [ec2_remote_facts aws_secret_key=SSKDFBHJLSHB].Will i pass this to my s3 module,for accessing those token and keys????"}, {"owner": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "edited": false, "score": 0, "creation_date": 1475747933, "post_id": 39882855, "comment_id": 67071802, "body": "I use ec2_remote_facts  - name: Gather EC2 facts.   ec2_remote_facts:     aws_secret_key: &quot;{{ secret_key }}&quot;     aws_access_key: &quot;{{ access_key }}&quot;     security_token: &quot;{{ session_token }}&quot;     region: &quot;{{ region }}&quot;   register: ec2_facts                                                                                                                i use like above ,still iam sseing a value passing like &quot;no log param&quot;"}, {"owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "reply_to_user": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "edited": false, "score": 0, "creation_date": 1475748113, "post_id": 39882855, "comment_id": 67071937, "body": "Sorry, I miss the point. If you question is not about why your secrets are not displayed, please rephrase your question to be more specific and accurate. Add sample playbook snippet if needed."}], "tags": [], "owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "is_accepted": false, "score": 5, "last_activity_date": 1475698248, "creation_date": 1475698248, "answer_id": 39882855, "question_id": 39881807, "link": "https://stackoverflow.com/questions/39881807/aws-passing-credentials-to-ansible-s3-module/39882855#39882855", "title": "Aws passing credentials to ansible s3 module", "body": "<p><code>aws_secret_key</code> and <code>security_token</code> are marked as <code>no_log</code> arguments. See <a href=\"https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/ec2.py#L125\" rel=\"noreferrer\">source</a>.<br>\nIt is sensitive data, so not printed to stdout and you see <code>VALUE_SPECIFIED_IN_NO_LOG_PARAMETER</code>.</p>\n\n<p>If you absolutely need to get secret values printed to stdout, use <code>ANSIBLE_DISPLAY_ARGS_TO_STDOUT=1</code> environment variable.</p>\n"}], "owner": {"reputation": 253, "user_id": 6814829, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9e4e7f58f67c2b7a43c5657336be3bf?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/6814829/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6161, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1475700299, "creation_date": 1475694302, "last_edit_date": 1475700299, "question_id": 39881807, "link": "https://stackoverflow.com/questions/39881807/aws-passing-credentials-to-ansible-s3-module", "title": "Aws passing credentials to ansible s3 module", "body": "<p>In ansible,When I am passing the access key,secret key,token to my aws credentials,it  passes the access key to my ansible module s3 ,but when I am passing secret key and token it shows me <code>\"\"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\"</code>\nlike that.So how can I solve this.</p>\n\n<p>In accesskey id there is no extra special symbols at all,we have only text alphabets,but in security ans session we have / and special symbols,may be due that it passes like <code>\"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\"</code>???</p>\n\n<p>Thanks guys</p>\n"}, {"tags": ["python", "python-3.x", "decimal"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475698486, "post_id": 39881740, "comment_id": 67052799, "body": "<i>&quot;No matter how I use decimal.Decimal&quot;</i>? How <i>do</i> you use <code>Decimal</code>?"}, {"owner": {"reputation": 101, "user_id": 4430282, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LWv9Y.jpg?s=128&g=1", "display_name": "Hayden Ravenscroft", "link": "https://stackoverflow.com/users/4430282/hayden-ravenscroft"}, "reply_to_user": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1475699079, "post_id": 39881740, "comment_id": 67053122, "body": "@zvone Sorry, bad wording - I meant &quot;No matter where I use decimal objects&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4430282, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LWv9Y.jpg?s=128&g=1", "display_name": "Hayden Ravenscroft", "link": "https://stackoverflow.com/users/4430282/hayden-ravenscroft"}, "edited": false, "score": 0, "creation_date": 1475698978, "post_id": 39881858, "comment_id": 67053062, "body": "I really have to apologise for the wording of this question. I forgot to round pi in my attempts, so I will just use 3.14 instead of <code>math.pi</code> , it makes little difference for the program I am writing."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6928250"}, "is_accepted": true, "score": 1, "last_activity_date": 1475694490, "creation_date": 1475694490, "answer_id": 39881858, "question_id": 39881740, "link": "https://stackoverflow.com/questions/39881740/correct-usage-of-decimal-objects-in-this-expression/39881858#39881858", "title": "Correct usage of Decimal objects in this expression", "body": "<p>You need to set the precision for the decimal object. Pi is an infinite decimal number, so the precision won't be a whole number.</p>\n\n<p>You can do</p>\n\n<pre><code>from decimal import *\n\ngetcontext().prec = 1\n</code></pre>\n\n<p>or add to the decimal object by rounding down.</p>\n\n<pre><code>&gt;&gt;&gt; Decimal('7.325').quantize(Decimal('.01'), rounding=ROUND_DOWN)\nDecimal('7.32')\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3.5/library/decimal.html\" rel=\"nofollow\">take from docs</a></p>\n"}], "owner": {"reputation": 101, "user_id": 4430282, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LWv9Y.jpg?s=128&g=1", "display_name": "Hayden Ravenscroft", "link": "https://stackoverflow.com/users/4430282/hayden-ravenscroft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 39881858, "answer_count": 1, "score": -1, "last_activity_date": 1475698960, "creation_date": 1475694029, "last_edit_date": 1475695187, "question_id": 39881740, "link": "https://stackoverflow.com/questions/39881740/correct-usage-of-decimal-objects-in-this-expression", "title": "Correct usage of Decimal objects in this expression", "body": "<p>I need to calculate the area of any regular polygon. I acquired this formula from a good ol' google:</p>\n\n<pre><code>(n * l**2) / (4 * math.tan((180/n) * (math.pi/180)))\n</code></pre>\n\n<p>No matter how I use <code>decimal.Decimal</code> with these values I can never get it to work as intended. <code>n</code> and <code>l</code> are given as floats.</p>\n\n<p>Can someone apply decimal object to this please? When <code>n</code> is 4 and <code>l</code> is 2, it should return <code>4</code>, but currently it returns <code>4.00000000000000156234</code> (or something along those lines).</p>\n"}, {"tags": ["python", "linux", "raspberry-pi", "composer-php"], "comments": [{"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1475694362, "post_id": 39881738, "comment_id": 67050545, "body": "I&#39;d use jquery and ajax"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1475694555, "post_id": 39881738, "comment_id": 67050643, "body": "If you are fluent with python, they have a library to control the gpio stuff. Build the website with flask or django perhaps"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1475694595, "post_id": 39881738, "comment_id": 67050659, "body": "You might also want to tag your question with raspberry pi -- you might draw more responses"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 6833456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4225d47cd0f952e71da7e6f7a1509ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Matz", "link": "https://stackoverflow.com/users/6833456/matz"}, "is_accepted": false, "score": 0, "last_activity_date": 1475792843, "creation_date": 1475792843, "answer_id": 39906578, "question_id": 39881738, "link": "https://stackoverflow.com/questions/39881738/how-would-i-use-php-to-display-multiple-buttons-on-a-web-page-they-are-going-to/39906578#39906578", "title": "how would i use php to display multiple buttons on a web page (they are going to control a raspberry pi)", "body": "<p>One solution would be to add all your html into a php file, add all your php code on top of that and run it in your browser. This assuming that www-data user have correct permissions on your file systems to execute the python scripts. </p>\n\n<p>Example:</p>\n\n<pre><code>&lt;?php\n\nif (isset($_POST['on']))\n{\nexec(\"sudo python /home/pi/lighton.py\");\n}\nif (isset($_POST['off']))\n{\nexec(\"sudo python /home/pi/lightoff.py\");\n}\n?&gt;\n\n&lt;html&gt;\n &lt;head&gt;\n &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n &lt;title&gt;LED Control&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n     LED Control:\n     &lt;form method=\"POST\" &gt;\n          &lt;input type=\"submit\" value=\"ON\" name=\"on\"&gt;\n          &lt;input type=\"submit\" value=\"OFF\" name=\"off\"&gt;\n     &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Alternatively if you know Python well, configure ModPython on Apache and use a py file as your server side script with JQuery on the client side to pass the button presses.</p>\n"}], "owner": {"reputation": 1, "user_id": 6928035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0e040c688750b696257e1571a85f92?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Greaves", "link": "https://stackoverflow.com/users/6928035/sam-greaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476496963, "creation_date": 1475694022, "last_edit_date": 1475824279, "question_id": 39881738, "link": "https://stackoverflow.com/questions/39881738/how-would-i-use-php-to-display-multiple-buttons-on-a-web-page-they-are-going-to", "title": "how would i use php to display multiple buttons on a web page (they are going to control a raspberry pi)", "body": "<p>i am creating a home automation system, i am using my raspberry pi as a web server to control the gpio ports, p have used some code to turn on the gpio ports. what i want to do is have different php buttons that run different python scripts in turn they turn on different ports. i know lots about python but very little about php and html.</p>\n\n<p>this is all the code i have so far for turning on a gpio port through php</p>\n\n<pre><code> &lt;html&gt;\n &lt;head&gt;\n &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n &lt;title&gt;LED Control&lt;/title&gt;\n &lt;/head&gt;\n         &lt;body&gt;\n         LED Control:\n         &lt;form method=\"get\" action=\"gpio.php\"&gt;\n                 &lt;input type=\"submit\" value=\"ON\" name=\"on\"&gt;\n                 &lt;input type=\"submit\" value=\"OFF\" name=\"off\"&gt;\n     &lt;/form&gt;\n     &lt;?php\n     $setmode17 = shell_exec(\"/usr/local/bin/gpio -g mode 17 out\");\n     if(isset($_GET['on'])){\n             $gpio_on = shell_exec(\"/usr/local/bin/gpio -g write 17 1\");\n             echo \"LED is on\";\n     }\n     else if(isset($_GET['off'])){\n             $gpio_off = shell_exec(\"/usr/local/bin/gpio -g write 17 0\");\n             echo \"LED is off\";\n     }\n     ?&gt;\n     &lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>i also wont to controle an 8 channel relay, meaning i will need 8 buttons. i have made up some basic code for running the raspberry pi scripts, i dont know hot to put it all together though.</p>\n\n<pre><code>&lt;?php\n\nif (isset($_POST['LightON']))\n{\nexec(\"sudo python /home/pi/lighton.py\");\n}\nif (isset($_POST['LightOFF']))\n{\nexec(\"sudo python /home/pi/lightoff.py\");\n}\n?&gt;\n</code></pre>\n\n<p>Thanks,\nSam\n    i am aware the variable names are different</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1475694683, "post_id": 39881708, "comment_id": 67050692, "body": "What version of jinja are you using? Also try to remove <code>from __future__ import absolute_import</code> line, since it only for Python 2 only."}, {"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "reply_to_user": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1475694972, "post_id": 39881708, "comment_id": 67050858, "body": "It&#39;s Jinja2 2.8. I have now edited and mentioned this in the original post. Thanks! <code>__future__</code> import was just for backwards compatibility; I tried removing it, but still the same error."}, {"owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1475695869, "post_id": 39881708, "comment_id": 67051365, "body": "Are you sure that it should be <code>&#39;environment&#39;: &#39;mysite.jinja2.environment&#39;,</code> not <code>&#39;environment&#39;: &#39;jinja2.environment&#39;,</code>?"}, {"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "reply_to_user": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1475695939, "post_id": 39881708, "comment_id": 67051402, "body": "Yes, I am sure because I have defined that in <code>jinja2.py</code> in project root."}], "answers": [{"comments": [{"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "edited": false, "score": 0, "creation_date": 1475700597, "post_id": 39883270, "comment_id": 67053884, "body": "I changed the name of <code>jinja2.py</code> file to <code>jin.py</code> and updated the settings file where it was called. But now I get a different error <code>No module named &#39;mysite.jin&#39;</code>."}, {"owner": {"reputation": 654, "user_id": 5161084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aFJ9E.jpg?s=128&g=1", "display_name": "bwangel", "link": "https://stackoverflow.com/users/5161084/bwangel"}, "edited": false, "score": 0, "creation_date": 1475703317, "post_id": 39883270, "comment_id": 67055053, "body": "The <code>environment</code>&#39;s import path is <code>mysite.jinja2.environment</code>.That means find the <code>environment</code> in the <code>mysite</code>&#39;s submodule <code>jinjia2</code>. So it can be named <code>jinja2</code>."}, {"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "edited": false, "score": 0, "creation_date": 1475709858, "post_id": 39883270, "comment_id": 67057064, "body": "Yes, it works with the name <code>jinja2.py</code>, just the location of the file was incorrect."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1475700036, "creation_date": 1475700036, "answer_id": 39883270, "question_id": 39881708, "link": "https://stackoverflow.com/questions/39881708/jinja2-environment-importerror-in-django-1-10-with-python-3-5/39883270#39883270", "title": "Jinja2 Environment ImportError in Django 1.10 with Python 3.5", "body": "<p>You've called your own file <code>jinja2</code>. So Python finds that instead of the actual Jinja2 library when you do <code>import jinja2</code>.</p>\n\n<p>Call your file something else.</p>\n"}, {"comments": [{"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "edited": false, "score": 0, "creation_date": 1475709359, "post_id": 39884017, "comment_id": 67056944, "body": "Perfect! This resolved the issue. Another thing, if you can tell, you have placed your <code>jinja2</code> directory inside an app and it may be working fine. But I need to add some project wide templates, so as you can see <code>base.html</code> in <code>jinja2</code> directory at project level, it&#39;s not working for me. The error now says <code>TemplateDoesNotExist</code>. Should this work because the documentation says if we set <code>APP_DIRS = True</code>, then no need to define <code>DIRS</code>."}, {"owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "edited": false, "score": 0, "creation_date": 1475712045, "post_id": 39884017, "comment_id": 67057623, "body": "I resolved this by setting <code>&#39;DIRS&#39;: [ os.path.join(BASE_DIR, &#39;jinja2&#39;), ],</code>. Do let me know if there&#39;s a better way to do this?"}, {"owner": {"reputation": 654, "user_id": 5161084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aFJ9E.jpg?s=128&g=1", "display_name": "bwangel", "link": "https://stackoverflow.com/users/5161084/bwangel"}, "reply_to_user": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "edited": false, "score": 0, "creation_date": 1475720106, "post_id": 39884017, "comment_id": 67059429, "body": "Oh, sorry. If you need some project wide templates.I also only konw to set the <code>DIRS</code> options."}], "tags": [], "owner": {"reputation": 654, "user_id": 5161084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aFJ9E.jpg?s=128&g=1", "display_name": "bwangel", "link": "https://stackoverflow.com/users/5161084/bwangel"}, "is_accepted": true, "score": 0, "last_activity_date": 1475703816, "last_edit_date": 1475703816, "creation_date": 1475703028, "answer_id": 39884017, "question_id": 39881708, "link": "https://stackoverflow.com/questions/39881708/jinja2-environment-importerror-in-django-1-10-with-python-3-5/39884017#39884017", "title": "Jinja2 Environment ImportError in Django 1.10 with Python 3.5", "body": "<p>I think you put the <code>jinja2.py</code> in a wrong position. It should be in the dir <code>mysite/</code>.</p>\n\n<p>This is the directory structure of my django project <code>mysite</code>(Jin2 is a app dir), which can run normally:</p>\n\n<pre><code>\u279c /tmp/jinja/mysite $ tree . -I '*.pyc'\n.\n\u251c\u2500\u2500 db.sqlite3\n\u251c\u2500\u2500 jin2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 apps.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 jinja2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 mysite\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 jinja2.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.py\n\u2514\u2500\u2500 __pycache__\n</code></pre>\n\n<p>My <code>settings.py</code> and <code>jinja2.py</code> are same as yours. The  only difference is that I put the <code>jinja2.py</code> in the mysite dir.</p>\n\n<p>And you should delete the <code>from __future__ import absolute_import</code> in the <code>jinja2.py</code>, it is only needed in python2.</p>\n"}], "owner": {"reputation": 254, "user_id": 3651494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N5n92.jpg?s=128&g=1", "display_name": "Forthaction", "link": "https://stackoverflow.com/users/3651494/forthaction"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 39884017, "answer_count": 2, "score": 0, "last_activity_date": 1475703816, "creation_date": 1475693907, "last_edit_date": 1475694922, "question_id": 39881708, "link": "https://stackoverflow.com/questions/39881708/jinja2-environment-importerror-in-django-1-10-with-python-3-5", "title": "Jinja2 Environment ImportError in Django 1.10 with Python 3.5", "body": "<p>I have a Django 1.10 project (with Python 3.5, and Jinja2 2.8 for templates) setup like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QSdtj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSdtj.png\" alt=\"Directory structure\"></a></p>\n\n<p>*Consider the red marks as <code>mysite</code></p>\n\n<p>File <code>jinja2.py</code> defines this:</p>\n\n<pre><code>from __future__ import absolute_import\n\nfrom django.contrib.staticfiles.storage import staticfiles_storage\nfrom django.urls import reverse\n\nfrom jinja2 import Environment\n\n\ndef environment(**options):\n    env = Environment(**options)\n    env.globals.update({\n        'static': staticfiles_storage.url,\n        'url': reverse,\n    })\n    return env\n</code></pre>\n\n<p>And this file is called in <code>settings.py</code> like this:</p>\n\n<pre><code>{\n    'BACKEND': 'django.template.backends.jinja2.Jinja2',\n    'DIRS': [],\n    'APP_DIRS': True,\n    'OPTIONS': {\n        'environment': 'mysite.jinja2.environment',\n    },\n},\n</code></pre>\n\n<p>But when I run the server and visit a URL with view that calls a Jinja2 template, I get the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WksbB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WksbB.png\" alt=\"ImportError\"></a></p>\n\n<p>I spent several hours searching the Internet to find a solution, but unable to resolve this.</p>\n\n<p>The entire setup was done following the official Django documentation: <a href=\"https://docs.djangoproject.com/en/1.10/topics/templates/#django.template.backends.jinja2.Jinja2\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.10/topics/templates/#django.template.backends.jinja2.Jinja2</a></p>\n\n<p>Thanks for your response(s)</p>\n"}, {"tags": ["python", "anaconda", "igraph", "plotly", "gml"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1475693840, "post_id": 39881665, "comment_id": 67050227, "body": "Check current directory. I bet that your file is not here! Did you store it in <code>C:&#47;Users&#47;Soonhyeon&#47;PycharmProjects&#47;Stock</code> ? can you <code>import os; print(os.getcwd())</code> just to check?"}], "owner": {"reputation": 11, "user_id": 6928117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8436add054b1a851efa6ba5f675ef6?s=128&d=identicon&r=PG&f=1", "display_name": "MiddleSchoolScience", "link": "https://stackoverflow.com/users/6928117/middleschoolscience"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475694918, "creation_date": 1475693738, "last_edit_date": 1475694918, "question_id": 39881665, "link": "https://stackoverflow.com/questions/39881665/reading-a-gml-file-in-python-using-a-plotly-package-is-not-working-how-can-i-ha", "title": "Reading a GML file in python using a plotly package is not working. how can i handle this?", "body": "<p>My code:</p>\n\n<pre><code>import igraph as ig\n\nG=ig.Graph.Read_GML('netscience.gml.txt')\nlabels=list(G.vs['label'])\nN=len(labels)\nE=[e.tuple for e in G.es]# list of edges\nlayt=G.layout('kk') #kamada-kawai layout\ntype(layt)\n</code></pre>\n\n<p>Error message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):File \"C:/Users/Soonhyeon/PycharmProjects/Stock/vz1.py\", line 3, in &lt;module&gt; G=ig.Graph.Read_GML('netscience.gml.txt')\nIOError: [Errno 2] No such file or directory: 'netscience.gml.txt'\n</code></pre>\n\n<p>How can I handle this error? I already found a GML file that 'netscience.gml' in web, but I can't find a solution about it. Is the error about igraph packages? Or plotly packages?</p>\n\n<p>Please help, I have studied plotly packages <a href=\"https://plot.ly/python/igraph-networkx-comparison/#comparison\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cJSq3.png\" alt=\"enter image description here\"></p>\n"}]