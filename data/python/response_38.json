[{"tags": ["python", "flask", "scikit-learn"], "comments": [{"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "edited": false, "score": 0, "creation_date": 1443660066, "post_id": 32877365, "comment_id": 53586532, "body": "I don&#39;t have a solution but I&#39;ll just write the things I noticed. It seems really strange- the line just before the error specifically tests for having <code>_children</code>: <code>if hasattr(self._parent, &#39;_children&#39;): self._parent._children[self] = None</code>. When you say it works outside of flask, is that with the exact same environment (interpreter, libraries, os, machine, etc.)? I ask because in my system, line 73 is the condition but in yours it is the assignment. I think your flask environment is using an older version of python where <a href=\"https://bugs.python.org/issue14881\" rel=\"nofollow noreferrer\">this bug</a> is not fixed."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 0, "creation_date": 1443803576, "post_id": 32877829, "comment_id": 53651420, "body": "Thanks for the info!  I tried a fresh VM with 2.7.6 and you are right, it worked."}, {"owner": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 0, "creation_date": 1443804099, "post_id": 32877829, "comment_id": 53651689, "body": "*adding below because i can&#39;t edit above.  My initial env was using 2.7.3.  I don&#39;t have much control of the Python version used.  However, I benchmarked out a test trial and it won&#39;t be detrimental to use a single thread.  I only need to run it once a day and it runs in &lt; 10 minutes.  I&#39;m assuming others might enjoy the monkey patch if it&#39;s not horridly difficult."}, {"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "reply_to_user": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 1, "creation_date": 1443826974, "post_id": 32877829, "comment_id": 53661902, "body": "@HappyCamper That&#39;s good news. I&#39;m glad it works. An upvote and solution marker would be appreciated and will help future users go the right way. As for a monkey patch, I will have to work on that as I don&#39;t see a super safe way to do it yet. I may ask another question on SO to get it but I&#39;ll do it eventually."}, {"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "reply_to_user": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 1, "creation_date": 1443857724, "post_id": 32877829, "comment_id": 53667312, "body": "@HappyCamper can you please tell me your import chain to get access to <code>RandomForestRegressor</code>? E.g. <code>from sklearn import ensemble</code> followed by <code>... ensemble.RandomForestRegressor</code> . Or maybe <code>from sklearn.ensemble import RandomForestRegressor</code>?"}, {"owner": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 0, "creation_date": 1443927446, "post_id": 32877829, "comment_id": 53685186, "body": "I think marked everything correctly (still getting used to posting on here).   Thank you again for looking at all of this!    I had the import statement in the code block above.  Please let me know if this is not correct.    from sklearn.ensemble import RandomForestRegressor"}, {"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "reply_to_user": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 0, "creation_date": 1443928580, "post_id": 32877829, "comment_id": 53685362, "body": "@HappyCamper oh right! Sorry i forgot that was there. I only looked at the top of the code. When I get home I&#39;ll put something up."}, {"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "reply_to_user": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "edited": false, "score": 0, "creation_date": 1443975865, "post_id": 32877829, "comment_id": 53696641, "body": "@HappyCamper There is the monkey patch. I haven&#39;t tested it so if you or anyone else tried it, please post the result here."}], "tags": [], "owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "is_accepted": true, "score": 7, "last_activity_date": 1443975821, "last_edit_date": 1443975821, "creation_date": 1443660537, "answer_id": 32877829, "question_id": 32877365, "link": "https://stackoverflow.com/questions/32877365/scikit-random-forest-regressor-attributeerror-thread-object-has-no-attrib/32877829#32877829", "title": "scikit - random forest regressor - AttributeError: &#39;Thread&#39; object has no attribute &#39;_children&#39;", "body": "<h1>The Problem</h1>\n\n<p>This probably happens due to a bug in <code>multiprocessing.dummy</code> (see <a href=\"https://bugs.python.org/issue14881\" rel=\"noreferrer\">here</a> and <a href=\"http://bugs.python.org/issue10015\" rel=\"noreferrer\">here</a>) that existed before python 2.7.5 and 3.3.2.</p>\n\n<h1>Solution A - Upgrade Python</h1>\n\n<p>See the comments for confirmation that a newer version worked for OP.</p>\n\n<h1>Solution B - Modify <code>dummy</code></h1>\n\n<p>If you can't upgrade but have access to <code>.../py/Lib/multiprocessing/dummy/__init__.py</code>, edit the <code>start</code> method within the <code>DummyProcess</code> class as follows (should be ~line 73):</p>\n\n<pre><code>if hasattr(self._parent, '_children'):  # add this line\n    self._parent._children[self] = None  # indent this existing line\n</code></pre>\n\n<h1>Solution C - Monkey Patch</h1>\n\n<p><code>DummyProcess</code> is where this bug exists. Let's see where it exists in your imported code to make sure we patch it in the right place.</p>\n\n<ul>\n<li>RandomForestRegressor</li>\n<li>inherits: ForestRegressor</li>\n<li>inherits: BaseForest</li>\n<li>created in: sklearn.ensemble.forest</li>\n<li>which imports: Parallel from sklearn.externals.joblib</li>\n<li>which imports ThreadPool from multiprocessing.pool</li>\n<li>which imports and stores Process from multiprocessing.dummy</li>\n<li>which has been assigned to: DummyProcess also in multiprocessing.dummy</li>\n</ul>\n\n<p>The existence of <code>DummyProcess</code> in that chain guarantees it has already been imported after the import of <code>RandomForestRegressor</code>.\nAlso I think we have access to the <code>DummyProcess</code> class before any instances of it are made.\nTherefore we can patch the class once instead of needing to hunt down instances to patch.</p>\n\n<pre><code># Let's make it available in our namespace:\nfrom sklearn.ensemble import RandomForestRegressor\nfrom multiprocessing import dummy as __mp_dummy\n\n# Now we can define a replacement and patch DummyProcess:\ndef __DummyProcess_start_patch(self):  # pulled from an updated version of Python\n    assert self._parent is __mp_dummy.current_process()  # modified to avoid further imports\n    self._start_called = True\n    if hasattr(self._parent, '_children'):\n        self._parent._children[self] = None\n    __mp_dummy.threading.Thread.start(self)  # modified to avoid further imports\n__mp_dummy.DummyProcess.start = __DummyProcess_start_patch\n</code></pre>\n\n<p>Unless I've missed something, from now on all instances of DummyProcess created will be patched and therefore that error won't occur.</p>\n\n<p>For anyone making more extensive use of sklearn, I think you can accomplish this in reverse and make it work for all of sklearn instead of focusing on one module.\nYou will want to import <code>DummyProcess</code> and patch it as above before you do any sklearn imports.\nThen sklearn will be using the patched class from the beginning.</p>\n\n<hr>\n\n<p>Original answer:</p>\n\n<p>As I wrote the comment, I realized that I may have found your problem - I think your flask environment is using an older version of python.</p>\n\n<p>The reason is that in the latest version of python multiprocessing, the line where you are receiving that error is protected by a condition:</p>\n\n<pre><code>if hasattr(self._parent, '_children'):\n    self._parent._children[self] = None\n</code></pre>\n\n<p>It looks like <a href=\"https://bugs.python.org/issue14881\" rel=\"noreferrer\">this bug</a> was fixed during python 2.7 (I think fixed from 2.7.5). Perhaps your flask is an older 2.7 or 2.6?</p>\n\n<p>Can you check your environment? If you can't update the interpreter, perhaps we can find a way to monkey patch multiprocessing to keep it from crashing.</p>\n"}], "owner": {"reputation": 95, "user_id": 2841208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504e51212b6eb4f4db7afa0d835ed6fe?s=128&d=identicon&r=PG&f=1", "display_name": "HappyCamper", "link": "https://stackoverflow.com/users/2841208/happycamper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 1, "accepted_answer_id": 32877829, "answer_count": 1, "score": 7, "last_activity_date": 1591645038, "creation_date": 1443657037, "last_edit_date": 1591645038, "question_id": 32877365, "link": "https://stackoverflow.com/questions/32877365/scikit-random-forest-regressor-attributeerror-thread-object-has-no-attrib", "title": "scikit - random forest regressor - AttributeError: &#39;Thread&#39; object has no attribute &#39;_children&#39;", "body": "<p>I'm getting the following error when setting my <code>n_jobs</code> parameter <code>&gt; 1</code> for the random forest regressor.  If I set <code>n_jobs=1</code>, everything works.</p>\n\n<pre><code>AttributeError: 'Thread' object has no attribute '_children'\n</code></pre>\n\n<p>I'm running this code in a flask service.  What's interesting is that it does not happen when ran outside of the flask service.  I've only repro'd this on a freshly installed Ubuntu box.  On my Mac it works just fine.</p>\n\n<p>This is a thread that talked about this, but didn't seem to go anywhere past the workaround:\n<a href=\"https://stackoverflow.com/questions/29852680/thread-object-has-no-attribute-children-django-scikit-learn\">&#39;Thread&#39; object has no attribute &#39;_children&#39; - django + scikit-learn</a></p>\n\n<p>Any thoughts on this?</p>\n\n<p><strong>Here is my test code:</strong></p>\n\n<pre>\n@test.route('/testfun')\n\n    def testfun():\n        from sklearn.ensemble import RandomForestRegressor\n        import numpy as np\n\n        train_data = np.array([[1,2,3], [2,1,3]])\n        target_data = np.array([1,1])\n\n        model = RandomForestRegressor(n_jobs=2)\n        model.fit(train_data, target_data)\n        return \"yey\"\n\n</pre>\n\n<p><strong>Stacktrace:</strong></p>\n\n<pre>\n\n    Traceback (most recent call last):\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1836, in __call__\n        return self.wsgi_app(environ, start_response)\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1820, in wsgi_app\n        response = self.make_response(self.handle_exception(e))\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1403, in handle_exception\n        reraise(exc_type, exc_value, tb)\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1817, in wsgi_app\n        response = self.full_dispatch_request()\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1477, in full_dispatch_request\n        rv = self.handle_user_exception(e)\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1381, in handle_user_exception\n        reraise(exc_type, exc_value, tb)\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1475, in full_dispatch_request\n        rv = self.dispatch_request()\n      File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1461, in dispatch_request\n        return self.view_functions[rule.endpoint](**req.view_args)\n      File \"/home/vagrant/flask.global-relevance-engine/global_relevance_engine/routes/test.py\", line 47, in testfun\n        model.fit(train_data, target_data)\n      File \"/usr/local/lib/python2.7/dist-packages/sklearn/ensemble/forest.py\", line 273, in fit\n        for i, t in enumerate(trees))\n      File \"/usr/local/lib/python2.7/dist-packages/sklearn/externals/joblib/parallel.py\", line 574, in __call__\n        self._pool = ThreadPool(n_jobs)\n      File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 685, in __init__\n        Pool.__init__(self, processes, initializer, initargs)\n      File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 136, in __init__\n        self._repopulate_pool()\n      File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 199, in _repopulate_pool\n        w.start()\n      File \"/usr/lib/python2.7/multiprocessing/dummy/__init__.py\", line 73, in start\n        self._parent._children[self] = None\n\n</pre>\n"}, {"tags": ["python", "easy-install", "pillow"], "answers": [{"tags": [], "owner": {"reputation": 22551, "user_id": 724176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa470aad3d456ece9ddf1a8b583b22a5?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/724176/hugo"}, "is_accepted": true, "score": 0, "last_activity_date": 1443793692, "creation_date": 1443793692, "answer_id": 32908651, "question_id": 32877363, "link": "https://stackoverflow.com/questions/32877363/python-3-5-easy-install-pillow-error-on-windows-10/32908651#32908651", "title": "Python 3.5 easy_install Pillow Error on Windows 10", "body": "<p>The bad news: Pillow 2.9.0 doesn't have Windows binaries for Python 3.5 so it was trying to build the source but failing.</p>\n\n<p>The good news: Pillow 3.0.0 was released yesterday and should have Windows binaries for Python 3.5.</p>\n"}], "owner": {"reputation": 35, "user_id": 3969392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/12dba88d8f777fbbc3121ef87c66018e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Megee", "link": "https://stackoverflow.com/users/3969392/michael-megee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 32908651, "answer_count": 1, "score": 1, "last_activity_date": 1443793692, "creation_date": 1443657013, "question_id": 32877363, "link": "https://stackoverflow.com/questions/32877363/python-3-5-easy-install-pillow-error-on-windows-10", "title": "Python 3.5 easy_install Pillow Error on Windows 10", "body": "<p>When attempting to install Pillow on a Windows 10 machine running Python 3.5 using easy_installer:</p>\n\n<pre><code>    C:\\Users\\MMG\\AppData\\Local\\Programs\\Python\\Python35-32\\Scripts&gt;easy_install pillow\nSearching for pillow\nReading https://pypi.python.org/simple/pillow/\nBest match: Pillow 2.9.0\nDownloading https://pypi.python.org/packages/source/P/Pillow/Pillow-2.9.0.zip#md5=cd4e6286fb28e277954c011c3ce05bc4\nProcessing Pillow-2.9.0.zip\nWriting C:\\Users\\MMG\\AppData\\Local\\Temp\\easy_install-vs9ktc0i\\Pillow-2.9.0\\setup.cfg\nRunning Pillow-2.9.0\\setup.py -q bdist_egg --dist-dir C:\\Users\\MMG\\AppData\\Local\\Temp\\easy_install-vs9ktc0i\\Pillow-2.9.0\\egg-dist-tmp-cwgzeemi\nSingle threaded build, not installing mp_compile: 4 processes\nerror: Setup script exited with error: Unable to find vcvarsall.bat\n</code></pre>\n\n<p>I've been scouring the internet searching for a solution, and now feel quite inept at problem solving. (Apparently I correlate problem solving with browsing through Questions on StackExchange and Googling error messages?) Such is the nature of programming, no? So, I now prostrate myself before superior developers in search of a solution to my programming woes.</p>\n"}, {"tags": ["python", "apache-spark"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443657391, "post_id": 32877326, "comment_id": 53585962, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/27854919/how-to-skip-header-from-csv-files-in-spark\">How to skip header from csv files in Spark?</a>"}, {"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443657887, "post_id": 32877326, "comment_id": 53586068, "body": "But I don&#39;t want to skip, I want to store those 3 values in 3 different variables and then work with all other data in dataset. I don&#39;t want to pass those 3 values to the map function I described above."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443658080, "post_id": 32877326, "comment_id": 53586110, "body": "Load data: <code>raw = sc.textFile(&quot;file.txt&quot;)</code>, Take first three lines you want to use for broadcast: <code>header = raw.take(3)</code>, use one of the methods described in the linked answer to skip header and process the rest."}, {"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443658293, "post_id": 32877326, "comment_id": 53586161, "body": "Yeah that is correct . I&#39;ll try that, thanks.."}, {"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443660911, "post_id": 32877326, "comment_id": 53586718, "body": "I tried it. but since header contains 3 values so its not working. The methods in the linked answer do not deal with more then one values."}, {"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1443663005, "post_id": 32877326, "comment_id": 53587169, "body": "sorry My bad it worked....."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "is_accepted": false, "score": 0, "last_activity_date": 1443663274, "creation_date": 1443663274, "answer_id": 32878140, "question_id": 32877326, "link": "https://stackoverflow.com/questions/32877326/how-to-skip-more-then-one-lines-of-header-in-rdd-in-spark/32878140#32878140", "title": "How to skip more then one lines of header in RDD in Spark", "body": "<p>First take the values using take() method as zero323 suggested</p>\n\n<pre><code>raw  = sc.textfile(\"file.txt\")\nheaders = raw.take(3)\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>final_raw = raw.filter(lambda x: x != headers)\n</code></pre>\n\n<p>and done.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "edited": false, "score": 0, "creation_date": 1443663925, "post_id": 32878141, "comment_id": 53587374, "body": "Thank you zero323 for this solution also."}, {"owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "edited": false, "score": 0, "creation_date": 1443664075, "post_id": 32878141, "comment_id": 53587403, "body": "So out of 3 solutions , which one is the most effecient. &lt;/br&gt;  1. zipWithIndex  2. mapPartitonsWithIndex  3. and filter"}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "edited": false, "score": 0, "creation_date": 1443664149, "post_id": 32878141, "comment_id": 53587420, "body": "I would go with <code>mapPartitionsWithIndex</code>."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 5, "last_activity_date": 1443663275, "last_edit_date": 1495542791, "creation_date": 1443663275, "answer_id": 32878141, "question_id": 32877326, "link": "https://stackoverflow.com/questions/32877326/how-to-skip-more-then-one-lines-of-header-in-rdd-in-spark/32878141#32878141", "title": "How to skip more then one lines of header in RDD in Spark", "body": "<ol>\n<li><p>Imports for Python 2</p>\n\n<pre><code>from __future__ import print_function\n</code></pre></li>\n<li><p>Prepare dummy data:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>s = \"1253\\n545553\\n12344896\\n1 2 1\\n1 43 2\\n1 46 1\\n1 53 2\"\nwith open(\"file.txt\", \"w\") as fw: fw.write(s)\n</code></pre></li>\n<li><p>Read raw input:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>raw = sc.textFile(\"file.txt\")\n</code></pre></li>\n<li><p>Extract header:</p>\n\n<pre><code>header = raw.take(3)\nprint(header)\n### [u'1253', u'545553', u'12344896']\n</code></pre></li>\n<li><p>Filter lines:</p>\n\n<ul>\n<li><p>using <a href=\"https://stackoverflow.com/a/27856320/1560062\"><code>zipWithIndex</code></a></p>\n\n<pre><code>content = raw.zipWithIndex().filter(lambda kv: kv[1] &gt; 2).keys()\nprint(content.first())\n## 1 2 1\n</code></pre></li>\n<li><p>using <a href=\"https://stackoverflow.com/a/27857878/1560062\"><code>mapPartitionsWithIndex</code></a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import islice\n\ncontent = raw.mapPartitionsWithIndex(\n    lambda i, iter: islice(iter, 3, None) if i == 0 else iter)\n\nprint(content.first())\n## 1 2 1\n</code></pre></li>\n</ul></li>\n</ol>\n\n<p><strong>NOTE</strong>: All credit goes to <a href=\"https://stackoverflow.com/users/1699432/pzecevic\">pzecevic</a> and <a href=\"https://stackoverflow.com/users/64174/sean-owen\">Sean Owen</a> (see linked sources).</p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 381031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc52b504839afbbd913e8d4285c4b6d?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/381031/anton"}, "is_accepted": false, "score": 3, "last_activity_date": 1551978301, "last_edit_date": 1551978301, "creation_date": 1551977661, "answer_id": 55049079, "question_id": 32877326, "link": "https://stackoverflow.com/questions/32877326/how-to-skip-more-then-one-lines-of-header-in-rdd-in-spark/55049079#55049079", "title": "How to skip more then one lines of header in RDD in Spark", "body": "<p>In my case I have a csv file like below</p>\n\n<pre><code>----- HEADER START -----\nWe love to generate headers\n#who needs comment char?\n----- HEADER END -----\n\ncolName1,colName2,...,colNameN\nval__1.1,val__1.2,...,val__1.N\n</code></pre>\n\n<p>Took me a day to figure out</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val rdd = spark.read.textFile(pathToFile)  .rdd\n  .zipWithIndex() // get tuples (line, Index)\n  .filter({case (line, index) =&gt; index &gt; numberOfLinesToSkip})\n  .map({case (line, index) =&gt; l}) //get rid of index\nval ds = spark.createDataset(rdd) //convert rdd to dataset\nval df=spark.read.option(\"inferSchema\", \"true\").option(\"header\", \"true\").csv(ds) //parse csv\n</code></pre>\n\n<p>Sorry code in scala, however can be easily converted to python</p>\n"}], "owner": {"reputation": 303, "user_id": 3233460, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f55cf89fcd9e8a6ad7628e4bfca21411?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3233460/nicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9094, "favorite_count": 1, "accepted_answer_id": 32878141, "answer_count": 3, "score": 3, "last_activity_date": 1551978301, "creation_date": 1443656826, "last_edit_date": 1443664393, "question_id": 32877326, "link": "https://stackoverflow.com/questions/32877326/how-to-skip-more-then-one-lines-of-header-in-rdd-in-spark", "title": "How to skip more then one lines of header in RDD in Spark", "body": "<p>Data in my first RDD is like </p>\n\n<pre><code>1253\n545553\n12344896\n1 2 1\n1 43 2\n1 46 1\n1 53 2\n</code></pre>\n\n<p>Now the first 3 integers are some counters that I need to broadcast.\nAfter that all the lines have the same format like</p>\n\n<pre><code>1 2 1\n1 43 2\n</code></pre>\n\n<p>I will map all those values after 3 counters to a new RDD after doing some computation with them in function.\nBut I'm not able to understand how to separate those first 3 values and map the rest normally.</p>\n\n<p>My Python code is like this </p>\n\n<pre><code>documents = sc.textFile(\"file.txt\").map(lambda line: line.split(\" \"))\n\nfinal_doc = documents.map(lambda x: (int(x[0]), function1(int(x[1]), int(x[2])))).reduceByKey(lambda x, y: x + \" \" + y)\n</code></pre>\n\n<p>It works only when first 3 values are not in the text file but with them it gives error.</p>\n\n<p>I don't want to skip those first 3 values, but store them in 3 broadcast variables and then pass the remaining dataset in map function.</p>\n\n<p>And yes the text file has to be in that format only. I cannot remove those 3 values/counters</p>\n\n<p>Function1 is just doing some computation and returning the values.</p>\n"}, {"tags": ["python", "r", "parallel-processing", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 2220, "user_id": 1459982, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b7b3533eb6b48e67d690c7be49dda9d1?s=128&d=identicon&r=PG", "display_name": "Lucas Fortini", "link": "https://stackoverflow.com/users/1459982/lucas-fortini"}, "edited": false, "score": 0, "creation_date": 1443657540, "post_id": 32877371, "comment_id": 53585994, "body": "Thanks! That is perfect! Feel dumb for not finding it, but it did not occur to me the obvious that r used the same pid terminology..."}], "tags": [], "owner": {"reputation": 162178, "user_id": 271616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/780efa18d6ac335453cddf3713f55b3a?s=128&d=identicon&r=PG", "display_name": "Joshua Ulrich", "link": "https://stackoverflow.com/users/271616/joshua-ulrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1443657086, "creation_date": 1443657086, "answer_id": 32877371, "question_id": 32877292, "link": "https://stackoverflow.com/questions/32877292/r-equivalent-to-pythons-os-getpid-for-parallel-processing/32877371#32877371", "title": "R equivalent to python&#39;s os.getpid() for parallel processing", "body": "<p><code>??pid</code> returns <code>base::Sys.getpid</code> near the top of the list of results (will depend on what packages you have installed).</p>\n\n<p>See <code>?Sys.getpid</code> for details.</p>\n"}], "owner": {"reputation": 2220, "user_id": 1459982, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b7b3533eb6b48e67d690c7be49dda9d1?s=128&d=identicon&r=PG", "display_name": "Lucas Fortini", "link": "https://stackoverflow.com/users/1459982/lucas-fortini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 32877371, "answer_count": 1, "score": 1, "last_activity_date": 1443657086, "creation_date": 1443656603, "question_id": 32877292, "link": "https://stackoverflow.com/questions/32877292/r-equivalent-to-pythons-os-getpid-for-parallel-processing", "title": "R equivalent to python&#39;s os.getpid() for parallel processing", "body": "<p>I frequently use parallel processing under both python (multiprocessing library) and r (snow, etc packages).\nOne thing I find extremely useful in python is the ability to log progress of individual instances using the unique identifier of the instance, so I can track, for instance, if the right number of instances are initiated and running properly.\nTo do that in python, I simply use os.getpid(). </p>\n\n<p>Is there a similar command in r? I have searched but have not found. </p>\n\n<p>For instance, below is an example of an abstracted parallel code in r that I would like to have the instance log file include the instance ID in the log file name (line 17), along with time the process started:</p>\n\n<pre><code>rm(list = ls()) #remove all past worksheet variables\nwd=\"D:/temp/\" #location for log files\nsetwd(wd)\nn_spp=30\nspp_nmS=paste0(\"sp_\",c(1:n_spp))\n#sp_nm=spp_nmS[1]\nlibrary(snowfall)\n\n#stop sinks\nsink.reset &lt;- function(){\n  for(i in seq_len(sink.number())){\n    sink(NULL)\n  }\n}\n\nsp_parallel_run=function(sp_nm){\n  file_nm=paste0(wd,sp_nm,\"_log_\",format(Sys.time(), \"%a %b %d %H%M%S\"), \".txt\")\n  con=file(file_nm, open=\"wt\")\n  sink(con)\n  cat('\\n', 'Started on ', date(), '\\n') \n  ptm0 &lt;- proc.time()\n\n  #start code\n  sp_nm\n  Sys.sleep(10)\n\n  #end code\n  ptm1=proc.time() - ptm0\n  jnk=as.numeric(ptm1[3])\n  cat('\\n','It took ', jnk, \"seconds to model\", sp_nm)\n\n  sink.reset()\n  close(con)\n}\n\nsfInit( parallel=TRUE, cpus=as.integer(Sys.getenv('NUMBER_OF_PROCESSORS'))) # \nsfExportAll()\nsfLapply(x=spp_nmS, fun=sp_parallel_run)\n\nsfRemoveAll()\nsfStop()\n</code></pre>\n"}, {"tags": ["python", "windows", "symlink"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1443656623, "post_id": 32877260, "comment_id": 53585760, "body": "If UAC is enabled and your user is an administrator, then you have to elevate (i.e. &quot;run as administrator&quot;) to get the unrestricted administrator token that has <code>SeCreateSymbolicLinkPrivilege</code>."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1443656738, "post_id": 32877260, "comment_id": 53585798, "body": "thanks @eryksun, I do have admin privledges, but how do I do what you are suggesting? If you can put it as an answer, I will be happy to accept it"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1443659687, "post_id": 32877260, "comment_id": 53586453, "body": "Windows-X, A will open an admin command-line window.  If you run your Python program from there it should work."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1443662783, "post_id": 32877260, "comment_id": 53587117, "body": "thanks @eryksun, doesn&#39;t mklink not need elevation as well?"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1443662800, "post_id": 32877260, "comment_id": 53587122, "body": "I am using python 2.7 (a library needs it)"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1443664632, "post_id": 32877260, "comment_id": 53587526, "body": "cmd would need to be elevated to have <code>mklink</code> create a symbolic link, but not a junction -- e.g. <code>subprocess.call(&#39;mklink &#47;J &quot;%s&quot; &quot;%s&quot;&#39; % (link, target), shell=True)</code>."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1443665317, "post_id": 32877260, "comment_id": 53587664, "body": "it works!! thanks!!! plz write it as an answer so i can accept"}], "answers": [{"tags": [], "owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "is_accepted": true, "score": 12, "last_activity_date": 1476645296, "last_edit_date": 1476645296, "creation_date": 1443667815, "answer_id": 32878688, "question_id": 32877260, "link": "https://stackoverflow.com/questions/32877260/privlege-error-trying-to-create-symlink-using-python-on-windows-10/32878688#32878688", "title": "Privlege error trying to create symlink using python on windows 10", "body": "<p>If UAC is enabled and your user is an administrator, then the Local Security Authority (LSA, hosted in lsass.exe) logs your user on with a restricted access token. For this token, the <code>BUILTIN\\Administrators</code> group is used only for denying access; the integrity-level label is medium instead of high; and the privileges typically granted to an administrator have been filtered out.</p>\n\n<p>To create a symbolic link, you need to create the process using your unrestricted/elevated access token (i.e. elevated from medium to high integrity level). Do this by right-clicking and selecting \"Run as administrator\". This elevated token will be inherited by child processes, so it suffices to run your Python script from an elevated command prompt, which you can open via the keyboard shortcut <kbd>Win+X</kbd> <kbd>A</kbd>. You can verify that the cmd shell is elevated by running <code>whoami /priv</code> and checking for the presence of <code>SeCreateSymbolicLinkPrivilege</code>. Don't be alarmed if the state is disabled. The Windows <a href=\"https://msdn.microsoft.com/en-us/library/aa363866\" rel=\"noreferrer\"><code>CreateSymbolicLink</code></a> function automatically enables this privilege.</p>\n\n<p>That said, since you're creating a <em>directory</em> symbolic link, then perhaps a junction will work just as well. No special privilege is required to create a junction. You can create a junction using cmd's <code>mklink</code> command. For example:</p>\n\n<pre><code>subprocess.check_call('mklink /J \"%s\" \"%s\"' % (link, target), shell=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2597962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25cBt.jpg?s=128&g=1", "display_name": "Lazy Cushion", "link": "https://stackoverflow.com/users/2597962/lazy-cushion"}, "is_accepted": false, "score": 1, "last_activity_date": 1609317952, "creation_date": 1609317952, "answer_id": 65504258, "question_id": 32877260, "link": "https://stackoverflow.com/questions/32877260/privlege-error-trying-to-create-symlink-using-python-on-windows-10/65504258#65504258", "title": "Privlege error trying to create symlink using python on windows 10", "body": "<p><a href=\"https://www.scivision.dev/windows-symbolic-link-permission-enable/\" rel=\"nofollow noreferrer\">https://www.scivision.dev/windows-symbolic-link-permission-enable/</a></p>\n<ol>\n<li><p>Open gpedit.msc</p>\n</li>\n<li><p>Computer Configuration \u2192 Windows Settings \u2192 Security Settings \u2192 Local Policies \u2192 User Rights Assignment \u2192 Create symbolic links</p>\n<p>Type the user name and click \u201cCheck Names\u201d then OK.</p>\n</li>\n<li><p>Reboot the computer</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10486, "favorite_count": 1, "accepted_answer_id": 32878688, "answer_count": 2, "score": 7, "last_activity_date": 1609317952, "creation_date": 1443656373, "question_id": 32877260, "link": "https://stackoverflow.com/questions/32877260/privlege-error-trying-to-create-symlink-using-python-on-windows-10", "title": "Privlege error trying to create symlink using python on windows 10", "body": "<p>I am attempting to create a symlink using python on windows 10 (home version) with the foll. code:</p>\n\n<pre><code>import ctypes\n\nkdll = ctypes.windll.LoadLibrary(\"kernel32.dll\")\nkdll.CreateSymbolicLinkW(src_dir, dst_dir, 1)\n</code></pre>\n\n<p>but I get the foll. error:</p>\n\n<pre><code>*** error: (1314, 'CreateSymbolicLink', 'A required privilege is not held by the client.')\n</code></pre>\n\n<p>How to fix this?</p>\n"}, {"tags": ["python", "string", "ascii"], "comments": [{"owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "edited": false, "score": 4, "creation_date": 1443656082, "post_id": 32877185, "comment_id": 53585625, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/196345/how-to-check-if-a-string-in-python-is-in-ascii\">How to check if a string in Python is in ASCII?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 2, "last_activity_date": 1443657945, "last_edit_date": 1443657945, "creation_date": 1443656860, "answer_id": 32877331, "question_id": 32877185, "link": "https://stackoverflow.com/questions/32877185/identify-string-ascii-status-in-a-if-else-loop-with-python/32877331#32877331", "title": "Identify string ascii status in a if/else loop with Python", "body": "<p>You can attempt to encode the string and use a try/except to detect those that contain non-ascii characters. Something like this might work for you:</p>\n\n<pre><code>ascii_strings = []\nnon_ascii_strings = []\nfor s in sequence_of_strings:\n    try:\n        if isinstance(s, bytes):    # handle Python 3 byte strings\n            _ = s.decode('ascii')\n        else:\n            _ = s.encode('ascii')\n        ascii_strings.append(s)\n    except UnicodeError:\n        non_ascii_strings.append(s)\n</code></pre>\n\n<p>That's the general idea and it should work in Python 2 and 3.</p>\n"}], "owner": {"reputation": 159, "user_id": 4653571, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10153148228455419/picture?type=large", "display_name": "Renier Delport", "link": "https://stackoverflow.com/users/4653571/renier-delport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 32877331, "answer_count": 1, "score": 0, "last_activity_date": 1443657945, "creation_date": 1443655960, "question_id": 32877185, "link": "https://stackoverflow.com/questions/32877185/identify-string-ascii-status-in-a-if-else-loop-with-python", "title": "Identify string ascii status in a if/else loop with Python", "body": "<p>I might be asking this wrong, but please help if I am. I need to establish whether a string contains non-ascii characters in order to separate them from the ones that is purely ascii.</p>\n\n<p>I gather a string from multiple separate files and need to remove the non-ascii containing ones so that I can place the strings in a list to be used further. Without any filtering I get the following error while extracting the strings:</p>\n\n<p><code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\xeb' in position 40: ordinal not in range(128)</code></p>\n\n<p>I would like to achieve the following:</p>\n\n<p>Read string\n<br>if string contains non-ascii\n<br>->add to list\n<br>else\n<br>->do not add to list.</p>\n\n<p>All I need to do is determine the how to filter, I have the rest of the code in tact.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "is_accepted": true, "score": 2, "last_activity_date": 1443656011, "creation_date": 1443656011, "answer_id": 32877202, "question_id": 32877168, "link": "https://stackoverflow.com/questions/32877168/changing-a-numpy-array-in-place-based-on-values-in-a-given-column/32877202#32877202", "title": "Changing a numpy array in place based on values in a given column?", "body": "<p>You can avoid the for loop by doing:</p>\n\n<pre><code>data[data[:, -1] == -1] *= -1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65072, "user_id": 66549, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/auGP2.png?s=128&g=1", "display_name": "doug", "link": "https://stackoverflow.com/users/66549/doug"}, "reply_to_user": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 1, "creation_date": 1443675792, "post_id": 32877254, "comment_id": 53590199, "body": "yep--looks like you posted yours while i was still writing mine, which is consistent with the time diff (~ 3 minutes apart, and in those 3 min i split my answer into two lines and added some comments to make it easier to understand)"}], "tags": [], "owner": {"reputation": 65072, "user_id": 66549, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/auGP2.png?s=128&g=1", "display_name": "doug", "link": "https://stackoverflow.com/users/66549/doug"}, "is_accepted": false, "score": 1, "last_activity_date": 1443656331, "last_edit_date": 1443656331, "creation_date": 1443656299, "answer_id": 32877254, "question_id": 32877168, "link": "https://stackoverflow.com/questions/32877168/changing-a-numpy-array-in-place-based-on-values-in-a-given-column/32877254#32877254", "title": "Changing a numpy array in place based on values in a given column?", "body": "<p>i prefer to do this in two steps for two reasons: (i) easier to understand the code; and (ii) often the boolean index created in the first step can be reused elsewhere in the data pipeline</p>\n\n<p>create the Boolean index that selects the rows:</p>\n\n<pre><code>idx = M[:,-1] == -1\n</code></pre>\n\n<p>do the transform on the indexed data:</p>\n\n<pre><code>M[idx,] *= -1\n</code></pre>\n"}], "owner": {"reputation": 5196, "user_id": 1461896, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/cq0HM.jpg?s=128&g=1", "display_name": "Animesh Pandey", "link": "https://stackoverflow.com/users/1461896/animesh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 32877202, "answer_count": 2, "score": 1, "last_activity_date": 1443675464, "creation_date": 1443655856, "last_edit_date": 1443675464, "question_id": 32877168, "link": "https://stackoverflow.com/questions/32877168/changing-a-numpy-array-in-place-based-on-values-in-a-given-column", "title": "Changing a numpy array in place based on values in a given column?", "body": "<p>I have a numpy array:</p>\n\n<pre><code>array([[ 0.68597575,  0.05544651, -1.        ],\n       [ 0.33494648,  0.46368367,  1.        ],\n       [ 0.42486765,  0.89427025,  1.        ],\n       [ 0.62408611,  0.64633939,  1.        ],\n       [ 0.37087957,  0.53077302, -1.        ],\n       [ 0.21664159,  0.10786084, -1.        ],\n       [ 0.13003626,  0.18425347, -1.        ]])\n</code></pre>\n\n<p>I want the rows having last values <code>-1</code> to be multiplied by -1 and also replaced in the actual matrix.</p>\n\n<p>I tried this:</p>\n\n<pre><code>def transform(data):\n    for row in data:\n        if row[-1] == -1:\n            row = row * -1\n</code></pre>\n\n<p>but I know there would be something simpler than this.</p>\n"}, {"tags": ["python", "macos", "osx-yosemite", "anaconda"], "owner": {"reputation": 115, "user_id": 5389170, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0c2df956fdd1b0e14f1e2a07133e0cb2?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/5389170/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 626, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1443655466, "creation_date": 1443655466, "last_edit_date": 1495541254, "question_id": 32877103, "link": "https://stackoverflow.com/questions/32877103/incompatible-version-of-library-libxml2-2-dylib-in-python-osx-10-10-5", "title": "Incompatible version of library libxml2.2.dylib in python OSX 10.10.5", "body": "<p>I am trying to use the <code>louvain</code> python library after it was successfully installed. However, when I tried to load it, the interpreter says</p>\n\n<pre><code>&gt;&gt;&gt; import louvain\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/user/anaconda/lib/python2.7/site-packages/louvain/__init__.py\", line 108, in &lt;module&gt;\n    from .functions import find_partition\n  File \"/Users/user/anaconda/lib/python2.7/site-packages/louvain/functions.py\", line 2, in &lt;module&gt;\n    from . import _c_louvain\nImportError: dlopen(/Users/user/anaconda/lib/python2.7/site-packages/louvain/_c_louvain.so, 2): Library not loaded: libxml2.2.dylib\n  Referenced from: /Users/user/anaconda/lib/python2.7/site-packages/louvain/_c_louvain.so\n  Reason: Incompatible library version: _c_louvain.so requires version 12.0.0 or later, but libxml2.2.dylib provides version 10.0.0\n</code></pre>\n\n<p>I have found a similar thread in this issue <a href=\"https://stackoverflow.com/questions/23172384/lxml-runtime-error-reason-incompatible-library-version-etree-so-requires-vers\">lxlm run time error</a>. However, when I tied the proposed solution (i.e., force to install libxml2) <code>conda install -f libxml2</code> it install it but I cannot load the louvain library. Basically, it generates the same error. I have the <code>Python 2.7.10 |Anaconda 2.1.0 (x86_64)| (default, Sep 15 2015, 14:29:08)</code> version. Do you have any suggestion? Thanks in advance.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1443656078, "creation_date": 1443656078, "answer_id": 32877216, "question_id": 32877099, "link": "https://stackoverflow.com/questions/32877099/short-form-to-return-method-result-if-condition-passed/32877216#32877216", "title": "Short form to return method result if condition passed", "body": "<p>That depends a lot on what <code>check_conditions</code> does under the hood. It's likely that you can move error handling down a level of abstraction and handle things directly:</p>\n\n<p>Compare:</p>\n\n<pre><code>error = False\n\ndef foo(request):\n    global error\n    try:\n        result = do_something_with(request)\n    except SomeWellDefinedError:\n        error = True\n\ndef check_conditions(request):\n    foo(request)\n    return error\n\ndef main():\n    error_response = check_conditions(some_request)\n    if error_response:\n        # freak out!\n</code></pre>\n\n<p>With</p>\n\n<pre><code>def foo(request):\n    try:\n        result = do_something_with(request)\n    except SomeWellDefinedError:\n        # you can try to handle the error here, or...\n        raise  # uh oh!\n\ndef main():\n    try:\n        foo(some_request)\n    except SomeWellDefinedError:\n        # handle the error here, instead!\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4568, "user_id": 698289, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb72959564830a0a5807c947b5e91633?s=128&d=identicon&r=PG", "display_name": "DanH", "link": "https://stackoverflow.com/users/698289/danh"}, "edited": false, "score": 0, "creation_date": 1443656340, "post_id": 32877227, "comment_id": 53585689, "body": "Yeah I guess this is what I was expecting, just hoping there was a gap in my knowledge. It seems like a very common structure so I had a glimmer of hope :) Using Exceptions here make sense too of course."}, {"owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "reply_to_user": {"reputation": 4568, "user_id": 698289, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb72959564830a0a5807c947b5e91633?s=128&d=identicon&r=PG", "display_name": "DanH", "link": "https://stackoverflow.com/users/698289/danh"}, "edited": false, "score": 0, "creation_date": 1443656711, "post_id": 32877227, "comment_id": 53585788, "body": "I once wondered about that too :) At least you can collapse the if-return blocks into one line: <code>if error_response: return error_response</code>. I think one of the main reasons it doesn&#39;t exist is that nobody could think of a syntax for this case yet that looks good, doesn&#39;t introduce new keywords and doesn&#39;t violate too much of the <a href=\"https://www.python.org/dev/peps/pep-0020/\" rel=\"nofollow noreferrer\">Zen of Python</a>."}], "tags": [], "owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "is_accepted": true, "score": 1, "last_activity_date": 1443656179, "creation_date": 1443656179, "answer_id": 32877227, "question_id": 32877099, "link": "https://stackoverflow.com/questions/32877099/short-form-to-return-method-result-if-condition-passed/32877227#32877227", "title": "Short form to return method result if condition passed", "body": "<p>No, there is no short form for a conditional <code>return</code>.</p>\n\n<p>But, to get to the second part of your question:</p>\n\n<p>There are exceptions in Python. You can write something like this:</p>\n\n<pre><code>class MyErrorResponse(Exception): pass\n\nclass MyClass:\n    ...\n    def check_conditions(self, request):\n        error_response = do_stuff()\n        if error_response:\n            raise MyErrorResponse(error_response)\n\n    def do_the_main_stuff():\n        try:\n            self.check_conditions()\n            ...\n        except MyErrorResponse as e:\n            return e.args[0]\n</code></pre>\n"}], "owner": {"reputation": 4568, "user_id": 698289, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb72959564830a0a5807c947b5e91633?s=128&d=identicon&r=PG", "display_name": "DanH", "link": "https://stackoverflow.com/users/698289/danh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32877227, "answer_count": 2, "score": 1, "last_activity_date": 1443656179, "creation_date": 1443655449, "question_id": 32877099, "link": "https://stackoverflow.com/questions/32877099/short-form-to-return-method-result-if-condition-passed", "title": "Short form to return method result if condition passed", "body": "<p>I'm wondering if there's any pythonic or short-form method to achieve the following:</p>\n\n<pre><code>    error_response = self.check_conditions(request)\n    # If we have an error response, return it, otherwise continue as normal.\n    if error_response:\n        return error_response\n</code></pre>\n\n<p>Something like:</p>\n\n<pre><code>(return self.check_conditions(request)) or pass\n</code></pre>\n\n<p>Alternatively, is it possible for a function to return the calling method, such as:</p>\n\n<pre><code>self.check_conditions(request)\n\ndef check_conditions(self, request):\n    error_response = do_stuff()\n    if error_response:\n        return_parent error_response\n</code></pre>\n\n<p>I get the feeling the second concept is breaking a ton of programming laws to prevent chaos and the apocalypse, just a thought though :)</p>\n"}, {"tags": ["python", "python-2.7", "python-import"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1443655606, "post_id": 32876962, "comment_id": 53585491, "body": "This is especially confusing considering stdlib modules like <code>os</code> automatically pull their submodules (<code>os.path</code>) into their namespace. It&#39;s not obvious that this is the case!"}], "answers": [{"tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 14, "last_activity_date": 1443655029, "creation_date": 1443655029, "answer_id": 32877038, "question_id": 32876962, "link": "https://stackoverflow.com/questions/32876962/python-module-import-why-are-components-only-available-when-explicitly-importe/32877038#32877038", "title": "Python module import - why are components only available when explicitly imported?", "body": "<p>Quick answer: IO is a submodule. Submodules need to be imported from the parent module explicitly.</p>\n\n<p>Long answer: From section 5.4.2 of the python docs:</p>\n\n<p>When a submodule is loaded using any mechanism (e.g. importlib APIs, the import or import-from statements, or built-in <strong>import</strong>()) a binding is placed in the parent module\u2019s namespace to the submodule object. For example, if package spam has a submodule foo, after importing spam.foo, spam will have an attribute foo which is bound to the submodule. Let\u2019s say you have the following directory structure:</p>\n\n<pre><code>spam/\n    __init__.py\n    foo.py\n    bar.py\n</code></pre>\n\n<p>and spam/<strong>init</strong>.py has the following lines in it:</p>\n\n<pre><code>from .foo import Foo\nfrom .bar import Bar\n</code></pre>\n\n<p>then executing the following puts a name binding to foo and bar in the spam module:</p>\n\n<pre><code>&gt;&gt;&gt;\n&gt;&gt;&gt; import spam\n&gt;&gt;&gt; spam.foo\n&lt;module 'spam.foo' from '/tmp/imports/spam/foo.py'&gt;\n&gt;&gt;&gt; spam.bar\n&lt;module 'spam.bar' from '/tmp/imports/spam/bar.py'&gt;\n</code></pre>\n\n<p>Given Python\u2019s familiar name binding rules this might seem surprising, but it\u2019s actually a fundamental feature of the import system. The invariant holding is that if you have sys.modules['spam'] and sys.modules['spam.foo'] (as you would after the above import), the latter must appear as the foo attribute of the former.</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 10408244, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izsaYlkofwM/AAAAAAAAAAI/AAAAAAAAAA8/p6Il3_L7-0A/photo.jpg?sz=128", "display_name": "samra irshad", "link": "https://stackoverflow.com/users/10408244/samra-irshad"}, "edited": false, "score": 0, "creation_date": 1596618789, "post_id": 32877039, "comment_id": 111866581, "body": "It&#39;s a bit confusing. I have been using import skimage and then skimage.io.imread for the past two weeks and all of a sudden today it showed error &#39;AttributeError: ....has no attribute io&#39;. I understand why it&#39;s more efficient to import submodule explicitly but stop working suddenly doesn&#39;t make much sense. My guess is I installed some package using pip yesterday which has conflicted with the previously installed version of skimage and now it started showing errors."}], "tags": [], "owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "is_accepted": false, "score": 11, "last_activity_date": 1443655047, "creation_date": 1443655047, "answer_id": 32877039, "question_id": 32876962, "link": "https://stackoverflow.com/questions/32876962/python-module-import-why-are-components-only-available-when-explicitly-importe/32877039#32877039", "title": "Python module import - why are components only available when explicitly imported?", "body": "<p>It's simply the way Python handles modules.</p>\n\n<p>One reason is that it would make importing one module very slow if cpython needed to scan for submodules, import all of them and then import all of their submodules.</p>\n\n<p>The other reason is \"better be explicit than implicit\". Why should Python import everything possible when you only need a small fraction of a package with a complex module hierarchy.</p>\n\n<p>Instead of <code>from skimage import io</code> you can also write</p>\n\n<pre><code>import skimage.io\n</code></pre>\n\n<p>then skimage.io.imread will be found.</p>\n"}], "owner": {"reputation": 1246, "user_id": 1749629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vydft.jpg?s=128&g=1", "display_name": "jmsinusa", "link": "https://stackoverflow.com/users/1749629/jmsinusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19863, "favorite_count": 3, "accepted_answer_id": 32877038, "answer_count": 2, "score": 21, "last_activity_date": 1443655047, "creation_date": 1443654511, "question_id": 32876962, "link": "https://stackoverflow.com/questions/32876962/python-module-import-why-are-components-only-available-when-explicitly-importe", "title": "Python module import - why are components only available when explicitly imported?", "body": "<p>I have recently installed scikit-image version 0.11.3. I am using python 2.7.10. When I import the entire module I cannot access the io module.</p>\n\n<pre><code>import skimage\nimg = skimage.io.imread(path_)\n</code></pre>\n\n<p>Gives error:</p>\n\n<pre><code>AttributeError: 'module' object has no attribute 'io'\n</code></pre>\n\n<p>However the following does not error.</p>\n\n<pre><code>from skimage import io\nimg = io.imread(path_)\n</code></pre>\n\n<p>Question: Why?</p>\n"}, {"tags": ["python", "hadoop", "cron", "subprocess"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1443774269, "post_id": 32876888, "comment_id": 53634904, "body": "<code>$PATH</code> may be different in <code>cron</code> environment."}, {"owner": {"reputation": 1, "user_id": 5395175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4018f87766552ad49b17db70f687f921?s=128&d=identicon&r=PG&f=1", "display_name": "user5395175", "link": "https://stackoverflow.com/users/5395175/user5395175"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1443871726, "post_id": 32876888, "comment_id": 53670836, "body": "Thanks, the issue seemed to be that I was setting the $PATH to Anaconda in my crontab in order to make my Python scripts work. I ended up creating a bash script for each Python script that just included the Path statement and executed the Python script, then I set my crontab to run the bash scripts and it worked. I&#39;m still wondering if there is a better way to do this though."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1443875912, "post_id": 32876888, "comment_id": 53671997, "body": "Why can&#39;t you specify PATH in crontab itself?"}], "owner": {"reputation": 1, "user_id": 5395175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4018f87766552ad49b17db70f687f921?s=128&d=identicon&r=PG&f=1", "display_name": "user5395175", "link": "https://stackoverflow.com/users/5395175/user5395175"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443654041, "creation_date": 1443654041, "question_id": 32876888, "link": "https://stackoverflow.com/questions/32876888/error-moving-file-to-hdfs-with-popen-in-a-python-script-when-running-as-a-cron-j", "title": "Error moving file to HDFS with Popen in a Python script when running as a cron job", "body": "<p>I have a Python script that moves a file from a server to HDFS using the following command:</p>\n\n<pre><code>from subprocess import Popen\n.\n.\nfilename = \"/home/user123/test.csv\"\nput = Popen([\"hadoop\", \"fs\", \"-put\", filename, \"/data/test\"])  \n</code></pre>\n\n<p>The script works perfectly when I run it on the server, but when I run it as a cron job it fails with the following message:</p>\n\n<pre><code>OSError: [Errno2] no such file or directory\n.\n.\n  File \"/opt/anaconda/lib/python2.7/subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"/opt/anaconda/lib/python2.7/subprocess.py, line 1335, in _execute_child \n    raise child_exception\n</code></pre>\n\n<p>I tried replacing \"hadoop\" with \"/usr/bin/hadoop\" but I still get a \"No such file or directory\" error. I assume this is an environment variables issue but is there a way to get around it?</p>\n"}, {"tags": ["python", "pdf", "pypdf"], "answers": [{"tags": [], "owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "is_accepted": false, "score": 2, "last_activity_date": 1589292556, "last_edit_date": 1589292556, "creation_date": 1443672983, "answer_id": 32879360, "question_id": 32876854, "link": "https://stackoverflow.com/questions/32876854/pypdf-extracting-info-from-indirectobject/32879360#32879360", "title": "pyPdf extracting info from IndirectObject", "body": "<p>I don't really know pyPdf that well, but <a href=\"https://github.com/pmaupin/pdfrw/\" rel=\"nofollow noreferrer\">pdfrw</a> has some similar functionality, and (IMHO -- I'm the author) a somewhat more simplistic interface.  pdfrw maps structures in PDF files into Python structures.  Here is an example session:</p>\n\n<pre><code>&gt;&gt;&gt; from pdfrw import PdfReader\n&gt;&gt;&gt; x = PdfReader('some_random.pdf')\n</code></pre>\n\n<p>What is <code>x</code>?  It's the trailer dictionary of the PDF file, which is mapped into a (subclassed) Python dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; list(x)\n['/Size', '/Info', '/Root']\n</code></pre>\n\n<p>To access items in this dictionary, you could use dictionary-style lookup, but since all the standard Adobe names start with a slash and a letter, pdfrw supports attribute lookups as well for convenience.  It's basically dictionaries and lists all the way down.  Info is just another dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; x.Info\n{'/ModDate': '(D:20130802052610)',\n '/Producer': '(ImageMagick 6.6.0-1 2010-03-04 Q8 http://www.imagemagick.org)',\n '/Title': '(US4441207.pdf)',\n '/CreationDate': '(D:20130802052610)'}\n</code></pre>\n\n<p>So you can pull out the Producer the same way:</p>\n\n<pre><code>&gt;&gt;&gt; x.Info.Producer\n'(ImageMagick 6.6.0-1 2010-03-04 Q8 http://www.imagemagick.org)'\n</code></pre>\n\n<p>The Producer's value is a PDF string -- that's what the parentheses are about.  You can strip them with the <code>decode()</code> method:</p>\n\n<pre><code>&gt;&gt;&gt; x.Info.Producer.decode()\n'ImageMagick 6.6.0-1 2010-03-04 Q8 http://www.imagemagick.org'\n</code></pre>\n\n<p>Likewise with the CreationDate:</p>\n\n<pre><code>&gt;&gt;&gt; x.Info.CreationDate.decode()\n'D:20130802052610'\n</code></pre>\n\n<p>The pdfrw documentation isn't really great, but there are a lot of examples on github and a few here on SO.</p>\n"}], "owner": {"reputation": 281, "user_id": 4505419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eb02997a064fdb66404492b918d2d7b?s=128&d=identicon&r=PG&f=1", "display_name": "user4505419", "link": "https://stackoverflow.com/users/4505419/user4505419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1932, "favorite_count": 0, "closed_date": 1444086159, "answer_count": 1, "score": 0, "last_activity_date": 1589292556, "creation_date": 1443653784, "question_id": 32876854, "link": "https://stackoverflow.com/questions/32876854/pypdf-extracting-info-from-indirectobject", "closed_reason": "Duplicate", "title": "pyPdf extracting info from IndirectObject", "body": "<p>I am writing a script that will read the creation and modified dates of pdf files. I am using pyPdf package in Python</p>\n\n<p>I have the following code</p>\n\n<pre><code>from pyPdf import PdfFileWriter, PdfFileReader\n\ninput1 = PdfFileReader(file('myfile','rb'))\n\ninput1.input1.getDocumentInfo()\n</code></pre>\n\n<p>this code returns</p>\n\n<pre><code>{'/Producer': IndirectObject(185, 0), '/CreationDate': IndirectObject(186, 0), '/ModDate': IndirectObject(186, 0)}\n</code></pre>\n\n<p>I am not sure how to extract the information from these IndirectObject, any help would be appreciated!</p>\n"}, {"tags": ["python", "recursion", "tail-recursion"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443653462, "post_id": 32876774, "comment_id": 53584919, "body": "have you tried something already?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443653495, "post_id": 32876774, "comment_id": 53584933, "body": "What is the point of the restrictions? Is this a curiosity or an academic assignment?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 2, "creation_date": 1443653557, "post_id": 32876774, "comment_id": 53584952, "body": "@Rob\u1d69 you can always tell it&#39;s an academic assignment when a user asks a question using all the most detailed terminology (&quot;recursive call or inductive steps for a function that returns the number of integers...&quot; instead of &quot;I need a recursive function that returns how many numbers...)"}, {"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443689071, "post_id": 32876774, "comment_id": 53596526, "body": "I&#39;m working on a series of postulates re. analytic number theory. Not seeking an efficient code. This instruction is to simply implement aliquot sum, exactly how the postulate states:num_of_divisor(12) = 1^0 + 2^0 + 3^0 + 4^0 + 6^0 + 12^0, which translates into: = 1 + 1 + 1 + 1 + 1 + 1 = 6. It may sound stupid, and I know that. And I also accept critics, but at this point I&#39;m obssessed to find it..."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1443715246, "post_id": 32876774, "comment_id": 53613562, "body": "1) fully factor the number (this can be, but need not be, recursive), 2) calculate all possible combinations of the prime factors (could also be recursive), 3) eliminate duplicates if necessary. Alternatively, just iterate from 1 to N, testing for divisibility with the modulo operator. The first approach will be better for very large numbers, but where the cut-off is depends on the specific implementation..."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1443653699, "post_id": 32876830, "comment_id": 53585004, "body": "except it uses loops ... so it violates the terms :) but yes"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443654152, "post_id": 32876830, "comment_id": 53585132, "body": "@JoranBeasley I actually missed that. That&#39;s ridiculous. Anyway, updated so it fits the spirit of the assignment."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443654448, "post_id": 32876830, "comment_id": 53585208, "body": "i really hope he does what we assume people do with these answers alot of times (ie they dont use them to learn :P)"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443654544, "post_id": 32876830, "comment_id": 53585230, "body": "@JoranBeasley honestly it&#39;s impossible to learn from an assignment like this. You&#39;d never ever ever ever ever ever ever EVER write a solution to this without using loops. It&#39;s ridiculous to request it. This kind of work is great for in-class brain teasers right after teaching loops and before introducing recursion."}, {"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443689212, "post_id": 32876830, "comment_id": 53596621, "body": "No doubts! Great code and I can do that one, just like it! However, this is part of my studies on theory of computer science, related to  analytic number theory. Not seeking an efficient code. This instruction is to simply implement aliquot sum, exactly how the postulate states:num_of_divisor(12) = 1^0 + 2^0 + 3^0 + 4^0 + 6^0 + 12^0, which translates into: = 1 + 1 + 1 + 1 + 1 + 1 = 6. It may sound stupid, and I know that. And I also accept critics, but at this point I&#39;m obssessed to find it... Thanks!"}, {"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443691048, "post_id": 32876830, "comment_id": 53597839, "body": "...and btw. I agree. It&#39;s a ridiculous proposition. But come on, this is pure mathematics, and simple one! It&#39;s just a matter of implementing an equation! I got short on my python &quot;grammar&quot;, but if recursion allowed evolution to accomplish what it has, we can do this!"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1443654055, "last_edit_date": 1443654055, "creation_date": 1443653633, "answer_id": 32876830, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input/32876830#32876830", "title": "Python Pure recursion - Divisor - One input", "body": "<pre><code>def num_of_divisors(n):\n    return sum(1 if n % i==0 else 0 for i in range(((n+1)**0.5)//1)\n</code></pre>\n\n<p>Good luck explaining it to your teacher!</p>\n\n<p>If you really can't use <code>for</code> loops (?????????) then this is impossible without simulating one.</p>\n\n<pre><code>def stupid_num_of_divisors_assigned_by_shortsighted_teacher(n, loop_num=1):\n    \"\"\"I had to copy this from Stack Overflow because it's such an\n    inane restriction it's actually harmful to learning the language\n    \"\"\"\n\n    if loop_num &lt;= (n+1) ** 0.5:\n        if n % loop_num == 0:\n            return 2 + \\\n                stupid_num_of_divisors_assigned_by_shortsighted_teacher(n, loop_num+1)\n        else:\n            return stupid_num_of_divisors_assigned_by_shortsighted_teacher(n, loop_num+1)\n    else:\n        if n % loop_num == 0:\n            return 1\n</code></pre>\n\n<p>Bonus points: explain why you're adding <code>2</code> in the first conditional, but only <code>1</code> in the second conditional!</p>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1443654314, "post_id": 32876905, "comment_id": 53585170, "body": "Oh you can do better than that! Checking all t in (n+1)/2 is sufficient"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1443654361, "post_id": 32876905, "comment_id": 53585189, "body": "oh i know ... but meh I had that originally ... but then i figured i would leave him at least something to improve upon if he took it upon himself (plus i didnt have to make a special case to add the number its self :P)"}, {"owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "edited": false, "score": 0, "creation_date": 1443654645, "post_id": 32876905, "comment_id": 53585258, "body": "yes, it&#39;s hard to hold back yourself, even if you know it&#39;s someone elses assignment. It was hard for me when i wrote my solution too :-)"}, {"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443689736, "post_id": 32876905, "comment_id": 53596978, "body": "No doubts! Great code! i havent&#39; thought anything like that except more than one input. Breach!! num_of_divisor(N) takes ONLY one input. Check the postulate above...Thanks!"}, {"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443722296, "post_id": 32876905, "comment_id": 53617215, "body": "This is how the grader has told me it&#39;s incorrect:Traceback (most recent call last):  File &quot;test_file.py&quot;, line 12, in testNumDivisors2     self.assertEqual(hw.numDivisors(2), 2) AssertionError: 1 != 2 ...I believe global is a module! Arghhh!!!"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443726047, "post_id": 32876905, "comment_id": 53619134, "body": "no its telling you it expects 1 and got 2 or it expected 2 and got 1... apparently it only expects one divisor for 2(but this code is correctly printing 2, instead of the expected 1) .... not sure how since every number by definition is divisble by itself and 1 ... how are you planning on actually passing this class? this is probably one of the very first assignments?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1443712715, "last_edit_date": 1443712715, "creation_date": 1443654152, "answer_id": 32876905, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input/32876905#32876905", "title": "Python Pure recursion - Divisor - One input", "body": "<pre><code>def n_divisors(n,t=1):\n    return (not n%t)+(n_divisors(n,t+1) if t &lt; n else 0)\n</code></pre>\n\n<p>good luck on the test later ... better hit those books for real, go to class and take notes...</p>\n\n<p>with just one input i guess</p>\n\n<pre><code>t=0\ndef n_divisors(n):\n    global t\n    t += 1\n    return (not n%t)+(n_divisors(n) if t &lt; n else 0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443689305, "post_id": 32876915, "comment_id": 53596691, "body": "Two inputs. (n, k). The only input is N - or (n). This instruction is to simply implement aliquot sum, exactly how the postulate states:num_of_divisor(12) = 1^0 + 2^0 + 3^0 + 4^0 + 6^0 + 12^0, which translates into: = 1 + 1 + 1 + 1 + 1 + 1 = 6.  Thanks!"}], "tags": [], "owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "is_accepted": false, "score": 1, "last_activity_date": 1443654207, "creation_date": 1443654207, "answer_id": 32876915, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input/32876915#32876915", "title": "Python Pure recursion - Divisor - One input", "body": "<p>Here you go buddy your teacher'll be happy.</p>\n\n<pre><code>def _num_of_divisors(n, k):\n    if (k == 0):\n        return 0\n    return _num_of_divisors(n, k-1) + (n % k == 0)\n\n\ndef num_of_divisors(n):\n    return _num_of_divisors(n, n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443690688, "post_id": 32876927, "comment_id": 53597631, "body": "Not everything is about efficiency. &quot;Nature is a tinkerer not an inventor&quot; Recursion in its pure form is not only the foundations of computer science, it is part of every single evolutionary step. Mathematics is just the language we can communicate with nature, and I&#39;m proposing to implement this postulate into a piece of code: Function(N)= 1^0 + 2^0 + 3^0 + 4^0 + 6^0 + 12^0 =&gt; How can I add the expoents? Instead of leaving them out of the recursive step as an integer, they have to be able to add squareroots, so = 1 + 1 + 1 + 1 + 1 + 1 = 6"}, {"owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "reply_to_user": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443720157, "post_id": 32876927, "comment_id": 53616093, "body": "@HandyFrank I mainly wrote that it&#39;s inefficient to hint that optimizations like stopping at (n+1)/2 are possible without saying too much."}], "tags": [], "owner": {"reputation": 1604, "user_id": 1941973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5ad3acd2e7f78da8fd86dc0164300?s=128&d=identicon&r=PG", "display_name": "cg909", "link": "https://stackoverflow.com/users/1941973/cg909"}, "is_accepted": false, "score": 0, "last_activity_date": 1443654264, "creation_date": 1443654264, "answer_id": 32876927, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input/32876927#32876927", "title": "Python Pure recursion - Divisor - One input", "body": "<p>It's easier than you think to convert such a simple problem from a loop to a recursive function.</p>\n\n<p>Start with a loop implementation:</p>\n\n<pre><code>n = 42\nresult = []\nfor i in range(n+1):\n  if n % i == 0:\n     result.append(i)\n</code></pre>\n\n<p>then write a function</p>\n\n<pre><code>def num_of_divisors_helper(i, n, result):\n   if &lt;condition when a number should be added to result&gt;:\n       result.append(n)\n   # Termination condition\n   if &lt;when should it stop&gt;:\n       return\n   # Recursion\n   num_of_divisors_helper(i+1, n, result)\n</code></pre>\n\n<p>Then you define a wrapper function <code>num_of_divisors</code> that calls <code>num_of_divisors_helper</code>. You should be able to fill the gaps in the recursive function and write the wrapper function yourself.</p>\n\n<p>It's a simple, inefficient solution, but it matches your terms.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "edited": false, "score": 0, "creation_date": 1443689512, "post_id": 32877199, "comment_id": 53596831, "body": "I have tried that one also! I was rejected rejected! No i=1. Only one input (N) - or (n). Defining two functions characterizes module: rejected - I&#39;ve tried that one too! No doubts! Great code and I can do that one, just like it! However, this is part of my studies on theory of computer science, related to  analytic number theory. Not seeking an efficient code. This instruction is to simply implement aliquot sum, exactly how the postulate states:num_of_divisor(12) = 1^0 + 2^0 + 3^0 + 4^0 + 6^0 + 12^0, which translates into: = 1 + 1 + 1 + 1 + 1 + 1 = 6."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5388856"}, "is_accepted": false, "score": 0, "last_activity_date": 1443656426, "last_edit_date": 1443656426, "creation_date": 1443656008, "answer_id": 32877199, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input/32877199#32877199", "title": "Python Pure recursion - Divisor - One input", "body": "<p>Without using %    </p>\n\n<pre><code>def is_divisible(n, i, k):\n    if k &gt; n:\n        return False\n    if n - i*k == 0:\n        return True\n    else:\n        return is_divisible(n, i, k+1)\n\ndef num_of_divisors(n, i=1):\n    if i &gt; n/2:\n        return 1\n    if is_divisible(n, i, 1):\n        return 1 + num_of_divisors(n, i+1)\n    else:\n        return num_of_divisors(n, i+1)\n</code></pre>\n\n<p>num_of_divisors(42) -> 8</p>\n"}], "owner": {"reputation": 13, "user_id": 5386667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ZSQJ.png?s=128&g=1", "display_name": "HandyFrank", "link": "https://stackoverflow.com/users/5386667/handyfrank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "answer_count": 5, "score": -3, "last_activity_date": 1443712715, "creation_date": 1443653244, "question_id": 32876774, "link": "https://stackoverflow.com/questions/32876774/python-pure-recursion-divisor-one-input", "title": "Python Pure recursion - Divisor - One input", "body": "<p>What is the recursive call (or inductive steps) for a function that returns the number of integers from 1 to N, which evenly divide N. The idea is to concieve a pure recursive code in python for this function. No 'for' or 'while' loops, neither modules can be used. The function num_of_divisors(42) returns 8, representing 1, 2, 3, 6, 7, 14, 21, and 42 as divisors of 42.</p>\n"}, {"tags": ["python", "datetime"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443658615, "post_id": 32876753, "comment_id": 53586234, "body": "You might want to peruse the Python datetime documentation.  It&#39;s currently at <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/datetime.html</a>.  There are a lot of good manipulation methods there."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1443777083, "post_id": 32876753, "comment_id": 53636319, "body": "<a href=\"http://stackoverflow.com/a/25831416/4279\">&quot;julian day&quot; may mean different things in different cases</a>. What result do you expect for <code>00232</code> and <code>100232</code> ?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1443777228, "post_id": 32876753, "comment_id": 53636401, "body": "<a href=\"https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\">read the description of <code>%H</code>, <code>%M</code> time formats</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5229800, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9d8d9d928ba80ed67d38c00cdd4b02cc?s=128&d=identicon&r=PG&f=1", "display_name": "Rofiqoh Mumtahanah El Sera", "link": "https://stackoverflow.com/users/5229800/rofiqoh-mumtahanah-el-sera"}, "edited": false, "score": 0, "creation_date": 1443660464, "post_id": 32876896, "comment_id": 53586631, "body": "no, the time &#39;0239&#39; is julian day. oh i;m sorry i forget to show the piece of the code. i just send part of the date like this julday = &#39;15232&#39; and send it to funtion like this:datetimee = julday_to_masehi(julday). Of course it just return the date like &#39;20150820&#39;.i think  it&#39;s need to change the code of function file_date = datetime.strptime(file_date, &#39;%y%j&#39;), but i don&#39;t know how?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 19, "user_id": 5229800, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9d8d9d928ba80ed67d38c00cdd4b02cc?s=128&d=identicon&r=PG&f=1", "display_name": "Rofiqoh Mumtahanah El Sera", "link": "https://stackoverflow.com/users/5229800/rofiqoh-mumtahanah-el-sera"}, "edited": false, "score": 0, "creation_date": 1443660847, "post_id": 32876896, "comment_id": 53586706, "body": "Please add the missing code to your question; it&#39;s hard to read in this format.  Also, please describe how you know the time of day.  I thought that &quot;15008&quot; is supposed to be 2015, 08 Jan (8th day of the year).  You&#39;ll have to describe your inputs in detail if you want a proper solution."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1443654080, "creation_date": 1443654080, "answer_id": 32876896, "question_id": 32876753, "link": "https://stackoverflow.com/questions/32876753/how-to-convert-a-julian-day-to-a-datetime/32876896#32876896", "title": "How to convert a Julian day to a datetime?", "body": "<pre><code>date, time = jul_date_time.split('.')\nhour = int(time[:2])\nminute = int(time[2:])\n</code></pre>\n\n<p>You already showed you can handle the date; this lets you construct a Python time -- and datetime -- from the pieces of the input string.</p>\n\n<p>Is that what you need?</p>\n"}], "owner": {"reputation": 19, "user_id": 5229800, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9d8d9d928ba80ed67d38c00cdd4b02cc?s=128&d=identicon&r=PG&f=1", "display_name": "Rofiqoh Mumtahanah El Sera", "link": "https://stackoverflow.com/users/5229800/rofiqoh-mumtahanah-el-sera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 876, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544573958, "creation_date": 1443653133, "last_edit_date": 1544573958, "question_id": 32876753, "link": "https://stackoverflow.com/questions/32876753/how-to-convert-a-julian-day-to-a-datetime", "title": "How to convert a Julian day to a datetime?", "body": "<p>I want to get date and time format in python from Julian day. I have an hdf file <code>t1.15008.0239.mod07.hdf</code> and I have tried to convert Julian day <code>'15008'</code> to <code>datetime</code> like this:</p>\n\n<pre><code>def julday_to_masehi(julday):\n    file_date= julday\n    file_date = datetime.strptime(file_date, '%y%j')\n    file_date = file_date.strftime('%Y-%m-%d')\n    return file_date\n\njulday = '15232'\ndatetimee = julday_to_masehi(julday)\nprint(datetimee)\n</code></pre>\n\n<p>and the result is <code>2015-08-20</code>.</p>\n\n<p>But I also need the time. If I try <code>julday = '150080239'</code> and change\nthe to code to: <code>file_date = file_date.strftime('%Y-%m-%d %H:%M:%S')</code>, then\nI get an error.</p>\n\n<p>So how can I convert Julian day <code>'150080239'</code> into python\n<code>datetime</code> in format <code>'%Y-%m-%d %H:%M:%S'</code>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1443652675, "post_id": 32876641, "comment_id": 53584670, "body": "&quot;if talong_c == &quot;1&quot; and randomchoice(mylist) == &quot;1&quot;:&quot;  -&gt; punctation missing -&gt; random POINT choice(mylist). If it isn&#39;t working after changing: post the complete error message (with lines and co.)!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443653151, "post_id": 32876641, "comment_id": 53584802, "body": "Recursion is not a good looping strategy.  Instead, you should make a top-level &quot;while&quot; loop that continues so long as the input is &quot;yes&quot;.  Similarly, the &quot;input grabbers&quot; would be while loops that continue until they get valid input."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443712343, "post_id": 32876702, "comment_id": 53611726, "body": "Thanks a lot. Will try this along with the answer below when I have time later today."}], "tags": [], "owner": {"reputation": 126, "user_id": 1325678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c68acb967b65058656ba7e932ec2ff8?s=128&d=identicon&r=PG", "display_name": "Jonathan Clede", "link": "https://stackoverflow.com/users/1325678/jonathan-clede"}, "is_accepted": false, "score": 1, "last_activity_date": 1443654231, "last_edit_date": 1443654231, "creation_date": 1443652839, "answer_id": 32876702, "question_id": 32876641, "link": "https://stackoverflow.com/questions/32876641/random-ball-under-cup-game-in-python/32876702#32876702", "title": "Random ball under cup game in Python", "body": "<p>What is your question exactly?</p>\n\n<p>Regarding random.choice(), maybe you need something like:</p>\n\n<pre><code>mylist = ['1', '2', '3']   # Since input will be a string, not an int.\nanswer = random.choice(mylist)\n</code></pre>\n\n<p>followed later by</p>\n\n<pre><code>if talong_c == answer:\n    # ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443712260, "post_id": 32876847, "comment_id": 53611678, "body": "Holy cow I totally forgot about while loops. Thanks for the clear and concise answer! Have a busy day but will get cracking at this later."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443713568, "post_id": 32876847, "comment_id": 53612521, "body": "Remember to &quot;accept&quot; one of the answers once you&#39;ve had time to evaluate them all; this properly resolves the question in the SO data base."}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443734323, "post_id": 32876847, "comment_id": 53623369, "body": "I cannot get this to run at all. It just loops the first two print lines forever.."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443735446, "post_id": 32876847, "comment_id": 53623797, "body": "Then you&#39;ve entered something improperly: the third line prints a prompt and waits for input.  Also, I&#39;m about to update the code to be a self-contained example, and fixed a couple of edge problems."}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443737142, "post_id": 32876847, "comment_id": 53624329, "body": "I still cannot get it to run as you&#39;ve typed it, but edited my question at the top to show code that does work for me. The only thing I&#39;m confused about now (I think, ha) is the keep_playing part at the end. That part doesn&#39;t do what it&#39;s supposed to for me."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443737537, "post_id": 32876847, "comment_id": 53624432, "body": "You&#39;re not testing &quot;keep_playing&quot;.  See my example.  You&#39;re still stuck on right/wrong guess."}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443738039, "post_id": 32876847, "comment_id": 53624564, "body": "Ok. Indentation issues. Running now. Loop works with y, but with any other input just kills the program."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443738216, "post_id": 32876847, "comment_id": 53624606, "body": "That <i>is</i> the idea: Anything that starts with &#39;y&#39; keeps going; any other entry exits.  See my point #2 ?"}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443738298, "post_id": 32876847, "comment_id": 53624627, "body": "For the actual game (outside of the 3 cup game), what is the procedure to get anything other than a &#39;y&#39; answer to go back to the main game? I obviously do not understand loops... Thanks for all your help."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1443738565, "post_id": 32876847, "comment_id": 53624708, "body": "You fall out of the bottom of this subroutine.  That automatically returns to whatever module called this one."}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1444150373, "post_id": 32876847, "comment_id": 53775911, "body": "When I put the code into the main game, anything other than &#39;y&#39; doesn&#39;t fall out of the subroutine, it just kills the entire program."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1444150578, "post_id": 32876847, "comment_id": 53776030, "body": "That subroutine <i>is</i> the entire program.  :-)  This doesn&#39;t &quot;kill&quot; the program; the program ends naturally by running out of statements.  What functionality did you want, and what else have you tried to get it?"}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1444151305, "post_id": 32876847, "comment_id": 53776461, "body": "I want to have any answer with &#39;no&#39; exit out of this function and go back to a previous one. Also have any answer that isn&#39;t &#39;yes or no&#39; bring up a print statement, then ask the &#39;play again&#39; question again. I&#39;ve tried adding other if statements but the whole looping thing still confuses me. Example code in original question"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1444151528, "post_id": 32876847, "comment_id": 53776583, "body": "Got it.  Unfortunately, tutoring you on the concept of a loop is well beyond the range of StackOverflow.  I recommend that you go back to your class materials and/or on-line tutorial information and work through all the examples.  Get pencil and paper and step through each looping example, one statement at a time, tracking variable values as you go.  When you get the idea a little bit, replace this by running the loop in your Python environment, adding print statements to track the values for you.  If you still can&#39;t get this, you might try starting a chat and adding me."}, {"owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "edited": false, "score": 0, "creation_date": 1444155162, "post_id": 32876847, "comment_id": 53778627, "body": "Will do. Need to wrap my head around loops obviously! Thanks for your help. I don&#39;t have enough &#39;reputation&#39; to chat yet, but thanks for the offer!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1443737473, "last_edit_date": 1443737473, "creation_date": 1443653749, "answer_id": 32876847, "question_id": 32876641, "link": "https://stackoverflow.com/questions/32876641/random-ball-under-cup-game-in-python/32876847#32876847", "title": "Random ball under cup game in Python", "body": "<p>Let's clean up the loop structures a bit:</p>\n\n<ol>\n<li>When you need input, set up a while loop that continues until you\nget it. </li>\n<li>When you want to keep playing the game, do it in a loop as\nlong as the player enters some form of \"yes\".  </li>\n<li>Recursion puts bad karma on the run-time stack. </li>\n<li>Simplify the input checking.</li>\n</ol>\n\n<p>...</p>\n\n<pre><code>import random\n\nmylist = [1, 2, 3]\nkeep_playing = True\n\nwhile keep_playing:\n\n    # Get legal guess\n    print \"There are 3 cups, and 1 egg hidden underneath.\"\n    print \"Which cup do you think the egg is under?\"\n    talong_c = raw_input(\"1 - 2 - 3? \")\n    while talong_c not in \"123\":\n        talong_c = raw_input(\"1 - 2 - 3? \")\n\n    true_cup = random.choice(mylist)\n    if int(talong_c) == true_cup:\n        print \"\\nYou win!\"\n    else:\n        print \"\\nYou lose!  It was under cup\", true_cup\n\n    print \"Would you like to play again?\"\n    talong_c1 = raw_input(\"&gt; \")\n    keep_playing = talong_c1.lower() == 'y'\n</code></pre>\n\n<p>You still have to adapt this to your high-level game control, insert your other two routines, and get a few usable variable names, but this should get you started well.</p>\n"}], "owner": {"reputation": 5, "user_id": 5368728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ba7e64189fd87c7cec7c99e8a37e22?s=128&d=identicon&r=PG&f=1", "display_name": "jambalaya", "link": "https://stackoverflow.com/users/5368728/jambalaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 32876847, "answer_count": 2, "score": 0, "last_activity_date": 1444151609, "creation_date": 1443652467, "last_edit_date": 1444151609, "question_id": 32876641, "link": "https://stackoverflow.com/questions/32876641/random-ball-under-cup-game-in-python", "title": "Random ball under cup game in Python", "body": "<pre><code>def talon_game():\nmylist = ['1', '2', '3'] \nkeep_playing = True\n\nwhile keep_playing:\n\n    print \"\\nThere are 3 cups, and 1 egg hidden underneath.\"\n    print \"Which cup do you think the egg is under?\\n\"\n\n    talong_c = raw_input(\"1 - 2 - 3? \")\n\n    while talong_c not in \"123\":\n\n        talong_c = raw_input(\"1 - 2 - 3? \")\n\n    true_cup = random.choice(mylist)\n    if talong_c == true_cup:\n        print \"\\nYou win!\"\n        print \"Would you like to play again?\\n\"\n        talong_c1 = raw_input(\"&gt; \")\n        keep_playing = 'yes' in talong_c1.lower()\n    elif talong_c1 != 'yes': #added this as one example, but nothing has worked obviously\n        keep_playing = False\n    else:\n        print \"\\nYou lose!  It was under cup\", true_cup\n        print \"Would you like to play again?\\n\"\n        talong_c1 = raw_input(\"&gt; \")\n        keep_playing = 'yes' in talong_c1.lower()\n</code></pre>\n\n<p>Additional coded noted by a #\nNot sure what happens when keep_playing is False other than the program ending\nNow I'm just adding details so it will let me post this as I explained most of it below </p>\n"}, {"tags": ["python", "docker", "vagrant"], "comments": [{"owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "edited": false, "score": 1, "creation_date": 1443682596, "post_id": 32876639, "comment_id": 53592922, "body": "did you try with a <a href=\"https://docs.vagrantup.com/v2/docker/basics.html\" rel=\"nofollow noreferrer\">vagrant docker provider</a> you would place your Dockerfile at the root and use vagrant to operate your docker container"}, {"owner": {"reputation": 2687, "user_id": 4103796, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5af1e6fd6a9613491c4552adfe770da6?s=128&d=identicon&r=PG", "display_name": "Glueon", "link": "https://stackoverflow.com/users/4103796/glueon"}, "reply_to_user": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "edited": false, "score": 0, "creation_date": 1443696607, "post_id": 32876639, "comment_id": 53601184, "body": "Sorry but how is this related to my question? I do not need to provision/start docker containers. I need to create VMs on the fly which I can&#39;t because I am inside docker."}, {"owner": {"reputation": 7869, "user_id": 243861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8850d2f72f498e3987b3d8641ea065a?s=128&d=identicon&r=PG", "display_name": "Mykola Gurov", "link": "https://stackoverflow.com/users/243861/mykola-gurov"}, "edited": false, "score": 0, "creation_date": 1443697280, "post_id": 32876639, "comment_id": 53601590, "body": "would not it be reasonable to migrate the tests infrastructure to docker then?"}, {"owner": {"reputation": 2687, "user_id": 4103796, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5af1e6fd6a9613491c4552adfe770da6?s=128&d=identicon&r=PG", "display_name": "Glueon", "link": "https://stackoverflow.com/users/4103796/glueon"}, "reply_to_user": {"reputation": 7869, "user_id": 243861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8850d2f72f498e3987b3d8641ea065a?s=128&d=identicon&r=PG", "display_name": "Mykola Gurov", "link": "https://stackoverflow.com/users/243861/mykola-gurov"}, "edited": false, "score": 0, "creation_date": 1443820247, "post_id": 32876639, "comment_id": 53659671, "body": "@MykolaGurov install VirtuaBox to the docker?"}], "owner": {"reputation": 2687, "user_id": 4103796, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5af1e6fd6a9613491c4552adfe770da6?s=128&d=identicon&r=PG", "display_name": "Glueon", "link": "https://stackoverflow.com/users/4103796/glueon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1443682500, "creation_date": 1443652461, "last_edit_date": 1443682500, "question_id": 32876639, "link": "https://stackoverflow.com/questions/32876639/functional-tests-with-vagrant-in-docker", "title": "Functional tests with vagrant in docker", "body": "<p>To test some parts of code which require a fresh VM I use Vagrant. To automate testing I use <code>python-vagrant</code> package with which I automatically create and destroy VMs.</p>\n\n<p>The problem is that I switched to Docker, so my app in now containerized and therefore I run tests inside a testing container. Even if I install Vagrant inside a container it complains that there is no VirtualBox around. Is there any possibility to solve this problem?</p>\n\n<p>Right now I created a Makefile function which spins up a VM runs a container executing tests and destroys VM at the end. But that does not allow me to perform VM rollbacks between tests and so on.</p>\n"}, {"tags": ["python", "bash", "csv"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1443651485, "post_id": 32876467, "comment_id": 53584342, "body": "Put the line count in a variable, and use <code>$((var - 1))</code> to subtract 1 from it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1443651581, "post_id": 32876467, "comment_id": 53584377, "body": "CSV allows for fields to have newlines in them, they&#39;ll be wrapped in quotes when this happens. Whether it&#39;s plausible for a particular CSV depends on the kind of data it holds. A CSV library in a programming language will usually deal with this, it&#39;s difficult in plain <code>bash</code>."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1443651823, "creation_date": 1443651823, "answer_id": 32876556, "question_id": 32876467, "link": "https://stackoverflow.com/questions/32876467/getting-row-count-1-of-csv-files/32876556#32876556", "title": "Getting (row count - 1) of CSV files", "body": "<p>For getting the line count, just subtract 1 from the value returned by <code>wc</code> using an arithmetic expression</p>\n\n<pre><code>count=$(($(wc -l &lt; filename.csv) - 1)\n</code></pre>\n\n<p>CSV format allows fields to contain newlines, by surrounding the field with quotes, e.g.</p>\n\n<pre><code>field1,field2,\"field3 broken\nacross lines\",field4\n</code></pre>\n\n<p>Dealing with this in a plain <code>bash</code> script would be difficult (indeed, any CSV processing that needs to handle quoted fields is tricky). If you need to deal with the full generality of CSV, you should probably use a programming language with a CSV library.</p>\n\n<p>But if you know that your CSV files will never be like this, you can ignore it.</p>\n"}, {"comments": [{"owner": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "edited": false, "score": 0, "creation_date": 1443655389, "post_id": 32876652, "comment_id": 53585436, "body": "Ooh I like this. What&#39;s the c option in the command? And the files are originally <code>gz</code>  compressed. Would it be possible to pipe over uncompressed files and use them in the python command, all done in one line?"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "edited": false, "score": 0, "creation_date": 1443658224, "post_id": 32876652, "comment_id": 53586150, "body": "@simplycoding I updated the answer to handle gzip files.  Separately, the <code>-c</code> option tells python to treat the string that follows as its program."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 2, "last_activity_date": 1443657915, "last_edit_date": 1443657915, "creation_date": 1443652539, "answer_id": 32876652, "question_id": 32876467, "link": "https://stackoverflow.com/questions/32876467/getting-row-count-1-of-csv-files/32876652#32876652", "title": "Getting (row count - 1) of CSV files", "body": "<p>As Barmar points out, (1) it is quite possible for CSV files to have wrapped lines and (2) CSV programming libraries can handle this well.  As an example, here is a python program which uses python's CSV module to count the number of lines in <code>file.csv</code> minus 1:</p>\n\n<pre><code>python -c 'import csv; print( sum(1 for line in csv.reader(open(\"file.csv\")))-1 )'\n</code></pre>\n\n<p>The <code>-c arg</code> option tells python to treat the <code>arg</code> string as a program to execute.  In this case, we make the <code>csv</code> module available with the \"import\" statement.  Then, we print out the number of lines minus one.  The construct <code>sum(1 for line in csv.reader(open(\"file.csv\")))</code> counts the lines one at a time.</p>\n\n<p>If your csv file has a non-typical format, you will need to set options.  This might be the delimiter or quoting character.  See <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">the documentation</a> for details.</p>\n\n<h3>Example</h3>\n\n<p>Consider this test file:</p>\n\n<pre><code>$ cat file.csv\nFirst name,Last name,Address\nJohn,Smith,\"P O Box 1234\nSomewhere, State\"\nJane,Doe,\"Unknown\"\n</code></pre>\n\n<p>This file has two rows plus a header.  One of the rows is split over two lines.  Python's csv module correctly understands this:</p>\n\n<pre><code>$ python -c 'import csv; print( sum(1 for line in csv.reader(open(\"file.csv\")))-1 )' \n2\n</code></pre>\n\n<h3>gzipped files</h3>\n\n<p>To open gzip files in python, we use the <code>gzip</code> module:</p>\n\n<pre><code>$ python -c 'import csv, gzip; print( sum(1 for line in csv.reader(gzip.GzipFile(\"file.csv.gz\")))-1 )' \n2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1443653202, "creation_date": 1443653202, "answer_id": 32876763, "question_id": 32876467, "link": "https://stackoverflow.com/questions/32876467/getting-row-count-1-of-csv-files/32876763#32876763", "title": "Getting (row count - 1) of CSV files", "body": "<p>As an alternative to subtracting one from the total row count, you can discard the first line from the file before </p>\n\n<pre><code>row_count=$( { read; wc -l; } &lt; filename.csv )\n</code></pre>\n\n<p>(This is in no way better than simply using <code>$(($(wc -l &lt; filename.csv) - 1))</code>; it's just a useful trick to know.)</p>\n"}], "owner": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1443657915, "creation_date": 1443651292, "last_edit_date": 1443651892, "question_id": 32876467, "link": "https://stackoverflow.com/questions/32876467/getting-row-count-1-of-csv-files", "title": "Getting (row count - 1) of CSV files", "body": "<p>Mainly have 2 questions in respect to this topic:</p>\n\n<ol>\n<li><p>I'm looking to get the row counts of a few CSV files. In Bash, I know I can do <code>wc -l &lt; filename.csv</code>. How do I do this and subtract 1 from it (because of headers)?</p></li>\n<li><p>For anyone familiar with CSV files and possible issues with grabbing raw line count, how plausible is it that a line is wrapped across multiple lines? I know that this is a very possible scenario, but want to say that this never happens. In the event of this being a possibility, would using Python's <code>csv</code> package be better to use? Does it read lines based on delimiters and other column wrappers? </p></li>\n</ol>\n"}, {"tags": ["python", "ruby", "zlib"], "comments": [{"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "edited": false, "score": 0, "creation_date": 1443658629, "post_id": 32876435, "comment_id": 53586240, "body": "<a href=\"https://eval.in/private/218ffe66e3b623\" rel=\"nofollow noreferrer\">Python3</a> has the same result as <a href=\"https://eval.in/private/beab37209801b1\" rel=\"nofollow noreferrer\">Ruby</a>. Maybe looking up <code>zlib</code> changes between 2 and 3 might help."}, {"owner": {"reputation": 3937, "user_id": 1234765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07b5487c337b6cf2a392ccbd41ef1696?s=128&d=identicon&r=PG", "display_name": "Almaron", "link": "https://stackoverflow.com/users/1234765/almaron"}, "reply_to_user": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "edited": false, "score": 0, "creation_date": 1443723824, "post_id": 32876435, "comment_id": 53618007, "body": "Looks like there are differences in zlib implementation in python2 and python3 that are not documented."}], "owner": {"reputation": 3937, "user_id": 1234765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07b5487c337b6cf2a392ccbd41ef1696?s=128&d=identicon&r=PG", "display_name": "Almaron", "link": "https://stackoverflow.com/users/1234765/almaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1443651094, "creation_date": 1443651094, "question_id": 32876435, "link": "https://stackoverflow.com/questions/32876435/zlib-difference-between-python-and-ruby", "title": "Zlib difference between Python and Ruby", "body": "<p>So I'm rewriting a relatively complex script from Python into Ruby (as a part of rebuilding the whole legacy app).\nEverything worked out just fine, except 1 point, where I need to compress a string to a certain format.</p>\n\n<p>Here's the original Python code:</p>\n\n<pre><code> gz = zlib.compressobj(9, zlib.DEFLATED, zlib.MAX_WBITS | 16)\n zstr = gz.compress(jcomment) + gz.flush() \n</code></pre>\n\n<p>Here's my Ruby equivalent:</p>\n\n<pre><code>gz = Zlib::Deflate.new 9, Zlib::MAX_WBITS | 16\nzstr = gz.deflate(jcomment) + gz.flush(Zlib::FINISH)\n</code></pre>\n\n<p>But it's nowhere near the same result. </p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["python", "opengl", "pyqt"], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 799887, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9e6bb5d36fd7a4d6c0f324700fc8cbcb?s=128&d=identicon&r=PG", "display_name": "Grief", "link": "https://stackoverflow.com/users/799887/grief"}, "edited": false, "score": 0, "creation_date": 1444000068, "post_id": 32876747, "comment_id": 53704015, "body": "After all, I switched from PyQt to PySide and raw PyOpenGL which provides profiles up to 4.4"}], "tags": [], "owner": {"reputation": 1641, "user_id": 799887, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9e6bb5d36fd7a4d6c0f324700fc8cbcb?s=128&d=identicon&r=PG", "display_name": "Grief", "link": "https://stackoverflow.com/users/799887/grief"}, "is_accepted": true, "score": 2, "last_activity_date": 1443653101, "creation_date": 1443653101, "answer_id": 32876747, "question_id": 32876379, "link": "https://stackoverflow.com/questions/32876379/pyqt-5-4-1-how-to-use-qopenglwindow/32876747#32876747", "title": "Pyqt 5.4.1 - how to use QOpenGLWindow?", "body": "<p>I found a very nice example here: <a href=\"https://github.com/pbouda/stuff/blob/master/opengl/pyqt/chocolux.py\" rel=\"nofollow\">https://github.com/pbouda/stuff/blob/master/opengl/pyqt/chocolux.py</a></p>\n\n<p>The issue was in incorrect GL profile: despite the fact that my video card has 4.4, PyQt supports only 2.0 and 2.1. That is sad to be honest...</p>\n\n<pre><code>1.0 failed: No module named _QOpenGLFunctions_1_0\n1.1 failed: No module named _QOpenGLFunctions_1_1\n1.2 failed: No module named _QOpenGLFunctions_1_2\n1.3 failed: No module named _QOpenGLFunctions_1_3\n1.4 failed: No module named _QOpenGLFunctions_1_4\n1.5 failed: No module named _QOpenGLFunctions_1_5\n2.0 is ok\n2.1 is ok\n3.0 failed: No module named _QOpenGLFunctions_3_0\n3.1 failed: No module named _QOpenGLFunctions_3_1\n</code></pre>\n\n<p>I got this with the following code:</p>\n\n<pre><code>def paintGL(self):\n        for i in xrange(0, 5):\n            for j in xrange(0, 1000):\n                version = QtGui.QOpenGLVersionProfile()\n                version.setVersion(i, j)\n                try:\n                    if self.context().versionFunctions(version) is not None: print '{}.{} is ok'.format(i, j)\n                except Exception as e:\n                    print '{}.{} failed: {}'.format(i, j, e)\n</code></pre>\n"}], "owner": {"reputation": 1641, "user_id": 799887, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9e6bb5d36fd7a4d6c0f324700fc8cbcb?s=128&d=identicon&r=PG", "display_name": "Grief", "link": "https://stackoverflow.com/users/799887/grief"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 32876747, "answer_count": 1, "score": 1, "last_activity_date": 1443653101, "creation_date": 1443650808, "question_id": 32876379, "link": "https://stackoverflow.com/questions/32876379/pyqt-5-4-1-how-to-use-qopenglwindow", "title": "Pyqt 5.4.1 - how to use QOpenGLWindow?", "body": "<p>The following simple code outputs just <code>None</code> twice, what could be the reason for that? I can see black window, but cannot draw anything since have no access to GL functions.</p>\n\n<pre><code>from PyQt5.QtGui import QOpenGLWindow\nfrom PyQt5.QtWidgets import QApplication\nimport sys\n\n\nclass MainWindow(QOpenGLWindow):\n    def paintGL(self):\n        print self.context().versionFunctions()\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    window = MainWindow()\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "text"], "comments": [{"owner": {"reputation": 4649, "user_id": 681679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba1bdfa6ba08225903a74383be42b06?s=128&d=identicon&r=PG", "display_name": "photoionized", "link": "https://stackoverflow.com/users/681679/photoionized"}, "edited": false, "score": 0, "creation_date": 1443650882, "post_id": 32876376, "comment_id": 53584136, "body": "What constitutes text? Alphanumeric characters?"}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1443651212, "post_id": 32876376, "comment_id": 53584253, "body": "If you want to copy a (text or other) file <i>verbatim</i> (maybe you don&#39;t), you probably won&#39;t even have to read it into python."}, {"owner": {"reputation": 817, "user_id": 5145800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca025f397bd10460e52920cf0479ce9?s=128&d=identicon&r=PG", "display_name": "jlnabais", "link": "https://stackoverflow.com/users/5145800/jlnabais"}, "edited": false, "score": 0, "creation_date": 1443651233, "post_id": 32876376, "comment_id": 53584260, "body": "You should take a look at the documentation before posting questions like this one, pelase check <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 5391570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izXHq.jpg?s=128&g=1", "display_name": "xorist", "link": "https://stackoverflow.com/users/5391570/xorist"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1443651233, "post_id": 32876447, "comment_id": 53584261, "body": "But according to his example, the file is not."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1443651310, "post_id": 32876447, "comment_id": 53584284, "body": "Examples are often representative of the size of the original file /s. Ick you&#39;re also shadowing <code>file</code>...."}], "tags": [], "owner": {"reputation": 139, "user_id": 5391570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izXHq.jpg?s=128&g=1", "display_name": "xorist", "link": "https://stackoverflow.com/users/5391570/xorist"}, "is_accepted": false, "score": 0, "last_activity_date": 1443651161, "creation_date": 1443651161, "answer_id": 32876447, "question_id": 32876376, "link": "https://stackoverflow.com/questions/32876376/how-do-i-read-just-text-in-a-text-file-in-python/32876447#32876447", "title": "How do I read just text in a text file in Python?", "body": "<pre><code>file = open('fromfile.txt')\nfilec = file.read()\nfileb = open('tofile.txt', 'w')\nfileb.write(filec)\nfile.close()\nfileb.close()\n</code></pre>\n\n<p>Hope this helped. =)</p>\n"}], "owner": {"reputation": 51, "user_id": 3435341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100004457346711/picture?type=large", "display_name": "user3435341", "link": "https://stackoverflow.com/users/3435341/user3435341"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1443651376, "creation_date": 1443650782, "last_edit_date": 1443651376, "question_id": 32876376, "link": "https://stackoverflow.com/questions/32876376/how-do-i-read-just-text-in-a-text-file-in-python", "title": "How do I read just text in a text file in Python?", "body": "<p>I have a text with some data I need to copy into another text file\nHow do I read the text and copy it into my new text file?</p>\n\n<p>The text looks like this</p>\n\n<pre><code> bruce\n bruce@yahoo.es\n ['sony', 1.89172]\n ['samsung', 6.0535]\n</code></pre>\n\n<p>I need to read only the text (without lists) and asign it to a variable to copy them onto a new text file</p>\n\n<p>I've tried </p>\n\n<pre><code>with open(\"InformeFinal.txt\") as f:\nregistros = [ast.literal_eval(x) for x in f if x.startswith('[')]\n</code></pre>\n\n<p>In order to get only the lists inside the text file, but now I need just the text file.</p>\n"}, {"tags": ["python", "python-unittest"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 5395258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa791845948d310574ad399c355c1b5?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5395258/ryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1443655673, "creation_date": 1443655673, "answer_id": 32877136, "question_id": 32876314, "link": "https://stackoverflow.com/questions/32876314/python-unit-test-load-tests-function-failing/32877136#32877136", "title": "Python unit_test load_tests function failing", "body": "<p>A more detailed question would help.  I'm not sure what problem you're trying to solve with this code, but I'll try to explain the cause of the error.</p>\n\n<p>The <code>tests</code> parameter in your <code>load_tests</code> function is a <code>unittest.TestSuite</code> object, which already contains one test case.  That test case is a <code>Foo</code> object which unittest finds and creates when you call <code>unittest.main()</code> because <code>Foo</code> is a subclass of <code>unittest.TestCase</code>.  You can see this if you <code>print tests</code> at the beginning of <code>load_tests</code>.</p>\n\n<p>If you only want the two test cases created by load_tests, then load_tests should create and return a new Suite:</p>\n\n<pre><code>def load_tests(loader, tests, pattern):\n    print 'load_tests called'\n    suite = unittest.TestSuite()\n    f = ['a','b']  # data.csv contains three lines: \"a\\nb\\nc\"\n    for line in f:\n        tc = Foo()\n        tc.setup(line)\n        suite.addTest(tc)\n    return suite\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>python foo.py \nload_tests called\nFoo.setup()\n['__call__', '__class__', '__delattr__', '__dict__', '__doc__', '__eq__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_addSkip', '_baseAssertEqual', '_classSetupFailed', '_cleanups', '_deprecate', '_diffThreshold', '_formatMessage', '_getAssertEqualityFunc', '_resultForDoCleanups', '_testMethodDoc', '_testMethodName', '_truncateMessage', '_type_equality_funcs', 'addCleanup', 'addTypeEqualityFunc', 'assertAlmostEqual', 'assertAlmostEquals', 'assertDictContainsSubset', 'assertDictEqual', 'assertEqual', 'assertEquals', 'assertFalse', 'assertGreater', 'assertGreaterEqual', 'assertIn', 'assertIs', 'assertIsInstance', 'assertIsNone', 'assertIsNot', 'assertIsNotNone', 'assertItemsEqual', 'assertLess', 'assertLessEqual', 'assertListEqual', 'assertMultiLineEqual', 'assertNotAlmostEqual', 'assertNotAlmostEquals', 'assertNotEqual', 'assertNotEquals', 'assertNotIn', 'assertNotIsInstance', 'assertNotRegexpMatches', 'assertRaises', 'assertRaisesRegexp', 'assertRegexpMatches', 'assertSequenceEqual', 'assertSetEqual', 'assertTrue', 'assertTupleEqual', 'assert_', 'countTestCases', 'debug', 'defaultTestResult', 'doCleanups', 'fail', 'failIf', 'failIfAlmostEqual', 'failIfEqual', 'failUnless', 'failUnlessAlmostEqual', 'failUnlessEqual', 'failUnlessRaises', 'failureException', 'id', 'longMessage', 'maxDiff', 'run', 'runTest', 'setUp', 'setUpClass', 'setup', 'shortDescription', 'skipTest', 'tearDown', 'tearDownClass']\nFoo.setup()\n['__call__', '__class__', '__delattr__', '__dict__', '__doc__', '__eq__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_addSkip', '_baseAssertEqual', '_classSetupFailed', '_cleanups', '_deprecate', '_diffThreshold', '_formatMessage', '_getAssertEqualityFunc', '_resultForDoCleanups', '_testMethodDoc', '_testMethodName', '_truncateMessage', '_type_equality_funcs', 'addCleanup', 'addTypeEqualityFunc', 'assertAlmostEqual', 'assertAlmostEquals', 'assertDictContainsSubset', 'assertDictEqual', 'assertEqual', 'assertEquals', 'assertFalse', 'assertGreater', 'assertGreaterEqual', 'assertIn', 'assertIs', 'assertIsInstance', 'assertIsNone', 'assertIsNot', 'assertIsNotNone', 'assertItemsEqual', 'assertLess', 'assertLessEqual', 'assertListEqual', 'assertMultiLineEqual', 'assertNotAlmostEqual', 'assertNotAlmostEquals', 'assertNotEqual', 'assertNotEquals', 'assertNotIn', 'assertNotIsInstance', 'assertNotRegexpMatches', 'assertRaises', 'assertRaisesRegexp', 'assertRegexpMatches', 'assertSequenceEqual', 'assertSetEqual', 'assertTrue', 'assertTupleEqual', 'assert_', 'countTestCases', 'debug', 'defaultTestResult', 'doCleanups', 'fail', 'failIf', 'failIfAlmostEqual', 'failIfEqual', 'failUnless', 'failUnlessAlmostEqual', 'failUnlessEqual', 'failUnlessRaises', 'failureException', 'id', 'longMessage', 'maxDiff', 'run', 'runTest', 'setUp', 'setUpClass', 'setup', 'shortDescription', 'skipTest', 'tearDown', 'tearDownClass']\nrunning\na\n.running\nb\n.\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nOK\n</code></pre>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 32877136, "answer_count": 1, "score": 0, "last_activity_date": 1443655673, "creation_date": 1443650427, "question_id": 32876314, "link": "https://stackoverflow.com/questions/32876314/python-unit-test-load-tests-function-failing", "title": "Python unit_test load_tests function failing", "body": "<p>Im calling the unittest load_tests to build a test suite but its failing with error.</p>\n\n<pre><code>import unittest\n\ndef load_tests(loader, tests, pattern):\n    print 'load_tests called'\n    f = ['a','b']  # data.csv contains three lines: \"a\\nb\\nc\"\n    for line in f:\n        tc = Foo()\n        tc.setup(line)\n        tests.addTest(tc)\n    return tests\n\nclass Foo(unittest.TestCase):\n    def setup(self,bar):\n        print \"Foo.setup()\"\n        print dir(self)\n        self.bar = bar\n\n\n    def runTest(self):\n        print 'running'\n        print self.bar\n\nunittest.main()\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>load_tests called\nFoo.setup()\n['__call__', '__class__', '__delattr__', '__dict__', '__doc__', '__eq__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_addSkip', '_baseAssertEqual', '_classSetupFailed', '_cleanups', '_deprecate', '_diffThreshold', '_formatMessage', '_getAssertEqualityFunc', '_resultForDoCleanups', '_testMethodDoc', '_testMethodName', '_truncateMessage', '_type_equality_funcs', 'addCleanup', 'addTypeEqualityFunc', 'assertAlmostEqual', 'assertAlmostEquals', 'assertDictContainsSubset', 'assertDictEqual', 'assertEqual', 'assertEquals', 'assertFalse', 'assertGreater', 'assertGreaterEqual', 'assertIn', 'assertIs', 'assertIsInstance', 'assertIsNone', 'assertIsNot', 'assertIsNotNone', 'assertItemsEqual', 'assertLess', 'assertLessEqual', 'assertListEqual', 'assertMultiLineEqual', 'assertNotAlmostEqual', 'assertNotAlmostEquals', 'assertNotEqual', 'assertNotEquals', 'assertNotIn', 'assertNotIsInstance', 'assertNotRegexpMatches', 'assertRaises', 'assertRaisesRegexp', 'assertRegexpMatches', 'assertSequenceEqual', 'assertSetEqual', 'assertTrue', 'assertTupleEqual', 'assert_', 'countTestCases', 'debug', 'defaultTestResult', 'doCleanups', 'fail', 'failIf', 'failIfAlmostEqual', 'failIfEqual', 'failUnless', 'failUnlessAlmostEqual', 'failUnlessEqual', 'failUnlessRaises', 'failureException', 'id', 'longMessage', 'maxDiff', 'run', 'runTest', 'setUp', 'setUpClass', 'setup', 'shortDescription', 'skipTest', 'tearDown', 'tearDownClass']\nFoo.setup()\n['__call__', '__class__', '__delattr__', '__dict__', '__doc__', '__eq__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_addSkip', '_baseAssertEqual', '_classSetupFailed', '_cleanups', '_deprecate', '_diffThreshold', '_formatMessage', '_getAssertEqualityFunc', '_resultForDoCleanups', '_testMethodDoc', '_testMethodName', '_truncateMessage', '_type_equality_funcs', 'addCleanup', 'addTypeEqualityFunc', 'assertAlmostEqual', 'assertAlmostEquals', 'assertDictContainsSubset', 'assertDictEqual', 'assertEqual', 'assertEquals', 'assertFalse', 'assertGreater', 'assertGreaterEqual', 'assertIn', 'assertIs', 'assertIsInstance', 'assertIsNone', 'assertIsNot', 'assertIsNotNone', 'assertItemsEqual', 'assertLess', 'assertLessEqual', 'assertListEqual', 'assertMultiLineEqual', 'assertNotAlmostEqual', 'assertNotAlmostEquals', 'assertNotEqual', 'assertNotEquals', 'assertNotIn', 'assertNotIsInstance', 'assertNotRegexpMatches', 'assertRaises', 'assertRaisesRegexp', 'assertRegexpMatches', 'assertSequenceEqual', 'assertSetEqual', 'assertTrue', 'assertTupleEqual', 'assert_', 'countTestCases', 'debug', 'defaultTestResult', 'doCleanups', 'fail', 'failIf', 'failIfAlmostEqual', 'failIfEqual', 'failUnless', 'failUnlessAlmostEqual', 'failUnlessEqual', 'failUnlessRaises', 'failureException', 'id', 'longMessage', 'maxDiff', 'run', 'runTest', 'setUp', 'setUpClass', 'setup', 'shortDescription', 'skipTest', 'tearDown', 'tearDownClass']\nrunning\nErunning\na\n.running\nb\n.\n======================================================================\nERROR: runTest (__main__.Foo)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"test.py\", line 21, in runTest\n    print self.bar\nAttributeError: 'Foo' object has no attribute 'bar'\n\n----------------------------------------------------------------------\nRan 3 tests in 0.016s\n\nFAILED (errors=1)\n</code></pre>\n"}, {"tags": ["python", "selenium", "web-scraping", "phantomjs", "infinite-scroll"], "comments": [{"owner": {"reputation": 1267, "user_id": 2526842, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/874c76c25c962056a045ed212259c4a3?s=128&d=identicon&r=PG", "display_name": "RedVelvet", "link": "https://stackoverflow.com/users/2526842/redvelvet"}, "edited": false, "score": 0, "creation_date": 1443657541, "post_id": 32876282, "comment_id": 53585995, "body": "I try to replace      elem.send_keys(Keys.PAGE_DOWN)     time.sleep(0.02) In the while with browser.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;) and setting time sleep at 0.2 because PhantomJs is more fast to loading the page then firefox. With this solution works with phantomjs too. But i have still dubit for the &quot;elegance&quot; of this type of method. I&#39;m waiting for some comparison or better code example."}], "answers": [{"tags": [], "owner": {"reputation": 1267, "user_id": 2526842, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/874c76c25c962056a045ed212259c4a3?s=128&d=identicon&r=PG", "display_name": "RedVelvet", "link": "https://stackoverflow.com/users/2526842/redvelvet"}, "is_accepted": true, "score": 0, "last_activity_date": 1443708107, "creation_date": 1443708107, "answer_id": 32889569, "question_id": 32876282, "link": "https://stackoverflow.com/questions/32876282/use-elem-send-keys-for-handle-infinite-scroll-in-page-using-selenium-phantomj/32889569#32889569", "title": "Use elem.send_keys for handle &quot;Infinite Scroll&quot; in page. Using Selenium PhantomJS in Python", "body": "<p>I modified my code like this:</p>\n\n<pre><code>import re\nimport mechanize\nfrom pydblite import Base\nfrom selenium import webdriver\nimport platform\nimport codecs\nimport scrapy\nimport time\nfrom selenium.webdriver.common.keys import Keys\n\nclass getFrom(object):\n\n\n\ndef scrapying(self):\n    print platform.system()\n\n    if platform.system()==\"Windows\":\n        browser = webdriver.Firefox()\n    else:\n        #browser = webdriver.Firefox()\n        browser = webdriver.PhantomJS(executable_path='/usr/local/bin/node_modules/phantomjs/lib/phantom/bin/phantomjs')\n\n\n\n    browser.get(\"https://medium.com/top-100/december-2013\")\n    time.sleep(5)\n\n    elem = browser.find_element_by_tag_name(\"body\")\n\n\n    mins = raw_input(\"For how many minutes you want to scrapy the links? \")\n\n    print \"start: \"+ time.asctime( time.localtime(time.time()) )\n    timeout = time.time() + 60* int(mins) # 5 minutes from now\n\n    while True:\n        test = 0\n        elem.send_keys(Keys.PAGE_DOWN)\n        time.sleep(0.5)\n        if test == 5 or time.time() &gt; timeout:\n            print \"end: \"+ time.asctime( time.localtime(time.time()) )\n            break\n        test = test - 1\n\n    #Qui ci dovrebbe essere lo spider\n\n    post_elems = browser.find_elements_by_class_name(\"graf--h2\")\n\n    #Fine Spider\n\n    for post in post_elems:\n        print post.text\n\n    browser.quit()\n\n\n\nmyClassObject = getFrom()\nmyClassObject.scrapying()\n</code></pre>\n\n<p>Now works fine.\nI delete the for loop add a time control for handling the possibility of gain few results or a lots of then.\nBut the must important thing is use this javascript function:\n            browser.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")</p>\n\n<p>Instead of the send_keys </p>\n"}], "owner": {"reputation": 1267, "user_id": 2526842, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/874c76c25c962056a045ed212259c4a3?s=128&d=identicon&r=PG", "display_name": "RedVelvet", "link": "https://stackoverflow.com/users/2526842/redvelvet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 3, "accepted_answer_id": 32889569, "answer_count": 1, "score": 3, "last_activity_date": 1443708107, "creation_date": 1443650237, "question_id": 32876282, "link": "https://stackoverflow.com/questions/32876282/use-elem-send-keys-for-handle-infinite-scroll-in-page-using-selenium-phantomj", "title": "Use elem.send_keys for handle &quot;Infinite Scroll&quot; in page. Using Selenium PhantomJS in Python", "body": "<p>I need to take elements identified by xpath in a \"Infinite Scroll\" web page like <a href=\"https://medium.com/top-100/december-2013\" rel=\"nofollow\">this</a>. \nThe problem is that when i use Selenium with webdriver PhantomJS it takes only some links, the first links loaded after the page is loaded.\nI try to increase the <em>time.sleep()</em> or insert more of there in the code but not works. If i use Firefox like a webdriver it works well.</p>\n\n<p>It's possibile sove this problem and improve my code?\nMaybe not using time event but looking something that can tell if go down on the page or not.</p>\n\n<p>Thanks and Greetings   </p>\n\n<pre><code>import re\nimport mechanize\nfrom pydblite import Base\nfrom selenium import webdriver\nimport platform\nimport codecs\nimport scrapy  \nimport time\nfrom selenium.webdriver.common.keys import Keys\n\nclass getFrom(object):\n\n\n\ndef scrapying(self):\n    print platform.system()\n\n\n        #browser = webdriver.Firefox()\n        browser = webdriver.PhantomJS(executable_path='/usr/local/bin/node_modules/phantomjs/lib/phantom/bin/phantomjs')\n\n\n\n    browser.get(\"https://medium.com/top-100/december-2013\")\n    time.sleep(5)\n\n    elem = browser.find_element_by_tag_name(\"body\")\n\n    no_of_pagedowns = 200\n\n    while no_of_pagedowns:\n        elem.send_keys(Keys.PAGE_DOWN)\n        time.sleep(0.02)\n        no_of_pagedowns-=1\n\n    #Qui ci dovrebbe essere lo spider\n\n    post_elems = browser.find_elements_by_class_name(\"graf--h2\")\n\n    #Fine Spider\n\n    for post in post_elems:\n        print post.text\n\n    browser.quit()\n\nmyClassObject = getFrom()\nmyClassObject.scrapying()\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-rest-framework"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1443650349, "post_id": 32876275, "comment_id": 53583950, "body": "Multiple snippets based in what? What would be your criteria to pull or do not pull a snippet?"}, {"owner": {"reputation": 421, "user_id": 4293747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hR52x.jpg?s=128&g=1", "display_name": "cameron-f", "link": "https://stackoverflow.com/users/4293747/cameron-f"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1443650530, "post_id": 32876275, "comment_id": 53584019, "body": "@Gocht So like... <a href=\"http://127.0.0.1:8000/snippets/2;3;4/\" rel=\"nofollow noreferrer\">127.0.0.1:8000/snippets/2;3;4</a> if I wanted snippets with IDs 2, 3 and 4"}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": true, "score": 15, "last_activity_date": 1443651461, "last_edit_date": 1443651461, "creation_date": 1443651145, "answer_id": 32876443, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/32876443#32876443", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>Based in your comment, you could send the ids via url:</p>\n\n<pre><code>127.0.0.1:8000/snippets/?ids=2,3,4\n</code></pre>\n\n<p>and in your view</p>\n\n<pre><code>...\nids = request.GET.get('ids')  # u'2,3,4' &lt;- this is unicode\nids = ids.split(',')  # [u'2',u'3',u'4'] &lt;- this is a list of unicodes with ids values\n</code></pre>\n\n<p>Then you can query to Snippet model:</p>\n\n<pre><code>Snippet.objects.filter(pk__in=ids)\n</code></pre>\n\n<p>This could give you some problems if there's spaces between ids in url:</p>\n\n<pre><code>127.0.0.1:8000/snippets/?ids=2, 3 , 4\n</code></pre>\n\n<p>You could need process every value before perform a query</p>\n"}, {"tags": [], "owner": {"reputation": 2365, "user_id": 1377439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5fd78315c2d3ee09934510e4dc18dbf4?s=128&d=identicon&r=PG", "display_name": "Yahya Yahyaoui", "link": "https://stackoverflow.com/users/1377439/yahya-yahyaoui"}, "is_accepted": false, "score": 3, "last_activity_date": 1443651438, "creation_date": 1443651438, "answer_id": 32876492, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/32876492#32876492", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>A possible way is to send the lis of pk(s) as GET request data, somthing like this:</p>\n\n<ul>\n<li><p>GET request to \"/snippets\"</p></li>\n<li><p>Request body: {\"list_of_pk\": [1,2,3...]}</p></li>\n</ul>\n\n<p>And then:</p>\n\n<p>snippets/urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom snippets import views\n\nurlpatterns = [\n    url(r'^snippets/$', views.snippet_list),\n    url(r'^snippets/(?P&lt;pk&gt;[0-9]+)/$', views.snippet_detail),\n]\n</code></pre>\n\n<p>snippets/views.py</p>\n\n<pre><code>def snippet_list(request):\n    if request.method == 'GET':\n        pk_list = request.GET.get('list_of_pk')\n        if pk_list:\n            snippets = Snippet.objects.filter(pk__in=pk_list)\n        else:\n            snippets = Snippet.objects.all()\n        #the serialization...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 4293747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hR52x.jpg?s=128&g=1", "display_name": "cameron-f", "link": "https://stackoverflow.com/users/4293747/cameron-f"}, "is_accepted": false, "score": 3, "last_activity_date": 1443679215, "last_edit_date": 1443679215, "creation_date": 1443674095, "answer_id": 32879534, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/32879534#32879534", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>Here's what I ended up going with:</p>\n\n<p>No changes to\nsnippet/urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom snippets import views\n\nurlpatterns = [\n    url(r'^snippets/$', views.snippet_list),\n    url(r'^snippets/(?P&lt;pk&gt;[0-9]+)/$', views.snippet_detail),\n]\n</code></pre>\n\n<p><a href=\"http://127.0.0.1:8000/snippets/?ids=2,3,4\" rel=\"nofollow\">http://127.0.0.1:8000/snippets/?ids=2,3,4</a> is received by</p>\n\n<p>snippet/views.py</p>\n\n<pre><code>from rest_framework.decorators import api_view\n\n@api_view(['GET', 'POST'])    \ndef snippet_list(request):\n    if request.method == 'GET':\n        ids = request.query_params.get('ids')  # u'2,3,4' &lt;- this is unicode\n        ids = ids.split(',')\n        snippets = Snippet.objects.filter(pk__in=ids)\n        serializer = SnippetSerializer(snippet, many=True)\n        return JSONResponse(serializer.data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 66, "user_id": 4546770, "user_type": "registered", "profile_image": "https://graph.facebook.com/657009294/picture?type=large", "display_name": "The Malazay Giovoglanian", "link": "https://stackoverflow.com/users/4546770/the-malazay-giovoglanian"}, "edited": false, "score": 0, "creation_date": 1524804421, "post_id": 40814391, "comment_id": 87127179, "body": "Thanks! this also works with viewsets.ModelViewSet classes, you just need to add the parameter &#39;base_name&#39; when registering the router, like this:  router.register(question&#39;, views.QuestionViewSet, base_name=&#39;question&#39;)"}], "tags": [], "owner": {"reputation": 376, "user_id": 5997342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-327d4nYDOSM/AAAAAAAAAAI/AAAAAAAAAEE/o5BGUIOkwV8/photo.jpg?sz=128", "display_name": "harringr", "link": "https://stackoverflow.com/users/5997342/harringr"}, "is_accepted": false, "score": 8, "last_activity_date": 1480127649, "creation_date": 1480127649, "answer_id": 40814391, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/40814391#40814391", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>I found this to work, following the Django REST Framework main tutorial and then  documentation on <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#filtering-against-query-parameters\" rel=\"noreferrer\">Filtering against query parameters</a>, adapting slightly.  This allows a single url to return data from two GET requests: one returning objects whose ids match those given as a parameter, the other returning all objects, when no parameters are provided. </p>\n\n<ul>\n<li><a href=\"http://127.0.0.1:8000/snippets/\" rel=\"noreferrer\">http://127.0.0.1:8000/snippets/</a> returns all snippets</li>\n<li><a href=\"http://127.0.0.1:8000/snippets/?ids=2,3,7\" rel=\"noreferrer\">http://127.0.0.1:8000/snippets/?ids=2,3,7</a> returns only snippets with id 2, 3 and 7</li>\n</ul>\n\n<p>snippets/urls.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from django.conf.urls import url\nfrom snippets import views\n\nurlpatterns = [\n   .... (code for other urls here)\n   url(r'^snippets/$', views.SnippetList.as_view(), name='snippet-list'),\n   ....\n]\n</code></pre>\n\n<p>snippets/views.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>.... \nfrom snippet.serializers import SnippetSerializer\n....\n\nclass SnippetList(generics.ListCreateAPIView):\n    serializer_class = SnippetSerializer\n\n    def get_queryset(self):\n\n        # Get URL parameter as a string, if exists \n        ids = self.request.query_params.get('ids', None)\n\n        # Get snippets for ids if they exist\n        if ids is not None:\n            # Convert parameter string to list of integers\n            ids = [ int(x) for x in ids.split(',') ]\n            # Get objects for all parameter ids \n            queryset = Product.objects.filter(pk__in=ids)\n\n        else:\n            # Else no parameters, return all objects\n            queryset = Product.objects.all()\n\n        return queryset\n</code></pre>\n\n<p>snippets/serializers.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>....\nclass SnippetSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = Snippet\n        fields = ('url', 'id', 'title', 'code', 'linenos', 'language', 'style')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1116, "user_id": 1183930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d05badfab35a06aa5b36b011d4f48f0?s=128&d=identicon&r=PG", "display_name": "ambi", "link": "https://stackoverflow.com/users/1183930/ambi"}, "is_accepted": false, "score": 0, "last_activity_date": 1556271020, "creation_date": 1556271020, "answer_id": 55864658, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/55864658#55864658", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<blockquote>\n  <p>While there is no definitive standard, most web frameworks allow multiple values to be associated with a single field (e.g. field1=value1&amp;field1=value2&amp;field2=value3).</p>\n</blockquote>\n\n<p>Django also supports this.\nTo get list of values you can use: <code>ids = request.GET.getlist('ids')</code>.\nMore examples from <code>MultiValueDict</code> docs:</p>\n\n<pre><code>    &gt;&gt;&gt; d = MultiValueDict({'name': ['Adrian', 'Simon'], 'position': ['Developer']})\n    &gt;&gt;&gt; d['name']\n    'Simon'\n    &gt;&gt;&gt; d.getlist('name')\n    ['Adrian', 'Simon']\n    &gt;&gt;&gt; d.getlist('doesnotexist')\n    []\n    &gt;&gt;&gt; d.getlist('doesnotexist', ['Adrian', 'Simon'])\n    ['Adrian', 'Simon']\n    &gt;&gt;&gt; d.get('lastname', 'nonexistent')\n    'nonexistent'\n    &gt;&gt;&gt; d.setlist('lastname', ['Holovaty', 'Willison'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 921, "user_id": 1203785, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/663d8b97bcde477cdd5b7b926ce59ba3?s=128&d=identicon&r=PG", "display_name": "Salvatore Iovene", "link": "https://stackoverflow.com/users/1203785/salvatore-iovene"}, "edited": false, "score": 0, "creation_date": 1610396035, "post_id": 59379668, "comment_id": 116114904, "body": "I already have other <code>fields</code> that are specified with dictionary syntax. E.g. <code>fields = { &#39;foo&#39;: (&#39;lt&#39;, &#39;lte&#39;, &#39;exact&#39;, &#39;gt&#39;, &#39;gte&#39;) }</code>. How can integrate <code>ids</code> in that dictionary?"}], "tags": [], "owner": {"reputation": 2056, "user_id": 2209909, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/qdaUf.jpg?s=128&g=1", "display_name": "Dap", "link": "https://stackoverflow.com/users/2209909/dap"}, "is_accepted": false, "score": 5, "last_activity_date": 1602354761, "last_edit_date": 1602354761, "creation_date": 1576605325, "answer_id": 59379668, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r/59379668#59379668", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>You can use <a href=\"https://django-filter.readthedocs.io/en/master/\" rel=\"nofollow noreferrer\">django-filter</a> and set it up as a filter and avoid over riding the get_queryset method on the viewset</p>\n<p>Given this request</p>\n<pre><code>/api/snippets/?ids=1,2,3,4\n</code></pre>\n<p>Then write a django filter set and method</p>\n<pre><code>import django_filters\n\n\ndef filter_by_ids(queryset, name, value):\n    values = value.split(',')\n    return queryset.filter(id__in=values)\n\n\nclass SnippetFilterSet(django_filters.FilterSet):\n   ids = django_filters.CharFilter(method=filter_by_ids)\n    \n   class Meta:\n      model = Snippet\n      fields = ['ids']\n</code></pre>\n<p>And then in your ModelViewSet</p>\n<pre><code>from rest_framework.viewsets import ModelViewSet\nfrom app.snippets.models import Snippet\nfrom app.snippets.filters import SnippetFilterSet # path to filterset\n\nclass SnippetView(ModelViewSet):\n    queryset = Snippet.objects.all()\n    serializer_class = SnippetSerializer\n    filterset_class = SnippetFilterSet\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 4293747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hR52x.jpg?s=128&g=1", "display_name": "cameron-f", "link": "https://stackoverflow.com/users/4293747/cameron-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10210, "favorite_count": 4, "accepted_answer_id": 32876443, "answer_count": 6, "score": 13, "last_activity_date": 1602354761, "creation_date": 1443650189, "last_edit_date": 1576623322, "question_id": 32876275, "link": "https://stackoverflow.com/questions/32876275/how-to-filter-for-multiple-ids-from-a-query-param-on-a-get-request-with-django-r", "title": "How to filter for multiple ids from a query param on a GET request with django rest framework?", "body": "<p>I'm trying to make a web app API.  I want to make an API request where multiple ids can be submitted.</p>\n\n<p>The <a href=\"http://www.django-rest-framework.org/#tutorial\" rel=\"noreferrer\">django rest framework tutorial</a> shows how to get all records from a model.  For example <a href=\"http://127.0.0.1:8000/snippets/\" rel=\"noreferrer\">http://127.0.0.1:8000/snippets/</a> will return all snippet records.  The tutorial also shows how to retrieve a single item from a model. <a href=\"http://127.0.0.1:8000/snippets/2/\" rel=\"noreferrer\">http://127.0.0.1:8000/snippets/2/</a> will return only snippet record with pk=2.  </p>\n\n<p>I'd like to be able to request multiple records, but not all records.</p>\n\n<p>How could I change this code so I could request multiple snippets?</p>\n\n<p>snippets/urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom snippets import views\n\nurlpatterns = [\n    url(r'^snippets/$', views.snippet_list),\n    url(r'^snippets/(?P&lt;pk&gt;[0-9]+)/$', views.snippet_detail),\n]\n</code></pre>\n\n<p>snippets/views.py</p>\n\n<pre><code>def snippet_detail(request, *pk):\n    try:\n        snippet = Snippet.objects.filter(pk__in=pk)\n    except Snippet.DoesNotExist:\n        return HttpResponse(status=404)\n\n    if request.method == 'GET':\n        serializer = SnippetSerializer(snippet)\n        return JSONResponse(serializer.data)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 5, "creation_date": 1443650130, "post_id": 32876228, "comment_id": 53583859, "body": "Simple: change <code>file.read()</code> to <code>file.readlines()</code>."}, {"owner": {"reputation": 123, "user_id": 5374197, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10152996685866755/picture?type=large", "display_name": "xponent", "link": "https://stackoverflow.com/users/5374197/xponent"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1443650294, "post_id": 32876228, "comment_id": 53583932, "body": "Thank you! I figured I was overlooking something simple"}, {"owner": {"reputation": 817, "user_id": 5145800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca025f397bd10460e52920cf0479ce9?s=128&d=identicon&r=PG", "display_name": "jlnabais", "link": "https://stackoverflow.com/users/5145800/jlnabais"}, "edited": false, "score": 0, "creation_date": 1443650328, "post_id": 32876228, "comment_id": 53583943, "body": "Also: Don&#39;t forget to close the files more <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1443650392, "post_id": 32876228, "comment_id": 53583967, "body": "@MarkRansom or dont put read or readlines ... since thats its iter behaviour anyway :P"}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1443651120, "post_id": 32876303, "comment_id": 53584221, "body": "Can&#39;t call <code>reversed</code> on a file iterator. If you could, you could save even more work with <code>wfile.writelines(reversed(open(&quot;some_file.txt&quot;)))</code>, but sadly, it&#39;s not legal."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1443652186, "post_id": 32876303, "comment_id": 53584549, "body": "meh i guess you could just wrap it in list (i edited it to do just this)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1443652158, "last_edit_date": 1443652158, "creation_date": 1443650336, "answer_id": 32876303, "question_id": 32876228, "link": "https://stackoverflow.com/questions/32876228/python-read-from-file-write-in-reversed-order/32876303#32876303", "title": "Python Read From File, Write in Reversed Order", "body": "<p>you mean something like </p>\n\n<pre><code>wfile.write(\"\".join(reversed(list(open(\"some_file.txt\")))))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1443651183, "post_id": 32876423, "comment_id": 53584242, "body": "Or push the work to the file objects themselves replacing the <code>for</code> loop with <code>writef.writelines(reversed(readf.readlines()))</code>"}, {"owner": {"reputation": 601, "user_id": 5395095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9fbe0bd0262a8074c6a8cf63fb44d?s=128&d=identicon&r=PG&f=1", "display_name": "btmcnellis", "link": "https://stackoverflow.com/users/5395095/btmcnellis"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1443651443, "post_id": 32876423, "comment_id": 53584327, "body": "Good point. It&#39;s also worth noting that reading the entire file into memory with <code>readlines</code> probably isn&#39;t a good idea in general if you don&#39;t know how big the file is going to be."}], "tags": [], "owner": {"reputation": 601, "user_id": 5395095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9fbe0bd0262a8074c6a8cf63fb44d?s=128&d=identicon&r=PG&f=1", "display_name": "btmcnellis", "link": "https://stackoverflow.com/users/5395095/btmcnellis"}, "is_accepted": true, "score": 4, "last_activity_date": 1443651034, "creation_date": 1443651034, "answer_id": 32876423, "question_id": 32876228, "link": "https://stackoverflow.com/questions/32876228/python-read-from-file-write-in-reversed-order/32876423#32876423", "title": "Python Read From File, Write in Reversed Order", "body": "<p>You may want to note that it's usually easier and safer to use the <code>with</code> statement. That way you don't have to worry about opening a file and forgetting to close it. Plus, if an exception occurs inside the <code>with</code> block, the file is still closed automatically; you'd have to use a <code>try...finally</code> statement to do this without <code>with</code>.</p>\n\n<p>Here's your example using <code>with</code>:</p>\n\n<pre><code>with open('yolo.txt', 'r') as readf, open('yip.txt', 'w') as writef:\n    for line in reversed(readf.readlines()):\n        writef.write(line)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 5374197, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10152996685866755/picture?type=large", "display_name": "xponent", "link": "https://stackoverflow.com/users/5374197/xponent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 32876423, "answer_count": 2, "score": 0, "last_activity_date": 1443652158, "creation_date": 1443650001, "question_id": 32876228, "link": "https://stackoverflow.com/questions/32876228/python-read-from-file-write-in-reversed-order", "title": "Python Read From File, Write in Reversed Order", "body": "<p>I'm doing an exercise from a book, and can't figure this out; this isn't homework, I'm trying to teach myself, and I have been trying anything that I can think of to make this work!</p>\n\n<p>I need to read lines from a text file, and then write the lines into a new file, in reversed order.</p>\n\n<p>My problem is, I can get it into reversed order (I'm assuming that it means last line of the 'r' file is printed first in the 'w' file), but it also prints the words reversed, making it unreadable.</p>\n\n<p>Is there a way to possibly write the lines in reversed order, but the lines stay readable?</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>filetoread = 'yolo.txt'\nfile = open(filetoread, 'r')\nwords = file.read()\nwrf = 'yip.txt'\nwfile = open(wrf, 'w')\n\n\nfor lines in reversed(list(words)):\n    print wfile.write(lines)\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-2.7"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1443650168, "post_id": 32876213, "comment_id": 53583878, "body": "did you import <code>threading</code> and <code>Queue</code>?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1443650685, "post_id": 32876213, "comment_id": 53584078, "body": "Sorry, works for me. I&#39;m on ubuntu."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1443650728, "post_id": 32876213, "comment_id": 53584095, "body": "FYI, <code>Queue</code> doesn&#39;t implement <code>__len__</code> or <code>__bool__</code>/<code>__nonzero__</code>, so <code>while queue:</code> isn&#39;t actually testing anything meaningful (if it&#39;s called with a <code>Queue</code>, it&#39;s equivalent to <code>while True:</code>, which would be a reasonable and more obvious replacement since your <code>try</code>/<code>except</code>/<code>break</code> pattern will properly end the loop anyway)."}, {"owner": {"reputation": 3903, "user_id": 1225744, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/965e7fce619a96b6163a4f8feaef7355?s=128&d=identicon&r=PG", "display_name": "elelias", "link": "https://stackoverflow.com/users/1225744/elelias"}, "edited": false, "score": 0, "creation_date": 1443650924, "post_id": 32876213, "comment_id": 53584156, "body": "works for me too on redhat"}], "owner": {"reputation": 239, "user_id": 4140266, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/6b018d3c19e13ded8e2be5d22a2e8e3b?s=128&d=identicon&r=PG&f=1", "display_name": "leakybytes", "link": "https://stackoverflow.com/users/4140266/leakybytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1443649928, "creation_date": 1443649928, "question_id": 32876213, "link": "https://stackoverflow.com/questions/32876213/python-basic-threading-issue", "title": "Python basic threading issue", "body": "<p>Trying to do a simple threading operation with queues. There's no run error, but my function isn't executing. </p>\n\n<p>Heres my code:</p>\n\n<pre><code>data = ['1', '2', '3']\n\ndef do_stuff(arg1):\n    print arg1\n\ndef start(num_threads):\n    q = Queue.Queue()\n    for item in data:\n       q.put(item)\n\n    for i in xrange(num_threads):\n        t = threading.Thread(target=run, args=(do_stuff, q))\n        t.start()\n\ndef run(func, queue):\n    while queue:\n        try:\n            func(queue.get(False))\n        except Queue.Empty:\n            break\n\nstart(2)\n</code></pre>\n"}, {"tags": ["python", "regression", "statsmodels"], "comments": [{"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 1, "creation_date": 1443653557, "post_id": 32876190, "comment_id": 53584953, "body": "OLS can predict for given explanatory variables. To me it looks like the mistake is that the prediction data for the explanatory variables is not in the call to predict, i.e. check parenthesis <code>result.predict([df2[(df2.month == 10) &amp; (df2.year == 2015)])</code>. predict without arguments returns the <code>fittedvalues</code> for the sample that was used in the estimation."}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 962401, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ak0FM.jpg?s=128&g=1", "display_name": "asselinpaul", "link": "https://stackoverflow.com/users/962401/asselinpaul"}, "edited": false, "score": 0, "creation_date": 1443651881, "post_id": 32876536, "comment_id": 53584463, "body": "Am I correct that it should theoretically be possible to predict out of the sample using the regression established by using the rows that are populated?"}, {"owner": {"reputation": 3903, "user_id": 1225744, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/965e7fce619a96b6163a4f8feaef7355?s=128&d=identicon&r=PG", "display_name": "elelias", "link": "https://stackoverflow.com/users/1225744/elelias"}, "reply_to_user": {"reputation": 236, "user_id": 962401, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ak0FM.jpg?s=128&g=1", "display_name": "asselinpaul", "link": "https://stackoverflow.com/users/962401/asselinpaul"}, "edited": false, "score": 0, "creation_date": 1443655097, "post_id": 32876536, "comment_id": 53585372, "body": "sure, that is indeed the point. When you call predict() with no arguments, you are using your estimated parameters over the data you used for the fit. In your original case, that returned a list of 5 predictions. In your edit, you are now explicitly telling statsmodels over what data it should do the prediction"}], "tags": [], "owner": {"reputation": 3903, "user_id": 1225744, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/965e7fce619a96b6163a4f8feaef7355?s=128&d=identicon&r=PG", "display_name": "elelias", "link": "https://stackoverflow.com/users/1225744/elelias"}, "is_accepted": false, "score": 0, "last_activity_date": 1443651706, "creation_date": 1443651706, "answer_id": 32876536, "question_id": 32876190, "link": "https://stackoverflow.com/questions/32876190/out-of-sample-prediction-in-statsmodel-with-nan-values/32876536#32876536", "title": "Out of sample prediction in statsmodel with NaN values", "body": "<p>Your problem, I believe, is that the data over which you are regressing only has 5 entries in which not all the input is NaN. Therefore this:</p>\n\n<pre><code>result.predict()\n</code></pre>\n\n<p>Returns an array of 5 elements, but this:</p>\n\n<pre><code>df2[(df2.month == 10) &amp; (df2.year == 2015)].index[0]\n</code></pre>\n\n<p>returns '7', as the slicing you are performing returns one row, which corresponds to the 8th row in your original dataframe. So you are asking \"give me the 8th element of this array of length 5\" and it therefore breaks.</p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 962401, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ak0FM.jpg?s=128&g=1", "display_name": "asselinpaul", "link": "https://stackoverflow.com/users/962401/asselinpaul"}, "is_accepted": false, "score": 0, "last_activity_date": 1443654408, "creation_date": 1443654408, "answer_id": 32876948, "question_id": 32876190, "link": "https://stackoverflow.com/questions/32876190/out-of-sample-prediction-in-statsmodel-with-nan-values/32876948#32876948", "title": "Out of sample prediction in statsmodel with NaN values", "body": "<p>user333700 was correct, this solved my problem:</p>\n\n<pre><code>df2 = pd.read_csv('Paul_data/question12_prediction_data.csv')\nwindow_size = 4                                              #-1 due to zero-indexing of array\nwindow = df2.ix[0:window_size,:]\n\nresult = sm.ols(formula=\"log_sales ~ log_sales_l2 + vehicleshopping_l2 + vehiclebrand_l2 + actual_sales_edmunds_l1 + isSummer + isWinter\", data=window).fit()\nindex = df2[(df2.month == 10) &amp; (df2.year == 2015)].index[0] -1\nprint result.predict(df2)[index]\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 962401, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ak0FM.jpg?s=128&g=1", "display_name": "asselinpaul", "link": "https://stackoverflow.com/users/962401/asselinpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1542, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1443654408, "creation_date": 1443649780, "question_id": 32876190, "link": "https://stackoverflow.com/questions/32876190/out-of-sample-prediction-in-statsmodel-with-nan-values", "title": "Out of sample prediction in statsmodel with NaN values", "body": "<p>I have a dataset which is comprised of various values concerning auto_sales in the USA.</p>\n\n<p>I'm trying to predict the auto_sales for October 2010 using a simple OLS regression.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df2 = pd.read_csv('Paul_data/question12_prediction_data.csv')\nwindow_size = 7                                              #-1 due to zero-indexing of array\nwindow = df2.ix[0:window_size,:]\nprint window\n\nresult = sm.ols(formula=\"log_sales ~ log_sales_l2 + vehicleshopping_l2 + vehiclebrand_l2 + actual_sales_edmunds_l1 + isSummer + isWinter\", data=df2).fit()\nprint result.predict()[df2[(df2.month == 10) &amp; (df2.year == 2015)].index[0]]\n</code></pre>\n\n<p>window is the following data:</p>\n\n<pre><code>year  month  auto_sales  log_sales  log_sales_l1  log_sales_l2  \\\n0  2015      3       83352  11.330828     11.294807     11.317823   \n1  2015      4       83871  11.337035     11.330828     11.294807   \n2  2015      5       85489  11.356143     11.337035     11.330828   \n3  2015      6       84123  11.340035     11.356143     11.337035   \n4  2015      7       85320  11.354164     11.340035     11.356143   \n5  2015      8         NaN        NaN     11.354164     11.340035   \n6  2015      9         NaN        NaN           NaN     11.354164   \n7  2015     10         NaN        NaN           NaN           NaN   \n\n   log_sales_l3  GT_vehicleshopping  GT_vehiclemaintenance  GT_suvs  \\\n0     11.313523              0.1320                  0.694   0.0680   \n1     11.317823              0.1150                  0.745   0.0525   \n2     11.294807              0.1060                  0.754   0.0560   \n3     11.330828              0.0950                  0.785   0.0550   \n4     11.337035              0.1025                  0.870   0.1075   \n5     11.356143              0.1140                  0.794   0.1240   \n6     11.340035                 NaN                    NaN      NaN   \n7           NaN                 NaN                    NaN      NaN   \n\n          ...          vansminivans_l2  isWinter  isSummer  vehiclebrands  \\\n0         ...                   0.0900         1         0           0.08   \n1         ...                   0.1250         0         0           0.09   \n2         ...                   0.1580         0         0           0.09   \n3         ...                   0.1750         0         1           0.12   \n4         ...                   0.1920         0         1           0.17   \n5         ...                   0.2100         0         1            NaN   \n6         ...                   0.2175         0         0            NaN   \n7         ...                      NaN       NaN       NaN            NaN   \n\n   vehiclebrand_l1  vehiclebrand_l2  actual_sales_edmunds  edmund_forecast  \\\n0             0.05             0.03               1542841          1522881   \n1             0.08             0.05               1451790          1464176   \n2             0.09             0.08               1631234          1591221   \n3             0.09             0.09               1473142          1484487   \n4             0.12             0.09               1507643          1478025   \n5             0.17             0.12               1573573          1538958   \n6              NaN             0.17                   NaN              NaN   \n7              NaN              NaN                   NaN              NaN   \n\n   actual_sales_edmunds_l1  edmund_forecast_l1  \n0                  1255458             1285019  \n1                  1542841             1522881  \n2                  1451790             1464176  \n3                  1631234             1591221  \n4                  1473142             1484487  \n5                  1507643             1478025  \n6                  1573573             1538958  \n7                      NaN                 NaN  \n\n[8 rows x 32 columns]\n</code></pre>\n\n<p>However I get the following error:</p>\n\n<hr>\n\n<pre><code>IndexError                                Traceback (most recent call last)\n&lt;ipython-input-83-16bf72335e7f&gt; in &lt;module&gt;()\n      5 \n      6 result = sm.ols(formula=\"log_sales ~ log_sales_l2 + vehicleshopping_l2 + vehiclebrand_l2 + actual_sales_edmunds_l1 + isSummer + isWinter\", data=df2).fit()\n----&gt; 7 print result.predict()[df2[(df2.month == 10) &amp; (df2.year == 2015)].index[0]]\n      8 #np.exp(result.predict(df2.ix[x+(window_size)]))\n\nIndexError: index 7 is out of bounds for axis 0 with size 5\n</code></pre>\n\n<p>I'm not sure how to proceed at this point, I understand that I am trying to do out of sample prediction but everything I've tried so far has failed to solve the issue.</p>\n"}, {"tags": ["python", "string", "time"], "comments": [{"owner": {"reputation": 819, "user_id": 5344430, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/22a767f1a35d86e275a372055fcb40a0?s=128&d=identicon&r=PG&f=1", "display_name": "alksdjg", "link": "https://stackoverflow.com/users/5344430/alksdjg"}, "edited": false, "score": 7, "creation_date": 1443650290, "post_id": 32876110, "comment_id": 53583931, "body": "Duplicate of <a href=\"http://stackoverflow.com/questions/2933399/how-to-set-time-limit-on-input\" title=\"how to set time limit on input\">stackoverflow.com/questions/2933399/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/14029548/input-with-time-limit-countdown\" title=\"input with time limit countdown\">stackoverflow.com/questions/14029548/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/15528939/python-3-timed-input\">stackoverflow.com/questions/15528939/python-3-timed-input</a>, <a href=\"http://stackoverflow.com/questions/12667707/raw-input-with-a-time-limit\" title=\"raw input with a time limit\">stackoverflow.com/questions/12667707/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user774340"}, "edited": false, "score": 0, "creation_date": 1443650763, "post_id": 32876353, "comment_id": 53584106, "body": "<code>raw_input</code> and <code>input</code> block, so this&#39;ll never work. I think the question was badly phrased: usually, in this type of game, after the time is up, the game continues so this strategy can&#39;t be used."}, {"owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "edited": false, "score": 0, "creation_date": 1443650878, "post_id": 32876353, "comment_id": 53584135, "body": "@gecko And that&#39;s precisely why I set <code>start_time</code> before I call <code>raw_input()</code>. Just try running it; it works."}, {"owner": {"user_type": "does_not_exist", "display_name": "user774340"}, "edited": false, "score": 0, "creation_date": 1443650969, "post_id": 32876353, "comment_id": 53584169, "body": "See edited comment. It&#39;s not about waiting for input then failing if it took too long. It&#39;s about removing the option to answer after the timer elapses. i.e. interactive/realtime behaviour."}, {"owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "edited": false, "score": 0, "creation_date": 1443651219, "post_id": 32876353, "comment_id": 53584254, "body": "@gecko Ah, well it appears one of us misunderstood the OP. Based on the OP&#39;s code I thought that he/she just wanted to reject the answer if the user took more than 3 seconds. But you might be right that OP wants it to reject as soon as the 3 seconds are up (not when the user submits after 3 seconds)."}], "tags": [], "owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "is_accepted": false, "score": 0, "last_activity_date": 1443650910, "last_edit_date": 1443650910, "creation_date": 1443650637, "answer_id": 32876353, "question_id": 32876110, "link": "https://stackoverflow.com/questions/32876110/certain-amount-of-time-to-input-in-python/32876353#32876353", "title": "Certain Amount of Time to Input in Python?", "body": "<p>You were very close. One thing that you missed was that you need to start the timer before you prompt the user for input. If you do not do this, the program will wait for the users input before starting the timer, which will always cause the \"in less than 3 seconds\" condition to be true. Another change I made was storing the value of the randomly selected word so that you can display it and, later in the program, verify that the user's input matches later.</p>\n\n<pre><code>import random\nimport time\n\nlvl1 = [\n 'Hi', 'Friend', 'Say', 'Smelly',\n 'Made', 'Tree', 'Python', 'Freak'\n]\n\nword = random.choice(lvl1)\nstart_time = time.time()\none = raw_input(\"You have 3 seconds to type: {}\\n\".format(word))\n\nwhile time.time() - start_time &gt; 3 or one != word:\n    print(\"Wrong!\")\n    start_time = time.time()\n    one = raw_input(\"Try again: \")\nprint(\"Correct\")\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 11, "user_id": 4445527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1addb9c5035c222a882e70e2074c4e95?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateSuperSkittles", "link": "https://stackoverflow.com/users/4445527/privatesuperskittles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1906, "favorite_count": 0, "closed_date": 1443671968, "answer_count": 1, "score": 0, "last_activity_date": 1443651217, "creation_date": 1443649426, "question_id": 32876110, "link": "https://stackoverflow.com/questions/32876110/certain-amount-of-time-to-input-in-python", "closed_reason": "Duplicate", "title": "Certain Amount of Time to Input in Python?", "body": "<p>I'm making a simple Python Text Adventure Game, and I want to know a way how to make a simple function that asks for a user input; however, I want the program to ONLY accept the input before a certain duration (in my program I'm using 3 seconds). Furthermore, I want the function to check the correctness of the input before accepting it as right. My attempt is as follows:</p>\n\n<pre><code>lvl1 = [\n 'Hi', 'Friend', 'Say', 'Smelly',\n 'Made', 'Tree', 'Python', 'Freak'\n]\n\none = raw_input(\"You have 3 seconds to type: \" + random.choice(lvl1))\nendtime = time.time() + 3\nwhile time.time() &lt;= endtime and lvl1[0:]: \n  print(\"Wrong!\")\n  one = raw_input(\"Try again: \")\nprint(\"Correct\")\n</code></pre>\n\n<p>Basically what I want this code to do is to get an input from the user in (less than or equal to) a 3 second time duration, but before congratulating the user, make sure that their input is the same as one of the strings in the 'lvl1' array.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 3804, "user_id": 940947, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hzkl2.jpg?s=128&g=1", "display_name": "joaoricardo000", "link": "https://stackoverflow.com/users/940947/joaoricardo000"}, "edited": false, "score": 0, "creation_date": 1443649494, "post_id": 32876023, "comment_id": 53583592, "body": "Try to put the Class inside &quot;&quot;. models.ManyToManyField(&quot;ApiCountry&quot;,..."}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1443673884, "post_id": 32876023, "comment_id": 53589650, "body": "are you update_sockets method outside the django project?"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4758039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bcdf588fd3e762a83dc0d2944cd7f18?s=128&d=identicon&r=PG", "display_name": "omkarvijay", "link": "https://stackoverflow.com/users/4758039/omkarvijay"}, "is_accepted": false, "score": 0, "last_activity_date": 1443679773, "creation_date": 1443679773, "answer_id": 32880515, "question_id": 32876023, "link": "https://stackoverflow.com/questions/32876023/django-django-rest-framework-cannot-add-m2m-relation-between-objects/32880515#32880515", "title": "Django + Django-Rest framework cannot add M2M relation between objects", "body": "<p>I had similar issue.\ntry to add these lines at the beginning of your program</p>\n\n<p>import django</p>\n\n<p>django.setup()</p>\n\n<p>reference: <a href=\"https://docs.djangoproject.com/en/1.8/topics/settings/#calling-django-setup-is-required-for-standalone-django-usage\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/topics/settings/#calling-django-setup-is-required-for-standalone-django-usage</a></p>\n"}], "owner": {"reputation": 175, "user_id": 3450486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6de0cf4b21f34a53466246197a86f6b9?s=128&d=identicon&r=PG&f=1", "display_name": "user3450486", "link": "https://stackoverflow.com/users/3450486/user3450486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443679773, "creation_date": 1443649000, "question_id": 32876023, "link": "https://stackoverflow.com/questions/32876023/django-django-rest-framework-cannot-add-m2m-relation-between-objects", "title": "Django + Django-Rest framework cannot add M2M relation between objects", "body": "<p>I am developing rest api with DRF and have the issue that when I try to add m2m relation between already existing objects in db I get error:</p>\n\n<pre><code>raise AppRegistryNotReady(\"Models aren't loaded yet.\")\ndjango.core.exceptions.AppRegistryNotReady: Models aren't loaded yet.\n</code></pre>\n\n<p>Everything works fine when I try to do the same thing from console. Problem occurs when I execute method:</p>\n\n<pre><code>@staticmethod\ndef update_sockets():\n    c1 = ApiCountry.objects.all()[3]\n    s1 = SocketType.objects.all()[2]\n    c1.socketType.add(s1)\n    c1.save()\n</code></pre>\n\n<p>Models are:</p>\n\n<pre><code>class SocketType(models.Model):\n    name = models.CharField(max_length=1, blank=True)\n    country = models.ManyToManyField(ApiCountry, blank=True, related_name='socketType')\n\nclass ApiCountry(models.Model):\n    countryCode = models.CharField(max_length=5, unique=True, blank=True)\n    name = models.CharField(max_length=50, blank=True)\n</code></pre>\n"}, {"tags": ["python", "arrays", "json", "sorting", "parsing"], "comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1443649424, "post_id": 32875994, "comment_id": 53583565, "body": "regarding sorting read this <a href=\"http://stackoverflow.com/questions/613183/sort-a-python-dictionary-by-value\" title=\"sort a python dictionary by value\">stackoverflow.com/questions/613183/&hellip;</a>"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1443649583, "post_id": 32875994, "comment_id": 53583635, "body": "it&#39;s a bit confusing. can you add step by step explanation? for the first dictionary, YCSI has the highest value, but in the new dictionary its value is not set to 1. what are the logic for setting values to 0,2,3?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1443649838, "post_id": 32875994, "comment_id": 53583743, "body": "I think the easiest solution is to sort the list of dict <code>N</code> times (one for each property you want to &quot;rank&quot;) and then replace the values with the index in the sorted array ..."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443651196, "post_id": 32875994, "comment_id": 53584248, "body": "The indices in your sample output do not match the semantics you describe.  Please correct them, so we have some idea of what you want to do."}, {"owner": {"reputation": 993, "user_id": 2732946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3oH3W.jpg?s=128&g=1", "display_name": "Marin", "link": "https://stackoverflow.com/users/2732946/marin"}, "edited": false, "score": 0, "creation_date": 1443651494, "post_id": 32875994, "comment_id": 53584345, "body": "Output sample changed."}], "answers": [{"tags": [], "owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1443662739, "last_edit_date": 1443662739, "creation_date": 1443652323, "answer_id": 32876618, "question_id": 32875994, "link": "https://stackoverflow.com/questions/32875994/python-dictionary-compare-values/32876618#32876618", "title": "Python dictionary - compare values", "body": "<pre><code>import six\n\nraw_object = [\n    {\n        \"YCI\": 0.014076729909151329,\n        \"TCI\": 0.5610661498232027,\n        \"FCI\": 0.327632092582722,\n        \"TFCI\": 3.04906430661623,\n        \"naziv\": \"HDZ\",\n        \"YCSI\": 14.49723089452966\n    },\n    {\n        \"YCI\": 0.04249999676677044,\n        \"TCI\": 0.33129318126147167,\n        \"FCI\": 1.677073944380761,\n        \"TFCI\": 4.326953034001479,\n        \"naziv\": \"HNS\",\n        \"YCSI\": 56.80909574468085\n    },\n    {\n        \"YCI\": 0,\n        \"TCI\": 0.40603351151808614,\n        \"FCI\": 0,\n        \"TFCI\": 12.61045547126369,\n        \"naziv\": \"HSP AS\",\n        \"YCSI\": 0\n    },\n    {\n        \"YCI\": 2.231205214448367,\n        \"TCI\": 0,\n        \"FCI\": 0,\n        \"TFCI\": 0,\n        \"naziv\": \"HSS\",\n        \"YCSI\": 949.343111111111\n    }\n]\n\n#make a list (equal in length to original object) of empty dictionaries\nranks_object = [{} for i in raw_object]\n\n#iterate through each key in the first dictionary\n#(I assumed that all dictionaries will have the same keys)\nfor key in raw_object[0]:\n\n    #create a list with the value for this key from all dictionaries \n    raw_list = [group[key] for group in raw_object]\n\n    #sort and store the list\n    sorted_raw_list = sorted(raw_list)\n\n    #create a list of the ranks of each of the raw values\n    #if the value is greater than zero, a value's rank is the length\n    #  of the raw list minus the index of the value in the sorted list\n    #otherwise, the rank should be 0 (as indicated by OP's desired output)\n    ranks = [len(raw_list) - sorted_raw_list.index(value) if value &gt; 0 else 0 for value in raw_list]\n\n    #iterate through each rank in the ranks list (with access to the\n    #  list index, which will be used to make sure that the rank is\n    #  inserted into the proper dictionary)\n    for index, rank in enumerate(ranks):\n\n        #if the value for the key in the first dictionary is a string,\n        #  insert the original value with the key\n        #(I assumed that if one dictionary has a string value for a\n        #  certain key, all of the dictionaries do as well)\n        if isinstance(raw_object[0][key], six.string_types):\n            ranks_object[index][key] = raw_object[index][key]\n\n        #otherwise insert the rank with the key\n        else:\n            ranks_object[index][key] = rank\n\n#display each rank dictionary separately to improve readability\nfor x in ranks_object:\n    print x\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 993, "user_id": 2732946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3oH3W.jpg?s=128&g=1", "display_name": "Marin", "link": "https://stackoverflow.com/users/2732946/marin"}, "edited": false, "score": 0, "creation_date": 1443683218, "post_id": 32877640, "comment_id": 53593313, "body": "Thanks for answer @LetzerWille"}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": true, "score": 1, "last_activity_date": 1443667460, "last_edit_date": 1443667460, "creation_date": 1443658925, "answer_id": 32877640, "question_id": 32875994, "link": "https://stackoverflow.com/questions/32875994/python-dictionary-compare-values/32877640#32877640", "title": "Python dictionary - compare values", "body": "<pre><code>def rank_by_value(list_dicts):\n\n    from operator import  itemgetter\n    from itertools import groupby\n\n    nums = []\n    symbs = []\n\n    # separting keys, values into two lists\n    # one for numeric values, the other for string values\n    for indx, d in enumerate(list_dicts):\n        for k, val in d.items():\n            if type(val) in (int,float):\n                nums.append((indx,k,val))\n            else:\n                symbs.append((indx,{k:val}))\n\n    groups = []\n    # grouping lists\n    for k, g in groupby(nums, key=itemgetter(0)):\n        groups.append(list(g))\n\n    allData = []\n    # sorting lists by by each dictionry values and assinging ranks\n    for g in groups:\n        sort_ed = sorted(g, key=itemgetter(2), reverse=True)\n        ranked = [ list((t,i+1)) for i,t in enumerate(sort_ed)]\n        allData.append(ranked)\n        ranked = []\n\n    # remove numerical data\n    for zero in allData:\n        for i, el in enumerate(zero):\n           one,two, _ = el[0]\n           zero[i] = one,(two, el[1])\n\n    # now creating dictionaries anew\n    list_of_dict = []\n    dict_temp = {}\n\n    for i, (el, sy) in enumerate(zip(allData, symbs)) :\n        for l in el:\n            name_, rank_ = l[1]\n            dict_temp[name_] = rank_\n        dict_temp.update(symbs[i][1])\n        list_of_dict.append(dict_temp)\n        dict_temp = {}\n\n\n\n    return list_of_dict\n\n\n\n for el in rank_by_value(jsn):\n    print(el)\n\n\n{'TCI': 3, 'YCSI': 1, 'naziv': 'HDZ', 'YCI': 5, 'FCI': 4, 'TFCI': 2}\n{'TCI': 4, 'YCSI': 1, 'naziv': 'HNS', 'YCI': 5, 'FCI': 3, 'TFCI': 2}\n{'TCI': 2, 'YCSI': 3, 'naziv': 'HSP AS', 'YCI': 4, 'FCI': 5, 'TFCI': 1}\n{'TCI': 3, 'YCSI': 1, 'naziv': 'HSS', 'YCI': 2, 'FCI': 4, 'TFCI': 5}\n</code></pre>\n"}], "owner": {"reputation": 993, "user_id": 2732946, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3oH3W.jpg?s=128&g=1", "display_name": "Marin", "link": "https://stackoverflow.com/users/2732946/marin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 32877640, "answer_count": 2, "score": -1, "last_activity_date": 1443667460, "creation_date": 1443648783, "last_edit_date": 1443651465, "question_id": 32875994, "link": "https://stackoverflow.com/questions/32875994/python-dictionary-compare-values", "title": "Python dictionary - compare values", "body": "<p>The question is how to parse dictionary by key extract values based on max and low value. Then compare values in it, and add some key, value based on calculation. Maybe the question is messy but I will provide more explanation with code.</p>\n\n<h1>json object</h1>\n\n<pre><code>[\n    {\n        \"YCI\": 0.014076729909151329,\n        \"TCI\": 0.5610661498232027,\n        \"FCI\": 0.327632092582722,\n        \"TFCI\": 3.04906430661623,\n        \"naziv\": \"HDZ\",\n        \"YCSI\": 14.49723089452966\n    },\n    {\n        \"YCI\": 0.04249999676677044,\n        \"TCI\": 0.33129318126147167,\n        \"FCI\": 1.677073944380761,\n        \"TFCI\": 4.326953034001479,\n        \"naziv\": \"HNS\",\n        \"YCSI\": 56.80909574468085\n    },\n    {\n        \"YCI\": 0,\n        \"TCI\": 0.40603351151808614,\n        \"FCI\": 0,\n        \"TFCI\": 12.61045547126369,\n        \"naziv\": \"HSP AS\",\n        \"YCSI\": 0\n    },\n    {\n        \"YCI\": 2.231205214448367,\n        \"TCI\": 0,\n        \"FCI\": 0,\n        \"TFCI\": 0,\n        \"naziv\": \"HSS\",\n        \"YCSI\": 949.343111111111\n    }\n]\n</code></pre>\n\n<p>Ok, this is my dictionary. Now how to compare keys in dictionary:</p>\n\n<ul>\n<li>YCI</li>\n<li>TCI</li>\n<li>FCI</li>\n<li>TFCI</li>\n<li>naziv</li>\n<li>YSCI</li>\n</ul>\n\n<p>with each other based on their values. If value YCI has highest value then YCI, it should set number 1 in the new dictionary, and that logic is also applied to other keys in dictionary.\nThe output would be something like:</p>\n\n<h1>json-output</h1>\n\n<pre><code>  [\n    {\n        \"YCI\": 3,\n        \"TCI\": 1,\n        \"FCI\": 2,\n        \"TFCI\": 3,\n        \"naziv\": \"HDZ\",\n        \"YCSI\": 3\n    },\n    {\n        \"YCI\": 2,\n        \"TCI\": 3,\n        \"FCI\": 1,\n        \"TFCI\": 2,\n        \"naziv\": \"HNS\",\n        \"YCSI\": 2\n    },\n    {\n        \"YCI\": 0,\n        \"TCI\": 2,\n        \"FCI\": 0,\n        \"TFCI\": 1,\n        \"naziv\": \"HSP AS\",\n        \"YCSI\": 0\n    },\n    {\n        \"YCI\": 1,\n        \"TCI\": 0,\n        \"FCI\": 0,\n        \"TFCI\": 0,\n        \"naziv\": \"HSS\",\n        \"YCSI\": 1\n    }\n]\n</code></pre>\n\n<p>The highest value gets number 1 and the lowest value depends on how many objects dictionary contains. </p>\n\n<h1>code-try</h1>\n\n<pre><code>print max(nvalues[0].iteritems(), key=operator.itemgetter(1))[1]\n</code></pre>\n\n<p>With this code I can extract the highest value, but how to sort dictionary within its values. If you could give me some logic to solve this, I would appreciate.</p>\n"}, {"tags": ["python", "facebook", "facebook-graph-api", "oauth", "server-side"], "answers": [{"tags": [], "owner": {"reputation": 1605, "user_id": 3791534, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pTRW0.jpg?s=128&g=1", "display_name": "AlexKoren", "link": "https://stackoverflow.com/users/3791534/alexkoren"}, "is_accepted": true, "score": 0, "last_activity_date": 1443723784, "creation_date": 1443723784, "answer_id": 32894355, "question_id": 32875963, "link": "https://stackoverflow.com/questions/32875963/facebook-access-token-for-single-user-application/32894355#32894355", "title": "Facebook Access Token for Single User Application", "body": "<p>I managed to figure this out. Here's what I did:</p>\n\n<p>I went to the Graph API Explorer (<a href=\"https://developers.facebook.com/tools/explorer\" rel=\"nofollow\">https://developers.facebook.com/tools/explorer</a>) and then got an access token from there for my application.</p>\n\n<p>Once I had the token I used this URL to get a long lived token using that access token:</p>\n\n<pre><code>token_exchange_url = 'https://graph.facebook.com/oauth/access_token?\n                      client_id=APP_ID&amp;\n                      client_secret=APP_SECRET&amp;\n                      grant_type=fb_exchange_token&amp;\n                      fb_exchange_token=ACCESS_TOKEN'\n\nexchange_response = urllib.urlopen(token_exchange_url).read()\naccess_token = exchange_response.replace('access_token=', '')\naccess_token = access_token[:access_token.index('&amp;')]\n</code></pre>\n\n<p>I then saved that access_token and on any subsequent call I can update the access_token using that code whenever in order to make sure it's refreshed.</p>\n"}], "owner": {"reputation": 1605, "user_id": 3791534, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pTRW0.jpg?s=128&g=1", "display_name": "AlexKoren", "link": "https://stackoverflow.com/users/3791534/alexkoren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 32894355, "answer_count": 1, "score": 0, "last_activity_date": 1443723784, "creation_date": 1443648626, "question_id": 32875963, "link": "https://stackoverflow.com/questions/32875963/facebook-access-token-for-single-user-application", "title": "Facebook Access Token for Single User Application", "body": "<p>I'm creating an application on Facebook that will only ever have one user: me. I'm not making a GUI for the application, which means that there's no client side auth.</p>\n\n<p>Is there a way that I can use my username and password or some other app information to get an access token for myself?</p>\n\n<p>I'm familiar with the refresh token flows and everything for OAuth applications for other people, but I've never done this without some sort of Facebook login button, especially on a one person application. I'm happy to hard code in my user information.</p>\n\n<p>I've tried using this:</p>\n\n<pre><code>access_token_url = 'https://graph.facebook.com/oauth/access_token?type=client_cred&amp;client_id=' + config['app_id'] + '&amp;client_secret=' + config['app_secret']\ntoken_response = urllib.urlopen(access_token_url).read()\naccess_token = token_response.replace('access_token=', '')\nsession = FacebookSession(\n    config['app_id'],\n    config['app_secret'],\n    access_token,\n)\n</code></pre>\n\n<p>But that doesn't give me an access token specific to my own account, only one for the application itself.</p>\n"}, {"tags": ["python", "function", "reflection"], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 6, "last_activity_date": 1443648475, "creation_date": 1443648475, "answer_id": 32875926, "question_id": 32875881, "link": "https://stackoverflow.com/questions/32875881/retrieve-the-names-of-and-default-values-of-the-arguments-accepted-by-a-specif/32875926#32875926", "title": "Retrieve the names of (and default values of) the arguments accepted by a specified function", "body": "<p>I think you're describing <a href=\"https://docs.python.org/2/library/inspect.html#inspect.getargspec\"><code>inspect.getargspec</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; from inspect import getargspec\n&gt;&gt;&gt; getargspec(foo)\nArgSpec(args=['a', 'b', 'c'], varargs=None, keywords=None, defaults=(1.0, None))\n</code></pre>\n\n<p>You can also use <a href=\"https://docs.python.org/3/library/inspect.html#inspect.signature\"><code>signature</code></a> in 3.x:</p>\n\n<pre><code>&gt;&gt;&gt; from inspect import signature\n&gt;&gt;&gt; signature(foo)\n&lt;Signature (a, b=1.0, c=None)&gt;\n</code></pre>\n"}], "owner": {"reputation": 10590, "user_id": 2501018, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7cb07efb8f39856500468aa6de85858f?s=128&d=identicon&r=PG", "display_name": "8one6", "link": "https://stackoverflow.com/users/2501018/8one6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32875926, "answer_count": 1, "score": 2, "last_activity_date": 1443648661, "creation_date": 1443648265, "last_edit_date": 1443648357, "question_id": 32875881, "link": "https://stackoverflow.com/questions/32875881/retrieve-the-names-of-and-default-values-of-the-arguments-accepted-by-a-specif", "title": "Retrieve the names of (and default values of) the arguments accepted by a specified function", "body": "<p>Say I have a function, <code>foo</code> which has some arguments...some positional and some keyword:</p>\n\n<pre><code>def foo(a, b=1.0, c=None):\n    print a\n    print c\n    return 2 * b\n</code></pre>\n\n<p>Is there another function I can call with <code>foo</code> as an argument (or a method of <code>foo</code> which I can call) that will return to me a list of the positional arguments of <code>foo</code> as well as a list of tuples of the keyword arguments of foo along with their default values?  Specifically, calling:</p>\n\n<pre><code>the_function_i_want(foo)\n</code></pre>\n\n<p>should return</p>\n\n<pre><code>(('a',), (('b', 1.0), ('c', None)))\n</code></pre>\n\n<p>Or something like that.  To be clear I do <em>not</em> want a way to figure out what values were passed to <code>foo</code> one particular time that it was called.  Instead I want information about the function signature of <code>foo</code> in a programatic way.  </p>\n\n<p>(The use case I have in mind is to automatically make a web form which will be able to submit appropriate data to serve as the arguments of a specified function.  So that if I call <code>web_form(foo)</code> in the appropriate way, it will be able to render a web form with spaces for each of the arguments of <code>foo</code> with the default calling values pre-filled in an appropriate way.)</p>\n"}, {"tags": ["python", "python-2.7", "lambda", "scapy"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1443648277, "post_id": 32875859, "comment_id": 53583078, "body": "See <a href=\"http://stackoverflow.com/q/10607293/3001761\">stackoverflow.com/q/10607293/3001761</a>"}, {"owner": {"reputation": 1117, "user_id": 4844191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/s2iuk.jpg?s=128&g=1", "display_name": "Bob Ebert", "link": "https://stackoverflow.com/users/4844191/bob-ebert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443651565, "post_id": 32875859, "comment_id": 53584370, "body": "@jonrsharpe   to be honest, I still do not know how to fix the problem"}, {"owner": {"reputation": 1117, "user_id": 4844191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/s2iuk.jpg?s=128&g=1", "display_name": "Bob Ebert", "link": "https://stackoverflow.com/users/4844191/bob-ebert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443651874, "post_id": 32875859, "comment_id": 53584460, "body": "changing to lambda s_r: r.sprintf ---- says r is not defined"}, {"owner": {"reputation": 1117, "user_id": 4844191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/s2iuk.jpg?s=128&g=1", "display_name": "Bob Ebert", "link": "https://stackoverflow.com/users/4844191/bob-ebert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443652607, "post_id": 32875859, "comment_id": 53584660, "body": "Figured something out, all good"}], "answers": [{"tags": [], "owner": {"reputation": 1117, "user_id": 4844191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/s2iuk.jpg?s=128&g=1", "display_name": "Bob Ebert", "link": "https://stackoverflow.com/users/4844191/bob-ebert"}, "is_accepted": false, "score": 0, "last_activity_date": 1443652690, "creation_date": 1443652690, "answer_id": 32876671, "question_id": 32875859, "link": "https://stackoverflow.com/questions/32875859/python3-scapy-using-lambda-where-it-works-in-2-7/32876671#32876671", "title": "Python3 scapy using lambda (where it works in 2.7)", "body": "<p>Alright, figured out this can replace the second line:</p>\n\n<pre><code>for snd,rcv in ans:\n        print (rcv.sprintf(r\"%ARP.psrc% &amp; %Ether.src%\"))\n</code></pre>\n\n<p>Since, python3 did \"Removal of Tuple Parameter Unpacking\"</p>\n"}], "owner": {"reputation": 1117, "user_id": 4844191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/s2iuk.jpg?s=128&g=1", "display_name": "Bob Ebert", "link": "https://stackoverflow.com/users/4844191/bob-ebert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "closed_date": 1443696601, "answer_count": 1, "score": 0, "last_activity_date": 1443652690, "creation_date": 1443648152, "last_edit_date": 1443648274, "question_id": 32875859, "link": "https://stackoverflow.com/questions/32875859/python3-scapy-using-lambda-where-it-works-in-2-7", "closed_reason": "Duplicate", "title": "Python3 scapy using lambda (where it works in 2.7)", "body": "<p>This is my line of code:</p>\n\n<pre><code>ans,unans=srp(Ether(dst=\"ff:ff:ff:ff:ff:ff\")/ARP(pdst=\"192.168.5.0/24\"),timeout=2)\nans.summary(lambda (s,r): r.sprintf(\"IP: %ARP.psrc%   MAC: %Ether.src%\")\n</code></pre>\n\n<p>using python 2.7, it scans and print the hosts using arp ping scan\nUsing python3, it doesn't work and bring up this error:</p>\n\n<pre><code>  File \"arp1.py\", line 9\n    ans.summary(lambda (s,r): r.sprintf(\"IP: %ARP.psrc%   MAC: %Ether.src%\")\n                       ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "input"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1443648141, "post_id": 32875831, "comment_id": 53583035, "body": "You&#39;ve tagged this for both 2.7 and 3.x - this is profoundly unhelpful, as this behaviour is different between the two versions. See <a href=\"http://stackoverflow.com/q/20449427/3001761\">stackoverflow.com/q/20449427/3001761</a>"}, {"owner": {"reputation": 11, "user_id": 5395011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97a22adf97af1ee206cab28d7e07c1c?s=128&d=identicon&r=PG&f=1", "display_name": "seedotseedot", "link": "https://stackoverflow.com/users/5395011/seedotseedot"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443648296, "post_id": 32875831, "comment_id": 53583084, "body": "sorry man I fixed it"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1443648354, "post_id": 32875831, "comment_id": 53583109, "body": "Now it&#39;s neither! Presumably you&#39;re using 2.x, despite the <code>print</code> syntax, so <code>isinstance(p1, int)</code>."}, {"owner": {"reputation": 11, "user_id": 5395011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97a22adf97af1ee206cab28d7e07c1c?s=128&d=identicon&r=PG&f=1", "display_name": "seedotseedot", "link": "https://stackoverflow.com/users/5395011/seedotseedot"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443648465, "post_id": 32875831, "comment_id": 53583158, "body": "ok sorry I will fix it"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443649417, "post_id": 32875831, "comment_id": 53583562, "body": "Note that we wouldn&#39;t have to guess if you provided <b>the full error traceback</b>."}], "answers": [{"comments": [{"owner": {"reputation": 4649, "user_id": 681679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba1bdfa6ba08225903a74383be42b06?s=128&d=identicon&r=PG", "display_name": "photoionized", "link": "https://stackoverflow.com/users/681679/photoionized"}, "edited": false, "score": 2, "creation_date": 1443648520, "post_id": 32875888, "comment_id": 53583186, "body": "Also, take a look at <a href=\"https://docs.python.org/2/library/functions.html#input\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#input</a>, notice that it&#39;s equivalent to <code>eval(raw_input(prompt))</code> basically the <code>eval</code> call results in the input being converted to an integer, so if you type 1 for p1, you&#39;re getting an if clause that is trying to evaluate <code>1 == &#39;1&#39;</code> which is false."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1443648679, "post_id": 32875888, "comment_id": 53583252, "body": "<a href=\"http://stackoverflow.com/questions/4915361/whats-the-difference-between-raw-input-and-input-in-python3-x\"><code>raw_input()</code> goes away on Python 3.x, replaced by <code>eval(input())</code></a>."}, {"owner": {"reputation": 1960, "user_id": 2001468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9063e87d9d2cb9653f4e7cdde01dd73f?s=128&d=identicon&r=PG", "display_name": "Amaury Medeiros", "link": "https://stackoverflow.com/users/2001468/amaury-medeiros"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1443648807, "post_id": 32875888, "comment_id": 53583308, "body": "@smci You are right. However, I&#39;m assuming he&#39;s using Python 2.x"}, {"owner": {"reputation": 1960, "user_id": 2001468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9063e87d9d2cb9653f4e7cdde01dd73f?s=128&d=identicon&r=PG", "display_name": "Amaury Medeiros", "link": "https://stackoverflow.com/users/2001468/amaury-medeiros"}, "reply_to_user": {"reputation": 4649, "user_id": 681679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba1bdfa6ba08225903a74383be42b06?s=128&d=identicon&r=PG", "display_name": "photoionized", "link": "https://stackoverflow.com/users/681679/photoionized"}, "edited": false, "score": 0, "creation_date": 1443648890, "post_id": 32875888, "comment_id": 53583348, "body": "@photoionized Yes, another option would be changing the type of the  constants to int and also change the if conditions."}], "tags": [], "owner": {"reputation": 1960, "user_id": 2001468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9063e87d9d2cb9653f4e7cdde01dd73f?s=128&d=identicon&r=PG", "display_name": "Amaury Medeiros", "link": "https://stackoverflow.com/users/2001468/amaury-medeiros"}, "is_accepted": false, "score": 0, "last_activity_date": 1443648296, "creation_date": 1443648296, "answer_id": 32875888, "question_id": 32875831, "link": "https://stackoverflow.com/questions/32875831/python-primary-to-secondary-colors/32875888#32875888", "title": "Python Primary to Secondary colors", "body": "<p>It seems you're using Python 2.x. Replace the occurrences of <code>input</code> with <code>raw_input</code> and you will achieve your goal.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5395011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97a22adf97af1ee206cab28d7e07c1c?s=128&d=identicon&r=PG&f=1", "display_name": "seedotseedot", "link": "https://stackoverflow.com/users/5395011/seedotseedot"}, "edited": false, "score": 0, "creation_date": 1443650927, "post_id": 32876004, "comment_id": 53584157, "body": "that works but how do I get the input to read exactly,  Enter Primary Color: and still get the results your code gave me"}], "tags": [], "owner": {"reputation": 106, "user_id": 5303598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OaxWQ.png?s=128&g=1", "display_name": "Liwa", "link": "https://stackoverflow.com/users/5303598/liwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1444072949, "last_edit_date": 1444072949, "creation_date": 1443648908, "answer_id": 32876004, "question_id": 32875831, "link": "https://stackoverflow.com/questions/32875831/python-primary-to-secondary-colors/32876004#32876004", "title": "Python Primary to Secondary colors", "body": "<p>I'm treating this as a python 3 problem, as you have tagged both.</p>\n\n<p>Your problem is that when you type in your primary colour, you are entering \"red\", \"yellow\" or \"blue\". Python doesn't recognise these as values, as p1 is being set to \"red\" not \"1\", thus the comparison will not work. </p>\n\n<p>This code should work:</p>\n\n<pre><code>p1 = (input('Enter primary color (red: 1, blue: 2, yellow: 3): '))\np2 = (input('Enter primary color (red: 1, blue: 2, yellow: 3): '))\n\nif p1 == '1' and p2 == '2':\n    print('When you mix red and blue, you get purple')\nelif p1 == '3' and p2 == '1':\n    print('When you mix yellow and red, you get orange')\nelif p1 == '2' and p2 == '3':\n    print('When you mix blue and yellow, you get green')\nelse:\n    print('You didnt input two primary colors.')\n</code></pre>\n\n<p>EDIT: the below code does as you have asked</p>\n\n<pre><code>p1 = input('Enter primary color (red, blue, yellow): ')\np2 = input('Enter primary color (red, blue, yellow): ')\n\nred = 'red'\nblue = 'blue'\nyellow = 'yellow'\n\nif p1 == red and p2 == blue:\n    print('When you mix red and blue, you get purple')\nelif p1 == yellow and p2 == red:\n    print('When you mix yellow and red, you get orange')\nelif p1 == blue and p2 == yellow:\n    print('When you mix blue and yellow, you get green')\nelse:\n    print('You didnt input two primary colors.')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5395011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97a22adf97af1ee206cab28d7e07c1c?s=128&d=identicon&r=PG&f=1", "display_name": "seedotseedot", "link": "https://stackoverflow.com/users/5395011/seedotseedot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1252, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444072949, "creation_date": 1443648003, "last_edit_date": 1443653240, "question_id": 32875831, "link": "https://stackoverflow.com/questions/32875831/python-primary-to-secondary-colors", "title": "Python Primary to Secondary colors", "body": "<p>so I have a problem that asks me for two primary colors and tells me the color they create, however when I enter the two primary colors I keep getting the error message that I put in if they don't enter two primary colors. Here is what I have.</p>\n\n<pre><code>red = '1'\nblue = '2'\nyellow = '3'\n\np1 = (input('Enter primary color: '))\np2 = (input('Enter primary color: '))\n\nif p1 == '1' and p2 == '2':\n    print('When you mix red and blue, you get purple')\nelif p1 == '3' and p2 == '1':\n    print('When you mix yellow and red, you get orange')\nelif p1 == '2' and p2 == '3':\n    print('When you mix blue and yellow, you get green')\nelse:\n    print('You didnt input two primary colors.')\n</code></pre>\n"}, {"tags": ["python", "stripe-payments", "credit-card"], "answers": [{"comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1443651577, "post_id": 32876334, "comment_id": 53584374, "body": "I know this won&#39;t guarantee a future success payment, but I need to do it. Do you have a link to Stripe docs for pending charge? Thanks for your answer."}, {"owner": {"reputation": 4150, "user_id": 1431375, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2ac536f6b2c0c5235da73442f3577ea9?s=128&d=identicon&r=PG", "display_name": "Matthew Arkin", "link": "https://stackoverflow.com/users/1431375/matthew-arkin"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1443652688, "post_id": 32876334, "comment_id": 53584676, "body": "<a href=\"https://stripe.com/docs/api#create_charge\" rel=\"nofollow noreferrer\">stripe.com/docs/api#create_charge</a> note the capture parameter"}, {"owner": {"reputation": 8053, "user_id": 292502, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PVqCK.jpg?s=128&g=1", "display_name": "Csaba Toth", "link": "https://stackoverflow.com/users/292502/csaba-toth"}, "edited": false, "score": 0, "creation_date": 1498326116, "post_id": 32876334, "comment_id": 76459755, "body": "This essentially means that someone must prepare for rejection on server side as well. I try to do as much check as possible on the web front-end, so a request doesn&#39;t get to the server unnecessarily. But a charge can be denied even when the execution is on server side, no matter how much weight lifting the web front-end does."}], "tags": [], "owner": {"reputation": 4150, "user_id": 1431375, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2ac536f6b2c0c5235da73442f3577ea9?s=128&d=identicon&r=PG", "display_name": "Matthew Arkin", "link": "https://stackoverflow.com/users/1431375/matthew-arkin"}, "is_accepted": true, "score": 4, "last_activity_date": 1443650557, "creation_date": 1443650557, "answer_id": 32876334, "question_id": 32875795, "link": "https://stackoverflow.com/questions/32875795/stripe-check-card-balance/32876334#32876334", "title": "Stripe - Check Card balance", "body": "<p>The only way to know if a card is able to charge a card is to actually charge (or at least authorize it). Stripe allows you to authorize a card for up to a week (basically just hold a charge as pending for 72 hours) before you \"capture\" it. </p>\n\n<p>Even if a card has enough available funds / balance to pay for a charge, that is no guarantee that a bank would approve it.</p>\n"}], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3755, "favorite_count": 1, "closed_date": 1443676021, "accepted_answer_id": 32876334, "answer_count": 1, "score": 3, "last_activity_date": 1443650557, "creation_date": 1443647846, "question_id": 32875795, "link": "https://stackoverflow.com/questions/32875795/stripe-check-card-balance", "closed_reason": "Needs more focus", "title": "Stripe - Check Card balance", "body": "<p>I wonder if it is possible to check if a (debit or credit) card has enought balance to pay for a (not so far) future charge.</p>\n\n<p>I have read the <a href=\"https://stripe.com/docs/api/python#create_card\" rel=\"nofollow\">Stripe API</a> but I can't find any about if this is possible or not (I hope it is). I know <a href=\"https://support.stripe.com/questions/can-i-check-whether-a-card-is-valid-without-charging-it-at-the-same-time\" rel=\"nofollow\">Stripe validate every card</a> but I need to know if it has enought balance for the amount will be charged later.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "mongodb", "replicaset", "pymongo-3.x"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2647463"}, "is_accepted": true, "score": 0, "last_activity_date": 1443745651, "creation_date": 1443745651, "answer_id": 32898803, "question_id": 32875755, "link": "https://stackoverflow.com/questions/32875755/pymongo-how-to-ensure-connection-and-reading-from-only-desired-host-especiall/32898803#32898803", "title": "Pymongo : how to ensure connection and reading from only desired host (especially SECONDARY) in a replica set", "body": "<p>I also posted this problem to mongo-user group, where it was answered.</p>\n\n<p>First of all, the version of pymongo was wrong. It was 2.8, at least the one which python27 was using</p>\n\n<pre><code>$ python27\n&gt;&gt;&gt; import pymongo\n&gt;&gt;&gt; pymongo.version\n    '2.8'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import pymongo\n&gt;&gt;&gt; pymongo.version\n    '3.0.3'\n</code></pre>\n\n<p>The appropriate syntax for that was</p>\n\n<pre><code>MongoClient('mongodb://H3-Hostname:27017/?readPreference=secondary')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2647463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 1, "accepted_answer_id": 32898803, "answer_count": 1, "score": 2, "last_activity_date": 1443745651, "creation_date": 1443647680, "last_edit_date": 1443724522, "question_id": 32875755, "link": "https://stackoverflow.com/questions/32875755/pymongo-how-to-ensure-connection-and-reading-from-only-desired-host-especiall", "title": "Pymongo : how to ensure connection and reading from only desired host (especially SECONDARY) in a replica set", "body": "<p><strong>Background</strong> </p>\n\n<p>mongoDB production cluster (not sharded) 3 hosts. They belong to replica set rs0 </p>\n\n<ul>\n<li>H1 - Primary</li>\n<li>H2 - Secondary</li>\n<li>H3 - Secondary</li>\n</ul>\n\n<p>I am trying to write a <strong><em>python</em></strong> script using <strong><em>pymongo</em></strong>. This being a production cluster, I want the script to read only from <strong><em>H3 secondary replica set</em></strong> so as to not burden primary and keep it free for its regular activities. The data will be fetched from a collection called \"devices\" in the <strong><em>batches of 2000 documents</em></strong>. This should further reduce read operations overhead.</p>\n\n<p><strong>Relevant Code</strong></p>\n\n<pre><code>client = MongoClient('mongodb://H3-hostname:27017/', replicaset='rs0', readPreference='secondary')\n.\n.\n.\n.\n.\ndevices = devices_collection.find({\"status\" : \"ACTIVE\"},{\"key\" : 1, \"username\" : 1}, sort = [(\"key\", pymongo.ASCENDING)]).batch_size(2000)\n</code></pre>\n\n<p>Also tried creating the client in a little different way by mentioning all the hosts in the cluster as below</p>\n\n<pre><code>client = MongoClient('mongodb://H1-Hostname:27017, H2-Hostname:27017, H3-hostname:27017/?replicaset=rs0', readPreference='secondary')\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>As per my understanding, the above client will read <strong><em>ONLY</em></strong> from the secondary replica set. But when I run the script and look at the cloud manager, H1 which is primary shows page faults increased from ~15-20 to ~600 with a sharp jump.</p>\n\n<p><strong>Environment</strong></p>\n\n<ul>\n<li>Mongo DB 3.0.3 (MMAPv1 storage engine)</li>\n<li>Python 2.7.9</li>\n<li>Pymongo 3.0.3</li>\n<li>OS Amazon Linux</li>\n</ul>\n"}, {"tags": ["python", "regex", "web-scraping", "scrapy"], "comments": [{"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "edited": false, "score": 0, "creation_date": 1472670851, "post_id": 32875744, "comment_id": 65850613, "body": "Would <code>^http:&#47;&#47;www.example&#47;news-perspective?key=&amp;page=\\d+$</code> not work?"}], "answers": [{"tags": [], "owner": {"reputation": 2916, "user_id": 939364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cceb4bd730bda5e8464b76de4d1d6dc5?s=128&d=identicon&r=PG", "display_name": "Gallaecio", "link": "https://stackoverflow.com/users/939364/gallaecio"}, "is_accepted": false, "score": 0, "last_activity_date": 1548947604, "creation_date": 1548947604, "answer_id": 54463650, "question_id": 32875744, "link": "https://stackoverflow.com/questions/32875744/scrapy-how-to-follow-multiple-links-on-a-page-using-regex/54463650#54463650", "title": "Scrapy: how to follow multiple links on a page using regex", "body": "<p>In the website there is probably a \"Next\" button that links to the next page. You should include a rule that matches that link.</p>\n"}], "owner": {"reputation": 746, "user_id": 2479601, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2d60ac6e26cbe56d6539731c8dfc1b13?s=128&d=identicon&r=PG", "display_name": "GISKid", "link": "https://stackoverflow.com/users/2479601/giskid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1548947604, "creation_date": 1443647644, "question_id": 32875744, "link": "https://stackoverflow.com/questions/32875744/scrapy-how-to-follow-multiple-links-on-a-page-using-regex", "title": "Scrapy: how to follow multiple links on a page using regex", "body": "<p>I have a scraper which collects information perfectly, but when I try to implement rules to crawl the \"next\" page I get stuck. Using Scrapy 0.22 (I can't upgrade at this time).</p>\n\n<pre><code>import re\nimport datetime\nimport dateutil \nimport urllib2\n\nfrom scrapy.http import Request\nfrom scrapy.selector import Selector\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor\nfrom scrapy.contrib.spiders import CrawlSpider, Rule\nfrom crawlers.spiders import BaseCrawler\n\n\nclass rappSpider(BaseCrawler):\n    name = \"rapp\"\n\n    base_url = \"www.example.com\"\n    start_urls = [\n        # \"http://www.example.com/news-perspective\",\n        # \"http://www.example.com/news-perspective?f[0]=field_related_topics%3A31366\",\n        \"http://www.example/news-perspective?key=&amp;page=%d\"\n\n    ]\n    # rules = [\n         # Rule(SgmlLinkExtractor(allow=r'?key=&amp;page=[0-9]'), callback='get_article_links', follow= True)\n     # ]\n\n    TITLE_XPATH_SELECTOR= \"//div[@id='inset-content']//h1/text()\"\n\n    TEXT_XPATH_SELECTOR = \"//div[@class='field-item even']/p/text()\"\n\n    DATETIME_XPATH_SELECTOR = \"//div[@class='field-items']/div/span/text()\"\n\n    def get_article_links(self, response, *args, **kwargs):\n        html = Selector(response)\n        link_extractor = SgmlLinkExtractor(allow=('http://www.example.com/news-perspective/\\d{4}/\\d{2}\\/*\\S*$',))\n\n        is_relative_path = False\n        yield [link.url for link in link_extractor.extract_links(response)], is_relative_path\n</code></pre>\n\n<p>The scraper works for start_urls like <a href=\"http://www.example/news-perspective\" rel=\"nofollow\">http://www.example/news-perspective</a> which lists a number of articles on the page, then the scraper will follow the links defined by get_article_links and get the relevant information. However, I'd like to be able to go to the next page (same format on other pages, the url being</p>\n\n<p><a href=\"http://www.example/news-perspective?key=&amp;page=\" rel=\"nofollow\">http://www.example/news-perspective?key=&amp;page=</a><strong>#</strong></p>\n\n<p>How can I set this up with my existing code? Do I need two separate rules ? Or do I need to alter start_requests? </p>\n"}, {"tags": ["python", "class", "oop", "object"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443647599, "post_id": 32875691, "comment_id": 53582790, "body": "It&#39;s not at all clear how you think <code>simple_obj = SimpleTestCase()</code> could possibly replace <code>self.case = SimpleWidgetTestCase</code>. Classes in Python, like pretty much everything else, are first-class objects, to they can be passed around and assigned to names/attributes like anything else."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1443647617, "post_id": 32875691, "comment_id": 53582797, "body": "they are not equivelent ... sometimes a class may need certain conditions to be present to be instanciated, which may not be present until later in the programs execution"}, {"owner": {"reputation": 479, "user_id": 5008968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-c6ZlTTmBmsU/AAAAAAAAAAI/AAAAAAAAAhI/e_bh2msmErA/photo.jpg?sz=128", "display_name": "Hamza Abbad", "link": "https://stackoverflow.com/users/5008968/hamza-abbad"}, "edited": false, "score": 0, "creation_date": 1443647767, "post_id": 32875691, "comment_id": 53582859, "body": "You defined an <code>__init__</code> that accept a parameter but you didn&#39;t give any when calling <code>SimpleTestCase()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1213, "user_id": 873393, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7316c08303e3f311c7406ea9f47ca353?s=128&d=identicon&r=PG", "display_name": "ilaunchpad", "link": "https://stackoverflow.com/users/873393/ilaunchpad"}, "edited": false, "score": 0, "creation_date": 1443648800, "post_id": 32875793, "comment_id": 53583304, "body": "This makes sense. It can be used to call class variable and static methods. Thanks!!"}], "tags": [], "owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "is_accepted": true, "score": 1, "last_activity_date": 1443648660, "last_edit_date": 1443648660, "creation_date": 1443647835, "answer_id": 32875793, "question_id": 32875691, "link": "https://stackoverflow.com/questions/32875691/assigning-a-class-to-a-variable/32875793#32875793", "title": "Assigning a class to a variable", "body": "<blockquote>\n  <p>Is there any reason to do<br>\n  <code>self.case = SimpleTestCase</code></p>\n</blockquote>\n\n<p>Yes there is a reason. Some times one would like to store a type without creating an instance.\nCreating an instance can be expensive, if for example the <code>__init__</code> does things like opening database connections, reading large files, etc.</p>\n\n<blockquote>\n  <p>By creating object one can access the class methods and variables. Is the former equivalent to latter?</p>\n</blockquote>\n\n<p>No, the former is not equal to the latter.\nIn the former you assign a type to a variable. In the latter you asign an instance.<br>\nPython allows you to access methos and variables if they are class methods  (or static methods) or class variables. This way you don't need to create and instance. \nBy creating an Instance, you are accessing the instance methods.</p>\n\n<p>See this link about <a href=\"http://pythoncentral.io/difference-between-staticmethod-and-classmethod-in-python/\" rel=\"nofollow\">difference between staticmethod and classmethod in python</a></p>\n"}], "owner": {"reputation": 1213, "user_id": 873393, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7316c08303e3f311c7406ea9f47ca353?s=128&d=identicon&r=PG", "display_name": "ilaunchpad", "link": "https://stackoverflow.com/users/873393/ilaunchpad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 32875793, "answer_count": 1, "score": 2, "last_activity_date": 1443648660, "creation_date": 1443647374, "last_edit_date": 1443648522, "question_id": 32875691, "link": "https://stackoverflow.com/questions/32875691/assigning-a-class-to-a-variable", "title": "Assigning a class to a variable", "body": "<pre><code>class SimpleTestCase(object):\n\n    def __init__(self, name):\n        self.name = name\n        self.SP = SP\n\n    def __somemethod(self):\n     # do something\n\nclass Test(object):\n    def __init__(self, name ):\n        self.name = name\n        self.case = SimpleWidgetTestCase\n</code></pre>\n\n<p>Is there any reason to do </p>\n\n<pre><code>self.case = SimpleTestCase\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>simple_obj = SimpleTestCase(\"name\")\n</code></pre>\n\n<p>By creating object one can access the class methods and variables. Is the former equivalent to latter?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "edited": false, "score": 0, "creation_date": 1443649543, "post_id": 32875628, "comment_id": 53583616, "body": "Typically you&#39;d destroy the canvas&#39;s tk_widget. E.g. <code>canvas.get_tk_widget().destroy()</code>.  However, if you&#39;re only trying to temporarily hide the plot, there are better ways.  What are you trying to do?"}, {"owner": {"reputation": 35, "user_id": 5394916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156296d6c2f4d74f7555b7a4591438a7?s=128&d=identicon&r=PG&f=1", "display_name": "zdavidmm", "link": "https://stackoverflow.com/users/5394916/zdavidmm"}, "reply_to_user": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "edited": false, "score": 0, "creation_date": 1443656937, "post_id": 32875628, "comment_id": 53585839, "body": "I am trying to replace it with another type of canvas. So for example, my GUI displays information on a graph using matplotlib, but then uses the tkinter canvas widget to display another set of information."}], "answers": [{"tags": [], "owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "is_accepted": true, "score": 0, "last_activity_date": 1443700162, "creation_date": 1443700162, "answer_id": 32886882, "question_id": 32875628, "link": "https://stackoverflow.com/questions/32875628/close-unpack-object-matplotlib-backends-backend-tkagg-figurecanvastkagg/32886882#32886882", "title": "Close/Unpack Object &quot;matplotlib.backends.backend_tkagg.FigureCanvasTkAgg&quot;", "body": "<p>If you'd like to remove the plot and free up the parent frame/window, call <code>canvas.get_tk_widget().destroy()</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>import Tkinter as tk\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\nfrom matplotlib.figure import Figure\n\ndef main():\n    fig = plot(range(10), range(10))\n    root = tk.Tk()\n    canvas = FigureCanvasTkAgg(fig, master=root)\n    canvas.get_tk_widget().pack()\n\n    root.bind_all('&lt;Button-1&gt;', lambda event: remove_plot(canvas))\n\n    root.mainloop()\n\ndef plot(x, y):\n    fig = Figure()\n    ax1 = fig.add_subplot(1,1,1)\n    ax1.plot(x,y)\n    return fig\n\ndef remove_plot(canvas):\n    canvas.get_tk_widget().destroy()\n\nmain()\n</code></pre>\n\n<p>This only destroys the figure's tk widget. The figure still exists and could be added again, assuming it hasn't gone out of scope and been garbage collected.  (Also, the figure will be garbage collected just like any other object as we're not using the pyplot state machine.)</p>\n"}], "owner": {"reputation": 35, "user_id": 5394916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156296d6c2f4d74f7555b7a4591438a7?s=128&d=identicon&r=PG&f=1", "display_name": "zdavidmm", "link": "https://stackoverflow.com/users/5394916/zdavidmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3126, "favorite_count": 0, "accepted_answer_id": 32886882, "answer_count": 1, "score": 1, "last_activity_date": 1443700162, "creation_date": 1443647133, "question_id": 32875628, "link": "https://stackoverflow.com/questions/32875628/close-unpack-object-matplotlib-backends-backend-tkagg-figurecanvastkagg", "title": "Close/Unpack Object &quot;matplotlib.backends.backend_tkagg.FigureCanvasTkAgg&quot;", "body": "<p>This is code that takes a figure and displays it on a Tkinter window. How do I unpack/delete \"canvas\" from the GUI?</p>\n\n<pre><code>    from Tkinter import *\n    import numpy as np\n    import matplotlib.pyplot as plt\n    from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\n\n    def plot(x, y):\n        fig = plt.figure()\n        ax1 = fig.add_subplot(1,1,1)\n        ax1.plot(x,y)\n        return fig\n\n    plt = plot(1,1)\n    root = Tk()\n    canvas = FigureCanvasTkAgg(plt, master=root)\n    canvas.get_tk_widget().pack() \n</code></pre>\n"}, {"tags": ["python", "elementtree"], "answers": [{"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1443648504, "creation_date": 1443648504, "answer_id": 32875934, "question_id": 32875577, "link": "https://stackoverflow.com/questions/32875577/how-to-change-element-text-of-only-one-element-with-python-elementtree/32875934#32875934", "title": "How to change element text of only one element with python elementtree", "body": "<p>Use paths..</p>\n\n<pre><code>&gt;&gt;&gt; import xml.etree.ElementTree as etree\n&gt;&gt;&gt; frag = '&lt;Book&gt;&lt;Chapter&gt;&lt;Location&gt;page11&lt;/Location&gt;&lt;/Chapter&gt;&lt;Location&gt;page10&lt;/Location&gt;&lt;/Book&gt;'\n&gt;&gt;&gt; tree = etree.fromstring(frag)\n&gt;&gt;&gt; tree.findall('./Location')[0].text\n'page10'\n&gt;&gt;&gt; tree.findall('./Location')[1].text\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nIndexError: list index out of range\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5394922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617668148f41e999e36d3ecc6962f255?s=128&d=identicon&r=PG&f=1", "display_name": "Rookie", "link": "https://stackoverflow.com/users/5394922/rookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 32875934, "answer_count": 1, "score": 0, "last_activity_date": 1443664062, "creation_date": 1443646967, "last_edit_date": 1443664062, "question_id": 32875577, "link": "https://stackoverflow.com/questions/32875577/how-to-change-element-text-of-only-one-element-with-python-elementtree", "title": "How to change element text of only one element with python elementtree", "body": "<p>I have the following xml example file:</p>\n\n<pre><code>&lt;Book&gt;\n    &lt;Location&gt;page10&lt;/Location&gt;\n    &lt;Chapter&gt;\n        &lt;Location&gt;page11&lt;/Location&gt;\n    &lt;/Chapter&gt;\n&lt;/Book&gt;\n</code></pre>\n\n<p>I want to change the text value of element <code>&lt;Location&gt;</code> right beneath <code>&lt;book&gt;</code>.\nUsing findall gives both 'Location' elements.\nUsing find gives the first, that could be right, but in case element 'Chapter' is placed before Location than I get the wrong element.</p>\n\n<p>Anyone any suggestions?</p>\n"}, {"tags": ["python", "installation", "centos", "pip", "readline"], "comments": [{"owner": {"reputation": 1640, "user_id": 1324960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ba74725fd85fe4541fc3fa38eef801?s=128&d=identicon&r=PG", "display_name": "Evers", "link": "https://stackoverflow.com/users/1324960/evers"}, "edited": false, "score": 0, "creation_date": 1443646285, "post_id": 32875360, "comment_id": 53582187, "body": "Try installing <code>sudo yum install python-devel </code> first"}], "answers": [{"comments": [{"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1443906305, "post_id": 32875446, "comment_id": 53681060, "body": "I have verified that <code>&#47;usr&#47;include&#47;python2.7</code> exists indeed."}, {"owner": {"reputation": 1640, "user_id": 1324960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ba74725fd85fe4541fc3fa38eef801?s=128&d=identicon&r=PG", "display_name": "Evers", "link": "https://stackoverflow.com/users/1324960/evers"}, "reply_to_user": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1444080740, "post_id": 32875446, "comment_id": 53741381, "body": "Can you clean the /tmp folder and run the build again? Are you sure you get the same error? E.g. &#39;Python.h&#39; not found and not some other library?"}, {"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1444081946, "post_id": 32875446, "comment_id": 53741895, "body": "Check the edited update in the original post after &quot;<b>Update</b>&quot;."}], "tags": [], "owner": {"reputation": 1640, "user_id": 1324960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ba74725fd85fe4541fc3fa38eef801?s=128&d=identicon&r=PG", "display_name": "Evers", "link": "https://stackoverflow.com/users/1324960/evers"}, "is_accepted": false, "score": 2, "last_activity_date": 1443646832, "last_edit_date": 1443646832, "creation_date": 1443646485, "answer_id": 32875446, "question_id": 32875360, "link": "https://stackoverflow.com/questions/32875360/on-centos-linux-how-to-install-python-package-readline-using-pip/32875446#32875446", "title": "On Centos Linux, how to install Python package &#39;readline&#39; using pip?", "body": "<p>Don't know for sure but:</p>\n\n<p>Try installing <code>sudo yum install python-devel</code></p>\n\n<p>EDIT:\nCan you check if the directory /usr/include/python2.7 actually exists? Looks like gcc can't find the libraries for Python.</p>\n"}, {"comments": [{"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1443906548, "post_id": 32875944, "comment_id": 53681130, "body": "So why the configuring of <code>$CPATH</code> is necessary to be done manually and there is no indication for an average user to do that?"}, {"owner": {"reputation": 387, "user_id": 3750079, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C8tuY.png?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/3750079/ajay"}, "reply_to_user": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1443920344, "post_id": 32875944, "comment_id": 53684125, "body": "Well it should be that when python was installed these headers were added to the global include paths.  It looks like from your errors that this wasn&#39;t done because python may have been installed in a non-standard way.  In short normally this isn&#39;t something you should have to configure in order for pip to compile packages for you. Without sitting down and looking at your python installation directories and the output of <code>printenv</code> I couldn&#39;t tell you how to go about fixing it but locating the directory and adding to the <code>$CPATH</code> should fix your problem here."}], "tags": [], "owner": {"reputation": 387, "user_id": 3750079, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C8tuY.png?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/3750079/ajay"}, "is_accepted": false, "score": 1, "last_activity_date": 1443648544, "last_edit_date": 1592644375, "creation_date": 1443648544, "answer_id": 32875944, "question_id": 32875360, "link": "https://stackoverflow.com/questions/32875360/on-centos-linux-how-to-install-python-package-readline-using-pip/32875944#32875944", "title": "On Centos Linux, how to install Python package &#39;readline&#39; using pip?", "body": "<p>This is really a Linux/gcc issue than a python/pip question. Also the more compact your question is the better if you look at the output the very end of that wall of text is all that is important</p>\n<p>The installation failed when pip is finished the configure step and starts the compilation. The compiler cant find the <code>Python.h</code> file which is the header file that contains a lot of the definitions the source code for the plugin will use.</p>\n<p>The long gcc command that failed has this flag added <code>-I/usr/include/python2.7 </code></p>\n<p>You can start by looking there to see if that path even exists, and if it does does it contain the python headers. On my system I have a whole bunch of python versions installed for various reasons, but in general  my environment is configured so that the environmental variable <code>$CPATH</code> will have <code>/usr/python/active/include</code> where active is a link to the correct version. So if I am working with python2.7 this points to <code>/usr/local/python/2.7/include</code>:</p>\n<p>From the GCC docs on environmental variables:</p>\n<blockquote>\n<p>CPATH</p>\n<p>C_INCLUDE_PATH</p>\n<p>CPLUS_INCLUDE_PATH</p>\n<p>OBJC_INCLUDE_PATH</p>\n<p>Each variable's value is a list of directories separated by a special character, much like PATH, in which to look for header files. The special character, PATH_SEPARATOR, is target-dependent and determined at GCC build time. For Microsoft Windows-based targets it is a semicolon, and for almost all other targets it is a colon.</p>\n<p>CPATH specifies a list of directories to be searched as if specified with -I, but after any paths given with -I options on the command line. This environment variable is used regardless of which language is being preprocessed.</p>\n</blockquote>\n<p>You can fix this issue by first, locating the directory where the relevant files are. Try finding the python executable <code>which python</code> it will point to something like this <code>/some/path/.../bin/python</code> if the path before <code>.../bin</code> contains a <code>/pythonXX/</code> folder the headers should be in <code>/path/to/pythonXX/include</code> if it does not then they should be in <code>/some/path/.../include/python/include</code></p>\n<p>It can vary based on if there are many versions of python installed, if you are working on a personal workstation or on a larger cluster, or the preference/practices of whoever is your admin (or was when it was set up ) your system. Either way if you cant find it try <code>locate Python.h</code></p>\n<p>When you do find the file you can just add it to the CPATH variable and try again.</p>\n<pre><code>export CPATH=/the/path/to/this/file:$CPATH\n</code></pre>\n<p>and try again. this problem will happen the next time you try so you might want to add that line (without the export) to your .bashrc file</p>\n"}], "owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444082096, "creation_date": 1443646072, "last_edit_date": 1444082096, "question_id": 32875360, "link": "https://stackoverflow.com/questions/32875360/on-centos-linux-how-to-install-python-package-readline-using-pip", "title": "On Centos Linux, how to install Python package &#39;readline&#39; using pip?", "body": "<p>Using the regular command <code>sudo pip install readline</code> I got an error</p>\n\n<pre><code>Command \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-Ax57Qh/readline/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-KRvGg7-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-Ax57Qh/readline\n</code></pre>\n\n<p>The complete console output is</p>\n\n<pre><code>sudo pip install readline\n[sudo] password for qazwsx:\nCollecting readline\n  Using cached readline-6.2.4.1.tar.gz\nInstalling collected packages: readline\n  Running setup.py install for readline\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-Ax57Qh/readline/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-KRvGg7-record/install-record.txt --single-version-externally-managed --compile:\n    readline-6.2/\n    readline-6.2/doc/\n    readline-6.2/doc/Makefile.in\n    readline-6.2/doc/texinfo.tex\n    readline-6.2/doc/version.texi\n    readline-6.2/doc/fdl.texi\n    readline-6.2/doc/rlman.texi\n    readline-6.2/doc/rltech.texi\n    readline-6.2/doc/rluser.texi\n    readline-6.2/doc/rluserman.texi\n    readline-6.2/doc/history.texi\n    readline-6.2/doc/hstech.texi\n    readline-6.2/doc/hsuser.texi\n    readline-6.2/doc/readline.3\n    readline-6.2/doc/history.3\n    readline-6.2/doc/texi2dvi\n    readline-6.2/doc/texi2html\n    readline-6.2/doc/readline.ps\n    readline-6.2/doc/history.ps\n    readline-6.2/doc/rluserman.ps\n    readline-6.2/doc/readline.dvi\n    readline-6.2/doc/history.dvi\n    readline-6.2/doc/rluserman.dvi\n    readline-6.2/doc/readline.info\n    readline-6.2/doc/history.info\n    readline-6.2/doc/rluserman.info\n    readline-6.2/doc/readline.html\n    readline-6.2/doc/history.html\n    readline-6.2/doc/rluserman.html\n    readline-6.2/doc/readline.0\n    readline-6.2/doc/history.0\n    readline-6.2/doc/readline_3.ps\n    readline-6.2/doc/history_3.ps\n    readline-6.2/doc/history.pdf\n    readline-6.2/doc/readline.pdf\n    readline-6.2/doc/rluserman.pdf\n    readline-6.2/examples/\n    readline-6.2/examples/autoconf/\n    readline-6.2/examples/autoconf/BASH_CHECK_LIB_TERMCAP\n    readline-6.2/examples/autoconf/RL_LIB_READLINE_VERSION\n    readline-6.2/examples/autoconf/wi_LIB_READLINE\n    readline-6.2/examples/rlfe/\n    readline-6.2/examples/rlfe/ChangeLog\n    readline-6.2/examples/rlfe/Makefile.in\n    readline-6.2/examples/rlfe/README\n    readline-6.2/examples/rlfe/config.h.in\n    readline-6.2/examples/rlfe/configure\n    readline-6.2/examples/rlfe/configure.in\n    readline-6.2/examples/rlfe/extern.h\n    readline-6.2/examples/rlfe/os.h\n    readline-6.2/examples/rlfe/pty.c\n    readline-6.2/examples/rlfe/rlfe.c\n    readline-6.2/examples/rlfe/screen.h\n    readline-6.2/examples/Makefile.in\n    readline-6.2/examples/excallback.c\n    readline-6.2/examples/fileman.c\n    readline-6.2/examples/manexamp.c\n    readline-6.2/examples/readlinebuf.h\n    readline-6.2/examples/rl-fgets.c\n    readline-6.2/examples/rlcat.c\n    readline-6.2/examples/rlevent.c\n    readline-6.2/examples/rltest.c\n    readline-6.2/examples/rl.c\n    readline-6.2/examples/rlptytest.c\n    readline-6.2/examples/rlversion.c\n    readline-6.2/examples/histexamp.c\n    readline-6.2/examples/Inputrc\n    readline-6.2/examples/rlwrap-0.30.tar.gz\n    readline-6.2/support/\n    readline-6.2/support/config.guess\n    readline-6.2/support/config.rpath\n    readline-6.2/support/config.sub\n    readline-6.2/support/install.sh\n    readline-6.2/support/mkdirs\n    readline-6.2/support/mkdist\n    readline-6.2/support/mkinstalldirs\n    readline-6.2/support/shobj-conf\n    readline-6.2/support/shlib-install\n    readline-6.2/support/wcwidth.c\n    readline-6.2/shlib/\n    readline-6.2/shlib/Makefile.in\n    readline-6.2/COPYING\n    readline-6.2/README\n    readline-6.2/MANIFEST\n    readline-6.2/INSTALL\n    readline-6.2/CHANGELOG\n    readline-6.2/CHANGES\n    readline-6.2/NEWS\n    readline-6.2/USAGE\n    readline-6.2/aclocal.m4\n    readline-6.2/config.h.in\n    readline-6.2/configure\n    readline-6.2/configure.in\n    readline-6.2/Makefile.in\n    readline-6.2/ansi_stdlib.h\n    readline-6.2/chardefs.h\n    readline-6.2/history.h\n    readline-6.2/histlib.h\n    readline-6.2/keymaps.h\n    readline-6.2/posixdir.h\n    readline-6.2/posixjmp.h\n    readline-6.2/readline.h\n    readline-6.2/posixselect.h\n    readline-6.2/posixstat.h\n    readline-6.2/rlconf.h\n    readline-6.2/rldefs.h\n    readline-6.2/rlmbutil.h\n    readline-6.2/rlprivate.h\n    readline-6.2/rlshell.h\n    readline-6.2/rlstdc.h\n    readline-6.2/rltty.h\n    readline-6.2/rltypedefs.h\n    readline-6.2/rlwinsize.h\n    readline-6.2/tcap.h\n    readline-6.2/tilde.h\n    readline-6.2/xmalloc.h\n    readline-6.2/bind.c\n    readline-6.2/callback.c\n    readline-6.2/compat.c\n    readline-6.2/complete.c\n    readline-6.2/display.c\n    readline-6.2/emacs_keymap.c\n    readline-6.2/funmap.c\n    readline-6.2/input.c\n    readline-6.2/isearch.c\n    readline-6.2/keymaps.c\n    readline-6.2/kill.c\n    readline-6.2/macro.c\n    readline-6.2/mbutil.c\n    readline-6.2/misc.c\n    readline-6.2/nls.c\n    readline-6.2/parens.c\n    readline-6.2/readline.c\n    readline-6.2/rltty.c\n    readline-6.2/savestring.c\n    readline-6.2/search.c\n    readline-6.2/shell.c\n    readline-6.2/signals.c\n    readline-6.2/terminal.c\n    readline-6.2/text.c\n    readline-6.2/tilde.c\n    readline-6.2/undo.c\n    readline-6.2/util.c\n    readline-6.2/vi_keymap.c\n    readline-6.2/vi_mode.c\n    readline-6.2/xfree.c\n    readline-6.2/xmalloc.c\n    readline-6.2/history.c\n    readline-6.2/histexpand.c\n    readline-6.2/histfile.c\n    readline-6.2/histsearch.c\n    readline-6.2/patchlevel\n    patching file vi_mode.c\n    patching file callback.c\n    patching file support/shobj-conf\n    patching file patchlevel\n    patching file input.c\n    patching file patchlevel\n    patching file vi_mode.c\n    patching file patchlevel\n    checking build system type... x86_64-unknown-linux-gnu\n    checking host system type... x86_64-unknown-linux-gnu\n\n    Beginning configuration for readline-6.2 for x86_64-unknown-linux-gnu\n\n    checking whether make sets $(MAKE)... yes\n    checking for gcc... gcc\n    checking for C compiler default output file name... a.out\n    checking whether the C compiler works... yes\n    checking whether we are cross compiling... no\n    checking for suffix of executables...\n    checking for suffix of object files... o\n    checking whether we are using the GNU C compiler... yes\n    checking whether gcc accepts -g... yes\n    checking for gcc option to accept ISO C89... none needed\n    checking how to run the C preprocessor... gcc -E\n    checking for grep that handles long lines and -e... /usr/bin/grep\n    checking for egrep... /usr/bin/grep -E\n    checking for ANSI C header files... yes\n    checking for sys/types.h... yes\n    checking for sys/stat.h... yes\n    checking for stdlib.h... yes\n    checking for string.h... yes\n    checking for memory.h... yes\n    checking for strings.h... yes\n    checking for inttypes.h... yes\n    checking for stdint.h... yes\n    checking for unistd.h... yes\n    checking minix/config.h usability... no\n    checking minix/config.h presence... no\n    checking for minix/config.h... no\n    checking whether it is safe to define __EXTENSIONS__... yes\n    checking whether gcc needs -traditional... no\n    checking for a BSD-compatible install... /usr/bin/install -c\n    checking for ar... ar\n    checking for ranlib... ranlib\n    checking for an ANSI C-conforming const... yes\n    checking for function prototypes... yes\n    checking whether char is unsigned... no\n    checking for working volatile... yes\n    checking return type of signal handlers... void\n    checking for size_t... yes\n    checking for ssize_t... yes\n    checking for ANSI C header files... (cached) yes\n    checking whether stat file-mode macros are broken... no\n    checking for dirent.h that defines DIR... yes\n    checking for library containing opendir... none required\n    checking for fcntl... yes\n    checking for kill... yes\n    checking for lstat... yes\n    checking for memmove... yes\n    checking for putenv... yes\n    checking for select... yes\n    checking for setenv... yes\n    checking for setlocale... yes\n    checking for strcasecmp... yes\n    checking for strpbrk... yes\n    checking for tcgetattr... yes\n    checking for vsnprintf... yes\n    checking for isascii... yes\n    checking for isxdigit... yes\n    checking for getpwent... yes\n    checking for getpwnam... yes\n    checking for getpwuid... yes\n    checking for working strcoll... yes\n    checking fcntl.h usability... yes\n    checking fcntl.h presence... yes\n    checking for fcntl.h... yes\n    checking for unistd.h... (cached) yes\n    checking for stdlib.h... (cached) yes\n    checking varargs.h usability... no\n    checking varargs.h presence... no\n    checking for varargs.h... no\n    checking stdarg.h usability... yes\n    checking stdarg.h presence... yes\n    checking for stdarg.h... yes\n    checking for string.h... (cached) yes\n    checking for strings.h... (cached) yes\n    checking limits.h usability... yes\n    checking limits.h presence... yes\n    checking for limits.h... yes\n    checking locale.h usability... yes\n    checking locale.h presence... yes\n    checking for locale.h... yes\n    checking pwd.h usability... yes\n    checking pwd.h presence... yes\n    checking for pwd.h... yes\n    checking for memory.h... (cached) yes\n    checking termcap.h usability... no\n    checking termcap.h presence... no\n    checking for termcap.h... no\n    checking termios.h usability... yes\n    checking termios.h presence... yes\n    checking for termios.h... yes\n    checking termio.h usability... yes\n    checking termio.h presence... yes\n    checking for termio.h... yes\n    checking sys/pte.h usability... no\n    checking sys/pte.h presence... no\n    checking for sys/pte.h... no\n    checking sys/stream.h usability... no\n    checking sys/stream.h presence... no\n    checking for sys/stream.h... no\n    checking sys/select.h usability... yes\n    checking sys/select.h presence... yes\n    checking for sys/select.h... yes\n    checking sys/file.h usability... yes\n    checking sys/file.h presence... yes\n    checking for sys/file.h... yes\n    checking for sys/ptem.h... no\n    checking for special C compiler options needed for large files... no\n    checking for _FILE_OFFSET_BITS value needed for large files... no\n    checking for type of signal functions... posix\n    checking if signal handlers must be reinstalled when invoked... no\n    checking for presence of POSIX-style sigsetjmp/siglongjmp... present\n    checking for lstat... yes\n    checking whether or not strcoll and strcmp differ... no\n    checking whether the ctype macros accept non-ascii characters... yes\n    checking whether getpw functions are declared in pwd.h... yes\n    checking whether termios.h defines TIOCGWINSZ... no\n    checking whether sys/ioctl.h defines TIOCGWINSZ... yes\n    checking for sig_atomic_t in signal.h... yes\n    checking whether signal handlers are of type void... yes\n    checking for TIOCSTAT in sys/ioctl.h... no\n    checking for FIONREAD in sys/ioctl.h... yes\n    checking for speed_t in sys/types.h... no\n    checking for struct winsize in sys/ioctl.h and termios.h... sys/ioctl.h\n    checking for struct dirent.d_ino... yes\n    checking for struct dirent.d_fileno... yes\n    checking for tgetent... no\n    checking for tgetent in -ltermcap... no\n    checking for tgetent in -ltinfo... no\n    checking for tgetent in -lcurses... no\n    checking for tgetent in -lncurses... no\n    checking which library has the termcap functions... using gnutermcap\n    checking wctype.h usability... yes\n    checking wctype.h presence... yes\n    checking for wctype.h... yes\n    checking wchar.h usability... yes\n    checking wchar.h presence... yes\n    checking for wchar.h... yes\n    checking langinfo.h usability... yes\n    checking langinfo.h presence... yes\n    checking for langinfo.h... yes\n    checking for mbrlen... yes\n    checking for mbscasecmp... no\n    checking for mbscmp... no\n    checking for mbsnrtowcs... yes\n    checking for mbsrtowcs... yes\n    checking for mbschr... no\n    checking for wcrtomb... yes\n    checking for wcscoll... yes\n    checking for wcsdup... yes\n    checking for wcwidth... yes\n    checking for wctype... yes\n    checking for wcswidth... yes\n    checking whether mbrtowc and mbstate_t are properly declared... yes\n    checking for iswlower... yes\n    checking for iswupper... yes\n    checking for towlower... yes\n    checking for towupper... yes\n    checking for iswctype... yes\n    checking for nl_langinfo and CODESET... yes\n    checking for wchar_t in wchar.h... yes\n    checking for wctype_t in wctype.h... yes\n    checking for wint_t in wctype.h... yes\n    checking configuration for building shared libraries... supported\n    configure: creating ./config.status\n    config.status: creating Makefile\n    config.status: creating doc/Makefile\n    config.status: creating examples/Makefile\n    config.status: creating shlib/Makefile\n    config.status: creating config.h\n    config.status: executing default commands\n    rm -f readline.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O readline.c\n    rm -f vi_mode.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O vi_mode.c\n    rm -f funmap.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O funmap.c\n    rm -f keymaps.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O keymaps.c\n    rm -f parens.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O parens.c\n    rm -f search.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O search.c\n    rm -f rltty.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O rltty.c\n    rm -f complete.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O complete.c\n    rm -f bind.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O bind.c\n    rm -f isearch.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O isearch.c\n    rm -f display.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O display.c\n    rm -f signals.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O signals.c\n    rm -f util.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O util.c\n    rm -f kill.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O kill.c\n    rm -f undo.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O undo.c\n    rm -f macro.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O macro.c\n    rm -f input.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O input.c\n    rm -f callback.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O callback.c\n    rm -f terminal.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O terminal.c\n    rm -f text.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O text.c\n    rm -f nls.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O nls.c\n    rm -f misc.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O misc.c\n    rm -f compat.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O compat.c\n    rm -f xfree.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O xfree.c\n    rm -f xmalloc.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O xmalloc.c\n    rm -f history.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O history.c\n    rm -f histexpand.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O histexpand.c\n    rm -f histfile.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O histfile.c\n    rm -f histsearch.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O histsearch.c\n    rm -f shell.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O shell.c\n    rm -f mbutil.o\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O mbutil.c\n    rm -f tilde.o\n    gcc -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -DREADLINE_LIBRARY -c ./tilde.c\n    rm -f libreadline.a\n    ar cr libreadline.a readline.o vi_mode.o funmap.o keymaps.o parens.o search.o rltty.o complete.o bind.o isearch.o display.o signals.o util.o kill.o undo.o macro.o input.o callback.o terminal.o text.o nls.o misc.o compat.o xfree.o xmalloc.o history.o histexpand.o histfile.o histsearch.o shell.o mbutil.o tilde.o\n    test -n \"ranlib\" &amp;&amp; ranlib libreadline.a\n    rm -f libhistory.a\n    ar cr libhistory.a history.o histexpand.o histfile.o histsearch.o shell.o mbutil.o xmalloc.o xfree.o\n    test -n \"ranlib\" &amp;&amp; ranlib libhistory.a\n    test -d shlib || mkdir shlib\n    ( cd shlib ; make  all )\n    make[1]: Entering directory `/tmp/pip-build-Ax57Qh/readline/rl/readline-lib/shlib'\n    rm -f readline.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o readline.o ../readline.c\n    mv readline.o readline.so\n    rm -f vi_mode.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o vi_mode.o ../vi_mode.c\n    mv vi_mode.o vi_mode.so\n    rm -f funmap.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o funmap.o ../funmap.c\n    mv funmap.o funmap.so\n    rm -f keymaps.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o keymaps.o ../keymaps.c\n    mv keymaps.o keymaps.so\n    rm -f parens.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o parens.o ../parens.c\n    mv parens.o parens.so\n    rm -f search.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o search.o ../search.c\n    mv search.o search.so\n    rm -f rltty.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o rltty.o ../rltty.c\n    mv rltty.o rltty.so\n    rm -f complete.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o complete.o ../complete.c\n    mv complete.o complete.so\n    rm -f bind.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o bind.o ../bind.c\n    mv bind.o bind.so\n    rm -f isearch.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o isearch.o ../isearch.c\n    mv isearch.o isearch.so\n    rm -f display.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o display.o ../display.c\n    mv display.o display.so\n    rm -f signals.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o signals.o ../signals.c\n    mv signals.o signals.so\n    rm -f util.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o util.o ../util.c\n    mv util.o util.so\n    rm -f kill.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o kill.o ../kill.c\n    mv kill.o kill.so\n    rm -f undo.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o undo.o ../undo.c\n    mv undo.o undo.so\n    rm -f macro.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o macro.o ../macro.c\n    mv macro.o macro.so\n    rm -f input.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o input.o ../input.c\n    mv input.o input.so\n    rm -f callback.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o callback.o ../callback.c\n    mv callback.o callback.so\n    rm -f terminal.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o terminal.o ../terminal.c\n    mv terminal.o terminal.so\n    rm -f text.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o text.o ../text.c\n    mv text.o text.so\n    rm -f nls.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o nls.o ../nls.c\n    mv nls.o nls.so\n    rm -f misc.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o misc.o ../misc.c\n    mv misc.o misc.so\n    rm -f xmalloc.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o xmalloc.o ../xmalloc.c\n    mv xmalloc.o xmalloc.so\n    rm -f xfree.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o xfree.o ../xfree.c\n    mv xfree.o xfree.so\n    rm -f history.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o history.o ../history.c\n    mv history.o history.so\n    rm -f histexpand.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o histexpand.o ../histexpand.c\n    mv histexpand.o histexpand.so\n    rm -f histfile.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o histfile.o ../histfile.c\n    mv histfile.o histfile.so\n    rm -f histsearch.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o histsearch.o ../histsearch.c\n    mv histsearch.o histsearch.so\n    rm -f shell.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o shell.o ../shell.c\n    mv shell.o shell.so\n    rm -f mbutil.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o mbutil.o ../mbutil.c\n    mv mbutil.o mbutil.so\n    rm -f tilde.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -DREADLINE_LIBRARY -c -o tilde.o ../tilde.c\n    mv tilde.o tilde.so\n    rm -f compat.so\n    gcc -c -DHAVE_CONFIG_H   -DNEED_EXTERN_PC -fPIC -I. -I.. -I.. -DRL_LIBRARY_VERSION='\"6.2\"' -g -O -fPIC -o compat.o ../compat.c\n    mv compat.o compat.so\n    rm -f libreadline.so.6.2\n    gcc -shared -Wl,-soname,libreadline.so.6.2 -L./lib/termcap -Wl,-rpath,/usr/local/lib -Wl,-soname,`basename libreadline.so.6.2 .2` -o libreadline.so.6.2 readline.so vi_mode.so funmap.so keymaps.so parens.so search.so rltty.so complete.so bind.so isearch.so display.so signals.so util.so kill.so undo.so macro.so input.so callback.so terminal.so text.so nls.so misc.so xmalloc.so xfree.so history.so histexpand.so histfile.so histsearch.so shell.so mbutil.so tilde.so compat.so\n    rm -f libhistory.so.6.2\n    gcc -shared -Wl,-soname,libhistory.so.6.2 -L./lib/termcap -Wl,-rpath,/usr/local/lib -Wl,-soname,`basename libhistory.so.6.2 .2` -o libhistory.so.6.2 history.so histexpand.so histfile.so histsearch.so shell.so mbutil.so xmalloc.so xfree.so\n    make[1]: Leaving directory `/tmp/pip-build-Ax57Qh/readline/rl/readline-lib/shlib'\n\n    ============ Building the readline library ============\n\n\n    ============ Building the readline extension module ============\n\n    running install\n    running build\n    running build_ext\n    building 'readline' extension\n    creating build\n    creating build/temp.linux-x86_64-2.7\n    creating build/temp.linux-x86_64-2.7/Modules\n    creating build/temp.linux-x86_64-2.7/Modules/2.x\n    gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -DHAVE_RL_CALLBACK -DHAVE_RL_CATCH_SIGNAL -DHAVE_RL_COMPLETION_APPEND_CHARACTER -DHAVE_RL_COMPLETION_DISPLAY_MATCHES_HOOK -DHAVE_RL_COMPLETION_MATCHES -DHAVE_RL_COMPLETION_SUPPRESS_APPEND -DHAVE_RL_PRE_INPUT_HOOK -I. -I/usr/include/python2.7 -c Modules/2.x/readline.c -o build/temp.linux-x86_64-2.7/Modules/2.x/readline.o -Wno-strict-prototypes\n    Modules/2.x/readline.c:8:20: fatal error: Python.h: No such file or directory\n     #include \"Python.h\"\n                        ^\n    compilation terminated.\n    error: command 'gcc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-Ax57Qh/readline/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-KRvGg7-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-Ax57Qh/readline\n</code></pre>\n\n<p><strong>Update</strong>: adding path to <code>$CPATH</code> does NOT help</p>\n\n<pre><code>-bash-4.2$ locate Python.h\n/usr/include/python2.7/Python.h\n-bash-4.2$ echo $CPATH\n\n-bash-4.2$ export CPATH=/usr/include/python2.7/\n-bash-4.2$ echo $CPATH\n/usr/include/python2.7/\n</code></pre>\n\n<p>and I still get the <em>same</em> error running <code>sudo pip install readline</code>:</p>\n\n<pre><code>Command \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-NP1WUS/readline/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-9Uamrv-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-NP1WUS/readline\n</code></pre>\n\n<p>Then the said file no longer exist in tmp/:</p>\n\n<pre><code>-bash-4.2$ ls -la /tmp/pip-build-*\nls: cannot access /tmp/pip-build-*: No such file or directory\n</code></pre>\n"}, {"tags": ["python", "linux", "python-2.7", "debian"], "comments": [{"owner": {"reputation": 21, "user_id": 5394887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29be4c5a76b77be0a11555df087de6f?s=128&d=identicon&r=PG&f=1", "display_name": "arthur_esob", "link": "https://stackoverflow.com/users/5394887/arthur-esob"}, "edited": false, "score": 0, "creation_date": 1443646120, "post_id": 32875345, "comment_id": 53582115, "body": "BTW i do feel like  &quot; /usr/local/lib/python27.zip &quot; and &quot; /home/pierre/.local/lib/python2.7/site-packages  &quot; have nothing to do here but couldn&#39;t find a way to remove them from PATH"}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1443646336, "post_id": 32875345, "comment_id": 53582215, "body": "I think you hit on the error, one I have myself - installing 2.7 onto a machine that already had 2.7 - a suggestion would be to remove both and then install the debian version (only)."}, {"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443646348, "post_id": 32875345, "comment_id": 53582221, "body": "How did you install those modules? <code>&#47;usr&#47;local&#47;lib&#47;python2.7&#47;lib-dynload&#47;select.so: undefined symbol: _PyInt_AsInt</code>: Check if you are using the correct version of your library."}, {"owner": {"reputation": 21, "user_id": 5394887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29be4c5a76b77be0a11555df087de6f?s=128&d=identicon&r=PG&f=1", "display_name": "arthur_esob", "link": "https://stackoverflow.com/users/5394887/arthur-esob"}, "edited": false, "score": 0, "creation_date": 1443646536, "post_id": 32875345, "comment_id": 53582321, "body": "Hi Kevin, I thought about this but won&#39;t removing the native debian python crash the system ?                                                                                                                 Hi multivac , I installed them downloading them and python setup.py install. How can i check that i&#39;m using the correct version ?"}, {"owner": {"reputation": 21, "user_id": 5394887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29be4c5a76b77be0a11555df087de6f?s=128&d=identicon&r=PG&f=1", "display_name": "arthur_esob", "link": "https://stackoverflow.com/users/5394887/arthur-esob"}, "edited": false, "score": 0, "creation_date": 1443646701, "post_id": 32875345, "comment_id": 53582412, "body": "&#39; pip freeze &#39; doesn&#39;t work i get several errors like this   File &quot;/usr/bin/pip&quot;, line 9, in &lt;module&gt;                                                                                                                                                                load_entry_point(&#39;pip==1.5.6&#39;, &#39;console_scripts&#39;, &#39;pip&#39;)()"}], "owner": {"reputation": 21, "user_id": 5394887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29be4c5a76b77be0a11555df087de6f?s=128&d=identicon&r=PG&f=1", "display_name": "arthur_esob", "link": "https://stackoverflow.com/users/5394887/arthur-esob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1616, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1453997202, "creation_date": 1443646031, "last_edit_date": 1443647212, "question_id": 32875345, "link": "https://stackoverflow.com/questions/32875345/trouble-importing-libraries-in-python-2-7", "title": "Trouble importing libraries in Python 2.7", "body": "<p>I'm fairly new to Linux but really willing to understand what's going on. I usually spend a lot of time on Google trying to solve the problem myself but this time, I really don't get it.</p>\n\n<p>I'm running Linux debian-pierre 3.16.0-4-686-pae #1 SMP Debian 3.16.7-ckt11-1+deb8u3 (2015-08-04) i686 GNU/Linux</p>\n\n<p>Here is my problem:\nWhen importing libraries I added myself (eg <em>request</em>, <em>psutil</em>, <em>serial</em>) in a Python script, I get :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/pierre/documents/script/xbee/comm.py\", line 9, in &lt;module&gt;\n    import serial\n  File \"/usr/local/lib/python2.7/site-packages/serial/__init__.py\", line 21, in &lt;module&gt;\n    from serial.serialposix import *\n  File \"/usr/local/lib/python2.7/site-packages/serial/serialposix.py\", line 15, in &lt;module&gt;\n    import sys, os, fcntl, termios, struct, select, errno, time\nImportError: /usr/local/lib/python2.7/lib-dynload/select.so: undefined symbol: _PyInt_AsInt\n</code></pre>\n\n<p>I can't import them either when running Python from the command line. \nThose modules are stored in <code>/usr/local/lib/python2.7/site-packages/</code>.</p>\n\n<p><code>sys.path</code> gives:</p>\n\n<pre><code>[\n  '', \n  '/usr/local/lib/python27.zip', \n  '/usr/local/lib/python2.7', \n  '/usr/local/lib/python2.7/plat-linux3',            \n  '/usr/local/lib/python2.7/lib-tk', \n  '/usr/local/lib/python2.7/lib-old', \n  '/usr/local/lib/python2.7/lib-dynload', \n  '/home/pierre/.local/lib/python2.7/site-packages', \n  '/usr/local/lib/python2.7/site-packages'\n]\n</code></pre>\n\n<p>so the path to the folder containing the modules is included. The thing I really don't understand is that one of the libraries in this path can be loaded while the others not. I'm totally confused.</p>\n\n<p>After rebuilding my laptop I installed another version of Python 2.7 because I didn't know it was already installed with Debian. The problems started from then. It really seems like Python doesn't fetch the modules from the right place, but why?</p>\n\n<p>If anyone can help it would be much appreciated.</p>\n\n<p>I built myself a server (cubieboard) with Cubian on it, wrote scripts, installed those libraries, use them without a problem... So I'm REALLY confused.</p>\n"}, {"tags": ["python", "get", "request"], "comments": [{"owner": {"reputation": 534, "user_id": 3882704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5f3c0ad59d68324bd15384465a8f17?s=128&d=identicon&r=PG", "display_name": "Kellen", "link": "https://stackoverflow.com/users/3882704/kellen"}, "edited": false, "score": 0, "creation_date": 1443645815, "post_id": 32875241, "comment_id": 53581947, "body": "If you&#39;re looking for a high-level wrapper, the <code>requests</code> library PyPi is decent."}, {"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443645855, "post_id": 32875241, "comment_id": 53581967, "body": "Are you talking about the requests module? I&#39;m pretty sure get returns a Response object, not json or a string (but you can obtain both from the Response object). Can you post your code?"}, {"owner": {"reputation": 405, "user_id": 4888332, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-xXPpoKaqZnM/AAAAAAAAAAI/AAAAAAAAA8o/5sYESTf_C6M/photo.jpg?sz=128", "display_name": "Taimoor Khan", "link": "https://stackoverflow.com/users/4888332/taimoor-khan"}, "edited": false, "score": 0, "creation_date": 1443645901, "post_id": 32875241, "comment_id": 53581990, "body": "i dont want it in json though, i just want a string."}, {"owner": {"reputation": 405, "user_id": 4888332, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-xXPpoKaqZnM/AAAAAAAAAAI/AAAAAAAAA8o/5sYESTf_C6M/photo.jpg?sz=128", "display_name": "Taimoor Khan", "link": "https://stackoverflow.com/users/4888332/taimoor-khan"}, "edited": false, "score": 0, "creation_date": 1443646047, "post_id": 32875241, "comment_id": 53582076, "body": "code posted, Im unsure if id get it as a json, object or a string. I would like it as a string"}, {"owner": {"reputation": 534, "user_id": 3882704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5f3c0ad59d68324bd15384465a8f17?s=128&d=identicon&r=PG", "display_name": "Kellen", "link": "https://stackoverflow.com/users/3882704/kellen"}, "edited": false, "score": 0, "creation_date": 1443646307, "post_id": 32875241, "comment_id": 53582198, "body": "What is the server&#39;s response? What does <code>print(req)</code> give you? What output are you getting, and what is your <i>desired</i> output?"}, {"owner": {"reputation": 176, "user_id": 2692771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d0a7fa1182f44b6387544f8b4dec7f?s=128&d=identicon&r=PG&f=1", "display_name": "odai alghamdi", "link": "https://stackoverflow.com/users/2692771/odai-alghamdi"}, "edited": false, "score": 0, "creation_date": 1443646487, "post_id": 32875241, "comment_id": 53582299, "body": "<code>req.text</code> would do the job"}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 4888332, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-xXPpoKaqZnM/AAAAAAAAAAI/AAAAAAAAA8o/5sYESTf_C6M/photo.jpg?sz=128", "display_name": "Taimoor Khan", "link": "https://stackoverflow.com/users/4888332/taimoor-khan"}, "edited": false, "score": 0, "creation_date": 1443646000, "post_id": 32875289, "comment_id": 53582045, "body": "but what if i want it as a string?"}, {"owner": {"reputation": 2302, "user_id": 1616278, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ye3Wl.jpg?s=128&g=1", "display_name": "kakajan", "link": "https://stackoverflow.com/users/1616278/kakajan"}, "reply_to_user": {"reputation": 405, "user_id": 4888332, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-xXPpoKaqZnM/AAAAAAAAAAI/AAAAAAAAA8o/5sYESTf_C6M/photo.jpg?sz=128", "display_name": "Taimoor Khan", "link": "https://stackoverflow.com/users/4888332/taimoor-khan"}, "edited": false, "score": 5, "creation_date": 1443646282, "post_id": 32875289, "comment_id": 53582185, "body": "@TaimoorKhan use <code>req.text</code>, it will give you in string format what returned from response"}, {"owner": {"reputation": 76, "user_id": 3868081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/100c102f4d522f7b2b4dfd3d1cd84ada?s=128&d=identicon&r=PG&f=1", "display_name": "jshi", "link": "https://stackoverflow.com/users/3868081/jshi"}, "edited": false, "score": 1, "creation_date": 1543045917, "post_id": 32875289, "comment_id": 93784543, "body": "please note that:     type(req.json) is class &#39;dict&#39;      type(req.json()) is class &#39;method&#39;"}], "tags": [], "owner": {"reputation": 2302, "user_id": 1616278, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ye3Wl.jpg?s=128&g=1", "display_name": "kakajan", "link": "https://stackoverflow.com/users/1616278/kakajan"}, "is_accepted": true, "score": 33, "last_activity_date": 1559563580, "last_edit_date": 1559563580, "creation_date": 1443645866, "answer_id": 32875289, "question_id": 32875241, "link": "https://stackoverflow.com/questions/32875241/get-request-python-as-a-string/32875289#32875289", "title": "Get request python as a string", "body": "<p>Use <a href=\"https://2.python-requests.org/en/latest/index.html\" rel=\"noreferrer\">python requests</a>. Check the link, there are examples how you get json from response.</p>\n\n<pre><code>req = requests.get(server, auth=('user',\"pass\"))\nreq.json()\n</code></pre>\n\n<p>If you want it as string, use</p>\n\n<pre><code>req.text\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4888332, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-xXPpoKaqZnM/AAAAAAAAAAI/AAAAAAAAA8o/5sYESTf_C6M/photo.jpg?sz=128", "display_name": "Taimoor Khan", "link": "https://stackoverflow.com/users/4888332/taimoor-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37510, "favorite_count": 3, "accepted_answer_id": 32875289, "answer_count": 1, "score": 22, "last_activity_date": 1559563580, "creation_date": 1443645672, "last_edit_date": 1443645949, "question_id": 32875241, "link": "https://stackoverflow.com/questions/32875241/get-request-python-as-a-string", "title": "Get request python as a string", "body": "<p>I wanted to send a get request in python and return it as a string. I wanna eventually use that string as something later on. Also by default does python return it in json format? </p>\n\n<pre><code>req = requests.get(server, auth=('user',\"pass\"))\n</code></pre>\n\n<p>thanks</p>\n"}, {"tags": ["python", "matplotlib", "subplot"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 1, "creation_date": 1443645877, "post_id": 32875148, "comment_id": 53581977, "body": "Why do you use <code>plt.barh</code> here? Instead use <code>ax1.barh</code>, etc to plot directly to your axis."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 0, "creation_date": 1443691433, "post_id": 32875148, "comment_id": 53598082, "body": "by the way, <code>matplotlib v1.2.1</code> is 2 and a half years old. <code>1.4.3</code> is the current stable release. You might consider updating your version"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 4427547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87121149d83787450a7e9c3839ce76bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ajoy", "link": "https://stackoverflow.com/users/4427547/ajoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1443648627, "creation_date": 1443648627, "answer_id": 32875964, "question_id": 32875148, "link": "https://stackoverflow.com/questions/32875148/python-3-figure-subplot-only-shows-one-plot/32875964#32875964", "title": "Python 3 figure subplot only shows one plot", "body": "<p>Instead of using </p>\n\n<pre><code>    plt.barh(ind, q2, width, color=colors)\n</code></pre>\n\n<p>change them as</p>\n\n<pre><code>    ax1 = ax1.barh(ind, q2, width, color=colors)\n    ax2 = ax2.barh(ind, q4, width, color=colors)\n    ax3 = ax3.barh(ind, q6, width, color=colors)\n</code></pre>\n\n<p>Hope this solves your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": false, "score": 1, "last_activity_date": 1443690904, "creation_date": 1443690904, "answer_id": 32883770, "question_id": 32875148, "link": "https://stackoverflow.com/questions/32875148/python-3-figure-subplot-only-shows-one-plot/32883770#32883770", "title": "Python 3 figure subplot only shows one plot", "body": "<p>You've done something a bit strange. You define <code>ax1</code>, <code>ax2</code>, and <code>ax3</code> at the top of your script with the <code>plt.subplots</code> command, but then you don't use them later. I've reworked you script to make sure that all your commands are working on the correct <code>axes</code>.</p>\n\n<p>Instead of <code>plt.barh()</code>, you can use <code>ax1.barh()</code>. Then, you can set the ticks and axes limits using <code>ax1.set_yticks()</code>, <code>ax1.set_ylim()</code>, <code>ax1.set_xticks()</code> and <code>ax1.set_xlim()</code></p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nf, (ax1, ax2, ax3) = plt.subplots(3, 1, sharex=True, sharey=False)\nf.subplots_adjust(wspace=0)\n\nN = 4\nind = np.arange(N)\n\nwidth = .4\ngroup_names = ('A', 'B', 'C', 'D')\n\nq2 = [84, 21, 10, 4]\nq4 = [69, 34, 22, 0]\nq6 = [66, 28, 17, 2]\n\ncolors = ['c', 'purple', 'g', 'red']\n\nax1.barh(ind, q2, width, color=colors)\nax1.set_yticks(ind+width/N, group_names)\nax1.set_ylim([min(ind)-0.25, max(ind)+0.65])\nax1.set_xticks(np.arange(0, 110, 10.))\nax1.set_xlim(0, 100)\n\nax2.barh(ind, q4, width, color=colors)\nax2.set_yticks(ind+width/N, group_names)\nax2.set_ylim([min(ind)-0.25, max(ind)+0.65])\nax2.set_xticks(np.arange(0, 110, 10.))\nax2.set_xlim(0, 100)\n\nax3.barh(ind, q6, width, color=colors)\nax3.set_yticks(ind+width/N, group_names)\nax3.set_ylim([min(ind)-0.25, max(ind)+0.65])\nax3.set_xticks(np.arange(0, 110, 10.))\nax3.set_xlim(0, 100)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6Z5ot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Z5ot.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 5394876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bd6aef3695f16b8333505cff2118f52?s=128&d=identicon&r=PG&f=1", "display_name": "python_newbie", "link": "https://stackoverflow.com/users/5394876/python-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3943, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443690904, "creation_date": 1443645320, "question_id": 32875148, "link": "https://stackoverflow.com/questions/32875148/python-3-figure-subplot-only-shows-one-plot", "title": "Python 3 figure subplot only shows one plot", "body": "<p>I have the following code for which only ax3 displays the plotting area and data. Subplots ax1 and ax2 display a plot area but no data. Ultimately, I want three plots (3, 1 configuration) with sharex=True. I'm using Python 2.7.2 and matplotlib 1.2.1</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nf, (ax1, ax2, ax3) = plt.subplots(3, 1, sharex=True, sharey=False)\nf.subplots_adjust(wspace=0)\n\nN = 4\nind = np.arange(N)\n\nwidth = .4\ngroup_names = ('A', 'B', 'C', 'D')\n\nq2 = [84, 21, 10, 4]\nq4 = [69, 34, 22, 0]\nq6 = [66, 28, 17, 2]\n\ncolors = ['c', 'purple', 'g', 'red']\n\nax1 = plt.barh(ind, q2, width, color=colors)\nplt.yticks(ind+width/N, group_names)\nplt.ylim([min(ind)-0.25, max(ind)+0.65])\nplt.xticks(np.arange(0, 110, 10.))\nplt.xlim(0, 100)\n\nax2 = plt.barh(ind, q4, width, color=colors)\nplt.yticks(ind+width/N, group_names)\nplt.ylim([min(ind)-0.25, max(ind)+0.65])\nplt.xticks(np.arange(0, 110, 10.))\nplt.xlim(0, 100)\n\nax3 = plt.barh(ind, q6, width, color=colors)\nplt.yticks(ind+width/N, group_names)\nplt.ylim([min(ind)-0.25, max(ind)+0.65])\nplt.xticks(np.arange(0, 110, 10.))\nplt.xlim(0, 100)\n\nplt.show()\n</code></pre>\n"}, {"tags": ["android", "python", "csv", "pip", "buildozer"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4680462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a19d9dc8b21c3cddb68fcab35597a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Tibor", "link": "https://stackoverflow.com/users/4680462/tibor"}, "edited": false, "score": 0, "creation_date": 1443724524, "post_id": 32884856, "comment_id": 53618360, "body": "Yes you were right I had csv included in buildozer.spec as requirement. After I removed it, application runs ok. Thank you."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": true, "score": 1, "last_activity_date": 1443732222, "last_edit_date": 1443732222, "creation_date": 1443694117, "answer_id": 32884856, "question_id": 32875139, "link": "https://stackoverflow.com/questions/32875139/buildozer-cant-load-csv-module-after-removing-it-from-blacklist/32884856#32884856", "title": "Buildozer can&#39;t load CSV module after removing it from blacklist", "body": "<p>It looks like you've added then csv module to the requirements line so buildozer is trying to install it. This is not necessary as it is a built in module, just remove it.</p>\n\n<p>Also, probably a better way to unblacklist it would be to add it in the whitelist option. This removes the need to manually edit the blacklist files.</p>\n"}], "owner": {"reputation": 23, "user_id": 4680462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a19d9dc8b21c3cddb68fcab35597a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Tibor", "link": "https://stackoverflow.com/users/4680462/tibor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 32884856, "answer_count": 1, "score": 1, "last_activity_date": 1443732222, "creation_date": 1443645299, "question_id": 32875139, "link": "https://stackoverflow.com/questions/32875139/buildozer-cant-load-csv-module-after-removing-it-from-blacklist", "title": "Buildozer can&#39;t load CSV module after removing it from blacklist", "body": "<p>I am building app for android using python, kivy and Buildozer. I am including CSV module in code.\nCSV module is blacklisted by default in Buildozer in <em>blacklist.txt</em> </p>\n\n<p>I removed it from all <em>blacklist.txt</em> files. \nAfter that if I try \"buildozer android debug\" this error occurs:</p>\n\n<pre><code># Command failed: pip install --download-cache=/home/tibor/.buildozer/cache --target=/home/tibor/projects/wisdoms_deploy/.buildozer/applibs csv\n</code></pre>\n\n<p>In detailed log from buildozer pip is this:</p>\n\n<pre><code>Downloading/unpacking csv\nGetting page https://pypi.python.org/simple/csv/\nURLs to search for versions for csv:\n* https://pypi.python.org/simple/csv/\nAnalyzing links from page https://pypi.python.org/simple/csv/\nSkipping link http://www.object-craft.com.au/projects/csv/ (from https://pypi.python.org/simple/csv/); not a file\n</code></pre>\n\n<p>It indicates that it wants to download csv from wrong page as on that pages is nothing.</p>\n\n<p>I am stuck at this point and can't figure out, how to add csv module to buildozer.</p>\n"}, {"tags": ["python", "rest", "python-requests", "web2py"], "answers": [{"comments": [{"owner": {"reputation": 412, "user_id": 3903311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yKcSI.png?s=128&g=1", "display_name": "RYS", "link": "https://stackoverflow.com/users/3903311/rys"}, "edited": false, "score": 0, "creation_date": 1443687546, "post_id": 32877627, "comment_id": 53595731, "body": "Right, when I made a form to fill it out I realized <code>list:integer</code> was not what I expected it was. Option 1 worked well for me, though it was not as straightforward as I thought it would be to modify my model."}], "tags": [], "owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1443658812, "creation_date": 1443658812, "answer_id": 32877627, "question_id": 32875123, "link": "https://stackoverflow.com/questions/32875123/posting-a-list-to-a-web2py-database/32877627#32877627", "title": "Posting a list to a web2py database", "body": "<p>I don't see how you would store a sequence of latitude/longitude pairs in a <code>list:integer</code> field. Instead, you might consider the following options:</p>\n\n<ol>\n<li>Make <code>db.path.coordinates</code> a <code>json</code> field, and submit the coordinates as a JSON object. When retrieving records from the table, the web2py DAL will automatically convert the JSON to a Python object for manipulation with Python.</li>\n<li>Use a <code>string</code> or <code>text</code> field and create your own custom serialization of the data into a string format, parsing the data yourself when doing inserts and selects.</li>\n<li>Implement option #2 using either <a href=\"http://web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#filter_in-and-filter_out\" rel=\"nofollow\"><code>filter_in</code>/<code>filter_out</code></a> or a <a href=\"http://web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#Custom-Field-types--experimental-\" rel=\"nofollow\">custom field type</a>.</li>\n</ol>\n"}], "owner": {"reputation": 412, "user_id": 3903311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yKcSI.png?s=128&g=1", "display_name": "RYS", "link": "https://stackoverflow.com/users/3903311/rys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 32877627, "answer_count": 1, "score": 0, "last_activity_date": 1443658812, "creation_date": 1443645229, "question_id": 32875123, "link": "https://stackoverflow.com/questions/32875123/posting-a-list-to-a-web2py-database", "title": "Posting a list to a web2py database", "body": "<p>I have a simple web2py app that implements a RESTful API. In my model, I have something like:</p>\n\n<pre><code>db.define_table('vehicles',\n                Field('flightId', type='string', default='00000', length=128, \n                .\n                .\n                .\n                Field('route', 'reference path'),\n                )\n\ndb.define_table('path',\n                Field('coordinates', type='list:integer', requires=IS_NOT_EMPTY()))\n</code></pre>\n\n<p>I want my vehicle to be able to reference a path, which is then managed by another database entry. This path, of course, will be given by coordinate pairs in latitude/longitude so actually a list of tuples would be best. Is there a more sensible way to do this? How would I post a list of ints? Could I just use <code>requests</code> to do this?</p>\n\n<p>The client needs to be able to query the vehicle a lot, but I would like not to send the full path each time this happens as there are many points along the path. I'm totally out of my element with web stuff, so I appreciate any help, tips or resources anyone can provide in this regard. </p>\n"}, {"tags": ["python", "sqlalchemy", "crud", "traceback", "optional-arguments"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1443645712, "post_id": 32875107, "comment_id": 53581897, "body": "I don&#39;t see why you think this has anything to do with <code>args</code>. You have told your function to raise that error explicitly if it doesn&#39;t recognise what <code>something_unique</code> is. Since that value in turn comes from <code>retrieve_user</code>, you&#39;re going to at least need to post that method."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1443646155, "post_id": 32875107, "comment_id": 53582128, "body": "No, the traceback you have posted clearly shows that the error is happening inside <code>retrieve_assessment</code>, so I don&#39;t understand how you can say it is working properly. That is the code you should be posting, sorry."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443646215, "post_id": 32875107, "comment_id": 53582158, "body": "So ... what is it complaining about?  Insert print statements at the top of retrieve_assessment to see the arguments passed in.  Trace the if conditions similarly.  That much <b>should</b> show the error."}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443646497, "post_id": 32875107, "comment_id": 53582306, "body": "@Prune sorry... wrong traceback was added on top... see above now"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443646664, "post_id": 32875107, "comment_id": 53582389, "body": "I think my comment still applies -- but to a different method now.  <b>You</b> own the code that&#39;s throwing the error, so you have phenomenal cosmic powers to diagnose the problem.  &quot;print&quot; is a blunt instrument, but it helps when inserted appropriately."}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "edited": false, "score": 0, "creation_date": 1443646719, "post_id": 32875107, "comment_id": 53582420, "body": "I printed, magic that came forward: <code>Decision-Making baseball Becoming a Leader Becoming a Leader</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1443646969, "post_id": 32875107, "comment_id": 53582524, "body": "... and the critical information: what are the types?  I&#39;m looking for something like /// print type(something_unique) ... for a in args print type(a) ///  You could also do an explicit check for basestring, with /// print type(a), isinstance(a, basestring) ///"}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443647276, "post_id": 32875107, "comment_id": 53582656, "body": "@Prune the print out (thank you for the suggestion! I will use it in the future for debugging): <code>Decision-Making baseball Becoming a Leader Becoming a Leader &lt;class &#39;notssdb.model.base.User&#39;&gt; &lt;class &#39;notssdb.model.base.Assessment&#39;&gt; False</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443647596, "post_id": 32875107, "comment_id": 53582788, "body": "... and what happens when you extend those checks to the other conditions in your if ... elif series?"}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "edited": false, "score": 0, "creation_date": 1443647654, "post_id": 32875107, "comment_id": 53582814, "body": "same traceback even after I tried your suggestion."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443647847, "post_id": 32875107, "comment_id": 53582897, "body": "If you are trying all my suggestions, you&#39;ll have more output to post for us.  Trace the arguments and their types, check the individual isinstance calls, and make sure that you properly loop through all the args in sequence.  If that doesn&#39;t work, please post the new output, including all of those traces.  You might stick an identifying string in each print, so it&#39;s easy to tell which is which.  I often used lines such as /// print &quot;CHECK A&quot;, type(...) /// continuing with CHECK B, etc."}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443650114, "post_id": 32875107, "comment_id": 53583851, "body": "@Prune new output  above"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443650617, "post_id": 32875107, "comment_id": 53584053, "body": "From the lack of exception message, I take it that (1) you altered the &#39;if&#39; conditions to check each individual arg, rather than the tuple, and (2) it worked.  Is that the correct status now?"}, {"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443650897, "post_id": 32875107, "comment_id": 53584142, "body": "@Prune same error, I introduced the answer you suggested below. I will add exactly what I did above."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "edited": false, "score": 0, "creation_date": 1443718326, "post_id": 32875107, "comment_id": 53615236, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/91121/discussion-between-prune-and-thesayhey\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "edited": false, "score": 0, "creation_date": 1443706957, "post_id": 32875618, "comment_id": 53607942, "body": "I need to unpack the tuple to get the function to work."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1443647106, "creation_date": 1443647106, "answer_id": 32875618, "question_id": 32875107, "link": "https://stackoverflow.com/questions/32875107/optional-positional-arguments-raising-valueerror/32875618#32875618", "title": "Optional Positional Arguments Raising ValueError", "body": "<p>I think I may have spotted the problem:</p>\n\n<pre><code>elif isinstance(something_unique, basestring) and isinstance(args, basestring):\n</code></pre>\n\n<p>\"args\" is not a basestring: you need to check each individual argument to see whether it's a basestring.</p>\n\n<pre><code>... and reduce(lambda x, y: x and isinstance(y, basestring), [a for a in args], True)\n</code></pre>\n"}], "owner": {"reputation": 858, "user_id": 5140076, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d668775740ba65deae02791651c4dd49?s=128&d=identicon&r=PG&f=1", "display_name": "thesayhey", "link": "https://stackoverflow.com/users/5140076/thesayhey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443730813, "creation_date": 1443645160, "last_edit_date": 1495542147, "question_id": 32875107, "link": "https://stackoverflow.com/questions/32875107/optional-positional-arguments-raising-valueerror", "title": "Optional Positional Arguments Raising ValueError", "body": "<p>I have built a <code>CRUD API</code> for working with a <code>database</code>. The <code>Retrieve</code>(or Read) <code>function</code> for the table <code>class</code>, <code>assessment_results</code> is currently giving me issues. Background regarding the design: the <code>API</code> also has a convenience file that inherits from the main file (object.py) for purposes of accepting <code>string</code> values.</p>\n\n<p>What it needs to do: check for an <code>ID</code> and/or check for two arguments (should the ID not be in use). If one or the other(s) if appropriate, retrieve it along with its particulars. \nFollowing the <a href=\"https://docs.python.org/2/glossary.html#term-argument\" rel=\"nofollow noreferrer\">docs on Python</a>, I introduced the argument <code>*</code> to allow optional position arguments. I also had helped from this great <a href=\"http://www.informit.com/articles/article.aspx?p=2314818\" rel=\"nofollow noreferrer\">tutorial.</a> (I am a newbie at designing and building dbs and using python.)</p>\n\n<p>I believe the retrieve method is working, but there must be a flaw in the design or the method for <code>create_category_rating(...)</code> as the <code>Traceback</code> is returning now a <code>ValueError</code>. I read here on <a href=\"https://stackoverflow.com/questions/13687043/python-optional-positional-and-keyword-arguments\">Stacks</a> (a similar issue) that I might  need to assign a value to args, but it seems like I am through the API.</p>\n\n<p>Code as Follows: </p>\n\n<p><strong>object.py</strong></p>\n\n<p>(retrieve method and create_category_rating method): </p>\n\n<pre><code>def retrieve_assessment_results(self, something_unique, *args):\n    if isinstance(something_unique, int):\n        return self.session.query(Assessment_Results).\\\n        filter(Assessment_Results.id == something_unique).one()\n    elif isinstance(something_unique, basestring) and isinstance(args, basestring):\n        return self.session.query(Assessment_Results).\\\n        filter(Assessment_Results.owner == something_unique).\\\n        filter(Assessment_Results.assessment == args).one()\n    elif isinstance(something_unique, Assessment_Results) and isinstance(args, Assessment_Results):\n        return something_unique, args\n    else:\n        raise ValueError('Value being passed is an object')\n\ndef create_category_rating(self, category_rating_int, category, assessment_results):\n    new_catrating = Category_Rating(category_rating_int, category, assessment_results)\n    self.session.add(new_catrating)\n    print(new_catrating)\n    self.session.commit()\n    return(new_catrating)\n</code></pre>\n\n<p><strong>convenience.py</strong> \n(<em>inherits from object.py</em>)</p>\n\n<pre><code>def create_category_rating(self, category_rating_int, category_name, username, name):\n    category = self.retrieve_category(category_name)\n    owner = self.retrieve_user(username)  \n    assessment = self.retrieve_assessment(name)  \n    assessment_results = self.retrieve_assessment_results(owner, assessment)\n    return super(ConvenienceAPI, self).create_category_rating(category_rating_int, category, assessment_results)\n</code></pre>\n\n<p><strong>test.py</strong> </p>\n\n<pre><code>api = ConvenienceAPI()\napi.create_category_rating(2, 'Decision-Making', 'baseball', 'Becoming a Leader')\n</code></pre>\n\n<p><br>\n<strong>Current Issue</strong>: StatementError \nAs per suggested, changed conditionals (needed to unpack and assign the tuple given by *args). </p>\n\n<p>New API: </p>\n\n<pre><code>def retrieve_assessment_results(self, *args):\n    id, assessment, owner = None, None, None\n    if len(args) == 1:\n        id, = args[0]\n    elif len(args) == 2:\n        assessment, owner = args\n    else:\n        raise ValueError('Value being passed is an object')\n    if id is not None:\n        return self.session.query(Assessment_Results).\\\n        filter(Assessment_Results.id == id).one()\n    elif assessment is not None:\n        return self.session.query(Assessment_Results).\\\n        filter(Assessment_Results.assessment == assessment).one()\n    elif owner is not None:\n        return self.session.query(Assessment_Results).\\\n        filter(Assessment_Results.owner == owner).one()\n</code></pre>\n\n<p><strong>TRACEBACK:</strong> </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/Users/ack/code/venv/NotssDB/notssdb/test/test.py\", line 111, in test1\n    api.create_category_rating(2, 'Decision-Making', 'baseball', 'Becoming a Leader')\n  File \"/Users/ack/code/venv/NotssDB/notssdb/api/convenience.py\", line 41, in create_category_rating\n    assessment_results = self.retrieve_assessment_results(owner, assessment)\n  File \"/Users/ack/code/venv/NotssDB/notssdb/api/object.py\", line 323, in retrieve_assessment_results\n    filter(Assessment_Results.assessment == assessment).one()\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2472, in one\n    ret = list(self)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2515, in __iter__\n    return self._execute_and_instances(context)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/orm/query.py\", line 2530, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 914, in execute\n    return meth(self, multiparams, params)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 323, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1010, in _execute_clauseelement\n    compiled_sql, distilled_params\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1078, in _execute_context\n    None, None)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1339, in _handle_dbapi_exception\n    exc_info\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/util/compat.py\", line 199, in raise_from_cause\n    reraise(type(exception), exception, tb=exc_tb)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1073, in _execute_context\n    context = constructor(dialect, self, conn, *args)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 544, in _init_compiled\n    grp, m in enumerate(parameters)]\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/sql/compiler.py\", line 498, in construct_params\n    pd[self.bind_names[bindparam]] = bindparam.effective_value\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 1162, in effective_value\n    return self.callable()\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/orm/relationships.py\", line 1386, in _go\n    value = fn(*arg, **kw)\n  File \"/usr/local/lib/python2.7/site-packages/sqlalchemy/orm/mapper.py\", line 2422, in _get_state_attr_by_column\n    return state.manager[prop.key].impl.get(state, dict_, passive=passive)\nStatementError: (exceptions.KeyError) 'assessment_id' [SQL: u'SELECT assessment_results.id AS assessment_results_id, assessment_results.created_on AS assessment_results_created_on, assessment_results.owner_id AS assessment_results_owner_id, assessment_results.assessment_id AS assessment_results_assessment_id \\nFROM assessment_results \\nWHERE ? = assessment_results.assessment_id'] [parameters: [immutabledict({})]]\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 4, "creation_date": 1443645126, "post_id": 32875070, "comment_id": 53581626, "body": "Have you looked at the <code>os.path</code> module at all?"}], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": true, "score": 1, "last_activity_date": 1443645905, "creation_date": 1443645905, "answer_id": 32875304, "question_id": 32875070, "link": "https://stackoverflow.com/questions/32875070/path-manipulation/32875304#32875304", "title": "Path manipulation", "body": "<p>inb4Padraic</p>\n\n<pre><code>path = '/home/chris/sources/a/b/c/d/e/test.py'.split('/')\nif 'sources' in path:\n    print '/'.join(path[:path.index('sources') + 1])\n</code></pre>\n\n<p>another way</p>\n\n<pre><code>import os\n\npath = '/home/chris/sources/a/b/c/d/e/test.py'.split('sources')\nif len(path) &gt; 1:\n    print os.path.join(path[0], 'sources')\n</code></pre>\n"}], "owner": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 32875304, "answer_count": 1, "score": -2, "last_activity_date": 1443645905, "creation_date": 1443645057, "question_id": 32875070, "link": "https://stackoverflow.com/questions/32875070/path-manipulation", "title": "Path manipulation", "body": "<p>Consider you are launching a script in the following linux path:<br>\n<code>/home/chris/sources/a/b/c/d/e/test.py</code></p>\n\n<p>I want to be able to check whether folder named <code>sources</code> is in path and then return the path <code>/home/chris/sources/</code></p>\n\n<p>Do you think I should do it using simple string manipulation, or do we have in python some xpath library that can help me do it?</p>\n"}, {"tags": ["python", "nltk"], "answers": [{"comments": [{"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "edited": false, "score": 0, "creation_date": 1443666454, "post_id": 32875568, "comment_id": 53587887, "body": "Good catch, I forgot (A LazySubsequence is iterable =&gt; one can use list() on it) :) Thanks!"}], "tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 3, "last_activity_date": 1443646926, "creation_date": 1443646926, "answer_id": 32875568, "question_id": 32875044, "link": "https://stackoverflow.com/questions/32875044/convert-nltk-lazysubsequence-to-a-list/32875568#32875568", "title": "Convert NLTK LazySubsequence to a list", "body": "<p>Actually this is easier than you might think</p>\n\n<pre><code>&gt;&gt;&gt; from nltk.corpus import brown\n&gt;&gt;&gt; corpus = brown.sents()\n&gt;&gt;&gt; LS = corpus[0:250]\n&gt;&gt;&gt; print('type(corpus)[0:250]: {0}'.format(type(LS)))\ntype(corpus)[0:250]: &lt;class 'nltk.util.LazySubsequence'&gt;\n&gt;&gt;&gt; my_list = list(LS)\n&gt;&gt;&gt; print('type(my_list): {0}'.format(type(my_list)))\ntype(my_list): &lt;class 'list'&gt;\n</code></pre>\n\n<p>No need for any special NLTK functions. Pythons built in <code>list()</code> can do it for you.</p>\n"}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 32875568, "answer_count": 1, "score": 0, "last_activity_date": 1443646926, "creation_date": 1443644979, "question_id": 32875044, "link": "https://stackoverflow.com/questions/32875044/convert-nltk-lazysubsequence-to-a-list", "title": "Convert NLTK LazySubsequence to a list", "body": "<p>Is there any NLTK built-in functions to convert an NLTK LazySubsequence to a list?</p>\n\n<p>E.g.</p>\n\n<pre><code>from nltk.corpus import brown\ncorpus = brown.sents()\nLS = corpus[0:250]\nprint('type(corpus)[0:250]: {0}'.format(type(LS)))\n</code></pre>\n\n<p>returns <code>type(corpus)[0:250]: &lt;class 'nltk.util.LazySubsequence'&gt;</code>.</p>\n\n<p>I know I could convert looping around e.g. as follows with <code>convert_LazySubsequence_to_list()</code>, but I wonder whether NLTK offers any native way to cast to a Python list:</p>\n\n<pre><code>from nltk.corpus import brown\n\ndef convert_LazySubsequence_to_list(LS):\n    corpus = []\n    for s in LS:\n        corpus.append(s)\n    return corpus\n\ncorpus = brown.sents()\nLS = corpus[0:250]\nprint('type(corpus)[0:250]: {0}'.format(type(LS)))\n\nmy_list = convert_LazySubsequence_to_list(LS)\nprint('type(my_list): {0}'.format(type(my_list)))\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>type(corpus)[0:250]: &lt;class 'nltk.util.LazySubsequence'&gt;\ntype(my_list): &lt;type 'list'&gt;\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "class", "pyqt", "qtextedit"], "comments": [{"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443645137, "post_id": 32874989, "comment_id": 53581631, "body": "Add a method to your class that sets the text then call it from wherever you want."}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1443645264, "post_id": 32874989, "comment_id": 53581694, "body": "Show the code where you are trying to call this method. Probably you&#39;re trying to call it on the MainWin class instead of on an instance of that."}, {"owner": {"reputation": 23, "user_id": 2597548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7a5f23f888a5aece73b1a22c152c5a0e?s=128&d=identicon&r=PG", "display_name": "Eloh666", "link": "https://stackoverflow.com/users/2597548/eloh666"}, "edited": false, "score": 0, "creation_date": 1443647304, "post_id": 32874989, "comment_id": 53582671, "body": "Updated, probably I am doing the mistake you have mentioned but I am not sure on how to fix it"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2597548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7a5f23f888a5aece73b1a22c152c5a0e?s=128&d=identicon&r=PG", "display_name": "Eloh666", "link": "https://stackoverflow.com/users/2597548/eloh666"}, "edited": false, "score": 0, "creation_date": 1443735391, "post_id": 32876329, "comment_id": 53623780, "body": "Thanks, I have tried but when I try to give the first window as arguement for the method, what I get is AttributeError: &#39;module&#39; object has no attribute &#39;MainWindow&#39; (which btw is the name of the first one).  What I am passing to the <b>init</b> is mainWin.MainWindow. I have previously imported mainWin, however what comes to mid is that I might have a loop with imports as:  The second window is started from the first one, therefore I have imported into the first one. Also I need to edit the first window with the second one. Either way, thanks once more!"}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1508870465, "last_edit_date": 1508870465, "creation_date": 1443650539, "answer_id": 32876329, "question_id": 32874989, "link": "https://stackoverflow.com/questions/32874989/accessing-a-pyqt-widget-outside-its-class/32876329#32876329", "title": "Accessing a PyQT widget outside it&#39;s class", "body": "<p>When you create the second window, pass in a reference to the first window and store it as an attribute:</p>\n\n<pre><code>class SecondWindow(QMainWindow):\n    def __init__(self, firstwindow, parent=None):\n        super(SecondWindow, self).__init__(parent)\n        self.firstwindow = firstwindow\n        ...            \n\n    def addTemplate(self):\n        data = self.textBrowser.toPlainText()\n        self.firstwindow.addText(data)\n</code></pre>\n\n<hr>\n\n<p>If the second window is a <code>QMainWindow</code> or <code>QDialog</code>, you could also make the first window the parent of the second window - in which case, there would be no need to store it as an attribute and you could just do:</p>\n\n<pre><code>        self.parent().addText(data)\n</code></pre>\n\n<p>Doing it this way also means the second window will automatically close when the first window closes.</p>\n"}], "owner": {"reputation": 23, "user_id": 2597548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7a5f23f888a5aece73b1a22c152c5a0e?s=128&d=identicon&r=PG", "display_name": "Eloh666", "link": "https://stackoverflow.com/users/2597548/eloh666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2587, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508870465, "creation_date": 1443644754, "last_edit_date": 1443647276, "question_id": 32874989, "link": "https://stackoverflow.com/questions/32874989/accessing-a-pyqt-widget-outside-its-class", "title": "Accessing a PyQT widget outside it&#39;s class", "body": "<p>a simple situation is proving fairly tricky.</p>\n\n<p>My target is to get a window to update the status of a widget in another window.\nTo explain:</p>\n\n<p>I have window A with some \"data\" and I want it written into the textEdit widget of window B. The specifics of the main window and the widgets are </p>\n\n<pre><code>class MainWin(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(1127, 880)\n\n        self.centralwidget = QtGui.QWidget(MainWindow)\n        self.centralwidget.setObjectName(_fromUtf8(\"centralwidget\"))\n        self.textEdit = QtGui.QTextEdit(self.centralwidget)\n        self.textEdit.setGeometry(QtCore.QRect(20, 150, 1081, 661))\n        self.textEdit.setObjectName(_fromUtf8(\"textEdit\"))\n        self.textEdit.isUndoRedoEnabled ()\n</code></pre>\n\n<p>What I am currently failing at obtaining is a simple method which called from another window (and another file) could change the content inside the textEdit.\nNot sure what I am doing wrong, but when I do try to import the class or a method from the class I always seem to have issue with the </p>\n\n<blockquote>\n  <p>TypeError: unbound method updEdit() must be called with\n  MainWin instance as first argument (got nothing instead)</p>\n</blockquote>\n\n<p>I am very much open to suggestions, and thanks in advance!</p>\n\n<p><strong>Edit #1</strong></p>\n\n<p>from file Rep.py (the second window I am simply calling)</p>\n\n<pre><code>def addTemplate(self):\n        data = self.textBrowser.toPlainText()\n        MainWin.MainWin.addText(MainWindow.MainWin,data)\n        self.close()\n</code></pre>\n\n<p>From the first window, all I would need to do is:</p>\n\n<pre><code>def addText(self,data):\n    self.textEdit.setText(data)\n</code></pre>\n\n<p>I am fairly new to OOP so please forgive me if there's some rather stupid mistake.</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1443674152, "post_id": 32874965, "comment_id": 53589741, "body": "did you debug your <code>authenticate</code> method ? check if is working as expected."}, {"owner": {"reputation": 1163, "user_id": 581268, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc10ab64534f01f38d19a4a594b5e744?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/581268/richard"}, "reply_to_user": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1443695406, "post_id": 32874965, "comment_id": 53600449, "body": "How would you go about debugging it ? If I sent correct login credentials to it, I receive back a Token. if I send wrong credentials, I am not getting back a token."}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1443713196, "post_id": 32874965, "comment_id": 53612288, "body": "use this` import pdb` and then put this within your method  <code>pdb.set_trace()</code>, now you can debug it using server console."}], "answers": [{"tags": [], "owner": {"reputation": 1163, "user_id": 581268, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc10ab64534f01f38d19a4a594b5e744?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/581268/richard"}, "is_accepted": true, "score": 4, "last_activity_date": 1443734903, "creation_date": 1443734903, "answer_id": 32897172, "question_id": 32874965, "link": "https://stackoverflow.com/questions/32874965/django-rest-api-custom-token-authentication-does-not-recognize-token-in-future-r/32897172#32897172", "title": "Django REST API Custom Token Authentication does not recognize token in future requests", "body": "<p>After working out, that the Token was not forwarded in my WSGI configuration I re-read the documentation a bit more carefully.</p>\n\n<p><a href=\"http://www.django-rest-framework.org/api-guide/authentication/#apache-mod_wsgi-specific-configuration\" rel=\"nofollow\">http://www.django-rest-framework.org/api-guide/authentication/#apache-mod_wsgi-specific-configuration</a></p>\n\n<p>Clearly states that <code>WSGIPassAuthorization On</code> needs to be configured for WSGI.</p>\n"}], "owner": {"reputation": 1163, "user_id": 581268, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc10ab64534f01f38d19a4a594b5e744?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/581268/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1932, "favorite_count": 1, "accepted_answer_id": 32897172, "answer_count": 1, "score": 2, "last_activity_date": 1443734903, "creation_date": 1443644649, "last_edit_date": 1495539964, "question_id": 32874965, "link": "https://stackoverflow.com/questions/32874965/django-rest-api-custom-token-authentication-does-not-recognize-token-in-future-r", "title": "Django REST API Custom Token Authentication does not recognize token in future requests", "body": "<p>I am currently running into the following issues with my Django Application and the django-rest-framework. </p>\n\n<p>I have written a CustomAuthToken View according to:\n<a href=\"https://stackoverflow.com/questions/28058326/django-rest-framework-obtain-auth-token-using-email-instead-username\">Django rest framework: Obtain auth token using email instead username</a></p>\n\n<p>account/views.py </p>\n\n<pre><code>class UserView(APIView):\n\n        def get(self, request):\n        users = Customer.objects.all()\n        serializer = CustomerSerializer(users, many=True)\n        return Response(serializer.data)\n\n\nclass ObtainAuthToken(APIView):\n    throttle_classes = ()\n    permission_classes = ()\n    parser_classes = (\n        FormParser,\n        MultiPartParser,\n        JSONParser,\n    )\n\n    renderer_classes = (JSONRenderer,)\n\n    def post(self, request):\n        # Authenticate User\n        c_auth = CustomAuthentication()\n        customer = c_auth.authenticate(request)\n        token, created = Token.objects.get_or_create(user=customer)\n\n        content = {\n            'token': unicode(token.key),\n        }\n\n        return Response(content)\n</code></pre>\n\n<p>My main urls.py:</p>\n\n<pre><code>    from rest_framework.urlpatterns import format_suffix_patterns\n\nfrom account import views as user_view\n\nurlpatterns = [\n    url(r'users/$', user_view.UserView.as_view()),\n    url(r'^api-token-auth/', user_view.ObtainAuthToken.as_view()),\n    url(r'^auth/', include('rest_framework.urls',\n                               namespace='rest_framework')),\n]\n\nurlpatterns = format_suffix_patterns(urlpatterns)\n</code></pre>\n\n<p>My custom authentication.py:</p>\n\n<pre><code>    from django.contrib.auth.hashers import check_password\n\nfrom rest_framework import authentication\nfrom rest_framework import exceptions\n\nfrom usercp.models import Customer\n\n\nclass CustomAuthentication(authentication.BaseAuthentication):\n    def authenticate(self, request):\n        email = request.POST.get('email')\n        password = request.POST.get('password')\n        if not email:\n            return None\n        if not password:\n            return None\n\n        try:\n            user = Customer.objects.get(email=email)\n            if check_password(password, user.password):\n                if not user.is_active:\n                    msg = _('User account is disabled.')\n                customer = user\n            else:\n                msg = _('Unable to log in with provided credentials.')\n                customer = None\n\n        except Customer.DoesNotExist:\n            msg = 'No such user'\n            raise exceptions.AuthenticationFailed(msg)\n\n        return customer\n</code></pre>\n\n<p>And taken from my settings.py:</p>\n\n<pre><code>REST_FRAMEWORK = {\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.permissions.IsAuthenticated'\n    ],\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework.authentication.TokenAuthentication',\n    )\n}\n</code></pre>\n\n<p>When I send my curl request:</p>\n\n<pre><code>curl -H \"Accept: application/json; indent=4\" -H \"Authorization: Token bd97803941a1ede303e4fda9713f7120a1af656c\" http://127.0.0.1:8000/users\n</code></pre>\n\n<p>I am getting back an \"access denied\". </p>\n\n<p>The login works fine, I am receiving said token back. </p>\n\n<p>However, I cannot access my Userview. I am not quite sure what the problem is. Would I need to change in the settings the TokenAuthentication? I don't think so. Since the user is set correctly in the database, even though I use a custom user object inherited from AbstractUser. From the documentation (<a href=\"http://www.django-rest-framework.org/api-guide/authentication/#setting-the-authentication-scheme\" rel=\"nofollow noreferrer\">http://www.django-rest-framework.org/api-guide/authentication/#setting-the-authentication-scheme</a>) I think I do everything correctly as they use the same request Header, the spacing is correct and I don't think there is any encoding issue.</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1443718740, "post_id": 32874955, "comment_id": 53615428, "body": "I&#39;m looking at the accepted answer and I&#39;m looking at your question and you know what? What is in the accepted answer is exactly what I understood you were doing from reading your question. So... your question is unclear (the fact that one user was able to read your mind does <i>not</i> make it clear). Please edit it with the actual test code you were using and <i>then</i> it will be a useful question."}], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 3277225, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xhElC.jpg?s=128&g=1", "display_name": "user3277225", "link": "https://stackoverflow.com/users/3277225/user3277225"}, "is_accepted": true, "score": 3, "last_activity_date": 1443649710, "creation_date": 1443649710, "answer_id": 32876177, "question_id": 32874955, "link": "https://stackoverflow.com/questions/32874955/set-chromedriver-window-size-before-opening-in-selenium-python/32876177#32876177", "title": "Set chromedriver window size before opening in selenium (python)", "body": "<p>You can place <code>driver.set_window_size(1,1)</code> in the setup method for example:</p>\n\n<pre><code>class ExampleTestSuite(unittest.TestCase):\n   def setUp(self):\n      self.driver= webdriver.Chrome()\n      self.driver.set_window_size(1,1)\n\n  def test_example_test(self):\n     #test code here\n</code></pre>\n\n<p>What I think you really are looking for is running your tests headless. One way to do it this describe in this post: <a href=\"http://fgimian.github.io/blog/2014/04/06/headless-browser-testing-with-chrome-and-firefox/\" rel=\"nofollow\">http://fgimian.github.io/blog/2014/04/06/headless-browser-testing-with-chrome-and-firefox/</a>. </p>\n\n<p>Another option is to use a cloud based testing service like Sauce Labs, or Browserstack.</p>\n"}, {"comments": [{"owner": {"reputation": 441, "user_id": 3277225, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xhElC.jpg?s=128&g=1", "display_name": "user3277225", "link": "https://stackoverflow.com/users/3277225/user3277225"}, "edited": false, "score": 0, "creation_date": 1451019592, "post_id": 32890009, "comment_id": 56662374, "body": "This is an interesting alternative. However,  if you are running selenium tests across multiple browser it is seems like it would be easier to just set the browser window in the setup method, as opposed to setting options for each browser."}], "tags": [], "owner": {"reputation": 397, "user_id": 3219839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f1cf60f1346dc58f32ceab5a326caeb2?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/3219839/shane"}, "is_accepted": false, "score": 3, "last_activity_date": 1443709394, "creation_date": 1443709394, "answer_id": 32890009, "question_id": 32874955, "link": "https://stackoverflow.com/questions/32874955/set-chromedriver-window-size-before-opening-in-selenium-python/32890009#32890009", "title": "Set chromedriver window size before opening in selenium (python)", "body": "<p>I actually came across a pretty good alternative to @user3277225's answer. It turns out you can set options for the Chrome webdriver and then open it as follows:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nchrome_options = Options()\nchrome_options.add_argument(\"window-size=1,1\")\ndriver = webdriver.Chrome(chrome_options=chrome_options)\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 3219839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f1cf60f1346dc58f32ceab5a326caeb2?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/3219839/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6042, "favorite_count": 2, "accepted_answer_id": 32876177, "answer_count": 2, "score": 1, "last_activity_date": 1443709394, "creation_date": 1443644604, "last_edit_date": 1443645216, "question_id": 32874955, "link": "https://stackoverflow.com/questions/32874955/set-chromedriver-window-size-before-opening-in-selenium-python", "title": "Set chromedriver window size before opening in selenium (python)", "body": "<p>When my script opens the chromedriver (<code>driver = webdriver.Chrome()</code>) in Windows 10, the window maximizes to full size on my monitor. To minimize disruption, I would prefer it was barely noticeable. The closest I can get is the following:</p>\n\n<pre><code>    driver = webdriver.Chrome()\n    driver.set_window_size(1, 1)\n</code></pre>\n\n<p>This works well in that the window size is minimal. Unfortunately, it still first pops open to the full monitor and then readjusts to the preferred minimal size. Is there any way to preset the window size before opening up the chromedriver?</p>\n"}, {"tags": ["python", "arrays", "numpy", "pandas"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 3, "creation_date": 1443644542, "post_id": 32874905, "comment_id": 53581333, "body": "Look into <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.diff.html\" rel=\"nofollow noreferrer\"><code>numpy.diff</code></a>."}, {"owner": {"reputation": 3602, "user_id": 1760339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8c53e3ce7fa4c71538aa72ec22ab0e42?s=128&d=identicon&r=PG", "display_name": "d0rmLife", "link": "https://stackoverflow.com/users/1760339/d0rmlife"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1443644603, "post_id": 32874905, "comment_id": 53581367, "body": "@Divakar Okay, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3602, "user_id": 1760339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8c53e3ce7fa4c71538aa72ec22ab0e42?s=128&d=identicon&r=PG", "display_name": "d0rmLife", "link": "https://stackoverflow.com/users/1760339/d0rmlife"}, "edited": false, "score": 0, "creation_date": 1443644576, "post_id": 32874934, "comment_id": 53581353, "body": "Very nice, thanks. Still learning all the efficient typing that Python enables."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3602, "user_id": 1760339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8c53e3ce7fa4c71538aa72ec22ab0e42?s=128&d=identicon&r=PG", "display_name": "d0rmLife", "link": "https://stackoverflow.com/users/1760339/d0rmlife"}, "edited": false, "score": 0, "creation_date": 1443644661, "post_id": 32874934, "comment_id": 53581395, "body": "You might want to wait 15 minutes or so to see what others submit.  When you have a favourite, remember to &quot;accept&quot; it, so the question retires appropriately."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1443644590, "last_edit_date": 1443644590, "creation_date": 1443644528, "answer_id": 32874934, "question_id": 32874905, "link": "https://stackoverflow.com/questions/32874905/concise-way-to-create-an-array-of-differences-from-an-array/32874934#32874934", "title": "Concise way to create an array of differences (from an array)", "body": "<pre><code>differences = [array[index+1]-array[index] for index in range(len(array))-1]\n</code></pre>\n\n<p>This is a \"list comprehension\", one of the powerful features of Python.  They're more useful when they deal with the list elements directly, rather than with an index, but this example is close to your original code.</p>\n"}, {"tags": [], "owner": {"reputation": 8215, "user_id": 871980, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e9a6a7b965ca1144465dfce88b3c4807?s=128&d=identicon&r=PG", "display_name": "Snakes and Coffee", "link": "https://stackoverflow.com/users/871980/snakes-and-coffee"}, "is_accepted": false, "score": 3, "last_activity_date": 1443646045, "creation_date": 1443646045, "answer_id": 32875349, "question_id": 32874905, "link": "https://stackoverflow.com/questions/32874905/concise-way-to-create-an-array-of-differences-from-an-array/32875349#32875349", "title": "Concise way to create an array of differences (from an array)", "body": "<p>If you're using Numpy, definitely use <code>np.diff</code>. The array comprehension method, while elegant and pythonic (for python arrays) is far too slow for large-scale datasets.</p>\n\n<p>In general, the rule of thumb with Numpy is: \"If it's useful, or someone else would want it, it's probably in Numpy\"</p>\n"}], "owner": {"reputation": 3602, "user_id": 1760339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8c53e3ce7fa4c71538aa72ec22ab0e42?s=128&d=identicon&r=PG", "display_name": "d0rmLife", "link": "https://stackoverflow.com/users/1760339/d0rmlife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1443646323, "accepted_answer_id": 32874934, "answer_count": 2, "score": 0, "last_activity_date": 1443646045, "creation_date": 1443644410, "question_id": 32874905, "link": "https://stackoverflow.com/questions/32874905/concise-way-to-create-an-array-of-differences-from-an-array", "closed_reason": "Duplicate", "title": "Concise way to create an array of differences (from an array)", "body": "<p>Suppose I have an array of numbers and I want to create a new array that is the difference between consecutive elements. (I hope this answer to this question is generalized to other functions besides differencing!)</p>\n\n<p>Is there a concise way to do this? Solutions for both regular Python implentations and Numpy/Pandas powered implentations would be appreciated! </p>\n\n<p>The not-so-concise way: </p>\n\n<pre><code>for index in range(len(array)):\n    if index &lt; len(array) - 1:\n        differences.append(array[index+1]-array[index])\n</code></pre>\n"}, {"tags": ["python", "string", "passwords"], "comments": [{"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 5, "creation_date": 1443644954, "post_id": 32874900, "comment_id": 53581526, "body": "You might want to use a password strength checking module instead, here is one: <a href=\"https://pypi.python.org/pypi/password_strength\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/password_strength</a>"}, {"owner": {"reputation": 26, "user_id": 5395008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17d636c51ace5efa439beec10188ed03?s=128&d=identicon&r=PG&f=1", "display_name": "D. Smith", "link": "https://stackoverflow.com/users/5395008/d-smith"}, "edited": false, "score": 0, "creation_date": 1443647959, "post_id": 32874900, "comment_id": 53582954, "body": "Sounds like Python RegEx is what you want.     Try this: <a href=\"http://stackoverflow.com/a/2990682/5395008\">stackoverflow.com/a/2990682/5395008</a>"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5377150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fed01b0aac4ce14dbf07abc504a1d59b?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5377150/john"}, "edited": false, "score": 0, "creation_date": 1443645609, "post_id": 32875091, "comment_id": 53581857, "body": "i will put my final code up here tomorrow need to go to bed now"}, {"owner": {"reputation": 718, "user_id": 494526, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05a5c779357effe368da837549e4ea5d?s=128&d=identicon&r=PG", "display_name": "rebeling", "link": "https://stackoverflow.com/users/494526/rebeling"}, "edited": false, "score": 2, "creation_date": 1443647018, "post_id": 32875091, "comment_id": 53582543, "body": "reduce lambda is actually not pythonic, this is: any(char.isupper() for char in password)"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 6, "last_activity_date": 1443645917, "last_edit_date": 1443645917, "creation_date": 1443645111, "answer_id": 32875091, "question_id": 32874900, "link": "https://stackoverflow.com/questions/32874900/python-password-checker-numbers-and-symbols/32875091#32875091", "title": "python password checker: numbers and symbols", "body": "<p>Try taking the requirements one at a time.</p>\n\n<pre><code>has_upper = False\nfor char in p:\n    if char.isupper():\n        has_upper = True\n        break\n</code></pre>\n\n<p>Repeat this for lower case and digits.\nFor special characters, use the same type of loop, but change the if to something like this:</p>\n\n<pre><code>if not (char.isupper() or char.islower() or char.isdigit()):\n</code></pre>\n\n<p>At the end, if all four flags are true, then you have a strong password; otherwise, it's weak.</p>\n\n<p>Can you finish the coding from there?</p>\n\n<hr>\n\n<p>Just so you know, there are ways to code this that are far more \"Pythonic\" -- that use the language's style much better.  For instance:</p>\n\n<pre><code>has_upper = reduce(lambda a, b: a or b.isupper(), [_ for _ in p], False)\n</code></pre>\n\n<p>... replaces the entire 5-line block that I gave you.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 4410462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002338135aa852969d3cf1fd737cba0c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4410462/richard"}, "is_accepted": true, "score": 2, "last_activity_date": 1484763272, "last_edit_date": 1484763272, "creation_date": 1443646689, "answer_id": 32875490, "question_id": 32874900, "link": "https://stackoverflow.com/questions/32874900/python-password-checker-numbers-and-symbols/32875490#32875490", "title": "python password checker: numbers and symbols", "body": "<p>Try this:</p>\n\n<pre><code>p = raw_input((\"plz enter a password to check it's strength\"))\n\nupper_case = 0\nlower_case = 0\nnumber = 0\nsymbol = 0\n\nfor i in p:\n    if i.isupper():\n        upper_case += 1\n    elif i.islower():\n        lower_case += 1\n    elif i.isdigit():\n        number += 1\n    else:\n        symbol += 1\n\nif len (p) &lt;= 6:\n    print\"This is a weak password  \"\nelif upper_case &gt; 0 and lower_case &gt; 0 and number &gt; 0 and symbol &gt; 0:\n    print \"Good\"\nelse:\n    print \"Too Weak\"\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 5377150, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fed01b0aac4ce14dbf07abc504a1d59b?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5377150/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8051, "favorite_count": 0, "accepted_answer_id": 32875490, "answer_count": 2, "score": 4, "last_activity_date": 1484763272, "creation_date": 1443644392, "last_edit_date": 1443644802, "question_id": 32874900, "link": "https://stackoverflow.com/questions/32874900/python-password-checker-numbers-and-symbols", "title": "python password checker: numbers and symbols", "body": "<p>I'm new to python and I'm having a problem. I need to check a password on its upper, lower, numbers and symbols. It needs 1 of each class and the whole password needs to be longer then 6 characters. I have upper and lower case so far. <code>raw_input</code> inputs as a string so how can I then check for numbers and symbols in that string?</p>\n\n<p>My code so far:</p>\n\n<pre><code>p = raw_input((\"plz enter a password to check it's strength\"))\n\nif len (p) &lt;= 6:\n    if p.isupper() or p.islower() or int(p):\n        print\"This is a weak password  \"\nelif len(p) &gt; 6 and len(p)  &lt;26:\n    if p.isupper() or p.islower() or isdigit():\n        print \"wea2k\"\n    else:\n        print \"good\"\n</code></pre>\n\n<p>So what I need to know is how to check the input for numbers and symbols.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 4, "creation_date": 1443644933, "post_id": 32874840, "comment_id": 53581513, "body": "How about adding one more check there - <code>(x.shape == z1.shape) &amp; np.allclose(x,z1)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 6344, "user_id": 2486357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d50eaca20365c51634c9452835c50ab?s=128&d=identicon&r=PG", "display_name": "C_Z_", "link": "https://stackoverflow.com/users/2486357/c-z"}, "edited": false, "score": 0, "creation_date": 1443648359, "post_id": 32875374, "comment_id": 53583113, "body": "I am doing assert-based unit testing, so this works perfectly. Thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1450393193, "post_id": 32875374, "comment_id": 56433360, "body": "Note that <code>np.testing.assert_allclose(1, [1, 1])</code> and similar still pass: a single float (numpy scalar, <code>np.array(1)</code>) is still broadcasted. Perhaps because these don&#39;t have a <code>shape</code> attribute (or one that the empty tuple)."}, {"owner": {"reputation": 3384, "user_id": 6632199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a1d0417b6c144772be06286bd58d06?s=128&d=identicon&r=PG&f=1", "display_name": "Jan K", "link": "https://stackoverflow.com/users/6632199/jan-k"}, "edited": false, "score": 0, "creation_date": 1612648435, "post_id": 32875374, "comment_id": 116834167, "body": "A video explaining <code>np.testing.assert_allclose</code> and others:  <a href=\"https://youtu.be/sai1g5fjyb8\" rel=\"nofollow noreferrer\">youtu.be/sai1g5fjyb8</a>"}], "tags": [], "owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "is_accepted": true, "score": 13, "last_activity_date": 1443647329, "last_edit_date": 1443647329, "creation_date": 1443646153, "answer_id": 32875374, "question_id": 32874840, "link": "https://stackoverflow.com/questions/32874840/test-if-two-numpy-arrays-are-close-to-equal-including-shape/32875374#32875374", "title": "Test if two numpy arrays are (close to) equal, including shape", "body": "<p>What's happening is that <code>allclose</code> broadcasts its input.  This allows comparisons with similarly shaped arrays (e.g. <code>3</code> and <code>[3, 3, 3]</code>) following the <a href=\"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"noreferrer\">broadcasting rules</a>.</p>\n\n<hr>\n\n<p>For your purposes, have a look at the <code>numpy.testing</code> functions, specifically <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.testing.assert_allclose.html#numpy.testing.assert_allclose\" rel=\"noreferrer\"><code>np.testing.assert_allclose</code></a> or <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.testing.assert_array_almost_equal.html\" rel=\"noreferrer\"><code>assert_array_almost_equal</code></a>, which will check for shape as well as values.  (I don't remember the difference between those two offhand, but it relates to the way they calculate floating point differences.)</p>\n\n<p>These are particularly handy if you're using assert-based unit testing.</p>\n\n<p>Most (all?) of the <code>numpy.testing.assert_*</code> functions check for array shape as well as value equality.</p>\n\n<p>For example:</p>\n\n<pre><code>In [1]: import numpy as np\n\nIn [2]: np.testing.assert_allclose([1], [[1]])\n</code></pre>\n\n<p>Which yields:</p>\n\n<pre><code>AssertionError:\nNot equal to tolerance rtol=1e-07, atol=0\n\n(shapes (1,), (1, 1) mismatch)\n x: array([1])\n y: array([[1]])\n</code></pre>\n\n<p>Another useful (and currently not as well documented as it could be) thing to know about these functions is that they compare <code>NaN</code>'s as equal.</p>\n\n<p>For example, this will succeed:</p>\n\n<pre><code>In [3]: np.testing.assert_allclose([np.nan], [np.nan])\n</code></pre>\n\n<p>While <code>numpy.allclose</code> will return <code>False</code> for the same case:</p>\n\n<pre><code>In [4]: np.allclose([np.nan], [np.nan])\nOut[4]: False\n</code></pre>\n\n<p>On a side note, <code>numpy.isclose</code> (but not <code>allclose</code>) has an <code>equal_nan</code> kwarg to control this.</p>\n"}], "owner": {"reputation": 6344, "user_id": 2486357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d50eaca20365c51634c9452835c50ab?s=128&d=identicon&r=PG", "display_name": "C_Z_", "link": "https://stackoverflow.com/users/2486357/c-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14854, "favorite_count": 4, "accepted_answer_id": 32875374, "answer_count": 1, "score": 12, "last_activity_date": 1443647329, "creation_date": 1443644216, "question_id": 32874840, "link": "https://stackoverflow.com/questions/32874840/test-if-two-numpy-arrays-are-close-to-equal-including-shape", "title": "Test if two numpy arrays are (close to) equal, including shape", "body": "<p>I want to test if two numpy arrays are (close to) equal, so I've been using the <code>np.allclose</code> function. The only problem is, it returns <code>True</code> if given a two-dimensional matrix and a three-dimensional matrix of equal elements.</p>\n\n<pre><code>import numpy as np\n\nx = np.array([[3.14159265, -0.1], [-0.1, 0.1]])\n\ny = np.array([[math.pi, -0.1], [-0.1, 0.1]])\n\nz1 = np.array([[[3.14159265, -0.1], [-0.1, 0.1]],\n              [[3.14159265, -0.1], [-0.1, 0.1]]])\nz2 = np.array([[[math.pi, -0.1], [-0.1, 0.1]],\n              [[math.pi, -0.1], [-0.1, 0.1]]])  \n\n\nnp.allclose(x,y)\n# Returns true, as expected\n\nnp.allclose(x,z1)\n# Also returns true, even though matrices are different shapes. Unwanted.\n</code></pre>\n\n<p>Now, I know about <code>np.array_equal</code>, which compares elements and shape, but it doesn't allow me to test if the elements are close, only if they are equal. For instance,</p>\n\n<pre><code>np.array_equal(x,y)\n</code></pre>\n\n<p>Returns <code>False</code></p>\n\n<p>Is there a function I can use that will return true for <code>(x,y)</code> and <code>(z1,z2)</code> but false for <code>(x,z1)</code> in this case?</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 4, "last_activity_date": 1443644617, "last_edit_date": 1443644617, "creation_date": 1443644312, "answer_id": 32874874, "question_id": 32874797, "link": "https://stackoverflow.com/questions/32874797/modify-the-dict-on-python/32874874#32874874", "title": "modify the dict on Python", "body": "<p>Use a loop, adding items to a nested dictionaries:</p>\n\n<pre><code>new_data = {}\nfor d in original_data:\n    new_data.setdefault(d['year'], {})[d['station']] = d['missing_number']\n</code></pre>\n\n<p>The <code>dict.setdefault()</code> adds the second argument as a default if the key (the first argument) is not yet present, then returns the value for the key. This lets you build up nested dictionaries grouped by the <code>d['year']</code> values.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; original_data = [{'year':2015, 'missing_number':25, 'station':3}, {'year':2015, 'missing_number':15, 'station':6}, {'year':2013,'missing_number':28, 'station':9}, {'year':2013,'missing_number':65, 'station':10} ]\n&gt;&gt;&gt; new_data = {}\n&gt;&gt;&gt; for d in original_data:\n...     new_data.setdefault(d['year'], {})[d['station']] = d['missing_number']\n... \n&gt;&gt;&gt; new_data\n{2013: {9: 28, 10: 65}, 2015: {3: 25, 6: 15}}\n</code></pre>\n\n<p>You could also use a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\"><code>collections.defaultdict()</code> object</a> to take care of creating new nested dictionaries per key:</p>\n\n<pre><code>from collections import defaultdict\n\nnew_data = defaultdict(dict)\nfor d in original_data:\n    new_data[d['year']][d['station']] = d['missing_number']\n</code></pre>\n\n<p><code>defaultdict</code> is a subclass of <code>dict</code>; you can 'reset' the auto-value-creation behaviour by setting <code>defaultdict.default_factory</code> to <code>None</code>, after which it'll act just like a regular dictionary again:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; new_data = defaultdict(dict)\n&gt;&gt;&gt; for d in original_data:\n...     new_data[d['year']][d['station']] = d['missing_number']\n... \n&gt;&gt;&gt; new_data\ndefaultdict(&lt;type 'dict'&gt;, {2013: {9: 28, 10: 65}, 2015: {3: 25, 6: 15}})\n&gt;&gt;&gt; new_data.default_factory = None\n&gt;&gt;&gt; new_data[2020]\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nKeyError: 2020\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3430643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/38f4da3674520c2e85deb6fa17261fef?s=128&d=identicon&r=PG&f=1", "display_name": "user3430643", "link": "https://stackoverflow.com/users/3430643/user3430643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "closed_date": 1443688075, "answer_count": 1, "score": -5, "last_activity_date": 1443644617, "creation_date": 1443644042, "last_edit_date": 1443644340, "question_id": 32874797, "link": "https://stackoverflow.com/questions/32874797/modify-the-dict-on-python", "closed_reason": "Needs more focus", "title": "modify the dict on Python", "body": "<p>Here is the data format:</p>\n\n<pre><code>original_data = [{'year':2015, 'missing_number':25, 'station':3}, {'year':2015, 'missing_number':15, 'station':6}, {'year':2013,'missing_number':28, 'station':9}, {'year':2013,'missing_number':65, 'station':10} ]\n</code></pre>\n\n<p>I want my original_data to be like this:</p>\n\n<pre><code>new_data = {'2015': {3:25,6:15}, '2013': {9:28, 10:65}}\n</code></pre>\n\n<p>Would you mind helping me?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4649, "user_id": 681679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba1bdfa6ba08225903a74383be42b06?s=128&d=identicon&r=PG", "display_name": "photoionized", "link": "https://stackoverflow.com/users/681679/photoionized"}, "edited": false, "score": 0, "creation_date": 1443643960, "post_id": 32874735, "comment_id": 53581048, "body": "your while loop once it&#39;s hit will never return, what you want is an <code>if</code> block"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "reply_to_user": {"reputation": 4649, "user_id": 681679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba1bdfa6ba08225903a74383be42b06?s=128&d=identicon&r=PG", "display_name": "photoionized", "link": "https://stackoverflow.com/users/681679/photoionized"}, "edited": false, "score": 0, "creation_date": 1443644126, "post_id": 32874735, "comment_id": 53581144, "body": "@photoionized, if that&#39;s the answer, please post it as an answer. (but please also specify which while loop you mean)"}, {"owner": {"reputation": 1, "user_id": 5394802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef129fe4254b7ac91a272c496d666351?s=128&d=identicon&r=PG&f=1", "display_name": "tgt56", "link": "https://stackoverflow.com/users/5394802/tgt56"}, "edited": false, "score": 0, "creation_date": 1443644316, "post_id": 32874735, "comment_id": 53581227, "body": "thank you that helped but now i need to figure out how to limit the decimal points to 2"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1443644319, "creation_date": 1443644319, "answer_id": 32874875, "question_id": 32874735, "link": "https://stackoverflow.com/questions/32874735/ticket-price-calculator-code-not-working/32874875#32874875", "title": "Ticket price calculator code not working", "body": "<pre><code>for Tickets in range (start, end, increment):\n    Total = TicketPrice * Tickets\n    if Tickets &gt;= 10:\n        Total *= 0.90\n</code></pre>\n\n<p>As you originally wrote it, the iteration where Tickets is 10 while hit this while loop and recompute the 10% discount forever.</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1443644817, "post_id": 32874939, "comment_id": 53581465, "body": "Every answer you give has basically zero explanation, how is anyone going to learn if you never explain anything?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1443645399, "post_id": 32874939, "comment_id": 53581745, "body": "If you put the effort of writing that comment into writing some explanation, you would serve a better purpose."}], "tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": 0, "last_activity_date": 1443644532, "creation_date": 1443644532, "answer_id": 32874939, "question_id": 32874735, "link": "https://stackoverflow.com/questions/32874735/ticket-price-calculator-code-not-working/32874939#32874939", "title": "Ticket price calculator code not working", "body": "<pre><code>def get_ticket_price():\n    price = float(input('Enter the price of one ticket: '))\n    if price &lt;= 0:\n        print('The price of one ticket must be greater than zero. Try again!')\n        return get_ticket_price()\n    return price\n\nticket_price = get_ticket_price()\n\ntotal = 0\nfor ticket_count in range (1, 21):\n    price = ticket_price\n    if ticket_count &gt;= 10:\n        price = ticket_price - (ticket_price * .1)\n    total = total + price\n\nprint(total)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5394802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef129fe4254b7ac91a272c496d666351?s=128&d=identicon&r=PG&f=1", "display_name": "tgt56", "link": "https://stackoverflow.com/users/5394802/tgt56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1639, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443645014, "creation_date": 1443643783, "last_edit_date": 1443645014, "question_id": 32874735, "link": "https://stackoverflow.com/questions/32874735/ticket-price-calculator-code-not-working", "title": "Ticket price calculator code not working", "body": "<p>i can not figure out how why this code will not count to 20. i need to create a code that will count 20 tickets but if 10 or more tickets are purchased a 10% discount is given. here is my code so far</p>\n\n<pre><code>start = 1\nend = 21\nincrement = 1\nTicketPrice = float(input(\"Enter the price of one ticket: \"))\n\nwhile TicketPrice &lt;= 0:\n    print(\"The price of one ticket must be greater than zero.   Try again!\")\n    TicketPrice = float(input(\"Enter the price of one ticket: \"))\n\ndef main():\n\n    print('Tickets\\t      Total Price')\n\n    for Tickets in range (start, end, increment):\n        Total = TicketPrice * Tickets\n        while Tickets &gt;= 10:\n            Total = 0.90 * Tickets * TicketPrice\n\n\n        print(Tickets, '\\t     ', Total)\n\nmain()\n</code></pre>\n\n<p>edit: i changed the while loop to if and that solved the problem but i now need to limit the code to 2 decimal points without rounding up or down</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443643666, "post_id": 32874661, "comment_id": 53580908, "body": "<i>&quot;can&#39;t seem to get this just right&quot;</i> - so what do have now, and what precisely is the problem with it?"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1443643680, "post_id": 32874661, "comment_id": 53580913, "body": "As a jumping-off point, please provide the code of the last attempt you made."}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1443643710, "post_id": 32874661, "comment_id": 53580923, "body": "Look at <a href=\"https://dateutil.readthedocs.org/en/latest/parser.html#dateutil.parser.parse\" rel=\"nofollow noreferrer\"><code>dateutil.parser.parse()</code></a>. You&#39;ll still need to extract what you think is the date (maybe with <code>r&#39;\\S+(?=\\s~)&#39;</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": -2, "last_activity_date": 1443643814, "creation_date": 1443643814, "answer_id": 32874741, "question_id": 32874661, "link": "https://stackoverflow.com/questions/32874661/validating-a-date-string-in-python/32874741#32874741", "title": "Validating a Date String in Python", "body": "<pre><code>import datetime\n\nmy_list = ['1/1/2015 ~ Some text here', '9/30/2015 ~ more text here', '12/12/2015 ~ even more text', '1. ~ bad text here']\n\nfor x in my_list:\n    try:\n        date = x.split(' ~')[0]\n        datetime.datetime.strptime(date, '%m/%d/%Y')\n    except:\n        print 'not a valid date...do something'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 4410462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002338135aa852969d3cf1fd737cba0c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4410462/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1443645160, "creation_date": 1443645160, "answer_id": 32875106, "question_id": 32874661, "link": "https://stackoverflow.com/questions/32874661/validating-a-date-string-in-python/32875106#32875106", "title": "Validating a Date String in Python", "body": "<p>Please try the following. Hope it helps.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport datetime\n\ndef validate(date_text):\n    try:\n        datetime.datetime.strptime(date_text, '%d/%m/%Y')\n        print(\"Date format correct\")\n    except ValueError:\n        print(\"date format incorrect\")\n\nvalidate('31/12/2015')\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 5364921, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yz-lrWf_R5M/AAAAAAAAAAI/AAAAAAAAAAA/DY9QlDxqjkU/photo.jpg?sz=128", "display_name": "Eric Shreve", "link": "https://stackoverflow.com/users/5364921/eric-shreve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1443646318, "creation_date": 1443643456, "last_edit_date": 1443646318, "question_id": 32874661, "link": "https://stackoverflow.com/questions/32874661/validating-a-date-string-in-python", "title": "Validating a Date String in Python", "body": "<p>I have a list called \"page\" that looks something like this:</p>\n\n<pre><code>'1/1/2015 ~ Some text here'\n'9/30/2015 ~ more text here'\n'12/12/2015 ~ even more text'\n'1. ~ bad text here'\n</code></pre>\n\n<p>What I want to do is to go through each one using partition to grab the date string from the front, and if the string is not a date, then perform some action.  If it is, just move to the next one.</p>\n\n<p>I just can't seem to get the validation of the date to work; any suggestions?</p>\n"}, {"tags": ["python", "python-2.7", "flask"], "comments": [{"owner": {"reputation": 176, "user_id": 2692771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d0a7fa1182f44b6387544f8b4dec7f?s=128&d=identicon&r=PG&f=1", "display_name": "odai alghamdi", "link": "https://stackoverflow.com/users/2692771/odai-alghamdi"}, "edited": false, "score": 0, "creation_date": 1443646695, "post_id": 32874629, "comment_id": 53582406, "body": "try to just use <code>import views</code>"}, {"owner": {"reputation": 2189, "user_id": 783836, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG", "display_name": "user783836", "link": "https://stackoverflow.com/users/783836/user783836"}, "reply_to_user": {"reputation": 176, "user_id": 2692771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d0a7fa1182f44b6387544f8b4dec7f?s=128&d=identicon&r=PG&f=1", "display_name": "odai alghamdi", "link": "https://stackoverflow.com/users/2692771/odai-alghamdi"}, "edited": false, "score": 0, "creation_date": 1443687014, "post_id": 32874629, "comment_id": 53595467, "body": "that didn&#39;t work, but it did spur me on to switching the import to <code>from views.home import *</code>, which did work!"}], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 1529308, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/da97639e7a382f47c4356da9579ede7f?s=128&d=identicon&r=PG", "display_name": "hrust", "link": "https://stackoverflow.com/users/1529308/hrust"}, "is_accepted": false, "score": 0, "last_activity_date": 1443644047, "creation_date": 1443644047, "answer_id": 32874799, "question_id": 32874629, "link": "https://stackoverflow.com/questions/32874629/flask-not-finding-routes-in-imported-modules/32874799#32874799", "title": "Flask not finding routes in imported modules", "body": "<p>You can do it by reorganizing your code as it is described here <a href=\"http://flask.pocoo.org/docs/0.10/patterns/packages/\" rel=\"nofollow\">Larger Applications</a>, but it is more recommended to divide them into smaller groups where each group is implemented with the help of a blueprint. For a gentle introduction into this topic refer to the Modular Applications with Blueprints chapter of the documentation.</p>\n\n<ul>\n<li><a href=\"http://flask.pocoo.org/docs/0.10/blueprints/\" rel=\"nofollow\">Modular Applications with Blueprints</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 10971802, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-USuWCHYpYPg/AAAAAAAAAAI/AAAAAAAAAJE/UvmPhgQ0w2o/photo.jpg?sz=128", "display_name": "Jaineel Mamtora", "link": "https://stackoverflow.com/users/10971802/jaineel-mamtora"}, "edited": false, "score": 0, "creation_date": 1617033410, "post_id": 32882527, "comment_id": 118182044, "body": "Thanks a lot! I was literally struggling for the past 3 hours."}], "tags": [], "owner": {"reputation": 2189, "user_id": 783836, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG", "display_name": "user783836", "link": "https://stackoverflow.com/users/783836/user783836"}, "is_accepted": true, "score": 7, "last_activity_date": 1443699730, "last_edit_date": 1495540293, "creation_date": 1443686889, "answer_id": 32882527, "question_id": 32874629, "link": "https://stackoverflow.com/questions/32874629/flask-not-finding-routes-in-imported-modules/32882527#32882527", "title": "Flask not finding routes in imported modules", "body": "<p>I have discovered that switching the import statement in <code>run.py</code> from</p>\n\n<pre><code>import views.home\n</code></pre>\n\n<p>to</p>\n\n<pre><code>from views.home import *\n</code></pre>\n\n<p>makes everything work, which gave me the clue as to why the modules are not being registered using <code>import views.home</code>.</p>\n\n<p>Basically, when <code>run.py</code> is run as a script it is given the name <code>__main__</code> and this is the name given to the module in <code>sys.modules</code> (<a href=\"https://stackoverflow.com/questions/13181559/importing-modules-main-vs-import-as-module\">Importing modules: __main__ vs import as module</a>)</p>\n\n<p>Then when I import app from <code>run.py</code> in <code>views.home.py</code> a new instance of <code>run.py</code> is registered in <code>sys.modules</code> with the name <code>run</code>. As this point, the reference to <code>app</code> in <code>run.py</code> and <code>views.home.py</code> are two different references hence the routes not being registered.</p>\n\n<p>The solution was to move the creation of the <code>app</code> variable out of <code>run.py</code> and in to a separate python file (I called it <code>web_app.py</code>) that is imported into <code>run.py</code>. This guarantees that the Flask <code>app</code> variable declared inside <code>web_app.py</code> is the always referenced correctly wherever <code>web_app.py</code> is imported.</p>\n\n<p>So <code>run.py</code> now looks like this:</p>\n\n<pre><code>from web_app import app\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>and <code>web_app.py</code> looks like this:</p>\n\n<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\nimport view.home\n</code></pre>\n"}], "owner": {"reputation": 2189, "user_id": 783836, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG", "display_name": "user783836", "link": "https://stackoverflow.com/users/783836/user783836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6492, "favorite_count": 0, "accepted_answer_id": 32882527, "answer_count": 2, "score": 1, "last_activity_date": 1443699730, "creation_date": 1443643342, "last_edit_date": 1495542175, "question_id": 32874629, "link": "https://stackoverflow.com/questions/32874629/flask-not-finding-routes-in-imported-modules", "title": "Flask not finding routes in imported modules", "body": "<p>I'm having a problem with Flask wherein routes declared in imported modules are not be registered and always result in a 404. I am running the latest version Flask on Python 2.7.</p>\n\n<p>I have the following directory structure:\n<a href=\"https://i.stack.imgur.com/dWTWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWTWM.png\" alt=\"enter image description here\"></a>\nrun.py has the following code:\n    from flask import Flask</p>\n\n<pre><code>app = Flask(__name__)\n\n\n@app.route('/')\ndef hello_world():\n    return 'Hello World!'\n\nimport views.home\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>home.py has the following code:</p>\n\n<pre><code>from run import app\n\n\n@app.route('/test')\ndef test():\n    return \"test\"\n</code></pre>\n\n<p>When I run <code>run.py</code> the route declared in <code>home.py</code> (<a href=\"http://localhost:5000/test\" rel=\"nofollow noreferrer\">http://localhost:5000/test</a>) always returns a 404 even though <code>run.py</code> imports <code>views.home</code>. The root view (<a href=\"http://localhost:5000\" rel=\"nofollow noreferrer\">http://localhost:5000</a>) declared in <code>run.py</code> works fine.</p>\n\n<p>I have written a function that prints out all the registered routes and /test is not in there (<a href=\"https://stackoverflow.com/questions/13317536/get-a-list-of-all-routes-defined-in-the-app\">get a list of all routes defined in the app</a>).</p>\n\n<p>Any idea why? </p>\n"}, {"tags": ["python", "eclipse", "pydev", "eclipse-jdt"], "comments": [{"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "edited": false, "score": 0, "creation_date": 1469374198, "post_id": 32874575, "comment_id": 64498163, "body": "I haven&#39;t found any answer so far."}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "edited": false, "score": 0, "creation_date": 1469374237, "post_id": 32874575, "comment_id": 64498177, "body": "So I am still interested if someone has any idea."}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443738121, "creation_date": 1443643103, "last_edit_date": 1443738121, "question_id": 32874575, "link": "https://stackoverflow.com/questions/32874575/change-the-list-of-import-suggestions-in-eclipse-pydev", "title": "Change the list of import suggestions in Eclipse (PyDev)", "body": "<p>I often bind a module to a local name using <a href=\"http://legacy.python.org/dev/peps/pep-0221/\" rel=\"nofollow noreferrer\">import as</a>, e.g. <code>import numpy as np</code>.</p>\n\n<p>When I use <code>np.</code>, how can I configure Eclipse so that <code>import numpy as np</code> shows up in the list of import suggestions (when hitting  <kbd>Ctrl</kbd> +  <kbd>1</kbd> )?</p>\n\n<p><a href=\"https://i.stack.imgur.com/oaR5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oaR5S.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "mysql", "apache", "ubuntu", "python-3.x"], "comments": [{"owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "edited": false, "score": 0, "creation_date": 1443643173, "post_id": 32874547, "comment_id": 53580680, "body": "Try <code>&#47;var&#47;log&#47;httpd&#47;error.log</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 2, "creation_date": 1443726326, "post_id": 32874547, "comment_id": 53619291, "body": "I&#39;m voting to close this question as off-topic because it belongs on AskUbuntu"}], "answers": [{"tags": [], "owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "is_accepted": false, "score": 0, "last_activity_date": 1443643398, "creation_date": 1443643398, "answer_id": 32874646, "question_id": 32874547, "link": "https://stackoverflow.com/questions/32874547/how-to-find-config-error-for-apache2-with-python-on-ubuntu/32874646#32874646", "title": "How to find config error for Apache2 with Python on Ubuntu?", "body": "<p>Try this one:</p>\n\n<pre><code>#!/usr/bin/python\nimport os, logging\n\n\ndef customLogger(name):\n    logger = logging.getLogger(name)\n    logger.setLevel(logging.DEBUG)\n    handler = logging.FileHandler(os.path.join('/var/log/', name + '.log'), 'a')\n    logger.addHandler(handler)\n    return logger\n\nerror_logger = customLogger('errors_python')\n\n\n# Turn on debug mode.\nimport cgitb\ncgitb.enable()\ntry:\n    # Print necessary headers.\n    print(\"Content-Type: text/html\")\n    print()\n\n    # Connect to the database.\n    import pymysql\n    conn = pymysql.connect(\n        db='example',\n        user='root',\n        passwd='your_root_mysql_password',\n        host='localhost')\n    c = conn.cursor()\n\n    # Insert some example data.\n    c.execute(\"INSERT INTO numbers VALUES (1, 'One!')\")\n    c.execute(\"INSERT INTO numbers VALUES (2, 'Two!')\")\n    c.execute(\"INSERT INTO numbers VALUES (3, 'Three!')\")\n    conn.commit()\n\n    # Print the contents of the database.\n    c.execute(\"SELECT * FROM numbers\")\n    print([(r[0], r[1]) for r in c.fetchall()])\nexcept Exception as e:\n    error_logger.exception(\"Error\")\n</code></pre>\n\n<p>Open in browser and then check <code>/var/log/errors_python.log</code> file. If file empty then looks like wrong apache2 configuration. In other scenario you will see all errors.</p>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "is_accepted": false, "score": 0, "last_activity_date": 1443644592, "creation_date": 1443644592, "answer_id": 32874952, "question_id": 32874547, "link": "https://stackoverflow.com/questions/32874547/how-to-find-config-error-for-apache2-with-python-on-ubuntu/32874952#32874952", "title": "How to find config error for Apache2 with Python on Ubuntu?", "body": "<p>Well, <em>that</em> was weird.</p>\n\n<p>I noticed that a related SO question omitted the parens after the 2nd print statement. Apparently it's related to Apache throwing an error if a blank line is not included after the header. (Props to @robertklep for the insight.)</p>\n\n<p>Refreshing the page after the edit revealed a 'missing module' error. Fixed via a sudo pip install, and I'm back in business. Thanks all!</p>\n"}], "owner": {"reputation": 521, "user_id": 280069, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af961026a72dc0754099ee30146d6f8f?s=128&d=identicon&r=PG", "display_name": "Brian Piercy", "link": "https://stackoverflow.com/users/280069/brian-piercy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443644592, "creation_date": 1443642985, "last_edit_date": 1443643180, "question_id": 32874547, "link": "https://stackoverflow.com/questions/32874547/how-to-find-config-error-for-apache2-with-python-on-ubuntu", "title": "How to find config error for Apache2 with Python on Ubuntu?", "body": "<p>I'm following a Digital Ocean tutorial for installing Python on my laptop's Apache2 server. Ubuntu 14.04 LTS, Python 3.4.3, MySQL 14.14.</p>\n\n<p>Updating the Apache config seems straightforward: </p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    &lt;Directory /var/www/test&gt;\n        Options +ExecCGI\n        DirectoryIndex index.py\n    &lt;/Directory&gt;\n    AddHandler cgi-script .py\n    ...\n    DocumentRoot /var/www/test\n    ...\n</code></pre>\n\n<p>I can restart Apache w/o issues. </p>\n\n<p>The Python test script at /var/www/test/index.py also seems straightforward. I can run it from the command line w/o problems, and chmod'd the file to 755 afterwards.</p>\n\n<pre><code>#!/usr/bin/python\n\n# Turn on debug mode.\nimport cgitb\ncgitb.enable()\n\n# Print necessary headers.\nprint(\"Content-Type: text/html\")\nprint()\n\n# Connect to the database.\nimport pymysql\nconn = pymysql.connect(\n    db='example',\n    user='root',\n    passwd='your_root_mysql_password',\n    host='localhost')\nc = conn.cursor()\n\n# Insert some example data.\nc.execute(\"INSERT INTO numbers VALUES (1, 'One!')\")\nc.execute(\"INSERT INTO numbers VALUES (2, 'Two!')\")\nc.execute(\"INSERT INTO numbers VALUES (3, 'Three!')\")\nconn.commit()\n\n# Print the contents of the database.\nc.execute(\"SELECT * FROM numbers\")\nprint([(r[0], r[1]) for r in c.fetchall()])\n</code></pre>\n\n<p>Apache is consistently bombing out with a \"500\", and the access log doesn't provide further detail. I know this is something simple and there's nobody else in my office with any expertise.</p>\n\n<p>Hints?</p>\n"}, {"tags": ["python", "pyqt"], "answers": [{"tags": [], "owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "is_accepted": true, "score": 5, "last_activity_date": 1444224979, "creation_date": 1444224979, "answer_id": 32993685, "question_id": 32874543, "link": "https://stackoverflow.com/questions/32874543/adding-a-qframe-in-pyqt-and-set-size/32993685#32993685", "title": "Adding a Qframe in PYQT and set size", "body": "<p>You created a frame but never add it to any layout, so it doesn't show.</p>\n\n<p><code>QMainWindow</code> comes with a predefined layout with a menu bar, toolbar, status bar etc (<a href=\"http://doc.qt.io/qt-4.8/qmainwindow.html#details\" rel=\"noreferrer\">Qt Doc</a>). \nTo show the frame you could just do <code>self.setCentralWidget(self.frame)</code>, it would be inserted in the main window layout.</p>\n\n<p>But there's a good chance you actually don't need all that and could just use a <code>QWidget</code>:</p>\n\n<pre><code>class gameWindow(QtGui.QWidget):\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self, parent)\n\n        self.setGeometry(300,300,1280,800)\n\n        self.frame = QtGui.QFrame()\n        self.frame.resize(300,300)\n        self.frame.setStyleSheet(\"background-color: rgb(200, 255, 255)\")\n\n        layout=QtGui.QVBoxLayout()\n        layout.addWidget(self.frame)\n        self.setLayout(layout)\n</code></pre>\n\n<p>Finally, a reminder from the <a href=\"http://doc.qt.io/qt-4.8/qframe.html#details\" rel=\"noreferrer\">Qt Doc</a> on the purpose of a <code>QFrame</code>:</p>\n\n<blockquote>\n  <p>The QFrame class is the base class of widgets that can have a frame.<br>\n  The QFrame class can also be used directly for creating simple\n  placeholder frames without any contents.</p>\n</blockquote>\n"}], "owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14213, "favorite_count": 0, "accepted_answer_id": 32993685, "answer_count": 1, "score": 3, "last_activity_date": 1444224979, "creation_date": 1443642978, "question_id": 32874543, "link": "https://stackoverflow.com/questions/32874543/adding-a-qframe-in-pyqt-and-set-size", "title": "Adding a Qframe in PYQT and set size", "body": "<p>Im trying to add a QFrame in the middle of my program GUI.  Ive tried multiple lines of code and still wont get it to show :(  Here is a simple implementation I tried.  Any help?</p>\n\n<pre><code>class gameWindow(QtGui.QMainWindow):\n    def __init__(self, parent=None):\n        QtGui.QMainWindow.__init__(self, parent)\n\n        self.initUI()\n\n    def initUI(self):\n        self.setGeometry(300,300,1280,800)\n        self.setWindowTitle(\"Intel\")\n        self.setWindowIcon(QtGui.QIcon(\"Intel.png\"))\n        #self.setStyleSheet(\"background-color: rgb(255, 255, 255);\\n\")\n                           #\"border:1px solid rgb(0, 131, 195);\")\n\n        self.centralwidget = QtGui.QWidget(self)\n        self.frame = QtGui.QFrame(self.centralwidget)\n        self.frame.resize(300,300)\n        self.frame.setStyleSheet(\"background-color: rgb(200, 255, 255)\")\n</code></pre>\n"}, {"tags": ["python", "variables", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 465, "user_id": 5376021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad90ca791bf9ba09d2568b0668286f81?s=128&d=identicon&r=PG&f=1", "display_name": "shavar", "link": "https://stackoverflow.com/users/5376021/shavar"}, "reply_to_user": {"reputation": 1227, "user_id": 5295657, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/cKG8M.jpg?s=128&g=1", "display_name": "Mahsum Akbas", "link": "https://stackoverflow.com/users/5295657/mahsum-akbas"}, "edited": false, "score": 0, "creation_date": 1443645689, "post_id": 32874539, "comment_id": 53581882, "body": "I marked the post by @EGHM as the answer. But for those who may be able to use this information I did find that Select also does indeed work. I used     Select(driver.find_element_by_class_name(&quot;c3&quot;)).select_by_vi&zwnj;&#8203;sible_text(state). Not sure if I was supposed to put code in a comment."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1443648478, "post_id": 32874539, "comment_id": 53583166, "body": "@shavar going with a Select abstraction is indeed a much cleaner way to approach the problem."}, {"owner": {"reputation": 465, "user_id": 5376021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad90ca791bf9ba09d2568b0668286f81?s=128&d=identicon&r=PG&f=1", "display_name": "shavar", "link": "https://stackoverflow.com/users/5376021/shavar"}, "edited": false, "score": 0, "creation_date": 1443648727, "post_id": 32874539, "comment_id": 53583272, "body": "@ alecxe I appreciate your input. I was curious if Select was the preferred method. Going forward where possible I&#39;ll use Select abstraction. I&#39;ll have to do a bit more reading on its use of course."}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 5376021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad90ca791bf9ba09d2568b0668286f81?s=128&d=identicon&r=PG&f=1", "display_name": "shavar", "link": "https://stackoverflow.com/users/5376021/shavar"}, "edited": false, "score": 1, "creation_date": 1443645508, "post_id": 32874906, "comment_id": 53581801, "body": "Yep that did it. So I guess it wasn&#39;t reading it as a string? This will help me with my other projects. Thank you."}, {"owner": {"reputation": 2106, "user_id": 250614, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nYpfO.png?s=128&g=1", "display_name": "EGHM", "link": "https://stackoverflow.com/users/250614/eghm"}, "reply_to_user": {"reputation": 465, "user_id": 5376021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad90ca791bf9ba09d2568b0668286f81?s=128&d=identicon&r=PG&f=1", "display_name": "shavar", "link": "https://stackoverflow.com/users/5376021/shavar"}, "edited": false, "score": 0, "creation_date": 1443645600, "post_id": 32874906, "comment_id": 53581851, "body": "I think python was reading it as a string.  I know from lots of experience those quotes around values after the equals sign are required by Selenium."}, {"owner": {"reputation": 101, "user_id": 2338158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eb8fb3eaf6d0dde869e009b93628b51?s=128&d=identicon&r=PG", "display_name": "Marjorie Roswell", "link": "https://stackoverflow.com/users/2338158/marjorie-roswell"}, "edited": false, "score": 1, "creation_date": 1517530134, "post_id": 32874906, "comment_id": 84144359, "body": "Super-helpful. Thanks."}], "tags": [], "owner": {"reputation": 2106, "user_id": 250614, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nYpfO.png?s=128&g=1", "display_name": "EGHM", "link": "https://stackoverflow.com/users/250614/eghm"}, "is_accepted": true, "score": 15, "last_activity_date": 1443644410, "creation_date": 1443644410, "answer_id": 32874906, "question_id": 32874539, "link": "https://stackoverflow.com/questions/32874539/using-a-variable-in-xpath-in-python-selenium/32874906#32874906", "title": "Using a variable in xpath in Python Selenium", "body": "<p>The single quotes around the value are not present with how you coded it.  Try:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//option[@value='\" + state + \"']\").click()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12443658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBnrVI-VTB0gJzWVKL-gk1syPjIXVtVFYDQ8ogd=k-s128", "display_name": "Prabhav Joshi", "link": "https://stackoverflow.com/users/12443658/prabhav-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1579520339, "last_edit_date": 1579520339, "creation_date": 1579519706, "answer_id": 59822337, "question_id": 32874539, "link": "https://stackoverflow.com/questions/32874539/using-a-variable-in-xpath-in-python-selenium/59822337#59822337", "title": "Using a variable in xpath in Python Selenium", "body": "<p>If you still want to use single quotes then you can also try this answer. Check if it helps:</p>\n\n<pre><code>driver.find_element_by_xpath('//option[@value=\\'{State_Name}\\']'.format(State_Name=State)).click()\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>driver.find_element_by_xpath('//option[@value=\\'{}\\']'.format(State)).click()\n</code></pre>\n\n<p>You can pass \"State\" as parameter in your function.</p>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 4, "last_activity_date": 1591305826, "creation_date": 1591305826, "answer_id": 62204354, "question_id": 32874539, "link": "https://stackoverflow.com/questions/32874539/using-a-variable-in-xpath-in-python-selenium/62204354#62204354", "title": "Using a variable in xpath in Python Selenium", "body": "<p>To <code>click()</code> on the element with respect to the variable <em>value</em> attribute of the <code>&lt;option&gt;</code> tag using <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> and <a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p>Using variable in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\ndriver.find_element_by_xpath(\"//option[@value='\" +state+ \"']\").click()\n</code></pre></li>\n<li><p>Using <code>%s</code> in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\ndriver.find_element_by_xpath(\"//option[@value='%s']\"% str(state)).click()\n</code></pre></li>\n<li><p>Using <code>format()</code> in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\ndriver.find_element_by_xpath(\"//option[@value='{}']\".format(str(state))).click()\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>Best Practices</h2>\n\n<p>Ideally. to <code>click()</code> on the element with respect to the variable <em>value</em> attribute of the <code>&lt;option&gt;</code> tag using <em>Selenium]</em> and you need to to induce <a href=\"https://stackoverflow.com/questions/49775502/webdriverwait-not-working-as-expected/49775808#49775808\">WebDriverWait</a> for the <code>element_to_be_clickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p>Using variable in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\nWebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, \"//option[@value='\" +state+ \"']\"))).click()\n</code></pre></li>\n<li><p>Using <code>%s</code> in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\nWebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, \"//option[@value='%s']\"% str(state)))).click()\n</code></pre></li>\n<li><p>Using <code>format()</code> in <code>XPATH</code>:</p>\n\n<pre><code>state = 'AL-Alabama'\nWebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, \"//option[@value='{}']\".format(str(state))))).click()\n</code></pre></li>\n<li><p><strong>Note</strong> : You have to add the following imports :</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>Reference</h2>\n\n<p>You can find a couple of relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/62188981/how-to-find-an-element-with-respect-to-the-user-input-using-selenium-and-python/62189841#62189841\">How to find an element with respect to the user input using Selenium and Python?</a></li>\n</ul>\n"}], "owner": {"reputation": 465, "user_id": 5376021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad90ca791bf9ba09d2568b0668286f81?s=128&d=identicon&r=PG&f=1", "display_name": "shavar", "link": "https://stackoverflow.com/users/5376021/shavar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14082, "favorite_count": 4, "accepted_answer_id": 32874906, "answer_count": 3, "score": 11, "last_activity_date": 1591305826, "creation_date": 1443642966, "last_edit_date": 1495542290, "question_id": 32874539, "link": "https://stackoverflow.com/questions/32874539/using-a-variable-in-xpath-in-python-selenium", "title": "Using a variable in xpath in Python Selenium", "body": "<p>I've been having trouble figuring out how to get a variable to work Selenium. This post seems to have helped (<a href=\"https://stackoverflow.com/questions/28034207/variable-not-working-inside-parenthesis\">Variable not working inside parenthesis</a>) but I still can't get it to work.</p>\n\n<p>When I used the actual value it works. In this case AL-Alabama. I created a variable called state so that I can just call\nthat in my function. I have 13 states to run through.</p>\n\n<pre><code>driver.find_element_by_xpath(\"//option[@value='AL-Alabama']\").click()\n</code></pre>\n\n<p>This one uses the state variable and in looking at error message it shows the variable value as AL-Alabama. So it seems like\nit's referencing the correct value in the web page. Not sure what I'm missing or why it's not working. Any guidance would be appreciated.</p>\n\n<pre><code>driver.find_element_by_xpath('//option[@value=' + state + ']').click()\nselenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//option[@value=AL-Alabama]\"}\n</code></pre>\n"}, {"tags": ["python", "django", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "edited": false, "score": 0, "creation_date": 1443644236, "post_id": 32874488, "comment_id": 53581192, "body": "Wait 5 min. I write answer."}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 3328955, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/100000773851856/picture?type=large", "display_name": "user3328955", "link": "https://stackoverflow.com/users/3328955/user3328955"}, "is_accepted": false, "score": 0, "last_activity_date": 1443644246, "creation_date": 1443644246, "answer_id": 32874850, "question_id": 32874488, "link": "https://stackoverflow.com/questions/32874488/building-cascade-structure/32874850#32874850", "title": "Building cascade structure", "body": "<pre><code>queryset = Subject.objects.get(category=parametrocategoria)\nqueryset = Post.objects.get(subject=parametrosubjet)\n</code></pre>\n\n<p>You simply choose to perform query</p>\n"}, {"tags": [], "owner": {"reputation": 1516, "user_id": 126331, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/153a4591a5316709ae5837e5c851c6e4?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/126331/dan"}, "is_accepted": false, "score": 1, "last_activity_date": 1443646317, "creation_date": 1443646317, "answer_id": 32875405, "question_id": 32874488, "link": "https://stackoverflow.com/questions/32874488/building-cascade-structure/32875405#32875405", "title": "Building cascade structure", "body": "<p>This site is invaluable to work your way around <a href=\"https://ccbv.co.uk/projects/Django/1.8/django.views.generic.list/ListView/\" rel=\"nofollow\">Class Based Views (ListView)</a></p>\n\n<p>I think you need to override the <code>get</code> method, something like this:</p>\n\n<pre><code>class SubjectsView(generic.ListView):\n    ... \n    def get(self, request, *args, slug_category=None, **kwargs):\n        if slug_category:\n            self.queryset = Subject.objects.filter(category__slug_category=slug_category)\n        super(SubjectsView, self).get(request, *args, slug_category=slug_category, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4949767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHO1O.jpg?s=128&g=1", "display_name": "Olya Bogdanova", "link": "https://stackoverflow.com/users/4949767/olya-bogdanova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443646317, "creation_date": 1443642761, "last_edit_date": 1443643941, "question_id": 32874488, "link": "https://stackoverflow.com/questions/32874488/building-cascade-structure", "title": "Building cascade structure", "body": "<p>I just want to build a cascade structure like <code>Category-Subject-Post</code> in my project. \nHere is my code:</p>\n\n<blockquote>\n  <p>models.py:</p>\n</blockquote>\n\n<pre><code>class Category(models.Model):\n    category_name = models.CharField(max_length=60, unique=True)\n    slug_category = models.SlugField(unique=True)\n\n    def get_absolute_url(self):\n    return reverse(\"skill:subjects\", kwargs={\"slug_category\": self.slug_category})\n\nclass Subject(models.Model):\n    category = models.ForeignKey(Category)\n    subject_name = models.CharField(max_length=100, unique=True)\n    slug_subject = models.SlugField(unique=True)\n\n\n    def get_absolute_url(self):\n    return reverse(\"skill:subject\", kwargs={\n        \"slug_category\": self.category.slug_category,\n        \"slug_subject\": self.slug_subject\n    })\n\n\nclass Post(models.Model):\n    subject = models.ForeignKey(Subject)\n    ...\n</code></pre>\n\n<blockquote>\n  <p>views.py:</p>\n</blockquote>\n\n<pre><code>def index(request):\n    context = {\n        'category_it': Category.objects.filter(class_name='IT'),\n        'category_ps': Category.objects.filter(class_name='PS'),\n        'category_ac': Category.objects.filter(class_name='AC'),\n        'category_tc': Category.objects.filter(class_name='TC'),\n        'category_sc': Category.objects.filter(class_name='SC'),\n        'category_ss': Category.objects.filter(class_name='SS'),\n    }\n    return render(request, 'skill/index.html', context)\n\nclass SubjectsView(generic.ListView):\n    model = Subject\n    queryset = Subject.objects.all()\n    template_name = \"skill/subjects.html\"\n\n\nclass SubjectView(generic.ListView):\n    model = Post\n    queryset = Post.objects.all()\n    template_name = 'skill/subject.html'\n</code></pre>\n\n<blockquote>\n  <p>urls.py:</p>\n</blockquote>\n\n<pre><code>url(r'^$', views.index, name='index'),\n    # /programming\n    url(r'^(?P&lt;slug_category&gt;[\\w-]+)/$', views.SubjectsView.as_view(), name='subjects'),\n    # /programming/git\n    url(r'^(?P&lt;slug_category&gt;[\\w-]+)/(?P&lt;slug_subject&gt;[\\w-]+)/$', views.SubjectView.as_view(), name='subject'),\n    # /programming/git/43121\n    url(r'^(?P&lt;slug_category&gt;[\\w-]+)/(?P&lt;slug_subject&gt;[\\w-]+)/(?P&lt;pk&gt;[0-9]+)/$', views.post, name='post'),\n]\n</code></pre>\n\n<p>templates:</p>\n\n<blockquote>\n  <p>index.html:</p>\n</blockquote>\n\n<pre><code>{% for category in category_it %}\n    &lt;a href=\"{% url 'skill:subjects' category.slug_category %}\" class=\"item\"&gt;{{ category }}&lt;/a&gt;\n{% endfor %}\n</code></pre>\n\n<blockquote>\n  <p>subjects.html:</p>\n</blockquote>\n\n<pre><code>{% for object in object_list %}\n    &lt;a href=\"{{ object.get_absolute_url }}\" class=\"item\"&gt;&lt;h4&gt;{{ object }}&lt;/h4&gt;&lt;/a&gt;\n{% endfor %}\n</code></pre>\n\n<p>I don't know what query I need for that and where(views or template), I tried and hardcoded it (index in views.py and template but 6times larger) but can't afford it on the next step because of the scope.</p>\n\n<p>I need <em>categories</em> in <strong>index.html</strong>, <em>list of subjects</em> belonging to particular category in <strong>subjects.html</strong> and <em>posts belonging to their subject</em> in <strong>subject.html</strong>. Can you please help me with finding the working solution</p>\n"}, {"tags": ["c#", "python", ".net", "unity-container", "twisted"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443643066, "post_id": 32874463, "comment_id": 53580637, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>.  Please show us what those attempts <i>did</i> return.  Also, printing the ASCII codes of the bytes you got would be helpful."}, {"owner": {"reputation": 633, "user_id": 4958154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SEMZa.png?s=128&g=1", "display_name": "Sepehr Hamzehlooy", "link": "https://stackoverflow.com/users/4958154/sepehr-hamzehlooy"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1443643317, "post_id": 32874463, "comment_id": 53580740, "body": "which attemp u mean ? but i can tell u when i print returndata in console it shows me &quot;true&quot; ( both ascii and utf8 )."}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 4958154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SEMZa.png?s=128&g=1", "display_name": "Sepehr Hamzehlooy", "link": "https://stackoverflow.com/users/4958154/sepehr-hamzehlooy"}, "edited": false, "score": 0, "creation_date": 1443775275, "post_id": 32874828, "comment_id": 53635391, "body": "yeah problem was i needed the 4 bytes so i changed tcpclnt.ReceiveBufferSize to 4."}], "tags": [], "owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "is_accepted": true, "score": 0, "last_activity_date": 1443644161, "creation_date": 1443644161, "answer_id": 32874828, "question_id": 32874463, "link": "https://stackoverflow.com/questions/32874463/python-twisted-server-with-c-client/32874828#32874828", "title": "python twisted server with C# client", "body": "<pre><code>byte[] rba = new byte[tcpclnt.ReceiveBufferSize];\nvar len=stm.Read (rba, 0, (int)tcpclnt.ReceiveBufferSize);\nstring returndata = Encoding.UTF8.GetString (rba,len);\n</code></pre>\n\n<p>You are decoding the entire buffer rather than just the 4 bytes you got.  <code>stm.Read</code> should return 4, which you can then use in the <code>GetString</code> to tell it to stop after 4.</p>\n\n<p>Alternatively, you can probably do this too:</p>\n\n<pre><code>var returndata = stm.ReadToEnd();\n</code></pre>\n"}], "owner": {"reputation": 633, "user_id": 4958154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SEMZa.png?s=128&g=1", "display_name": "Sepehr Hamzehlooy", "link": "https://stackoverflow.com/users/4958154/sepehr-hamzehlooy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 32874828, "answer_count": 1, "score": 0, "last_activity_date": 1445884387, "creation_date": 1443642662, "last_edit_date": 1445884387, "question_id": 32874463, "link": "https://stackoverflow.com/questions/32874463/python-twisted-server-with-c-client", "title": "python twisted server with C# client", "body": "<p>i have a python twisted tcp server which i transfer data with this code :</p>\n\n<pre><code>self.transport.write(\"true\")\n</code></pre>\n\n<p>it transfers the string \"true\".</p>\n\n<p>and i plan to get it in my C# client with this code :</p>\n\n<pre><code>byte[] rba = new byte[tcpclnt.ReceiveBufferSize];\nstm.Read (rba, 0, (int)tcpclnt.ReceiveBufferSize);\n</code></pre>\n\n<p>i both tried UTF8 and Default(ASCII) encode to convert it to string :</p>\n\n<pre><code>string returndata = Encoding.UTF8.GetString (rba);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>string returndata = Encoding.Default.GetString (rba);\n</code></pre>\n\n<p>and tried to do this :</p>\n\n<pre><code>if ( returndata == \"true\" ) \n    do something\n</code></pre>\n\n<p>but it doesn't equal returndata to \"true\" and i have no idea why ?</p>\n\n<p>can anyone help me to understand it ?</p>\n"}, {"tags": ["python", "arrays", "numpy", "int", "factorial"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 6, "creation_date": 1443642770, "post_id": 32874446, "comment_id": 53580522, "body": "Why would you expect it not to be slow? That&#39;s likely just a trade-off you&#39;ll have to make. What are you doing with all of these factorials, anyway?"}, {"owner": {"reputation": 23682, "user_id": 18196, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/nTnqA.jpg?s=128&g=1", "display_name": "Frank V", "link": "https://stackoverflow.com/users/18196/frank-v"}, "edited": false, "score": 1, "creation_date": 1443642982, "post_id": 32874446, "comment_id": 53580609, "body": "Staring with a list, I know you said it slow but what is your use case? How are you using the data? Iterating it or getting items by index or making sublists? Maybe you can use a dict and group the data in some way? I suspect it&#39;s not the data you are storing so much as how much data you have. I expect it&#39;d be just as slow (give or take) if you were storing smaller numbers..."}, {"owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "edited": false, "score": 0, "creation_date": 1443643192, "post_id": 32874446, "comment_id": 53580685, "body": "Do you actually need exact factorial values?  There are approximations that are <i>much</i> faster to calculate. E.g. <a href=\"https://en.wikipedia.org/wiki/Stirling%27s_approximation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Stirling%27s_approximation</a>  Also, <code>numpy</code> arrays aren&#39;t inherently faster, they&#39;re mostly just more compact in memory.  (Mathematical operations on the whole array are fast, but indexing is slow compared to a <code>list</code>.)"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1443643199, "post_id": 32874446, "comment_id": 53580688, "body": "FrankV is right, context is important in making data structure choices - maybe give us some insight into your use case?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1443646071, "post_id": 32874446, "comment_id": 53582093, "body": "It is likely not the storage itself that is slow, but the operations you&#39;re performing with those huge numbers. The bigger the integer, the slower the math."}, {"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "edited": false, "score": 0, "creation_date": 1443647678, "post_id": 32874446, "comment_id": 53582819, "body": "Can you list the operations which you&#39;ll perform on the numbers, give the order of magnitude estimate on the numbers and an estimate of how many of them you need to have stored at any one time?"}, {"owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443647844, "post_id": 32874446, "comment_id": 53582895, "body": "Mark, yes, my operations are the main impact in performance, and depending of the data structure, they can be even slower (like 25% more), so I am looking for the better way to store values.  Joe Kington, the problem is not calculation, it is storage, and yes, i need full precision. If I would use something like 6.321324345e+23 the result of my calculations wil be wrong."}, {"owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443649439, "post_id": 32874446, "comment_id": 53583575, "body": "Dmitry Rubanovich: The bigger number to be stored is something like 200!, there will be between 20 - 60 numbers (this one does not change while running). My operations are sometimes divisions, sometimes sums, sometimes rest or multiplications, or a convination of them. As far as I have tested, a numpy array can not hold numbers as large as mine without lost precision. A python list can, but to access a list is slower, so, there is another way?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443649506, "post_id": 32874953, "comment_id": 53583597, "body": "I am not always with x!. Just some huge numbers."}], "tags": [], "owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "is_accepted": false, "score": 0, "last_activity_date": 1443691761, "last_edit_date": 1443691761, "creation_date": 1443644593, "answer_id": 32874953, "question_id": 32874446, "link": "https://stackoverflow.com/questions/32874446/how-to-store-array-of-really-huge-numbers-in-python/32874953#32874953", "title": "How to store array of really huge numbers in python?", "body": "<p>If you need for the future the exact number of a factorial why dont you save in an array not the result but the number you want to 'factorialize'?</p>\n\n<p>E.G.</p>\n\n<p>You have <code>f = factorial(150)</code></p>\n\n<p>and you have the result <code>57133839564458545904789328652610540031895535786011264182548375833179829124845398393126574488675311145377107878746854204162666250198684504466355949195922066574942592095735778929325357290444962472405416790722118445437122269675520000000000000000000000000000000000000</code></p>\n\n<p>But you can simply:</p>\n\n<pre><code>def values():\n\n    to_factorial_list = []\n        ...\n        to_factorial_list.append(values_you_want_to_factorialize)\n    return to_factorial_list\n\ndef setToFactorial(number):\n    return factorial(number)\n\nprint setToFactorial(values()[302])\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>fair, then my advice is to work both with the logic i suggested as the <code>getsizeof(number)</code> you can merge or work with two arrays, an array to save low factorialized numbers and another to save the big ones, e.g. when <code>getsizeof(number)</code> exceed any size. </p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443646370, "post_id": 32875136, "comment_id": 53582235, "body": "My problem is not to get the factorials, is to store them in a structure that can handle their full precision and be as fast as possible to iterate throw. For example, iteration over a list is slower than over a numpy array, but a numpy array lost the presicions."}, {"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "reply_to_user": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443646622, "post_id": 32875136, "comment_id": 53582361, "body": "iterate over what?  there is only 150 factorials for numbers 1-150.  If each factorial is stored as a tuple (rather than a number), you can iterate over the list of these stored tuples.  You can even have a dictionary from the N to the tuple (which stores the prime powers of N!)."}, {"owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "edited": false, "score": 0, "creation_date": 1443648323, "post_id": 32875136, "comment_id": 53583099, "body": "Iterating over a structure (array, list or something) of huge numbers (not always results of x!) stored in full precision."}], "tags": [], "owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1443645282, "creation_date": 1443645282, "answer_id": 32875136, "question_id": 32874446, "link": "https://stackoverflow.com/questions/32874446/how-to-store-array-of-really-huge-numbers-in-python/32875136#32875136", "title": "How to store array of really huge numbers in python?", "body": "<p>Store it as tuples of prime factors and their powers.  A factorization of a factorial (of, let's say, N) will contain ALL primes less than N.  So k'th place in each tuple will be k'th prime.  And you'll want to keep a separate list of all the primes you've found.  You can easily store factorials as high as a few hundred thousand in this notation.  If you really need the digits, you can easily restore them from this (just ignore the power of 5 and subtract the power of 5 from the power of 2 when you multiply the factors to get the factorial... cause 5*2=10).</p>\n"}, {"comments": [{"owner": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "edited": false, "score": 0, "creation_date": 1443674819, "post_id": 32879390, "comment_id": 53589934, "body": "He wants to ensure that integer arithmetic is used.  To the best of my knowledge, you can&#39;t can&#39;t make that guarantee with Numpy.  It will start loosing precision and converting to floating point with exponent if the numbers get too large."}, {"owner": {"reputation": 10318, "user_id": 224574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a316666f495f55def1c7a7babe1f1?s=128&d=identicon&r=PG", "display_name": "casevh", "link": "https://stackoverflow.com/users/224574/casevh"}, "reply_to_user": {"reputation": 2237, "user_id": 1219722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f308a0947ea106f91b5ba413cd9c04c?s=128&d=identicon&r=PG", "display_name": "Dmitry Rubanovich", "link": "https://stackoverflow.com/users/1219722/dmitry-rubanovich"}, "edited": false, "score": 1, "creation_date": 1443675407, "post_id": 32879390, "comment_id": 53590100, "body": "@DmitryRubanovich  If you tell numpy to use <code>dtype=np.object</code>, it will keep the value as a Python long and you won&#39;t lose precision. However, you won&#39;t gain any of the performance that numpy can offer when it uses native types. Compare the values of <code>b[30]</code> and <code>c[30]</code> in my examples. <code>c[30]</code> is kept at full precision but <code>b[30]</code> is converted to a float."}], "tags": [], "owner": {"reputation": 10318, "user_id": 224574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a316666f495f55def1c7a7babe1f1?s=128&d=identicon&r=PG", "display_name": "casevh", "link": "https://stackoverflow.com/users/224574/casevh"}, "is_accepted": false, "score": 3, "last_activity_date": 1443673193, "creation_date": 1443673193, "answer_id": 32879390, "question_id": 32874446, "link": "https://stackoverflow.com/questions/32874446/how-to-store-array-of-really-huge-numbers-in-python/32879390#32879390", "title": "How to store array of really huge numbers in python?", "body": "<p>numpy arrays are very fast when they can internally work with a simple data type that can be directly manipulated by the processor. Since there is no simple, native data type that can store huge numbers, they are converted to a float. numpy can be told to work with Python objects but then it will be slower.</p>\n\n<p>Here are some times on my computer. First the setup.</p>\n\n<p><code>a</code> is a Python list containing the first 50 factorials. <code>b</code> is a numpy array with all the values converted to <code>float64</code>. <code>c</code> is a numpy array storing Python objects.</p>\n\n<pre><code>import numpy as np\nimport math\na=[math.factorial(n) for n in range(50)]\nb=np.array(a, dtype=np.float64)\nc=np.array(a, dtype=np.object)\n\na[30]\n265252859812191058636308480000000L\n\nb[30]\n2.6525285981219107e+32\n\nc[30]\n265252859812191058636308480000000L\n</code></pre>\n\n<p>Now to measure indexing.</p>\n\n<pre><code>%timeit a[30]\n10000000 loops, best of 3: 34.9 ns per loop\n\n%timeit b[30]\n1000000 loops, best of 3: 111 ns per loop\n\n%timeit c[30]\n10000000 loops, best of 3: 51.4 ns per loop\n</code></pre>\n\n<p>Indexing into a Python list is fastest, followed by extracting a Python object from a numpy array, and slowest is extracting a 64-bit float from an optimized numpy array.</p>\n\n<p>Now let's measure multiplying each element by 2.</p>\n\n<pre><code>%timeit [n*2 for n in a]\n100000 loops, best of 3: 4.73 \u00b5s per loop\n\n%timeit b*2\n100000 loops, best of 3: 2.76 \u00b5s per loop\n\n%timeit c*2\n100000 loops, best of 3: 7.24 \u00b5s per loop\n</code></pre>\n\n<p>Since <code>b*2</code> can take advantage of numpy's optimized array, it is the fastest. The Python list takes second place. And a numpy array using Python objects is the slowest.</p>\n\n<p>At least with the tests I ran, indexing into a Python list doesn't seem slow. What is slow for you?</p>\n"}], "owner": {"reputation": 105, "user_id": 3117891, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/568a950ca95657fd2dd7f3bd9a2a8a6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3117891", "link": "https://stackoverflow.com/users/3117891/user3117891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2309, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1443691761, "creation_date": 1443642572, "last_edit_date": 1443649867, "question_id": 32874446, "link": "https://stackoverflow.com/questions/32874446/how-to-store-array-of-really-huge-numbers-in-python", "title": "How to store array of really huge numbers in python?", "body": "<p>I am working with huge numbers, such as 150!. To calculate the result is not a problem, by example<br>\n<code>f = factorial(150)</code> is\n<code>57133839564458545904789328652610540031895535786011264182548375833179829124845398393126574488675311145377107878746854204162666250198684504466355949195922066574942592095735778929325357290444962472405416790722118445437122269675520000000000000000000000000000000000000</code>.</p>\n\n<p>But I also need to store an array with N of those huge numbers, in full presison. A list of python can store it, but it is slow. A numpy array is fast, but can not handle the full precision, wich is required for some operations I perform later, and as I have tested, a number in scientific notation (float) does not produce the accurate result. </p>\n\n<p>Edit:</p>\n\n<p>150! is just an example of huge number, it does not mean I am working only with factorials. Also, the full set of numbers (NOT always a result of factorial) change over time, and I need to do the actualization and reevaluation of a function for wich those numbers are a parameter, and yes, full precision is required. </p>\n"}, {"tags": ["python", "igraph"], "answers": [{"tags": [], "owner": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "is_accepted": false, "score": 2, "last_activity_date": 1443688044, "creation_date": 1443688044, "answer_id": 32882838, "question_id": 32874374, "link": "https://stackoverflow.com/questions/32874374/set-community-index-as-a-vertex-attribute-with-igraph-python/32882838#32882838", "title": "Set community index as a vertex attribute with IGraph Python", "body": "<p>What you are doing is terribly inefficient because you are running the community detection algorithm for every single iteration of the outer loop even though its result should be the same no matter how many times you run it. A much simpler way to do it would be:</p>\n\n<pre><code>cl = g.community_multilevel(return_levels=False)\ng.vs[\"group\"] = cl.membership\n</code></pre>\n"}], "owner": {"reputation": 4265, "user_id": 1208142, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vfF38.jpg?s=128&g=1", "display_name": "Lucien S.", "link": "https://stackoverflow.com/users/1208142/lucien-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443688044, "creation_date": 1443642272, "last_edit_date": 1443643523, "question_id": 32874374, "link": "https://stackoverflow.com/questions/32874374/set-community-index-as-a-vertex-attribute-with-igraph-python", "title": "Set community index as a vertex attribute with IGraph Python", "body": "<p>When I detect communities on a graph with Igraph in Python, I get a result like this:</p>\n\n<pre><code>print g.community_multilevel(return_levels=False)\n\nClustering with 100 elements and 4 clusters\n[0] 16, 17, 18, 20, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n    36, 37, 39, 40, 44\n[1] 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 19, 38, 92, 94, 96,\n    97, 98, 99\n[2] 42, 43, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    61, 62, 63, 64, 66, 67, 69\n[3] 21, 41, 65, 68, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83,\n    84, 85, 86, 87, 88, 89, 90, 91, 93, 95\n</code></pre>\n\n<p>I'm adding the corresponding community number as an attribute to each vertex like this:</p>\n\n<pre><code>for v in g.vs():\n    c = 0\n    for i in g.community_multilevel(return_levels=False):\n        if v.index in i:\n            print v.index,i,c\n            v[\"group\"] = c\n        c += 1\n</code></pre>\n\n<p>Is there a more elegant way to achieve this?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "mechanize", "mechanize-python"], "comments": [{"owner": {"reputation": 5648, "user_id": 3122880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3839f45edaf0820ca5e184cfc6a7f1b9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Ojha", "link": "https://stackoverflow.com/users/3122880/vikas-ojha"}, "edited": false, "score": 0, "creation_date": 1443683647, "post_id": 32874340, "comment_id": 53593549, "body": "Try either of these - <code>print str(soup)</code> or <code>print unicode(soup)</code>"}, {"owner": {"reputation": 124, "user_id": 4205016, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c5f012c6bb6f24866196275d364b5b83?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Sriram", "link": "https://stackoverflow.com/users/4205016/sailesh-sriram"}, "reply_to_user": {"reputation": 5648, "user_id": 3122880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3839f45edaf0820ca5e184cfc6a7f1b9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Ojha", "link": "https://stackoverflow.com/users/3122880/vikas-ojha"}, "edited": false, "score": 0, "creation_date": 1443716169, "post_id": 32874340, "comment_id": 53614108, "body": "@VikasNehaOjha No luck. Both of them still return unreadable data."}], "owner": {"reputation": 124, "user_id": 4205016, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c5f012c6bb6f24866196275d364b5b83?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Sriram", "link": "https://stackoverflow.com/users/4205016/sailesh-sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1443648587, "creation_date": 1443642188, "last_edit_date": 1443648587, "question_id": 32874340, "link": "https://stackoverflow.com/questions/32874340/url-returns-encoded-value-when-parsed", "title": "URL returns encoded value when parsed", "body": "<p>I am using Mechanize to open an URL and I'm parsing it with BeautifulSoup.</p>\n\n<pre><code>br = mechanize.Browser()\nbr.addheaders = [('User-agent', 'Mozilla/5.0')]\nurl = ('xyz.html')\nbr.open(url)\nprint br.response().read() #prints four special characters\nsoup = BeautifulSoup(br.response().read()) \nprint soup #prints encoded data\n</code></pre>\n\n<p>This problem doesn't occur if I copy the HTML file locally and then parse it.</p>\n\n<p>Should I decode/encode once I retrieve it through mechanize? If so, how should I do it?</p>\n"}, {"tags": ["python", "csv", "python-3.x"], "comments": [{"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "edited": false, "score": 0, "creation_date": 1443642100, "post_id": 32874273, "comment_id": 53580210, "body": "csv file without commas?"}], "answers": [{"comments": [{"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1443642343, "post_id": 32874370, "comment_id": 53580328, "body": "Not that I disagree with your answer, but this is more of a comment."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1443642257, "creation_date": 1443642257, "answer_id": 32874370, "question_id": 32874273, "link": "https://stackoverflow.com/questions/32874273/identify-values-in-column-that-occur-more-than-once/32874370#32874370", "title": "Identify values in column that occur more than once", "body": "<p>First, you have to read all the lines in the file.  You build your counter on that set.</p>\n\n<p>Second, you iterate through the keys of your counter and check the values for being >= 4.  (Note that you only did > ... you have to include 4).</p>\n\n<p>Is that enough to let you write your own code?</p>\n"}, {"comments": [{"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1443642694, "post_id": 32874401, "comment_id": 53580482, "body": "went to the trouble of including a comma delimited test file. I think he understood the problems with the non-default delimiter in the OP. One could solve it with the delimiter parameter or by defining a new dialect <code>csv.register_dialect(&#39;my_dialect&#39;, delimiter=&#39;\\t&#39;) with open(&#39;path&#47;myfile.csv&#39;, &#39;r&#39;) as f:     myfile = csv.reader(f, &#39;my_dialect&#39;)</code> or whatever he has. Not clear to me what his original delimiter is, although it is clear he didn&#39;t represent it as &quot;,&quot;."}, {"owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "reply_to_user": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1443643026, "post_id": 32874401, "comment_id": 53580626, "body": "yes but the <code>csv.reader()</code> defaults to <code>,</code> as a delimiter so I am assuming it is comma delimited due to him not specifying it"}], "tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": true, "score": 0, "last_activity_date": 1443642426, "last_edit_date": 1443642426, "creation_date": 1443642368, "answer_id": 32874401, "question_id": 32874273, "link": "https://stackoverflow.com/questions/32874273/identify-values-in-column-that-occur-more-than-once/32874401#32874401", "title": "Identify values in column that occur more than once", "body": "<p>myfile.csv</p>\n\n<pre><code>address,salesprice\n1,RIVER TERRACE,6000000\n10,LITTLE WEST STREET,2500000\n15,WILLIAM STREET,1140000\n15,WILLIAM STREET,885878\n15,WILLIAM STREET,997885\n15,WILLIAM STREET,1220881.75\n120,GREENWICH STREET,625000 \n</code></pre>\n\n<p>code</p>\n\n<pre><code>import collections, csv\n\nwith open('myfile.csv', 'rb') as f:\n    rows = [x for x in csv.reader(f)]\n    count = collections.Counter([x[0] for i, x in enumerate(rows) if i &gt; 0])\n    for row in rows:\n        if count.get(row[0], 0) &gt; 3:\n            print(row)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1443645037, "creation_date": 1443645037, "answer_id": 32875058, "question_id": 32874273, "link": "https://stackoverflow.com/questions/32874273/identify-values-in-column-that-occur-more-than-once/32875058#32875058", "title": "Identify values in column that occur more than once", "body": "<p>You need to count first doing one full pass over the reader object and then  read the file again:</p>\n\n<pre><code>import csv\nfrom collections import Counter\nfrom operator import itemgetter\n\nwith open('path/myfile.csv', 'r',newline='') as f:\n    r = csv.reader(f)\n    # get counts first\n    cn = Counter(map(itemgetter(0),r))\n    # reset pointer to beginning of file\n    f.seek(0)\n    # create another reader\n    r = csv.reader(f)\n    # now iterate over the rows again, checking count of each row[0]\n    for row in r:\n        if cn[row[0]] &gt; 4:\n            print(row)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": -1, "last_activity_date": 1443648231, "last_edit_date": 1443648231, "creation_date": 1443647061, "answer_id": 32875602, "question_id": 32874273, "link": "https://stackoverflow.com/questions/32874273/identify-values-in-column-that-occur-more-than-once/32875602#32875602", "title": "Identify values in column that occur more than once", "body": "<p>just in python....</p>\n\n<pre><code>from collections import Counter\nimport  re\n\nwith open('data') as f:\n     lines = f.readlines()\n\n# this will get as num - most common number, and cnt as count for it\nnum, cnt = Counter( [e.split(',',1)[0] for e in lines] ).most_common(1)[0]\n\nif int(cnt) &gt;= 4:\n   for line in lines:\n       if re.match(num,line):\n           print(line)\n\n15,WILLIAM STREET,1140000\n\n15,WILLIAM STREET,885878\n\n15,WILLIAM STREET,997885\n\n15,WILLIAM STREET,1220881.75\n</code></pre>\n"}], "owner": {"reputation": 1290, "user_id": 3062459, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/96c1c009bd702f2fb70e925e098c9bb1?s=128&d=identicon&r=PG&f=1", "display_name": "user3062459", "link": "https://stackoverflow.com/users/3062459/user3062459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 32874401, "answer_count": 4, "score": 1, "last_activity_date": 1443648231, "creation_date": 1443641889, "last_edit_date": 1443641907, "question_id": 32874273, "link": "https://stackoverflow.com/questions/32874273/identify-values-in-column-that-occur-more-than-once", "title": "Identify values in column that occur more than once", "body": "<p>Loop through records in CSV and identify values in the first column (i.e., row[0]) which occur at least 4x in dataset (CSV) and print those rows (records).</p>\n\n<p>Example of data:</p>\n\n<pre><code>address                     salesprice\n1 RIVER TERRACE             6000000\n10 LITTLE WEST STREET       2500000\n15 WILLIAM STREET           1140000\n15 WILLIAM STREET           885878\n15 WILLIAM STREET           997885\n15 WILLIAM STREET           1220881.75\n120 GREENWICH STREET        625000\n</code></pre>\n\n<p>Sample code (which failed)</p>\n\n<pre><code>import csv\nfrom collections import Counter\n\nwith open('path/myfile.csv', 'r',newline='') as f:\n    myfile = csv.reader(f)\n    for row in myfile:\n        #print(row[0])\n        if Counter.items(row[0]) &gt; 4:\n            print(row)\n</code></pre>\n"}, {"tags": ["python", "concurrency"], "answers": [{"tags": [], "owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "is_accepted": false, "score": 0, "last_activity_date": 1443642233, "creation_date": 1443642233, "answer_id": 32874358, "question_id": 32874248, "link": "https://stackoverflow.com/questions/32874248/python-write-file-once-across-concurrent-independent-invocations/32874358#32874358", "title": "python: write file once across concurrent independent invocations", "body": "<p>I understood that there are several python interpreters running. You don't use threads.</p>\n\n<p>I would solve this with file locking. There is a library: <a href=\"https://pypi.python.org/pypi/lockfile\" rel=\"nofollow\">https://pypi.python.org/pypi/lockfile</a></p>\n\n<p>Example:</p>\n\n<pre><code>from lockfile import LockFile\nlock = LockFile(\"/some/file/or/other\")\nwith lock:\n    print lock.path, 'is locked.'\n</code></pre>\n"}], "owner": {"reputation": 1832, "user_id": 284605, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1357852706ac07f18001b77d2450adcb?s=128&d=identicon&r=PG&f=1", "display_name": "mkc", "link": "https://stackoverflow.com/users/284605/mkc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443642233, "creation_date": 1443641786, "question_id": 32874248, "link": "https://stackoverflow.com/questions/32874248/python-write-file-once-across-concurrent-independent-invocations", "title": "python: write file once across concurrent independent invocations", "body": "<p>I have a situation where multiple concurrent invocations of a python script takes place involving initializing and loading some system info in a file.</p>\n\n<p>This initialization should happen only once and while it is happening the other invocations must wait somehow. And when this has happened, the other invocations must proceed with reading the file. However, since an unknown number of concurrent invocation of the program is taking place, the section is entered multiple times causing problems.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#initialization has already happened, load info from file\nif os.path.isfile(\"/tmp/corners.txt\"):\n    logging.info(\"corners exist, load'em up!\")\n\n    #load corners from cornersfile\n    cornersfile=open(\"/tmp/corners.txt\",\"r\")\n    for line in cornersfile:\n        corners.append((line.split()[0], line.split()[1]))`\n    cornersfile.close()\n    logging.info(\"corners is %s\", corners)\n\nelse:\n    # initialize and do not let other concurrent invocations to proceed!\n    logging.info(\"initiation not done, do it!\")\n    #init blocks and return the list of corners\n    #write corners to file\n    cornersfile=open(\"/tmp/corners.txt\", \"w\")\n    cornersfile.write(\"\\n\".join('%s %s' % x for x in corners))\n    cornersfile.close()\n</code></pre>\n\n<p>I did some testing running the code 8 times concurrently. In the logs, I see that the first part of code enters thrice and the <code>else</code> part is entered 5 times.</p>\n\n<p>How do I make sure the that the following happens:</p>\n\n<ol>\n<li>If any concurrent invocation finds that the initialization (the <code>else</code> part) is happening, it will wait; all other concurrent invocations will go into a wait state.</li>\n<li>If any concurrent invocation finds that the initialization has already happened (that is the file <code>/tmp/corners.txt</code> is present) it will be loaded up.</li>\n</ol>\n"}, {"tags": ["python", "pip", "setuptools"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1443641655, "post_id": 32874138, "comment_id": 53580022, "body": "Are you sure you&#39;re running <code>pip</code> in the venv?  Did you source the venv&#39;s <code>activate.sh</code> script?  Can you show us a complete sequence of commands -- starting with creating the venv -- that will reproduce the problem?"}, {"owner": {"reputation": 35094, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1443643051, "post_id": 32874138, "comment_id": 53580633, "body": "I am sure that I&#39;m running <code>pip</code> in the venv.  I checked with <code>which pip</code>.  I did source the environment.  I just tried setting up a second venv and could not reproduce the problem.  Then sourced the original one and it happened again.  Therefore I somehow wound up with a corrupted venv.  But I have no clue how.  However I can work around it very easily by recreating the venv.  So I&#39;m doing that."}], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 9415946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df8b9bd89b73070a85d95fe45cf19f8?s=128&d=identicon&r=PG&f=1", "display_name": "x85ms16", "link": "https://stackoverflow.com/users/9415946/x85ms16"}, "is_accepted": false, "score": 1, "last_activity_date": 1534269251, "creation_date": 1534269251, "answer_id": 51847227, "question_id": 32874138, "link": "https://stackoverflow.com/questions/32874138/pip-will-not-install-module-in-venv/51847227#51847227", "title": "pip will not install module in venv", "body": "<p>Once you have activated a virtual environment try the following. It worked for me.</p>\n\n<pre><code>pip install --user -Iv django-pgjsonb\n</code></pre>\n"}], "owner": {"reputation": 35094, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534269251, "creation_date": 1443641257, "last_edit_date": 1443643147, "question_id": 32874138, "link": "https://stackoverflow.com/questions/32874138/pip-will-not-install-module-in-venv", "title": "pip will not install module in venv", "body": "<p>When I run <code>pip install django-pgjsonb</code> as a regular user it fails with <code>setuptools must be installed to install from a source distribution</code>.</p>\n\n<p>But setuptools is installed as can be seen from the fact that <code>pip list</code> includes the following packages:</p>\n\n<pre><code>Django (1.8.4)\npip (7.1.2)\nsetuptools (18.3.2)\nwheel (0.24.0\n</code></pre>\n\n<p>Any ideas what the error is?</p>\n\n<p><strong>UPDATE</strong> I cannot reproduce the problem in a fresh venv.  So I'm just recreating a venv with the same stuff.</p>\n\n<p>However I'm leaving the question open in case anyone has anything to fix.</p>\n"}, {"tags": ["python", "api", "instagram"], "comments": [{"owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "edited": false, "score": 0, "creation_date": 1443641560, "post_id": 32874108, "comment_id": 53579976, "body": "Can you provide Instagram server answer?"}], "answers": [{"tags": [], "owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "is_accepted": false, "score": 0, "last_activity_date": 1443642257, "creation_date": 1443642257, "answer_id": 32874371, "question_id": 32874108, "link": "https://stackoverflow.com/questions/32874108/how-to-save-photos-using-instagram-api-and-python/32874371#32874371", "title": "How to save photos using instagram API and python", "body": "<p>Here the code which save all images.\nI can't test it, coz i have not instagramm token.</p>\n\n<pre><code>import urllib, json\n\n\naccess_token = \"ACCESS TOKEN\" # Put here your ACCESS TOKEN\nsearch_results = urllib.urlopen(\"https://api.instagram.com/v1/media/search?lat=48.858844&amp;lng=2.294351&amp;access_token='%s'\" % access_token)\n\ninstagram_answer = json.loads(search_results) # Load Instagram Media Result\n\nfor row in instagram_answer['data']:\n    if row['type'] == \"image\": # Filter non images files\n        filename = row['id']\n        url = row['images']['standard_resolution']['url']\n        file_obj, headers = urllib.urlretrieve(\n            url=url,\n            filename=url\n        ) # Save images\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5344640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf36d8cbae2a2e6f3ef7fb3e5fa1332?s=128&d=identicon&r=PG&f=1", "display_name": "ssh105", "link": "https://stackoverflow.com/users/5344640/ssh105"}, "is_accepted": false, "score": 1, "last_activity_date": 1455172143, "creation_date": 1455172143, "answer_id": 35332301, "question_id": 32874108, "link": "https://stackoverflow.com/questions/32874108/how-to-save-photos-using-instagram-api-and-python/35332301#35332301", "title": "How to save photos using instagram API and python", "body": "<p>Eventually came up with this. In case anybody needs it, here you go:</p>\n\n<pre><code>#This Python Script will download 10,000 images from a specified location. \n# 10k images takes approx 15-20 minutes, approx 700 MB.\n\n\nimport urllib, json, requests\nimport time, csv\n\nprint \"time.time(): %f \" %  time.time()   #Current epoch time (Unix Timestamp)\nprint time.asctime( time.localtime(time.time()) )   #Current time in human readable format\n\n#lat='48.858844' #Latitude of the center search coordinate. If used, lng is required.\n#lng='2.294351'  #Longitude of the center search coordinate. If used, lat is required.\n\n#Brooklyn Brewery\nlat='40.721645'\nlng='-73.957258'\n\n\ndistance='5000' #Default is 1km (distance=1000), max distance is 5km.\naccess_token='&lt;YOUR TOKEN HERE&gt;' #Access token to use API\n\n\n#The default time span is set to 5 days. The time span must not exceed 7 days. \n#min_timestamp #    A unix timestamp. All media returned will be taken later than this timestamp.\n#max_timestamp #    A unix timestamp. All media returned will be taken earlier than this timestamp.\n\n\n#Settings for Verification Dataset of images\n#lat, long =40.721645, -73.957258, dist = 5000, default timestamp (5 days)\n\nimages={}\n#to keep track of duplicates\n\ntotal_count=0\ncount=0\n#count for each loop\n\ntimestamp_last_image=0\nflag=0\n\n#images are returned in reverse order, i.e. most recent to least recent\n#A max of 100 images are returned in during each request, to get the next set, we use last image (least recent) timestamp as max timestamp and continue\n#to avoid duplicates we check if image ID has already been recorded (instagram tends to return images based on a %60 timestamp)\n#flag checks for first run of loop\n#use JSON viewer http://www.jsoneditoronline.org/ and use commented API response links below to comprehend JSON response\nwhile total_count&lt;10000:\n    if flag==0: \n        response = urllib.urlopen('https://api.instagram.com/v1/media/search?lat='+lat+'&amp;lng='+lng+'&amp;distance='+distance+'&amp;access_token='+access_token+'&amp;count=100')\n        #https://api.instagram.com/v1/media/search?lat=48.858844&amp;lng=2.294351&amp;distance=5000&amp;access_token=2017228644.ab103e5.f6083159690e476b94dff6cbe8b53759\n    else:\n        response = urllib.urlopen('https://api.instagram.com/v1/media/search?lat='+lat+'&amp;lng='+lng+'&amp;distance='+distance+'&amp;max_timestamp='+timestamp_last_image+'&amp;access_token='+access_token+'&amp;count=100')\n\n    data = json.load(response)\n\n    for img in data[\"data\"]:\n        #print img[\"images\"][\"standard_resolution\"][\"url\"]\n        if img['id'] in images:\n            continue\n        images[img['id']] = 1\n        total_count = total_count + 1\n        count=count+1\n        urllib.urlretrieve(img[\"images\"][\"standard_resolution\"][\"url\"],\"C://Instagram/\"+str(total_count)+\".jpg\")\n        #above line downloads image by retrieving it from the url\n        instaUrlFile.write(img[\"images\"][\"standard_resolution\"][\"url\"]+\"\\n\")\n        #above line captures image url so it can be passed directly to Face++ API from the text file instaUrlFile.txt\n        print \"IMAGE WITH name \"+str(total_count)+\".jpg was just saved with created time \"+data[\"data\"][count-1][\"created_time\"]\n    #This for loop will download all the images from instagram and save them in the above path\n\n    timestamp_last_image=data[\"data\"][count-1][\"created_time\"]\n    flag=1\n    count=0\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5344640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf36d8cbae2a2e6f3ef7fb3e5fa1332?s=128&d=identicon&r=PG&f=1", "display_name": "ssh105", "link": "https://stackoverflow.com/users/5344640/ssh105"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5457, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1516004182, "creation_date": 1443641127, "question_id": 32874108, "link": "https://stackoverflow.com/questions/32874108/how-to-save-photos-using-instagram-api-and-python", "title": "How to save photos using instagram API and python", "body": "<p>I'm using the Instagram API to obtain photos taken at a particular location using the python 3 code below:</p>\n\n<pre><code>import urllib.request\n\nwp = urllib.request.urlopen(\"https://api.instagram.com/v1/media/search?lat=48.858844&amp;lng=2.294351&amp;access_token=\"ACCESS TOKEN\")\npw = wp.read()\nprint(pw)\n</code></pre>\n\n<p>This allows me to retrieve all the photos. I wanted to know how I can save these on my computer. </p>\n\n<p>An additional question I have is, is there any limit to the number of images returned by running the above? Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "sockets"], "comments": [{"owner": {"reputation": 6798, "user_id": 258564, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9641c9cbc9c51aca5340892140cc1bbc?s=128&d=identicon&r=PG", "display_name": "aschmid00", "link": "https://stackoverflow.com/users/258564/aschmid00"}, "edited": false, "score": 0, "creation_date": 1443640916, "post_id": 32873975, "comment_id": 53579663, "body": "how are you calling <code>connection_status</code> ? the error says you are calling the function with an additional argument but the function takes <code>self</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443641073, "post_id": 32873975, "comment_id": 53579731, "body": "@jonrsharpe no, I dont give any args."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 6798, "user_id": 258564, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9641c9cbc9c51aca5340892140cc1bbc?s=128&d=identicon&r=PG", "display_name": "aschmid00", "link": "https://stackoverflow.com/users/258564/aschmid00"}, "edited": false, "score": 0, "creation_date": 1443641076, "post_id": 32873975, "comment_id": 53579732, "body": "@aschmid00 ye, via self. Added to main post."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443641406, "post_id": 32873975, "comment_id": 53579902, "body": "@jonrsharpe I dont have more. I simply have button that call function, and in that function dont work right. And it outputs only this 1 error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443642516, "post_id": 32873975, "comment_id": 53580415, "body": "@jonrsharpe sorry, I forgot to add definition, I updated the main post. Also i dont have this comments in code, I just writed it here."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443642871, "post_id": 32873975, "comment_id": 53580561, "body": "@jonrsharpe sorry, all added to code, also i have night and im little bored so.. ye Im stupid sorry."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443643074, "post_id": 32873975, "comment_id": 53580641, "body": "@jonrsharpe ok and sorry, but you need first setup a socket connection before calling connection_status"}, {"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443643424, "post_id": 32873975, "comment_id": 53580789, "body": "Doesn&#39;t <code>self.master.after(1000, self.connection_status, self.master)</code> call self.connection_status with self.master as its argument?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443643596, "post_id": 32873975, "comment_id": 53580863, "body": "@multivac probably, it calls connection_status every 1000 to detect state"}, {"owner": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443643812, "post_id": 32873975, "comment_id": 53580971, "body": "Change it to <code>self.master.after(1000, self.connection_status)</code>. The 3rd argument is being passed to the function."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "reply_to_user": {"reputation": 146, "user_id": 5274539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f61b0fb124e7f4008703ee3f73db380?s=128&d=identicon&r=PG&f=1", "display_name": "multivac", "link": "https://stackoverflow.com/users/5274539/multivac"}, "edited": false, "score": 0, "creation_date": 1443644346, "post_id": 32873975, "comment_id": 53581237, "body": "@multivac tahnks! I tryied it before you post, but anyways thanks! But I got only 1 problem left: if I dont stream any data (keys for tv..) the status will change to disconnected and if I send data again it changes to connected..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "edited": false, "score": 0, "creation_date": 1443645896, "post_id": 32873975, "comment_id": 53581985, "body": "The timeout dont work... even if i turn off tv, still its connected..."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1443700446, "creation_date": 1443700446, "answer_id": 32886981, "question_id": 32873975, "link": "https://stackoverflow.com/questions/32873975/connection-status-function-gives-error-and-does-not-working-right/32886981#32886981", "title": "Connection status function gives error and does not working right", "body": "<p>You are calling <code>self.connection_status</code> with this line of code: </p>\n\n<pre><code>self.master.after(1000, self.connection_status, self.master)\n</code></pre>\n\n<p>That will result in the following function call:</p>\n\n<pre><code>self.connection_status(self.master)\n</code></pre>\n\n<p>However, <code>connection_status</code> doesn't accept any arguments other than <code>self</code> which is automatically added by python. That is why you are getting the error <code>connection_status() takes exactly 1 argument (2 given)</code>. <code>self</code> is the first argument, and <code>self.master</code> is the second argument, but the function is designed to accept only <code>self</code>.</p>\n\n<p>There is almost never a reason to pass an object attribute to another method of the same object, since that method has immediate access to those attributes. So, the simple solution is to remove the parameter from the <code>after</code> call:</p>\n\n<pre><code>self.master.after(1000, self.connection_status)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3578984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 32886981, "answer_count": 1, "score": 0, "last_activity_date": 1443700446, "creation_date": 1443640671, "last_edit_date": 1443643031, "question_id": 32873975, "link": "https://stackoverflow.com/questions/32873975/connection-status-function-gives-error-and-does-not-working-right", "title": "Connection status function gives error and does not working right", "body": "<p>This is part of my Python software to control Smart TV. I have function \"connection_status\".</p>\n\n<pre><code>import fcntl, socket, struct\nimport base64\nimport time, datetime\nimport netifaces\nfrom Tkinter import *\n\nroot = Tk()\nroot.title(\"Pepin's Samsung Smart TV Remote\")\nroot.geometry(\"391x595\") #391\n\nclass Application():\n    \"\"\"Pepin's Samsung Smart TV Remote\"\"\"\n\n    def __init__(self, master):\n\n        self.master = master\n        self.create_widgets()\n\n    def connection(self):\n\n        self.connection_status()\n\n\n    def connection_status(self): // this is the function that does not work right.\n\n        try:\n\n            connection_status = sock.recv(64)\n            print(\"Status: Connected\")\n            self.label_connection_status['text'] = 'Status: Connected'\n\n        except socket.timeout:\n\n            connection_status = \"\"\n            print(\"Status: Disconnected\")\n            self.label_connection_status['text'] = 'Status: Disconnected'\n\n        self.master.after(1000, self.connection_status, self.master)\n\n    def create_widgets(self):\n            btn_connect = Button(self.master, text = \"CONNECT TO TV\", width=19, height=2, command = lambda: self.connection()) \n\napp = Application(root)\nroot.mainloop()\n</code></pre>\n\n<p>But when i call the function, it outputs me this error:</p>\n\n<pre><code>Status: Connected\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1535, in __call__\n    return self.func(*args)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 586, in callit\n    func(*args)\nTypeError: connection_status() takes exactly 1 argument (2 given)\n</code></pre>\n\n<p>And even if TV disconnects, the status stay \"Connected\"!</p>\n"}, {"tags": ["python", "python-asyncio", "python-3.5"], "answers": [{"comments": [{"owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "edited": false, "score": 0, "creation_date": 1443642570, "post_id": 32874347, "comment_id": 53580437, "body": "Nice catch. I&#39;ll try this in a bit and report back. I know <code>asyncio</code> was marked as provisional in 3.4, but it seems strange they would break backwards compatibility over a parameter name. Would you happen to know why this change was made? I&#39;m assuming it wasn&#39;t a frivolous change."}, {"owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "reply_to_user": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "edited": false, "score": 0, "creation_date": 1443643069, "post_id": 32874347, "comment_id": 53580638, "body": "They break backwards compatibility for <code>asyncio</code> almost every release AFAIK. It&#39;s experimental and API is not stable yet. About why it was changed... <code>asyncio</code> is developed in separate repo and just merged into main <code>cpython</code> repo. According to source commit it was &quot;<a href=\"https://github.com/python/asyncio/commit/2798fb43af22c966a0c7ba15258a073cf651a3c2\" rel=\"nofollow noreferrer\">to avoid confusion</a>&quot;. Which makes sense, since it&#39;s a function to execute and not a callback."}, {"owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "edited": false, "score": 1, "creation_date": 1443643683, "post_id": 32874347, "comment_id": 53580915, "body": "I see. It also looks like the next release of Python 3.4 (3.4.4?) will include all these <code>asyncio</code> changes from 3.5, per the <a href=\"https://docs.python.org/3/whatsnew/3.5.html#asyncio\" rel=\"nofollow noreferrer\">3.5 release notes</a>. So when that happens, you could theoretically be compatible with both 3.5+ and 3.4.4+."}, {"owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "edited": false, "score": 1, "creation_date": 1443646821, "post_id": 32874347, "comment_id": 53582454, "body": "Thanks for <a href=\"https://bugs.python.org/issue25284\" rel=\"nofollow noreferrer\">reporting the docs issue</a> to the Python issue tracker."}], "tags": [], "owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "is_accepted": true, "score": 4, "last_activity_date": 1443690811, "last_edit_date": 1443690811, "creation_date": 1443642213, "answer_id": 32874347, "question_id": 32873974, "link": "https://stackoverflow.com/questions/32873974/baseeventloop-run-in-executor-throws-unexpected-keyword-argument-callback/32874347#32874347", "title": "BaseEventLoop.run_in_executor() throws &quot;unexpected keyword argument &#39;callback&#39;&quot; starting in Python 3.5", "body": "<p>Apparently the second parameter was <a href=\"https://github.com/python/cpython/commit/111610562141a46f1eaac64d497d79fe13290847#diff-08afa52ab2b1511bee8527814ad44d80L468\" rel=\"nofollow\">renamed</a> from <code>callback</code> to <code>func</code>, <s>but the change was not reflected in the docs</s> change is reflected in the docs as of 2015-10-01. That's why it fails.</p>\n\n<p>Either update it to the new name (and lose Python &lt;3.5 compatibility) or pass the parameters as positional ones:</p>\n\n<pre><code>task = loop.run_in_executor(None, functools.partial(...))\n</code></pre>\n"}], "owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "accepted_answer_id": 32874347, "answer_count": 1, "score": 2, "last_activity_date": 1443690811, "creation_date": 1443640663, "question_id": 32873974, "link": "https://stackoverflow.com/questions/32873974/baseeventloop-run-in-executor-throws-unexpected-keyword-argument-callback", "title": "BaseEventLoop.run_in_executor() throws &quot;unexpected keyword argument &#39;callback&#39;&quot; starting in Python 3.5", "body": "<p>I am running a function, <code>provision_ec2_node()</code>, via the default <code>asyncio</code> event loop <a href=\"https://docs.python.org/3.5/library/asyncio-eventloop.html#asyncio.BaseEventLoop.run_in_executor\" rel=\"nofollow\">thread executor</a>. The function takes a number of arguments which I pass to the executor via <code>functools.partial()</code>.</p>\n\n<pre><code>task = loop.run_in_executor(\n    executor=None,\n    callback=functools.partial(\n        provision_ec2_node,\n        modules=modules,\n        host=instance.ip_address,\n        identity_file=identity_file,\n        cluster_info=cluster_info))\n</code></pre>\n\n<p>This code works fine on Python 3.4, and I've been using it like this for several months.</p>\n\n<p>However, I recently upgraded to Python 3.5, and now the above code throws this error:</p>\n\n<pre><code>TypeError: run_in_executor() got an unexpected keyword argument 'callback'\n</code></pre>\n\n<p>Looking at the <a href=\"https://docs.python.org/3/whatsnew/3.5.html#asyncio\" rel=\"nofollow\">Python 3.5 release notes concerning <code>asyncio</code></a>, I don't see anything which explains this change of behavior. Furthermore, the 3.5 docs <a href=\"https://docs.python.org/3.5/library/asyncio-eventloop.html#asyncio-pass-keywords\" rel=\"nofollow\">still say</a> that <code>functools.partial()</code> is the correct way to pass a function with keywords to an executor.</p>\n\n<p>What gives?</p>\n"}, {"tags": ["python", "for-loop", "dictionary", "iteration"], "comments": [{"owner": {"reputation": 1, "user_id": 5382306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1970b0795ac3d0d5a35b398f406ef45b?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Verma", "link": "https://stackoverflow.com/users/5382306/shubham-verma"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443640583, "post_id": 32873854, "comment_id": 53579505, "body": "Actually I am able to iterate x and y values of a and b iterating key in x{} but I don&#39;t know how to print &quot;a&quot; and &quot;b&quot; in loop. What I am supposed to write in the first print statement so that print &quot;a&quot; and &quot;b&quot;."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1443640704, "post_id": 32873854, "comment_id": 53579560, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code and clear description of the problem with it"}], "answers": [{"tags": [], "owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "is_accepted": false, "score": 1, "last_activity_date": 1443640469, "creation_date": 1443640469, "answer_id": 32873935, "question_id": 32873854, "link": "https://stackoverflow.com/questions/32873854/python-iterating-dictionaries-with-for/32873935#32873935", "title": "Python: iterating dictionaries with for", "body": "<p>Just loop through the keys and print the corresponding values:</p>\n\n<pre><code>for key in x.iterkeys():\n    print key\n    print 'x:%d' % x[key]\n    print 'y:%d' % y[key]\n    print\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5387201, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208269327037293/picture?type=large", "display_name": "Calvin H. Chueh", "link": "https://stackoverflow.com/users/5387201/calvin-h-chueh"}, "is_accepted": false, "score": 1, "last_activity_date": 1443640608, "creation_date": 1443640608, "answer_id": 32873962, "question_id": 32873854, "link": "https://stackoverflow.com/questions/32873854/python-iterating-dictionaries-with-for/32873962#32873962", "title": "Python: iterating dictionaries with for", "body": "<pre><code>for i in list(your_dict.values()):\n    print i\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5382306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1970b0795ac3d0d5a35b398f406ef45b?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Verma", "link": "https://stackoverflow.com/users/5382306/shubham-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1443642469, "creation_date": 1443640151, "last_edit_date": 1443642469, "question_id": 32873854, "link": "https://stackoverflow.com/questions/32873854/python-iterating-dictionaries-with-for", "title": "Python: iterating dictionaries with for", "body": "<p>suppose  I have two dictionaries </p>\n\n<pre><code>x = {'a': 5, 'b': 4} \ny = {'a': 8, 'b': 3}\n</code></pre>\n\n<p>and I want to print 'x' and 'y' values for 'a' and 'b' by mentioning that those 'x' and 'y' values are for <code>a</code> and <code>b</code> using for loop. How can I do that? I am beginner please help me with the syntax here.</p>\n\n<p>It should be like</p>\n\n<pre><code>a\nx:5\ny:8\n\nb\nx:4\ny:3\n</code></pre>\n"}, {"tags": ["python", "plot", "gaussian"], "answers": [{"tags": [], "owner": {"reputation": 954, "user_id": 4987131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4waYJ.jpg?s=128&g=1", "display_name": "Rick M", "link": "https://stackoverflow.com/users/4987131/rick-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1443641327, "creation_date": 1443641327, "answer_id": 32874159, "question_id": 32873814, "link": "https://stackoverflow.com/questions/32873814/trouble-with-normal-distribution/32874159#32874159", "title": "trouble with normal distribution", "body": "<p>Try plt.plot(X,GAUS) instead.  By not specifying the x-axis, it's just running from 0 to 50 (i.e., the length of the array).</p>\n"}], "owner": {"reputation": 233, "user_id": 5390753, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bd07678918875daf1c3408d6d8d93420?s=128&d=identicon&r=PG&f=1", "display_name": "Sylvain", "link": "https://stackoverflow.com/users/5390753/sylvain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 32874159, "answer_count": 1, "score": 1, "last_activity_date": 1443641327, "creation_date": 1443640032, "last_edit_date": 1443640608, "question_id": 32873814, "link": "https://stackoverflow.com/questions/32873814/trouble-with-normal-distribution", "title": "trouble with normal distribution", "body": "<p>I have code to plot a gaussian distribution but it is not centered on 0 as it should be:</p>\n\n<pre><code>def gaussn(x):\n    return 1/(np.sqrt(2*np.pi))*np.exp(-0.5*x**2)\n\nX=np.linspace(-5,5)\nGAUS=gaussn(X)\nplt.plot(GAUS)\n</code></pre>\n\n<p>Why it is centered on 25 and not 0?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 3, "creation_date": 1443640189, "post_id": 32873813, "comment_id": 53579333, "body": "I think you want to compare <code>p.answer_text</code> and <code>selected_choice.choice_text</code>."}, {"owner": {"reputation": 920, "user_id": 5380429, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-euCKL3OsdNI/AAAAAAAAAAI/AAAAAAAAAA4/DhoXnoeEixQ/photo.jpg?sz=128", "display_name": "Shivam Mitra", "link": "https://stackoverflow.com/users/5380429/shivam-mitra"}, "reply_to_user": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 0, "creation_date": 1443640349, "post_id": 32873813, "comment_id": 53579403, "body": "That worked. Thanks :)"}], "owner": {"reputation": 920, "user_id": 5380429, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-euCKL3OsdNI/AAAAAAAAAAI/AAAAAAAAAA4/DhoXnoeEixQ/photo.jpg?sz=128", "display_name": "Shivam Mitra", "link": "https://stackoverflow.com/users/5380429/shivam-mitra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443640032, "creation_date": 1443640032, "question_id": 32873813, "link": "https://stackoverflow.com/questions/32873813/database-query-in-django", "title": "Database query in django", "body": "<p>I am creating a simple quiz app using django. When a user submits the answer for a question, the answer is checked using the correct answer present in database.</p>\n\n<p>views.py </p>\n\n<pre><code>from django.shortcuts import render,get_object_or_404\nfrom .models import question\nfrom django.http import HttpResponseRedirect, HttpResponse\nfrom django.core.urlresolvers import reverse\n\ndef detail(request, question_id):\n    ques = get_object_or_404(question, pk=question_id)\n    return render(request, 'detail.html', {'ques': ques})\n\ndef index(request):\n    questions = question.objects.all()\n    return render(request,\"question.html\",{\"questions\":questions})\n\ndef vote(request,question_id):\n    p = get_object_or_404(question, pk=question_id)\n    selected_choice = p.choice_set.get(pk = request.POST['choice'])\n    print selected_choice,p.answer_text\n    if(selected_choice == p.answer_text):\n        print \"yes\"\n    x = int(question_id) + 1\n    return HttpResponseRedirect(reverse('detail', args=(str(x))))\n</code></pre>\n\n<p>The vote function is called after user clicks the submit button. The check is performed here. When I print selected_choice and p.answer_text, they show correct values. But when I compare them using equal operator, it doesn't return true even when both are same.</p>\n\n<pre><code>models.py\n    from django.db import models\n\n    class question(models.Model):\n        question_text = models.CharField(max_length = 400)\n        answer_text = models.CharField(max_length = 400,default = \"name\")\n        def __unicode__(self):\n            return self.question_text,self.answer_text\n    class choice(models.Model):\n        question = models.ForeignKey(question)\n        choice_text = models.CharField(max_length = 200)\n        def __unicode__(self):\n            return self.choice_text\n</code></pre>\n"}, {"tags": ["python", "string", "python-2.7", "variables"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 2, "creation_date": 1443640156, "post_id": 32873802, "comment_id": 53579320, "body": "Use a single list instead of multiple variables."}, {"owner": {"reputation": 89, "user_id": 4730834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98df625e3b1ef71f5f8fc21ccf62d6ea?s=128&d=identicon&r=PG", "display_name": "J. da Silva", "link": "https://stackoverflow.com/users/4730834/j-da-silva"}, "edited": false, "score": 0, "creation_date": 1443640209, "post_id": 32873802, "comment_id": 53579343, "body": "Is there any reason you can&#39;t use a list with both strings at separate indices and use the index as the switch?"}], "answers": [{"tags": [], "owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "is_accepted": false, "score": 0, "last_activity_date": 1443640191, "creation_date": 1443640191, "answer_id": 32873868, "question_id": 32873802, "link": "https://stackoverflow.com/questions/32873802/declare-a-string-a-variable-in-python/32873868#32873868", "title": "Declare a string a variable in python", "body": "<p>Instead of having two variables, you can store the variables in a dictionary, with variable name as the key.</p>\n\n<pre><code>vars = {\n    'mri1_tasks': 0,\n    'mri2_tasks': 1,\n}\n\nnum = 1\nprint vars['mri%d_tasks'%num]\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 2084734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c67bd40b2f0a99ae06b0d5b0eb52446?s=128&d=identicon&r=PG", "display_name": "G Warner", "link": "https://stackoverflow.com/users/2084734/g-warner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "closed_date": 1443640249, "answer_count": 1, "score": 0, "last_activity_date": 1443640191, "creation_date": 1443639988, "question_id": 32873802, "link": "https://stackoverflow.com/questions/32873802/declare-a-string-a-variable-in-python", "closed_reason": "Duplicate", "title": "Declare a string a variable in python", "body": "<p>My code has variables <code>mri1_tasks</code> and <code>mri2_tasks</code>. Is there a function to have python interpret <code>'mri%d_tasks'%num</code> (where <code>num</code> is equal to either 1 or 2) as the stored value of <code>mri1_tasks</code> or <code>mri2_tasks</code> based on the value of <code>num</code>?</p>\n"}, {"tags": ["python", "dictionary", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1443640326, "post_id": 32873760, "comment_id": 53579388, "body": "Technically speaking, you have a <i>dictionary comprehension</i>, not a list comprehension."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1443640560, "last_edit_date": 1443640560, "creation_date": 1443640069, "answer_id": 32873827, "question_id": 32873760, "link": "https://stackoverflow.com/questions/32873760/creating-a-dict-with-dictionary-comprehension-and-eval-gives-me-nameerror/32873827#32873827", "title": "Creating a dict with dictionary comprehension and eval() gives me NameError", "body": "<p>A dictionary comprehension is executed in a <em>new scope</em>, a lot like a nested function call. You cannot expect to access the locals of the parent scope in a list comprehension.</p>\n\n<p>I strongly recommend you do not use locals like this. Create a separate dictionary to act as a namespace and look up your columns in that:</p>\n\n<pre><code>namespace = {\n    'zeta': value_for_zeta,\n    # ... etc.\n}\n</code></pre>\n\n<p>then use <code>{col: [namespace[col]] for col in columns}</code>.</p>\n\n<p>Failing that, you can store the <code>locals()</code> dictionary in a new variable and reference that; either directly, or through passing it in as the namespace for <code>eval()</code>:</p>\n\n<pre><code>namespace = locals()\ndic = {col: [eval(col, namespace)] for col in columns}\n</code></pre>\n\n<p>or simply:</p>\n\n<pre><code>namespace = locals()\ndic = {col: [namespace[col]] for col in columns}\n</code></pre>\n\n<p>This works now because <code>namespace</code> is a <em>closure</em>; a name taken from the parent scope.</p>\n\n<p>Note that the same limits apply to generator expressions, set comprehensions, and in Python 3, list comprehensions. Python 2 list comprehensions were implemented before all the other types and followed a different implementation strategy that did not involve a new scope, but this approach did not allow for generator expressions to work and the new approach with a separate scope was generally found to work better.</p>\n"}], "owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 32873827, "answer_count": 1, "score": 4, "last_activity_date": 1443640560, "creation_date": 1443639830, "last_edit_date": 1443640246, "question_id": 32873760, "link": "https://stackoverflow.com/questions/32873760/creating-a-dict-with-dictionary-comprehension-and-eval-gives-me-nameerror", "title": "Creating a dict with dictionary comprehension and eval() gives me NameError", "body": "<p>I am trying to create a dictionary with dictionary comprehensions in the following way (which is part of a much larger code)</p>\n\n<pre><code>columns = ['zeta', 'Lm', 'u_mean']\nprint('zeta', eval('zeta'))\nprint(locals())\ndic = {col: [eval(col)] for col in columns}\n</code></pre>\n\n<p>The first <code>print</code> prints exactly as expected (the value of the variable <code>zeta</code>) and the second <code>print</code> confirms that <code>zeta</code> is in the locals dictionary, but in the dictionary comprehension command python fails with this error</p>\n\n<pre><code>NameError: name 'zeta' is not defined\n</code></pre>\n\n<p>Unfortunately, when trying to reproduce to error in order to post here, I found out that I can't reproduce the error, because the following commands work in <code>ipython</code>:</p>\n\n<pre><code>zeta,Lm,u_mean=1,4,69\ncolumns=['zeta', 'Lm', 'u_mean']\nprint('zeta',eval('zeta'))\nprint(locals())\ndic={ col : [eval(col)] for col in columns }\n</code></pre>\n\n<p>It is only those commands inside my code that do not work.\nSo, am I missing something? Is there some test I can do to see what's wrong?</p>\n"}, {"tags": ["python", "excel", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443680371, "post_id": 32876992, "comment_id": 53591804, "body": "Hey Andy, Based of the code you gave me: I tried to print out df[&quot;kWh&quot;] value to see if it printed out the right date value according to the date range. But all i get is NaN for all values. What can i do to resolve this?"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443684263, "post_id": 32876992, "comment_id": 53593919, "body": "@Techno04335 ensure all the date columns are parsed as pandas datetime64/Timestamp columns (rather than strings)."}, {"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443698467, "post_id": 32876992, "comment_id": 53602276, "body": "I have checked that after running the code the files are written at a datetime64/Timestamp for example from sheet 1 : &#39;2011-07-06&#39;  is changed to &#39;2011-07-06 00:00:00&#39;"}, {"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443725333, "post_id": 32876992, "comment_id": 53618751, "body": "I am still having the columns on the kWh being empty"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443727964, "post_id": 32876992, "comment_id": 53620146, "body": "@Techno04335 my example code is above is actual code which runs. If you put the output of df.to_json into pastebin I&#39;ll try and take a look later."}, {"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443729218, "post_id": 32876992, "comment_id": 53620804, "body": "I have added my code to the question so that you can see my implementation. Thanks."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443732464, "post_id": 32876992, "comment_id": 53622478, "body": "@Techno04335 this is hard to diagnose without the actual data, that&#39;s why I mentioned to_json. I suspect this is due to dates not being parsed."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443732514, "post_id": 32876992, "comment_id": 53622502, "body": "@Techno04335 ah, you need to make sure you do <code>df2[&quot;Start Date&quot;] = pd.to_datetime(df2[&quot;Start Date&quot;], format=&quot;%m&#47;%d&#47;%Y&quot;)</code> same as for df1."}, {"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443898164, "post_id": 32876992, "comment_id": 53678827, "body": "I am still getting &#39;NaN&#39; utilizing     &#39; df2[&quot;Start Date&quot;] = pd.to_datetime(df2[&quot;Start Date&quot;], format=&quot;%m/%d/%Y&quot;)&#39;   and df1[&quot;Date&quot;] = pd.to_datetime(df2[&quot;Start Date&quot;], format=&quot;%m/%d/%Y&quot;)"}, {"owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "edited": false, "score": 0, "creation_date": 1443925636, "post_id": 32876992, "comment_id": 53684932, "body": "Found the solution, Thanks for you help! <a href=\"http://stackoverflow.com/questions/32923087/how-to-parse-dates-for-comparison-time-range-comparison-for-specific-value/32927204#32927204\">link</a>"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1443654739, "creation_date": 1443654739, "answer_id": 32876992, "question_id": 32873739, "link": "https://stackoverflow.com/questions/32873739/how-to-compare-dates-from-excel-sheets-for-value-filling-purposes-on-python/32876992#32876992", "title": "How to compare dates from Excel sheets for value filling purposes on python", "body": "<p>It's critical to parse the date columns as pandas Timestamps/ numpy datetime64. The best way is to use to_datetime with a format.</p>\n\n<pre><code>    In [11]: df\n    Out[11]:\n        DATE  TMAX  TMIN\n0   20110706   317   211\n1   20110707   322   211\n2   20110708   317   211\n3   20110709   322   211\n4   20110710   328   222\n5   20110711   333   244\n6   20110712   356   250\n7   20110713   356   222\n8   20110801   344   228\n9   20110802   356   200\n10  20110803   367   200\n11  20110804   361   228\n\nIn [12]: df[\"DATE\"] = pd.to_datetime(df[\"DATE\"], format=\"%Y%m%d\")\n\nIn [13]: df\nOut[13]:\n         DATE  TMAX  TMIN\n0  2011-07-06   317   211\n1  2011-07-07   322   211\n2  2011-07-08   317   211\n3  2011-07-09   322   211\n4  2011-07-10   328   222\n5  2011-07-11   333   244\n6  2011-07-12   356   250\n7  2011-07-13   356   222\n8  2011-08-01   344   228\n9  2011-08-02   356   200\n10 2011-08-03   367   200\n11 2011-08-04   361   228\n</code></pre>\n\n<p>Similarly (with a different format):</p>\n\n<pre><code>In [14]: pd.to_datetime(df2[\"Start Date\"], format=\"%m/%d/%Y\")\nOut[14]:\n0   2011-07-06\n1   2011-08-03\nName: Start Date, dtype: datetime64[ns]\n</code></pre>\n\n<hr>\n\n<p>Now, the first observation is that this wouldn't make sense if the periods were not mutually exclusive. This means we only need consider the start date*.</p>\n\n<p>This means you can reindex the seconds sheet, forward fill, and you're done:</p>\n\n<pre><code>In [21]: df3 = df2.set_index(\"Start Date\")\n\nIn [22]: df3\nOut[22]:\n            End Date Rep Month      Cost     kWh   kW\nStart Date\n2011-07-06  8/3/2011      July  5,065.17  76,640  205\n2011-08-03  9/7/2011    August  5,572.38  86,640  195\n</code></pre>\n\n<p>This allows you to reindex by the dates from your DataFrame:</p>\n\n<pre><code>In [23]: df3[\"kWh\"].reindex(df[\"DATE\"], method=\"ffill\")\nOut[23]:\nDATE\n2011-07-06    76,640\n2011-07-07    76,640\n2011-07-08    76,640\n2011-07-09    76,640\n2011-07-10    76,640\n2011-07-11    76,640\n2011-07-12    76,640\n2011-07-13    76,640\n2011-08-01    76,640\n2011-08-02    76,640\n2011-08-03    86,640\n2011-08-04    86,640\nName: kWh, dtype: object\n</code></pre>\n\n<p>and set this as the column in df.</p>\n\n<pre><code>In [24]: df[\"kWh\"] = df3[\"kWh\"].reindex(df[\"DATE\"], method=\"ffill\")\n</code></pre>\n\n<p>*If there are some \"empty\" periods we could add in some NaN rows, with the corresponding \"empty\" start-date.</p>\n"}], "owner": {"reputation": 1119, "user_id": 4805305, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MAVki.jpg?s=128&g=1", "display_name": "Techno04335", "link": "https://stackoverflow.com/users/4805305/techno04335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 0, "accepted_answer_id": 32876992, "answer_count": 1, "score": 2, "last_activity_date": 1443898327, "creation_date": 1443639739, "last_edit_date": 1443898327, "question_id": 32873739, "link": "https://stackoverflow.com/questions/32873739/how-to-compare-dates-from-excel-sheets-for-value-filling-purposes-on-python", "title": "How to compare dates from Excel sheets for value filling purposes on python", "body": "<p>I have an excel file with 2 sheets. </p>\n\n<p>one sheet containing the data:</p>\n\n<pre><code>DATE       TMAX TMIN\n20110706    317 211\n20110707    322 211\n20110708    317 211\n20110709    322 211\n20110710    328 222\n20110711    333 244\n20110712    356 250\n20110713    356 222\n</code></pre>\n\n<p>and the other sheet includes:</p>\n\n<pre><code>Start Date  End Date    Rep Month    Cost    kWh     kW \n7/6/2011    8/3/2011    July     5,065.17    76,640      205 \n8/3/2011    9/7/2011    August   5,572.38    86,640      195 \n</code></pre>\n\n<p>My goal is to write another column on sheet one (kwh) from sheet two depending on if the date on sheet one falls within the range of a certain kWh.</p>\n\n<p>For An Example: </p>\n\n<pre><code>DATE        TMAX    TMIN    kWh\n20110706    317   211   76640\n20110707    322   211   76640\n20110708    317   211   76640\n20110709    322   211   76640\n20110710    328   222   76640\n20110711    333   244   76640\n20110712    356   250   76640\n20110713    356   222   76640\n20110801    344   228   76640\n20110802    356   200   76640\n20110803    367   200   86640\n20110804    361   228   86640\n</code></pre>\n\n<p>I am having trouble figuring out how to do a kind of algorithmic parsing to be able to implement what I am trying to do.</p>\n\n<p>I am already familiar with how to write to a file an read a file/cells with pandas. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>import pandas as pd\nfrom pandas import ExcelWriter\n\ndf = pd.read_excel(\"thecddhddtest.xlsx\",'Sheet1')\ndf2 = pd.read_excel(\"thecddhddtest.xlsx\",'Sheet2')\ndf.head()\n\n\ndf[\"DATE\"] = pd.to_datetime(df[\"DATE\"], format=\"%Y%m%d\")\npd.to_datetime(df2[\"Start Date\"], format=\"%m/%d/%Y\")\n\ndf3 = df2.set_index(\"Start Date\")\n\n\ndf3[\"kWh\"].reindex(df[\"DATE\"], method=\"ffill\")\ndf[\"kWh\"] = df3[\"kWh\"].reindex(df[\"DATE\"], method=\"ffill\")\nprint(df[\"kWh\"])\n\n\nwriter = ExcelWriter('thecddhddtestkWh.xlsx')\ndf.to_excel(writer,'Sheet1',index=False)\ndf2.to_excel(writer,'Sheet2',index=False)\nwriter.save()\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>DATE       TMAX TMIN kWh\n20110706    317 211\n20110707    322 211\n20110708    317 211\n20110709    322 211\n20110710    328 222\n20110711    333 244\n20110712    356 250\n20110713    356 222\n</code></pre>\n\n<p>kWh cell is empty for some reason</p>\n"}, {"tags": ["python", "ios", "iphone", "itunes", "backups"], "comments": [{"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1443639889, "post_id": 32873664, "comment_id": 53579204, "body": "I don&#39;t see how your question is related to a <i>programming problem</i>. What iTunes does should be probably asked on Ask Different or Super User."}, {"owner": {"reputation": 155, "user_id": 5064024, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/011065c96603005e94145f82ac77d44b?s=128&d=identicon&r=PG&f=1", "display_name": "utt50", "link": "https://stackoverflow.com/users/5064024/utt50"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1443641456, "post_id": 32873664, "comment_id": 53579927, "body": "Well, I&#39;m hoping to understand how to work with these backup files, from someone who has experience extracting files from iTunes backups. I could write a bash script to touch the files, but I need to know if the data exists in the first place."}], "owner": {"reputation": 155, "user_id": 5064024, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/011065c96603005e94145f82ac77d44b?s=128&d=identicon&r=PG&f=1", "display_name": "utt50", "link": "https://stackoverflow.com/users/5064024/utt50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443639467, "creation_date": 1443639467, "question_id": 32873664, "link": "https://stackoverflow.com/questions/32873664/do-itunes-backups-store-file-modification-times", "title": "Do iTunes backups store file modification times?", "body": "<p>I have an iPhone. With a USB connection, I can use tools such as Macroplant iExplorer or Apple's Image Capture to transfer files from the iPhone to my computer. When I transfer files over USB, the file modification times are preserved.</p>\n\n<pre><code>crisp:test2 work$ stat -F IMG_3134.jpg\n-rw------- 1 work staff 2039650 Jun  7 11:21:38 2015 IMG_3134.jpg\n</code></pre>\n\n<p>I also have many old iTunes backups, which iTunes stores here:</p>\n\n<p>~/Library/Application Support/MobileSync/Backup</p>\n\n<p>iTunes encodes the backups using some voodoo, and so tools such as iPhone Backup Extractor or the python tools by Padraig Kennedy (<a href=\"http://supercrazyawesome.com\" rel=\"nofollow\">http://supercrazyawesome.com</a>) are required to unpack the system files from the backup archive.</p>\n\n<p>The files these tools produce do not preserve file modification times, because as they unpack the archives, they create new files.</p>\n\n<pre><code>crisp:test2 work$ stat -F IMG_3796.JPG\n-rw------- 1 work staff 942653 Sep 25 17:31:33 2015 IMG_3796.JPG\n</code></pre>\n\n<p>My question is, does iTunes preserve file modification times in these backup archives, either in the archive itself, or in some sort of database? Is it a shortcoming of these tools that they do not preserve/restore the timestamps? Is there a way to extract the mdbackup files that preserves this data?</p>\n"}, {"tags": ["python", "c++", "design-patterns"], "comments": [{"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1443639757, "post_id": 32873650, "comment_id": 53579137, "body": "Do you mean this <a href=\"https://pypi.python.org/pypi/lazy\" rel=\"nofollow noreferrer\"><code>lazy</code> package</a> and this <a href=\"http://pythonhosted.org/lazy/#lazy.lazy\" rel=\"nofollow noreferrer\"><code>lazy</code> decorator</a> ?"}, {"owner": {"reputation": 11, "user_id": 4032227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UBItefiNm_Y/AAAAAAAAAAI/AAAAAAAAAIE/7kbgYqPKr74/photo.jpg?sz=128", "display_name": "Alexander Steshenko", "link": "https://stackoverflow.com/users/4032227/alexander-steshenko"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1443640009, "post_id": 32873650, "comment_id": 53579249, "body": "Hi Bakuriu, yep decorator. Example: class lazy(object):         def __init__(self, function):                 self._function = function          def __get__(self, instance, owner = None):                 if instance == None:                         return self                 val = self._function(instance)                 setattr(instance, self._function.func_name, val)                 return val"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1443642668, "post_id": 32873650, "comment_id": 53580470, "body": "It isn&#39;t clear what your specific problem is."}, {"owner": {"reputation": 11, "user_id": 4032227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UBItefiNm_Y/AAAAAAAAAAI/AAAAAAAAAIE/7kbgYqPKr74/photo.jpg?sz=128", "display_name": "Alexander Steshenko", "link": "https://stackoverflow.com/users/4032227/alexander-steshenko"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1443643515, "post_id": 32873650, "comment_id": 53580831, "body": "@n.m. hi. Ok, sorry for bad explanation. I want don`t create object while it not need. I stored raw data which transfer into constructor but not immediately. While object not need it just storaged (lazy) for create object in future and data for transfer in constructor. I want create objects to demand. How implement this on Python I know but C++ porting difficult for me."}, {"owner": {"reputation": 11, "user_id": 4032227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UBItefiNm_Y/AAAAAAAAAAI/AAAAAAAAAIE/7kbgYqPKr74/photo.jpg?sz=128", "display_name": "Alexander Steshenko", "link": "https://stackoverflow.com/users/4032227/alexander-steshenko"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1443643744, "post_id": 32873650, "comment_id": 53580939, "body": "@Bakuriu yep how decorator."}, {"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1443674978, "post_id": 32873650, "comment_id": 53589979, "body": "you mean something like this ??:<a href=\"http://stackoverflow.com/questions/21252296/lazy-initialization-with-singleton-pattern\" title=\"lazy initialization with singleton pattern\">stackoverflow.com/questions/21252296/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 4032227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UBItefiNm_Y/AAAAAAAAAAI/AAAAAAAAAIE/7kbgYqPKr74/photo.jpg?sz=128", "display_name": "Alexander Steshenko", "link": "https://stackoverflow.com/users/4032227/alexander-steshenko"}, "reply_to_user": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1443697030, "post_id": 32873650, "comment_id": 53601431, "body": "@basav thanks for answer maybe this is solution of my problem."}], "owner": {"reputation": 11, "user_id": 4032227, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UBItefiNm_Y/AAAAAAAAAAI/AAAAAAAAAIE/7kbgYqPKr74/photo.jpg?sz=128", "display_name": "Alexander Steshenko", "link": "https://stackoverflow.com/users/4032227/alexander-steshenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443639721, "creation_date": 1443639404, "last_edit_date": 1495542572, "question_id": 32873650, "link": "https://stackoverflow.com/questions/32873650/lazy-evaluation-with-pair-factory-in-c", "title": "Lazy evaluation with pair factory in C++", "body": "<p>I'm trying to implement <code>lazy</code> in C++ like in this Python example using decorators:</p>\n\n<pre><code>@lazy\n@factory(Category)\ndef func(self):\n    return self.__raw_data  # for building object include object type and **params\n</code></pre>\n\n<p>I found <a href=\"http://bartoszmilewski.com/2014/04/21/getting-lazy-with-c/\" rel=\"nofollow noreferrer\">Getting Lazy with C++</a> and <a href=\"https://stackoverflow.com/questions/414243/lazy-evaluation-in-c\">Lazy evaluation in C++</a> post but they haven't helped me. I don't understand how implement the lazy.</p>\n"}, {"tags": ["python", "django", "unit-testing"], "answers": [{"comments": [{"owner": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "edited": false, "score": 0, "creation_date": 1443640015, "post_id": 32873756, "comment_id": 53579251, "body": "Okay...is there an easy way to make it run that code on that instance?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "edited": false, "score": 0, "creation_date": 1443641231, "post_id": 32873756, "comment_id": 53579803, "body": "Yes: don&#39;t use a mock."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1443639818, "creation_date": 1443639818, "answer_id": 32873756, "question_id": 32873646, "link": "https://stackoverflow.com/questions/32873646/mock-instance-isnt-using-property-code/32873756#32873756", "title": "Mock instance isn&#39;t using property code", "body": "<p>No, why would you think that? The whole point of a mock is that it replaces the object with a fake version. That fake version can't - and shouldn't - run any of the code in the actual class.</p>\n"}, {"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1443642861, "creation_date": 1443642861, "answer_id": 32874507, "question_id": 32873646, "link": "https://stackoverflow.com/questions/32873646/mock-instance-isnt-using-property-code/32874507#32874507", "title": "Mock instance isn&#39;t using property code", "body": "<p>As Daniel says in his answer, you don't need to use a mock object here, just create an instance of the model (you don't even need to save it to the database in this case). Then access the property, and check that it gives the required output.</p>\n\n<pre><code>def test_sum(self):\n    my_model = MyModel(field_one=1,\n                       field_two=2,\n                       field_three=3,\n                       )\n    self.assertEqual(my_model.sum, 6)\n</code></pre>\n"}], "owner": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 32874507, "answer_count": 2, "score": 0, "last_activity_date": 1443642861, "creation_date": 1443639386, "last_edit_date": 1443640227, "question_id": 32873646, "link": "https://stackoverflow.com/questions/32873646/mock-instance-isnt-using-property-code", "title": "Mock instance isn&#39;t using property code", "body": "<p>I have some Django models I need some unit test coverage on and in doing so I mock out some instances of them.  Here is an example class I want coverage of</p>\n\n<pre><code>class MyMixin(object):\n    @property\n    def sum(self):\n        return field_one + field_two + field_three\n\nclass MyModel(Model, MyMixin):\n\n    field_one = IntegerField()\n    field_two = IntegerField()\n    field_three = IntegerField()\n</code></pre>\n\n<p>So I can mock out an instance of it like so:</p>\n\n<pre><code>mock_inst = mock.Mock(spec=MyModel, field_one=1, field_two=2, field_3=3)\n</code></pre>\n\n<p>However when I go to execute <code>mock_inst.sum</code>, it doesn't execute the code properly, it gives me something from the mock class.  <strike>Shouldn't it execute the code given the spec in the instance?</strike>  Is there a way to dictate to the mock that I want it to execute that code (or any other code)?</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1443639332, "post_id": 32873612, "comment_id": 53578926, "body": "This is very basic; a quick google already points to a tutorial: <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1443639390, "post_id": 32873612, "comment_id": 53578965, "body": "All you need is to open a file object and replace <code>print</code> with <code>fileobj.write(&#39;&#39;.join(i) + &#39;\\n&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1443639375, "creation_date": 1443639375, "answer_id": 32873642, "question_id": 32873612, "link": "https://stackoverflow.com/questions/32873612/saving-output-in-python/32873642#32873642", "title": "Saving output in python", "body": "<p>You can <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow\"><code>open</code></a> the file in write mode and just use <code>fileobject.write</code> method to write your permutations to the file :</p>\n\n<pre><code>with open('file_name.txt','w') as f:\n    res = itertools.permutations('abcdefghijklmnopqrstuvwxyz',5) # 5 is the length of the result. \n    for i in res: \n       f.write(''.join(i)+'\\n') \n</code></pre>\n"}], "owner": {"reputation": 774, "user_id": 3033268, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000339281013/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/3033268/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 1, "closed_date": 1443639417, "accepted_answer_id": 32873642, "answer_count": 1, "score": -1, "last_activity_date": 1443639375, "creation_date": 1443639272, "question_id": 32873612, "link": "https://stackoverflow.com/questions/32873612/saving-output-in-python", "closed_reason": "Duplicate", "title": "Saving output in python", "body": "<p>I have this code:</p>\n\n<pre><code>import itertools\nres = itertools.permutations('abcdefghijklmnopqrstuvwxyz',5) # 5 is the length of the result. \nfor i in res: \n   print ''.join(i)\n</code></pre>\n\n<p>I need the result in stead of being printed <code>print ''.join(i)</code> to be saved in a .txt file.</p>\n\n<p>I am not familiar with python. Thank you for your time!</p>\n"}, {"tags": ["python", "json", "slack-api"], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 3044073, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2a9e360c9231166846ce4cef8d0645c?s=128&d=identicon&r=PG&f=1", "display_name": "boristhescot", "link": "https://stackoverflow.com/users/3044073/boristhescot"}, "is_accepted": false, "score": 0, "last_activity_date": 1443642973, "creation_date": 1443642973, "answer_id": 32874540, "question_id": 32873592, "link": "https://stackoverflow.com/questions/32873592/listen-for-an-event-on-python-and-parse-though-the-data/32874540#32874540", "title": "Listen for an event on python and parse though the data", "body": "<p>So for some direction, when you import a json object, you can use it as you would any other dictionary object. So looking for a \"message\" you would look for it as [\"type\"] and check for values.</p>\n"}, {"comments": [{"owner": {"reputation": 18769, "user_id": 965146, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vSVWj.jpg?s=128&g=1", "display_name": "Shree", "link": "https://stackoverflow.com/users/965146/shree"}, "edited": false, "score": 1, "creation_date": 1526882375, "post_id": 50442792, "comment_id": 87899464, "body": "Please don&#39;t just post some tool or library as an answer. At least demonstrate <a href=\"http://meta.stackoverflow.com/a/251605\">how it solves the problem</a> in the answer itself."}], "tags": [], "owner": {"reputation": 21, "user_id": 2419377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115fc5f5216bcd13aad6ec2ede6c150c?s=128&d=identicon&r=PG", "display_name": "hanzhichao2000", "link": "https://stackoverflow.com/users/2419377/hanzhichao2000"}, "is_accepted": false, "score": -1, "last_activity_date": 1526885845, "last_edit_date": 1526885845, "creation_date": 1526882266, "answer_id": 50442792, "question_id": 32873592, "link": "https://stackoverflow.com/questions/32873592/listen-for-an-event-on-python-and-parse-though-the-data/50442792#50442792", "title": "Listen for an event on python and parse though the data", "body": "<p><a href=\"https://pypi.org/project/ijson\" rel=\"nofollow noreferrer\">ijson</a> (available through pip) might be helpful, which is a python wrapper for <a href=\"https://lloyd.github.io/yajl\" rel=\"nofollow noreferrer\">yacl</a> (available through conda)</p>\n\n<p>Example</p>\n\n<pre><code>import ijson\n\nparser = ijson.parse(urlopen('http://.../'))\nstream.write('&lt;geo&gt;')\nfor prefix, event, value in parser:\n    if (prefix, event) == ('earth', 'map_key'):\n        stream.write('&lt;%s&gt;' % value)\n        continent = value\n    elif prefix.endswith('.name'):\n        stream.write('&lt;object name=\"%s\"/&gt;' % value)\n    elif (prefix, event) == ('earth.%s' % continent, 'end_map'):\n        stream.write('&lt;/%s&gt;' % continent)\nstream.write('&lt;/geo&gt;')\n</code></pre>\n"}], "owner": {"reputation": 1621, "user_id": 3749035, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/59130f2341d04f0ba8450acf59acfec2?s=128&d=identicon&r=PG&f=1", "display_name": "AnMaree", "link": "https://stackoverflow.com/users/3749035/anmaree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 840, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526885845, "creation_date": 1443639192, "last_edit_date": 1443640502, "question_id": 32873592, "link": "https://stackoverflow.com/questions/32873592/listen-for-an-event-on-python-and-parse-though-the-data", "title": "Listen for an event on python and parse though the data", "body": "<p>I am a designer, and have been given an potentially impossible task to learn python, like right now, from my boss.</p>\n\n<p>Currently I have a python script that has connected a websocket between Slack and our server that retrieves json data that is sent to a user bot on Slack.</p>\n\n<p>here is the code:</p>\n\n<pre><code>from django.core.management.base import BaseCommand\nfrom websocket import create_connection\nimport requests\nimport json\nimport sys\n\nclass Command(BaseCommand):\n\n    def handle(self, *args, **kwargs):\n        url = (json.loads(requests.get(\"https://slack.com/api/rtm.start?token=xxxxxxx\").content))['url']\n        s = create_connection(url)\n        s.sock.setblocking(0)\n        while True:\n            try:\n                print s.recv()\n                #self.stdout.write(\"{}\\n\").format(s.recv())\n            except (KeyboardInterrupt, SystemExit):\n                sys.exit()\n                raise\n            except:\n                continue\n\nc = Command()\nc.handle()\n</code></pre>\n\n<p>here is an example of the json data I am retrieving:</p>\n\n<pre><code>{\n \"type\":\"message\",\n \"message\": {\n        \"type\":\"message\",\n        \"user\":\"U045XDV70\",\n        \"text\":\"&lt;#C08SY155G&gt; &lt;http://seedinvest.com&gt;\",\n        \"attachments\":[\n                {\"title\":\"SeedInvest\",\n                 \"title_link\":\"http://seedinvest.com\",\n                 \"text\":\"SeedInvest is an equity crowdfunding platform that connects accredited investors to vetted startups and small businesses seeking funding.\",\n                 \"fallback\":\"SeedInvest\",\n                 \"thumb_url\":\"https://d2v4u62fw1nf2w.cloudfront.net/app/img/website/logo_square_200.png\",\n                 \"from_url\":\"http://seedinvest.com\",\n                 \"thumb_width\":200,\n                 \"thumb_height\":200,\n                 \"id\":1}\n                 ],\n        \"ts\":\"1443638877.000008\"\n        },\n \"subtype\":\"message_changed\",\n \"hidden\":true,\n \"channel\":\"D0BBF1JJG\",\n \"event_ts\":\"1443638878.008753\",\n \"ts\":\"1443638878.000009\"\n }\n</code></pre>\n\n<p>Now, my next task is to:</p>\n\n<ul>\n<li>Listen for a \"message\" event</li>\n<li>when a \"message\" event comes in with an \"attachment\"</li>\n<li>parse the message looking for channel markers, for example:&lt;#C08SY155G></li>\n<li>then re-post that \"attachment\" to that channel.</li>\n</ul>\n\n<p>I am getting a lot of direct from the Slack API, however, writing it in Python is a whole other animal, and I am not sure where to get started, or in what section to attempt to start writing something.</p>\n\n<p>Any sort of direction would be greatly appreciated.</p>\n"}, {"tags": ["python", "django", "tastypie"], "answers": [{"tags": [], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "is_accepted": true, "score": 0, "last_activity_date": 1443712329, "creation_date": 1443712329, "answer_id": 32891053, "question_id": 32873496, "link": "https://stackoverflow.com/questions/32873496/resource-nesting-with-tastypie/32891053#32891053", "title": "Resource nesting with tastypie", "body": "<p>Looks like the recipe for this was actually in the cookbook, but for something so obvious, the implementation is rather awkward.</p>\n\n<p><a href=\"http://django-tastypie.readthedocs.org/en/latest/cookbook.html#nested-resources\" rel=\"nofollow\">http://django-tastypie.readthedocs.org/en/latest/cookbook.html#nested-resources</a></p>\n"}], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 32891053, "answer_count": 1, "score": 1, "last_activity_date": 1443712329, "creation_date": 1443638783, "last_edit_date": 1443645559, "question_id": 32873496, "link": "https://stackoverflow.com/questions/32873496/resource-nesting-with-tastypie", "title": "Resource nesting with tastypie", "body": "<p>Trying to do something pretty simple with tastypie, but cannot figure out how. Lets say I have a model Author and a mode Book with a foreign key pointing to author. And I have an Author resource. So, /api/v1/author would get me a list of authors and /api/v1/author/1 would get me details on a particular author. I want /api/v1/author/1/books to get me a list of books for this particular author. How?</p>\n\n<p>Example code:</p>\n\n<p><code>\nfrom django.db import models\nfrom tastypie.resource import ModelResource</p>\n\n<p>class Author(models.Model):\n    name = models.CharField(max_length=200)</p>\n\n<p>class Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.ForeignKey('Author')</p>\n\n<p>class AuthorResource(ModelResource):\n    queryset = Author.objects.all()\n</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4481, "user_id": 1759565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssrUD.jpg?s=128&g=1", "display_name": "soupault", "link": "https://stackoverflow.com/users/1759565/soupault"}, "edited": false, "score": 1, "creation_date": 1443638829, "post_id": 32873433, "comment_id": 53578660, "body": "Under <code>if val1 != 0:</code> you should not assign, but <code>.append</code> to a list. Like this: <code>val1.append(eval...)</code>"}, {"owner": {"reputation": 55, "user_id": 5394446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e56f3d727c356ada82a8b6d5d9bab62?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Bodin", "link": "https://stackoverflow.com/users/5394446/andrew-bodin"}, "reply_to_user": {"reputation": 4481, "user_id": 1759565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssrUD.jpg?s=128&g=1", "display_name": "soupault", "link": "https://stackoverflow.com/users/1759565/soupault"}, "edited": false, "score": 0, "creation_date": 1443641065, "post_id": 32873433, "comment_id": 53579730, "body": "it will allow me to append the list however, I still run into the problem of it not breaking out of the loop by running the else. Is there a solution to check to see if the list contains a 0 in to break out? Essentially I want to call the min and max out of the list at the very end."}], "answers": [{"comments": [{"owner": {"reputation": 12043, "user_id": 1615086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iE1IM.jpg?s=128&g=1", "display_name": "andersschuller", "link": "https://stackoverflow.com/users/1615086/andersschuller"}, "edited": false, "score": 0, "creation_date": 1443639053, "post_id": 32873507, "comment_id": 53578778, "body": "I think you need to wrap the <code>input</code> call in a call to <code>int</code>, otherwise <code>val == 0</code> will never be true."}, {"owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "edited": false, "score": 0, "creation_date": 1443639326, "post_id": 32873507, "comment_id": 53578919, "body": "<code>input(prompt)</code> is equivalent to <code>eval(raw_input(prompt))</code>, so it should work"}, {"owner": {"reputation": 55, "user_id": 5394446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e56f3d727c356ada82a8b6d5d9bab62?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Bodin", "link": "https://stackoverflow.com/users/5394446/andrew-bodin"}, "edited": false, "score": 0, "creation_date": 1443639384, "post_id": 32873507, "comment_id": 53578959, "body": "This solution partially works, however it doesn&#39;t seem to break out after entering a 0 value. If you run it it asks me for another input from the user. We need the int value of 0 to break out of the loop."}, {"owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "edited": false, "score": 0, "creation_date": 1443639565, "post_id": 32873507, "comment_id": 53579040, "body": "It works as intended for python2, but yeah, you need to convert to int for python3"}], "tags": [], "owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "is_accepted": false, "score": 1, "last_activity_date": 1443639587, "last_edit_date": 1443639587, "creation_date": 1443638842, "answer_id": 32873507, "question_id": 32873433, "link": "https://stackoverflow.com/questions/32873433/storing-multiple-user-inputs-while-using-a-loop/32873507#32873507", "title": "Storing Multiple User inputs while using a loop", "body": "<p>I think it would be cleaner if you use a infinite loop and break if the input is 0.  Otherwise, simply append to the the list.</p>\n\n<pre><code>values = []\nwhile True:\n    val = int(input(\"Enter an integer, the value ends if it is 0: \"))\n    if val == 0:\n        break\n    values.append(val)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5394446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e56f3d727c356ada82a8b6d5d9bab62?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Bodin", "link": "https://stackoverflow.com/users/5394446/andrew-bodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3061, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443639664, "creation_date": 1443638575, "last_edit_date": 1443639664, "question_id": 32873433, "link": "https://stackoverflow.com/questions/32873433/storing-multiple-user-inputs-while-using-a-loop", "title": "Storing Multiple User inputs while using a loop", "body": "<p>My intent here this to query the user for multiple inputs using a loop that stops when the user inputs and integer of zero. I need to be able to recall the data in a later line of code. With that in mind I'm trying to create a list of the users input.</p>\n\n<p>Python 3 code</p>\n\n<pre><code>i = False\nval1 = []\nwhile i == False:\n    if  val1 != 0:\n        val1 = eval(input(\"Enter an integer, the value ends if it is 0: \"))\n    else:\n        i = True\n        print(val1)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1443640555, "post_id": 32873402, "comment_id": 53579490, "body": "what version? your apply code worked for me in <code>0.16.2</code>"}, {"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "reply_to_user": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1443641018, "post_id": 32873402, "comment_id": 53579707, "body": "Tested with <code>0.16.2</code> / Python 3.4.3 and <code>0.15.2</code> / Python 2.7.9"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1443641285, "post_id": 32873402, "comment_id": 53579831, "body": "I suspect this is a bug, worth filing an issue on github: <a href=\"https://github.com/pydata/pandas/issues/new\" rel=\"nofollow noreferrer\">github.com/pydata/pandas/issues/new</a>."}, {"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "reply_to_user": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1443641465, "post_id": 32873402, "comment_id": 53579929, "body": "@AndyHayden Yeah, good point. I was planning on doing that if it turned out to be a bug not a feature."}, {"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 2, "creation_date": 1443643023, "post_id": 32873402, "comment_id": 53580624, "body": "This is fixed in 0.17.0, releasing 1st week of october. you can <code>conda install pandas -c pandas</code> to get it now if you&#39;d like (the rc1)"}, {"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "reply_to_user": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 0, "creation_date": 1443643999, "post_id": 32873402, "comment_id": 53581064, "body": "@Jeff Appreciate it. Do you want to convert your comment to an answer and I can accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": true, "score": 3, "last_activity_date": 1443650172, "creation_date": 1443650172, "answer_id": 32876267, "question_id": 32873402, "link": "https://stackoverflow.com/questions/32873402/pandas-why-cant-dataframe-apply-be-used-to-set-some-columns-categorical/32876267#32876267", "title": "pandas - Why can&#39;t DataFrame.apply be used to set some columns Categorical", "body": "<p>This is a bug, indicated by this issue <a href=\"https://github.com/pydata/pandas/issues/9573\" rel=\"nofollow\">here</a>, and fixed in the upcoming <code>0.17.0</code> release, due first week of october.</p>\n\n<p>you can install the <code>0.17.0rc1</code> by:</p>\n\n<p><code>conda install pandas -c pandas</code></p>\n"}], "owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 32876267, "answer_count": 1, "score": 3, "last_activity_date": 1443650172, "creation_date": 1443638468, "last_edit_date": 1443641047, "question_id": 32873402, "link": "https://stackoverflow.com/questions/32873402/pandas-why-cant-dataframe-apply-be-used-to-set-some-columns-categorical", "title": "pandas - Why can&#39;t DataFrame.apply be used to set some columns Categorical", "body": "<p>I have a pandas DataFrame, and I'd like to efficiently turn multiple columns into categorical columns. My first thought was to use <code>pandas.DataFrame.apply</code> to convert the relevant columns. Using the following example data:</p>\n\n\n\n<pre><code>import pandas as pd\n\npdf = pd.DataFrame(dict(name=       ('Earl', 'Eve', 'Alan', 'Randall', 'Danielle'),\n                        age=        (    29,    17,     73,        31,         62),\n                        gender=     (   'M',   'F',    'M',       'M',        'F'),\n                        nationality=(  'US',  'UK',  'CAN',     'CAN',       'US'),\n                        height=     ( 182.9, 167.6,  175.3,     170.2,      172.8)),\n                   columns=('name', 'age', 'gender', 'nationality', 'height'))\npdf = pdf.set_index('name')\n&gt;&gt;&gt; print(pdf)\n\n          age gender nationality  height\nname\nEarl       29      M          US   182.9\nEve        17      F          UK   167.6\nAlan       73      M         CAN   175.3\nRandall    31      M         CAN   170.2\nDanielle   62      F          US   172.8\n</code></pre>\n\n<p>You can see that the <code>apply</code> approach is not working:</p>\n\n<pre><code>cat_list = {'gender', 'nationality'}\nset_cat_list = lambda x: x.astype('category') if x.name in cat_list else x\ndfa = pdf.apply(set_cat_list)\n\n&gt;&gt;&gt; print('Applied to subset: dtype={}'.format(dfa['gender'].dtype))\nApplied to subset: dtype=object\n</code></pre>\n\n<p>This does not actually throw an error, it just silently converts the column back from categorical at some point. And to check that it's actually firing correctly, I added a probe:</p>\n\n<pre><code>in_cl = lambda x: x.name in cat_list\nset_cat_list_alert = lambda x: (set_cat_list(x),\n                                sys.stdout.write('{}: {}\\n'.format(x.name, in_cl(x))))[0]\ndfa = pdf.apply(set_cat_list_alert)\n&gt;&gt;&gt; print('Applied to subset: dtype={}'.format(dfa['gender'].dtype))\nage: False\nage: False\ngender: True\nnationality: True\nheight: False\nApplied to subset: dtype=object\n</code></pre>\n\n<p>Evidently, everything fires off correctly, so as a test to see if this approach can work at all, I tried just converting <em>all columns</em>, and apparently that works just fine:</p>\n\n<pre><code>set_cat = lambda x: x.astype('category')\ndfb = pdf.apply(set_cat)\n\n&gt;&gt;&gt; print('Applied to whole frame: dtype={}'.format(dfb['gender'].dtype))\nApplied to whole frame: dtype=category\n</code></pre>\n\n<p>Finally, I tried just using a <code>for</code> loop to duplicate the final result, to make sure that mixed categorical / non-categorical columns can coexist like this:</p>\n\n<pre><code>dfc = pdf.copy()\nfor cat in cat_list:\n    dfc[cat] = pdf[cat].astype('category')\n\n&gt;&gt;&gt; print('For loop: dtype={}'.format(dfc['gender'].dtype))\nFor loop: dtype=category\n</code></pre>\n\n<p>So my question is - why can't <code>DataFrame.apply()</code> be used to set some of these columns categorical? What am I missing here?</p>\n"}, {"tags": ["python", "regex", "dictionary", "compilation"], "comments": [{"owner": {"reputation": 2394, "user_id": 629187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/82f622c78263b1bd52e6f2165d1cd049?s=128&d=identicon&r=PG", "display_name": "Rafael Barros", "link": "https://stackoverflow.com/users/629187/rafael-barros"}, "edited": false, "score": 5, "creation_date": 1443638410, "post_id": 32873378, "comment_id": 53578419, "body": "Are you parsing xml with regex?"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1443638467, "post_id": 32873378, "comment_id": 53578447, "body": "It sure seems that way."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1443638819, "post_id": 32873378, "comment_id": 53578651, "body": "Have you tried measuring it?"}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1443643682, "creation_date": 1443643682, "answer_id": 32874711, "question_id": 32873378, "link": "https://stackoverflow.com/questions/32873378/how-to-compile-multiple-multiple-regexes-in-one-go-is-it-more-efficient-pyth/32874711#32874711", "title": "How to compile multiple multiple regexes in one go? Is it more efficient? - python", "body": "<p>If you were compiling a <em>lot</em> of regexes, <code>map</code> might help by avoiding lookup costs involved in finding <code>re</code>, then getting its <code>compile</code> attribute each call; with <code>map</code>, you look up <code>map</code> once and <code>re.compile</code> once, and then it gets used over and over without further lookups. Of course, when you need to construct a <code>list</code> to use it, you eat into that savings. Practically speaking, you'd need an awful lot of regexes to reach the point where <code>map</code> would be worth your while; for three, it's probably a loss.</p>\n\n<p>Even when it did help, it would be the tiniest of microoptimizations. I would do it if it made the code cleaner, performance is a tertiary concern here at best. There are cases (say, parsing a huge text file of integers into <code>int</code>s) where <code>map</code> can be a big win because the overhead of starting it up is compensated for by the reduced lookup and Python byte code execution overhead. But this is not one of those cases, and those cases are so rare as to not be worth worrying about 99.99% of the time.</p>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1443646901, "post_id": 32875296, "comment_id": 53582493, "body": "Actually, the <code>timeit</code> module is going to deceive you in this case. <a href=\"https://docs.python.org/3/library/re.html#re.compile\" rel=\"nofollow noreferrer\"><code>re.compile</code> caches the compiled forms of the regexes it compiles</a>, so you might see perf improvements as a substantial benefit relative to total cost, when in fact, in real code where the compiled regex won&#39;t already be in the cache, and the savings are microscopic compared the the expense of compilation in the first place. You&#39;d need to explicitly <code>re.purge()</code> the cache on every loop (but of course, that adds a different sort of confounding overhead)."}, {"owner": {"reputation": 3391, "user_id": 868947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HJDcE.jpg?s=128&g=1", "display_name": "Jimilian", "link": "https://stackoverflow.com/users/868947/jimilian"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1443684152, "post_id": 32875296, "comment_id": 53593849, "body": "@ShadowRanger, yes, you are right, also in real application regex will be compiled and cached after first usage as well. Without any <code>re.compile</code> call."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1443786597, "post_id": 32875296, "comment_id": 53640930, "body": "@Jimilian, and how is the regex compiled and cached without running <code>re.compile</code>?"}, {"owner": {"reputation": 3391, "user_id": 868947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HJDcE.jpg?s=128&g=1", "display_name": "Jimilian", "link": "https://stackoverflow.com/users/868947/jimilian"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1443797723, "post_id": 32875296, "comment_id": 53647996, "body": "@alvas, automatically - ShadowRanger already put a <a href=\"https://docs.python.org/2/library/re.html#re.compile\" rel=\"nofollow noreferrer\">link</a> to official documentation about it. You can read it in <code>Note</code> part."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1443811826, "post_id": 32875296, "comment_id": 53655596, "body": "The main difference between explicit compiles and implicit compiles is that the explicit compile means you get a <code>regex</code> object back that can be used directly; if the object is local or on a class instance, it&#39;s cheaper to look up than <code>re</code> imported into the global namespace (thanks to <a href=\"https://blog.mozilla.org/webdev/2011/01/31/python-scoping-understanding-legb/\" rel=\"nofollow noreferrer\"><code>LEGB</code></a> search). When you use the module level functions, it still has to look up the pattern in the cache to find the <code>regex</code>, the <code>regex</code> may have aged out if you used a bunch of other <code>regex</code>, etc. Explicit <code>compile</code> avoids that."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1443812116, "post_id": 32875296, "comment_id": 53655767, "body": "Frankly, my favorite thing about compiling a regex is that it lets you use many <code>regex</code> methods with one argument, which means it can be easily used w/functional methods like <code>map</code>, <code>filter</code> (and similar methods on <code>multiprocessing.Pool</code>); <code>map</code> and <code>filter</code> are normally slower than an equivalent list comprehension (Py2) or generator expression (Py3), but for largish iterables, when the mapping function/filter predicate is implemented in <code>C</code> (<code>regex</code> methods mostly are), <code>map</code> and <code>filter</code> are faster as they avoid lookup costs and push all execution to the C layer (in CPython only of course)."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1443812357, "post_id": 32875296, "comment_id": 53655929, "body": "@Jimilian: For the record, I do agree that premature optimization is the root of all evil. The only reason I&#39;m geeking out is that this is one of those cases where I have previously used <code>timeit</code> (via <code>ipython</code>&#39;s <code>%timeit</code> magic) to investigate the performance of stuff like this, so I have enough experience to say &quot;Yes, it can go faster, but no, the speedup will never be meaningful&quot;."}], "tags": [], "owner": {"reputation": 3391, "user_id": 868947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HJDcE.jpg?s=128&g=1", "display_name": "Jimilian", "link": "https://stackoverflow.com/users/868947/jimilian"}, "is_accepted": true, "score": 1, "last_activity_date": 1443645886, "creation_date": 1443645886, "answer_id": 32875296, "question_id": 32873378, "link": "https://stackoverflow.com/questions/32873378/how-to-compile-multiple-multiple-regexes-in-one-go-is-it-more-efficient-pyth/32875296#32875296", "title": "How to compile multiple multiple regexes in one go? Is it more efficient? - python", "body": "<p>Do not listen anybody - just measure it! You can use <a href=\"https://docs.python.org/2/library/timeit.html\" rel=\"nofollow\">timeit</a> module for it. But remember, that \"<a href=\"http://c2.com/cgi/wiki?PrematureOptimization\" rel=\"nofollow\">premature optimization is the root of all evil</a>\" (c) Donald Knuth.</p>\n\n<p>Btw, answer on your question \"No, it doesn't help at all\".</p>\n"}], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 32875296, "answer_count": 2, "score": 0, "last_activity_date": 1443645886, "creation_date": 1443638362, "question_id": 32873378, "link": "https://stackoverflow.com/questions/32873378/how-to-compile-multiple-multiple-regexes-in-one-go-is-it-more-efficient-pyth", "title": "How to compile multiple multiple regexes in one go? Is it more efficient? - python", "body": "<p>Let's say I have a code as such:</p>\n\n<pre><code>import re\ndocid_re = re.compile(r'&lt;DOCID&gt;([^&gt;]+)&lt;/DOCID&gt;')\ndoctype_re = re.compile(r'&lt;DOCTYPE SOURCE=\"[^\"]+\"&gt;([^&gt;]+)&lt;/DOCTYPE&gt;')\ndatetime_re = re.compile(r'&lt;DATETIME&gt;([^&gt;]+)&lt;/DATETIME&gt;')\n</code></pre>\n\n<p>I could also do this:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; docid_re = r'&lt;DOCID&gt;([^&gt;]+)&lt;/DOCID&gt;'\n&gt;&gt;&gt; doctype_re = r'&lt;DOCTYPE SOURCE=\"[^\"]+\"&gt;([^&gt;]+)&lt;/DOCTYPE&gt;'\n&gt;&gt;&gt; datetime_re = r'&lt;DATETIME&gt;([^&gt;]+)&lt;/DATETIME&gt;'\n&gt;&gt;&gt; docid_re, doctype_re, datetime_re = map(re.compile, [docid_re, doctype_re, datetime_re])\n&gt;&gt;&gt; docid_re\n&lt;_sre.SRE_Pattern object at 0x7f0314eee438&gt;\n</code></pre>\n\n<p><strong>But is there any real gain in speed or memory when I use the <code>map()</code>?</strong></p>\n"}, {"tags": ["python", "fortran", "wxpython", "f2py"], "comments": [{"owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 1, "creation_date": 1443641255, "post_id": 32873308, "comment_id": 53579817, "body": "First you have to have a sense for what is taking a long time in the fortran routine. Have you profiled the fortran code to see where the code is spending a long time? Also, why are you not keen to use file I/O? A simple debugging statement or progress output is the usual way to track progress..."}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "reply_to_user": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 0, "creation_date": 1443641348, "post_id": 32873308, "comment_id": 53579858, "body": "@Ross it is just a long process.  I&#39;m not trying to profile/debug, I would like to put a progress bar into my GUI to show the user how long to expect it to run.  Apologies if this was unclear.   I&#39;m not keen on adding file I/O because of its added overhead, but that is of course my only option at this point."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1443641575, "post_id": 32873308, "comment_id": 53579982, "body": "But you need to profile and you need some way to send the message about where you actually are in tye code just now. My 2cents: forget it, it is MUCH more work you probably think it might be."}, {"owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "reply_to_user": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1443641776, "post_id": 32873308, "comment_id": 53580076, "body": "I agree with @VladimirF - how can you know your progress if you don&#39;t know what the internal code timings are like? I guess you could make an a-priori guess using some heuristic, but that doesn&#39;t sound very good."}, {"owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 0, "creation_date": 1443641853, "post_id": 32873308, "comment_id": 53580102, "body": "I/O is <i>not</i> heavy unless it&#39;s a lot of data being output, by the way. I was talking about a simple <code>completed step 1 of 5</code>."}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1443647299, "post_id": 32873308, "comment_id": 53582667, "body": "Thanks for all the feedback. Basically, my FORTRAN code will run through a loop to check some data. The loop on a given run may be a few thousand iterations, or 20 million iterations.  In the 20 million iterations, this might take hours or days to run through.  So I basically just want to tell the Python GUI which loop iteration the backend is on.  In the case of millions of iterations, writing &quot;i, N&quot; to a file is low overhead.  In the case of smaller runs, I thought this might be a little too much overhead."}, {"owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 0, "creation_date": 1443648602, "post_id": 32873308, "comment_id": 53583219, "body": "@brettb My answer addresses exactly that problem - you should use a <code>mod</code> statement to output the iteration number (or percent complete) only infrequently."}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "reply_to_user": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 0, "creation_date": 1443648841, "post_id": 32873308, "comment_id": 53583326, "body": "@Ross: thanks.  Yes, your answer was pretty much my fall-back plan.  What I was hoping to find with my question was if there was a more direct way to pass information between the fortran and python codes, as is the purpose of using f2py in the first place.  Appreciate your help, though!"}], "answers": [{"tags": [], "owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1443649045, "last_edit_date": 1443649045, "creation_date": 1443642545, "answer_id": 32874437, "question_id": 32873308, "link": "https://stackoverflow.com/questions/32873308/updating-long-running-fortran-subroutine-in-python-gui-using-f2py/32874437#32874437", "title": "Updating long-running Fortran subroutine in Python GUI using f2py", "body": "<p>If you have a basic understanding of what portions of your code take the most time, you can include a progress indicator. Consider the following example code:</p>\n\n<pre><code>program main\nimplicit none\ninteger, parameter :: N = 100000\ninteger :: i\nreal, allocatable :: a(:), b(:)\n\n! -- Initialization\nwrite(*,*) 'FORFTP: Beginning routine'\n\nallocate(a(N), b(N))\na = 0.\nb = 0.\n\nwrite(*,*) 'FORFTP: Completed initialization'\n\ndo i=1,N\n   call RANDOM_NUMBER(a(i))\n   b(i) = exp(a(i))     ! Some expensive calculation\n\n   if (mod(i,N/100)==0) then     ! -- Assumes N is evenly divisible by 100\n      write(*,*) 'FORFTP: completed ', i*100/N, ' percent of the calculation'\n   endif\nenddo\n\nwrite(*,*) 'FORFTP: completed routine'\n\nend program main\n</code></pre>\n\n<p>The user would then get an update after initialization and after each percent of the 'expensive calculation' is complete.</p>\n\n<p>I don't know how <code>f2py</code> works but I assume there is some way for python to read what fortran is outputting as it runs and display that in it's gui. In this example, anything tagged <code>FORFTP</code> would be output in the gui, and I'm using standard output.</p>\n\n<p>This example illustrates the problem with investigating progress, though. It's difficult to understand how much time the allocation takes compared to the calculation. So it's hard to say that the initialization is 15% of the total execution time, for example.</p>\n\n<p>However, it's still useful to have updates on what's going on, even if they don't have an exact progress meter.</p>\n\n<p><strong>Edit</strong>\nThe routine provides the following output:</p>\n\n<pre><code> &gt;  pgfortran main.f90\n &gt;  ./a.out \n FORFTP: Beginning routine\n FORFTP: Completed initialization\n FORFTP: completed             1  percent of the calculation\n FORFTP: completed             2  percent of the calculation\n  ...\n FORFTP: completed            99  percent of the calculation\n FORFTP: completed           100  percent of the calculation\n FORFTP: completed routine\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1443688737, "post_id": 32882987, "comment_id": 53596336, "body": "&quot;The loop on a given run may be a few thousand iterations, or 20 million iterations. In the 20 million iterations, this might take hours or days to run through. So I basically just want to tell the Python GUI which loop iteration the backend is on.&quot; Doesn&#39;t seem to be the case."}], "tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": false, "score": 0, "last_activity_date": 1443688515, "creation_date": 1443688515, "answer_id": 32882987, "question_id": 32873308, "link": "https://stackoverflow.com/questions/32873308/updating-long-running-fortran-subroutine-in-python-gui-using-f2py/32882987#32882987", "title": "Updating long-running Fortran subroutine in Python GUI using f2py", "body": "<p>At high  risk of being down voted, if you know roughly how long each task is going to take, the simplest option is base the progress on how much time has elapsed since the task started, measured against the expected duration of the task.<br>\nTo keep it relevant you could always store the run duration for the task each time and use that, or an average, as your base time-line.<br>\nSometimes, we can over over complicate things ;)</p>\n"}], "owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443688515, "creation_date": 1443638080, "question_id": 32873308, "link": "https://stackoverflow.com/questions/32873308/updating-long-running-fortran-subroutine-in-python-gui-using-f2py", "title": "Updating long-running Fortran subroutine in Python GUI using f2py", "body": "<p>I've got a Python GUI (wxPython) which wraps around a fortran \"back-end,\" using f2py. Sometimes, the fortran process(es) may be quite long running, and we would like to put a progress bar in the GUI to update the progress through the Fortran routine.  Is there any way to get the status/progress of the Fortran routine, without involving file I/O?</p>\n"}, {"tags": ["python", "loops", "for-loop", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 2359, "user_id": 1736256, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1948628470196fe729837363a59e153f?s=128&d=identicon&r=PG", "display_name": "ILostMySpoon", "link": "https://stackoverflow.com/users/1736256/ilostmyspoon"}, "edited": false, "score": 1, "creation_date": 1443638171, "post_id": 32873268, "comment_id": 53578276, "body": "Are you certain <code>every_link</code> contains the number of elements you are expecting before the loop is ran?"}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "reply_to_user": {"reputation": 2359, "user_id": 1736256, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1948628470196fe729837363a59e153f?s=128&d=identicon&r=PG", "display_name": "ILostMySpoon", "link": "https://stackoverflow.com/users/1736256/ilostmyspoon"}, "edited": false, "score": 0, "creation_date": 1443638343, "post_id": 32873268, "comment_id": 53578375, "body": "Yes. <code>print(len(every_link)</code> yields 911 links contained; <code>print(len(set(every_link)))</code> also yields 911, showing that there are 911 distinct speeches in <code>every_link</code>."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 1, "creation_date": 1443638550, "post_id": 32873268, "comment_id": 53578486, "body": "I believe you are checking the number of iterations by the file produced (wild guess). Did you check that you aren&#39;t overwriting the files? The loop could execute 911 times and yet overwrite about half of them and thus result in only 423 file in the output."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1443638656, "post_id": 32873268, "comment_id": 53578554, "body": "If I were overwriting the files, wouldn&#39;t the loop stop at half (455) and not 423? How could I check that I am overwriting the files?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1443638698, "post_id": 32873268, "comment_id": 53578582, "body": "I suggest inserting print statements to track the operation of processURL.  For starters, print the return value to ensure that you&#39;re getting only 423 total returns (not dropping them in the post-processing).  Then back up to the seminal comparison -- unroll the comprehension, if necessary, to check the name and the link."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 1, "creation_date": 1443638781, "post_id": 32873268, "comment_id": 53578625, "body": "Besides, there&#39;s an error in how you are building the <code>presidents</code>. You are using <code>if l not in set2</code> but then you add in <code>seen</code> instead of <code>set2</code> so <code>presidents</code> contains duplicates.  I&#39;d suggest to simpy avoid the explicit loops to remove duplicates. Use <code>list(set(presidents_dups))</code> or <code>sorted(set(president_dups))</code>."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1443639225, "post_id": 32873268, "comment_id": 53578872, "body": "<code>presidents</code> isn&#39;t really relevant to the <code>for</code> loop, though. I was simply verifying that I had all 43 presidents&#39; speeches accounted for in <code>every_link</code>"}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1443640075, "post_id": 32873268, "comment_id": 53579285, "body": "I just ran <code>print l</code> along with another run of that <code>for</code> loop. It stopped at 423, again. Towards the end, the <code>processURL()</code> was alternating processing <code>fdroosevelt</code> and <code>harding</code>."}], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1443637889, "creation_date": 1443637889, "question_id": 32873268, "link": "https://stackoverflow.com/questions/32873268/for-loop-process-iterates-well-for-about-half-of-the-items-in-the-list-but-sto", "title": "For loop: process iterates well for about half of the items in the list, but stops short?", "body": "<p>I am currently scraping and storing in text files 911 speeches from <a href=\"http://www.millercenter.org/\" rel=\"nofollow\">http://www.millercenter.org/</a>. The whole HTML processing piece of my code works; it's when I try to iterate (in the <code>for</code> loop at the end) over the URLs contained in the list <code>every_link</code> where I run into issues. The <code>processURL()</code> function stops working for about half of my links - so I don't get half of the speeches I need. The <code>for</code> loop iterates seemingly at random through <code>every_link</code>, because while speeches from Presidents George W. Bush and Harry Truman were scraped, speeches from guys like Grover Cleveland were not. What's the issue with my <code>for</code> loop?</p>\n\n<pre><code>import urllib2,sys,os\nfrom bs4 import BeautifulSoup,NavigableString\nfrom string import punctuation as p\nfrom multiprocessing import Pool\nimport re, nltk\nimport requests\nreload(sys)\n\nos.chdir('U:/Fall 2015/ENGL 3XX')\nsys.setdefaultencoding('utf8')\n\n#==============================================================================\n# Scraping and cleaning one speech from Obama to show the method works\n#==============================================================================\n\nobama_4427_url = 'http://www.millercenter.org/president/obama/speeches/speech-4427'\nobama_4427 = urllib2.urlopen(obama_4427_url).read()\nobama_4427 = BeautifulSoup(obama_4427)\n\n# find the speech itself within the HTML\nobama_4427 = obama_4427.find('div',{'id': 'transcript'},{'class': 'displaytext'})\n\n# obama_4427_div.text removes extraneous characters (e.g. '&lt;br/&gt;')\nobama_4427 = obama_4427.text.lower()\n\n# for further text analysis, remove punctuation\npunctuation = re.compile('[{}]+'.format(re.escape(p)))\n\n# obama_4427_nopunct = [line.decode('utf-8').strip() for line in obama_4427_html.readlines()]\n\nobama_4427 = punctuation.sub('', obama_4427)\nobama_4427 = obama_4427.replace('\u2014',' ')\nobama_4427 = obama_4427.replace('transcript','')\n\n# divide obama_4427_str_processed into individual words\nwords = obama_4427.split(' ')\n\n#==============================================================================\n# Cleaning links begins below, so that  we can process all 911 speeches through processURL()\n#==============================================================================\n\nurl = 'http://www.millercenter.org/president/speeches'\nurl2 = 'http://www.millercenter.org'\n\nconn = urllib2.urlopen(url)\nhtml = conn.read()\n\nmiller_center_soup = BeautifulSoup(html)\nlinks = miller_center_soup.find_all('a')\n\nlinklist = [tag.get('href') for tag in links if tag.get('href') is not None]\n\n# remove all items in list that don't contain 'speeches'\nlinkslist = [_ for _ in linklist if re.search('speeches',_)]\ndel linkslist[0:2]\n\n# concatenate 'http://www.millercenter.org' with end of speech links\nevery_link_dups = [url2 + end_link for end_link in linkslist]\n\n# remove duplicates\nseen = set()\nevery_link = [] # no duplicates array\nfor l in every_link_dups:\n    if l not in seen:\n        every_link.append(l)\n        seen.add(l)\n\n# list of presidents (print(len(set(presidents))) = 43 total)\npresidents_dups = [l[l.find('president/')+len('president/'):] for l in every_link if 'president' in l]\npresidents_dups = [l[0:l.find('/')] for l in presidents_dups]\nset2 = set()\npresidents = []\nfor l in presidents_dups:\n    if l not in set2:\n        presidents.append(l)\n        seen.add(l)\n\npresidents = sorted(presidents)\n\n# the following two lines - now commented out - were used to identify duplicates in the original every_link array\n# import collections\n# print [l for l, count in collections.Counter(every_link).items() if count &gt; 1]\n\n# define a function to clean &amp; store speeches from 'every_link' repository\n\ndef processURL(l):\n        open_url = urllib2.urlopen(l).read()\n        item_soup = BeautifulSoup(open_url)\n        item_div = item_soup.find('div',{'id':'transcript'},{'class':'displaytext'})\n        item_str = item_div.text.lower()\n        item_str_processed = punctuation.sub('',item_str)\n        item_str_processed_final = item_str_processed.replace('\u2014',' ')\n\n        splitlink = l.split(\"/\")\n        president = splitlink[4]\n        speech_num = splitlink[-1].split(\"-\")[1]\n        filename = \"{0}_{1}\".format(president, speech_num)\n\n        return filename, item_str_processed_final # returning a tuple\n\n# right now, this loop only works for 423 speeches - where are the remaining ones?\nfor l in every_link:\n    filename, content = processURL(l) # tuple unpacking\n    with open(filename, 'w') as f:\n        f.write(content)\n</code></pre>\n"}, {"tags": ["python", "join", "pandas", "merge"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 3104727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a7150d95e81e2b7b8d9bdaa6ce57d54?s=128&d=identicon&r=PG&f=1", "display_name": "lorenzo", "link": "https://stackoverflow.com/users/3104727/lorenzo"}, "edited": false, "score": 0, "creation_date": 1443797197, "post_id": 32877424, "comment_id": 53647651, "body": "thanks it is close. Actually, I slightly modified my original question to reflect more my need. I have to split the first row of &#39;df1&#39; (27--&gt;28 and 28--&gt;29) as the depth range of &#39;df2&#39; is not equal to the depth range of &#39;df1&#39;. I think this is more tricky to do..."}], "tags": [], "owner": {"reputation": 799, "user_id": 4080476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8wTd.png?s=128&g=1", "display_name": "Brian Pendleton", "link": "https://stackoverflow.com/users/4080476/brian-pendleton"}, "is_accepted": false, "score": 0, "last_activity_date": 1443657435, "creation_date": 1443657435, "answer_id": 32877424, "question_id": 32873267, "link": "https://stackoverflow.com/questions/32873267/merge-two-pandas-dataframes-based-on-depth-range/32877424#32877424", "title": "Merge two pandas dataframes based on depth range", "body": "<p>This gets you close:</p>\n\n<pre><code>merged = pd.merge(df1, df2, on='name', suffixes=('', '_r'))\n\nkeep = (merged.top_depth &gt;= merged.top_depth_r) &amp; (merged.bottom_depth &lt;= merged.bottom_depth_r)\n\nprint merged.loc[keep, ['name', 'top_depth', 'bottom_depth', 'attr1', 'attr2']]\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>   name top_depth bottom_depth attr1  attr2 \n2     a        27           29    10  gamma \n5     a        29           30   2.5  gamma \n8     a        30         32.5    56  gamma \n11    a      32.5           36    18  gamma \n14    a        36           39     5  gamma \n15    b         0            3   0.5  alpha \n19    b         3            6   1.5  alpha \n24    b         6            9   2.5   beta \n</code></pre>\n\n<p>I don't know how you want the row:</p>\n\n<pre><code>   name top_depth bottom_depth attr1   attr2\n0     a         0           25   NaN   alpha\n1     a        25           27   NaN    beta\n</code></pre>\n\n<p>In your question you asked for a left join.  These rows are more like a right join.  Let me know if this is close to what you're after and I can try to help more.</p>\n"}], "owner": {"reputation": 79, "user_id": 3104727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a7150d95e81e2b7b8d9bdaa6ce57d54?s=128&d=identicon&r=PG&f=1", "display_name": "lorenzo", "link": "https://stackoverflow.com/users/3104727/lorenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 551, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1443796934, "creation_date": 1443637889, "last_edit_date": 1443796934, "question_id": 32873267, "link": "https://stackoverflow.com/questions/32873267/merge-two-pandas-dataframes-based-on-depth-range", "title": "Merge two pandas dataframes based on depth range", "body": "<p>I would like to merge two dataframe on columns Id and top_depth and bottom_depth.<br>\nI would like the take each record from the left df and, if available, assign a record from the right df if 'depth' falls between 'top_depth' and 'bottom_depth'. </p>\n\n<p>Here is an exemple of the dataframes:</p>\n\n<pre><code>df1 = pd.DataFrame(np.array([\n     ['a', 27, 29, 10],\n     ['a', 29, 30, 2.5],\n     ['a', 30, 32.5, 56],\n     ['a', 32.5, 36, 18],\n     ['a', 36, 39, 5],\n     ['b', 0, 3, 0.5],\n     ['b', 3, 6, 1.5],\n     ['b', 6, 9, 2.5]]),\n     columns=['name', 'top_depth', 'bottom_depth', 'attr1'])\n\ndf2 = pd.DataFrame(np.array([\n     ['a', 0, 25, 'alpha'],\n     ['a', 25, 28, 'beta'],\n     ['a', 28, 39, 'gamma'],\n     ['b', 0, 6, 'alpha'],\n     ['b', 6, 9, 'beta'],\n     ['b', 9, 18, 'phi'],\n     ['b', 18, 25, 'teta']]),\n     columns=['name', 'top_depth', 'bottom_depth', 'attr2'])\n</code></pre>\n\n<p>Then merge to get this:</p>\n\n<pre><code>&gt;&gt;&gt; df3 \n   name top_depth bottom_depth attr1   attr2\n0     a         0           25   NaN   alpha\n1     a        25           27   NaN    beta\n2     a        27           28    10    beta\n2     a        28           29    10   gamma\n3     a        29           30   2.5   gamma\n4     a        30         32.5    56   gamma\n5     a      32.5           36    18   gamma\n6     a        36           39     5   gamma\n7     b         0            3   0.5   alpha\n8     b         3            6   1.5   alpha\n9     b         6            9   2.5    beta\n10    b         9           18   NaN     phi\n11    b        18           25   NaN    teta\n</code></pre>\n\n<p>Is there an easy way to do that in pandas?</p>\n"}, {"tags": ["python", "arrays", "sorting", "numpy", "indexing"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1443940334, "post_id": 32873263, "comment_id": 53687247, "body": "Did any of the solutions work for you?"}], "answers": [{"tags": [], "owner": {"reputation": 7867, "user_id": 5032941, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6VGGH.jpg?s=128&g=1", "display_name": "anon01", "link": "https://stackoverflow.com/users/5032941/anon01"}, "is_accepted": true, "score": 3, "last_activity_date": 1617060527, "last_edit_date": 1617060527, "creation_date": 1443637969, "answer_id": 32873279, "question_id": 32873263, "link": "https://stackoverflow.com/questions/32873263/return-indices-from-filtered-sorted-array-with-numpy/32873279#32873279", "title": "return indices from filtered, sorted array with numpy", "body": "<p>One solution:</p>\n<ul>\n<li>created sorted index array (argsort)</li>\n<li>create mask for sorted <code>x</code> less than threshold</li>\n<li>apply mask to sorted index array</li>\n</ul>\n<p>example:</p>\n<pre><code>import numpy as np\n\n# x = np.random.rand(4)\nx = np.array([0.96924269, 0.30592608, 0.03338015, 0.64815553])\nsolution = np.array([2, 1])\n\nsorted_idx = np.argsort(x)\nidx_mask = (x[sorted_idx] &lt; 0.5)\nsorted_filtered_idx = sorted_idx[idx_mask]\n\nassert np.all(sorted_filtered_idx == solution)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 9, "last_activity_date": 1443640551, "last_edit_date": 1443640551, "creation_date": 1443639724, "answer_id": 32873731, "question_id": 32873263, "link": "https://stackoverflow.com/questions/32873263/return-indices-from-filtered-sorted-array-with-numpy/32873731#32873731", "title": "return indices from filtered, sorted array with numpy", "body": "<p>Finding the mask of <code>x &lt; 0.5</code> and <code>x.argsort()</code> seemed like compulsory here. Once you have those two, you can sort the mask array using the sort indices and use this mask on the sort indices to get back the indices corresponding to sorted indices that satisfy the masked condition. Thus, you would be adding one more line of code, like so -</p>\n\n<pre><code>mask = x &lt; 0.5\nsort_idx = x.argsort()\nout = sort_idx[mask[sort_idx]]\n</code></pre>\n\n<p>Sample step-by-step run -</p>\n\n<pre><code>In [56]: x\nOut[56]: array([ 0.8974009 ,  0.30127187,  0.71187137,  0.04041124])\n\nIn [57]: mask\nOut[57]: array([False,  True, False,  True], dtype=bool)\n\nIn [58]: sort_idx\nOut[58]: array([3, 1, 2, 0])\n\nIn [59]: mask[sort_idx]\nOut[59]: array([ True,  True, False, False], dtype=bool)\n\nIn [60]: sort_idx[mask[sort_idx]]\nOut[60]: array([3, 1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18565, "user_id": 74291, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4259fc571b7b0caa247f4149f0d3d902?s=128&d=identicon&r=PG", "display_name": "Waylon Flinn", "link": "https://stackoverflow.com/users/74291/waylon-flinn"}, "is_accepted": false, "score": 3, "last_activity_date": 1443640981, "last_edit_date": 1443640981, "creation_date": 1443640642, "answer_id": 32873968, "question_id": 32873263, "link": "https://stackoverflow.com/questions/32873263/return-indices-from-filtered-sorted-array-with-numpy/32873968#32873968", "title": "return indices from filtered, sorted array with numpy", "body": "<p>Masked arrays are concise (but maybe not especially efficient)</p>\n\n<pre><code>x = np.random.rand(4);\n\ninverse_mask = x &lt; 0.5\nm_x = np.ma.array(x, mask=np.logical_not(inverse_mask))\nsorted_indeces = m_x.argsort(fill_value=1)\nfiltered_sorted_indeces = sorted_indeces[:np.sum(inverse_mask)]\n</code></pre>\n"}], "owner": {"reputation": 7867, "user_id": 5032941, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6VGGH.jpg?s=128&g=1", "display_name": "anon01", "link": "https://stackoverflow.com/users/5032941/anon01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 32873279, "answer_count": 3, "score": 5, "last_activity_date": 1617060527, "creation_date": 1443637878, "last_edit_date": 1443940356, "question_id": 32873263, "link": "https://stackoverflow.com/questions/32873263/return-indices-from-filtered-sorted-array-with-numpy", "title": "return indices from filtered, sorted array with numpy", "body": "<p>What is the most straightforward way to do the following in python/numpy?</p>\n\n<ul>\n<li>begin with random array <code>x</code></li>\n<li>filter out elements <code>x &lt; .5</code></li>\n<li>sort the remaining values by size</li>\n<li>return indices of (original) <code>x</code> corresponding to these values</li>\n</ul>\n"}, {"tags": ["python", "python-dateutil"], "comments": [{"owner": {"reputation": 518, "user_id": 3777185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdYGV.jpg?s=128&g=1", "display_name": "mr nick", "link": "https://stackoverflow.com/users/3777185/mr-nick"}, "edited": false, "score": 0, "creation_date": 1443637931, "post_id": 32873239, "comment_id": 53578164, "body": "What is the output of <code>pip list | grep dateutil</code>?"}, {"owner": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "reply_to_user": {"reputation": 518, "user_id": 3777185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdYGV.jpg?s=128&g=1", "display_name": "mr nick", "link": "https://stackoverflow.com/users/3777185/mr-nick"}, "edited": false, "score": 0, "creation_date": 1443638097, "post_id": 32873239, "comment_id": 53578234, "body": "<code>python-dateutil (2.4.2)</code> So it looks like the installer or package is expecting 2.2?"}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 3777185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdYGV.jpg?s=128&g=1", "display_name": "mr nick", "link": "https://stackoverflow.com/users/3777185/mr-nick"}, "is_accepted": false, "score": 3, "last_activity_date": 1443638433, "creation_date": 1443638433, "answer_id": 32873399, "question_id": 32873239, "link": "https://stackoverflow.com/questions/32873239/python-dateutil-error-while-running-a-python-package/32873399#32873399", "title": "Python-dateutil error while running a Python package", "body": "<pre><code>pip uninstall python-dateutil\npip install python-dateutil==2.2\n</code></pre>\n\n<p>Preferably from inside a virtualenv.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6754412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWMzk.jpg?s=128&g=1", "display_name": "nazaninegogo", "link": "https://stackoverflow.com/users/6754412/nazaninegogo"}, "is_accepted": false, "score": 1, "last_activity_date": 1531040016, "creation_date": 1531040016, "answer_id": 51230325, "question_id": 32873239, "link": "https://stackoverflow.com/questions/32873239/python-dateutil-error-while-running-a-python-package/51230325#51230325", "title": "Python-dateutil error while running a Python package", "body": "<p>you can download the .Whl file of python-dateutil and copy it in script folder of your python location\nthen open cmd and cd to script location and write below command:\npip install (file.whl)</p>\n"}], "owner": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2726, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1531046834, "creation_date": 1443637756, "last_edit_date": 1531046834, "question_id": 32873239, "link": "https://stackoverflow.com/questions/32873239/python-dateutil-error-while-running-a-python-package", "title": "Python-dateutil error while running a Python package", "body": "<p>I'm trying to run a function from a Python package called <code>csvkit</code>. Function itself is <code>csvstat</code>. The error I'm getting is: </p>\n\n<blockquote>\n  <p>The 'python-dateutil==2.2' distribution was not found and is required by csvkit </p>\n</blockquote>\n\n<p>I've ran <code>pip install python-dateutil --upgrade</code> and apparently it's all up to date. </p>\n\n<p>Looking for suggestions on what to do to fix this problem. </p>\n\n<p>I have another question that might be related: <a href=\"https://stackoverflow.com/questions/32856188/permission-denied-while-trying-to-run-a-python-package\">Permission Denied while trying to run a Python package</a></p>\n"}, {"tags": ["python", "c++", "mfc"], "comments": [{"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 1, "creation_date": 1443638354, "post_id": 32873234, "comment_id": 53578382, "body": "have to ask: are you mixing tabs and spaces? and does this import into a python console?"}, {"owner": {"reputation": 10018, "user_id": 1309356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o45P6.png?s=128&g=1", "display_name": "cha", "link": "https://stackoverflow.com/users/1309356/cha"}, "edited": false, "score": 0, "creation_date": 1443677569, "post_id": 32873234, "comment_id": 53590734, "body": "why do use have semicolons in your Python code?"}], "owner": {"reputation": 533, "user_id": 2002288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7bf6830e387572641612bdf484a1aaa2?s=128&d=identicon&r=PG", "display_name": "sg_man", "link": "https://stackoverflow.com/users/2002288/sg-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443637743, "creation_date": 1443637743, "question_id": 32873234, "link": "https://stackoverflow.com/questions/32873234/why-cant-i-get-embedded-python-to-work-in-a-c-mfc-application-with-python-f", "title": "Why can&#39;t I get embedded Python to work in a C++ / MFC application with Python functions longer than one line?", "body": "<p>I am trying to embed Python 3.4 in a C++ / MFC / Windows application.</p>\n\n<p>I am trying to use PyRun_SimpleString to import a Python module, so something like:</p>\n\n<pre><code>PyRun_SimpleString(\"import testmod\")\n</code></pre>\n\n<p>is what I have.  Here is testmod.py:</p>\n\n<pre><code>def hello():\n    return 5;\n\ndef four(input):\n    print(input * 4);\n</code></pre>\n\n<p>When I import this (via PyRun_SimpleString), PyRunSimpleString returns 0 (good), when I change testmod.py to:</p>\n\n<pre><code>def hello():\n    c = 5\n    return c;\n\ndef four(input):\n    print(input * 4);\n</code></pre>\n\n<p>I get a return value of -1...something went wrong.  I also hit a breakpoint which I put in </p>\n\n<pre><code>static void print_error_text(PyObject *f, int offset, PyObject *text_obj)\n</code></pre>\n\n<p>which is in pythonrun.c</p>\n\n<p>Okay, this one seems pretty strange to me.  Any ideas?</p>\n"}, {"tags": ["python", "beautifulsoup", "html-table"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639061, "post_id": 32873199, "comment_id": 53578782, "body": "Please provide a short, <b>complete</b> program that demonstrates the problem. When I fix the errors in your program, <a href=\"http://pastebin.com/kCgcHvJV\" rel=\"nofollow noreferrer\">the resulting program</a> prints <code>13</code> for me."}, {"owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639377, "post_id": 32873199, "comment_id": 53578952, "body": "I don&#39;t need help with that.  When I run what you have in pastebin, which I already posted, I get an output of 2"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639462, "post_id": 32873199, "comment_id": 53578999, "body": "So we have a mystery. Why do <i>you</i> get 2, while I get 13? Perhaps you could examine <code>requests.get().text</code> and see if it includes all of the tables."}, {"owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639764, "post_id": 32873199, "comment_id": 53579141, "body": "@Rob\u1d69 it does I can post an image if needed"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639880, "post_id": 32873199, "comment_id": 53579199, "body": "@qwertylpc - what version of Python are you using? (You can get that by <code>print sys.version</code>)."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1443639906, "post_id": 32873199, "comment_id": 53579210, "body": "I get the same result as OP with the same code. I also checked using regular expressions how many wikitables there are in the soup: More than just two. No idea what\u2019s going on though."}, {"owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1443639986, "post_id": 32873199, "comment_id": 53579244, "body": "@Rob\u1d69 2.7.10 |Anaconda 2.3.0 (64-bit)| (default, May 28 2015, 16:44:52) [MSC v.1500 64 bit (AMD64)]"}, {"owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "reply_to_user": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 0, "creation_date": 1443640167, "post_id": 32873199, "comment_id": 53579322, "body": "@Dunes I am using requests and not urllib3.  Also the string is there..."}, {"owner": {"reputation": 794, "user_id": 4711309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e1aabe66029fa84efdb4bb1daef270?s=128&d=identicon&r=PG&f=1", "display_name": "sokin", "link": "https://stackoverflow.com/users/4711309/sokin"}, "edited": false, "score": 0, "creation_date": 1443646859, "post_id": 32873199, "comment_id": 53582474, "body": "urllib3 <a href=\"http://www.python-requests.org/en/latest/\" rel=\"nofollow noreferrer\">is</a> embedded within requests"}], "answers": [{"comments": [{"owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "edited": false, "score": 0, "creation_date": 1443644563, "post_id": 32874489, "comment_id": 53581345, "body": "I&#39;m running bs 4.4.0, I will try 4.3.2"}, {"owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "reply_to_user": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "edited": false, "score": 0, "creation_date": 1443644957, "post_id": 32874489, "comment_id": 53581528, "body": "Try <a href=\"https://pythonhosted.org/pyquery/\" rel=\"nofollow noreferrer\">pyquery</a> he has simple and powerfull css selectors."}], "tags": [], "owner": {"reputation": 170, "user_id": 1365141, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/18b714e921043dd84efad2b947c70c7a?s=128&d=identicon&r=PG", "display_name": "Darius", "link": "https://stackoverflow.com/users/1365141/darius"}, "is_accepted": false, "score": 1, "last_activity_date": 1443642761, "creation_date": 1443642761, "answer_id": 32874489, "question_id": 32873199, "link": "https://stackoverflow.com/questions/32873199/beautiful-soup-is-missing-tables-from-wikipedia/32874489#32874489", "title": "Beautiful Soup is Missing Tables from Wikipedia", "body": "<p>Everything work fine.</p>\n\n<p>PyQuery version</p>\n\n<pre><code>from pyquery import PyQuery\n\npq = PyQuery(url=\"https://en.wikipedia.org/wiki/2015-16_La_Liga\")\nall_tables = pq(\".wikitable\")\nprint len(all_tables)\n</code></pre>\n\n<p>BeautifulSoup version</p>\n\n<pre><code>__author__ = \"Leonard Richardson (leonardr@segfault.org)\"\n__version__ = \"4.3.2\"\n__copyright__ = \"Copyright (c) 2004-2013 Leonard Richardson\"\n__license__ = \"MIT\"\n\nfrom bs4 import BeautifulSoup\nimport requests\n\n\n\nsoup = BeautifulSoup(requests.get(\"https://en.wikipedia.org/wiki/2015-16_La_Liga\").text, \"html.parser\")\nfor superscript in soup.find_all(\"sup\"):\n    superscript.decompose()\nprint len(soup.find_all(\"table\", attrs={\"class\": \"wikitable\"}))\n</code></pre>\n\n<p>return 13 both version</p>\n\n<p>Maybe you should install 4.3.2 version of bs or use PyQuery?</p>\n"}, {"tags": [], "owner": {"reputation": 3180, "user_id": 2661703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qhLF.jpg?s=128&g=1", "display_name": "Transformer", "link": "https://stackoverflow.com/users/2661703/transformer"}, "is_accepted": false, "score": 0, "last_activity_date": 1456141307, "creation_date": 1456141307, "answer_id": 35552705, "question_id": 32873199, "link": "https://stackoverflow.com/questions/32873199/beautiful-soup-is-missing-tables-from-wikipedia/35552705#35552705", "title": "Beautiful Soup is Missing Tables from Wikipedia", "body": "<pre><code>from urllib.request import urlopen\nfrom bs4 import BeautifulSoup\nhtml = urlopen('https://en.wikipedia.org/wiki/2015-16_La_Liga')\nbsObj = BeautifulSoup(html.read(), 'lxml')\nresult = bsObj.find_all(\"table\", class_=\"wikitable\")\nprint (result)\n</code></pre>\n\n<p>But this got only 13 tables which i actually saw on the url \ni used </p>\n\n<pre><code>python==3.4.3\nbeautifulsoup4==4.4.1\n</code></pre>\n\n<p>also you might want to install requests using <code>pip install requests</code></p>\n"}], "owner": {"reputation": 1463, "user_id": 3950745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f9303f5748a0d77f8c94b043fcaad02?s=128&d=identicon&r=PG&f=1", "display_name": "qwertylpc", "link": "https://stackoverflow.com/users/3950745/qwertylpc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1456141307, "creation_date": 1443637589, "last_edit_date": 1443640100, "question_id": 32873199, "link": "https://stackoverflow.com/questions/32873199/beautiful-soup-is-missing-tables-from-wikipedia", "title": "Beautiful Soup is Missing Tables from Wikipedia", "body": "<p>I am trying to get the La Liga League Table from <a href=\"https://en.wikipedia.org/wiki/2015%E2%80%9316_La_Liga\" rel=\"nofollow noreferrer\">Wikipedia</a>, but I can't even seem to use <code>find_all</code> to even get to the table I'm trying to scrape.  Moreover, the exact same code I wrote scrapes the EPL data from wikipedia perfectly fine...</p>\n\n<p>The full HTML is here: view-source:<a href=\"https://en.wikipedia.org/wiki/2015%E2%80%9316_La_Liga\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/2015%E2%80%9316_La_Liga</a></p>\n\n<p>The part in question is here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h2&gt;&lt;span class=\"mw-headline\" id=\"League_table\"&gt;League table&lt;/span&gt;&lt;span class=\"mw-editsection\"&gt;&lt;span class=\"mw-editsection-bracket\"&gt;[&lt;/span&gt;&lt;a href=\"/w/index.php?title=2015%E2%80%9316_La_Liga&amp;amp;action=edit&amp;amp;section=6\" title=\"Edit section: League table\"&gt;edit&lt;/a&gt;&lt;span class=\"mw-editsection-bracket\"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;\r\n&lt;h3&gt;&lt;span class=\"mw-headline\" id=\"Standings\"&gt;Standings&lt;/span&gt;&lt;span class=\"mw-editsection\"&gt;&lt;span class=\"mw-editsection-bracket\"&gt;[&lt;/span&gt;&lt;a href=\"/w/index.php?title=2015%E2%80%9316_La_Liga&amp;amp;action=edit&amp;amp;section=7\" title=\"Edit section: Standings\"&gt;edit&lt;/a&gt;&lt;span class=\"mw-editsection-bracket\"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;\r\n&lt;table class=\"wikitable\" style=\"text-align:center;\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th scope=\"col\" width=\"28\"&gt;&lt;abbr title=\"Position\"&gt;Pos&lt;/abbr&gt;\r\n    &lt;/th&gt;\r\n    &lt;th scope=\"col\" width=\"190\"&gt;Team\r\n      &lt;div class=\"plainlinks hlist navbar mini\" style=\"float:right\"&gt;\r\n        &lt;ul&gt;\r\n          &lt;li class=\"nv-view\"&gt;&lt;a href=\"/wiki/Template:2015%E2%80%9316_La_Liga_table\" title=\"Template:2015\u201316 La Liga table\"&gt;&lt;span title=\"View this template\"&gt;v&lt;/span&gt;&lt;/a&gt;\r\n          &lt;/li&gt;\r\n          &lt;li class=\"nv-talk\"&gt;&lt;a href=\"/wiki/Template_talk:2015%E2%80%9316_La_Liga_table\" title=\"Template talk:2015\u201316 La Liga table\"&gt;&lt;span title=\"Discuss this template\"&gt;t&lt;/span&gt;&lt;/a&gt;\r\n          &lt;/li&gt;\r\n          &lt;li class=\"nv-edit\"&gt;&lt;a class=\"external text\" href=\"//en.wikipedia.org/w/index.php?title=Template:2015%E2%80%9316_La_Liga_table&amp;amp;action=edit\"&gt;&lt;span title=\"Edit this template\"&gt;e&lt;/span&gt;&lt;/a&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n    &lt;/th&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is how I request the page and my only cleansing of the code before I try to find all of the tables:</p>\n\n<pre><code>soup = BeautifulSoup(requests.get(\"https://en.wikipedia.org/wiki/2015-16_La_Liga\").text, \"html.parser\")\nfor superscript in soup.find_all(\"sup\"):\n    superscript.decompose()\nprint len(soup.find_all(\"table\", attrs={\"class\": \"wikitable\"}))\n</code></pre>\n\n<p>However I am getting a length of 2 when looking at the page html, I should be getting at least 14 tables with those attributes...</p>\n\n<p>I have no idea where to go from here, any help would be appreciated</p>\n\n<p>--EDIT--</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y95kr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y95kr.png\" alt=\"Input/Output\"></a>\n<a href=\"https://i.stack.imgur.com/DrL8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrL8g.png\" alt=\"Output of soup shows that the wikitable is still there...\"></a></p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "flask"], "owner": {"reputation": 3455, "user_id": 1079483, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e7224aaadc7f604a26c92656940c9d31?s=128&d=identicon&r=PG", "display_name": "Sebi", "link": "https://stackoverflow.com/users/1079483/sebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1443637421, "creation_date": 1443637421, "last_edit_date": 1495539848, "question_id": 32873157, "link": "https://stackoverflow.com/questions/32873157/flask-method-not-allowed-500", "title": "Flask method not allowed 500", "body": "<p>I'm working on a sign in form and am receiving the following message:</p>\n\n<pre><code>Method Not Allowed\n\nThe method is not allowed for the requested URL.\n</code></pre>\n\n<p>Reading a <a href=\"https://stackoverflow.com/questions/21689364/method-not-allowed-flask-error-405\">number</a> <a href=\"https://stackoverflow.com/questions/12179593/flask-post-error-405-method-not-allowed\">of</a> <a href=\"https://stackoverflow.com/questions/24088054/method-not-allowed-error-in-flask\">questions</a> suggests that the URI of the flask handler should be the same as the one specified in the form's action attribute. I'm trying to submit the form's fields as part of a json object using the ajax API from jquery:</p>\n\n<p><strong>form.html</strong></p>\n\n<pre><code>&lt;form id=\"signin_form_id\" onsubmit=\"sign_in()\" method=\"post\"&gt;\n        &lt;label&gt;Email: &lt;/label&gt;&lt;input id=\"email0\" type=\"email\" name=\"l_email\" required&gt;\n        &lt;br&gt;\n        &lt;label&gt;Password: &lt;/label&gt;&lt;input id=\"password0\" type=\"password\" name=\"l_password\" required&gt;\n        &lt;br&gt;&lt;br&gt;\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n&lt;!-- Body of the index page --&gt;\n&lt;body&gt;\n\n    &lt;div class id=\"main\"&gt;&lt;/div&gt;\n\n    &lt;script&gt;\n        &lt;!-- Display index page if session token not set --&gt;\n        {% if page_body %}\n        if (localStorage.getItem(\"token\") === null) {\n            document.getElementById(\"main\").innerHTML = {{ page_body|safe }}\n        }\n        {% endif %}\n    &lt;/script&gt;\n\n  &lt;/body&gt;\n</code></pre>\n\n<p>the function <strong>sign_in()</strong> is defined as bellow:</p>\n\n<p><strong>client.js</strong></p>\n\n<pre><code>function sign_in() {\n\n        var uri, method, formId, jsonObject;\n\n        uri = location.protocol + '//' + location.host + \"/sign_in\";\n        method = \"POST\";\n        formId = \"#signin_form_id\";\n\n        // Set-up ajax call\n        var request = {\n            url: uri,\n            type: method,\n            contentType: \"application/json\",\n            accepts: \"application/json\",\n            cache: false,\n            dataType: 'json',\n            data: JSON.stringify($(formId).serializeArray())\n        };\n        // Make the request\n        $.ajax(request).done(function(data) { // Handle the response\n            if(data.successSignIn === false) {\n                // Login failed; display index page\n                alert(\"Login failed!\");\n                document.getElementById(\"main\").innerHTML = document.getElementById(\"welcomeview\").innerHTML;\n            } else {\n                // Login succeeded. We load the user's info, messages and also a form in which he can type messages\n                // Save the token received from the server. Could also be stored as a cookie\n                localStorage.setItem('token', data.token);\n                // Go to the home page\n                go_home();\n            }\n        }).fail(function(jqXHR) { // Handle failure\n                console.log(\"ajax error upon sign in \" + jqXHR.status);\n            }\n        );\n        location.reload();\n\n}\n</code></pre>\n\n<p>The server side code that handle's the request is:</p>\n\n<p><strong>serverside.py</strong></p>\n\n<pre><code>@app.errorhandler(400)\ndef page_not_found(e):\n    # This page is returned if the request does not contain a json object\n    page_body = 'document.getElementById(\\\"welcomeview\\\").innerHTML;'\n    return render_template('client.html', page_body=page_body)\n\n@app.route('/sign_in', methods=['POST'])\ndef sign_in_helper():\n    json_obj, code = decorator(sign_in, request, check_token=False)\n    # Check if the credentials are valid\n    if code == 401:\n        # Invalid login\n        page_body = 'document.getElementById(\\\"welcomeview\\\").innerHTML; alert(\\\"Invalid credentials!\\\")'\n        return render_template('client.html', page_body=page_body)\n    else:\n        # Return the token, the operation completion flag and the response code\n        return json_obj, code\n\ndef sign_in(email, password):\n    data = query_db('SELECT * FROM Users WHERE email = ?', [email], one=True)\n\n    if data and check_password_hash(data[\"password\"], password):\n        token = token_creator()\n        insert_db('UPDATE Users SET token = ? WHERE email = ?', [token, email])\n        return jsonify(\n            successSignIn=True,\n            message=\"Welcome\",\n            data=json.dumps({'token': token}),\n        ), 200\n    return jsonify(\n        successSignIn=False,\n        message=\"Username or password invalid\"), 401\n\ndef decorator(func, request, check_token):\n    data = request.get_json(force=True)\n\n    try:\n        if check_token:\n            token = data.get('token', None)\n            if token:\n                user = query_db('SELECT * FROM Users WHERE token = ?', [token], one=True)\n                if user:\n                    json_obj, code = func(**data)\n                else:\n                    json_obj = jsonify(success=False, message='Invalid token')\n                    code = 401\n            else:\n                json_obj = jsonify(success=False, message='Misformatted data.')\n                code = 400\n        else:\n            json_obj, code = func(**data)\n    except (KeyError, TypeError, ValueError):\n        json_obj = jsonify(success=False, message='Misformatted data.')\n        code = 400\n    return json_obj, code\n</code></pre>\n\n<p>If I set the action attribute of the form to <strong>/sign_in</strong> the error is no longer sent, but then there are two submissions of the form data: one from the form and one in the AJAX call. </p>\n\n<p>Why isn't the inner html set accordingly within the jquery call? </p>\n"}, {"tags": ["python", "server", "client", "pyro"], "answers": [{"tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": false, "score": 0, "last_activity_date": 1443875068, "last_edit_date": 1443875068, "creation_date": 1443815616, "answer_id": 32914845, "question_id": 32873113, "link": "https://stackoverflow.com/questions/32873113/pyro4-tutorial-error-on-different-machines-not-enough-data/32914845#32914845", "title": "Pyro4 Tutorial, Error on different machines: not enough data", "body": "<p>The code as posted works fine, I'm running it on my machine without problems. Ofcourse I've replaced your IP address with the hostname of my machine.</p>\n\n<p>So it's a problem of your network setup, or a difference in software configuration on your server and client machines.</p>\n\n<p>To rule out any problems with the network, have you tried to run it all on the same machine (the server)? Is the problem only with the viewer (meaning: after starting just the stockmarket and aggregator, are they printing stock tickers without errors?)</p>\n\n<p>Also, enable debug logging and see if you can find anything useful in the logs that Pyro produces. Maybe it will point you to the problem. Have a look at <a href=\"http://pythonhosted.org/Pyro4/tipstricks.html#logging\" rel=\"nofollow\">http://pythonhosted.org/Pyro4/tipstricks.html#logging</a></p>\n\n<p>Finally - you really have to provide more information to be able to even begin figuring out what could be the issue. What OS are you using on server and client? What Python and Pyro versions on server and client? etc.</p>\n"}], "owner": {"reputation": 43, "user_id": 3711740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VKvSb.jpg?s=128&g=1", "display_name": "James Guo", "link": "https://stackoverflow.com/users/3711740/james-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1015, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443875068, "creation_date": 1443637270, "question_id": 32873113, "link": "https://stackoverflow.com/questions/32873113/pyro4-tutorial-error-on-different-machines-not-enough-data", "title": "Pyro4 Tutorial, Error on different machines: not enough data", "body": "<p>I started to use Pyro4 from yesterday, so I'm experimenting the tutorial code from the official document. Everything ran perfectly locally, but I encountered problems when I adapt these examples in different machines, specifically, the stockmarket example. So here is my adapted code on server and client.<br>\n==== Server Side ====<br>\nstockmarket.py<br></p>\n\n<pre><code>from __future__ import print_function\nimport random\nimport threading\nimport time\nimport Pyro4\n\nclass StockMarket(object):\n    def __init__(self, marketname, symbols):\n        self.name = marketname\n        self.symbolmeans = {}\n        for symbol in symbols:\n            self.symbolmeans[symbol] = random.uniform(20, 200)\n        self.aggregators = []\n\n    def generate(self):\n        quotes = {}\n        for symbol, mean in self.symbolmeans.items():\n            if random.random() &lt; 0.2:\n                quotes[symbol] = round(random.normalvariate(mean, 20), 2)\n        print(\"new quotes generated for\", self.name)\n        for aggregator in self.aggregators:\n            aggregator.quotes(self.name, quotes)\n\n    def listener(self,aggregator):\n        print(\"market {0} adding new aggregator\".format(self.name))\n        self.aggregators.append(aggregator)\n\n    def symbols(self):\n        return list(self.symbolmeans.keys())\n\n    def run(self):\n        def generate_symbols():\n            while True:\n                time.sleep(random.random())\n                self.generate()\n        thread = threading.Thread(target=generate_symbols)\n        thread.setDaemon(True)\n        thread.start()\n\ndef main():\n    nasdaq = StockMarket(\"NASDAQ\", [\"AAPL\", \"CSCO\", \"MSFT\", \"GOOG\"])\n    newyork = StockMarket(\"NYSE\", [\"IBM\", \"HPQ\", \"BP\"])\n\n    daemon = Pyro4.Daemon(\"159.8.183.94\")\n    nasdaq_uri = daemon.register(nasdaq, \"nasdaq\")\n    newyork_uri = daemon.register(newyork, \"newyork\")\n    ns = Pyro4.locateNS()\n    ns.register(\"example.stockmarket.nasdaq\", nasdaq_uri)\n    ns.register(\"example.stockmarket.newyork\", newyork_uri)\n    nasdaq.run()\n    newyork.run()\n    print(\"Stockmarkets running.\")\n    daemon.requestLoop()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>aggregator.py<br></p>\n\n<pre><code>from __future__ import print_function\nimport Pyro4\n\nclass Aggregator(object):\n    def __init__(self):\n        self.viewers = {}\n        self.symbols = []\n    def add_symbols(self, symbols):\n        self.symbols.extend(symbols)\n\n    def available_symbols(self):\n        return self.symbols\n\n    def view(self, viewer, symbols):\n        print(\"aggregator gets a new viewer, for symbols:\", symbols)\n        self.viewers[viewer] = symbols\n\n    def quotes(self, market, stockquotes):\n        print (market)\n        print (stockquotes)\n        for symbol, value in stockquotes.items():\n            for viewer, symbols in self.viewers.items():\n                if symbol in symbols:\n                    viewer.quote(market, symbol, value)\n\n\ndef main():\n    aggregator = Aggregator()\n    daemon = Pyro4.Daemon(host=\"159.8.183.94\")\n    agg_uri = daemon.register(aggregator, \"aggregator\")\n    ns = Pyro4.locateNS()\n    ns.register(\"example.stockquote.aggregator\", agg_uri)\n    for market, market_uri in ns.list(prefix=\"example.stockmarket.\").items():\n        print(\"joining market\", market)\n        stockmarket = Pyro4.Proxy(market_uri)\n        stockmarket.listener(aggregator)\n        aggregator.add_symbols(stockmarket.symbols())\n    if not aggregator.available_symbols():\n        raise ValueError(\"no symbols found! (have you started the stock market first?)\")\n    print(\"Aggregator running. Symbols:\", aggregator.available_symbols())\n    daemon.requestLoop()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>==== Client Side ====<br>\nviewer.py</p>\n\n<pre><code>from __future__ import print_function\nimport sys\nimport Pyro4\n\nif sys.version_info &lt; (3,0):\n    input = raw_input\n\n\nclass Viewer(object):\n    def quote(self, market, symbol, value):\n        print(\"{0}.{1}: {2}\".format(market, symbol, value))\n\n\ndef main():\n    viewer = Viewer()\n    daemon = Pyro4.Daemon()\n    daemon.register(viewer)\n    ns = Pyro4.locateNS(host=\"159.8.183.94\", port=8080)\n    aggregator_uri = ns.lookup(\"example.stockquote.aggregator\")\n    print (\"aggregator uri is \", aggregator_uri)\n    aggregator = Pyro4.Proxy(aggregator_uri)\n    print(\"Available stock symbols:\", aggregator.available_symbols())\n    symbols = input(\"Enter symbols you want to view (comma separated):\")\n    symbols = [symbol.strip() for symbol in symbols.split(\",\")]\n    aggregator.view(viewer, symbols)\n    print(\"Viewer listening on symbols\", symbols)\n    daemon.requestLoop()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>==== How I run the code ====<br>\nOn server machine, I ran the following code to define name server</p>\n\n<pre><code>python -m Pyro4.naming --host 159.8.183.94 --port 8080\n</code></pre>\n\n<p>Then I ran stockmarket.py and aggregator.py, everything is fine so far. Afer that, I started viewer.py, type the symbols I want to see, then I observe an error from stockmarket.py<br></p>\n\n<pre><code>Exception in thread Thread-18:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 763, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"stockmarket.py\", line 37, in generate_symbols\n    self.generate()\n  File \"stockmarket.py\", line 24, in generate\n    aggregator.quotes(self.name, quotes)\n  File \"/usr/local/lib/python2.7/dist-packages/Pyro4/core.py\", line 171, in __call__\n    return self.__send(self.__name, args, kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/Pyro4/core.py\", line 410, in _pyroInvoke\n    msg = message.Message.recv(self._pyroConnection, [message.MSG_RESULT], hmac_key=self._pyroHmacKey)\n  File \"/usr/local/lib/python2.7/dist-packages/Pyro4/message.py\", line 168, in recv\n    msg = cls.from_header(connection.recv(cls.header_size))\n  File \"/usr/local/lib/python2.7/dist-packages/Pyro4/socketutil.py\", line 448, in recv\n    return receiveData(self.sock, size)\n  File \"/usr/local/lib/python2.7/dist-packages/Pyro4/socketutil.py\", line 182, in receiveData\n    raise err\nConnectionClosedError: receiving: not enough data\n</code></pre>\n\n<p>I think it's only a small bug in my code, and I've been stuck here for several hours, any suggestions or help will be very appreciated!! Thanks!!</p>\n"}, {"tags": ["python", "directory"], "comments": [{"owner": {"reputation": 955, "user_id": 3875230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZ7le.png?s=128&g=1", "display_name": "mugabits", "link": "https://stackoverflow.com/users/3875230/mugabits"}, "edited": false, "score": 1, "creation_date": 1443638187, "post_id": 32873076, "comment_id": 53578285, "body": "You&#39;ve got a few good answers already, but as a recommendation if you do not need the two leading zeros, why not try the numbering to be IMG_0016 to IMG_0160. This would help if you ever need to sort them."}], "answers": [{"comments": [{"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "reply_to_user": {"reputation": 4481, "user_id": 1759565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssrUD.jpg?s=128&g=1", "display_name": "soupault", "link": "https://stackoverflow.com/users/1759565/soupault"}, "edited": false, "score": 1, "creation_date": 1443638327, "post_id": 32873115, "comment_id": 53578363, "body": "It fixes the primary problem with the code. I&#39;m aware that his code isn&#39;t exactly &quot;good&quot;, but it&#39;s not my job to fix it for him when it falls outside the scope of the problem."}], "tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": false, "score": 3, "last_activity_date": 1443637273, "creation_date": 1443637273, "answer_id": 32873115, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially/32873115#32873115", "title": "Creating 100+ folders and naming them sequentially", "body": "<p>You are redeclaring <code>count = 0016</code> every loop iteration. Put this outside the loop.</p>\n\n<pre><code>import os\n\ncount = 0016\n\nfor folders in range (0, 143):\n\n    os.makedirs(\"C:\\\\Users\\joshuarb\\Desktop\\Organized_Images\n    IMG\"+count)\n\n    count = count+1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6319, "user_id": 3754432, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dcf9ff1192f75be8c4b94b025019d4c2?s=128&d=identicon&r=PG&f=1", "display_name": "Ronan Paix&#227;o", "link": "https://stackoverflow.com/users/3754432/ronan-paix%c3%a3o"}, "is_accepted": true, "score": 4, "last_activity_date": 1443637718, "creation_date": 1443637718, "answer_id": 32873228, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially/32873228#32873228", "title": "Creating 100+ folders and naming them sequentially", "body": "<p>It is easier and more readable to use the direct numbers (note that you want to use 161 in the <code>range()</code> call, since the last number is not included):</p>\n\n<pre><code>import os\n\nfor count in range (16, 161):\n    os.makedirs(\"C:\\\\Users\\joshuarb\\Desktop\\Organized_Images\\IMG_{:04d}\".format(count))\n</code></pre>\n\n<p>Also notice that I used a zero-padding with width 4, since your naming convention differs for IMG_0016 and IMG_00160 so I chose to limit to DOS' usual 8-character. Adjust according to your needs.</p>\n"}, {"tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1443638202, "last_edit_date": 1443638202, "creation_date": 1443637742, "answer_id": 32873233, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially/32873233#32873233", "title": "Creating 100+ folders and naming them sequentially", "body": "<p>Stop manually keeping track of <code>count</code> and use the results of <code>range</code>:</p>\n\n<pre><code>first_num = 16\nfolder_count = 143\nbase_path = r\"C:\\Users\\joshuarb\\Desktop\\Organized_Images\"\n\nfor folder_num in range(first_num, first_num + folder_count):\n    os.makedirs(os.path.join(base_path, \"IMG\"+str(folder_num).zfill(4)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4481, "user_id": 1759565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssrUD.jpg?s=128&g=1", "display_name": "soupault", "link": "https://stackoverflow.com/users/1759565/soupault"}, "is_accepted": false, "score": 1, "last_activity_date": 1443638245, "last_edit_date": 1443638245, "creation_date": 1443637878, "answer_id": 32873264, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially/32873264#32873264", "title": "Creating 100+ folders and naming them sequentially", "body": "<p>First of all, for this kind of task there is no neccessity to use temporary variable. Use may and should use variable which iterates over range.</p>\n\n<p>Secondly, <code>range</code> creates range from 0 by default, so you may drop the left interval boundary. For your specific task, the best way is to iterate over required interval: from 16 to 160.</p>\n\n<p>Thirdly, in Windows it is better to use raw-string to store path or mask every backslash, because single backslash is recognized as start of meta-symbol.</p>\n\n<p>And the latest thing, it is recommended to use <code>format</code> while joining strings.</p>\n\n<p>So, the final solution may look like this:</p>\n\n<pre><code>import os\nbase_path = \"C:\\\\Users\\\\joshuarb\\\\Desktop\\\\Organized_Images\\\\\"\ndir_basename = \"IMG_00\"\nfor index in range(16, 161):\n    os.makedirs(\"{}{}{}\".format(base_path, dir_basename, index))\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4039035"}, "is_accepted": false, "score": 0, "last_activity_date": 1443638244, "creation_date": 1443638244, "answer_id": 32873347, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially/32873347#32873347", "title": "Creating 100+ folders and naming them sequentially", "body": "<pre><code>import os\n\nfor folders in range(1,5):\n\n    os.makedirs(os.getcwd()+'/folder00'+ str(folders))\n</code></pre>\n\n<p>use <code>os.getcwd()</code> if the target at same directory else give some path</p>\n"}], "owner": {"reputation": 43, "user_id": 5332119, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4b08bd1c85247b9088e558b7581b5e50?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/5332119/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 0, "closed_date": 1600934046, "accepted_answer_id": 32873228, "answer_count": 5, "score": 0, "last_activity_date": 1443638263, "creation_date": 1443637132, "last_edit_date": 1443638263, "question_id": 32873076, "link": "https://stackoverflow.com/questions/32873076/creating-100-folders-and-naming-them-sequentially", "closed_reason": "Not suitable for this site", "title": "Creating 100+ folders and naming them sequentially", "body": "<p>I'm trying to create 143 folders using the os.makedirs() tool, but I'm having some trouble. I can only generate one folder at a time, and I'd like to make all of them at once. I would like the folders to be named IMG_0016 through IMG_00160.</p>\n\n<p>I thought of trying a for loop with a counter, where each loop would add the new number to the end of the folder title, but I can't get it to work.</p>\n\n<pre><code>import os\n\nfor folders in range(0, 143):\n    count = 0016\n\n    os.makedirs(\"C:\\\\Users\\joshuarb\\Desktop\\Organized_Images\\IMG\"+count)\n\n    count = count+1\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1443637340, "post_id": 32873021, "comment_id": 53577859, "body": "you need to switch using driver.switch_to.window() to your pop-up"}, {"owner": {"reputation": 508, "user_id": 4772857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e35a801cf2b262c5f0d8343fe6ebc97?s=128&d=identicon&r=PG&f=1", "display_name": "BriceP", "link": "https://stackoverflow.com/users/4772857/bricep"}, "edited": false, "score": 1, "creation_date": 1443643792, "post_id": 32873021, "comment_id": 53580963, "body": "Probably not related to your question, but : Why do you make a recursive call to upload? Isn&#39;t it easier and lighter to create a loop ?"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1443706387, "post_id": 32873021, "comment_id": 53607577, "body": "@BigOldTree I do not understand can you please expand ?"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 508, "user_id": 4772857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e35a801cf2b262c5f0d8343fe6ebc97?s=128&d=identicon&r=PG&f=1", "display_name": "BriceP", "link": "https://stackoverflow.com/users/4772857/bricep"}, "edited": false, "score": 0, "creation_date": 1443706459, "post_id": 32873021, "comment_id": 53607622, "body": "@BriceP the upload function includes a while loop, drop down element selection, before reaching the upload page, and I wanna repeat all these steps and thought that recursive function would be ideal"}, {"owner": {"reputation": 508, "user_id": 4772857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e35a801cf2b262c5f0d8343fe6ebc97?s=128&d=identicon&r=PG&f=1", "display_name": "BriceP", "link": "https://stackoverflow.com/users/4772857/bricep"}, "edited": false, "score": 0, "creation_date": 1443795497, "post_id": 32873021, "comment_id": 53646428, "body": "Ok. I&#39;m not sure, but I think that using a recursion instead of a loop (even if it is nested into another one) won&#39;t unload the objects from one pass to the next one, as the main function is not finished until every other is. If you make a loop, I would say that the local variables used in the loop are deleted before the next loop runs. But as i said, I don&#39;t think it is related in any way to your problem..."}], "answers": [{"tags": [], "owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "is_accepted": true, "score": 1, "last_activity_date": 1443788705, "creation_date": 1443788705, "answer_id": 32907132, "question_id": 32873021, "link": "https://stackoverflow.com/questions/32873021/how-can-we-wait-for-a-message-text-to-pop-up-in-selenium/32907132#32907132", "title": "How can we wait for a message text to pop up in selenium", "body": "<p>For all those whom had the same issue I found a solution, and it is using <code>EC.presence_of_element_located</code> instead. Which waits for the element to be located or throws an error after 20 minutes</p>\n\n<pre><code>success_wait = WebDriverWait(driver, 1800)\nsuccess_element = success_wait.until(EC.presence_of_element_located((By.ID, \"successmessage\")))\n</code></pre>\n"}], "owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1483, "favorite_count": 0, "accepted_answer_id": 32907132, "answer_count": 1, "score": 2, "last_activity_date": 1443788705, "creation_date": 1443636905, "last_edit_date": 1443706816, "question_id": 32873021, "link": "https://stackoverflow.com/questions/32873021/how-can-we-wait-for-a-message-text-to-pop-up-in-selenium", "title": "How can we wait for a message text to pop up in selenium", "body": "<p>I have this selenium application that contains an uploads file function that gets called recursively after every upload on the website</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>The function is being called very quickly and it is not waiting for the upload to be done. Which is messing up the whole application process. I know I can add <code>time.sleep()</code> however I do not know the size of the files and how long the upload will take. So I prefer to add a check to see if the files are uploaded</p>\n\n<p><strong>My Solution</strong></p>\n\n<p>Luckily for me a successful message pops up when uploads are done</p>\n\n<p><a href=\"https://i.stack.imgur.com/v6ckF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6ckF.png\" alt=\"enter image description here\"></a></p>\n\n<p>So I decided to add the <code>success_element</code> that waits for the success message to pop out as seen in the code below</p>\n\n<pre><code>def upload(driver, fileNum, filePath):\n      #click ok to upload\n      ok_link = driver.find_element_by_class_name(\"borderButton\")\n      ok_link.click()\n      #wait for success message to pop out( FAILS )\n      success_wait = WebDriverWait(driver, 1200)\n      success_element =   success_wait.until(EC.visibility_of_element_located(By.LINK_TEXT(\"File(s) have(s) been uploaded successfully!\")))\n      #call function again to upload more after succesful message pops out\n      upload(driver, fileNum, filePath)\n</code></pre>\n\n<p><strong>Error</strong>:</p>\n\n<p>I got this error below right after the first group of files are uploaded, because it did not find the success message right away, which it is not supposed to anyway and I thought it would wait for it after upload is done for 1200 seconds (roughly 20 minutes which is the max)</p>\n\n<p>How can I solve this problem. Any other solutions ?</p>\n\n<blockquote>\n  <p>success_element =\n  success_wait.until(EC.visibility_of_element_located(By.LINK_TEXT(\"File(s)\n  have(s) been uploaded successfully!\"))) TypeError: 'str' object is not\n  callable</p>\n</blockquote>\n"}, {"tags": ["python", "django", "httpresponse", "http-response-codes", "django-errors"], "comments": [{"owner": {"reputation": 933, "user_id": 157248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f63743506e699184c82414410147923?s=128&d=identicon&r=PG", "display_name": "Oli", "link": "https://stackoverflow.com/users/157248/oli"}, "edited": false, "score": 0, "creation_date": 1443638440, "post_id": 32872979, "comment_id": 53578433, "body": "What else is in your project urls.py?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1443638657, "post_id": 32872979, "comment_id": 53578556, "body": "On the 404 page, does it say: &#39;Django tried these URL patterns&#39;? If so, please add the output to your question."}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "reply_to_user": {"reputation": 933, "user_id": 157248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f63743506e699184c82414410147923?s=128&d=identicon&r=PG", "display_name": "Oli", "link": "https://stackoverflow.com/users/157248/oli"}, "edited": false, "score": 0, "creation_date": 1443639008, "post_id": 32872979, "comment_id": 53578763, "body": "@Oli it is a commercial project and I am not supposed to display all of them. But can you please tell me how they may be related? I am using third party apps like userena. Does it effect? All i want is just a simple request and a simple response, as of now. Is middleware effecting my HttpResponse object? It should not be the case as with the same middleware installed I have tried in another clean project generating a httpresponse of this kind and it got generated properly unlike this one!"}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443639144, "post_id": 32872979, "comment_id": 53578827, "body": "Also, do you think that not using a template is affecting it ?"}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1443639259, "post_id": 32872979, "comment_id": 53578888, "body": "@Alasdair No. It doesn&#39;t say anything. All I get is a 404 page. Very hard to debug despite the debug mode being set to True!"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1443641422, "post_id": 32872979, "comment_id": 53579909, "body": "Try moving <code>url(r&#39;^loginapi&#47;&#39;, include(&#39;loginapi.urls&#39;)),</code> to the very top of the patterns in your root urls.py, to make sure it isn&#39;t being shadowed by something else."}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1443641663, "post_id": 32872979, "comment_id": 53580025, "body": "@Alasdair wow!!! it worked! Thanks a ton. never realized that this could be the case. I now understand the difference between an experienced programmer and a novice :)"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1443642031, "post_id": 32872979, "comment_id": 53580180, "body": "Glad it worked :) In newer versions of Django, the 404 page will tell you which view raised the 404, which makes the problem more obvious."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443642546, "post_id": 32874280, "comment_id": 53580428, "body": "Just curious, what could be its security implications, if any?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443642617, "post_id": 32874280, "comment_id": 53580452, "body": "I&#39;m not sure what you mean. The risk of adding a url pattern at the top is that it accidentally shadows existing urls that are handled by other url patterns. That&#39;s a bug, but it&#39;s not necessarily a security problem. In your case, <code>^loginapi&#47;</code> is pretty specific so it seems unlikely that you&#39;d shadow another url pattern accidentally. However, I don&#39;t know the contents of your url patterns, so it&#39;s up to you to check."}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443642824, "post_id": 32874280, "comment_id": 53580539, "body": "Of bringing in my URL to the TOP of the other URLs. Why would someone use some configuration to shadow other URLS as it happened in my case when mine was at the bottom?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443643036, "post_id": 32874280, "comment_id": 53580629, "body": "I don&#39;t know the contents of your urls so I can&#39;t offer any suggestions. You&#39;ll have to ask the person who wrote it."}, {"owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "edited": false, "score": 0, "creation_date": 1443643315, "post_id": 32874280, "comment_id": 53580739, "body": "Ok thankyou. Actually the person who wrote it is no more in the vicinity and I am all by myself. But thanks for your help."}, {"owner": {"reputation": 508, "user_id": 4772857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e35a801cf2b262c5f0d8343fe6ebc97?s=128&d=identicon&r=PG&f=1", "display_name": "BriceP", "link": "https://stackoverflow.com/users/4772857/bricep"}, "edited": false, "score": 1, "creation_date": 1443644411, "post_id": 32874280, "comment_id": 53581275, "body": "If you use Django&#39;s flatpages, for example, there is such a catchall functionality. Its url pattern, if you don&#39;t use a prefix sur as &quot;pages/&quot;, must be placed at the end of the patterns list, as if the url isn&#39;t found in the flatpage&#39;s db, it will return a 404 without waitingfor the rest of the urls to match (see <a href=\"https://docs.djangoproject.com/en/1.8/ref/contrib/flatpages/#using-the-urlconf\" rel=\"nofollow noreferrer\">this</a> for more info)."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 0, "last_activity_date": 1443641907, "creation_date": 1443641907, "answer_id": 32874280, "question_id": 32872979, "link": "https://stackoverflow.com/questions/32872979/django-app-throwing-a-404-error-despite-a-proper-httpresponse-sent-form-view/32874280#32874280", "title": "Django app throwing a 404 error despite a proper HttpResponse sent form view", "body": "<p>Try moving <code>url(r'^loginapi/', include('loginapi.urls')),</code> to the very top of the patterns in your root urls.py, to make sure it isn't being shadowed by something else.</p>\n\n<p>As an example, consider the following urlpatterns:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^', views.catch_all),\n    url(r'^loginapi/', include('loginapi.urls'))\n]\n</code></pre>\n\n<p>A request to <code>/loginapi/</code> will be matched by the regex <code>^'</code>, and handled by the <code>catch_all</code> view instead of the intended loginapi view. You can fix the problem by moving the catch_all url pattern below the other ones.</p>\n"}], "owner": {"reputation": 11, "user_id": 5394208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYL_dfAFRo/AAAAAAAAAAI/AAAAAAAAABI/_Ul0W4e1TMI/photo.jpg?sz=128", "display_name": "Anton Chigurh", "link": "https://stackoverflow.com/users/5394208/anton-chigurh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 610, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443641907, "creation_date": 1443636751, "question_id": 32872979, "link": "https://stackoverflow.com/questions/32872979/django-app-throwing-a-404-error-despite-a-proper-httpresponse-sent-form-view", "title": "Django app throwing a 404 error despite a proper HttpResponse sent form view", "body": "<p>I have been making a Django app within an existing Django project. All I wanted to test is whether my newly built app sends the correct HttpResponse text object to my browser from the view I wrote in views.pay of my app. The urls have been properly configured and also has been included in the project. Also, the project has my app added to its installed apps. </p>\n\n<p>My urls.py in the project has :</p>\n\n<pre><code>url(r'^loginapi/', include('loginapi.urls')),\n</code></pre>\n\n<p>My urls.py in the app has :</p>\n\n<pre><code>  urlpatterns = patterns('',\n        url(r'^$', views.authenticateRemoteUser, name = 'loginAPIUrl'),\n    )\n</code></pre>\n\n<p>My installed apps in the project settings.py files has :</p>\n\n<pre><code>INSTALLED_APPS += (\n    'core',\n    'people',\n    'places',\n    'media',\n    #Just added loginapi app to test my HTTP post request\n    'loginapi',\n)\n</code></pre>\n\n<p>My View is as follows : </p>\n\n<pre><code>from django.http import HttpResponse\n\ndef authenticateRemoteUser(request):\n        return HttpResponse(\"hello world\")\n</code></pre>\n\n<p>Additional Data ::</p>\n\n<p>Middleware are as follows : </p>\n\n<pre><code>MIDDLEWARE_CLASSES = (\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n)\n</code></pre>\n\n<p>What I am getting on browser is as follows:</p>\n\n<pre><code>Page not found (404)\nRequest Method: GET\nRequest URL:    http://www.example.com/loginapi/\n</code></pre>\n\n<p>(Can't post image without 10 reputations)</p>\n\n<p>Note : www.example.com is used for local usage and has been added to my hosts for my server ip. So, not a problem.</p>\n\n<p>Note2 : My app is deployed in AWS EC2 but I don't think it is the reason. </p>\n\n<p>Note3 : Do not bother about my url as I intend to build a larger app once this step has been crossed. </p>\n"}]