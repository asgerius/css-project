[{"tags": ["python", "python-2.7", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 4953, "user_id": 3396911, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/JJTmY.jpg?s=128&g=1", "display_name": "hernanavella", "link": "https://stackoverflow.com/users/3396911/hernanavella"}, "edited": false, "score": 0, "creation_date": 1426119245, "post_id": 28999684, "comment_id": 46247423, "body": "Very very nice. Thanks"}], "tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1426119461, "last_edit_date": 1426119461, "creation_date": 1426118534, "answer_id": 28999684, "question_id": 28999595, "link": "https://stackoverflow.com/questions/28999595/pythonic-way-of-obtaining-serial-correlation-of-elements-in-pandas-dataframe/28999684#28999684", "title": "Pythonic way of obtaining serial correlation of elements in pandas dataframe", "body": "<p>You can use a <code>DataFrame's</code> <code>shift</code> method. Note: this will produce NaN if either of the values being compared is 0.</p>\n\n<pre><code>result = (A.shift() * A).dropna()\nresult /= result.abs()\nprint(result)\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>   A  B  C\n2  1  1 -1\n3  1 -1 -1\n4 -1  1 -1\n5  1  1 -1\n</code></pre>\n"}], "owner": {"reputation": 4953, "user_id": 3396911, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/JJTmY.jpg?s=128&g=1", "display_name": "hernanavella", "link": "https://stackoverflow.com/users/3396911/hernanavella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 28999684, "answer_count": 1, "score": 2, "last_activity_date": 1426119461, "creation_date": 1426118002, "last_edit_date": 1426118328, "question_id": 28999595, "link": "https://stackoverflow.com/questions/28999595/pythonic-way-of-obtaining-serial-correlation-of-elements-in-pandas-dataframe", "title": "Pythonic way of obtaining serial correlation of elements in pandas dataframe", "body": "<p>Given a dataframe</p>\n\n<pre><code>A = pd.DataFrame([[1, -5, 2], [2, -4, -4], [3, 3, 1], [-4, 2, -2], [-5, 1, 4]],\n                 columns=['A', 'B', 'C'], index=[1, 2, 3, 4, 5])\n</code></pre>\n\n<p>In a pythonic way, how can I obtain the serial correlation of consecutive elements of the column pairwise. The serial correlation is simple:</p>\n\n<p>For example for the first to elements of column A:</p>\n\n<p>If element <code>1A &gt; 0 &amp; 2A &gt; 0 or 1A &lt; 0 &amp; 2A &lt; 0 Serial Correlation = 1</code></p>\n\n<p>If element <code>1A &gt; 0 &amp; 2A &lt; 0 or 1A &lt; 0 &amp; 2A &gt; 0 Serial Correlation = -1</code></p>\n\n<p>And you would go down the column comparing each element to the previous.</p>\n\n<p>The desired output with our dummy df.</p>\n\n<pre><code>   A  B  C\n1        \n2  1  1 -1\n3  1 -1 -1\n4 -1  1 -1\n5  1  1 -1\n</code></pre>\n\n<p>Then I would do something like <code>serial_corr = df.mean()</code>, to get the total s.correlation for the column.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "linux", "caching", "profiling"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1426118217, "post_id": 28999592, "comment_id": 46247121, "body": "Load a bunch of random other files in the interim? That&#39;s kind of a brutish soln."}, {"owner": {"reputation": 164, "user_id": 3487718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec17a16900e3e1342e5483e5f6e5181f?s=128&d=identicon&r=PG&f=1", "display_name": "SketchyManDan", "link": "https://stackoverflow.com/users/3487718/sketchymandan"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1426118468, "post_id": 28999592, "comment_id": 46247179, "body": "Do you mean for those random files to take the place of whatever was cached by the script?  If so wouldn&#39;t that be also kind of time consuming and still not be accurate?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1426118518, "post_id": 28999592, "comment_id": 46247196, "body": "You load those files when you are NOT measuring the time... ;)"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1426120937, "post_id": 28999592, "comment_id": 46247844, "body": "My opinion on this is that trying to remove all variable factors from the system is going to be difficult if not impossible. Maybe you need to back up a bit and explain what it is you are trying to achieve. Getting &quot;accurate stats&quot; is a means not an ends. So what is your ends? Depending on that, the degree of &quot;accurate stats&quot; required may change and make your problem easier to solve."}, {"owner": {"reputation": 164, "user_id": 3487718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec17a16900e3e1342e5483e5f6e5181f?s=128&d=identicon&r=PG&f=1", "display_name": "SketchyManDan", "link": "https://stackoverflow.com/users/3487718/sketchymandan"}, "edited": false, "score": 0, "creation_date": 1426191203, "post_id": 28999592, "comment_id": 46282487, "body": "The example above is pretty much what i was profiling, i had to read between 400-2000 images to extract some data from the headers of each, but I wasn&#39;t sure how to make sure that each and everytime i run the script that nothing was cached/getting reused etc"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1426222670, "post_id": 28999592, "comment_id": 46292701, "body": "The question isn&#39;t what are you profiling. The question is what are you trying to achieve with the profiling? For example, your program is taking 2 minutes and you want to reduce that down to at least under 30 seconds. For such an example, you probably don&#39;t need to try and remove all caching and other variable effects to achieve that. In other words, why do you think you need super accurate and repeatable profiling stats? What is it that you are trying to achieve that requires that?"}, {"owner": {"reputation": 164, "user_id": 3487718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec17a16900e3e1342e5483e5f6e5181f?s=128&d=identicon&r=PG&f=1", "display_name": "SketchyManDan", "link": "https://stackoverflow.com/users/3487718/sketchymandan"}, "edited": false, "score": 0, "creation_date": 1426369282, "post_id": 28999592, "comment_id": 46346479, "body": "maybe accurate was the wrong word, i think consistency is more what i was after, that&#39;s why i mentioned caching, because if all of those images were cached, it would run much faster.  then if in between tests, something flushed part of the cache or overwrite it, then i would get a different speed result again."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1426462242, "post_id": 28999592, "comment_id": 46370453, "body": "Sorry to hammer the point. But the question is still the same. What is your end goal? Why do you need the stats to be consistent? I guess having consistent stats is a valid goal in itself (though there usually is a purpose behind doing such things). So if that is your end goal then just say so. On the other hand if, for example, you are trying to find performance issues with your application then some variability in stats might still be adequate to achieve that goal. Hence the repeated questions - why are you profiling and what do you hope to achieve with the profiled data?"}], "owner": {"reputation": 164, "user_id": 3487718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec17a16900e3e1342e5483e5f6e5181f?s=128&d=identicon&r=PG&f=1", "display_name": "SketchyManDan", "link": "https://stackoverflow.com/users/3487718/sketchymandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426119971, "creation_date": 1426117993, "last_edit_date": 1426119971, "question_id": 28999592, "link": "https://stackoverflow.com/questions/28999592/how-do-i-make-sure-my-profiling-stats-are-accurate-consistent-on-linux", "title": "How do I make sure my profiling stats are accurate/consistent on Linux?", "body": "<p>When I'm profiling a python script for example.  Lets say I opened 1000 images, read some of the header data, and then printed that data to the screen.</p>\n\n<p>How can I sure that next time I run this script that nothing has been cached, or being kept in ram etc, and it is being run as if its the first time again?</p>\n\n<p>I'm using Centos and I've seen commands to flush the cache like:</p>\n\n<pre><code>free &amp;&amp; sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches &amp;&amp; free\n</code></pre>\n\n<p>But this has to be run as root which I'm trying to avoid, and is this enough to make sure that I'll get accurate stats next time I run the script?</p>\n\n<p>Edit - Also if this is a plugin for another program, would you have to close that program every time to get accurate results?</p>\n"}, {"tags": ["python", "sqlite", "flask"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 2683781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7d9e674f463e62ffb0b180e2f63b97cc?s=128&d=identicon&r=PG", "display_name": "Spideynn", "link": "https://stackoverflow.com/users/2683781/spideynn"}, "edited": false, "score": 0, "creation_date": 1426118956, "post_id": 28999653, "comment_id": 46247334, "body": "This is one of the things that they never mention in the tutorials. Thanks!"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1426118363, "creation_date": 1426118363, "answer_id": 28999653, "question_id": 28999591, "link": "https://stackoverflow.com/questions/28999591/flask-request-form-username-does-not-equal-database-text-when-it-should/28999653#28999653", "title": "Flask request form username does not equal database text when it should", "body": "<p>You are not fetching the column value from the result. Try rewriting it as:</p>\n\n<pre><code>if request.form['username'] != db.execute('SELECT username FROM users WHERE username=?', (request.form['username'],)).fetchone()['username']:\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 2683781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7d9e674f463e62ffb0b180e2f63b97cc?s=128&d=identicon&r=PG", "display_name": "Spideynn", "link": "https://stackoverflow.com/users/2683781/spideynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 0, "accepted_answer_id": 28999653, "answer_count": 1, "score": 0, "last_activity_date": 1426118363, "creation_date": 1426117991, "question_id": 28999591, "link": "https://stackoverflow.com/questions/28999591/flask-request-form-username-does-not-equal-database-text-when-it-should", "title": "Flask request form username does not equal database text when it should", "body": "<p>When checking if the textbox username equals the username from the database, it doesn't equal when it should. I tested this on a separate debug page where it would print out the text from the database, and it printed out the right text. I printed out the username in the error text to test it, and it printed out the same username, but Python says the form username does not equal the database username.</p>\n\n<p>Login Page Code:</p>\n\n<pre><code>@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    db = get_db().cursor()\n    error = None\n    if request.method == 'POST':\n        if request.form['username'] != db.execute('SELECT username FROM users WHERE username=?', (request.form['username'],)).fetchone():\n            error = 'Invalid username. Username text was: ' + request.form['username']\n        elif request.form['password'] != db.execute('SELECT password FROM users WHERE username=? AND password=?', (request.form['username'], request.form['password'],)).fetchone():\n            error = 'Invalid password'\n        else:\n            session['logged_in'] = True\n            flash('You were logged in')\n            return redirect(url_for('index'))\n    return render_template('login.html', error=error)\n</code></pre>\n\n<p>Database Schema:</p>\n\n<pre><code>CREATE TABLE users(id INTEGER PRIMARY KEY, username TEXT unique,\n        email TEXT unique, password TEXT, rank INT)\n</code></pre>\n\n<p>Example: I type in <code>spideynn</code> and the username in the database is <code>spideynn</code> but it doesn't equal.</p>\n\n<p>I am new to SQLite3, and new to Python websites, so any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "debugging"], "comments": [{"owner": {"reputation": 2582, "user_id": 2003420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnA23.jpg?s=128&g=1", "display_name": "bvidal", "link": "https://stackoverflow.com/users/2003420/bvidal"}, "edited": false, "score": 1, "creation_date": 1426185111, "post_id": 28999575, "comment_id": 46279271, "body": "Even if the answer provided by @kindall is valid and answers your needs I would suggest using the built-in [<code>logging</code> module ](<a href=\"https://docs.python.org/2/library/logging.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/logging.html</a>) which has plenty of cool features and can achieve exactly what you want. It has pretty low learning curve and lots of examples to benefit from."}, {"owner": {"reputation": 55, "user_id": 3887470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06c6a78433cc9cf5068ea34d73ab2c4?s=128&d=identicon&r=PG&f=1", "display_name": "Groundhog", "link": "https://stackoverflow.com/users/3887470/groundhog"}, "reply_to_user": {"reputation": 2582, "user_id": 2003420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnA23.jpg?s=128&g=1", "display_name": "bvidal", "link": "https://stackoverflow.com/users/2003420/bvidal"}, "edited": false, "score": 0, "creation_date": 1426227355, "post_id": 28999575, "comment_id": 46294000, "body": "Thanks bvidal. For this one script I&#39;m happy with the quick/simple <b>debug</b> check, but that was an interesting read. For the project at large though, the built-in logging module will be the way to go."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 3887470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06c6a78433cc9cf5068ea34d73ab2c4?s=128&d=identicon&r=PG&f=1", "display_name": "Groundhog", "link": "https://stackoverflow.com/users/3887470/groundhog"}, "edited": false, "score": 0, "creation_date": 1426118554, "post_id": 28999617, "comment_id": 46247205, "body": "Ahh, perfect! Thank you."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 0, "last_activity_date": 1426118148, "creation_date": 1426118148, "answer_id": 28999617, "question_id": 28999575, "link": "https://stackoverflow.com/questions/28999575/best-method-to-bulk-comment-uncomment-debug-lines-of-code/28999617#28999617", "title": "Best method to bulk comment/uncomment debug lines of code?", "body": "<p>You're in luck. Python has a <code>__debug__</code> flag which is set to <code>False</code> if you start the interpreter in optimized mode (<code>-O</code> command line flag), and <code>True</code> otherwise.</p>\n\n<p>The best part is, when you use <code>if __debug__:</code>, Python strips out the branch of the <code>if</code> statement that won't be executed, along with the <code>if</code> statement itself. Only the code that can actually be executed remains.</p>\n"}], "owner": {"reputation": 55, "user_id": 3887470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a06c6a78433cc9cf5068ea34d73ab2c4?s=128&d=identicon&r=PG&f=1", "display_name": "Groundhog", "link": "https://stackoverflow.com/users/3887470/groundhog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 28999617, "answer_count": 1, "score": 0, "last_activity_date": 1426118148, "creation_date": 1426117900, "question_id": 28999575, "link": "https://stackoverflow.com/questions/28999575/best-method-to-bulk-comment-uncomment-debug-lines-of-code", "title": "Best method to bulk comment/uncomment debug lines of code?", "body": "<p>I have a python script that consists of one very lengthy loop containing if/elif statements. To debug the flow of the loop I have a print statement under each if/elif block with a #debug trailing comment as per the following:</p>\n\n<pre><code>if my_var1 == \"foo\":\n    print(my_var1)#debug\n    perform_various_calculations()\n\n    if my_var2 == \"foobar\":\n        print(my_var1, my_var2)#debug\n        pass\n</code></pre>\n\n<p>This is fine while I'm still developing the script, but once I'm past the development stage I'd like to easily toggle these print statements. The script does contain <em>other</em> print statements that I would <em>not</em> want to comment out, so something simple like a find/replace print to #print would not work.</p>\n\n<p>I thought about putting together a custom print function that would only print if a Debug flag was set, but I'd prefer these numerous lines were commented out altogether.</p>\n"}, {"tags": ["python", "c", "pointers", "struct", "cython"], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 3420512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1ce64094c4468fc88749ce7505eda4cf?s=128&d=identicon&r=PG", "display_name": "Liam Marshall", "link": "https://stackoverflow.com/users/3420512/liam-marshall"}, "is_accepted": true, "score": 0, "last_activity_date": 1426350728, "creation_date": 1426350728, "answer_id": 29051345, "question_id": 28999518, "link": "https://stackoverflow.com/questions/28999518/cython-error-when-trying-to-access-contents-of-pointer-to-struct/29051345#29051345", "title": "Cython - error when trying to access contents of pointer to struct", "body": "<p>I, thankfully, figured out the problem when working on this project with a friend at a hackerspace.\nThe problem is in the <code>ctypedef struct apriltag_detector_t</code> block.\nWhen I wrote <code>pass</code> in the block, I thought that Cython would automatically  work out the internal contents of the struct, and let me access the element(s) I needed - here, <code>quad_decimate</code>.</p>\n\n<p>Not so.\nTo get Cython to understand the contents of a struct, you <strong>will have to</strong> tell it what's in the struct as so:</p>\n\n<pre><code>ctypedef struct apriltag_detector_t:\n    float quad_decimate\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 3420512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1ce64094c4468fc88749ce7505eda4cf?s=128&d=identicon&r=PG", "display_name": "Liam Marshall", "link": "https://stackoverflow.com/users/3420512/liam-marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 29051345, "answer_count": 1, "score": 2, "last_activity_date": 1426350728, "creation_date": 1426117561, "last_edit_date": 1426178674, "question_id": 28999518, "link": "https://stackoverflow.com/questions/28999518/cython-error-when-trying-to-access-contents-of-pointer-to-struct", "title": "Cython - error when trying to access contents of pointer to struct", "body": "<p>I have a <code>cdef</code>ed class in Cython which looks very similar to this:</p>\n\n<pre><code>cdef class AprilTagDetector:\n    cdef capriltag.apriltag_detector_t* _apriltag_detector\n\n    def __cinit__(self):\n        self._apriltag_detector = capriltag.apriltag_detector_create();\n        # standard null checks\n    # standard __dealloc__(self) here\n\n    property quad_decimate:\n        def __get__(self):\n            return self._apriltag_detector.quad_decimate\n</code></pre>\n\n<p>The corresponding <code>.pxd</code> file looks like this:</p>\n\n<pre><code>cdef extern from \"apriltag.h\":\n    # The detector itself\n    ctypedef struct apriltag_detector_t:\n        pass\n\n    # Detector constructor and destructor\n    apriltag_detector_t* apriltag_detector_create()\n    void apriltag_detector_destroy(apriltag_detector_t* td);\n</code></pre>\n\n<p>The problem is, when I go to compile this code, it spits out this error:</p>\n\n<pre><code>property quad_decimate:\n    def __get__(self):\n        return self._apriltag_detector.quad_decimate             ^\n------------------------------------------------------------\n\napriltags.pyx:47:14: Cannot convert 'apriltag_detector_t *' to Python object\n</code></pre>\n\n<p>What's going on here? I haven't been able to figure it out from the Cython docs. </p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4231454, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fc4ccd8700a111df5482d9a47f20ec2d?s=128&d=identicon&r=PG&f=1", "display_name": "Camil", "link": "https://stackoverflow.com/users/4231454/camil"}, "edited": false, "score": 0, "creation_date": 1426200041, "post_id": 29006140, "comment_id": 46286507, "body": "Thanks for the advice, I applied your changes however the square still remains unresponsive when I press down my arrow keys."}], "tags": [], "owner": {"reputation": 33, "user_id": 4308551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y33G2.jpg?s=128&g=1", "display_name": "SirBob", "link": "https://stackoverflow.com/users/4308551/sirbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1426152985, "creation_date": 1426152985, "answer_id": 29006140, "question_id": 28999515, "link": "https://stackoverflow.com/questions/28999515/sprites-and-movements-with-arrows-keys/29006140#29006140", "title": "Sprites and Movements with Arrows keys", "body": "<p>First of all, don't put <code>pygame.init()</code> in your loop.</p>\n\n<p>I have a feeling that your problem is because in your <code>update()</code> method of the <code>sprite</code>, <code>event</code> is not even defined. Add the line <code>for event in pygame.event.get():</code> at the start of the method and indent the rest under it.</p>\n\n<pre><code>def update(self):\n    for event in pygame.event.get():\n        ... # Rest of the method\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4231454, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fc4ccd8700a111df5482d9a47f20ec2d?s=128&d=identicon&r=PG&f=1", "display_name": "Camil", "link": "https://stackoverflow.com/users/4231454/camil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426152985, "creation_date": 1426117551, "last_edit_date": 1426119953, "question_id": 28999515, "link": "https://stackoverflow.com/questions/28999515/sprites-and-movements-with-arrows-keys", "title": "Sprites and Movements with Arrows keys", "body": "<p>So I have been working on making a sprite for a game. My goal is to make my picture of a square to move. However I am facing difficulties in actually moving the square. Any help for as to what is wrong with the key event part of my code would be very much so appreciated.</p>\n\n<pre><code>import pygame\nimport sys\nimport time\nfrom time import sleep\nimport random\nfrom pygame.locals import *\n\n\nimage1 = pygame.image.load('square.png')\n\n\n\nclass sprite(pygame.sprite.Sprite):\n\n    def __init__(self):\n\n        self.image = pygame.image.load('square.png')\n        self.image = self.image.convert_alpha()\n        self.rect=self.image.get_rect()\n        self.x = 100\n        self.y = 100\n        self.dx=50\n        self.dy=50\n\n    def update(self):\n        if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_UP:\n                    self.x -= self.dx\n                if event.key == pygame.K_DOWN:\n                    self.x += self.dx\n                if event.key == pygame.K_LEFT:\n                    self.x -= self.dx\n                if event.key == pygame.K_RIGHT:\n                    self.x += self.dx\n        self.rect.center=(self.x,self.y)\n\n        if event.type == pygame.KEYUP:\n                if event.key == pygame.K_UP or event.key == pygame.K_DOWN:\n                    sprite.dy = 0\n                if event.key == pygame.K_RIGHT or event.key == pygame.K_LEFT:\n                    sprite.dx = 0\n    def background(self, surface):\n        self.image2 = pygame.image.load(white.png)\n        screen.blit(self.image2, (0,0))\n\n    def draw(self, surface):\n        surface.blit(self.image, (self.x, self.y))\n\nscreen = pygame.display.set_mode((1250, 500))\nscreen.fill((255,255,255))\n\nmy_sprite=sprite()\n\nwhile True:\n\n\n    pygame.init()\n    pygame.event.get()\n    pygame.event.pump\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n           pygame.quit()\n\n    my_sprite.draw(screen)\n    pygame.display.update()\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 204954, "user_id": 1903116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w6Ffg.jpg?s=128&g=1", "display_name": "thefourtheye", "link": "https://stackoverflow.com/users/1903116/thefourtheye"}, "is_accepted": true, "score": 3, "last_activity_date": 1426118091, "last_edit_date": 1426118091, "creation_date": 1426117231, "answer_id": 28999462, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary/28999462#28999462", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>The <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.values\" rel=\"nofollow\"><code>dict.values</code></a> gives you a list of items and each element of that list is a list. So, when you say <code>v ** 2</code>, you are actually trying to square a list, which is not possible in Python as such. That is why it is failing.</p>\n\n<p>Instead, just recreate the dictionary with dictionary comprehension, like this</p>\n\n<pre><code>&gt;&gt;&gt; tides = {'G3': [3, 8, 9, 7], 'G2': [2, 7], 'G1': [1, 6, 7]}\n&gt;&gt;&gt; {tide: [value ** 2 for value in tides[tide]] for tide in tides}\n{'G3': [9, 64, 81, 49], 'G2': [4, 49], 'G1': [1, 36, 49]}\n</code></pre>\n\n<p>Or you can use <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.iteritems\" rel=\"nofollow\"><code>dict.iteritems</code></a> like this</p>\n\n<pre><code>&gt;&gt;&gt; {tide: [value ** 2 for value in values] for tide, values in tides.iteritems()}\n{'G3': [9, 64, 81, 49], 'G2': [4, 49], 'G1': [1, 36, 49]}\n</code></pre>\n\n<p><strong>Note:</strong> In both the examples I have shown above, I have avoided using <code>dict.values</code>, because that will create a temporary list of all the values from the dictionary. We don't want that.</p>\n\n<p>In the first example, we iterate through the keys in the dictionary and get values corresponding to the key and square each value in it.</p>\n\n<p>In the second example, we take one pair of key and value at a time from the dictionary. So, we don't create the temporary list.</p>\n\n<p>The code within <code>{...}</code> shown above is called <a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow\">dictionary comprehension</a> and within that, whatever is within <code>[...]</code> is called <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1426117280, "creation_date": 1426117280, "answer_id": 28999474, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary/28999474#28999474", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>When you do <code>tides.values()</code> what you get is:</p>\n\n<pre><code>[[3, 8, 9, 7], [2, 7], [1, 6, 7]]\n</code></pre>\n\n<p>Therefore when you do</p>\n\n<pre><code>for v in tides.values():\n    print v ** 2\n</code></pre>\n\n<p>you're trying to do</p>\n\n<pre><code>[3, 8, 9, 7] ** 2 # and [2, 7] ** 2 and [1, 6, 7] ** 2\n</code></pre>\n\n<p>which is obviously gibberish. Instead you should try to do:</p>\n\n<pre><code>for key, value in tides.items():\n    tides[key] = [num**2 for num in value]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1426117526, "post_id": 28999503, "comment_id": 46246909, "body": "Note that though this is how the question is worded, it doesn&#39;t match expected output. This output would be <code>&quot;9\\n64\\n81\\n49\\n4\\n49\\n1\\n36\\n49&quot;</code>"}], "tags": [], "owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "is_accepted": false, "score": 0, "last_activity_date": 1426117448, "creation_date": 1426117448, "answer_id": 28999503, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary/28999503#28999503", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>tides.values() returns a list of lists. You are trying to square the lists rather than the values in the lists. You can add a second loop to iterate through the list.</p>\n\n<p>for v in tides.values():\n  for x in v:\n    print x**2</p>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1426117586, "post_id": 28999511, "comment_id": 46246926, "body": "ick don&#39;t do things with <code>_</code>, it&#39;s there to mean &quot;I&#39;m not using this!&quot; I use <code>vv</code> in cases like this, if I don&#39;t want to actually name it for some unknown reason (<code>map(lambda num: num ** 2, v)</code> is preferable)"}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": false, "score": 1, "last_activity_date": 1426118270, "last_edit_date": 1426118270, "creation_date": 1426117520, "answer_id": 28999511, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary/28999511#28999511", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>You can use a dictionary comprehension:</p>\n\n<pre><code>tides = {'G3': [3, 8, 9, 7], 'G2': [2, 7], 'G1': [1, 6, 7]}\ntides = {k: map(lambda num: num ** 2, v) for k, v in tides.items()}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{'G3': [9, 64, 81, 49], 'G2': [4, 49], 'G1': [1, 36, 49]}\n</code></pre>\n\n<p><code>map(lambda num: num ** 2, v)</code> squares the values of each value <code>v</code> of <code>tides</code>.</p>\n\n<p>If you just want to replace in place, you can do the following:</p>\n\n<pre><code>for v in tides.values():\n    for i in range(len(v)):\n        v[i] **= 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1983, "user_id": 4596008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f8b8d8e464b83cd72250974bfd8bbd?s=128&d=identicon&r=PG&f=1", "display_name": "Saksham Varma", "link": "https://stackoverflow.com/users/4596008/saksham-varma"}, "is_accepted": false, "score": 0, "last_activity_date": 1426365202, "creation_date": 1426365202, "answer_id": 29053869, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary/29053869#29053869", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>Use dictionary comprehensions:</p>\n\n<pre><code>print {k: map(lambda x: x**2, [x for x in v]) for k, v in tides.items()}\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 1062094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGrJN.jpg?s=128&g=1", "display_name": "Jason Matney", "link": "https://stackoverflow.com/users/1062094/jason-matney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2888, "favorite_count": 0, "accepted_answer_id": 28999462, "answer_count": 5, "score": 1, "last_activity_date": 1426365202, "creation_date": 1426117140, "last_edit_date": 1426134650, "question_id": 28999448, "link": "https://stackoverflow.com/questions/28999448/how-can-i-square-the-list-of-numbers-in-a-dictionary", "title": "How can I square the list of numbers in a dictionary?", "body": "<p>I want to square all the values in a Python dictionary, and am going about it the wrong way. Below is my attempt which obviously fails and yields a </p>\n\n\n\n<pre><code>TypeError: unsupported operand type(s)\n</code></pre>\n\n<p>And the program is</p>\n\n<pre><code>tides = {'G3': [3, 8, 9, 7], 'G2': [2, 7], 'G1': [1, 6, 7]}\n\nfor v in tides.values():\n    print v**2\n</code></pre>\n\n<p>The desired output is</p>\n\n<pre><code>{'G3': [9, 64, 81, 49], 'G2': [4, 49], 'G1': [1, 36, 49]}\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas", "dataframe"], "owner": {"reputation": 653, "user_id": 2635779, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/63e380e31f3818385790856b176366cd?s=128&d=identicon&r=PG", "display_name": "user2635779", "link": "https://stackoverflow.com/users/2635779/user2635779"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1426117035, "creation_date": 1426117035, "question_id": 28999433, "link": "https://stackoverflow.com/questions/28999433/writing-list-to-file-from-dataframe-key-error", "title": "writing list to file from Dataframe: key error", "body": "<p>I'm stumped - I have two csv files I've uploaded as dataframes using the Pandas package, and then (among other things) I take one column from the csv file out as a separate list (column 'key' as a list of strings [[keyval1, keyval2, keyval3]. </p>\n\n<p>What I'm struggling to de-bug is that writing to a new text file using logfile.write and an iterator for the length of the list keeps giving me a key error stating:</p>\n\n<p>raise KeyError('no item named %s' % com.pprint_thing(item))\nKeyError: u'no item named key'</p>\n\n<p>But it only does it in the function \"inoutflows\" (and works with no errors in the function \"susstring\"\nthe code looks like this: </p>\n\n<pre><code>import pandas as pd\nimport csv\n\npopkey1 = pd.read_csv(\"popkey1.csv\", delimiter='\\t')\nmatrix = pd.read_csv(\"flight1quart.csv\", delimiter='\\t')\nlistof = []\nlistof = popkey1['airport'].tolist()\n\n#print popkey1\n#print listof\n\na = 0\nlogfile = open(\"flighttest.txt\", 'a')\n\n\n##### CODE FOR SUSCEPTIBLE IN AND OUTFLOWS ALGORITHM ######\ndef susstring (l, marker):\n    x = marker\n    for y in range (0, len(l)):\n        if x != y:\n            if y != (len(l) - 1):\n                logfile.write(str(l[y]) + \"to\" + str(l[x]) + \" + \")\n            else:\n                logfile.write(str(l[y]) + \"to\" + str(l[x]) + \" - \")\n        else:\n            a = y\n    for sy in range (0, len(l)):\n        if x != sy:\n            logfile.write(str(l[x]) + \"to\" + str(l[sy]) + \" - \")\n        else:\n            a = y\n    logfile.write(\"siflow\" + str(x + 1))\n\ndef inoutflows(li, marker2):\n    numx = marker2\n    logfile.write(\"INFLOWS:\\n\")\n    for numy in range (0, len(li)):\n        if numx != numy:\n            logfile.write(str(li[numy]) + \"to\" + str(li[numx]) + \" = City_\" + str(numy+1) + \"_Susceptible * \" + str(matrix[li[numy]].ix[numx]) + \"\\n\")\n        else:\n            a = numy\n    logfile.write(\"OUTFLOWS:\\n\")\n    for ny in range (0, len(li)):\n        if numx != ny:\n            logfile.write(str(li[numx]) + \"to\" + str(li[ny]) + \" = City_\" + str(numx+1) + \"_Susceptible * \" + str(matrix[li[numy]].ix[numx]) + \"\\n\")\n        else:\n            a = ny\n    logfile.write(\"siflow\" + str(numx+1) + \" = City_\" + str(numx+1) + \"_Susceptible * 0.05\\n\")\n\n\nfor x in range (0, len(listof)):\n    logfile.write(\"City\" + str(x+1) + \"_Susceptible(t) = City\" + str(x+1) + \"_Susceptible(t - dt) + (\")\n#   susstring(listof, x)\n    logfile.write(\")) * dt\\n\")\n    logfile.write(\"INIT City_\" + str(x+1) + \"_Susceptible = \" + str(popkey1['population'].ix[x]) + \"\\n\")\n    inoutflows(listof, x)\n</code></pre>\n\n<p>The popkey1 csv file is a file with three columns; key, airport, population\nand the flight1quart is a matrix with travel times between different keys.</p>\n\n<p>Any tips on what I'm doing wrong would be much appreciated - I've scoured stackoverflow and documentation but I don't know why it works for one function but not the other.</p>\n"}, {"tags": ["python", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "edited": false, "score": 0, "creation_date": 1435934280, "post_id": 28999752, "comment_id": 50420410, "body": "Thanks for sharing this info, I had the same problem"}, {"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "edited": false, "score": 0, "creation_date": 1499712646, "post_id": 28999752, "comment_id": 77013133, "body": "yep <code>$x</code> is the built in canvas data point of the mouse pointer, <code>@x</code> is the actual data point no matter where you hover over the glyph."}], "tags": [], "owner": {"reputation": 959, "user_id": 2337100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dc10c36fe169db61f82e9b10bbb6693?s=128&d=identicon&r=PG", "display_name": "captain ahab", "link": "https://stackoverflow.com/users/2337100/captain-ahab"}, "is_accepted": false, "score": 13, "last_activity_date": 1447149232, "last_edit_date": 1447149232, "creation_date": 1426118966, "answer_id": 28999752, "question_id": 28999411, "link": "https://stackoverflow.com/questions/28999411/how-to-show-integer-not-float-with-hover-tooltip-in-bokeh/28999752#28999752", "title": "how to show integer, not float, with hover tooltip in bokeh", "body": "<p>Aha! Using @ instead of $ works.</p>\n\n<pre><code>hover.tooltips = [\n    (\"Days\", \"@x\"),\n    (\"Return\", \"@y\"),\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2629, "user_id": 218244, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/94d1d97d96721392578b0fe9ae6ba789?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/218244/chris"}, "edited": false, "score": 2, "creation_date": 1472514164, "post_id": 32115916, "comment_id": 65771966, "body": "Will, curious if you know how to scale y and then format it. for example, let&#39;s say you want to multiply y by 100 and report as a percentage. any thoughts on how to specify that?"}, {"owner": {"reputation": 13247, "user_id": 943773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/66a7a506ddac2514578a371a66c8d781?s=128&d=identicon&r=PG", "display_name": "ryanjdillon", "link": "https://stackoverflow.com/users/943773/ryanjdillon"}, "edited": false, "score": 0, "creation_date": 1477826490, "post_id": 32115916, "comment_id": 67912085, "body": "This is great. Do you know if there is notation for formatting dates like this? I didn&#39;t manage to find this in the documents; do you happen to have a link where this is located? Thanks!"}, {"owner": {"reputation": 3167, "user_id": 3123992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca672660899533ec8102cdea4dc84556?s=128&d=identicon&r=PG&f=1", "display_name": "WillZ", "link": "https://stackoverflow.com/users/3123992/willz"}, "reply_to_user": {"reputation": 2629, "user_id": 218244, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/94d1d97d96721392578b0fe9ae6ba789?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/218244/chris"}, "edited": false, "score": 0, "creation_date": 1477999218, "post_id": 32115916, "comment_id": 67971246, "body": "@Chris sorry not aware of a flag for percentage formatting. I suppose you already tried Python&#39;s formatting flags? What I&#39;d do is to create another column in your data source and plot that instead, not perfect but might get you there."}, {"owner": {"reputation": 3167, "user_id": 3123992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca672660899533ec8102cdea4dc84556?s=128&d=identicon&r=PG&f=1", "display_name": "WillZ", "link": "https://stackoverflow.com/users/3123992/willz"}, "reply_to_user": {"reputation": 13247, "user_id": 943773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/66a7a506ddac2514578a371a66c8d781?s=128&d=identicon&r=PG", "display_name": "ryanjdillon", "link": "https://stackoverflow.com/users/943773/ryanjdillon"}, "edited": false, "score": 1, "creation_date": 1478000283, "post_id": 32115916, "comment_id": 67971762, "body": "@ryanjdillon I think I found these in their Google Group archives. Unfortunately it&#39;s not in the docs as far as I know. I haven&#39;t chased down in the source code yet to find out how it&#39;s parsed but it&#39;s a bit different to the traditional python format strings. However, things like &#39;+1.11&#39; still works, i.e. puts a sign in front of numbers."}], "tags": [], "owner": {"reputation": 3167, "user_id": 3123992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca672660899533ec8102cdea4dc84556?s=128&d=identicon&r=PG&f=1", "display_name": "WillZ", "link": "https://stackoverflow.com/users/3123992/willz"}, "is_accepted": false, "score": 42, "last_activity_date": 1441450573, "last_edit_date": 1441450573, "creation_date": 1440066877, "answer_id": 32115916, "question_id": 28999411, "link": "https://stackoverflow.com/questions/28999411/how-to-show-integer-not-float-with-hover-tooltip-in-bokeh/32115916#32115916", "title": "how to show integer, not float, with hover tooltip in bokeh", "body": "<p>Adding my two cents. I figured out by you can control the decimal points by using the following code:</p>\n\n<pre><code>hover.tooltips = [\n    (\"Days\", \"@x{int}\"), # this will show integer, even if x is float\n    (\"Return\", \"@y{1.11}\"), # this will format as 2-decimal float\n]\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 959, "user_id": 2337100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dc10c36fe169db61f82e9b10bbb6693?s=128&d=identicon&r=PG", "display_name": "captain ahab", "link": "https://stackoverflow.com/users/2337100/captain-ahab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7609, "favorite_count": 10, "answer_count": 2, "score": 24, "last_activity_date": 1447149232, "creation_date": 1426116919, "last_edit_date": 1426117587, "question_id": 28999411, "link": "https://stackoverflow.com/questions/28999411/how-to-show-integer-not-float-with-hover-tooltip-in-bokeh", "title": "how to show integer, not float, with hover tooltip in bokeh", "body": "<p>I have a simple graph of X-Y data points.  I want my Bokeh figure to show me the integer value of each datapoint when I hover over it.  I am close to getting what I want but when I hover over the data point, it shows a float and then higher up, it uses scientific notation.  Is there a way to have the hover tool only return the integer values of X and Y and not use scientific notation? </p>\n\n<p>Here is some example code:</p>\n\n<pre><code>from bokeh.plotting import *\nfrom bokeh.models import HoverTool\n\nx = range(1,101)\ny = [i*i for i in x]\n\nTOOLS = \"pan,wheel_zoom,box_zoom,reset,save,box_select, hover\"\n\np = figure(x_axis_label = \"Days\",\n       y_axis_label = \"Return\",\n       tools=TOOLS)\np.circle(x, y)\n\n#adjust what information you get when you hover over it\nhover = p.select(dict(type=HoverTool))\nhover.tooltips = [\n    (\"Days\", \"$x\"),\n    (\"Return\", \"$y\"),\n]\n\nshow(VBox(p))\n</code></pre>\n"}, {"tags": ["python", "zeromq", "pyzmq"], "answers": [{"tags": [], "owner": {"reputation": 12998, "user_id": 545332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d8d3c844a9033a1c70daaaff2c4ab5?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/545332/jason"}, "is_accepted": false, "score": 1, "last_activity_date": 1426188376, "creation_date": 1426188376, "answer_id": 29018589, "question_id": 28999377, "link": "https://stackoverflow.com/questions/28999377/are-there-implications-to-reconnecting-a-zmq-socket-with-the-same-identity/29018589#29018589", "title": "Are there implications to reconnecting a ZMQ socket with the same identity?", "body": "<p>May I ask why you're closing and re-opening the socket so frequently?  Especially if, as in your code here, you're <em>immediately</em> re-opening the socket?  Typically there should be very little reason to do that.</p>\n\n<p>Beyond that, there should be no ill effect from re-using the same ID so long as the previous socket to use it is no longer connected... According to <a href=\"http://api.zeromq.org/4-1:zmq-setsockopt#toc16\" rel=\"nofollow\">the documentation</a>, if the Router socket has not yet relinquished it's connection to the previous socket (which may or may not be an issue in practice), you determine how your Router socket will behave with the <code>ZMQ_ROUTER_HANDOVER</code> option.  It will either reject the new connection, or it will hand over the connection to the new socket... I assume the second one is what you're after.</p>\n\n<p>I wouldn't think a rejected connection would result in the error you're seeing, though I suppose it's possible depending on what code follows what you've provided here.  If you think it's related, just make sure to check for a successful connection before you try to use that connection... I don't know if the pyzmq binding (or ZMQ itself) fails hard or if you have to test for it on a rejected connection.</p>\n"}], "owner": {"reputation": 22497, "user_id": 1185242, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/16eb0aedb14ca0a2e5013721cd679485?s=128&d=identicon&r=PG", "display_name": "nickponline", "link": "https://stackoverflow.com/users/1185242/nickponline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426188376, "creation_date": 1426116781, "question_id": 28999377, "link": "https://stackoverflow.com/questions/28999377/are-there-implications-to-reconnecting-a-zmq-socket-with-the-same-identity", "title": "Are there implications to reconnecting a ZMQ socket with the same identity?", "body": "<p>I am connecting a DEALER socket to a ROUTER using:</p>\n\n<pre><code>socket = context.socket(zmq.DEALER)\nsocket.setsockopt(zmq.IDENTITY, 'id')\nsocket.connect('tcp://myhost:3456')\n</code></pre>\n\n<p>and frequently re-connecting is by calling:</p>\n\n<pre><code>socket.close()\nsocket = context.socket(zmq.DEALER)\nsocket.setsockopt(zmq.IDENTITY, 'id')\nsocket.connect('tcp://myhost:3456')\n</code></pre>\n\n<p>I'm using the same <code>id</code> each time and was wonder if there are any implications to doing this? I've also occasionally seen the following error in the console and not sure if it's related:</p>\n\n<pre><code>Invalid argument (bundled/zeromq/src/stream_engine.cpp:831)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 4484725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01872c3bb09925c9fdca90c90650c6e5?s=128&d=identicon&r=PG&f=1", "display_name": "mattegener", "link": "https://stackoverflow.com/users/4484725/mattegener"}, "is_accepted": false, "score": 1, "last_activity_date": 1426117144, "creation_date": 1426117144, "answer_id": 28999449, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return/28999449#28999449", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<p>I can tell you that it would be more efficient to simply split the string into an array, and then just check the type of each individual character. You could do it with a single for loop, and simply have a modulus conditional to determine whether it is in an odd or even index. You could also simply have 6 if statements.</p>\n\n<p>Overall it would look like\nsplit string\nfor (i is less that 6)\ncheck if even or odd.\nIf even - letter, check to see if this index is a char\nIf odd - number, check to see if this index is a number</p>\n\n<p>Let me know if this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 755851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb0ef4d5aebec860f85f7c76b894fd?s=128&d=identicon&r=PG", "display_name": "Foon", "link": "https://stackoverflow.com/users/755851/foon"}, "edited": false, "score": 0, "creation_date": 1426118064, "post_id": 28999593, "comment_id": 46247069, "body": "Also, one big issue with your intended approach is that you loop through the string and change the string in place.  That&#39;s a big no-no in most languages that use iterators."}, {"owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "edited": false, "score": 0, "creation_date": 1426199537, "post_id": 28999593, "comment_id": 46286298, "body": "I don&#39;t understand. But I&#39;m sure that is one of the error&#39;s root in my trials. One of the trials was to create one function for each stepp and to call one after another each functhon but I don&#39;t know how to be sure that the upper transformed string falls as argument to the next method.Can you explain or give a reference?"}], "tags": [], "owner": {"reputation": 5521, "user_id": 755851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb0ef4d5aebec860f85f7c76b894fd?s=128&d=identicon&r=PG", "display_name": "Foon", "link": "https://stackoverflow.com/users/755851/foon"}, "is_accepted": false, "score": 1, "last_activity_date": 1426117996, "creation_date": 1426117996, "answer_id": 28999593, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return/28999593#28999593", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<p>Mike's suggestion re: regular expressions is a good one; I unfortunately have a couple of problems with his answer which didn't format well as a comment:</p>\n\n<ol>\n<li>You still need to remove spaces (and it's not clear but not ruled\nout that these spaces can exist inside the letters (so e.g. A1 B2 C3\nwould be valid)</li>\n<li>You're supposed to, if it's valid, returned a cleaned up version.</li>\n</ol>\n\n<p>May I suggest:</p>\n\n<pre><code>vals = re.findall(r'([a-zA-Z]\\d)', string) # this returns an array of all the pairs of letter + number.\nif len(vals) != 3: # if there aren't exactly 3 pairs, this isn't valid\n  return false\nreturn \"\".join([v[0].upper+v[1] for v in vals] #uppercase the letter, and combine the 3 pairs as a string\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21955, "user_id": 639295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qbykb.jpg?s=128&g=1", "display_name": "aychedee", "link": "https://stackoverflow.com/users/639295/aychedee"}, "edited": false, "score": 1, "creation_date": 1426118866, "post_id": 28999611, "comment_id": 46247297, "body": "<code>S = S.replace(&quot; &quot;, &#39;&#39;).upper()</code> is probably a bit clearer no?"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "reply_to_user": {"reputation": 21955, "user_id": 639295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qbykb.jpg?s=128&g=1", "display_name": "aychedee", "link": "https://stackoverflow.com/users/639295/aychedee"}, "edited": false, "score": 0, "creation_date": 1426118975, "post_id": 28999611, "comment_id": 46247339, "body": "I agree that <code>replace</code> is clearer, however it doesn&#39;t handle tabs and linebreaks. Also I  wanted to do <code>upper</code> in the last step to follow OP&#39;s algorithm."}, {"owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "edited": false, "score": 0, "creation_date": 1426198464, "post_id": 28999611, "comment_id": 46285846, "body": "mkrieger1 your solution is very concise and good. Next I ask myself if instead a len(S) preevaluated as for i %(I mean shat it&#39;s not necessary to assert i % 2 == 0 and the same for (i + 1) % 2 for the digit."}], "tags": [], "owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "is_accepted": true, "score": 1, "last_activity_date": 1426118549, "last_edit_date": 1495540247, "creation_date": 1426118138, "answer_id": 28999611, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return/28999611#28999611", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<p>Your program is way more complicated than it needs to be.</p>\n\n<p>You already have listed the steps that you want to perform, let's translate them to Python code:</p>\n\n<pre><code>def postalValidate(S):\n    # first, delete all spaces\n    S = ''.join(S.split())\n\n    # the remainder must be of the form L#L#L# where L are letters (in either lower or upper case) and # are numbers.\n    # If S is not a valid postal code, return the boolean False.\n    if len(S) != 6:\n        return False\n    if not (all(S[i].isalpha() for i in [0, 2, 4]) and\n            all(S[i].isdigit() for i in [1, 3, 5])):\n        return False\n\n    # If S is valid, return a version of the same postal code in the nice format L#L#L# where each L is capital.\n    return S.upper()\n</code></pre>\n\n<p>There are ways to do the same thing with less code, but I wanted to keep it simple.</p>\n\n<p>Edit: used method to remove all spaces from a string shown in answers to this <a href=\"https://stackoverflow.com/questions/8270092\">question</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "edited": false, "score": 0, "creation_date": 1426199250, "post_id": 28999848, "comment_id": 46286174, "body": "There many methods that overlap my little knowledge. what is ch? caracter?"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1426119498, "creation_date": 1426119498, "answer_id": 28999848, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return/28999848#28999848", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<pre><code>import string\n\n# Create translation table:\n#   convert lowercase to uppercase, and remove spaces\nTRANS = str.maketrans(string.ascii_lowercase, string.ascii_uppercase, \" \")\n\n# char identity tests\nTESTS = [str.isalpha, str.isdigit] * 3\n\ndef postal_validate(s):\n    # clean string\n    s = s.translate(TRANS)\n    # test whether it is a valid postal code\n    if len(s) == 6 and all(test(ch) for ch,test in zip(s, TESTS)):\n        # if so, return it\n        return s\n    else:\n        # otherwise return False\n        return False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "is_accepted": false, "score": 0, "last_activity_date": 1426417761, "creation_date": 1426417761, "answer_id": 29059922, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return/29059922#29059922", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<pre><code>\"\"\"this is my code:\"\"\"\n\n    def simplifier(S):\n    S = str(S)\n    x = \" \"\n    S = S.replace(x, \"\")\n    return(S)\ndef majusculiser(S):\n    S = str(S)\n    for x in S:\n        if str(x).isalpha():\n            S = (S.replace(x, x.upper()))\n    return(S)\ndef purifier(S):\n    S = str(S)\n    for x in S:\n\n        if (not x.isdigit()) and (not x.isalpha()):\n            return(False)\n    else:\n        return(S)\ndef verifier_les_impairs(S):\n    S = str(S)\n    l = len(S)\n    for x in range (0, l, 2):\n        if not str(x).isalpha:\n            return(False)\n        else:\n            return(S)\ndef verifier_les_pairs(S):\n    S = str(S)\n    l = len(S)\n    for x in range (1, l, 2):\n        if not str(S[x]).isdigit():\n            return(False)\n        else:\n            return(S)\ndef postalValidate(S):\n    S = simplifier(S)\n    if True:\n        S = purifier(S)\n        S = majusculiser(S)\n        if (len(S) + 1) % 2 == 0:\n            return(False)\n        if True:\n            S = verifier_les_impairs(S)\n            if True:\n                S = verifier_les_pairs(S)\n                if True:\n\n                    return(S)\n                else:\n                    return(False)\n            else:\n                return(False)\n        else:\n            return(False)\nprint(postalValidate('n2l 3g1z'),\npostalValidate('postal'),\npostalValidate('H0H0H0H0'),\npostalValidate(' e3g 7k 0 l5G 6'),\npostalValidate('5/ B?7t8'))\n\nVery length but very easy.\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 28999611, "answer_count": 5, "score": 1, "last_activity_date": 1576612690, "creation_date": 1426116780, "last_edit_date": 1576612690, "question_id": 28999376, "link": "https://stackoverflow.com/questions/28999376/python-nested-loops-into-a-function-break-pass-continue-return", "title": "Python, nested loops into a function break - pass - continue - return", "body": "<p>Here is an exercise:\nDefine a function postalValidate(S) which first checks if S represents a postal code which is valid:</p>\n\n<ul>\n<li>first, delete all spaces;</li>\n<li>the remainder must be of the form L#L#L# where L are letters (in either lower or upper case) and # are numbers.</li>\n<li>If S is not a valid postal code, return the boolean False. </li>\n<li>If S is valid, return a version of the same postal code in the nice format L#L#L# where each L is capital.</li>\n</ul>\n\n<p>And here is one of the numerous trials:</p>\n\n<pre><code>def postalValidate(S):\n    for x in S:\n        if x == \" \":\n            S = S.remove(x)\n            if x.isalpha():\n                x = x.upper()\n                if x.isalpha() or ix.isdigit():\n                    if ((S.index(x) % 2 == 0) and x.isalpha()) or ((S.index(x) % 2 != 0) and x.isdigit()):\n                        pass\n                    else:\n                        print(False)\n                        break\n                        return(False)\n                else:\n                    print(False)\n                    break\n                    return(False)\n            elif x.isdigit:\n                pass\n            else:\n                print(False)\n                break\n                return(False)\n\n        elif x.isalpha():\n            if S.index(x) % 2:\n                pass\n            else:\n                break\n                return(False)\n        elif x.isdigit():\n            if S.index(x) % 2 == 1:\n                pass\n            else:\n                break\n                return(False)\n        else:\n            break\n            return(False)\n            pass\n    print(S)\n    return(S)\n</code></pre>\n\n<p>What is my error?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 7862, "user_id": 1344789, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a96426746b611a105c049ce2fac2a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "dnlbrky", "link": "https://stackoverflow.com/users/1344789/dnlbrky"}, "edited": false, "score": 0, "creation_date": 1430747986, "post_id": 28999332, "comment_id": 48180311, "body": "What happens when you run this first: <code>from pyspark import SparkContext</code>?"}, {"owner": {"reputation": 2616, "user_id": 4303355, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/689435720/picture?type=large", "display_name": "Akhil Nair", "link": "https://stackoverflow.com/users/4303355/akhil-nair"}, "edited": false, "score": 4, "creation_date": 1485346826, "post_id": 28999332, "comment_id": 70886686, "body": "With Spark 2.0.0 onwards, the <code>sparkSession</code> which you can create without a clash has a <code>sparkContext</code> property to access the original context."}], "answers": [{"comments": [{"owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "edited": false, "score": 1, "creation_date": 1434943796, "post_id": 30971481, "comment_id": 49974846, "body": "That&#39;s the bin/pyspark <i>program</i> not a standalone pyspark <i>script</i>."}, {"owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "edited": false, "score": 0, "creation_date": 1518510893, "post_id": 30971481, "comment_id": 84525271, "body": "And sc variable is not created automatically, SparkContext instance is created automatically."}], "tags": [], "owner": {"reputation": 1675, "user_id": 4195053, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8fe7a2c22a65a0bb700fd3f36c869147?s=128&d=identicon&r=PG", "display_name": "mnm", "link": "https://stackoverflow.com/users/4195053/mnm"}, "is_accepted": false, "score": 1, "last_activity_date": 1434941249, "creation_date": 1434941249, "answer_id": 30971481, "question_id": 28999332, "link": "https://stackoverflow.com/questions/28999332/how-to-access-sparkcontext-in-pyspark-script/30971481#30971481", "title": "How to access SparkContext in pyspark script", "body": "<p>When you type pyspark at the terminal, python automatically creates the spark context sc. </p>\n"}, {"tags": [], "owner": {"reputation": 2033, "user_id": 3157228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dc947d7751a2a308cc7474188d5ee2?s=128&d=identicon&r=PG&f=1", "display_name": "vijay kumar", "link": "https://stackoverflow.com/users/3157228/vijay-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1434944611, "creation_date": 1434944611, "answer_id": 30971834, "question_id": 28999332, "link": "https://stackoverflow.com/questions/28999332/how-to-access-sparkcontext-in-pyspark-script/30971834#30971834", "title": "How to access SparkContext in pyspark script", "body": "<p><strong>Standalone python script for wordcount</strong> : write a reusable spark context by using <strong>contextmanager</strong></p>\n\n<pre><code>\"\"\"SimpleApp.py\"\"\"\nfrom contextlib import contextmanager\nfrom pyspark import SparkContext\nfrom pyspark import SparkConf\n\n\nSPARK_MASTER='local'\nSPARK_APP_NAME='Word Count'\nSPARK_EXECUTOR_MEMORY='200m'\n\n@contextmanager\ndef spark_manager():\n    conf = SparkConf().setMaster(SPARK_MASTER) \\\n                      .setAppName(SPARK_APP_NAME) \\\n                      .set(\"spark.executor.memory\", SPARK_EXECUTOR_MEMORY)\n    spark_context = SparkContext(conf=conf)\n\n    try:\n        yield spark_context\n    finally:\n        spark_context.stop()\n\nwith spark_manager() as context:\n    File = \"/home/ramisetty/sparkex/README.md\"  # Should be some file on your system\n    textFileRDD = context.textFile(File)\n    wordCounts = textFileRDD.flatMap(lambda line: line.split()).map(lambda word: (word, 1)).reduceByKey(lambda a, b: a+b)\n    wordCounts.saveAsTextFile(\"output\")\n\nprint \"WordCount - Done\"\n</code></pre>\n\n<p><strong>to launch:</strong></p>\n\n<pre><code>/bin/spark-submit SimpleApp.py\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 1, "creation_date": 1483257285, "post_id": 41414035, "comment_id": 70032061, "body": "Add some explanation with answer for how this answer help OP in fixing current issue"}, {"owner": {"reputation": 844, "user_id": 2741864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9447395c6bd746b8428658dcefd9308a?s=128&d=identicon&r=PG&f=1", "display_name": "TechnoIndifferent", "link": "https://stackoverflow.com/users/2741864/technoindifferent"}, "reply_to_user": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1483258790, "post_id": 41414035, "comment_id": 70032253, "body": "sc is the existing SparkContext OP is looking for. Earlier there was no way to obtain an existing SparkContext, but the static method getOrCreate() was added to get and existing context or create a new one if one does not exist."}, {"owner": {"reputation": 3334, "user_id": 5918696, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-t_Gmo6DSxrU/AAAAAAAAAAI/AAAAAAAAYqk/E-zNA4NlF4Y/photo.jpg?sz=128", "display_name": "Statham", "link": "https://stackoverflow.com/users/5918696/statham"}, "edited": false, "score": 0, "creation_date": 1491636090, "post_id": 41414035, "comment_id": 73649941, "body": "It works for me! 3x! but can you explain that please?"}], "tags": [], "owner": {"reputation": 844, "user_id": 2741864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9447395c6bd746b8428658dcefd9308a?s=128&d=identicon&r=PG&f=1", "display_name": "TechnoIndifferent", "link": "https://stackoverflow.com/users/2741864/technoindifferent"}, "is_accepted": true, "score": 60, "last_activity_date": 1483257278, "last_edit_date": 1483257278, "creation_date": 1483255966, "answer_id": 41414035, "question_id": 28999332, "link": "https://stackoverflow.com/questions/28999332/how-to-access-sparkcontext-in-pyspark-script/41414035#41414035", "title": "How to access SparkContext in pyspark script", "body": "<p>from <code>pyspark.context</code> import <code>SparkContext</code></p>\n\n<p>and then invoke a static method on <code>SparkContext</code> as:</p>\n\n<pre><code>sc = SparkContext.getOrCreate()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3271, "user_id": 8900683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e21b1c869eba517481a0476a59bb7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Rene B.", "link": "https://stackoverflow.com/users/8900683/rene-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1607067112, "creation_date": 1607067112, "answer_id": 65139556, "question_id": 28999332, "link": "https://stackoverflow.com/questions/28999332/how-to-access-sparkcontext-in-pyspark-script/65139556#65139556", "title": "How to access SparkContext in pyspark script", "body": "<p>If you created a already a SparkSession:</p>\n<pre><code>spark = SparkSession \\\n    .builder \\\n    .appName(&quot;StreamKafka_Test&quot;) \\\n    .getOrCreate()\n</code></pre>\n<p>Then you can access the &quot;existing&quot; SparkContext like this:</p>\n<pre><code>sc = spark.sparkContext\n</code></pre>\n"}], "owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29897, "favorite_count": 5, "accepted_answer_id": 41414035, "answer_count": 4, "score": 20, "last_activity_date": 1607067112, "creation_date": 1426116558, "last_edit_date": 1495540507, "question_id": 28999332, "link": "https://stackoverflow.com/questions/28999332/how-to-access-sparkcontext-in-pyspark-script", "title": "How to access SparkContext in pyspark script", "body": "<p>The following SOF question <a href=\"https://stackoverflow.com/questions/25934778/how-to-run-script-in-pyspark-and-drop-into-ipython-shell-when-done\">How to run script in Pyspark and drop into IPython shell when done?</a> tells how to launch a pyspark script:</p>\n\n<pre><code> %run -d myscript.py\n</code></pre>\n\n<p>But how do we access the existin spark context?</p>\n\n<p>Just creating a new one does not work:</p>\n\n<pre><code> ----&gt;  sc = SparkContext(\"local\", 1)\n\n ValueError: Cannot run multiple SparkContexts at once; existing \n SparkContext(app=PySparkShell, master=local) created by &lt;module&gt; at \n /Library/Python/2.7/site-packages/IPython/utils/py3compat.py:204\n</code></pre>\n\n<p>But trying to use an existing one .. well <em>what</em> existing one?</p>\n\n<pre><code>In [50]: for s in filter(lambda x: 'SparkContext' in repr(x[1]) and len(repr(x[1])) &lt; 150, locals().iteritems()):\n    print s\n('SparkContext', &lt;class 'pyspark.context.SparkContext'&gt;)\n</code></pre>\n\n<p>i.e. there is no variable for a SparkContext instance</p>\n"}, {"tags": ["python", "django", "redis", "celery", "message-queue"], "answers": [{"comments": [{"owner": {"reputation": 19400, "user_id": 146289, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fa7f6c8be0d09fd8438332eef28a40d3?s=128&d=identicon&r=PG", "display_name": "vdboor", "link": "https://stackoverflow.com/users/146289/vdboor"}, "edited": false, "score": 0, "creation_date": 1438849380, "post_id": 29001795, "comment_id": 51621220, "body": "Also good to add, CELERYY_ACKS_LATE can be configured per-task using <code>@app.task(acks_late=True)</code>"}], "tags": [], "owner": {"reputation": 614, "user_id": 4422201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tCgTQ.jpg?s=128&g=1", "display_name": "Chris Ward", "link": "https://stackoverflow.com/users/4422201/chris-ward"}, "is_accepted": false, "score": 2, "last_activity_date": 1426133876, "creation_date": 1426133876, "answer_id": 29001795, "question_id": 28999294, "link": "https://stackoverflow.com/questions/28999294/one-celery-beat-many-workers/29001795#29001795", "title": "One Celery beat, many workers?", "body": "<p>You should run a single instance of the celery beat scheduler and then when the time comes for it to schedule a task, it puts a message on a message broker queue (Redis in your case). The queue is \"celery\" by default, but can be configured per task or per task instance based on your code/settings.</p>\n\n<p>When you start up one or more workers you can tell each one which queues to listen to if you want, but they will just listen for messages on the \"celery\" queue again by default. When a message is pushed to the queue, the first available worker will receive a push notification from the broker and execute it. The broker will ensure that a single task instance will only be pushed to one worker at a time.</p>\n\n<p>By default, if that worker crashes while executing the task, then it will be lost. You can also change that behavior using the <a href=\"http://docs.celeryproject.org/en/latest/configuration.html#celery-acks-late\" rel=\"nofollow\">CELERY_ACKS_LATE</a> setting, which means if a worker crashes its current task will be reassigned to the next available worker.</p>\n"}], "owner": {"reputation": 14835, "user_id": 200619, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0e2ad527708210b67f14a4c64e022352?s=128&d=identicon&r=PG", "display_name": "Carson", "link": "https://stackoverflow.com/users/200619/carson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2144, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1426133876, "creation_date": 1426116368, "question_id": 28999294, "link": "https://stackoverflow.com/questions/28999294/one-celery-beat-many-workers", "title": "One Celery beat, many workers?", "body": "<p>I'd like to run a single <code>DatabaseScheduler</code>-backed <code>celerybeat</code> instance shared by multiple workers. Redis is the broker. Will only one worker receive a scheduled task, or will all workers receive a scheduled task? Thanks!</p>\n"}, {"tags": ["python", "random", "rgb"], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "is_accepted": true, "score": 16, "last_activity_date": 1426166696, "last_edit_date": 1426166696, "creation_date": 1426117268, "answer_id": 28999469, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/28999469#28999469", "title": "Generate random colors (RGB)", "body": "<p>Here:</p>\n\n<pre><code>def random_color():\n    rgbl=[255,0,0]\n    random.shuffle(rgbl)\n    return tuple(rgbl)\n</code></pre>\n\n<p>The result is either red, green or blue. The method is not applicable to other sets of colors though, where you'd have to build a list of all the colors you want to choose from and then use random.choice to pick one at random.</p>\n"}, {"tags": [], "owner": {"reputation": 22551, "user_id": 724176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa470aad3d456ece9ddf1a8b583b22a5?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/724176/hugo"}, "is_accepted": false, "score": 3, "last_activity_date": 1426166573, "creation_date": 1426166573, "answer_id": 29010993, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/29010993#29010993", "title": "Generate random colors (RGB)", "body": "<p>With custom colours (for example, dark red, dark green and dark blue):</p>\n\n<pre><code>import random\n\nCOLORS = [(139, 0, 0), \n          (0, 100, 0),\n          (0, 0, 139)]\n\ndef random_color():\n    return random.choice(COLORS)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1548, "user_id": 1472128, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/822a64118b724f835312ffa0fef07aee?s=128&d=identicon&r=PG", "display_name": "Isilm&#235; O.", "link": "https://stackoverflow.com/users/1472128/isilm%c3%ab-o"}, "edited": false, "score": 8, "creation_date": 1520354914, "post_id": 48793922, "comment_id": 85276833, "body": "Should be color = list(np.random.random(size=3) * 256)"}], "tags": [], "owner": {"reputation": 2301, "user_id": 1236990, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc856652c4db97f4eacc9bffa6540ece?s=128&d=identicon&r=PG", "display_name": "varagrawal", "link": "https://stackoverflow.com/users/1236990/varagrawal"}, "is_accepted": false, "score": 57, "last_activity_date": 1522710699, "last_edit_date": 1522710699, "creation_date": 1518632880, "answer_id": 48793922, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/48793922#48793922", "title": "Generate random colors (RGB)", "body": "<p>A neat way to generate RGB triplets within the 256 (aka 8-byte) range is</p>\n\n<p><code>color = list(np.random.choice(range(256), size=3))</code></p>\n\n<p><code>color</code> is now a list of size 3 with values in the range 0-255. You can save it in a list to record if the color has been generated before or no.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 1429429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0kmT8.png?s=128&g=1", "display_name": "ThePopMachine", "link": "https://stackoverflow.com/users/1429429/thepopmachine"}, "edited": false, "score": 5, "creation_date": 1576080091, "post_id": 50218895, "comment_id": 104784319, "body": "Why not just choose the random color from the range 000000-FFFFFF.   For example you could use the following:                    <code>f&quot;#{random.randrange(0x1000000):06x}&quot;</code>"}], "tags": [], "owner": {"reputation": 3329, "user_id": 6814154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76e235219baaddb83f38d12e6665fbc?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil Al Hooti", "link": "https://stackoverflow.com/users/6814154/khalil-al-hooti"}, "is_accepted": false, "score": 42, "last_activity_date": 1525711447, "creation_date": 1525711447, "answer_id": 50218895, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/50218895#50218895", "title": "Generate random colors (RGB)", "body": "<p>You could also use Hex Color Code, </p>\n\n<pre><code>Name    Hex Color Code  RGB Color Code\nRed     #FF0000         rgb(255, 0, 0)\nMaroon  #800000         rgb(128, 0, 0)\nYellow  #FFFF00         rgb(255, 255, 0)\nOlive   #808000         rgb(128, 128, 0)\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport random\n\nnumber_of_colors = 8\n\ncolor = [\"#\"+''.join([random.choice('0123456789ABCDEF') for j in range(6)])\n             for i in range(number_of_colors)]\nprint(color)\n</code></pre>\n\n<p>['#C7980A', '#F4651F', '#82D8A7', '#CC3A05', '#575E76', '#156943', '#0BD055', '#ACD338']</p>\n\n<p>Lets try plotting them in a scatter plot</p>\n\n<pre><code>for i in range(number_of_colors):\n    plt.scatter(random.randint(0, 10), random.randint(0,10), c=color[i], s=200)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Msr1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Msr1d.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2180, "user_id": 2568563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/769be571eee8c8af8ff71c4ee9a3b70a?s=128&d=identicon&r=PG", "display_name": "toti08", "link": "https://stackoverflow.com/users/2568563/toti08"}, "edited": false, "score": 1, "creation_date": 1536751420, "post_id": 52293941, "comment_id": 91535619, "body": "Hi @Rahul, could you please add some explanation to your answer?"}, {"owner": {"reputation": 1721, "user_id": 159241, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/369622138dc13486f9747cceda3e7be1?s=128&d=identicon&r=PG", "display_name": "Harel", "link": "https://stackoverflow.com/users/159241/harel"}, "edited": false, "score": 2, "creation_date": 1538577266, "post_id": 52293941, "comment_id": 92192315, "body": "this simply returns an array of three random numbers between 0 to 255, which a a whole makes up RGB colour spec."}], "tags": [], "owner": {"reputation": 51, "user_id": 4494567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203829676/picture?type=large", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/4494567/rahul-kumar"}, "is_accepted": false, "score": 5, "last_activity_date": 1599974416, "last_edit_date": 1599974416, "creation_date": 1536751170, "answer_id": 52293941, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/52293941#52293941", "title": "Generate random colors (RGB)", "body": "<pre><code>color = lambda : [random.randint(0, 255), random.randint(0, 255), random.randint(0, 255)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 8912934, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bl_0C9ND6ks/AAAAAAAAAAI/AAAAAAAAPRM/odw23Wdoh-E/photo.jpg?sz=128", "display_name": "Oleg", "link": "https://stackoverflow.com/users/8912934/oleg"}, "edited": false, "score": 0, "creation_date": 1605894436, "post_id": 58057902, "comment_id": 114801988, "body": "RGBA values should be within 0-1 range"}], "tags": [], "owner": {"reputation": 46757, "user_id": 207661, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CFPkp.jpg?s=128&g=1", "display_name": "Shital Shah", "link": "https://stackoverflow.com/users/207661/shital-shah"}, "is_accepted": false, "score": 3, "last_activity_date": 1569225336, "creation_date": 1569225336, "answer_id": 58057902, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/58057902#58057902", "title": "Generate random colors (RGB)", "body": "<p>Inspired by other answers this is more correct code that produces integer 0-255 values and appends alpha=255 if you need RGBA:</p>\n\n<pre><code>tuple(np.random.randint(256, size=3)) + (255,)\n</code></pre>\n\n<p>If you just need RGB:</p>\n\n<pre><code>tuple(np.random.randint(256, size=3))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4144, "user_id": 13736525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjPKr2sduWBaSFHADCTsIA4dC1DRDYOUFb0KsKAqQ=k-s128", "display_name": "Neo Anderson", "link": "https://stackoverflow.com/users/13736525/neo-anderson"}, "edited": false, "score": 1, "creation_date": 1600197709, "post_id": 63907266, "comment_id": 113010763, "body": "You posted this as an answer. The author&#39;s username is added below each answer by default(unless it&#39;s a community wiki). Stating that this is an answer and that it is yours is redundant. Instead, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}, {"owner": {"reputation": 137, "user_id": 5881159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S7c5V.png?s=128&g=1", "display_name": "jackson95", "link": "https://stackoverflow.com/users/5881159/jackson95"}, "edited": false, "score": 0, "creation_date": 1607614727, "post_id": 63907266, "comment_id": 115333486, "body": "In any case, random.randint(a,b) samples from the closed interval [a,b] i.e. both ends inclusive, so random.randint(1,256) is incorrect."}], "tags": [], "owner": {"reputation": 27, "user_id": 11773923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXRnG.jpg?s=128&g=1", "display_name": "ijka5844", "link": "https://stackoverflow.com/users/11773923/ijka5844"}, "is_accepted": false, "score": -1, "last_activity_date": 1605706680, "last_edit_date": 1605706680, "creation_date": 1600191872, "answer_id": 63907266, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/63907266#63907266", "title": "Generate random colors (RGB)", "body": "<pre><code>import random\nrgb_full=&quot;(&quot; + str(random.randint(1,256))  + &quot;,&quot; + str(random.randint(1,256))  + &quot;,&quot; + str(random.randint(1,256))  + &quot;)&quot;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 370, "user_id": 14344193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ce2127c86aa9ba26ea3899e34c358ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kukesh", "link": "https://stackoverflow.com/users/14344193/kukesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1606557609, "creation_date": 1606557609, "answer_id": 65048381, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/65048381#65048381", "title": "Generate random colors (RGB)", "body": "<p>Output in the form of (r,b,g) its look like (255,155,100)</p>\n<pre><code>from numpy import random\ncolor = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 2841150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8634a32c9e505e4177491c0bd69a09c?s=128&d=identicon&r=PG&f=1", "display_name": "Devymex", "link": "https://stackoverflow.com/users/2841150/devymex"}, "is_accepted": false, "score": 2, "last_activity_date": 1613379642, "creation_date": 1613379642, "answer_id": 66205164, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/66205164#66205164", "title": "Generate random colors (RGB)", "body": "<p>Taking a uniform random variable as the value of RGB may generate a large amount of gray, white, and black, which are often not the colors we want.</p>\n<p>The <a href=\"https://docs.opencv.org/4.5.1/d3/d50/group__imgproc__colormap.html#gadf478a5e5ff49d8aa24e726ea6f65d15\" rel=\"nofollow noreferrer\"><code>cv::applyColorMap</code></a> can easily generate a random RGB palette, and you can choose a favorite color map from the list <a href=\"https://docs.opencv.org/4.5.1/d3/d50/group__imgproc__colormap.html#ga9a805d8262bcbe273f16be9ea2055a65\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Example for C++11:</p>\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;numeric&gt;\n#include &lt;random&gt;\n#include &lt;opencv2/opencv.hpp&gt;\n\nstd::random_device rd;\nstd::default_random_engine re(rd());\n\n// Generating randomized palette\ncv::Mat palette(1, 255, CV_8U);\nstd::iota(palette.data, palette.data + 255, 0);\nstd::shuffle(palette.data, palette.data + 255, re);\ncv::applyColorMap(palette, palette, cv::COLORMAP_JET);\n\n// ...\n\n// Picking random color from palette and drawing\nauto randColor = palette.at&lt;cv::Vec3b&gt;(i % palette.cols);\ncv::rectangle(img, cv::Rect(0, 0, 100, 100), randColor, -1);\n</code></pre>\n<p>Example for Python3:</p>\n<pre><code>import numpy as np, cv2\n\npalette = np.arange(0, 255, dtype=np.uint8).reshape(1, 255, 1)\npalette = cv2.applyColorMap(palette, cv2.COLORMAP_JET).squeeze(0)\nnp.random.shuffle(palette)\n# ...\n\nrand_color = tuple(palette[i % palette.shape[0]].tolist())\ncv2.rectangle(img, (0, 0), (100, 100), rand_color, -1)\n</code></pre>\n<p>If you don't need so many colors, you can just cut the palette to the desired length.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 13600624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziE1u.png?s=128&g=1", "display_name": "Ender", "link": "https://stackoverflow.com/users/13600624/ender"}, "is_accepted": false, "score": 1, "last_activity_date": 1617467584, "last_edit_date": 1617467584, "creation_date": 1617073957, "answer_id": 66864308, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/66864308#66864308", "title": "Generate random colors (RGB)", "body": "<p>In pygame, you can do this:</p>\n<pre><code>import pygame\nimport random\n\nr = random.randint(0, 255)\ng = random.randint(0, 255)\nb = random.randint(0, 255)\nrand_color = (r, g, b)\n</code></pre>\n<p>For shorter code, here is an alternative:</p>\n<pre><code>import pygame\nimport random\n\nrand_color = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))\n</code></pre>\n<p>Then you can create a shape with the argument <code>rand_color</code> for a random color, for example:</p>\n<pre><code>pygame.draw.line(screen, rand_color, (0, 0), (600, 400), 20)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 6099426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G8oSGA_U5v8/AAAAAAAAAAI/AAAAAAAAAEQ/6ADyauEL5Oo/photo.jpg?sz=128", "display_name": "Jan Pokorn&#253;", "link": "https://stackoverflow.com/users/6099426/jan-pokorn%c3%bd"}, "is_accepted": false, "score": 2, "last_activity_date": 1617133558, "creation_date": 1617133558, "answer_id": 66877549, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb/66877549#66877549", "title": "Generate random colors (RGB)", "body": "<p>If you don't want your color to be sampled from the full possible space of 256\u00d7256\u00d7256 colors -- since colors produced this way may not look &quot;pretty&quot;, many of them being too dark or too white -- you may want to sample a color from a colormap.</p>\n<p>The package <a href=\"https://pypi.org/project/cmapy/\" rel=\"nofollow noreferrer\">cmapy</a> contains <a href=\"https://matplotlib.org/stable/tutorials/colors/colormaps.html\" rel=\"nofollow noreferrer\">color maps from Matplotlib</a> (scroll down for showcase), and allows simple random sampling:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import cmapy\nimport random\nrgb_color = cmapy.color('viridis', random.randrange(0, 256), rgb_order=True)\n</code></pre>\n<p>You can make the colors more distinct by adding a range step: <code>random.randrange(0, 256, 10)</code>.</p>\n"}], "owner": {"reputation": 293, "user_id": 3980407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a86661f2ce563e9fb7c5e1d202f15f?s=128&d=identicon&r=PG&f=1", "display_name": "Travis A.", "link": "https://stackoverflow.com/users/3980407/travis-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125489, "favorite_count": 10, "accepted_answer_id": 28999469, "answer_count": 11, "score": 28, "last_activity_date": 1617505014, "creation_date": 1426116315, "last_edit_date": 1617505014, "question_id": 28999287, "link": "https://stackoverflow.com/questions/28999287/generate-random-colors-rgb", "title": "Generate random colors (RGB)", "body": "<p>I just picked up image processing in python this past week at the suggestion of a friend to generate patterns of random colors. I found this piece of script online that generates a wide array of different colors across the RGB spectrum.</p>\n\n<pre><code>def random_color():\n    levels = range(32,256,32)\n    return tuple(random.choice(levels) for _ in range(3))\n</code></pre>\n\n<p>I am simply interesting in appending this script to only generate one of three random colors. Preferably red, green, and blue.</p>\n"}, {"tags": ["python", "linux", "audio", "python-multithreading", "alsa"], "answers": [{"comments": [{"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1426536697, "post_id": 29085696, "comment_id": 46404946, "body": "No, I don&#39;t want to play a .wav this way. I want to be able to open a device a send some data to the soundcard each 1024 samples, with a buffer, as usual in many audio applications."}], "tags": [], "owner": {"reputation": 745, "user_id": 1515686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8caaba1478e6bc1be63a2c234dbe08ae?s=128&d=identicon&r=PG", "display_name": "Tom-Oliver Heidel", "link": "https://stackoverflow.com/users/1515686/tom-oliver-heidel"}, "is_accepted": false, "score": 0, "last_activity_date": 1426535369, "creation_date": 1426535369, "answer_id": 29085696, "question_id": 28999267, "link": "https://stackoverflow.com/questions/28999267/open-audio-with-callback-using-alsa/29085696#29085696", "title": "Open audio with callback using ALSA", "body": "<p>I am not sure if I get it right.\nBut did you try \"aplay\"?</p>\n\n<pre><code>aplay /path/to/file/file.wav\n</code></pre>\n\n<p>But I think you can only play wav with that.\nSorry if that is not what you are looking for. ALSA is not that well documented especially for PI.</p>\n"}, {"tags": [], "owner": {"reputation": 2405, "user_id": 756261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/9bb44b99617c5ca5eae6408b409ebab2?s=128&d=identicon&r=PG", "display_name": "citxx", "link": "https://stackoverflow.com/users/756261/citxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1453888904, "last_edit_date": 1453888904, "creation_date": 1426786139, "answer_id": 29151230, "question_id": 28999267, "link": "https://stackoverflow.com/questions/28999267/open-audio-with-callback-using-alsa/29151230#29151230", "title": "Open audio with callback using ALSA", "body": "<p>I've succeeded in getting it to work with python-alsaaudio. There is no from-the-box method for this purpose, but it's relatively easy to implement.</p>\n\n<pre><code>import alsaaudio\nimport random\nimport struct\n\nBUFFER_SIZE = 1024\n\ndef noise_callback():\n    return [random.randint(-20000, 20000) for i in range(BUFFER_SIZE)]\n\ndef openaudio(card_name, freq, buffer_size, callback):    \n    device = alsaaudio.PCM(card=card_name)\n\n    device.setchannels(1)\n    device.setrate(freq)\n    device.setformat(alsaaudio.PCM_FORMAT_S16_LE)\n\n    device.setperiodsize(buffer_size)\n\n    while True:\n        samples = callback()\n        data = struct.pack(\"h\" * len(samples), *samples)\n        device.write(data)\n\nopenaudio(card_name=\"default\", freq=44100, buffer_size=BUFFER_SIZE, callback=noise_callback)\n</code></pre>\n\n<p>This example is continuously writing white noise to alsa default audio device until halted.</p>\n\n<p>If you want to do something in parallel, you need to launch <code>openaudio</code> in separate thread. As I understand it is the only way, because documentation says <code>PCM_ASYNC</code> mode haven't been implemented yet.</p>\n\n<p>Looks like the last commit to python-alsaaudio repository was in August of 2011. So hardly there can be any activities like forums or mail-lists. But its source code looks simple enough to quickly dig in. It's a plain wrapper.</p>\n\n<p>The only information I've used is <a href=\"http://pyalsaaudio.sourceforge.net/libalsaaudio.html\" rel=\"nofollow\">documentation</a> and <code>playwav.py</code> example from the python-alsaaudio package.</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1765, "favorite_count": 0, "accepted_answer_id": 29151230, "answer_count": 2, "score": 0, "last_activity_date": 1453888904, "creation_date": 1426116184, "last_edit_date": 1426429225, "question_id": 28999267, "link": "https://stackoverflow.com/questions/28999267/open-audio-with-callback-using-alsa", "title": "Open audio with callback using ALSA", "body": "<p>Is it possible in Python, using ALSA, to access the audio hardware for playback, with a callback function:</p>\n\n<pre><code>def audiocallback():\n    # create some audio and return a buffer of 1024 samples (~23 ms @ 44.1khz)\n    # that is going to be played on the device\n    return buffer\n\nopenaudio(deviceid=1, type=OUTPUT, freq=44100, buffersize=1024, callback = audiocallback)\n</code></pre>\n\n<p><strong>Would this be possible with <code>python-alsaaudio</code> ?</strong> <strong>Or another module related with ALSA, like SDL?</strong> <strong>Or by using a specific thread with <code>threading</code>?</strong></p>\n\n<hr>\n\n<p><em>Note:  is there an official mailing-list, repo, forum, etc. for <code>python-alsaaudio</code> ? I didn't find any active development.</em></p>\n\n<p><em>Note 2: I don't want to use <code>PyAudio</code>, because when using it, I had various problems on Raspberry Pi: as it involves another layer, PortAudio, this probably increases the weight of this solution. I successfully used PyAudio on PC x86 projects, but on Pi, it seems too heavy for various reasons that would be too long to discuss here.</em></p>\n"}, {"tags": ["python", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 206, "user_id": 768300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72347e0490fceafaf08082c8c5ab5aad?s=128&d=identicon&r=PG", "display_name": "Farhan Rahman", "link": "https://stackoverflow.com/users/768300/farhan-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1426116410, "creation_date": 1426116410, "answer_id": 28999304, "question_id": 28999252, "link": "https://stackoverflow.com/questions/28999252/multiplying-an-element-in-an-array-with-another-array-which-is-raised-to-a-power/28999304#28999304", "title": "Multiplying an element in an array with another array which is raised to a power", "body": "<p>You have an indentation problem:</p>\n\n<pre><code>C=[]\n\nx=[1,2,3]\ny=[1,2,3]\n\nfor i in range(0, len(y)):\n    B = list()\n    for j in range(0, len(x)):\n        b=y[i]*(x[j]**i)\n        B.append(b)\n    C.append(B)\nprint C\n</code></pre>\n\n<p>This should fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1426116877, "last_edit_date": 1426116877, "creation_date": 1426116526, "answer_id": 28999327, "question_id": 28999252, "link": "https://stackoverflow.com/questions/28999252/multiplying-an-element-in-an-array-with-another-array-which-is-raised-to-a-power/28999327#28999327", "title": "Multiplying an element in an array with another array which is raised to a power", "body": "<p>Here is a one liner version that uses list comprehensions:</p>\n\n<pre><code>x = [1,2,3]\ny = [1,2,3]\nprint [[vy * (vx**iy) for ix, vx in enumerate(x)] for iy, vy in enumerate(y)]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[[1, 1, 1], [2, 4, 6], [3, 12, 27]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "is_accepted": false, "score": 0, "last_activity_date": 1426116885, "creation_date": 1426116885, "answer_id": 28999404, "question_id": 28999252, "link": "https://stackoverflow.com/questions/28999252/multiplying-an-element-in-an-array-with-another-array-which-is-raised-to-a-power/28999404#28999404", "title": "Multiplying an element in an array with another array which is raised to a power", "body": "<p>Apart from the (now fixed) indentation problem, you must re-initialize B in every iteration of the outer loop. Also, append B[:], not B. This way you make copies every time instead of appending the very same list over and over. </p>\n\n<p>Lists in python behave in a bit different manner than strings or integers. For example, if you execute this code:</p>\n\n<pre><code>A=[2]\nB=A\nA.append(3)\nprint(B)\n</code></pre>\n\n<p>It will print out [2,3].\nIf you write <code>B=A[:]</code>, python will make a copy of the A list and the output will be just [2].</p>\n"}], "owner": {"reputation": 39, "user_id": 4424189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c85ea782c628cc81f4e68796424110d?s=128&d=identicon&r=PG&f=1", "display_name": "YoyoCherstak", "link": "https://stackoverflow.com/users/4424189/yoyocherstak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1426117186, "creation_date": 1426116108, "last_edit_date": 1426116427, "question_id": 28999252, "link": "https://stackoverflow.com/questions/28999252/multiplying-an-element-in-an-array-with-another-array-which-is-raised-to-a-power", "title": "Multiplying an element in an array with another array which is raised to a power", "body": "<p>Given two arrays:</p>\n\n<pre><code>x=[1,2,3]\ny=[1,2,3]\n</code></pre>\n\n<p>I want to multiply each element in array y by array x, the elements in array x are raised to a power according to the order of the element in y.</p>\n\n<p>For example the first element in array y is 1 and its order is 0th. Each element in array x is then raised to the power of 0, then multiplied by the element which is 1.\nThe second element in array y is 2 and its order is 1st. Each element in array x is raised to the power of 1, then multiplied by the element which is 2, etc.\nI have tried the following code:</p>\n\n<pre><code>B=[]\nC=[]\n\nfor i in arange(len(y)):\n    for j in arange(len(x)):\n         b=y[i]*x[j]**i\n         B.append(b)\n    C.append(B)\nprint C\n</code></pre>\n\n<p>However it gave:</p>\n\n<pre><code>[[1, 1, 1, 2, 4, 6, 3, 12, 27], [1, 1, 1, 2, 4, 6, 3, 12, 27], [1, 1, 1, 2, 4, 6, 3, 12, 27]]\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>[[1,1,1,],[2,4,6], [3,12,27]]\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1426118065, "post_id": 28999222, "comment_id": 46247071, "body": "This is an aside, but don&#39;t use the nested <code>with</code> expressions. You can chain them with commas, e.g. <code>with open(&#39;file1.txt&#39;) as file1, open(&#39;file2.txt&#39;) as file2, ...</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1426118265, "post_id": 28999222, "comment_id": 46247133, "body": "Thank you for the data. Could you show us the output you&#39;re ACTUALLY getting? I think the expected output is clear enough"}, {"owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1426185529, "post_id": 28999222, "comment_id": 46279528, "body": "Updated snippet of sitemap_bp.csv, Am currently using <code>\\d{4,}_\\d{4,}_\\d{4,}_\\d{4,}_\\d{4,}|\\d{4,}_\\d{4,}_\\d{4,}_\\d{4&zwnj;&#8203;,}|\\d{4,}_\\d{4,}_\\d{&zwnj;&#8203;4,}|\\d{4,}</code> to capture new types."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1426185642, "post_id": 28999222, "comment_id": 46279606, "body": "That&#39;s a silly regex. Just do <code>r&quot;\\d{4,}(?:_\\d{4,})*&quot;</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1426185904, "post_id": 28999222, "comment_id": 46279735, "body": "Works for me! <a href=\"https://regex101.com/r/dH2nM7/1\" rel=\"nofollow noreferrer\">regex101.com/r/dH2nM7/1</a>"}, {"owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1426185957, "post_id": 28999222, "comment_id": 46279771, "body": "Yeah, I forgot the <code>*</code>"}, {"owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1426186117, "post_id": 28999222, "comment_id": 46279881, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/72869/discussion-between-e-liquid-vape-and-adam-smith\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "edited": false, "score": 0, "creation_date": 1426184871, "post_id": 29000938, "comment_id": 46279136, "body": "TY, one thing i need in &#39;all = []&#39;  is the URLs(from sitemap) that do not have a corresponding match, what is the best way to do this? Do I need to iterate through sitemap?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "edited": false, "score": 0, "creation_date": 1426184997, "post_id": 29000938, "comment_id": 46279194, "body": "@EliquidVape you mean all the URLs in <code>sitemap_bp.csv</code> or the URLs in <code>mobilesitemap-browse.csv</code>?"}, {"owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "edited": false, "score": 0, "creation_date": 1426185091, "post_id": 29000938, "comment_id": 46279261, "body": "All the URLs in sitemap_bp.csv"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1426186721, "last_edit_date": 1426186721, "creation_date": 1426127548, "answer_id": 29000938, "question_id": 28999222, "link": "https://stackoverflow.com/questions/28999222/csv-if-row-contains-string-append-row/29000938#29000938", "title": "CSV if row contains string append row", "body": "<p>Personally I'd parse the data from sitemap_bp.csv first, then use that dictionary to populate the new file.</p>\n\n<pre><code>import re\n\nwith open('sitemap_bp.csv','r') as csvinput, \\\n        open('mobilesitemap-browse.csv','r') as csvinput2, \\\n        open('output.csv', 'w') as csvoutput:\n    writer = csv.writer(csvoutput, lineterminator='\\n')\n    sitemap = csvinput # no reason to pipe this through csv.reader\n    mobilesitemap = csv.reader(csvinput2)\n\n    item_number = re.compile(r\"\\d{5}_\\d{7}_{7}\")\n\n    item_number_mapping = {item_number.search(line).group(): line.strip()\n                           for line in sitemap if item_number.search(line)}\n    # makes a dictionary {item_number: full_url, ...} for each item in sitemap\n    # alternate to the above, consider:\n    # # item_number_mapping = {}\n    # # for line in sitemap:\n    # #     line = line.strip()\n    # #     match = item_number.search(line)\n    # #     if match:\n    # #         item_number_mapping[match.group()] = match.string\n\n    all = [row + [item_number_mapping[row[1]] for row in mobilesitemap]\n\n    writer.writerows(all)\n</code></pre>\n\n<p>My guess is that after the first time through your outer <code>for</code> loop, it tries to iterate through <code>sitemap</code> again but can't since the file is already exhausted. The minimal change for that would be:</p>\n\n<pre><code>        for mobilerow in mobilesitemap:\n            csvinput.seek(0) # seek to the start of the file object\n            next(sitemap) # skip the header row\n            for row in sitemap:\n                #print row[0]\n                if mobilerow[1] in row[0]:\n                    #print row, mobilerow[1]\n                    all.append((row[0], mobilerow[1]))\n                else:\n                    all.append(row)\n</code></pre>\n\n<p>But the obvious reason not to do this is that it iterates through your <code>sitemap_bp.csv</code> file once per row in <code>mobilesitemap-browse.csv</code>, rather than just once like my code.</p>\n\n<h3>EDIT per question in comments</h3>\n\n<p>If you need to get a list of those URLs in <code>sitemap_bp.csv</code> that don't correspond with <code>mobilesitemap-browse.csv</code>, you're probably best-served by making a <code>set</code> for all the items you see as you see them, then using set operations to get the unseen items. This takes a little tinkering, but...</p>\n\n<pre><code># instead of all = [row + [item number ...\n\nseen = set()\nall = []\n\nfor row in mobilesitemap:\n    item_no = row[1]\n    if item_no in item_number_mapping:\n        all.append(row + [item_number_mapping[item_no]])\n        seen.add(item_no)\n# after this for loop, `all` is identical to the list comp version\nunmatched_items = [item_number_mapping[item_num] for item_num in\n                   set(item_number_mapping.keys()) - seen]\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 4056384, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-1stxw1QVLM4/AAAAAAAAAAI/AAAAAAAAABA/ER_WFItPoTQ/photo.jpg?sz=128", "display_name": "E liquid Vape", "link": "https://stackoverflow.com/users/4056384/e-liquid-vape"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 29000938, "answer_count": 1, "score": 1, "last_activity_date": 1426536742, "creation_date": 1426115991, "last_edit_date": 1426536742, "question_id": 28999222, "link": "https://stackoverflow.com/questions/28999222/csv-if-row-contains-string-append-row", "title": "CSV if row contains string append row", "body": "<p>I am trying to append a row in sitemap_bp.csv in the adjacent column, if a line contains a string from mobilesitemap-browse.csv.\nI'm not able to iterate through the lines in mobilesitemap-browse.csv, it gets stuck on the first line.  How do I go about solving this?</p>\n\n<pre><code>import csv\n\nwith open('sitemap_bp.csv','r') as csvinput:\n    with open('mobilesitemap-browse.csv','r') as csvinput2:\n        with open('output.csv', 'w') as csvoutput:\n            writer = csv.writer(csvoutput, lineterminator='\\n')\n            sitemap = csv.reader(csvinput)\n            mobilesitemap = csv.reader(csvinput2)\n\n            all = []\n            row = next(sitemap)\n            row.append('mobile')\n            all.append(row)\n\n            for mobilerow in mobilesitemap:\n                for row in sitemap:\n                    #print row[0]\n                    if mobilerow[1] in row[0]:\n                        #print row, mobilerow[1]\n                        all.append((row[0], mobilerow[1]))\n                    else:\n                        all.append(row)\n\n            writer.writerows(all)\n</code></pre>\n"}, {"tags": ["python", "string", "text", "frequency"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1426116076, "post_id": 28999221, "comment_id": 46246370, "body": "read your file into a list where each line would be an individual element in the list. Then use counter"}, {"owner": {"reputation": 1333, "user_id": 731221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f327647ed52815ca56fd6536128ba925?s=128&d=identicon&r=PG", "display_name": "MikeVaughan", "link": "https://stackoverflow.com/users/731221/mikevaughan"}, "edited": false, "score": 0, "creation_date": 1426116345, "post_id": 28999221, "comment_id": 46246482, "body": "use <code>f.readlines()</code> instead of <code>f.read()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "reply_to_user": {"reputation": 13, "user_id": 2893725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996724bd8ce868070d049ac9a130d281?s=128&d=identicon&r=PG&f=1", "display_name": "scientistR", "link": "https://stackoverflow.com/users/2893725/scientistr"}, "edited": false, "score": 0, "creation_date": 1426117453, "post_id": 28999281, "comment_id": 46246880, "body": "No problem. Glad that I helped."}, {"owner": {"reputation": 13, "user_id": 2893725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996724bd8ce868070d049ac9a130d281?s=128&d=identicon&r=PG&f=1", "display_name": "scientistR", "link": "https://stackoverflow.com/users/2893725/scientistr"}, "edited": false, "score": 0, "creation_date": 1426275671, "post_id": 28999281, "comment_id": 46321610, "body": "Fran Borcic, how would you do this same thing, but now each string is bound by parentheses &quot;xxxxx&quot; instead of being on a new line?"}, {"owner": {"reputation": 13, "user_id": 2893725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996724bd8ce868070d049ac9a130d281?s=128&d=identicon&r=PG&f=1", "display_name": "scientistR", "link": "https://stackoverflow.com/users/2893725/scientistr"}, "edited": false, "score": 0, "creation_date": 1426277549, "post_id": 28999281, "comment_id": 46322543, "body": "Got it: words = re.findall(r&#39;\\&quot;(.*?)\\&quot;&#39;,text)"}, {"owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "reply_to_user": {"reputation": 13, "user_id": 2893725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996724bd8ce868070d049ac9a130d281?s=128&d=identicon&r=PG&f=1", "display_name": "scientistR", "link": "https://stackoverflow.com/users/2893725/scientistr"}, "edited": false, "score": 0, "creation_date": 1426377327, "post_id": 28999281, "comment_id": 46348582, "body": "No need for the backslashes though. Also, be careful, because this won&#39;t match the string if it contains a newline."}], "tags": [], "owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "is_accepted": true, "score": 0, "last_activity_date": 1426116273, "creation_date": 1426116273, "answer_id": 28999281, "question_id": 28999221, "link": "https://stackoverflow.com/questions/28999221/python-finding-string-frequencies-of-list-of-strings-in-text-file/28999281#28999281", "title": "Python - Finding string frequencies of list of strings in text file", "body": "<p>Instead of using the regex, read the file as <code>words=f.readlines()</code> . You'll end up with a list of strings corresponding to each line. Then, build the counter from that list. </p>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "edited": false, "score": 0, "creation_date": 1426117951, "post_id": 28999316, "comment_id": 46247044, "body": "Not keeping reference to the file object to close it afterwards can cause some trouble."}], "tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": false, "score": 2, "last_activity_date": 1426116986, "last_edit_date": 1426116986, "creation_date": 1426116463, "answer_id": 28999316, "question_id": 28999221, "link": "https://stackoverflow.com/questions/28999221/python-finding-string-frequencies-of-list-of-strings-in-text-file/28999316#28999316", "title": "Python - Finding string frequencies of list of strings in text file", "body": "<p>I got this to work:</p>\n\n<pre><code>import collections\n\nlines = [line.strip() for line in open('results.txt')]\ncounts = collections.Counter(lines)\nprint counts\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['Sam', 'sam', 'johm go', 'johm go', 'johm for']\nCounter({'johm go': 2, 'sam': 1, 'Sam': 1, 'johm for': 1})\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2893725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996724bd8ce868070d049ac9a130d281?s=128&d=identicon&r=PG&f=1", "display_name": "scientistR", "link": "https://stackoverflow.com/users/2893725/scientistr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "accepted_answer_id": 28999281, "answer_count": 2, "score": 0, "last_activity_date": 1426117366, "creation_date": 1426115990, "question_id": 28999221, "link": "https://stackoverflow.com/questions/28999221/python-finding-string-frequencies-of-list-of-strings-in-text-file", "title": "Python - Finding string frequencies of list of strings in text file", "body": "<p>I am trying to find all occurrences of strings in a text file, where each string is located on a new line in the file.</p>\n\n<p>For example, an example file may look like this:</p>\n\n<pre><code>jump start\njump go\nfeet start\njump go\n</code></pre>\n\n<p>The target tally would be 1 for all strings, except for \"jump go\" would have 2</p>\n\n<p>So far, I have been successful at finding individual word counts using this code:</p>\n\n<pre><code>import re\nimport collections\nwith open('file.txt') as f:\n    text = f.read()\nwords = re.findall(r'\\w+',text)\ncounts = collections.Counter(words)\nprint(counts)\n</code></pre>\n\n<p>However, this only gives output like: jump = 3, start = 2, go = 2, feet = 1</p>\n\n<p>Not sure if this matters, but the number of lines in the file will be around 5 million, with around 12,000 independent strings.</p>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["python", "bash", "for-loop"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1426115996, "post_id": 28999210, "comment_id": 46246334, "body": "<a href=\"http://mywiki.wooledge.org/DontReadLinesWithFor\" rel=\"nofollow noreferrer\">mywiki.wooledge.org/DontReadLinesWithFor</a>"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1426116049, "post_id": 28999210, "comment_id": 46246355, "body": "<code>&#39;\\x1b[01;00m&#47;home&#47;hotnet2-1.0.0&#47;iref&#47;iref_edgelist_164\\x1b[0&zwnj;&#8203;m&#39;</code> this in the output looks like the file has color control codes in it. That&#39;s not a text file. You&#39;ll need to get a clean text file or strip those out before this will work."}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1426116246, "post_id": 28999210, "comment_id": 46246442, "body": "Oks, I understand the color control codes but why when I use <code>$net</code> the error I got is different? Well, maybe it is a really silly question..."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1426116716, "post_id": 28999210, "comment_id": 46246603, "body": "The backticks run their contents as a command. So <code>`$net`</code> takes the value of the <code>$net</code> variable and tries to run it as a shell command and replaces the backtick string with the output of the command. That&#39;s why you get the &quot;no such file or directory&quot; error there and why the <code>-e</code> argument doesn&#39;t have an argument (the backtick string evaluates to the empty string)."}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1426117833, "post_id": 28999210, "comment_id": 46246997, "body": "Thanks @EtanReisner for the help and for the information, removing the control codes did the trick. If you post the comments are an answer I would be more than happy to give you the points"}], "answers": [{"tags": [], "owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "is_accepted": true, "score": 2, "last_activity_date": 1426125481, "creation_date": 1426125481, "answer_id": 29000667, "question_id": 28999210, "link": "https://stackoverflow.com/questions/28999210/use-bash-script-to-pass-arguments-to-a-python-script/29000667#29000667", "title": "use bash script to pass arguments to a python script", "body": "<p>The python traceback shows you the problem (as you noticed).</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/home/jfertaj/Broad_Stay/hotnet2-1.0.0/bin/createPPRMat_1.py\", line 96, in &lt;module&gt;\nrun(get_parser().parse_args(sys.argv[1:]))\nFile \"/home/hotnet2-1.0.0/bin/createPPRMat_1.py\", line 38, in run\nedges = [map(int, l.rstrip().split()[:2]) for l in open(args.edgelist_file)]\nIOError: [Errno 2] No such file or directory: '\\x1b[01;00m/home/hotnet2-1.0.0/iref/iref_edgelist_164\\x1b[0m'\n</code></pre>\n\n<p>The file is not a text file. It is a binary file. It contains file names and shell color codes. You need to remove (or filter out) those color codes before you can use the filenames verbatim (alternatively get a clean copy of the file and fix whatever process spits out color codes to files to stop doing that).</p>\n\n<p>The different error (missing argument) you get when you use the backticks is because  the backticks run their contents as a command. So <code>`$net`</code> takes the value of the <code>$net</code> variable and tries to run it as a shell command and then replaces the entire backtick quoted string with the output of that command.</p>\n\n<p>That's why you get the \"no such file or directory\" error there (because the filename, with codes, is not valid) and, subsequently, why the <code>-e</code> flag doesn't have an argument (the backtick string evaluated to the empty string so you end up with <code>-e -i</code> and no argument to <code>-e</code>).</p>\n"}], "owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 29000667, "answer_count": 1, "score": 0, "last_activity_date": 1426125481, "creation_date": 1426115946, "question_id": 28999210, "link": "https://stackoverflow.com/questions/28999210/use-bash-script-to-pass-arguments-to-a-python-script", "title": "use bash script to pass arguments to a python script", "body": "<p>I have a very basic problem, but my knowledge about python is very limited. I have a python script that takes several arguments in order to run (<a href=\"https://github.com/raphael-group/hotnet2/blob/master/bin/createPPRMat.py\" rel=\"nofollow\">https://github.com/raphael-group/hotnet2/blob/master/bin/createPPRMat.py</a>). </p>\n\n<p>I would like to use a file with some filenames (one per line) as the first argument to be passed to the python script. </p>\n\n<p>My first try to do it was creating a bash script (<code>mat.sh</code>) like this:</p>\n\n<pre><code>#!/bin/bash\nfor net in $(cat /home/hotnet2-1.0.0/iref/iref.list);\ndo\nexport\npython createPPRMat.py -e `$net` -i /home/jfertaj/hotnet2-1.0.0/iref/iref_index_genes -o /home/jfertaj/Broad_Stay/hotnet2-1.0.0/iref_influence_matrices\ndone\n</code></pre>\n\n<p>However I got an error, the python script seems to not parse the <code>$net</code> variable:</p>\n\n<pre><code>createPPRMat_1.py: error: argument -e/--edgelist_file: expected one argument\nmat.sh: line 6: /home/jfertaj/Broad_Stay/hotnet2-1.0.0/iref/iref_edgelist_139: No such file or directory\n</code></pre>\n\n<p>When I double quote the variable <code>net</code> in the bash script (<code>\"$net\"</code>) the error I got is different, pointing out that something is wrong with the filename</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/home/jfertaj/Broad_Stay/hotnet2-1.0.0/bin/createPPRMat_1.py\", line 96, in &lt;module&gt;\nrun(get_parser().parse_args(sys.argv[1:]))\nFile \"/home/hotnet2-1.0.0/bin/createPPRMat_1.py\", line 38, in run\nedges = [map(int, l.rstrip().split()[:2]) for l in open(args.edgelist_file)]\nIOError: [Errno 2] No such file or directory: '\\x1b[01;00m/home/hotnet2-1.0.0/iref/iref_edgelist_164\\x1b[0m'\n</code></pre>\n\n<p>The content of <code>iref.list</code> looks like this:</p>\n\n<pre><code>/home/hotnet2-1.0.0/iref/iref_edgelist_1\n/home/hotnet2-1.0.0/iref/iref_edgelist_10\n/home/hotnet2-1.0.0/iref/iref_edgelist_100\n</code></pre>\n\n<p>And the <code>iref.list</code> file was created using <code>cat -1 ... &lt; iref.list</code></p>\n\n<p>Any help would be very appreciated</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "list", "append"], "comments": [{"owner": {"reputation": 4694, "user_id": 4367228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bdee64eedba21c13b7017601c566d05?s=128&d=identicon&r=PG&f=1", "display_name": "MrAlexBailey", "link": "https://stackoverflow.com/users/4367228/mralexbailey"}, "edited": false, "score": 2, "creation_date": 1426115775, "post_id": 28999098, "comment_id": 46246233, "body": "<code>data[&#39;Rows&#39;].append(list())</code> Will not sub-list an existing list. So you should be find to use that in either scenario.  It does however create a copy.. so be aware of that."}], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "is_accepted": false, "score": 0, "last_activity_date": 1426115740, "creation_date": 1426115740, "answer_id": 28999168, "question_id": 28999098, "link": "https://stackoverflow.com/questions/28999098/python-append-item-to-list-always-as-a-sub-list/28999168#28999168", "title": "python - append item to list always as a sub-list", "body": "<p>If I understood your question correctly, you could do something like this:</p>\n\n<pre><code>data['Rows']=data.get('Rows', []).append(list(row))\n</code></pre>\n\n<p>This will create the list if it isn't present in the dictionary already.</p>\n\n<p>You might consider rephrasing your question to make it more clear. You say \"if it's not a list\", but it isn't clear what it is then. Since you are working with dicts I assumed it meant that the key is not present. </p>\n"}, {"comments": [{"owner": {"reputation": 1790, "user_id": 3624549, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6d64dd9adf330105e883f79fd0e669ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alg_D", "link": "https://stackoverflow.com/users/3624549/alg-d"}, "edited": false, "score": 0, "creation_date": 1426116952, "post_id": 28999248, "comment_id": 46246687, "body": "That is great, lambda also do the job! Why is the comma  needed on: ...else [x,]"}, {"owner": {"reputation": 2193, "user_id": 3634936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae8318e36b2b2419c14722874087ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Eithos", "link": "https://stackoverflow.com/users/3634936/eithos"}, "reply_to_user": {"reputation": 1790, "user_id": 3624549, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6d64dd9adf330105e883f79fd0e669ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alg_D", "link": "https://stackoverflow.com/users/3624549/alg-d"}, "edited": false, "score": 2, "creation_date": 1426117245, "post_id": 28999248, "comment_id": 46246802, "body": "@Algina It&#39;s not. It&#39;s actually only necessary when dealing with tuples that consist of a single element. I&#39;m guessing jedwards used that form out of habit."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1426117279, "post_id": 28999248, "comment_id": 46246815, "body": "It&#39;s not.  It&#39;s just habit.  For single-element lists <code>[x]</code> is fine.  For single-element <i>tuples</i>, you need it: <code>(x,)</code>"}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 1, "last_activity_date": 1426116482, "last_edit_date": 1426116482, "creation_date": 1426116087, "answer_id": 28999248, "question_id": 28999098, "link": "https://stackoverflow.com/questions/28999098/python-append-item-to-list-always-as-a-sub-list/28999248#28999248", "title": "python - append item to list always as a sub-list", "body": "<p>If I understand your question, something like</p>\n\n<blockquote>\n  <p>I have a list of elements, these elements may be lists already, they may not be.  If they are lists, I want them appended as such.  If they <em>aren't</em> lists, I want them wrapped in a list, and then I want the resulting single-element list appended.</p>\n</blockquote>\n\n<p>This is something I too have struggled with, and the best I could come up with is something like the following:</p>\n\n<pre><code>elems = [1,2,[3,4],5]\n\ndata1 = []\nfor e in elems:\n    data1.append(e if isinstance(e, list) else [e,])\nprint data1\n\n# Or with a lambda function that does the work for you\nwrap = lambda x: x if isinstance(x, list) else [x,]\n\ndata2 = []\nfor e in elems:\n    data2.append(wrap(e))\nprint data2\n</code></pre>\n\n<p>Both output:</p>\n\n<pre><code>[[1], [2], [3, 4], [5]]\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 3624549, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6d64dd9adf330105e883f79fd0e669ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alg_D", "link": "https://stackoverflow.com/users/3624549/alg-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426117920, "creation_date": 1426115354, "last_edit_date": 1426117920, "question_id": 28999098, "link": "https://stackoverflow.com/questions/28999098/python-append-item-to-list-always-as-a-sub-list", "title": "python - append item to list always as a sub-list", "body": "<p>What would be the most efficient way to append an item into an existing list as another sub-list. for instance, considering <em>data['rows']</em> is a list, the following:</p>\n\n<pre><code> for indx, row in enumerate(my_data):\n    data['rows'].append(row) \n</code></pre>\n\n<p>does the job in when row is already a list.</p>\n\n<pre><code>&gt; 'Rows': [['150', '01'], ['10', '02'], ['22', '03'], ['33', '4'] ...\n</code></pre>\n\n<p>however if the value in <em>row</em> is not a list, this will produce:</p>\n\n<pre><code>&gt; 'Rows': ['150', '10', '22', '33', '44', '15']\n</code></pre>\n\n<p>I've a condition that in case a row is not a list it uses <code>data['Rows'].append(list(row))</code> but there must be a better way..</p>\n"}, {"tags": ["python", "pandas", "merge"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4293272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd4812c9bb9236a7614ae6a994227e7?s=128&d=identicon&r=PG&f=1", "display_name": "MLB", "link": "https://stackoverflow.com/users/4293272/mlb"}, "edited": false, "score": 0, "creation_date": 1426116430, "post_id": 28999158, "comment_id": 46246515, "body": "Thanks for the quick response! I tried that and it&#39;s giving me an empty dataframe. Any idea what might be causing that?"}, {"owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "reply_to_user": {"reputation": 1, "user_id": 4293272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd4812c9bb9236a7614ae6a994227e7?s=128&d=identicon&r=PG&f=1", "display_name": "MLB", "link": "https://stackoverflow.com/users/4293272/mlb"}, "edited": false, "score": 0, "creation_date": 1426117683, "post_id": 28999158, "comment_id": 46246951, "body": "Are you sure <code>df1</code> and <code>df2</code> are as you wrote in your question? I replicated the data frames by copying and pasting each one using <code>read_clipboard</code>."}, {"owner": {"reputation": 1, "user_id": 4293272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd4812c9bb9236a7614ae6a994227e7?s=128&d=identicon&r=PG&f=1", "display_name": "MLB", "link": "https://stackoverflow.com/users/4293272/mlb"}, "edited": false, "score": 0, "creation_date": 1426118735, "post_id": 28999158, "comment_id": 46247256, "body": "The actual dataframes are very large with many more columns, but they still only have PID and Trial in common. The only think I can think of that is different from in question is that they have different numbers of rows (some subjects have data in one dataframe but not the other). But I would think that the extra rows would just be left out of the merged df."}, {"owner": {"reputation": 1, "user_id": 4293272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd4812c9bb9236a7614ae6a994227e7?s=128&d=identicon&r=PG&f=1", "display_name": "MLB", "link": "https://stackoverflow.com/users/4293272/mlb"}, "edited": false, "score": 0, "creation_date": 1426185222, "post_id": 28999158, "comment_id": 46279342, "body": "Figured it out. The trial columns had different types in each dataframe"}], "tags": [], "owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "is_accepted": false, "score": 0, "last_activity_date": 1426115688, "creation_date": 1426115688, "answer_id": 28999158, "question_id": 28999078, "link": "https://stackoverflow.com/questions/28999078/merging-in-pandas-with-shared-data/28999158#28999158", "title": "merging in Pandas with shared data", "body": "<p>You want an inner join:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; df1 = pd.read_clipboard()\n&gt;&gt;&gt; df2 = pd.read_clipboard()\n&gt;&gt;&gt; df1\n   PID Block  Trial  Response\n0  101     A      1         1\n1  101     A      2         2\n2  102     A      1         1\n3  102     A      2         1\n&gt;&gt;&gt; df2\n   PID  Trial Fix  Dur\n0  101      1   x   10\n1  101      2   y   12\n2  102      1   z    9\n3  102      2   y   13\n&gt;&gt;&gt; pd.merge(df1, df2, on=['PID', 'Trial'], how='inner', sort=False)\n   PID Block  Trial  Response Fix  Dur\n0  101     A      1         1   x   10\n1  101     A      2         2   y   12\n2  102     A      1         1   z    9\n3  102     A      2         1   y   13\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4293272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd4812c9bb9236a7614ae6a994227e7?s=128&d=identicon&r=PG&f=1", "display_name": "MLB", "link": "https://stackoverflow.com/users/4293272/mlb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426115688, "creation_date": 1426115217, "question_id": 28999078, "link": "https://stackoverflow.com/questions/28999078/merging-in-pandas-with-shared-data", "title": "merging in Pandas with shared data", "body": "<p>I have two dataframes of the following form:</p>\n\n<pre><code>PID    Block    Trial    Response\n101    A        1        1\n101    A        2        2\n102    A        1        1\n102    A        2        1\n\nPID    Trial    Fix    Dur\n101    1        x      10\n101    2        y      12\n102    1        z      9\n102    2        y      13\n</code></pre>\n\n<p>I need to combine them into a single dataframe that looks like this:</p>\n\n<pre><code>PID    Block    Trial    Response    Fix    Dur \n101    A        1        1           x      10\n101    A        2        2           y      12\n102    A        1        1           z      9\n102    A        2        1           y      13\n</code></pre>\n\n<p>I've tried using pd.merge(df1, df2, on=['PID', 'Trial'], how='outer', sort=False). But that just gives something like this:  </p>\n\n<pre><code>PID    Block    Trial    Response    Fix    Dur \n101    A        1        1           NaN    NaN\n101    A        2        2           NaN    NaN\n102    A        1        1           NaN    NaN\n102    A        2        1           NaN    NaN\n101    NaN      1        NaN         x      10\n101    NaN      2        NaN         y      12\n102    NaN      1        NaN         z      9\n102    Nan      2        NaN         y      13\n</code></pre>\n\n<p>I haven't had any luck with pd.join either. I also tried creating a new column with a (PID, Trial) tuple, but using merge on that gave similar results as above. Help please!</p>\n"}, {"tags": ["python", "regex", "indexing", "match", "overlapping-matches"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3705019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501fc89b593b6e7f6e74c90f248e103?s=128&d=identicon&r=PG", "display_name": "Omega", "link": "https://stackoverflow.com/users/3705019/omega"}, "edited": false, "score": 0, "creation_date": 1426117081, "post_id": 28999129, "comment_id": 46246740, "body": "Hackishly fixed overlapping issue, I think ;)"}], "tags": [], "owner": {"reputation": 133, "user_id": 3705019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501fc89b593b6e7f6e74c90f248e103?s=128&d=identicon&r=PG", "display_name": "Omega", "link": "https://stackoverflow.com/users/3705019/omega"}, "is_accepted": true, "score": 2, "last_activity_date": 1426117800, "last_edit_date": 1426117800, "creation_date": 1426115551, "answer_id": 28999129, "question_id": 28999035, "link": "https://stackoverflow.com/questions/28999035/match-and-index-all-substrings-including-overlapping-ones/28999129#28999129", "title": "Match and index all substrings, including overlapping ones", "body": "<p>Using re.finditer, you can obtain start locations:</p>\n\n<pre><code>import re\nseq = \"blahblahblahLALALAblahblahLALA\"\nsubstring=\"LALA\"\nlenss=len(substring)\noverlapsearch=\"(?=(\\\\\"+substring+\"))\"\nxx=[[x.start(),x.start()+lenss] for x in list(re.finditer(overlapsearch,seq))]\ncheck=[seq[x[0]:x[1]] for x in xx]\nprint xx\nprint check\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>[[12, 16], [14, 18], [26, 30]]\n['LALA', 'LALA', 'LALA']\n</code></pre>\n\n<p>And results using your original example:</p>\n\n<pre><code>[[9, 17], [24, 32]]\n['GTTTGCAG', 'GTTTGCAG']\n</code></pre>\n\n<p>Adding \"?=\" to the substring search tells regex that the next match can use the characters from the previous match</p>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 4060111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/db01430448878e0a6fef247076d10c57?s=128&d=identicon&r=PG&f=1", "display_name": "Helene", "link": "https://stackoverflow.com/users/4060111/helene"}, "edited": false, "score": 0, "creation_date": 1426119781, "post_id": 28999131, "comment_id": 46247575, "body": "Thank you @jedwards. I appreciate your help."}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1426115555, "creation_date": 1426115555, "answer_id": 28999131, "question_id": 28999035, "link": "https://stackoverflow.com/questions/28999035/match-and-index-all-substrings-including-overlapping-ones/28999131#28999131", "title": "Match and index all substrings, including overlapping ones", "body": "<p>If you're not using regular expressions, you can just repeatedly call <a href=\"https://docs.python.org/2/library/string.html#string.find\" rel=\"nofollow\"><code>string.find()</code></a> with the optional start argument.</p>\n\n<p>For example:</p>\n\n<pre><code>sequence = \"ATCCAAGGAGTTTGCAGAGGTGGCGTTTGCAGCATGAGAT\"\nsubstring=\"GTTTGCAG\"\n\ndef find_endpoints(seq, sub):\n    off = 0\n    matches = []\n    while True:\n        idx = seq.find(substring, off)\n        if idx == -1: break\n        matches.append((idx, idx+len(sub)))\n        off = idx + 1\n    return matches\n\nfor (s,e) in find_endpoints(sequence, substring):\n    print(s, e, sequence[s:e])\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>(9, 17, 'GTTTGCAG')\n(24, 32, 'GTTTGCAG')\n</code></pre>\n\n<p>Note: <code>(s,e)</code> are the start index (inclusive) and end index (exclusive) of the substring.</p>\n"}, {"comments": [{"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1426116372, "post_id": 28999251, "comment_id": 46246495, "body": "An explanation might be useful to people reading this. Otherwise it could be a piece of random code"}, {"owner": {"reputation": 827, "user_id": 4060111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/db01430448878e0a6fef247076d10c57?s=128&d=identicon&r=PG&f=1", "display_name": "Helene", "link": "https://stackoverflow.com/users/4060111/helene"}, "edited": false, "score": 0, "creation_date": 1426119961, "post_id": 28999251, "comment_id": 46247626, "body": "Thank you @WuJo. I appreciate your help."}, {"owner": {"reputation": 133, "user_id": 3705019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501fc89b593b6e7f6e74c90f248e103?s=128&d=identicon&r=PG", "display_name": "Omega", "link": "https://stackoverflow.com/users/3705019/omega"}, "edited": false, "score": 0, "creation_date": 1426124652, "post_id": 28999251, "comment_id": 46248841, "body": "This is a concise non-regex method, I think. And I always enjoy pythony list comprehension solutions! :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4638556"}, "is_accepted": false, "score": 3, "last_activity_date": 1426118844, "last_edit_date": 1426118844, "creation_date": 1426116105, "answer_id": 28999251, "question_id": 28999035, "link": "https://stackoverflow.com/questions/28999035/match-and-index-all-substrings-including-overlapping-ones/28999251#28999251", "title": "Match and index all substrings, including overlapping ones", "body": "<p>This iterate for substrings with length equal length of pattern and compare with our pattern. If they are the same, it remember start and end index in string. It simple list comprehension.</p>\n\n<pre><code>sequence = \"ATCCAAGGAGTTTGCAGAGGTGGCGTTTGCAGCATGAGAT\"\nsubstring = \"GTTTGCAG\"\n\ndef find_indexes(seq, sub):\n    return [(sub, i, len(sub)+i) for i in range(0, len(seq), 1) if seq[i:len(sub)+i] == sub]\n\nprint find_indexes(sequence, substring)\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>[('GTTTGCAG', 9, 17), ('GTTTGCAG', 24, 32)]\n</code></pre>\n"}], "owner": {"reputation": 827, "user_id": 4060111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/db01430448878e0a6fef247076d10c57?s=128&d=identicon&r=PG&f=1", "display_name": "Helene", "link": "https://stackoverflow.com/users/4060111/helene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 28999129, "answer_count": 3, "score": 1, "last_activity_date": 1426118844, "creation_date": 1426114978, "question_id": 28999035, "link": "https://stackoverflow.com/questions/28999035/match-and-index-all-substrings-including-overlapping-ones", "title": "Match and index all substrings, including overlapping ones", "body": "<p>I'm trying to index the matches using the <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow\">new regex findall</a>, so that overlapped matches can be considered. However, I could only find the matches, but can't correctly give locations for them.</p>\n\n<p>My code:</p>\n\n<pre><code>import regex as re\nseq = \"ATCCAAGGAGTTTGCAGAGGTGGCGTTTGCAGCATGAGAT\"\nsubstring=\"GTTTGCAG\"\nxx=re.findall(substring,seq,overlapped=True)\nprint xx\n</code></pre>\n\n<p>xx would look like</p>\n\n<pre><code>['GTTTGCAG', 'GTTTGCAG']\n</code></pre>\n\n<p>because there are two matches at positions 10-17 and 25-32.</p>\n\n<p>However how could I obtain these numbers please? By checking dir(xx), there is no start/end/pos that I could use in this new function. (I tried xx.index(substring), but this seems to only gives the index for the resulting list: e.g. 0 and 1 in this case)</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "pandas", "group-by", "correlation"], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 3, "creation_date": 1426165539, "post_id": 29000926, "comment_id": 46266146, "body": "Thanks for your effort.  I posted another question but I think I am getting close.... using the apply method with a lambda function seems to be headed in the right direction."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1519006793, "post_id": 29000926, "comment_id": 84720875, "body": "the new q &amp; a:  <a href=\"https://stackoverflow.com/questions/28998998/rolling-correlation-with-groupby-in-pandas\" title=\"rolling correlation with groupby in pandas\">stackoverflow.com/questions/28998998/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": false, "score": 1, "last_activity_date": 1519000184, "last_edit_date": 1519000184, "creation_date": 1426127487, "answer_id": 29000926, "question_id": 28998998, "link": "https://stackoverflow.com/questions/28998998/rolling-correlation-with-groupby-in-pandas/29000926#29000926", "title": "Rolling Correlation with Groupby in Pandas", "body": "<p>You can actually start with the simple approach here: \n <a href=\"https://stackoverflow.com/questions/28988627/pandas-correlation-groupby\">Pandas Correlation Groupby</a></p>\n\n<p>and then add <code>rolling(3)</code> like this:</p>\n\n<pre><code>df.groupby('ID')[['Val1','Val2']].rolling(3).corr()\n</code></pre>\n\n<p>I've changed the window from 2 to 3 because you'll only get 1 or -1 with a window size of 2.  Unfortunately, that output (not shown) is a bit verbose because it outputs a 2x2 correlation matrix when all you need is a scalar. \n But with an additional line you can make the output more concise:</p>\n\n<pre><code>df2 = df.groupby('ID')[['Val1','Val2']].rolling(3).corr()\n\ndf2.groupby(level=[0,1]).last()['Val1']\n\nID   \nA   0         NaN\n    1         NaN\n    2   -0.996539\nB   3         NaN\n    4         NaN\n    5    0.879868\nC   6         NaN\n    7         NaN\n    8   -0.985529\n</code></pre>\n"}], "owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3488, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1519001027, "creation_date": 1426114810, "last_edit_date": 1519001027, "question_id": 28998998, "link": "https://stackoverflow.com/questions/28998998/rolling-correlation-with-groupby-in-pandas", "title": "Rolling Correlation with Groupby in Pandas", "body": "<p>Assuming I have a Pandas dataframe similar to the below, how would I get the rolling correlation (for 2 days in this example) between 2 specific columns and group by the 'ID' column? I am familiar with the Pandas rolling_corr() function but I cannot figure out how to combine that with the groupby() clause.</p>\n\n<p>What I have:</p>\n\n<pre><code>ID  Date    Val1    Val2\nA   1-Jan   45      22\nA   2-Jan   15      66\nA   3-Jan   55      13\nB   1-Jan   41      12\nB   2-Jan   87      45\nB   3-Jan   82      66\nC   1-Jan   33      34\nC   2-Jan   15      67\nC   3-Jan   46      22\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>ID  Date    Val1    Val2    Rolling_Corr\nA   1-Jan   45      22  \nA   2-Jan   15      66      0.1\nA   3-Jan   55      13      0.16\nB   1-Jan   41      12  \nB   2-Jan   87      45      0.15\nB   3-Jan   82      66      0.05\nC   1-Jan   33      34  \nC   2-Jan   15      67      0.09\nC   3-Jan   46      22      0.11\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "client", "jira"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4446046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f287750c204fc77be7af231863bda61c?s=128&d=identicon&r=PG&f=1", "display_name": "LinuxShell", "link": "https://stackoverflow.com/users/4446046/linuxshell"}, "is_accepted": false, "score": 4, "last_activity_date": 1426283930, "last_edit_date": 1426283930, "creation_date": 1426118273, "answer_id": 28999640, "question_id": 28998853, "link": "https://stackoverflow.com/questions/28998853/jira-api-python-lib-create-issue-option-id-null-is-not-valid/28999640#28999640", "title": "JIRA API - Python Lib - Create_Issue - Option id &#39;null&#39; is not valid", "body": "<p>So after a while of playing around with JIRA I found out it was my own mistake. It seems this error is caused when you post to a field using the API a \"value\" that it does not understand. A example was I was using the wrong custom field and the JIRA Field that I was posting to was not setup to take the value I was using.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15508407, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/303a477b4b93e70837a8bf21e53aaa64?s=128&d=identicon&r=PG", "display_name": "Yaakov Tokar", "link": "https://stackoverflow.com/users/15508407/yaakov-tokar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617041671, "creation_date": 1617041671, "answer_id": 66859450, "question_id": 28998853, "link": "https://stackoverflow.com/questions/28998853/jira-api-python-lib-create-issue-option-id-null-is-not-valid/66859450#66859450", "title": "JIRA API - Python Lib - Create_Issue - Option id &#39;null&#39; is not valid", "body": "<p>You will see this error when the field's value is expected to match an option list, and you are trying to send a value which is not on this list.</p>\n"}], "owner": {"reputation": 71, "user_id": 4446046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f287750c204fc77be7af231863bda61c?s=128&d=identicon&r=PG&f=1", "display_name": "LinuxShell", "link": "https://stackoverflow.com/users/4446046/linuxshell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1617041671, "creation_date": 1426114059, "question_id": 28998853, "link": "https://stackoverflow.com/questions/28998853/jira-api-python-lib-create-issue-option-id-null-is-not-valid", "title": "JIRA API - Python Lib - Create_Issue - Option id &#39;null&#39; is not valid", "body": "<p>So my issue is with the Python Library for the JIRA API. We are using JIRA as a asset management database (Yes I know its normal used by dev's and we use it for that as well but this was a case were it worked well) to keep track of are server configs (Memory, CPU, Location on the Rack ..etc..)</p>\n\n<p>Using this function I am having it create a Issue under a Project and pull the information for the fields from another API. </p>\n\n<p>(note that I cant give clues as to who I work for so the code is edited - however it all works expect when i add one line)</p>\n\n<p>def create_compute_node_in_jira(self, compute_node_name ,user_name, password, info_dic):\n        help_obj = helper()\n        jira = JIRA(\"https://\",basic_auth=(user_name,password))</p>\n\n<pre><code>    #Uses a dic to create the fields / info for the Issue\n\n    issue_dict = {\n    'project': {'key': &lt;project&gt;},\n    'summary': compute_node_name,\n    'issuetype': {'name': 'Server Hardware'},\n    'customfield_10500': str(info_dic[\"Hostname\"]), \n    'customfield_11007': {'value': str(\"2U\")}, \n    'customfield_11006': str(info_dic[\"Aggr0-IP\"]),\n    'customfield_10510': {'value': str(7)}, \n    'customfield_10501': str(info_dic[\"Serial-Number\"]) \n    'customfield_10502': {'value': str(&lt;server&gt;)},\n    'customfield_10503': str(help_obj.data_parser_sm(info_dic[\"Hostname\"])),\n    'customfield_10509': {'value': str(\"&lt;OS&gt;\")},  \n    'customfield_10504': {'value': str(\"&lt;mem&gt;\")},   \n    'customfield_10505': str(help_obj.data_parser_cpu(info_dic[\"CpuType\"])),\n    'customfield_10507': {'value': str(info_dic[\"Cpu-Core\"])}, \n    'customfield_10508': {'value': str(&lt;OS Version&gt;)},     \n    'customfield_11008': {'value': str(\"CMH\")}\n    }\n    jira.create_issue(fields=issue_dict)\n    return \"[*]Created ticket\" # Should exit script after this is returned\n</code></pre>\n\n<p>The line - 'customfield_11008': {'value': str(\"CMH\")} - causes the function to return the following expection: </p>\n\n<p>jira.utils.JIRAError: JiraError HTTP 400\n    text: Option id 'null' is not valid\n    url: https:///rest/api/2/issue</p>\n\n<p>however when i omit that line it runs with out a problem. I tried CMH lower case - capital ..etc.. and it still breaks the scripts. I even went through the web gui and copied the \"CMH\" entry in another ticket and it stilled caused a problem. Has anybody seen this before / have any guesses as to why it is breaking ? </p>\n"}, {"tags": ["python", "c++", "c", "python-2.7", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 5, "last_activity_date": 1426116071, "creation_date": 1426116071, "answer_id": 28999245, "question_id": 28998817, "link": "https://stackoverflow.com/questions/28998817/calling-function-with-optional-arguments-with-pyobject-callmethod/28999245#28999245", "title": "Calling function with optional arguments with PyObject_CallMethod", "body": "<p>Calling with keyword arguments is not that straightforward from C, and you need to do <code>PyObject_Call</code>, which requires 3 arguments:</p>\n\n<ol>\n<li>The first argument of <code>PyObject_Call</code> is the method object</li>\n<li>The second argument of <code>PyObject_Call</code> is the empty tuple for *args</li>\n<li>The third argument is the keyword dictionary</li>\n</ol>\n\n<p>Thus we get</p>\n\n<pre><code>PyObject *function = PyObject_GetAttrString(add_module, \"add\");\nPyObject *args = PyTuple_New(0);\nPyObject *kwargs = Py_BuildValue(\"{s:i}\", \"b\", 5)\nresult = PyObject_Call(function, args, kwargs);\n\nPy_DECREF(kwargs);\nPy_DECREF(args);\nPy_DECREF(function);\n</code></pre>\n\n<p><strong>except</strong> you <strong>must</strong> NULL-check the return values from the 4 first functions (omitted for brevity).</p>\n"}], "owner": {"reputation": 2369, "user_id": 3155503, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/9aDKc.png?s=128&g=1", "display_name": "lwxted", "link": "https://stackoverflow.com/users/3155503/lwxted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 3, "accepted_answer_id": 28999245, "answer_count": 1, "score": 3, "last_activity_date": 1426116071, "creation_date": 1426113908, "question_id": 28998817, "link": "https://stackoverflow.com/questions/28998817/calling-function-with-optional-arguments-with-pyobject-callmethod", "title": "Calling function with optional arguments with PyObject_CallMethod", "body": "<p>Using Python C API, how can I call a function with optional arguments?</p>\n\n<p>For example, assuming there is a Python module <code>add_module.py</code> with a function <code>add</code> that goes like:</p>\n\n<pre><code>def add(a=0, b=0):\n  return a + b\n</code></pre>\n\n<p><code>add(1, 2)</code> would correspond to </p>\n\n<pre><code>PyObject *add_module = PyImport_ImportModule(\"add_module\");\nPyObject *result = PyObject_CallMethod(add_module, \"add\", \"ii\", 1, 2);\n</code></pre>\n\n<p>How would I call something like <code>add(b=5)</code> using the Python API?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426114072, "post_id": 28998815, "comment_id": 46245567, "body": "Where did this line <code>from webbrowser import open</code> come from?  Auto-import from some IDE?  You&#39;re shadowing Python&#39;s <code>open</code> built-in, so your <code>open(&quot;map_data.json&quot;)</code> is failing."}, {"owner": {"reputation": 380, "user_id": 2056823, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/fnJDL.jpg?s=128&g=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/2056823/kamal"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426115116, "post_id": 28998815, "comment_id": 46246006, "body": "I need the webbrowser open function later on in my code, that is why I have that line. I must have overlooked the fact that it is shadowing python&#39;s open. Thank you :)"}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 3, "last_activity_date": 1426114164, "creation_date": 1426114164, "answer_id": 28998875, "question_id": 28998815, "link": "https://stackoverflow.com/questions/28998815/unable-to-load-json-file-in-python-not-sure-why/28998875#28998875", "title": "Unable to load JSON file in python, not sure why?", "body": "<p><a href=\"https://docs.python.org/3/library/webbrowser.html#webbrowser.open\" rel=\"nofollow\">webbrowser.open</a> does not load a file from URL; instead it opens a web browser with that page, and returns <code>True</code> (a <code>bool</code> value), which passed to <code>json.load</code> causes an exception being thrown.</p>\n\n<p>If you have a file that you want to open, just remove the <code>from webbrowser import open</code> line.</p>\n"}], "owner": {"reputation": 380, "user_id": 2056823, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/fnJDL.jpg?s=128&g=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/2056823/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 0, "accepted_answer_id": 28998875, "answer_count": 1, "score": 1, "last_activity_date": 1426114164, "creation_date": 1426113904, "question_id": 28998815, "link": "https://stackoverflow.com/questions/28998815/unable-to-load-json-file-in-python-not-sure-why", "title": "Unable to load JSON file in python, not sure why?", "body": "<p>I have to load a json file into a python script for part of my homework. Below is the part of the code which loads the JSON file:</p>\n\n<pre><code>import json\nimport GraphImplementation as G\nfrom webbrowser import open\nfrom ParseJson import parseJSONToGraph\n\ndef main():\n    jsonFile = open(\"map_data.json\")\n    jsonData = json.load(jsonFile)\n    graph = G.Graph()\n    graph = parseJSONToGraph(graph, jsonData)\n</code></pre>\n\n<p>For some reason, on the json.load(jsonFile) line, the code fails with this error:</p>\n\n<pre><code>$ python main.py\nTraceback (most recent call last):\n  File \"main.py\", line 85, in &lt;module&gt;\n    main()\n  File \"main.py\", line 13, in main\n    jsonData = json.load(jsonFile)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 286, in load\n    return loads(fp.read(),\nAttributeError: 'bool' object has no attribute 'read'\n</code></pre>\n\n<p>Does anyone know why this could be? In the interactive python mode I am able to run the load() call without any problem, I am not sure why it wouldnt work when I am executing my script.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "edited": false, "score": 1, "creation_date": 1426114253, "post_id": 28998809, "comment_id": 46245644, "body": "Why exactly do they return self? The functions should return true or false, based on the outcome of comparison. This way, the outcome is always true, unless you&#39;ve defined the boolean value of your class to be something else."}], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 4, "last_activity_date": 1426114463, "last_edit_date": 1426114463, "creation_date": 1426114057, "answer_id": 28998851, "question_id": 28998809, "link": "https://stackoverflow.com/questions/28998809/chain-overloaded-comparison-operators/28998851#28998851", "title": "Chain overloaded comparison operators", "body": "<p>Operator chaining for comparisons (see <a href=\"https://docs.python.org/2/reference/expressions.html#comparisons\" rel=\"nofollow\">the docs</a>) means that </p>\n\n<pre><code>MyClass &gt; 200 &lt; 400 \n</code></pre>\n\n<p>is actually evaluated as:</p>\n\n<pre><code>(MyClass &gt; 200) and (200 &lt; 400)\n</code></pre>\n\n<p>therefore no comparison between <code>MyClass</code> and <code>400</code> is ever made. Instead, you want:</p>\n\n<pre><code>200 &lt; MyClass &lt; 400\n</code></pre>\n\n<p>which is evaluated as:</p>\n\n<pre><code>(200 &lt; MyClass) and (MyClass &lt; 400)\n</code></pre>\n\n<p>For a simpler example:</p>\n\n<pre><code>&gt;&gt;&gt; class Demo(object):\n\n    def __init__(self, value):\n        self.value = value\n\n    def __lt__(self, other):\n        return self.value &lt; other\n\n    def __gt__(self, other):\n        return self.value &gt; other\n\n\n&gt;&gt;&gt; demo = Demo(250)\n&gt;&gt;&gt; 200 &lt; demo &lt; 400\nTrue\n</code></pre>\n\n<p><strong>Note</strong> that the <code>__lt__</code> and <code>__gt__</code> implementations here have a Boolean return (<code>True</code> or <code>False</code>), rather than returning <code>self</code> (which will lead to unexpected behaviour).</p>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1426114811, "post_id": 28998885, "comment_id": 46245894, "body": "<i>always</i>, <b><i>always</i></b>, except <a href=\"http://stackoverflow.com/q/8205558/674039\">sometimes</a>.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1426115023, "post_id": 28998885, "comment_id": 46245971, "body": "@wim Oh my gosh! Thats awesome!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": false, "score": 1, "last_activity_date": 1426115099, "last_edit_date": 1495542334, "creation_date": 1426114228, "answer_id": 28998885, "question_id": 28998809, "link": "https://stackoverflow.com/questions/28998809/chain-overloaded-comparison-operators/28998885#28998885", "title": "Chain overloaded comparison operators", "body": "<p>First of all, this code doesn't make sense:</p>\n\n<pre><code>MyClass &gt; 200 &lt; 400 \n</code></pre>\n\n<p>As it expands to:</p>\n\n<pre><code>MyClass &gt; 200 and 200 &lt; 400 \n</code></pre>\n\n<p>Which resolves to:</p>\n\n<pre><code>MyClass &gt; 200\n</code></pre>\n\n<p>Secondly, Python has a strong concept of <a href=\"https://softwareengineering.stackexchange.com/questions/116883/is-truthiness-a-legitimate-programming-term\">\"truthiness\"</a> when it comes to boolean values. Which means in essence, anything that is not zero-ish is \"true\".</p>\n\n<p>Lastly, when you have this code:</p>\n\n<pre><code>def __gt__(self, value):\n    DoCompareStuff(self, value)\n    return self\n</code></pre>\n\n<p>Since <code>self</code> will be an object of some type, it will <em>always, <strong>always</em><sup>*</sup></strong> be true. For example both of these will evaluate to true, because you are returning <code>self</code>:</p>\n\n<pre><code>10 &lt; MyClassInstance\n10 &gt; MyClassInstance\n</code></pre>\n\n<hr>\n\n<p><sup>* sometimes, <a href=\"https://stackoverflow.com/questions/8205558/defining-boolness-of-a-class-in-python\">except when you implement the <code>__bool__</code> method</a>. (Thanks @wim)</sup></p>\n"}], "owner": {"reputation": 233, "user_id": 1837743, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23c78d0187b5980444847fada9395b78?s=128&d=identicon&r=PG", "display_name": "gigatropolis", "link": "https://stackoverflow.com/users/1837743/gigatropolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426115099, "creation_date": 1426113883, "last_edit_date": 1426114380, "question_id": 28998809, "link": "https://stackoverflow.com/questions/28998809/chain-overloaded-comparison-operators", "title": "Chain overloaded comparison operators", "body": "<p>I want to do something like this:</p>\n\n<pre><code>MyClass &gt; 200 &lt; 400  \n</code></pre>\n\n<p>The class implements the <code>__gt__()</code> and <code>__lt__()</code> methods and they both return <code>self</code>.  </p>\n\n<pre><code>class MyClass:\n\n    ...\n\n    def __gt__(self, value):\n        DoCompareStuff(self, value)\n        return self\n\n    def __lt__(self, value):\n        DoCompareStuff(self, value)\n        return self\n\n   ...\n</code></pre>\n\n<p>It will do the first evaluation, <code>MyClass &gt; 200</code>, but never performs the second, <code>MyClass &lt; 400</code>. It seems like Python is doing something with the return value like making it <code>True</code> or <code>False</code>. Is there a way to do what I'm trying to do here?</p>\n"}, {"tags": ["python", "opencv", "haar-classifier", "viola-jones"], "answers": [{"tags": [], "owner": {"reputation": 11281, "user_id": 290784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/806da8b7c3158ee5cc9f8dbc4c3493f8?s=128&d=identicon&r=PG", "display_name": "Jared Forsyth", "link": "https://stackoverflow.com/users/290784/jared-forsyth"}, "is_accepted": false, "score": 1, "last_activity_date": 1426884524, "creation_date": 1426884524, "answer_id": 29175565, "question_id": 28998792, "link": "https://stackoverflow.com/questions/28998792/getting-the-confidence-level-of-detectmultiscale-in-opencv-with-python/29175565#29175565", "title": "Getting the confidence level of detectMultiscale in OpenCV with Python?", "body": "<p>Short of hacking the c++, it doesn't look like there's any way to get the actual rejectLevels and levelWeights.</p>\n"}, {"comments": [{"owner": {"reputation": 1461, "user_id": 3165370, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/nOkCj.jpg?s=128&g=1", "display_name": "thecheech", "link": "https://stackoverflow.com/users/3165370/thecheech"}, "edited": false, "score": 0, "creation_date": 1472802797, "post_id": 34126021, "comment_id": 65908164, "body": "detectMultiScale3 didn&#39;t work for me. detectMultiScale2 returns intensities (or confidence) as a second var."}, {"owner": {"reputation": 4421, "user_id": 774575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I2J58.png?s=128&g=1", "display_name": "mins", "link": "https://stackoverflow.com/users/774575/mins"}, "edited": false, "score": 0, "creation_date": 1613313790, "post_id": 34126021, "comment_id": 117031372, "body": "For me, <code>weights</code> is a 2D array, so <code>confidence = weights[i, 0]</code>"}], "tags": [], "owner": {"reputation": 3031, "user_id": 272238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031b524b712424833789cabc02fd6bdf?s=128&d=identicon&r=PG", "display_name": "ferrouswheel", "link": "https://stackoverflow.com/users/272238/ferrouswheel"}, "is_accepted": false, "score": 10, "last_activity_date": 1460845209, "last_edit_date": 1460845209, "creation_date": 1449459285, "answer_id": 34126021, "question_id": 28998792, "link": "https://stackoverflow.com/questions/28998792/getting-the-confidence-level-of-detectmultiscale-in-opencv-with-python/34126021#34126021", "title": "Getting the confidence level of detectMultiscale in OpenCV with Python?", "body": "<p>For anyone coming to this question and using OpenCV 3.0 I worked out after poking around the python API.</p>\n\n<p>On the cascade classifier there are three methods <code>detectMultiScale</code>, <code>detectMultiScale2</code>, and <code>detectMultiScale3</code>. Using the third one, I was able to get what looked like a confidence/weight.</p>\n\n<pre><code>faces = faceCascade.detectMultiScale3(\n    gray,\n    scaleFactor=1.1,\n    minNeighbors=5,\n    minSize=(30, 30),\n    flags = cv2.CASCADE_SCALE_IMAGE,\n    outputRejectLevels = True\n)\nrects = faces[0]\nneighbours = faces[1]\nweights = faces[2]\n</code></pre>\n\n<p><code>weights[i]</code> looks to match the confidence of the face defined by <code>rects[i]</code>. <code>neighbours[i]</code> is the number of matches in neighbourhood of the current rectangle.</p>\n"}], "owner": {"reputation": 338, "user_id": 2882125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42b3042bf4a5c844a0a1dc46d7c1fa1?s=128&d=identicon&r=PG&f=1", "display_name": "RonenKi", "link": "https://stackoverflow.com/users/2882125/ronenki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7213, "favorite_count": 1, "answer_count": 2, "score": 12, "last_activity_date": 1460845209, "creation_date": 1426113785, "last_edit_date": 1495540850, "question_id": 28998792, "link": "https://stackoverflow.com/questions/28998792/getting-the-confidence-level-of-detectmultiscale-in-opencv-with-python", "title": "Getting the confidence level of detectMultiscale in OpenCV with Python?", "body": "<p>I'm using a trained opencv cascade classifier to detect hands in video frames, and would like to lower my false positive rate.\nReading up on the net, I saw you can do so by accessing the \n<code>rejectLevels</code> and <code>levelWeights</code> information returned by the detectMultiScale method. I saw <a href=\"http://choorucode.com/2014/10/30/how-to-get-detection-score-from-opencv-cascade-classifier/\" rel=\"nofollow noreferrer\">here</a> that this is possible in C++, my question is- has anyone managed to do it in Python? A similar question was asked <a href=\"https://stackoverflow.com/questions/7948055/classifiers-confidence-in-opencv-face-detector\">here</a> but it was for an earlier version of of the detection method. </p>\n\n<p>If it is possible, what is the proper syntax to call the method? If it worked for you, please mention the OpenCV version you're using. I'm on 2.4.9.</p>\n\n<p>The 2.4.11 API gives the following syntax</p>\n\n<pre><code>Python: cv2.CascadeClassifier.detectMultiScale(image, rejectLevels, levelWeights[, scaleFactor[, minNeighbors[, flags[, minSize[, maxSize[, outputRejectLevels]]]]]]) \n</code></pre>\n\n<p>So accordingly, I've tried</p>\n\n<pre><code>import cv2\nimport cv2.cv as cv\nimport time\nhand_cascade = cv2.CascadeClassifier('cascade.xml')\nimg = cv2.imread('test.jpg')\n\nrejectLevels = []\nlevelWeights = []\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\nfaces = hand_cascade.detectMultiScale(gray,rejectLevels,levelWeights, 1.1, 5,cv.CV_HAAR_FIND_BIGGEST_OBJECT,(30, 30),(100,100),True)\n</code></pre>\n\n<p>But the output I get is </p>\n\n<pre><code>[[259 101  43  43]\n [354 217  43  43]\n [240 189  43  43]\n [316 182  47  47]\n [277 139  92  92]]\n[]\n[]\n</code></pre>\n\n<p>Thanks for the help,</p>\n\n<p>Ronen</p>\n"}, {"tags": ["php", "python", "curl", "nginx"], "comments": [{"owner": {"reputation": 4492, "user_id": 1328978, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea5f4844a8d8afdbd6b7ef5f2e41c41c?s=128&d=identicon&r=PG", "display_name": "Murali Mopuru", "link": "https://stackoverflow.com/users/1328978/murali-mopuru"}, "edited": false, "score": 0, "creation_date": 1426164028, "post_id": 28998790, "comment_id": 46265114, "body": "Make sure nginx&#39;s user have execute access to &quot;/root/installer.py&quot;"}, {"owner": {"reputation": 1491, "user_id": 1601716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3916fe472c8c493c0283cc2b716be4a1?s=128&d=identicon&r=PG", "display_name": "user1601716", "link": "https://stackoverflow.com/users/1601716/user1601716"}, "reply_to_user": {"reputation": 4492, "user_id": 1328978, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea5f4844a8d8afdbd6b7ef5f2e41c41c?s=128&d=identicon&r=PG", "display_name": "Murali Mopuru", "link": "https://stackoverflow.com/users/1328978/murali-mopuru"}, "edited": false, "score": 0, "creation_date": 1426177907, "post_id": 28998790, "comment_id": 46275240, "body": "i have gone as far as to make /root/installer.py 777 but still nothing"}, {"owner": {"reputation": 4492, "user_id": 1328978, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea5f4844a8d8afdbd6b7ef5f2e41c41c?s=128&d=identicon&r=PG", "display_name": "Murali Mopuru", "link": "https://stackoverflow.com/users/1328978/murali-mopuru"}, "edited": false, "score": 0, "creation_date": 1426228523, "post_id": 28998790, "comment_id": 46294452, "body": "Check nginx log for any err."}], "owner": {"reputation": 1491, "user_id": 1601716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3916fe472c8c493c0283cc2b716be4a1?s=128&d=identicon&r=PG", "display_name": "user1601716", "link": "https://stackoverflow.com/users/1601716/user1601716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426113777, "creation_date": 1426113777, "question_id": 28998790, "link": "https://stackoverflow.com/questions/28998790/python-script-running-in-php-gives-no-output", "title": "python script running in php gives no output", "body": "<p>In a terminal running 'php file.php', the following script outputs text as expected.</p>\n\n<pre><code>&lt;?php\n$command = escapeshellcmd(\"python /root/installer.py\");\n$output = shell_exec($command);\necho $output;\n?&gt;\n\n# php /usr/share/zabbix/rackspace/index.php\ntest\n</code></pre>\n\n<p>The file /root/installer.py contains the following:</p>\n\n<pre><code>#!/usr/bin/python\nprint 'test'\n</code></pre>\n\n<p>But if I curl this page I get no output and no errors.</p>\n\n<pre><code>[root@http-1 ~]# curl fake.url.com \n\n[root@http-1 ~]#\n</code></pre>\n\n<p>My nginx configuration for this page is as follows:</p>\n\n<pre><code>server {\n        listen       [::]:80;\n        listen       80;\n        server_name  fake.url.com;\n        access_log  /var/log/nginx/installer.log main;\n        root   /usr/share/zabbix/url/;\n        index index.php index.htm index.html;\n        error_page  404              /404.html;\nlocation ~ \\.php$ {\n                fastcgi_pass   127.0.0.1:9000;\n                fastcgi_index  index.php;\n                fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n                include        fastcgi_params;\n                  }\n       }\n</code></pre>\n\n<p>Can anyone assist me what what I am missing?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "is_accepted": false, "score": 4, "last_activity_date": 1426116602, "creation_date": 1426116602, "answer_id": 28999345, "question_id": 28998776, "link": "https://stackoverflow.com/questions/28998776/from-sqlalchemy-import-event-not-working/28999345#28999345", "title": "&quot;from sqlalchemy import event&quot; not working", "body": "<p><a href=\"http://docs.sqlalchemy.org/en/rel_0_9/core/event.html\" rel=\"nofollow\">Events were added</a> to SQLAlchemy in version 0.7. You are using version 0.6.8. Upgrading will fix your <code>ImportError</code>. </p>\n\n<pre><code>pip install -U sqlalchemy\n</code></pre>\n\n<p>Version 0.7 was released several years ago. 0.9.9 is the most recent (at the time of this answer). Unless you have a specific need for 0.6, upgrading should be well worth it. </p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 3912149, "user_type": "registered", "profile_image": "https://graph.facebook.com/1388446221/picture?type=large", "display_name": "Oleh Dubno", "link": "https://stackoverflow.com/users/3912149/oleh-dubno"}, "is_accepted": false, "score": 0, "last_activity_date": 1435470737, "last_edit_date": 1435470737, "creation_date": 1426179712, "answer_id": 29015919, "question_id": 28998776, "link": "https://stackoverflow.com/questions/28998776/from-sqlalchemy-import-event-not-working/29015919#29015919", "title": "&quot;from sqlalchemy import event&quot; not working", "body": "<p>I tried <code>pip install -U sqlalchemy</code> and weirdly it still didn't resolve the issue.</p>\n\n<p>What did work and I forgot to use was the virtualenv. </p>\n\n<p>Once I activated my virtualenv in terminal using: </p>\n\n<pre><code>$ virtualenv venv --distribute\nNew python executable in venv/bin/python\nInstalling distribute.........done.\nInstalling pip................done.\n$ source venv/bin/activate\n(venv)$ python\n</code></pre>\n\n<p>I followed up by:</p>\n\n<pre><code>pip install sqlalchemy\n</code></pre>\n\n<p>Following the tutorial, I installed the rest of the extensions in virtualenv and everything works now. </p>\n"}], "owner": {"reputation": 143, "user_id": 3912149, "user_type": "registered", "profile_image": "https://graph.facebook.com/1388446221/picture?type=large", "display_name": "Oleh Dubno", "link": "https://stackoverflow.com/users/3912149/oleh-dubno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2062, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1435470737, "creation_date": 1426113740, "last_edit_date": 1426118490, "question_id": 28998776, "link": "https://stackoverflow.com/questions/28998776/from-sqlalchemy-import-event-not-working", "title": "&quot;from sqlalchemy import event&quot; not working", "body": "<p>I'm getting an error:</p>\n\n<pre><code>MacBook-Pro:microblog_3 olehdubno$ python db_create.py \nTraceback (most recent call last):\n  File \"db_create.py\", line 5, in &lt;module&gt;\n    from app import db\n  File \"/Users/olehdubno/Desktop/microblog_3/app/__init__.py\", line 2, in &lt;module&gt;\n    from flask.ext.sqlalchemy import SQLAlchemy\n  File \"/usr/local/lib/python2.7/site-packages/flask/exthook.py\", line 81, in load_module\n    reraise(exc_type, exc_value, tb.tb_next)\n  File \"/usr/local/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 24, in &lt;module&gt;\n    from sqlalchemy import orm, event\nImportError: cannot import name event   \n</code></pre>\n\n<p>I'm working on Part IV: Database: <a href=\"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-iv-database\" rel=\"nofollow\">http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-iv-database</a>.</p>\n\n<p>My github code: <a href=\"https://github.com/odubno/microblog\" rel=\"nofollow\">https://github.com/odubno/microblog</a>.</p>\n\n<p>Anything I do, I cannot get event imported. Simply trying <code>from sqlalchemy import event</code> doesn't work either. </p>\n\n<pre><code>Flask==0.10.1\nFlask-Restless==0.17.0\nFlask-SQLAlchemy==2.0\nFlask-WTF==0.11\nGraphLab-Create==1.1\nJinja2==2.7.3\nMarkupSafe==0.23\nPillow==2.7.0\nSQLAlchemy==0.6.8\nTempita==0.5.2\nWTForms==2.0.2\nWerkzeug==0.10.1\nargparse==1.2.1\nbackports.ssl-match-hostname==3.4.0.2\nblaze==0.6.0\nboto==2.33.0\ndaemonize==2.3.1\ndecorator==3.4.0\nfolium==0.1.2\ngeopy==1.4.0\ngeorge==0.2.1\nggplot==0.6.5\nitsdangerous==0.24\nlibrato-metrics==0.4.9\nmimerender==0.5.5\nmixpanel-py==3.1.1\nnltk==3.0.0\nnose==1.3.4\nnumpy==1.8.2\noauthlib==0.7.2\npandas==0.14.1\npatsy==0.3.0\nprettytable==0.7.2\npsycopg2==2.5.4\npyparsing==2.0.3\npyshp==1.2.1\npython-dateutil==2.4.1\npython-mimeparse==0.1.4\npytz==2014.7\nrequests==2.3.0\nrequests-oauthlib==0.4.2\nscikit-learn==0.15.1\nsix==1.9.0\nsqlalchemy-migrate==0.7.2\nsuds==0.4\nsympy==0.7.5\ntextblob==0.9.0\ntornado==3.2.1\ntwitter==1.15.0\nvboxapi==1.0\nvirtualenv==1.11.6\nwsgiref==0.1.2\nxlrd==0.9.3\nxlwt==0.7.5\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 3274, "user_id": 1924026, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/350fa7e19b85a5be410cc1141382f7db?s=128&d=identicon&r=PG", "display_name": "Aylen", "link": "https://stackoverflow.com/users/1924026/aylen"}, "edited": false, "score": 0, "creation_date": 1426114310, "post_id": 28998758, "comment_id": 46245665, "body": "You may be looking for this <a href=\"https://docs.djangoproject.com/en/1.7/topics/auth/customizing/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.7/topics/auth/customizing</a>"}, {"owner": {"reputation": 3274, "user_id": 1924026, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/350fa7e19b85a5be410cc1141382f7db?s=128&d=identicon&r=PG", "display_name": "Aylen", "link": "https://stackoverflow.com/users/1924026/aylen"}, "edited": false, "score": 0, "creation_date": 1426114413, "post_id": 28998758, "comment_id": 46245713, "body": "By the way, the roles you are mentioning are called groups. They are also mentioned in the previous link. :)"}, {"owner": {"reputation": 377, "user_id": 1576012, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e708859f41abf8c9c782a8eb2237bc49?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1576012/alex"}, "reply_to_user": {"reputation": 3274, "user_id": 1924026, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/350fa7e19b85a5be410cc1141382f7db?s=128&d=identicon&r=PG", "display_name": "Aylen", "link": "https://stackoverflow.com/users/1924026/aylen"}, "edited": false, "score": 0, "creation_date": 1426138674, "post_id": 28998758, "comment_id": 46252321, "body": "I  looked at this link before - it&#39;s  clear how to extend User model, but still have doubt how to extend Group and Permission models - do I have to write my own authentication backend?"}], "owner": {"reputation": 377, "user_id": 1576012, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e708859f41abf8c9c782a8eb2237bc49?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1576012/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426113654, "creation_date": 1426113654, "question_id": 28998758, "link": "https://stackoverflow.com/questions/28998758/recommended-way-to-extend-django-auth-system", "title": "Recommended way to extend Django auth system", "body": "<p>django.contrib.auth package is great, but for my project I need to be able to:</p>\n\n<ul>\n<li>For each role user has I need to be able to specify the department in which he has this role</li>\n<li>For each role I need to be able to specify dashboard_url - the url to which user will be redirected after login and selecting one of available groups.</li>\n<li>For permissions and roles I need to add custom field with description</li>\n</ul>\n\n<p>What is the best way to achieve this?</p>\n\n<p>PS: I use django 1.7</p>\n"}, {"tags": ["python", "unicode"], "answers": [{"comments": [{"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1426118556, "post_id": 28998735, "comment_id": 46247206, "body": "I don&#39;t understand (novice on utf-8). I thought if the high order bit of a byte in utf-8 is 1, that the character was at least 2 bytes long."}, {"owner": {"reputation": 31114, "user_id": 392975, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a62bcec9b5b35a3cab7c25a44016e0d4?s=128&d=identicon&r=PG", "display_name": "Eli", "link": "https://stackoverflow.com/users/392975/eli"}, "edited": false, "score": 0, "creation_date": 1426121512, "post_id": 28998735, "comment_id": 46247990, "body": "But why is &#39;\\xf3&#39; preferred over &#39;\\u00f3&#39;? Is there some benefit to representing it this way?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1426160493, "post_id": 28998735, "comment_id": 46262797, "body": "It might be better to stress the difference between bytes and Unicode strings i.e., you could say &quot;its Unicode ordinal (<code>243</code>) is representable using a single byte&quot; instead of <i>&quot;it&#39;s representable using a single byte&quot;</i>."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 2, "last_activity_date": 1426113560, "creation_date": 1426113560, "answer_id": 28998735, "question_id": 28998675, "link": "https://stackoverflow.com/questions/28998675/why-does-this-still-look-like-bytes-after-i-convert-it-to-unicode/28998735#28998735", "title": "Why does this still look like bytes after I convert it to Unicode?", "body": "<p>No, it's because \"\u00f3\" is a non-ASCII character within the first 255 characters. Since it's representable using a single byte, we save 2 characters in the representation. The other two representations are valid, but not required.</p>\n\n<pre><code>&gt;&gt;&gt; u'\\u00f3'\nu'\\xf3'\n&gt;&gt;&gt; u'\\U000000f3'\nu'\\xf3'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1426160664, "last_edit_date": 1495541574, "creation_date": 1426159165, "answer_id": 29008382, "question_id": 28998675, "link": "https://stackoverflow.com/questions/28998675/why-does-this-still-look-like-bytes-after-i-convert-it-to-unicode/29008382#29008382", "title": "Why does this still look like bytes after I convert it to Unicode?", "body": "<p><code>u'\\xf3'</code> is not a byte; it is a Unicode string with a single Unicode codepoint (<a href=\"http://codepoints.net/U+00f3\" rel=\"nofollow noreferrer\"><code>U+00f3 LATIN SMALL LETTER O WITH ACUTE</code></a>).</p>\n\n<p>What you see (<code>u'\\xf3'</code>) is how Python 2 chooses to represent Unicode character with Unicode ordinals (integers) in the range <code>0..255</code> that are not printable ascii characters (Python 3 would show <code>'\u00f3'</code> here, only non-printable characters use <code>'\\xhh'</code> form there by default). As <a href=\"https://stackoverflow.com/a/28998735/4279\">@Ignacio Vazquez-Abrams said</a>: <code>u'\\u00f3'</code> and <code>u'\\U000000f3'</code> literals create exactly the same Unicode string.</p>\n\n<p>You could see how the Unicode character (<code>u'\\xf3'</code>) looks like bytes in different character encodings for comparision:</p>\n\n<pre><code>&gt;&gt;&gt; print(u'\\xf3')\n\u00f3\n&gt;&gt;&gt; u'\\xf3'.encode('utf-8')\nb'\\xc3\\xb3'\n&gt;&gt;&gt; u'\\xf3'.encode('utf-16be')                                                                            \nb'\\x00\\xf3'\n&gt;&gt;&gt; u'\\xf3'.encode('utf-32le')                                                                            \nb'\\xf3\\x00\\x00\\x00'\n&gt;&gt;&gt; u'\\xf3'.encode('cp1252')\nb'\\xf3'\n</code></pre>\n\n<p>Note: <code>b'\\xf3'</code> and <code>u'\\xf3'</code> are different things. The former is a bytestring that contains a single byte (an integer <code>243</code>), the latter is a Unicode string that contains a single Unicode codepoint (Unicode ordinal <code>243</code>). The number is the same <code>243</code> by the units are different -- 100 calories is not the same thing as 100 grams.</p>\n"}], "owner": {"reputation": 31114, "user_id": 392975, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a62bcec9b5b35a3cab7c25a44016e0d4?s=128&d=identicon&r=PG", "display_name": "Eli", "link": "https://stackoverflow.com/users/392975/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426160664, "creation_date": 1426113270, "question_id": 28998675, "link": "https://stackoverflow.com/questions/28998675/why-does-this-still-look-like-bytes-after-i-convert-it-to-unicode", "title": "Why does this still look like bytes after I convert it to Unicode?", "body": "<p>I have everything working as I want it in my code, but I'm still curious. I have a string: \"staci\u00f3n.\" When I convert that string to unicode, I get: </p>\n\n<pre><code>unicode('staci\u00f3n', 'utf-8')\n&gt;&gt;&gt; u'staci\\xf3n'\n</code></pre>\n\n<p>That \"\\xf3\" in there looks like a byte character. This is different from:</p>\n\n<pre><code>unicode('\u041f\u043e\u0438\u0441\u043a', 'utf-8')\n&gt;&gt;&gt; u'\\u041f\\u043e\\u0438\\u0441\\u043a'\n</code></pre>\n\n<p>In the latter example, as with everything I've converted to unicode before, I get unicode characters starting with \"\\u.\" Normally, when I see a byte starting with \"\\x,\" I think there's a problem. What gives here? Is this because \"\u00f3\" is extended ASCII?</p>\n"}, {"tags": ["python", "curve-fitting"], "comments": [{"owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "edited": false, "score": 0, "creation_date": 1426113022, "post_id": 28998565, "comment_id": 46245155, "body": "What is <code>self.multiFit</code>?"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1426113026, "post_id": 28998565, "comment_id": 46245158, "body": "since you already guessed that bad initial values could be the reason: have you tried using better initial values?"}, {"owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "reply_to_user": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "edited": false, "score": 0, "creation_date": 1426113352, "post_id": 28998565, "comment_id": 46245291, "body": "@aganders3: Sorry, that was another try, corrected it in the op"}, {"owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "edited": false, "score": 0, "creation_date": 1426113606, "post_id": 28998565, "comment_id": 46245390, "body": "Yes, that works, but is there a way to get better initial values than simply via trial and error?"}], "owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426113363, "creation_date": 1426112793, "last_edit_date": 1426113363, "question_id": 28998565, "link": "https://stackoverflow.com/questions/28998565/curve-fit-from-scipy-generates-wrong-values", "title": "curve_fit from scipy generates wrong values", "body": "<p>I have several data from measurements, and I wanted to fit my own function onto this data. For that I wanted to use <code>curve_fit</code>. Therefore I implemented it in the following way:</p>\n\n<pre><code>def func(self, w, H, T, L):\n    B = (L + 0.25)*((2 * math.pi / T)** 4)\n    S = (B**L)*H*H / (4 * scipy.special.gamma(L)*(w**( 4 * L + 1)))*numpy.exp(-B / (w*w*w*w))\n    return S\n\ndef fit_this(self):\n    self.popt, self.copt = curve_fit(self.func, self.xdata, self.ydata)\n    print self.popt\n    print self.copt\n</code></pre>\n\n<p><code>self.xdata</code> and <code>self.ydata</code> contain my measured values. I already did the fit with the same function in another program (matlab) and therefore I already know working parameters. But when  start this program, I get for <code>popt</code> definitely wrong parameters, and the covariance of the values is somewhere in the range of <code>10e+22</code>, and therefore completely useless. Why is that happening (Guess: Wrong starting values), and how can I improve this situation? If providing my data helps I can provide them, too.</p>\n"}, {"tags": ["python", "http", "http-request"], "comments": [{"owner": {"reputation": 1373, "user_id": 3050140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71120e525a8b177bbe690caf54464425?s=128&d=identicon&r=PG", "display_name": "Raito", "link": "https://stackoverflow.com/users/3050140/raito"}, "edited": false, "score": 0, "creation_date": 1426113881, "post_id": 28998562, "comment_id": 46245481, "body": "Did you check if the session/cookie was truly not saved?"}, {"owner": {"reputation": 37, "user_id": 2252433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d5da635c4ab9edc6042905c713a8d87?s=128&d=identicon&r=PG", "display_name": "Or Amranov", "link": "https://stackoverflow.com/users/2252433/or-amranov"}, "reply_to_user": {"reputation": 1373, "user_id": 3050140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71120e525a8b177bbe690caf54464425?s=128&d=identicon&r=PG", "display_name": "Raito", "link": "https://stackoverflow.com/users/3050140/raito"}, "edited": false, "score": 0, "creation_date": 1426197796, "post_id": 28998562, "comment_id": 46285556, "body": "Yes, I checked if the session/cookie is not saved. I tried to print all of the elements in r.cookies but it was empty. Someone have an idea?"}], "owner": {"reputation": 37, "user_id": 2252433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d5da635c4ab9edc6042905c713a8d87?s=128&d=identicon&r=PG", "display_name": "Or Amranov", "link": "https://stackoverflow.com/users/2252433/or-amranov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426112783, "creation_date": 1426112783, "question_id": 28998562, "link": "https://stackoverflow.com/questions/28998562/save-session-cookies-with-requests", "title": "save session/cookies with requests", "body": "<p>I want to send a post request to a login form with the action /ShowLogin.xpl. I wrote a code using requests which sends an http request and sends post request with the user name &amp; password credentials. How over, when I try to print out the content of the web page I still see the login page because the session or the cookie isn't saved. Can anyone help me?</p>\n\n<p>The url is: <a href=\"https://www.xplace.com/ShowLogin.xpl\" rel=\"nofollow\">https://www.xplace.com/ShowLogin.xpl</a></p>\n\n<p>My code is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>payload = {\"j_username\" : \"myusername\", \"j_password\" : \"mypassword\"}\r\n\r\nwith requests.Session() as s:\r\n  webpage = s.post(\"https://www.xplace.com/ShowLogin.xpl\", data=payload)\r\n\r\n  # An authorised request\r\n  r = s.get(\"https://www.xplace.com/ShowRecommendedProjects.xpl\")\r\n  print r.text</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "c"], "comments": [{"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1426112901, "post_id": 28998546, "comment_id": 46245117, "body": "Hey, we will need the expected outputs from two inputs.  Even then, <i>what is wrong with my code</i> kinds of questions tend not to be specific enough to be a good fit for this website."}, {"owner": {"reputation": 73, "user_id": 4207427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fxv2yJtLJfU/AAAAAAAAAAI/AAAAAAAAAEU/cVMW6UIqeCo/photo.jpg?sz=128", "display_name": "Nadjib Dz", "link": "https://stackoverflow.com/users/4207427/nadjib-dz"}, "reply_to_user": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1426113182, "post_id": 28998546, "comment_id": 46245217, "body": "@BlackVegetable I said in my question that the encrypted string with these two functions is not the same"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1426113200, "post_id": 28998546, "comment_id": 46245221, "body": "In order to compare both versions, it would also be helpful if corresponding variables had the same names."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4207427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fxv2yJtLJfU/AAAAAAAAAAI/AAAAAAAAAEU/cVMW6UIqeCo/photo.jpg?sz=128", "display_name": "Nadjib Dz", "link": "https://stackoverflow.com/users/4207427/nadjib-dz"}, "edited": false, "score": 0, "creation_date": 1426114350, "post_id": 28998732, "comment_id": 46245689, "body": "I didn&#39;t see that, I corrected it in the C version, the result, it gives different result but not the same as python :("}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 73, "user_id": 4207427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fxv2yJtLJfU/AAAAAAAAAAI/AAAAAAAAAEU/cVMW6UIqeCo/photo.jpg?sz=128", "display_name": "Nadjib Dz", "link": "https://stackoverflow.com/users/4207427/nadjib-dz"}, "edited": false, "score": 0, "creation_date": 1426115034, "post_id": 28998732, "comment_id": 46245976, "body": "@NadjibDz You have not corrected this. There is no equivalent to the Python version&#39;s line <code>a = b = 0</code> in the C version."}], "tags": [], "owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "is_accepted": false, "score": 1, "last_activity_date": 1426114028, "last_edit_date": 1426114028, "creation_date": 1426113558, "answer_id": 28998732, "question_id": 28998546, "link": "https://stackoverflow.com/questions/28998546/rc4-in-c-and-python-do-not-give-the-same-result/28998732#28998732", "title": "RC4 in C and Python do not give the same result", "body": "<p>The snippets are not equivalent. In the beginning of PRGA phase, python code sets <code>b</code> to 0. The C code does not reinitialize the corresponding variable, and uses a leftover from KSA phase. One of the snippets must be wrong. I do not know RC4 to tell which one.</p>\n"}], "owner": {"reputation": 73, "user_id": 4207427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fxv2yJtLJfU/AAAAAAAAAAI/AAAAAAAAAEU/cVMW6UIqeCo/photo.jpg?sz=128", "display_name": "Nadjib Dz", "link": "https://stackoverflow.com/users/4207427/nadjib-dz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1426686441, "creation_date": 1426112719, "last_edit_date": 1426686441, "question_id": 28998546, "link": "https://stackoverflow.com/questions/28998546/rc4-in-c-and-python-do-not-give-the-same-result", "title": "RC4 in C and Python do not give the same result", "body": "<p>I have been using RC4 in C for a long time (simple function that I've found in the internet), recently, I wanted to do string encryption in python and move it to C program, so I found the same function in python, but it does not give the same result as C function\nhere are both functions :</p>\n\n<p>C :</p>\n\n<pre><code>LPBYTE RC4(LPBYTE lpBuf, LPBYTE lpKey, DWORD dwBufLen, DWORD dwKeyLen){\n    INT a, b = 0, s[256];\n    BYTE swap;\n    DWORD dwCount;\n    for(a = 0; a &lt; 256; a++){\n        s[a] = a;\n    }\n    for(a = 0; a &lt; 256; a++){\n        b = (b + s[a] + lpKey[a % dwKeyLen]) % 256;\n        swap = s[a];\n        s[a] = s[b];\n        s[b] = swap;\n    }\n\n    a = b = 0\n\n    for(dwCount = 0; dwCount &lt; dwBufLen; dwCount++){\n        a = (a + 1) % 256;\n        b = (b + s[a]) % 256;\n        swap = s[a];\n        s[a] = s[b];\n        s[b] = swap;\n        lpBuf[dwCount] ^= s[(s[a] + s[b]) % 256];\n    }\n    return lpBuf;\n}\n</code></pre>\n\n<p>Python :</p>\n\n<pre><code>def rc4(data , key):\n    S = list(range(256))\n    b = 0\n    out = []\n\n    #KSA Phase\n    for a in range(256):\n        b = (b + S[a] + ord( key[a % len(key)] )) % 256\n        S[a] , S[b] = S[b] , S[a]\n\n    #PRGA Phase\n    a = b = 0\n    for dwCount in data:\n        a = ( a + 1 ) % 256\n        b = ( b + S[a] ) % 256\n        S[a] , S[b] = S[b] , S[a]\n        out.append(chr(ord(dwCount) ^ S[(S[a] + S[b]) % 256]))\n\n    return ''.join(out)\n</code></pre>\n\n<p>So, why the encrypted string with these two functions is not the same ?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 5, "creation_date": 1426112652, "post_id": 28998487, "comment_id": 46245044, "body": "obviously line.split() has no element at index 2"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1426112693, "post_id": 28998487, "comment_id": 46245051, "body": "If it does this with the exact same file on both systems, I&#39;m mystified. If the files aren&#39;t identical, then there&#39;s your answer."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1426112747, "post_id": 28998487, "comment_id": 46245067, "body": "Without looking at your file, your code looks fine."}, {"owner": {"reputation": 15882, "user_id": 243870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57ee4e7c72138b0054966abd882c7c4f?s=128&d=identicon&r=PG", "display_name": "KillianDS", "link": "https://stackoverflow.com/users/243870/killiands"}, "edited": false, "score": 1, "creation_date": 1426113160, "post_id": 28998487, "comment_id": 46245211, "body": "Does it help if you change the mode to <code>&quot;r+U&quot;</code>?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1426113284, "post_id": 28998487, "comment_id": 46245269, "body": "Different versions of Python? Unicode?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1426113450, "post_id": 28998487, "comment_id": 46245325, "body": "@DSM I&#39;d suspect line endings if it worked on Mac but not Windows, but it&#39;s the other way around."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1426113626, "post_id": 28998487, "comment_id": 46245398, "body": "Change your script to print the <code>repr()</code> of each line in the file before splitting it and see if there&#39;s a difference between what is shown on each system."}, {"owner": {"reputation": 575, "user_id": 1558075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffa1f9fdcc9f3d9b0819c2487e1fdd02?s=128&d=identicon&r=PG", "display_name": "DeeWBee", "link": "https://stackoverflow.com/users/1558075/deewbee"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1426124924, "post_id": 28998487, "comment_id": 46248905, "body": "@PeterWood The code I&#39;m working with on windows has unicode encoding specified whereas on the Mac I believe it is not specified. Could that be an issue?"}, {"owner": {"reputation": 575, "user_id": 1558075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffa1f9fdcc9f3d9b0819c2487e1fdd02?s=128&d=identicon&r=PG", "display_name": "DeeWBee", "link": "https://stackoverflow.com/users/1558075/deewbee"}, "reply_to_user": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 0, "creation_date": 1426124972, "post_id": 28998487, "comment_id": 46248918, "body": "@user3885927 No it does have an element because it reads each line in the document. Like I said, this works on one machine but not the other."}, {"owner": {"reputation": 575, "user_id": 1558075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffa1f9fdcc9f3d9b0819c2487e1fdd02?s=128&d=identicon&r=PG", "display_name": "DeeWBee", "link": "https://stackoverflow.com/users/1558075/deewbee"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1426125108, "post_id": 28998487, "comment_id": 46248956, "body": "@martineau I&#39;m sorry could you elaborate a bit more on what you mean by that? What does the &quot;repr()&quot; function do?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1426127414, "post_id": 28998487, "comment_id": 46249568, "body": "If you print with <code>repr(line)</code> it makes it completely unambiguous what is contained within the string, including unprintable characters."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1426186669, "post_id": 28998487, "comment_id": 46280211, "body": "Thanks for clarifying for me @Mark. DeeWBee: Note, you won&#39;t be able to use the list comprehension if you do this because the <code>for line in f</code> in it is incompatible \u2014 but this just a temporary measure to help determine what&#39;s different between the two systems."}], "owner": {"reputation": 575, "user_id": 1558075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffa1f9fdcc9f3d9b0819c2487e1fdd02?s=128&d=identicon&r=PG", "display_name": "DeeWBee", "link": "https://stackoverflow.com/users/1558075/deewbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426112431, "creation_date": 1426112431, "question_id": 28998487, "link": "https://stackoverflow.com/questions/28998487/list-index-is-out-of-range", "title": "List Index Is Out of Range", "body": "<p>I am trying to parse through a data file to pull numbers from the data file. I was given this solution earlier (below) which worked. But once I moved the python script from Windows to Mac, I started getting a list index is out of range error. Any ideas? </p>\n\n<pre><code>with open(\"Fdeg.dat\", \"r+\") as f:\n    numbers = [float(line.split()[2]) for line in f]\n</code></pre>\n"}, {"tags": ["python", "postgresql", "plpgsql"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 2, "creation_date": 1426112462, "post_id": 28998386, "comment_id": 46244972, "body": "Why do you want to slice the table? Some context will give you better answers."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426112554, "post_id": 28998386, "comment_id": 46245005, "body": "@JonClements I want to process each slice in parallel afterwards"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426112585, "post_id": 28998386, "comment_id": 46245022, "body": "And what do you mean &quot;in parallel&quot;?"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426112637, "post_id": 28998386, "comment_id": 46245038, "body": "@JonClements by &quot;in parallel&quot; I mean using different cursor for each slice and a different processor"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426112787, "post_id": 28998386, "comment_id": 46245078, "body": "@JonClements basically the question is not whether one can optimize the way of processing the table as if it was sliced, but actually slicing it faster than python approach does but within strictly plpgsql or maybe plpython (but tests show that the actual insertion is slow)"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426112943, "post_id": 28998386, "comment_id": 46245127, "body": "Is it a single server?"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 2, "creation_date": 1426113047, "post_id": 28998386, "comment_id": 46245167, "body": "Sorry - just can&#39;t help but feel this is an XY problem..."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113064, "post_id": 28998386, "comment_id": 46245176, "body": "@JonClements yes, I have added that to the context section"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113159, "post_id": 28998386, "comment_id": 46245210, "body": "so, err, why not just a table partition (if really required), or an index, and an update statement to create the new column (if really required)? If you&#39;re doing here is making postgres store exactly the same data <i>twice</i> - I would focus on making it more accessible in the first place depending on what queries you plan on running. postgres will sort out its own CPU usage etc..."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113359, "post_id": 28998386, "comment_id": 46245292, "body": "If trying to access it from multiple cursors, then the bottleneck is still going to be the server when trying to access it... etc...- eg: if you&#39;re trying to access a slice of tables, and the server&#39;s limited to just one core, then that&#39;s your lot regardless"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113545, "post_id": 28998386, "comment_id": 46245360, "body": "@JonClements alright ) I see that you think the approach is wrong. Let me restate the question: why is extracting the whole table, transferring to another machine, slicing it there and transferring it all back faster than doing it all on the same (very powerful) machine. As I said my benchmarks show that the <code>EXECUTE INSERT...</code> part is the bottleneck."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113777, "post_id": 28998386, "comment_id": 46245443, "body": "Oh, if that&#39;s the question, then it&#39;s because using a LOAD FILE is a bulk operation, with a single &quot;BEGIN TRANSACTION;&quot; and &quot;COMMIT;&quot; block, while the pgsql you&#39;ve written is doing that on a row by row basis."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1426113837, "post_id": 28998386, "comment_id": 46245461, "body": "@JonClements alright, how do I make it faster in plpgsql then? thanks for bearing with me btw"}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426185950, "post_id": 28998386, "comment_id": 46279764, "body": "Make it faster: 1) prefer plain SQL over plpgsql, avoid functions, 2) avoid row-at-a-time processing and script languages , 3) avoid cursors and loops, 4) when possible: avoid dynamic sql, or concentrate it on handling larger batches 0) use a sane data model."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426238931, "post_id": 28998386, "comment_id": 46298941, "body": "@wildplasser 1) I can&#39;t, as I need rather complex load balancing for <code>min-make-span</code> 2) I can&#39;t because of 2, so I definitely need to insert row by row 3) I can&#39;t, because of 1) and 2), 4) well.. I can&#39;t do that either.. 0) it is arguable what exactly is sane. sometimes one needs to stay within certain limits and change of the data model is not possible."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426239028, "post_id": 28998386, "comment_id": 46298984, "body": "I appreciate all comments, but I find it funny that people here would rather point out that someone is completely wrong and suggest to redo everything rather than stay within the question limits"}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426338355, "post_id": 28998386, "comment_id": 46336698, "body": "I find it funny that you do not disclose your <code>func(B)</code> What does it do, based on which input? Does it need a complete row of data to operate on, or only a few fields? Does it <i>need</i> to be a function, or is it actually just an expression?"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426377273, "post_id": 28998386, "comment_id": 46348567, "body": "@wildplasser as I mentioned, func(B) is not relevant, what is relevant is the part for populating the slices table. I don&#39;t want to disclose it further because even if you suggest something concerning func(B), I wouldn&#39;t be able to make that change (I need to stay within certain limits myself)."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426378714, "post_id": 28998386, "comment_id": 46348868, "body": "So you are new to databases and SQL, I figure? /rest-my-case"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426379190, "post_id": 28998386, "comment_id": 46348983, "body": "@wildplasser I am, but how does that help to answer the question? If you insist that disclosing <code>func(B)</code> is important, lets say that that table <code>A</code> stores <code>geom_id</code> and table <code>A</code> stores <code>geom_id</code> and a postgis &#39;geometry&#39; type. <code>func(B)</code> returns the <code>ST_NPoints(..)</code> for that geometry. The task then becomes to create slices that are more or less uniform in the number of points."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426380221, "post_id": 28998386, "comment_id": 46349188, "body": "OMG. I rest my case. (it starts to look like tge XYZ probelm ...)"}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426380732, "post_id": 28998386, "comment_id": 46349295, "body": "@wildplasser There is really no need to be impolite and make me look like a complete dummy without explaining yourself. It is really unclear to me why would you need to know what does <code>func(B)</code> does and now that I provided this function you are being even more arrogant. Erwin suggested something quite useful I didn&#39;t know before based on what I provided."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426382709, "post_id": 28998386, "comment_id": 46349640, "body": "Yes, there is a real need. Because there is no solution without the real facts beeing revealed. The fact that there is a GIS component to your XYZ problem, for instance. Show your cards or go away."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426383867, "post_id": 28998386, "comment_id": 46349845, "body": "@wildplasser This is supposed to be a generic solution for any <code>func(B)</code> that takes a row of <code>A</code> and and returns an <code>INTERGER</code> based on <code>Condition(A, B)</code>, this is why I didn&#39;t disclose it (and mentioned that it is important to stay within question limits). And Its actually pretty simple, this is a question and answer website. I gave all the details I can and if you don&#39;t have an answer someone else will. If you can&#39;t keep your anger then you should be the one who goes away."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1426384298, "post_id": 28998386, "comment_id": 46349919, "body": "Functions are terrible, in almost every case. Think about : <code>select * from A Join b on sin(a.x) = cos(b,y)</code> ."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426384999, "post_id": 28998386, "comment_id": 46349992, "body": "sure, I get your point. Still there is a large class of functions where this will work, like <code>SELECT ST_NPoints(B.geom) from B where A.geom_id = B.geom_id</code>. I just can&#39;t do this in any other way, because there is a large system that is written and uses this approach (with hundreds of different <code>A</code>, <code>B</code>, <code>func</code> and <code>condition</code>). What I need to do is make splitting (and later importing) faster."}], "answers": [{"comments": [{"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426174815, "post_id": 29012644, "comment_id": 46273038, "body": "as I mentioned in comments before, I know that COPY is faster than INSERT, so the particular query example is not relevant. It was meant to give an impression to what is actually happening. Is it possible to make inserts faster? by saying that the slices are temporary unlogged or some other technique? Or by writing to a file from plpgsql?"}, {"owner": {"reputation": 473286, "user_id": 939860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=128&d=identicon&r=PG", "display_name": "Erwin Brandstetter", "link": "https://stackoverflow.com/users/939860/erwin-brandstetter"}, "reply_to_user": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426356588, "post_id": 29012644, "comment_id": 46342495, "body": "@iggy: Unlogged tables are faster, but there is <i>currently</i> no way to convert unlogged tables to regular tables. (<a href=\"http://www.postgresql.org/docs/devel/static/sql-altertable.html\" rel=\"nofollow noreferrer\">Probably going to be in pg 9.5!</a>) You would have to create another table. &quot;Writing to a file&quot; means <code>COPY</code>. Separate inserts are much slower than inserting all row at once. The fastest way is <code>CREATE TABLE AS</code>. I don&#39;t follow why that shouldn&#39;t be possible. I think it is. You can <code>CREATE TABLE AS SELECT * FROM myfunc()</code>. But running a function per row (inside the table function) is going to be expensive."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426377463, "post_id": 29012644, "comment_id": 46348607, "body": "I am using output of  <code>func(B)</code> to do something similar to <a href=\"http://en.wikipedia.org/wiki/Bin_packing_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bin_packing_problem</a> First fit rule. I can&#39;t come up with a way to code the logic of this within the limits of <code>CREATE TABLE AS</code>, I guess I need to process row by row, but inserting to file first and then loading is possible. As well as writing to each table with a separate <code>DBLINK</code>."}, {"owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "edited": false, "score": 0, "creation_date": 1426379640, "post_id": 29012644, "comment_id": 46349079, "body": "in the link that you posted multirow inserts seem promising. But the insert&#39;s execution plan is cached in plpgsql and preparing them shouldn&#39;t make much difference I guess?"}], "tags": [], "owner": {"reputation": 473286, "user_id": 939860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed7cecf2bd835cf5670d271d0d104f51?s=128&d=identicon&r=PG", "display_name": "Erwin Brandstetter", "link": "https://stackoverflow.com/users/939860/erwin-brandstetter"}, "is_accepted": false, "score": 0, "last_activity_date": 1426357124, "last_edit_date": 1495539804, "creation_date": 1426170993, "answer_id": 29012644, "question_id": 28998386, "link": "https://stackoverflow.com/questions/28998386/postgres-fast-table-splitting/29012644#29012644", "title": "Postgres fast table splitting", "body": "<blockquote>\n  <p>The question is why is python approach faster and how to make the\n  plpgsql approach faster.</p>\n</blockquote>\n\n<p>That's not due to Python but <a href=\"http://www.postgresql.org/docs/current/interactive/sql-copy.html\" rel=\"nofollow noreferrer\"><strong><code>COPY</code></strong></a> vs. <a href=\"http://www.postgresql.org/docs/current/interactive/sql-insert.html\" rel=\"nofollow noreferrer\"><strong><code>INSERT</code></strong></a>. Bulk-loading with <code>COPY</code> is <em>much</em> faster than doing the same with <code>INSERT</code>.</p>\n\n<p>That aside, your given query doesn't seem to make sense:</p>\n\n<pre><code>SELECT *, (Func(B))\nFROM TABLE A\nORDER BY (SELECT Func(B) FROM B WHERE Condition(A,B)\n</code></pre>\n\n<p>Syntactically invalid in multiple ways. It's hard to say anything based on this.</p>\n\n<p>As long as you are staying in the same DB, my first idea would be <a href=\"http://www.postgresql.org/docs/current/interactive/sql-createtableas.html\" rel=\"nofollow noreferrer\"><code>CREATE TABLE AS</code></a>:</p>\n\n<pre><code>CREATE TABLE slice_n AS\nSELECT col1, col2, ...\nFROM   big_table\nORDER  BY whatever  -- cluster data while being at it\nWHERE  whatever;\n</code></pre>\n\n<p>Can't say much more based on the information given.<br>\nCraig assembled a list of general advice:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12206600/how-to-speed-up-insertion-performance-in-postgresql/12207237#12207237\">How to speed up insertion performance in PostgreSQL</a></li>\n</ul>\n"}], "owner": {"reputation": 1425, "user_id": 1514922, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1c59406bdb1a8f5c16b7f6ca12a2ab3d?s=128&d=identicon&r=PG", "display_name": "iggy", "link": "https://stackoverflow.com/users/1514922/iggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426357124, "creation_date": 1426111955, "last_edit_date": 1426175103, "question_id": 28998386, "link": "https://stackoverflow.com/questions/28998386/postgres-fast-table-splitting", "title": "Postgres fast table splitting", "body": "<p>I am rewriting python code to plpgsql that slices a table and imports slices of a table back to the database into different tables. Assume <code>Func(..)</code> is a function that returns some <code>INT</code>\nand <code>Condition(..., ...)</code> is some conditional expression.</p>\n\n<h2>Python</h2>\n\n<ul>\n<li>copy_expert <code>COPY (SELECT *, (Func(B)) FROM TABLE A ORDER BY (SELECT Func(B) FROM B WHERE Condition(A,B)) TO STDOUT</code> to a file</li>\n<li>slice the resulting table into <code>n</code> parts in python by writing to different dump slice files</li>\n<li>for each slice get a new cursor and run copy_expert <code>COPY some_table FROM STDIN</code></li>\n</ul>\n\n<h2>PL/Pgsql</h2>\n\n<ul>\n<li><p>run something like</p>\n\n<pre><code>    DECLARE\n       ...\n       part_name VARCHAR[] = ARRAY[{part_names}];\n       prep_stmt VARCHAR[] = ARRAY[{parts}];\n    BEGIN \n        FOR i in 1..{parts} LOOP\n            prep_stmt[i] := $$ INSERT INTO $$ || part_name[i] || $$\n                   ({list_cols}) VALUES ({args}); $$;\n        END LOOP;\n        FOR row IN (SELECT *, (Func(B)) FROM TABLE A ORDER BY      \n                      (SELECT Func(B) FROM B WHERE Condition(A,B))\n        LOOP\n            chosen_part := 0;\n            FOR i IN 1..{parts} LOOP\n                -- choose some part based on Func(B)\n                -- this takes negligible amount of time\n                ... \n            END LOOP;\n\n            EXECUTE prep_stmt[part] USING row;\n        END LOOP;\n    END\n</code></pre></li>\n</ul>\n\n<p>Python approach performs this task way faster. I mean orders of magnitude faster although client and database are different machines. The tables\nhave <code>~16M</code> rows each having <code>5-7</code> columns.</p>\n\n<p>Is there a way to make it run faster using plpgsql?</p>\n\n<h2>Context</h2>\n\n<p>The slices would then stay on a single machine and be processed using a different cursor and a processor for each. The reason for slicing is that further processing is <code>CPU</code> and not <code>IO</code> intensive as it works with Polygon intersection and slicing gave significant performance advantage (at least to the non-slices implementation)</p>\n\n<h2>EDIT</h2>\n\n<p>I would really prefer answers that actually answer the question instead of proposing that the approach is wrong. Sometimes poor design prevents from changing the approach easily and this might just be the case. The question is why is python approach faster and how to make the plpgsql approach faster. </p>\n\n<h2>EDIT 2</h2>\n\n<p>Is it possible to say something like <code>WRITE TO FILE ...</code> instead of <code>INSERT ...</code> and then bulk load it in the end?</p>\n\n<h2>EDIT 3</h2>\n\n<p>I'd like to reiterate that the setup is that I cannot avoid creating slices as separate tables.</p>\n\n<p>The reason I cannot say <code>CREATE TABLE AS</code> for each slice is because \nI am \"balancing\" the slices based on the output of <code>FUNC(B)</code> for each row in <code>A</code>. The approach tries to immitate <code>min-make-span</code> problem. It is not possible to do something like that within <code>CREATE TABLE AS</code>.</p>\n\n<h2>Possible solutions:</h2>\n\n<p>Here is the list of things I stumbled upon that could be a solution, are you aware of others?</p>\n\n<ul>\n<li>DBLINK extension to insert into each slice in a separate connection?</li>\n<li>Writing to an unlogged temporary table first, and then importing to a slice</li>\n</ul>\n"}, {"tags": ["python", "openssl", "kivy", "autobahn"], "answers": [{"tags": [], "owner": {"reputation": 14068, "user_id": 1169883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9MUrT.jpg?s=128&g=1", "display_name": "Ryan P", "link": "https://stackoverflow.com/users/1169883/ryan-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1426112349, "creation_date": 1426112349, "answer_id": 28998460, "question_id": 28998283, "link": "https://stackoverflow.com/questions/28998283/no-module-named-openssl-in-kivy-app/28998460#28998460", "title": "No module named OpenSSL in kivy app", "body": "<p><code>openssl</code> is the recipe which builds the openssl C library, not a Python module. You need the C library as well, but to get the Python module add <code>pyopenssl</code> to your requirements.</p>\n"}], "owner": {"reputation": 43, "user_id": 4461507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b89ab3cc579a221fd95ba4eb108703f?s=128&d=identicon&r=PG&f=1", "display_name": "newtoandroid", "link": "https://stackoverflow.com/users/4461507/newtoandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 28998460, "answer_count": 1, "score": 2, "last_activity_date": 1426112349, "creation_date": 1426111507, "question_id": 28998283, "link": "https://stackoverflow.com/questions/28998283/no-module-named-openssl-in-kivy-app", "title": "No module named OpenSSL in kivy app", "body": "<p>I have a kivy app which actually based on <a href=\"https://github.com/crossbario/crossbarexamples/tree/master/kivy\" rel=\"nofollow\">this example</a> .\nIn my desktop it works perfectly but when I build it whit buildozer and run it in my android device i get this error - ImportError: No module named OpenSSL</p>\n\n<p>Here is my buildozer requirements section:</p>\n\n<pre><code># comma seperated e.g. requirements = sqlite3,kivy\nrequirements = openssl,kivy,twisted,autobahn,ws4py\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "linux", "macos", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 1045, "user_id": 4548985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/546tA.png?s=128&g=1", "display_name": "Lich4r", "link": "https://stackoverflow.com/users/4548985/lich4r"}, "edited": false, "score": 0, "creation_date": 1426127502, "post_id": 28998919, "comment_id": 46249593, "body": "Oh thanks. Unfortunately it appears I can&#39;t install the two toolbars suggested with my actual Xcode .. Can I make this for Linux system ?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 1045, "user_id": 4548985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/546tA.png?s=128&g=1", "display_name": "Lich4r", "link": "https://stackoverflow.com/users/4548985/lich4r"}, "edited": false, "score": 0, "creation_date": 1426129362, "post_id": 28998919, "comment_id": 46250051, "body": "No, this is an OSX-specific extension.  You can create traditional toolbars, but tkinter won&#39;t let you write on top of the window borders. Of course, you could use the <code>overrideredirect</code> method and draw all of your own window borders if it&#39;s that important to you, in which case you can do anything you want."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1426114387, "creation_date": 1426114387, "answer_id": 28998919, "question_id": 28998282, "link": "https://stackoverflow.com/questions/28998282/how-to-add-widgets-to-title-bar-using-tkinter/28998919#28998919", "title": "How to add widgets to title bar using tkinter?", "body": "<p>That application uses an open source extension. See <a href=\"http://opensource.codebykevin.com/native.html\" rel=\"nofollow\">http://opensource.codebykevin.com/native.html</a></p>\n"}], "owner": {"reputation": 1045, "user_id": 4548985, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/546tA.png?s=128&g=1", "display_name": "Lich4r", "link": "https://stackoverflow.com/users/4548985/lich4r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 28998919, "answer_count": 1, "score": 0, "last_activity_date": 1426114387, "creation_date": 1426111506, "last_edit_date": 1426113046, "question_id": 28998282, "link": "https://stackoverflow.com/questions/28998282/how-to-add-widgets-to-title-bar-using-tkinter", "title": "How to add widgets to title bar using tkinter?", "body": "<p>I am currently learning python and tkinter. </p>\n\n<p>I was wondering how to add a button to the title bar in the \"mac osx style\". I found a simple picture example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zhmDM.png\" alt=\"screenshot showing app written in python using tkinter\"></p>\n\n<p>The screenshot shows an app written in python using tkinter. </p>\n\n<p>Can it be available for linux systems ?</p>\n\n<p>Thanks ! </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1430605832, "post_id": 28998234, "comment_id": 48134745, "body": "What about <code>grep -rn dependency_name folder_with_source_code&#47;</code> ? It is hard to say automatically if the dependency is necessary or not, apart from looking at the code."}], "owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426111276, "creation_date": 1426111276, "question_id": 28998234, "link": "https://stackoverflow.com/questions/28998234/python-custom-dependency-check", "title": "Python : Custom Dependency Check", "body": "<p>I have a production package that has some 50 custom necessary/un-necessary dependencies (in-house, python, rails, perl). Is there any good way to check in python for un-necessary dependencies so that I can delete them from the whole package?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1426111236, "creation_date": 1426111236, "answer_id": 28998225, "question_id": 28998193, "link": "https://stackoverflow.com/questions/28998193/splitting-string-in-python-starting-from-the-first-numeric-character/28998225#28998225", "title": "Splitting string in Python starting from the first numeric character", "body": "<p>You can split using this regex:</p>\n\n<pre><code>(?&lt;=[&lt;&gt;=])(?=\\d)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/uX3xL1/1\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 2, "last_activity_date": 1426111414, "creation_date": 1426111414, "answer_id": 28998258, "question_id": 28998193, "link": "https://stackoverflow.com/questions/28998193/splitting-string-in-python-starting-from-the-first-numeric-character/28998258#28998258", "title": "Splitting string in Python starting from the first numeric character", "body": "<pre><code>import re\n\nstrings = ['&gt;=1_2_3','&lt;2_3_2']\n\nfor s in strings:\n    mat = re.match(r'([^\\d]*)(\\d.*)', s)\n    print mat.groups()\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>('&gt;=', '1_2_3')\n('&lt;', '2_3_2')\n</code></pre>\n\n<p>This just groups everything up until the first digit in one group, then that first digit and everything after into a second.</p>\n\n<p>You can access the individual groups with <code>mat.group(1)</code>, <code>mat.group(2)</code></p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1426111638, "creation_date": 1426111638, "answer_id": 28998317, "question_id": 28998193, "link": "https://stackoverflow.com/questions/28998193/splitting-string-in-python-starting-from-the-first-numeric-character/28998317#28998317", "title": "Splitting string in Python starting from the first numeric character", "body": "<p>There's probably a better way but you can split with a capture then join the second two elements:</p>\n\n<pre><code>values = re.split(r'(\\d)', '&gt;=1_2_3', maxsplit = 1)\nvalues = [values[0], values[1] + values[2]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 2, "last_activity_date": 1426113698, "creation_date": 1426113698, "answer_id": 28998767, "question_id": 28998193, "link": "https://stackoverflow.com/questions/28998193/splitting-string-in-python-starting-from-the-first-numeric-character/28998767#28998767", "title": "Splitting string in Python starting from the first numeric character", "body": "<p>This will do:</p>\n\n<pre><code>re.split(r'(^[^\\d]+)', string)[1:]\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r'(^[^\\d]+)', '&gt;=1_2_3')[1:]\n['&gt;=', '1_2_3']\n\n&gt;&gt;&gt; re.split(r'(^[^\\d]+)', '&lt;2_3_2')[1:]\n['&lt;', '2_3_2']\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2697881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/006b3e3d00ba9785665b887d40316197?s=128&d=identicon&r=PG&f=1", "display_name": "user2697881", "link": "https://stackoverflow.com/users/2697881/user2697881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 0, "accepted_answer_id": 28998767, "answer_count": 4, "score": 1, "last_activity_date": 1426113698, "creation_date": 1426111095, "question_id": 28998193, "link": "https://stackoverflow.com/questions/28998193/splitting-string-in-python-starting-from-the-first-numeric-character", "title": "Splitting string in Python starting from the first numeric character", "body": "<p>I need to manage string in Python in this way:</p>\n\n<p>I have this kind of strings with '>=', '=', '&lt;=', '&lt;', '>' in front of them, for example:</p>\n\n<pre><code>'&gt;=1_2_3'\n'&lt;2_3_2'\n</code></pre>\n\n<p>what I want to achieve is splitting the strings to obtain, respectively:</p>\n\n<pre><code>'&gt;=', '1_2_3' \n'&lt;', '2_3_2'\n</code></pre>\n\n<p>basically I need to split them starting from the first numeric character.</p>\n\n<p>There's a way to achieve this result with regular expressions without iterating over the string checking if a character is a number or a '_'?</p>\n\n<p>thank you.</p>\n"}, {"tags": ["python", "performance", "divide-and-conquer"], "comments": [{"owner": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 2, "creation_date": 1426111188, "post_id": 28998180, "comment_id": 46244443, "body": "Is there a reason that you expect divide and conquer to be fast? Linear is provably the best you can do if you are trying to identify all the pits since you necessarily must examine every item in the list."}, {"owner": {"reputation": 227, "user_id": 3885881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tdd9M.jpg?s=128&g=1", "display_name": "MapReduceFilter", "link": "https://stackoverflow.com/users/3885881/mapreducefilter"}, "reply_to_user": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 0, "creation_date": 1426111194, "post_id": 28998180, "comment_id": 46244449, "body": "Curious about why i was down-voted? please elaborate. @JeremyWest I was told that there was a faster way of doing it. :/. I may have been misinformed."}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 3, "creation_date": 1426111383, "post_id": 28998180, "comment_id": 46244535, "body": "You could use <code>divide and conquer</code> IF you were to find the smallest <code>pit</code>. If you want to find all the <code>pits</code> you have to do it linearly"}, {"owner": {"reputation": 227, "user_id": 3885881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tdd9M.jpg?s=128&g=1", "display_name": "MapReduceFilter", "link": "https://stackoverflow.com/users/3885881/mapreducefilter"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1426111510, "post_id": 28998180, "comment_id": 46244588, "body": "@letsc How would i go about finding the smallest?"}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 1, "creation_date": 1426111538, "post_id": 28998180, "comment_id": 46244607, "body": "You can do some tricks to get a &#39;better linear&#39; (ex: If I just found a pit, I know that by definition the next number is not a pit and I can skip an iteration), but it&#39;s still going to be linear for finding all pits."}, {"owner": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426117716, "post_id": 28998180, "comment_id": 46246967, "body": "@aruisdante Except that, by definition, the next number may be a pit if it is equal to the current number and less than or equal to the following number... But yes, if the next number is strictly larger, you could skip ahead."}, {"owner": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 0, "creation_date": 1426117932, "post_id": 28998180, "comment_id": 46247039, "body": "@MapReduceFilter Divide and conquer algorithms are usually suited to problems with a recursive structure, for example, sorting (a list is sorted if every sublist of the list is sorted). This problem doesn&#39;t (at least to me) fit that mold. Being a pit is a local problem (it depends only on the value and values near it) and you are trying to identify every pit, so you necessarily must look at all of them. Perhaps they meant a parallel algorithm?"}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 0, "creation_date": 1426118069, "post_id": 28998180, "comment_id": 46247075, "body": "@JeremyWest Parallel perhaps, although you&#39;d have take care to deal with the fact that you might have a chunk boundary that makes you miss a pit. And you&#39;re right, I misread the definition with respect to equalities."}], "answers": [{"tags": [], "owner": {"reputation": 1446, "user_id": 2464424, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9d81757c14f0f6e43348730fd49dd645?s=128&d=identicon&r=PG", "display_name": "user2464424", "link": "https://stackoverflow.com/users/2464424/user2464424"}, "is_accepted": true, "score": 2, "last_activity_date": 1426112756, "creation_date": 1426112756, "answer_id": 28998556, "question_id": 28998180, "link": "https://stackoverflow.com/questions/28998180/find-the-pits-in-a-list-of-integers-fast/28998556#28998556", "title": "Find the &#39;pits&#39; in a list of integers. Fast", "body": "<p>Without any additional information on the distribution of the values in the list, it is not possible to achieve any algorithmic complexity of less than O(x), where x is the number of elements in the list.</p>\n\n<p>Logically, if the dataset is random, such as a brownian noise, a pit can happen anywhere, requiring a full 1:1 sampling frequency in order to correctly find every pit.</p>\n\n<p>Even if one just wants to find the absolute lowest pit in the sequence, that would not be possible to achieve in sub-linear time without repercussions on the correctness of the results.</p>\n\n<p>Optimizations can be considered, such as mere parallelization or skipping values neighbor to a pit, but the overall complexity would stay the same.</p>\n"}], "owner": {"reputation": 227, "user_id": 3885881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tdd9M.jpg?s=128&g=1", "display_name": "MapReduceFilter", "link": "https://stackoverflow.com/users/3885881/mapreducefilter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 28998556, "answer_count": 1, "score": -3, "last_activity_date": 1426112756, "creation_date": 1426111035, "last_edit_date": 1426111381, "question_id": 28998180, "link": "https://stackoverflow.com/questions/28998180/find-the-pits-in-a-list-of-integers-fast", "title": "Find the &#39;pits&#39; in a list of integers. Fast", "body": "<p>I'm attempting to write a program which finds the '<code>pits</code>' in a list of\nintegers. </p>\n\n<blockquote>\n  <p>A pit is any integer x where x is less than or equal to the integers\n  immediately preceding and following it. If the integer is at the start\n  or end of the list it is only compared on the inward side.</p>\n</blockquote>\n\n<pre><code>For example in: \n    [2,1,3] 1 is a pit.\n    [1,1,1] all elements are pits.\n    [4,3,4,3,4] the elements at 1 and 3 are pits.\n</code></pre>\n\n<p>I know how to work this out by taking a linear approach and walking along\nthe list however i am curious about how to apply divide and conquer<br>\ntechniques to do this comparatively quickly. I am quite inexperienced and\nam not really sure where to start, i feel like something similar to a binary\ntree could be applied?</p>\n\n<p>If its pertinent i'm working in <code>Python 3</code>.\nThanks for your time :).</p>\n"}, {"tags": ["python", "nltk"], "answers": [{"tags": [], "owner": {"reputation": 1181, "user_id": 4337522, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ea054937c5b1d03b5688e2ffa708f8d4?s=128&d=identicon&r=PG&f=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4337522/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1426249833, "creation_date": 1426249833, "answer_id": 29032325, "question_id": 28998066, "link": "https://stackoverflow.com/questions/28998066/how-to-get-inter-term-relation-between-words-in-nltk/29032325#29032325", "title": "How to get inter-term relation between words in NLTK?", "body": "<p>Not sure what you mean by 'inter-term relations', but it sounds like you need dependency parsing. (google it, it's an active field of NLP research).</p>\n\n<p>If all you care about is producing a parse tree for a given input sentence, I'd suggest you use some freely available parser for this, such as the one from stanford: <a href=\"http://nlp.stanford.edu/software/stanford-dependencies.shtml\" rel=\"nofollow\">http://nlp.stanford.edu/software/stanford-dependencies.shtml</a></p>\n\n<p>If you explicitly have/want to use nltk for this, look here for some examples: <a href=\"http://www.nltk.org/howto/parse.html\" rel=\"nofollow\">http://www.nltk.org/howto/parse.html</a>\nThere are some very basic grammars in there that you could use, but if you need to get a little more out of this, pretty soon you'll have to start writing your own grammar. The nltk regexpParser is particularly simple and easy to use. I don't have any experience with producing graphical output/trees in nltk, but I guess it should be possible.</p>\n"}], "owner": {"reputation": 37, "user_id": 4660476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab663fa34de8f8d99a54cf96329c7a48?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver HD", "link": "https://stackoverflow.com/users/4660476/oliver-hd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426249833, "creation_date": 1426110600, "question_id": 28998066, "link": "https://stackoverflow.com/questions/28998066/how-to-get-inter-term-relation-between-words-in-nltk", "title": "How to get inter-term relation between words in NLTK?", "body": "<p>I searched a long time the internet for an answer, but didn't find one. So you are my last hope :) Maybe someone here can help me. </p>\n\n<p>I have a sentence/question which I want to process: \n\"How much could you rent a Volkswagen bug for in 1966?\" </p>\n\n<p>I want to get the relations between the words, like in this picture\nSorry, I can not post images, so here a link.\n<a href=\"http://s24.postimg.org/kl6uc1xrp/Bildschirmfoto_2015_03_11_um_22_34_27.png\" rel=\"nofollow\">http://s24.postimg.org/kl6uc1xrp/Bildschirmfoto_2015_03_11_um_22_34_27.png</a></p>\n\n<p>But I don't know how to do that. I tried for example:</p>\n\n<pre><code>text = nltk.word_tokenize(\"How much could you rent a Volkswagen bug for in 1966?\")\nposTagged = nltk.pos_tag(text)    \nn = nltk.chunk.ne_chunk(posTagged)\nn.draw()\n</code></pre>\n\n<p>But I get only a flat tree and that isn't helping me at all. I would be very, very happy if anyone  could help me :) </p>\n\n<p>With best regards, Oliver</p>\n"}, {"tags": ["python", "user-interface"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1426114211, "post_id": 28998029, "comment_id": 46245628, "body": "What do you mean by &quot;how to link it&quot;? It&#39;s unclear what you&#39;re asking."}], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 996889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029fea32973f9cd726040cffe4b1e7da?s=128&d=identicon&r=PG", "display_name": "Fran Borcic", "link": "https://stackoverflow.com/users/996889/fran-borcic"}, "is_accepted": false, "score": 0, "last_activity_date": 1426114714, "creation_date": 1426114714, "answer_id": 28998976, "question_id": 28998029, "link": "https://stackoverflow.com/questions/28998029/adding-simple-gui-to-my-simple-python-code/28998976#28998976", "title": "Adding simple gui to my simple python code", "body": "<p>If you just need dynamic input, use the raw_input() function (just input() for python 3). If you really need a GUI, I can only point you to the built-in Tkinter module, being probably the simplest (of many) GUI frameworks for python. It's documentation can be found here: <a href=\"https://docs.python.org/2/library/tkinter.html\" rel=\"nofollow\">https://docs.python.org/2/library/tkinter.html</a> . There would be no point for me to write the complete code for you. It is easy to learn, and if you get stuck, ask a more precise question and someone will sure be glad to answer it. </p>\n"}, {"tags": [], "owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1426116801, "creation_date": 1426116801, "answer_id": 28999384, "question_id": 28998029, "link": "https://stackoverflow.com/questions/28998029/adding-simple-gui-to-my-simple-python-code/28999384#28999384", "title": "Adding simple gui to my simple python code", "body": "<p>You can start with sample code to link your decrypt function with decrypt button in the UI.\nLogic is to attach a callback function to the button.</p>\n\n<pre><code>import Tkinter\nfrom Tkinter import *\n\n\ndef decrypt(key, cyphertext):\n    # do decryption\n    return \"Decrypted \"+key+cyphertext\n\n\ndef callback(cyphertextEntry, keyEntry, output):\n    cyphertext = cyphertextEntry.get()\n    key = keyEntry.get()\n    decrypted = decrypt(key, cyphertext)\n    output.set(decrypted)\n\n\ntop = Tkinter.Tk()\nframe1 = Frame(top)\nframe1.pack()\nframe2 = Frame(top)\nframe2.pack()\nframe3 = Frame(top)\nframe3.pack()\nframe4 = Frame(top)\nframe4.pack()\nL1 = Label(frame1, text=\"Cypher\")\nL1.pack(side=LEFT)\nE1 = Entry(frame1, bd=5)\nE1.pack(side=LEFT)\nL2 = Label(frame2, text=\"Key\")\nL2.pack(side=LEFT)\nE2 = Entry(frame2, bd=5)\nE2.pack(side=LEFT)\nB1 = Tkinter.Button(frame3, text=\"Decrypt\", command=lambda: callback(E1, E2, v)) \nB1.pack()\nL2 = Label(frame4, text=\"Output\")\nL2.pack()\nv = StringVar()\nL3 = Label(frame4, textvariable=v)\nL3.pack(side=LEFT)\n\ntop.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3594235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b77617dbef7fe37d4e14c522540d65?s=128&d=identicon&r=PG&f=1", "display_name": "user3594235", "link": "https://stackoverflow.com/users/3594235/user3594235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 28999384, "answer_count": 2, "score": -1, "last_activity_date": 1426116801, "creation_date": 1426110415, "last_edit_date": 1426110682, "question_id": 28998029, "link": "https://stackoverflow.com/questions/28998029/adding-simple-gui-to-my-simple-python-code", "title": "Adding simple gui to my simple python code", "body": "<p>I've written this python code and I'm trying to add a simple GUI. I would like to  use the GUI to get inputs from the user instead of hard-coding the inputs. </p>\n\n<pre><code> import math\n\ndef main():\n    ciphertext = 'litrutisfgsofnaeeieoitdt'\n    myKey = 4\n\n    plaintext = decryption(myKey, ciphertext)\n    print(plaintext)\n\ndef decryption(key, message):\n\n    colNum = math.ceil(len(message) / key)\n    rowNum = key\n    shadeNum = (colNum * rowNum) - len(message)\n    plaintext = [''] * colNum\n\n    col = 0\n    row = 0\n\n    for symbol in message:\n        plaintext[col] += symbol\n        col += 1 \n\n        if (col == colNum) or (col == colNum - 1 and row &gt;= rowNum - shadeNum):\n            col = 0\n            row += 1\n\n    return ''.join(plaintext)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I want get cipher-text and key from user input and add a button which will do the decryption part and show result in a label. I'm trying to add GUI with Tkinter but to be honest i have no idea how to link it. Any ideas how should I do?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1426110338, "post_id": 28997965, "comment_id": 46244041, "body": "It isn&#39;t squaring, it is doubling each time.  Write out in &quot;pseudo-code&quot; (plain English) how you think it should work and we can help make it work like that."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1426110340, "post_id": 28997965, "comment_id": 46244042, "body": "This is a math question, not a Python question, really. Doubling up every square is simply a powers-of-two calculation. There is a <a href=\"https://docs.python.org/3/reference/expressions.html#the-power-operator\" rel=\"nofollow noreferrer\">Python operator for that</a>."}, {"owner": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426110976, "post_id": 28997965, "comment_id": 46244344, "body": "Thanks for replying! You&#39;re right it&#39;s power of two! I think it should work like this:                                                                                                              get input from user,  return value of exponet minus one of user input,  Example: if user input=4 \tthen program computes 2**3"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1426111597, "post_id": 28997965, "comment_id": 46244630, "body": "afaik thats just the number of grains on the 3rd day"}, {"owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1426113040, "post_id": 28997965, "comment_id": 46245165, "body": "@JoranBeasley, actually that&#39;s the number of grains on day 4. I think my answer has a reasonable explanation on how this should be calculated."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426113581, "post_id": 28998154, "comment_id": 46245377, "body": "Thanks! It&#39;s amazing how simple it is!"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426113650, "post_id": 28998154, "comment_id": 46245406, "body": "Yeah i remember I had the same problem in a math class and the answer was just to look at the sequence pattern"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426116072, "post_id": 28998154, "comment_id": 46246367, "body": "@TannerLancaster if this is the answer you were looking for, could you accept it?"}, {"owner": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426121606, "post_id": 28998154, "comment_id": 46248015, "body": "Yes, how do I do that? I&#39;m new here."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426137195, "post_id": 28998154, "comment_id": 46251887, "body": "@TannerLancaster <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426184054, "post_id": 28998154, "comment_id": 46278716, "body": "I clicked the check mark. Thank you very much. It wouldn&#39;t let me vote the answer up, though."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "edited": false, "score": 0, "creation_date": 1426194018, "post_id": 28998154, "comment_id": 46283912, "body": "@TannerLancaster Yeah, you need more rep. points to up vote answers."}], "tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1426116035, "last_edit_date": 1426116035, "creation_date": 1426110930, "answer_id": 28998154, "question_id": 28997965, "link": "https://stackoverflow.com/questions/28997965/how-to-add-numbers-in-a-sequence-up-to-user-input-than-add-one/28998154#28998154", "title": "How to add numbers in a sequence up to user input than add one?", "body": "<p>The same can be accomplished by looking at the sequence <code>1,2,4,8...</code>as <code>2^0,2^1,2^2,2^3...</code> you can create a simple function  that will give you the amount based on the number of days.</p>\n\n<pre><code>def fun(days):\n    return 2**(days-1)\n\nprint fun(64)\n9223372036854775808\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "is_accepted": false, "score": 0, "last_activity_date": 1426112104, "creation_date": 1426112104, "answer_id": 28998414, "question_id": 28997965, "link": "https://stackoverflow.com/questions/28997965/how-to-add-numbers-in-a-sequence-up-to-user-input-than-add-one/28998414#28998414", "title": "How to add numbers in a sequence up to user input than add one?", "body": "<p>As per your logic the grains start at 1 and keep doubling from the previous day</p>\n\n<p>first day: 1 (2**0)</p>\n\n<p>second day: 2 (2**1)</p>\n\n<p>third day: 4 (2**2)</p>\n\n<p>fourth day: 8 (2**3)</p>\n\n<p>So on the fourth day there will be a total of <code>2**0 + 2**1 + 2**2 + 2**3</code></p>\n\n<p>Using the formula:</p>\n\n<pre><code>x**0 + x**1 + x**2 + x**3 .. x**m =  (x**(m+1) - 1)/(x-1)\n</code></pre>\n\n<p>we get <code>2**(m+1) -1</code> when <code>x =2</code></p>\n\n<p>So on the fourth day (i.e. m=3 since we started with zero based index) the total grains would be <code>2**4 -1 =15</code></p>\n\n<p>Based on above logic your function should be:</p>\n\n<pre><code>def totalGrains(days):\n    return 2**days - 1\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4660149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2673d89fcefb34f995c7e391d0cbfcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner Lancaster", "link": "https://stackoverflow.com/users/4660149/tanner-lancaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 28998154, "answer_count": 2, "score": -1, "last_activity_date": 1426116035, "creation_date": 1426110167, "last_edit_date": 1426110245, "question_id": 28997965, "link": "https://stackoverflow.com/questions/28997965/how-to-add-numbers-in-a-sequence-up-to-user-input-than-add-one", "title": "How to add numbers in a sequence up to user input than add one?", "body": "<p>I'm taking an online introductory computer science class for Python. A homework problem says the inventor of chess asked for a grain of rice. 1 grain on the first day, 2 on the second, four grains on the third day, eight on the fifth day...all the way to 68 days. I have to create a function that does this, returning the number of grains for the number of squares entered. </p>\n\n<p>I believe all I have to do is get the number of squares from user. Add up all the multiples of two up to the point of the user's input then sum by one. I have no idea how to do this. That's whats irritating; you can know what to do, but not how to do it. </p>\n\n<pre><code>def function(li):\n    for i in range(len(li))\n    #I need a loop that adds all the multiples of 2 up to the point of the user's input than returns that value. \n    function()\n</code></pre>\n"}, {"tags": ["python", "tweepy"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1426110217, "post_id": 28997918, "comment_id": 46243989, "body": "The code you posted works <i>just fine</i> on Python 3.4. I am not getting any authorization errors using my own tokens. Tripple-check your tokens."}, {"owner": {"reputation": 271, "user_id": 4655749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01047d71b5ed5dc964696d8320065b8?s=128&d=identicon&r=PG&f=1", "display_name": "Enpi", "link": "https://stackoverflow.com/users/4655749/enpi"}, "edited": false, "score": 0, "creation_date": 1426110645, "post_id": 28997918, "comment_id": 46244171, "body": "Tweepy got supported on python 3.X  some month ago so i dont think there is a problem if you are using your own tokens and keys as Martijn Pieters just said."}, {"owner": {"reputation": 625, "user_id": 4660492, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b5649715a80a4db9df17548c41c2acfb?s=128&d=identicon&r=PG&f=1", "display_name": "kidman01", "link": "https://stackoverflow.com/users/4660492/kidman01"}, "edited": false, "score": 0, "creation_date": 1426111236, "post_id": 28997918, "comment_id": 46244472, "body": "Well... thanks so far. Although I&#39;m using the same .py file I use on Windows and I can&#39;t get it to work here under Linux with Python 3... no idea I think I will try Python 2.7 here. Thanks though"}], "owner": {"reputation": 625, "user_id": 4660492, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b5649715a80a4db9df17548c41c2acfb?s=128&d=identicon&r=PG&f=1", "display_name": "kidman01", "link": "https://stackoverflow.com/users/4660492/kidman01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426116109, "creation_date": 1426110021, "last_edit_date": 1426116109, "question_id": 28997918, "link": "https://stackoverflow.com/questions/28997918/python-3-4-and-the-module-tweepy", "title": "Python 3.4 and the module &quot;tweepy&quot;", "body": "<p>I was just playing around with \"tweepy\" but it does not seem to work for me with Python 3.4. The example code from github (see below) works fine on Windows 7 and Python 2.7.9 but for some reason I just get an authorization error when I use the same code on my Linux machine with Python 3.4. Did anybody else have the same issues?! If so is there a solution?</p>\n\n<p>EDIT</p>\n\n<p>Well... I'm an idiot. The problem was actually related to my system clock and incorrect set hardware clock or something. I readjusted everything and that was actually the root of the problem. So the code works fine.</p>\n\n<pre><code>from __future__ import absolute_import, print_function\n\nfrom tweepy.streaming import StreamListener\nfrom tweepy import OAuthHandler\nfrom tweepy import Stream\n\n# Go to http://apps.twitter.com and create an app.\n# The consumer key and secret will be generated for you after\nconsumer_key=\"\"\nconsumer_secret=\"\"\n\n# After the step above, you will be redirected to your app's page.\n# Create an access token under the the \"Your access token\" section\naccess_token=\"\"\naccess_token_secret=\"\"\n\nclass StdOutListener(StreamListener):\n    \"\"\" A listener handles tweets are the received from the stream.\n    This is a basic listener that just prints received tweets to stdout.\n    \"\"\"\n    def on_data(self, data):\n        print(data)\n        return True\n\n    def on_error(self, status):\n        print(status)\n\nif __name__ == '__main__':\n    l = StdOutListener()\n    auth = OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n\n    stream = Stream(auth, l)\n    stream.filter(track=['basketball'])\n</code></pre>\n"}, {"tags": ["python", "sockets", "python-3.x", "network-programming", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 1373, "user_id": 3050140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71120e525a8b177bbe690caf54464425?s=128&d=identicon&r=PG", "display_name": "Raito", "link": "https://stackoverflow.com/users/3050140/raito"}, "is_accepted": false, "score": 3, "last_activity_date": 1426112653, "creation_date": 1426112653, "answer_id": 28998525, "question_id": 28997833, "link": "https://stackoverflow.com/questions/28997833/restructuring-program-to-use-asyncio/28998525#28998525", "title": "Restructuring program to use asyncio", "body": "<p>I assume that you understand how to create a server using a protocol and how asynchronous paradigm work.</p>\n\n<p>All you need is <strong>to break down</strong> your while event loop into <strong>handlers</strong>. </p>\n\n<p>Let's see server case and client case :</p>\n\n<h1>Server case</h1>\n\n<h3>A client (server-side)</h3>\n\n<p>You need to create a what we call a protocol, it will be used to create the server and serve as a pattern where each instance = a client :</p>\n\n<pre><code>class ClientProtocol(asyncio.Protocol):\n    def connection_made(self, transport):\n        # Here, we have a new player, the transport represent a socket.\n        self.transport = transport\n\n\n    def data_received(self, data):\n        packet = decode_packet(data) # some function for reading packets\n        if packet.opcode == CMSG_MOVE: # opcode is a operation code.\n            self.player.move(packet[0]) # packet[0] is the first \"real\" data.\n            self.transport.write(\"OK YOUR MOVE IS ACCEPTED\") # Send back confirmation or whatever.\n</code></pre>\n\n<p>Ok, now you have a idea of how you can do thing with your clients.</p>\n\n<h3>Game state</h3>\n\n<p>After that, you need to process your game state each X ms :</p>\n\n<pre><code>def processGameState():\n    # some code...\n    eventLoop.call_later(0.1, processGameState) # every 100 ms, processGameState is called.\n</code></pre>\n\n<p>At some point, you will call processGameState in your initialization and it will tell the eventLoop to call processGameState 100 ms later (<strong>It may not be the ideal way to do it, but it's an idea like another one</strong>)</p>\n\n<p>As for sending new data to clients, you just need to store a list of <code>ClientProtocol</code> and write to their transport with a simple for each.</p>\n\n<p>The get_data_from is obviously removed, as we receive all our data asynchronously in the <code>data_received</code> method of the <code>ClientProtocol</code>.</p>\n\n<p>This is a <strong>sketch</strong> of how you can refactor all your synchronous code into asynchronous code. You may want to add authentication, and some other things, if it's your first time with asynchronous paradigm, I suggest you to try to do it with Twisted more than asyncio : Twisted is likely to be more documented and explained everywhere than asyncio (but asyncio is quite the same as Twisted, so you can switch back everytime).</p>\n\n<h1>Client case</h1>\n\n<p>It's pretty the same here.</p>\n\n<p>But, you may need to pay attention to how you draw and how you manage your input. You may need to ultimately use another thread to call inputs handlers, and another thread to draw to the screen at a constant framerate.</p>\n\n<h1>Conclusion</h1>\n\n<p>Think in asynchronous is pretty difficult at the start.</p>\n\n<p>But it's worth the effort.</p>\n\n<p>Note that even my approach may not be the best or adapted for games. I just feel I would do it like that, please, take your time to test your code and profile it.\nCheck if you don't <strong>mix synchronous and asynchronous</strong> code in the same function without proper handling using deferToThread (or other helpers), it would <strong>destroy</strong> your game's <strong>performances</strong>.</p>\n"}], "owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1426112653, "creation_date": 1426109692, "last_edit_date": 1426110087, "question_id": 28997833, "link": "https://stackoverflow.com/questions/28997833/restructuring-program-to-use-asyncio", "title": "Restructuring program to use asyncio", "body": "<p>Currently I have a game that does networking synchronously using the <code>socket</code> module.</p>\n\n<p>It is structured like this:</p>\n\n<p>Server:</p>\n\n<pre><code>while True:\n    add_new_clients()\n    process_game_state()\n    for client in clients:\n        send_data(client)\n        get_data_from(client)\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>connect_to_server()\nwhile True:\n    get_data_from_server()\n    process_game_state()\n    draw_to_screen()\n    send_input_to_server()\n</code></pre>\n\n<p>I want to replace the network code with some that uses a higher level module than <code>socket</code>, e.g. <code>asyncio</code> or gevent. However, I don't know how to do this. </p>\n\n<p>All the examples I have seen are structured like this:</p>\n\n<pre><code>class Server:\n    def handle_client(self, connection):\n        while True:\n            input = get_input(connection)\n            output = process(input)\n            send(connection, output)\n</code></pre>\n\n<p>and then <code>handle_client</code> being called in parallel, using threads or something, for each client that joins.</p>\n\n<p>This works fine if the clients can be handled separately. However, I still want to keep a game-loop type structure, where processing only occurs in one case - I don't want have to check collisions etc. for each client. How would I do this?</p>\n"}, {"tags": ["python", "openerp", "openerp-7", "odoo", "openerp-8"], "comments": [{"owner": {"reputation": 1856, "user_id": 3892930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/alAEl.png?s=128&g=1", "display_name": "Hardik Patadia", "link": "https://stackoverflow.com/users/3892930/hardik-patadia"}, "edited": false, "score": 0, "creation_date": 1426155142, "post_id": 28997819, "comment_id": 46259463, "body": "How are the two tables related with each other? Post your code for those two tables."}, {"owner": {"reputation": 960, "user_id": 4317675, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100003206188636/picture?type=large", "display_name": "Mostafa Mohamed", "link": "https://stackoverflow.com/users/4317675/mostafa-mohamed"}, "reply_to_user": {"reputation": 1856, "user_id": 3892930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/alAEl.png?s=128&g=1", "display_name": "Hardik Patadia", "link": "https://stackoverflow.com/users/3892930/hardik-patadia"}, "edited": false, "score": 0, "creation_date": 1426176323, "post_id": 28997819, "comment_id": 46274095, "body": "Thanks i solve my problem :D"}], "owner": {"reputation": 960, "user_id": 4317675, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100003206188636/picture?type=large", "display_name": "Mostafa Mohamed", "link": "https://stackoverflow.com/users/4317675/mostafa-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 968, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426109639, "creation_date": 1426109639, "question_id": 28997819, "link": "https://stackoverflow.com/questions/28997819/odoo-how-to-update-table-model-from-another-table-model", "title": "odoo-How to update table model from another table model?", "body": "<p>I have 2 tables</p>\n\n<p>1- fci_assignment_stuff</p>\n\n<p>2- fci_assignment pool </p>\n\n<p>i need when i change state in first table it should change in the other table too</p>\n\n<p>Here is my code to change the other table  but it does not run  :(</p>\n\n<pre><code>def act_finish(self, cr, uid, ids, context=None):\n        if context is None:\n            context = {}\n        assignment_obj = self.pool.get(\"fci.assignment.pool\")\n        for ass_data in assignment_obj.browse(cr, uid, ids, context=context):\n            ass_data.search(cr,uid,('code', '=', self.code)).write(cr, uid, {'state':'f'})\n        self.write(cr, uid, ids, {'state': 'f'})\n        return True\n</code></pre>\n"}, {"tags": ["python", "list-comprehension"], "comments": [{"owner": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 0, "creation_date": 1426109791, "post_id": 28997794, "comment_id": 46243796, "body": "The interpreter is not smart enough to work out that both function calls will evaluate to the same thing. However, the function itself might be written to cache results."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 9274, "user_id": 2387370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9bb96d6fa4258ace9cf1c32bf9f4f083?s=128&d=identicon&r=PG", "display_name": "rlms", "link": "https://stackoverflow.com/users/2387370/rlms"}, "edited": false, "score": 2, "creation_date": 1426110857, "post_id": 28997794, "comment_id": 46244283, "body": "@sweeneyrod: rather, the interpreter is smart enough to know that it cannot possibly know that the same results will be produced each time the function is called, even with the same arguments."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1426109748, "creation_date": 1426109748, "answer_id": 28997846, "question_id": 28997794, "link": "https://stackoverflow.com/questions/28997794/list-comprehension-with-repeated-computation/28997846#28997846", "title": "List comprehension with repeated computation", "body": "<p>You can put the <code>scipy.misc.comb()</code> function into a generator expression:</p>\n\n<pre><code>[comb for comb in \n    (scipy.misc.comb(n, r, exact=True) \n     for n in range(1,maxn+1) for r in range(0,n+1))\n if comb &gt; threshold]\n</code></pre>\n\n<p>and it'll be calculated just once per iteration over the generator.</p>\n\n<p>Putting the generator expression into a separate variable may make this clearer:</p>\n\n<pre><code>calculated = (scipy.misc.comb(n, r, exact=True) \n              for n in range(1,maxn+1) for r in range(0,n+1))\n[comb for comb in calculated if comb &gt; threshold]\n</code></pre>\n\n<p>See this as a conveyor belt; the <code>calculated</code> generator is only producing its output as the list comprehension iterates over it.</p>\n"}], "owner": {"reputation": 1384, "user_id": 1171112, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bcb82683df7d612896931dd94c638956?s=128&d=identicon&r=PG", "display_name": "TimGJ", "link": "https://stackoverflow.com/users/1171112/timgj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 28997846, "answer_count": 1, "score": 4, "last_activity_date": 1426112023, "creation_date": 1426109562, "last_edit_date": 1426112023, "question_id": 28997794, "link": "https://stackoverflow.com/questions/28997794/list-comprehension-with-repeated-computation", "title": "List comprehension with repeated computation", "body": "<p>I am currently playing about with Project Euler problem 53 in Python. The solution is trivially simple but involved the following list comprehension:</p>\n\n<pre><code>[scipy.misc.comb(n, r, exact=True)\n for n in range(1,maxn+1)\n for r in range(0,n+1)\n if scipy.misc.comb(n, r, exact=True) &gt; threshold]\n</code></pre>\n\n<p>My concern is though that the scipy.misc.comb() function would be called twice per iteration. Is there any way of replacing one or other occurrence of it with some sort of reference; alternatively is the interpreter smart enough to realise that the two instances will evaluate to the same thing?</p>\n"}, {"tags": ["python", "igraph", "python-3.4"], "answers": [{"tags": [], "owner": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "is_accepted": true, "score": 1, "last_activity_date": 1426159893, "creation_date": 1426159893, "answer_id": 29008608, "question_id": 28997764, "link": "https://stackoverflow.com/questions/28997764/python-igraph-for-windows-64bit/29008608#29008608", "title": "Python igraph for windows 64bit", "body": "<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow\">Christoph Gohlke's page</a> contains a Python wheel compiled for Python 3.4 on a 64-bit Windows machine.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3403882"}, "is_accepted": false, "score": 1, "last_activity_date": 1427312107, "creation_date": 1427312107, "answer_id": 29264918, "question_id": 28997764, "link": "https://stackoverflow.com/questions/28997764/python-igraph-for-windows-64bit/29264918#29264918", "title": "Python igraph for windows 64bit", "body": "<p>As suggested by @Tamas, you should download wheel packages from the link and use pip to install them.</p>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 29008608, "answer_count": 2, "score": 0, "last_activity_date": 1427312107, "creation_date": 1426109480, "last_edit_date": 1426110989, "question_id": 28997764, "link": "https://stackoverflow.com/questions/28997764/python-igraph-for-windows-64bit", "title": "Python igraph for windows 64bit", "body": "<p>I am looking for python-igraph package for windows 64bits. I have installed python 3.4 and it seems that I can not find proper igraph installation package for it. I have crawled all webpages and still could not find what I am looking for. \nCan anyone help me please?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-2.7", "list-comprehension"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1426109296, "post_id": 28997688, "comment_id": 46243578, "body": "How would you handle it if there&#39;s more than one name?"}], "answers": [{"comments": [{"owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 0, "creation_date": 1426110367, "post_id": 28997783, "comment_id": 46244051, "body": "This doesn&#39;t include None when all the owners are None"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 0, "creation_date": 1426112488, "post_id": 28997783, "comment_id": 46244985, "body": "@user3885927 is that the intended functionality? In which case <code>project.extend([ &lt;existing list_comp&gt; ] or [None])</code>"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1426109532, "creation_date": 1426109532, "answer_id": 28997783, "question_id": 28997688, "link": "https://stackoverflow.com/questions/28997688/best-way-to-do-list-comprehension-matching-when-there-are-multiple-matches/28997783#28997783", "title": "best way to do list comprehension matching when there are multiple matches", "body": "<p>I'd probably do something like this:</p>\n\n<pre><code>for project in projects:\n    project.extend([orig_project[1] for orig_project in Projects_with_owner if\n                    orig_project[1] is not None and\n                    orig_project[0] == project[0]])\n</code></pre>\n\n<p>Note that this will give you</p>\n\n<pre><code>[['Project1', ['Andrew']]]\n</code></pre>\n\n<p>But will allow you to have more than one owner.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 3830703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b271bfeab1e426d6f38830152997c26?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Golab", "link": "https://stackoverflow.com/users/3830703/adam-golab"}, "is_accepted": false, "score": 3, "last_activity_date": 1426116736, "last_edit_date": 1426116736, "creation_date": 1426110107, "answer_id": 28997945, "question_id": 28997688, "link": "https://stackoverflow.com/questions/28997688/best-way-to-do-list-comprehension-matching-when-there-are-multiple-matches/28997945#28997945", "title": "best way to do list comprehension matching when there are multiple matches", "body": "<pre><code>for x in projects:\n   x.extend([[y[1]] for y in Projects_with_owner if y[0] == x[0] and y[1] is not None][0])\n</code></pre>\n\n<p>Thit give exaclty what you want, but when there is only one match with None this doesn't extend your list. So maybe you should create a temporary list with all matches with project and next if there is more than one match, get these which have any owner.</p>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 28997783, "answer_count": 2, "score": 0, "last_activity_date": 1426116736, "creation_date": 1426109208, "last_edit_date": 1426109265, "question_id": 28997688, "link": "https://stackoverflow.com/questions/28997688/best-way-to-do-list-comprehension-matching-when-there-are-multiple-matches", "title": "best way to do list comprehension matching when there are multiple matches", "body": "<p>I am extending a list called <code>projects</code> to include the project owner from another list. <code>Projects_with_owner</code> has two matches and is returning <code>None</code>. I assume because the element with <code>None</code> is the first match. I'd like to be able to include the one that does have a name if there is one. I could do this with sorting and making sure any with a name appear first, but am wondering if there is a better way.</p>\n\n<pre><code>Projects_with_owner = [['Project1', None],['Project1','Andrew']]\n\nprojects = [['Project1']]\n\nfor x in projects:\n   x.extend([[y[1]] for y in Projects_with_owner if y[0] == x[0]][0])\n\nprint projects\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['Project1', None]]\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>[['Project1', 'Andrew']]\n</code></pre>\n"}, {"tags": ["python", "parsing", "text", "line"], "answers": [{"tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": true, "score": 6, "last_activity_date": 1426109048, "creation_date": 1426109048, "answer_id": 28997647, "question_id": 28997623, "link": "https://stackoverflow.com/questions/28997623/how-to-parse-text-in-python-with-ipwhois/28997647#28997647", "title": "How to parse text in python with IPWhois", "body": "<p><code>results</code> is already a dictionary, so just get the keys and values that you want.</p>\n\n<pre><code>from ipwhois import IPWhois\n\nobj = IPWhois('74.125.227.206')\nresults = obj.lookup_rws()\nprint(results['nets'][0]['name'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 6913786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6dPf.jpg?s=128&g=1", "display_name": "Nelbren", "link": "https://stackoverflow.com/users/6913786/nelbren"}, "edited": false, "score": 0, "creation_date": 1608346590, "post_id": 47230159, "comment_id": 115563359, "body": "Use &quot;from pprint import pprint&quot; and &quot;pprint(result)&quot; to show all keys and values from result"}], "tags": [], "owner": {"reputation": 119, "user_id": 5651532, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/885d7f3a7f6161658721ca6b303e25d3?s=128&d=identicon&r=PG&f=1", "display_name": "ic205", "link": "https://stackoverflow.com/users/5651532/ic205"}, "is_accepted": false, "score": 2, "last_activity_date": 1510346242, "last_edit_date": 1510346242, "creation_date": 1510343458, "answer_id": 47230159, "question_id": 28997623, "link": "https://stackoverflow.com/questions/28997623/how-to-parse-text-in-python-with-ipwhois/47230159#47230159", "title": "How to parse text in python with IPWhois", "body": "<p><code>lookup_rws()</code> function is deprecated. Instead, use:</p>\n\n<pre><code>from ipwhois import IPWhois\n\nobj = IPWhois('{}'.format('IP') # Enter IP\nresult = obj.lookup_rdap(depth=1)\nprint(result['network']['name'])\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4205655, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27d1bbcdb7d9b48faaf0b2e5d1c42c55?s=128&d=identicon&r=PG&f=1", "display_name": "gamarga", "link": "https://stackoverflow.com/users/4205655/gamarga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4533, "favorite_count": 2, "accepted_answer_id": 28997647, "answer_count": 2, "score": 3, "last_activity_date": 1510346242, "creation_date": 1426108957, "question_id": 28997623, "link": "https://stackoverflow.com/questions/28997623/how-to-parse-text-in-python-with-ipwhois", "title": "How to parse text in python with IPWhois", "body": "<p>My code is:</p>\n\n<pre><code>from ipwhois import IPWhois\nimport pprint\n\nobj = IPWhois('74.125.227.206')\n\nresults = obj.lookup_rws()\n\npprint.pprint(results)\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>{'asn': '15169',\n 'asn_cidr': '74.125.227.0/24',\n 'asn_country_code': 'US',\n 'asn_date': '2007-03-13',\n 'asn_registry': 'arin',\n 'nets': [{'abuse_emails': 'arin-contact@google.com',\n           'address': '1600 Amphitheatre Parkway',\n           'cidr': '74.125.0.0/16',\n           'city': 'Mountain View',\n           'country': 'US',\n           'created': '2007-03-13T12:09:54-04:00',\n           'description': 'Google Inc.',\n           'handle': u'NET-74-125-0-0-1',\n           'misc_emails': None,\n           'name': 'GOOGLE',\n           'postal_code': '94043',\n           'range': u'74.125.0.0 - 74.125.255.255',\n           'state': 'CA',\n           'tech_emails': 'arin-contact@google.com',\n           'updated': '2012-02-24T09:44:34-05:00'}],\n 'query': '74.125.227.206',\n 'raw': None}\n</code></pre>\n\n<p>What is the best or easiest way in python to print a single line from the output?</p>\n\n<p>For example: </p>\n\n<pre><code>'name': 'GOOGLE', \n</code></pre>\n\n<p>or <code>'abuse_emails': 'arin-contact@google.com',</code></p>\n\n<p>Any help would be appreciated!!</p>\n"}, {"tags": ["python", "pyqt", "qtreeview", "qstandarditemmodel", "qstandarditem"], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 1852463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8740e47c2bfdb02977ae91800c38ac63?s=128&d=identicon&r=PG", "display_name": "sonictk", "link": "https://stackoverflow.com/users/1852463/sonictk"}, "is_accepted": false, "score": 1, "last_activity_date": 1426281280, "creation_date": 1426281280, "answer_id": 29042056, "question_id": 28997619, "link": "https://stackoverflow.com/questions/28997619/populating-qtreeview-from-list-of-file-paths/29042056#29042056", "title": "Populating QTreeView from list of file paths", "body": "<p>Hmm, after a bit of faffing about, I've come up with something that works for now, though the file paths must be in order for this to work:</p>\n\n<pre><code>def doIt(self):\n\n    print \"\\n\\n\\n\\n\"\n\n    self.model = QtGui.QStandardItemModel()\n\n    topLevelParentItem = self.model.invisibleRootItem()\n\n    # iterate over each string url\n    for item in data:\n        splitName = item.split('/')\n\n        # first part of string is defo parent item\n        # check to make sure not to add duplicate\n        if len(self.model.findItems(splitName[0], flags=QtCore.Qt.MatchFixedString)) == 0:\n\n            parItem = QtGui.QStandardItem(splitName[0])\n            topLevelParentItem.appendRow(parItem)\n\n\n        def addItems(parent, elements):\n            \"\"\"\n            This method recursively adds items to a QStandardItemModel from a list of paths.\n            :param parent:\n            :param elements:\n            :return:\n            \"\"\"\n\n            for element in elements:\n\n                # first check if this element already exists in the hierarchy\n                noOfChildren = parent.rowCount()\n\n                # if there are child objects under specified parent\n                if noOfChildren != 0:\n                    # create dict to store all child objects under parent for testing against\n                    childObjsList = {}\n\n                    # iterate over indexes and get names of all child objects\n                    for c in range(noOfChildren):\n                        childObj = parent.child(c)\n                        childObjsList[childObj.text()] = childObj\n\n                    if element in childObjsList.keys():\n                        # only run recursive function if there are still elements to work on\n                        if elements[1:]:\n                            addItems(childObjsList[element], elements[1:])\n\n                        return\n\n                    else:\n                        # item does not exist yet, create it and parent\n                        newObj = QtGui.QStandardItem(element)\n                        parent.appendRow(newObj)\n\n                        # only run recursive function if there are still elements to work on\n                        if elements[1:]:\n                            addItems(newObj, elements[1:])\n\n                        return\n\n                else:\n                    # if there are no existing child objects, it's safe to create the item and parent it\n                    newObj = QtGui.QStandardItem(element)\n                    parent.appendRow(newObj)\n\n                    # only run recursive function if there are still elements to work on\n                    if elements[1:]:\n                        # now run the recursive function again with the latest object as the parent and\n                        # the rest of the elements as children\n                        addItems(newObj, elements[1:])\n\n                    return\n\n        # call proc to add remaining items after toplevel item to the hierarchy\n        print \"### calling addItems({0}, {1})\".format(parItem.text(), splitName[1:])\n        addItems(parItem, splitName[1:])\n\n        print 'done: ' + item + '\\n'\n\n    self.inst.col_taskList.setModel(self.model)\n</code></pre>\n"}], "owner": {"reputation": 158, "user_id": 1852463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8740e47c2bfdb02977ae91800c38ac63?s=128&d=identicon&r=PG", "display_name": "sonictk", "link": "https://stackoverflow.com/users/1852463/sonictk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511873810, "creation_date": 1426108940, "last_edit_date": 1511873810, "question_id": 28997619, "link": "https://stackoverflow.com/questions/28997619/populating-qtreeview-from-list-of-file-paths", "title": "Populating QTreeView from list of file paths", "body": "<p>This question has been asked before at:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26538667/pyqt-populate-qtreeview-from-txt-file-that-contains-file-paths\">https://stackoverflow.com/questions/26538667/pyqt-populate-qtreeview-from-txt-file-that-contains-file-paths</a></p>\n\n<p>But didn't seem to get a response.</p>\n\n<p>I have a dataset of file paths that are formatted, like so:</p>\n\n<pre><code>hon_dev/Bob Dylan/Concept\nhon_dev/Andromeda/Modeling\nhon_dev/Andromeda/Lookdev\nhon_dev/Andromeda/Rigging\nhon_dev/Andromeda/Animation\nhon_dev/Andromeda/FX\nhon_dev/fsafasfas/production\nhon_dev/Magebane: Acheron of Mana Aeacus/Model\nhon_dev/Magebane: Acheron of Mana Aeacus/Concept\nhon_dev/Magebane: Acheron of Mana Aeacus/Texture\nhon_dev/Skrull/Modeling\nhon_dev/Skrull/Lookdev\nhon_dev/Skrull/Rigging\nhon_dev/Skrull/Animation\nhon_dev/Skrull/FX\nhon_dev/Bob Mylan/Modeling\nhon_dev/Bob Mylan/Lookdev\nhon_dev/Bob Mylan/Rigging\nhon_dev/Bob Mylan/Animation\nhon_dev/Bob Mylan/FX\nhon_dev/Handsome Man/Concept\nhon_dev/Handsome Man/Modeling\nhon_dev/Handsome Man/Lookdev\nhon_dev/Handsome Man/Rigging\nhon_dev/Handsome Man/Animation\nhon_dev/Handsome Man/FX\ndemo-sync/Drone Craft/Modelling Drone Craft\ndemo-sync/Drone Craft/Texturing and Shading of Drone Craft\ndemo-sync/Drone Craft/Rigging Drone Parts\n</code></pre>\n\n<p>And I'm trying to get them to fill up a QTreeView (PySide). The current code I have is as such, with a simple recursive function:</p>\n\n<pre><code>def doIt(self):\n\n    self.model = QtGui.QStandardItemModel()\n\n    # self.model.setHorizontalHeaderLabels = ['test']\n\n    topLevelParentItem = self.model.invisibleRootItem()\n\n    # create all itewms first\n\n\n\n    # iterate over each string url\n    for item in data:\n        splitName = item.split('/')\n\n        # first part of string is defo parent item\n        # check to make sure not to add duplicate\n        if len(self.model.findItems(splitName[0], flags=QtCore.Qt.MatchFixedString)) == 0:\n\n            parItem = QtGui.QStandardItem(splitName[0])\n            topLevelParentItem.appendRow(parItem)\n\n\n        def addItems(parent, elements):\n\n            # check if not reached last item in the list of items to add\n            if len(elements) != 0:\n\n                print \"currently eval addItems({0}, {1}\".format(parent.text(), elements)\n\n                # check if item already exists, if so do not create \n                # new item and use existing item as parent\n                if len(self.model.findItems(elements[0], flags=QtCore.Qt.MatchFixedString)) == 0:\n\n                    print \"item being created for {0}\".format(elements[0])\n                    item = QtGui.QStandardItem(elements[0])\n\n                else:\n                    print \"not adding duplicate of: {0}\".format(elements[0])\n                    item = self.model.findItems(elements[0], flags=QtCore.Qt.MatchFixedString)[0]\n                    print \"the item to act as non-duplicate is: {0}\".format(item.text())\n\n                child = elements[1:]\n                print \"child is {0}\".format(child)\n\n                # call recursive function to add\n                addItems(item, child)\n\n                print \"parenting: {0} to {1}\".format(item.text(), parent.text())\n                parent.appendRow(item)\n\n        addItems(parItem, splitName[1:])\n\n\n\n        print 'done: ' + item + '\\n'\n\n\n\n    self.inst.col_taskList.setModel(self.model)\n</code></pre>\n\n<p>However, because I can't find any way to look through a QStandardItem for existing rows, I'm getting this in the UI as a result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Of3Tc.png\" alt=\"enter image description here\"></p>\n\n<p>Is there a way to find duplicates rows in a QStandardItem or traverse the QStandardItemModel to find the existing QStandardItem? I've been struggling with this problem for the past 2 days and trying to find an existing example, and I can't really wrap my head around how this could be such a complication...</p>\n\n<p>Any help/advice on this would be appreciated! Thanks!</p>\n"}, {"tags": ["python", "csv", "export-to-csv"], "comments": [{"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 0, "creation_date": 1426109031, "post_id": 28997596, "comment_id": 46243411, "body": "Can you provide a sample input?"}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "edited": false, "score": 0, "creation_date": 1426109552, "post_id": 28997596, "comment_id": 46243697, "body": "<code>line.split(&#39;,&#39;)</code> will return a list just use that to write to csv for example <code>file_out.writerow(line_split)</code>. <code>file_out.writerow([line])</code>  will not make the line read from file to a list which the writerow method needs rather it would crate a list with only one element"}], "answers": [{"tags": [], "owner": {"reputation": 1790, "user_id": 3624549, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6d64dd9adf330105e883f79fd0e669ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alg_D", "link": "https://stackoverflow.com/users/3624549/alg-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1426109545, "creation_date": 1426109545, "answer_id": 28997787, "question_id": 28997596, "link": "https://stackoverflow.com/questions/28997596/my-python-script-when-executed-prints-values-to-a-single-column-of-the-excel-doc/28997787#28997787", "title": "My python script when executed prints values to a single column of the excel document in which it is opened", "body": "<p>Your code looks good.\nWhy do you say that it opens in only one column?\nThis might be your default delimiter in excel (I guess by default is a space/tab).</p>\n\n<p>Open the csv in excel and go to Data->Text To Columns, select 'comma' as delimiter and press finish.</p>\n\n<p>The code seems to be fine.</p>\n\n<p>you can try to change to:</p>\n\n<pre><code> csv_out = csv.writer(file_out,dialect='excel',delimiter='\\t')\n</code></pre>\n\n<p>or other delimiter, e.g. ';'</p>\n"}, {"tags": [], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "is_accepted": true, "score": 0, "last_activity_date": 1426114658, "last_edit_date": 1426114658, "creation_date": 1426109969, "answer_id": 28997906, "question_id": 28997596, "link": "https://stackoverflow.com/questions/28997596/my-python-script-when-executed-prints-values-to-a-single-column-of-the-excel-doc/28997906#28997906", "title": "My python script when executed prints values to a single column of the excel document in which it is opened", "body": "<p><code>file_out.writerow([line])</code> will create a list with only one element \nfor example </p>\n\n<pre><code>In [1]: test = \"1,2,3,4,5,6,7\"\nIn [2]: list_test = [test]\nOut[2]: ['1,2,3,4,5,6,7']\nIn [6]: len(list_test)\nOut[6]: 1\n</code></pre>\n\n<p>what you need is a list of the delimiter separated elements. Use the list after <code>line.split(\",\")</code> in your code would return such list, using the split will solve the problem, for example in the following code</p>\n\n<pre><code>In [1]: test = \"1,2,3,4,5,6,7\"\nIn [2]: list_test = test.split(\",\")\nIn [3]: print list_test\nout:   ['1', '2', '3', '4', '5', '6', '7']\n\n#now use the writerow method to write the list\nfile_out.writerow(list_test)\n</code></pre>\n\n<p>The reference documentation has more examples about the usage\n<a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow\">https://docs.python.org/3/library/csv.html</a></p>\n"}], "owner": {"reputation": 17, "user_id": 4651187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77334c15a9fb698f22ec75368951b7a?s=128&d=identicon&r=PG&f=1", "display_name": "Rishy Chacko", "link": "https://stackoverflow.com/users/4651187/rishy-chacko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 28997906, "answer_count": 2, "score": 1, "last_activity_date": 1426114658, "creation_date": 1426108881, "last_edit_date": 1426113538, "question_id": 28997596, "link": "https://stackoverflow.com/questions/28997596/my-python-script-when-executed-prints-values-to-a-single-column-of-the-excel-doc", "title": "My python script when executed prints values to a single column of the excel document in which it is opened", "body": "<p>I've been attempting to copy over lines from a csv(comma delimited) to another csv file after performing a simple check. But, the newly created output happens to be in a single column. How can I fix this? I've already attempted to migrate over values using the text solution in excel with no positive results. What I provided in the block quotes is one sample csv input that would be in ~400mb file that would need to be read for the given condition before being copied if the condition is met to the second file. </p>\n\n<blockquote>\n  <p>\"Glyma0022s00420.1,1932,1932,1,5.397348971,9.108346736,13.06778834,13.60298787,0.77651741,0.117442453,11.76078538,8.366009655,10.94107876,12.25047115,0.985502816,0.938466273,11.36138317,9.161105262,15.77093455,14.41819843,0.727405702,0.019170303,12.43972822,16.69100507,0.714607056,0.403279462,\"\"osi,rcom,\"\",gi|225423945|ref|XP_002279093.1| PREDICTED: hypothetical protein [Vitisvinifera],No hit,\"\"tr|B9ST04|B9ST04_RICCO DNA binding protein,>putative OS=Ricinus communisGN=RCOM_0353100 PE=4 SV=1\"\",\"\"PF01426,PF05641\"\",None,None,None,None,AT1G68580.1,None,agenet domain-containing protein / bromo-adjacent homology (BAH) domain-containing protein,PF01426|PF05641 BAH domain|Agenet domain</p>\n</blockquote>\n\n<p>This would be sample input</p>\n\n<pre><code>#!/usr/bin/env \n\nimport csv\nfrom sys import argv\nscript, filename = argv\n\ndef pvalueselection(file_in, file_out):\n    header = True\n    for line in file_in:\n        line_split = line.split(',')\n        if(header):\n            file_out.writerow([line])\n            header = False\n            continue\n        else:\n            if float(line_split[9]) &lt;=0.05 or float(line_split[15])&lt;=0.05 or float(line_split[21]) &lt;=0.05 or float(line_split[25])&lt;=0.05:\n                file_out.writerow([line])\n\ndef main():\n    file_in = open(filename, 'rb')\n\n    file_out = open (\"output.csv\",'wb') \n    csv_out = csv.writer(file_out,dialect='excel',delimiter=',')\n\n    pvalueselection(file_in,csv_out)\n\n    file_in.close()\n    file_out.close()        \n\nif __name__ == '__main__': main()   \n</code></pre>\n"}, {"tags": ["python", "python-2.7", "itertools"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 1, "creation_date": 1426108960, "post_id": 28997563, "comment_id": 46243370, "body": "You&#39;re missing a closing <code>)</code> on the second line of your itertools example. Unrelated?"}, {"owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426109065, "post_id": 28997563, "comment_id": 46243433, "body": "@Celeo type error, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1426109326, "post_id": 28997677, "comment_id": 46243590, "body": "need a way to return an error: ValueError like list.index() or return None"}, {"owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "reply_to_user": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 1, "creation_date": 1426109362, "post_id": 28997677, "comment_id": 46243611, "body": "@Harvey None is returned (implicitly) if the loop is exhausted"}, {"owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426109984, "post_id": 28997677, "comment_id": 46243885, "body": "@shx2 Can you explain in a word or two how this expression is interpreted in python <code>(i+1) % len(users)</code>? Do <code>deque</code> and <code>deque.rotate()</code> store modified data to new memory space as in real problem I have to process quite a lot of data this way  and it would not be the most efficient way or am I wrong?"}, {"owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "reply_to_user": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426110167, "post_id": 28997677, "comment_id": 46243966, "body": "@avstenit, right, the second solution is an attempt to be more elegant (using a more &quot;pythonic&quot; loop), but is slower, because it uses a second &quot;duplicate&quot; container. As to the modulo, it takes advantage of the fact <code>n%n=0</code>, and that <code>k%n=k</code> if <code>0&lt;=k&lt;n</code>."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 1, "creation_date": 1426110754, "post_id": 28997677, "comment_id": 46244222, "body": "@shx2: thanks for the reminder about None. Also, I added a more pythonic solution which avoids additional storage. It uses itertools.dropwhile() as an index() method."}, {"owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426152314, "post_id": 28997677, "comment_id": 46257849, "body": "@shx2 is it possible to change <code>return users[(i+1) % len(users)]</code> that it will return <code>i</code>-th and <code>i+1</code> user object in a list with modifying the expression <code>(i+1) % len(users)</code>?  I tried with this <code>(i, i+1) % len(users)</code>, but got some errors."}, {"owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "edited": false, "score": 1, "creation_date": 1426153538, "post_id": 28997677, "comment_id": 46258501, "body": "Just return a tuple where the first value is <code>user</code>, like: <code>return ( user, users[(i+1) % len(users)] )</code>"}], "tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 1, "last_activity_date": 1426109902, "last_edit_date": 1426109902, "creation_date": 1426109158, "answer_id": 28997677, "question_id": 28997563, "link": "https://stackoverflow.com/questions/28997563/find-object-from-list-that-has-attribute-equal-to-some-value-and-also-get-the-ne/28997677#28997677", "title": "Find object from list that has attribute equal to some value and also get the next object after", "body": "<p>To handle the last element, you can use modulo: <code>index % len(users)</code>.</p>\n\n<p>Here is one way:</p>\n\n<pre><code>def find_after_name(users, name):\n    for i, user in enumerate(users):\n        if user.name == name:\n            return users[(i+1) % len(users)]\n</code></pre>\n\n<p>Another option would be to <code>zip</code> the list with a shifted copy of the list. <code>deque.rotate()</code> is useful for such shifting:</p>\n\n<pre><code>from collections import deque\ndef find_after_name(users, name):\n    users2 = deque(users)\n    users2.rotate(-1)\n    for user1, user2 in zip(users1, users2):\n        if user1.name == name:\n            return user2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426143032, "post_id": 28997955, "comment_id": 46253744, "body": "Well the initial data is in matrix form, and than I also build objects from it (the real problem is about <code>class Node</code> not <code>class User</code> - it is used just for simple example). So I have to decide which way to go OOP or noOOP. The goal is not to add too much additional methods to the <code>class User</code>"}, {"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "reply_to_user": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426176231, "post_id": 28997955, "comment_id": 46274021, "body": "ok, your description is not very clear to me, but it&#39;s good that seems you&#39;ve already made a decision."}], "tags": [], "owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "is_accepted": false, "score": 1, "last_activity_date": 1426110128, "creation_date": 1426110128, "answer_id": 28997955, "question_id": 28997563, "link": "https://stackoverflow.com/questions/28997563/find-object-from-list-that-has-attribute-equal-to-some-value-and-also-get-the-ne/28997955#28997955", "title": "Find object from list that has attribute equal to some value and also get the next object after", "body": "<p>Since you've chosen to use OOP, why not implement a UserList class inherited from built-in list class?</p>\n\n<pre><code>class User(object):\n    def __init__(self, name):\n        self.name = name\n\n    def __str__(self):\n        return repr(self)\n\n    def __repr__(self):\n        return \"User('{0}')\".format(self.name)\n\n\nclass UserList(list):\n    def find(self, name):\n        for k, user in enumerate(self):\n            if user.name == name:\n                return k, user\n\n    def next_to(self, name):\n        \"\"\"get user next to the one of name (e.g. 'James')\"\"\"\n        index, user = self.find(name)\n        next_to_index = self.get_next_to_index(index)\n        return self[next_to_index]\n\n    def get_next_to_index(self, index):\n        next_to_index = index + 1\n        if next_to_index == len(self):\n            # meaning index is already the last element, need to reset index\n            next_to_index = 0\n        return next_to_index\n\n\nusers = UserList()\nusers.append(User(\"Peter\"))\nusers.append(User(\"James\"))\nusers.append(User(\"John\"))\n\nprint users.find('James')\nprint users.next_to('James')\nprint users.next_to('John')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>(1, User('James'))\nUser('John')\nUser('Peter')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 0, "creation_date": 1426142327, "post_id": 28998009, "comment_id": 46253511, "body": "I was also thinking to use something like <code>cycle</code> from <code>itertools</code>, but something was not working as I planned."}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "reply_to_user": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "edited": false, "score": 1, "creation_date": 1426165331, "post_id": 28998009, "comment_id": 46266009, "body": "@avstenit: some on the #python IRC channel pointed out that this is the correct way to do it: <code>next(i for i,o in enumerate(list) if value == key(o))</code>"}], "tags": [], "owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1426110332, "creation_date": 1426110332, "answer_id": 28998009, "question_id": 28997563, "link": "https://stackoverflow.com/questions/28997563/find-object-from-list-that-has-attribute-equal-to-some-value-and-also-get-the-ne/28998009#28998009", "title": "Find object from list that has attribute equal to some value and also get the next object after", "body": "<p>For kicks, I wanted to see if there was an itertools solution:</p>\n\n<pre><code>from itertools import dropwhile\ndef find_after_name(users, name):\n    for i, _ in dropwhile(lambda eu: eu[1].name != name, enumerate(users)):\n        return users[(i+1) % len(users)]\n</code></pre>\n\n<p>Note: There really should be a list.index(value, key=None) method where key is like the key argument to list.sort(). Then you could do something like this:</p>\n\n<pre><code>index = users.index(\"John\", key=lambda u: u.name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1426113523, "last_edit_date": 1426113523, "creation_date": 1426112736, "answer_id": 28998550, "question_id": 28997563, "link": "https://stackoverflow.com/questions/28997563/find-object-from-list-that-has-attribute-equal-to-some-value-and-also-get-the-ne/28998550#28998550", "title": "Find object from list that has attribute equal to some value and also get the next object after", "body": "<p>Solution extending list class:</p>\n\n<pre><code>class extended_list(list):\n    def index(self, value, key=None):\n        if key is None:\n            return super().index(self, value)\n        try:\n            return next(i for i,o in enumerate(self) if value == key(o))\n        except StopIteration:\n            raise ValueError(\"{} is not in list\".format(repr(value)))\n\n\ndef find_after_name(users, name):\n    i = extended_list(users).index(name, key=lambda u: u.name)\n    return users[(i+1) % len(users)]\n</code></pre>\n"}], "owner": {"reputation": 4721, "user_id": 2364223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2010feccbbafd1026d5c3264d6ceb995?s=128&d=identicon&r=PG", "display_name": "lskrinjar", "link": "https://stackoverflow.com/users/2364223/lskrinjar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2349, "favorite_count": 0, "accepted_answer_id": 28997677, "answer_count": 4, "score": 1, "last_activity_date": 1426113523, "creation_date": 1426108750, "question_id": 28997563, "link": "https://stackoverflow.com/questions/28997563/find-object-from-list-that-has-attribute-equal-to-some-value-and-also-get-the-ne", "title": "Find object from list that has attribute equal to some value and also get the next object after", "body": "<p>I am able to find a object that its attribute equals to some value. But I would like to also get the object after that from a list (and also if the found object is the last in list, the next object after that should be the first object). Something like:</p>\n\n<pre><code>from pprint import pprint\n\nclass User(object):\n    def __init__(self, name):\n        self.name = name\n\nusers = []\nusers.append(User(\"Peter\"))\nusers.append(User(\"James\"))\nusers.append(User(\"John\"))\n\n#   find object that has attribute name equal to James\npprint(vars([user for user in users if user.name == \"James\"][0]))\n</code></pre>\n\n<p>And the output from pprint line prints:</p>\n\n<pre><code>{'name': 'James'}\n</code></pre>\n\n<p>That is correct. </p>\n\n<p>I would like to ask you how to get the next object after <code>\"James\"</code> and also if I would search for <code>\"John\"</code> the next object after <code>\"John\"</code> should be returned <code>\"Peter\"</code>. Suggestions?</p>\n\n<p>I also tried with <code>itertools</code>, but I cannot get the next element if the found element is last:</p>\n\n<pre><code>from itertools import enumerate\n_i = next(i for i, user in enumerate(users) if (user.name == \"John\"))\nprint users[_i + 1] #this is not working \n</code></pre>\n\n<p>I could add if condition to change the counter before operation <code>[_i+1]</code> but I would like to know if there is more smoother solution to this?</p>\n"}, {"tags": ["python", "pycharm", "mlabwrap"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1426108873, "post_id": 28997552, "comment_id": 46243319, "body": "Do you have multiple Python installations on your machine? Looks like you may have installed mlabwrap into a different interpreter than the one used by PyCharm."}, {"owner": {"reputation": 1197, "user_id": 3748679, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SJKCn.png?s=128&g=1", "display_name": "Jika", "link": "https://stackoverflow.com/users/3748679/jika"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1426109253, "post_id": 28997552, "comment_id": 46243544, "body": "yes I installed python from <a href=\"https://www.python.org/\" rel=\"nofollow noreferrer\">python.org</a> and I installed Anaconda. Should I remove it or what else ?"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1426148204, "creation_date": 1426148204, "answer_id": 29004808, "question_id": 28997552, "link": "https://stackoverflow.com/questions/28997552/should-i-install-mlabwrap-or-there-is-other-alternatives/29004808#29004808", "title": "Should I install mlabwrap or there is other alternatives?", "body": "<p>You have multiple Python interpreters on your system, and each of them has an independent set of packages. If you install a package into your main Python installation, it will not become available in Anaconda.</p>\n\n<p>Try running this command to install mlabwrap into Anaconda:</p>\n\n<pre><code> C:\\Anaconda\\python setup.py install\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 3748679, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SJKCn.png?s=128&g=1", "display_name": "Jika", "link": "https://stackoverflow.com/users/3748679/jika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 29004808, "answer_count": 1, "score": 0, "last_activity_date": 1426148204, "creation_date": 1426108723, "question_id": 28997552, "link": "https://stackoverflow.com/questions/28997552/should-i-install-mlabwrap-or-there-is-other-alternatives", "title": "Should I install mlabwrap or there is other alternatives?", "body": "<p>I am trying to install <code>mlabwrap</code> but it is not working.</p>\n\n<p>I downloaded it and I installed it as follow: </p>\n\n<ul>\n<li>From command window I got into the mlabwrap folder</li>\n<li>I typed <code>python setup.py install</code></li>\n<li>Everything is fine</li>\n</ul>\n\n<p>I opened Pycharm and I typed <code>from mlabwrap import mlab</code> and sadly I got the following error. </p>\n\n<pre><code>Traceback (most recent call last):\n File \"C:\\Anaconda\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", \n  line 2731, in run_code exec code_obj in self.user_global_ns, self.user_ns\n File \"&lt;ipython-input-2-7a02b1481f8f&gt;\", line 1, in &lt;module&gt;\n  from mlabwrap import mlab\n File \"C:\\Program Files (x86)\\JetBrains\\PyCharm Community Edition    \n  4.0.4\\helpers\\pydev\\pydev_import_hook.py\", line 21, in do_import module = \n  self._system_import(name, *args, **kwargs)\n ImportError: No module named mlabwrap\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1426129440, "post_id": 28997533, "comment_id": 46250072, "body": "What happens when you use the length argument?"}, {"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1426177651, "post_id": 28997533, "comment_id": 46275051, "body": "It scales all of the arrows equally, sorry, should have mentioned that.  I looked more into <code>matplotlib</code> on Github and I&#39;m pretty sure that it normalises each <code>(u_i, v_i, w_i)^T</code> vector."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 1, "creation_date": 1426186743, "post_id": 28997533, "comment_id": 46280257, "body": "You&#39;re right. You could break up the data by length classes and <code>quiver</code> each separately. Although, looking at this, is that useful for data display? Isn&#39;t the reader likely to be confused between short arrows and arrows nearly perpendicular to the plane of the image? Maybe color variation instead?"}, {"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 2, "creation_date": 1426249074, "post_id": 28997533, "comment_id": 46304892, "body": "I should have also specified my use case too. These won&#39;t be used for rendering single images. It&#39;s for visualising the normal modes of a molecule and will always be done by rotating the image so that we can account for projection.  I&#39;m submitting a PR to matplotlib, since the maintainer thinks that the vectors shouldn&#39;t be normalised."}], "answers": [{"comments": [{"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "edited": false, "score": 1, "creation_date": 1472643116, "post_id": 39247710, "comment_id": 65832694, "body": "That&#39;s great. I was actually the person who raised the issue referenced, but got sidetracked and didn&#39;t actually make and submit the PR."}], "tags": [], "owner": {"reputation": 6607, "user_id": 1150303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/675c7070033721308d1513f991193ae2?s=128&d=identicon&r=PG", "display_name": "DomTomCat", "link": "https://stackoverflow.com/users/1150303/domtomcat"}, "is_accepted": true, "score": 4, "last_activity_date": 1472641495, "last_edit_date": 1495542339, "creation_date": 1472641052, "answer_id": 39247710, "question_id": 28997533, "link": "https://stackoverflow.com/questions/28997533/vary-length-of-arrows-in-matplotlib-axes3d-quiver-plot/39247710#39247710", "title": "Vary length of arrows in Matplotlib Axes3D.quiver plot", "body": "<p>It will be possible in the next major MPL release, see this <a href=\"https://github.com/matplotlib/matplotlib/pull/5458\" rel=\"nofollow noreferrer\">pull request</a>.</p>\n\n<p>Hack: You could edit the respective MPL files on your system, see <a href=\"https://stackoverflow.com/a/33635183/1150303\">this</a> answer.</p>\n\n<p>Alternatively: issue an individual <code>ax.quiver</code> command for each arrow, with individual <code>length</code> attribute. This is not very efficient but in some cases this may help, already.</p>\n"}], "owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2606, "favorite_count": 0, "accepted_answer_id": 39247710, "answer_count": 1, "score": 4, "last_activity_date": 1472641495, "creation_date": 1426108661, "question_id": 28997533, "link": "https://stackoverflow.com/questions/28997533/vary-length-of-arrows-in-matplotlib-axes3d-quiver-plot", "title": "Vary length of arrows in Matplotlib Axes3D.quiver plot", "body": "<p>Is there any way of varying the lengths of individual arrows in a quiver plot?</p>\n\n<p>I have created a plot using:</p>\n\n<pre><code>lines_to_draw = list of numpy 3d vectors\nxs, ys, zs    = list of coordinates\nus, vs, ws    = list of displacements\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nfor line in lines_to_draw:\n    ax.plot(line[:,0], line[:,1], line[:,2], color='green'\nax.quiver(xs, ys, zs, us, vs, ws)\n</code></pre>\n\n<p>It looks like this (axes turned off):\n<img src=\"https://i.stack.imgur.com/uZYJv.png\" alt=\"Quiver plot\"></p>\n\n<p>The problem is that all the arrows look to be the same magnitude. The docs suggest that this is probably the case (specifically the <code>length</code> argument):</p>\n\n<blockquote>\n  <p>Axes3D.quiver(*args, **kwargs)\n  Plot a 3D field of arrows.</p>\n  \n  <p>call signatures:</p>\n  \n  <p>quiver(X, Y, Z, U, V, W, **kwargs) Arguments:</p>\n  \n  <p>X, Y, Z: The x, y and z coordinates of the arrow locations </p>\n  \n  <p>U, V, W: The direction vector that the arrow is pointing The arguments could be\n  array-like or scalars, so long as they they can be broadcast together.\n  The arguments can also be masked arrays. If an element in any of\n  argument is masked, then that corresponding quiver element will not be\n  plotted.</p>\n  \n  <p>Keyword arguments:</p>\n  \n  <p>length: [1.0 | float] The length of each quiver, default to 1.0, the\n  unit is the same with the axes</p>\n  \n  <p>arrow_length_ratio: [0.3 | float] The\n  ratio of the arrow head with respect to the quiver, default to 0.3 Any\n  additional keyword arguments are delegated to LineCollection</p>\n</blockquote>\n\n<p>Just for clarification, the magnitude of the vectors differs by up to a factor of 30. So there should be a very visible difference.</p>\n"}, {"tags": ["python", "excel", "file", "rows"], "comments": [{"owner": {"reputation": 448, "user_id": 4153614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095f33d30e635ec361b40886041b9153?s=128&d=identicon&r=PG&f=1", "display_name": "kponz", "link": "https://stackoverflow.com/users/4153614/kponz"}, "edited": false, "score": 0, "creation_date": 1426108809, "post_id": 28997529, "comment_id": 46243285, "body": "Have you looked into pywin32? <a href=\"http://sourceforge.net/projects/pywin32/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/pywin32</a>"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1426109049, "creation_date": 1426109049, "answer_id": 28997648, "question_id": 28997529, "link": "https://stackoverflow.com/questions/28997529/deleting-rows-in-excel-file-using-python/28997648#28997648", "title": "Deleting rows in excel file using python", "body": "<p>This doesn't answer your question, but may be of interest given your needs.</p>\n\n<blockquote>\n  <p>\"<a href=\"http://xlwings.org\" rel=\"nofollow\">xlwings</a> is a BSD-licensed Python library that makes it easy to\n  call Python from Excel and vice versa\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7472053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac003420b21c570b0ccf6f4f57470ad?s=128&d=identicon&r=PG&f=1", "display_name": "Whoa Z", "link": "https://stackoverflow.com/users/7472053/whoa-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1485530696, "creation_date": 1485530696, "answer_id": 41897397, "question_id": 28997529, "link": "https://stackoverflow.com/questions/28997529/deleting-rows-in-excel-file-using-python/41897397#41897397", "title": "Deleting rows in excel file using python", "body": "<p>If there are say 25 Excel rows from say 30 to 49 that you are checking values  and the value you are checking is in say column 10 then:</p>\n\n<p>for i in range(25):</p>\n\n<p>if sh.Cells(i+30,10).Value == \"whatever value you are checking\":</p>\n\n<pre><code>   sh.Cells(1+30,10).EntireRow.Delete()\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 3516427, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3df9184c8309b08a09c5994109e79eba?s=128&d=identicon&r=PG&f=1", "display_name": "Neel Shah", "link": "https://stackoverflow.com/users/3516427/neel-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1898, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1485530696, "creation_date": 1426108651, "last_edit_date": 1440887441, "question_id": 28997529, "link": "https://stackoverflow.com/questions/28997529/deleting-rows-in-excel-file-using-python", "title": "Deleting rows in excel file using python", "body": "<p>I have an array with various values in python. Those values belong to a column in an excel file. How can I delete all the rows from excel file containing those values? Can I delete those rows directly by using some function in excel?</p>\n"}, {"tags": ["python", "installation", "pygame", "pip"], "comments": [{"owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "edited": false, "score": 0, "creation_date": 1426108865, "post_id": 28997501, "comment_id": 46243313, "body": "Linux or Windows? What distro?"}, {"owner": {"reputation": 2873, "user_id": 1929959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/be7c8d8d01d02c41df25100e7f294234?s=128&d=identicon&r=PG", "display_name": "Mihai8", "link": "https://stackoverflow.com/users/1929959/mihai8"}, "edited": false, "score": 0, "creation_date": 1426109094, "post_id": 28997501, "comment_id": 46243451, "body": "It seems to require additional libraries, take a look on <a href=\"http://python-catalin.blogspot.ro/2015/02/install-pyopengl-with-pip-with-wheel.html\" rel=\"nofollow noreferrer\">python-catalin.blogspot.ro/2015/02/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426110852, "post_id": 28997578, "comment_id": 46244280, "body": "i&#39;m looking under pypi installation and it shows two downloads one compatible for python 2.7 and one for python 3.2. will it work with python 3.4? or is there a download i should look elsewhere for?"}, {"owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "reply_to_user": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426172796, "post_id": 28997578, "comment_id": 46271527, "body": "There are major differences between Python 2.x and 3.x, but the version for python 3.2 should work just fine with 3.4."}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426178015, "post_id": 28997578, "comment_id": 46275311, "body": "turns out there has been a lot of issues with the pip,pygame,pypi combination. apparently there may be a fix coming, but don&#39;t know when. is there another way to install pygame?"}, {"owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "reply_to_user": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426180613, "post_id": 28997578, "comment_id": 46276867, "body": "See my answer above. You don&#39;t have to use pip at all, you can install a package native to your distro. I&#39;m assuming this is on Linux, right?"}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426195475, "post_id": 28997578, "comment_id": 46284526, "body": "windows 8.1 it says in my post, 64 bit"}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426195524, "post_id": 28997578, "comment_id": 46284553, "body": "and using 32 bit python if that changes anything"}, {"owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "reply_to_user": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426196133, "post_id": 28997578, "comment_id": 46284814, "body": "Download the installer from pygame&#39;s website. See the update answer above."}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426221401, "post_id": 28997578, "comment_id": 46292415, "body": "btw thankyou for sticking with me through this, one day i will have the hang of all this lol. But still having problems. i downloaded the 1.9.2 pygame 32 bit and all. it put a folder called lib and include in my downloads which has pygame in it. what do i need to do with this from there?"}, {"owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "reply_to_user": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426266512, "post_id": 28997578, "comment_id": 46316685, "body": "Make sure you download the .msi or .exe file that are in the &quot;Windows&quot; section, not the source code. Run that file, it will start a wizard that will guide you through the installation. Once that&#39;s done, start python, and type &quot;import pygame&quot; to verify that it was installed correctly."}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426309467, "post_id": 28997578, "comment_id": 46330476, "body": "downloaded the .msi file in windows section, went through the installer. opened up my ide and used import pygame, still not working tried erasing all pygame folders and redownloading, still nothing. just says no module named &#39;pygame&#39;"}, {"owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "edited": false, "score": 0, "creation_date": 1426309848, "post_id": 28997578, "comment_id": 46330520, "body": "update, i moved the files from downloads to my python34 folder. if i do pip install pygame it says it is already satisfied. now when i try to import i get the following error.     File &quot;C:\\Python34\\Lib\\site-packages\\pygame_<i>init_</i>.py&quot;, line 95, in &lt;module&gt;     from pygame.base import * builtins.ImportError: DLL load failed: The specified module could not be found."}], "tags": [], "owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "is_accepted": false, "score": 0, "last_activity_date": 1426196027, "last_edit_date": 1426196027, "creation_date": 1426108801, "answer_id": 28997578, "question_id": 28997501, "link": "https://stackoverflow.com/questions/28997501/error-while-installing-pygame-using-pip-for-python-3-4/28997578#28997578", "title": "Error while installing pygame using pip for python 3.4", "body": "<p>It seems there is no PyPi package for pygame. On Ubuntu / Debian you should be able to simply do:</p>\n\n<pre><code>sudo apt-get install python-pygame\n</code></pre>\n\n<p>Should be similar for other package managers on other distros.</p>\n\n<p>On windows, use the <a href=\"http://www.pygame.org/download.shtml\" rel=\"nofollow\">download the provided installer</a>:</p>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "is_accepted": true, "score": 0, "last_activity_date": 1426385976, "creation_date": 1426385976, "answer_id": 29056557, "question_id": 28997501, "link": "https://stackoverflow.com/questions/28997501/error-while-installing-pygame-using-pip-for-python-3-4/29056557#29056557", "title": "Error while installing pygame using pip for python 3.4", "body": "<p>Thankyou so much for your help ventsyv, i finally figured it out. i believe it was an issue with the installer from pygames site. i found another site with a link to pygame and specifically for python 3.4.2. i now have no error messages and its working great. Thanks for putting up with me haha.</p>\n"}], "owner": {"reputation": 389, "user_id": 4660406, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fNN5s.jpg?s=128&g=1", "display_name": "Zannith", "link": "https://stackoverflow.com/users/4660406/zannith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 0, "accepted_answer_id": 29056557, "answer_count": 2, "score": 1, "last_activity_date": 1426385976, "creation_date": 1426108536, "last_edit_date": 1426110521, "question_id": 28997501, "link": "https://stackoverflow.com/questions/28997501/error-while-installing-pygame-using-pip-for-python-3-4", "title": "Error while installing pygame using pip for python 3.4", "body": "<p>Sorry, thought i edited to say i am on windows 64 bit\nWhen trying to install Pygame using pip, I get the following error:</p>\n\n<blockquote>\n  <p>\"requirement 'pygame.whl' looks like a file name, but the file does not exist pygame.whl is not a valid wheel filename.\"</p>\n</blockquote>\n\n<p>I have my file paths right and pip is working. I have attempted to install 32 bit and 64 bit pygame but neither is working. In the command prompt I enter \"pip install pygame.whl\" (I renamed the file which I don't think should matter and it is saved under downloads).</p>\n\n<p>How can I resolve this error?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1426108865, "post_id": 28997482, "comment_id": 46243314, "body": "I believe this answer (<a href=\"http://stackoverflow.com/a/16399202/42346\">stackoverflow.com/a/16399202/42346</a>) will help with the &quot;normed&quot; portion of your question."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1426109008, "post_id": 28997482, "comment_id": 46243398, "body": "If that fails please include in your question a self-contained runnable example that we can test, thank you."}], "owner": {"reputation": 23, "user_id": 3515945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca67b3758bd797fa31dbe3f0e0d0e4?s=128&d=identicon&r=PG&f=1", "display_name": "nk_science", "link": "https://stackoverflow.com/users/3515945/nk-science"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426108561, "creation_date": 1426108466, "last_edit_date": 1426108561, "question_id": 28997482, "link": "https://stackoverflow.com/questions/28997482/normed-stacked-options-in-matplotlib-pyplot-hist", "title": "normed &amp; stacked options in matplotlib.pyplot.hist", "body": "<p>Hi I have a data set for which I am using hist available in matplotlib.pyplot:</p>\n\n<pre><code>In [182]: entries, bin_edges, patches = plt.hist(d[w], bins = 50, normed = True, \n                                                 stacked = True)\n</code></pre>\n\n<p>I obtain a histogram instead of probability density which means \"normed\" or \"stacked\" does not work. </p>\n\n<p>Am I missing something? </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "is_accepted": false, "score": 1, "last_activity_date": 1426109632, "last_edit_date": 1495539820, "creation_date": 1426109632, "answer_id": 28997818, "question_id": 28997418, "link": "https://stackoverflow.com/questions/28997418/include-0-values-when-using-values-and-count-in-django/28997818#28997818", "title": "Include 0 values when using values() and Count() in django", "body": "<p>To me this sounds more like a problem with the graph rather than the a problem on a query level. However if you really want to solve this on a query level you need to do something similar with the answer given here <a href=\"https://stackoverflow.com/questions/2157282/generate-days-from-date-range\">generate days from date range</a>. It will be ugly yes. Maybe solve this on a python level? More on the python solution here <a href=\"https://stackoverflow.com/questions/10688006/generate-a-list-of-datetimes-between-an-interval-in-python\">Generate a list of datetimes between an interval in python</a></p>\n"}, {"tags": [], "owner": {"reputation": 1593, "user_id": 759573, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6eb6ca097eed8ddcaf1e5b188c16671e?s=128&d=identicon&r=PG", "display_name": "ignacio.munizaga", "link": "https://stackoverflow.com/users/759573/ignacio-munizaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1426110203, "last_edit_date": 1426110203, "creation_date": 1426109855, "answer_id": 28997875, "question_id": 28997418, "link": "https://stackoverflow.com/questions/28997418/include-0-values-when-using-values-and-count-in-django/28997875#28997875", "title": "Include 0 values when using values() and Count() in django", "body": "<p>I would recomend to use only django queries to obtain the data from the database, and then you can process it. </p>\n\n<p>So, I would something like this:</p>\n\n<pre><code>import datetime\n\ndef daterange(start_date, end_date):\n    \"\"\" \n    Generate an iterator of dates between the two given dates. \n    taken from http://stackoverflow.com/questions/1060279/\n    \"\"\" \n    for n in range(int ((end_date - start_date).days)):\n        yield start_date + datetime.timedelta(n)\n\ndef get_graph_data(start_date, end_date):\n    query = MyModel.objects.all().annotate(models.Count(\"id\"))\n    data = query.values('created_at', 'id__count')\n\n    # go through all the dates between start_date and end_date\n    # and fill the missing gaps with 0 \n    return dict((d, data[d] if d in data else 0) for d in daterange(t, to))        \n</code></pre>\n"}], "owner": {"reputation": 1504, "user_id": 672229, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4lHr6.jpg?s=128&g=1", "display_name": "Steven Rogers", "link": "https://stackoverflow.com/users/672229/steven-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 1, "accepted_answer_id": 28997875, "answer_count": 2, "score": 0, "last_activity_date": 1426110203, "creation_date": 1426108227, "question_id": 28997418, "link": "https://stackoverflow.com/questions/28997418/include-0-values-when-using-values-and-count-in-django", "title": "Include 0 values when using values() and Count() in django", "body": "<p>I was not quite sure how to word the question.</p>\n\n<p>I am trying to make a method in django that queries up objects based on the date they were created at. I plan to use this data to generate a graph.</p>\n\n<p>So far, I am using this:</p>\n\n<pre><code>query.extra(select={\"day\": \"DATE(created_at)\"}).values('day').annotate(models.Count(\"id\"))\n</code></pre>\n\n<p>That works perfectly given that there is at least 1 per day. Without that 1 in each day, it skips the day in my graph.</p>\n\n<p>I would like to avoid looping day by day if possible. This method goes over quite a few days.</p>\n\n<p>Is there an easy way to modify this to include when there are 0 objects in a given day?\nWhat would be the best way to go about this?</p>\n"}, {"tags": ["python", "unit-testing", "decorator", "python-decorators"], "answers": [{"comments": [{"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426109731, "post_id": 28997612, "comment_id": 46243770, "body": "Yes, that&#39;s correct.  I guess my next question would be, how do I test mymethod without the decorator?  It looks like I can patch the decorator, but it&#39;s not all that straightforward.  I&#39;ll have to read up on it."}, {"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "reply_to_user": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426110677, "post_id": 28997612, "comment_id": 46244187, "body": "Try mock <code>tryagain</code> and set its return value as the same input function, then test <code>mymethod</code>. That&#39;s practically without any decoration effects. After that, mock <code>mymethod</code> and test <code>tryagain</code>."}, {"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426113155, "post_id": 28997612, "comment_id": 46245209, "body": "I&#39;ll give this a try."}, {"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "reply_to_user": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426115329, "post_id": 28997612, "comment_id": 46246076, "body": "If you&#39;re serious about unittest, mock is definitely worth to learn, and I think it&#39;s well suited to your need in this particular case."}, {"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426180267, "post_id": 28997612, "comment_id": 46276681, "body": "Yeah, I&#39;d started using mock for the first time on this project, so I&#39;m a little familiar, but there are still things I&#39;m learning.  I was finally able to figure out where to properly patch the decorator after some work last night, and I think that&#39;s the way to go."}], "tags": [], "owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "is_accepted": true, "score": 1, "last_activity_date": 1426108927, "creation_date": 1426108927, "answer_id": 28997612, "question_id": 28997412, "link": "https://stackoverflow.com/questions/28997412/passing-different-values-to-decorators-for-unit-tests-in-python/28997612#28997612", "title": "Passing different values to decorators for unit tests in Python", "body": "<p>I assume you try to reduce the number of retrials to increase test speed.</p>\n\n<p>If so, modifying the number of retries variable doesn't seem to be the best approach. Instead, you could unit test the function <code>mymethod</code> without decorator first, and then create a mock function of <code>mymethod</code>. Let's call it <code>mock_mymethod</code>, decorate it with <code>@tryagain</code> and test if the logic of `tryagain actually works.</p>\n\n<p>Check the <a href=\"http://www.voidspace.org.uk/python/mock/\" rel=\"nofollow\"><code>mock</code></a> module to see how to create a mock instance, this <a href=\"http://www.toptal.com/python/an-introduction-to-mocking-in-python\" rel=\"nofollow\">article</a> about <code>mock</code> is also worth reading.</p>\n"}, {"comments": [{"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426113012, "post_id": 28998198, "comment_id": 46245151, "body": "I think setting the environmental variable will do what I want.  Maybe it was unclear, but I&#39;m trying to get around (or shorten) the time it takes for me to run my unit tests.  I want @tryagain to decorate the production code, because I want &quot;mymethod&quot; to be called again if it fails the first time.  I do not want it firing off when running my tests, because when testing certain fail cases, it takes a long time to come back (it has a backoff time)."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "reply_to_user": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1426113846, "post_id": 28998198, "comment_id": 46245468, "body": "Oh, so <code>@tryagain</code> isn&#39;t a test decorator, but a production decorator that you want to modify the argument to when you&#39;re testing -- understood.  Ignore the second part of the answer then."}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 1, "last_activity_date": 1426111106, "creation_date": 1426111106, "answer_id": 28998198, "question_id": 28997412, "link": "https://stackoverflow.com/questions/28997412/passing-different-values-to-decorators-for-unit-tests-in-python/28998198#28998198", "title": "Passing different values to decorators for unit tests in Python", "body": "<p>You could use an environment variable, set from your calling code (it might be good to put a default in here</p>\n\n<pre><code>import os\n# ...\nclass MyClass(object):\n    @tryagain(retries=int(os.environ['project_num_retries']))\n    def mymethod(self, arg):\n        print(\"mymethod\")\n</code></pre>\n\n<p>Or use a \"globals\"-type module, for example: <code>project_settings.py</code> containing:</p>\n\n<pre><code>num_retries = 3\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>import project_settings\n\nclass MyClass(object):\n    @tryagain(retries=project_settings.num_retries)\n    def mymethod(self, arg):\n        print(\"mymethod\")\n</code></pre>\n\n<p>But I'm not sure decorating your code with test information is how you really should go about it -- what about:</p>\n\n<pre><code>class MyClass(object):\n    def mymethod(self, arg):\n        print(\"mymethod\")\n</code></pre>\n\n<p>Then in something like <code>unittests.py</code>:</p>\n\n<pre><code>DEV_TESTS = True  # Change to False for production\nnum_retries = 3 if not DEV_TESTS else 1\n\nimport &lt;your class&gt;\nclass UnitTests():\n    def __init__(self):\n        self.c = &lt;your_class&gt;.MyClass()\n\n    @tryagain(retries=num_retries)\n    def test_mymethod(self):\n        self.c.mymethod(\"Foo\")\n\nt = UnitTests()\nt.test_mymethod()\n</code></pre>\n\n<p>If you were so inclined, this <code>unittests.py</code> could be used with something like python's <a href=\"https://docs.python.org/2/library/unittest.html\" rel=\"nofollow\"><code>unittest</code> package</a> with:</p>\n\n<pre><code>DEV_TESTS = True  # Change to False for production\nnum_retries = 3 if not DEV_TESTS else 1\n\nimport unittest\nimport &lt;your class&gt;\nclass UnitTests(unittest.TestCase):\n    def setUp(self):\n        self.c = &lt;your class&gt;.MyClass()\n\n    @tryagain(retries=num_retries)\n    def test_mymethod(self):\n        self.c.mymethod(\"Foo\")\n</code></pre>\n\n<hr>\n\n<p>Note, I used the following simple example of a <code>@tryagain</code> decorator, yours may be more complicated and require some tuning of the examples:</p>\n\n<pre><code>def tryagain(retries):\n    def wrap(f):\n        def wrapped_f(*args,**kwargs):\n            for _ in xrange(retries):\n                f(*args,**kwargs)\n        return wrapped_f\n    return wrap\n</code></pre>\n"}], "owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 0, "accepted_answer_id": 28997612, "answer_count": 2, "score": 0, "last_activity_date": 1426111106, "creation_date": 1426108205, "question_id": 28997412, "link": "https://stackoverflow.com/questions/28997412/passing-different-values-to-decorators-for-unit-tests-in-python", "title": "Passing different values to decorators for unit tests in Python", "body": "<p>I have a situation where I'm trying to modify the arguments passed to a decorator on one of my class methods.  The code looks something like this:</p>\n\n<pre><code>class MyClass(object):\n  @tryagain(retries=3)\n  def mymethod(self, arg):\n    ... do stuff ...\n</code></pre>\n\n<p>My problem is I'd like to alter the <strong>\"retries\"</strong> variable to something less than 3 when running my unit tests, but keep it at \"3\" for the production code.  Unfortunately, it doesn't look like I can do something like this:</p>\n\n<pre><code>  @tryagain(retries=self.retries)\n  def mymethod(self, arg):\n    ... do stuff ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  @tryagain(retries=MyClass.retries)\n  def mymethod(self, arg):\n    ... do stuff ...\n</code></pre>\n\n<p>because the class isn't defined at the point the arguments are passed to the decorator (as near as I can tell).</p>\n\n<p>I also tried to add the variable within the module like so:</p>\n\n<pre><code>retries = 1\ndef MyClass(object):\n    @tryagain(retries=retries)\n    def mymethod(self, arg):\n      ... do stuff ...\n</code></pre>\n\n<p>but then I can't seem to modify the value of \"retries\" from within my unit tests.  Is there another way to accomplish what I'm trying to do?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 2666, "user_id": 5587034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657986f8e01b81bb19bc15301066acbd?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Mackintosh", "link": "https://stackoverflow.com/users/5587034/glenn-mackintosh"}, "edited": false, "score": 0, "creation_date": 1600363400, "post_id": 28997397, "comment_id": 113071892, "body": "As noted in my recently added answer below, the docs were incorrect but have now been corrected. The attribute is <code>self._layer</code> <b>NOT</b> <code>self.layer</code>."}], "answers": [{"comments": [{"owner": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "edited": false, "score": 0, "creation_date": 1426162963, "post_id": 28998584, "comment_id": 46264462, "body": "Works great, thanks! Regarding the use of multiple groups: for the drawing, indeed it is not necessary. But if you handle collisions using groups, I think it might be useful. For example if only half your sprites can be collided with, putting only them in a &quot;collision&quot; group (or &quot;trees&quot; in my example) makes it so that the collision handling has half as many collisions to compute."}, {"owner": {"reputation": 338, "user_id": 4206450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377bb381eea3dd490cd2c9a7921a3d8b?s=128&d=identicon&r=PG&f=1", "display_name": "cweb", "link": "https://stackoverflow.com/users/4206450/cweb"}, "reply_to_user": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "edited": false, "score": 0, "creation_date": 1426294631, "post_id": 28998584, "comment_id": 46328242, "body": "@jerorx Now I see your point.  For doing this, I usually make separate groups for different types of objects.  I add the sprite to both groups.  I have one main sprite group that I use to update and draw, and others for collisions.  So in the init method I would put <code>sprites.add(self, layer = x)</code> and <code>enemies.add(self)</code>."}, {"owner": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "edited": false, "score": 0, "creation_date": 1426437328, "post_id": 28998584, "comment_id": 46362348, "body": "Indeed, I fully agree : since my last post I kept toying around and I reached the same approach as you : one LayeredDirty group containing all sprites for display, and several standard Groups containing some subsets of the sprites for collision management and all. ;)"}], "tags": [], "owner": {"reputation": 338, "user_id": 4206450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377bb381eea3dd490cd2c9a7921a3d8b?s=128&d=identicon&r=PG&f=1", "display_name": "cweb", "link": "https://stackoverflow.com/users/4206450/cweb"}, "is_accepted": true, "score": 2, "last_activity_date": 1426112903, "creation_date": 1426112903, "answer_id": 28998584, "question_id": 28997397, "link": "https://stackoverflow.com/questions/28997397/pygame-use-of-pygame-sprite-layeredupdates/28998584#28998584", "title": "PyGame: use of pygame.sprite.LayeredUpdates()", "body": "<p>I had the same problem for one of my own programs.  I don't know why but a layer attribute is not recognized by the sprite group. My solution was to pass the layer to the group.add() method using a key word argument like so:</p>\n\n<pre><code>class player(pygame.sprite.Sprite):\n    layer = 1\n    def __init__ (self):\n        pygame.sprire.Sprite.__init__(self)\n        sprites.add(self, layer = self.layer)\n</code></pre>\n\n<p>I like to add a sprite to a group in the <strong>init</strong> method for convenience.</p>\n\n<p>I don't think it is necessary to have multiple groups with layering.  Drawing for one group is more convenient, and a LayeredUpdate group would take care of all the layering.</p>\n"}, {"tags": [], "owner": {"reputation": 2666, "user_id": 5587034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657986f8e01b81bb19bc15301066acbd?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Mackintosh", "link": "https://stackoverflow.com/users/5587034/glenn-mackintosh"}, "is_accepted": false, "score": 2, "last_activity_date": 1588706079, "last_edit_date": 1588706079, "creation_date": 1586883596, "answer_id": 61213154, "question_id": 28997397, "link": "https://stackoverflow.com/questions/28997397/pygame-use-of-pygame-sprite-layeredupdates/61213154#61213154", "title": "PyGame: use of pygame.sprite.LayeredUpdates()", "body": "<p>Just spent some time working with pygame.sprite.LayeredUpdates() myself. </p>\n\n<p>I know this is very late but I saw this post when I was looking to figure out how to use this myself. I worked it out and wanted to answer this in the hopes of helping out the next guy.</p>\n\n<p>The attribute inside the sprite has to be named <strong>self._layer</strong> not self.layer. Note the leading underscore in the name. </p>\n\n<p>That is not what I was expecting and the documentation says \"If the sprite you add has an attribute layer then that layer will be used\", which does not actually tell you the proper name of the attribute but seems to suggest that it would be 'layer', though it isn't.</p>\n\n<p>If you use <strong>self._layer</strong>, the sprite layers works as expected without having to pass it through the add() call.</p>\n\n<p>In your code you would need:</p>\n\n<pre><code>class Player(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self, self.groups)\n        ...\n        self._layer = 2\n\nclass Tree(pygame.sprite.Sprite):\n    def __init__(self, screen_size, tree_id):\n        pygame.sprite.Sprite.__init__(self, self.groups)\n        ...\n        self._layer = 1\n</code></pre>\n\n<p>and it should work.</p>\n\n<p>Edit:</p>\n\n<p>I have just had this corrected in the <a href=\"https://www.pygame.org/docs/ref/sprite.html#pygame.sprite.LayeredUpdates\" rel=\"nofollow noreferrer\">pygame.sprite.LayeredUpdates docs</a>, so people probably will no longer need to come looking here to find this answer.</p>\n"}], "owner": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 0, "accepted_answer_id": 28998584, "answer_count": 2, "score": 1, "last_activity_date": 1588706079, "creation_date": 1426108130, "last_edit_date": 1592644375, "question_id": 28997397, "link": "https://stackoverflow.com/questions/28997397/pygame-use-of-pygame-sprite-layeredupdates", "title": "PyGame: use of pygame.sprite.LayeredUpdates()", "body": "<p>I had a look at the documentation and tried to find examples online but I didn't manage to layer my sprites. Here is parts of the code:</p>\n<pre><code>class Player(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self, self.groups)\n        ...\n        self.layer = 2\n \nclass Tree(pygame.sprite.Sprite):\n    def __init__(self, screen_size, tree_id):\n        pygame.sprite.Sprite.__init__(self, self.groups)\n        ...\n        self.layer = 1\n    \n    \n\npygame.init()\n...\n\nsprites = pygame.sprite.LayeredUpdates()\nplayers = pygame.sprite.LayeredUpdates()\ntrees = pygame.sprite.LayeredUpdates()\n\nPlayer.groups = sprites, players\nTree.groups = sprites, trees\n...\n    \nmario = Player() \nnbtrees = 10\n[Tree(size, x) for x in range(1,nbtrees+1)]\n\n\nwhile 1:\n    ...\n\n    sprites.clear(screen,background)\n    sprites.draw(screen)\n    pygame.display.flip()\n</code></pre>\n<p>I removed the irrelevant parts,  event handling, collision detection and so on. The thing is, it works super fine ; the management of the collisions using the group <code>trees</code> for example goes smoothly, which seems to indicate that the groups are ok. The only problem is: whatever the values I set in the <code>Player</code> and <code>Tree</code> classes for <code>self.layer</code>, the trees (all the trees) always blit above the player.</p>\n<p>The <a href=\"http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.LayeredUpdates\" rel=\"nofollow noreferrer\">documentation</a> indicates several ways to specify layers, including the following:\n&quot;If the sprite you add has an attribute layer then that layer will be used.&quot;\nWhich is precisely what I do, without success.</p>\n<p>Note that I don't really &quot;add&quot; the sprites to the group ; I assign the groups to the classes of my sprites, because that's what I used to do with <code>pygame.sprite.Group()</code>, which is convenient and normally comes to the same. I tried using the <code>add()</code> method of the groups but it didn't change anything.</p>\n<p>I guess that maybe I don't initialize the groups properly, but it is strange that everything works, except the layering. I would very much appreciate some working example.</p>\n"}, {"tags": ["python", "pandas", "time-series", "shift"], "answers": [{"comments": [{"owner": {"reputation": 753, "user_id": 3591836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/da5cfdd791f4da1566811fde3e575432?s=128&d=identicon&r=PG&f=1", "display_name": "user3591836", "link": "https://stackoverflow.com/users/3591836/user3591836"}, "edited": false, "score": 0, "creation_date": 1426123356, "post_id": 28997816, "comment_id": 46248512, "body": "Thanks! I had searched  SO for other answers but somehow missed that one."}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 4, "last_activity_date": 1426110424, "last_edit_date": 1495542574, "creation_date": 1426109625, "answer_id": 28997816, "question_id": 28997367, "link": "https://stackoverflow.com/questions/28997367/pandas-shift-time-series-with-missing-values/28997816#28997816", "title": "pandas shift time series with missing values", "body": "<pre><code>In [588]: df = pd.DataFrame({ 'date':[2000,2001,2003,2004,2005,2007],\n                              'value':[5,10,8,72,12,13] })\n\nIn [589]: df['previous_value'] = df.value.shift()[ df.date == df.date.shift() + 1 ]\n\nIn [590]: df\nOut[590]: \n   date  value  previous_value\n0  2000      5             NaN\n1  2001     10               5\n2  2003      8             NaN\n3  2004     72               8\n4  2005     12              72\n5  2007     13             NaN\n</code></pre>\n\n<p>Also see here for a time series approach using <code>resample()</code>:  <a href=\"https://stackoverflow.com/questions/25388189/using-shift-with-unevenly-spaced-data\">Using shift() with unevenly spaced data</a></p>\n"}], "owner": {"reputation": 753, "user_id": 3591836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/da5cfdd791f4da1566811fde3e575432?s=128&d=identicon&r=PG&f=1", "display_name": "user3591836", "link": "https://stackoverflow.com/users/3591836/user3591836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 1, "accepted_answer_id": 28997816, "answer_count": 1, "score": 3, "last_activity_date": 1426110455, "creation_date": 1426107978, "last_edit_date": 1426108676, "question_id": 28997367, "link": "https://stackoverflow.com/questions/28997367/pandas-shift-time-series-with-missing-values", "title": "pandas shift time series with missing values", "body": "<p>I have a times series with some missing entries, that looks like this:</p>\n\n<pre><code>date     value\n---------------\n2000       5\n2001      10\n2003      8\n2004      72\n2005      12\n2007      13\n</code></pre>\n\n<p>I would like to do create a column for the \"previous_value\". But I only want it to show values for consecutive years. So I want it to look like this:</p>\n\n<pre><code>date     value    previous_value\n-------------------------------\n2000       5        nan\n2001      10         5\n2003      8         nan\n2004      72         8\n2005      12        72\n2007      13        nan\n</code></pre>\n\n<p>However just applying pandas shift function directly to the column 'value' would give 'previous_value' = 10  for 'time' = 2003, and 'previous_value' = 12 for 'time' = 2007.</p>\n\n<p>What's the most elegant way to deal with this in pandas? (I'm not sure if it's as easy as setting the 'freq' attribute).</p>\n"}, {"tags": ["python", "gmpy"], "answers": [{"comments": [{"owner": {"reputation": 1459, "user_id": 1354877, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1072adee1bc68656bfc9598d65445623?s=128&d=identicon&r=PG", "display_name": "Broseph", "link": "https://stackoverflow.com/users/1354877/broseph"}, "edited": false, "score": 0, "creation_date": 1426119233, "post_id": 28998255, "comment_id": 46247417, "body": "Thanks! I did a bit of quick googling, and updated my code snippet with your suggested function. If you have any more suggestions please let me know :) ."}], "tags": [], "owner": {"reputation": 10318, "user_id": 224574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a316666f495f55def1c7a7babe1f1?s=128&d=identicon&r=PG", "display_name": "casevh", "link": "https://stackoverflow.com/users/224574/casevh"}, "is_accepted": true, "score": 3, "last_activity_date": 1426111396, "creation_date": 1426111396, "answer_id": 28998255, "question_id": 28997364, "link": "https://stackoverflow.com/questions/28997364/is-gmpy2-suitable-for-implementing-rsa-in-python/28998255#28998255", "title": "Is gmpy2 suitable for implementing RSA in python?", "body": "<p>Disclaimer: I maintain <code>gmpy2</code>.</p>\n\n<p>I would recommend using <code>gmpy2.is_bpsw_prp</code> instead of <code>gmpy2.next_prime</code>. The BPSW test will be faster and there are no known counter-examples. The <code>is_prime</code> and <code>next_prime</code> checks used to use, and may still use, a fixed set of bases and it is possible to composites that pass a series of known tests. IIRC, someone found a composite that passed the first 17 checks. By default, 25 checks are done but it is a weakness.</p>\n\n<p>I am planning to include an APR-CL provable primality test in the next release of <code>gmpy2</code>.</p>\n\n<p>There are specific guidelines for selecting RSA primes that should be followed to prevent accidentally choosing primes that create an <code>n</code> that can be easily factored.</p>\n"}], "owner": {"reputation": 1459, "user_id": 1354877, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1072adee1bc68656bfc9598d65445623?s=128&d=identicon&r=PG", "display_name": "Broseph", "link": "https://stackoverflow.com/users/1354877/broseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 28998255, "answer_count": 1, "score": 2, "last_activity_date": 1426113293, "creation_date": 1426107963, "last_edit_date": 1426113293, "question_id": 28997364, "link": "https://stackoverflow.com/questions/28997364/is-gmpy2-suitable-for-implementing-rsa-in-python", "title": "Is gmpy2 suitable for implementing RSA in python?", "body": "<p>More specifically, is the <code>gmpy2.next_prime</code> function good enough to find the large primes needed? Or should I be using one of the other many <code>gmpy2.*_prp</code> functions?</p>\n\n<p>For example, is the following code good enough for finding suitable primes for encryption?</p>\n\n<pre><code>import os\nimport gmpy2\n\ndef random(bytez):\n    seed = reduce(lambda a, b: (a &lt;&lt; 8)|ord(b), os.urandom(bytez), 0)\n    return gmpy2.mpz_urandomb(gmpy2.random_state(seed), bytez*8)\n\ndef find_prime(bytez=128):\n    p = random(bytez)|1\n    while not gmpy2.is_bpsw_prp(p):\n        p = random(bytez)|1\n    return p\n\ndef good_pair(p, q):\n    n = p*q\n    k = gmpy2.ceil(gmpy2.log2(n))\n    if abs(p - q) &gt; 2**(k/2 - 100):\n        return n\n    return 0\n\ndef make_rsa_keypair():\n    p, q = find_prime(), find_prime()\n    n = good_pair(p, q)\n    while not n:\n        p, q = find_prime(), find_prime()\n        n = good_pair(p, q)\n    tot = n - (p + q - 1)\n    e = (1 &lt;&lt; 16) + 1\n    d = gmpy2.invert(e, tot)\n    return {\n        'public':{\n            'n':n,\n            'e':e,\n            },\n        'private':{\n            'n':n,\n            'd':d,\n            }\n        }\n</code></pre>\n\n<p><strong>UPDATE</strong>: updated the code with the suggestion.</p>\n"}, {"tags": ["python", "python-3.x", "levenshtein-distance", "cpython"], "comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 2, "creation_date": 1426109335, "post_id": 28997233, "comment_id": 46243594, "body": "You have not asked a question, and I do not see one that could be answered here.  Report this to the &quot;application&#39;s support team&quot; (author?, mail list?) as suggested.  There seems to be a bug in the C code."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1458028681, "post_id": 28997233, "comment_id": 59662623, "body": "@TerryJanReedy alas I am the &quot;support team&quot; :D"}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 1, "last_activity_date": 1426453634, "last_edit_date": 1426453634, "creation_date": 1426324403, "answer_id": 29047278, "question_id": 28997233, "link": "https://stackoverflow.com/questions/28997233/python-levenshtein-distance-error-assertion-failed/29047278#29047278", "title": "Python-Levenshtein Distance Error &quot;Assertion failed!&quot;", "body": "<p>This answer is just a partial one, I do not have Windows myself so I cannot debug the bug. However just looking at the source code leads to the conclusion that \"this bug is impossibru\" - possibly a compiler bug, or really nasty case of UB, or something.</p>\n\n<p>There could be something wrong with how your extension gets compiled. Before <a href=\"https://github.com/ztane/python-Levenshtein/blob/master/Levenshtein/_levenshtein.c#L726\" rel=\"nofollow\">the line 726</a>, there are checks on lines 722 and 723 that explicitly check that the arguments are Unicode objects or subclasses thereof (if they are not, then the  entire <code>if</code> gets skipped and line 726 does not get run);</p>\n\n<pre><code>722 else if (PyObject_TypeCheck(arg1, &amp;PyUnicode_Type)\n723     &amp;&amp; PyObject_TypeCheck(arg2, &amp;PyUnicode_Type)) {\n724   Py_UNICODE *string1, *string2;\n725\n726   len1 = PyUnicode_GET_SIZE(arg1);\n727   len2 = PyUnicode_GET_SIZE(arg2);\n728   *lensum = len1 + len2;\n729   string1 = PyUnicode_AS_UNICODE(arg1);\n730   string2 = PyUnicode_AS_UNICODE(arg2);\n</code></pre>\n\n<p><a href=\"https://hg.python.org/cpython/file/3.4/Include/unicodeobject.h#l399\" rel=\"nofollow\"><code>PyUnicode_GET_SIZE</code></a> has 2 assert statements, and both of them get inlined to line <code>726</code>:</p>\n\n<pre><code>#define PyUnicode_GET_SIZE(op)                       \\\n    (assert(PyUnicode_Check(op)),                    \\\n     (((PyASCIIObject *)(op))-&gt;wstr) ?               \\\n      PyUnicode_WSTR_LENGTH(op) :                    \\\n      ((void)PyUnicode_AsUnicode((PyObject *)(op)),  \\\n       assert(((PyASCIIObject *)(op))-&gt;wstr),        \\\n       PyUnicode_WSTR_LENGTH(op)))\n</code></pre>\n\n<p>The first one asserts that the object indeed is an Unicode object or subclass thereof by checking the return value of <a href=\"https://hg.python.org/cpython/file/3.4/Include/unicodeobject.h#l382\" rel=\"nofollow\"><code>PyUnicode_Check</code></a>:</p>\n\n<pre><code> #define PyUnicode_Check(op) \\\n             PyType_FastSubclass(Py_TYPE(op), Py_TPFLAGS_UNICODE_SUBCLASS)\n</code></pre>\n\n<p>The second one asserts that the <code>PyUnicode_AsUnicode(op)</code> sets the <code>wstr</code> member properly. The <code>PyUnicode_Check(arg1)</code> in your error output points to the fact that the first one fails here.</p>\n\n<p>Now the funny part is that it shouldn't be possible to fail; the <code>PyObject_TypeCheck</code> succeeded, and it <em>is</em> a Unicode object (Python 3 <code>str</code>) so the assertion should also be a no-op.</p>\n"}], "owner": {"reputation": 944, "user_id": 1914263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3RuTS.png?s=128&g=1", "display_name": "Delicious", "link": "https://stackoverflow.com/users/1914263/delicious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1426453634, "creation_date": 1426107512, "last_edit_date": 1426362415, "question_id": 28997233, "link": "https://stackoverflow.com/questions/28997233/python-levenshtein-distance-error-assertion-failed", "title": "Python-Levenshtein Distance Error &quot;Assertion failed!&quot;", "body": "<p>I'm using Python 3.4.1 from Anaconda <code>'3.4.1 |Anaconda 2.1.0 (64-bit)| (default, Sep 24 2014, 18:32:42) [MSC v.1600 64 bit (AMD64)]'</code> Windows 8 machine.</p>\n\n<p>I installed the package with <code>pip install python-Levenshtein</code> all smooth no errors. (version 0.12.0)</p>\n\n<p>But then I tried to use it:</p>\n\n<pre><code>import Levenshtein as lvn\nprint(lvn.ratio('a', 'A'))\n\n# This application has requested the Runtime to terminate it in an unusual way.\n# Please contact the application's support team for more information.\n# Assertion failed!\n# \n# Program: C:\\Users\\Me\\Anaconda-P3.x-64b\\python.exe\n# File: Levenshtein/_levenshtein.c, Line 726\n# \n# Expression: PyUnicode_Check(arg1)\n# \n# Process finished with exit code 3\n</code></pre>\n\n<p>I tried <code>print(lvn.ratio.__doc__)</code> and it prints the docs just fine. \nWhat am I missing to make this work? Is this an issue with the specific version of Python I have, compiler bug, or a bug in the Levenshtein library</p>\n\n<p>The Levenshtein module source code is available at <a href=\"https://github.com/ztane/python-Levenshtein/blob/c4d112c7147391a62b46403522057998157740f4/Levenshtein/_levenshtein.c#L726\" rel=\"nofollow\">Github</a>; the crashing line 726 being:</p>\n\n<pre><code>722 else if (PyObject_TypeCheck(arg1, &amp;PyUnicode_Type)\n723     &amp;&amp; PyObject_TypeCheck(arg2, &amp;PyUnicode_Type)) {\n724   Py_UNICODE *string1, *string2;\n725\n726   len1 = PyUnicode_GET_SIZE(arg1);   // &lt;-- assertion failure here\n727   len2 = PyUnicode_GET_SIZE(arg2);\n728   *lensum = len1 + len2;\n729   string1 = PyUnicode_AS_UNICODE(arg1);\n730   string2 = PyUnicode_AS_UNICODE(arg2);\n</code></pre>\n\n<p><hr>\nI was able to reproduce this error on another Windows 8 machine with a fresh install of Python 3.4 (from Anaconda package - same package from my post)\nTesting some other methods:\n<code>distance()</code> - Exact same error.\n<code>hamming()</code> - Same error but on line 805.\n<code>jaro()</code> - Same error but on line 848.\n<br>\n<hr>\nI tried to install python-Levenshtein on Python 2.7 this time and I did get some warnings...</p>\n\n<pre><code>C:\\Users\\Thomaz\\Anaconda32b\\Scripts&gt;pip.exe install python-Levenshtein\nCollecting python-Levenshtein\n  Using cached python-Levenshtein-0.12.0.tar.gz\nRequirement already satisfied (use --upgrade to upgrade): setuptools in c:\\users\n\\thomaz\\anaconda32b\\lib\\site-packages\\setuptools-5.8-py2.7.egg (from python-Leve\nnshtein)\nInstalling collected packages: python-Levenshtein\n  Running setup.py install for python-Levenshtein\n    building 'Levenshtein._levenshtein' extension\n    C:\\MinGW\\bin\\gcc.exe -mdll -O -Wall -IC:\\Users\\Thomaz\\Anaconda32b\\include -I\nC:\\Users\\Thomaz\\Anaconda32b\\PC -c Levenshtein/_levenshtein.c -o build\\temp.win32\n-2.7\\Release\\levenshtein\\_levenshtein.o\n    Levenshtein/_levenshtein.c: In function 'levenshtein_common':\n    Levenshtein/_levenshtein.c:711:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:712:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'hamming_py':\n    Levenshtein/_levenshtein.c:796:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:797:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'jaro_py':\n    Levenshtein/_levenshtein.c:840:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:841:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'jaro_winkler_py':\n    Levenshtein/_levenshtein.c:890:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:891:13: warning: pointer targets in assignment di\nffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'median_common':\n    Levenshtein/_levenshtein.c:992:7: warning: pointer targets in passing argume\nnt 1 of 'PyString_FromStringAndSize' differ in signedness [-Wpointer-sign]\n           result = PyString_FromStringAndSize(medstr, len);\n           ^\n    In file included from C:\\Users\\Thomaz\\Anaconda32b\\include/Python.h:94:0,\n                     from Levenshtein/_levenshtein.c:99:\n    C:\\Users\\Thomaz\\Anaconda32b\\include/stringobject.h:62:24: note: expected 'co\nnst char *' but argument is of type 'lev_byte *'\n     PyAPI_FUNC(PyObject *) PyString_FromStringAndSize(const char *, Py_ssize_t)\n;\n                            ^\n    Levenshtein/_levenshtein.c: In function 'median_improve_common':\n    C:\\Users\\Thomaz\\Anaconda32b\\include/stringobject.h:91:32: warning: pointer t\nargets in initialization differ in signedness [-Wpointer-sign]\n     #define PyString_AS_STRING(op) (((PyStringObject *)(op))-&gt;ob_sval)\n                                    ^\n    Levenshtein/_levenshtein.c:1071:19: note: in expansion of macro 'PyString_AS\n_STRING'\n         lev_byte *s = PyString_AS_STRING(arg1);\n                       ^\n    Levenshtein/_levenshtein.c:1077:7: warning: pointer targets in passing argum\nent 1 of 'PyString_FromStringAndSize' differ in signedness [-Wpointer-sign]\n           result = PyString_FromStringAndSize(medstr, len);\n           ^\n    In file included from C:\\Users\\Thomaz\\Anaconda32b\\include/Python.h:94:0,\n                     from Levenshtein/_levenshtein.c:99:\n    C:\\Users\\Thomaz\\Anaconda32b\\include/stringobject.h:62:24: note: expected 'co\nnst char *' but argument is of type 'lev_byte *'\n     PyAPI_FUNC(PyObject *) PyString_FromStringAndSize(const char *, Py_ssize_t)\n;\n                            ^\n    Levenshtein/_levenshtein.c: In function 'extract_stringlist':\n    Levenshtein/_levenshtein.c:1201:16: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         strings[0] = PyString_AS_STRING(first);\n                    ^\n    Levenshtein/_levenshtein.c:1213:18: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n           strings[i] = PyString_AS_STRING(item);\n                      ^\n    Levenshtein/_levenshtein.c: In function 'editops_py':\n    Levenshtein/_levenshtein.c:1650:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:1651:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'opcodes_py':\n    Levenshtein/_levenshtein.c:1768:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:1769:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c: In function 'apply_edit_py':\n    Levenshtein/_levenshtein.c:1863:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string1 = PyString_AS_STRING(arg1);\n                 ^\n    Levenshtein/_levenshtein.c:1864:13: warning: pointer targets in assignment d\niffer in signedness [-Wpointer-sign]\n         string2 = PyString_AS_STRING(arg2);\n                 ^\n    Levenshtein/_levenshtein.c:1878:7: warning: pointer targets in passing argum\nent 1 of 'PyString_FromStringAndSize' differ in signedness [-Wpointer-sign]\n           result = PyString_FromStringAndSize(s, len);\n           ^\n    In file included from C:\\Users\\Thomaz\\Anaconda32b\\include/Python.h:94:0,\n                     from Levenshtein/_levenshtein.c:99:\n    C:\\Users\\Thomaz\\Anaconda32b\\include/stringobject.h:62:24: note: expected 'co\nnst char *' but argument is of type 'lev_byte *'\n     PyAPI_FUNC(PyObject *) PyString_FromStringAndSize(const char *, Py_ssize_t)\n;\n                            ^\n    Levenshtein/_levenshtein.c:1894:7: warning: pointer targets in passing argum\nent 1 of 'PyString_FromStringAndSize' differ in signedness [-Wpointer-sign]\n           result = PyString_FromStringAndSize(s, len);\n           ^\n    In file included from C:\\Users\\Thomaz\\Anaconda32b\\include/Python.h:94:0,\n                     from Levenshtein/_levenshtein.c:99:\n    C:\\Users\\Thomaz\\Anaconda32b\\include/stringobject.h:62:24: note: expected 'co\nnst char *' but argument is of type 'lev_byte *'\n     PyAPI_FUNC(PyObject *) PyString_FromStringAndSize(const char *, Py_ssize_t)\n;\n                            ^\n    Levenshtein/_levenshtein.c: At top level:\n    Levenshtein/_levenshtein.c:6630:1: warning: 'lev_editops_total_cost' defined\n but not used [-Wunused-function]\n     lev_editops_total_cost(size_t n,\n     ^\n    Levenshtein/_levenshtein.c:6700:1: warning: 'lev_opcodes_total_cost' defined\n but not used [-Wunused-function]\n     lev_opcodes_total_cost(size_t nb,\n     ^\n    Levenshtein/_levenshtein.c:6655:1: warning: 'lev_editops_normalize' defined\nbut not used [-Wunused-function]\n     lev_editops_normalize(size_t n,\n     ^\n    Levenshtein/_levenshtein.c:2371:1: warning: 'lev_edit_distance_sod' defined\nbut not used [-Wunused-function]\n     lev_edit_distance_sod(size_t len, const lev_byte *string,\n     ^\n    Levenshtein/_levenshtein.c:2550:1: warning: 'lev_u_edit_distance_sod' define\nd but not used [-Wunused-function]\n     lev_u_edit_distance_sod(size_t len, const lev_wchar *string,\n     ^\n    C:\\MinGW\\bin\\gcc.exe -shared -s build\\temp.win32-2.7\\Release\\levenshtein\\_le\nvenshtein.o build\\temp.win32-2.7\\Release\\levenshtein\\_levenshtein.def -LC:\\Users\n\\Thomaz\\Anaconda32b\\libs -LC:\\Users\\Thomaz\\Anaconda32b\\PCbuild -lpython27 -lmsvc\nr90 -o build\\lib.win32-2.7\\Levenshtein\\_levenshtein.pyd\nSuccessfully installed python-Levenshtein-0.12.0\n</code></pre>\n\n<p>Interesting... In Python 2.7, even with the warnings above, everything works.</p>\n\n<p><br>\n<hr>\nI uninstalled the package then re-installed the one from here: <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein\" rel=\"nofollow\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein</a> and now I can use python-Levenshtein just fine in python 3.4</p>\n"}, {"tags": ["python", "python-3.x", "exception-handling", "try-catch-finally"], "answers": [{"comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1426108535, "post_id": 28997259, "comment_id": 46243127, "body": "@MartijnPieters: I appreciate the thought, but you&#39;ve just translated one piece of code you can&#39;t run into one other piece of code you can&#39;t run.  I prefer the ellipses to comments, because the comments don&#39;t work in Python."}], "tags": [], "owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "is_accepted": false, "score": 1, "last_activity_date": 1426108529, "last_edit_date": 1426108529, "creation_date": 1426107607, "answer_id": 28997259, "question_id": 28997216, "link": "https://stackoverflow.com/questions/28997216/are-variables-created-in-the-except-stage-available-in-the-finally-stage/28997259#28997259", "title": "Are variables created in the except: stage available in the finally: stage?", "body": "<p>Yes, you can use variables from <code>except</code> in <code>finally</code> blocks because variables in Python have function scope.</p>\n\n<pre><code>In [1]: try:\n   ...:     raise ValueError()\n   ...: except:\n   ...:     x = 1\n   ...: finally:\n   ...:     print(x)\n   ...:     \n1\n</code></pre>\n\n<p>But you have to make sure the variable is initialized in all code paths.</p>\n\n<pre><code>try:\n    pass\nexcept:\n    x = 1\nfinally:\n    print(x) # NameError\n</code></pre>\n\n<p>Typically, you will initialize the variables first:</p>\n\n<pre><code>x = None\ntry:\n    ...\nexcept:\n    x = ...\nfinally:\n    ... safe to use x here ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32834, "user_id": 218183, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c1f0c4c5223ae5c74436b77f96706d5?s=128&d=identicon&r=PG", "display_name": "Mo.", "link": "https://stackoverflow.com/users/218183/mo"}, "edited": false, "score": 0, "creation_date": 1426107718, "post_id": 28997261, "comment_id": 46242656, "body": "Ah yes, for some reason I forgot that finally is called even when there is no exception called! Thanks!"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 2, "last_activity_date": 1426108011, "last_edit_date": 1426108011, "creation_date": 1426107609, "answer_id": 28997261, "question_id": 28997216, "link": "https://stackoverflow.com/questions/28997216/are-variables-created-in-the-except-stage-available-in-the-finally-stage/28997261#28997261", "title": "Are variables created in the except: stage available in the finally: stage?", "body": "<p>No, because <code>finally</code> is executed <em>always</em>, not just when an exception has been raised and handled. It'll be executed when there is no exception, or an exception was raised you do not handle, or you used <code>return</code> or used <code>continue</code> or <code>break</code> in a loop outside the <code>try</code>, etc.</p>\n\n<p><strong>If</strong> an exception has been handled, then names you bind in an <code>except</code> suite will remain set by the time the <code>finally</code> suite executes, but you need to set them to sentinel values first lest you want to avoid <code>NameError</code> or <code>UnboundLocal</code> exceptions in case no such exception was raised:</p>\n\n<pre><code>subject = message = None\ntry:\n    some_function()\nexcept exceptions.ExceptionA as e:\n    self.logger.error(\"Error\")\n    subject = 'error A'\n    message = 'Check error A'\nexcept exceptions.ExceptionB as b:\n    self.logger.error(\"Error\")\n    subject = 'error A'\n    message = 'Check error A'\nfinally:\n    # message and subject *can* be bound to None now\n    self.publish(subject, message)\n    sys.exit()\n</code></pre>\n\n<p>If you wanted to execute code <em>only</em> if an exception was raised and handled, you'll have to do so explicitly for each <code>except</code> suite. You cannot use <code>finally</code> for that case, not without additional checking (you could gate on <code>subject is not None</code> for example).</p>\n"}], "owner": {"reputation": 32834, "user_id": 218183, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c1f0c4c5223ae5c74436b77f96706d5?s=128&d=identicon&r=PG", "display_name": "Mo.", "link": "https://stackoverflow.com/users/218183/mo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426108615, "creation_date": 1426107469, "last_edit_date": 1426108615, "question_id": 28997216, "link": "https://stackoverflow.com/questions/28997216/are-variables-created-in-the-except-stage-available-in-the-finally-stage", "title": "Are variables created in the except: stage available in the finally: stage?", "body": "<p>I have a <code>try/except*n/finally</code> block of code and I was wondering what the correct way to do the following is:</p>\n\n<pre><code>try:\n    some_function()\nexcept exceptions.ExceptionA as e:\n    self.logger.error(\"Error\")\n    subject = 'error A'\n    message = 'Check error A'\nexcept exceptions.ExceptionB as b:\n    self.logger.error(\"Error\")\n    subject = 'error A'\n    message = 'Check error A'\nfinally:\n    self.publish(subject, message)\n    sys.exit()\n</code></pre>\n"}, {"tags": ["python", "selenium", "extjs", "combobox"], "comments": [{"owner": {"reputation": 13, "user_id": 4578860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7967dd7182003556ff5a451b26a332e?s=128&d=identicon&r=PG&f=1", "display_name": "Rameswar", "link": "https://stackoverflow.com/users/4578860/rameswar"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426142560, "post_id": 28997174, "comment_id": 46253598, "body": "itemsArr[1].click() IndexError: list index out of range"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426174544, "post_id": 28997174, "comment_id": 46272849, "body": "Then <code>itemsArr</code> is length 0 or empty. Run the code in an interactive shell and check that it gets items."}], "owner": {"reputation": 13, "user_id": 4578860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7967dd7182003556ff5a451b26a332e?s=128&d=identicon&r=PG&f=1", "display_name": "Rameswar", "link": "https://stackoverflow.com/users/4578860/rameswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1426107312, "creation_date": 1426107312, "question_id": 28997174, "link": "https://stackoverflow.com/questions/28997174/select-an-item-from-extjs-combobox-using-python-selenium", "title": "select an item from extjs combobox using python-selenium?", "body": "<p>I have a extjs combobox with some items in it. I'm trying to select an item from the list..</p>\n\n<pre><code>**HTML Console steps** \n\ncombo1 = document.getElementsByClassName('first-combo')[0]\ninput1 = combo1.getElementsByTagName('input')[0]\ninput1.click()\nlist1 = document.getElementsByClassName('x-boundlist')[0]\nitemsArr = list1.getElementsByClassName('x-boundlist-item')\nitemsArr.item(1).click()\n\n** python steps**\ncombo1 = driver.find_elements_by_class_name(\"first-combo\")[0]\ninput1 = combo1.find_elements_by_tag_name(\"input\")[0]\ninput1.click()\nlist1 = driver.find_elements_by_class_name('x-boundlist')[0]\nitemsArr  = list1.find_elements_by_class_name('x-boundlist-item')\nitemsArr[1].click()\n</code></pre>\n\n<p>if I use the firebug console, first set of steps are perfectly selecting an item from combo box.\nbut the same steps in selenium-python throwing following error...\nWhat I'm doing wrong here ? Thanks in advance.</p>\n"}, {"tags": ["python", "linux", "macos", "bash"], "answers": [{"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 2, "last_activity_date": 1426108032, "last_edit_date": 1426108032, "creation_date": 1426107576, "answer_id": 28997245, "question_id": 28997125, "link": "https://stackoverflow.com/questions/28997125/change-directory-of-a-parent-process-from-a-child-process/28997245#28997245", "title": "Change directory of a parent process from a child process", "body": "<p>Instead of running your program directly, <em>source a wrapper script</em>.  Your program, when it completes, signals to the wrapper script what directory to <code>cd</code> to.  The sourced wrapper script does the <code>cd</code>.</p>\n\n<p>Another file browsing utility, Midnight Commander (<code>mc</code>), has addressed the same issue.  Here is its wrapper script:</p>\n\n<pre><code>MC_USER=`id | sed 's/[^(]*(//;s/).*//'`\nMC_PWD_FILE=\"${TMPDIR-/tmp}/mc-$MC_USER/mc.pwd.$$\"\n/usr/bin/mc -P \"$MC_PWD_FILE\" \"$@\"\n\nif test -r \"$MC_PWD_FILE\"; then\n        MC_PWD=\"`cat \"$MC_PWD_FILE\"`\"\n        if test -n \"$MC_PWD\" &amp;&amp; test -d \"$MC_PWD\"; then\n                cd \"$MC_PWD\"\n        fi\n        unset MC_PWD\nfi\n\nrm -f \"$MC_PWD_FILE\"\nunset MC_PWD_FILE\n</code></pre>\n\n<p>As you can see, this defines a temporary file and passes that file name to <code>mc</code> with the <code>-P</code> option.  Before <code>mc</code> is exits, it writes the chosen directory to that temporary file.  This scripts reads that temporary file and cd's to the chosen directory.</p>\n\n<p>To make it convenient to run this wrapper script, one creates a shell alias:</p>\n\n<pre><code>alias mc=\". /usr/lib/mc/bin/mc-wrapper.sh\"'\n</code></pre>\n\n<p>With slight modifications, I expect that you can make this work with your program.</p>\n"}], "owner": {"reputation": 73, "user_id": 4059706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tw53rFCj35A/AAAAAAAAAAI/AAAAAAAAABE/G4L_5IHKbHM/photo.jpg?sz=128", "display_name": "Nicki Six", "link": "https://stackoverflow.com/users/4059706/nicki-six"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 1, "accepted_answer_id": 28997245, "answer_count": 1, "score": 2, "last_activity_date": 1426108032, "creation_date": 1426107139, "question_id": 28997125, "link": "https://stackoverflow.com/questions/28997125/change-directory-of-a-parent-process-from-a-child-process", "title": "Change directory of a parent process from a child process", "body": "<p>I've created a cool python program that helps people navigate to other directories in an interactive way. When they get there I'd like to have them hit Enter and exit the program leaving them in the selected dir. However, you always end up in the same dir you started in b/c only the child process that python's running in actually changes directories and the parent process' directory remains unchanged. </p>\n"}, {"tags": ["python", "pandas", "multiple-columns", "multiple-conditions", "elementwise-operations"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3416986, "user_type": "registered", "profile_image": "https://graph.facebook.com/752335289/picture?type=large", "display_name": "user3416986", "link": "https://stackoverflow.com/users/3416986/user3416986"}, "edited": false, "score": 0, "creation_date": 1426188025, "post_id": 29001186, "comment_id": 46280891, "body": "Thank @JohnE!   one more issue is that the number of rows between my dataframes are not the same i.e. df1 may have more rows than df2.  is there anyway to get around that?   I had no idea we could use boolean evaluations like this.  Your answer was informative"}, {"owner": {"reputation": 13, "user_id": 3416986, "user_type": "registered", "profile_image": "https://graph.facebook.com/752335289/picture?type=large", "display_name": "user3416986", "link": "https://stackoverflow.com/users/3416986/user3416986"}, "edited": false, "score": 0, "creation_date": 1426236489, "post_id": 29001186, "comment_id": 46297660, "body": "thanks for the tip. I tried set_index() and I get the following error message (same one as before):  Series lengths must match to compare.   this occurs when i set the conditions for comparison, similar to your bool = ((df1.Channel == df2.Channel) &amp; (df1.Quad == df2.Quad)) line"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 13, "user_id": 3416986, "user_type": "registered", "profile_image": "https://graph.facebook.com/752335289/picture?type=large", "display_name": "user3416986", "link": "https://stackoverflow.com/users/3416986/user3416986"}, "edited": false, "score": 0, "creation_date": 1426248837, "post_id": 29001186, "comment_id": 46304717, "body": "Ah, yeah, I just re-wrote the answer using merge().  That&#39;s a better way to do what you&#39;re trying to do."}, {"owner": {"reputation": 13, "user_id": 3416986, "user_type": "registered", "profile_image": "https://graph.facebook.com/752335289/picture?type=large", "display_name": "user3416986", "link": "https://stackoverflow.com/users/3416986/user3416986"}, "edited": false, "score": 0, "creation_date": 1426290977, "post_id": 29001186, "comment_id": 46327428, "body": "Thanks @JohnE--this solved my problem nicely;  I also learned a thing or two in the process."}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 0, "last_activity_date": 1426258197, "last_edit_date": 1426258197, "creation_date": 1426129296, "answer_id": 29001186, "question_id": 28997120, "link": "https://stackoverflow.com/questions/28997120/elementwise-subtractionor-addition-of-columns-from-two-dataframes-based-on-the/29001186#29001186", "title": "Elementwise Subtraction(or addition) of columns from two dataframes based on the same values/matches in other columns", "body": "<pre><code>In [70]: df1 = pd.DataFrame({ 'SN':[1,1,1], 'Quad':[3,3,4], \n    ...:                      'Channel':[1,2,0], 'Mean':[1,2,3] })\n\nIn [71]: df2 = pd.DataFrame({ 'SN':[1,1,1], 'Quad':[3,3,4], \n    ...:                      'Channel':[3,2,0], 'Mean':[4,5,6] })\n\nIn [72]: results = df1.merge( df2, on=['Channel','Quad','SN'] )\n\nIn [73]: results['Mean'] = results.Mean_x - results.Mean_y\n\nIn [74]: results[ list(df1.columns) ]\nOut[74]: \n   Channel  Mean  Quad  SN\n0        2    -3     3   1\n1        0    -3     4   1\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3416986, "user_type": "registered", "profile_image": "https://graph.facebook.com/752335289/picture?type=large", "display_name": "user3416986", "link": "https://stackoverflow.com/users/3416986/user3416986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "accepted_answer_id": 29001186, "answer_count": 1, "score": 1, "last_activity_date": 1426258197, "creation_date": 1426107129, "question_id": 28997120, "link": "https://stackoverflow.com/questions/28997120/elementwise-subtractionor-addition-of-columns-from-two-dataframes-based-on-the", "title": "Elementwise Subtraction(or addition) of columns from two dataframes based on the same values/matches in other columns", "body": "<p>I have two data frames.</p>\n\n<pre><code>df1 = pd.DataFrame({'Ver' : [2,2,2], \n                   'SN' : [1,1,1], \n                   'Split' : [AA,AA,AA] \n                   'Quad' : [3,3,4] \n                   'Channel' : [1,2,0]\n                   'Mean' : [1,2,3] \n                   'Other' : [10,10,10]\n                   'Mean2' : [1,2,3] \n                   'Other2' : [10,10,10]  \n})\n\ndf1 = pd.DataFrame({'Ver' : [2,2,2], \n                   'SN' : [1,1,1], \n                   'Split' : [AA,AA,AA] \n                   'Quad' : [3,3,4] \n                   'Channel' : [3,2,0]\n                   'Mean' : [4,5,6] \n                   'Other' : [10,10,10]  \n                   'Mean2' : [4,5,6] \n                    'Other2' : [10,10,10]  \n})\n</code></pre>\n\n<p>i'd like to subtract the mean column in df1 from the mean column in df2  and do this only for elements whose values match in columns 'SN', 'Quad', 'Channel'.  if those values don't match up, i'd like to \"throw out\" the data.  I'd like to  do the same for the mean2 column.  i'd like assign the resultant data frame to a new dataframe. is there an easy/straightforward way to do this in pandas?</p>\n\n<p>i should end up with :</p>\n\n<pre><code>resultant_df= pd.DataFrame({'Ver' : [2,2], \n                   'SN' : [1,1], \n                   'Split' : [AA,AA] \n                   'Quad' : [3,4] \n                   'Channel' : [2,0]\n                   'Mean' : [-3,-3] \n                   'Other' : [,10,10]  \n                   'Mean2' : [-3,-3] \n                    'Other2' : [10,10]  \n})              \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1426107589, "post_id": 28997099, "comment_id": 46242584, "body": "Please leave things like &quot;I&#39;m new to Stack Overflow...&quot; out of your question. I think your question was put together well, so you didn&#39;t really need it. If your question wasn&#39;t phrased well, that statement certainly wouldn&#39;t stop your question from being downvoted or closed. Welcome to the community!"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1426107915, "post_id": 28997099, "comment_id": 46242769, "body": "Also, I have a couple of code notes for you: your snippet would be a bit cleaner if you opened both files in one statement and used more descriptive variable names: <code>with open(&quot;filein.txt&quot;) as f_in, open(&quot;fileout.txt&quot;, &quot;w&quot;) as f_out:</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107500, "creation_date": 1426107500, "answer_id": 28997229, "question_id": 28997099, "link": "https://stackoverflow.com/questions/28997099/reading-from-one-file-and-writing-into-another-in-python/28997229#28997229", "title": "Reading from one file and writing into another in Python", "body": "<p>Not the most elegant, but you can just use a flag to indicate whether or not the cursor is in between the Subject and END:VBODY::</p>\n\n<pre><code>with open(\"filein.txt\") as f:\n    with open(\"fileout.txt\", \"w\") as f1:\n        for line in f:\n            if in_subject:\n                f1.write(line)\n                if \"END:VBODY\" in line:\n                    in_subject = False\n            else:\n                if \"telephone number\" in line:\n                    f1.write(line)\n                if \"telephone number\" and \"X-BOX\" in line:\n                    f1.write(line)\n                if \"Subject\" in line:\n                    in_subject = True\n                    f1.write(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107665, "creation_date": 1426107665, "answer_id": 28997279, "question_id": 28997099, "link": "https://stackoverflow.com/questions/28997099/reading-from-one-file-and-writing-into-another-in-python/28997279#28997279", "title": "Reading from one file and writing into another in Python", "body": "<p>If you just need this one particular case, you can walk away with simple state variable. Something like this:</p>\n\n<pre><code>inside_subject = False\nwith open(\"fileout.txt\", \"w\") as out:\n    for line in open(\"filein.txt\", \"r\"):\n        if inside_subject:\n            if not \"END:VBODY\" in line:\n                print line\n            else:\n                inside_subject = False\n        else:\n            if \"telephone number\" in line:\n                out.write(line)\n            elif \"telephone number\" in line and \"X-BOX\" in line: # will never match this though\n                out.write(line)\n            elif \"Subject\" in line:\n                out.write(line)\n                inside_subject = True\n</code></pre>\n\n<p>Though if you'll have more conditions, consider using some state machine.</p>\n"}, {"comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1426116656, "post_id": 28997328, "comment_id": 46246590, "body": "I believe the OP wants to write not just part of the current line but the current line plus additional lines until finding the end marker."}], "tags": [], "owner": {"reputation": 492, "user_id": 3412518, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cYO05.jpg?s=128&g=1", "display_name": "jes516", "link": "https://stackoverflow.com/users/3412518/jes516"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107824, "creation_date": 1426107824, "answer_id": 28997328, "question_id": 28997099, "link": "https://stackoverflow.com/questions/28997099/reading-from-one-file-and-writing-into-another-in-python/28997328#28997328", "title": "Reading from one file and writing into another in Python", "body": "<pre><code>if \"Subject\" in line:\n    f1.write(line[:line.index(\"END:VBODY\")])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "edited": false, "score": 2, "creation_date": 1426113583, "post_id": 28997344, "comment_id": 46245378, "body": "You can use <code>with open(&quot;filein.txt&quot;) as f, open(&quot;fileout.txt&quot;, &quot;w&quot;) as f1:</code> in a single line."}], "tags": [], "owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107893, "creation_date": 1426107893, "answer_id": 28997344, "question_id": 28997099, "link": "https://stackoverflow.com/questions/28997099/reading-from-one-file-and-writing-into-another-in-python/28997344#28997344", "title": "Reading from one file and writing into another in Python", "body": "<p>Here is another working solution just by adding a while loop under the <code>if \"Subject\" in line</code> condition.</p>\n\n<pre><code>with open(\"filein.txt\") as f:\n    with open(\"fileout.txt\", \"w\") as f1:\n        for line in f:\n            if \"telephone number\" in line:\n                f1.write(line)\n            if \"telephone number\" and \"X-BOX\" in line:\n                f1.write(line)\n            if \"Subject\" in line:\n                f1.write(line)\n\n                # new code added here\n                while 'END:VBODY' not in line:\n                    line = f.next()\n                    f1.write(line)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4660316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198bcd00228833755c761b73a3d437e6?s=128&d=identicon&r=PG&f=1", "display_name": "Muzgar15", "link": "https://stackoverflow.com/users/4660316/muzgar15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 663, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1426107893, "creation_date": 1426107072, "last_edit_date": 1426107492, "question_id": 28997099, "link": "https://stackoverflow.com/questions/28997099/reading-from-one-file-and-writing-into-another-in-python", "title": "Reading from one file and writing into another in Python", "body": "<p>I'm writing a program that finds certain lines of text in a file and writes them to another file to get rid of all the annoying text in between (it's a .vmg file). Through my skills of python and googleing I have writen the following program.</p>\n\n<pre><code>with open(\"filein.txt\") as f:\n    with open(\"fileout.txt\", \"w\") as f1:\n        for line in f:\n            if \"telephone number\" in line:\n                f1.write(line)\n            if \"telephone number\" and \"X-BOX\" in line:\n                f1.write(line)\n            if \"Subject\" in line:\n                f1.write(line)\n</code></pre>\n\n<p>The program is working fine, but for the \"subject\" I want to tell the program to write not just the single line of text where the keyword \"subject\" is, but until it reaches a certain keyword (in my case that is \"END:VBODY\"). What should I do?</p>\n"}, {"tags": ["python", "python-2.7", "python-unittest", "python-mock"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1426107179, "post_id": 28997078, "comment_id": 46242353, "body": "Generally, it&#39;s probably best not to mock the whole class, but to just mock the methods on the class that have unwanted side-effects in testing.  Is that possible?"}, {"owner": {"reputation": 35975, "user_id": 346561, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mlG9J.jpg?s=128&g=1", "display_name": "Jesse Webb", "link": "https://stackoverflow.com/users/346561/jesse-webb"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1426107497, "post_id": 28997078, "comment_id": 46242530, "body": "@mgilson Unfortunately, the &#39;thing&#39; under test instantiates a new <code>MyClass</code> instance inside its function and that is what I am trying to mock out. This could likely be resolved with dependency injection but it is legacy code that I am trying to write some tests around so I have been avoiding refactoring until I have a good regression suite to rely on."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1426107648, "post_id": 28997078, "comment_id": 46242614, "body": "But my question is why do you <i>need</i> to mock the whole class?  Why not just mock the parts of it that have side-effects?  Are they explicitly in <code>__init__</code> or something?  Also, you can set a <code>__class__</code> attribute on a <code>MagicMock</code> that allows it to pass <code>isinstance</code> checks, but I&#39;m not sure how much that helps."}, {"owner": {"reputation": 35975, "user_id": 346561, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mlG9J.jpg?s=128&g=1", "display_name": "Jesse Webb", "link": "https://stackoverflow.com/users/346561/jesse-webb"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1426109513, "post_id": 28997078, "comment_id": 46243680, "body": "Yes, the part with side effects is <code>MyClass.__init()</code>."}, {"owner": {"reputation": 35975, "user_id": 346561, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mlG9J.jpg?s=128&g=1", "display_name": "Jesse Webb", "link": "https://stackoverflow.com/users/346561/jesse-webb"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1426114301, "post_id": 28997078, "comment_id": 46245660, "body": "@mgilson I ended up re-evaluating my need to mock out the entire <code>MyClass</code> class. I moved some of the side-effects out of the `__init__ function to facilitate this. Thanks for prompting me to re-think how I was going about this."}], "answers": [{"comments": [{"owner": {"reputation": 35975, "user_id": 346561, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mlG9J.jpg?s=128&g=1", "display_name": "Jesse Webb", "link": "https://stackoverflow.com/users/346561/jesse-webb"}, "edited": false, "score": 0, "creation_date": 1426114413, "post_id": 28997374, "comment_id": 46245714, "body": "I tried this solution and it seemed to work for getting past my <code>isinstance</code> checks but I ran into some other issues. This isn&#39;t how I ended up solving my problem, but I will give you the accepted answer for helping me out. Thanks!"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1426108020, "creation_date": 1426108020, "answer_id": 28997374, "question_id": 28997078, "link": "https://stackoverflow.com/questions/28997078/mock-class-used-in-isinstance-checks-which-has-dynamic-attributes/28997374#28997374", "title": "Mock class used in isinstance checks which has dynamic attributes", "body": "<p>Given that you just want to pass <code>isinstance</code> checks, I think the simplest solution is to write a quick wrapper to <code>mock.patch.object</code> that sets the <code>__class__</code> attribute of the returned mock.</p>\n\n<pre><code>def my_patch(obj, attr_name):\n    fake_class = mock.MagicMock()\n    fake_instance = fake_class.return_value  # calling a class returns an instance.\n    fake_instance.__class__ = getattr(obj, attr_name)\n    return mock.patch.object(obj, attr_name, fake_class)\n</code></pre>\n\n<p>It's used like <code>mock.patch.object</code>:</p>\n\n<pre><code>@my_patch(some_module, 'MyClass')\ndef test_something(self, fake_my_class):\n    ...\n</code></pre>\n\n<p>but the fake object should pass <code>isinstance</code> checks the same way that a spec'd mock would.</p>\n"}], "owner": {"reputation": 35975, "user_id": 346561, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mlG9J.jpg?s=128&g=1", "display_name": "Jesse Webb", "link": "https://stackoverflow.com/users/346561/jesse-webb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2088, "favorite_count": 0, "accepted_answer_id": 28997374, "answer_count": 1, "score": 1, "last_activity_date": 1426108020, "creation_date": 1426106983, "question_id": 28997078, "link": "https://stackoverflow.com/questions/28997078/mock-class-used-in-isinstance-checks-which-has-dynamic-attributes", "title": "Mock class used in isinstance checks which has dynamic attributes", "body": "<p>Some classes define their attributes (aka fields) at the class level (outside <code>__init__</code> or any other function). Some classes define them inside their <code>__init__</code> function or even from other functions. Some classes use both approaches.</p>\n\n<pre><code>class MyClass(object):\n  foo = 'foo'\n  def __init__(self, *args, **kwargs):\n    self.bar = 'bar'\n</code></pre>\n\n<p>The problem is, when you use <code>dir</code>, it only includes <code>'bar'</code> if you pass in an instance of the class.</p>\n\n<pre><code>&gt;&gt;&gt; dir(MyClass)\n['__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'foo']\n&gt;&gt;&gt; myInstance = MyClass()\n&gt;&gt;&gt; dir(myInstance)\n['__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'bar', 'foo']\n</code></pre>\n\n<p>(scroll to the far right to see the diff)</p>\n\n<p>I have a situation where I need to avoid instantiating <code>MyClass</code> but I want to use it as the <code>spec</code> setting (to pass an <code>isinstance</code> check) in a <code>mock.patch</code> call in a unit test.</p>\n\n<pre><code>@mock.patch('mypackage.MyClass', spec=MyClass)\ndef test_thing_that_depends_on_MyClass(self, executeQueryMock):\n  # uses 'thing' here, which uses MyClass.bar ...\n</code></pre>\n\n<p>Doing this causes:</p>\n\n<blockquote>\n  <p>AttributeError: Mock object has no attribute 'bar'</p>\n</blockquote>\n\n<p>This makes sense because the <a href=\"http://www.voidspace.org.uk/python/mock/mock.html\" rel=\"nofollow\">mock docs</a> says:</p>\n\n<blockquote>\n  <p>spec: This can be either a list of strings or an existing object (a class or instance) that acts as the specification for the mock object. <strong>If you pass in an object then a list of strings is formed by calling dir on the object (excluding unsupported magic attributes and methods). Accessing any attribute not in this list will raise an AttributeError.</strong></p>\n</blockquote>\n\n<p>Even if I do instantiate <code>MyClass</code>, I get a different error.</p>\n\n<pre><code>@mock.patch('mypackage.MyClass', spec=MyClass())\ndef test_thing_that_depends_on_MyClass(self, executeQueryMock):\n  # uses 'thing' here, which uses MyClass.bar ...\n</code></pre>\n\n<p>Causes:</p>\n\n<blockquote>\n  <p>TypeError: 'NonCallableMagicMock' object is not callable</p>\n</blockquote>\n\n<p>I don't really care about being strict with which functions/attributes I allow accessing of; I actually want the normal MagicMock behaviour which lets you call anything without <code>AttributeError</code>. It seems like using <code>spec</code> makes this strict even though I am just using <code>spec</code> to pass <code>isinstance</code> check.</p>\n\n<h2>Question:</h2>\n\n<p>How do I properly mock this class which is used in <code>isinstance</code> checks and has attributes which are not defined at the class level?</p>\n"}, {"tags": ["python", "string", "boolean"], "comments": [{"owner": {"reputation": 939, "user_id": 2318775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef1cebc37b45dbaa4617e0169061939?s=128&d=identicon&r=PG&f=1", "display_name": "avim", "link": "https://stackoverflow.com/users/2318775/avim"}, "edited": false, "score": 0, "creation_date": 1426107628, "post_id": 28997056, "comment_id": 46242607, "body": "<code>string1 in string2 == True</code> iff <code>string1</code> is a sub-string of <code>string2</code>"}], "answers": [{"comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 4, "creation_date": 1426107510, "post_id": 28997088, "comment_id": 46242536, "body": "Close.  Change <code>&lt;</code> to <code>&lt;=</code> -- otherwise <code>only_uses_letters_from(&quot;bird&quot;, &quot;bird&quot;) =&gt; False</code>"}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 3, "creation_date": 1426107544, "post_id": 28997088, "comment_id": 46242557, "body": "Good catch. Edited my answer."}], "tags": [], "owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "is_accepted": true, "score": 10, "last_activity_date": 1426107529, "last_edit_date": 1426107529, "creation_date": 1426107029, "answer_id": 28997088, "question_id": 28997056, "link": "https://stackoverflow.com/questions/28997056/return-true-if-all-characters-in-a-string-are-in-another-string/28997088#28997088", "title": "Return True if all characters in a string are in another string", "body": "<p>This is a perfect use case of <a href=\"https://docs.python.org/2/tutorial/datastructures.html#sets\" rel=\"nofollow noreferrer\">sets</a>. The following code will solve your problem:</p>\n\n<pre><code>def only_uses_letters_from(string1, string2):\n   \"\"\"Check if the first string only contains characters also in the second string.\"\"\"\n   return set(string1) &lt;= set(string2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "edited": false, "score": 1, "creation_date": 1426107646, "post_id": 28997154, "comment_id": 46242613, "body": "This will run in <code>O(n * m)</code> since it will repeatedly iterate through s2. Consider &quot;aaaaa&quot; and &quot;bbbba&quot;. Using sets it will run in <code>O(n)</code> or <code>O(m)</code> whichever is greater."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "reply_to_user": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "edited": false, "score": 1, "creation_date": 1426107728, "post_id": 28997154, "comment_id": 46242660, "body": "Worst-case, yes.  It will also short-circuit, however -- a feature of generators that you shouldn&#39;t overlook."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "reply_to_user": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "edited": false, "score": 0, "creation_date": 1426108228, "post_id": 28997154, "comment_id": 46242968, "body": "Performance will depend on the composition of the strings.  Sets guarantee that you&#39;ll iterate over each entire list. This approach <i>could</i> exit after a single iteration over <code>s2</code>.  If the lists contain many duplicate values, then performance favors using sets.  If it&#39;s unlikely that <code>s1</code> is a subset of <code>s2</code> then performance will favor this approach.  Memory may play a factor as well, etc."}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 4, "last_activity_date": 1426107256, "creation_date": 1426107256, "answer_id": 28997154, "question_id": 28997056, "link": "https://stackoverflow.com/questions/28997056/return-true-if-all-characters-in-a-string-are-in-another-string/28997154#28997154", "title": "Return True if all characters in a string are in another string", "body": "<p>sets are fine, but aren't required (and may be less efficient depending on your string lengths).  You could also do simply:</p>\n\n<pre><code>s1 = \"bird\"\ns2 = \"irbd\"\n\nprint all(l in s1 for l in s2)  # True\n</code></pre>\n\n<p>Note that this will stop immediately as soon as a letter in <code>s2</code> isn't found in <code>s1</code> and return <code>False</code>.</p>\n"}], "owner": {"reputation": 107, "user_id": 4595028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-beDIP4CzUBA/AAAAAAAAAAI/AAAAAAAACcI/mI34lfguGHM/photo.jpg?sz=128", "display_name": "lilbanili", "link": "https://stackoverflow.com/users/4595028/lilbanili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3656, "favorite_count": 0, "accepted_answer_id": 28997088, "answer_count": 2, "score": 5, "last_activity_date": 1426107529, "creation_date": 1426106943, "question_id": 28997056, "link": "https://stackoverflow.com/questions/28997056/return-true-if-all-characters-in-a-string-are-in-another-string", "title": "Return True if all characters in a string are in another string", "body": "<p>Alright so for this problem I am meant to be writing a function that returns True if a given string contains only characters from another given string. So if I input \"bird\" as the first string and \"irbd\" as the second, it would return True, but if I used \"birds\" as the first string and \"irdb\" as the second it would return False. My code so far looks like this: </p>\n\n<pre><code>def only_uses_letters_from(string1,string2):\n\"\"\"Takes two strings and returns true if the first string only contains characters also in the second string.\n\nstring,string -&gt; string\"\"\"\nif string1 in string2:\n    return True\nelse:\n    return False\n</code></pre>\n\n<p>When I try to run the script it only returns True if the strings are in the exact same order or if I input only one letter (\"bird\" or \"b\" and \"bird\" versus \"bird\" and \"irdb\"). </p>\n"}, {"tags": ["python", "ar.drone"], "answers": [{"comments": [{"owner": {"reputation": 2283, "user_id": 320911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adCJz.jpg?s=128&g=1", "display_name": "Arto Bendiken", "link": "https://stackoverflow.com/users/320911/arto-bendiken"}, "edited": false, "score": 0, "creation_date": 1473894265, "post_id": 29676703, "comment_id": 66319190, "body": "There&#39;s nothing at <a href=\"https://github.com/ARDroneSDK3\" rel=\"nofollow noreferrer\">github.com/ARDroneSDK3</a> as of September 2016. The SDK now appears to live under <a href=\"https://github.com/Parrot-Developers\" rel=\"nofollow noreferrer\">github.com/Parrot-Developers</a>"}, {"owner": {"reputation": 5277, "user_id": 2237916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/074db60f1ec6161c996e9c08bf71f5bd?s=128&d=identicon&r=PG", "display_name": "silgon", "link": "https://stackoverflow.com/users/2237916/silgon"}, "edited": false, "score": 0, "creation_date": 1522354234, "post_id": 29676703, "comment_id": 86136638, "body": "which of the packages?"}], "tags": [], "owner": {"reputation": 412, "user_id": 3937913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1078715298/picture?type=large", "display_name": "Tihomir Nedev", "link": "https://stackoverflow.com/users/3937913/tihomir-nedev"}, "is_accepted": false, "score": 1, "last_activity_date": 1429191995, "creation_date": 1429191995, "answer_id": 29676703, "question_id": 28997037, "link": "https://stackoverflow.com/questions/28997037/parrot-minidrone-rolling-spider-programmable/29676703#29676703", "title": "Parrot MiniDrone Rolling Spider programmable?", "body": "<p>It is programmable. You have to use the ARDroneSDK3\n<a href=\"https://github.com/ARDroneSDK3\" rel=\"nofollow\">https://github.com/ARDroneSDK3</a></p>\n\n<p>It is not that well documented but if you have enough enthusiasm you could make it work and write your python scrips. </p>\n"}], "owner": {"reputation": 511, "user_id": 2347455, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a3599d34c74f0bd19b1d74ae14a7e0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2347455/roshan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430235906, "creation_date": 1426106883, "last_edit_date": 1430235906, "question_id": 28997037, "link": "https://stackoverflow.com/questions/28997037/parrot-minidrone-rolling-spider-programmable", "title": "Parrot MiniDrone Rolling Spider programmable?", "body": "<p>I want to know if Parrot MiniDrone Rolling Spider is programmable using python as primary development language? Is their any sdk that I could use to achieve that?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1426107381, "post_id": 28997085, "comment_id": 46242462, "body": "Thanks, so basically I need to have another dictionary inside the dictionary? That complicate a bit the things; since if I want to use for example a or c instead of t, then I have to change the whole structure. I was hoping that it was possible to search trough a list, which is used in a dictionary."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1426107503, "post_id": 28997085, "comment_id": 46242533, "body": "@newbiez: then you&#39;ll just have to do a search each time."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426108151, "post_id": 28997085, "comment_id": 46242913, "body": "@MartijnPieters or write a more complicated <code>Entry</code> object or manager that allows you to specify the comparison item per-instance."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426108241, "post_id": 28997085, "comment_id": 46242977, "body": "@aruisdante: no, you cannot alter the <code>__hash__</code> behaviour once you store it in a set. That&#39;d break the set hash table completely."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426108778, "post_id": 28997085, "comment_id": 46243262, "body": "@MartijnPieters Oh absolutely. I was merely suggesting it would be possible to allow for selection of which element to use as the comparison without having to alter the <code>Entry</code> code every time. You still need to have homogenous collections of those comparisons, not half of one and half of another. Though admittedly since there would be no way to actually enforce you to do so without adding a bunch of extra logic around the set/dict, it wouldn&#39;t be the safest thing to do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426111765, "post_id": 28997085, "comment_id": 46244706, "body": "Much appreciated for the explanation. This answer and the one from @aruisdante are both good!"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1426108338, "last_edit_date": 1426108338, "creation_date": 1426107013, "answer_id": 28997085, "question_id": 28997016, "link": "https://stackoverflow.com/questions/28997016/python-how-to-work-with-list-to-have-unique-values/28997085#28997085", "title": "Python: how to work with list to have unique values", "body": "<p>You can create another level; each value a dictionary keyed on <code>t</code>:</p>\n\n<pre><code>tripplets = dict.setdefault(key1, {})\nif t not in triplets:\n    triplets[t] = (t, a, c)\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>{\n    'key1': {'t1': (t1, a1, c2),\n             't2': (t2, a2, c2)},\n    ...\n}\n</code></pre>\n\n<p>so only add <code>(t?, a?, c?)</code> if <code>t?</code> is not already a key in the <code>dict[key1]</code> dictionary.</p>\n\n<p>You could also replace your triple-value tuples with a custom class that implements <code>__eq__</code> and <code>__hash__</code> to be considered equal if their <code>t</code> value is equal:</p>\n\n<pre><code>class Entry(object):\n    __slots__ = ('t', 'a', 'c')  # save some memory\n    def __init__(self, t, a, c):\n        self.t = t\n        self.a = a\n        self.c = c\n    def __eq__(self, other):\n        if not isinstance(other, Entry): return NotImplemented\n        return self.t == other.t\n    def __hash__(self):\n        return id(self.t)\n    def __repr__(self):\n        return '&lt;{0}({1[0]!r}, {1[1]!r}, {1[2]!r})&gt;'.format(type(self).__name__, self)\n    def __getitem__(self, index):\n        return getattr(self, 'tac'[index])\n</code></pre>\n\n<p>then use sets in your dictionary:</p>\n\n<pre><code>dict(key1, set()).add(Entry(t, a, c))\n</code></pre>\n\n<p>If however, you sometimes wanted to keep <code>t</code> unique, and <code>a</code> or <code>c</code> at other times, there is nothing for it but to do an actual search. Use the <a href=\"https://docs.python.org/2/library/functions.html#any\" rel=\"nofollow\"><code>any()</code> function</a> to bail out early if a match has been found:</p>\n\n<pre><code>triplets = dict.setdefault(key1, [])\nif not any(triplet[0] == t for triplet in triplets):\n    # no such t value found\n    triplets.append((t, a, c))\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1426111731, "post_id": 28997272, "comment_id": 46244687, "body": "Thanks, defaultdict are quite nice. they are both working; but I went for this solution"}], "tags": [], "owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107639, "creation_date": 1426107639, "answer_id": 28997272, "question_id": 28997016, "link": "https://stackoverflow.com/questions/28997016/python-how-to-work-with-list-to-have-unique-values/28997272#28997272", "title": "Python: how to work with list to have unique values", "body": "<p>This sounds a whole lot like... a second dictionary! You could implement your data-structure as follows:</p>\n\n<pre><code>from collections import defaultdict\n\nitems = defaultdict(dict)\n\ndef add_entry(items, key, t, a, c):\n    values = items[key]\n    if t not in values:\n        values[t] = (a,c)\n\ndef get_entry(items, key):\n    values = items[key]\n    entry  = []\n    for t, (a,c) in values.iteritems():\n        entry.extend((t,a,c))\n    return entry\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&gt;&gt;&gt; add_entry(items, \"test\", 1, 2, 3)\n&gt;&gt;&gt; get_entry(items, \"test\")\n[1, 2, 3]\n&gt;&gt;&gt; add_entry(items, \"test\", 2, 2, 3)\n&gt;&gt;&gt; get_entry(items, \"test\")\n[1, 2, 3, 2, 2, 3]\n&gt;&gt;&gt; add_entry(items, \"test\", 1, 6, 7)\n&gt;&gt;&gt; get_entry(items, \"test\")\n[1, 2, 3, 2, 2, 3]\n&gt;&gt;&gt; add_entry(items, \"test2\", 1, 2, 3)\n&gt;&gt;&gt; get_entry(items, \"test2\")\n[1, 2, 3]\n</code></pre>\n\n<p>Replace <code>entry.extend((t,a,c))</code> with <code>entry.append((t,a,c))</code> if you want to get back a list of tuples rather than just a list of values.</p>\n\n<p>And of course you could encapsulate this datastructure and the methods that operate on it into a class for better usability if you'd like, like so:</p>\n\n<pre><code>class EntryManager(object):\n\n    def __init__(self):\n        self._items = defaultdict(dict)\n\n    def add_entry(self, key, t, a, c):\n        values = self._items[key]\n        if t not in values:\n            values[t] = (a,c)\n\n    def get_entry(self, key):\n        values = self._items[key]\n        entry  = []\n        for t, (a,c) in values.iteritems():\n            entry.extend((t,a,c))\n        return entry\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 28997085, "answer_count": 2, "score": 0, "last_activity_date": 1426108338, "creation_date": 1426106803, "question_id": 28997016, "link": "https://stackoverflow.com/questions/28997016/python-how-to-work-with-list-to-have-unique-values", "title": "Python: how to work with list to have unique values", "body": "<p>The problem that I have is the following: I get from a process, a set of values:</p>\n\n<pre><code>t=903\na=432\nc=335\n</code></pre>\n\n<p>And these values goes in a dictionary, which assign different sequences of t, a and c to different keys</p>\n\n<pre><code>{key1} : (t1 a1 c1, t2 a2 c2, ...tn an cn)\n{key2} : (t1 a1 c1, t2 a2 c2, ...tn an cn)\n</code></pre>\n\n<p>What I would like, is to not add a triplet of values to a key, if the first value (say t), is already present. Basically I would use \"t\" variable as unique factor for my triplet. This only apply for each key, so I don't mind if I have the same value on key 2...key n; the important is that each key has an unique value of t, and that the 3 values are written in the dictionary only if the value of \"t\" is unique.</p>\n\n<p>I tried this:</p>\n\n<pre><code>for triplets in dict[key1]:\n    if not t in triplets:\n        dict[key1].append(t,a,c)\n</code></pre>\n\n<p>But this seems to not be working. Am I cycling incorrectly trough the dictionary? Should I use a different structure?</p>\n"}, {"tags": ["python", "csv", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 4463769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03b90f4a91a045d394f22dcdbf12eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Bobo", "link": "https://stackoverflow.com/users/4463769/bobo"}, "edited": false, "score": 0, "creation_date": 1426108090, "post_id": 28997114, "comment_id": 46242875, "body": "hi, I&#39;m setting num_columns to the number of columns +1 already"}], "tags": [], "owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107103, "creation_date": 1426107103, "answer_id": 28997114, "question_id": 28997009, "link": "https://stackoverflow.com/questions/28997009/issue-with-categorical-variables-and-pandas-read-csv/28997114#28997114", "title": "issue with categorical variables and pandas read_csv", "body": "<p>The problem is that <code>xrange(1, num_columns)</code> will return <code>num_columns - 1</code> columns only. So you would probably want to use  <code>xrange(1, num_columns+1)</code> instead.</p>\n"}], "owner": {"reputation": 761, "user_id": 4463769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03b90f4a91a045d394f22dcdbf12eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Bobo", "link": "https://stackoverflow.com/users/4463769/bobo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426108122, "creation_date": 1426106771, "last_edit_date": 1426108122, "question_id": 28997009, "link": "https://stackoverflow.com/questions/28997009/issue-with-categorical-variables-and-pandas-read-csv", "title": "issue with categorical variables and pandas read_csv", "body": "<p>I'm doing this to read a csv file with pandas. </p>\n\n<pre><code>data = pd.read_csv(filename)\ndata.columns = ['column' + str(i) for i in xrange(1, num_columns)]\nfor cname in data.columns.values:\n    c = pd.Categorical.from_array(data[cname])\n    idx = c.levels\n    data[cname] = idx.get_indexer(data[cname].values)\n</code></pre>\n\n<ol>\n<li>for some reason, the last element of the last column is always -1, even\nthough the value exists. </li>\n<li>the code above seems to skip one row</li>\n</ol>\n"}, {"tags": ["python", "oracle", "oracle11g", "cx-oracle"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4660162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bce162f5bd074fd056372654576aa42?s=128&d=identicon&r=PG&f=1", "display_name": "NielsJ", "link": "https://stackoverflow.com/users/4660162/nielsj"}, "is_accepted": true, "score": 0, "last_activity_date": 1427140797, "creation_date": 1427140797, "answer_id": 29219264, "question_id": 28997004, "link": "https://stackoverflow.com/questions/28997004/how-to-make-ddl-from-cursor-description-or-a-select-statement/29219264#29219264", "title": "How to make DDL from cursor.description or a select-statement", "body": "<p>The answer was painfully simple. Using the cursor.description way: The translation from cx_Oracle's types to Oracle's datatypes can be done unambiguously. I was using documentation from the stone-age is what's the problem... </p>\n\n<pre><code>translator = { 'BINARY'         : 'RAW',\\\n           'BFILE'          : 'BFILE',\\\n           'BLOB'           : 'BLOB',\\\n           'CLOB'           : 'CLOB',\\\n           'CURSOR'         : 'CURSOR',\\\n           'DATETIME'       : 'DATE',\\\n           'FIXED_CHAR'     : 'CHAR',\\\n           'FIXED_UNICODE'  : 'NCHAR',\\\n           'INTERVAL'       : 'INTERVAL',\\\n           'LONG_STRING'    : 'LONG',\\\n           'LONG_UNICODE'   : 'LONG ',\\\n           'NCLOB'          : 'NCLOB',\\\n           'NUMBER'         : \"NUMBER\",\\\n           'OBJECT'         : 'OBJECT',\\\n           'ROWID'          : 'ROWID',\\\n           'STRING'         : 'VARCHAR2',\\\n           'TIMESTAMP'      : 'TIMESTAMP',\\\n           'UNICODE'        : \"NVARCHAR2\" }\n\nstr_coltype     # example:  \"&lt;type 'cx_Oracle.NUMBER'&gt;\"\ncx_coltp = re.findall(\"\\.([^\\.]+)'&gt;$\", str_coltype)[0]\nora_coltp = translator[ cx_coltp ]\n</code></pre>\n\n<p>As it turned out, there is some top notch documentation available here:</p>\n\n<p><a href=\"http://cx-oracle.readthedocs.org/en/latest/module.html#types\" rel=\"nofollow\">http://cx-oracle.readthedocs.org/en/latest/module.html#types</a></p>\n"}], "owner": {"reputation": 26, "user_id": 4660162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bce162f5bd074fd056372654576aa42?s=128&d=identicon&r=PG&f=1", "display_name": "NielsJ", "link": "https://stackoverflow.com/users/4660162/nielsj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 29219264, "answer_count": 1, "score": 1, "last_activity_date": 1427140797, "creation_date": 1426106765, "last_edit_date": 1426112169, "question_id": 28997004, "link": "https://stackoverflow.com/questions/28997004/how-to-make-ddl-from-cursor-description-or-a-select-statement", "title": "How to make DDL from cursor.description or a select-statement", "body": "<p>Using cx_Oracle 5.1.2, python 2.7 and Oracle 11g, my situation is as follows:</p>\n\n<p>i have one cx_oracle cursor connected to DB_one i will call cur_input and another cursor connected to DB_two i will call cur_output.</p>\n\n<p>After executing a selection on cur_input, i would like to be able to generate the DDL of it to create a fitting table on cur_output and then insert data into this table coming from cur_input. The problem lies in the datatypes &amp; definitions when creating the table.</p>\n\n<p>In pseudocode, i would like to:</p>\n\n<pre><code>CREATE TABLE cur_output.schema.tablename \n          AS \n      SELECT a,b,1,2,decode(1,1,'2',2,3)\n        FROM cur_input.schema.tablename\n       WHERE 1=2\n</code></pre>\n\n<p>Can all of this be done without:</p>\n\n<ul>\n<li><p>having to create the table on the input-side first, and fetch the DDL from it using <code>DBMS_METADATA.get_ddl</code></p></li>\n<li><p>using Oracle's DBLINKS</p></li>\n</ul>\n\n<p>...?</p>\n\n<p>The entries in cur_input.description seem quite useful for this, but i don't feel comfortable translating cx_Oracle.STRING in the cur_input.description directly into a VARCHAR2 for the output-DDL because cx_Oracle.STRING could translate to Oracle's: VARCHAR2, NVARCHAR2 or LONG \n(full translation-table: <a href=\"http://www.oracle.com/technetwork/articles/dsl/prez-python-queries-101587.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/dsl/prez-python-queries-101587.html</a>   -- chapter: Datatypes)</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 1, "creation_date": 1426106835, "post_id": 28996982, "comment_id": 46242162, "body": "And what is the problem here?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1426106894, "post_id": 28996982, "comment_id": 46242195, "body": "What &quot;6-14 characters&quot;?"}, {"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107117, "post_id": 28996982, "comment_id": 46242318, "body": "if the .txt file contains the id they enter, it will print the 6-14 characters of that line."}, {"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107205, "post_id": 28996982, "comment_id": 46242365, "body": "I don&#39;t know how to print something based on the 6-14 characters..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107282, "post_id": 28997144, "comment_id": 46242417, "body": "I want to print something based on the characters for example- if [6:14] = High, print &quot;well done&quot;"}, {"owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "reply_to_user": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107378, "post_id": 28997144, "comment_id": 46242459, "body": "Give us a clue... give an example input and expected output in the question."}, {"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107535, "post_id": 28997144, "comment_id": 46242555, "body": "if the 6-14 characters are &#39;High&#39;, print&#39;Good&#39;"}, {"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426107556, "post_id": 28997144, "comment_id": 46242566, "body": "if the 6-14 characters are &#39;moderate&#39; print&#39;bad&#39;"}, {"owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "edited": false, "score": 0, "creation_date": 1426108418, "post_id": 28997144, "comment_id": 46243061, "body": "Thank you! Do i need to change anything?"}], "tags": [], "owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "is_accepted": true, "score": 0, "last_activity_date": 1426108112, "last_edit_date": 1426108112, "creation_date": 1426107225, "answer_id": 28997144, "question_id": 28996982, "link": "https://stackoverflow.com/questions/28996982/reading-from-a-txt-file-and-making-conditions-from-it/28997144#28997144", "title": "Reading from a .txt file and making conditions from it", "body": "<p>If you just want to print the 6th to 14th characters of the line containing the client ID, you can do this:</p>\n\n<pre><code>client = input(\"What is your Client ID. CaSe SeNsItIvE\")\nfile = open(\"clientIntensity.txt\" , \"r\")\nfor line in file:\n    if client in line:\n        print(line[5:13])\n        break\n</code></pre>\n\n<p>(You use 5 and 13 to get the 6th-14th characters because the first character is numbered zero)</p>\n\n<p>Edit. If you want to print something based on the content of the 6th-14th characters you can do it like this:</p>\n\n<pre><code>def get_security(filename, client_id):\n    with open(filename, 'r') as f:\n        for line in f:\n            if client_id in line:\n                return line[5:13]\n\nclient = input(\"What is your Client ID. CaSe SeNsItIvE\")\nsecurity = get_security('clientIntensity.txt', client)\nif security is None:\n    print (\"Client ID not found\")\nelif security.startswith('High'):\n    print('Good')\nelif security == 'Moderate':\n    print('Bad')\nelse:\n    print('There has been an error')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4420693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-atfKJIcD35A/AAAAAAAAAAI/AAAAAAAAANk/3qR-SuRSJQY/photo.jpg?sz=128", "display_name": "Game Federation", "link": "https://stackoverflow.com/users/4420693/game-federation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 28997144, "answer_count": 1, "score": 0, "last_activity_date": 1426108112, "creation_date": 1426106687, "last_edit_date": 1426106849, "question_id": 28996982, "link": "https://stackoverflow.com/questions/28996982/reading-from-a-txt-file-and-making-conditions-from-it", "title": "Reading from a .txt file and making conditions from it", "body": "<pre><code>client = input(\"What is your Client ID. CaSe SeNsItIvE\")\nfile = open(\"clientIntensity.txt\" , \"r\")\nfound = False\nfor line in file:\n    if (client) in line:\n      found = True\n</code></pre>\n\n<p>I want to make the program so that if they enter a correct Client ID, it will search for the ID in the given .txt file. When found, it will print the 6-14 characters(They are either 'High' or 'Moderate'). It will then print something based on the 6-14 characters. I have made that much so far... Thanks!\n(Python 3.4.2)</p>\n"}, {"tags": ["python", "csv", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4660185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adQ5J.jpg?s=128&g=1", "display_name": "JF Stackhouse", "link": "https://stackoverflow.com/users/4660185/jf-stackhouse"}, "edited": false, "score": 0, "creation_date": 1426107232, "post_id": 28997001, "comment_id": 46242380, "body": "Oh, I didn&#39;t know iterators behaved that way. Interesting!  Won&#39;t that remove my ability to test against the line_num? I don&#39;t believe lists have that attribute."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 23, "user_id": 4660185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adQ5J.jpg?s=128&g=1", "display_name": "JF Stackhouse", "link": "https://stackoverflow.com/users/4660185/jf-stackhouse"}, "edited": false, "score": 0, "creation_date": 1426108287, "post_id": 28997001, "comment_id": 46242997, "body": "True, but then you can use enumerate which is more explicit anyway: <code>for line_num, row in enumerate(strings)</code>."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1426106759, "creation_date": 1426106759, "answer_id": 28997001, "question_id": 28996949, "link": "https://stackoverflow.com/questions/28996949/why-is-this-for-loop-not-called-if-there-are-any-preceding-statements-python-2/28997001#28997001", "title": "Why is this for loop not called if there are any preceding statements? (Python 2.7)", "body": "<p>You're missing that <code>Strings</code> is an iterator. Once you iterate it to get the length, it is exhausted. So the for loop now has nothing to operate on.</p>\n\n<p>You could fix this by converting to a list straight away:</p>\n\n<pre><code>strings = list(csv.reader(source))\n</code></pre>\n\n<p>Having done this, you could now access <code>len(strings)</code> to get the length anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 7977, "user_id": 3604159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32946c257cb4802dea738db1ecbf0c6?s=128&d=identicon&r=PG&f=1", "display_name": "TheBlackCat", "link": "https://stackoverflow.com/users/3604159/theblackcat"}, "is_accepted": false, "score": 0, "last_activity_date": 1426107428, "creation_date": 1426107428, "answer_id": 28997208, "question_id": 28996949, "link": "https://stackoverflow.com/questions/28996949/why-is-this-for-loop-not-called-if-there-are-any-preceding-statements-python-2/28997208#28997208", "title": "Why is this for loop not called if there are any preceding statements? (Python 2.7)", "body": "<p>As Daniel said, the problem is that you are iterating over lines in the file.  The proper solution, however, is to rewind the file:</p>\n\n<pre><code>Source.seek(0, 0)\n</code></pre>\n\n<p>This will put you back at the beginning of the file.</p>\n"}], "owner": {"reputation": 23, "user_id": 4660185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adQ5J.jpg?s=128&g=1", "display_name": "JF Stackhouse", "link": "https://stackoverflow.com/users/4660185/jf-stackhouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 28997001, "answer_count": 2, "score": 2, "last_activity_date": 1426107428, "creation_date": 1426106571, "question_id": 28996949, "link": "https://stackoverflow.com/questions/28996949/why-is-this-for-loop-not-called-if-there-are-any-preceding-statements-python-2", "title": "Why is this for loop not called if there are any preceding statements? (Python 2.7)", "body": "<p>Reading a csv, I find I'm unable to iterate through rows if there are any preceding statements in my <code>with</code> block. </p>\n\n<p>For example, if I do this:</p>\n\n<pre><code>with open (TargetFile) as source:\n        Strings = csv.reader(source)\n        for row in Strings:\n            print Strings.line_num \n</code></pre>\n\n<p>I'll get the integers 1 - (# of rows) printed to console. (Useless, yes, but I'm just testing the <code>for</code> with something obvious.)</p>\n\n<p>However, say I'm looking to grab a row at random. I'd want to first determine the # of rows and generate a random number within that range, then iterate through the rows in search of a matching line_num.</p>\n\n<p>(Here, I've kept the useless <code>print Strings.line_num</code> to avoid introducing new mistakes to the mix.)</p>\n\n<pre><code>    with open (TargetFile) as source:\n        Strings = csv.reader(source)       \n        CSV_Length = sum(1 for row in Strings)\n        print CSV_Length\n        RandRow = random.randrange(1,CSV_Length)\n        print RandRow\n        for row in Strings:\n            print Strings.line_num\n            #replace ^ with actually useful code\n</code></pre>\n\n<p>Will print the number of rows in the csv file and a random integer in that range to the console - all as expected - but the (previously working) <code>for</code> loop won't be called. Without that loop, I can't get to the useful and interesting bit</p>\n\n<p>What am I missing, here?</p>\n"}, {"tags": ["python", "algorithm", "intervals", "dateinterval"], "comments": [{"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1426106934, "post_id": 28996946, "comment_id": 46242217, "body": "They are cliques in an interval graph. May help to find something."}], "answers": [{"tags": [], "owner": {"reputation": 16264, "user_id": 52239, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2418cf397adaa4f72547f14e61348028?s=128&d=identicon&r=PG", "display_name": "Craig Gidney", "link": "https://stackoverflow.com/users/52239/craig-gidney"}, "is_accepted": false, "score": 0, "last_activity_date": 1426111900, "creation_date": 1426111900, "answer_id": 28998376, "question_id": 28996946, "link": "https://stackoverflow.com/questions/28996946/from-a-list-of-intervals-finding-all-sets-of-intervals-where-each-interval-in-o/28998376#28998376", "title": "From a List of Intervals, Finding all Sets of Intervals where EACH Interval in One Set Overlaps with All Intervals in that Set", "body": "<p>A set of intervals, where each interval must overlap with every other one in the set, will have a common point that they all overlap. Conversely, querying all the intervals at a point will give you a set of all-mutually-overlapping intervals.</p>\n\n<p>With that in mind, your problem reduces to \"What are the distinct subsets of intervals I can get, by change the point I'm querying at?\". An easy way to get all of those distinct subsets is to find the locations of events where the overlapping intervals must change, and query at a point between each pair of events.</p>\n\n<p>In the case of intervals, the events correspond to any interval starting or any interval ending. So, you just scan over the intervals starting and stopping, from left to right, while tracking the set of ones that have started but not ended. That gives you all the maximal mutually-overlapping subsets.</p>\n\n<p>In pseudo-code...</p>\n\n<pre><code>maximalMutuallyOverlappingSubsets =\n    intervals\n    .flatMap(e =&gt; [(e.start, e, true),\n                   (e.end, e, false)])\n    .sortedBy(e =&gt; e[0]).\n    .scan({}, (prevSet, (x, interval, add)) =&gt;\n        if add\n        then prevSet + {interval}\n        else prevSet - {interval})\n    .distinct() - {{}}\n</code></pre>\n\n<p>Runs in <code>O(n lg n)</code> time, with sorting being the most expensive step.</p>\n\n<p>If you're not familiar, <a href=\"http://www.brunton-spall.co.uk/post/2011/12/02/map-map-and-flatmap-in-scala/\" rel=\"nofollow\">flatMap</a> projects each item of a list into a resulting collection and then concatenates all those resulting collections' items together. <a href=\"https://msdn.microsoft.com/en-us/library/hh211665(v=vs.103).aspx?cs-save-lang=1&amp;cs-lang=vb#code-snippet-1\" rel=\"nofollow\">Scan</a> starts with the given accumulator and keeps combining the next item into the accumulator with the given function while yielding the intermediate results.</p>\n"}], "owner": {"reputation": 12091, "user_id": 1391717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/oSSdx.jpg?s=128&g=1", "display_name": "Matthew Moisen", "link": "https://stackoverflow.com/users/1391717/matthew-moisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1084, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426111900, "creation_date": 1426106543, "last_edit_date": 1495540250, "question_id": 28996946, "link": "https://stackoverflow.com/questions/28996946/from-a-list-of-intervals-finding-all-sets-of-intervals-where-each-interval-in-o", "title": "From a List of Intervals, Finding all Sets of Intervals where EACH Interval in One Set Overlaps with All Intervals in that Set", "body": "<p>Instead of querying a list of intervals with a start and end date to retrieve all intervals from the list that overlap with only the search start and end date, what is the best approach to:</p>\n\n<pre><code>From a list of date intervals, \nFind all unique sets of intervals\nWhere every interval in each set overlaps with each other interval in that set\n</code></pre>\n\n<p>Using an integer example, take the list of integer intervals <code>[{1,3},{2,4},{4,5},{5,7},{6,8}]</code>. From this list, the following are all the unique sets of intervals where every interval <strong>in each set overlaps with each other</strong>:</p>\n\n<pre><code>{ {1,3}, {2,4} }\n{ {2,4}, {4,5} }\n{ {4,5}, {5,7} }\n{ {5,7}, {6,8} }\n</code></pre>\n\n<p>Here is the class for a DateInterval:</p>\n\n<pre><code>from datetime import datetime\nclass DateInterval(object):\n    def __init__(self, start_time, end_time):\n        self.start_time = datetime.strptime(start_time, '%Y-%m-%d %H:%M:%S')\n        seld.end_time = datetime.strptime(end_time, '%Y-%m-%d %H:%M:%S')\n\n    ''' eq, gt, hash methods removed for clarity '''\n</code></pre>\n\n<p>I'll receive a list of intervals sorted by start_time ascending like so:</p>\n\n<pre><code>intervals = [DateInterval(start_time='2015-01-01 08:00:00', end_time='2015-01-01 08:30:00'),\n             DateInterval(start_time='2015-01-01 08:00:00', end_time='2015-01-01 10:00:00'),\n             DateInterval(start_time='2015-01-01 09:00:00', end_time='2015-01-01 11:00:00'),\n             DateInterval(start_time='2015-01-01 10:00:00', end_time='2015-01-01 12:00:00'),\n             DateInterval(start_time='2015-01-01 13:00:00', end_time='2015-01-01 16:00:00'),\n             DateInterval(start_time='2015-01-01 14:00:00', end_time='2015-01-01 17:00:00'),\n             DateInterval(start_time='2015-01-01 15:00:00', end_time='2015-01-01 18:00:00'),\n             DateInterval(start_time='2015-01-01 20:00:00', end_time='2015-01-01 22:00:00'),\n             DateInterval(start_time='2015-01-01 20:00:00', end_time='2015-01-01 22:00:00')\n             ]\n</code></pre>\n\n<p>(In this example list, the start and end dates always land evenly on an hour. However, they could land on any second instead (or maybe milliseconds)). After searching the exhaustive list of questions on stackoverflow regarding overlapping intervals, <a href=\"https://stackoverflow.com/questions/28996910/finding-overlapping-date-intervals-in-python-when-intervals-can-start-and-end-on\">I found the Interval Tree to be unsuitable for Date Intervals</a>).</p>\n\n<p>My lightly optimized brute force method consists of three tasks</p>\n\n<ol>\n<li>Identify all <strong>non-unique sets</strong> of intervals where <strong>at least one</strong> interval in each set overlaps with all the other intervals in that set</li>\n<li>Deduplicate the results of step 1 to find all <strong>unique sets</strong> of intervals where <strong>at least one</strong> interval in each set overlaps with all the other intervals in that set</li>\n<li>From the results of 1, find only those sets where <strong>each</strong> interval in one set overlaps with all other intervals in that set</li>\n</ol>\n\n<p><strong>1.</strong> </p>\n\n<p>The following finds all non-unique sets where only one interval in each set overlaps with every other interval in that set, by naively comparing each interval in the interval list to all the other intervals. It assumes the list of intervals are sorted by date time ascending, which enables the <code>break</code> optimization</p>\n\n<pre><code>def search(intervals, start_date, end_date):\n    results = []\n    for interval in intervals:\n        if end_date &gt;= interval.start_time:\n            if start_date &lt;= interval.end_time:\n                results.append(interval)\n        else:\n            break # This assumes intervals are sorted by date time ascending\n</code></pre>\n\n<p><code>search</code> is used like so:</p>\n\n<pre><code>brute_overlaps = []\nfor interval in intervals:\n    brute_overlaps.append(search(intervals, interval.start_time, interval.end_time))\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<p>The following deduplicates the list of sets:</p>\n\n<pre><code>def uniq(l):\n    last = object()\n    for item in l:\n        if item == last:\n            continue\n        yield item\n        last = item\n\ndef sort_and_deduplicate(l):\n    return list(uniq(sorted(l, reverse=True)))\n</code></pre>\n\n<p><strong>3.</strong></p>\n\n<p>And the following finds all sets where each interval in each set that overlaps with all other intervals in that set, by naively comparing each interval in a set to every other interval in that set:</p>\n\n<pre><code>def all_overlap(overlaps):\n    results = []\n    for overlap in overlaps:\n        is_overlap = True\n        for interval in overlap:\n            for other_interval in [o for o in overlap if o != interval]:\n                if not (interval.end_time &gt;= other_interval.start_time and interval.start_time &lt;= other_interval.end_time):\n                    is_overlap = False\n                    break # If one interval fails\n             else:        # break out of\n                 continue # both inner for loops\n             break        # and try next overlap\n\n        if is_overlap: # all intervals in this overlap set overlap with each other\n            results.append(overlap)\n    return results\n</code></pre>\n"}, {"tags": ["python", "matrix", "graph", "networkx", "pagerank"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1426108240, "post_id": 28996913, "comment_id": 46242975, "body": "The plot generated by the code looks correct to me. What result did you want?"}, {"owner": {"reputation": 21, "user_id": 4660289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c8fc8546a4f473e6185adfa4e6aac6?s=128&d=identicon&r=PG&f=1", "display_name": "Bilow", "link": "https://stackoverflow.com/users/4660289/bilow"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1426108639, "post_id": 28996913, "comment_id": 46243179, "body": "The problem is that the labels on the graph aren&#39;t placed right i think, or maybe it is because the graph isn&#39;t directed.... But the labels aren&#39;t placed according to the matrix i think"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1426109905, "post_id": 28996913, "comment_id": 46243844, "body": "Can you edit your code so that I can copy and paste it directly in so I&quot;m sure I&#39;m running the same thing as you?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4660289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c8fc8546a4f473e6185adfa4e6aac6?s=128&d=identicon&r=PG&f=1", "display_name": "Bilow", "link": "https://stackoverflow.com/users/4660289/bilow"}, "edited": false, "score": 0, "creation_date": 1426110916, "post_id": 28998018, "comment_id": 46244308, "body": "Oh thanks, i see the problem, i should transpose the matrix, because the first row in the array should be the links <i>pointing</i> to 1 and not from 1."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 4, "last_activity_date": 1426110711, "last_edit_date": 1426110711, "creation_date": 1426110361, "answer_id": 28998018, "question_id": 28996913, "link": "https://stackoverflow.com/questions/28996913/drawing-a-directed-graph-using-a-link-matrix-with-networkx/28998018#28998018", "title": "Drawing a directed graph using a link matrix with networkx", "body": "<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport networkx as nx\n\nZ = [[0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n     [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n     [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n     [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n     [1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n     [1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0],\n     [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n     [0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0],\n     [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n     [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1],\n     [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1],\n     [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],\n     [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0],\n     [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0]]\n\nG = nx.from_numpy_matrix(np.array(Z), create_using=nx.MultiDiGraph())\npos = nx.circular_layout(G)\nnx.draw_circular(G)\nlabels = {i : i + 1 for i in G.nodes()}\nnx.draw_networkx_labels(G, pos, labels, font_size=15)\nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><img src=\"https://i.stack.imgur.com/FPANT.png\" width=\"500\"></p>\n\n<p>This result appears correct to me. Notice, for example, that the node labeled <code>1</code> has directed edges pointing to <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code> and <code>7</code>. This corresponds to the ones on the first row in the array, <code>Z[0]</code>:</p>\n\n<pre><code>[0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]\n</code></pre>\n\n<p>since the first row corresponds to node 1, and the ones in this row occur in the columns corresponding to nodes <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code> and <code>7</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4660289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c8fc8546a4f473e6185adfa4e6aac6?s=128&d=identicon&r=PG&f=1", "display_name": "Bilow", "link": "https://stackoverflow.com/users/4660289/bilow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4230, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1426110711, "creation_date": 1426106437, "question_id": 28996913, "link": "https://stackoverflow.com/questions/28996913/drawing-a-directed-graph-using-a-link-matrix-with-networkx", "title": "Drawing a directed graph using a link matrix with networkx", "body": "<p>I am working on pagerank for a school project, and i have a matrix where the row \"i\" represent the links from the site j (line) to the site i. (If it is still unclear i'll explain more).</p>\n\n<p>The current part is:</p>\n\n<pre><code>Z=[[0,1,1,1,1,0,1,0,0,0,0,0,0,0],[1,0,0,0,1,0,0,0,0,0,0,0,0,0],    [1,1,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,0,0,0,1],[0,0,0,0,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,1,0]]\nA=np.matrix(Z)\nG=nx.from_numpy_matrix(A,create_using=nx.MultiDiGraph())\npos=nx.circular_layout(G)\nlabels={}\nfor i in range (N):\n    labels[i]=i+1\nnx.draw_circular(G)\nnx.draw_networkx_labels(G,pos,labels,font_size=15)\n</code></pre>\n\n<p>The problem i have is that the labels are not where they are supposed to be, it seems that networkx is just placing them clockwise...</p>\n\n<p>Also, how could i <em>easily</em> direct the graph, so that a link from j to i won't be from i to j?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "algorithm", "data-structures", "intervals", "dateinterval"], "comments": [{"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 0, "creation_date": 1426455853, "post_id": 28996910, "comment_id": 46368640, "body": "I&#39;m not sure I fully got your question. You have a set of intervals. Do you want to find all the intervals in this set that intersect with another given interval, or do you want to find all pairs of intersecting intervals in your set?"}, {"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 0, "creation_date": 1426455959, "post_id": 28996910, "comment_id": 46368682, "body": "In the first case, you don&#39;t have to query every point in your query interval; there are three cases for interval <code>I</code> to consider: the start of <code>I</code> is in the query interval (you can find that by sorting the starting dates and binary search), or the end of <code>I</code> is in the query (same as with start), or <code>I</code> fully encloses the query (use your interval tree with a random point in the query)."}], "owner": {"reputation": 12091, "user_id": 1391717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/oSSdx.jpg?s=128&g=1", "display_name": "Matthew Moisen", "link": "https://stackoverflow.com/users/1391717/matthew-moisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426106431, "creation_date": 1426106431, "question_id": 28996910, "link": "https://stackoverflow.com/questions/28996910/finding-overlapping-date-intervals-in-python-when-intervals-can-start-and-end-on", "title": "Finding Overlapping Date Intervals in Python when Intervals can Start and End on Seconds or Milliseconds", "body": "<p>What is the best approach to query a list of <code>date intervals</code> for overlapping intervals, given granularity to the second (or even millisecond)?</p>\n\n<p>From the exhaustive list of other questions regarding overlapping integer intervals, I was pointed to the <a href=\"http://en.wikipedia.org/wiki/Interval_tree\" rel=\"nofollow\">Interval Tree</a>. After reading it, I modified <a href=\"http://zurb.com/forrst/posts/Interval_Tree_implementation_in_python-e0K\" rel=\"nofollow\">this implementation</a>, which handles integer intervals, for dates.</p>\n\n<p>His search implementation loops from the starting search interval to the ending search interval, recursively appending from the left node or right node as appropriate. This works great if your intervals are close integers (or if your date intervals have granularity down to the hour and are between a day).</p>\n\n<p>I simply decided to loop over the starting search date (converted to seconds) to the ending search interval (converted to seconds via int(<code>time - epoch</code>)), which of course results in a loop of 3600 for searching over a one hour interval. Converting to milliseconds, an hour loop would be 3,600,000!</p>\n\n<p>When searching for overlapping date intervals with granularity down to the second, or millisecond, what is the appropriate algorithmic data structure to use? Is there a better way to implement the Interval Tree than looping over every second?</p>\n"}, {"tags": ["python", "arrays", "list", "search", "multidimensional-array"], "comments": [{"owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1426106197, "post_id": 28996806, "comment_id": 46241777, "body": "What  output does this script return?"}, {"owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 0, "creation_date": 1426106580, "post_id": 28996806, "comment_id": 46242013, "body": "You need to provide us with _map_commodities method"}, {"owner": {"reputation": 3, "user_id": 4660245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f368c67f386a994ac96643bbcd029b57?s=128&d=identicon&r=PG&f=1", "display_name": "haakoon", "link": "https://stackoverflow.com/users/4660245/haakoon"}, "edited": false, "score": 0, "creation_date": 1426106699, "post_id": 28996806, "comment_id": 46242082, "body": "[&#39;food&#39;, &#39;wood&#39;, &#39;ore&#39;, &#39;metal&#39;, &#39;tools&#39;] [{&#39;id&#39;: &#39;food&#39;, &#39;size&#39;: &#39;1.0&#39;}, {&#39;id&#39;: &#39;wood&#39;, &#39;size&#39;: &#39;1.0&#39;}, {&#39;id&#39;: &#39;ore&#39;, &#39;size&#39;: &#39;1.0&#39;}, {&#39;id&#39;: &#39;metal&#39;, &#39;size&#39;: &#39;1.0&#39;}, {&#39;id&#39;: &#39;tools&#39;, &#39;size&#39;: &#39;1.0&#39;}]  I need a way to search/match id&#39;s (food, wood, ore, metal, tools) and return the &quot;size&quot; related to them. I know everyone has size: 1.0 but they could be different."}], "answers": [{"comments": [{"owner": {"reputation": 2895, "user_id": 3885927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f0d03d7178fc6bb5db3308284c34e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "user3885927", "link": "https://stackoverflow.com/users/3885927/user3885927"}, "edited": false, "score": 0, "creation_date": 1426106789, "post_id": 28996854, "comment_id": 46242126, "body": "&quot;return elf._data&quot; should be &quot;return self._data&quot;"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1426106926, "last_edit_date": 1426106926, "creation_date": 1426106256, "answer_id": 28996854, "question_id": 28996806, "link": "https://stackoverflow.com/questions/28996806/python-how-to-search-in-multidimensional-array-list/28996854#28996854", "title": "python how to search in multidimensional array / list", "body": "<p>First of all you need to return the specific value on your function :</p>\n\n<pre><code>def from_json(self):\n        import json\n        self._data = json.loads('{\"commodities\":[{\"id\":\"food\",\"size\":\"1.0\"},{\"id\":\"wood\",\"size\":\"1.0\"},{\"id\":\"ore\",\"size\":\"1.0\"},{\"id\":\"metal\",\"size\":\"1.0\"},{\"id\":\"tools\",\"size\":\"1.0\"}]}')\n        return self._data\n</code></pre>\n\n<p>Then use indexing to get the related <code>size</code> of a word.for example :</p>\n\n<pre><code>x = MyClass1()\nd=x.from_json()\nprint d['commodities'][1]['size']\nu'1.0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 1363024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c010424437164dd6aa1ee263b275f915?s=128&d=identicon&r=PG", "display_name": "mobeets", "link": "https://stackoverflow.com/users/1363024/mobeets"}, "is_accepted": false, "score": 1, "last_activity_date": 1426106600, "creation_date": 1426106600, "answer_id": 28996958, "question_id": 28996806, "link": "https://stackoverflow.com/questions/28996806/python-how-to-search-in-multidimensional-array-list/28996958#28996958", "title": "python how to search in multidimensional array / list", "body": "<p>Basically what you want is:</p>\n\n<pre><code>print next(y['size'] for y in x._map_commodities if y['id'] == 'wood')\n</code></pre>\n\n<p>Which will throw an <code>StopIteration</code> exception if none of your items have the id 'wood'.</p>\n\n<p>More generally, add a method like this to <code>MyClass1</code>:</p>\n\n<pre><code>def size_from_id(self, id_name):\n    try:\n        return next(y['size'] for y in self._map_commodities if y['id'] == id_name)\n    except StopIteration:\n        return None\n</code></pre>\n\n<p>Then you can call <code>x.size_from_id('wood')</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "is_accepted": false, "score": 0, "last_activity_date": 1426106676, "creation_date": 1426106676, "answer_id": 28996977, "question_id": 28996806, "link": "https://stackoverflow.com/questions/28996806/python-how-to-search-in-multidimensional-array-list/28996977#28996977", "title": "python how to search in multidimensional array / list", "body": "<p>You could use <a href=\"http://pandas.pydata.org/\" rel=\"nofollow\"><code>pandas</code></a> to handle the data</p>\n\n<pre><code>import json\nimport pandas as pd\n\ndata = json.loads('{\"commodities\":[{\"id\":\"food\",\"size\":\"1.0\"},{\"id\":\"wood\",\"size\":\"1.0\"},{\"id\":\"ore\",\"size\":\"1.0\"},{\"id\":\"metal\",\"size\":\"1.0\"},{\"id\":\"tools\",\"size\":\"1.0\"}]}')\ndf = pd.DataFrame.from_dict(data['commodities'])\n\n# get the size of the row with id = 'wood'\nsize = df[df['id'] == 'wood']['size']\nprint size\n\n# you can get the value alone, too\nprint size.values[0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1038, "user_id": 2839862, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d874f8fa5e6480461f368400b9089a2f?s=128&d=identicon&r=PG", "display_name": "Teyras", "link": "https://stackoverflow.com/users/2839862/teyras"}, "is_accepted": true, "score": 0, "last_activity_date": 1426106699, "creation_date": 1426106699, "answer_id": 28996986, "question_id": 28996806, "link": "https://stackoverflow.com/questions/28996806/python-how-to-search-in-multidimensional-array-list/28996986#28996986", "title": "python how to search in multidimensional array / list", "body": "<p>A dictionary is more suitable for what you're trying to do:</p>\n\n<pre><code>class MyClass1(object):\n\ndef __init__(self):\n    self._data = ''\n    self._map_commodities = {}\n\ndef create_commodity_market(self):\n    for commodity in self._data['commodities']:\n        self._map_commodities[commodity['id']] = commodity['size']\n\ndef from_json(self):\n    import json\n    self._data = json.loads('{\"commodities\":[{\"id\":\"food\",\"size\":\"1.0\"},{\"id\":\"wood\",\"size\":\"1.0\"},{\"id\":\"ore\",\"size\":\"1.0\"},{\"id\":\"metal\",\"size\":\"1.0\"},{\"id\":\"tools\",\"size\":\"1.0\"}]}')\n\n\nx = MyClass1()\nx.from_json()\nx.create_commodity_market()\nprint(x._map_commodities[\"wood\"])\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4660245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f368c67f386a994ac96643bbcd029b57?s=128&d=identicon&r=PG&f=1", "display_name": "haakoon", "link": "https://stackoverflow.com/users/4660245/haakoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 28996986, "answer_count": 4, "score": 0, "last_activity_date": 1426106926, "creation_date": 1426106084, "question_id": 28996806, "link": "https://stackoverflow.com/questions/28996806/python-how-to-search-in-multidimensional-array-list", "title": "python how to search in multidimensional array / list", "body": "<p>I cannot figure out how to search in the follow list/array (stored in self._map_commodities) and the data is obtained from JSON. </p>\n\n<p><strong>The problem:\nI want to locate \"wood\" in the array and return the \"size\" value related to it</strong> </p>\n\n<p>I have tried to use index(), but I cannot get it to work.\nT</p>\n\n<pre><code>class MyClass1(object):\n\n    def __init__(self):\n        self._data = ''\n        self.list_commodities = []\n        self._map_commodities = []\n\n    def create_commodity_market(self):\n        for commodity in self._data['commodities']:\n            self.list_commodities.append(commodity['id'])\n            self._map_commodities.append(commodity)\n\n    def from_json(self):\n        import json\n        self._data = json.loads('{\"commodities\":[{\"id\":\"food\",\"size\":\"1.0\"},{\"id\":\"wood\",\"size\":\"1.0\"},{\"id\":\"ore\",\"size\":\"1.0\"},{\"id\":\"metal\",\"size\":\"1.0\"},{\"id\":\"tools\",\"size\":\"1.0\"}]}')\n\n\nx = MyClass1()\nx.from_json()\nx.create_commodity_market()\nprint(x.list_commodities)\nprint(x._map_commodities)\n####print(x._map_commodities.index(\"wood\")) # I want it to print the size-value of the wood object\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "parameters", "save", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "is_accepted": false, "score": 0, "last_activity_date": 1426113404, "creation_date": 1426113404, "answer_id": 28998702, "question_id": 28996700, "link": "https://stackoverflow.com/questions/28996700/saving-arrays-parameters-when-using-forms-in-python-cgi/28998702#28998702", "title": "Saving arrays/parameters when using forms in Python CGI", "body": "<p>CGI is considered ancient and should be avoided when building python web apps.</p>\n\n<p>Use a modern python web framework instead, probably <a href=\"https://www.djangoproject.com/\" rel=\"nofollow\">Django</a> or <a href=\"http://flask.pocoo.org/\" rel=\"nofollow\">Flask</a> (or <a href=\"http://bottlepy.org/docs/dev/index.html\" rel=\"nofollow\">Bottle</a> for a microframework).</p>\n\n<p>For example, Django has built in support for server side <a href=\"https://docs.djangoproject.com/en/1.7/topics/http/sessions/\" rel=\"nofollow\">sessions</a> which can hold your data.</p>\n"}], "owner": {"reputation": 1, "user_id": 4660224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee336edf0e2fda54c004ebafa5372b23?s=128&d=identicon&r=PG&f=1", "display_name": "Morten", "link": "https://stackoverflow.com/users/4660224/morten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426113404, "creation_date": 1426105745, "question_id": 28996700, "link": "https://stackoverflow.com/questions/28996700/saving-arrays-parameters-when-using-forms-in-python-cgi", "title": "Saving arrays/parameters when using forms in Python CGI", "body": "<p>I've been working on a small test that's going to be on a website, using Python and the cgi module, to test the Astronomy knowledge of the user. The test uses what questions have been given, and the answers to these questions, when deciding which new question to give. To achieve this I need to, for each user, keep a couple of arrays with information on which questions have been given. These arrays are updated throughout the session.</p>\n\n<p>I'm using forms, and I'm able to save a value connected to which answer the user chooses. However, I haven't found a good way to keep my arrays each time the user chooses an answer (i.e. reloads the page). I've looked into cookies, but I can't find any good tutorials/examples, and I'm having trouble progressing, especially as I'm on a tight time schedule. Does anyone know how to save arrays (or other types of parameters) when the user inputs an answer to the form? Any help would be appreciated!</p>\n"}, {"tags": ["python", "tkinter", "fedora", "dpi"], "answers": [{"tags": [], "owner": {"reputation": 785, "user_id": 5379340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TIqiy.png?s=128&g=1", "display_name": "Tersosauros", "link": "https://stackoverflow.com/users/5379340/tersosauros"}, "is_accepted": false, "score": -1, "last_activity_date": 1459059841, "last_edit_date": 1495542230, "creation_date": 1459059841, "answer_id": 36244518, "question_id": 28996640, "link": "https://stackoverflow.com/questions/28996640/is-there-a-way-to-make-tkinter-apps-bigger-on-high-dpi-displays/36244518#36244518", "title": "Is there a way to make tkinter apps bigger on high dpi displays?", "body": "<p>Yes, see <a href=\"https://stackoverflow.com/questions/34132203/scaling-of-tkinter-python-tk-gui-in-4k-38402160-resolution\">this question here</a>.</p>\n\n<p>You could also <a href=\"http://www.google.com/search?q=python+tkinter+scale+up+DPI\" rel=\"nofollow noreferrer\">Google \"python tkinter scale up DPI\"</a>, which gives <a href=\"https://stackoverflow.com/questions/34132203/scaling-of-tkinter-python-tk-gui-in-4k-38402160-resolution\">that</a> as the <a href=\"https://stackoverflow.com/questions/34132203/scaling-of-tkinter-python-tk-gui-in-4k-38402160-resolution\">second link</a>.</p>\n\n<hr>\n\n<p>Essentially, (as <a href=\"https://stackoverflow.com/questions/34132203/scaling-of-tkinter-python-tk-gui-in-4k-38402160-resolution\">the other question outlines</a>), you need a <em>scaling factor</em>.  This is based around an idealised 72 DPI.  So, for a 300 DPI display, you may wish to set a factor of around <code>4.0</code> (technically <code>4.166</code>):</p>\n\n<blockquote>\n<pre><code>root.tk.call('tk', 'scaling', 4.0)\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1873, "user_id": 49945, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84eccba13d1b96ce568516524f94953c?s=128&d=identicon&r=PG", "display_name": "MKaras", "link": "https://stackoverflow.com/users/49945/mkaras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2893, "favorite_count": 0, "closed_date": 1459108512, "answer_count": 1, "score": 5, "last_activity_date": 1459061347, "creation_date": 1426105579, "last_edit_date": 1459061347, "question_id": 28996640, "link": "https://stackoverflow.com/questions/28996640/is-there-a-way-to-make-tkinter-apps-bigger-on-high-dpi-displays", "closed_reason": "Duplicate", "title": "Is there a way to make tkinter apps bigger on high dpi displays?", "body": "<p>When I launch a python application with a gui on my macbook pro running fedora 21 - the tkinter gui is very small.</p>\n\n<p>Is there any way I can scale this up so its useful?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 2, "creation_date": 1426105255, "post_id": 28996542, "comment_id": 46241241, "body": "Have you <i>attempted</i> to translate your hand-written solution into Python yet? Also, unlike MathStack, StackOverflow does not have LaTeX support."}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "reply_to_user": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1426105437, "post_id": 28996542, "comment_id": 46241350, "body": "I don&#39;t understand why people would down vote something like this. This is really rude. import math def f(x):     reurn (122-(x/34.0)) def g(x):     return x*f(x) def h(x):     return (122-(2*x/34.0)) Am i all good upto this?"}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 1, "creation_date": 1426105473, "post_id": 28996542, "comment_id": 46241369, "body": "People just don&#39;t appreciate a question that doesn&#39;t reflect any effort on the asker&#39;s part."}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426105647, "post_id": 28996542, "comment_id": 46241464, "body": "How to solve h(x) for x? also, Can i make it any better?"}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "reply_to_user": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 1, "creation_date": 1426105828, "post_id": 28996542, "comment_id": 46241568, "body": "@iced, Why would you say something like that if I am willing to learn it? This very discouraging"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 2, "creation_date": 1426105833, "post_id": 28996542, "comment_id": 46241575, "body": "@iced Python is one of the best languages for mathematical computing and this is a solid question. Mathematica and haskell also aren&#39;t even comparable and python is significantly better than haskell here"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1426105878, "post_id": 28996542, "comment_id": 46241605, "body": "@Mathematician Don&#39;t pay attention to iced, he&#39;s being very negative, there&#39;s a good solution here though the question could have been asked more clearly. Will follow up shortly with an answer."}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "reply_to_user": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 3, "creation_date": 1426106057, "post_id": 28996542, "comment_id": 46241694, "body": "@iced Flagged comment again for being incredibly unconstructive."}, {"owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 0, "creation_date": 1426106356, "post_id": 28996542, "comment_id": 46241880, "body": "you are thinking about your badges, not about teaching people. worst thing you can do is to teach him voodoo ritual to solve this particular problem. flag it whatever you want. @Mathematician - you&#39;ll be able to solve your problem (as well as many others) after short (they estimate it to 13h) tutorial I mentioned before. ps flagged last Elizion comment as unconstructive."}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "reply_to_user": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 0, "creation_date": 1426106721, "post_id": 28996542, "comment_id": 46242094, "body": "@iced Your comment is not constructive because as opposed to providing any input to help the OP either answer or improve his question, you are telling him that he should just go take a tutorial instead. That is hardly a constructive comment, as it could apply to nearly every single question on all of Stack Overflow. &quot;If you don&#39;t know how to do something, go read a book/take a tutorial/learn more, etc.&quot; Stack Overflow is for providing people with quality answers, not telling them to go take a plethora of tutorials, so long as they have demonstrated that they have a minimal understanding."}, {"owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 0, "creation_date": 1426106902, "post_id": 28996542, "comment_id": 46242201, "body": "he doesn&#39;t even know what is python function and how it&#39;s different from math function. what other good solution but taking small python tutorial you see?"}], "answers": [{"comments": [{"owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1426106461, "post_id": 28996835, "comment_id": 46241950, "body": "Installing scientific python modules, including <code>scipy</code> on any platform (OSX, Linux or Windows) is not hat hard with Anadonda or a number of other scientific python distributions."}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426106463, "post_id": 28996835, "comment_id": 46241951, "body": "First of all thank you for the answer, Is there any way without using any external libraries to solve a simple linear equation in one variable, You can see I can manually put all the functions, but I don&#39;t see any point in doing everything by hand !"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1426107810, "post_id": 28996835, "comment_id": 46242712, "body": "@rth getting an installation isn&#39;t too difficult, but if scientific computing is something you want to dig into, you will at points have to use libraries not yet a part of conda, or recompile with specific flags, which gets more difficult on non *nix machines."}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426108220, "post_id": 28996835, "comment_id": 46242962, "body": "@Mathematician, no, native python doesn&#39;t have a lot of scientific computing capability, so it turns into a math problem on your side. If you really want to learn <code>python</code> though, the external libraries are FAR more important than the language itself."}, {"owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1426108913, "post_id": 28996835, "comment_id": 46243341, "body": "@SlaterTyranus I completely agree that having a decent terminal and *nix environment is very convenient, however python is platform independent and so are a Cython and f2py. And it&#39;s not like C/Fortran libraries can&#39;t be compiled on Windows. My point is that advising someone looking into simple optimization problems with Python to change the OS is a bit off topic [ linux user here]."}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426112258, "post_id": 28996835, "comment_id": 46244908, "body": "I don&#39;t get x=4148, while doing it manuallly. It is exactly twice of what I got."}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426114245, "post_id": 28996835, "comment_id": 46245641, "body": "@Mathematician ah, that&#39;s totally my bad, shouldn&#39;t have taken an inverse, but instead the negative."}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "reply_to_user": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 0, "creation_date": 1426114326, "post_id": 28996835, "comment_id": 46245674, "body": "@rth if the goal was only to solve this problem and stop I&#39;d agree, but as the specification here was someone trying to dive into numerical computing (at least from my read), I think it&#39;s really relevant than OS becomes the limiting factor sooner than you&#39;d think."}], "tags": [], "owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "is_accepted": false, "score": 1, "last_activity_date": 1426114240, "last_edit_date": 1426114240, "creation_date": 1426106187, "answer_id": 28996835, "question_id": 28996542, "link": "https://stackoverflow.com/questions/28996542/optimization-in-python-for-simple-linear-function/28996835#28996835", "title": "Optimization in Python for simple linear function", "body": "<p>So, you should go and download an external library for this, as it's not functionality that <code>python</code> makes easy to implement natively. Also, if you're serious about doing mathematical computation in <code>python</code> I would suggest switching operating systems to something like OSX or linux, simply because compiling old FORTRAN libraries (required for much performant mathematical computing) is a huge pain on Windows.</p>\n\n<p>You have to make use of the <code>scipy</code> library here, which has an optimize module. Specifically I would suggest using the <code>optimize.minimize_scalar</code> function. Docs can be found <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize_scalar.html#scipy.optimize.minimize_scalar\" rel=\"nofollow\">here</a>.</p>\n\n<pre><code>&gt;&gt;&gt; from scipy.optimize import minimize_scalar\n&gt;&gt;&gt; def g(x):\n...     return -(x*(122 - (x/34)))  # inverse because you're minimizing.\n&gt;&gt;&gt; minimize_scalar(g, bounds=(1, 10000), method='bounded')\n  status: 0\n    nfev: 6\n success: True\n     fun: -126514.0\n       x: 2074.0\n message: 'Solution found.'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1426108095, "post_id": 28996952, "comment_id": 46242879, "body": "Sympy is an excellent library, but lacks a good deal of functionality around more complex mathematical functions like function optimization."}, {"owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "edited": false, "score": 0, "creation_date": 1426112790, "post_id": 28996952, "comment_id": 46245080, "body": "Thank you, I got much information from this, however, when I try to integrate something, it gives me error invalid limits given"}], "tags": [], "owner": {"reputation": 476, "user_id": 4224811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mokgf.jpg?s=128&g=1", "display_name": "Gabriel Vasconcelos", "link": "https://stackoverflow.com/users/4224811/gabriel-vasconcelos"}, "is_accepted": false, "score": 2, "last_activity_date": 1426106579, "creation_date": 1426106579, "answer_id": 28996952, "question_id": 28996542, "link": "https://stackoverflow.com/questions/28996542/optimization-in-python-for-simple-linear-function/28996952#28996952", "title": "Optimization in Python for simple linear function", "body": "<p>Use <a href=\"http://www.sympy.org/pt/index.html\" rel=\"nofollow\">SymPy</a>. It's simple, beautiful and powerful.</p>\n\n<p>You can write down your equations with <code>simpify()</code>, like that:</p>\n\n<pre><code>p = simpify('122 - x/34')\n</code></pre>\n\n<p>And define symbols for symbolic evaluation with <code>Symbol()</code> and <code>symbols()</code>.\nWith that you can do things like simply use <code>solve()</code> function for any given equation. i.e. <code>x + 4 = 2x</code>:</p>\n\n<pre><code>res = solve('x + 4 - 2*x')\n</code></pre>\n\n<p>It's pretty much the tool I use for any math work with python.</p>\n"}], "owner": {"reputation": 127, "user_id": 4660246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8e6dba4b6d567ddcf5dd31facfab40?s=128&d=identicon&r=PG", "display_name": "Mathematician", "link": "https://stackoverflow.com/users/4660246/mathematician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1458938653, "creation_date": 1426105219, "last_edit_date": 1458938653, "question_id": 28996542, "link": "https://stackoverflow.com/questions/28996542/optimization-in-python-for-simple-linear-function", "title": "Optimization in Python for simple linear function", "body": "<blockquote>\n  <p>If the price charged for a crayon is p cents, then <code>x</code> thousand crayons\n  will be sold in a certain school store, where <code>p(x)= 122-x/34</code> .\n  Using Python, calculate how many crayons must be sold to maximize\n  revenue.</p>\n</blockquote>\n\n<p>I can solve this by hand much easily, the only problem is how can I do it using plain Python? I am using IDLE (Python GUI). I am new to Python and haven't downloaded any external libraries. Any help will be greatly appreciated.</p>\n\n<p>What I've done up to this point is</p>\n\n<pre><code>import math\n\ndef f(x):\n    return (122-(x/34.0))\ndef g(x):\n    return x*f(x)\ndef h(x):\n    return (122-(2*x/34.0))\n</code></pre>\n"}, {"tags": ["python", "python-3.4"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1426105351, "post_id": 28996509, "comment_id": 46241299, "body": "<a href=\"https://docs.python.org/3.4/library/os.html#os.mkdir\" rel=\"nofollow noreferrer\">docs.python.org/3.4/library/os.html#os.mkdir</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4585922"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1426105778, "post_id": 28996509, "comment_id": 46241527, "body": "Thanks, but how would the code work if the user could decide the name of the folder?"}], "owner": {"user_type": "does_not_exist", "display_name": "user4585922"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "closed_date": 1426106577, "answer_count": 0, "score": 0, "last_activity_date": 1426106585, "creation_date": 1426105110, "last_edit_date": 1426106585, "question_id": 28996509, "link": "https://stackoverflow.com/questions/28996509/create-folders-in-python-3-4", "closed_reason": "Duplicate", "title": "Create folders in python 3.4", "body": "<p>I would like to find out if there is any way of making code to create and open folders in python, I've looked around the web but I can't seem to find anything that's simple and can be implemented into current code. Is there  a way of doing it like making a text file or a different way? If there is, let me know. Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 3, "creation_date": 1426105113, "post_id": 28996479, "comment_id": 46241156, "body": "Please post the full <b>text</b> of the error message, not an image."}, {"owner": {"reputation": 786, "user_id": 1720584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/N0iSH.jpg?s=128&g=1", "display_name": "Peter Wilson", "link": "https://stackoverflow.com/users/1720584/peter-wilson"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1426105621, "post_id": 28996479, "comment_id": 46241451, "body": "@MattDMo Please let me know if the following is suitable:"}], "answers": [{"comments": [{"owner": {"reputation": 786, "user_id": 1720584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/N0iSH.jpg?s=128&g=1", "display_name": "Peter Wilson", "link": "https://stackoverflow.com/users/1720584/peter-wilson"}, "edited": false, "score": 0, "creation_date": 1426153450, "post_id": 28996822, "comment_id": 46258454, "body": "Thanks Tony, the problem was that the IdName was being inserted into the Overlaps field for each Watershed that was being overlapped and my ID&#39;s start at 10000. The field length was set to 255 characters and I needed 815. I&#39;ve reduced my ID&#39;s to thousand to resolve the following."}], "tags": [], "owner": {"reputation": 898, "user_id": 545237, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/tyoag.jpg?s=128&g=1", "display_name": "BrokenRobot", "link": "https://stackoverflow.com/users/545237/brokenrobot"}, "is_accepted": true, "score": 1, "last_activity_date": 1426106137, "last_edit_date": 1592644375, "creation_date": 1426106137, "answer_id": 28996822, "question_id": 28996479, "link": "https://stackoverflow.com/questions/28996479/separate-overlapping-polygons-into-regions/28996822#28996822", "title": "Separate overlapping polygons into regions", "body": "<p>The clues are in the errors.</p>\n<blockquote>\n<p>the row contains a bad value [Watershed]</p>\n<p>the row contains a bad value [overlaps]</p>\n</blockquote>\n<p>This is likely cause by trying to insert a value into the field <em>overlaps</em>, but due to something with the field properties like the length is 4 and your value is &quot;long string&quot;, it therefore is too big to be inserted.</p>\n<p><a href=\"http://support.esri.com/en/knowledgebase/techarticles/detail/37826\" rel=\"nofollow noreferrer\">ESRI</a></p>\n<p><a href=\"https://gis.stackexchange.com/questions/31042/insert-cursor-row-contains-a-bad-value\">GIS Stack Exchange</a></p>\n"}], "owner": {"reputation": 786, "user_id": 1720584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/N0iSH.jpg?s=128&g=1", "display_name": "Peter Wilson", "link": "https://stackoverflow.com/users/1720584/peter-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 28996822, "answer_count": 1, "score": 0, "last_activity_date": 1426106137, "creation_date": 1426104998, "last_edit_date": 1492086825, "question_id": 28996479, "link": "https://stackoverflow.com/questions/28996479/separate-overlapping-polygons-into-regions", "title": "Separate overlapping polygons into regions", "body": "<p>I cam across the following post under Stack Overflow: <a href=\"https://gis.stackexchange.com/questions/32217/exploding-overlapping-to-new-non-overlapping-polygons\">Exploding overlapping polygons</a></p>\n\n<p>I downloaded the source code that was posted by the initial author of the post and made adjustments trying to get it to work, but I'm currently receiving the following error message and not sure how to resolve it, please be advised that I'm still learning to code, so I'm lacking fundamental theory.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yJZyE.jpg\" alt=\"Error Message: When running the attached code\"></p>\n\n<p>Error Message: Text</p>\n\n<blockquote>\n  <p>Executing: OverlapReg\n  E:\\Projects\\2015\\H111225_6\\ArcHydro\\27Jan15\\01SouthNorthAlign\\OverlappingWatershedsAnalysis.gdb\\Watershed\n  HydroID2 Start Time: Wed Mar 11 14:58:32 2015 Running script\n  OverlapReg... Failed script OverlapReg...</p>\n  \n  <p>Traceback (most recent call last):   File\n  \"E:\\Python\\Masters\\Scripts\\OverlappingRegions\\OverlappingRegions.py\",\n  line 59, in \n      countOverlaps(fc,idName)   File \"E:\\Python\\Masters\\Scripts\\OverlappingRegions\\OverlappingRegions.py\",\n  line 58, in countOverlaps\n      urows.updateRow(urow)   File \"c:\\program files (x86)\\arcgis\\desktop10.2\\arcpy\\arcpy\\arcobjects\\arcobjects.py\", line\n  102, in updateRow\n      return convertArcObjectToPythonObject(self._arc_object.UpdateRow(*gp_fixargs(args)))\n  RuntimeError: ERROR 999999: Error executing function. The row contains\n  a bad value. [Watershed] The row contains a bad value. [overlaps]</p>\n  \n  <p>Failed to execute (OverlapReg). Failed at Wed Mar 11 14:58:35 2015\n  (Elapsed Time: 2.45 seconds)</p>\n</blockquote>\n\n<p>I'm trying to assign id's to my Watershed Feature Class based on the following code to be able to split my Watershed Feature Class into the least amount of separate feature classes where the Watersheds don't overlap each other, as I need to export them into a AutoCAD drawing where there are not overlapping features within a single layer.</p>\n\n<pre><code>import os\nimport arcpy\n\nfrom arcpy import GetParameterAsText\n\nfc = GetParameterAsText(0)\nidName = GetParameterAsText(1)\n\ndirname = os.path.dirname(arcpy.Describe(fc).catalogPath)\ndesc = arcpy.Describe(dirname)\nif hasattr(desc, \"datasetType\") and desc.datasetType=='FeatureDataset':\n    dirname = os.path.dirname(dirname)\n\narcpy.env.workspace = dirname\n\ndef countOverlaps(fc,idName):\n    intersect = arcpy.Intersect_analysis(fc,'intersect')\n    findID = arcpy.FindIdentical_management(intersect,\"explFindID\",\"Shape\")\n    arcpy.MakeFeatureLayer_management(intersect,\"intlyr\")\n    arcpy.AddJoin_management(\"intlyr\",arcpy.Describe(\"intlyr\").OIDfieldName,findID,\"IN_FID\",\"KEEP_ALL\")\n    segIDs = {}\n    featseqName = \"explFindID.FEAT_SEQ\"\n    idNewName = \"intersect.\"+idName\n\n    for row in arcpy.SearchCursor(\"intlyr\"):\n        idVal = row.getValue(idNewName)\n        featseqVal = row.getValue(featseqName)\n        segIDs[featseqVal] = []\n    for row in arcpy.SearchCursor(\"intlyr\"):\n        idVal = row.getValue(idNewName)\n        featseqVal = row.getValue(featseqName)\n        segIDs[featseqVal].append(idVal)\n\n    segIDs2 = {}\n    for row in arcpy.SearchCursor(\"intlyr\"):\n        idVal = row.getValue(idNewName)\n        segIDs2[idVal] = []\n\n    for x,y in segIDs.iteritems():\n        for segID in y:\n            segIDs2[segID].extend([k for k in y if k != segID])\n\n    for x,y in segIDs2.iteritems():\n        segIDs2[x] = list(set(y))\n\n    arcpy.RemoveJoin_management(\"intlyr\",arcpy.Describe(findID).name)\n\n    if 'overlaps' not in [k.name for k in arcpy.ListFields(fc)]:\n        arcpy.AddField_management(fc,'overlaps',\"TEXT\")\n    if 'ovlpCount' not in [k.name for k in arcpy.ListFields(fc)]:\n        arcpy.AddField_management(fc,'ovlpCount',\"SHORT\")\n\n    urows = arcpy.UpdateCursor(fc)\n    for urow in urows:\n        idVal = urow.getValue(idName)\n        if segIDs2.get(idVal):\n            urow.overlaps = str(segIDs2[idVal]).strip('[]')\n            urow.ovlpCount = len(segIDs2[idVal])\n        urows.updateRow(urow)\ncountOverlaps(fc,idName)\n\ndef explodeOverlaps(fc,idName):\n\n    countOverlaps(fc,idName)\n\n    arcpy.AddField_management(fc,'expl',\"SHORT\")\n\n    urows = arcpy.UpdateCursor(fc,'\"overlaps\" IS NULL')\n    for urow in urows:\n        urow.expl = 1\n        urows.updateRow(urow)\n\n    i=1\n    lyr = arcpy.MakeFeatureLayer_management(fc)\n    while int(arcpy.GetCount_management(arcpy.SelectLayerByAttribute_management(lyr,\"NEW_SELECTION\",'\"expl\" IS NULL')).getOutput(0)) &gt; 0:\n        ovList=[]\n        urows = arcpy.UpdateCursor(fc,'\"expl\" IS NULL','','','ovlpCount D')\n        for urow in urows:\n            ovVal = urow.overlaps\n            idVal = urow.getValue(idName)\n            intList = ovVal.replace(' ','').split(',')\n            for x in intList:\n                intList[intList.index(x)] = int(x)\n            if idVal not in ovList:\n                urow.expl = i\n            urows.updateRow(urow)\n            ovList.extend(intList)\n        i+=1\nexplodeOverlaps(fc,idName)\n</code></pre>\n\n<p>Any assistance in how to resolve the following will truly be appreciated.</p>\n"}, {"tags": ["python", "time", "filter", "gis"], "comments": [{"owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 0, "creation_date": 1426105315, "post_id": 28996477, "comment_id": 46241273, "body": "1. clarify question - how it doesn&#39;t work, what&#39;s error. 2. learn format &quot;and time &gt;= {0} and time &lt;= {1}&quot;.format(stTime, endTime)"}, {"owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "edited": false, "score": 1, "creation_date": 1426106941, "post_id": 28996477, "comment_id": 46242221, "body": "You&#39;re spanning two days but not including date information, so it&#39;s the same as asking for a number that&#39;s greater than 23 but less than 7 - nothing will ever pass that check."}], "answers": [{"tags": [], "owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "is_accepted": true, "score": 0, "last_activity_date": 1426113066, "creation_date": 1426113066, "answer_id": 28998633, "question_id": 28996477, "link": "https://stackoverflow.com/questions/28996477/python-time-filter-not-working/28998633#28998633", "title": "Python Time Filter Not Working", "body": "<p>First, a few general tips:</p>\n\n<ul>\n<li>If you use SQL, try using a decent <a href=\"http://en.wikipedia.org/wiki/Object-relational_mapping\" rel=\"nofollow\">ORM</a>, probably <a href=\"http://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a>.  It will save you a lot of time and trouble.</li>\n<li>A cleaner filter would be <code>... AND (Time &gt;= 07:00:00 AND Time &lt; 15:00:00)</code> instead of the <code>:59:59</code> hack.</li>\n</ul>\n\n<p>And for the solution: The filter for case #3 should be using OR since a time cannot be both after 23:00 and before 07:00 :</p>\n\n<pre><code>... AND (Time &lt; 07:00:00 OR Time &gt;= 23:00:00)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 3434438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3dR6.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3434438/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 28998633, "answer_count": 1, "score": 0, "last_activity_date": 1426113066, "creation_date": 1426104995, "question_id": 28996477, "link": "https://stackoverflow.com/questions/28996477/python-time-filter-not-working", "title": "Python Time Filter Not Working", "body": "<p>I have a script I am using to produce GIS maps. The incidents being mapped are filtered by time of day using an \"elif\" statement to filter incident data:</p>\n\n<pre><code>    elif iHours == 8:\n        if x == 0:\n            stTime = \"00:00:00\"\n            endTime = \"23:59:59\"\n        elif x == 1:\n            stTime = \"07:00:00\"\n            endTime = \"14:59:59\"\n        elif x == 2:\n            stTime = \"15:00:00\"\n            endTime = \"22:59:59\"\n        elif x == 3:\n            stTime = \"23:00:00\"\n            endTime = \"06:59:59\"\n</code></pre>\n\n<p>0 through 2 work fine but the script does not work on 3 (23:00:00 - 06:59:59). Here is the IF statement I am using to also filter the data.</p>\n\n<pre><code>    \"' AND \\\"Time\\\" &gt;=  '\" +  stTime + \"' AND \\\"Time\\\" &lt;= '\" + endTime + \"'\"\n</code></pre>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["python", "nltk", "corpus", "tagged-corpus"], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 1477372, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e984713f02d3255d1bede0d187d041ac?s=128&d=identicon&r=PG", "display_name": "Greencat", "link": "https://stackoverflow.com/users/1477372/greencat"}, "edited": false, "score": 0, "creation_date": 1426106918, "post_id": 28996713, "comment_id": 46242210, "body": "I am using the UPenn tagset (I believe. I am not 100% sure). I don&#39;t want to augment them but add a corpus so that when it trains its classifier, it can be more accurate."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 142, "user_id": 1477372, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e984713f02d3255d1bede0d187d041ac?s=128&d=identicon&r=PG", "display_name": "Greencat", "link": "https://stackoverflow.com/users/1477372/greencat"}, "edited": false, "score": 0, "creation_date": 1426133577, "post_id": 28996713, "comment_id": 46251042, "body": "Then it&#39;s probably the fragment from the Penn Treebank; #17 from the last link. You might then actually be better off replacing it entirely because it&#39;s rather old and gritty; google for English treebank corpora."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 142, "user_id": 1477372, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e984713f02d3255d1bede0d187d041ac?s=128&d=identicon&r=PG", "display_name": "Greencat", "link": "https://stackoverflow.com/users/1477372/greencat"}, "edited": false, "score": 0, "creation_date": 1426134320, "post_id": 28996713, "comment_id": 46251224, "body": "<a href=\"http://stackoverflow.com/questions/8949517/is-there-any-treebank-for-free\" title=\"is there any treebank for free\">stackoverflow.com/questions/8949517/&hellip;</a> and <a href=\"https://catalog.ldc.upenn.edu/LDC2012T13\" rel=\"nofollow noreferrer\">catalog.ldc.upenn.edu/LDC2012T13</a> out of the top Google results."}], "tags": [], "owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 1, "last_activity_date": 1426105803, "creation_date": 1426105803, "answer_id": 28996713, "question_id": 28996432, "link": "https://stackoverflow.com/questions/28996432/editing-the-nltk-corpus/28996713#28996713", "title": "Editing the NLTK Corpus", "body": "<p>NLTK comes with a substantial number of different corpora. It would help if you specified in more detail which corpus you want to augment. The main English POS corpus in NLTK is the <a href=\"http://www.nltk.org/howto/corpus.html#tagged-corpora\" rel=\"nofollow\">Brown corpus</a>. See also <a href=\"http://www.nltk.org/book/ch05.html\" rel=\"nofollow\">http://www.nltk.org/book/ch05.html</a> as well as <a href=\"http://en.wikipedia.org/wiki/Brown_Corpus\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Brown_Corpus</a> and <a href=\"http://www.nltk.org/nltk_data/\" rel=\"nofollow\">http://www.nltk.org/nltk_data/</a></p>\n"}], "owner": {"reputation": 142, "user_id": 1477372, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e984713f02d3255d1bede0d187d041ac?s=128&d=identicon&r=PG", "display_name": "Greencat", "link": "https://stackoverflow.com/users/1477372/greencat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 1, "accepted_answer_id": 28996713, "answer_count": 1, "score": 1, "last_activity_date": 1572464467, "creation_date": 1426104836, "last_edit_date": 1426106757, "question_id": 28996432, "link": "https://stackoverflow.com/questions/28996432/editing-the-nltk-corpus", "title": "Editing the NLTK Corpus", "body": "<p>In addition to the corpus that comes with nltk I want to train it with my own corpus that follows the same part of speech rules. How can I find the corpus that it is using, and how can I add my own corpus (in addition, not as a replacement)?</p>\n\n<p><strong>EDIT:</strong> Here is the code that I am currently using:</p>\n\n<pre><code>inpy = raw_input(\"$\")\ntext = nltk.word_tokenize(inpy)\nd = nltk.pos_tag(text)\n</code></pre>\n"}, {"tags": ["python", "url", "web", "beautifulsoup", "httplib2"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426106100, "post_id": 28996714, "comment_id": 46241726, "body": "can you explain what is auto? and what do you want to count in auto?"}, {"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426106308, "post_id": 28996714, "comment_id": 46241853, "body": "Also please accept the answer, i assume it&#39;s correct."}, {"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426106486, "post_id": 28996714, "comment_id": 46241958, "body": "just set a variable count to zero before the for loop &amp; increment it by one for every match found."}, {"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426106847, "post_id": 28996714, "comment_id": 46242174, "body": "No Problem :). If want to thank you, then accept the answer :) If you don&#39;t know how to do that then here is the link explain that: <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426108482, "post_id": 28996714, "comment_id": 46243094, "body": "count = 0 for link in BeautifulSoup(response, parseOnlyThese=SoupStrainer(&#39;a&#39;)):      count = count + 1 print &#39;Count: &#39;, count   i make it before for loop and it doesont give me any useful sings"}, {"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426108518, "post_id": 28996714, "comment_id": 46243110, "body": "[count = 0 for link in BeautifulSoup(response, parseOnlyThese=SoupStrainer(&#39;a&#39;)):      count = count + 1 print &#39;Count: &#39;, count ]"}, {"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426113861, "post_id": 28996714, "comment_id": 46245473, "body": "what is the output you got? I suggest you post a different question with code in question. this question is only for searching."}], "tags": [], "owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1426105805, "creation_date": 1426105805, "answer_id": 28996714, "question_id": 28996415, "link": "https://stackoverflow.com/questions/28996415/how-do-you-get-links-with-certain-words-using-beautifulsoup/28996714#28996714", "title": "how do you get links with certain words using beautifulsoup", "body": "<p>You can use simple string search using in. Below example print only the links which has '/website-builder' in href.</p>\n\n<pre><code>if '/website-builder' in link['href']:\n    print link['href']\n</code></pre>\n\n<p>Full Code:</p>\n\n<pre><code>import httplib2\nfrom BeautifulSoup import BeautifulSoup, SoupStrainer\n\nhttp = httplib2.Http()\nstatus, response = http.request('http://www.mywebsite.com')\n\nfor link in BeautifulSoup(response, parseOnlyThese=SoupStrainer('a')):\n    if link.has_key('href'):\n        if '/website-builder' in link['href']:\n          print link['href']\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>/website-builder?linkOrigin=website-builder&amp;linkId=hd.mainnav.mywebsite\n/website-builder?linkOrigin=website-builder&amp;linkId=hd.subnav.mywebsite.mywebsite\n/website-builder?linkOrigin=website-builder&amp;linkId=hd.subnav.hosting.mywebsite\n/website-builder?linkOrigin=website-builder&amp;linkId=ct.btn.stickynavigation.easy-to-use#easy-to-use\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "is_accepted": false, "score": 0, "last_activity_date": 1426105854, "creation_date": 1426105854, "answer_id": 28996729, "question_id": 28996415, "link": "https://stackoverflow.com/questions/28996415/how-do-you-get-links-with-certain-words-using-beautifulsoup/28996729#28996729", "title": "how do you get links with certain words using beautifulsoup", "body": "<p>Here's what I came up with:</p>\n\n<pre><code>links = [link for link in BeautifulSoup(response, parseOnlyThese=SoupStrainer('a')) if link.find(\"word\") != -1]\nprint links\n</code></pre>\n\n<p>Of course you should replace \"word\" with any word you wish to filter by.</p>\n"}], "owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2777, "favorite_count": 0, "accepted_answer_id": 28996714, "answer_count": 2, "score": 0, "last_activity_date": 1522574192, "creation_date": 1426104777, "last_edit_date": 1426104877, "question_id": 28996415, "link": "https://stackoverflow.com/questions/28996415/how-do-you-get-links-with-certain-words-using-beautifulsoup", "title": "how do you get links with certain words using beautifulsoup", "body": "<p>This code is for getying links from html webpages, but I want to make it give me only the links with certain words. \nFor instance, only links that have this word in there urls: <code>\"www.mywebsite.com/word\"</code></p>\n\n<p>My code :</p>\n\n<pre><code>import httplib2\nfrom BeautifulSoup import BeautifulSoup, SoupStrainer\n\nhttp = httplib2.Http()\nstatus, response = http.request('http://www.mywebsite.com')\n\n\n\nfor link in BeautifulSoup(response, parseOnlyThese=SoupStrainer('a')):\n\n    if link.has_key('href'):\n        print link['href']`\n</code></pre>\n"}, {"tags": ["python", "linux", "bash", "shell", "unix"], "comments": [{"owner": {"reputation": 4252, "user_id": 4024473, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-b-GZ3XweM6Y/AAAAAAAAAAI/AAAAAAAAAa8/sjVrj3-Rmz0/photo.jpg?sz=128", "display_name": "Michael Jaros", "link": "https://stackoverflow.com/users/4024473/michael-jaros"}, "edited": false, "score": 0, "creation_date": 1426105252, "post_id": 28996373, "comment_id": 46241240, "body": "Do you want to find the json files in all subdirectories recursively, or just in the directory plus one level of subdirectories?"}], "answers": [{"tags": [], "owner": {"reputation": 4252, "user_id": 4024473, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-b-GZ3XweM6Y/AAAAAAAAAAI/AAAAAAAAAa8/sjVrj3-Rmz0/photo.jpg?sz=128", "display_name": "Michael Jaros", "link": "https://stackoverflow.com/users/4024473/michael-jaros"}, "is_accepted": false, "score": 0, "last_activity_date": 1426106054, "last_edit_date": 1495541574, "creation_date": 1426104984, "answer_id": 28996473, "question_id": 28996373, "link": "https://stackoverflow.com/questions/28996373/getting-path-in-python-script/28996473#28996473", "title": "Getting path in python script", "body": "<p>Use the accepted answer to <a href=\"https://stackoverflow.com/questions/2186525/use-a-glob-to-find-files-recursively-in-python\">this StackOverflow question</a>, starting with <code>DIR2+dirname</code> as the path to find all your JSON files.</p>\n\n<p>This snippet was copied from there and slightly adapted:</p>\n\n<pre><code>import fnmatch\nimport os\n\nmatches = []\n\nfor root, dirnames, filenames in os.walk(DIR2 + dirname):\n  for filename in fnmatch.filter(filenames, '*.json'):\n      matches.append(os.path.join(root, filename))\n\nsubprocess.Popen([\"nohup\", \"python\", DIR4] + matches)\n</code></pre>\n\n<p>If you have many files, keep in mind that there is an OS-specific limit on command line length, see this <a href=\"https://serverfault.com/questions/163371/linux-command-line-character-limit\">ServerFault question</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4655297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de67f8db8492396e0ec85d474cac2ee4?s=128&d=identicon&r=PG&f=1", "display_name": "PETER", "link": "https://stackoverflow.com/users/4655297/peter"}, "edited": false, "score": 0, "creation_date": 1426106367, "post_id": 28996474, "comment_id": 46241889, "body": "I am getting <code>Usage: python LIMSQCstats.py inputFile.json</code> and not doing what it should do @tzaman"}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1426105321, "last_edit_date": 1426105321, "creation_date": 1426104985, "answer_id": 28996474, "question_id": 28996373, "link": "https://stackoverflow.com/questions/28996373/getting-path-in-python-script/28996474#28996474", "title": "Getting path in python script", "body": "<p>Use the <a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow\">glob</a> module:</p>\n\n<pre><code>import os.path\nimport glob\njsons = glob.glob(os.path.join(DIR2, dirname, '*', '*.json'))\nsubprocess.Popen([\"nohup\", \"python\", DIR4] + jsons)\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4655297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de67f8db8492396e0ec85d474cac2ee4?s=128&d=identicon&r=PG&f=1", "display_name": "PETER", "link": "https://stackoverflow.com/users/4655297/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 28996474, "answer_count": 2, "score": -1, "last_activity_date": 1426106054, "creation_date": 1426104631, "last_edit_date": 1426104755, "question_id": 28996373, "link": "https://stackoverflow.com/questions/28996373/getting-path-in-python-script", "title": "Getting path in python script", "body": "<p>I am trying to use a subprocess in python to run some scripts on linux,\nbut my path does not work on what I am trying to do.. </p>\n\n<p>I am using:</p>\n\n<pre><code>subprocess.Popen([\"nohup\", \"python\", DIR4, DIR2 + dirname + /*  + '/*.json'])\n</code></pre>\n\n<p><code>DIR4 = path of python, DIR2+dirname</code> is the directory I want to go into.\nFrom here I want to use all sub directories in <code>DIR2+dirname</code> and all json files in all the subdirectories. </p>\n\n<p>so for example:</p>\n\n<pre><code> DIR2+dirname = /tmp/test/ \n</code></pre>\n\n<p>in the <code>/tmp/test/</code> directory, there are <code>/tt1, /tt2, /tt3</code> \neach <code>/tt</code> directories contains <code>1.json, 2.json, 3.json</code>\nHow can I call this all using my command all the way on top?</p>\n"}, {"tags": ["python", "boto", "boto3", "botocore"], "answers": [{"comments": [{"owner": {"reputation": 8330, "user_id": 2619107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d4663fa7d82a21f3817d54e9db8b34?s=128&d=identicon&r=PG", "display_name": "Rafa", "link": "https://stackoverflow.com/users/2619107/rafa"}, "edited": false, "score": 0, "creation_date": 1429072320, "post_id": 29637081, "comment_id": 47424725, "body": "Thanks Daniel. I wrote some code basing on the resources you gave. I&#39;ll try to run it when boto3 is ready."}, {"owner": {"reputation": 25935, "user_id": 2430241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41412a40b6ba18ba3e82a887a4f2e0de?s=128&d=identicon&r=PG", "display_name": "Ben Whaley", "link": "https://stackoverflow.com/users/2430241/ben-whaley"}, "edited": false, "score": 2, "creation_date": 1442016932, "post_id": 29637081, "comment_id": 52925730, "body": "This topic is covered in the boto3 docs now under the <a href=\"http://boto3.readthedocs.org/en/latest/guide/events.html\" rel=\"nofollow noreferrer\">Extensibility Guide</a>."}, {"owner": {"reputation": 8330, "user_id": 2619107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d4663fa7d82a21f3817d54e9db8b34?s=128&d=identicon&r=PG", "display_name": "Rafa", "link": "https://stackoverflow.com/users/2619107/rafa"}, "edited": false, "score": 1, "creation_date": 1443211831, "post_id": 29637081, "comment_id": 53418689, "body": "Thanks Ben. I&#39;ve updated the question with a runnable code snippet and will accept this answer."}, {"owner": {"reputation": 25935, "user_id": 2430241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41412a40b6ba18ba3e82a887a4f2e0de?s=128&d=identicon&r=PG", "display_name": "Ben Whaley", "link": "https://stackoverflow.com/users/2430241/ben-whaley"}, "edited": false, "score": 0, "creation_date": 1443555097, "post_id": 29637081, "comment_id": 53538050, "body": "Also I wrote <a href=\"https://whaletech.co/2015/09/25/extending-boto3.html\" rel=\"nofollow noreferrer\">a blog post</a> about my experience using it so far. May prove useful to others."}], "tags": [], "owner": {"reputation": 6717, "user_id": 164268, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb0a0764f087f1d035e569d00600576c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/164268/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1429044301, "creation_date": 1429044301, "answer_id": 29637081, "question_id": 28996265, "link": "https://stackoverflow.com/questions/28996265/how-to-extend-a-boto3-resource/29637081#29637081", "title": "How to extend a Boto3 resource?", "body": "<p>The short answer is that this isn't yet possible but it is planned to allow customizations of this sort. You can already see them in action with the new <code>upload_file</code> and <code>download_file</code> customization available on the S3 client. The plan is to use that same sort of mechanism for Boto 3 resources.</p>\n\n<ol>\n<li>Resources will fire some kind of event when creating a class that includes the attribute dict of all methods/attributes</li>\n<li>You hook your own method into the attribute dict</li>\n<li>The class gets created with your custom method - no monkey-patching required.</li>\n</ol>\n\n<p>Take a look here:</p>\n\n<p><a href=\"https://github.com/boto/boto3/blob/develop/boto3/session.py#L314-L318\" rel=\"nofollow\">https://github.com/boto/boto3/blob/develop/boto3/session.py#L314-L318</a>\n<a href=\"https://github.com/boto/boto3/tree/develop/boto3/s3\" rel=\"nofollow\">https://github.com/boto/boto3/tree/develop/boto3/s3</a></p>\n\n<p>Boto 3 extensibility is definitely on our radar.</p>\n"}], "owner": {"reputation": 8330, "user_id": 2619107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d4663fa7d82a21f3817d54e9db8b34?s=128&d=identicon&r=PG", "display_name": "Rafa", "link": "https://stackoverflow.com/users/2619107/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 0, "accepted_answer_id": 29637081, "answer_count": 1, "score": 5, "last_activity_date": 1443212176, "creation_date": 1426104205, "last_edit_date": 1495541382, "question_id": 28996265, "link": "https://stackoverflow.com/questions/28996265/how-to-extend-a-boto3-resource", "title": "How to extend a Boto3 resource?", "body": "<p>On boto3, how can I extend <code>ResourceModel</code>? What I wan't to do is subclass <code>boto3.resources.factory.ec2.Instance</code> and add a <code>run</code> method to it. That method would be used to remotely run commands on the EC2 instance represented by the Python object, via SSH. I wish to do this in a clean way, i.e., without resorting to monkey patches or other obscure techniques.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on <a href=\"https://stackoverflow.com/a/29637081\">Daniel's answer</a>, I came up with the following code. Requires a recent version of Boto 3, and <a href=\"https://github.com/mwilliamson/spur.py\" rel=\"nofollow noreferrer\">Spur</a> for the SSH connection (<code>pip install spur boto3</code>).</p>\n\n<pre><code>from boto3 import session\nfrom shlex import split\nfrom spur import SshShell\n\n# Customize here.\nREGION = 'AWS-REGION'\nINSTID = 'AWS-INSTANCE-ID'\nUSERID = 'SSH-USER'\n\ndef hook_ssh(class_attributes, **kwargs):\n    def run(self, command):\n        '''Run a command on the EC2 instance via SSH.'''\n\n        # Create the SSH client.\n        if not hasattr(self, '_ssh_client'):\n            self._ssh_client = SshShell(self.public_ip_address, USERID)\n\n        print(self._ssh_client.run(split(command)).output.decode())\n\n    class_attributes['run'] = run\n\nif __name__ == '__main__':\n    b3s = session.Session()\n    ec2 = b3s.resource('ec2', region_name=REGION)\n\n    # Hook the \"run\" method to the \"ec2.Instance\" resource class.\n    b3s.events.register('creating-resource-class.ec2.Instance', hook_ssh)\n\n    # Run some commands.\n    ec2.Instance(INSTID).run('uname -a')\n    ec2.Instance(INSTID).run('uptime')\n</code></pre>\n"}, {"tags": ["python", "oop"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1426103744, "post_id": 28996109, "comment_id": 46240384, "body": "Don&#39;t write getters and setters in Python."}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1426103749, "post_id": 28996109, "comment_id": 46240389, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/6618002/python-property-versus-getters-and-setters\">Python @property versus getters and setters</a>"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1426103757, "post_id": 28996109, "comment_id": 46240396, "body": "Using getters and setters is discouraged in Python.  What makes you think this usage is encouraged?"}, {"owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "edited": false, "score": 0, "creation_date": 1426104129, "post_id": 28996109, "comment_id": 46240624, "body": "I am confused as to why  we should be using them in the first place? I was reading up w.r.t interfaces from a book chapter and I could not really understand why we use them when the attributes could be changed by themselves?"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1426104165, "post_id": 28996109, "comment_id": 46240643, "body": "@durga: What book?  If a book is telling you to use getters &amp; setters in Python, stop reading it."}, {"owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "edited": false, "score": 0, "creation_date": 1426104520, "post_id": 28996109, "comment_id": 46240827, "body": "may be i understood it wrong , but this is the quote from the book  &quot;The key purpose of modeling an object in object-oriented design is to determine what the public interface of that object will be. The interface is the collection of attributes and methods that other objects can use to interact with that object&quot;.  Book : Python 3 Object Oriented Programming pg:27"}, {"owner": {"reputation": 3360, "user_id": 1230663, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hA5Wp.jpg?s=128&g=1", "display_name": "br3w5", "link": "https://stackoverflow.com/users/1230663/br3w5"}, "edited": false, "score": 1, "creation_date": 1426104969, "post_id": 28996109, "comment_id": 46241071, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2866987/what-is-the-definition-of-interface-in-object-oriented-programming\" title=\"what is the definition of interface in object oriented programming\">stackoverflow.com/questions/2866987/&hellip;</a>"}, {"owner": {"reputation": 3360, "user_id": 1230663, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hA5Wp.jpg?s=128&g=1", "display_name": "br3w5", "link": "https://stackoverflow.com/users/1230663/br3w5"}, "edited": false, "score": 0, "creation_date": 1426104995, "post_id": 28996109, "comment_id": 46241083, "body": "i think you are trying to understand interfaces not getters and setters"}, {"owner": {"reputation": 1556, "user_id": 1684354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5601bae4a82262e2d26ebb9da9b17f0b?s=128&d=identicon&r=PG", "display_name": "iced", "link": "https://stackoverflow.com/users/1684354/iced"}, "edited": false, "score": 0, "creation_date": 1426105007, "post_id": 28996109, "comment_id": 46241093, "body": "I&#39;d advise to stay away from any book titles &quot;&lt;Any Language&gt; Object Oriented Programming&quot;."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1426105536, "post_id": 28996109, "comment_id": 46241413, "body": "&quot;The interface is the collection of attributes and methods that other objects can use to interact with that object&quot;, that it is. In Python the convention is: if the attribute or method starts with <code>_</code> then you shouldn&#39;t touch it, if it does not start with <code>_</code> then go ahead and do whatever you want with it."}, {"owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "edited": false, "score": 0, "creation_date": 1426105733, "post_id": 28996109, "comment_id": 46241506, "body": "br3w5 - the book does talk about @property in the later chapters . I do understand what interface from the user end, but I am failing to understand in this specific context.  -antti - yup I did read somewhere that python doesnot explicitly mention what to be touched and what not to be touched, but again I don&#39;t know why such rules exist"}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426106384, "post_id": 28996109, "comment_id": 46241906, "body": "@durga, re your question in your edit: &quot;I am trying to understand the rationale behind not modifying the attributes by themselves&quot; -- see my (long, sorry) answer for one reason, and a few others listed in the bottom note."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1426106586, "post_id": 28996109, "comment_id": 46242015, "body": "@tzaman: I&#39;m unconvinced this is a duplicate of that particular question.  Here, OP is clearly unaware of <code>@property</code> in the first place.  Perhaps there&#39;s a different dupe target, but this one isn&#39;t it."}], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "edited": false, "score": 0, "creation_date": 1426121660, "post_id": 28996725, "comment_id": 46248031, "body": "Jedwards : Thank you. I now atleast get a context where these methods are useful. I will try to wrap my head around properties now."}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": true, "score": 4, "last_activity_date": 1426106731, "last_edit_date": 1426106731, "creation_date": 1426105849, "answer_id": 28996725, "question_id": 28996109, "link": "https://stackoverflow.com/questions/28996109/class-interfaces-in-python/28996725#28996725", "title": "class interfaces in python", "body": "<p>One of the reasons for using setter methods is to validate the input immediately, and not let an invalid value propagate farther into the code.  The earlier you can identify an invalid value, the easier it is to troubleshoot.</p>\n\n<p>Consider the following class:</p>\n\n<pre><code>class A():\n    def __init__(self, s, pos):\n        self.s   = s\n        self.pos = pos\n\n    def get_char(self):\n        return self.s[self.pos]\n</code></pre>\n\n<p>Now consider this code:</p>\n\n<pre><code>a = A(\"Foo\", 1)\na.pos = 2 \na.pos = 10              # Raises no error... yet\na.pos = \"Foo\"           # Raises no error... yet\n# ... time passes ...\nprint(a.get_char())     # Raises an error now, but much later than when an invalid attribute was set\n</code></pre>\n\n<p>You will be able to set the <code>pos</code> attribute to whatever you want, it's not until you attempt to use the <code>pos</code> attribute in the <code>get_char()</code> method that an error springs up.  This can be difficult to troubleshoot.</p>\n\n<p>So one way some languages handle this is to somehow shield these attributes -- maybe by making them \"protected\" or \"private\" -- and giving the rest of the code access to them through getters and setters.</p>\n\n<p>This way, code can be added to the setter method to validate the value <em>then</em>.</p>\n\n<p>For example:</p>\n\n<pre><code>class B():\n    def __init__(self, s, pos):\n        self._s   = s\n        self._pos = pos\n\n    def get_pos(self):\n        return self._pos\n\n    def set_pos(self, newpos):\n        if not 0 &lt; newpos &lt; len(self._s): raise IndexError\n        self._pos = newpos\n\n    def get_char(self):\n        return self._s[self._pos]\n</code></pre>\n\n<p>And</p>\n\n<pre><code>b = B(\"Foo\", 1)\nb.set_pos(2)            # This is fine\nb.set_pos(10)           # This raises an error\nb.set_pos(\"Foo\")        # This raises an error\n# ... time passes ...\nprint(b.get_char())\n</code></pre>\n\n<p>Now, the calls to <code>b.set_pos(10)</code> and <code>b.set_pos(\"Foo\")</code> both will result in an <code>IndexError</code>, allowing you to catch the invalid input immediately.</p>\n\n<h1>Enter Python's properties</h1>\n\n<p>But Python gives us <a href=\"https://docs.python.org/2/howto/descriptor.html#properties\" rel=\"nofollow\"><code>properties</code></a>, (and the <a href=\"https://docs.python.org/2/library/functions.html#property\" rel=\"nofollow\"><code>@property</code></a> decorator) which do the same thing, but are cooler.</p>\n\n<p>Consider:</p>\n\n<pre><code>class C(object):\n    def __init__(self, s, pos):\n        self._s   = s\n        self._pos = pos\n\n    @property\n    def pos(self):\n        return self._pos\n\n    @pos.setter\n    def pos(self, newpos):\n        if not 0 &lt; newpos &lt; len(self._s): raise IndexError\n        self._pos = newpos\n\n    def get_char(self):\n        return self._s[self._pos]\n</code></pre>\n\n<p>Class C does <em>exactly</em> the same input validation as Class B.</p>\n\n<pre><code>c = C(\"Foo\", 1)\nc.pos = 2               # This is fine\nc.pos = 10              # This raises an error\nc.pos = \"Foo\"           # This raises an error\n# ... time passes ...\nprint(c.get_char())\n</code></pre>\n\n<p>But with properties, Class C also <em>appears</em> exactly like Class A!</p>\n\n<p>The two sections of code that that interact with classes A and C for reference:</p>\n\n<pre><code>a = A(\"Foo\", 1)\na.pos = 2\na.pos = 10\na.pos = \"Foo\"\nprint(a.get_char())\n\nc = C(\"Foo\", 1)\nc.pos = 2\nc.pos = 10\nc.pos = \"Foo\"\nprint(c.get_char())\n</code></pre>\n\n<p>It's not uncommon to start with a Class A, then when some sort of input validation is required, end up with a Class C.</p>\n\n<p>So with properties, you get the safety/flexibility of getter/setter methods but without requiring external code to change.</p>\n\n<p><strong>Note:</strong> Input validation isn't the only reason for wanting getter/setter methods.  They can be helpful if you want to, for example, (conditionally) modify the given value, or change the internal representation without affecting the API.</p>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "edited": false, "score": 0, "creation_date": 1426121948, "post_id": 28996999, "comment_id": 46248108, "body": "Thank you very much. That explanation makes sense.. I will check the book you mentioned."}], "tags": [], "owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "is_accepted": false, "score": 1, "last_activity_date": 1426106751, "creation_date": 1426106751, "answer_id": 28996999, "question_id": 28996109, "link": "https://stackoverflow.com/questions/28996109/class-interfaces-in-python/28996999#28996999", "title": "class interfaces in python", "body": "<p>One of the important purposes of interfaces is to encourage loose coupling, where one class does not rely on the internal implementation of other classes. At the same time it allows us to define a class confident that other developers won't mess around with internal properties in a way that might cause unexpected behavior. It makes things simpler for other developers, by telling them \"here is how you are supposed to use this class.\" </p>\n\n<p>In the real world, the implementation details of classes change, often quite substantially. If other classes are relying on the internal implementation details of the class, then code dependent on that class will start to malfunction when those details change. By defining a public interface, a class promises other classes which depend on it \"I will always have these properties and methods available, even if the details of how I execute them may change.\"</p>\n\n<p>Additionally public interfaces allow you to define intuitive APIs which better fit the domain you are working in. Consider, for example, a program that stores reviews of restaurants. It's much nicer, as a developer, to be able to call restaurant.average_review_score, rather than having to much about with how a restaurant is defined.</p>\n\n<p>For more on this idea, I would strongly reccommend you read <em>Code Complete</em> by Steve McConnell.</p>\n\n<p>That being said, it is quite common in Python to directly access a class's properties without using a getter or setter. This is quite different from the convention in most other OO languages like Java, C++ and C#. In those languages, the language itself includes constructs for differentiating between the public interface and the private implementation. In Python, we rely on convention and politeness, and wherever possible don't go mucking about with members which have been flagged as private using and underscore.</p>\n"}], "owner": {"reputation": 374, "user_id": 2709252, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jVPKD.jpg?s=128&g=1", "display_name": "durga", "link": "https://stackoverflow.com/users/2709252/durga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 28996725, "answer_count": 2, "score": 2, "last_activity_date": 1426106751, "creation_date": 1426103630, "last_edit_date": 1426104300, "question_id": 28996109, "link": "https://stackoverflow.com/questions/28996109/class-interfaces-in-python", "title": "class interfaces in python", "body": "<p>I am getting myself more into python and finding it hard to understand the concept of interfaces.</p>\n\n<p>The question is more theoretical. </p>\n\n<p>As I understand having an interface for an end user (the non-developer user) is desirable, but why should classes too have interfaces for other objects/classes ( basically other programs/programmers)) to use?? \nIn the example how does using comment1 or comment 2 in class B change the functioning of the program?? </p>\n\n<pre><code>class A():\n   def __init__(self,a):\n      self.a = a\n      print self.a\n   def seta(self,newa): #setter\n      self.a = newa\n      print self.a\n   def geta(self): #getter\n      return self.a\n\n\nclass B(object):\n   def __init__(self,oobj,b):\n      self.b = b\n      self.oobj = oobj\n      print self.b\n   def addab(self):\n      #a = self.oobj.geta() # \u2014&gt; 1. using interface : the getter method \n      #return (self.b +a)\n      return (self.b+self.oobj.a) # \u2014&gt; 2.directly accessing the a attribute\n</code></pre>\n\n<p>Hopefully I have made myself clear.. </p>\n\n<p>EDIT:\nI did check the other thread mentioned as possible duplicate , but even before attempting to understand @property, I am trying to understand the rationale behind not modifying the attributes by themselves within the program, by different objects.</p>\n"}, {"tags": ["python", "batch-file"], "comments": [{"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1426103439, "post_id": 28996032, "comment_id": 46240192, "body": "What&#39;s <code>appendFile</code>? Also you have indentation problems"}, {"owner": {"reputation": 1429, "user_id": 903200, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2b910cef4270315b02e4f38f3adcb4d1?s=128&d=identicon&r=PG", "display_name": "thefragileomen", "link": "https://stackoverflow.com/users/903200/thefragileomen"}, "edited": false, "score": 1, "creation_date": 1426103479, "post_id": 28996032, "comment_id": 46240220, "body": "I think you may need to open the file so you need in line 4, &quot;with open(file) as appendFile:&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "edited": false, "score": 0, "creation_date": 1426106205, "post_id": 28996121, "comment_id": 46241782, "body": "Hi Celeo, thankyou I have tested this and it outputs the files with the string added. However same issue as mentioned above. The original file contents are not being preserved. Also can you advise on how I can output all the files to a folder so they don&#39;t take over the whole desktop. Thank you!"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "edited": false, "score": 0, "creation_date": 1426108147, "post_id": 28996121, "comment_id": 46242912, "body": "As seen <a href=\"https://docs.python.org/3.4/library/functions.html#open\" rel=\"nofollow noreferrer\">here</a>, opening the file through <code>open</code> with mode &#39;<i>a</i>&#39; opens it in append mode (unless that file doesn&#39;t exist!) so text is added to the end. If you need to move files, check out <a href=\"https://docs.python.org/3.4/library/shutil.html#shutil.move\" rel=\"nofollow noreferrer\">shutil.move</a>."}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 1, "last_activity_date": 1426103698, "creation_date": 1426103698, "answer_id": 28996121, "question_id": 28996032, "link": "https://stackoverflow.com/questions/28996032/python-batch-append-to-files-of-a-certain-type-in-a-single-directory/28996121#28996121", "title": "Python Batch Append To files of a Certain Type - in a Single Directory", "body": "<p>You go from using <code>file</code> to <code>appendFile</code>, but your code doesn't show you having setting it up.</p>\n\n<pre><code>import os\n\nfor file in os.listdir(\"c:\\\\Users\\\\a\\\\Desktop\\\\New\"):\n    if file.endswith(\".html\"):\n        appendString = \"\\ add this string to end of file\"\n        with open(file, 'a') as appendFile:\n            appendFile.write(appendString)\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3.4/tutorial/inputoutput.html\" rel=\"nofollow\">Docs link for file I/O</a></p>\n"}, {"comments": [{"owner": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "edited": false, "score": 0, "creation_date": 1426104283, "post_id": 28996130, "comment_id": 46240707, "body": "Yes apologies I have been doing this in haste, I had like 20 files open. Let me fiddle about with this - thank you."}, {"owner": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "edited": false, "score": 0, "creation_date": 1426105072, "post_id": 28996130, "comment_id": 46241126, "body": "Hi Francis, thank you  - the new files being out put only have the string in it. The original content of the files is not being preserved."}, {"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "reply_to_user": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "edited": false, "score": 0, "creation_date": 1426108010, "post_id": 28996130, "comment_id": 46242829, "body": "That&#39;s surprising if you open the file in append mode with <code>&#39;a&#39;</code> as suggested."}], "tags": [], "owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "is_accepted": true, "score": 1, "last_activity_date": 1426103739, "creation_date": 1426103739, "answer_id": 28996130, "question_id": 28996032, "link": "https://stackoverflow.com/questions/28996032/python-batch-append-to-files-of-a-certain-type-in-a-single-directory/28996130#28996130", "title": "Python Batch Append To files of a Certain Type - in a Single Directory", "body": "<p>Your bit of code is missing several things (indentation, definition of appendFile, plus typo).</p>\n\n<p>What about:</p>\n\n<pre><code>import os\nfor filename in os.listdir(\"c:\\Users\\a\\Desktop\\New\"): # filename is a string\n    if filename.endswith(\".html\"): # notice the indent\n        appendFile = open(filename, 'a') # file object, notice 'a' mode\n        appendString = \"\\ add this string to end of file\" # could be done out of the loop if constant\n        appendFile.write(appendString)\n        appendFile.close()\n</code></pre>\n\n<p>Important: better not to use <code>file</code> as a variable name as it is also the name of a builtin function in python2.7 (similar to <code>open</code>).</p>\n\n<p>You can also use the <code>with</code> construct to do the closing for you (see Celeo's answer).</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1426120885, "post_id": 28996298, "comment_id": 46247831, "body": "FYI I saw this in the Low Quality queue. Its correct, but you might want to add some explanation so it doesn&#39;t get deleted by over-zealous reviewers."}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1426139325, "last_edit_date": 1426139325, "creation_date": 1426104346, "answer_id": 28996298, "question_id": 28996032, "link": "https://stackoverflow.com/questions/28996032/python-batch-append-to-files-of-a-certain-type-in-a-single-directory/28996298#28996298", "title": "Python Batch Append To files of a Certain Type - in a Single Directory", "body": "<p><code>glob</code> gives you a list of paths to files which match the given glob expression. In your case, you want anything that ends in <code>.html</code> (i.e. <code>*.html</code>) in a certain directory.</p>\n\n<p>Once you've gotten these filepaths, then appending text to them is quite simple</p>\n\n<pre><code>import glob\nimport os\n\ndirpath = 'directory/with/html/files'\nappendStr = 'this string will be appended'\n\nfor fpath in glob.glob(os.path.join(dirpath, \"*.html\")):\n    with open(fpath, 'a') as outfile:\n        outfile.write(appendStr)\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 2533460, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/35d73ceeb04e119bed48bbc6f0f40b08?s=128&d=identicon&r=PG", "display_name": "user2533460", "link": "https://stackoverflow.com/users/2533460/user2533460"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 28996130, "answer_count": 3, "score": 1, "last_activity_date": 1426139325, "creation_date": 1426103362, "last_edit_date": 1426106430, "question_id": 28996032, "link": "https://stackoverflow.com/questions/28996032/python-batch-append-to-files-of-a-certain-type-in-a-single-directory", "title": "Python Batch Append To files of a Certain Type - in a Single Directory", "body": "<p>apologies if this has already been shown how to do.</p>\n\n<p>I am trying to batch process some files in Python</p>\n\n<p>I need to append a string to the end of a list of html files in a folder.</p>\n\n<p>So the steps are:</p>\n\n<ol>\n<li>Open all files in folder</li>\n<li>Append a string - At the bottom of each file add the string)</li>\n<li>Close files</li>\n</ol>\n\n<p>I have had a look at some of the solutions on stack exchange but I keep getting syntax errors.</p>\n\n<p>Have not used python in a while hence a bit rusty.</p>\n\n<pre><code>import os\nfor file in os.listdir(\"c:\\Users\\a\\Desktop\\New\"):\nif file.endswith(\".html\"):\n   appendString = \"\\ add this string to end of file\"\n   appendFile.write = (appendString)\n   apendFile.close()\n</code></pre>\n\n<p>I'm sure it something simple. </p>\n\n<p>Please advise many thanks!</p>\n\n<p>**apologies my code has errors as I had a lot of files open and its been a long day!</p>\n\n<p>Edit:\nAlso the files already have content in them that need to be preserved. \nI would like to simply add the sample text at the bottom of each file.</p>\n"}, {"tags": ["python", "function", "binary-tree"], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1426104925, "last_edit_date": 1426104925, "creation_date": 1426103604, "answer_id": 28996094, "question_id": 28996019, "link": "https://stackoverflow.com/questions/28996019/how-to-define-a-function-that-calculate-the-sum-of-all-leaves-in-a-binary-number/28996094#28996094", "title": "How to define a function that calculate the sum of all leaves in a binary number tree in python?", "body": "<p>Here is a recursive solution that will do this for any n-ary tree (instead of just a binary tree). This will also work for arbitrary leaves, instead of just full trees.</p>\n\n<pre><code>def add_leaves(x):\n    if isinstance(x, int):\n        return x\n    else:\n        return sum(add_leaves(i) for i in x)\n\n&gt;&gt;&gt; tree = ((1,(2,3)),4)\n&gt;&gt;&gt; add_leaves(tree)\n10\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1426104893, "post_id": 28996095, "comment_id": 46241029, "body": "For what its worth, this will only work for <a href=\"https://en.wikipedia.org/wiki/Binary_tree#Types_of_binary_trees\" rel=\"nofollow noreferrer\">full</a> binary trees. If a node doesn&#39;t have exactly two leaves, the code will fail with an <code>index out of range</code> error"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1426105107, "post_id": 28996095, "comment_id": 46241149, "body": "That&#39;s true, but since the values are only in the leaves, there&#39;s no reason to expect there to be any half-full nodes."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1426106083, "post_id": 28996095, "comment_id": 46241713, "body": "I just meant something like this <code>(,((1,(2,3)),4))</code>, note that at the top level, the left leaf is empty"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1426106713, "post_id": 28996095, "comment_id": 46242089, "body": "That&#39;s invalid syntax though. A value in a Python tuple can&#39;t be &quot;empty&quot;, it needs to be something. Perhaps <code>None</code> would make sense in that situation, but nothing doesn&#39;t work."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 2, "last_activity_date": 1426104311, "last_edit_date": 1426104311, "creation_date": 1426103611, "answer_id": 28996095, "question_id": 28996019, "link": "https://stackoverflow.com/questions/28996019/how-to-define-a-function-that-calculate-the-sum-of-all-leaves-in-a-binary-number/28996095#28996095", "title": "How to define a function that calculate the sum of all leaves in a binary number tree in python?", "body": "<p>The code you're using for your base case is wrong. The <code>isinstance</code> call will be <code>False</code> when the function is passed a leaf value (an <code>int</code>), but you're still trying to index that value. You should just return the <code>tree</code> in that case:</p>\n\n<pre><code>def add_leaves(tree):\n    \"\"\"returns to the sum of all the numbers in the binary-number-tree\n    bin -&gt; int\"\"\"\n    if not isinstance(tree,tuple):\n        return tree                                         # fix is here!\n    else:\n        return add_leaves(tree[0]) + add_leaves(tree[1])\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4660155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2411499e639e98e89f9a1d0ba66577c7?s=128&d=identicon&r=PG&f=1", "display_name": "colalove", "link": "https://stackoverflow.com/users/4660155/colalove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426106806, "creation_date": 1426103343, "last_edit_date": 1426106806, "question_id": 28996019, "link": "https://stackoverflow.com/questions/28996019/how-to-define-a-function-that-calculate-the-sum-of-all-leaves-in-a-binary-number", "title": "How to define a function that calculate the sum of all leaves in a binary number tree in python?", "body": "<p>Just like ((1,(2,3)),4)</p>\n\n<p>how can I get the sum of all the leaves through a defined function? like 1+2+3+4?</p>\n\n<p>My function is like following but still getting an error and I just confused and no idea with this.</p>\n\n<pre><code>def add_leaves(tree):\n    \"\"\"returns to the sum of all the numbers in the binary-number-tree\n    bin -&gt; int\"\"\"\n    if not isinstance(tree,tuple):\n        return tree[0] + tree[1]\n    else:\n        return add_leaves(tree[0]) + add_leaves(tree[1])\n</code></pre>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "is_accepted": false, "score": 1, "last_activity_date": 1426103250, "creation_date": 1426103250, "answer_id": 28995992, "question_id": 28995937, "link": "https://stackoverflow.com/questions/28995937/convert-python-byte-string-to-numpy-int/28995992#28995992", "title": "Convert python byte string to numpy int?", "body": "<p>I'm not sure about the data type. </p>\n\n<pre><code>np.fromstring(b'\\xa3\\x8eq\\xb5', dtype='&lt;i')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "edited": false, "score": 0, "creation_date": 1426103605, "post_id": 28996024, "comment_id": 46240297, "body": "It was just for a hash value - for which I guess there&#39;s no advantage (actually a bit slower) - but for buffers this is much better."}, {"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 0, "creation_date": 1426104608, "post_id": 28996024, "comment_id": 46240871, "body": "Yeah, now I see the proper data type."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 4, "last_activity_date": 1426103351, "creation_date": 1426103351, "answer_id": 28996024, "question_id": 28995937, "link": "https://stackoverflow.com/questions/28995937/convert-python-byte-string-to-numpy-int/28996024#28996024", "title": "Convert python byte string to numpy int?", "body": "<p>The trick is to get the right datatype.  To read big endian uint32 from a string the datatype (as a string) is <code>'&gt;u4'</code>.</p>\n\n<pre><code>&gt;&gt;&gt; np.fromstring(b'\\xa3\\x8eq\\xb5', dtype='&gt;u4')\narray([2744021429], dtype=uint32)\n</code></pre>\n\n<p>This gives you an array back, but getting a scalar from there is a pretty trivial matter.  More importantly, it allows you to read a large number of these objects in one go (which you can't do with your <code>int.from_bytes</code> trick).</p>\n"}, {"tags": [], "owner": {"reputation": 6589, "user_id": 4880003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37fa765e81d5152b1a83490cf5120d2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/4880003/nathan"}, "is_accepted": false, "score": 4, "last_activity_date": 1552063384, "creation_date": 1552063384, "answer_id": 55067454, "question_id": 28995937, "link": "https://stackoverflow.com/questions/28995937/convert-python-byte-string-to-numpy-int/55067454#55067454", "title": "Convert python byte string to numpy int?", "body": "<p>Using <code>np.fromstring</code> for this is deprecated now. Use <code>np.frombuffer</code> instead. You can also pass in a normal numpy dtype:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nnp.frombuffer(b'\\xa3\\x8eq\\xb5', dtype=np.uint32)\n</code></pre>\n"}], "owner": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8096, "favorite_count": 0, "accepted_answer_id": 28996024, "answer_count": 3, "score": 0, "last_activity_date": 1552063384, "creation_date": 1426103061, "question_id": 28995937, "link": "https://stackoverflow.com/questions/28995937/convert-python-byte-string-to-numpy-int", "title": "Convert python byte string to numpy int?", "body": "<p>Is there a direct way instead of the following?</p>\n\n<pre><code>np.uint32(int.from_bytes(b'\\xa3\\x8eq\\xb5', 'big'))\n</code></pre>\n"}, {"tags": ["python", "function", "variables", "updates"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426103043, "post_id": 28995901, "comment_id": 46239955, "body": "Integers are immutable in Python..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3171428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce97fb9e45c6bf49e9de4d2b8a11281?s=128&d=identicon&r=PG&f=1", "display_name": "user3171428", "link": "https://stackoverflow.com/users/3171428/user3171428"}, "edited": false, "score": 0, "creation_date": 1426185590, "post_id": 28995981, "comment_id": 46279571, "body": "Actually this is my problem. externally nothing changes. What it should do is update the value of an existing label within a widget. As the generator creates values, the label of this widget should show these values, but they do not. What would be the right approach?"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1426103206, "creation_date": 1426103206, "answer_id": 28995981, "question_id": 28995901, "link": "https://stackoverflow.com/questions/28995901/update-external-variable-by-parameter-function-in-python/28995981#28995981", "title": "Update external variable by parameter function in Python", "body": "<p>I don't understand what all those ids are supposed to be showing you, but the problem is that your update function does nothing. All that swapping the values inside that function does is assign them to new local names inside that function; it does not in any way affect the values assigned to names anywhere else.</p>\n"}], "owner": {"reputation": 11, "user_id": 3171428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce97fb9e45c6bf49e9de4d2b8a11281?s=128&d=identicon&r=PG&f=1", "display_name": "user3171428", "link": "https://stackoverflow.com/users/3171428/user3171428"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426103206, "creation_date": 1426102911, "question_id": 28995901, "link": "https://stackoverflow.com/questions/28995901/update-external-variable-by-parameter-function-in-python", "title": "Update external variable by parameter function in Python", "body": "<p>I have a page that generates values \u200b\u200baccording to the chosen parameter, this function should update an external variable which is also passed by parameter. But it does not work.</p>\n\n<p>The variable enters with the same id, but at the time that the values \u200b\u200bare generated and passed to this variable, it does not change externally.</p>\n\n<p>This is the c\u00f3gidos:</p>\n\n<p>generator.py</p>\n\n<pre><code>import time \n\ndef gera(value_start, value_end, value_step):\n    while value_start &lt;= value_end:\n        yield value_start\n        value_start += value_step\n\ndef update(current, new, var):\n    print \"var:\", var, \"  id(var):\", id(var)        \n    if (new &gt;= current):\n        current = new\n        var = current\n    print \"var:\", var, \"  id(var):\", id(var)        \n\n\ndef run(value_start, value_end, value_step, var):\n    current = 0\n    print \"id(var):\", id(var)  \n    for x in gera(value_start, value_end, value_step):\n        time.sleep(0.1)\n        update(current, x, var)        \n        print \"\\n\", x\n    print \"id(var):\", id(var)  \n    print \"var:\", var\n</code></pre>\n\n<p>main.py</p>\n\n<pre><code>import generator\nx= 30\nprint \"x=\",x, \"  id(x)=\", id(x)\nprint \"\\nX should come out with value 5 \\n\"\ngenerator.run(1,5,1,x)\nprint x\n</code></pre>\n\n<p>However, the x does not have its value changed.\nThis is the output:</p>\n\n<pre><code>x= 30   id(x)= 37466652\n\nX should come out with value 5 \n\nid(var): 37466652\nvar: 30   id(var): 37466652\nvar: 1   id(var): 37467000\n\n1\nvar: 30   id(var): 37466652\nvar: 2   id(var): 37466988\n\n2\nvar: 30   id(var): 37466652\nvar: 3   id(var): 37466976\n\n3\nvar: 30   id(var): 37466652\nvar: 4   id(var): 37466964\n\n4\nvar: 30   id(var): 37466652\nvar: 5   id(var): 37466952\n\n5\nid(var): 37466652\nvar: 30\n30\n</code></pre>\n\n<p>It appears that the ID stays the same, but outside of the function, because when it comes out, has a different id.\nAnd the value that should end with 5, finishes with 30.</p>\n\n<p>As I do for this program, have the variable of parameter X, with its value changes within the function.</p>\n\n<p>Thank U.</p>\n"}, {"tags": ["python", "csv", "dictionary"], "comments": [{"owner": {"reputation": 592, "user_id": 3346210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6H2pa.jpg?s=128&g=1", "display_name": "Zhiya", "link": "https://stackoverflow.com/users/3346210/zhiya"}, "edited": false, "score": 2, "creation_date": 1426103035, "post_id": 28995846, "comment_id": 46239949, "body": "Just use <code>int()</code> to convert your <code>line[1]</code>. BTW, I recommend you to use <code>with open(filename) as file:</code> instead of <code>open()</code> since the latter requires manual <code>close()</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1426104298, "post_id": 28995846, "comment_id": 46240714, "body": "<code>scores = collections.defaultdict(list)</code> will avoid the need for setdefault"}], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": true, "score": 2, "last_activity_date": 1426102801, "creation_date": 1426102801, "answer_id": 28995866, "question_id": 28995846, "link": "https://stackoverflow.com/questions/28995846/converting-values-in-a-dictionary-to-integers-python/28995866#28995866", "title": "Converting values in a dictionary to integers - python", "body": "<p>Add an <code>int()</code> conversion.</p>\n\n<pre><code>scores.setdefault(line[0], []).append(int(line[1])) \n</code></pre>\n\n<p>By the way, you could use a neat Python feature to extract the lines to named variables, like so:</p>\n\n<pre><code>for name, age in csv.reader(file):\n    scores.setdefault(name, []).append(age) \n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4543979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa6b457a237fae938a71a7553a3cce89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4543979/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 28995866, "answer_count": 1, "score": 0, "last_activity_date": 1426102801, "creation_date": 1426102746, "question_id": 28995846, "link": "https://stackoverflow.com/questions/28995846/converting-values-in-a-dictionary-to-integers-python", "title": "Converting values in a dictionary to integers - python", "body": "<p>I have a dictionary that is created by reading in keys and values from a csv file. The csv file looks like this:</p>\n\n<pre><code>Alice, 8\nTom, 10\nBen, 8\nBen, 9\nAlice, 10\nTom, 8\n</code></pre>\n\n<p>This is read into an empty dictionary called scores:</p>\n\n<pre><code>scores={}\nfile = open(\"file.csv\",\"r\")\nfor line in csv.reader(file):\n    scores.setdefault(line[0], []).append(line[1]) \n</code></pre>\n\n<p>This creates a dictionary that looks like this:</p>\n\n<pre><code>scores = {'Tom': ['10', '8'], 'Ben': ['8', '9'], 'Alice': ['8', '10']}\n</code></pre>\n\n<p>How can I append the values to this dictionary as integers so the dictionary would look like this:</p>\n\n<pre><code>scores = {'Tom': [10, 8], 'Ben': [8, 9], 'Alice': [8, 10]} \n</code></pre>\n"}, {"tags": ["python", "django", "pycharm"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1426106789, "creation_date": 1426106789, "answer_id": 28997013, "question_id": 28995822, "link": "https://stackoverflow.com/questions/28995822/how-to-do-type-hinting-for-a-template-parameter-in-pycharm3/28997013#28997013", "title": "How to do type hinting for a template parameter in pycharm3?", "body": "<p>Those code insight features are attached to specific full-qualified function names from the Django implementation. It's unfortunately not currently possible to enable those features for a function in your own project.</p>\n"}], "owner": {"reputation": 3779, "user_id": 1302259, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/dTuy4.png?s=128&g=1", "display_name": "Du D.", "link": "https://stackoverflow.com/users/1302259/du-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 28997013, "answer_count": 1, "score": 0, "last_activity_date": 1426106789, "creation_date": 1426102691, "question_id": 28995822, "link": "https://stackoverflow.com/questions/28995822/how-to-do-type-hinting-for-a-template-parameter-in-pycharm3", "title": "How to do type hinting for a template parameter in pycharm3?", "body": "<p>I noticed that when I use the function render or render_to_reponse in a django view, I can auto complete and referenced the template in the template string. </p>\n\n<p>When I tried to do the same for my method the string does not response the same way even though I named the parameter template_name same as the \"render\" method.</p>\n\n<pre><code>def my_render(self, template_name):\n    \"\"\"\n    My custom render method\n    :type template_name: Template|str\n    \"\"\"\n    return render(self.request, template_name, self.context)\n</code></pre>\n"}]