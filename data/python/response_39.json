[{"tags": ["python"], "comments": [{"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1444261867, "post_id": 33004278, "comment_id": 53833373, "body": "Is full_details a normal list or dictionary, or is it some other object like a query set or something else?"}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "reply_to_user": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1444262469, "post_id": 33004278, "comment_id": 53833536, "body": "@Monkey full_details is a default_dict: full_details = collections.defaultdict(lambda: False, thread_details.__dict__)"}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "edited": false, "score": 0, "creation_date": 1444262858, "post_id": 33004278, "comment_id": 53833650, "body": "you&#39;re creating a <i>new</i> <code>user</code> dict containing a copy of the old one&#39;s contents, modifying it, and then throwing it away.  also, i would strongly recommend against &quot;converting&quot; an object to a dict this way \u2014 it&#39;s invasive, it&#39;s not obvious what actually ends up in the dict, and it prevents you from changing how the comment class works internally without breaking these dicts.  i&#39;ve been here and it&#39;s not a fun place to be."}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "reply_to_user": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "edited": false, "score": 0, "creation_date": 1444263345, "post_id": 33004278, "comment_id": 53833795, "body": "@EEvee except that from that new user dict I am then making a list in a list comprehension. In the past I have seen list comprehensions as examples of exactly how you should assign to a pre-existing list so I don&#39;t follow why it shouldn&#39;t work here."}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "edited": false, "score": 0, "creation_date": 1444278448, "post_id": 33004278, "comment_id": 53837623, "body": "it has nothing to do with the list comprehension.  you reassign <code>user</code>, so you&#39;re no longer modifying the dict that&#39;s in <code>full_details</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": true, "score": 1, "last_activity_date": 1444276250, "creation_date": 1444276250, "answer_id": 33006289, "question_id": 33004278, "link": "https://stackoverflow.com/questions/33004278/how-to-change-list-of-objects-into-list-of-dicts/33006289#33006289", "title": "How to change list of objects into list of dicts?", "body": "<p>You are assigning \"user\" twice. First in the for statement. Then in the first line of the body of the for loop, you are creating a new object and also assigning it to \"user\".  At this point, you have lost your reference to the original object.</p>\n"}], "owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 33006289, "answer_count": 1, "score": 0, "last_activity_date": 1444276250, "creation_date": 1444261674, "last_edit_date": 1444262483, "question_id": 33004278, "link": "https://stackoverflow.com/questions/33004278/how-to-change-list-of-objects-into-list-of-dicts", "title": "How to change list of objects into list of dicts?", "body": "<p>I am quite surprised at the behavior of this code, which is inside a function:</p>\n\n<pre><code>        for user in full_details[\"users\"]:\n            user = collections.defaultdict(lambda: False, user)\n            if user[\"comments\"]:\n                user[\"comments\"] = [comment.__dict__ for comment in user[\"comments\"]]\n                print(\"just converted user comments to dict objects\")\n                print(user[\"comments\"])\n\n\n        print(\"printing full details\")\n        print(full_details)\n</code></pre>\n\n<p>My understanding was that if I modified a dictionary or a list, that modification applied to the object and would remain. However, when I change <code>user[\"comments\"]</code> for each user in <code>full_details[\"users\"]</code> within my <code>if</code> I am not then seeing those same changes again reflected in <code>full_details</code> just immediately after. Why is that? I thought that whenever you create a new list and assign it to a passed-in parameter, that new list will persist outside the function. </p>\n\n<p>My trouble is that the change made here does not persist:</p>\n\n<pre><code>                user[\"comments\"] = [comment.__dict__ for comment in user[\"comments\"]]\n</code></pre>\n\n<p>Also, full_details is a default_dict: </p>\n\n<pre><code>full_details = collections.defaultdict(lambda: False, thread_details.__dict__)\n</code></pre>\n"}, {"tags": ["python", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1444266727, "post_id": 33004268, "comment_id": 53834736, "body": "Hey Mgilson thank you for taking the time to help a noob, I&#39;m going to have to research ALL of what you wrote as I am one of the duped ( geddit) readers of the code which I copied without comprehension. Thanks again a really great assist."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1444261581, "creation_date": 1444261581, "answer_id": 33004268, "question_id": 33004255, "link": "https://stackoverflow.com/questions/33004255/python-3-4-list-index-attribute-throwing-error/33004268#33004268", "title": "python 3.4 list index attribute throwing error", "body": "<p>Notice the defition if <code>dedupe</code>:</p>\n\n<pre><code>def dedupe(items):\n    seen = set()\n    for item in items:\n        if item not in seen:\n            yield item\n            seen.add(item)\n\n    return item\n</code></pre>\n\n<p>See the <code>yield</code> keyword?  That makes the return value an <code>generator</code> (which is iterable), but it isn't a <code>list</code>.  You can easily construct a <code>list</code> from the generator though by using the builtin <code>list</code> callable:</p>\n\n<pre><code>sym_list = list(dedupe(sym_list))\n</code></pre>\n\n<hr>\n\n<p><sup>Also, note that your <code>dedupe</code> generator function has a <code>return</code> statement, but it doesn't really do anything here other than trick unsuspecting readers of you code into thinking that <code>dedupe</code> isn't a generator :-)</sup></p>\n"}], "owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33004268, "answer_count": 1, "score": 0, "last_activity_date": 1444261581, "creation_date": 1444261448, "question_id": 33004255, "link": "https://stackoverflow.com/questions/33004255/python-3-4-list-index-attribute-throwing-error", "title": "python 3.4 list index attribute throwing error", "body": "<p>SO I get the error below when I run my code, </p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"E:\\scanned\\als course\\12 15 14 the al project\\index errot.py\", line 80, in &lt;module&gt;\n    sym_index = sym_list.index(y)\nAttributeError: 'generator' object has no attribute 'index'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I am pretty new to python and I \"thought\" I had declared the list properly and lists have the index attribute? I just don't understand what is wrong any help would be appreciated ALSO I hope I have made a better job of formatting this question</p>\n\n<p>a subset of the data</p>\n\n<pre><code>    2015-08-04 02:14:05.249392,AA,0.0193103612,0.0193515212,0.0249713335,30.6542480634,30.7195875454,39.640763021,0.2131498442,29.0406746589,13524.5347810182,89,57,99\n2015-08-04 02:14:05.325113,AAPL,0.0170506271,0.0137941891,0.0105915637,27.0670313481,21.8975963326,16.8135861893,-19.0986405157,-23.2172064279,21.5647072302,33,26,75\n2015-08-04 02:14:13.596026,YUM,0.0150960249,0.0096451121,0.0059497165,23.9641966195,15.3111408421,9.4448821537,-36.1082656547,-38.3136615938,6.1077315656,10,11,70\n2015-08-05 01:00:01.578356,AA,0.0195344666,0.0197647353,0.0216936719,31.0100044039,31.375544675,34.4376364665,1.178781745,9.7594856861,727.9298290159,83,53,98\n2015-08-05 01:00:01.653702,AAPL,0.0182801429,0.0153930649,0.0129012765,29.0188272234,24.4357329651,20.4801414799,-15.7935199208,-16.1877341304,2.4960503525,55,30,69\n2015-08-05 01:00:11.685967,YUM,0.015053783,0.0095630245,0.0045548817,23.8971396792,15.1808306936,7.2306505541,-36.4742772674,-52.3698623612,43.5802606239,11,10,74\n2015-08-06 01:00:01.580982,AA,0.016405504,0.0187336551,0.0138878945,26.0429302344,29.7387555321,22.0463490932,14.1912805682,-25.8666050455,-282.2711130351,50,69,35\n2015-08-06 01:00:01.657591,AAPL,0.0177744137,0.0123407978,0.0155526393,28.2160070183,19.590409183,24.6890494178,-30.5698741487,26.0262059213,-185.1367781062,97,9,44\n2015-08-06 01:00:14.071073,YUM,0.0134016613,0.009754587,0.0046291687,21.2744777757,15.4849268147,7.3485774914,-27.2135984817,-52.543673087,93.07874011,19,12,83\n2015-08-07 01:00:02.111758,AA,0.0167336443,0.0195330063,0.0157903576,26.5638368026,31.0076862614,25.0664156097,16.7289442857,-19.1606384353,-214.5358494121,42,79,34\n2015-08-07 01:00:02.426008,AAPL,0.0172853837,0.01222536,0.0159302942,27.4396959903,19.4071573379,25.2885580713,-29.2734243675,30.3053179346,-203.525018304,96,10,35\n2015-08-07 01:00:20.003695,YUM,0.0113498677,0.007539233,0.0090156499,18.0173564022,11.9681613499,14.3119005831,-33.5742653767,19.583118615,-158.3277650167,69,8,34\n</code></pre>\n\n<p>the code causing the err</p>\n\n<pre><code>import csv\nfrom datetime import datetime\n\nnum_sym = 100\nnum_days = 252\n\nsym_list = []\ndate_list = []\nsym_index = 0\ndate_index = 0\n\n\n\n\nhvabs_tab = [[0 for x in range(num_sym)] for y in range(num_days)]\ndates_t = []\n\n\n\ndef dedupe(items):\n    seen = set()\n    for item in items:\n        if item not in seen:\n            yield item\n            seen.add(item)\n\n    return item\n\n\n\ndef parse_ymd(s):\n\n    date_bit = s.split('-')\n\n    long_date = date_bit[0]+\":\" + date_bit[1]+\":\"  + date_bit[2]  # formatted 2015:08:05\n\n    #print('y',date_bit[0],'m',date_bit[1],'d',date_bit[2],'all',date_bit)\n    #y 2015 m 08 d 04 all ['2015', '08', '04']\n\n    return long_date # formatted 2015:08:05\n\n\n\n\n\nwith open('hvanal2015s.csv') as f:\n\n    f_csv = csv.reader(f)\n\n    for x in f_csv:\n        for i,y in enumerate(x):\n            if i == 1 :\n                sym_list.append(y) # grabbing ALL the symbols shoving them in list\n\n            if i == 0 :\n                date_line = str(x[0])\n                date_t = date_line.split()\n                just_date = parse_ymd(date_t[0])\n                date_list.append(just_date) # grabbing ALL dates shoving them in list\n\n\n\n\n    sym_list = dedupe(sym_list)\n\n    date_list = dedupe(date_list)\n\n    print('sym list final',*sym_list)\n    print('date list final',*date_list)\n    print('---------------------')\n\n\n\n    f.seek(0) # resetting the csv iterator to top of file to process the ranks now we have\n                  # the lists for sym and dates populated\n\n    for day_data in f_csv:\n        for i,y in enumerate(day_data):\n            if i == 1 : # found symbol\n               sym_index = sym_list.index(y)\n               print('y and sym index',y,sym_index)\n\n\n\n           # if i == 0 : # found related date \n               #date_index = date_list.index(y)\n               # print('y and date index',y,date_index)\n</code></pre>\n"}, {"tags": ["python", "json", "parsing", "sqlite"], "comments": [{"owner": {"reputation": 7816, "user_id": 60422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1f99b071794213796dcb33e787c5772?s=128&d=identicon&r=PG", "display_name": "rakslice", "link": "https://stackoverflow.com/users/60422/rakslice"}, "edited": false, "score": 0, "creation_date": 1496894377, "post_id": 33004239, "comment_id": 75850832, "body": "It seems like you&#39;re trying to learn python, relational databases, and how to use a relational database from a programming language all at the same time. It would be easiest if you gave an example data file, and explained what you want the columns in the database to be, and what you want the rows in the database to look like for the example data."}, {"owner": {"reputation": 334, "user_id": 4637721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7rxMe.png?s=128&g=1", "display_name": "mkingsbu", "link": "https://stackoverflow.com/users/4637721/mkingsbu"}, "edited": false, "score": 0, "creation_date": 1517946054, "post_id": 33004239, "comment_id": 84299186, "body": "Unless I&#39;m misunderstanding your point, print statements only do that: they print the data to your screen. So your whole loop where you do for e in data is only being put on your screen. You should first put the data in the format you want and then parse it.  Instead of using SQLite, you might want to consider PGSql, which has a built in JSON object.  That way you can insert your JSON and query it using the DOM or parse it out using SQL."}], "owner": {"reputation": 51, "user_id": 2504680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac43ccb66f4be2c9d90f84d3e0784e2d?s=128&d=identicon&r=PG", "display_name": "archangel", "link": "https://stackoverflow.com/users/2504680/archangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5540, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1444263558, "creation_date": 1444261338, "last_edit_date": 1444263558, "question_id": 33004239, "link": "https://stackoverflow.com/questions/33004239/using-python-to-parse-json-and-insert-into-sqlite3-database", "title": "Using Python to Parse JSON and Insert into SQLite3 Database", "body": "<p>I'm currently parsing the following document.  I also created a dummy sqlite3 db with a table.  Ideally I'd like to take the \"print e\" and \"print f\" statements and insert those keys as column names.  In addition, I'd like to take \"print data[e]\" and \"print participants_data[f]\" and use these as the corresponding values.  I tried doing the \"insert into tablename values (?,?,?,?,?)\" python code, but I'm afraid I'm not fully understanding this.  Does anyone know how to insert these lines into a generic table in sqlite3 via python?</p>\n\n<p>Data:</p>\n\n<pre><code>{\n   \"matchId\": 1778839570,\n   \"region\": \"NA\",\n   \"platformId\": \"NA1\",\n   \"matchMode\": \"CLASSIC\",\n   \"matchType\": \"MATCHED_GAME\",\n   \"matchCreation\": 1427867835805,\n   \"matchDuration\": 3424,\n   \"queueType\": \"RANKED_SOLO_5x5\",\n   \"mapId\": 11,\n   \"season\": \"SEASON2015\",\n   \"matchVersion\": \"5.6.0.194\",\n   \"participants\": [\n      {\n         \"teamId\": 100,\n         \"spell1Id\": 4,\n         \"spell2Id\": 11,\n         \"championId\": 113,\n         \"highestAchievedSeasonTier\": \"GOLD\"\n      }\n   ]\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import sqlite3\nimport json\n\nwith open('data.json') as data_file:\n    data = json.load(data_file)\n\nfor e in data:\n    if e == 'participants':\n        participants_data=data['participants'][0]\n        print participants_data\n        for f in participants_data:\n            print f\n            print participants_data[f]  \n    else:\n        print e\n        print data[e]\n\n\n# # let's put this in sql\nconn = sqlite3.connect('somedbname.sqlite')\nc = conn.cursor()\n#create_database\nsql = 'create table if not exists tablename'\nc.execute('''CREATE TABLE stocks\n             (date text, trans text, symbol text, qty real, price real)''')\nconn.commit()\n\nc.execute(\"INSERT INTO stocks VALUES ('2006-01-05','BUY','RHAT',100,35.14)\")\nconn.commit()\nc.execute(\"select * from stocks\")\nprint(c.fetchall())\n</code></pre>\n\n<p>Edit: 2nd Attempt at the Code:</p>\n\n<pre><code>import sqlite3\nimport json\n\nwith open('data.json') as data_file:\n    data = json.load(data_file)\n\nfor e in data:\n    if e == 'participants':\n        participants_data=data['participants'][0]\n        print participants_data\n        for f in participants_data:\n            print f\n            print participants_data[f]  \n    else:\n        print e\n        print data[e]\n\napi = data\n\n# # let's put this in sql\nconn = sqlite3.connect('somedbname.sqlite')\nc = conn.cursor()\n#create_database\nsql = 'create table if not exists tablename'\nc.execute('''CREATE TABLE if not exists stocks3\n             (col1 text, col2 text, col3 text, col4 text, col5 text, col6 text, col7 text, col8 text, col9 text, col10 text, col11 text, col12 text)''')\nconn.commit()\n\nc.execute(\"INSERT INTO stocks3 VALUES (?,?,?,?,?,?,?,?,?,?,?,?)\", api)\nconn.commit()\nc.execute(\"select * from stocks\")\nprint(c.fetchall())\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary", "recursion"], "comments": [{"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 1, "creation_date": 1444261364, "post_id": 33004218, "comment_id": 53833254, "body": "It is not always a dictionary; if it was, you wouldn&#39;t be getting that error.  Please show the code and output when you put the <code>print(type(value))</code> right above the <code>local_list.extend()</code> call.  When that confuses you sufficiently, change <code>type</code> to <code>repr</code>."}, {"owner": {"reputation": 146, "user_id": 2353032, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/s2F8j.jpg?s=128&g=1", "display_name": "AdrianBoeh", "link": "https://stackoverflow.com/users/2353032/adrianboeh"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1444261592, "post_id": 33004218, "comment_id": 53833310, "body": "You&#39;re right.  <code>print grab_children(city) &lt;type &#39;str&#39;&gt;  Traceback (most recent call last):   File &quot;&lt;pyshell#24&gt;&quot;, line 1, in &lt;module&gt;     print grab_children(city)   File &quot;&lt;pyshell#23&gt;&quot;, line 6, in grab_children     local_list.extend(grab_children(value))   File &quot;&lt;pyshell#23&gt;&quot;, line 3, in grab_children     for key, value in father.iteritems(): AttributeError: &#39;str&#39; object has no attribute &#39;iteritems&#39;</code>  printing the string rather than print(type(value)) <code>print grab_children(city) = -86</code>  So every <code>value</code> must be another dictionary. Recommendations around that? Maybe an <code>If type(value)=&#39;dict&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 2353032, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/s2F8j.jpg?s=128&g=1", "display_name": "AdrianBoeh", "link": "https://stackoverflow.com/users/2353032/adrianboeh"}, "edited": false, "score": 0, "creation_date": 1444262266, "post_id": 33004340, "comment_id": 53833464, "body": "List of list preparing for a MySQL DB table load. The nested dictionary was invaluable in the application code, but not so much for loading the DB, so I am attempting to recursively flatten it."}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "reply_to_user": {"reputation": 146, "user_id": 2353032, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/s2F8j.jpg?s=128&g=1", "display_name": "AdrianBoeh", "link": "https://stackoverflow.com/users/2353032/adrianboeh"}, "edited": false, "score": 0, "creation_date": 1444262557, "post_id": 33004340, "comment_id": 53833559, "body": "Except this code just serializes it. It doesn&#39;t create nested lists.  Do you want nested lists, or just a long single list?  What is the target table structure you are trying to load?"}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 3, "last_activity_date": 1444261996, "creation_date": 1444261996, "answer_id": 33004340, "question_id": 33004218, "link": "https://stackoverflow.com/questions/33004218/python-nested-dictionary-to-list-of-lists/33004340#33004340", "title": "Python Nested Dictionary to List of Lists", "body": "<p>Notice in the sample that the \"leaves\" are all \"{}\". That is an empty dict.  In your \"city\" your leaves are strings. To use this function as written, then instead of: </p>\n\n<pre><code>city = {'centerLatitude': '40'}\n</code></pre>\n\n<p>You would have to write:</p>\n\n<pre><code>city = { 'centerLatitude': { '40' : {} } }\n</code></pre>\n\n<p>etc.</p>\n\n<p>But this question topic says \"List of Lists\" and that is not what your sample code does. Your sample code returns a single list. So I'm not really sure what you want as output.</p>\n"}, {"tags": [], "owner": {"reputation": 1254, "user_id": 5016012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-lQNS5BjF6Pg/AAAAAAAAAAI/AAAAAAAAAJc/7Eji_JdC5pM/photo.jpg?sz=128", "display_name": "Felipe Gerard", "link": "https://stackoverflow.com/users/5016012/felipe-gerard"}, "is_accepted": false, "score": 0, "last_activity_date": 1444262804, "creation_date": 1444262804, "answer_id": 33004471, "question_id": 33004218, "link": "https://stackoverflow.com/questions/33004218/python-nested-dictionary-to-list-of-lists/33004471#33004471", "title": "Python Nested Dictionary to List of Lists", "body": "<p>You never put a stopping condition. The following retrieves all the keys in all the dictionaries:</p>\n\n<pre><code>def grab_children(father):\n    local_list = []\n    for key, value in father.iteritems():\n        local_list.append(key)\n        if type(value) is dict:\n            local_list.extend(grab_children(value))\n    return local_list\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": true, "score": 1, "last_activity_date": 1444264803, "last_edit_date": 1444264803, "creation_date": 1444262878, "answer_id": 33004481, "question_id": 33004218, "link": "https://stackoverflow.com/questions/33004218/python-nested-dictionary-to-list-of-lists/33004481#33004481", "title": "Python Nested Dictionary to List of Lists", "body": "<pre><code>your function should be changed to check if value is a dict, error  \nbecause you recursive function tries to run iteritems() on a value that isstring. \nif isinstance(value,dict): clause need to be added to this recursive function. \nOtherwise function eventually grabs a string..\n         change items() to iteritems() if not python 3\n\n    def grab_children(father):\n        local_list = []\n        for key, value in father.items():\n            local_list.append(key)\n            if isinstance(value,dict):\n                local_list.extend(grab_children(value))\n        return local_list\n\nprint(grab_children(city))\n\n['centerLatitude', 'centerLongitude', 'listings', 'A Name Here', 'latitude', 'rating', 'zip', 'longitude', 'facility_id', 'size', 'city', 'distance', 'state', 'address', 'price']\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 2353032, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/s2F8j.jpg?s=128&g=1", "display_name": "AdrianBoeh", "link": "https://stackoverflow.com/users/2353032/adrianboeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3315, "favorite_count": 0, "accepted_answer_id": 33004481, "answer_count": 3, "score": 0, "last_activity_date": 1444264803, "creation_date": 1444261209, "question_id": 33004218, "link": "https://stackoverflow.com/questions/33004218/python-nested-dictionary-to-list-of-lists", "title": "Python Nested Dictionary to List of Lists", "body": "<p>I know this has already been ask many ways, and I tried to read most of them, but still having trouble... </p>\n\n<p>I have the nested dictionary</p>\n\n<pre><code>city = {'centerLatitude': '40',\n 'centerLongitude': '-86',\n 'listings': {'A Name Here': {'address': 'the address',\n                                     'city': 'acity',\n                                     'distance': 'AmillionMiles',\n                                     'facility_id': '1234',\n                                     'latitude': '34',\n                                     'longitude': '-86',\n                                     'price': 'tooMuch',\n                                     'rating': 'supergreat',\n                                     'size': \"10'xAz'\",\n                                     'state': 'XY',\n                                     'zip': '50505'}}}\n</code></pre>\n\n<p>I have this recursive python function (taken from another post)</p>\n\n<pre><code>def grab_children(father):\nlocal_list = []\nfor key, value in father.iteritems():\n    local_list.append(key)\n    local_list.extend(grab_children(value))\nreturn local_list\n</code></pre>\n\n<p>Calling the function with</p>\n\n<pre><code>print grab_children(city)\n</code></pre>\n\n<p>And I get this error... rather than a list</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#19&gt;\", line 1, in &lt;module&gt;\n    print grab_children(city)\n  File \"&lt;pyshell#5&gt;\", line 5, in grab_children\n    local_list.extend(grab_children(value))\n  File \"&lt;pyshell#5&gt;\", line 3, in grab_children\n    for key, value in father.iteritems():\nAttributeError: 'str' object has no attribute 'iteritems'\n</code></pre>\n\n<p>From the error I thought that there was something going on with the <code>value</code> used when the function calls itself again because it looks like it thinks it is a str which yes, has no <code>.iteritems</code>, but running it in pieces and printing <code>type(value)</code> it is always a dictionary (like it should be).</p>\n\n<p>It works with this dictionary, also taken from another post, and I do not understand what is different about this dictionary.</p>\n\n<pre><code>city = {'&lt;Part: 1.1&gt;': {'&lt;Part: 1.1.1&gt;': {'&lt;Part: 1.1.1.1&gt;': {}},\n                 '&lt;Part: 1.1.2&gt;': {}},\n '&lt;Part: 1.2&gt;': {'&lt;Part: 1.2.1&gt;': {}, '&lt;Part: 1.2.2&gt;': {}},\n '&lt;Part: 1.3&gt;': {}}\n</code></pre>\n\n<p>My questions are:\nWhy am I getting this error? How do I over come the error? And if the error is caused by my dictionary being different, how is it different?</p>\n"}, {"tags": ["python", "ubuntu", "matplotlib", "vagrant", "virtualenv"], "comments": [{"owner": {"reputation": 2175, "user_id": 5296743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aihtQ.jpg?s=128&g=1", "display_name": "Abdallah Sobehy", "link": "https://stackoverflow.com/users/5296743/abdallah-sobehy"}, "edited": false, "score": 0, "creation_date": 1444261361, "post_id": 33004091, "comment_id": 53833251, "body": "What happens when you run: sudo apt-get install python-matplotlib"}, {"owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "reply_to_user": {"reputation": 2175, "user_id": 5296743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aihtQ.jpg?s=128&g=1", "display_name": "Abdallah Sobehy", "link": "https://stackoverflow.com/users/5296743/abdallah-sobehy"}, "edited": false, "score": 0, "creation_date": 1444266742, "post_id": 33004091, "comment_id": 53834738, "body": "The package installs globally as you would expect. But I need to install in the virtualenv, which requires that I be able to compile."}, {"owner": {"reputation": 2175, "user_id": 5296743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aihtQ.jpg?s=128&g=1", "display_name": "Abdallah Sobehy", "link": "https://stackoverflow.com/users/5296743/abdallah-sobehy"}, "edited": false, "score": 0, "creation_date": 1444267379, "post_id": 33004091, "comment_id": 53834893, "body": "Well you might try this: sudo apt-get install -f . It was said to solve the problem of missing dependencies here: <a href=\"http://askubuntu.com/questions/563178/the-following-packages-have-unmet-dependencies\" title=\"the following packages have unmet dependencies\">askubuntu.com/questions/563178/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "edited": false, "score": 0, "creation_date": 1448323140, "post_id": 33009110, "comment_id": 55530515, "body": "Error: &#39;deb-src <a href=\"http://archive.ubuntu.com/ubuntu/\" rel=\"nofollow noreferrer\">archive.ubuntu.com/ubuntu</a> trusty main restricted&#39; invalid"}, {"owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "reply_to_user": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "edited": false, "score": 0, "creation_date": 1448371234, "post_id": 33009110, "comment_id": 55552252, "body": "yep I thought it could be added with <code>apt-add-repository</code> but you should rather edit the sources.list file"}], "tags": [], "owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "is_accepted": false, "score": 0, "last_activity_date": 1448371162, "last_edit_date": 1448371162, "creation_date": 1444288717, "answer_id": 33009110, "question_id": 33004091, "link": "https://stackoverflow.com/questions/33004091/error-getting-dependencies-for-matplotlib/33009110#33009110", "title": "Error Getting Dependencies for Matplotlib", "body": "<p>Generally you get this message when you're missing some repository - you could check the list of your active repo from <code>/etc/apt/sources.list</code>. In your case you might miss the <code>-src</code>repo</p>\n\n<p>What is strange is that <code>python3-dev</code> is from main repo so it should be activated by default.</p>\n\n<p>You can add repo by editing the file <code>/etc/apt/sources.list</code></p>\n\n<pre><code>sudo vi /etc/apt/sources.list\n</code></pre>\n\n<p>and add the following lines</p>\n\n<pre><code>deb-src http://archive.ubuntu.com/ubuntu/ trusty main restricted\ndeb-src http://br.archive.ubuntu.com/ubuntu/ trusty-updates main restricted\n</code></pre>\n\n<p>You can get more info about the available repo from <a href=\"http://ubuntuguide.org/wiki/Ubuntu_Trusty_Packages_and_Repositories\" rel=\"nofollow\">this link</a></p>\n\n<p>make sure to (re)run <code>sudo apt-get update</code> after you've done this change and you should be ok to install your dependencies</p>\n"}], "owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448371162, "creation_date": 1444260298, "question_id": 33004091, "link": "https://stackoverflow.com/questions/33004091/error-getting-dependencies-for-matplotlib", "title": "Error Getting Dependencies for Matplotlib", "body": "<p>I am trying to install the python package matplotlib from source. I cannot install the package from the repository using <code>sudo apt-get install python-matplotlib</code> because I need to be able to install the package in a <code>virtualenv</code> using a <code>requirmenets.txt</code> file. When I follow the <a href=\"http://matplotlib.org/1.3.1/users/installing.html\" rel=\"nofollow\">instructions</a> to install dependencies I get the following error:</p>\n\n<pre><code>vagrant@vagrant-ubuntu-trusty-64:~$ sudo apt-get build-dep python-matplotlib\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nPicking 'matplotlib' as source package instead of 'python-matplotlib'\nThe following packages have unmet dependencies:\n python3-all-dbg : Depends: libpython3-all-dbg (= 3.4.0-0ubuntu2) but it is not going to be installed\n                   Depends: python3-dbg (= 3.4.0-0ubuntu2) but it is not going to be installed\n                   Depends: python3.4-dbg but it is not going to be installed\n python3-all-dev : Depends: libpython3-all-dev (= 3.4.0-0ubuntu2) but it is not going to be installed\n                   Depends: python3-dev (= 3.4.0-0ubuntu2) but it is not going to be installed\n                   Depends: python3.4-dev but it is not going to be installed\n python3-numpy-dbg : Depends: python3-dbg but it is not going to be installed\nE: Build-dependencies for python-matplotlib could not be satisfied.\n</code></pre>\n\n<p>How do I fix the problem? I have already run <code>sudo apt-get update</code> and\n<code>sudo apt-get upgrade</code> to no avail. Could I just directly install the dependencies listed in the error message (I thought that was the point of the command)? I am not even using Python 3 so not concerned about having the packages installed (though not sure why I need them either). When I try running <code>pip install -r requirements.txt</code> in the virtual environment I still get an error on installing matplotlib.</p>\n"}, {"tags": ["python", "file", "selenium-webdriver", "io", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1444261722, "post_id": 33004142, "comment_id": 53833336, "body": "I think this is not exactly what is happening here - the OP uses selenium to approach a dynamically loaded web-site, then prettifying and &quot;fixing&quot; with BeautifulSoup the HTML source code retrieved from the browser automated by selenium and saving the resulting HTML on disk."}], "tags": [], "owner": {"reputation": 1153, "user_id": 5399585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kcJS6.jpg?s=128&g=1", "display_name": "Antony", "link": "https://stackoverflow.com/users/5399585/antony"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261204, "last_edit_date": 1444261204, "creation_date": 1444260616, "answer_id": 33004142, "question_id": 33004089, "link": "https://stackoverflow.com/questions/33004089/python-beautiful-soup-write-html-source-to-file/33004142#33004142", "title": "Python + Beautiful Soup: Write html source to file", "body": "<p><a href=\"http://www.crummy.com/software/BeautifulSoup/\" rel=\"nofollow\">BeautifulSoup</a> is for parsing Html and not grabbing it. \nIf you can import <code>urllib</code>, try <code>urlretrieve</code>:</p>\n\n<pre><code>import urllib\nurllib.urlretrieve(\"http://www.example.com/test.html\", \"test.txt\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1444261747, "post_id": 33004233, "comment_id": 53833347, "body": "I think this is not exactly what is happening here - the OP uses selenium to approach a dynamically loaded web-site, then prettifying and &quot;fixing&quot; with BeautifulSoup the HTML source code retrieved from the browser automated by selenium and saving the resulting HTML on disk."}, {"owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1444261902, "post_id": 33004233, "comment_id": 53833382, "body": "@alecxe Couldn&#39;t the OP prettify and &#39;fix&#39; after saving the source to a file? I thought the point was to get the source, and then modify it"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1444262031, "post_id": 33004233, "comment_id": 53833410, "body": "It&#39;s likely that the OP wants to save the prettified version of the complete rendered by a browser page and then do smth with that file..not sure, let&#39;s see what feedback we&#39;ll get from the OP. Thanks."}, {"owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1444263722, "post_id": 33004233, "comment_id": 53833903, "body": "@alecxe Yeah, I want to save the prettified version. spot on."}], "tags": [], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261688, "last_edit_date": 1444261688, "creation_date": 1444261302, "answer_id": 33004233, "question_id": 33004089, "link": "https://stackoverflow.com/questions/33004089/python-beautiful-soup-write-html-source-to-file/33004233#33004233", "title": "Python + Beautiful Soup: Write html source to file", "body": "<p>This works for me:</p>\n\n<pre><code>import urllib2\n\nhtml = urllib2.urlopen('http://www.example.com').read()\n</code></pre>\n\n<p>Now html contains the source code of that url.</p>\n\n<pre><code>  with open('web.html', 'w') as f:\n      f.write(html)\n</code></pre>\n\n<p>You should now be able to open that with a browser.</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 1970830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e415d32515656cad0d8fb48e2f7298b3?s=128&d=identicon&r=PG", "display_name": "Haider", "link": "https://stackoverflow.com/users/1970830/haider"}, "is_accepted": false, "score": 0, "last_activity_date": 1502532472, "creation_date": 1502532472, "answer_id": 45649032, "question_id": 33004089, "link": "https://stackoverflow.com/questions/33004089/python-beautiful-soup-write-html-source-to-file/45649032#45649032", "title": "Python + Beautiful Soup: Write html source to file", "body": "<p>From bs4 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>UnicodeEncodeError: 'charmap' codec can't encode character u'\\xfoo' in position bar (or just about any other UnicodeEncodeError) - This is not a problem with Beautiful Soup. This problem shows up in two main situations. First, when you try to print a Unicode character that your console doesn\u2019t know how to display. (See this page on the Python wiki for help.) Second, when you\u2019re writing to a file and you pass in a Unicode character that\u2019s not supported by your default encoding. In this case, the simplest solution is to explicitly encode the Unicode string into UTF-8 with u.encode(\"utf8\").</p>\n</blockquote>\n\n<p>I got the same error and solved it using:</p>\n\n<pre><code>soup = BeautifulSoup(page.content, 'html.parser', from_encoding=\"utf8\")\nwith open(file_name_with_path, mode=\"w\",  encoding=\"utf8\") as code:\n        code.write(str(soup2.prettify()))\n</code></pre>\n\n<p>You should avoid writing in binary mode. Try using mode=\"w\" instead of mode=\"wb\". Also you have to specify that your file is being written in utf8 encoding. Your error was not due to bs4 but due to incapability of the file writing process from accepting utf8 coding.</p>\n"}], "owner": {"reputation": 5668, "user_id": 2023745, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc8256640c8046280c734a84b4be3f1d?s=128&d=identicon&r=PG", "display_name": "TheRealFakeNews", "link": "https://stackoverflow.com/users/2023745/therealfakenews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5084, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1502532472, "creation_date": 1444260291, "last_edit_date": 1444260623, "question_id": 33004089, "link": "https://stackoverflow.com/questions/33004089/python-beautiful-soup-write-html-source-to-file", "title": "Python + Beautiful Soup: Write html source to file", "body": "<p>I'm trying to save the page source to a file, so that I don't have to constantly re-run my code every time I want to test something. </p>\n\n<p>I have: </p>\n\n<pre><code>html_source = driver.page_source\nsoup = BeautifulSoup(html_source, 'lxml') # added `lxml` only b/c I got a warning saying I should\nsoup = soup.prettify()\nwith open('pagesource.html', 'wb') as f_out:\n    f_out.write(soup)\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\xab' in position 223871: ordinal not in range(128)\n</code></pre>\n\n<p>I also tried <code>f_out.write(str(soup))</code>, which didn't work.</p>\n\n<p>How do I write the content to a file?</p>\n"}, {"tags": ["python", "api", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 0, "creation_date": 1522964936, "post_id": 49682056, "comment_id": 86375918, "body": "haha its been 3 years so i dont even remember this. cheers tho"}, {"owner": {"reputation": 181, "user_id": 9597908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IguV.jpg?s=128&g=1", "display_name": "kashaziz", "link": "https://stackoverflow.com/users/9597908/kashaziz"}, "reply_to_user": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 1, "creation_date": 1522965413, "post_id": 49682056, "comment_id": 86376089, "body": "I was doing something similar and came across this post - thought to update with my findings :)"}, {"owner": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 0, "creation_date": 1522982057, "post_id": 49682056, "comment_id": 86380220, "body": "i was a much noobier programmer back then :) i hope you found what you needed."}, {"owner": {"reputation": 181, "user_id": 9597908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IguV.jpg?s=128&g=1", "display_name": "kashaziz", "link": "https://stackoverflow.com/users/9597908/kashaziz"}, "reply_to_user": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 0, "creation_date": 1523021200, "post_id": 49682056, "comment_id": 86400223, "body": "Looking for a way to bypass the 1025 results per query limit. No success in it yet."}, {"owner": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 0, "creation_date": 1523135286, "post_id": 49682056, "comment_id": 86437506, "body": "is webscraping with selenium an option? thats always the fallback."}, {"owner": {"reputation": 181, "user_id": 9597908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IguV.jpg?s=128&g=1", "display_name": "kashaziz", "link": "https://stackoverflow.com/users/9597908/kashaziz"}, "reply_to_user": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "edited": false, "score": 0, "creation_date": 1523137655, "post_id": 49682056, "comment_id": 86438109, "body": "Selenium is indeed the fallback but it will be an overkill in current scenario. I will think about it only if the client pushes too hard."}], "tags": [], "owner": {"reputation": 181, "user_id": 9597908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IguV.jpg?s=128&g=1", "display_name": "kashaziz", "link": "https://stackoverflow.com/users/9597908/kashaziz"}, "is_accepted": false, "score": 2, "last_activity_date": 1522964899, "creation_date": 1522964899, "answer_id": 49682056, "question_id": 33004074, "link": "https://stackoverflow.com/questions/33004074/python-indeed-api-doesnt-return-more-than-1025-results/49682056#49682056", "title": "python indeed api doesnt return more than 1025 results", "body": "<p>Indeed API allows a maximum of 1025 results per query and as it returns a maximum of 25 results per API call, you will have up to 41 pages per query.</p>\n"}], "owner": {"reputation": 1715, "user_id": 1106414, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f208c46599174c09b9b79a26079df80a?s=128&d=identicon&r=PG", "display_name": "swyx", "link": "https://stackoverflow.com/users/1106414/swyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 4, "answer_count": 1, "score": 3, "last_activity_date": 1522964899, "creation_date": 1444260191, "question_id": 33004074, "link": "https://stackoverflow.com/questions/33004074/python-indeed-api-doesnt-return-more-than-1025-results", "title": "python indeed api doesnt return more than 1025 results", "body": "<p>Here's the code i am trying:</p>\n\n<pre><code>from indeed import IndeedClient\nclient = IndeedClient(publisher = 97xxxxxxxxxxxxxx)\nparams = {\n    'q' : 'teradata',\n    'userip' : \"1.2.3.4\",\n    'useragent' : \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2)\",\n    'limit': 5\n    ,'start':1654\n    ,'sort':'date'\n}\nsearch_response = client.search(**params)\n</code></pre>\n\n<p>The response tells you that there are 3222 total responses (which btw is not the same result you get if you actually search \"teradata\" on indeed but thats another issue). </p>\n\n<p>now this should return 5 results from result #1654 onwards, however only returns 5 results from #1001. in fact adjusting the 'start' variable anywhere above 1000 is completely ineffective. </p>\n\n<p>this is a pretty old api (<a href=\"https://github.com/indeedlabs/indeed-python\" rel=\"nofollow\">https://github.com/indeedlabs/indeed-python</a>) so I'm not sure if this simply wasnt updated or something. Is there a way around this limit please?</p>\n"}, {"tags": ["python", "string", "python-3.x", "ascii", "encode"], "answers": [{"comments": [{"owner": {"reputation": 1044, "user_id": 4108070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ie94l.jpg?s=128&g=1", "display_name": "maq", "link": "https://stackoverflow.com/users/4108070/maq"}, "edited": false, "score": 0, "creation_date": 1444291981, "post_id": 33004579, "comment_id": 53844109, "body": "what do u mean by retyping??"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 1044, "user_id": 4108070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ie94l.jpg?s=128&g=1", "display_name": "maq", "link": "https://stackoverflow.com/users/4108070/maq"}, "edited": false, "score": 1, "creation_date": 1444304460, "post_id": 33004579, "comment_id": 53852399, "body": "@maq it means typing the string in rather than using copy/paste. An English keyboard only has ASCII symbols on it so you won&#39;t accidentally get the EN DASH that your string contains."}], "tags": [], "owner": {"reputation": 3708, "user_id": 3223917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ddd5015f0e348f3413abee1193b058?s=128&d=identicon&r=PG", "display_name": "Hayley Guillou", "link": "https://stackoverflow.com/users/3223917/hayley-guillou"}, "is_accepted": false, "score": 4, "last_activity_date": 1444263638, "last_edit_date": 1495541032, "creation_date": 1444263638, "answer_id": 33004579, "question_id": 33004065, "link": "https://stackoverflow.com/questions/33004065/how-to-check-if-string-is-100-ascii-in-python-3/33004579#33004579", "title": "How to check if string is 100% ascii in python 3", "body": "<p>As with Salvador Dali's <a href=\"https://stackoverflow.com/a/27084708/3223917\">answer</a> you linked to, you must use a try-catch block to check for an error in encoding.</p>\n\n<pre><code># -*- coding: utf-8 -*-\ndef isEnglish(s):\n    try:\n        s.encode('ascii')\n    except UnicodeEncodeError:\n        return False\n    else:\n        return True\n</code></pre>\n\n<p>Just to note though, when I copy and pasted your <code>eng</code> and <code>rus</code> strings to try them, they both came up as <code>False</code>. Retyping the English one returned <code>True</code>, so I'm not sure what's up with that.</p>\n"}, {"comments": [{"owner": {"reputation": 1044, "user_id": 4108070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ie94l.jpg?s=128&g=1", "display_name": "maq", "link": "https://stackoverflow.com/users/4108070/maq"}, "edited": false, "score": 0, "creation_date": 1444292070, "post_id": 33005451, "comment_id": 53844175, "body": "ohhh @Mark Ransom but my main target is to achieve if string is in english or not how can i achieve this??"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 1044, "user_id": 4108070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ie94l.jpg?s=128&g=1", "display_name": "maq", "link": "https://stackoverflow.com/users/4108070/maq"}, "edited": false, "score": 0, "creation_date": 1444304513, "post_id": 33005451, "comment_id": 53852438, "body": "@maq use a combination of this answer and Hayley&#39;s answer."}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 3, "last_activity_date": 1444270471, "last_edit_date": 1444270471, "creation_date": 1444270151, "answer_id": 33005451, "question_id": 33004065, "link": "https://stackoverflow.com/questions/33004065/how-to-check-if-string-is-100-ascii-in-python-3/33005451#33005451", "title": "How to check if string is 100% ascii in python 3", "body": "<p>Your English string really isn't true ASCII, it contains the character <a href=\"http://www.fileformat.info/info/unicode/char/2013/index.htm\" rel=\"nofollow\"><code>U+2013</code> - EN DASH</a>. This looks very similar to the ASCII dash <code>U+002d</code> but it is different.</p>\n\n<p>If this is the only character you need to worry about, you can do a simple replacement to make it work:</p>\n\n<pre><code>&gt;&gt;&gt; eng.replace('\\u2013', '-').encode('ascii')\nb'Clash of Clans - Android Apps on Google Play'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 1534055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fadc21cc79ffc89e972a1801f854f527?s=128&d=identicon&r=PG", "display_name": "Mohamed M. Hagag", "link": "https://stackoverflow.com/users/1534055/mohamed-m-hagag"}, "edited": false, "score": 0, "creation_date": 1581599026, "post_id": 56145336, "comment_id": 106494827, "body": "New in python 3.7 - not before"}], "tags": [], "owner": {"reputation": 31, "user_id": 11503039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rKyz22l6v-M/AAAAAAAAAAI/AAAAAAAAACw/Y9Q6TP6Mf80/photo.jpg?sz=128", "display_name": "Nishant", "link": "https://stackoverflow.com/users/11503039/nishant"}, "is_accepted": false, "score": 3, "last_activity_date": 1557910733, "creation_date": 1557910733, "answer_id": 56145336, "question_id": 33004065, "link": "https://stackoverflow.com/questions/33004065/how-to-check-if-string-is-100-ascii-in-python-3/56145336#56145336", "title": "How to check if string is 100% ascii in python 3", "body": "<p>You can use the isascii() method:</p>\n\n<pre><code>&gt;&gt;&gt; rus.isascii()\nFalse\n</code></pre>\n"}], "owner": {"reputation": 1044, "user_id": 4108070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ie94l.jpg?s=128&g=1", "display_name": "maq", "link": "https://stackoverflow.com/users/4108070/maq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4407, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1557910733, "creation_date": 1444260098, "last_edit_date": 1495540333, "question_id": 33004065, "link": "https://stackoverflow.com/questions/33004065/how-to-check-if-string-is-100-ascii-in-python-3", "title": "How to check if string is 100% ascii in python 3", "body": "<p>i have two strings</p>\n\n<pre><code>eng = \"Clash of Clans \u2013 Android Apps on Google Play\"\nrus = \"Castle Clash: \u041d\u043e\u0432\u0430\u044f \u042d\u0440\u0430 - Android Apps on Google Play\"\n</code></pre>\n\n<p>and now i want to check whether string is in English or not by using <code>Python 3</code>.</p>\n\n<p>I have read this Stackoverflow answer <a href=\"https://stackoverflow.com/a/27084708/4108070\">here</a> and it does not help me as its for <code>Python 2.x</code> solution but in comments some one mention that use</p>\n\n<pre><code>string.encode('ascii')\n</code></pre>\n\n<p>to make it work in <code>Python 3.x</code> but my problem is, in both cases it raises same <code>UnicodeEncodeError</code> exception!</p>\n\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/T8bAq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8bAq.png\" alt=\"enter image description here\"></a></p>\n\n<p>so now i am stuck here and cant figure out how to make it work!\nkindly guide me or i have to use another method to determine if <code>String</code> is in <code>English</code> or not!\nThanks</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 889861, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aa31a2bd6a01f5e0aa61e6893a308dab?s=128&d=identicon&r=PG", "display_name": "gijs007", "link": "https://stackoverflow.com/users/889861/gijs007"}, "edited": false, "score": 0, "creation_date": 1444262075, "post_id": 33004060, "comment_id": 53833420, "body": "Thanks that solves half my problem, now I just need to figure out how to check that the character on position 5 is a space."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 223, "user_id": 889861, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aa31a2bd6a01f5e0aa61e6893a308dab?s=128&d=identicon&r=PG", "display_name": "gijs007", "link": "https://stackoverflow.com/users/889861/gijs007"}, "edited": false, "score": 1, "creation_date": 1444262188, "post_id": 33004060, "comment_id": 53833441, "body": "@gijs007 how about something as simple as <code>invoer[4] == &quot; &quot;</code>? Well, we might talk about having a single regexp replacing all of the checks but that&#39;s probably out of scope here. Thanks."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1444260057, "creation_date": 1444260057, "answer_id": 33004060, "question_id": 33004037, "link": "https://stackoverflow.com/questions/33004037/python-regex-check-last-two-characters-of-variable/33004060#33004060", "title": "python regex, check last two characters of variable", "body": "<p><a href=\"https://docs.python.org/2/library/re.html#re.match\" rel=\"nofollow\"><code>re.match()</code></a> looks for a match from the beginning of a string: </p>\n\n<blockquote>\n  <p>If zero or more characters <em>at the beginning of string</em> match the\n  regular expression pattern, return a corresponding MatchObject\n  instance. Return None if the string does not match the pattern; note\n  that this is different from a zero-length match.</p>\n</blockquote>\n\n<p>You need to use <a href=\"https://docs.python.org/2/library/re.html#re.search\" rel=\"nofollow\"><code>re.search()</code></a> instead:</p>\n\n<pre><code>if re.search(\"[A-Z]{2}$\", invoer):\n    # ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 0, "last_activity_date": 1444262399, "creation_date": 1444262399, "answer_id": 33004410, "question_id": 33004037, "link": "https://stackoverflow.com/questions/33004037/python-regex-check-last-two-characters-of-variable/33004410#33004410", "title": "python regex, check last two characters of variable", "body": "<p>\"\\s{5}\" matches 5 spaces. You want to match 4 characters then a single space right? Also I use \"raw\" strings so that I don't have to escape out \\'s.  That is r\".{4}\\s\".  </p>\n"}], "owner": {"reputation": 223, "user_id": 889861, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aa31a2bd6a01f5e0aa61e6893a308dab?s=128&d=identicon&r=PG", "display_name": "gijs007", "link": "https://stackoverflow.com/users/889861/gijs007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1837, "favorite_count": 0, "accepted_answer_id": 33004060, "answer_count": 2, "score": 1, "last_activity_date": 1444262399, "creation_date": 1444259905, "question_id": 33004037, "link": "https://stackoverflow.com/questions/33004037/python-regex-check-last-two-characters-of-variable", "title": "python regex, check last two characters of variable", "body": "<p>For a school project I need to write a Python script that validates a Dutch postal code and does this by using regular expressions.</p>\n\n<p>I came up with the following script, two of my regular expressions don't work, I've been stuck on this for a while now and don't know what I'm doing wrong.</p>\n\n<p>Below is the script:</p>\n\n<pre><code>check1=0\ncheck2=0\ncheck3=0\ninvoer = input (\"Fill in a postal code\")\nif re.match(\"^[0-9]{0,4}\", invoer):\n    check1 = 1\n#Below if statement doesn't work (Should checks that the last 2 charcters are capitals)\nif re.match(\"[A-Z]{2}$\", invoer):\n    check2 = 1\n    print (\"check 2 works\")\n#Below if statement doesn't work (Should checks for existence of a space on position 5.)\nif re.match(\"\\\\s{5}\", invoer):\n    check3 = 1\n    print (\"check 3 works\")\nif re.match(\"^[A-Z0-9]{0,6}\", invoer):\n    check3 = 1\n    print (\"ding1\")\nif check1 == 1 and check2 == 1 and check3 == 1:\n    print (\"Postcode is valide\")\n</code></pre>\n"}, {"tags": ["python", "algorithm", "list", "class", "insert"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444260523, "post_id": 33004034, "comment_id": 53833044, "body": "It looks like the last case is probably wrongly implemented as well..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4276463"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444260675, "post_id": 33004034, "comment_id": 53833089, "body": "@CommuSoft, is there anything you see that&#39;s jumping out at you that I could do to fix my function?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444261173, "post_id": 33004034, "comment_id": 53833211, "body": "see answer. However I have no (direct) means to test if the implementation is completely correct, can you provide testcases (<a href=\"http://stackoverflow.com/posts/33004034/edit\">edit</a> your answer)"}, {"owner": {"reputation": 2712, "user_id": 1548472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1Xbe4.png?s=128&g=1", "display_name": "holroy", "link": "https://stackoverflow.com/users/1548472/holroy"}, "edited": false, "score": 0, "creation_date": 1444330285, "post_id": 33004034, "comment_id": 53869904, "body": "Why do you work with a linked list <i>with indexes</i>? That is kind of counter intuitive. Usually an insert into a linked list either works at any end, or inserts according to sort order. To maintain index of a linked lists seems just strange to me."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4276463"}, "edited": false, "score": 0, "creation_date": 1444261843, "post_id": 33004211, "comment_id": 53833366, "body": "The test data would be: l = DLL() l.insert(88, 0) l.insert(99, 1) l.insert(77, 2) l.insert(55, 3) l.insert(34, 1) l.insert(3, 0) l.insert(15, 6) l.insert(100, 8)  print(&quot;list after inserts&quot;, l)                                                                          &quot;&quot;&quot;output is as follows: Index out of range. list after inserts 3 88 34 99 77 55 15 &quot;&quot;&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4276463"}, "edited": false, "score": 0, "creation_date": 1444262804, "post_id": 33004211, "comment_id": 53833628, "body": "the output I get is this &quot;list after inserts 3&quot;. So for some reason it&#39;s only adding in the three at index 0? Why do you think that would be?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444263638, "post_id": 33004211, "comment_id": 53833881, "body": "@Jason: there was a small by-1 error; fixed now. Testcase works fine."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4276463"}, "edited": false, "score": 0, "creation_date": 1444265013, "post_id": 33004211, "comment_id": 53834245, "body": "it&#39;s always something small like that isn&#39;t it? :-) Thanks again! This really helped me out and I really appreciate you explaining to me how it is actually working with diagrams as well."}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 0, "last_activity_date": 1444263528, "last_edit_date": 1444263528, "creation_date": 1444261121, "answer_id": 33004211, "question_id": 33004034, "link": "https://stackoverflow.com/questions/33004034/how-to-implement-insert-method-in-a-doubly-linked-list/33004211#33004211", "title": "How to implement insert method in a doubly linked list?", "body": "<p>The problem is that <code>n</code> is a <code>DLLNode</code> you construct yourself. By default <code>prev</code> and <code>next</code> are set to <code>Null</code>; therefore you cannot call any methods on them.</p>\n\n<pre><code>def insert(self, item, index):\n    \"\"\" Inserts a node at the specified index. \"\"\"\n    # Construct node.\n    current = self.head\n    n = DLLNode(item)\n\n    # Check index bounds.\n    if index &gt; self.size:\n        return 'index out of range'\n\n    # If the list is empty...\n    if self.isEmpty():\n        self.head = n\n        self.head.setPrev(self.head)\n    else : #added else case to prevent overlap\n        for x in range(0,index-1): #Obtain the current\n            current = current.next #move to the next item\n        # If the index is the first node...\n        if index == 0:\n            n.setNext(self.head)\n            self.head = n\n            if self.size == 0:\n                self.prev = n\n        # If the index is the last node...\n        elif index == self.size:\n            current.setNext(n) #set n to be the next of current\n            n.setPrev(current) #set current to be the previous of n\n\n        # If the index is any other node...\n        else:\n            n.setNext(current.next)\n            n.setPrev(current)\n            if current.next != None :\n                current.next.setPrev(n)\n            current.setNext(n)\n\n    self.size += 1\n</code></pre>\n\n<p>The last situation works as follows:</p>\n\n<pre><code> /------\\|\nC    N   X\n|\\------/\n</code></pre>\n\n<p>with <code>C</code> the <code>current</code>X<code>the</code>next<code>of</code>current<code>and</code>N<code>the</code>n<code>(new node). First we set the</code>prev<code>and</code>next<code>of</code>n`:</p>\n\n<pre><code> /------\\|\nC &lt;--N--&gt;X\n|\\------/\n</code></pre>\n\n<p>Now we check whether <code>X</code> actually is a real node (although this is strictly not necessary, since \"last nodes\" are handled above). If <code>X</code> is not <code>None</code>, we set the <code>prev</code> of <code>X</code> to <code>N</code>:</p>\n\n<pre><code> /------\\|\nC &lt;--N--&gt;X\n     |\\-/\n</code></pre>\n\n<p>Finally we do not longer need <code>C</code> to point to <code>X</code> (otherwise we could not call functions of <code>X</code>), so we set the <code>next</code> of <code>C</code> to <code>N</code>:</p>\n\n<pre><code> /--\\|\nC &lt;--N--&gt;X\n     |\\-/\n</code></pre>\n\n<p>Can you provide test data to test if the implementation works correctly?</p>\n"}, {"comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444261282, "post_id": 33004216, "comment_id": 53833230, "body": "An additional problem is that the dll has no <code>last</code> (and the method definitely fails to update <code>last</code> if it does)."}], "tags": [], "owner": {"reputation": 59, "user_id": 3170036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8719ad184f67ccc9707765121c43fced?s=128&d=identicon&r=PG&f=1", "display_name": "smurf", "link": "https://stackoverflow.com/users/3170036/smurf"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261194, "creation_date": 1444261194, "answer_id": 33004216, "question_id": 33004034, "link": "https://stackoverflow.com/questions/33004034/how-to-implement-insert-method-in-a-doubly-linked-list/33004216#33004216", "title": "How to implement insert method in a doubly linked list?", "body": "<p>I believe the problem is here</p>\n\n<pre><code>elif index == self.size:\n    n.next.setPrev(n)\n</code></pre>\n\n<p>When insert at the last element, you need to traverse to the current last element say <code>last</code>. Assume you did that you can do</p>\n\n<pre><code>elif index == self.size:\n    last.setNext(n)\n    n.setPrev(last)\n    n.setNext(head) #only if this list is also circular\n    self.size++\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4276463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4208, "favorite_count": 0, "accepted_answer_id": 33004211, "answer_count": 2, "score": 1, "last_activity_date": 1444263528, "creation_date": 1444259886, "last_edit_date": 1444263260, "question_id": 33004034, "link": "https://stackoverflow.com/questions/33004034/how-to-implement-insert-method-in-a-doubly-linked-list", "title": "How to implement insert method in a doubly linked list?", "body": "<p>I need to implement this <code>insert</code> function in my doubly linked list and I'm having trouble getting it to properly insert elements at given indexes. I am able to add an element into an empty list object, but when I attempt to add a new node at the last node, I get an error saying:</p>\n\n<blockquote>\n  <p>'NoneType' object has no attribute 'setPrev'</p>\n</blockquote>\n\n<p>I understand what this error means and have tried shifting my function around to avoid this error and get the right output, but to no avail. </p>\n\n<p><strong>Question: How can I fix this insert function in order to allow it to add nodes in all cases?</strong></p>\n\n<pre><code>class DLLNode:\n    def __init__(self,initdata):\n        self.data = initdata\n        self.next = None\n        self.prev = None\n\n    def __str__(self):\n        return str(self.data)\n\n    def getData(self):\n        return self.data\n\n    def getNext(self):\n        return self.next\n\n    def getPrev(self):\n        return self.prev\n\n    def setData(self, new_data):\n        self.data = new_data\n\n    def setNext(self, new_next):\n        self.next = new_next\n\n    def setPrev(self, new_prev):\n        self.prev = new_prev\n\nclass DLL:\n    \"\"\" Class representing a doubly-linked list. \"\"\"\n\n    def __init__(self):\n        \"\"\" Constructs an empty doubly-linked list. \"\"\"\n        self.head = None\n        self.size = 0\n\n    def __str__(self):\n        \"\"\" Converts the list into a string representation. \"\"\"\n        current = self.head\n        rep = \"\"\n        while current != None:\n            rep += str(current) + \" \"\n            current = current.getNext()\n\n        return rep\n\n    def isEmpty(self):\n        \"\"\" Checks if the doubly-linked list is empty. \"\"\"\n        return self.size &lt;= 0\n\n    def insert(self, item, index):\n        \"\"\" Inserts a node at the specified index. \"\"\"\n        # Construct node.\n        current = self.head\n        n = DLLNode(item)\n\n        # Check index bounds.\n        if index &gt; self.size:\n            return 'index out of range'\n\n        # If the list is empty...\n        if self.isEmpty():\n            self.head = n\n            self.head.setPrev(self.head)\n\n        # If the index is the first node...\n        if index == 0:\n            n.setNext(self.head)\n            self.head = n\n            if self.size == 0:\n                self.prev = n\n        # If the index is the last node...\n        elif index == self.size:\n            n.next.setPrev(n)\n\n        # If the index is any other node...\n        else:\n            if current == None:\n                n.setPrev(self.prev)\n                self.prev.setNext(n)\n                self.prev = n\n            else:\n                n.setNext(current)\n                n.getPrev().setNext(n)\n                current.setPrev(n.getPrev())\n                n.setPrev(n)\n\n        self.size += 1\n</code></pre>\n\n<p>A testcase is the following scenario:</p>\n\n<pre><code>l = DLL()\nl.insert(88, 0)\nl.insert(99, 1)\nl.insert(77, 2)\nl.insert(55, 3)\nl.insert(34, 1)\nl.insert(3, 0)\nl.insert(15, 6)\nl.insert(100, 8)\nprint(\"list after inserts\", l)\n</code></pre>\n\n<p>output is as follows:</p>\n\n<pre><code>Index out of range.\nlist after inserts 3 88 34 99 77 55 15 \"\"\"\n</code></pre>\n"}, {"tags": ["python", "numpy", "precision", "numerical-methods"], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 5, "last_activity_date": 1444261445, "last_edit_date": 1495542725, "creation_date": 1444260769, "answer_id": 33004170, "question_id": 33004029, "link": "https://stackoverflow.com/questions/33004029/is-numpy-sum-implemented-in-such-a-way-that-numerical-errors-are-avoided/33004170#33004170", "title": "Is numpy.sum implemented in such a way that numerical errors are avoided?", "body": "<p>Searching on <code>numpy kahan</code> turned up a closed bug/issue</p>\n\n<p><a href=\"https://github.com/numpy/numpy/issues/2448\" rel=\"nofollow noreferrer\">https://github.com/numpy/numpy/issues/2448</a> Numerical-stable sum (similar to math.fsum)</p>\n\n<p>I haven't read it in detail.  Note the reference to <code>math.fsum</code></p>\n\n<pre><code>fsum(iterable)\nReturn an accurate floating point sum of values in the iterable.\nAssumes IEEE-754 floating point arithmetic.\n(from the Python math docs)\nReturn an accurate floating point sum of values in the iterable. Avoids loss of precision by tracking multiple intermediate partial sums\n</code></pre>\n\n<p>And a SO question, with some discussion, but no real answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16864192/is-there-any-documentation-of-numpy-numerical-stability\">Is there any documentation of numpy numerical stability?</a></p>\n\n<p>A simple comparison:</p>\n\n<pre><code>In [320]: x=np.ones(100000)/100000\nIn [321]: sum(x)-1\nOut[321]: -1.9162449405030202e-12\nIn [322]: np.sum(x)-1\nOut[322]: 1.3322676295501878e-15\nIn [323]: math.fsum(x)-1\nOut[323]: 0.0\n</code></pre>\n\n<p>respective times are 72 ms,  304 \u00b5s,  23.8 ms</p>\n\n<p><code>np.sum</code> is clearly fastest; but <code>fsum</code> is better than <code>sum</code>, probably because of its sepecialized C implementation.</p>\n"}], "owner": {"reputation": 101, "user_id": 2069419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e63caf6897e877220bf56219932cac?s=128&d=identicon&r=PG", "display_name": "Nico Ponieman", "link": "https://stackoverflow.com/users/2069419/nico-ponieman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1448, "favorite_count": 2, "answer_count": 1, "score": 10, "last_activity_date": 1444261445, "creation_date": 1444259864, "question_id": 33004029, "link": "https://stackoverflow.com/questions/33004029/is-numpy-sum-implemented-in-such-a-way-that-numerical-errors-are-avoided", "title": "Is numpy.sum implemented in such a way that numerical errors are avoided?", "body": "<p>It is well known that adding up numbers can result in numerical errors (for example, if the first number is really large, whereas there are many other small numbers).</p>\n\n<p>This can be solved adding up the numbers in a non straight-forward way. See for example: <a href=\"https://en.wikipedia.org/wiki/Kahan_summation_algorithm\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Kahan_summation_algorithm</a></p>\n\n<p>Is numpy.sum implemented in such a way that numerical errors are avoided?</p>\n"}, {"tags": ["python", "regex", "rss"], "comments": [{"owner": {"reputation": 21, "user_id": 4779104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe9c86f0aac7a3900a5cb9c76f5b1bf?s=128&d=identicon&r=PG&f=1", "display_name": "Hinchy", "link": "https://stackoverflow.com/users/4779104/hinchy"}, "edited": false, "score": 0, "creation_date": 1444312996, "post_id": 33004006, "comment_id": 53859048, "body": "From what I can see the headline of the article I want will always be in the third &lt;title&gt; tag. Is it possible to isolate that using regex alone?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4779104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe9c86f0aac7a3900a5cb9c76f5b1bf?s=128&d=identicon&r=PG&f=1", "display_name": "Hinchy", "link": "https://stackoverflow.com/users/4779104/hinchy"}, "edited": false, "score": 0, "creation_date": 1444279131, "post_id": 33005986, "comment_id": 53837840, "body": "Its a stand alone .py file that has a gui containing 4 buttons. Each button is directed at a different RSS feed and each time one is pressed the program takes the first item on the RSS feed and downloads its title, date, picture and the first sentence of the article.   The front end is not a problem, I am just struggling to isolate the contents of the first article using regex whilst ignoring the rest.  What else would you like to know?"}], "tags": [], "owner": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "is_accepted": false, "score": 0, "last_activity_date": 1444330166, "last_edit_date": 1444330166, "creation_date": 1444274125, "answer_id": 33005986, "question_id": 33004006, "link": "https://stackoverflow.com/questions/33004006/using-python-regex-to-rip-certain-elements-from-an-rss-feed/33005986#33005986", "title": "Using python regex to rip certain elements from an RSS feed", "body": "<p>How do you execute .py files now? This question requires a bit of work and a method. Much like asking a baker, <em>How do you bake a cake?</em> </p>\n\n<p>I would create .py script named perhaps, reader.py and the I would executed it like so:</p>\n\n<pre><code>C:\\Python27\\ python reader.py \n</code></pre>\n\n<p><strong>Basic example (reader.py):</strong>  </p>\n\n<pre><code>import re \n\nnames_file = open(\"file_getting_read.txt\", encoding=\"utf-8\")\ndata = names_file.read()\nnames_file.close()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4779104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe9c86f0aac7a3900a5cb9c76f5b1bf?s=128&d=identicon&r=PG&f=1", "display_name": "Hinchy", "link": "https://stackoverflow.com/users/4779104/hinchy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444330166, "creation_date": 1444259692, "question_id": 33004006, "link": "https://stackoverflow.com/questions/33004006/using-python-regex-to-rip-certain-elements-from-an-rss-feed", "title": "Using python regex to rip certain elements from an RSS feed", "body": "<p>I have been tasked with creating a program in python which rips data from the first article of a news <a href=\"http://feeds.feedburner.com/TechCrunch/startups\" rel=\"nofollow\">RSS feed</a> and displays it in a different format. The program must update when a new article is posted on the RSS feed and as such can not be hard coded.</p>\n\n<p>I have looked through all of the other answers on python regex here and they all suggest to use Beautiful Soup, unfortunately I am unable to use anything besides pythons RE library. The trouble I am having is with the regular expressions required to take the title, date, picture and first sentence of the first article on the page while ignoring the rest. </p>\n\n<p><a href=\"http://pastebin.com/vPgccPXP\" rel=\"nofollow\">Source code of RSS</a></p>\n"}, {"tags": ["python", "list", "python-3.x", "tuples"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1444259827, "post_id": 33003968, "comment_id": 53832861, "body": "@cdonts thats not necessarily a problem, you can always make a copy."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "edited": false, "score": 0, "creation_date": 1444259907, "post_id": 33004014, "comment_id": 53832882, "body": "Yes, but this an example, because the number of items in the tuple can be more than three"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "edited": false, "score": 0, "creation_date": 1444259990, "post_id": 33004014, "comment_id": 53832902, "body": "@gino Then show an example of a general case, or multiple cases. I can only work with what you tell us, I cannot read minds."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "edited": false, "score": 0, "creation_date": 1444260221, "post_id": 33004014, "comment_id": 53832962, "body": "Oh, so you always want to remove the string <code>&#39;di&#39;</code>? Okay one sec."}, {"owner": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "edited": false, "score": 0, "creation_date": 1444260297, "post_id": 33004014, "comment_id": 53832990, "body": "No, non always &#39;di&#39;, it can be any other preposition"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "edited": false, "score": 0, "creation_date": 1444260327, "post_id": 33004014, "comment_id": 53833000, "body": "@gino Do you have a full enumeration of all prepositions?"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 2, "last_activity_date": 1444260425, "last_edit_date": 1444260425, "creation_date": 1444259745, "answer_id": 33004014, "question_id": 33003968, "link": "https://stackoverflow.com/questions/33003968/delete-item-in-a-tuple-in-python/33004014#33004014", "title": "delete item in a tuple in python", "body": "<p>You can use <code>ast.literal_eval</code> to turn the string into a list of tuples</p>\n\n<pre><code>&gt;&gt;&gt; from ast import literal_eval\n&gt;&gt;&gt; l = literal_eval(\"[('misure', 'di', 'protezione'), ('libert\u00e0', 'di', 'espressione')]\")\n</code></pre>\n\n<p>Then a list comprehension to make new tuples out of the first and last element</p>\n\n<pre><code>&gt;&gt;&gt; [(i[0], i[-1]) for i in l]\n[('misure', 'protezione'), ('libert\u00e0', 'espressione')]\n</code></pre>\n\n<p>Then <code>str</code> to create a string from the list of tuples</p>\n\n<pre><code>&gt;&gt;&gt; str([(i[0], i[-1]) for i in l])\n\"[('misure', 'protezione'), ('libert\u00e0', 'espressione')]\"\n</code></pre>\n\n<p><strong>Edit</strong><br>\nIf you want to remove all instances of the string <code>'di'</code> it is the same idea, you can use a list comprehension</p>\n\n<pre><code>&gt;&gt;&gt; [tuple(i for i in j if i != 'di') for j in l]\n[('misure', 'protezione'), ('libert\u00e0', 'espressione', 'popolo')]\n</code></pre>\n\n<p><strong>Edit 2</strong><br>\nEven more generally, if you have a <code>set</code> of prepositions you want to exclude</p>\n\n<pre><code>&gt;&gt;&gt; prepositions = {'di', 'a', 'al'}\n&gt;&gt;&gt; [tuple(i for i in j if i not in prepositions) for j in l]\n[('misure', 'protezione'), ('libert\u00e0', 'espressione', 'popolo')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2003, "user_id": 4236028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vYymD.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4236028/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1444260201, "creation_date": 1444260201, "answer_id": 33004077, "question_id": 33003968, "link": "https://stackoverflow.com/questions/33003968/delete-item-in-a-tuple-in-python/33004077#33004077", "title": "delete item in a tuple in python", "body": "<p>Tuple are immutable so you cannot change them once created. You can create new ones. Try this:</p>\n\n<pre><code>[tuple(j for j in i if 'di' not in j) for i in a]\n</code></pre>\n\n<p><a href=\"https://ideone.com/khL5dL\" rel=\"nofollow\">Here</a> is the working demo.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 1904020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15619e1dd57d4b0297f15ac6b72cc5ac?s=128&d=identicon&r=PG", "display_name": "AnkurC", "link": "https://stackoverflow.com/users/1904020/ankurc"}, "is_accepted": false, "score": 1, "last_activity_date": 1444261308, "creation_date": 1444261308, "answer_id": 33004234, "question_id": 33003968, "link": "https://stackoverflow.com/questions/33003968/delete-item-in-a-tuple-in-python/33004234#33004234", "title": "delete item in a tuple in python", "body": "<pre><code>[tuple(j for j in i if 'di' != j) for i in li]\n</code></pre>\n\n<p>I modified sam2090 code, since the string 'di' can be part of a word like 'dim'</p>\n"}], "owner": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3302, "favorite_count": 0, "accepted_answer_id": 33004014, "answer_count": 3, "score": 0, "last_activity_date": 1444305677, "creation_date": 1444259501, "last_edit_date": 1444305677, "question_id": 33003968, "link": "https://stackoverflow.com/questions/33003968/delete-item-in-a-tuple-in-python", "title": "delete item in a tuple in python", "body": "<p>I have a file in this format</p>\n\n<pre><code>[('misure', 'di', 'protezione'), ('libert\u00e0', 'di', 'espressione', 'di', 'popolo')]\n</code></pre>\n\n<p>What I want is to eliminate from the tuple the preposition (di), and return the result in the same format. So I created this function to do this</p>\n\n<pre><code>lista = myfilelist\nprep = prepositionfile\nli = ast.literal_eval(lista)\n\n for i in li:\n    word = str(i)\n    ll = word.split(\"', '\")\n    for w in ll:\n        lll= w.strip(\"('')\")\n        if lll in prep:\n            i = word.replace(lll, \"\")\n            i.strip('')\n\n     print (nonlem(li))\n</code></pre>\n\n<p>but it return the tuple in this format</p>\n\n<pre><code>[('misure', '', 'protezione'), ('libert\u00e0', '', 'espressione', '', 'popolo')]\n</code></pre>\n\n<p>The output needed is</p>\n\n<pre><code>[('misure', 'protezione'), ('libert\u00e0', 'espressione', 'popolo')] ### without ''\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib", "dataframe"], "comments": [{"owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "edited": false, "score": 0, "creation_date": 1444259259, "post_id": 33003886, "comment_id": 53832688, "body": "you want that plots but between -0.5 and 1?"}, {"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "reply_to_user": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "edited": false, "score": 0, "creation_date": 1444259290, "post_id": 33003886, "comment_id": 53832696, "body": "I know the scale of -0.5 to 1 will cover all values, but I do need to make sure the graphed lines line up with that scale appropriately.  In this example -.2 to .06 will actually cover all values"}, {"owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "edited": false, "score": 0, "creation_date": 1444259896, "post_id": 33003886, "comment_id": 53832878, "body": "If i understand you want a scale fix between NDVI and NDII, am i right?"}, {"owner": {"reputation": 4833, "user_id": 4413307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000550702123/picture?type=large", "display_name": "Andre", "link": "https://stackoverflow.com/users/4413307/andre"}, "edited": false, "score": 0, "creation_date": 1444260246, "post_id": 33003886, "comment_id": 53832972, "body": "well, the <code>NaN</code> is not the problem, even if you ignore it."}], "answers": [{"comments": [{"owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 1, "creation_date": 1444274467, "post_id": 33005855, "comment_id": 53836656, "body": "well that does work, but I guess what I actually need is an automatic limit set based on the data because for some graphs that is way too large of a range and it becomes unreadable"}, {"owner": {"reputation": 2089, "user_id": 4683697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-6wSfNoZdycs/AAAAAAAAAAI/AAAAAAAAAi4/lQS5cPmyZuw/photo.jpg?sz=128", "display_name": "Joseph Farah", "link": "https://stackoverflow.com/users/4683697/joseph-farah"}, "reply_to_user": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1444274633, "post_id": 33005855, "comment_id": 53836696, "body": "@StefanoPotter can you write a function to get a max/min of your data and then use those values in the set_xlim() function?"}, {"owner": {"reputation": 2089, "user_id": 4683697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-6wSfNoZdycs/AAAAAAAAAAI/AAAAAAAAAi4/lQS5cPmyZuw/photo.jpg?sz=128", "display_name": "Joseph Farah", "link": "https://stackoverflow.com/users/4683697/joseph-farah"}, "reply_to_user": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "edited": false, "score": 0, "creation_date": 1444275443, "post_id": 33005855, "comment_id": 53836889, "body": "@StefanoPotter no problem XD"}], "tags": [], "owner": {"reputation": 2089, "user_id": 4683697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-6wSfNoZdycs/AAAAAAAAAAI/AAAAAAAAAi4/lQS5cPmyZuw/photo.jpg?sz=128", "display_name": "Joseph Farah", "link": "https://stackoverflow.com/users/4683697/joseph-farah"}, "is_accepted": true, "score": 1, "last_activity_date": 1444273239, "creation_date": 1444273239, "answer_id": 33005855, "question_id": 33003886, "link": "https://stackoverflow.com/questions/33003886/fix-scale-for-x-axis-matplotlib/33005855#33005855", "title": "Fix scale for x-axis matplotlib", "body": "<p>You can try <code>set_xlim()</code> (called AFTER the plot)\nThis should force your x-axis to stay between <code>0.5</code> and <code>1</code>, and I believe it will scale it automatically. </p>\n\n<pre><code>set_xlim(0.5,1)\n</code></pre>\n\n<p>would go after you define <code>Plot</code>. </p>\n\n<p>Best of luck, and happy coding!</p>\n"}], "owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 33005855, "answer_count": 1, "score": 2, "last_activity_date": 1559060215, "creation_date": 1444258983, "last_edit_date": 1559060215, "question_id": 33003886, "link": "https://stackoverflow.com/questions/33003886/fix-scale-for-x-axis-matplotlib", "title": "Fix scale for x-axis matplotlib", "body": "<p>I have a <code>dataframe</code> like this:</p>\n\n<pre><code>   Allotment  NDII Percent  NDII Value  NDVI Percent  NDVI Value\n0    Arnston        0.0550   -0.199448           NaN         NaN\n1    Arnston        0.0000   -0.198036           NaN         NaN\n2    Arnston        0.0000   -0.196623           NaN         NaN\n3    Arnston        0.0000   -0.195211           NaN         NaN\n4    Arnston        0.0000   -0.193799           NaN         NaN\n5    Arnston        0.0275   -0.192386           NaN         NaN\n6    Arnston        0.0550   -0.190974           NaN         NaN\n7    Arnston        0.0000   -0.189561           NaN         NaN\n8    Arnston        0.0275   -0.188149           NaN         NaN\n9    Arnston        0.1926   -0.186737           NaN         NaN\n10      Anex        0.0275   -0.185324           NaN         NaN\n11      Anex        0.0275   -0.183912           NaN         NaN\n12      Anex        0.1376   -0.182499           NaN         NaN\n13      Anex        0.0000   -0.181087           NaN         NaN\n14      Anex        0.1100   -0.179675           NaN         NaN\n15      Anex        0.0550   -0.178262           NaN         NaN\n16      Anex        0.0000   -0.176850           NaN         NaN\n17      Anex        0.0275   -0.175437           NaN         NaN\n18      Anex        0.1100   -0.174025           NaN         NaN\n0    Arnston           NaN         NaN        5.0338    0.000000\n1    Arnston           NaN         NaN        1.0000    0.002235\n2    Arnston           NaN         NaN        0.0200    0.004469\n3    Arnston           NaN         NaN        0.1000    0.006704\n4    Arnston           NaN         NaN        2.0000    0.008939\n5    Arnston           NaN         NaN        1.0000    0.011173\n6    Arnston           NaN         NaN        2.0000    0.013408\n7    Arnston           NaN         NaN        0.0000    0.015643\n8    Arnston           NaN         NaN        0.0000    0.017877\n9    Arnston           NaN         NaN        0.0000    0.020112\n10   Arnston           NaN         NaN        0.0000    0.022346\n11      Anex           NaN         NaN        1.0000    0.024581\n12      Anex           NaN         NaN        3.0000    0.026816\n13      Anex           NaN         NaN        5.0000    0.029050\n14      Anex           NaN         NaN        0.0000    0.031285\n15      Anex           NaN         NaN        0.0000    0.033520\n16      Anex           NaN         NaN        0.0000    0.035754\n17      Anex           NaN         NaN        0.0000    0.037989\n18      Anex           NaN         NaN        0.0000    0.040224\n19      Anex           NaN         NaN        0.0000    0.042458\n20      Anex           NaN         NaN        0.0000    0.044693\n21      Anex           NaN         NaN        0.0000    0.046928\n22      Anex           NaN         NaN        0.0000    0.049162\n23      Anex           NaN         NaN        0.0000    0.051397\n24      Anex           NaN         NaN        0.0000    0.053631\n25      Anex           NaN         NaN        0.0000    0.055866\n26      Anex           NaN         NaN        0.0000    0.058101\n</code></pre>\n\n<p>And I want to plot based on a <code>groupby</code> of each allotment the <code>NDVI</code> Value and <code>NDII</code> value on the <code>x-axis</code> against their respective <code>NDVI</code> Percent and <code>NDII</code> Percent on the <code>y-axis</code>.</p>\n\n<p>I am doing this like this:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\nwith PdfPages(r'C:\\Delete.pdf') as pdf:\n    for i, group in df.groupby('Allotment'):\n        Plot=group.plot(x=['NDVI Value','NDII Value'], y=['NDVI Percent','NDII Percent'], title=str(i)).get_figure()\n        pdf.savefig(Plot)  \n</code></pre>\n\n<p>But the graphs come out like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yfkfo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfkfo.png\" alt=\"\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FXgLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXgLj.png\" alt=\"\"></a></p>\n\n<p>Is there a way to set a standard <code>x-axis</code>? Like if I know that all values fall between <code>-0.5</code> and <code>1</code> I would like to set that as the label but I obviously need to make sure the graphed lines line up appropriately. Possibly the problem here is stemming from the <code>NaN</code>'s?</p>\n\n<p>If there is a way to clean up the <code>dataframe</code> to remove those I am open to that as well.</p>\n\n<p>If there is a way to create two subplots for each allotment that would work for me too</p>\n"}, {"tags": ["python", "pygame", "python-idle"], "comments": [{"owner": {"reputation": 124, "user_id": 2395680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ91F.jpg?s=128&g=1", "display_name": "Don Beto", "link": "https://stackoverflow.com/users/2395680/don-beto"}, "edited": false, "score": 0, "creation_date": 1444259477, "post_id": 33003788, "comment_id": 53832762, "body": "Is the code you provide formatted exactly as in your text editor? If so, then you must indentate everything (but the last 2 lines) so they are inside the while loop."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1444275604, "post_id": 33003788, "comment_id": 53836932, "body": "<i>Exactly</i> how did you try to run your file? Also, remove &#39;quit()&#39; at the end.  If you possibly can, upgrade to 2.7.10 or 3.4 or 3.5.  Many bugs have been fixed and many improvement made in 5+ years."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5420654, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1125582317470542/picture?type=large", "display_name": "Derek Zhang", "link": "https://stackoverflow.com/users/5420654/derek-zhang"}, "edited": false, "score": 0, "creation_date": 1444337956, "post_id": 33004105, "comment_id": 53874012, "body": "Thanks! That helped a lot, because now I understand the gist of what to include and what not to include into the main loop. I&#39;ll check out the Al Sweigart book."}], "tags": [], "owner": {"reputation": 124, "user_id": 2395680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uZ91F.jpg?s=128&g=1", "display_name": "Don Beto", "link": "https://stackoverflow.com/users/2395680/don-beto"}, "is_accepted": false, "score": 0, "last_activity_date": 1444260391, "creation_date": 1444260391, "answer_id": 33004105, "question_id": 33003788, "link": "https://stackoverflow.com/questions/33003788/having-some-problems-with-pygame/33004105#33004105", "title": "Having some problems with Pygame", "body": "<p>As I said you need to indentate everything, but I found many problems in your code, here's a version I did out of it:</p>\n\n<pre><code>import pygame\n\npygame.init()\n\ngameDisplay = pygame.display.set_mode((600,600))\n\npygame.display.set_caption('Doge Adventures')\n\ngameexit = False\n\nmove_x = 300\nmove_y = 300\nwhite = (255, 255, 255)\nblack = (0, 0, 0)\n\nwhile not gameexit:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameexit = True\n\n        if event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_LEFT:\n                move_x -= 10\n            elif event.key == pygame.K_RIGHT:\n                move_x += 10                \n            elif event.key == pygame.K_UP:\n                move_y -= 10\n            elif event.key == pygame.K_DOWN:\n                move_y += 10\n\n\n    gameDisplay.fill(white)\n\n    pygame.draw.rect(gameDisplay, black, [move_x, move_y, 10, 10])\n\n    pygame.display.update()\n\npygame.quit()\nquit()\n</code></pre>\n\n<p>I recommend you the Al Sweigart book of Python/Pygame. It's such a great book.</p>\n"}], "owner": {"reputation": 47, "user_id": 5420654, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1125582317470542/picture?type=large", "display_name": "Derek Zhang", "link": "https://stackoverflow.com/users/5420654/derek-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444260391, "creation_date": 1444258474, "question_id": 33003788, "link": "https://stackoverflow.com/questions/33003788/having-some-problems-with-pygame", "title": "Having some problems with Pygame", "body": "<p>So heres my script:</p>\n\n<pre><code>import pygame\n\npygame.init()\n\ngameDisplay = pygame.display.set_mode((600,600))\n\npygame.display.set_caption('Doge Adventures')\n\ngameexit = False\n\nmove_x = 300\nmove_y = 300\nmove_x_change = 0\nmove_y_change = 0 \n\nwhile not gameexit:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameexit = True\n\n        if event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_LEFT:\n                move_x_change = -10 \n            if event.key == pygame.K_RIGHT:\n                move_y_change = 10\n\nmove_x += move_x_change\n\ngameDisplay.fill(white)\n\npygame.draw.rect(gameDisplay, black, [move_x, move_y, 10, 10])\n\npygame.display.update()\n\npygame.quit()\nquit()\n</code></pre>\n\n<hr>\n\n<p>The problem is that when I run it, nothing happens, no errors. Just the idle pops up, but no window. I was wondering if there was anything wrong with my code. I'm running python 2.6 with pygame 2.6</p>\n"}, {"tags": ["python", "variables", "yaml"], "comments": [{"owner": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1533936481, "post_id": 33003756, "comment_id": 90546099, "body": "<b>See also:</b> <a href=\"https://stackoverflow.com/questions/41620674\">stackoverflow.com/questions/41620674</a>"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5107834, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73fad263dc2922e362c95d38b30473e9?s=128&d=identicon&r=PG&f=1", "display_name": "user_h", "link": "https://stackoverflow.com/users/5107834/user-h"}, "edited": false, "score": 0, "creation_date": 1444260366, "post_id": 33003951, "comment_id": 53833014, "body": "why would you not recommend it"}, {"owner": {"reputation": 2726, "user_id": 5896591, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71a43ee15bbb5a512cf554b430416e33?s=128&d=identicon&r=PG&f=1", "display_name": "personal_cloud", "link": "https://stackoverflow.com/users/5896591/personal-cloud"}, "reply_to_user": {"reputation": 125, "user_id": 5107834, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73fad263dc2922e362c95d38b30473e9?s=128&d=identicon&r=PG&f=1", "display_name": "user_h", "link": "https://stackoverflow.com/users/5107834/user-h"}, "edited": false, "score": 0, "creation_date": 1505616205, "post_id": 33003951, "comment_id": 79483777, "body": "@user_h For one thing, the yaml package doesn&#39;t ship with Python."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "reply_to_user": {"reputation": 125, "user_id": 5107834, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73fad263dc2922e362c95d38b30473e9?s=128&d=identicon&r=PG&f=1", "display_name": "user_h", "link": "https://stackoverflow.com/users/5107834/user-h"}, "edited": false, "score": 0, "creation_date": 1505624216, "post_id": 33003951, "comment_id": 79485026, "body": "Old thread, but the big reason not to do it is that modifying your globals can overwrite important names. <code>globals().update(yaml.load(&quot;str: 42\\nsuper: hi hello&quot;))</code> will do bad things to the rest of your code; allowing user-defined strings and things into your environment is also a major security concern. So just avoid it ;) @user_h"}], "tags": [], "owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "is_accepted": false, "score": 3, "last_activity_date": 1444259425, "creation_date": 1444259425, "answer_id": 33003951, "question_id": 33003756, "link": "https://stackoverflow.com/questions/33003756/load-data-from-a-yaml-file-into-variables-in-python/33003951#33003951", "title": "Load data from a YAML file into variables in python", "body": "<p>Generally, there's nothing wrong with using a dictionary as would result from using <code>yaml.load(\"\"\"a: 45\\nb: cheese\\nc: 7.8\"\"\")</code> -- if you really must get these into the namespace as actual variables, you could do: </p>\n\n<pre><code>&gt;&gt;&gt; y = yaml.load(\"\"\"a: 45\n... b: cheese\n... c: 7.8\"\"\")\n&gt;&gt;&gt; globals().update(y)\n&gt;&gt;&gt; b\n\"cheese\"\n</code></pre>\n\n<p>but I don't recommend it. </p>\n"}, {"comments": [{"owner": {"reputation": 2726, "user_id": 5896591, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71a43ee15bbb5a512cf554b430416e33?s=128&d=identicon&r=PG&f=1", "display_name": "personal_cloud", "link": "https://stackoverflow.com/users/5896591/personal-cloud"}, "edited": false, "score": 1, "creation_date": 1505617226, "post_id": 33003969, "comment_id": 79483919, "body": "Libraries should never be installed outside a virtualenv, note."}], "tags": [], "owner": {"reputation": 16302, "user_id": 1953475, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xbP7V.jpg?s=128&g=1", "display_name": "B.Mr.W.", "link": "https://stackoverflow.com/users/1953475/b-mr-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1444259502, "creation_date": 1444259502, "answer_id": 33003969, "question_id": 33003756, "link": "https://stackoverflow.com/questions/33003756/load-data-from-a-yaml-file-into-variables-in-python/33003969#33003969", "title": "Load data from a YAML file into variables in python", "body": "<p>First, you need a space after the colon to make it a legit yaml(<a href=\"https://en.wikipedia.org/wiki/YAML\" rel=\"nofollow\">wiki:searchcolon</a>). For more information about pyyaml, click <a href=\"http://pyyaml.org/wiki/PyYAMLDocumentation\" rel=\"nofollow\">here</a>.</p>\n\n<pre><code>#pip install pyyaml\n\nIn [1]: text=\"\"\"\n   ...: a: 45\n   ...: b: cheese\n   ...: c: 7.8\"\"\"\n\nIn [2]: import yaml\n\nIn [3]: print yaml.load(text)\n{'a': 45, 'c': 7.8, 'b': 'cheese'}\n</code></pre>\n\n<p>And now you are good to go :) </p>\n\n<p>In case someone is interested in why space matters:</p>\n\n<pre><code>In [4]: text1=\"\"\"\na:45\nb:cheese\nc:7.8\"\"\"\n\nIn [6]: print yaml.load(text1)\na:45 b:cheese c:7.8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2726, "user_id": 5896591, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71a43ee15bbb5a512cf554b430416e33?s=128&d=identicon&r=PG&f=1", "display_name": "personal_cloud", "link": "https://stackoverflow.com/users/5896591/personal-cloud"}, "edited": false, "score": 1, "creation_date": 1505617249, "post_id": 33004056, "comment_id": 79483923, "body": "Libraries should never be installed outside a virtualenv, note"}], "tags": [], "owner": {"reputation": 169, "user_id": 5292564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qsKyB.jpg?s=128&g=1", "display_name": "tockards", "link": "https://stackoverflow.com/users/5292564/tockards"}, "is_accepted": false, "score": 3, "last_activity_date": 1444260027, "creation_date": 1444260027, "answer_id": 33004056, "question_id": 33003756, "link": "https://stackoverflow.com/questions/33003756/load-data-from-a-yaml-file-into-variables-in-python/33004056#33004056", "title": "Load data from a YAML file into variables in python", "body": "<p>The issue is in the way your information is being stored. See the <a href=\"http://yaml.org/spec/1.2/spec.html\" rel=\"nofollow\">YAML</a> specification. The information you supplied will return as a string. \nTry using an a parser like this <a href=\"http://yaml-online-parser.appspot.com/\" rel=\"nofollow\">parser</a> on your information to verify it returns what you want it to return.</p>\n\n<p>That being said. To return it as a dictionary it has to be saved as </p>\n\n<pre><code> a: 45 \n b: cheese\n c: 7.8\n</code></pre>\n\n<p>Above is the correct format to save in, if you would like to represent it as a dictionary.</p>\n\n<p>below is some python code on that. please note i save the information to a file called information.yaml</p>\n\n<pre><code> import yaml\n with open('information.yaml') as info:\n      info_dict = yaml.load(info)\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 5107834, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73fad263dc2922e362c95d38b30473e9?s=128&d=identicon&r=PG&f=1", "display_name": "user_h", "link": "https://stackoverflow.com/users/5107834/user-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14512, "favorite_count": 0, "closed_date": 1505611547, "answer_count": 3, "score": 3, "last_activity_date": 1505613554, "creation_date": 1444258317, "last_edit_date": 1444259722, "question_id": 33003756, "link": "https://stackoverflow.com/questions/33003756/load-data-from-a-yaml-file-into-variables-in-python", "closed_reason": "Duplicate", "title": "Load data from a YAML file into variables in python", "body": "<p>I have a YAML file whose contents look like:</p>\n\n<pre><code>a: 45\nb: cheese\nc: 7.8\n</code></pre>\n\n<p>I want to be able to read this information into variables in python but after extensive googling I can't work out if this is possible or do I have to put it into another python type first before it can be put into variables? Ultimately I want to use the values from a and c for calculations.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 2389249, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/fd55c439a77bbb06c8ac09ed5dd747a3?s=128&d=identicon&r=PG", "display_name": "30114", "link": "https://stackoverflow.com/users/2389249/30114"}, "is_accepted": false, "score": 1, "last_activity_date": 1444259792, "creation_date": 1444259792, "answer_id": 33004020, "question_id": 33003752, "link": "https://stackoverflow.com/questions/33003752/pandas-dataframe-has-only-one-row/33004020#33004020", "title": "pandas DataFrame has only one row", "body": "<p>I solve the problem with appending the dictionary to array.</p>\n\n<pre><code>def ols_regression(formula, framedict):\n\n    arr = []\n\n    for yp in framedict.keys():\n        ols_model = ols(formula, framedict[str(yp)]).fit()\n        year = int(yp[:-5])    \n        params = ols_model.params\n\n        arr.append(dict(yp = yp, year = year, formula=formula, R_squared=int(ols_model.rsquared),\n            intercept = params.values[0], DP1 = params.values[1], I = params.values[2], P = params.values[3],  \n            p_intercept = ols_model.pvalues[0], p_DP1 = ols_model.pvalues[1], p_I = ols_model.pvalues[2], \n            p_P = ols_model.pvalues[3]))\n\n    return pd.DataFrame(arr) \n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2389249, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/fd55c439a77bbb06c8ac09ed5dd747a3?s=128&d=identicon&r=PG", "display_name": "30114", "link": "https://stackoverflow.com/users/2389249/30114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445252500, "creation_date": 1444258306, "last_edit_date": 1445252500, "question_id": 33003752, "link": "https://stackoverflow.com/questions/33003752/pandas-dataframe-has-only-one-row", "title": "pandas DataFrame has only one row", "body": "<p>I have problem listing DataFrame rows. The below function returns only one row (if indented returns first row, if not indented returns the last one). Does anyone knows where's the problem?</p>\n\n<pre><code>def ols_regression(formula, framedict):\n    for yp in framedict.keys():\n        ols_model = ols(formula, framedict[str(yp)]).fit()\n        year = int(yp[:-5])    \n        params = ols_model.params\n\n        d = (dict(yp = yp, year = year, formula=formula, R_squared=ols_model.rsquared,\n            intercept = params.values[0], DP1 = params.values[1], I = params.values[2], P = params.values[3],  \n            p_intercept = ols_model.pvalues[0], p_DP1 = ols_model.pvalues[1], p_I = ols_model.pvalues[2], \n            p_P = ols_model.pvalues[3]))\n\n    return pd.DataFrame(d, index=[0]) \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444258840, "post_id": 33003728, "comment_id": 53832531, "body": "Can you print <i>logging_file and logging.__file_</i> ? Also, if you comment out from .util import testlog does <i>logging_file != logging.__file_</i> == True ?  I&#39;m just guessing that util.py is invoking some funtion in logging (not testimport.logging) that is making a new <b>file</b> variable. So the old reference you got is no longer valid."}, {"owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "reply_to_user": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444259425, "post_id": 33003728, "comment_id": 53832742, "body": "@CalebMauer, the values for <code>_logging_file </code> and <code>logging.__file__</code> are printed in the last line of the interactive session in the OP. If I comment out <code>from .util import testlog</code>, then the <code>AssertionError</code> is not raised. However, if I do <code>from testlog.util import testlog</code>, I also get the <code>AssertionError</code> (so I&#39;m pretty sure it isn&#39;t an artifact of the dot notation)."}, {"owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "reply_to_user": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444259458, "post_id": 33003728, "comment_id": 53832755, "body": "Regarding the comment, &quot;I&#39;m just guessing that util.py is invoking some funtion in logging (not testimport.logging) that is making a new <b>file</b> variable,&quot; I&#39;m not sure I understand what that means. Can you elaborate? I guess my question boils down to: How can <code>from .util import testlog</code> affect the module-scoped variables in the <i>importing</i> module without modifying them explicitly (you can see above that <code>util.py</code> does nothing explicit with its parent)."}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444259824, "post_id": 33003728, "comment_id": 53832860, "body": "I think that when util does from .logging import SILENT it is overwriting the double underscore file variable. I&#39;m not sure why it would do that yet considering your absolute_import, so I&#39;m not posting an answer yet. Just a guess."}, {"owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "reply_to_user": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444260163, "post_id": 33003728, "comment_id": 53832942, "body": "@CalebMauer, it&#39;s probably not overwriting the <code>__file__</code> attribute to <code>logging</code> in the parent module. It looks like it&#39;s replacing the entire module. Just before the <code>raise</code> statement in the OP, <code>dir(logging)</code> shows the local <code>logging</code> module&#39;s members, and none of the standard library <code>logging</code> ones: <code>[&#39;SILENT&#39;, &#39;__all__&#39;, &#39;__builtins__&#39;, &#39;__doc__&#39;, &#39;__file__&#39;, &#39;__name__&#39;, &#39;__package__&#39;, &#39;absolute_import&#39;, &#39;division&#39;, &#39;print_function&#39;, &#39;sys&#39;, &#39;unicode_literals&#39;]</code>."}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444261003, "post_id": 33003728, "comment_id": 53833178, "body": "Yeah, you&#39;re write, probably overwriting the module. But is that because of the from .logging import SILENT line? What if you do testimport.logging in the util file?"}, {"owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "reply_to_user": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444261298, "post_id": 33003728, "comment_id": 53833233, "body": "@CalebMauer, in <code>util.py</code>, if instead I do, <code>from testimport.logging import SILENT</code>, or even, <code>import testimport.logging ; SILENT = testimport.logging.SILENT</code>, I still get the same behavior."}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444262111, "post_id": 33003728, "comment_id": 53833426, "body": "Well, I have no idea. Rename your module? It&#39;s possibly a bug in 2.7 since it isn&#39;t technically a full release. Is it because you&#39;re running in the interpreter instead of command line? Also, do you need to import absolute_import in your logging module? Or at the interpreter?"}, {"owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "reply_to_user": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444266552, "post_id": 33003728, "comment_id": 53834696, "body": "@CalebMauer, as you can see from the Travis builds, it happens in all versions tested (including 3.3, 3.4, and PyPy). Also, running <code>from __future__ import absolute_import ; import testimport</code> from a file (e.g., <code>testme.py</code>) exhibits the same problem as the interpreter (again, as you can see from the Travis builds)."}], "answers": [{"tags": [], "owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "is_accepted": true, "score": 0, "last_activity_date": 1444456790, "last_edit_date": 1444456790, "creation_date": 1444268424, "answer_id": 33005226, "question_id": 33003728, "link": "https://stackoverflow.com/questions/33003728/how-does-importing-this-submodule-overwrite-a-value-in-the-parent-init-py-mo/33005226#33005226", "title": "How does importing this submodule overwrite a value in the parent __init__.py module?", "body": "<p>After some more research, I understand the above to be the correct behavior. I am embarrassed to say that I did not see this before. It makes total sense once one understands what's happening. From <a href=\"https://docs.python.org/3/reference/import.html#submodules\" rel=\"nofollow\">the docs</a>:</p>\n\n<blockquote>\n  <h3>Submodules</h3>\n  \n  <p>When a submodule is loaded using any mechanism (e.g. <code>importlib</code> APIs, the <code>import</code> or <code>import-from</code> statements, or built-in <code>__import__()</code>) a binding is placed in the parent module\u2019s namespace to the submodule object.</p>\n  \n  <p>...</p>\n  \n  <p>Given Python\u2019s familiar name binding rules this might seem surprising, but it\u2019s actually a fundamental feature of the import system.</p>\n</blockquote>\n\n<p>This explanation seems to have been absent before Python 3.4, but affects all versions of Python. See <a href=\"https://bugs.python.org/issue24029\" rel=\"nofollow\">Python issue #24029</a>.</p>\n\n<p>In the example above, <code>testimport.logging</code> necessarily refers to the local module. Importing it (from anywhere) installs it in <code>testimport</code> (as should be expected). It should come as no surprise that this necessarily replaces any existing <code>logging</code> member of <code>testimport</code>.</p>\n"}], "owner": {"reputation": 605, "user_id": 3566894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3003269e093cb0ccd5c7f73cf88408d8?s=128&d=identicon&r=PG", "display_name": "posita", "link": "https://stackoverflow.com/users/3566894/posita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 33005226, "answer_count": 1, "score": 0, "last_activity_date": 1444456790, "creation_date": 1444258205, "last_edit_date": 1444261100, "question_id": 33003728, "link": "https://stackoverflow.com/questions/33003728/how-does-importing-this-submodule-overwrite-a-value-in-the-parent-init-py-mo", "title": "How does importing this submodule overwrite a value in the parent __init__.py module?", "body": "<p>I have a <a href=\"https://github.com/posita/testimport/tree/master/testimport\" rel=\"nofollow\">package with three files</a>:</p>\n\n<pre><code>testimport\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 logging.py\n\u2514\u2500\u2500 util.py\n</code></pre>\n\n<p><code>__init__.py</code> contains:</p>\n\n<pre><code>from __future__ import ( absolute_import, division, print_function, unicode_literals )\nimport logging # imports standard library module (because absolute_import is activated)\n_logging_file = logging.__file__\nfrom .util import testlog\nif _logging_file != logging.__file__:\n    # at this point, `logging` no longer points to the standard\n    # library module, but the local logging module instead(!)\n    raise AssertionError('`logging` overwritten; {!r} is not equal to {!r}'.format(_logging_file, logging.__file__))\nLOGGER = logging.getLogger(__name__)\n</code></pre>\n\n<p><code>logging.py</code> contains:</p>\n\n<pre><code>import sys\n__all__ = ()\nSILENT = -(sys.maxsize) - 1\n</code></pre>\n\n<p><code>util.py</code> contains:</p>\n\n<pre><code>from __future__ import ( absolute_import, division, print_function, unicode_literals )\nimport logging # imports standard library module (because absolute_import is activated)\nfrom .logging import SILENT # this is (perversely) where the importing module's `logging` gets overridden\n__all__ = ( 'testlog' )\n_LOGGER = logging.getLogger(__name__)\ndef testlog(log_lvl=SILENT):\n    _LOGGER.log(log_lvl, 'Hello!')\n</code></pre>\n\n<p>The <code>AssertionError</code> is raised when <code>import</code>ing <code>testimport</code>:</p>\n\n<pre><code>% python\nPython 2.7.10 (default, Sep 24 2015, 10:13:45)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import testimport\n&lt;function testlog at 0x10e86e1b8&gt;\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"testimport/__init__.py\", line ..., in &lt;module&gt;\n    raise AssertionError('`logging` overwritten; {!r} is not equal to {!r}'.format(_logging_file, logging.__file__))\nAssertionError: `logging` overwritten; '/.../lib/python2.7/logging/__init__.pyc' is not equal to 'testimport/logging.pyc'\n</code></pre>\n\n<p>Why on earth is that happening?</p>\n\n<p>Test repo is <a href=\"https://github.com/posita/testimport\" rel=\"nofollow\">here</a>. Travis builds are <a href=\"https://travis-ci.org/posita/testimport\" rel=\"nofollow\">here</a>.</p>\n\n<p>Update, when stepping through this with <a href=\"https://docs.python.org/2/library/pdb.html\" rel=\"nofollow\"><code>pdb</code></a>, it appears that the offending instruction is <code>from .logging import SILENT</code> in <code>util.py</code>, but I have no idea why. This is an abbreviated session from the repo version:</p>\n\n<pre><code>% echo 'import testimport' &gt;|testme.py\n% python -m pdb testme.py\n(Pdb) s\n--Call--\n&gt; /.../testimport/testimport/__init__.py(1)&lt;module&gt;()\n-&gt; from __future__ import (\n(Pdb) b 12\nBreakpoint 1 at /.../testimport/testimport/__init__.py:12\n(Pdb) c\n&gt; /.../testimport/testimport/__init__.py(12)&lt;module&gt;()\n-&gt; from testimport.util import testlog\n(Pdb) s\n--Call--\n&gt; /.../testimport/testimport/util.py(1)&lt;module&gt;()\n-&gt; from __future__ import (\n(Pdb) b 5\nBreakpoint 2 at /.../testimport/testimport/util.py:5\n(Pdb) c\n&gt; /.../testimport/testimport/util.py(5)&lt;module&gt;()\n-&gt; from .logging import SILENT\n(Pdb) u\n&gt; /.../testimport/testimport/__init__.py(12)&lt;module&gt;()\n-&gt; from testimport.util import testlog\n(Pdb) p logging\n&lt;module 'logging' from '/.../lib/python2.7/logging/__init__.pyc'&gt;\n(Pdb) d\n&gt; /.../testimport/testimport/util.py(5)&lt;module&gt;()\n-&gt; from .logging import SILENT\n(Pdb) s\n--Call--\n&gt; /.../testimport/testimport/logging.py(1)&lt;module&gt;()\n-&gt; from __future__ import (\n(Pdb) b 6\nBreakpoint 3 at /.../testimport/testimport/logging.py:6\n(Pdb) c\n&gt; /.../testimport/testimport/logging.py(6)&lt;module&gt;()\n-&gt; SILENT = -(sys.maxsize) - 1\n(Pdb) u\n&gt; /.../testimport/testimport/util.py(5)&lt;module&gt;()\n-&gt; from .logging import SILENT\n(Pdb) u\n&gt; /.../testimport/testimport/__init__.py(12)&lt;module&gt;()\n-&gt; from testimport.util import testlog\n(Pdb) p logging\n&lt;module 'logging' from '/.../lib/python2.7/logging/__init__.pyc'&gt;\n(Pdb) s\n&gt; /.../testimport/testimport/util.py(7)&lt;module&gt;()\n-&gt; 'testlog',\n(Pdb) u\n&gt; /.../testimport/testimport/__init__.py(12)&lt;module&gt;()\n-&gt; from testimport.util import testlog\n(Pdb) p logging\n&lt;module 'testimport.logging' from 'testimport/logging.pyc'&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "dictionary", "web-scraping", "yaml"], "comments": [{"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "edited": false, "score": 0, "creation_date": 1444258435, "post_id": 33003688, "comment_id": 53832384, "body": "but what does <code>parseddata</code> look like??"}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "reply_to_user": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "edited": false, "score": 0, "creation_date": 1444258622, "post_id": 33003688, "comment_id": 53832443, "body": "yurib, i have edited the post to show what parseddata looks like. thanks"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1444258823, "post_id": 33003688, "comment_id": 53832524, "body": "@zs_python: can you provide a sample input file to process, such that people can run test cases against it."}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444261980, "post_id": 33003688, "comment_id": 53833395, "body": "sample input file added in question above, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444259075, "post_id": 33003858, "comment_id": 53832610, "body": "thanks ShadowRanger, i guess the &quot;stray close brace/bracket at the end&quot; is the problem, how do i get rid of it please?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 1, "creation_date": 1444259124, "post_id": 33003858, "comment_id": 53832639, "body": "@zs_python: Anticipated that and added an example before you asked. :-)"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 2, "creation_date": 1444259290, "post_id": 33003858, "comment_id": 53832695, "body": "Odds are, the original data is valid <code>json</code>, just with the object you&#39;re interested in as the sole entry in an array attribute of an object with only one attribute (holding the one element array). You could probably just <code>json.loads</code> the whole thing, then access and assign <code>data_as_dict = whole_thing_as_dict[&#39;name_of_singleton_key&#39;][0]</code> and avoid your explicit <code>split</code>-ing and <code>lstrip</code>-ing."}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444260073, "post_id": 33003858, "comment_id": 53832924, "body": "Thanks for helping remove the strays ShadowRanger. The above example throws me an error: JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)"}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444261741, "post_id": 33003858, "comment_id": 53833344, "body": "I have just posted the sample input file in the question so that it gives a clearer picture of what i am trying to parse"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444263198, "post_id": 33003858, "comment_id": 53833758, "body": "@zs_python: Yeah, I made a mistake; the example is a valid JavaScript object literal, but it&#39;s not valid JSON (the JSON standard for interoperable formats requires the property names to be quoted). That said, it is valid YAML, so I&#39;ve updated to provide more information."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444263345, "post_id": 33003858, "comment_id": 53833794, "body": "Also, given the input you provided, you&#39;d probably want pass the full text (no splitting or stripping of any kind except maybe leading and trailing whitespace) to <code>yaml.load</code>. That will get you the whole object, and you can then access the <code>rows</code> property to get the <code>list</code> of items you seem to be concerned with."}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444265374, "post_id": 33003858, "comment_id": 53834340, "body": "while passing the full text, response_object = yaml.safe_load(soup.string.strip()) throws an error : ScannerError: while scanning a plain scalar   in &quot;&lt;unicode string&gt;&quot;, line 1, column 3:     { success:true ,results:3,rows:[{I ...        ^ found unexpected &#39;:&#39;   in &quot;&lt;unicode string&gt;&quot;, line 1, column 10:     { success:true ,results:3,rows:[{ISIN:&quot; ..."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1444287340, "post_id": 33003858, "comment_id": 53841319, "body": "That is <b>not</b> valid YAML. E.g. because the colon needs to be followed by a space if the key is a plain scalar. But also because there are trailing, unmatched <code>]</code> and <code>}</code>, which makes it invalid JavaScript as well."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 2, "last_activity_date": 1444263834, "last_edit_date": 1444263834, "creation_date": 1444258838, "answer_id": 33003858, "question_id": 33003688, "link": "https://stackoverflow.com/questions/33003688/python-3-import-variable-into-dictionary/33003858#33003858", "title": "Python 3 - import variable into dictionary", "body": "<p>Aside from the stray close brace/bracket at the end, <s>this is valid JSON</s> this is valid YAML (I made a mistake in my initial answer; JavaScript objects can be declared without quoting the properties, but JSON the portable format doesn't allow that; YAML does). </p>\n\n<p>Follow the instructions <a href=\"https://stackoverflow.com/a/31030022/364696\">here</a> to use <code>PyYAML</code> to parse the data. The manual <code>split</code>-ing and <code>lstrip</code> is hurting you and making this harder than it needs to be. Just get the <code>text</code>, then parse with <code>yaml</code> (which is a third party module that must be installed separately):</p>\n\n<pre><code>import requests\nimport yaml\nfrom bs4 import BeautifulSoup\n\nurl = requests.get(\"http://. . .\")\nsoup = BeautifulSoup(url.text, \"lxml\")\n# Use safe_load over load to avoid opening security holes; YAML can do\n# a lot of unsafe things if the input isn't trusted, but handling JS\n# object literals can be done safely with safe_load\nresponse_object = yaml.safe_load(soup.string.strip())\ndata_rows = response_object['rows']\n\nfor row in data_rows:\n    ... do stuff with each returned row ...\n</code></pre>\n\n<p>You can read more on the <a href=\"http://pyyaml.org/wiki/PyYAMLDocumentation#LoadingYAML\" rel=\"nofollow\">PyYAML tutorial</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444293609, "post_id": 33008588, "comment_id": 53845109, "body": "thanks Anthon. that was perfect, just did the work for me precisely ! really appreciate all the efforts you took to explain it to me too. Thanks @ShadowRanger, your efforts have added to my python learning and were really helpful too. This noob is overwhelmed by the efforts you guys put in to help me learn. Thank you, onwards !"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444294028, "post_id": 33008588, "comment_id": 53845370, "body": "@zs_python If this solves your issue, please consider accepting the answer (by clicking the marker next to top of this answer). That indicates to others that your problem has been solved (they might not read all the way down to your comment), and marks it as such in the database."}, {"owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "edited": false, "score": 0, "creation_date": 1444294683, "post_id": 33008588, "comment_id": 53845837, "body": "thanks @anthon for the hand holding, have accepted the answer as guided. see you guys around soon :)"}], "tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": true, "score": 0, "last_activity_date": 1444287648, "last_edit_date": 1592644375, "creation_date": 1444287128, "answer_id": 33008588, "question_id": 33003688, "link": "https://stackoverflow.com/questions/33003688/python-3-import-variable-into-dictionary/33008588#33008588", "title": "Python 3 - import variable into dictionary", "body": "<p>This looks like a key-value mapping, with <code>ISIN</code> a key and <code>&quot;INE134E01011&quot;</code> a value. But it is not JSON, because the keys are not quoted, nor is it YAML because the plain scalar keys (i.e. strings without quotes have to be be <a href=\"http://yaml.org/spec/1.2/spec.html#id2759963\" rel=\"nofollow noreferrer\">followed by colon + space</a> (<code>: </code>).</p>\n<p>If you break the output string in parts \u00b9:</p>\n<pre><code>test_str = (\n    '{ISIN:&quot;INE134E01011&quot;,Ind:&quot;-&quot;,'\n    'Audited:&quot;Un-Audited&quot;,'\n    'Cumulative:&quot;Non-cumulative&quot;,'\n    'Consolidated:&quot;Non-Consolidated&quot;,'\n    'FilingDate:&quot;14-Aug-2015 15:39&quot;,'\n    'SeqNumber:&quot;1001577&quot;},'\n    '{ISIN:&quot;INE134E01011&quot;,'  # new mapping starts\n    'Ind:&quot;-&quot;,'\n    'Audited:&quot;Un-Audited&quot;,'\n    'Cumulative:&quot;Non-cumulative&quot;,'\n    'Consolidated:&quot;Non-Consolidated&quot;,'\n    'FilingDate:&quot;30-May-2015 14:37&quot;,'\n    'SeqNumber:&quot;129901&quot;},'\n    '{ISIN:&quot;INE134E01011&quot;,'    # new mapping starts\n    'Ind:&quot;-&quot;,'\n    'Audited:&quot;Un-Audited&quot;,'\n    'Cumulative:&quot;Non-cumulative&quot;,'\n    'Consolidated:&quot;Non-Consolidated&quot;,'\n    'FilingDate:&quot;17-Feb-2015 14:57&quot;,'\n    'SeqNumber:&quot;126171&quot;}]}'\n)\n</code></pre>\n<p>it test equal to your input:</p>\n<pre><code>test_org = '{ISIN:&quot;INE134E01011&quot;,Ind:&quot;-&quot;,Audited:&quot;Un-Audited&quot;,Cumulative:&quot;Non-cumulative&quot;,Consolidated:&quot;Non-Consolidated&quot;,FilingDate:&quot;14-Aug-2015 15:39&quot;,SeqNumber:&quot;1001577&quot;},{ISIN:&quot;INE134E01011&quot;,Ind:&quot;-&quot;,Audited:&quot;Un-Audited&quot;,Cumulative:&quot;Non-cumulative&quot;,Consolidated:&quot;Non-Consolidated&quot;,FilingDate:&quot;30-May-2015 14:37&quot;,SeqNumber:&quot;129901&quot;},{ISIN:&quot;INE134E01011&quot;,Ind:&quot;-&quot;,Audited:&quot;Un-Audited&quot;,Cumulative:&quot;Non-cumulative&quot;,Consolidated:&quot;Non-Consolidated&quot;,FilingDate:&quot;17-Feb-2015 14:57&quot;,SeqNumber:&quot;126171&quot;}]}'\nassert test_str == test_org\n</code></pre>\n<p>That split up makes it clear there are actually 3 mappings and that there is a trailing <code>]</code> and <code>}</code>. The <code>]</code> indicates that there is a list, which is consistent with having the 3 mappings seperated by comma. The matching <code>[</code> went missing because you after you split on <code>':['</code>, you <code>lstrip()</code> it away.</p>\n<p>You can easily manipulate the string so YAML can parse it, but the result is a list \u00b2:</p>\n<pre><code>import ruamel.yaml\ntest_str = '[' + test_str.replace(':&quot;', ': &quot;').rstrip('}')\n\ndata = ruamel.yaml.load(test_str)\nprint(type(data))\n</code></pre>\n<p>prints:</p>\n<pre><code>&lt;class 'list'&gt;\n</code></pre>\n<p>And since the dicts of which this list consists have keys in common you <strong>cannot</strong> just combine those without losing information.</p>\n<p>You can either map this list to some key (that there is a colon in your <code>split</code> and the output has a trailing <code>}</code> is indication that is in the XML) or you can take a key with unique values (<code>SeqNumber</code>) and promote the value to a key in a dict replacing the list:</p>\n<pre><code>ddata = {}\nfor elem in data:\n    k = elem.pop('SeqNumber')\n    ddata[k] = elem\n</code></pre>\n<p>but I don't see a reason to go from a list to a dict if your final goal is a CSV file. If you take the output from the YAML parser you can do:</p>\n<pre><code>import csv\nwith open('output.csv', 'w', newline='') as fp:\n    csvwriter = csv.writer(fp)\n    csvwriter.writerow(data[0].keys())  # header of common dict keys\n    for elem in data:\n        csvwriter.writerow(elem.values())  # values\n</code></pre>\n<p>to get a CSV file with the following content:</p>\n<pre><code>ISIN,Ind,Consolidated,Cumulative,Audited,FilingDate\nINE134E01011,-,Non-Consolidated,Non-cumulative,Un-Audited,14-Aug-2015 15:39\nINE134E01011,-,Non-Consolidated,Non-cumulative,Un-Audited,30-May-2015 14:37\nINE134E01011,-,Non-Consolidated,Non-cumulative,Un-Audited,17-Feb-2015 14:57\n</code></pre>\n<p>\u00b9 <sub>Instead of escaping the newlines with <code>\\</code>, I use parenthesis to make the multi line definition into one string, that allows me to put comment on the lines more easily</sub><br />\n\u00b2 <sub>instead of re-adding the '[', you should of course not strip it in the first place</sub></p>\n"}], "owner": {"reputation": 33, "user_id": 5295605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2403a4089f36f6ea4cd0b42efd31a2?s=128&d=identicon&r=PG&f=1", "display_name": "zs_python", "link": "https://stackoverflow.com/users/5295605/zs-python"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 33008588, "answer_count": 2, "score": 1, "last_activity_date": 1444287648, "creation_date": 1444258038, "last_edit_date": 1444284557, "question_id": 33003688, "link": "https://stackoverflow.com/questions/33003688/python-3-import-variable-into-dictionary", "title": "Python 3 - import variable into dictionary", "body": "<p>Am trying to get the output of the print command below into a dictionary (without success) so that I can subsequently export it to a CSV.</p>\n\n<p>How can I get <code>parseddata</code> (output of print below) into a dictionary?</p>\n\n<p>sample input file:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;{ success:true ,results:3,rows:[{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cumulative:\"N\u200c\u200bon-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"14-Aug-2015 15:39\",SeqNumber:\"1001577\"},{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cu\u200c\u200bmulative:\"Non-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"30-May-2015 14:37\",SeqNumber:\"129901\"},{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cum\u200c\u200bulative:\"Non-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"17-Feb-2015 14:57\",SeqNumber:\"126171\"}]}&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>my code:</p>\n\n<pre><code>import requests\nimport re\nfrom bs4 import BeautifulSoup\nurl = requests.get(\"http://. . .\")\nsoup = BeautifulSoup(url.text, \"lxml\")\nparseddata = soup.string.split(':[', 1)[1].lstrip(']')\nprint(parseddata)\n</code></pre>\n\n<p>the output of <code>print(parseddata)</code> is:</p>\n\n<pre><code>{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cumulative:\"Non-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"14-Aug-2015 15:39\",SeqNumber:\"1001577\"},{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cumulative:\"Non-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"30-May-2015 14:37\",SeqNumber:\"129901\"},{ISIN:\"INE134E01011\",Ind:\"-\",Audited:\"Un-Audited\",Cumulative:\"Non-cumulative\",Consolidated:\"Non-Consolidated\",FilingDate:\"17-Feb-2015 14:57\",SeqNumber:\"126171\"}]}\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 39119, "user_id": 4921103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227d04c16133b97884d3f671f1ade7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Gupta", "link": "https://stackoverflow.com/users/4921103/rahul-gupta"}, "edited": false, "score": 2, "creation_date": 1444272311, "post_id": 33003677, "comment_id": 53836083, "body": "Check out DRF nested routers. <a href=\"https://github.com/alanjds/drf-nested-routers\" rel=\"nofollow noreferrer\">github.com/alanjds/drf-nested-routers</a>"}], "answers": [{"tags": [], "owner": {"reputation": 610, "user_id": 3925926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b71ee33d260b0968b92234d7dbc808?s=128&d=identicon&r=PG&f=1", "display_name": "Roba", "link": "https://stackoverflow.com/users/3925926/roba"}, "is_accepted": true, "score": 1, "last_activity_date": 1444340661, "last_edit_date": 1444340661, "creation_date": 1444314440, "answer_id": 33018640, "question_id": 33003677, "link": "https://stackoverflow.com/questions/33003677/django-rest-framework-embed-viewset-inside-viewset/33018640#33018640", "title": "Django Rest Framework: Embed Viewset Inside Viewset", "body": "<p>This is a case of nested routers. Beside the one already mentioned, I will name <a href=\"https://github.com/chibisov/drf-extensions\" rel=\"nofollow\">https://github.com/chibisov/drf-extensions</a></p>\n\n<p>Personally, I've used Restangular with drf-extensions. Comes with caching support.</p>\n\n<p>Two hints on how to enable nested routing:</p>\n\n<ul>\n<li>you must declare in your viewset the model on which it operates</li>\n<li>you must follow the nested router definition correctly.</li>\n</ul>\n"}], "owner": {"reputation": 827, "user_id": 2708328, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/467c80ae5773d28c96b980abe0ced1ab?s=128&d=identicon&r=PG&f=1", "display_name": "fizzyh2o", "link": "https://stackoverflow.com/users/2708328/fizzyh2o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 1, "accepted_answer_id": 33018640, "answer_count": 1, "score": 3, "last_activity_date": 1444340661, "creation_date": 1444258011, "question_id": 33003677, "link": "https://stackoverflow.com/questions/33003677/django-rest-framework-embed-viewset-inside-viewset", "title": "Django Rest Framework: Embed Viewset Inside Viewset", "body": "<p>I have the following two Django models (simplified for this example).</p>\n\n<pre><code>class Participant(models.Model):\n    name = models.CharField()\n    study_id = models.IntegerField()\n    ... \n    # Lots of other fields\n\nclass Message(models.Model):\n    text = models.CharField()\n    participant = models.ForeignKey('Participant')\n</code></pre>\n\n<p>Using Django Rest Framework I have set up a <code>ModelSerializer</code> and <code>ModelViewSet</code> for each model. Using the <code>@detail_route</code> and <code>@list_route</code> decorators I have set up the following URLs.</p>\n\n<pre><code>/api/participant/ (GET,POST for list and create)\n/api/participant/:study_id (GET,PUT for retrieve and update)\n/api/participant/:study_id/messages (GET for list POST to send message)\n</code></pre>\n\n<p>I would like to add the following url for changing message meta data. This will make working with the API much easier in <code>restangular</code></p>\n\n<pre><code>/api/participant/:study_id/messages/:msg_id (PATCH partial update of message)\n</code></pre>\n\n<p>It would be nice to have a way to embed a <code>Message</code> ViewSet inside the <code>Participant</code> since this would make the logic for GET and POST on messages simpler as well.  Is this possible? If not how can I pass the msg_id to a @detail_rouet on messages?</p>\n"}, {"tags": ["python", "csv", "dictionary", "sum"], "answers": [{"comments": [{"owner": {"reputation": 1512, "user_id": 1974919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/43e23c461cc56c2d5aca32366bfddff4?s=128&d=identicon&r=PG", "display_name": "MEhsan", "link": "https://stackoverflow.com/users/1974919/mehsan"}, "edited": false, "score": 0, "creation_date": 1444258778, "post_id": 33003699, "comment_id": 53832500, "body": "I am still not getting why the syntax: <code>for r in rows: print sum(float(r[&#39;Colum1&#39;]))</code> does not work! Could you explain how your code is different?  Thanks :)"}, {"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "reply_to_user": {"reputation": 1512, "user_id": 1974919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/43e23c461cc56c2d5aca32366bfddff4?s=128&d=identicon&r=PG", "display_name": "MEhsan", "link": "https://stackoverflow.com/users/1974919/mehsan"}, "edited": false, "score": 0, "creation_date": 1444259404, "post_id": 33003699, "comment_id": 53832732, "body": "@MEhsan you were applying <code>sum()</code> to each value separately, the sum of a single value is obviously the value itself. My code applies <code>sum()</code> once on all values under <code>Colum1</code> and gives you the output you wanted"}, {"owner": {"reputation": 1512, "user_id": 1974919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/43e23c461cc56c2d5aca32366bfddff4?s=128&d=identicon&r=PG", "display_name": "MEhsan", "link": "https://stackoverflow.com/users/1974919/mehsan"}, "edited": false, "score": 0, "creation_date": 1444260095, "post_id": 33003699, "comment_id": 53832928, "body": "Would the syntax be giving different results if we did not use comprehensions?  I mean having the for loop <code>for r in rows</code> outside sum() gives the faulty result?  Is that what you are suggesting?"}, {"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "reply_to_user": {"reputation": 1512, "user_id": 1974919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/43e23c461cc56c2d5aca32366bfddff4?s=128&d=identicon&r=PG", "display_name": "MEhsan", "link": "https://stackoverflow.com/users/1974919/mehsan"}, "edited": false, "score": 1, "creation_date": 1444260742, "post_id": 33003699, "comment_id": 53833101, "body": "@MEhsan yes, if you want the loop on the outaide then you need to maintain your own accumulator variable and add each value to it. The sum function doesn&#39;t carry information from one iteration of the loop to the other, it has to be given all values to sum in a single application."}], "tags": [], "owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "is_accepted": true, "score": 2, "last_activity_date": 1444258085, "creation_date": 1444258085, "answer_id": 33003699, "question_id": 33003662, "link": "https://stackoverflow.com/questions/33003662/computing-the-sum-of-values-in-a-column/33003699#33003699", "title": "Computing the Sum of Values in a Column", "body": "<p>You should sum over all rows and not just one:</p>\n\n<pre><code>import csv\nwith open('data.csv') as f:\n    rows = csv.DictReader(f)\n    print sum(float(r['Colum1']) for r in rows)\n</code></pre>\n\n<p>Also, it is a good practice to close opened files, the <code>with .. as ..</code> syntax takes care of this</p>\n"}], "owner": {"reputation": 1512, "user_id": 1974919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/43e23c461cc56c2d5aca32366bfddff4?s=128&d=identicon&r=PG", "display_name": "MEhsan", "link": "https://stackoverflow.com/users/1974919/mehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2241, "favorite_count": 0, "accepted_answer_id": 33003699, "answer_count": 1, "score": 0, "last_activity_date": 1444258085, "creation_date": 1444257932, "question_id": 33003662, "link": "https://stackoverflow.com/questions/33003662/computing-the-sum-of-values-in-a-column", "title": "Computing the Sum of Values in a Column", "body": "<p>I am trying to write a python program that computes the sum of values from csv data file.  The csv file simply contains three columns and three rows containing numeric data.  The csv data file looks like the following:  </p>\n\n<pre><code>Colum1,Colum2,Colum3\n1,2,3\n1,2,3\n1,2,3   \n</code></pre>\n\n<p>I am having problem with my python code to compute the sum.  Somehow it is not computing the sum of all the values of Colum1, rather it just prints the two rows/values of 'Colum1'</p>\n\n<pre><code>import csv\nfile = open('data.csv')\nrows = csv.DictReader(file)\nfor r in rows:\n    print sum([float(r['Colum1'])])\n</code></pre>\n\n<p>Any thought how to solve this problem?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "server", "nmap", "availability"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1444258208, "post_id": 33003637, "comment_id": 53832302, "body": "There&#39;s a whole <i>industry</i> based on testing server availability! Personally I&#39;d just set up a cronjob to nmap, rather than trying to script something in Python, but it&#39;s a decent application for a web tool, too."}], "answers": [{"comments": [{"owner": {"reputation": 480, "user_id": 5420624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQZfKQpzUsI/AAAAAAAAAAI/AAAAAAAAABI/jhadEAWyhB0/photo.jpg?sz=128", "display_name": "Captain Wise", "link": "https://stackoverflow.com/users/5420624/captain-wise"}, "edited": false, "score": 0, "creation_date": 1444959794, "post_id": 33157029, "comment_id": 54131282, "body": "I looked at Nagios and I see that it&#39;s a huge system with notifications mecanisms. But is it a very demanding service to the server. I mean will this application use a big part of the CPU time? Because some servers we have have not a very fast processors and not enough memory, do you know what is the application that need less performance system."}, {"owner": {"reputation": 8608, "user_id": 1091116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=128&d=identicon&r=PG", "display_name": "d33tah", "link": "https://stackoverflow.com/users/1091116/d33tah"}, "reply_to_user": {"reputation": 480, "user_id": 5420624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQZfKQpzUsI/AAAAAAAAAAI/AAAAAAAAABI/jhadEAWyhB0/photo.jpg?sz=128", "display_name": "Captain Wise", "link": "https://stackoverflow.com/users/5420624/captain-wise"}, "edited": false, "score": 0, "creation_date": 1444972722, "post_id": 33157029, "comment_id": 54134745, "body": "@CaptainWise: no idea, I guess I&#39;d fire up an IRC client and ask Nagios folks directly about that (or write to their mailing list). Anyway, you can Google for lightweight open source monitoring: <a href=\"https://encrypted.google.com/search?hl=pl&amp;q=lightweight%20open%20source%20monitoring\" rel=\"nofollow noreferrer\">encrypted.google.com/&hellip;</a> - Monitorix and Amon pop up in the top results."}], "tags": [], "owner": {"reputation": 8608, "user_id": 1091116, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15098b2b940cacd8b4d07026e01e3102?s=128&d=identicon&r=PG", "display_name": "d33tah", "link": "https://stackoverflow.com/users/1091116/d33tah"}, "is_accepted": true, "score": 1, "last_activity_date": 1444937730, "creation_date": 1444937730, "answer_id": 33157029, "question_id": 33003637, "link": "https://stackoverflow.com/questions/33003637/is-it-a-good-way-to-use-nmap-to-test-my-server-availability/33157029#33157029", "title": "Is it a good way to use nmap to test my server availability?", "body": "<blockquote>\n  <p>Is it a good way to use nmap to test my server availability?</p>\n</blockquote>\n\n<p>Definitely yes, though there might be better tools. Nmap is a good choice if you're trying to test if the server is up or not, what is the HTTP page title and so on. Its NSE script scanning capabilities make it easily extensible, but the question you'll probably want to ask is \"how much work would it take to turn it into a robust availability monitor\". And the answer is: a lot, because it's not just about running a query to the server.</p>\n\n<p>You should probably take a look at <a href=\"https://encrypted.google.com/search?hl=pl&amp;q=open%20source%20monitoring\" rel=\"nofollow\">open source montioring</a> tools (Nagios, Zabbix etc). This way you'll avoid having to implement data gathering features, notifications that you'll probably need sooner or later and the front-end will definitely be more flexible and comfortable. There's also a lot more features that you will probably find useful.</p>\n"}], "owner": {"reputation": 480, "user_id": 5420624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQZfKQpzUsI/AAAAAAAAAAI/AAAAAAAAABI/jhadEAWyhB0/photo.jpg?sz=128", "display_name": "Captain Wise", "link": "https://stackoverflow.com/users/5420624/captain-wise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33157029, "answer_count": 1, "score": 0, "last_activity_date": 1444937730, "creation_date": 1444257799, "question_id": 33003637, "link": "https://stackoverflow.com/questions/33003637/is-it-a-good-way-to-use-nmap-to-test-my-server-availability", "title": "Is it a good way to use nmap to test my server availability?", "body": "<p>We have some servers which run server applications which are dependent on one another.</p>\n\n<p>Our company wanted to implement something in each server that test periodically other servers. When one of the servers are not up so administrators are notified by email.</p>\n\n<p>I d\u00e9cided to program it in Python and i use libnmap. So at the background my python code use nmap to do it.</p>\n\n<p>What i do is scaning ports that i know our applications run on it and if they are open so i consider it OK.</p>\n\n<p>At the first the Python script was executed every 1h. But someone wanted that we test it every 5 minute.</p>\n\n<p>So is it a good way to do it, or it existe a better way to test server availability.</p>\n\n<p>Tanks</p>\n"}, {"tags": ["python", "assignment-operator", "simultaneous"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1444257861, "post_id": 33003633, "comment_id": 53832206, "body": "Traditionally, &quot;don&#39;t care&quot; variables in python are named <code>_</code> or <code>__</code>."}], "answers": [{"tags": [], "owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "is_accepted": true, "score": 2, "last_activity_date": 1444257850, "last_edit_date": 1495535228, "creation_date": 1444257850, "answer_id": 33003648, "question_id": 33003633, "link": "https://stackoverflow.com/questions/33003633/python-simultaneous-assign-only-from-some-elements-of-a-list/33003648#33003648", "title": "Python simultaneous assign only from some elements of a list", "body": "<p>In Python, the appropriate way to do what you are doing is to actually make use of the '_' as your \"throwaway\" variable. So, you are very close in what you are doing. Simply do this: </p>\n\n<pre><code>_, x, y, _ = (1,1,2,3) \n</code></pre>\n\n<p>Here is some information on the single underscore character:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5893163/what-is-the-purpose-of-the-single-underscore-variable-in-python\">What is the purpose of the single underscore &quot;_&quot; variable in Python?</a></p>\n"}], "owner": {"reputation": 2566, "user_id": 3238875, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3265cda28d96d4682d83467af5530b1?s=128&d=identicon&r=PG", "display_name": "wil3", "link": "https://stackoverflow.com/users/3238875/wil3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 33003648, "answer_count": 1, "score": 0, "last_activity_date": 1444774538, "creation_date": 1444257779, "last_edit_date": 1444774538, "question_id": 33003633, "link": "https://stackoverflow.com/questions/33003633/python-simultaneous-assign-only-from-some-elements-of-a-list", "title": "Python simultaneous assign only from some elements of a list", "body": "<p>In Python I can do this</p>\n\n<pre><code>w,x,y,z = (1,1,2,3)\n</code></pre>\n\n<p>But suppose I only need the values of x and y. Is there a way to only simultaneously assign a few variables (while still keeping the beautiful simultaneous assignment syntax?). I'm hoping to find something along the lines of MATLAB's tilde operator</p>\n\n<pre><code>~,x,y,~ = (1,1,2,3)  # This is not valid Python code\n</code></pre>\n\n<p>I'm aware that I can just define a dummy variable to do this, </p>\n\n<pre><code>d,x,y,d = (1,1,2,3)\n</code></pre>\n\n<p>But I am curious if there is a special operator just for this purpose.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1444259097, "post_id": 33003604, "comment_id": 53832618, "body": "Where are you running your unittest command exactly"}, {"owner": {"reputation": 700, "user_id": 1336845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e1762dbb316b543f50e66169df44b9a?s=128&d=identicon&r=PG", "display_name": "user1", "link": "https://stackoverflow.com/users/1336845/user1"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1444260121, "post_id": 33003604, "comment_id": 53832931, "body": "That was the issue, I was running the unittest from the wrong directory."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1444260401, "post_id": 33003604, "comment_id": 53833023, "body": "Where did you end up running your unit-tests from in the end?"}, {"owner": {"reputation": 700, "user_id": 1336845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e1762dbb316b543f50e66169df44b9a?s=128&d=identicon&r=PG", "display_name": "user1", "link": "https://stackoverflow.com/users/1336845/user1"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1444260486, "post_id": 33003604, "comment_id": 53833037, "body": "The project-name directory. I was running from the tests directory before."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1444260594, "post_id": 33003604, "comment_id": 53833062, "body": "Ah ok! I understand. Thanks for the info."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3511011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47009abb1f5b7f4056afe27c01893b88?s=128&d=identicon&r=PG&f=1", "display_name": "Stortz", "link": "https://stackoverflow.com/users/3511011/stortz"}, "is_accepted": false, "score": 1, "last_activity_date": 1444258082, "creation_date": 1444258082, "answer_id": 33003698, "question_id": 33003604, "link": "https://stackoverflow.com/questions/33003604/no-module-error-when-trying-to-run-tests/33003698#33003698", "title": "No module error when trying to run tests", "body": "<p>According this link from python Doc: <a href=\"https://docs.python.org/3.5/tutorial/modules.html#packages\" rel=\"nofollow\">Python Module</a></p>\n\n<p>I believe do you need create a __init__.py file in the first project-name root dir.</p>\n\n<pre><code>project-name\n__init__.py\nproject_name\n    __init__.py\n    some_module.py\n    some_other_module.py\ntests\n    __init__.py\n    test_some_module.py\n    test_some_other_module.py\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 1336845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e1762dbb316b543f50e66169df44b9a?s=128&d=identicon&r=PG", "display_name": "user1", "link": "https://stackoverflow.com/users/1336845/user1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1444258082, "creation_date": 1444257573, "last_edit_date": 1495535219, "question_id": 33003604, "link": "https://stackoverflow.com/questions/33003604/no-module-error-when-trying-to-run-tests", "title": "No module error when trying to run tests", "body": "<p>I am trying to base my project structure on <a href=\"https://stackoverflow.com/a/24266885\">this answer</a>. According to the answerer, all I need to do is structure my application like this:</p>\n\n<pre><code>project-name\n    project_name\n        __init__.py\n        some_module.py\n        some_other_module.py\n    tests\n        __init__.py\n        test_some_module.py\n        test_some_other_module.py\n</code></pre>\n\n<p>However, running <code>python3.5 -m unittest discover</code> results in this error:\n<code>ImportError: No module named project_name</code>.</p>\n\n<p>My <code>__init__.py</code> files are empty as I understood that would make python think everything was a package. I understand there is a way to do it using PYTHONPATH but I had also understood that there was no need to use PYTHONPATH if you followed this package system.</p>\n\n<p>What am I doing wrong? Is there an easy fix, or do I need to use a different structure or system to run tests?</p>\n"}, {"tags": ["python", "matplotlib", "data-visualization", "scatter-plot"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5161939, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-MJdbthtvrnU/AAAAAAAAAAI/AAAAAAAAJx0/MLj_cY9hbAg/photo.jpg?sz=128", "display_name": "Tjeerd Tim", "link": "https://stackoverflow.com/users/5161939/tjeerd-tim"}, "edited": false, "score": 0, "creation_date": 1444258753, "post_id": 33003643, "comment_id": 53832494, "body": "Thanks all! Solved it."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 0, "last_activity_date": 1444258041, "last_edit_date": 1444258041, "creation_date": 1444257820, "answer_id": 33003643, "question_id": 33003598, "link": "https://stackoverflow.com/questions/33003598/scatterplot-python-how-to-use-different-color-when-another-variable-then-the-p/33003643#33003643", "title": "Scatterplot, python: How to use different color when another variable then the plotted variable is 0 or 1", "body": "<p>It seems like you just need to specify the color using the <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter\" rel=\"nofollow\"><code>c</code> keyword argument</a>:</p>\n\n<pre><code>plt.scatter(x, y, c=['k' if zz == 0 else 'orange' for zz in z])\n</code></pre>\n\n<p>Of course, you could get even fancier with a mapping that converts color values to a color code for matplotlib:</p>\n\n<pre><code>color_map = {\n    0: 'k',\n    1: 'orange\n}\nplt.scatter(x, y, c=[color_map.get(v, 'cyan') for v in z])\n</code></pre>\n\n<p>The advantage here is clear -- It's much easier to add more colors to the plot.</p>\n"}], "owner": {"reputation": 71, "user_id": 5161939, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-MJdbthtvrnU/AAAAAAAAAAI/AAAAAAAAJx0/MLj_cY9hbAg/photo.jpg?sz=128", "display_name": "Tjeerd Tim", "link": "https://stackoverflow.com/users/5161939/tjeerd-tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 33003643, "answer_count": 1, "score": 0, "last_activity_date": 1444258041, "creation_date": 1444257554, "question_id": 33003598, "link": "https://stackoverflow.com/questions/33003598/scatterplot-python-how-to-use-different-color-when-another-variable-then-the-p", "title": "Scatterplot, python: How to use different color when another variable then the plotted variable is 0 or 1", "body": "<p>(matplotlib, python 2.7)</p>\n\n<p>Trying to make a scatterplot for x and y:</p>\n\n<pre><code>x = [0, 1, 2, 3, 4]\n\ny = [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>The code for a scatterplot would of course be:</p>\n\n<pre><code>plt.scatter(x, y)\n</code></pre>\n\n<p>However, given the z list below, I want the color for y to be black when z = 0 and orange when z = 1.</p>\n\n<pre><code>z = [0, 1, 0, 1, 0]\n</code></pre>\n\n<p>What should I do? Tried google and other stackoverflow posts, but no succes so far..</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444257938, "post_id": 33003547, "comment_id": 53832224, "body": "Isnt&#39; &#39;get_level_values&#39; a function? Also the the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.get_level_values.html\" rel=\"nofollow noreferrer\">docs</a> say it should be an int, but indeed I seem to remember using it with column labels"}, {"owner": {"reputation": 43, "user_id": 4505889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f3a234b239602e01e4f75840c23116?s=128&d=identicon&r=PG&f=1", "display_name": "synkilla12", "link": "https://stackoverflow.com/users/4505889/synkilla12"}, "reply_to_user": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444258313, "post_id": 33003547, "comment_id": 53832332, "body": "I&#39;m sorry, the get_level_values function returns all the values of a specific index. For example, cf has pv_area_cost1a, full_cost, and several more cfs. Some of the example on the docs says you should be able to retrieve values for a specific index with pt[&#39;pv_area_cost1a&#39;] but it does not."}, {"owner": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444258643, "post_id": 33003547, "comment_id": 53832450, "body": "I think <a href=\"http://stackoverflow.com/questions/28002197/pandas-proper-way-to-set-values-based-on-condition-for-subset-of-multiindex-da\">this</a> question can help you"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4505889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f3a234b239602e01e4f75840c23116?s=128&d=identicon&r=PG&f=1", "display_name": "synkilla12", "link": "https://stackoverflow.com/users/4505889/synkilla12"}, "edited": false, "score": 0, "creation_date": 1444431897, "post_id": 33003827, "comment_id": 53917639, "body": "This was great! Thanks for the help."}, {"owner": {"reputation": 43, "user_id": 4505889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f3a234b239602e01e4f75840c23116?s=128&d=identicon&r=PG&f=1", "display_name": "synkilla12", "link": "https://stackoverflow.com/users/4505889/synkilla12"}, "edited": false, "score": 0, "creation_date": 1444432982, "post_id": 33003827, "comment_id": 53917900, "body": "It says my reputation has to be &gt; 15.   I will certainly up vote you once I am at 15."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1444258677, "creation_date": 1444258677, "answer_id": 33003827, "question_id": 33003547, "link": "https://stackoverflow.com/questions/33003547/how-to-filter-through-pandas-pivot-table/33003827#33003827", "title": "How to filter through pandas pivot table", "body": "<p>First, create a multi-indexed dataframe:</p>\n\n<pre><code>df = pd.DataFrame({'i1': [1, 1, 1, 1], 'i2': [2, 2, 3, 3], 'i3': [4, 5, 4, 5], 'v1': [10] * 4, 'v2': [20] * 4}).set_index(['i1', 'i2', 'i3'])\n&gt;&gt;&gt; df\n          v1  v2\ni1 i2 i3        \n1  2  4   10  20\n      5   10  20\n   3  4   10  20\n      5   10  20\n</code></pre>\n\n<p>For me, the easiest way to slice this type of dataframe is to use a combination of <code>.loc</code> and <code>IndexSlice</code>.  So, to slice the above df where <code>i2=3</code> and <code>i3=5</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df.loc[pd.IndexSlice[:, 3, 5], :]\n\n          v1  v2\ni1 i2 i3        \n1  3  5   10  20\n</code></pre>\n\n<p>The <code>:</code> inside <code>IndexSlice</code> signifies to select all rows of <code>i1</code>.  The very last <code>:</code> inside the <code>loc</code> function signifies to select all columns in the dataframe (<code>v1</code> and <code>v2</code>).</p>\n"}], "owner": {"reputation": 43, "user_id": 4505889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f3a234b239602e01e4f75840c23116?s=128&d=identicon&r=PG&f=1", "display_name": "synkilla12", "link": "https://stackoverflow.com/users/4505889/synkilla12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 33003827, "answer_count": 1, "score": 2, "last_activity_date": 1565848410, "creation_date": 1444257255, "last_edit_date": 1565848410, "question_id": 33003547, "link": "https://stackoverflow.com/questions/33003547/how-to-filter-through-pandas-pivot-table", "title": "How to filter through pandas pivot table", "body": "<p>I have a pivot table created from pandas (DataFrame object). </p>\n\n<p>Currently, I have multiple indexes and I want to be able to filter through some of them. To clarify this is how the pivot tables looks like.</p>\n\n<p><img src=\"https://i.stack.imgur.com/8nADP.png\" alt=\"enter image description here\"></p>\n\n<p>There are 1000s of those. What I want to be able to do is get all the instances where opt_step is 1, cf is <code>pv_area_cost1a</code> and when the optimization is MANHATTAN. The end goal is to be able to graph iterations vs cost for some instances. </p>\n\n<p>The pivot table is called pt. I've tried <code>pt.index.get_level_values['pv_area_cost1a']</code> and I have read the entire page in advanced indexing to no avail.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1113, "user_id": 1187982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8735831e588c07dfcbaecc2893deac?s=128&d=identicon&r=PG", "display_name": "Joshua Shearer", "link": "https://stackoverflow.com/users/1187982/joshua-shearer"}, "edited": false, "score": 0, "creation_date": 1444258035, "post_id": 33003536, "comment_id": 53832246, "body": "It&#39;s really not clear what you&#39;re asking here."}], "answers": [{"tags": [], "owner": {"reputation": 34901, "user_id": 3973077, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e80187d131859fc0601a01231fec657e?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Boddington", "link": "https://stackoverflow.com/users/3973077/paul-boddington"}, "is_accepted": false, "score": 0, "last_activity_date": 1444259072, "last_edit_date": 1444259072, "creation_date": 1444258027, "answer_id": 33003684, "question_id": 33003536, "link": "https://stackoverflow.com/questions/33003536/how-do-i-make-a-list-where-each-item-occurs-a-different-number-of-times/33003684#33003684", "title": "How do I make a list where each item occurs a different number of times?", "body": "<p>I know very little Python, so this might not be the best way of doing it, but it seems to work.</p>\n\n<pre><code>list1 = []\nlist2 = [\"a\", \"b\", \"c\"]\nfor x in range(len(list2)):\n    list1 += [list2[x]] * (len(list2) - x)\nprint(list1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3708, "user_id": 3223917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ddd5015f0e348f3413abee1193b058?s=128&d=identicon&r=PG", "display_name": "Hayley Guillou", "link": "https://stackoverflow.com/users/3223917/hayley-guillou"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261814, "creation_date": 1444261814, "answer_id": 33004308, "question_id": 33003536, "link": "https://stackoverflow.com/questions/33003536/how-do-i-make-a-list-where-each-item-occurs-a-different-number-of-times/33004308#33004308", "title": "How do I make a list where each item occurs a different number of times?", "body": "<p>Here's the same idea but with a one liner list comprehension:</p>\n\n<pre><code>list2 = [\"a\", \"b\", \"c\"]\nlist1 = [y for idx, x in enumerate(list2) for y in x * (len(list2) - idx)]\nprint(list1)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5420612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4db21c9ff586e19417f81a2b371fd0e?s=128&d=identicon&r=PG&f=1", "display_name": "LOLskingsM", "link": "https://stackoverflow.com/users/5420612/lolskingsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444261814, "creation_date": 1444257187, "last_edit_date": 1444259657, "question_id": 33003536, "link": "https://stackoverflow.com/questions/33003536/how-do-i-make-a-list-where-each-item-occurs-a-different-number-of-times", "title": "How do I make a list where each item occurs a different number of times?", "body": "<p>I have two list one is list1=[], second is list2=[\"a\",\"b\",\"c\"], I need to let list1=[\"a\",\"a\",\"a\",\"b\",\"b\",\"c\"],  what should I do? In addition, the list2 can be anything , if it has 20 elements, the \"a\" should *20.</p>\n"}, {"tags": ["python", "python-3.x", "sockets"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 4, "creation_date": 1444257299, "post_id": 33003498, "comment_id": 53832041, "body": "The first argument (<code>message</code>) needs to be bytes, but you&#39;re passing a string.  You should encode it before sending e.g. <code>message.encode(&#39;utf-8&#39;)</code>"}, {"owner": {"reputation": 671, "user_id": 5420593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9fa023d61f0657f93c1ec9a25336d9?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/5420593/sri"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1444258627, "post_id": 33003498, "comment_id": 53832446, "body": "but the thing is i need to pass string to the server not byte"}, {"owner": {"reputation": 671, "user_id": 5420593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9fa023d61f0657f93c1ec9a25336d9?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/5420593/sri"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1444258672, "post_id": 33003498, "comment_id": 53832464, "body": "from socket import * serverName = &#39;hostname&#39; serverPort = 12000 clientSocket = socket(AF_INET, SOCK_DGRAM) message = input(&#39;Input lowercase sentence:&#39;) message.encode(&#39;utf-8&#39;) clientSocket.sendto(message,(serverName, serverPort)) modifiedMessage, serverAddress = clientSocket.recvfrom(2048) print (modifiedMessage) clientSocket.close()"}, {"owner": {"reputation": 671, "user_id": 5420593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9fa023d61f0657f93c1ec9a25336d9?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/5420593/sri"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1444258688, "post_id": 33003498, "comment_id": 53832470, "body": "i got the same error"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 4, "creation_date": 1444258692, "post_id": 33003498, "comment_id": 53832472, "body": "The thing that goes on the wire is <i>always</i> bytes.  The server needs to be able to make sense of those bytes somehow."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 2, "creation_date": 1444258752, "post_id": 33003498, "comment_id": 53832493, "body": "That&#39;s because <code>message</code> is still a string.  You need something like <code>clientSocket.sendto(message.encode(&#39;utf-8&#39;), ...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1661, "user_id": 5141619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eaaef6fdf502d7df2b2be002fa9ad51c?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/5141619/max"}, "edited": false, "score": 0, "creation_date": 1507824888, "post_id": 34313671, "comment_id": 80374962, "body": "would encoding and decoding on both sides of the connection increase latency? If so would python2 actually be faster at sending data than python3"}, {"owner": {"reputation": 932, "user_id": 2959650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e3cce9e9bc74d997e2f9cdc3efbfee?s=128&d=identicon&r=PG&f=1", "display_name": "Umair47", "link": "https://stackoverflow.com/users/2959650/umair47"}, "reply_to_user": {"reputation": 1661, "user_id": 5141619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eaaef6fdf502d7df2b2be002fa9ad51c?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/5141619/max"}, "edited": false, "score": 0, "creation_date": 1508434375, "post_id": 34313671, "comment_id": 80618904, "body": "In my opinion, this will not affect the performance such as latency etc. However, I haven&#39;t tried experimented with it myself so I can&#39;t be sure about that."}], "tags": [], "owner": {"reputation": 932, "user_id": 2959650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e3cce9e9bc74d997e2f9cdc3efbfee?s=128&d=identicon&r=PG&f=1", "display_name": "Umair47", "link": "https://stackoverflow.com/users/2959650/umair47"}, "is_accepted": false, "score": 80, "last_activity_date": 1617788429, "last_edit_date": 1617788429, "creation_date": 1450273476, "answer_id": 34313671, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str/34313671#34313671", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>This code is good for Python 2. But in Python 3, results in bit encoding error. I was trying to make a simple TCP server and encountered the same problem. Encoding solves this. Try this with <code>sendto</code> command.</p>\n<pre><code>clientSocket.sendto(message.encode(),(serverName, serverPort))\n</code></pre>\n<p>Similarly you should use <code>.decode()</code> to receive the data on the UDP server side, if you want to print it exactly as it was sent.</p>\n"}, {"comments": [{"owner": {"reputation": 1428, "user_id": 581513, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/20f805a9f4c5c4350249313344d2802b?s=128&d=identicon&r=PG", "display_name": "dlewin", "link": "https://stackoverflow.com/users/581513/dlewin"}, "edited": false, "score": 1, "creation_date": 1496414486, "post_id": 38441709, "comment_id": 75667048, "body": "Your client won&#39;t work: sendto requires 3 parameters, the message the server address and the related port"}, {"owner": {"reputation": 346, "user_id": 11995121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TtVq.jpg?s=128&g=1", "display_name": "HotWheels", "link": "https://stackoverflow.com/users/11995121/hotwheels"}, "edited": false, "score": 0, "creation_date": 1582742549, "post_id": 38441709, "comment_id": 106885778, "body": "Message, address, and port. Seems like 3 parameters to me and works on mine! :)"}], "tags": [], "owner": {"reputation": 165, "user_id": 4333044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d90f7e2b477d11a4f997872a91ed64?s=128&d=identicon&r=PG&f=1", "display_name": "Wlliam", "link": "https://stackoverflow.com/users/4333044/wlliam"}, "is_accepted": false, "score": 13, "last_activity_date": 1496687490, "last_edit_date": 1496687490, "creation_date": 1468859130, "answer_id": 38441709, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str/38441709#38441709", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>A bit of encoding can solve this:</p>\n\n<p>Client Side:</p>\n\n<pre><code>message = input(\"-&gt;\")\nclientSocket.sendto(message.encode('utf-8'), (address, port))\n</code></pre>\n\n<p>Server Side:</p>\n\n<pre><code>data = s.recv(1024)\nmodifiedMessage, serverAddress = clientSocket.recvfrom(message.decode('utf-8'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 7669104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb5749f590377cc39a346278a8de28f5?s=128&d=identicon&r=PG&f=1", "display_name": "TestStart", "link": "https://stackoverflow.com/users/7669104/teststart"}, "is_accepted": false, "score": 5, "last_activity_date": 1489180359, "last_edit_date": 1489180359, "creation_date": 1489169505, "answer_id": 42725105, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str/42725105#42725105", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>Simply replace message parameter passed  in <code>clientSocket.sendto(message,(serverName, serverPort))</code> to <code>clientSocket.sendto(message.encode(),(serverName, serverPort))</code>. Then you would successfully run in in <em>python3</em></p>\n"}, {"tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": false, "score": 3, "last_activity_date": 1511615255, "creation_date": 1511615255, "answer_id": 47486304, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str/47486304#47486304", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>Whenever you encounter an error with this message <em>use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.encode\" rel=\"nofollow noreferrer\"><code>my_string.encode()</code></a></em>.</p>\n\n<p><sup><sup>(where <code>my_string</code> is the string you're passing to a function/method).</sup></sup></p>\n\n<p>The <code>encode</code> method of <code>str</code> objects returns the encoded version of the string as a <a href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" rel=\"nofollow noreferrer\"><code>bytes</code> object</a> which you can then use. \nIn this specific instance, socket methods <a href=\"https://docs.python.org/3/library/socket.html#socket.socket.send\" rel=\"nofollow noreferrer\">such as <code>.send</code></a> <em>expect a bytes object</em> as the data to be sent, <em>not a string object</em>.</p>\n\n<p>Since you have an object of type <code>str</code> and you're passing it to a function/method that expects an object of type <code>bytes</code>, an error is raised  that clearly explains that:</p>\n\n<pre><code>TypeError: a bytes-like object is required, not 'str'\n</code></pre>\n\n<p>So the <code>encode</code> method of strings is needed, applied on a <code>str</code> value and returning a <code>bytes</code> value:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"Hello world\"\n&gt;&gt;&gt; print(type(s))\n&lt;class 'str'&gt;\n&gt;&gt;&gt; byte_s = s.encode()\n&gt;&gt;&gt; print(type(byte_s))\n&lt;class 'bytes'&gt;\n&gt;&gt;&gt; print(byte_s)\nb\"Hello world\"\n</code></pre>\n\n<p>Here the prefix <code>b</code> in <code>b'Hello world'</code> denotes that this is indeed a bytes object. You can then pass it to whatever function is expecting it in order for it to run smoothly.</p>\n"}, {"comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1566111789, "post_id": 49362435, "comment_id": 101548396, "body": "See also <a href=\"http://nedbatchelder.com/text/unipain.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/unipain.html</a> to understand why this changed in Python 3."}], "tags": [], "owner": {"reputation": 301, "user_id": 9516166, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cYFEeJKxH8o/AAAAAAAAAAI/AAAAAAAAAHU/IfAHxv1hMaI/photo.jpg?sz=128", "display_name": "Ahmed Motawea", "link": "https://stackoverflow.com/users/9516166/ahmed-motawea"}, "is_accepted": false, "score": 30, "last_activity_date": 1560184528, "last_edit_date": 1560184528, "creation_date": 1521460722, "answer_id": 49362435, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str/49362435#49362435", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>Encoding and decoding can solve this in Python 3:</p>\n\n<p>Client Side:</p>\n\n<pre><code>&gt;&gt;&gt; host='127.0.0.1'\n&gt;&gt;&gt; port=1337\n&gt;&gt;&gt; import socket\n&gt;&gt;&gt; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n&gt;&gt;&gt; s.connect((host,port))\n&gt;&gt;&gt; st='connection done'\n&gt;&gt;&gt; byt=st.encode()\n&gt;&gt;&gt; s.send(byt)\n15\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Server Side:</p>\n\n<pre><code>&gt;&gt;&gt; host=''\n&gt;&gt;&gt; port=1337\n&gt;&gt;&gt; import socket\n&gt;&gt;&gt; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n&gt;&gt;&gt; s.bind((host,port))\n&gt;&gt;&gt; s.listen(1)\n&gt;&gt;&gt; conn ,addr=s.accept()\n&gt;&gt;&gt; data=conn.recv(2000)\n&gt;&gt;&gt; data.decode()\n'connection done'\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 5420593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9fa023d61f0657f93c1ec9a25336d9?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/5420593/sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201945, "favorite_count": 14, "answer_count": 5, "score": 67, "last_activity_date": 1617788429, "creation_date": 1444256962, "last_edit_date": 1560340933, "question_id": 33003498, "link": "https://stackoverflow.com/questions/33003498/typeerror-a-bytes-like-object-is-required-not-str", "title": "TypeError: a bytes-like object is required, not &#39;str&#39;", "body": "<p>The following is the code that tries to modify the input supplied by a user by using sockets:</p>\n\n<pre><code>from socket import *\n\nserverName = '127.0.0.1'\nserverPort = 12000\nclientSocket = socket(AF_INET, SOCK_DGRAM)\nmessage = input('Input lowercase sentence:')\nclientSocket.sendto(message,(serverName, serverPort))\nmodifiedMessage, serverAddress = clientSocket.recvfrom(2048)\nprint (modifiedMessage)\nclientSocket.close()\n</code></pre>\n\n<p>When I execute it and supply input the following error occurs:</p>\n\n<pre><code>Input lowercase sentence:fdsgfdf\nTraceback (most recent call last):\n  File \"C:\\srinath files\\NETWORKS\\UDPclient.py\", line 6, in &lt;module&gt;\n    clientSocket.sendto(message,(serverName, serverPort))\nTypeError: a bytes-like object is required, not 'str'\n</code></pre>\n\n<p>What can I do to solve this?</p>\n"}, {"tags": ["python", "file", "fasta"], "comments": [{"owner": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 1, "creation_date": 1444257508, "post_id": 33003424, "comment_id": 53832099, "body": "what do you mean &quot;it looks like this&quot;? are you trying to turn a jpg into ASCII data? And why do you want to use pycharm? Please explain a bit more about what you&#39;re trying to do."}, {"owner": {"reputation": 19, "user_id": 4576845, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f0d168735d91f3fb138dedb633188d2?s=128&d=identicon&r=PG&f=1", "display_name": "AmlesLausiv", "link": "https://stackoverflow.com/users/4576845/amleslausiv"}, "reply_to_user": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 0, "creation_date": 1444257806, "post_id": 33003424, "comment_id": 53832190, "body": "no, first I wrote it down simply, but stackoverflow doesn&#39;t like enters :&quot;( i just wanted to make it visible that it&#39;s multiple lines, it&#39;s a fasta file, and the  it starts with this sign:&gt;....the format it is given is : &gt;information line enter sequence line enter &gt;information line enter sequence line"}, {"owner": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 0, "creation_date": 1444285325, "post_id": 33003424, "comment_id": 53840165, "body": "click the question mark when you&#39;re editing, you just have to format your data as code. You&#39;re probably getting downvoted because including code as images is one of the pet peeves of a lot of people on Stack Overflow. Also, there&#39;s no need to include &quot;edit:&quot; followed by more explanation: just clarify your original post. Unfortunately, when your post gets a lot of downvotes it also gets ranked lower on the questions page, which means you&#39;re unlikely to get useful answers."}, {"owner": {"reputation": 19, "user_id": 4576845, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f0d168735d91f3fb138dedb633188d2?s=128&d=identicon&r=PG&f=1", "display_name": "AmlesLausiv", "link": "https://stackoverflow.com/users/4576845/amleslausiv"}, "reply_to_user": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 0, "creation_date": 1444310665, "post_id": 33003424, "comment_id": 53857243, "body": "ok, thanks, unfortunately I barely have time for anything, so I just didn&#39;t want to waste more time on learning this site&#39;s text formating codes when it is understandeable as a picture too :/"}, {"owner": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 0, "creation_date": 1444321147, "post_id": 33003424, "comment_id": 53864877, "body": "OK, well Stack Overflow can potentially save you a lot of time, so I don&#39;t think learning a bit of markdown to get better answers is a waste!"}], "answers": [{"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1444257707, "creation_date": 1444257707, "answer_id": 33003625, "question_id": 33003424, "link": "https://stackoverflow.com/questions/33003424/how-to-read-in-specific-lines-from-file/33003625#33003625", "title": "How to read in specific lines from file", "body": "<pre><code>with open('data', 'r') as f:\n     s = [x.strip() for x in f]\n\nfor i, el in enumerate(s):\n    if i % 2 == 0:\n        s[i] = 'sequence'  + str(i+1)\n\n\nprint(s)\n\n['sequence1', 'ATGCACCGT', 'sequence3', 'GACCTAGCA']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": true, "score": 0, "last_activity_date": 1444260764, "creation_date": 1444260764, "answer_id": 33004168, "question_id": 33003424, "link": "https://stackoverflow.com/questions/33003424/how-to-read-in-specific-lines-from-file/33004168#33004168", "title": "How to read in specific lines from file", "body": "<p>I looked at the FASTA spec on Wikipedia. Looks like long sequences can span multiple lines. In that case, I assume you would want the lines concatenated. It also says that the informational lines start with a \">\" but could also start with a \";\". Assuming that the file is small enough to be read entirely into memory, I came up with the following using regular expressions:</p>\n\n<pre><code>import re\n\nregex = re.compile(r\"[;&gt;](?P&lt;description&gt;[^\\n]*)\\n(?P&lt;sequence&gt;[^;&gt;]+)\")\n\nwith open(\"datafile.txt\",\"r\") as f:\n\n    sequences = regex.findall(f.read())\n    for i, info in enumerate(sequences):\n            description, sequence = info\n            print(\"sequence%d: %s\" % (i, sequence.replace(\"\\n\",\"\")))\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4576845, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f0d168735d91f3fb138dedb633188d2?s=128&d=identicon&r=PG&f=1", "display_name": "AmlesLausiv", "link": "https://stackoverflow.com/users/4576845/amleslausiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 33004168, "answer_count": 2, "score": -3, "last_activity_date": 1444260764, "creation_date": 1444256610, "last_edit_date": 1444259208, "question_id": 33003424, "link": "https://stackoverflow.com/questions/33003424/how-to-read-in-specific-lines-from-file", "title": "How to read in specific lines from file", "body": "<p>I have a FASTA file, it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dfnUi.jpg\" alt=\"click for image\"></p>\n\n<p>I want this:</p>\n\n<pre><code>sequence1: ATGCACCGT\nsequence2: GACCTAGCA\n</code></pre>\n\n<p>as a result.</p>\n\n<p>how can I do it?</p>\n\n<p>edit:\nI'll try to reformulate it, </p>\n\n<p>so I have a (fasta) file, with multiple rows.\nsome rows has a special character (>) as a first character. I don't need these rows, but the rows shows where the first sequence ended, and where the other begins.</p>\n\n<p>I'd like to read it into two separate strings\nfirst string is the first sequence, the second is the second one.</p>\n\n<p>but I don't know how could I tell pycharm that I want to read until > sign,than the rest goes to another string, until the next > sign...</p>\n"}, {"tags": ["python", "random", "numbers", "generator", "python-3.4"], "comments": [{"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1444256926, "post_id": 33003419, "comment_id": 53831911, "body": "please add your code here."}, {"owner": {"reputation": 461, "user_id": 1821490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U91FX.jpg?s=128&g=1", "display_name": "Alex Kroll", "link": "https://stackoverflow.com/users/1821490/alex-kroll"}, "edited": false, "score": 1, "creation_date": 1444257346, "post_id": 33003419, "comment_id": 53832053, "body": "First of all please paste you code as a code not as image. <code>random.shuffle(x[, random]) Shuffle the sequence x in place</code> <a href=\"https://docs.python.org/3.4/library/random.html#random.shuffle\" rel=\"nofollow noreferrer\">Doc</a> In other words when you call <code>rng_number=random.shuffle(numbers)</code> it just shuffle numbers array and assign <code>None</code> to <code>rng_number</code> (<code>random.shuffle()</code> returns None). And  <code>input</code> read text input from user you should convert it to int."}, {"owner": {"reputation": 1, "user_id": 5420575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vrexaPIE5VQ/AAAAAAAAAAI/AAAAAAAAABg/lhLcoh9xQwE/photo.jpg?sz=128", "display_name": "The Flying Scotsman", "link": "https://stackoverflow.com/users/5420575/the-flying-scotsman"}, "edited": false, "score": 0, "creation_date": 1444319926, "post_id": 33003419, "comment_id": 53864099, "body": "Thanks Alex. I&#39;ve changed the input to int(input(&quot;Go on, type it in!&quot;)) but I&#39;m still getting none instead of a number."}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1444320239, "post_id": 33003419, "comment_id": 53864292, "body": "@TheFlyingScotsman and you will - as Alex has pointed out - shuffle returns <code>None</code> - try taking a look at <code>random.choice</code> instead"}], "answers": [{"tags": [], "owner": {"reputation": 3708, "user_id": 3223917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ddd5015f0e348f3413abee1193b058?s=128&d=identicon&r=PG", "display_name": "Hayley Guillou", "link": "https://stackoverflow.com/users/3223917/hayley-guillou"}, "is_accepted": false, "score": 0, "last_activity_date": 1444804376, "creation_date": 1444804376, "answer_id": 33118172, "question_id": 33003419, "link": "https://stackoverflow.com/questions/33003419/random-shuffle-not-working-for-number-guessing-game/33118172#33118172", "title": "random.shuffle() not working for number guessing game", "body": "<p>As pointed out in the comments, the issue with your program is that <code>random.shuffle()</code> does not assign a number to <code>rng_number</code>. In order to assign a value from <code>numbers</code> to <code>rng_number</code>, you must use <code>random.choice()</code> instead (<a href=\"https://docs.python.org/3.4/library/random.html#random.choice\" rel=\"nofollow\">Docs</a>).</p>\n\n<pre><code>import random\nnumbers = ['1', '2', '3', '4', '5', '6', '7', '8' , '9']\n\nwhile True:\n    rng_number = random.choice(numbers)\n    print (rng_number)\n    user_input = input(\"Go on, type it in!\")\n    if user_input == rng_number:\n        print(\"Good job again!\")\n    else:\n        print(\"Try again...Moron\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vrexaPIE5VQ/AAAAAAAAAAI/AAAAAAAAABg/lhLcoh9xQwE/photo.jpg?sz=128", "display_name": "The Flying Scotsman", "link": "https://stackoverflow.com/users/5420575/the-flying-scotsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444808470, "creation_date": 1444256560, "last_edit_date": 1444808470, "question_id": 33003419, "link": "https://stackoverflow.com/questions/33003419/random-shuffle-not-working-for-number-guessing-game", "title": "random.shuffle() not working for number guessing game", "body": "<p>Im making a text based adventure game but at one point I want the user to be stuck typing numbers endlessly. I'm very new and python so the simpler the better but here's what i've got so far anyway.</p>\n\n<p>Here is the code</p>\n\n<pre><code>import os\nimport sys\nimport string\n\nimport time\nimport random\nnumbers = ['1', '2', '3', '4', '5', '6', '7', '8' , '9']\n\nprint(\"Welcome to My Text Adventure Game: Dumb Edition\")\nprint (\"You (yes YOU) awake in an E-M-P-T-Y room.\")\nprint (\"It's very chilly willy and someone is drawing on the walls\")\nprint (\" Do you exit the room via the door that is obviously the right way (1)\")\nprint (\"what do you do?\")\ntime.sleep(1)\nprint(\"Wait!\")\nprint(\"You can't be trusted to not get this wrong\")\nprint(\"I'll do it\")\nprint(\"1\")\ntime.sleep(1)\nprint(\"Erm...It should be going..\")\nprint(\"Meh I'll just make something up! Two seconds..\")\ntime.sleep(3)\nprint (\"Ok.. I've got it! You'll just press buttons and it will be fun!\")\nprint (\"Or else..\")\nprint (\"Here we go...\")\ntime.sleep(1)\nprint (\"Please enter the following\")\nwhile True:\n        rng_number = random.shuffle(numbers)\n        print (rng_number)\n        user_input = input(\"Go on, type it in!\")\n        if user_input == rng_number:\n                print(\"Good job again!\")\n        else:\n                print(\"Try again...Moron\")\n</code></pre>\n\n<p>Here is what happens when I run the code</p>\n\n<pre><code>Welcome to My Text Adventure Game: Dumb Edition\nYou (yes YOU) awake in an E-M-P-T-Y room.\nIt's very chilly willy and someone is drawing on the walls\n Do you exit the room via the door that is obviously the right way?(1)\nwhat do you do?\nWait!\nYou can't be trusted to not get this wrong\nI'll do it\n1\nErm...It should be going..\nMeh I'll just make something up! Two seconds..\nOk.. I've got it! You'll just press buttons and it will be fun!\nOr else..\nHere we go...\nPlease enter the following\nNone\nGo on, type it in!None\nTry again...Moron\nNone\nGo on, type it in!\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "is_accepted": true, "score": 1, "last_activity_date": 1444256681, "creation_date": 1444256681, "answer_id": 33003441, "question_id": 33003416, "link": "https://stackoverflow.com/questions/33003416/what-does-do-when-unzipping-a-python-list/33003441#33003441", "title": "what does * do when unzipping a python list?", "body": "<p>With this:</p>\n\n<pre><code>zip(*zipped)\n</code></pre>\n\n<p>you tell python the same as this:</p>\n\n<pre><code>zip(zipped[0],zipped[1],zipped[2])\n</code></pre>\n\n<p>for this basic example.</p>\n\n<h1>What does exactly that operator</h1>\n\n<p>When used as argument of a function, it takes the elements of the argument and expand it before passing as argument.</p>\n\n<p>For instance:</p>\n\n<pre><code>power = [2,3]\nmath.pow(*power)\n</code></pre>\n\n<p>Would give you the value of 2\u00b3 = 8.</p>\n\n<p><a href=\"http://ideone.com/D0R9FB\" rel=\"nofollow\">http://ideone.com/D0R9FB</a></p>\n"}], "owner": {"reputation": 4580, "user_id": 4176070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006219310996/picture?type=large", "display_name": "hch", "link": "https://stackoverflow.com/users/4176070/hch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "closed_date": 1444257126, "accepted_answer_id": 33003441, "answer_count": 1, "score": 0, "last_activity_date": 1553285703, "creation_date": 1444256540, "question_id": 33003416, "link": "https://stackoverflow.com/questions/33003416/what-does-do-when-unzipping-a-python-list", "closed_reason": "Duplicate", "title": "what does * do when unzipping a python list?", "body": "<pre><code>&gt;&gt;&gt; x = [1,2,3]\n&gt;&gt;&gt; y = [4,5,6]\n&gt;&gt;&gt; zipped = zip(x,y)\n&gt;&gt;&gt; zipped\n[(1, 4), (2, 5), (3, 6)]\n&gt;&gt;&gt; *zipped\n  File \"&lt;stdin&gt;\", line 1\n    *zipped\n    ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; zip(*zipped)\n[(1, 2, 3), (4, 5, 6)]  \n</code></pre>\n\n<p>I am confused with the * before zipped. I understand that zip(*zipped) is used to invert a matrix, but what is the * doing in there? Is it a special operator in python?</p>\n"}, {"tags": ["python", "loops", "python-3.x", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5420516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30471d324133f74a7659e85df797468f?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Rogozinsky", "link": "https://stackoverflow.com/users/5420516/cameron-rogozinsky"}, "edited": false, "score": 0, "creation_date": 1444282529, "post_id": 33004668, "comment_id": 53838951, "body": "Thanks so much, It&#39;s nice to hear from someone else that I&#39;m off to a good start!                                                                                                                 I&#39;ll figure it out from here, thanks. I look forward to being involved!"}, {"owner": {"reputation": 3708, "user_id": 3223917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ddd5015f0e348f3413abee1193b058?s=128&d=identicon&r=PG", "display_name": "Hayley Guillou", "link": "https://stackoverflow.com/users/3223917/hayley-guillou"}, "reply_to_user": {"reputation": 13, "user_id": 5420516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30471d324133f74a7659e85df797468f?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Rogozinsky", "link": "https://stackoverflow.com/users/5420516/cameron-rogozinsky"}, "edited": false, "score": 0, "creation_date": 1444282951, "post_id": 33004668, "comment_id": 53839112, "body": "@CameronRogozinsky Glad I could help. If this answer helped you, you can <a href=\"http://meta.stackexchange.com/a/5235/252544\">accept it</a> and be rewarded with 2 rep points :)"}], "tags": [], "owner": {"reputation": 3708, "user_id": 3223917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ddd5015f0e348f3413abee1193b058?s=128&d=identicon&r=PG", "display_name": "Hayley Guillou", "link": "https://stackoverflow.com/users/3223917/hayley-guillou"}, "is_accepted": true, "score": 0, "last_activity_date": 1444264221, "creation_date": 1444264221, "answer_id": 33004668, "question_id": 33003397, "link": "https://stackoverflow.com/questions/33003397/python-how-to-display-answers-in-a-table-list-at-the-end-of-a-program/33004668#33004668", "title": "Python - How to display answer&#39;s in a table list at the end of a program?", "body": "<p>Your program looks good! It's great that you've separated the program into smaller problems, this will help you a lot when your problems become more complex.</p>\n\n<p>Since this is an assignment, I will give you a hint on how to proceed:</p>\n\n<pre><code>if (usrIp == '+'):\n    answer = \n    print(num1, usrIp, i, '=', answer)\n</code></pre>\n\n<p>You should be able to figure out what to do with that and replicate it in the other if statements.</p>\n\n<p>Welcome to Stack Overflow and happy coding!</p>\n"}], "owner": {"reputation": 13, "user_id": 5420516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30471d324133f74a7659e85df797468f?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Rogozinsky", "link": "https://stackoverflow.com/users/5420516/cameron-rogozinsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 33004668, "answer_count": 1, "score": 0, "last_activity_date": 1444270596, "creation_date": 1444256433, "last_edit_date": 1444270596, "question_id": 33003397, "link": "https://stackoverflow.com/questions/33003397/python-how-to-display-answers-in-a-table-list-at-the-end-of-a-program", "title": "Python - How to display answer&#39;s in a table list at the end of a program?", "body": "<p>I have an assignment which requires the user to input a number (>1), an operation (+, -, *). At the end of the program it takes the two and they are used in conjunction with an ascending table of numbers from 1 to 10. The only issue i'm having is figuring out how to get it to show the answer after the '='.</p>\n\n<p>If I could get some help, that would be great. I've literally spent a couple of hours trying to figure out this little thing and am just stumped.</p>\n\n<pre><code> # User inputs a #\nnum1 = int(input(\"Enter a numuber of 1 or greater: \"))\nwhile (num1 &lt; 1):\n     num1 = int(input(\"Error! Number too small, try again!: \"))\n\nif (num1 &gt;= 1):\n     print(\"Correct!\\n\")     \n\n# Program shows a list up to the value entered by the user\nprint(\"Counting from 0 to\", str(num1) + \": \")\n\nfor i in range(0, num1 + 1, 1):\n     print(i, end = \"   \")\nprint()\n\n# User chooses which math operation to use\nusrIp = input(\"\\nChoose a math operation (+, -, *): \")\n\nwhile (usrIp != '+') and (usrIp != '-') and (usrIp != '*'):\n     usrIp = input(\"\\nError! Try again!:\")\n\n\n# User submitted value is added to a number increasing by 1 for each line\n\nprint(\"\\nTable for\", num1, \"using\", usrIp, \":\")\nif (usrIp == '+') or (usrIp == '-') or (usrIp == '*'):\n    for i in range(1, 11, 1):\n        if (usrIp == '+'):\n            print(num1, usrIp, i, '=')\n        if (usrIp == '*'):\n            print(num1, usrIp, i, '=')\n        if (usrIp == '-'):\n            print(num1, usrIp, i, '=')        \n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1444257365, "post_id": 33003396, "comment_id": 53832058, "body": "Welcome to StackOverflow.  Please refer to <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>.  Your posting contains a large amount of code not related to the problem.  Much of this is syntactically incorrect (and distracting).  Back up.  Write a few lines at a time.  Include print statements to report location and variable values.  Debug just that much.  When you have that working, add a few more lines.  As you progress, comment out print statements you no longer need."}, {"owner": {"reputation": 49880, "user_id": 1222578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daae63146dbed42f50cd56f7268c6260?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1222578/marius"}, "edited": false, "score": 0, "creation_date": 1444257583, "post_id": 33003396, "comment_id": 53832121, "body": "The amount of code might be an issue (but it&#39;s hard to reduce pygame questions much, since problems arise due to the way all the different pieces fit together). I can&#39;t find anything &quot;syntactically incorrect&quot; though, I was able to copy paste into an editor and run the example just fine."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1444257741, "post_id": 33003396, "comment_id": 53832172, "body": "By the way, rather than writing something like <code>if (self.falling == True):</code>, you should just write <code>if self.falling:</code> without the comparison. This isn&#39;t the <i>cause</i> of your problem, but it probably contributed to making the cause less obvious."}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444257815, "post_id": 33003396, "comment_id": 53832194, "body": "+1 for providing code that I could copy and paste and run on my PC on the first try. Not sure if that&#39;s really allowed in the rules or not, but I appreciated it after some of the other questions I&#39;ve answered. Plus doing 2d platformer jumping is the first game programming problem I ever worked on, about 10 years ago, and it was in Python. Nostalgia FTW. BTW, your code is way better."}, {"owner": {"reputation": 43, "user_id": 5404912, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4751fc3096fb3f57bc874739a29b22eb?s=128&d=identicon&r=PG&f=1", "display_name": "GeeZillion", "link": "https://stackoverflow.com/users/5404912/geezillion"}, "edited": false, "score": 0, "creation_date": 1444258933, "post_id": 33003396, "comment_id": 53832560, "body": "it runs i just cant jump"}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444259014, "post_id": 33003396, "comment_id": 53832595, "body": "See my answer. That&#39;s your problem. I copied your code, ran it on my computer, fixed that problem, and bam - I could jump. I&#39;m a block, but I can jump."}, {"owner": {"reputation": 43, "user_id": 5404912, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4751fc3096fb3f57bc874739a29b22eb?s=128&d=identicon&r=PG&f=1", "display_name": "GeeZillion", "link": "https://stackoverflow.com/users/5404912/geezillion"}, "edited": false, "score": 0, "creation_date": 1444259581, "post_id": 33003396, "comment_id": 53832781, "body": "ah it did can you explain to me why it fixed it? i hate to just have an answer and not know why i like to further my knowledge"}, {"owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "edited": false, "score": 0, "creation_date": 1444260646, "post_id": 33003396, "comment_id": 53833077, "body": "I added a little more explanation. It&#39;s probably still confusing."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 3169805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3c6049f216a9a5bf682dc3fce749a3?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb Mauer", "link": "https://stackoverflow.com/users/3169805/caleb-mauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1444260614, "last_edit_date": 1444260614, "creation_date": 1444257430, "answer_id": 33003576, "question_id": 33003396, "link": "https://stackoverflow.com/questions/33003396/why-is-my-jump-not-working-in-python-3-pygame/33003576#33003576", "title": "why is my jump not working in python 3 / pygame", "body": "<p>You have a typo in your update() method:</p>\n\n<pre><code>if(self.falling == True):\n    self.falling == False\n    self.onGround == True\n</code></pre>\n\n<p>These are just statements that server no purpose. You need to change them to single equals signs so that it actually changes the values of these variables. Should be:</p>\n\n<pre><code>if self.falling == True:\n    self.falling = False\n    self.onGround = True\n</code></pre>\n\n<p>By the way, parenthesis around if statement conditions are not required in Python so I removed them from my answer. I recommend you remove them too.</p>\n\n<p><strong>Edit - Further explanation:</strong></p>\n\n<p>var1 == var2 always returns True or False, depending on if they are equal. It does not change the values of var1 or var2. </p>\n\n<p>var1 = var2 sets var1 equal to var2. </p>\n\n<p>Full example: </p>\n\n<pre><code>var1 = 1\nvar2 = 2\n\nvar1 == var2 # Nothing happens\n\nvar1 = var2  # var1 now equals 2\n\nvar3 = var1 == var2 # var3 now equals True. You might want some parenthesis around this one just for clarity.\n\nprint(var1,var2,var3) # Prints \"2 2 True\"\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5404912, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4751fc3096fb3f57bc874739a29b22eb?s=128&d=identicon&r=PG&f=1", "display_name": "GeeZillion", "link": "https://stackoverflow.com/users/5404912/geezillion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444260614, "creation_date": 1444256427, "question_id": 33003396, "link": "https://stackoverflow.com/questions/33003396/why-is-my-jump-not-working-in-python-3-pygame", "title": "why is my jump not working in python 3 / pygame", "body": "<p>i get no error its just when i try to press the up arrow key it does nothing.</p>\n\n<p>is there something wrong with my jump(self) in my player class? or do i need to add an update for it? im not sure</p>\n\n<p>here is my code </p>\n\n<pre><code>import pygame\n\n\npygame.init()\n\n\nscreen = pygame.display.set_mode((800,600))\n\npygame.display.set_caption(\"use arows\")\n\n\nmovex = 0\n\n\n\nclass player:\n\n    def __init__(self ,x, y):\n\n        self.x = x\n        self.y = y\n        self.width = 32\n        self.height = 32\n        self.velocity = 0\n        self.falling = False\n        self.onGround = False\n\n    def jump(self):\n        if(self.onGround == False):\n            return\n\n        self.velocity = 8\n        self.onGround = False\n\n\n\n    def detectCollisions(self,x1,y1,w1,h1,x2,y2,w2,h2):\n\n        if (x2+w2&gt;=x1&gt;=x2 and y2+h2&gt;=y1&gt;=y2):\n\n            return True\n\n        elif (x2+w2&gt;=x1+w1&gt;=x2 and y2+h2&gt;=y1&gt;=y2):\n\n            return True\n\n        elif (x2+w2&gt;=x1&gt;=x2 and y2+h2&gt;=y1+h1&gt;=y2):\n\n            return True\n\n        elif (x2+w2&gt;=x1+w1&gt;=x2 and y2+h2&gt;=y1+h1&gt;=y2):\n\n            return True\n\n        else:\n\n            return False\n\n    def update(self, gravity, blockList):\n        if (self.velocity &lt; 0):\n            self.falling = True\n\n        collision = False\n        blockX,blockY =  0,0\n        for block in blockList:\n\n            collision = self.detectCollisions(self.x, self.y, self.width, self.height, block.x, block.y, block.width, block.height )\n            if collision == True:\n                blockx = block.x\n                blocky = block.y\n                break\n\n\n        if(collision == True):\n            if (self.falling == True):\n                self.falling == False\n                self.onGround== True\n                self.velocity = 0\n                self.y = blocky - self.height\n\n        if (self.onGround == False):\n            self.velocity += gravity\n        self.y -= self.velocity\n\n    def render(self,screen):\n        pygame.draw.rect(screen,(0,0,0),(self.x, self.y, self.width, self.height))\n\n\nclass Block:\n    def __init__ (self, x, y):\n       self.x = x\n       self.y = y\n       self.width = 32\n       self.height = 32\n\n    def render(self,screen):\n        pygame.draw.rect(screen,(0,0,0),(self.x, self.y, self.width, self.height))\n\n\n\ngravity = -0.5\n\nblack = (0,0,0)\nwhite = (255,255,255)\nblue = (50,60,200)\n\nclock = pygame.time.Clock()\n\nplayer = player(0,0)\n\n# 25 colums and 19 rows\nlevel1 = [\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]\n]\n\nblockList = []\n\nfor y in range (0,len(level1)):\n    for x in range (0,len(level1[y])):\n        if (level1[y][x] == 1):\n            blockList.append(Block(x*32, y*32))\n\n\n\ngameloop = True\n\nwhile gameloop:\n\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            gameloop = False\n\n        if(event.type == pygame.KEYDOWN):\n            if (event.key == pygame.K_RIGHT):\n                movex = 5\n\n            elif(event.key == pygame.K_LEFT):\n                movex = -5\n\n            elif (event.key == pygame.K_UP):\n                player.jump()\n\n\n        if(event.type == pygame.KEYUP):\n            if (event.key == pygame.K_RIGHT):\n                movex = 0\n\n            elif(event.key == pygame.K_LEFT):\n                movex = 0\n\n    screen.fill(blue)\n\n    for block in blockList:\n        block.render(screen)\n    player.x += movex\n\n    player.update(gravity, blockList)\n    player.render(screen)\n    clock.tick(60)\n\n    pygame.display.update()\n\npygame.quit()\n</code></pre>\n"}, {"tags": ["python", "nlp"], "answers": [{"comments": [{"owner": {"reputation": 7836, "user_id": 3646408, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/307b419030c0265f697f1d5d29be439a?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Bhatia", "link": "https://stackoverflow.com/users/3646408/abhishek-bhatia"}, "edited": false, "score": 0, "creation_date": 1448777228, "post_id": 33978294, "comment_id": 55715982, "body": "Cool! Add a demo if possible, how I can call it from python. That is, pass a search quey and get the text."}], "tags": [], "owner": {"reputation": 5120, "user_id": 335918, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/35ca76160b03ee978b0b7b1d6e6c8c69?s=128&d=identicon&r=PG", "display_name": "xiamx", "link": "https://stackoverflow.com/users/335918/xiamx"}, "is_accepted": false, "score": 2, "last_activity_date": 1448759441, "creation_date": 1448759441, "answer_id": 33978294, "question_id": 33003389, "link": "https://stackoverflow.com/questions/33003389/multi-document-summarization-in-python/33978294#33978294", "title": "Multi-document summarization in python", "body": "<p>Not a library, but you can extract the source code. This one uses SumBasic</p>\n\n<p><a href=\"https://github.com/xiamx/ns\" rel=\"nofollow\">https://github.com/xiamx/ns</a></p>\n"}], "owner": {"reputation": 7836, "user_id": 3646408, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/307b419030c0265f697f1d5d29be439a?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Bhatia", "link": "https://stackoverflow.com/users/3646408/abhishek-bhatia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1448759441, "creation_date": 1444256407, "question_id": 33003389, "link": "https://stackoverflow.com/questions/33003389/multi-document-summarization-in-python", "title": "Multi-document summarization in python", "body": "<p>I could only find github.com/sildar/potara available right now. All tools seem to offer to only single document summarization techniques but none offering multi-document approaches.</p>\n"}, {"tags": ["java", "python"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1444256460, "post_id": 33003367, "comment_id": 53831748, "body": "Can you add more detail to your question, please? It&#39;s not clear what you are trying to do."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1444256506, "post_id": 33003367, "comment_id": 53831763, "body": "<a href=\"http://stackoverflow.com/questions/3652554/calling-java-from-python\" title=\"calling java from python\">stackoverflow.com/questions/3652554/calling-java-from-python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1444257944, "creation_date": 1444257944, "answer_id": 33003663, "question_id": 33003367, "link": "https://stackoverflow.com/questions/33003367/i-want-to-use-my-python-code-to-run-my-java-code-externally-and-display-its-outp/33003663#33003663", "title": "I want to use my python code to run my java code externally and display its output. What would be the best way to do it?", "body": "<ol>\n<li><p>You can use jython to run Python from Java, therefore run Python code that will utilize your Java code as well.</p></li>\n<li><p>You can compile Java code into a DLL or shared object library and use it from Python through ctypes module.</p></li>\n<li><p>You can use pipes or some other model of  inter-process communications.\nWith pipes is easy, just use subprocess to call Java interpreter that will run your Java code and output the result to a stdout, which you will read from Python.</p></li>\n</ol>\n\n<p>Perhaps there are some more options, but I cannot think of any other at the moment.</p>\n\n<p>As for which is the best way, well, it depends on your needs. How much speed do you need, how much data will you interchange, how easy your solution has to be, etc. etc.</p>\n\n<p>Some more info on your part, about what are you trying to do, will help us to help you more.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 5420596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc514a39d64eda18796289d946016c29?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5420596/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1444258238, "creation_date": 1444258238, "answer_id": 33003736, "question_id": 33003367, "link": "https://stackoverflow.com/questions/33003367/i-want-to-use-my-python-code-to-run-my-java-code-externally-and-display-its-outp/33003736#33003736", "title": "I want to use my python code to run my java code externally and display its output. What would be the best way to do it?", "body": "<p>Generally inter-language processing is typically pretty messy because both languages have their own runtimes that do memory management and memory layout differently.  Since both languages have their own runtimes both runtimes have to run at the same time, and you have to have a way of integrating them.  </p>\n\n<p>There are many ways to do integrate them, and it heavily depends on your use case which one is better.  One simple way to do this is to encapsulate your java function into a java command line program, which python can call as a remote process then parse the result.  This solution is fairly inefficient, so it will be very slow.  An article demonstrating that can be found here.\n<a href=\"http://fastml.com/how-to-run-external-programs-from-python-and-capture-their-output/\" rel=\"nofollow\">http://fastml.com/how-to-run-external-programs-from-python-and-capture-their-output/</a></p>\n\n<p>Other than that there are many methods of interprocess communication where you start both the java and python program, and have the python program make calls against the java program to get work done.  </p>\n\n<p>Essentially what you are asking for can be done, but you must consider the work and performance impact of doing so.  You should always try to write your programs in one language.</p>\n"}], "owner": {"reputation": 1, "user_id": 5420577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7456879efc01253fdbc4a3ef8470c0eb?s=128&d=identicon&r=PG&f=1", "display_name": "mittul", "link": "https://stackoverflow.com/users/5420577/mittul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1444258238, "creation_date": 1444256297, "question_id": 33003367, "link": "https://stackoverflow.com/questions/33003367/i-want-to-use-my-python-code-to-run-my-java-code-externally-and-display-its-outp", "title": "I want to use my python code to run my java code externally and display its output. What would be the best way to do it?", "body": "<p>the python code is doing one function and the java code is doing one function, I want to integrate the both, or use my python code to call java code and output the result of that java code. What is the best way to do it?</p>\n"}, {"tags": ["python", "regex", "django"], "answers": [{"comments": [{"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 440, "user_id": 1470196, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9c694e2ab1355a2bf0c204a04be1e0d?s=128&d=identicon&r=PG", "display_name": "mingle", "link": "https://stackoverflow.com/users/1470196/mingle"}, "edited": false, "score": 1, "creation_date": 1444256387, "post_id": 33003328, "comment_id": 53831724, "body": "@mingle Be sure to read up on <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/queries/#field-lookups\" rel=\"nofollow noreferrer\">field lookups</a>!"}, {"owner": {"reputation": 492, "user_id": 4698253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a37f4e261aa46b67fd2841da213c28e?s=128&d=identicon&r=PG&f=1", "display_name": "prawg", "link": "https://stackoverflow.com/users/4698253/prawg"}, "edited": false, "score": 1, "creation_date": 1444257626, "post_id": 33003328, "comment_id": 53832130, "body": "Or if you are looking for something case insensitive you can use <code>icontains</code>."}, {"owner": {"reputation": 852, "user_id": 953000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de50a81a9cedf20a04787c97c358ce9d?s=128&d=identicon&r=PG", "display_name": "Alex Carlos", "link": "https://stackoverflow.com/users/953000/alex-carlos"}, "edited": false, "score": 1, "creation_date": 1444262455, "post_id": 33003328, "comment_id": 53833530, "body": "As a plus add &quot;name_icontains&quot; so that its case insensitive."}], "tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": true, "score": 5, "last_activity_date": 1444304952, "last_edit_date": 1444304952, "creation_date": 1444256105, "answer_id": 33003328, "question_id": 33003314, "link": "https://stackoverflow.com/questions/33003314/python-django-partial-match-regular-expression/33003328#33003328", "title": "python django partial match regular expression", "body": "<p>You don't need a regex for a partial match, use <code>contains</code>:</p>\n\n<pre><code>queryset.filter(name__contains='partial')\n</code></pre>\n\n<p>Or when you need a case-insensitive match:</p>\n\n<pre><code>queryset.filter(name__icontains='partial')\n</code></pre>\n"}], "owner": {"reputation": 440, "user_id": 1470196, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d9c694e2ab1355a2bf0c204a04be1e0d?s=128&d=identicon&r=PG", "display_name": "mingle", "link": "https://stackoverflow.com/users/1470196/mingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3036, "favorite_count": 1, "accepted_answer_id": 33003328, "answer_count": 1, "score": 1, "last_activity_date": 1444304952, "creation_date": 1444256039, "question_id": 33003314, "link": "https://stackoverflow.com/questions/33003314/python-django-partial-match-regular-expression", "title": "python django partial match regular expression", "body": "<p>So i want to filter a queryset and get all objects that have a partial match to a word</p>\n\n<pre><code>queryset.filter(name=r'regex')\n</code></pre>\n\n<p>search term = app</p>\n\n<ul>\n<li>apple = true</li>\n<li>application = true</li>\n<li>aptitude = false</li>\n<li>stuff = false</li>\n<li>pineapple = true</li>\n</ul>\n\n<p>I am really bad with regex any help would be greatly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1444257492, "post_id": 33003303, "comment_id": 53832094, "body": "Welcome to StackOverflow.  Please follow <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> when you post.  We need a clear description of the problem, including your present code, the incorrect operation, and what you <i>want</i> to happen."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "edited": false, "score": 0, "creation_date": 1444303420, "post_id": 33003659, "comment_id": 53851728, "body": "it does, I was thinking along that line but it seemed &quot;complicated&quot;, I tried playing around with generators to make the code more &quot;pretty&quot;. I&#39;ll write some code and update how it goes."}, {"owner": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "edited": false, "score": 0, "creation_date": 1444336622, "post_id": 33003659, "comment_id": 53873380, "body": "I have a few lines of code in.. I got to the part where I&#39;m a specific point at the tree where I need to start &quot;processing&quot;, for now I&#39;m printing: \tfor item in next(listDir): \t\tprint item  tekiya1 file1.txt folder3 folder2 file2.txt folder1 file3.txt  from here I will need to leave only the folders (still working on that) and the put the folder in a set (simple constructor should do), then how do I sort by prefix?  regex? that&#39;s kinda advanced for me  your help is most appreciated."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "edited": false, "score": 0, "creation_date": 1444398900, "post_id": 33003659, "comment_id": 53900915, "body": "&lt;list_name&gt;.sort will sort a list of strings.  Since the prefix is in front and fixed-length, that should do it."}, {"owner": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "edited": false, "score": 0, "creation_date": 1445852380, "post_id": 33003659, "comment_id": 54480680, "body": "took me some time but I managed to do some progress, this is the actual output I&#39;m getting from the sorted list: [&#39;anotherfile&#39;, &#39;file1&#39;, &#39;folder1&#39;, &#39;folder2&#39;, &#39;folder3&#39;, &#39;stamfile&#39;]  Seems I&#39;m having trouble explaining myself.. in the above example I have some unique folder names and then I have folder1/2/3 - my goal is for folder1/2/3 check which is the newest one and delete the others - I know how to do that, what I don&#39;t know is how do I single folder1/2/3 out from the rest of the list, or in other words, for all folders like &quot;folder&quot; ... run a function that checks what i described above."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "edited": false, "score": 0, "creation_date": 1445868431, "post_id": 33003659, "comment_id": 54490860, "body": "Please edit your original description to contain the updates to the problem description.  Look up the string processing functions for the various ways to identify strings by content.  The easiest is the &quot;in&quot; operator, such as /// if &quot;folder&quot; in file_name:"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1444257916, "creation_date": 1444257916, "answer_id": 33003659, "question_id": 33003303, "link": "https://stackoverflow.com/questions/33003303/delete-older-folder-with-similar-name-using-python/33003659#33003659", "title": "delete older folder with similar name using python", "body": "<p>Since you have no code, I assume that you're looking for design help.  I'd lead my students to something like:</p>\n\n<pre><code>Make a list of the names\nFrom each name, find the prefix, such as \"moduleA.  Put those in a set.\nFor each prefix in the set\n    Find all names with that prefix; put these in a temporary list\n    Sort this list.\n    For each file in this list *except* the last (newest)\n        delete the file\n</code></pre>\n\n<p>Does this get you moving?</p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "is_accepted": false, "score": 0, "last_activity_date": 1456845300, "creation_date": 1456845300, "answer_id": 35726578, "question_id": 33003303, "link": "https://stackoverflow.com/questions/33003303/delete-older-folder-with-similar-name-using-python/35726578#35726578", "title": "delete older folder with similar name using python", "body": "<p>I'm posting the code (answer) here, I suppose my question wasn't clear since I'm getting minus signs but anyway the solution wasn't as straight forward as I thought, I'm sure the code could use some fine tuning but it get's the job done.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport os\nimport sys\nimport fnmatch\nimport glob\nimport re\nimport shutil\n\n\n##########################################################################################################\n#Remove the directory\ndef remove(path):\n\n    try:\n        shutil.rmtree(path)\n        print \"Deleted : %s\" % path\n    except OSError:\n        print OSError\n        print \"Unable to remove folder: %s\" % path\n\n##########################################################################################################\n#This function will look for the .sh files in a given path and returns them as a list.\ndef searchTreeForSh(path):\n\n    full_path = path+'*.sh'\n    listOfFolders = glob.glob(full_path)\n    return listOfFolders\n\n##########################################################################################################\n#Gets the full path to files containig .sh and returns a list of folder names (prefix) to be acted upon.\n#listOfScripts is a list of full paths to .sh file\n#dirname is the value that holds the root directory where listOfScripts is operating in\ndef getFolderNames(listOfScripts):\n\n    listOfFolders = []\n    folderNames = []\n\n    for foldername in listOfScripts:\n        listOfFolders.append(os.path.splitext(foldername)[0])\n\n    for folders in listOfFolders:\n        folder = folders.split('/')\n        foldersLen=len(folder)\n        folderNames.append(folder[foldersLen-1])\n\n    folderNames.sort()\n    return folderNames\n\n##########################################################################################################\n\ndef minmax(items):\n    return max(items)\n##########################################################################################################\n#This function will check the latest entry in the tuple provided, and will then send \"everything\" to the remove function except that last entry\ndef sortBeforeDelete(statDir, t):\n\n    count = 0\n\n    tuple(statDir)\n\n    timeNotToDelete = minmax(statDir)\n\n    for ff in t:\n        if t[count][1] == timeNotToDelete:\n            count += 1\n            continue\n        else:\n            remove(t[count][0])\n            count += 1\n\n##########################################################################################################\n#A loop to run over the fullpath which is broken into items (see os.listdir above), elemenates the .sh and the .txt files, leaves only folder names, then matches it to one of the\n#name in the \"folders\" variable\n\ndef coolFunction(folderNames, path):\n\n    localPath = os.listdir(path)\n\n    for folder in folderNames:\n\n        t = () # a tuple to act as sort of a dict, it will hold the folder name and it's equivalent st_mtime\n        statDir = [] # a list that will hold the st_mtime for all the folder names in subDirList\n\n        for item in localPath:\n            if os.path.isdir(path + item) == True:\n                if re.search(folder, item):\n                    mtime = os.stat(path + '/' + item)\n                    statDir.append(mtime.st_mtime)\n                    t = t + ((path + item,mtime.st_mtime),)# the \",\" outside the perenthasis is how to make t be a list of lists and not set the elements one after theother.\n\n        if t == ():continue\n\n        sortBeforeDelete(statDir, t)\n\n##########################################################################################################\n\ndef main(path):\n    dirs = os.listdir(path)\n    for component in dirs:\n        if os.path.isdir(component) == True:\n            newPath = path + '/' + component + '/'\n            listOfFolders= searchTreeForSh(newPath)\n            folderNames = getFolderNames(listOfFolders)\n            coolFunction(folderNames, newPath)\n\n\n##########################################################################################################\n\n\nif __name__ == \"__main__\":\n    main(sys.argv[1])\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 4193107, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-4AV-AyWS1MY/AAAAAAAAAAI/AAAAAAAABJk/OZOV2G8qNNQ/photo.jpg?sz=128", "display_name": "Naim Salameh", "link": "https://stackoverflow.com/users/4193107/naim-salameh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1456845300, "creation_date": 1444255983, "last_edit_date": 1444260697, "question_id": 33003303, "link": "https://stackoverflow.com/questions/33003303/delete-older-folder-with-similar-name-using-python", "title": "delete older folder with similar name using python", "body": "<p>I need to iterate over a folder tree.  I have to check each subfolder, which looks like this:</p>\n\n<pre><code>moduleA-111-date\nmoduleA-112-date\nmoduleA-113-date\nmoduleB-111-date\nmoduleB-112-date\netc.\n</code></pre>\n\n<p>I figured out how to iterate over a folder tree.  I can also use <strong>stat</strong> with <strong>mtime</strong> to get the date of the folder which seems easier than parsing the name of the date.</p>\n\n<p>How do I single out modules with the same prefix (such as \"moduleA\") and  compare their <strong>mtime</strong>'s so I can delete the oldest?</p>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444255664, "post_id": 33003211, "comment_id": 53831421, "body": "your indent for the <code>dict[n] = squares</code> line is wrong"}], "answers": [{"comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444255720, "post_id": 33003237, "comment_id": 53831439, "body": "he wants a dictionary mapping the original number to its square, not a separate list"}, {"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444255816, "post_id": 33003237, "comment_id": 53831478, "body": "@RNar this is dictionary comprehension doing exactly what you/OP described. no lists are involved."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444255854, "post_id": 33003237, "comment_id": 53831497, "body": "sorry, didnt realize the <code>i:i*i</code>. thought it was just a list comprehension"}], "tags": [], "owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "is_accepted": false, "score": 4, "last_activity_date": 1444414947, "last_edit_date": 1444414947, "creation_date": 1444255663, "answer_id": 33003237, "question_id": 33003211, "link": "https://stackoverflow.com/questions/33003211/python-2-7-how-would-i-go-about-creating-a-dictionary-that-maps-the-first-n-num/33003237#33003237", "title": "Python 2.7: How would I go about creating a dictionary that maps the first n numbers to their respective squares or cubes?", "body": "<p>The parameter of <code>range()</code> should be <code>n</code>, because the dictionary is probably empty when you begin.\nAlso, <code>dict</code> is a builtin type in python and you shouldn't name your variables this way.</p>\n\n<pre><code>squares = {i:i*i for i in xrange(n)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 2, "last_activity_date": 1444255852, "creation_date": 1444255852, "answer_id": 33003276, "question_id": 33003211, "link": "https://stackoverflow.com/questions/33003211/python-2-7-how-would-i-go-about-creating-a-dictionary-that-maps-the-first-n-num/33003276#33003276", "title": "Python 2.7: How would I go about creating a dictionary that maps the first n numbers to their respective squares or cubes?", "body": "<pre><code>dict={}\nfor i in range(n):\n    dict[i]=i*i\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1444256783, "post_id": 33003345, "comment_id": 53831854, "body": "Why not a dictionary comprehension?  <code>squares = {n:n*n for n in range(100)}</code>  BTW, you copied a couple of the OP&#39;s mistakes.  <code>dict</code> doesn&#39;t have a length before it&#39;s constructed, and you shouldn&#39;t overwrite the built-in &#39;dict&#39;. :-)"}], "tags": [], "owner": {"reputation": 499, "user_id": 5414176, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0d5a1a1b00f75d44e8651e84e620d09a?s=128&d=identicon&r=PG&f=1", "display_name": "Alon", "link": "https://stackoverflow.com/users/5414176/alon"}, "is_accepted": false, "score": -1, "last_activity_date": 1444256189, "creation_date": 1444256189, "answer_id": 33003345, "question_id": 33003211, "link": "https://stackoverflow.com/questions/33003211/python-2-7-how-would-i-go-about-creating-a-dictionary-that-maps-the-first-n-num/33003345#33003345", "title": "Python 2.7: How would I go about creating a dictionary that maps the first n numbers to their respective squares or cubes?", "body": "<p>It's not clear from the question whether <code>dict</code> already contains values. Also I'm not sure why you're skipping <code>n==0</code>.</p>\n\n<p>Assuming you have a list <code>dict</code> with a certain length, your code should work for all values except the first (which you're skipping), except that your last line is not indented, so it's not run inside the loop. This should do it:</p>\n\n<pre><code>for n in range(len(dict)): \n    dict[n]=n*n\n</code></pre>\n\n<p>Anyway I recommend a list comprehension to do this:</p>\n\n<pre><code>dict = [n*n for n in len(dict)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5765, "user_id": 7619808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHvtS.png?s=128&g=1", "display_name": "logankilpatrick", "link": "https://stackoverflow.com/users/7619808/logankilpatrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1509980884, "creation_date": 1509980884, "answer_id": 47139971, "question_id": 33003211, "link": "https://stackoverflow.com/questions/33003211/python-2-7-how-would-i-go-about-creating-a-dictionary-that-maps-the-first-n-num/47139971#47139971", "title": "Python 2.7: How would I go about creating a dictionary that maps the first n numbers to their respective squares or cubes?", "body": "<pre><code>squares={}\n\nfor r in range(int(n) + 1):\n     if r == 0:\n         pass;\n     else:\n         squares[r] = (r * r)\n</code></pre>\n\n<p>This code will create a dictionary, look through all of the values up to n, and add the square tot he dictionary at index \"r\"! This code fulfills all of the requirements you asked for! Let me know if you have any questions! </p>\n"}], "owner": {"reputation": 159, "user_id": 5082420, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/20d17d2d36798052e4e187f9f144a396?s=128&d=identicon&r=PG&f=1", "display_name": "readytotaste", "link": "https://stackoverflow.com/users/5082420/readytotaste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2271, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1509980884, "creation_date": 1444255547, "question_id": 33003211, "link": "https://stackoverflow.com/questions/33003211/python-2-7-how-would-i-go-about-creating-a-dictionary-that-maps-the-first-n-num", "title": "Python 2.7: How would I go about creating a dictionary that maps the first n numbers to their respective squares or cubes?", "body": "<p>I currently have this piece of code (for squares), but it doesn't seem to be working correctly:</p>\n\n<pre><code>    for n in range(len(dict)): \n       if n == 0:\n          pass\n       else:\n          squares = (n*n)\n    dict[n]=squares\n</code></pre>\n"}, {"tags": ["python", "design-patterns", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": false, "score": 10, "last_activity_date": 1564675406, "last_edit_date": 1564675406, "creation_date": 1444267199, "answer_id": 33005066, "question_id": 33003178, "link": "https://stackoverflow.com/questions/33003178/nested-blueprints-in-flask/33005066#33005066", "title": "Nested Blueprints in Flask?", "body": "<p>Unfortunately, nested blueprints are not a current feature in Flask.  You'll have to do it manually.  You could probably code something that works for your specific case, but a general solution has not been added to Flask.  There has been some discussion on the issue tracker:</p>\n\n<ul>\n<li><a href=\"https://github.com/mitsuhiko/flask/issues/593\" rel=\"nofollow noreferrer\">https://github.com/mitsuhiko/flask/issues/593</a></li>\n<li><a href=\"https://github.com/mitsuhiko/flask/issues/1548\" rel=\"nofollow noreferrer\">https://github.com/mitsuhiko/flask/issues/1548</a></li>\n<li><a href=\"https://github.com/pallets/flask/issues/3215\" rel=\"nofollow noreferrer\">https://github.com/pallets/flask/issues/3215</a></li>\n</ul>\n\n<hr>\n\n<p>Adding nestable blueprints into Flask is not as trivial as automatically appending a prefix to routes. There are many other features of blueprints that need to be considered when nesting that make a general implementation significantly more complicated. The reason this has not been implemented yet is that no one in the community has had a great enough need for it that wasn't solved by a quick workaround vs contributing a general implementation.</p>\n"}, {"comments": [{"owner": {"reputation": 5324, "user_id": 2670775, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/D7vOJ.jpg?s=128&g=1", "display_name": "harveyslash", "link": "https://stackoverflow.com/users/2670775/harveyslash"}, "edited": false, "score": 0, "creation_date": 1519356021, "post_id": 36326234, "comment_id": 84888134, "body": "this method fails to work with @blueprint_name.before_request"}], "tags": [], "owner": {"reputation": 6128, "user_id": 742173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VDHPX.jpg?s=128&g=1", "display_name": "Abhishek Gupta", "link": "https://stackoverflow.com/users/742173/abhishek-gupta"}, "is_accepted": false, "score": 6, "last_activity_date": 1459407465, "creation_date": 1459407465, "answer_id": 36326234, "question_id": 33003178, "link": "https://stackoverflow.com/questions/33003178/nested-blueprints-in-flask/36326234#36326234", "title": "Nested Blueprints in Flask?", "body": "<p>I made a class called <code>NestedBlueprint</code> to hack it.</p>\n\n<pre><code>class NestedBlueprint(object):\n    def __init__(self, blueprint, prefix):\n        super(NestedBlueprint, self).__init__()\n        self.blueprint = blueprint\n        self.prefix = '/' + prefix\n\n    def route(self, rule, **options):\n        rule = self.prefix + rule\n        return self.blueprint.route(rule, **options)\n</code></pre>\n\n<p>Here is my base file which contains the blueprint: <code>panel/__init__.py</code></p>\n\n<pre><code>from flask import Blueprint\n\npanel_blueprint = Blueprint(PREFIX, __name__, url_prefix='/panel')\n\nfrom . import customize\n</code></pre>\n\n<p>Here is the specific/nested file which contains nested blueprint: <code>panel/customize.py</code></p>\n\n<pre><code>from rest.api.panel import panel_blueprint\nfrom rest.api.util.nested_blueprint import NestedBlueprint\n\nnested_blueprint = NestedBlueprint(panel_blueprint, 'customize')\n\n\n@nested_blueprint.route('/test', methods=['GET'])\ndef test():\n    return ':)'\n</code></pre>\n\n<p>You can then call like this:</p>\n\n<pre><code>$ curl http://localhost:5000/panel/customize/test\n:)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7009, "user_id": 198062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2906955ae59c795275979d3782d7bfca?s=128&d=identicon&r=PG", "display_name": "Murat &#199;orlu", "link": "https://stackoverflow.com/users/198062/murat-%c3%87orlu"}, "is_accepted": false, "score": 3, "last_activity_date": 1518996023, "creation_date": 1518996023, "answer_id": 48857676, "question_id": 33003178, "link": "https://stackoverflow.com/questions/33003178/nested-blueprints-in-flask/48857676#48857676", "title": "Nested Blueprints in Flask?", "body": "<p>Here is my workaround:</p>\n\n<p>When importing a blueprint, I define my nested routes:</p>\n\n<pre><code>app.register_blueprint(product_endpoints, url_prefix='/sites/&lt;int:site_id&gt;/menus/&lt;int:menu_id&gt;/categories/&lt;int:category_id&gt;/products/&lt;int:product_id&gt;')\napp.register_blueprint(category_endpoints, url_prefix='/sites/&lt;int:site_id&gt;/menus/&lt;int:menu_id&gt;/categories/&lt;int:category_id&gt;')\napp.register_blueprint(menu_endpoints, url_prefix='/sites/&lt;int:site_id&gt;/menus/&lt;int:menu_id&gt;')\napp.register_blueprint(site_endpoints, url_prefix='/sites/&lt;int:site_id&gt;')\n</code></pre>\n\n<p>And inside the blueprints, I'm reusing route parse functions. For example, in the <code>product_endpoints</code> file:</p>\n\n<pre><code>from category_endpoints import get_category_data\n\nproduct_endpoints = Blueprint('product_endpoints', __name__)\n\n@product_endpoints.url_value_preprocessor\ndef get_product_data(endpoint, values):\n    if 'category_id' in values:\n        get_category_data(endpoint, values)\n\n    product = Product.get_by_id(int(values.pop('product_id')))\n\n    if not product:\n        abort(404)\n\n    g.product = product\n</code></pre>\n\n<p>and in <code>category_endpoints</code> file:</p>\n\n<pre><code>from menu_endpoints import get_menu_data\n\ncategory_endpoints = Blueprint('category_endpoints', __name__)\n\n@category_endpoints.url_value_preprocessor\ndef get_category_data(endpoint, values):\n    if 'menu_id' in values:\n        get_menu_data(endpoint, values)\n    category = ProductCategory.get_by_id(int(values.pop('category_id')))\n\n    if not category:\n        abort(404)\n\n    g.category = category\n</code></pre>\n\n<p>etc... With that approach, my blueprint is also usable with direct routes like <code>/products/&lt;int:product_id&gt;</code>.</p>\n\n<p>This approach worked for me very well. I hope it can also help you.</p>\n"}], "owner": {"reputation": 1213, "user_id": 1775059, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/03090d65791fc86de4085ff4dd49cc3a?s=128&d=identicon&r=PG&f=1", "display_name": "JaredL", "link": "https://stackoverflow.com/users/1775059/jaredl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12612, "favorite_count": 4, "answer_count": 3, "score": 15, "last_activity_date": 1564675406, "creation_date": 1444255405, "question_id": 33003178, "link": "https://stackoverflow.com/questions/33003178/nested-blueprints-in-flask", "title": "Nested Blueprints in Flask?", "body": "<p>I'm still new to Flask, so there may be an obvious way to accomplish this, but I haven't been able to figure it out so far from the documentation. My app is divided into several mostly disparate parts that share things like users/sessions/security and base template and everything but mostly do not interact much, and should be routed under different paths like <code>/part1/...</code>. I think this is pretty much exactly what blueprints are for. But what if I need to group routes and logic further under a blueprint?</p>\n\n<p>For example, I have <code>blueprint1</code> with <code>url_prefix='/blueprint1'</code> and maybe under that I want to have a collection of views revolving around a user sharing photos and other users commenting on them. I can't think of a better way of doing it than:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># app/blueprints/blueprint1/__init__.py\n\nblueprint1 = Blueprint('blueprint1', __name__, template_folder='blueprint1')\n\n@blueprint1.route('/photos')\ndef photos_index():\n    return render_template('photos/index.html')\n\n@blueprint.route('/photos/&lt;int:photo_id&gt;')\ndef photos_show(photo_id):\n    photo = get_a_photo_object(photo_id)\n    return render_template('photos/show.html', photo=photo)\n\n@blueprint.route('/photos', methods=['POST'])\ndef photos_post():\n    ...\n</code></pre>\n\n<p>The problem here is that all the views related to the photos section of <code>blueprint1</code> are located at the \"top level,\" right with maybe blueprints for videos or audio or whatever (named <code>videos_index()</code>...). Is there any way to group them in a more hierarchical manner, like how the templates go under the <code>'blueprint1/photos'</code> sub-directory? Of course I can put all the photo views in their own module to keep them organized separately, but what if I want to change the parent <code>'blueprint1/photos'</code> path to something else? I'm sure I can invent a function or decorator that groups related routes under the same root path, but then I still have to name all the functions with the <code>photos_</code> prefix and reference them like <code>url_for('blueprint1.photos_show')</code> It seems like blueprints are the answer when a Flask app gets large and you need to group and compartmentalize similar parts together, but you cannot do the same thing when the blueprints themselves get large.</p>\n\n<p>For reference, in Laravel you can group related \"views\" under a <code>Controller</code> class where the views are methods. Controllers can reside in hierarchical namespaces like <code>app\\Http\\Controllers\\Blueprint1\\Photocontroller</code>, routes can be grouped together like</p>\n\n<pre><code>Route::group(['prefix' =&gt; 'blueprint1'], function() {\n\n    Route::group(['prefix' =&gt; 'photos'], function() {\n\n        Route::get('/', ['as' =&gt; 'blueprint.photos.index', 'uses' =&gt; 'ModelApiController@index']);\n        Route::post('/', ['as' =&gt; 'blueprint.photos.store', 'uses' =&gt; 'ModelApiController@store']);\n        Route::get('/{id}', ['as' =&gt; 'blueprint.photos.get', 'uses' =&gt; 'ModelApiController@get'])\n            -&gt;where('id', '[0-9]+');\n\n    });\n\n});\n</code></pre>\n\n<p>and routes can be gotten like <code>action('Blueprint1\\PhotoController@index')</code>.</p>\n\n<p>If only I could make a photos blueprint, then just do <code>blueprint1.register_blueprint(photos_blueprint, url_prefix='/photos')</code> or the like, these problems would pretty much be solved. Unfortunately Flask does not seem to support nesting blueprints like this. Is there an alternative way to handle this problem?</p>\n"}, {"tags": ["python", "django", "python-2.7", "image-uploading", "cloudinary"], "comments": [{"owner": {"reputation": 6185, "user_id": 2996101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2f6dc29829d698cb1f763a6da99bb48?s=128&d=identicon&r=PG", "display_name": "raratiru", "link": "https://stackoverflow.com/users/2996101/raratiru"}, "edited": false, "score": 1, "creation_date": 1475620455, "post_id": 33003173, "comment_id": 67013573, "body": "Indeed thank you a million. This question is the explanation of the invaluable <code>upload_resource</code> that -after a year- only this post explains."}, {"owner": {"reputation": 13268, "user_id": 258755, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/WDOo4.jpg?s=128&g=1", "display_name": "djq", "link": "https://stackoverflow.com/users/258755/djq"}, "reply_to_user": {"reputation": 6185, "user_id": 2996101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2f6dc29829d698cb1f763a6da99bb48?s=128&d=identicon&r=PG", "display_name": "raratiru", "link": "https://stackoverflow.com/users/2996101/raratiru"}, "edited": false, "score": 0, "creation_date": 1477685487, "post_id": 33003173, "comment_id": 67882249, "body": "Right! It&#39;s shocking this is not explained in their docs."}], "answers": [{"tags": [], "owner": {"reputation": 13268, "user_id": 258755, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/WDOo4.jpg?s=128&g=1", "display_name": "djq", "link": "https://stackoverflow.com/users/258755/djq"}, "is_accepted": false, "score": 0, "last_activity_date": 1444332704, "creation_date": 1444332704, "answer_id": 33024442, "question_id": 33003173, "link": "https://stackoverflow.com/questions/33003173/linking-a-cloudinary-image-upload-to-a-django-model-field/33024442#33024442", "title": "Linking a Cloudinary image upload to a Django model field", "body": "<p>I contacted Cloudinary support, linked to this question and their answer was as follows:</p>\n\n<blockquote>\n  <p>Did you read thoroughly the documentation? Specifically the Python\n  models topic is discussed here:\n  <a href=\"http://cloudinary.com/documentation/django_image_upload#django_forms_and_models\" rel=\"nofollow\">http://cloudinary.com/documentation/django_image_upload#django_forms_and_models</a></p>\n</blockquote>\n\n<p>My conclusion is that Cloudinary does not support the functionality I desire which surprises me as it seems quite basic. </p>\n\n<p>So, I guess I can make a form, fake a request with the data in it so that I can upload a file to associate it with a model. This seems a but crazy but I can't see what the alternative is.</p>\n"}, {"comments": [{"owner": {"reputation": 6185, "user_id": 2996101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2f6dc29829d698cb1f763a6da99bb48?s=128&d=identicon&r=PG", "display_name": "raratiru", "link": "https://stackoverflow.com/users/2996101/raratiru"}, "edited": false, "score": 0, "creation_date": 1475542336, "post_id": 33058626, "comment_id": 66974769, "body": "Awesome, I need to manually save a model ... I have digged the docs and the source <code>__doc__</code> for hours ... this <code>upload_resource</code> is explained only here. Wow!"}, {"owner": {"reputation": 686, "user_id": 1458482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68b075bf50cd46ccadd444a3afbbc8db?s=128&d=identicon&r=PG", "display_name": "Zerkz", "link": "https://stackoverflow.com/users/1458482/zerkz"}, "edited": false, "score": 0, "creation_date": 1547585136, "post_id": 33058626, "comment_id": 95239760, "body": "<code>upload_resource</code> works for local files too, they don&#39;t have to be hosted."}], "tags": [], "owner": {"reputation": 748, "user_id": 4886882, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Hx2xCQKplP4/AAAAAAAAAAI/AAAAAAAAAB4/VcGaUyeQUcA/photo.jpg?sz=128", "display_name": "Nadav Ofir", "link": "https://stackoverflow.com/users/4886882/nadav-ofir"}, "is_accepted": true, "score": 6, "last_activity_date": 1444508698, "creation_date": 1444508698, "answer_id": 33058626, "question_id": 33003173, "link": "https://stackoverflow.com/questions/33003173/linking-a-cloudinary-image-upload-to-a-django-model-field/33058626#33058626", "title": "Linking a Cloudinary image upload to a Django model field", "body": "<p>Try to use the following:</p>\n\n<pre><code>user.logo = cloudinary.uploader.upload_resource(\"https://url/to/logo/logo.png\")\n</code></pre>\n\n<p>this should do the trick. </p>\n"}], "owner": {"reputation": 13268, "user_id": 258755, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/WDOo4.jpg?s=128&g=1", "display_name": "djq", "link": "https://stackoverflow.com/users/258755/djq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2018, "favorite_count": 2, "accepted_answer_id": 33058626, "answer_count": 2, "score": 6, "last_activity_date": 1444508698, "creation_date": 1444255380, "last_edit_date": 1444366677, "question_id": 33003173, "link": "https://stackoverflow.com/questions/33003173/linking-a-cloudinary-image-upload-to-a-django-model-field", "title": "Linking a Cloudinary image upload to a Django model field", "body": "<p>I've read through the Cloudinary Django <a href=\"http://cloudinary.com/documentation/django_image_upload#all_upload_options\" rel=\"noreferrer\">docs</a> and many StackOverflow questions and I'm still struggling with this basic problem. I want to upload an image as part of a data migration to a Cloudinary model field (of class <code>CloudinaryField</code>)</p>\n\n<p>My model is defined in the following way:</p>\n\n<pre><code># model definition\nfrom cloudinary.models import CloudinaryField\nfrom django.contrib.gis.db import models\n\nclass UserProfile(models.Model):\n    name = models.CharField(max_length=200)\n    logo = CloudinaryField(blank=True, null=True)\n</code></pre>\n\n<p>This model works fine, and I can upload an image via the admin without problems, and access it in my template.</p>\n\n<p>I want to write a data migration so that I can upload many images to this model. My non-functioning migration is structured like so: </p>\n\n<pre><code># migration file to upload logos\nimport cloudinary\n\n# get all user instances\nusers = UserProfile.objects.all()\n\n# loop through users, and update logo\nfor user in users:\n    user.logo = cloudinary.uploader.upload(\"https://url/to/logo/logo.png\")\n    user.save()\n</code></pre>\n\n<p>I know that if I use <code>cloudinary.uploader.upload(\"image.png\")</code> I get back something like this:</p>\n\n<pre><code>{u'secure_url': u'https://res.cloudinary.com/mysite/image/upload/111/111.png', u'public_id': 111', u'format': u'png', u'url': u'http://res.cloudinary.com/mysite/image/upload/v1444253137/111.png', u'created_at': u'2015-10-07T21:25:37Z', u'tags': [], u'bytes': 7974, u'height': 35, u'width': 290, u'version': 1444253137, u'etag': u'aaa', u'original_filename': u'logo', u'signature': u'111', u'type': u'upload', u'resource_type': u'image'}\n</code></pre>\n\n<p>I cannot figure out if relating the uploaded file to the model field is possible, using Cloudinary. All of the docs (and example code) do not show how to relate the uploaded response to a model field. There are examples that use a webform, but I'd prefer to avoid this if possible.</p>\n"}, {"tags": ["python", "matlab", "matrix", "julia"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 3, "creation_date": 1444255567, "post_id": 33003153, "comment_id": 53831371, "body": "Matlab? Python? Julia? Which one?"}, {"owner": {"reputation": 95, "user_id": 4355786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9600efedb2b86ab666a54ac50849d984?s=128&d=identicon&r=PG", "display_name": "user199027", "link": "https://stackoverflow.com/users/4355786/user199027"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1444256035, "post_id": 33003153, "comment_id": 53831574, "body": "I do not have preferences. At first, I put only <code>matrix</code> but then I said I should tag a programming language. Should I keep only one?"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1444256083, "post_id": 33003153, "comment_id": 53831596, "body": "Well you probably need an algorithm, so you might drop them all. Anyway, you now have a python and a matlab solution, so you should stick with those now."}, {"owner": {"reputation": 95, "user_id": 4355786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9600efedb2b86ab666a54ac50849d984?s=128&d=identicon&r=PG", "display_name": "user199027", "link": "https://stackoverflow.com/users/4355786/user199027"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1444256223, "post_id": 33003153, "comment_id": 53831653, "body": "Thank you for your suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 15917, "user_id": 5211833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=128&g=1", "display_name": "Adriaan", "link": "https://stackoverflow.com/users/5211833/adriaan"}, "edited": false, "score": 0, "creation_date": 1444255801, "post_id": 33003194, "comment_id": 53831473, "body": "Just noting the OPs tags: perhaps you should mention that this is not C++ ;)"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1444256022, "post_id": 33003194, "comment_id": 53831571, "body": "Another option would be to generate the data element by element, generating <code>matrix(i,j)=rand()*(1-sum(matrix(i,1:j-1))</code> and the same for columns..."}, {"owner": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444256347, "post_id": 33003194, "comment_id": 53831707, "body": "Oops. Multiple languages. Edited. About generating that way: the resulting distribution wouldn&#39;t be uniform on the space of matrices. Then again, not sure if the OP wants uniform"}], "tags": [], "owner": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "is_accepted": true, "score": 7, "last_activity_date": 1444256362, "last_edit_date": 1444256362, "creation_date": 1444255466, "answer_id": 33003194, "question_id": 33003153, "link": "https://stackoverflow.com/questions/33003153/how-to-generate-a-matrix-with-random-entries-and-with-constraints-on-row-and-col/33003194#33003194", "title": "How to generate a matrix with random entries and with constraints on row and columns?", "body": "<p>If you want a matrix that is <em>uniformly distributed</em> and fulfills those constraints, you probably need a <em>rejection method</em>. In Matlab it would be:</p>\n\n<pre><code>n = 3;\ndone = false;\nwhile ~done\n    matrix = rand(n);\n    done = all(sum(matrix,1)&lt;=1) &amp; all(sum(matrix,2)&lt;=1);\nend\n</code></pre>\n\n<p>Note that this will be slow for large <code>n</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444256441, "post_id": 33003317, "comment_id": 53831741, "body": "@LuisMendo - NumPy is the easiest way to transition from MATLAB :D Divakar will tell you!  I&#39;m also writing a solution without it."}, {"owner": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444256472, "post_id": 33003317, "comment_id": 53831753, "body": "I know, I know... Some day... :-)"}], "tags": [], "owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "is_accepted": false, "score": 5, "last_activity_date": 1444257054, "last_edit_date": 1444257054, "creation_date": 1444256048, "answer_id": 33003317, "question_id": 33003153, "link": "https://stackoverflow.com/questions/33003153/how-to-generate-a-matrix-with-random-entries-and-with-constraints-on-row-and-col/33003317#33003317", "title": "How to generate a matrix with random entries and with constraints on row and columns?", "body": "<p>If you're looking for a Python way, this is simply a transcription of Luis Mendo's rejection method.  For simplicity, I'll be using NumPy:</p>\n\n<pre><code>import numpy as np\nn = 3\ndone = False\n\nwhile not done:\n    matrix = np.random.rand(n,n)\n    done = np.all(np.logical_and(matrix.sum(axis=0) &lt;= 1, matrix.sum(axis=1) &lt;= 1))\n</code></pre>\n\n<hr>\n\n<p>If you don't have NumPy, then you can generate your 2D matrix as a list of lists instead:</p>\n\n<pre><code>import random \nn = 3\ndone = False\n\nwhile not done:\n\n    # Create matrix as a list of lists\n    matrix = [[random.random() for _ in range(n)] for _ in range(n)]\n\n    # Compute the row sums and check for each to be &lt;= 1\n    row_sums = [sum(matrix[i]) &lt;= 1 for i in range(n)]\n\n    # Compute the column sums and check for each to be &lt;= 1\n    col_sums = [sum([matrix[j][i] for j in range(n)]) &lt;= 1 for i in range(n)]\n\n    # Only quit of all row and column sums are less than 1\n    done = all(row_sums) and all(col_sums)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444256822, "post_id": 33003449, "comment_id": 53831873, "body": "But if the accumlated sum exceeds 1, that <code>(1-max(...))</code> will give a negative entry?"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444256970, "post_id": 33003449, "comment_id": 53831929, "body": "@LuisMendo, if I&#39;m not mistaken, it can&#39;t. That&#39;s why the generation is so convoluted: you constrain each element to stay between 0 and 1-&quot;sum of the previous guys in the row/column&quot;"}, {"owner": {"reputation": 106322, "user_id": 2586922, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/rFMSx.png?s=128&g=1", "display_name": "Luis Mendo", "link": "https://stackoverflow.com/users/2586922/luis-mendo"}, "edited": false, "score": 0, "creation_date": 1444257050, "post_id": 33003449, "comment_id": 53831956, "body": "Ah, I see. Yes, I agree"}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": false, "score": 3, "last_activity_date": 1444256718, "last_edit_date": 1495542575, "creation_date": 1444256718, "answer_id": 33003449, "question_id": 33003153, "link": "https://stackoverflow.com/questions/33003153/how-to-generate-a-matrix-with-random-entries-and-with-constraints-on-row-and-col/33003449#33003449", "title": "How to generate a matrix with random entries and with constraints on row and columns?", "body": "<p>The rejection method will surely give you a uniform solution, but it might take a long time to generate a good matrix, especially if your matrix is large. So another, but more tedious approach is to generate each element such that the sum can only be 1 in each direction. For this you always generate a new element between 0 <em>and the remainder until 1</em>:</p>\n\n<pre><code>n = 3\n\nmatrix = zeros(n+1); %dummy line in first row/column\nfor k1=2:n+1\nfor k2=2:n+1\n   matrix(k1,k2)=rand()*(1-max(sum(matrix(k1,1:k2-1)),sum(matrix(1:k1-1,k2))));\nend\nend\n\nmatrix = matrix(2:end,2:end)\n</code></pre>\n\n<p>It's a bit tricky because for each element you check the row-sum and column-sum until that point, and use the larger of the two for generating a new element (in order to stay below a sum of 1 in both directions). For practical reasons I padded the matrix with a zero line and column at the beginning to avoid indexing problems with <code>k1-1</code> and <code>k2-1</code>.</p>\n\n<p>Note that as <a href=\"https://stackoverflow.com/questions/33003153/how-to-generate-a-matrix-with-random-entries-and-with-constraints-on-row-and-col/33003449#comment53831707_33003194\">@LuisMendo</a> pointed out, this will have a different distribution as the rejection method. But if your constraints do not consider the distribution, this could do as well (and this will give you a matrix from a single run).</p>\n"}], "owner": {"reputation": 95, "user_id": 4355786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9600efedb2b86ab666a54ac50849d984?s=128&d=identicon&r=PG", "display_name": "user199027", "link": "https://stackoverflow.com/users/4355786/user199027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1643, "favorite_count": 0, "accepted_answer_id": 33003194, "answer_count": 3, "score": 2, "last_activity_date": 1444257054, "creation_date": 1444255273, "question_id": 33003153, "link": "https://stackoverflow.com/questions/33003153/how-to-generate-a-matrix-with-random-entries-and-with-constraints-on-row-and-col", "title": "How to generate a matrix with random entries and with constraints on row and columns?", "body": "<p>How to generate a matrix that its entries are random real numbers between zero and one inclusive with the additional constraint : The sum of each row must be less than or equal to one and the sum of each column must be less than or equal to one.</p>\n\n<p>Examples: </p>\n\n<pre><code>matrix = [0.3, 0.4, 0.2;\n          0.7, 0.0, 0.3; \n          0.0, 0.5, 0.1]\n</code></pre>\n"}, {"tags": ["python", "scrapy-spider"], "owner": {"reputation": 31, "user_id": 5420456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d3c6051356d679697c2ae936c2a4b4?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5420456/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493816852, "creation_date": 1444254993, "last_edit_date": 1444255312, "question_id": 33003079, "link": "https://stackoverflow.com/questions/33003079/web-scraping-with-authentication-using-python-and-scrapy-not-going-to-accordin", "title": "Web scraping with Authentication using python and scrapy - not going to according to plan", "body": "<p>I've just started to dabble in python with a purpose to scrape data from a website and I found a scrapy tutorial on website authentication and had a plan, but unfortunately it doesn't do what it says on the tin. the login page doesn't seem to get populated with the username or password, I hoped someone could take a look at the code and maybe point out where I am going wrong and offer some help.  Here is the code:-</p>\n\n<pre><code>from scrapy.spiders.init import InitSpider\nfrom scrapy.http import Request, FormRequest\nfrom scrapy.linkextractors.sgml import SgmlLinkExtractor\nfrom scrapy.spiders import Rule\n\nclass controlantSpider(InitSpider):\n    name = 'controlant'\n    allowed_domains = ['controlant.com']\n    login_page = 'https://grp.controlant.com/user/login?redirect=%2f'\n    start_urls = ['https://grp.controlant.com/group',\n                  'https://grp.controlant.com/webforms/Admin/Overview.aspx']\n\n    rules = (\n        Rule(SgmlLinkExtractor(allow=r'-\\w+.html$'),\n             callback='parse_item', follow=True),\n    )\n\n    def init_request(self):\n        \"\"\"This function is called before crawling starts.\"\"\"\n        return Request(url=self.login_page, callback=self.login)\n\n    def login(self, response):\n        \"\"\"Generate a login request.\"\"\"\n        return FormRequest.from_response(response,\n                    formdata={'username': 'username', 'password': 'password'},\n                    callback=self.check_login_response)\n\n    def check_login_response(self, response):\n        \"\"\"Check the response returned by a login request to see if we are\n        successfully logged in.\n        \"\"\"\n        if \"Hi wessex@alliance\" in response.body:\n            self.log(\"Successfully logged in. Let's start crawling!\")\n            # Now the crawling can begin..\n            self.initialized()\n        else:\n            self.log(\"Bad times :(\")\n            # Something went wrong, we couldn't log in, so nothing happens.\n\n    def parse_item(self, response):\n        filename = response.url.split(\"/\")[-2] + '.html'\n        with open(filename, 'wb') as f:\n            f.write(response.body)\n</code></pre>\n"}, {"tags": ["python", "multithreading", "sockets", "tcp"], "comments": [{"owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "edited": false, "score": 0, "creation_date": 1444255025, "post_id": 33003027, "comment_id": 53831160, "body": "I suggest you to start using TCP instead of UDP since it is an easier approach."}, {"owner": {"reputation": 2552, "user_id": 1244949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79313f5bc90c71f8ade2c446348db622?s=128&d=identicon&r=PG&f=1", "display_name": "WalterM", "link": "https://stackoverflow.com/users/1244949/walterm"}, "reply_to_user": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "edited": false, "score": 1, "creation_date": 1444255246, "post_id": 33003027, "comment_id": 53831253, "body": "@lilezek looks like tcp to me socket.socket(socket.AF_INET, socket.SOCK_STREAM)"}, {"owner": {"reputation": 117, "user_id": 3139767, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7cf7f66d68f559c4582f8ffa6190103c?s=128&d=identicon&r=PG&f=1", "display_name": "icehac", "link": "https://stackoverflow.com/users/3139767/icehac"}, "edited": false, "score": 0, "creation_date": 1444255850, "post_id": 33003027, "comment_id": 53831493, "body": "The only reason I believe the command &quot;sendto&quot; is related to udp in some manner, is the fact that most of the tutorials/documentation found online are related towards UDP specifically.  However, tcpdump on the machines show TCP communication only."}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1444265473, "post_id": 33003027, "comment_id": 53834365, "body": "It looks like your connectedUsers object is shared across multiple threads.  Given that, you need to serialize access to that object with a mutex or similar, otherwise you run the risk of one thread modifying the list while another one is reading from the list, which would cause unexpected behavior."}], "answers": [{"tags": [], "owner": {"reputation": 1565, "user_id": 5983760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q65sK.jpg?s=128&g=1", "display_name": "aghed aljlad", "link": "https://stackoverflow.com/users/5983760/aghed-aljlad"}, "is_accepted": false, "score": 1, "last_activity_date": 1469702777, "creation_date": 1469702777, "answer_id": 38634116, "question_id": 33003027, "link": "https://stackoverflow.com/questions/33003027/python-socket-multiple-clients/38634116#38634116", "title": "Python Socket - Multiple Clients", "body": "<p>the problem is that the client is listening to the keyboard input before listening to the server socket , the best way to solve this is by using <em>select()</em> which similar to <em>select()</em> in c \nhere is a good example <a href=\"https://pymotw.com/2/select/\" rel=\"nofollow\">https://pymotw.com/2/select/</a></p>\n"}], "owner": {"reputation": 117, "user_id": 3139767, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7cf7f66d68f559c4582f8ffa6190103c?s=128&d=identicon&r=PG&f=1", "display_name": "icehac", "link": "https://stackoverflow.com/users/3139767/icehac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469702777, "creation_date": 1444254777, "last_edit_date": 1444259836, "question_id": 33003027, "link": "https://stackoverflow.com/questions/33003027/python-socket-multiple-clients", "title": "Python Socket - Multiple Clients", "body": "<p>First as a disclaimer: I'm not the greatest at Python(or programming in general).  </p>\n\n<p>Having said that, I am having issues with Python Sockets.  I am trying to build a simple chat client/server program, however, I am unable to have the server send the corresponding message(s) received from one client's socket, to the rest of the connected clients.</p>\n\n<p>Here is the server code:</p>\n\n<pre><code>#!/usr/bin/python\nimport socket\nimport fnmatch\nimport thread\n\nserverSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n## Allow socket to be reused by application - doesn't force timeout.\nserverSocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\nhost = socket.gethostname()\nport = 9000\nserverSocket.bind((host,port))\n\nconnectedUsers = []\n\nserverSocket.listen(5)\n\n\ndef threadedClient(clientStream):\n        while True:\n                clientMessage = clientStream.recv(1024).decode()\n                print clientMessage\n                if \"Username:\" in clientMessage:\n                        username = clientMessage.replace(\"Username:\",\"\")\n                        print str(username) + \" has connected!\"\n                        connectedUsers.append(clientAddress)\n                        print str(username) + \"\" + str(clientAddress) + \" has connected to server\"\n                        for users in connectedUsers:\n                                clientStream.sendto(str(username) + \" has connected!\", users)\n                if \"Text:\" in clientMessage:\n                        receievedText = clientMessage.replace(\"Text:\",\"\")\n                        for users in connectedUsers:\n                                clientStream.sendto(receievedText.encode(), users)\n                                print \"Sending message \" + str(receievedText) +\" to:\" + str(users)\n                if not clientMessage:\n                        break\n\n\n\nwhile True:\n        clientStream, clientAddress = serverSocket.accept()\n        thread.start_new_thread(threadedClient,(clientStream,))\n</code></pre>\n\n<p>Here is the client code:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport socket\n\nclientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nhost = \"127.0.0.1\"\nport = 9000\n\nusername = raw_input(\"Please enter username: \")\n\nclientSocket.connect((host, port))\nclientSocket.send(\"Username:\" + username)\n\ndef receiveServerMessage():\n    serverMessage = clientSocket.recv(1024).decode()\n    print serverMessage + '\\n'\n\n\nwhile True:\n    receiveServerMessage()\n    command = raw_input(username + \" &gt; \")\n    if command != None:\n        clientSocket.send(\"Text:\" + str.encode(command))\n    if command == str(\"q\"):\n        exit()\nclientSocket.close()\n</code></pre>\n\n<p>The iteration seems to be awry when attempting to send the message to the other connected clients.  I'm not sure if \"sendto\" is the proper way of handling this situation...especially since I believe it is UDP based.  Any suggestions on how to handle socket stream correctly?</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 10298, "user_id": 2484720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/A5sYr.jpg?s=128&g=1", "display_name": "Woody Pride", "link": "https://stackoverflow.com/users/2484720/woody-pride"}, "edited": false, "score": 0, "creation_date": 1444257669, "post_id": 33003425, "comment_id": 53832150, "body": "Thanks, this helps. I am sure that my code is not valid kv, but how not? Right at the end I try to subclass label and pass <code>pos_hint: {&#39;x&#39; : 0.1, &#39;y&#39; : 0.25}</code> which to me, should place the label 10% across the x and 25% up the Y, but as you can see from the screen shot, the text &#39;1&#39; just ends up sort of in the middle. That is what I am not understanding."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 2, "last_activity_date": 1444256613, "creation_date": 1444256613, "answer_id": 33003425, "question_id": 33002993, "link": "https://stackoverflow.com/questions/33002993/are-kivy-layouts-essentially-widgets/33003425#33003425", "title": "Are Kivy Layouts Essentially Widgets?", "body": "<blockquote>\n  <p>Are Kivy Layouts Essentially Widgets?</p>\n</blockquote>\n\n<p>Layouts <em>are</em> widgets. The declaration of the Layout class is <code>class Layout(Widget):</code> etc.</p>\n\n<blockquote>\n  <p>where is the proper place to use the size_hint and pos_hint tags. Should it be at the widget level, or the layout level?</p>\n</blockquote>\n\n<p>It should be one level below whatever widget you're trying to set their value for. e.g.</p>\n\n<pre><code>BoxLayout:\n    orientation: 'vertical'  # this applies to the BoxLayout instance\n    FloatLayout:\n        size_hint_y: 0.75  # The FloatLayout will take 75% of the vertical space\n        Label:\n            pos_hint: {x: '0.5', y: '0.75'}  # The Label is placed 50% across the x axis, and 75% up the y axis\n            size_hint: None, None\n            size: 50, 50  # ...and has a fixed size\n            text: '!'\n    Button:\n        size_hint_y: 0.25\n</code></pre>\n\n<p>I can't comment on your specific example with a Label, because it's not valid kv and doesn't try to do the thing you says fails. If this doesn't answer things for you, provide a full example that doesn't do what you expect.</p>\n"}], "owner": {"reputation": 10298, "user_id": 2484720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/A5sYr.jpg?s=128&g=1", "display_name": "Woody Pride", "link": "https://stackoverflow.com/users/2484720/woody-pride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444256613, "creation_date": 1444254578, "question_id": 33002993, "link": "https://stackoverflow.com/questions/33002993/are-kivy-layouts-essentially-widgets", "title": "Are Kivy Layouts Essentially Widgets?", "body": "<p>I have a kivy app that I am (learning) to write. I am a bit confused about the layouts and when to use which ones. </p>\n\n<p>I have a base class  in a .kv file that then contains a number of layouts. Eventually these components will talk to each other and will be dynamically generated, but the first thing I wanted to do was just to get all the components on a screen to see if I could. </p>\n\n<p>In a structure like this:</p>\n\n<pre><code>&lt;MyApp&gt;\n    &lt;AnchorLayout&gt;\n        &lt;Widget1&gt;\n        &lt;Widget2&gt;\n    &lt;FloatLayout&gt;\n        &lt;Widget3&gt;\n        &lt;Widget4&gt;\n    &lt;Label&gt;\n        text: \"text here\"\n</code></pre>\n\n<p>where is the proper place to use the <code>size_hint</code> and <code>pos_hint</code> tags. Should it be at the widget level, or the layout level? If anyone can be bothered, the reason I am asking this is that in the following code, it seems that for the Label at the end, I have to position it manually, the pos_hint does nothing (I want it more or less 25% up the page on the left hand side). What am I missing?</p>\n\n<p><a href=\"https://i.stack.imgur.com/vTiMc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vTiMc.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code># File name: MagStripeApp.kv\n#:kivy 1.9.0\n\n&lt;MagStripeReader&gt;:\n    AnchorLayout:\n        anchor_x: 'left'\n        anchor_y: 'top'\n        HeaderBar:\n            id: _header_bar\n            size_hint: 1, 0.15\n    AnchorLayout:\n        anchor_x: 'center'\n        anchor_y: 'bottom'\n        SessionBar:\n            id: _session_bar\n            mag_stripe_reader: root\n            entry_box: _entry_box\n            size_hint: 1, 0.1\n            pos_hint: {'center_x':0.5, 'center_y': 0.5}\n    FloatLayout:\n        size_hint: 1, 0.2\n        EntryBox:\n            id: _entry_box\n            request_box: _request_box\n            person_counter: _person_counter\n            request_box: _request_box\n            size_hint: 0.333, 1\n        RequestBox:\n            id: _request_box\n            person_counter: _person_counter\n            card_reader: _card_reader\n            size_hint: 0.333, 1\n        CardReader:\n            id: _card_reader\n            person_counter: _person_counter\n            size_hint: 0.333, 1\n        PersonCounter:\n            id: _person_counter\n\n\n&lt;HeaderBar@Label&gt;:\n    text: \"Mag Stripe Reader Application\"\n    font_size: root.height/2.5\n    size: self.texture_size\n    bold: True\n    color: 0, 0.70, 0.93, 1\n\n    #This is not quite right, but is ok for now. The resizing does not work \n    #quite perfectly. \n\n&lt;SessionButton@ToggleButton&gt;:\n    group: 'session_options' \n    background_color: 0, 0.70, 0.93, 1\n    color: 0.11, 0.39, 0.33, 0.75, 0.02\n    bold: True\n\n&lt;SessionBar@GridLayout&gt;:\n    cols: 2\n    #col_default_width: root.width/3\n    SessionButton:\n        text: \"Start Session\"\n    SessionButton:\n        text: \"End Session\"\n\n&lt;EntryButton@Button&gt;:\n    group: 'entry_buttons'\n    background_color: 0, 0.70, 0.93, 1\n    color: 0.11, 0.39, 0.33, 0.75, 0.02\n    bold: True\n\n&lt;EntryBox@GridLayout&gt;:\n    pos_hint: {'x':0, 'center_y':0.5}\n    cols: 1\n    rows: 2\n    Label: \n        text: \"Does Entrant have an EBT card?\"\n        font_size: root.height/8\n        size: self.texture_size\n        bold: True\n        color: 0, 0.70, 0.93, 1\n    GridLayout:\n        cols: 2\n        EntryButton:\n            text: 'YES'\n        EntryButton: \n            text: 'NO'\n\n&lt;RequestButton@Button&gt;:\n    group: 'request_buttons'\n    background_color: 0, 0.70, 0.93, 1\n    color: 0.11, 0.39, 0.33, 0.75, 0.02\n    bold: True\n\n&lt;RequestBox@GridLayout&gt;:\n    cols: 1\n    rows: 2\n    pos_hint: {'x': 0.333, 'center_y':0.5}\n    Label: \n        text: \"Will Entrant scan EBT card?\"\n        font_size: root.height/8\n        size: self.texture_size\n        bold: True\n        color: 0, 0.70, 0.93, 1\n    GridLayout:\n        cols: 2\n        EntryButton:\n            text: 'YES'\n        EntryButton: \n            text: 'NO'\n\n&lt;CardReader@GridLayout&gt;\n    cols: 1\n    rows: 2\n    pos_hint: {'x': 0.666, 'center_y':0.5}\n    Label:\n        text: 'Please scan EBT card'\n        font_size: root.height/8\n        size: self.texture_size\n        bold: True\n        color: 0, 0.70, 0.93, 1\n    TextInput:\n        password: True\n        multiline: False\n\n&lt;PersonCounter@Label&gt;:\n    id: _person_counter\n    text: '1'\n    pos_hint: {'x' : 0.1, 'y' : 0.25}\n    #pos: -500, 100\n    size: self.texture_size\n    halign: 'left'\n    font_size: 50\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444255026, "post_id": 33002971, "comment_id": 53831161, "body": "why do the materials occur more than once?"}, {"owner": {"reputation": 23, "user_id": 5390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799c86cacee1443182ffd707c289dc43?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5390807/daniele"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444255775, "post_id": 33002971, "comment_id": 53831464, "body": "They are different pipes... Some of them are Copper, some are PVC and some are Steel. So I need to check which material is it...  Thanks Pynchia"}], "answers": [{"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": false, "score": 1, "last_activity_date": 1444256634, "creation_date": 1444256634, "answer_id": 33003431, "question_id": 33002971, "link": "https://stackoverflow.com/questions/33002971/logical-operators-with-three-lists/33003431#33003431", "title": "Logical operators with three lists", "body": "<p>See if this is what you are looking for:</p>\n\n<pre><code>from bisect import bisect\n\nmaterial_pipes = {'Copper': (0.2, 1.0, 1.9),\n                  'PVC': (0.1, 1, 1.4),\n                  'Steel': (0.1, 0.8, 1.5)}\npipe_sizes = [15,22,32,45]\n\ndef flow_rate_to_size(material, rate):\n    pos = bisect(material_pipes[material], rate)\n    return pipe_sizes[pos]\n</code></pre>\n\n<p>examples:</p>\n\n<pre><code>print(flow_rate_to_size('Copper', 0.0))\nprint(flow_rate_to_size('Copper', 1.4))\nprint(flow_rate_to_size('Copper', 2.5))\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>15\n32\n45\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799c86cacee1443182ffd707c289dc43?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5390807/daniele"}, "edited": false, "score": 0, "creation_date": 1444293087, "post_id": 33003475, "comment_id": 53844780, "body": "thanks BlivetWidget... I&#39;ve tried to use your suggestion but it doesn&#39;t work.... Please have a look on what I did. (scroll down the page please)  Thanks."}, {"owner": {"reputation": 7622, "user_id": 4752656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZLby.png?s=128&g=1", "display_name": "BlivetWidget", "link": "https://stackoverflow.com/users/4752656/blivetwidget"}, "reply_to_user": {"reputation": 23, "user_id": 5390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799c86cacee1443182ffd707c289dc43?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5390807/daniele"}, "edited": false, "score": 0, "creation_date": 1444361678, "post_id": 33003475, "comment_id": 53881133, "body": "You accidentally left the material strings capitalized.  After material.lower(), you have to have an all-lower case string or it will always fail the test.  You don&#39;t have to use that method, but it helps to error proof it in case you ever write &#39;copper&#39; or &#39;COPPER&#39;, etc."}], "tags": [], "owner": {"reputation": 7622, "user_id": 4752656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZLby.png?s=128&g=1", "display_name": "BlivetWidget", "link": "https://stackoverflow.com/users/4752656/blivetwidget"}, "is_accepted": true, "score": 0, "last_activity_date": 1444256858, "creation_date": 1444256858, "answer_id": 33003475, "question_id": 33002971, "link": "https://stackoverflow.com/questions/33002971/logical-operators-with-three-lists/33003475#33003475", "title": "Logical operators with three lists", "body": "<p>Just pass in both pieces of information and use the appropriate one for the material passed in.  Going off of your example.</p>\n\n<pre><code>def flow_rate_to_size(rate, material):\n    size = -1 # good to set an error state\n    if material.lower() == 'copper':\n        if rate &lt;= 0.2:\n            size = 15\n        elif 0.2 &lt; rate &lt;= 1:\n            size = 22\n        elif 1 &lt; rate &lt;= 1.9:\n            size = 32\n        else:\n            size = 45\n    elif material.lower() == 'pvc':\n        if rate &lt;= 0.1:\n            size = etc....\n    etc...\n    return size\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7622, "user_id": 4752656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZLby.png?s=128&g=1", "display_name": "BlivetWidget", "link": "https://stackoverflow.com/users/4752656/blivetwidget"}, "edited": false, "score": 0, "creation_date": 1444361764, "post_id": 33010586, "comment_id": 53881156, "body": "For future reference, probably makes more sense to edit your original question.  Anyway, I left a comment on my answer explaining that the material strings should be typed out in lower case for those tests."}], "tags": [], "owner": {"reputation": 23, "user_id": 5390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799c86cacee1443182ffd707c289dc43?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5390807/daniele"}, "is_accepted": false, "score": 0, "last_activity_date": 1444293215, "creation_date": 1444293215, "answer_id": 33010586, "question_id": 33002971, "link": "https://stackoverflow.com/questions/33002971/logical-operators-with-three-lists/33010586#33010586", "title": "Logical operators with three lists", "body": "<pre><code>hi guys....\n\nI don;t understand why but it doesn't work...\n\nhave a look please...\n\nPipe_sizes = [15,15,22,15,32,45]\nFlow_rates = [0.1,0.3,1,2,0.4,1.5]\nMaterial_pipes = [\"Copper\", \"Copper\", \"PVC\", \"Steel\", \"Steel\", \"Copper\"]\n\ndef Flow_rate_to_size(rate,material):\n    size = -1 # good to set an error state\n    if material.lower() == 'Copper':\n        if rate &lt;= 0.2:\n            size = 15\n        elif 0.2 &lt; rate &lt;= 1:\n            size = 22\n        elif 1 &lt; rate &lt;= 1.9:\n            size = 32\n        else:\n            size = 45\n    elif material.lower() == 'PVC':\n        if rate &lt;= 0.1:\n            size = 15\n        elif 0.1 &lt; rate &lt;= 1:\n            size = 22\n        elif 1 &lt; rate &lt;= 1.4:\n            size = 32\n        else:\n            size = 45    \n    elif material.lower() == 'Steel':\n        if rate &lt;= 0.1:\n            size = 15\n        elif 0.1 &lt; rate &lt;= 0.8:\n            size = 22\n        elif 0.8 &lt; rate &lt;= 1.5:\n            size = 32\n        else:\n            size = 45    \n    return size\n\n\nPipe_sizes = [Flow_rate_to_size(rate,material) for rate in Flow_rates]\nprint(Pipe_sizes)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799c86cacee1443182ffd707c289dc43?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5390807/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 33003475, "answer_count": 3, "score": 1, "last_activity_date": 1444296742, "creation_date": 1444254448, "last_edit_date": 1444296742, "question_id": 33002971, "link": "https://stackoverflow.com/questions/33002971/logical-operators-with-three-lists", "title": "Logical operators with three lists", "body": "<p>I have a problem with lists:\nI have three lists:</p>\n\n<pre><code>Pipe_sizes = [15,15,22,15,32,45]\nFlow_rates = [0.1,0.3,1,2,0.4,1.5]\nMaterial_pipes = [Copper, Copper, PVC, Steel, Steel, Copper]\n</code></pre>\n\n<p>I would like to use logical operators to change the list Pipe_sizes as below:</p>\n\n<pre><code>If the material is Copper, I will use the follow logical operators:\nif Flow_rates &lt;= 0.2 then the pipe size is 15\nif Flow_rates &gt; 0.2 and &lt;= 1 then the pipe size is 22\nif Flow_rates &gt; 1 and &lt;=1.9  then the pipe size is 32\nif Flow_rates &gt; 1.9 then the pipe size is 45\n</code></pre>\n\n<p>And for PVC I will use the follow logical operators:</p>\n\n<pre><code>if Flow_rates &lt;= 0.1 then the pipe size is 15\nif Flow_rates &gt; 0.1 and &lt;= 1 then the pipe size is 22\nif Flow_rates &gt; 1 and &lt;=1.4  then the pipe size is 32\nif Flow_rates &gt; 1.4 then the pipe size is 45\n</code></pre>\n\n<p>And for Steel I will use the follow logical operators:</p>\n\n<pre><code>if Flow_rates &lt;= 0.1 then the pipe size is 15\nif Flow_rates &gt; 0.1 and &lt;= 0.8 then the pipe size is 22\nif Flow_rates &gt; 0.8 and &lt;=1.5  then the pipe size is 32\nif Flow_rates &gt; 1.5 then the pipe size is 45\n</code></pre>\n\n<p>If I didn't have the list Material_pipes, it was easy to change the list Pipe_sizes. I could use the follow solution:</p>\n\n<pre><code>def flow_rate_to_size(rate):\n    if rate &lt;= 0.2:\n        size = 15\n    elif 0.2 &lt; rate &lt;= 1:\n        size = 22\n    elif 1 &lt; rate &lt;= 1.9:\n        size = 32\n    else:\n        size = 45\n    return size\n\nFlow_rates = [0.1, 0.3, 1, 2, 0.4, 1.5]\nPipe_sizes = [Flow_rate_to_size(rate) for rate in Flow_rates]\nprint(Pipe_sizes)\n</code></pre>\n\n<p>But what can I do if <code>Pipe_sizes</code> depends also from the list <code>Material_pipes</code>?</p>\n"}, {"tags": ["python", "mapquest", "geopy"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 1781374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aef5c15b7b632ff50c317b98df9ecf1?s=128&d=identicon&r=PG", "display_name": "bausi2k", "link": "https://stackoverflow.com/users/1781374/bausi2k"}, "is_accepted": false, "score": 1, "last_activity_date": 1444991554, "creation_date": 1444991554, "answer_id": 33168309, "question_id": 33002904, "link": "https://stackoverflow.com/questions/33002904/geopy-openmapquest-for-python-throws-geocoderinsufficientprivileges-error/33168309#33168309", "title": "geopy openmapquest for Python throws GeocoderInsufficientPrivileges error", "body": "<p>I've also tried the same with the same result. After checking the Library, I found out, that the error is referring to the line, where the request ist build and it seems, that the API Key is not transmitted. If you add no key in the init statement, the api_key='' so I tried to change the line 66 in my own Library of the file: <a href=\"https://github.com/geopy/geopy/blob/master/geopy/geocoders/openmapquest.py\" rel=\"nofollow\">https://github.com/geopy/geopy/blob/master/geopy/geocoders/openmapquest.py</a> to my key.</p>\n\n<p>Still no success! The key itself works, I've tested it with calling the URL that is also called in the Library: \n<a href=\"http://open.mapquestapi.com/nominatim/v1/search.php?key=\" rel=\"nofollow\">http://open.mapquestapi.com/nominatim/v1/search.php?key=</a>\"MY_KEY\"&amp;format=json&amp;json_callback=renderBasicSearchNarrative&amp;q=westminster+abbey</p>\n\n<p>no idea why this isn't working\u2026</p>\n\n<p>Cheers.kg</p>\n"}, {"tags": [], "owner": {"reputation": 6402, "user_id": 6245650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMp3K.jpg?s=128&g=1", "display_name": "Scratch&#39;N&#39;Purr", "link": "https://stackoverflow.com/users/6245650/scratchnpurr"}, "is_accepted": false, "score": 1, "last_activity_date": 1462391383, "creation_date": 1462391383, "answer_id": 37036769, "question_id": 33002904, "link": "https://stackoverflow.com/questions/33002904/geopy-openmapquest-for-python-throws-geocoderinsufficientprivileges-error/37036769#37036769", "title": "geopy openmapquest for Python throws GeocoderInsufficientPrivileges error", "body": "<p>I made slight progress with fixing this one. I was able to get the query written correctly, but its the json parsing that kind of have me stumped. Maybe someone knows. I know the url is being sent correctly (I checked it in the browser and it returned a json object). Maybe someone knows how to parse the returned json object to get it to finally work.</p>\n\n<p>Anyways, I had to go in the <code>openmapquest.py</code> source code, and starting from line 66, I made the following modifications:</p>\n\n<pre><code>    self.api_key = api_key\n    self.api = \"http://www.mapquestapi.com/geocoding/v1/address?\"\n\ndef geocode(self, query, exactly_one=True, timeout=None): # pylint: disable=W0221\n    \"\"\"\n    Geocode a location query.\n\n    :param string query: The address or query you wish to geocode.\n\n    :param bool exactly_one: Return one result or a list of results, if\n        available.\n\n    :param int timeout: Time, in seconds, to wait for the geocoding service\n        to respond before raising a :class:`geopy.exc.GeocoderTimedOut`\n        exception. Set this only if you wish to override, on this call\n        only, the value set during the geocoder's initialization.\n\n        .. versionadded:: 0.97\n    \"\"\"\n    params = {\n        'key': self.api_key,\n        'location': self.format_string % query\n    }\n    if exactly_one:\n        params['maxResults'] = 1\n    url = \"&amp;\".join((self.api, urlencode(params)))\n    print url # Print the URL just to make sure it's produced correctly\n</code></pre>\n\n<p>Now the task remains to get the <code>_parse_json</code> function working.</p>\n"}], "owner": {"reputation": 1233, "user_id": 4002012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/jt9QP.png?s=128&g=1", "display_name": "Escachator", "link": "https://stackoverflow.com/users/4002012/escachator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1462391383, "creation_date": 1444254144, "question_id": 33002904, "link": "https://stackoverflow.com/questions/33002904/geopy-openmapquest-for-python-throws-geocoderinsufficientprivileges-error", "title": "geopy openmapquest for Python throws GeocoderInsufficientPrivileges error", "body": "<p>I am running the following:</p>\n\n<pre><code>import geopy\ngeolocator = geopy.geocoders.OpenMapQuest(api_key='my_key_here')\nlocation1 = geolocator.geocode('Madrid')\n</code></pre>\n\n<p>where my_key_here is my consumer key for mapquest, and I get the following error:</p>\n\n<blockquote>\n  <p>GeocoderInsufficientPrivileges: HTTP Error 403: Forbidden</p>\n</blockquote>\n\n<p>Not sure what I am doing wrong.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "anaconda"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1444254671, "post_id": 33002887, "comment_id": 53831004, "body": "Is there any output during the conda installation? (Does conda have a --verbose option?)"}, {"owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "edited": false, "score": 0, "creation_date": 1444254725, "post_id": 33002887, "comment_id": 53831025, "body": "Nothing that looked like a warning or error. It installed lapack-3.5.0 and slycot-0.2.0."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1444254760, "post_id": 33002887, "comment_id": 53831037, "body": "But does it attempt to install a wheel?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1444254792, "post_id": 33002887, "comment_id": 53831056, "body": "Please verify that <code>otool -L &#47;Users&#47;pheon&#47;anaconda&#47;lib&#47;python2.7&#47;site-packages&#47;slycot&#47;_wr&zwnj;&#8203;apper.so</code> does show an incorrect path for libgfortran.3.dylib."}, {"owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "edited": false, "score": 0, "creation_date": 1444254996, "post_id": 33002887, "comment_id": 53831143, "body": "That command gives : \t\t/usr/local/lib/gcc/4.9/libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0) which is the incorrect path."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1444255295, "post_id": 33002887, "comment_id": 53831269, "body": "It may be worth installing, and in particular building, the package from source. That should either pick up the correct gfortran library, or show you more clearly what&#39;s going wrong. Or find a way to use conda with (multiple) verbose options when (re)installing the package and see what exactly it does: not showing a warning or error doesn&#39;t mean conda does everything correctly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1444255369, "post_id": 33002887, "comment_id": 53831294, "body": "Alternatively, the easy way out might be to use a symlink. But that only bypasses the problem, it doesn&#39;t solve it (and thus you may end up with a similar problem later on)."}, {"owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "edited": false, "score": 0, "creation_date": 1444255913, "post_id": 33002887, "comment_id": 53831532, "body": "I installed from source. Now tool says _wrapper.so is linked tov/usr/local/lib/gcc/5/libgfortran.3.dylib, which exists but I still get an ImportError"}, {"owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "edited": false, "score": 0, "creation_date": 1444261438, "post_id": 33002887, "comment_id": 53833278, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/91674/discussion-between-pheon-and-evert\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1062, "user_id": 4353740, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/60f9037390e86c2e64105c15a4fb76a5?s=128&d=identicon&r=PG&f=1", "display_name": "tmo", "link": "https://stackoverflow.com/users/4353740/tmo"}, "edited": false, "score": 0, "creation_date": 1482410059, "post_id": 33002887, "comment_id": 69768155, "body": "Did you ever work out a solution to this? I have the same problem."}], "answers": [{"tags": [], "owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "is_accepted": false, "score": 0, "last_activity_date": 1482422404, "creation_date": 1482422404, "answer_id": 41287147, "question_id": 33002887, "link": "https://stackoverflow.com/questions/33002887/how-to-fix-importerror-cannot-import-name-wrapper-using-slycot/41287147#41287147", "title": "How to fix ImportError: cannot import name _wrapper using slycot", "body": "<p>I turns out slicot uses the library from gcc 4.9. The solution is to install gcc 4.9. I did this using homebrew</p>\n\n<pre><code>brew install gcc49\n</code></pre>\n\n<p>Now everything works fine.</p>\n"}], "owner": {"reputation": 2215, "user_id": 1816807, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/XWZAR.png?s=128&g=1", "display_name": "pheon", "link": "https://stackoverflow.com/users/1816807/pheon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 756, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482422404, "creation_date": 1444254059, "last_edit_date": 1444261428, "question_id": 33002887, "link": "https://stackoverflow.com/questions/33002887/how-to-fix-importerror-cannot-import-name-wrapper-using-slycot", "title": "How to fix ImportError: cannot import name _wrapper using slycot", "body": "<p>I installed the python package <a href=\"https://github.com/jgoppert/Slycot\" rel=\"nofollow\">slycot</a> under anaconda on OS X using </p>\n\n<pre><code>conda install -c http://conda.binstar.org/cwrowley slycot\n</code></pre>\n\n<p>but then when I tried to use it by </p>\n\n<pre><code>import slycot\n</code></pre>\n\n<p>I got this error</p>\n\n<pre><code>ImportError: dlopen(/Users/pheon/anaconda/lib/python2.7/site-packages/slycot/_wrapper.so, 2): Library not loaded: /usr/local/lib/gcc/4.9/libgfortran.3.dylib\n  Referenced from: /Users/pheon/anaconda/lib/python2.7/site-packages/slycot/_wrapper.so\n  Reason: image not found\n</code></pre>\n\n<p>Am I missing something I should install?</p>\n\n<p>I have libgfortran.3.dylib but it is installed under</p>\n\n<p>/usr/local/lib/gcc/5</p>\n\n<p>Do I have to link something?</p>\n\n<p>UPDATE:</p>\n\n<p>I created a new conda environment and install slycot into that. I had to install a gcc too, so something was probably wrong with the linking.</p>\n\n<p>Having done that, I still got the ImportError. So I tried installing from source again. That produced a long log of fortran output, so it must have been doing something different this time. </p>\n\n<p>However, I still get the ImportError.</p>\n\n<p>./lib/libgfortran.3.dylib is installed under the env.</p>\n\n<p>and </p>\n\n<pre><code>otool -L /Users/pheon/anaconda/envs/snowflakes/lib/python2.7/site-\npackages/slycot/_wrapper.so\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>/Users/pheon/anaconda/envs/snowflakes/lib/python2.7/site-packages/slycot/_wrapper.so:\n    liblapack.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/./libgfortran.3.dylib (compatibility version 4.0.0, current version 4.0.0)\n    /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 955.0.0)\n    /Users/acurtis/anaconda/envs/snowflakes/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n    @rpath/./libquadmath.0.dylib (compatibility version 1.0.0, current version 1.0.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1225.1.1)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&gt;&gt;&gt;import slycot\n</code></pre>\n\n<p>still gives</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"slycot/__init__.py\", line 16, in &lt;module&gt;\n    from .analysis import ab01nd,ab05md,ab05nd,ab07nd,ab08nd, ab09ad, \\\n  File \"slycot/analysis.py\", line 21, in &lt;module&gt;\n    from . import _wrapper\nImportError: cannot import name _wrapper\n</code></pre>\n\n<p>Could it be something to do with that \"@rpath\". I didn't see that before?</p>\n"}, {"tags": ["python", "pandas", "merge"], "answers": [{"comments": [{"owner": {"reputation": 2466, "user_id": 4392566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ImHaDyD-cAI/AAAAAAAAAAI/AAAAAAAAFiY/uaHSvuoPAp4/photo.jpg?sz=128", "display_name": "Dance Party", "link": "https://stackoverflow.com/users/4392566/dance-party"}, "edited": false, "score": 0, "creation_date": 1444278957, "post_id": 33003214, "comment_id": 53837790, "body": "Thanks! I&#39;m assuming if I want to continue to join on other columns if there were some that did not match in Last, First, DOB, I would continue the pattern above (i.e. df5 = pd.merge(df1.drop(df4.index), df3.drop(df4.index), on = [next column(s) to use for joining])? What if next, I wanted to match on ID in df1 and a new column (not shown above) called &quot;ID2&quot; in df2?"}, {"owner": {"reputation": 2466, "user_id": 4392566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ImHaDyD-cAI/AAAAAAAAAAI/AAAAAAAAFiY/uaHSvuoPAp4/photo.jpg?sz=128", "display_name": "Dance Party", "link": "https://stackoverflow.com/users/4392566/dance-party"}, "edited": false, "score": 0, "creation_date": 1444314622, "post_id": 33003214, "comment_id": 53860421, "body": "I finally sat down and figured out the answer to my follow-up question: df5 = pd.merge (df1.drop (df3.index &amp; df4.index), df2.drop (df3.index &amp; df4.index), left_on = &#39;ID&#39;, right_on = &#39;ID2&#39;)"}, {"owner": {"reputation": 2466, "user_id": 4392566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ImHaDyD-cAI/AAAAAAAAAAI/AAAAAAAAFiY/uaHSvuoPAp4/photo.jpg?sz=128", "display_name": "Dance Party", "link": "https://stackoverflow.com/users/4392566/dance-party"}, "edited": false, "score": 0, "creation_date": 1444315619, "post_id": 33003214, "comment_id": 53861196, "body": "One more question: how is pandas matching up the indexes?"}, {"owner": {"reputation": 2466, "user_id": 4392566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ImHaDyD-cAI/AAAAAAAAAAI/AAAAAAAAFiY/uaHSvuoPAp4/photo.jpg?sz=128", "display_name": "Dance Party", "link": "https://stackoverflow.com/users/4392566/dance-party"}, "edited": false, "score": 1, "creation_date": 1444581933, "post_id": 33003214, "comment_id": 53953409, "body": "I just tried this with a set of real data and received the following error: ValueError: labels [ 9397  9398  9399 ..., 11764 11765 11766] not contained in axis"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 3, "last_activity_date": 1444255557, "creation_date": 1444255557, "answer_id": 33003214, "question_id": 33002879, "link": "https://stackoverflow.com/questions/33002879/python-pandas-join-if-one-column-does-not-work-try-others/33003214#33003214", "title": "Python Pandas Join: If One Column Does Not Work, Try Others", "body": "<h1>merge on ID</h1>\n\n<pre><code>df3 = pd.merge(df1,df2,on='ID')\n</code></pre>\n\n<h1>merge remaining entries on dob, first and last</h1>\n\n<pre><code>df4 = pd.merge(df1.drop(df3.index), df2.drop(df3.index), on = ['DOB','First','Last'])\n</code></pre>\n\n<h1>concat both types of merges:</h1>\n\n<p>i'll leave this up to you , you have to decide how you're going to match up your columns.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 2585069, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0BA6L.jpg?s=128&g=1", "display_name": "Pelican", "link": "https://stackoverflow.com/users/2585069/pelican"}, "is_accepted": false, "score": 1, "last_activity_date": 1444257035, "creation_date": 1444257035, "answer_id": 33003515, "question_id": 33002879, "link": "https://stackoverflow.com/questions/33002879/python-pandas-join-if-one-column-does-not-work-try-others/33003515#33003515", "title": "Python Pandas Join: If One Column Does Not Work, Try Others", "body": "<p>regarding the merging :</p>\n\n<p>The merge method accept the following parameters :</p>\n\n<ul>\n<li>left : keep only the keys from the first dataframe</li>\n<li>right : keep only the keys from the second dataframe</li>\n<li>inner : keep the intersection (that is the default behavior)</li>\n<li>outer : keep the union (all) of the key</li>\n</ul>\n\n<p>So if you want the intersection :</p>\n\n<pre><code>merged = pd.merge(df1, df2, on \"ID\") #id is the key, df1 the first dataframe, df2 the second.\n</code></pre>\n\n<p>that's the equivalent of :</p>\n\n<pre><code>merged = pd.merge(df1, df2, on \"ID\", how=\"inner\")\n</code></pre>\n\n<p>Regarding your point \"a\" I would strip the first letter out of the \"Last\" column and then concatenate it with the two others.</p>\n\n<pre><code>df1['Last']=df1['Last'].str[:1]\ndf2['Last']=df2['Last'].str[:1]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>df1[\"key\"] = df1[\"Last\"]+df1[\"First\"]+df1[\"DOB\"]\ndf2[\"key\"] = df2[\"Last\"]+df2[\"First\"]+df2[\"DOB\"]\n</code></pre>\n\n<p>then I would use the merge method :</p>\n\n<pre><code>merged = pd.merge(df1, df2, on \"key\", how=\"inner\")\n\nprint(merged)\n</code></pre>\n"}], "owner": {"reputation": 2466, "user_id": 4392566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ImHaDyD-cAI/AAAAAAAAAAI/AAAAAAAAFiY/uaHSvuoPAp4/photo.jpg?sz=128", "display_name": "Dance Party", "link": "https://stackoverflow.com/users/4392566/dance-party"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 33003214, "answer_count": 2, "score": 0, "last_activity_date": 1444582326, "creation_date": 1444254016, "last_edit_date": 1444582326, "question_id": 33002879, "link": "https://stackoverflow.com/questions/33002879/python-pandas-join-if-one-column-does-not-work-try-others", "title": "Python Pandas Join: If One Column Does Not Work, Try Others", "body": "<p>Given the following data frames:</p>\n\n<pre><code>import pandas as pd\ndf1 = pd.DataFrame({'Last':['Smith','Jones','Johnson'], 'First': ['Tom', 'Jim', 'Neil'], 'DOB':['1/1/2010', '3/1/2012', '4/3/2011'], 'ID': [1,2,3]})\ndf1\n\n\n     DOB      First  ID Last\n0   1/1/2010    Tom  1  Smith\n1   3/1/2012    Jim  2  Jones\n2   4/3/2011    Neil 3  Johnson\n\ndf2 = pd.DataFrame({'Last':['S','J','Johnson'], 'First': ['T', 'J', 'Neil'], 'DOB':['1/1/2010', '3/1/2012', '4/3/2011'],'ID': [1,2,5]})\ndf2\n\n     DOB    First   ID  Last\n0   1/1/2010    T   1   S\n1   3/1/2012    J   2   J\n2   4/3/2011    Neil5   Johnson\n</code></pre>\n\n<p>I'd like to join (merge) them in pandas as follows:</p>\n\n<ol>\n<li><p>Try to merge on ID = ID</p></li>\n<li><p>Where matches do not exist (i.e. for Neil Johnson),</p></li>\n</ol>\n\n<p>a.       Merge on Last, First, DOB = Last, First, DOB</p>\n"}, {"tags": ["python", "list", "python-2.7", "numpy", "median"], "comments": [{"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444254169, "post_id": 33002876, "comment_id": 53830770, "body": "Just realized that the <code>.index()</code> approach itself would break down anyway when there are identical entries in an odd-sized list, as it will incorrectly choose the first occurrence."}, {"owner": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444254379, "post_id": 33002876, "comment_id": 53830856, "body": "First element greater than the median and the element immediately before it should do it, not?"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "reply_to_user": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444254669, "post_id": 33002876, "comment_id": 53831001, "body": "&quot;First element greater than the median and the element immediately before it&quot; is the goal itself :)"}, {"owner": {"reputation": 3124, "user_id": 2861681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E130t.png?s=128&g=1", "display_name": "vmg", "link": "https://stackoverflow.com/users/2861681/vmg"}, "edited": false, "score": 0, "creation_date": 1444254813, "post_id": 33002876, "comment_id": 53831062, "body": "Uh, sorry. I didn&#39;t see that you need the case for both even and uneven cases."}, {"owner": {"reputation": 8822, "user_id": 356528, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5c2e6aa207dd3686244700d39117bdc?s=128&d=identicon&r=PG", "display_name": "R&#233;gis B.", "link": "https://stackoverflow.com/users/356528/r%c3%a9gis-b"}, "edited": false, "score": 0, "creation_date": 1444285999, "post_id": 33002876, "comment_id": 53840487, "body": "Perhaps could you specify that your array is sorted? It simplifies the problem a lot."}], "answers": [{"tags": [], "owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "is_accepted": false, "score": 3, "last_activity_date": 1444255439, "last_edit_date": 1444255439, "creation_date": 1444254809, "answer_id": 33003040, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33003040#33003040", "title": "Getting the two numbers on either side of the median", "body": "<p>Assuming that the length of the sorted input list is <code>N</code> then it seems to me that you want access elements <code>N/2-1</code> and <code>(N+1)/2</code> (assuming integer division), i.e.,</p>\n\n<pre><code>[1.23, 2.0, 3.45, 4.1] =&gt; N = 4 thus N/2-1 = 1 and (N+1)/2 = 2\n\n[1.23, 2.0, 3.45, 4.1, 5.6] =&gt; N = 5 thus N/2-1 = 1 and (N+1)/2 = 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "edited": false, "score": 2, "creation_date": 1444255560, "post_id": 33003184, "comment_id": 53831368, "body": "but the statement <code>med(list_)</code> calculates arithmetic average, not the median, doesn&#39;t it?"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444259606, "post_id": 33003184, "comment_id": 53832792, "body": "@LetzerWille Thanks. For a list such as <code>[1,2,3,4]</code> though, it returns <code>(1,2)</code>."}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444262424, "post_id": 33003184, "comment_id": 53833519, "body": "@LetzerWille We&#39;re nearly there ... it&#39;s now doing something similar for an odd-sized list e.g. <code>select_near_median([1,2,3,4,5])</code> gives <code>(2,3)</code>. Note: since I&#39;m on 2.7, I had to replace <code>statistics.median</code> with` <code>numpy.median</code>, but I don&#39;t think that makes a difference."}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444264079, "post_id": 33003184, "comment_id": 53833983, "body": "@Pyderman should work now. bisect function is counterintuitive, but with persistence :)"}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444362290, "post_id": 33003184, "comment_id": 53881301, "body": "@Pyderman bisect works on sorted input. So i have done this llPrices = sorted ([..... And got out put 783.765. Actually I have written about sorted input. Better yet I will put sorting into the function."}, {"owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "reply_to_user": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1444362654, "post_id": 33003184, "comment_id": 53881369, "body": "@Pyderman x, y = select_near_median(allPrices) print(x,y) 766.92 800.61"}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1444362416, "last_edit_date": 1444362416, "creation_date": 1444255430, "answer_id": 33003184, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33003184#33003184", "title": "Getting the two numbers on either side of the median", "body": "<p>You can use the <code>bisect</code> module:</p>\n\n<pre><code>x = [1.23, 2.0, 3.45, 4.1]  \n\n def select_near_median(list_):\n    # gets two numbers either side of median\n    # in a sorted list\n    # bisect finds the index where median number\n    # can be inserted\n    import bisect\n    import statistics\n    list_ = sorted(list_)\n    med = statistics.median(list_)\n    ind = bisect.bisect_left(list_, med)\n    if med == list_[ind]:\n        left = ind\n        right = left + 1\n    else:\n        left = ind - 1\n        right = ind\n    return list_[left], list_[right]\n\n\n        print(select_near_median([1,2,3,4]))\n        (2, 3)\n        print(select_near_median([1,2,3,4,5]))\n        (3, 4)\n        print(select_near_med(x))\n        (2.0, 3.45)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "is_accepted": false, "score": 1, "last_activity_date": 1444255563, "creation_date": 1444255563, "answer_id": 33003216, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33003216#33003216", "title": "Getting the two numbers on either side of the median", "body": "<p>If the input list is unsorted (say <code>x = [1.23, 3.45, 4.1, 2.0]</code>) then you want to iterate through and find the two quantities of interest (this would also work for sorted inputs of course). Something like this:</p>\n\n<pre><code>largestSmallerThanMedian = x[0]\nsmallestLargerThanMedian = x[len(x)-1] \nfor n in x:\n    if (n &lt; middle) and (n &gt;= largestSmallerThanMedian):\n        largestSmallerThanMedian = n\n    if (n &gt; middle) and (n &lt;= smallestLargerThanMedian):\n        smallestLargerThanMedian = n\n</code></pre>\n\n<p>And then <code>largestSmallerThanMedian</code> and <code>smallestLargerThanMedian</code> would have the two quantities of interest.</p>\n"}, {"comments": [{"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 2, "creation_date": 1444268933, "post_id": 33004381, "comment_id": 53835264, "body": "Indeed they are the numbers I&#39;m looking for, Obi Wan. Nicely done."}], "tags": [], "owner": {"reputation": 8822, "user_id": 356528, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5c2e6aa207dd3686244700d39117bdc?s=128&d=identicon&r=PG", "display_name": "R&#233;gis B.", "link": "https://stackoverflow.com/users/356528/r%c3%a9gis-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1444262231, "creation_date": 1444262231, "answer_id": 33004381, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33004381#33004381", "title": "Getting the two numbers on either side of the median", "body": "<p>These are the <a href=\"https://bloodstainedink.files.wordpress.com/2012/06/star-wars-cap-33.jpg\" rel=\"nofollow\">numbers</a> you are looking for:</p>\n\n<pre><code>x[(len(x)-1)/2 - len(x)%2], x[len(x)/2 + len(x)%2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": false, "score": 1, "last_activity_date": 1444262908, "last_edit_date": 1495541030, "creation_date": 1444262908, "answer_id": 33004489, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33004489#33004489", "title": "Getting the two numbers on either side of the median", "body": "<p>By definition, a <a href=\"https://en.wikipedia.org/wiki/Median\" rel=\"nofollow noreferrer\">median</a> is a value that divides your samples into 2 halves.</p>\n\n<blockquote>\n  <p>The median of a finite list of numbers can be found by arranging all\n  the observations from lowest value to highest value and picking the\n  middle one (e.g., the median of {3, 3, 5, 9, 11} is 5). If there is an\n  even number of observations, then there is no single middle value; the\n  median is then usually defined to be the mean of the two middle values\n  (the median of {3, 5, 7, 9} is (5 + 7) / 2 = 6).</p>\n</blockquote>\n\n<p>So, you need to</p>\n\n<ul>\n<li>somehow determine which of your samples are the \"lower half\" and which are the \"upper half\", then</li>\n<li>select the max &amp; min ones from the subsets, accordingly.</li>\n</ul>\n\n<p>Possible approaches include:</p>\n\n<ul>\n<li>sort the entire list (probably, in-place for efficiency), then select the corresponding elements. <em>(O(N*log(N)))</em></li>\n<li>traverse the list, sort the elements into \"lower\" and \"upper\" parts as you go (effectively, you'll need to calculate the median at each step to classify the next element) and keep track of your \"boundary\" values (you'll need them to calculate the median anyway) <em>(O(N))</em>\n\n<ul>\n<li>this is how <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.partition.html\" rel=\"nofollow noreferrer\"><code>numpy.partition</code></a> works (<a href=\"https://github.com/numpy/numpy/blob/v1.9.1/numpy/lib/function_base.py#L2915\" rel=\"nofollow noreferrer\">which <code>numpy.median</code> uses internally</a>)</li>\n</ul></li>\n</ul>\n\n<p>So, basically, what you need is (altered code from the linked source for your 1-D case):</p>\n\n<pre><code>if sz % 2 == 0:\n    part = partition(a, ((sz // 2) - 1, sz // 2))\nelse:\n    part = partition(a, (sz - 1) // 2)\n</code></pre>\n\n<p>then retrieve the corresponding elements.</p>\n\n<p>Note, however, if you strive for efficiency, that <a href=\"https://stackoverflow.com/a/26820109/648265\">there's quite an overhead converting data into <code>ndarray</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1444347013, "last_edit_date": 1444347013, "creation_date": 1444346618, "answer_id": 33027546, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median/33027546#33027546", "title": "Getting the two numbers on either side of the median", "body": "<p>To get the median you have to have a sorted list so this is a simple math problem, if the list length is uneven you want the <code>halfway point - 1</code> and the <code>halfway point + 1</code>, if the list length is even <em>the median is the average of the two middle numbers</em> so you want those two middle numbers.</p>\n\n<pre><code>def get_two(l):\n    ln = len(l)\n    half = ln // 2\n    return x[half-1], x[half + ln % 2]\n</code></pre>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 0, "answer_count": 6, "score": 3, "last_activity_date": 1444362416, "creation_date": 1444253991, "last_edit_date": 1444260566, "question_id": 33002876, "link": "https://stackoverflow.com/questions/33002876/getting-the-two-numbers-on-either-side-of-the-median", "title": "Getting the two numbers on either side of the median", "body": "<p>Given:</p>\n\n<pre><code>x = [1.23, 2.0, 3.45, 4.1]\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>middle = numpy.median(x)\n</code></pre>\n\n<p>Were the size of list <code>x</code> odd, I could use <code>x[x.index(middle)-1]</code> and <code>x[x.index(middle)+1]</code> to get the two numbers either side of the middle. This won't work in the above case, since the median is not present in <code>x</code>. Is there is standard approach that can handle both even-sized and odd-sized lists? </p>\n"}, {"tags": ["python", "io-redirection", "python-unittest"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 2467579, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dee77dbe2efc141fd79daa5c8e5354f8?s=128&d=identicon&r=PG", "display_name": "Jashua", "link": "https://stackoverflow.com/users/2467579/jashua"}, "edited": false, "score": 0, "creation_date": 1444258791, "post_id": 33003511, "comment_id": 53832510, "body": "Great answer ElizabethAB!  Putting the start and end before and after is rather clever..   I don&#39;t think the actual TestProgram object stores that info, but with this info I believe I can now solve my problem."}], "tags": [], "owner": {"reputation": 632, "user_id": 1657297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bwQso.jpg?s=128&g=1", "display_name": "ElizabethAB", "link": "https://stackoverflow.com/users/1657297/elizabethab"}, "is_accepted": true, "score": 3, "last_activity_date": 1444257013, "creation_date": 1444257013, "answer_id": 33003511, "question_id": 33002870, "link": "https://stackoverflow.com/questions/33002870/capture-the-run-time-from-running-a-unittest-testcase-into-a-python-variable/33003511#33003511", "title": "Capture the run time from running a unittest TestCase into a Python variable", "body": "<p>The <code>unittest</code> module's <code>main</code> method had two options I think you'll find helpful:</p>\n\n<pre><code>main(module='test_module', exit=False)\n</code></pre>\n\n<p>The returned value of this execution is a <code>TestProgram</code> class object. You can run the below in an interactive interpreter.</p>\n\n<pre><code>import unittest\nimport datetime\n\ndef fnc(a, b):\n    return a + b\n\nclass MyTest(unittest.TestCase):\n    def test_one(self):\n        self.assertEqual(fnc(1,1), 2)\n\nstart = datetime.datetime.now()\ntmp = unittest.main(module = '__main__', exit = False)\nend = datetime.datetime.now()\nduraction = end - start\nprint(duration)\n</code></pre>\n\n<p>There may be a way to extract the runtime from the object saved here into <code>tmp</code>, but I'm not sure what it would be. You can loop through your modules, swapping their value in for <code>'__main__'</code> in the call to <code>unittest.main()</code>, and capture the runtime duration.</p>\n"}], "owner": {"reputation": 515, "user_id": 2467579, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dee77dbe2efc141fd79daa5c8e5354f8?s=128&d=identicon&r=PG", "display_name": "Jashua", "link": "https://stackoverflow.com/users/2467579/jashua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 33003511, "answer_count": 1, "score": 1, "last_activity_date": 1444257013, "creation_date": 1444253978, "last_edit_date": 1444255086, "question_id": 33002870, "link": "https://stackoverflow.com/questions/33002870/capture-the-run-time-from-running-a-unittest-testcase-into-a-python-variable", "title": "Capture the run time from running a unittest TestCase into a Python variable", "body": "<p>I have several Python files, each containing a Python function and a TestCase, similar to the one below.  I want to have a separate python script which will execute each file and capture the output.  As it happens, all of the tests will be passing and the output will be similar to below \"Ran x tests in x seconds\" but this output is stderr, NOT stdout.</p>\n\n<p>I would like to be able to append each output to a list. </p>\n\n<p>From a bash shell i can simply use:</p>\n\n<pre><code>$ python combine.py &amp;&gt; result.txt\n</code></pre>\n\n<p>which would save the output to a file(not ideal, but at least something I can then retrieve), so I've tried using:</p>\n\n<pre><code>os.system('python combine.py &amp;&gt; result.txt')\n</code></pre>\n\n<p>..that just prints it to the terminal though.   </p>\n\n<p>There may be a simpler way, such as calling a TestCase method directly rather than executing the whole file, which may actually be a better solution, but I have not been able to figure out a way to do that either. </p>\n\n<p>The ultimate goal is to execute the unittests in each of several files, and return a list of them. such as ['Ran 3 tests in 0.3 seconds', 'Ran 2 tests in 0.6 seconds', etc..]</p>\n\n<pre><code># combine.py\n\ndef combine(*args): \n    result = []\n    args = list(args)\n    while len(args):\n        for arg in args:\n            try:\n                result.append(arg.pop(0))\n            except IndexError:\n                a = args.index(arg)\n                args.pop(a)\n    return result\n\n\n\nfrom unittest import TestCase, main\n\nclass CombineTests(TestCase):\n\n\n    def runTest(self):\n        result = ['a', 1, 'one', 'b', 2, 'two', 'c', 3, 4]\n        self.assertEquals(combine(['a','b','c'], [1,2,3,4],['one','two']), result)\n\nif __name__ == '__main__': main()\n</code></pre>\n\n<hr>\n\n<h2>    output (stderr):</h2>\n\n<pre><code>Ran 5 tests in 0.002s\n\nOK\n</code></pre>\n"}, {"tags": ["python", "vb.net", "iis", "windows-client"], "comments": [{"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 0, "creation_date": 1444254115, "post_id": 33002830, "comment_id": 53830734, "body": "Is the desktop app communicating over the same port as the browser? (http is typically 80 i think ), because if its a different port, block the port on the local machine. If it IS the same port, then you may have check the user agent, going out, and then filter based on that."}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1444254456, "post_id": 33002830, "comment_id": 53830898, "body": "I&#39;m very curious what the situation is where you would be doing this in the first place... blog post? :)"}, {"owner": {"reputation": 1360, "user_id": 753471, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc180a31ec5feada554c75c61ce5c718?s=128&d=identicon&r=PG", "display_name": "monty", "link": "https://stackoverflow.com/users/753471/monty"}, "edited": false, "score": 0, "creation_date": 1444259860, "post_id": 33002830, "comment_id": 53832871, "body": "Take a look at the http headers with your Python middle-man. In vb.net this would be via Request.UserAgent and Request.Browser.Browser, but you said that you already could recognise the browser in a server side app. Aren&#39;t you wanting to write a server-side app to act as &quot;middleman&quot;? Or do you want to be able to configure IIS to do it?"}, {"owner": {"reputation": 1607, "user_id": 101877, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/387dacadda3dc856c65d493a676455c5?s=128&d=identicon&r=PG", "display_name": "ramdaz", "link": "https://stackoverflow.com/users/101877/ramdaz"}, "edited": false, "score": 0, "creation_date": 1444282099, "post_id": 33002830, "comment_id": 53838818, "body": "Both are running on Port 80.  The desktop app is different from browser. We want to limit the desktop app to a certain list of IP Addresses. We cannot stop for universal access because web app is meant for just about anyone, while desktop app is something meant for some office users.  Note the application is not written by us nor maintained by us. The original developers are unable to do anything. I am searching for a way to set up a Firewall kind of script which will sit on the edge and monitor PORT 80 traffic identifies whether it is browser based let&#39;s it pass, if it&#39;s desktop apply rules"}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1444307652, "post_id": 33002830, "comment_id": 53854715, "body": "What about a windows firewall group policy denying the desktop EXE from accessing the network for all users except those given explicit access?"}], "owner": {"reputation": 1607, "user_id": 101877, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/387dacadda3dc856c65d493a676455c5?s=128&d=identicon&r=PG", "display_name": "ramdaz", "link": "https://stackoverflow.com/users/101877/ramdaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444253829, "creation_date": 1444253829, "question_id": 33002830, "link": "https://stackoverflow.com/questions/33002830/any-method-to-recognize-or-demarcate-web-traffic-based-on-whether-it-is-coming-f", "title": "Any method to recognize or demarcate web traffic based on whether it is coming from a desktop client or browser", "body": "<p>We have an app which can be accessed both via Browser and a custom Windows Desktop client. The web application is running on Windows IIS. Is there a way to differentiate whether traffic is from an Web Browser or Windows desktop client.</p>\n\n<p>We don't own the server application. I know ways to recognize the browser in a server side app, and write JS or server side rules.</p>\n\n<p>However we need a middleman program which listens to the traffic and then depending on a simple rule disallow previleges to the desktop client.</p>\n\n<p>The desktop client is Windows native client written in VB.</p>\n\n<p>Preferred language Python</p>\n"}, {"tags": ["python", "loops", "video", "tkinter", "gif"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444254354, "post_id": 33002754, "comment_id": 53830849, "body": "Are you absolutely certain that exact code gives you that error? That error usually crops up if you create the image before you create the root. Also, are you really calling <code>mainloop</code> inside the <code>while</code> loop?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1444254480, "post_id": 33002754, "comment_id": 53830908, "body": "The title says you want to play videos, but the code has nothing to do with a video. Instead, the code just cycles through images which is essentially a duplicate of <a href=\"http://stackoverflow.com/q/11502879/7432\">stackoverflow.com/q/11502879/7432</a>."}], "owner": {"reputation": 122, "user_id": 4591073, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ea463d5be29dc38ff32795437fcd8dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Mitra0000", "link": "https://stackoverflow.com/users/4591073/mitra0000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1175, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444253485, "creation_date": 1444253485, "question_id": 33002754, "link": "https://stackoverflow.com/questions/33002754/how-to-play-videos-in-python-tkinter", "title": "How to play videos in python Tkinter?", "body": "<p>I am currently working on a project to play videos in Tkinter. I have set the code to run through a loop and play each frame (so it would be a bit like a gif) but the code doesn't seem to play the loop, it just displays the first image. What am I doing wrong? Here is the code:</p>\n\n<pre><code>from tkinter import*\n\nroot=Tk()\nroot.geometry=('400x400')\nloop=1\nwhile loop&gt;0:\n    if loop&lt;240:\n        filepath=\"Frames\\Frame_Layer_\"+str(loop)+\".png\"\n        imageback=PhotoImage(file=filepath)\n        button1=Button(root, image=imageback).pack()\n        loop=loop+1\n    else:\n        loop=1\n    root.mainloop()\n</code></pre>\n\n<p>When I run the code it comes up with a message saying too early to create image??? </p>\n\n<p>Any help would be much appreciated. Thanks in advance,</p>\n\n<p>Mitra0000</p>\n"}, {"tags": ["python", "try-except"], "answers": [{"comments": [{"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1444257128, "post_id": 33002796, "comment_id": 53831986, "body": "by far the best answer. what are your thoughts on <code>if float(x) == int(x):</code> ?"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1444257229, "post_id": 33002796, "comment_id": 53832023, "body": "@karthikr This is great!  I can&#39;t believe I&#39;ve been programming python all these years and didn&#39;t know about this.  Thanks a lot."}, {"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1444258388, "post_id": 33002796, "comment_id": 53832363, "body": "@JohnRuddell sure, but isn&#39;t the net effect the same?"}, {"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1444258408, "post_id": 33002796, "comment_id": 53832371, "body": "@saulspatz glad it helped"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1444258467, "post_id": 33002796, "comment_id": 53832394, "body": "@karthikr yea i believe so. I dont know what the time complexity is for <code>is_integer()</code> just wondering if one is more efficient than the other"}], "tags": [], "owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "is_accepted": true, "score": 5, "last_activity_date": 1444253688, "creation_date": 1444253688, "answer_id": 33002796, "question_id": 33002747, "link": "https://stackoverflow.com/questions/33002747/try-except-float-but-not-integer/33002796#33002796", "title": "Try Except float but not integer", "body": "<p>How about using <code>.is_integer()</code> on <code>float</code>?</p>\n\n<pre><code>&gt;&gt;&gt; float(5).is_integer()\nTrue\n&gt;&gt;&gt; float(5.12).is_integer()\nFalse\n&gt;&gt;&gt; \n</code></pre>\n\n<p>so </p>\n\n<pre><code>if float(x).is_integer():\n    raise ValueError('Non integers please')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1444254538, "post_id": 33002808, "comment_id": 53830935, "body": "that&#39;s still a float. if you mean that you want it to also raise an exception, just add more cases. or, if you just don&#39;t want to accept int, use the second statement instead."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1444255596, "post_id": 33002808, "comment_id": 53831386, "body": "edited again. i do think that this question was originally about raising the exception rather than how to check for whole numbers but oh well :)"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1444255862, "post_id": 33002808, "comment_id": 53831501, "body": "@PeterWood the op&#39;s request is that anything besides float/decimal is invalid. the first check does that. op&#39;s request <code>only accept a float or decimal</code> and he&#39;s using python which is the language in question. so whats the issue?"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1444256666, "post_id": 33002808, "comment_id": 53831821, "body": "oh well then just use a float and integer comparison <code>if float(5) == int(5): raise ValueError()</code> and yea I didn&#39;t see the last part since it was an edit afterwards"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": false, "score": 1, "last_activity_date": 1444256563, "last_edit_date": 1444256563, "creation_date": 1444253768, "answer_id": 33002808, "question_id": 33002747, "link": "https://stackoverflow.com/questions/33002747/try-except-float-but-not-integer/33002808#33002808", "title": "Try Except float but not integer", "body": "<pre><code>if type(variable) is not float:\n    raise ValueError('Invalid number provided')\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>if type(variable) is int:\n    raise ValueError('Invalid number provided')\n</code></pre>\n\n<p>OR (to check if whole number):</p>\n\n<pre><code>if abs(variable) - floor(abs(variable)) &lt; 1.0e-9:\n    raise ValueError('Invalid number provided')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444253942, "post_id": 33002833, "comment_id": 53830647, "body": "do you mean <code>if type(num) in (float, int, Decimal):</code>?"}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253834, "creation_date": 1444253834, "answer_id": 33002833, "question_id": 33002747, "link": "https://stackoverflow.com/questions/33002747/try-except-float-but-not-integer/33002833#33002833", "title": "Try Except float but not integer", "body": "<pre><code>you can check the number against types.\n# add or remove types from the list\nif type(num) in (float, int, Decimal):\n  do something \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 1, "last_activity_date": 1444254776, "creation_date": 1444254776, "answer_id": 33003026, "question_id": 33002747, "link": "https://stackoverflow.com/questions/33002747/try-except-float-but-not-integer/33003026#33003026", "title": "Try Except float but not integer", "body": "<p>There are good answers here, but so far the answers do not use try/except as requested. To use try except, you need try something that will throw an exception if false and then catch the exception.</p>\n\n<pre><code>try:\n    x / (x - int(x))\nexcept ZeroDivisionError:\n    raise Exception(\"No integers allowed.\")\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3915736, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/60302f627ed52be064db2d3d7d749582?s=128&d=identicon&r=PG&f=1", "display_name": "Gallieon474", "link": "https://stackoverflow.com/users/3915736/gallieon474"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4892, "favorite_count": 0, "accepted_answer_id": 33002796, "answer_count": 4, "score": 5, "last_activity_date": 1444256563, "creation_date": 1444253454, "last_edit_date": 1444254229, "question_id": 33002747, "link": "https://stackoverflow.com/questions/33002747/try-except-float-but-not-integer", "title": "Try Except float but not integer", "body": "<p>So, I've approached an obstacle in a programming exercise. I understand the concept of try except but how can I use a try except handler to only accept a float or decimal and if a whole number or integer is entered, it throws an error message. I know in theory it's not possible but is there a way? </p>\n\n<p>Ideally I want to use a try except block of code as that's the current lesson I am on. </p>\n\n<p>Thanks to all in advance!</p>\n"}, {"tags": ["python", "testing", "numpy", "scipy"], "owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444254900, "creation_date": 1444253355, "last_edit_date": 1444254900, "question_id": 33002730, "link": "https://stackoverflow.com/questions/33002730/fail-test-nanmedian-all-axis-test-stats-testnanfunc", "title": "FAIL: test_nanmedian_all_axis (test_stats.TestNanFunc)", "body": "<p>I just installed the newest development version of <code>scipy</code>: <code>0.17.0.dev0+7dd2b91</code> and tested it with <code>scipy.test</code>.</p>\n\n<p>I get a single failure:</p>\n\n<pre><code>======================================================================\nFAIL: test_nanmedian_all_axis (test_stats.TestNanFunc)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/scipy/stats/tests/test_stats.py\", line 242, in test_nanmedian_all_axis\n    assert_equal(len(w), 4)\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/testing/utils.py\", line 334, in assert_equal\n    raise AssertionError(msg)\nAssertionError: \nItems are not equal:\n ACTUAL: 1\n DESIRED: 4\n</code></pre>\n\n<p>This failure corresponds to the following test function:</p>\n\n<pre><code>class TestNanFunc(TestCase):\n    def __init__(self, *args, **kw):\n        TestCase.__init__(self, *args, **kw)\n        self.X = X.copy()\n\n        self.Xall = X.copy()\n        self.Xall[:] = np.nan\n\n        self.Xsome = X.copy()\n        self.Xsomet = X.copy()\n        self.Xsome[0] = np.nan\n        self.Xsomet = self.Xsomet[1:]\n\n    def test_nanmedian_all_axis(self):\n        # Check nanmedian when all values are nan.\n        with warnings.catch_warnings(record=True) as w:\n            warnings.simplefilter('always')\n            m = stats.nanmedian(self.Xall.reshape(3,3), axis=1)\n            assert_(np.isnan(m).all())\n            assert_equal(len(w), 4)\n            assert_(issubclass(w[-1].category, RuntimeWarning))\n</code></pre>\n\n<p>I was curious about why I was getting this failure, so I carried out the test in the IPython interpreter:</p>\n\n<pre><code>In [1]: import scipy.stats as stats\n\nIn [2]: from numpy import array\n\nIn [3]: X = array([1,2,3,4,5,6,7,8,9], float)\n\nIn [4]: Xall = X.copy()\n\nIn [5]: import numpy as np\n\nIn [6]: Xall[:] = np.nan\n\nIn [7]: import warnings\n\nIn [8]: with warnings.catch_warnings(record=True) as w:\n    warnings.simplefilter('always')\n    m = stats.nanmedian(Xall.reshape(3, 3), axis=1)\n    print len(w)\n   ....:     \n4\n</code></pre>\n\n<p>As you can see, here I get the length for <code>w</code> expected by the test -- i.e., if I had gotten this value when running the test, it would have passed.</p>\n\n<p>What's going on here?  What might I do to uncover the cause of the test failure?</p>\n\n<h1>Update</h1>\n\n<p>I just re-ran the test, and it passed.  Strange!  I'm wondering whether the difference is that earlier I did this:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import scipy\n&gt;&gt;&gt; np.test()\n&gt;&gt;&gt; scipy.test()\n</code></pre>\n\n<p>And just now I did this:</p>\n\n<pre><code>&gt;&gt;&gt; import scipy\n&gt;&gt;&gt; scipy.test()\n</code></pre>\n\n<p>Maybe the <code>numpy</code> test suite messes with something that is then used by the <code>scipy</code> test suite?</p>\n"}, {"tags": ["android", "python", "apk", "kivy", "buildozer"], "answers": [{"comments": [{"owner": {"reputation": 1046, "user_id": 5008997, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cddc34b8ee4473eec5d0db1c9d09e71b?s=128&d=identicon&r=PG&f=1", "display_name": "d0n.key", "link": "https://stackoverflow.com/users/5008997/d0n-key"}, "edited": false, "score": 0, "creation_date": 1444254137, "post_id": 33002817, "comment_id": 53830749, "body": "Thank you, I&#39;ll try now :)"}, {"owner": {"reputation": 1046, "user_id": 5008997, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cddc34b8ee4473eec5d0db1c9d09e71b?s=128&d=identicon&r=PG&f=1", "display_name": "d0n.key", "link": "https://stackoverflow.com/users/5008997/d0n-key"}, "edited": false, "score": 0, "creation_date": 1444256985, "post_id": 33002817, "comment_id": 53831933, "body": "It did not work (the try took so long, because I suddenly had several buildozer problems). I placed a working defaulttheme-0.png in a /data/images/ folder from my script. Do I add anything in my script itself?"}, {"owner": {"reputation": 5179, "user_id": 1209937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2315c81b442502ae979a22c807df84e9?s=128&d=identicon&r=PG", "display_name": "Tshirtman", "link": "https://stackoverflow.com/users/1209937/tshirtman"}, "edited": false, "score": 2, "creation_date": 1444262496, "post_id": 33002817, "comment_id": 53833542, "body": "Try copying the atlas file at the same place too, because atlas uses dirname on its own filename, it&#39;ll look for the textures in the same dir as itself, and since it&#39;s the atlas that resource_find is actually looking for, and you don&#39;t provide it, you&#39;ll get both original files, if you don&#39;t provide a copy of both."}, {"owner": {"reputation": 1046, "user_id": 5008997, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cddc34b8ee4473eec5d0db1c9d09e71b?s=128&d=identicon&r=PG&f=1", "display_name": "d0n.key", "link": "https://stackoverflow.com/users/5008997/d0n-key"}, "edited": false, "score": 0, "creation_date": 1444300594, "post_id": 33002817, "comment_id": 53849937, "body": "Yep, that worked thank you :) Please update your solution up there, so I can accept it for you and others."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": true, "score": 2, "last_activity_date": 1444301144, "last_edit_date": 1444301144, "creation_date": 1444253789, "answer_id": 33002817, "question_id": 33002726, "link": "https://stackoverflow.com/questions/33002726/python-kivy-changing-defaulttheme-0-png-wont-change-final-apk-design/33002817#33002817", "title": "Python Kivy: Changing defaulttheme-0.png won&#39;t change final .apk design", "body": "<p>Instead of changing the theme in a local kivy installation, place the image in a folder named data/images in your app's directory (i.e. <code>./data/images/defaulttheme-0.png</code> from your app script).</p>\n\n<p>Edit: it is also necessary to copy the atlas file to this location, as noted by Tshirtman.</p>\n"}], "owner": {"reputation": 1046, "user_id": 5008997, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cddc34b8ee4473eec5d0db1c9d09e71b?s=128&d=identicon&r=PG&f=1", "display_name": "d0n.key", "link": "https://stackoverflow.com/users/5008997/d0n-key"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 33002817, "answer_count": 1, "score": 0, "last_activity_date": 1444301144, "creation_date": 1444253344, "question_id": 33002726, "link": "https://stackoverflow.com/questions/33002726/python-kivy-changing-defaulttheme-0-png-wont-change-final-apk-design", "title": "Python Kivy: Changing defaulttheme-0.png won&#39;t change final .apk design", "body": "<p>When I change the defaulttheme-0.png of my Python Kivy installation, my App appears different when launching it as .py on Ubuntu. But if I now \"convert\" it to an .apk and run it on my mobile (Android 5.1.2) it appears as before, without the theme being changed.\nWhat do I have to do, to tell kivy/buildozer to integrate the theme into the .apk?</p>\n\n<p>What I tried:\n- Normally running \"sudo buildozer android debug\"\n- Deleting all files created by \"sudo buildozer init\" and calling that one again\n- And of course I searched Google, but as I didn't found anything, I hope you can help me, because my App would be almost done after fixing that problem...</p>\n"}, {"tags": ["python", "python-2.7", "csv"], "comments": [{"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253405, "post_id": 33002706, "comment_id": 53830413, "body": "Are you sure last row of &quot;get_results()&quot; is not an empty line?"}, {"owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "reply_to_user": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253522, "post_id": 33002706, "comment_id": 53830461, "body": "@grael I&#39;m pretty sure yes. I&#39;ve tried other examples (not using the <code>get_results()</code>) and i still have the same problem"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1444253894, "post_id": 33002706, "comment_id": 53830619, "body": "I don&#39;t mind running this on my end if there is any way you can provide the csv file you are using."}, {"owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1444253975, "post_id": 33002706, "comment_id": 53830667, "body": "@idjaw its the end file, not reading of a CSV"}, {"owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "edited": false, "score": 0, "creation_date": 1444254399, "post_id": 33002706, "comment_id": 53830864, "body": "This is really odd as every example seems to do it. I see an extra line in every IDE/text editor I have, but when I <code>vim file.csv</code> I don&#39;t see the space"}, {"owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "edited": false, "score": 0, "creation_date": 1444254457, "post_id": 33002706, "comment_id": 53830900, "body": "When I delete the extra row in my IDE and re-run my parser, it works fine :S"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444256200, "post_id": 33002706, "comment_id": 53831646, "body": "Every line of a text file should end in a newline sequence (CR/LF for Windows, LF for Linux). Editors will allow you to put the cursor on the following line, to allow you to start inserting there, but technically it isn&#39;t a line until you do. I&#39;d fix your parser."}, {"owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444256709, "post_id": 33002706, "comment_id": 53831833, "body": "@MarkRansom This issue does seem to be newline. I&#39;m using a Mac. Could that be the issue? It doesn&#39;t seem to be an issue with my parser. If I open the file in Excel and save as <code>ms-dos csv</code> then i no longer see the empty row at the end of the file"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444258477, "post_id": 33002706, "comment_id": 53832398, "body": "Mac OS X should be similar to Linux, it uses LF only."}], "answers": [{"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444258587, "post_id": 33003620, "comment_id": 53832429, "body": "Just a nit, <code>&#39;\\n&#39;</code> is line feed, <code>&#39;\\r&#39;</code> is carriage return. Otherwise I think you&#39;re 100% correct."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1444264529, "post_id": 33003620, "comment_id": 53834114, "body": "Actually the part you changed was already correct, it&#39;s the <code>&#39;\\n&#39;</code> by itself that I was talking about."}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444427671, "post_id": 33003620, "comment_id": 53916367, "body": "Sheesh. Re-fixed. (I hope LOL)"}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": true, "score": 1, "last_activity_date": 1444427645, "last_edit_date": 1444427645, "creation_date": 1444257668, "answer_id": 33003620, "question_id": 33002706, "link": "https://stackoverflow.com/questions/33002706/generating-csv-and-blank-line/33003620#33003620", "title": "Generating CSV and blank line", "body": "<p>Is the problem the line terminator? It could be as simple as changing one line:</p>\n\n<pre><code>a = csv.writer(fp, delimiter=\",\", quoting=csv.QUOTE_NONE, quotechar='', lineterminator='\\n')\n</code></pre>\n\n<p>I suspect this is it since I know that csv.writer defaults to using carriage return + line feed (\"\\r\\n\") as the line terminator. The program you are using to read the file might be expecting just a line feed (\"\\n\"). This is common in switching file back and forth between *nix and Windows.</p>\n\n<p>If this doesn't work, then the program you are using to read the file seems to be expecting <em>no</em> line terminator for the last row, I'm not sure the csv module supports that. For that, you could write the csv to a StringIO, \"strip()\" it and then write that your file.</p>\n\n<p>Also since you are not quoting anyting, is there a reason to use csv at all? Why not:</p>\n\n<pre><code>with open(file, 'wb') as fp:\n    fp.write(\"\\n\".join( [ \",\".join([ field for field in record ]) for record in get_results()]))\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 707502, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/335072828e0fd0fdc46185ba365bee8e?s=128&d=identicon&r=PG", "display_name": "sipher_z", "link": "https://stackoverflow.com/users/707502/sipher-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 33003620, "answer_count": 1, "score": 2, "last_activity_date": 1444427645, "creation_date": 1444253274, "last_edit_date": 1444256520, "question_id": 33002706, "link": "https://stackoverflow.com/questions/33002706/generating-csv-and-blank-line", "title": "Generating CSV and blank line", "body": "<p>I am generating and parsing CSV files and I'm noticing something odd.</p>\n\n<p>When the CSV gets generated, there is always an empty line at the end, which is causing issues when subsequently parsing them.</p>\n\n<p>My code to generate is as follows:</p>\n\n<pre><code>with open(file, 'wb') as fp:\n    a = csv.writer(fp, delimiter=\",\", quoting=csv.QUOTE_NONE, quotechar='')\n    a.writerow([\"Id\", \"Builing\", \"Age\", \"Gender\"])\n\n    results = get_results()\n\n    for val in results:\n        if any(val):\n            a.writerow(val)\n</code></pre>\n\n<p>It doesn't show up via the command line, but I do see it in my IDE/text editor</p>\n\n<p>Does anyone know why it is doing this?</p>\n\n<p>Could it be possible whitespace?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253136, "post_id": 33002653, "comment_id": 53830291, "body": "Was that Python 2.7?"}, {"owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "reply_to_user": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253173, "post_id": 33002653, "comment_id": 53830303, "body": "Tested on both 2.7 and 3.5"}], "answers": [{"tags": [], "owner": {"reputation": 5940, "user_id": 1558430, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/F7RJl.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/1558430/brian"}, "is_accepted": true, "score": 1, "last_activity_date": 1444255066, "last_edit_date": 1495541671, "creation_date": 1444255066, "answer_id": 33003096, "question_id": 33002653, "link": "https://stackoverflow.com/questions/33002653/inspect-getsourcelinesnone-str-throws-confusing-typeerror/33003096#33003096", "title": "Inspect.getsourcelines(None.__str__) throws confusing TypeError", "body": "<blockquote>\n  <p>what is it?</p>\n</blockquote>\n\n<p>It is a very good question.</p>\n\n<pre><code>&gt;&gt;&gt; type(None.__str__)\n&lt;type 'method-wrapper'&gt;\n&gt;&gt;&gt; None.__str__.__class__\n&lt;type 'method-wrapper'&gt;\n&gt;&gt;&gt; type(None.__str__.__call__)\n&lt;type 'method-wrapper'&gt;\n</code></pre>\n\n<p>Now, what it is depends on <a href=\"https://stackoverflow.com/questions/10401935/python-method-wrapper-type\">which version of python you use</a>, but it is definitely a method-wrapper.</p>\n"}], "owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 33003096, "answer_count": 1, "score": 1, "last_activity_date": 1444255066, "creation_date": 1444253019, "last_edit_date": 1444253194, "question_id": 33002653, "link": "https://stackoverflow.com/questions/33002653/inspect-getsourcelinesnone-str-throws-confusing-typeerror", "title": "Inspect.getsourcelines(None.__str__) throws confusing TypeError", "body": "<p>Today one of my co-workers found the interesting case of</p>\n\n<pre><code>str(None)\n'None'\n</code></pre>\n\n<p>So Naturally I wanted to see how None is defined</p>\n\n<pre><code>inspect.getsourcelines(None.__str__)\nTypeError: &lt;method-wrapper '__str__' of NoneType object at 0x91a870&gt; is not a module, class, method, function, traceback, frame, or code object\n</code></pre>\n\n<p>Which probably isn't surprising since None's most likely defined in <code>C</code>. But that brings up the interesting question, if <code>None.__str__</code> isn't a module, class, method, etc what is it?</p>\n"}, {"tags": ["python", "validation", "date", "compare"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1444254142, "post_id": 33002646, "comment_id": 53830752, "body": "you should use the datetime module."}, {"owner": {"reputation": 11, "user_id": 5053030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-N9_JTDy0u0s/AAAAAAAAAAI/AAAAAAAAABY/NCYSSMm4WmY/photo.jpg?sz=128", "display_name": "Jeffrey Spiteri", "link": "https://stackoverflow.com/users/5053030/jeffrey-spiteri"}, "edited": false, "score": 0, "creation_date": 1444284549, "post_id": 33002646, "comment_id": 53839811, "body": "The addon won&#39;t work, and from logs it tells me that I have a syntax error in &quot;if datenow == expdate:&quot;"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1444306799, "post_id": 33002646, "comment_id": 53854115, "body": "fix the code indentation. Use <code>datetime</code> objects instead of strings to compare dates. Use <a href=\"http://stackoverflow.com/a/26313848/4279\">utc time if your local timezone has DST transitions</a>."}], "owner": {"reputation": 11, "user_id": 5053030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-N9_JTDy0u0s/AAAAAAAAAAI/AAAAAAAAABY/NCYSSMm4WmY/photo.jpg?sz=128", "display_name": "Jeffrey Spiteri", "link": "https://stackoverflow.com/users/5053030/jeffrey-spiteri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444252988, "creation_date": 1444252988, "question_id": 33002646, "link": "https://stackoverflow.com/questions/33002646/python-compare-current-date-to-a-specific-date", "title": "Python compare current date to a specific date", "body": "<p>So basically I have this python kodi which I'm running on Kodi since it's a Kodi addon.</p>\n\n<pre><code>import time \n\ndef checkPassword(path, lock=None):\nexpdate = \"10/07/15\"\ndatenow = time.strftime(\"%x\")\n\nif datenow == expdate:\nreturn 'ERROR'\n\nif not lock:\n    folderConfig = os.path.join(path, FOLDERCFG)\n    lock = getParam('LOCK', folderConfig)\n\ntitle  = GETTEXT(30069) % path.rsplit(os.sep, 1)[-1]\nunlock = getText(title, hidden=True)\n\nif not unlock:\n    return ''\n\nmd5   = utils.generateMD5(unlock)\nmatch = md5 == lock\n\nif not match:\n    return 'ERROR'\n\nreturn md5\n</code></pre>\n\n<p>Basically I have a favourites folder which is locked with password, I want to show an error if the account is expired. I can preset the date from the addon myself like I did in the example, but somehow my addon is giving me an error with this code. Can you tell me what I have wrong? The problem is somewhere in the first 6 lines, since when I remove it, it works, but obviously without the date check.</p>\n"}, {"tags": ["python", "find"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444253378, "post_id": 33002602, "comment_id": 53830395, "body": "<code>start</code> and <code>imgstart</code> are integers, not strings. You might want to look into the page content instead"}, {"owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444255332, "post_id": 33002602, "comment_id": 53831282, "body": "doesn&#39;t find return integers? I am expecting them to be integers"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444257084, "post_id": 33002602, "comment_id": 53831968, "body": "hey, somebody just edited the code and now it correctly says <code>content.find</code>, instead of <code>start.find</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253300, "creation_date": 1444253300, "answer_id": 33002712, "question_id": 33002602, "link": "https://stackoverflow.com/questions/33002602/what-am-i-doing-wrong-with-this-python-find-method/33002712#33002712", "title": "What am I doing wrong with this python find() method?", "body": "<p>You are not in the <code>while</code> loop because <code>imgstart == 1</code> in the beginning</p>\n"}, {"comments": [{"owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "edited": false, "score": 0, "creation_date": 1444256415, "post_id": 33002733, "comment_id": 53831733, "body": "really? i wonder why it&#39;s not running on mine then. well it just prints the content it doesn&#39;t print the imageurl like i exptected."}, {"owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "edited": false, "score": 0, "creation_date": 1444257068, "post_id": 33002733, "comment_id": 53831961, "body": "okay, i got it running but i i expected to see more than 7 results, should be hundreds (at least that&#39;s what i see when i load the page manually from a browser)."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "reply_to_user": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "edited": false, "score": 0, "creation_date": 1444257196, "post_id": 33002733, "comment_id": 53832012, "body": "@TinTran I&#39;ve updated with the code that I managed to get running, let me know if you have any questions about it we can go over it."}, {"owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "edited": false, "score": 0, "creation_date": 1444257327, "post_id": 33002733, "comment_id": 53832051, "body": "nice your code solved it i just gotta check to see if i &lt;= 1000"}, {"owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "edited": false, "score": 1, "creation_date": 1444257350, "post_id": 33002733, "comment_id": 53832054, "body": "Thanks a lot I have been playing with this for like an hour"}], "tags": [], "owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1444257457, "last_edit_date": 1444257457, "creation_date": 1444253363, "answer_id": 33002733, "question_id": 33002602, "link": "https://stackoverflow.com/questions/33002602/what-am-i-doing-wrong-with-this-python-find-method/33002733#33002733", "title": "What am I doing wrong with this python find() method?", "body": "<p>You have two problems. The first being that you are never entering your while loop:</p>\n\n<p>You have set <code>imgstart = 1</code>, so you will never enter the loop.</p>\n\n<p>set this instead:</p>\n\n<pre><code>while imgstart &gt;= 1:\n</code></pre>\n\n<p>However, your next problem is that you have an infinite loop because you are incrementing imgstart in your loop. I am not sure what your intention is with this incrementer, but you need to ensure you have an exit condition.</p>\n\n<p>Based on the code provided, I managed to get it to run, however, I did have to modify it slightly to make sure it ended.</p>\n\n<p>I changed the while loop to only run for 10 iterations to get some kind of sample. Some of the data came back as the full markup, which I don't think you want, but there were URLs there. So you might want to look up your matchers to make sure you have your matching set correctly.</p>\n\n<pre><code>imgstart = 1\ni = 0\n#while imgstart &gt;= 1:\nwhile i &lt;= 10:\n    start = imgstart+1\n    imgstart = content.find(',\"ou\":\"', start)\n    imgend = content.find('\",\"ow\":', imgstart + 1)\n    imgurl = content[imgstart+7:imgend]\n    print imgurl\n    i += 1\n</code></pre>\n"}], "owner": {"reputation": 5985, "user_id": 2948749, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/nYA4W.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/2948749/tin-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 33002733, "answer_count": 2, "score": -1, "last_activity_date": 1444257457, "creation_date": 1444252798, "last_edit_date": 1444253217, "question_id": 33002602, "link": "https://stackoverflow.com/questions/33002602/what-am-i-doing-wrong-with-this-python-find-method", "title": "What am I doing wrong with this python find() method?", "body": "<pre><code>import urllib2,cookielib\n\nsite= \"https://www.google.com/search?q=buddha&amp;source=lnms&amp;tbm=isch'\"\nhdr = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11',\n       'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n       'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',\n       'Accept-Encoding': 'none',\n       'Accept-Language': 'en-US,en;q=0.8',\n       'Connection': 'keep-alive'}\n\nreq = urllib2.Request(site, headers=hdr)\n\ntry:\n    page = urllib2.urlopen(req)\n    content = page.read()\nexcept urllib2.HTTPError, e:\n    content = e.fp.read()\n#content = page.read()\nprint content\n\nimgstart = 1\nwhile imgstart &gt; 1:\n    start = imgstart+1\n    imgstart = content.find(',\"ou\":\"',start)\n    #print imgstart\n    imgend = content.find('\",\"ow\":',imgstart+1)\n    #print imgend\n    imgurl = content[imgstart+7:imgend]\n    print imgurl\n</code></pre>\n\n<p>If I copy the printed content into Notepad++, I can easily find ',\"ou\":\"' but for some reason my <code>content.find</code> method cannot.</p>\n"}, {"tags": ["python", "django", "django-urls"], "comments": [{"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1444253849, "post_id": 33002502, "comment_id": 53830592, "body": "I just went down a rabbit hole of: reverse the url, match the url to a urlpattern, compile the urlpattern regex, and inspecting the <code>groupindex</code> of the regex... I&#39;ve got to be missing something here."}, {"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "reply_to_user": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 1, "creation_date": 1444254161, "post_id": 33002502, "comment_id": 53830764, "body": "An issue is that you can&#39;t reverse the url before you already know the required url parameter names - django will raise an error for <code>reverse(&#39;thing_feature&#39;)</code> because it&#39;s missing the needed kwargs!"}, {"owner": {"reputation": 8338, "user_id": 55283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6adb50f300c3044905863088644dafd?s=128&d=identicon&r=PG", "display_name": "Tiago", "link": "https://stackoverflow.com/users/55283/tiago"}, "edited": false, "score": 0, "creation_date": 1444254456, "post_id": 33002502, "comment_id": 53830899, "body": "You can try this <a href=\"http://stackoverflow.com/a/1275601\">stackoverflow.com/a/1275601</a> I tried myself here, and using <code>.items()</code> instead, it returns a nice list of tuples that has the kwargs. You have to go deeper &lt;<a href=\"https://github.com/django/django/blob/stable/1.8.x/django/core/urlresolvers.py#L446\" rel=\"nofollow noreferrer\">github.com/django/django/blob/stable/1.8.x/django/core/&hellip;</a>&gt; seems to be a good start, unfortunately I&#39;m going home now and can&#39;t go deeper."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1444255557, "post_id": 33002502, "comment_id": 53831365, "body": "I just want to add that you don&#39;t need the kwarg names themselves to reverse the pattern. Even patterns with named groups accept positional arguments."}], "answers": [{"tags": [], "owner": {"reputation": 3348, "user_id": 408870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/965032240f7a1613a61ab201eecc0c2e?s=128&d=identicon&r=PG", "display_name": "Dan O&#39;Boyle", "link": "https://stackoverflow.com/users/408870/dan-oboyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1444255082, "last_edit_date": 1592644375, "creation_date": 1444254371, "answer_id": 33002958, "question_id": 33002502, "link": "https://stackoverflow.com/questions/33002502/django-get-names-of-parameters-needed-to-reverse-url/33002958#33002958", "title": "Django - get names of parameters needed to reverse url", "body": "<p>You should be able to do this with a <a href=\"https://docs.djangoproject.com/en/1.8/ref/urlresolvers/#resolve\" rel=\"nofollow noreferrer\"><code>resolve()</code></a></p>\n<p>From the Docs:</p>\n<blockquote>\n<p>A ResolverMatch object can then be interrogated to provide information about the URL pattern that matches a URL:</p>\n<p><code>func, args, kwargs = resolve('/some/path/')</code></p>\n</blockquote>\n<p>Specific to your example code:</p>\n<pre><code>url = reverse('thing_feature')\nfunc, args, kwargs = resolve(url)\n# args == ['thing_name', 'feature_name']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 0, "creation_date": 1444256516, "post_id": 33003073, "comment_id": 53831768, "body": "You sir are a savage. Your code doesn&#39;t quite work directly, but it gave me more than enough information to make it functional. I&#39;m also not worried about url regexes resulting in multiple kwarg arrangements. Updated my question to reflect what worked in the end."}, {"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 0, "creation_date": 1444257343, "post_id": 33003073, "comment_id": 53832052, "body": "p.s. It sounds like you&#39;re one of the django authors?"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 0, "creation_date": 1444257382, "post_id": 33003073, "comment_id": 53832064, "body": "@GershomMaes I&#39;m a contributor, not part of the core team though ;)"}, {"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 0, "creation_date": 1444257421, "post_id": 33003073, "comment_id": 53832080, "body": "Oh, coolcool, anyhow thanks for the great answer! It&#39;ll serve me well :)"}], "tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": true, "score": 2, "last_activity_date": 1444254973, "creation_date": 1444254973, "answer_id": 33003073, "question_id": 33002502, "link": "https://stackoverflow.com/questions/33002502/django-get-names-of-parameters-needed-to-reverse-url/33003073#33003073", "title": "Django - get names of parameters needed to reverse url", "body": "<p>I'll start with a fair warning: this isn't possible using the public API. On top of that, I'm actively working to rewrite the URL dispatcher for 1.10, so this method will most likely break by that time.</p>\n\n<p>First, you need to get the right <code>RegexURLResolver</code>. If the view is not in a namespace, you can use the <code>reverse_dict</code> to get a list of possibilities, and extract the kwargs:</p>\n\n<pre><code>def get_kwargs(view_name):\n    resolver = urlresolvers.get_resolver()\n    patterns = resolver.reverse_dict.getlist(view_name)\n    kwargs = []\n    for possibility, pattern, defaults in patterns:\n        for result, params in possibility:\n            kwargs.append(params)\n    return kwargs\n</code></pre>\n\n<p>Since a view name can have multiple patterns with different kwargs (though you'd want to avoid that for your own sanity), this will return a list of each set of possible kwargs. Usually the different sets would be the required kwargs on one side and required + optional kwargs on the other side. </p>\n\n<p>I haven't tested this, but if it doesn't work you can dig around in <code>resolver.reverse_dict</code> for a bit to find out the exact specifics. It wasn't exactly designed with usability in mind. </p>\n"}], "owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1533, "favorite_count": 4, "accepted_answer_id": 33003073, "answer_count": 2, "score": 9, "last_activity_date": 1493137885, "creation_date": 1444252375, "last_edit_date": 1493137885, "question_id": 33002502, "link": "https://stackoverflow.com/questions/33002502/django-get-names-of-parameters-needed-to-reverse-url", "title": "Django - get names of parameters needed to reverse url", "body": "<h1>Background</h1>\n\n<p>Let's say I have a url pattern with parameters that will link me to a view in django:</p>\n\n<pre><code>url(\n    r'^things/(?P&lt;thing_name&gt;\\w+)/features/(?P&lt;feature_name&gt;\\w+)$',\n    views.thingFeature,\n    name='thing_feature'\n),\n</code></pre>\n\n<p>And lets say I have a <code>thing</code> and a <code>feature</code>:</p>\n\n<pre><code>thing = Thing.objects.get(.....)\nfeature = thing.feature_set.first()\n\nt_name = thing.name\nf_name = feature.name\n</code></pre>\n\n<p>Now Django gives me the awesome ability to get a url that brings me to a page dedicated to a specific feature of a specific thing. I can do that like so:</p>\n\n<pre><code>from django.core.urlresolvers import reverse\nurl = reverse('thing_feature', thing_name=t_name, feature_name=f_name)\n# url == '/things/thing2/features/left-arm'\n</code></pre>\n\n<h1>Question</h1>\n\n<p>Now I've stumbled into a situation that I need to specifically address. I'm not looking for a workaround - I'm looking to solve the following problem:</p>\n\n<p><strong>Given a url's <code>name</code>, how do I get the list of <code>kwarg</code> argument names needed to reverse that url?</strong></p>\n\n<p>I am looking for the function <code>get_kwarg_names_for_url</code>. It behaves like so:</p>\n\n<pre><code>url_kwarg_names = get_kwarg_names_for_url('thing_feature')\n# url_kwarg_names == ['thing_name', 'feature_name']\n</code></pre>\n\n<p><code>url_kwarg_names</code> is now the list of every keyword I need to supply to Django's <code>reverse</code> function in order to reverse the url named <code>\"thing_feature\"</code>.</p>\n\n<p>Any help is appreciated!</p>\n\n<h1>Solution</h1>\n\n<p>Based on knbk's answer I was able to come up with the following solution:</p>\n\n<pre><code>def get_kwarg_names_for_url(url_name):\n    resolver = get_resolver(get_urlconf())\n    reverse_data = resolver.reverse_dict[url_name]\n\n    pattern_list = reverse_data[0]\n\n    '''\n    Need to specify the 1st pattern because url regexes can\n    potentially have multiple kwarg arrangments - this function does\n    not take this possibility into account.\n    ''' \n    first_pattern = pattern_list[0]\n\n    '''\n    `first_pattern` is now of the form `(url_string, kwarg_list)` -\n    all we are interested in is the 2nd value.\n    '''\n    return first_pattern[1]\n</code></pre>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": false, "score": 4, "last_activity_date": 1444253103, "last_edit_date": 1444253103, "creation_date": 1444252447, "answer_id": 33002524, "question_id": 33002473, "link": "https://stackoverflow.com/questions/33002473/how-to-add-strings-to-a-list-in-python/33002524#33002524", "title": "How to add strings to a list in Python?", "body": "<p>What you're doing is just adding extra strings to the list, rather than appending/prepending to the strings themselves.</p>\n\n<p>From your code above, you could probably do this, if you just wanted a list of strings:</p>\n\n<pre><code>list_of_shapes = []\n\nwhile p &gt;= 0:\n\n    #Here is a bunch of code\n\n    list_of_shapes.append(\"c {0}\".format(','.join(circle))) # append data for circles by converting the circle list into a string\nwhile p2 &gt;= 0:\n    #bunch of code\n    list_of_shapes.append(\"r {0}\".format(','.join(rect))) # append data for rect by converting the rect list into a string\nwhile p3 &gt;= 0:\n    #code\n    list_of_shapes.append(\"p {0}\".format(','.join(poly))) # append data for polygon by converting the poly list into a string\n\nreturn list_of_shapes\n</code></pre>\n\n<p>You would then just print this list out like this:</p>\n\n<pre><code>for shape in list_of_shapes: print(shape)\n</code></pre>\n\n<p>Note that in all <code>while</code> blocks, you now only execute <code>list_of_shapes.append</code> once.</p>\n\n<p>This uses <a href=\"https://docs.python.org/2/library/stdtypes.html#str.format\" rel=\"nofollow\"><code>str.format()</code></a> which allows you to format a string a specific way.</p>\n\n<p>However, if you want to retain all the list data separately (rather than make it entirely a string), something like what Snakes and Coffee suggests would work.</p>\n"}, {"tags": [], "owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "is_accepted": false, "score": 0, "last_activity_date": 1444252472, "creation_date": 1444252472, "answer_id": 33002531, "question_id": 33002473, "link": "https://stackoverflow.com/questions/33002473/how-to-add-strings-to-a-list-in-python/33002531#33002531", "title": "How to add strings to a list in Python?", "body": "<p>To append your desired letter to list you can do:</p>\n\n<pre><code>list = [15,100,25.0]\nlist_with_letter = [\"c\"] + list\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8215, "user_id": 871980, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e9a6a7b965ca1144465dfce88b3c4807?s=128&d=identicon&r=PG", "display_name": "Snakes and Coffee", "link": "https://stackoverflow.com/users/871980/snakes-and-coffee"}, "is_accepted": true, "score": 2, "last_activity_date": 1444252581, "creation_date": 1444252581, "answer_id": 33002559, "question_id": 33002473, "link": "https://stackoverflow.com/questions/33002473/how-to-add-strings-to-a-list-in-python/33002559#33002559", "title": "How to add strings to a list in Python?", "body": "<p>The problem is in here:</p>\n\n<pre><code>while p &gt;= 0:\n\n    #Here is a bunch of code\n\n    list_of_shapes.append(\"c\")\n    list_of_shapes.append(circle) # appends the data for the circles\nwhile p2 &gt;= 0:\n    #bunch of code\n    list_of_shapes.append(\"r\")\n    list_of_shapes.append(rect) # appends the data for the rectangle\nwhile p3 &gt;= 0:\n    #code\n    list_of_shapes.append(\"p\")\n    list_of_shapes.append(poly) # appends the data for the polygon\n\n    return list_of_shapes\n</code></pre>\n\n<p>This gives you <code>['c', &lt;circle&gt;, 'r', &lt;rect&gt;, 'p', &lt;poly&gt;]</code>. You could do this:</p>\n\n<pre><code>while p &gt;= 0:\n\n    #Here is a bunch of code\n    list_of_shapes.append((\"c\", circle)) # appends the data for the circles\nwhile p2 &gt;= 0:\n    #bunch of code\n    list_of_shapes.append((\"r\", rect)) # appends the data for the rectangle\nwhile p3 &gt;= 0:\n    #code\n    list_of_shapes.append((\"p\", poly)) # appends the data for the polygon\n\n    return list_of_shapes\n</code></pre>\n\n<p>This basically pairs each shape with its classification. Then you can print by doing this:</p>\n\n<pre><code>for shape_type, shape in list_of_shapes:\n    print(\"{} {}\".format(shape_type, \",\".join(str(item) for item in shapes)))\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 5344839, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7522d49f03cbccb5ca9d405aa4474b0d?s=128&d=identicon&r=PG&f=1", "display_name": "jo13", "link": "https://stackoverflow.com/users/5344839/jo13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9549, "favorite_count": 0, "accepted_answer_id": 33002559, "answer_count": 3, "score": 1, "last_activity_date": 1444253103, "creation_date": 1444252213, "question_id": 33002473, "link": "https://stackoverflow.com/questions/33002473/how-to-add-strings-to-a-list-in-python", "title": "How to add strings to a list in Python?", "body": "<p>I have a list of values that looks like this: </p>\n\n<pre><code>15,100,25.0\n-50,-50,50.0\n-20,120,70,40\n200,-100,25,5\n</code></pre>\n\n<p>The first two lines represent values for a circle, the third for a rectangle and the fourth for a polygon. I would like the output to look like this:</p>\n\n<pre><code>c 15,100,25.0\nc -50,-50,50.0\nr -20,120,70,40\np 200,-100,25,5\n</code></pre>\n\n<p>I'm not sure how I can add the letter for each of the lines. I have a for-loop that I'm using to go through the information in the string to print them out.</p>\n\n<pre><code>for shapes in list_of_shapes:\n    print(\",\".join(str(item) for item in shapes))\n</code></pre>\n\n<p>Here's some of my code:</p>\n\n<pre><code>list_of_shapes = []\n\nwhile p &gt;= 0:\n\n    #Here is a bunch of code\n\n    list_of_shapes.append(\"c\")\n    list_of_shapes.append(circle) # appends the data for the circles\nwhile p2 &gt;= 0:\n    #bunch of code\n    list_of_shapes.append(\"r\")\n    list_of_shapes.append(rect) # appends the data for the rectangle\nwhile p3 &gt;= 0:\n    #code\n    list_of_shapes.append(\"p\")\n    list_of_shapes.append(poly) # appends the data for the polygon\n\n    return list_of_shapes\n</code></pre>\n\n<p>Once I do this for all of them, I end up getting:</p>\n\n<pre><code>c\n15,100,25.0\nc\n-50,-50,50.0\nr\n-20,120,70,40\np\n200,-100,25,5\n</code></pre>\n\n<p>Any help would be greatly appreciated :)</p>\n"}, {"tags": ["python", "database", "postgresql", "encryption", "psycopg2"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5420373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9021e22fe978cfb87193e29009c426?s=128&d=identicon&r=PG&f=1", "display_name": "user5420373", "link": "https://stackoverflow.com/users/5420373/user5420373"}, "edited": false, "score": 0, "creation_date": 1444320057, "post_id": 33004093, "comment_id": 53864162, "body": "I made the change you suggested and I am still getting the &quot;memory at...&quot; line :/"}, {"owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "reply_to_user": {"reputation": 21, "user_id": 5420373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9021e22fe978cfb87193e29009c426?s=128&d=identicon&r=PG&f=1", "display_name": "user5420373", "link": "https://stackoverflow.com/users/5420373/user5420373"}, "edited": false, "score": 0, "creation_date": 1444324501, "post_id": 33004093, "comment_id": 53866668, "body": "@user5420373 Check my test with Python 2.7"}, {"owner": {"reputation": 21, "user_id": 5420373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9021e22fe978cfb87193e29009c426?s=128&d=identicon&r=PG&f=1", "display_name": "user5420373", "link": "https://stackoverflow.com/users/5420373/user5420373"}, "edited": false, "score": 0, "creation_date": 1444683456, "post_id": 33004093, "comment_id": 53996181, "body": "unfortunately I still cannot get the code to output the decrypted id, I think it is an issue with how the data is stored in our database and using python to execute the query instead of when we manually do it through PGAdmin.  Thank you for your response, I feel better about the work I have done :)"}], "tags": [], "owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "is_accepted": false, "score": 0, "last_activity_date": 1444324466, "last_edit_date": 1444324466, "creation_date": 1444260310, "answer_id": 33004093, "question_id": 33002463, "link": "https://stackoverflow.com/questions/33002463/using-psycopg2-to-query-postgresql-for-a-decryption-but-i-am-getting-a-memory-lo/33004093#33004093", "title": "Using psycopg2 to query postgresql for a decryption but I am getting a memory location, why could this be?", "body": "<p><code>decrypt</code> returns <code>bytea</code>. As you are printing the row not the individual values, it is not adapted back. Print the values in instead: </p>\n\n<pre><code>for r in cur:\n    print(r[0], r[1])\n</code></pre>\n\n<p>Tested in Python 2.7:</p>\n\n<pre><code>query = \"select decrypt(encrypt('1', 'xyz', 'aes'), 'xyz', 'aes');\"\ncursor.execute(query)\nrs = cursor.fetchall()\nfor r in rs:\n    print r, r[0]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>(&lt;read-only buffer for 0xb732b0e0, size 1, offset 0 at 0xb67a9ca0&gt;,) 1\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5420373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9021e22fe978cfb87193e29009c426?s=128&d=identicon&r=PG&f=1", "display_name": "user5420373", "link": "https://stackoverflow.com/users/5420373/user5420373"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444324466, "creation_date": 1444252168, "last_edit_date": 1444321710, "question_id": 33002463, "link": "https://stackoverflow.com/questions/33002463/using-psycopg2-to-query-postgresql-for-a-decryption-but-i-am-getting-a-memory-lo", "title": "Using psycopg2 to query postgresql for a decryption but I am getting a memory location, why could this be?", "body": "<p>I am new to psycopg2 and postgresql (and frankly coding) so I apologize if I have anything wrong to begin with.</p>\n\n<p>I am hoping to create a python script that when prompted by the user for an ID number, it finds the associated encrypted number in the database and then decrypts it and sends it back.  </p>\n\n<p>I haven't been able to get my script to output the decrypted number and get what seems to be where it is located in the memory.</p>\n\n<p>Here is my code and result.</p>\n\n<pre><code>&gt;&gt;&gt; import psycopg2\n&gt;&gt;&gt; conn = psycopg2.connect(database=\"db_name\", user=\"db_user\", password=\"db_pswrd\", host=\"db_IP\")\n&gt;&gt;&gt; cur = conn.cursor()\n&gt;&gt;&gt; id = input(\"Enter an id: \")\n    Enter an id: 123456\n&gt;&gt;&gt; id= str(id)\n&gt;&gt;&gt; cur.execute(\"SELECT id, decrypt(num, 'decryption_key', 'decryption_type') from table_name where id in (%s) \", (id,))\n\n&gt;&gt;&gt; for record in cur:\n         print(record)\n\n\n(123456, &lt;memory at 0x02483590&gt;)\n</code></pre>\n\n<p>The number entered as the id must be a string and the encrypted is type bytea if that is relevant at all.</p>\n\n<p>When I use the part in the <code>cur.execute</code> it works just fine in PGAdmin so I am not sure where I could be going wrong.</p>\n\n<p>Please let me know if there is anything else I need to include, I changed some sensitive information.</p>\n\n<p>I am using python 3.4 by the way.</p>\n"}, {"tags": ["python", "cassandra"], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 2936113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14f8658e470eb23b9f316f3268165fe7?s=128&d=identicon&r=PG&f=1", "display_name": "cdn", "link": "https://stackoverflow.com/users/2936113/cdn"}, "edited": false, "score": 0, "creation_date": 1444677809, "post_id": 33003724, "comment_id": 53993507, "body": "How do I find out the version of C* that I&#39;m running?"}, {"owner": {"reputation": 614, "user_id": 2936113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14f8658e470eb23b9f316f3268165fe7?s=128&d=identicon&r=PG&f=1", "display_name": "cdn", "link": "https://stackoverflow.com/users/2936113/cdn"}, "edited": false, "score": 0, "creation_date": 1444682658, "post_id": 33003724, "comment_id": 53995808, "body": "I&#39;m running version 2.1.9"}, {"owner": {"reputation": 15956, "user_id": 1174164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8051b5eff74fe28ec64469ec1ed24bca?s=128&d=identicon&r=PG", "display_name": "RussS", "link": "https://stackoverflow.com/users/1174164/russs"}, "reply_to_user": {"reputation": 614, "user_id": 2936113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14f8658e470eb23b9f316f3268165fe7?s=128&d=identicon&r=PG&f=1", "display_name": "cdn", "link": "https://stackoverflow.com/users/2936113/cdn"}, "edited": false, "score": 0, "creation_date": 1444688583, "post_id": 33003724, "comment_id": 53998237, "body": "And up above you said you are running 2.2.1 . My guess is you are using the cqlsh from 2.2.1 against 2.1.9"}], "tags": [], "owner": {"reputation": 15956, "user_id": 1174164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8051b5eff74fe28ec64469ec1ed24bca?s=128&d=identicon&r=PG", "display_name": "RussS", "link": "https://stackoverflow.com/users/1174164/russs"}, "is_accepted": false, "score": 3, "last_activity_date": 1444258174, "creation_date": 1444258174, "answer_id": 33003724, "question_id": 33002404, "link": "https://stackoverflow.com/questions/33002404/cassandra-cqlsh-unable-to-connect-to-any-servers/33003724#33003724", "title": "Cassandra cqlsh &quot;unable to connect to any servers&quot;", "body": "<pre><code>ProtocolError(\"cql_version '3.3.0' is not supported by remote (w/ native protocol). Supported versions: [u'3.2.0']\"\n</code></pre>\n\n<p>Indicates that there is a version mismatch between the C* version you are running and the python driver run by CQLSH. Make sure they are all out of the same release.</p>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 326835, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MSfzG.jpg?s=128&g=1", "display_name": "Harshad Vyawahare", "link": "https://stackoverflow.com/users/326835/harshad-vyawahare"}, "is_accepted": false, "score": 0, "last_activity_date": 1454050129, "creation_date": 1454050129, "answer_id": 35078494, "question_id": 33002404, "link": "https://stackoverflow.com/questions/33002404/cassandra-cqlsh-unable-to-connect-to-any-servers/35078494#35078494", "title": "Cassandra cqlsh &quot;unable to connect to any servers&quot;", "body": "<p>I was facing a similar issue when I was executing bin/cqlsh. I was seeing the below error:</p>\n\n<pre><code>Connection error: ('Unable to connect to any servers', {'cassandra-1.alpha.mimosacloud.co': ProtocolError(\"cql_version '3.2.0' is not supported by remote (w/ native protocol). Supported versions: [u'3.2.1']\",)})\n</code></pre>\n\n<p>My remote server was using cassandra 2.1.12 and I was trying to connect to it using the cqlsh bundeled with apache-cassandra-2.1.7. My problem was resolved when I downloaded apache-cassandra-2.1.12 from <a href=\"http://cassandra.apache.org/download/\" rel=\"nofollow\">this link</a> and used the cqlsh bundled with it.</p>\n\n<p>Details of my server are:\n[cqlsh 5.0.1 | Cassandra 2.1.12 | CQL spec 3.2.1 | Native protocol v3]</p>\n"}, {"tags": [], "owner": {"reputation": 2735, "user_id": 2577822, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100001748237107/picture?type=large", "display_name": "Eric Walsh", "link": "https://stackoverflow.com/users/2577822/eric-walsh"}, "is_accepted": true, "score": 91, "last_activity_date": 1459646933, "creation_date": 1459646933, "answer_id": 36380659, "question_id": 33002404, "link": "https://stackoverflow.com/questions/33002404/cassandra-cqlsh-unable-to-connect-to-any-servers/36380659#36380659", "title": "Cassandra cqlsh &quot;unable to connect to any servers&quot;", "body": "<p>You can force cqlsh to use a specific cql version using the flag </p>\n\n<blockquote>\n  <p>--cqlversion=\"#.#.#\"</p>\n</blockquote>\n\n<p>Example cqlsh usage (and key/values):</p>\n\n<pre><code>cqlsh 12.34.56.78 1234 -u username -p password --cqlversion=\"3.2.0\"\ncqlsh (IP ADDR)  (PORT)  (DB_USERN)  (DB_PASS)               (VER)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 434, "user_id": 4682789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBdW9.png?s=128&g=1", "display_name": "AllenMoh", "link": "https://stackoverflow.com/users/4682789/allenmoh"}, "edited": false, "score": 0, "creation_date": 1560390093, "post_id": 48274325, "comment_id": 99723124, "body": "this should be the accepted answer because it doesn&#39;t force you to pass additional parameters to cqlsh"}], "tags": [], "owner": {"reputation": 79, "user_id": 6764972, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a7d511616b25f14c3b4fe23891a199f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhairya Bhardwaj", "link": "https://stackoverflow.com/users/6764972/dhairya-bhardwaj"}, "is_accepted": false, "score": 5, "last_activity_date": 1516078526, "creation_date": 1516078526, "answer_id": 48274325, "question_id": 33002404, "link": "https://stackoverflow.com/questions/33002404/cassandra-cqlsh-unable-to-connect-to-any-servers/48274325#48274325", "title": "Cassandra cqlsh &quot;unable to connect to any servers&quot;", "body": "<p>edit cqlsh.py file (you can find it using <code>which cqlsh</code>) and change the value of\n <code>DEFAULT_CQLVER = 'z.z.z'</code> to the supported version.</p>\n"}], "owner": {"reputation": 614, "user_id": 2936113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14f8658e470eb23b9f316f3268165fe7?s=128&d=identicon&r=PG&f=1", "display_name": "cdn", "link": "https://stackoverflow.com/users/2936113/cdn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25567, "favorite_count": 8, "accepted_answer_id": 36380659, "answer_count": 4, "score": 40, "last_activity_date": 1516078526, "creation_date": 1444251935, "question_id": 33002404, "link": "https://stackoverflow.com/questions/33002404/cassandra-cqlsh-unable-to-connect-to-any-servers", "title": "Cassandra cqlsh &quot;unable to connect to any servers&quot;", "body": "<p>I get the following message when executing cqlsh.bat on the command line</p>\n\n<pre><code>Connection error: ('Unable to connect to any servers', {'127.0.0.1': ProtocolError(\"cql_version '3.3.0' is not supported by remote (w/ native protocol). Supported versions: [u'3.2.0']\",)})\n</code></pre>\n\n<p>I'm running Python version 2.7.10 along with Cassandra version 2.2.1. Not sure if it's related but when I start the Cassandra server I need to run \"Set-ExecutionPolicy Unrestricted\" on PowerShell or else it doesn't work.</p>\n"}, {"tags": ["python", "flask", "flask-wtforms", "flask-admin"], "answers": [{"tags": [], "owner": {"reputation": 1784, "user_id": 5451046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBPEC.png?s=128&g=1", "display_name": "Dauros", "link": "https://stackoverflow.com/users/5451046/dauros"}, "is_accepted": false, "score": 4, "last_activity_date": 1445375646, "creation_date": 1445375646, "answer_id": 33246897, "question_id": 33002393, "link": "https://stackoverflow.com/questions/33002393/flask-admin-catch-changes-on-inline-models/33246897#33246897", "title": "Flask-admin: catch changes on inline_models", "body": "<p>You can use WTForms' <a href=\"http://wtforms.simplecodes.com/docs/1.0.2/fields.html#wtforms.fields.Field.object_data\" rel=\"nofollow\">Field.object_data</a> attribute:</p>\n\n<blockquote>\n  <p>This is the data passed from an object or from kwargs to the field,\n  stored unmodified. This can be used by templates, widgets, validators\n  as needed (for comparison, for example)</p>\n</blockquote>\n\n<p>So you can compare <code>UserNote.body</code> old and new values, then change the author if needed like this:</p>\n\n<pre><code>class ModelFormWithAuthorship(InlineFormAdmin):\n    def on_model_change(self, form, model):    \n        # Check whether note's body has changed\n        if form.body.object_data != form.body.data:\n            model.author = User.query.first()\n</code></pre>\n"}], "owner": {"reputation": 2770, "user_id": 995270, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgv9N.jpg?s=128&g=1", "display_name": "Nikolai Golub", "link": "https://stackoverflow.com/users/995270/nikolai-golub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2020, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1445375646, "creation_date": 1444251876, "question_id": 33002393, "link": "https://stackoverflow.com/questions/33002393/flask-admin-catch-changes-on-inline-models", "title": "Flask-admin: catch changes on inline_models", "body": "<p>I have a simple application, full code presented <a href=\"https://github.com/citizen-stig/flask-demos/tree/flask-admin-inline-edit\" rel=\"nofollow\">here</a>. It uses flask-admin</p>\n\n<p>the models:</p>\n\n<pre><code>class User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String, unique=True)\n\n\nclass UserNote(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    body = db.Column(db.String, nullable=False)\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'))\n    author_id = db.Column(db.Integer, db.ForeignKey('users.id'))\n    user = db.relationship(User,\n                           foreign_keys='UserNote.user_id',\n                           backref=db.backref('user_notes', order_by=id))\n    author = db.relationship(User,\n                             foreign_keys='UserNote.author_id',\n                             backref=db.backref('author_user_notes',\n                                                order_by=id))\n</code></pre>\n\n<p>and the main app.py:</p>\n\n<pre><code>app = Flask(__name__)\n\nclass ModelFormWithAuthorship(InlineFormAdmin):\n    def on_model_change(self, form, model):\n        user = User.query.first()\n        print('++++++')\n        print(user)\n        print(model)\n        print('++++++')\n        model.author = user\n\nclass UserModelView(ModelView):\n    inline_models = (ModelFormWithAuthorship(UserNote),)\n\n\nadmin = Admin(app, url='/admin', name='MyAdmin', template_mode='bootstrap3')\nadmin.add_view(UserModelView(User, db.session))\n</code></pre>\n\n<p>I want to automatically set the first user from the query as author of the changed UserNote. It's simplification for a current logged in user.</p>\n\n<p>But the flask admin passes all inline models to this method.</p>\n\n<p>Here is steps for reporduce</p>\n\n<ol>\n<li>Start application</li>\n<li>Create user with name user1 (this user might be the first())</li>\n<li>Create user with name admin1</li>\n<li>Create user with name admin2</li>\n<li>Create 2 inline notes, it will have the user1 as author</li>\n<li>Connect to the database directly and change author of one of the note to admin1 and the other note to the admin2</li>\n<li>Go to the Flask-Admin and make sure, that you have 2 notes from 2 users</li>\n<li>Edit body of first note and click save</li>\n</ol>\n\n<p><strong>Expected result</strong> for these actions for me was, that first note will have user1 as author and author of the second note will remain the same.\nBut  <strong>Actual result</strong> is following: author for both notes set to the user1.</p>\n\n<p>I've tried to debug, and found some interesting attributes:</p>\n\n<pre><code># Not changed note\nmodel._sa_instance_state._attached = {bool} True\nmodel._sa_instance_state.deleted = {bool} False\nmodel._sa_instance_state.detached = {bool} False\nmodel._sa_instance_state.expired = {bool} False\nmodel._sa_instance_state.has_identity = {bool} True\nmodel._sa_instance_state.pending = {bool} False\nmodel._sa_instance_state.persistent = {bool} True\nmodel._sa_instance_state.transient = {bool} False\nmodel.body = {str} 'test1'\nmodel._sa_instance_state.modified = {bool} True\n\n# Changed note\nmodel._sa_instance_state._attached = {bool} True\nmodel._sa_instance_state.deleted = {bool} False\nmodel._sa_instance_state.detached = {bool} False\nmodel._sa_instance_state.expired = {bool} False\nmodel._sa_instance_state.has_identity = {bool} True\nmodel._sa_instance_state.pending = {bool} False\nmodel._sa_instance_state.persistent = {bool} True\nmodel._sa_instance_state.transient = {bool} False\nmodel.body = {str} 'test2A'\nmodel._sa_instance_state.modified = {bool} True\n</code></pre>\n\n<p>But they're indistinguishable from each other.</p>\n\n<p>Is there way to catch only changed models?</p>\n"}, {"tags": ["jquery", "python", "html", "django", "forms"], "comments": [{"owner": {"reputation": 648, "user_id": 1051031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OPPHM.jpg?s=128&g=1", "display_name": "petroleyum", "link": "https://stackoverflow.com/users/1051031/petroleyum"}, "edited": false, "score": 1, "creation_date": 1444252584, "post_id": 33002379, "comment_id": 53830000, "body": "Which part of this do you want to behave differently? Do you want the modal to pop up automatically if there were errors on the form?"}], "answers": [{"comments": [{"owner": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "edited": false, "score": 0, "creation_date": 1444252989, "post_id": 33002500, "comment_id": 53830218, "body": "What would be the best approach to do this? I mean, I&#39;m not asking you to do everything for me, but if you could address me to some particular practice, I&#39;d be grateful :)"}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "reply_to_user": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "edited": false, "score": 0, "creation_date": 1444253143, "post_id": 33002500, "comment_id": 53830293, "body": "I would use a javascript client-side validation method, that way you don&#39;t have to have the user post the entire form and reload the page just to say something wasn&#39;t typed correctly. Google for <code>javascript form validation</code> and see what you can find."}, {"owner": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "edited": false, "score": 0, "creation_date": 1444253394, "post_id": 33002500, "comment_id": 53830406, "body": "Thanks, I&#39;ll take a look!"}, {"owner": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "edited": false, "score": 0, "creation_date": 1444253548, "post_id": 33002500, "comment_id": 53830478, "body": "Is it good practice to control the validation only client-side?"}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "reply_to_user": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "edited": false, "score": 0, "creation_date": 1444253939, "post_id": 33002500, "comment_id": 53830646, "body": "No, you should definitely do both sides. Bare minimum, server-side only. In your particular case it is a convenience to the user to have validation also occur client-side."}], "tags": [], "owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "is_accepted": false, "score": 2, "last_activity_date": 1444252368, "creation_date": 1444252368, "answer_id": 33002500, "question_id": 33002379, "link": "https://stackoverflow.com/questions/33002379/subscription-form-with-django-and-jquery/33002500#33002500", "title": "Subscription form with Django and jQuery", "body": "<p>Your form errors are not shown because the form is only displayed when the user has clicked a button.</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function(){\n        $(\"#myBtn\").click(function(){\n            // You need to be triggering this when there was an error\n            $(\"#myModal\").modal();\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>A simple patch fix would be to pass an extra context variable to the template. Something like <code>registration_failed = True</code> or <code>False</code>.</p>\n\n<p>Then modify your code like so:</p>\n\n<pre><code># in views.py\nelse:\n    print user_form.errors, profile_form.errors\n    return render_to_response(\n        'tentagarden/home.html',\n        {'user_form': user_form, 'profile_form': profile_form, 'registered': registered, 'registration_failed': True},\n        context)\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>&lt;!-- in your HTML --&gt;\n&lt;script&gt;\n    $(document).ready(function(){\n        $(\"#myBtn\").click(function(){\n            $(\"#myModal\").modal();\n        });\n        // If the template is rendered with registration_failed == true\n        // Then send a click to the button controlling the modal.\n        if ({{registration_failed}}) {\n            $(\"#myBtn\").click();\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Please note that this is not the best long-term solution to your problem, I think you need to refactor your code a lot. But this will fix the immediate issue.</p>\n"}], "owner": {"reputation": 947, "user_id": 3310628, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/8UKgM.jpg?s=128&g=1", "display_name": "Stefano De Rosso", "link": "https://stackoverflow.com/users/3310628/stefano-de-rosso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444252368, "creation_date": 1444251823, "question_id": 33002379, "link": "https://stackoverflow.com/questions/33002379/subscription-form-with-django-and-jquery", "title": "Subscription form with Django and jQuery", "body": "<p>I've been doing this page in which one can subscribe to the site, and I've been trying to fire the form with jQuery in a Django template.\nNow, if a user wants to subscribe, the registration page opens correctly and, in case everything's good, the registration goes well and it goes back to the homepage where it'll be possible to login; in case there are errors (bad username or email or password), it goes back to the homepage without pointing out any error - and only when you go to click again to open the registration form the error is indicated.</p>\n\n<p>I'll copy-paste my code.</p>\n\n<ul>\n<li>homepage.html</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t{% if user.is_authenticated %}\r\n\t&lt;h2&gt;Welcome back, {{ user.username }}. Let's explore the World together!&lt;/h2&gt;\r\n\t{% else %}\r\n\t\r\n  &lt;!-- Trigger the modal with a button --&gt;\r\n  &lt;h2&gt;&lt;button id=\"myBtn\"&gt;Subscribe now :)&lt;/a&gt;&lt;/h2&gt;\r\n\r\n  &lt;!-- Modal --&gt;\r\n  &lt;div class=\"modal fade\" id=\"myModal\" role=\"dialog\"&gt;\r\n    &lt;div class=\"modal-dialog\"&gt;\r\n    \r\n      &lt;!-- Modal content--&gt;\r\n      &lt;div class=\"modal-content\"&gt;\r\n        &lt;div class=\"modal-header\"&gt;\r\n          &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\r\n          &lt;h3 class=\"modal-title\"&gt;Register with Tent a garden&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"modal-body\"&gt;\r\n        {% if registered %}\r\n        \r\n\t\t\t&lt;h4&gt;Tent a garden says: &lt;strong&gt;thank you for registering!&lt;/strong&gt;&lt;/h4&gt;\r\n\t\t\t&lt;a href=\"/\"&gt;Return to the homepage.&lt;/a&gt;&lt;br /&gt;\r\n\t\t\t{% else %}\r\n\t\t\t&lt;h4&gt;Tent a garden says: &lt;strong&gt;register here!&lt;/strong&gt;&lt;/h4&gt;&lt;br /&gt;\r\n\t\t\t\r\n\t\t\t&lt;form id=\"user_form\" method=\"post\" action=\"\" enctype=\"multipart/form-data\"&gt;\r\n\t\t\t\r\n\t\t\t\t{% csrf_token %}\r\n\t\t\t\t\r\n\t\t\t\t{{ user_form.as_p }}\r\n\t\t\t\t{{ profile_form.as_p }}\r\n\t\t\t\t\r\n\t\t\t\t&lt;input type=\"submit\" class=\"btn btn-info\" name=\"submit\" value=\"Register\" /&gt;\r\n\t\t\t&lt;/form&gt;\r\n        {% endif %}\r\n        &lt;/div&gt;\r\n        &lt;div class=\"modal-footer\"&gt;\r\n\t\t\t&lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;script&gt;\r\n\t\t$(document).ready(function(){\r\n\t\t\t$(\"#myBtn\").click(function(){\r\n\t\t\t\t$(\"#myModal\").modal();\r\n\t\t\t});\r\n\t\t});\r\n\t&lt;/script&gt;\r\n  \r\n\t&lt;h2&gt;Are you already a member? Then, &lt;a href=\"/login/\"&gt;login&lt;/a&gt;!&lt;/h2&gt;\r\n\t{% endif %}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li><p>views.py</p>\n\n<pre><code>from django.shortcuts import render_to_response, render, redirect\nfrom django.template import RequestContext\nfrom django.http import HttpResponseRedirect, HttpResponse\nfrom django.core.urlresolvers import reverse\nfrom django.contrib.auth import authenticate, login, logout\nfrom django.contrib.auth.decorators import login_required\n\nfrom tentagarden.forms import UserForm, UserProfileForm\n\ndef home(request):\n    context = RequestContext(request)\n\n    registered = False\n\n    if request.method == 'POST':\n        user_form = UserForm(data=request.POST)\n        profile_form = UserProfileForm(data=request.POST)\n\n        if user_form.is_valid() and profile_form.is_valid():\n            user = user_form.save()\n\n            user.set_password(user.password)\n            user.save()\n\n            profile = profile_form.save(commit=False)\n            profile.user = user\n\n            if 'picture' in request.FILES:\n                profile.picture = request.FILES['picture']\n\n            profile.save()\n\n            registered = True\n\n        else:\n            print user_form.errors, profile_form.errors\n\n    else:\n        user_form = UserForm()\n        profile_form = UserProfileForm()\n\n    return render_to_response(\n            'tentagarden/home.html',\n            {'user_form': user_form, 'profile_form': profile_form, 'registered': registered},\n            context)\n</code></pre></li>\n<li><p>forms.py</p>\n\n<pre><code>from django import forms\nfrom django.forms import ModelForm\nfrom tentagarden.models import UserProfile\nfrom django.contrib.auth.models import User\n\nclass UserForm(forms.ModelForm):\n    password = forms.CharField(widget=forms.PasswordInput())\n\n    class Meta:\n        model = User\n        fields = ('username', 'email', 'password')\n\nclass UserProfileForm(forms.ModelForm):\n    class Meta:\n        model = UserProfile\n        fields = ('website', 'picture')\n</code></pre></li>\n<li><p>models.py</p>\n\n<pre><code>from django.db import models\nfrom django.utils import timezone\nfrom autoslug import AutoSlugField\nfrom django.contrib.auth.models import User\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User)\n    website = models.URLField(blank=True)\n    picture = models.ImageField(upload_to='profile_images', blank=True)\n\n    def __unicode__(self):\n        return self.user.username\n</code></pre></li>\n<li><p>urls.py</p>\n\n<pre><code>from django.conf.urls import patterns, url\n\nurlpatterns = patterns('tentagarden.views',\n    url(r'^$', 'home', name='home'),\n    url(r'^list/$', 'list', name='list'),\n    url(r'^login/$', 'user_login', name='login'),\n    url(r'^logout/$', 'user_logout', name='logout'),\n)\n</code></pre></li>\n</ul>\n\n<p>What am I missing?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 3, "creation_date": 1444252174, "post_id": 33002361, "comment_id": 53829795, "body": "Why is the function calling itself?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 0, "creation_date": 1444252470, "post_id": 33002361, "comment_id": 53829952, "body": "what do you think <code>qone + 1</code> accomplishes; <i>hint whatever your answer is it doesn&#39;t</i>"}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 1, "creation_date": 1444252508, "post_id": 33002361, "comment_id": 53829966, "body": "wow that&#39;s a bit rude"}], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444252078, "post_id": 33002402, "comment_id": 53829759, "body": "I assumed variable &quot;removed&quot; is a global variable."}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252536, "post_id": 33002402, "comment_id": 53829981, "body": "They are allowed three guesses"}, {"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1444252560, "post_id": 33002402, "comment_id": 53829992, "body": "@Pynchia I changed &lt;= to &lt;. Thank you."}, {"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "reply_to_user": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252716, "post_id": 33002402, "comment_id": 53830086, "body": "@adamrjac I don&#39;t have the rest of your code - you need to test it yourself and report back if you need more help :)"}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252945, "post_id": 33002402, "comment_id": 53830196, "body": "yeah, I&#39;m guessing the else wasn&#39;t necessary?"}, {"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253069, "post_id": 33002402, "comment_id": 53830255, "body": "Indeed, recursion was kinda counterintuitive here - it&#39;s way easier to simply loop it three times."}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444253176, "post_id": 33002402, "comment_id": 53830306, "body": "I suppose I should also ask, is there a simple clear screen command, I am currently just printing 1000 lines. My teacher says this is fine, should I just keep it?"}, {"owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "edited": false, "score": 0, "creation_date": 1444253277, "post_id": 33002402, "comment_id": 53830348, "body": "<a href=\"http://stackoverflow.com/questions/517970/how-to-clear-python-interpreter-console\" title=\"how to clear python interpreter console\">stackoverflow.com/questions/517970/&hellip;</a>"}], "tags": [], "owner": {"reputation": 659, "user_id": 5210539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb30897f47b24f88163c9f55002b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "grael", "link": "https://stackoverflow.com/users/5210539/grael"}, "is_accepted": true, "score": 0, "last_activity_date": 1444252527, "last_edit_date": 1444252527, "creation_date": 1444251928, "answer_id": 33002402, "question_id": 33002361, "link": "https://stackoverflow.com/questions/33002361/need-solution-for-incorrect-guess-loop/33002402#33002402", "title": "Need Solution for incorrect guess loop", "body": "<p>My approach is to remove recursion and simply increase the counter of failed tries.</p>\n\n<pre><code>def q1():\n    qone = 0\n    print(\"\\n\"*2)\n    while qone &lt; 3:\n        question1 = input(\"Which word has been removed? \")\n        if question1 == removed:\n            print(\"\\n\"*1)\n            print(\"Correct\")\n            print(\"\\n\"*2)\n            q2()\n            return\n        else:\n            print(\"Incorrect\")\n            qone += 1\n\n    print(\"You're all out of guesses!\")\n    input(\"Press enter to return to the menu\")\n    menu()\n    return\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1444252215, "post_id": 33002464, "comment_id": 53829818, "body": "The OP should not be using recursion at all"}, {"owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1444252278, "post_id": 33002464, "comment_id": 53829844, "body": "I agree. Looks to me as though there is some muddling of concepts going on."}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252365, "post_id": 33002464, "comment_id": 53829894, "body": "I am very confused, qone has already been assigned. Do you want full code?"}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252443, "post_id": 33002464, "comment_id": 53829935, "body": "Sorry I&#39;m new to this and python"}, {"owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "edited": false, "score": 0, "creation_date": 1444252455, "post_id": 33002464, "comment_id": 53829940, "body": "Updating your question with all the relevant code won&#39;t hurt. Also, if you are sure you need recursion, explaining why you think so would also clear things up"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444252896, "post_id": 33002464, "comment_id": 53830173, "body": "<code>range</code> gives you a specific sequence of numbers. See <a href=\"https://docs.python.org/3/library/stdtypes.html#typesseq-range\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444252915, "post_id": 33002464, "comment_id": 53830182, "body": "Removed was a global variable, so it had already been assigned, dw programme all fixed now"}, {"owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "reply_to_user": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "edited": false, "score": 0, "creation_date": 1444253020, "post_id": 33002464, "comment_id": 53830232, "body": "@adamrjac You should accept the answer that helped you if your problem is solved"}], "tags": [], "owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "is_accepted": false, "score": 0, "last_activity_date": 1444252337, "last_edit_date": 1444252337, "creation_date": 1444252169, "answer_id": 33002464, "question_id": 33002361, "link": "https://stackoverflow.com/questions/33002361/need-solution-for-incorrect-guess-loop/33002464#33002464", "title": "Need Solution for incorrect guess loop", "body": "<ol>\n<li>When you do <code>qone + 1</code>, you need to assign it to something (so perhaps <code>qone += 1</code>)</li>\n<li>What is the else outside the while loop linked to? </li>\n<li>You seem to have a recursive definition going. Think carefully about the chain of calls that would be made and what your base case should be. Once you know these things, it would be easier for you to write the code. Also, think about whether you need recursion at all: in this case, it doesn't seem like you would.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253711, "last_edit_date": 1444253711, "creation_date": 1444253391, "answer_id": 33002736, "question_id": 33002361, "link": "https://stackoverflow.com/questions/33002361/need-solution-for-incorrect-guess-loop/33002736#33002736", "title": "Need Solution for incorrect guess loop", "body": "<p>You should not have the function calling itself, use range for the  loop, if the user gets the question correct go to the next question, if they get it wrong print the output:</p>\n\n<pre><code>def q1(removed):\n    print(\"\\n\"*2)\n    for i in range(3):\n        question1 = input(\"Which word has been removed? \")\n        if question1 == removed:\n            print(\"\\nCorrect\")\n            return q2()\n        print(\"\\n\\nIncorrect\")\n    input(\"You're all out of guesses!\\nPress enter to return to the menu\")\n    return menu()\n</code></pre>\n\n<p>If the user has three bad guesses the loop will end and you will hit the <code>\"You're all out of guesses!\\nPress enter to return to the menu\"</code> </p>\n"}], "owner": {"reputation": 13, "user_id": 5396724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1853ae598e4b7a8fa6bc89c559123fdb?s=128&d=identicon&r=PG&f=1", "display_name": "adamrjac", "link": "https://stackoverflow.com/users/5396724/adamrjac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 33002402, "answer_count": 3, "score": 0, "last_activity_date": 1444253711, "creation_date": 1444251755, "last_edit_date": 1444252423, "question_id": 33002361, "link": "https://stackoverflow.com/questions/33002361/need-solution-for-incorrect-guess-loop", "title": "Need Solution for incorrect guess loop", "body": "<p>Ok, I am creating a memory game. I have developed where the programme asks the user what word was removed, and have successfully developed the part that moves on if they get it right. However, I am struggling to find how to get it to only fail the user if they get it wrong three times. Here's what I have so far:</p>\n\n<pre><code>def q1():\n    qone + 1\n    print(\"\\n\"*2)\n    while qone &lt;= 3:\n        question1 = input(\"Which word has been removed? \")\n        if question1 == removed:\n            print(\"\\n\"*1)\n            print(\"Correct\")\n            print(\"\\n\"*2)\n            q2()\n        else:\n            print(\"Incorrect\")\n            q1()\n    else:\n        print(\"You're all out of guesses!\")\n        input(\"Press enter to return to the menu\")\n        menu()\n    return\n`\n</code></pre>\n"}, {"tags": ["python", "algorithm"], "comments": [{"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "edited": false, "score": 1, "creation_date": 1444252669, "post_id": 33002335, "comment_id": 53830056, "body": "well... what&#39;s the question?"}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "reply_to_user": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "edited": false, "score": 0, "creation_date": 1444253043, "post_id": 33002335, "comment_id": 53830242, "body": "@Paul, thanks for the comments and I just edit my question to be more clear what I am asking. :)"}], "answers": [{"comments": [{"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1444260023, "post_id": 33003130, "comment_id": 53832910, "body": "Hi Paul, why not checking mid+1?"}, {"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "reply_to_user": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 1, "creation_date": 1444260168, "post_id": 33003130, "comment_id": 53832945, "body": "Oh, sry, i should&#39;ve read the answer more carefully before posting it. I&#39;ll correct that"}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1444260257, "post_id": 33003130, "comment_id": 53832974, "body": "Hi Paul, then what is wrong with my methods? The upper bound should be positioned at either small or small+1, and lower bound should be located at small or small-1? Thanks."}], "tags": [], "owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1444260177, "last_edit_date": 1444260177, "creation_date": 1444255200, "answer_id": 33003130, "question_id": 33002335, "link": "https://stackoverflow.com/questions/33002335/find-upper-and-lower-bound-value-using-binary-search/33003130#33003130", "title": "find upper and lower bound value using binary search", "body": "<p>That's not <strong>that</strong> simple. You'll have to take account of the fact, that the algorithm might either approximate the position of the searched item from the left (lower values) or right (higher values), which can't be determined after exiting the <code>while</code>-loop. Thus you'll have to check whether the value at <code>mid</code> is smaller or greater than the key:</p>\n\n<pre><code>lower = (my_list[mid] &lt; key ? my_list[mid] : my_list[mid - 1]);\nupper = (my_list[mid] &gt; key ? my_list[mid] : my_list[mid + 1]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1444260310, "post_id": 33004075, "comment_id": 53832994, "body": "Brent, thanks a lot.  Wondering what is wrong with my methods? The upper bound should be positioned at either small or small+1, and lower bound should be located at small or small-1? Thanks."}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1444262166, "post_id": 33004075, "comment_id": 53833437, "body": "Hi Brent, I think the value to be found could be larger than small in last step? Suppose in the last step, small and large and mid are equal and value &gt; mid (or small or large), but value should be smaller than mid+1 since we move from mid+1? Please feel free to correct me if I am wrong. :)"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 1, "creation_date": 1444262561, "post_id": 33004075, "comment_id": 53833561, "body": "When <code>my_list[mid] &lt; key: small = mid + 1</code>, then small is beyond the end of the list and that terminates the while loop."}, {"owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "edited": false, "score": 0, "creation_date": 1444263552, "post_id": 33004075, "comment_id": 53833857, "body": "Hi Brent, the idea of (small -1, small) is super smart and elegant, I like it. Mark as answered. Have a good day."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": true, "score": 1, "last_activity_date": 1444261161, "last_edit_date": 1444261161, "creation_date": 1444260192, "answer_id": 33004075, "question_id": 33002335, "link": "https://stackoverflow.com/questions/33002335/find-upper-and-lower-bound-value-using-binary-search/33004075#33004075", "title": "find upper and lower bound value using binary search", "body": "<p>@Paul is close, it should return <code>mid+1</code> for the upper value.  Instead of raising an exception, here is the code in Python that will return the lower and upper values:</p>\n\n<pre><code>value = my_list[mid]\nlower = mid if value &lt; key else mid-1\nupper = mid if value &gt; key else mid+1\nreturn (lower, upper)\n</code></pre>\n\n<p>Here is an even simpler answer:</p>\n\n<pre><code>return (small-1, small)\n</code></pre>\n\n<p>Because <code>small</code> ends up above the <code>key</code>'s index when you're looking for it, the lower bound is <code>small-1</code> and the upper bound is <code>small</code>.</p>\n"}], "owner": {"reputation": 8211, "user_id": 1850923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f4c516ea2a612cdca29a5b48e9805cd9?s=128&d=identicon&r=PG", "display_name": "Lin Ma", "link": "https://stackoverflow.com/users/1850923/lin-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3186, "favorite_count": 2, "accepted_answer_id": 33004075, "answer_count": 2, "score": 1, "last_activity_date": 1444261161, "creation_date": 1444251651, "last_edit_date": 1444253016, "question_id": 33002335, "link": "https://stackoverflow.com/questions/33002335/find-upper-and-lower-bound-value-using-binary-search", "title": "find upper and lower bound value using binary search", "body": "<p>Here is the code for binary search, wondering if there is no match value, the question is the upper bound should be positioned at either small or small+1? And lower bound should be located at small or small-1, correct? Thanks.</p>\n\n<pre><code>def binary_search(my_list, key):\n    assert my_list == sorted(my_list)\n\n    large = len(my_list) -1\n    small = 0\n\n    while (small &lt;= large):\n        mid = (small + large) // 2 )\n        # print small, mid, large, \" - \", my_list[mid], \"~\", key\n        if my_list[mid] &lt; key:\n            small = mid + 1\n        elif my_list[mid] &gt; key:\n            large = mid - 1\n        else:\n            return mid\n\n    raise ValueError\n</code></pre>\n"}, {"tags": ["python", "flask", "upload"], "comments": [{"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 2, "creation_date": 1444251620, "post_id": 33002297, "comment_id": 53829560, "body": "Related: <a href=\"http://stackoverflow.com/questions/14069421/show-an-image-preview-before-upload\">Show image preview before upload</a>"}], "owner": {"reputation": 11, "user_id": 5416011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54abe63a5ce84c55181d19e03db5e97?s=128&d=identicon&r=PG&f=1", "display_name": "jamesmr13", "link": "https://stackoverflow.com/users/5416011/jamesmr13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1700, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1444277307, "creation_date": 1444251504, "last_edit_date": 1444271930, "question_id": 33002297, "link": "https://stackoverflow.com/questions/33002297/how-can-i-preview-an-image-to-be-uploaded-in-flask", "title": "How can I preview an image to be uploaded in flask?", "body": "<p>I am trying to preview an image to be uploaded. I am using an upload form shown here</p>\n\n<pre><code>class Upload_Form(Form):\n     date = DateField('Date on Certificate', validators =...)\n     image = FileField(validators=[DataRequired()])\n</code></pre>\n\n<p>All that is really important for this is the image FileField. Here is the associated html with the upload. It extends a base html</p>\n\n<pre><code>{% block content %}\n    &lt;form action=\"\" method=\"POST\" name=\"upload\" enctype=\"...\"&gt;\n    &lt;p&gt;{{ form.image.label }}&lt;br&gt;{{ form.image }}&lt;/p&gt;\n    ...\n{% endblock %}\n</code></pre>\n\n<p>I need to either use python flask to preview the image or find a way to pull the URL from the file in the FileField to display the image with JS. I have tried form.image.url but that just returns an empty string. I know how to do this in JavaScript but I am having trouble understanding how to get it to be stored in the database since I am using a Python flask framework and it needs to be passed in the FileField from the class Upload_Form. I'm just having a hard time translating this to python flask as opposed to JS. Here is where I extract the file in flask.</p>\n\n<pre><code>@app.route('/upload', methods=['GET', 'POST'])\ndef upload():\n    form = Upload_Form()\n    if request.method == \"POST\" and form.validate_on_submit():\n        if img and os.path.splitext(img.filename)[1] in ALLOWED_EXTENSIONS:\n            try:\n                div_id = Division.query.filter_by(category=form.category.data).first().id\n            except AttributeError:\n                div_id = None\n            c = Certificate(div_id=div_id,user_id=g.user.id, status=False)\n            db.session.add(c)\n            db.session.commit()\n            ...\n            return render_template('upload.html', title='Upload successful', form=form)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 0, "creation_date": 1444259296, "post_id": 33002181, "comment_id": 53832699, "body": "Algorithmically, you could store your blocks as a radix tree. Practically, in Python, you may not get much better performance than speeding up the iteration via comprehensions and other optimization tricks."}], "answers": [{"tags": [], "owner": {"reputation": 2034, "user_id": 731624, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dBk9E.jpg?s=128&g=1", "display_name": "jaime", "link": "https://stackoverflow.com/users/731624/jaime"}, "is_accepted": false, "score": 2, "last_activity_date": 1444251291, "creation_date": 1444251291, "answer_id": 33002251, "question_id": 33002181, "link": "https://stackoverflow.com/questions/33002181/checking-for-many-strings-in-a-single-string-with-python/33002251#33002251", "title": "Checking for many strings in a single string with Python", "body": "<pre><code>url = 'http://www.google.com'\nblocks = ['youtube.com','google.com','bing.com']\nreturn filter(lambda b: b in url, blocks)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4037, "user_id": 3990145, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3d95b7ec21ccd7bf3c8e1604d49faca1?s=128&d=identicon&r=PG&f=1", "display_name": "xi&#186;", "link": "https://stackoverflow.com/users/3990145/xi%c2%ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1444251557, "creation_date": 1444251557, "answer_id": 33002319, "question_id": 33002181, "link": "https://stackoverflow.com/questions/33002181/checking-for-many-strings-in-a-single-string-with-python/33002319#33002319", "title": "Checking for many strings in a single string with Python", "body": "<p>List comprehension is more preferable according to <a href=\"https://www.python.org/dev/peps/pep-0202/\" rel=\"nofollow\"><code>PEP</code></a>.</p>\n\n<pre><code>&gt;&gt;&gt; print [block in url for block in blocks]\n[False, True, False]\n</code></pre>\n\n<p>or if you prefer int:</p>\n\n<pre><code>&gt;&gt;&gt; print [int(block in url) for block in blocks]\n[0, 1, 0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4037, "user_id": 3990145, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3d95b7ec21ccd7bf3c8e1604d49faca1?s=128&d=identicon&r=PG&f=1", "display_name": "xi&#186;", "link": "https://stackoverflow.com/users/3990145/xi%c2%ba"}, "edited": false, "score": 0, "creation_date": 1444291536, "post_id": 33002328, "comment_id": 53843823, "body": "there is a result just <code>False</code>"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": false, "score": -1, "last_activity_date": 1444255235, "last_edit_date": 1444255235, "creation_date": 1444251626, "answer_id": 33002328, "question_id": 33002181, "link": "https://stackoverflow.com/questions/33002181/checking-for-many-strings-in-a-single-string-with-python/33002328#33002328", "title": "Checking for many strings in a single string with Python", "body": "<pre><code>url = 'http://www.google.com'\nblocks = ['youtube.com','google.com','bing.com']\nreturn not(any([block in url for block in blocks]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261097, "creation_date": 1444261097, "answer_id": 33004205, "question_id": 33002181, "link": "https://stackoverflow.com/questions/33002181/checking-for-many-strings-in-a-single-string-with-python/33004205#33004205", "title": "Checking for many strings in a single string with Python", "body": "<p>If you are going to be doing this operation over and over again, it may give you a modest performance gain to precompile a regex containing all of the blocks. For example:</p>\n\n<pre><code>import re\nblocks = [\"youtube.com\", \"google.com\", \"bing.com\"]\nprecomp_regex = re.compile(\"|\".join(map(re.escape, blocks)))\n\ndef string_contains_block(string, regex=precomp_regex):\n    return regex.search(string)\n</code></pre>\n\n<p>If your set of blocks is very large, or subject to change often, it may be worth storing as a radix trie. (Think of the OR'd regex as a very naive implementation of a radix trie).</p>\n"}], "owner": {"reputation": 23, "user_id": 5385260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qtykRF16SxY/AAAAAAAAAAI/AAAAAAAAACI/Dmx9euLQbPc/photo.jpg?sz=128", "display_name": "Russell Jones", "link": "https://stackoverflow.com/users/5385260/russell-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1444261097, "creation_date": 1444250984, "question_id": 33002181, "link": "https://stackoverflow.com/questions/33002181/checking-for-many-strings-in-a-single-string-with-python", "title": "Checking for many strings in a single string with Python", "body": "<p>Is there a more efficient way to do something than this... I am just creating a block list for a bunch of URLs</p>\n\n<pre><code>url = 'http://www.google.com'\nblocks = ['youtube.com','google.com','bing.com']\nfor block in blocks:\n    if block in url:\n        return 0\nreturn 1\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "is_accepted": false, "score": 0, "last_activity_date": 1444251585, "last_edit_date": 1444251585, "creation_date": 1444251260, "answer_id": 33002243, "question_id": 33002179, "link": "https://stackoverflow.com/questions/33002179/python-counting-the-number-of-even-digits/33002243#33002243", "title": "Python, counting the number of even digits", "body": "<p>you are comparing the whole number every time. you need to convert it to a string and then loop over every number in that string of numbers, cast it back to an integer and see if its remainder is 0</p>\n\n<pre><code>def num_even_digits(numbers):\n    count = 0\n    numbers = str(numbers)\n    for number in numbers:\n        try:\n            number = int(number)\n        except ValueError:\n            continue\n\n        if number % 2 == 0:\n            count += 1\n    return count\n\nprint(num_even_digits(123456))\n</code></pre>\n\n<p>if you want to actually loop through every possible number in the range of 0 to your large number you can do this.</p>\n\n<pre><code>def num_even_digits(numbers):\n    count = 0\n    for number in range(0, numbers):\n        if number % 2 == 0:\n            count += 1\n    return count\n\nprint(num_even_digits(10))\n</code></pre>\n\n<p>problems with your current function:</p>\n\n<pre><code>def num_even_digits(n): # n is not descriptive, try to make your variable names understandable\n    i=0\n    count = 0\n    while i &lt; n: # looping over every number from 0 to one hundred twenty three thousand four hundred and fifty six.\n        i+=1\n        if n%2==0: # n hasn't changed so this is always going to be true\n            count += 1\n    return count\n\nprint(num_even_digits(123456))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 0, "last_activity_date": 1444252957, "last_edit_date": 1444252957, "creation_date": 1444252588, "answer_id": 33002564, "question_id": 33002179, "link": "https://stackoverflow.com/questions/33002179/python-counting-the-number-of-even-digits/33002564#33002564", "title": "Python, counting the number of even digits", "body": "<p>Pythonic answer:</p>\n\n<pre><code>def num_even_digits(x):\n    return len([ y for y in str(x) if int(y) % 2 == 0])\n\nprint(num_even_digits(123456))\n</code></pre>\n\n<p>Disclaimer: I recognized that, for an <em>introductory</em> Python class, my answer may not be appropriate.</p>\n"}], "owner": {"reputation": 25, "user_id": 5405067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8452d770f8e23ce94b377389e2634074?s=128&d=identicon&r=PG&f=1", "display_name": "magersaber", "link": "https://stackoverflow.com/users/5405067/magersaber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3737, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1444252957, "creation_date": 1444250977, "last_edit_date": 1444251627, "question_id": 33002179, "link": "https://stackoverflow.com/questions/33002179/python-counting-the-number-of-even-digits", "title": "Python, counting the number of even digits", "body": "<p>for  homework in an introductory python class, one of the questions is to count the number of even numbers in n. here's my code so far:</p>\n\n<pre><code>def num_even_digits(n):\n    i=0\n    count = 0\n    while i &lt; n:\n        i+=1\n        if n%2==0:\n            count += 1\n    return count\n\nprint(num_even_digits(123456))\n</code></pre>\n"}, {"tags": ["python", "path", "installation"], "answers": [{"tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 1, "last_activity_date": 1444253529, "creation_date": 1444253529, "answer_id": 33002765, "question_id": 33002145, "link": "https://stackoverflow.com/questions/33002145/how-do-i-write-a-setup-py-and-other-installation-files-in-python-that-set-path/33002765#33002765", "title": "How do I write a setup.py and other installation files in Python that set path?", "body": "<p>The appropriate actions here are</p>\n\n<ul>\n<li><p>Packages do not mess with PYTHONPATH. Never.</p></li>\n<li><p><a href=\"http://python-packaging.readthedocs.org/en/latest/command-line-scripts.html\" rel=\"nofollow\">Instead, you write an setup.py entry point to your command line scripts</a></p></li>\n<li><p>When the user installs the package using <code>pip install</code> the command line script is automatically added to user's PATH, which is hopefully inside virtualenv</p></li>\n<li><p>This command line script is generated during the install, so that it points to the PYTHONPATH of virtualenv or system-wide Python installation. The path is hardcoded at the script head, pointing to the current Python interpreter.</p></li>\n</ul>\n\n<p>More info</p>\n\n<ul>\n<li><a href=\"https://packaging.python.org/en/latest/distributing/\" rel=\"nofollow\">https://packaging.python.org/en/latest/distributing/</a></li>\n</ul>\n"}], "owner": {"reputation": 2163, "user_id": 1781548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cae6c8f9ef172f395b2b183320804fe5?s=128&d=identicon&r=PG", "display_name": "Pippi", "link": "https://stackoverflow.com/users/1781548/pippi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 33002765, "answer_count": 1, "score": 1, "last_activity_date": 1444253529, "creation_date": 1444250871, "question_id": 33002145, "link": "https://stackoverflow.com/questions/33002145/how-do-i-write-a-setup-py-and-other-installation-files-in-python-that-set-path", "title": "How do I write a setup.py and other installation files in Python that set path?", "body": "<p>I have several packages in folder Top. The path is set at the command prompt such that each package contains some python files that use other packages' modules.</p>\n\n<p>I have the following files in Top directory: setup.py, MANIFEST, MANIFEST.in, README. I wish to modify the setup files such that the path is set during installation. Does PYTHONPATH set it, and does it need to go into a new file? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1444251044, "post_id": 33002107, "comment_id": 53829259, "body": "Can you write a new script with just two or three lines which also exhibits the same problem? See <a href=\"http://stackoverflow.com/help/mcve\"><b><code>mcve</code></b></a>"}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1444269622, "post_id": 33002234, "comment_id": 53835445, "body": "Thanks man!  Noob question I know.  But spent much time on it"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1444316702, "post_id": 33002234, "comment_id": 53861994, "body": "Hey, its making an executable, not a folder?  Ever seen that?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1444349406, "post_id": 33002234, "comment_id": 53878097, "body": "You mean <code>os.mkdir()</code> is creating a file instead of a folder? I doubt it."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1444251215, "creation_date": 1444251215, "answer_id": 33002234, "question_id": 33002107, "link": "https://stackoverflow.com/questions/33002107/python-script-only-works-when-run-from-directory/33002234#33002234", "title": "Python Script only works when run from directory", "body": "<p>The names returned by <code>os.listdir</code> don't include the directory prefix. So every function that takes a filename requires you to concatenate the directory with the name. E.g.</p>\n\n<pre><code>    if os.path.isdir(directoryChosen + '/' + fname):\n        print \"Ended here/ Start work here\"\n        shutil.copy2(directoryChosen + '/' + f, directoryChosen + '/' + dest_path)\n</code></pre>\n"}], "owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 33002234, "answer_count": 1, "score": 0, "last_activity_date": 1444251215, "creation_date": 1444250733, "question_id": 33002107, "link": "https://stackoverflow.com/questions/33002107/python-script-only-works-when-run-from-directory", "title": "Python Script only works when run from directory", "body": "<p>I have a script that works (kind of) but only if ran when you are currently in the directory path</p>\n\n<pre><code>directoryChosen = sys.argv[1]\n\n\n\n\nfor f in os.listdir(directoryChosen):\n    fname, fext = os.path.splitext(f)\n    if not f.startswith('.'):\n        print f\n\n        print fname + \" Is fname\"\n        dest_path = fname\n        print dest_path + \" is dest path\"\n        print fname + \"this is fname\"\n        if os.path.isdir(fname):\n            print \"Ended here/ Start work here\"\n            shutil.copy2(directoryChosen + '/' + f, dest_path)\n        if not os.path.isdir(fname):\n            print \"working here kind of..lets make directories\"\n\n            os.mkdir(dest_path)\n            print \" Path is created\"\n\n            shutil.copy2(directoryChosen + f, dest_path)\n</code></pre>\n\n<p><strong>Works</strong>\nIf I run </p>\n\n<pre><code> python /Users/eeamesX/PycharmProjects/Workmain/groupFiles.py continuous/\n\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.csv\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nworking here kind of..lets make directories\n Path is created\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.wav\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nEnded here/ Start work here\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.xml\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nEnded here/ Start work here\n</code></pre>\n\n<p><strong>doesnt work</strong> </p>\n\n<p>python groupFiles.py /Users/eeamesX/work/data/GERMANY/DE_026/continuous/</p>\n\n<pre><code>2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.csv\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nEnded here/ Start work here\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.wav\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nEnded here/ Start work here\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd.xml\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd Is fname\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6dd is dest path\n2015-06-01#e3cea6c4-07f2-4b84-985d-5ecabae9a6ddthis is fname\nEnded here/ Start work here\n grouped the files boss  \n</code></pre>\n\n<p>I want it to create the directory if it is run both ways!  Any help?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444251021, "post_id": 33002098, "comment_id": 53829241, "body": "it looks alright to me, in terms of DB/ORM query to get the related comments"}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1444251662, "creation_date": 1444251662, "answer_id": 33002337, "question_id": 33002098, "link": "https://stackoverflow.com/questions/33002098/best-practice-to-get-related-list-of-object-to-another-object-in-django/33002337#33002337", "title": "Best practice to get related list of object to another object in Django", "body": "<p>There's no need to use a class based view if you don't want to. The advantage of your function based view is that it is very straight forward and easy to understand. The advantage of the class based view is that you get to take advantage of other functionality in the view, e.g. pagination.</p>\n\n<p>Personally, I think your function based view is much easier to understand than the example in the docs using <code>SingleObjectMixin</code> and <code>ListView</code>.</p>\n\n<p>I would recommend that you use <a href=\"https://docs.djangoproject.com/en/1.8/topics/http/shortcuts/#get-object-or-404\" rel=\"nofollow\"><code>get_object_or_404</code></a>, so that you show a 404 page to users when a thread with that primary key does not exist.</p>\n\n<pre><code>from django.shortcuts import get_object_or_404\n\nthread = get_object_or_404(Thread, pk=id)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1444294836, "post_id": 33002580, "comment_id": 53845951, "body": "Using prefetch related won&#39;t speed up the code in this case, because we are viewing a single thread. It is faster when we have a queryset of many threads, and want to fetch all the related comments at once."}], "tags": [], "owner": {"reputation": 2210, "user_id": 5348681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bbbb7fd03d7cec92ccb4d52a92bc221?s=128&d=identicon&r=PG", "display_name": "Paulo Pessoa", "link": "https://stackoverflow.com/users/5348681/paulo-pessoa"}, "is_accepted": false, "score": 0, "last_activity_date": 1444252701, "creation_date": 1444252701, "answer_id": 33002580, "question_id": 33002098, "link": "https://stackoverflow.com/questions/33002098/best-practice-to-get-related-list-of-object-to-another-object-in-django/33002580#33002580", "title": "Best practice to get related list of object to another object in Django", "body": "<p>Most often I see it more like a personal preference.</p>\n\n<p>From the book of good practices in django. <strong>'TWO SCOOPS OF DJANGO 1.8'</strong></p>\n\n<blockquote>\n  <p>Th\udbff\udc00e simplicity of FBVs comes at the expense of code reuse: FBVs\n  don\u2019t have the same ability to inherit from superclasses the way that\n  CBVs do. \udbff\udc00ey do have the advantage of being more obviously functional\n  in nature, which lends itself to a number of interesting strategies</p>\n</blockquote>\n\n<p>I agree with @Alasdair, your function based view is easier to understand.  </p>\n\n<p>I only change it in the code:</p>\n\n<pre><code>def thread_detail(req, id):\n    thread_qs = Thread.objects.filter(pk=id).prefetch_related('comment_set')\n    if not thread_qs:\n        raise Http404\n    else:\n        thread = thread_qs[0]\n        return render(req, 'threads/thread.html', {'thread': thread})\n</code></pre>\n\n<p>and in the html, just iterator on thread comments:</p>\n\n<pre><code>{%for comment in thread.comment_set.all %}\n    {{comment}}\n{%endfor%}\n</code></pre>\n\n<p>For since it is good practice, I think it would also help improve performance.</p>\n"}], "owner": {"reputation": 87, "user_id": 4542737, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-vvW0iRBASZg/AAAAAAAAAAI/AAAAAAAAAIk/2pbWCQsMidw/photo.jpg?sz=128", "display_name": "Yevs", "link": "https://stackoverflow.com/users/4542737/yevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 33002337, "answer_count": 2, "score": 0, "last_activity_date": 1444252701, "creation_date": 1444250691, "question_id": 33002098, "link": "https://stackoverflow.com/questions/33002098/best-practice-to-get-related-list-of-object-to-another-object-in-django", "title": "Best practice to get related list of object to another object in Django", "body": "<p>I have such fucntion. It is rather simple and all it does is it gets some forum thread and comments related to it.</p>\n\n<pre><code>def thread_detail(req, id):\n    thread = Thread.objects.get(pk=id)\n    comments = thread.comment_set.all()\n    return render(req, 'threads/thread.html', {'thread': thread, 'comments': comments})\n</code></pre>\n\n<p>But I am not sure that this is the way you should do it in Django. Is it better to use DetailView or mix of SingleObjectMixin and ListView as <a href=\"https://docs.djangoproject.com/en/1.8/topics/class-based-views/mixins/#using-singleobjectmixin-with-listview\" rel=\"nofollow\">shown in docs</a>?</p>\n"}, {"tags": ["python", "tkinter", "python-3.4", "ttk"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1444250367, "post_id": 33002009, "comment_id": 53828904, "body": "There probably is a way. Without seeing code that duplicates the problem, I doubt there&#39;s any way we can give you a useful answer. See <a href=\"http://www.stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1444284633, "post_id": 33002009, "comment_id": 53839846, "body": "Add to your question the <i>simplest</i> code you can get that displays the problem for you.  Ditto to the rest of Bryan&#39;s answer."}, {"owner": {"reputation": 51, "user_id": 5368569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c47fb8977f600d462db875a6434a18b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dee", "link": "https://stackoverflow.com/users/5368569/dee"}, "edited": false, "score": 0, "creation_date": 1444285548, "post_id": 33002009, "comment_id": 53840285, "body": "I am using &#39;after&#39; to populate and refresh data at every 2 sec Interval. So every time the data is updated on my GUI, I can see some grey background block for my output data. Since it displays different numbers every 2 seconds, the grey flicker appears constantly."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444309718, "post_id": 33002009, "comment_id": 53856451, "body": "Do you create new widgets every 2 (5?) seconds? If so, do you delete the old ones first, and is there a reason you create new widgets rather than updating the existing widgets?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444309797, "post_id": 33002009, "comment_id": 53856517, "body": "Are you saying the &quot;flickering&quot; isn&#39;t actually a flicker, but that the length of the strings changes, and the amount of space they take up is different?"}, {"owner": {"reputation": 51, "user_id": 5368569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c47fb8977f600d462db875a6434a18b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dee", "link": "https://stackoverflow.com/users/5368569/dee"}, "edited": false, "score": 0, "creation_date": 1444328792, "post_id": 33002009, "comment_id": 53869020, "body": "I am trying to populate some fields with new data every 2 seconds. I do not intend on creating new labels with every interval, just the data(value) for each field should be updated/refreshed with new data(after some simple arithmetic operations). By Flicker i mean every 2 secs, when new data is written on screen it flashes a grey box in the background of the new data.. I am unable to capture the same in a picture. All I can think of now is, the flicker is similar to the ones that you get to see on TV immediately after you power off and it shuts down.. Sorry for such a bad explanation! \u2013"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444346570, "post_id": 33002009, "comment_id": 53877312, "body": "@Dee: you need to show us the <i>smallest</i> amount of code to duplicate the problem. The only code you showed us is where you create the labels, you haven&#39;t shown us code where you update it, and you haven&#39;t shown us what the GUI looks like."}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444324516, "post_id": 33020322, "comment_id": 53866681, "body": "This isn&#39;t a very good example. It will create thousands of label widgets in a matter of minutes. You don&#39;t need to continually make new widgets, you only need to modify the text of the existing widges."}, {"owner": {"reputation": 21, "user_id": 5419027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788e3660ced38871416550cb3f8e9f0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/5419027/james"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444345917, "post_id": 33020322, "comment_id": 53877119, "body": "I was thinking the same thing but got lazy. There wasn&#39;t much to go with. I was thinking about using textvariable. Im new to Tk."}], "tags": [], "owner": {"reputation": 21, "user_id": 5419027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788e3660ced38871416550cb3f8e9f0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/5419027/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1444318986, "creation_date": 1444318986, "answer_id": 33020322, "question_id": 33002009, "link": "https://stackoverflow.com/questions/33002009/annoying-grey-flicker-during-updates-in-ttk-gui/33020322#33020322", "title": "Annoying grey flicker during updates in ttk GUI", "body": "<p>I made a small program based on what you provided.</p>\n\n<p>This is what i got. I chose 500ms instead because i did not want to wait that long. I ran two internet videos at the same time and had no issues.\nSo my best guess you have a slow video card or over loaded computer.</p>\n\n<pre><code>from tkinter import *\n\nclass MyClass:\n\n    frame1 = Tk()\n    poll = 0\n\n    def __init__(self):\n        self.frame1.after(500, self.__make_layout)\n\n    def __make_layout(self):\n        self.poll += 1\n        CSpace = \"Poll count = \"*20\n        MSpace = str(self.poll)\n\n        self.CLabelVal = Label(self.frame1, text=CSpace, font=('Verdana', 9), bg='#009999', fg='#000000')\n        self.MLabelVal = Label(self.frame1, text=MSpace, font=('Verdana', 9), bg='#009999', fg='#000000')\n        self.CLabelVal.grid(row=4, column=1, sticky=W+E+N+S, padx=5, pady=5)\n        self.MLabelVal.grid(row=5, column=1, sticky=W+E+N+S, padx=5, pady=5)\n        print(CSpace, MSpace)\n        return self.frame1.after(500, self.__make_layout)\n\n\nMyClass()\nmainloop()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5368569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c47fb8977f600d462db875a6434a18b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dee", "link": "https://stackoverflow.com/users/5368569/dee"}, "edited": false, "score": 0, "creation_date": 1444366340, "post_id": 33027545, "comment_id": 53882397, "body": "Thanks @James, I will try to use poll."}], "tags": [], "owner": {"reputation": 21, "user_id": 5419027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788e3660ced38871416550cb3f8e9f0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/5419027/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1444346604, "creation_date": 1444346604, "answer_id": 33027545, "question_id": 33002009, "link": "https://stackoverflow.com/questions/33002009/annoying-grey-flicker-during-updates-in-ttk-gui/33027545#33027545", "title": "Annoying grey flicker during updates in ttk GUI", "body": "<p>This doesn't create more labels and uses the \"textvariable\" update feature.</p>\n\n<pre><code>from tkinter import *\n\n\nclass MyClass:\n    frame1 = Tk()\n    poll = 0\n    textstg = StringVar()\n    CSpace = \"Poll count\"\n\n    def __init__(self):\n        self.frame1.after(500, self.__make_layout)\n        self.CLabelVal = Label(self.frame1, text=self.CSpace, font=('Verdana', 9), bg='#009999', fg='#000000')\n        self.MLabelVal = Label(self.frame1, textvariable=self.textstg, font=('Verdana', 9), bg='#009999', fg='#000000')\n        self.CLabelVal.grid(row=4, column=1, sticky=W+E+N+S, padx=5, pady=5)\n        self.MLabelVal.grid(row=5, column=1, sticky=W+E+N+S, padx=5, pady=5)\n\n    def __make_layout(self):\n        self.poll += 1\n        self.textstg.set(str(self.poll))\n        return self.frame1.after(50, self.__make_layout)\n\nMyClass()\nmainloop()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5368569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c47fb8977f600d462db875a6434a18b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dee", "link": "https://stackoverflow.com/users/5368569/dee"}, "edited": false, "score": 0, "creation_date": 1444434944, "post_id": 33040020, "comment_id": 53918315, "body": "Totally Worked! Thank you so much for all the help!!"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1444398663, "creation_date": 1444398663, "answer_id": 33040020, "question_id": 33002009, "link": "https://stackoverflow.com/questions/33002009/annoying-grey-flicker-during-updates-in-ttk-gui/33040020#33040020", "title": "Annoying grey flicker during updates in ttk GUI", "body": "<p>Part of the problem is that you keep stacking more and more widgets on top of each other. You should create the labels exactly once, and then change what they display every five seconds, instead of creating new widgets every five seconds. </p>\n\n<p>There's also the problem that you're creating the labels in a thread. Tkinter isn't thread safe. Any code that creates or modifies a widget needs to be in the main thread. To update the labels you don't need threads, though you can use a thread to change what actually gets displayed.</p>\n\n<pre><code>def __make_layout(self):\n    self.CLabelVal = Label(...,text = CSpace, ...)\n    self.MLabelVal = Label(...,text = MSpace, ...)\n    self.Label1Val.grid(...)                              \n    self.Label2Val.grid(...)\n\ndef __update_layout(self):\n    self.CLabelVal.configure(text=CSpace)\n    self.MLabelVal.configure(text=MSpace)\n    self.after(5000, self.__update_layout)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5368569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c47fb8977f600d462db875a6434a18b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dee", "link": "https://stackoverflow.com/users/5368569/dee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1917, "favorite_count": 0, "accepted_answer_id": 33040020, "answer_count": 3, "score": 0, "last_activity_date": 1444398663, "creation_date": 1444250238, "last_edit_date": 1444373784, "question_id": 33002009, "link": "https://stackoverflow.com/questions/33002009/annoying-grey-flicker-during-updates-in-ttk-gui", "title": "Annoying grey flicker during updates in ttk GUI", "body": "<p>I am trying to populate my screen with some data that refreshes every given time interval. I am using Python3, themed tkinter. Every time my screen updates I see grey flickerings on screen for every label. Is there a way to avoid this?\nP.S : I am calling the 'after' method to refresh data.</p>\n\n<p>UPDATE: Here is some example code:</p>\n\n<pre><code>def button1Click(self):\n    self.top = Toplevel(width=600,height=400)\n    self.top.title(\"XYZ ORGANIZATION\")\n    self.frame1 = Frame(self.top,bg='#009999')\n    self.frame1.pack()\n    self.noOfEmp = Label(self.frame1,text = \"Number_Of_Employees : \", font =('Verdana',9, 'bold'),bg='#009999',fg = '#000000')\n    self.noOfEmp.grid(row=1,column=0,sticky=W,padx=0,pady=5)\n    self.TeamLabel = Label(self.frame1,text = \"Team Name : \", font =('Verdana',9, 'bold'),bg='#009999',fg = '#000000')\n    self.TeamLabel.grid(row=2,column=0,sticky=W,padx=0,pady=5)      \n\n    self.text = Text(self.frame1, bg='#009999')\n    self.text.grid(row=8,columnspan=17)\n    self.old_emp = 0\n    self.EFile = open('/abc','r').readlines()\n    for line in self.EFile:\n        if line.startswith('EmpTotal:'):\n            self.Tot_Emp = int(line.split()[1])\n            break\n    t1 = threading.Thread(target=self.__make_layout, args = ())\n    t1.daemon = True\n    t1.start()\n    t2 = threading.Thread(target=self.ProcEmp,args = ())\n    t2.daemon = True\n    t2.start()\n\ndef self.__make_layout:\n    self.CLabelVal = Label(self.frame1,text = CSpace, font=('Verdana',9),bg='#009999',fg = '#000000')\n    self.MLabelVal = Label(self.frame1,text = MSpace  , font =('Verdana',9),bg='#009999',fg = '#000000')\n    self.Label1Val.grid(row=4,column=1,sticky=W+E+N+S,padx=5,pady=5)                              \n    self.Label2Val.grid(row=5,column=1,sticky=W+E+N+S,padx=5,pady=5)\n    self.frame1.after(5000,self.__make_layout)\n</code></pre>\n"}, {"tags": ["python", "macos", "opengl", "pyglet"], "comments": [{"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 0, "creation_date": 1444250845, "post_id": 33001982, "comment_id": 53829139, "body": "OSX does not support GL 4.2. It will support version 2.1 as legacy backward compatibility and 3.2 to 4.1 in core profile. So you might already have a core profile. <code>glGetString(GL_VERSION)</code> will tell you what you got."}, {"owner": {"reputation": 130, "user_id": 695467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b3bbc5287b2dee3eb594004f330b7d?s=128&d=identicon&r=PG", "display_name": "chromy", "link": "https://stackoverflow.com/users/695467/chromy"}, "reply_to_user": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 0, "creation_date": 1444251931, "post_id": 33001982, "comment_id": 53829706, "body": "Thanks @derhass it is useful to know 4.2 would never have worked! I tried using <code>#version 320</code> instead and got a similar error. Trying glGetString(GL_VERSION) gives me 2.1 INTEL-10.0.86 so it seems like pyglet is using the legacy profile?"}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 695467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b3bbc5287b2dee3eb594004f330b7d?s=128&d=identicon&r=PG", "display_name": "chromy", "link": "https://stackoverflow.com/users/695467/chromy"}, "is_accepted": true, "score": 0, "last_activity_date": 1444273202, "creation_date": 1444273202, "answer_id": 33005849, "question_id": 33001982, "link": "https://stackoverflow.com/questions/33001982/enabling-the-opengl-core-profile-in-pyglet-on-os-x/33005849#33005849", "title": "Enabling the OpenGL Core Profile in pyglet on OS X", "body": "<p>Seems to be an open bug, there is an unresolved issue <a href=\"https://code.google.com/p/pyglet/issues/detail?id=532\" rel=\"nofollow\">here</a> in the old Google code repo, and I've filed a new bug <a href=\"https://bitbucket.org/pyglet/pyglet/issues/65/cant-create-a-30-opengl-context-on-osx\" rel=\"nofollow\">here</a>.</p>\n\n<p>So I guess currently (as of pyglet 1.2.4) it's not possible to get a >3.0 OpenGL context.</p>\n"}], "owner": {"reputation": 130, "user_id": 695467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b3bbc5287b2dee3eb594004f330b7d?s=128&d=identicon&r=PG", "display_name": "chromy", "link": "https://stackoverflow.com/users/695467/chromy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "accepted_answer_id": 33005849, "answer_count": 1, "score": 2, "last_activity_date": 1444273202, "creation_date": 1444250104, "last_edit_date": 1495542579, "question_id": 33001982, "link": "https://stackoverflow.com/questions/33001982/enabling-the-opengl-core-profile-in-pyglet-on-os-x", "title": "Enabling the OpenGL Core Profile in pyglet on OS X", "body": "<p>I'm trying to get a minimal OpenGL shader working in pyglet but getting the following error when it compiles:</p>\n\n<pre><code>ERROR: 0:1: '' :  version '420' is not supported\n</code></pre>\n\n<p>It seems like this might be due to pyglet using the legacy OpenGL profile as in <a href=\"https://stackoverflow.com/questions/20931528/shader-cant-be-compiled\">this question</a> but if that is the case how can I get pyglet to use a diffrent profile? I can't find it documented anywhere and feel like I must be missing something obvious.</p>\n\n<p>The following code reproduces the problem (adapted from <a href=\"https://swiftcoder.wordpress.com/2008/12/19/simple-glsl-wrapper-for-pyglet/\" rel=\"nofollow noreferrer\">this example</a>):</p>\n\n<pre><code>import pyglet\nimport pyglet.gl as gl\nimport ctypes\n\nwindow = pyglet.window.Window()\nhandle = gl.glCreateProgram()\nshader = gl.glCreateShader(gl.GL_VERTEX_SHADER)\n\nsource = \"\"\"\n#version 420\n\nin vec3 vertex_position;\n\nvoid main() {\n    gl_Position = vec4(vertex_position, 1.0);\n}\n\"\"\"\n\nsrc = ctypes.c_char_p(source)\ngl.glShaderSource(shader, 1,\n    ctypes.cast(ctypes.pointer(src),\n    ctypes.POINTER(ctypes.POINTER(ctypes.c_char))), None)\ngl.glCompileShader(shader)\n\n# Retrieve compilation status\nstatus = ctypes.c_int(0)\ngl.glGetShaderiv(shader, gl.GL_COMPILE_STATUS, ctypes.byref(status))\n# If compilation failed, print the log\nif not status:\n    gl.glGetShaderiv(shader, gl.GL_INFO_LOG_LENGTH, ctypes.byref(status))\n    buffer = ctypes.create_string_buffer(status.value)\n    gl.glGetShaderInfoLog(shader, status, None, buffer)\n    print buffer.value\n\npyglet.app.run()\n</code></pre>\n\n<ul>\n<li>Hardware: MacBook Air (13-inch, Mid 2012) Intel HD Graphics 4000 1024 MB</li>\n<li>OSX: 10.10.1</li>\n<li>Python: 2.7.6</li>\n<li>pyglet: 1.2.4</li>\n</ul>\n"}, {"tags": ["python", "pip", "setup.py", "pyobjc"], "answers": [{"tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": false, "score": 0, "last_activity_date": 1552068229, "creation_date": 1552068229, "answer_id": 55068658, "question_id": 33001948, "link": "https://stackoverflow.com/questions/33001948/installing-python-package-from-version-control-where-setup-py-is-not-in-the-proj/55068658#55068658", "title": "Installing Python package from version control where setup.py is not in the project root", "body": "<p>In the <a href=\"https://bitbucket.org/ronaldoussoren/pyobjc/src/39c254b20bf2d63ef2891cb57bba027dfe7e06e8/pyobjc/?at=default\" rel=\"nofollow noreferrer\">pyobjc/pyobjc subdirectory</a> I see <code>setup.py</code>, not `install.py.</p>\n\n<p><code>pip</code> can be <a href=\"https://pip.readthedocs.io/en/stable/reference/pip_install/#vcs-support\" rel=\"nofollow noreferrer\">advised</a> to look into a subdirectory of a VCS repository for <code>setup.py</code>:</p>\n\n<pre><code>pip install -e 'hg+https://bitbucket.org/ronaldoussoren/pyobjc@39c254b20bf2d63ef2891cb57bba027dfe7e06e8#egg=pyobjc&amp;subdirectory=pyobjc'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4822815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ABq4PROM7HU/AAAAAAAAAAI/AAAAAAAAFMM/P22BAtVxdqU/photo.jpg?sz=128", "display_name": "Mike Lyons", "link": "https://stackoverflow.com/users/4822815/mike-lyons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552068229, "creation_date": 1444249965, "last_edit_date": 1444253657, "question_id": 33001948, "link": "https://stackoverflow.com/questions/33001948/installing-python-package-from-version-control-where-setup-py-is-not-in-the-proj", "title": "Installing Python package from version control where setup.py is not in the project root", "body": "<p>I'm trying to include the <a href=\"https://bitbucket.org/ronaldoussoren/pyobjc\" rel=\"nofollow\">pyobjc</a> package in my pip requirements file, but I need a committed version that doesn't have a release yet in order to pull in a much needed bug fix. The pyobjc package is a pseudo-package to install all the other framework dependencies.</p>\n\n<p>I can specify the HG path in the pip requirements just fine. The problem I'm facing is that the repository doesn't have a setup.py in the root directory. Instead it has a subdirectory labeled pyobjc (with all the framework subdirectories alongside) that contains setup.py. In the root directory of the repo, there's a file labeled install.py that pyobjc's <a href=\"https://bitbucket.org/ronaldoussoren/pyobjc/src/e745884d66960b68434ce6a4a3c3b56835c22a8d/ReadMe.rst\" rel=\"nofollow\">readme</a> recommends using when installing from source.</p>\n\n<p>Does anyone have any idea how to call install.py from pip instead of setup.py or point to the subdirectory location?</p>\n"}, {"tags": ["python", "subprocess"], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1444250122, "last_edit_date": 1444250122, "creation_date": 1444249669, "answer_id": 33001865, "question_id": 33001776, "link": "https://stackoverflow.com/questions/33001776/ouputting-the-results-of-os-popen/33001865#33001865", "title": "Ouputting the results of os.popen()", "body": "<p>Pass a file object to stdout not a the file name as a string, you can also use <code>check_call</code> in place of Popen which will raise a <code>CalledProcessError</code> for a non-zero exit status:</p>\n\n<pre><code>with open('popen_output.txt',\"w\") as f:\n      subprocess.check_call('dir',stdout=f)\n</code></pre>\n\n<p>If you are on windows <code>subprocess.check_call('dir',stdout=f, shell=True)</code>, you could also redirect using <code>&gt;</code> using shell=True:</p>\n\n<pre><code>subprocess.check_call('dir &gt; popen_output.txt',shell=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 4033176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/W0Bco.jpg?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/4033176/programmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1444250139, "last_edit_date": 1444250139, "creation_date": 1444249760, "answer_id": 33001893, "question_id": 33001776, "link": "https://stackoverflow.com/questions/33001776/ouputting-the-results-of-os-popen/33001893#33001893", "title": "Ouputting the results of os.popen()", "body": "<p>This seems to be more what you'd like to do. You can process then write to file.</p>\n\n<pre><code>process = subprocess.Popen(cmd, stdout=subprocess.PIPE, shell=True)\nfor line in process.stdout:\n    #processing then write line to file...\n    file.write(line)\n</code></pre>\n\n<p>If you don't want to process, then you could just do it in your <code>subprocess</code> call. </p>\n\n<pre><code>subprocess.run('dir &gt; popen_output.txt', shell=true)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 4033176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/W0Bco.jpg?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/4033176/programmer"}, "edited": false, "score": 0, "creation_date": 1444306675, "post_id": 33002231, "comment_id": 53854047, "body": "You should accept an answer instead of posting your working code. You should understand the elements of Padraic&#39;s answer some more."}], "tags": [], "owner": {"reputation": 478, "user_id": 5314053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1ef857e30b7695cad92354ad24833e?s=128&d=identicon&r=PG&f=1", "display_name": "Noob123", "link": "https://stackoverflow.com/users/5314053/noob123"}, "is_accepted": false, "score": 2, "last_activity_date": 1444251189, "creation_date": 1444251189, "answer_id": 33002231, "question_id": 33001776, "link": "https://stackoverflow.com/questions/33001776/ouputting-the-results-of-os-popen/33002231#33002231", "title": "Ouputting the results of os.popen()", "body": "<p>Ok.  This got it going.  Thanks for the help!</p>\n\n<pre><code>fob = open('popen_output.txt','a')\nsubprocess.Popen('dir',stdout=fob,shell=True)\nfob.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1215, "user_id": 2446351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lWxqe.png?s=128&g=1", "display_name": "foundling", "link": "https://stackoverflow.com/users/2446351/foundling"}, "is_accepted": false, "score": 0, "last_activity_date": 1444460413, "creation_date": 1444460413, "answer_id": 33051267, "question_id": 33001776, "link": "https://stackoverflow.com/questions/33001776/ouputting-the-results-of-os-popen/33051267#33051267", "title": "Ouputting the results of os.popen()", "body": "<p>The problem is you are calling fp.read() twice instead of saving the results of a single fp.read() call as res, printing res, and writing the res to the output file. A file handle is stateful, so if you call read on it twice, the current position after the first call will be at the end of the file/stream, hence your blank file.</p>\n\n<p>Try this (just providing the relevant changes):</p>\n\n<pre><code>fp = os.popen(cmd)\nres = fp.read()\nprint(res)\n</code></pre>\n"}], "owner": {"reputation": 478, "user_id": 5314053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1ef857e30b7695cad92354ad24833e?s=128&d=identicon&r=PG&f=1", "display_name": "Noob123", "link": "https://stackoverflow.com/users/5314053/noob123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 0, "accepted_answer_id": 33001865, "answer_count": 4, "score": 2, "last_activity_date": 1444460413, "creation_date": 1444249377, "last_edit_date": 1444253230, "question_id": 33001776, "link": "https://stackoverflow.com/questions/33001776/ouputting-the-results-of-os-popen", "title": "Ouputting the results of os.popen()", "body": "<p>I am trying to send the results of os.popen() to an output file.  Here is the code I have been trying</p>\n\n<pre><code>import os\n\ncmd = 'dir'\nfp = os.popen(cmd)\nprint(fp.read())  --Prints the results to the screen\nres = fp.read()\n\nfob = open('popen_output.txt','w')\nfob.write(res)\nfob.close()\n\nfp.close()\n</code></pre>\n\n<p>The output file is just blank.  The results of the command are however displayed on screen.  I have also tried using Popen like this (as per the subprocess management documentation):</p>\n\n<pre><code>import subprocess\n\nfob = Popen('dir',stdout='popen_output.txt',shell=true).stdout\n</code></pre>\n\n<p>As well as:</p>\n\n<pre><code>import subprocess\n\nsubprocess.Popen('dir',stdout='popen_output.txt,shell=true)\n</code></pre>\n"}, {"tags": ["python", "json", "django", "get", "getjson"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1444252204, "post_id": 33001740, "comment_id": 53829816, "body": "You should be able to check that a request has been made to <code>&#47;content&#47;</code> in your browser&#39;s dev tools. If you show your urls.py, we can check that it&#39;s correctly hooked up to your <code>content</code> view."}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1444268855, "post_id": 33001740, "comment_id": 53835245, "body": "Try browsing to <code>&#47;content&#47;</code> directly to see what django is actually serving."}, {"owner": {"reputation": 83, "user_id": 5399092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10207291762148616/picture?type=large", "display_name": "Helen_M", "link": "https://stackoverflow.com/users/5399092/helen-m"}, "edited": false, "score": 0, "creation_date": 1444285685, "post_id": 33001740, "comment_id": 53840359, "body": "My requst has http code 200, everything ik with it."}, {"owner": {"reputation": 83, "user_id": 5399092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10207291762148616/picture?type=large", "display_name": "Helen_M", "link": "https://stackoverflow.com/users/5399092/helen-m"}, "edited": false, "score": 0, "creation_date": 1444285744, "post_id": 33001740, "comment_id": 53840384, "body": "What do you mean in browsing to /content/? How can I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5399092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10207291762148616/picture?type=large", "display_name": "Helen_M", "link": "https://stackoverflow.com/users/5399092/helen-m"}, "edited": false, "score": 0, "creation_date": 1444285586, "post_id": 33006248, "comment_id": 53840307, "body": "Thank you, I did it and nothing changed"}], "tags": [], "owner": {"reputation": 109, "user_id": 4172647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc646887e9863692bb78902f0ab2a0?s=128&d=identicon&r=PG&f=1", "display_name": "igor-chernikov", "link": "https://stackoverflow.com/users/4172647/igor-chernikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1444275901, "creation_date": 1444275901, "answer_id": 33006248, "question_id": 33001740, "link": "https://stackoverflow.com/questions/33001740/getjson-doesnt-retrieve-data-from-django-backend/33006248#33006248", "title": "getJSON doesn&#39;t retrieve data from Django backend", "body": "<p>Looks like a problem in your view. You must initialize the <code>response_data</code> dictionary before using it:</p>\n\n<pre><code>def content(request):\n     response_data = {}\n     if request.method == \"GET\":\n        response_data['status'] = 'Update succeeded'\n\n     \"\"\"making response body\"\"\"\n\n     return HttpResponse(\n             json.dumps(response_data),\n             content_type=\"application/json\"\n         )  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 5399092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10207291762148616/picture?type=large", "display_name": "Helen_M", "link": "https://stackoverflow.com/users/5399092/helen-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1444850446, "creation_date": 1444850446, "answer_id": 33133843, "question_id": 33001740, "link": "https://stackoverflow.com/questions/33001740/getjson-doesnt-retrieve-data-from-django-backend/33133843#33133843", "title": "getJSON doesn&#39;t retrieve data from Django backend", "body": "<p>The problem was in my urls, I did't connect views method with GUI request, I had to replace:</p>\n\n<pre><code>    url(r'^content/', include('chat.urls') ),\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>    url(r'^content/', 'chat.views.content' ),\n</code></pre>\n\n<p>Thanks to all.</p>\n"}], "owner": {"reputation": 83, "user_id": 5399092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10207291762148616/picture?type=large", "display_name": "Helen_M", "link": "https://stackoverflow.com/users/5399092/helen-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 33133843, "answer_count": 2, "score": 1, "last_activity_date": 1527039425, "creation_date": 1444249233, "last_edit_date": 1527039425, "question_id": 33001740, "link": "https://stackoverflow.com/questions/33001740/getjson-doesnt-retrieve-data-from-django-backend", "title": "getJSON doesn&#39;t retrieve data from Django backend", "body": "<p>I'm trying to do regular table update every 10seconds. \nIn this code I'm simply adding additional row to the html template table.\nBut the problem is in my getJSON or in it's handling in backend, I don't know exactly. </p>\n\n<p>js:</p>\n\n<pre><code>    setInterval(function(){my_function() }, 10000); \n\nfunction my_function(){\n    console.log(\"Congrats!I'm in my_function!\");\n  $.getJSON('/content/',\n    function(data){\n        var getContent = JSON.parse(data);\n        console.log(\"Congrats!I'm in get function!\");\n        console.log(data.status);\n        if (data.status == 'update succeeded'){\n            $.each( data.answer, function(i,item){\n                $('#refresh tr:last').after('&lt;tr&gt;&lt;td&gt;'+ item +'&lt;/td&gt;&lt;/tr&gt;') \n        });\n        };\n});\n};\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>    def content(request):\n         if request.method == \"GET\":\n            response_data['status'] = 'Update succeeded'\n\n         \"\"\"making response body\"\"\"\n\n         return HttpResponse(\n                 json.dumps(response_data),\n                 content_type=\"application/json\"\n             )  \n</code></pre>\n\n<p>In browser console I get only first log message \"Congrats!I'm in my_function!\".\nPlease, help me to find a reason why I don't get into backend 'if'.</p>\n\n<p>Also I have another main 'index' function in my backend with another request (POST). May be it makes some sense and my GET function does not even call?</p>\n"}, {"tags": ["python", "setuptools", "easy-install"], "comments": [{"owner": {"reputation": 1, "user_id": 5377896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jvxZpJVqjYs/AAAAAAAAAAI/AAAAAAAAAZc/47Y3lL6ZscI/photo.jpg?sz=128", "display_name": "Robert Bolen", "link": "https://stackoverflow.com/users/5377896/robert-bolen"}, "edited": false, "score": 0, "creation_date": 1444249146, "post_id": 33001704, "comment_id": 53828286, "body": "I have tried running the easy_install -U distribute as well, same result"}], "answers": [{"tags": [], "owner": {"reputation": 1310, "user_id": 4045754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DBrYm.png?s=128&g=1", "display_name": "yeniv", "link": "https://stackoverflow.com/users/4045754/yeniv"}, "is_accepted": false, "score": 0, "last_activity_date": 1450250403, "last_edit_date": 1495535240, "creation_date": 1450250403, "answer_id": 34306074, "question_id": 33001704, "link": "https://stackoverflow.com/questions/33001704/updated-setuptools-using-easy-install-u-now-there-is-a-distribution-error/34306074#34306074", "title": "Updated setuptools using easy_install -U, now there is a distribution error", "body": "<p>Looks like ReviewBoard needs setuptools as a dependency. When you ran <code>easy_install ReviewBoard-1.7.6-py2.6</code>, it would have detected that this dependency is already installed but actually it wasn't.</p>\n\n<p>One reason could be that deleting the .egg file was not the complete process of getting rid of a package installed with easy_install. You also need to remove the corresponding line from site-packages/easy-install.pth. Refer: <a href=\"https://stackoverflow.com/a/1233282/4045754\">https://stackoverflow.com/a/1233282/4045754</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5377896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jvxZpJVqjYs/AAAAAAAAAAI/AAAAAAAAAZc/47Y3lL6ZscI/photo.jpg?sz=128", "display_name": "Robert Bolen", "link": "https://stackoverflow.com/users/5377896/robert-bolen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450250403, "creation_date": 1444249091, "last_edit_date": 1444254083, "question_id": 33001704, "link": "https://stackoverflow.com/questions/33001704/updated-setuptools-using-easy-install-u-now-there-is-a-distribution-error", "title": "Updated setuptools using easy_install -U, now there is a distribution error", "body": "<p>I updated setuptools using:</p>\n\n<p><code>easy_install -U setuptool</code></p>\n\n<p>This ran fine. I then realized I did not want to use the most recent version of setuptools and deleted <code>setuptools-18.3.2-py2.6.egg</code> file from <code>/usr/lib/python2.6/site-packages</code>. After I did this I am getting the following errors when trying to install anything using easy_install shown below.</p>\n\n<pre><code>easy_install ReviewBoard-1.7.6-py2.6\nTraceback (most recent call last):\n  File \"/usr/bin/easy_install\", line 5, in &lt;module&gt;\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 2659, in &lt;module&gt;\n    parse_requirements(__requires__), Environment()\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 546, in resolve\n    raise DistributionNotFound(req)\npkg_resources.DistributionNotFound: setuptools&gt;=0.7\n</code></pre>\n"}, {"tags": ["python", "jenkins", "bad-request"], "comments": [{"owner": {"reputation": 612, "user_id": 944073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29fea0848b150cab87441e836a448c5?s=128&d=identicon&r=PG", "display_name": "Deiveegaraja Andaver", "link": "https://stackoverflow.com/users/944073/deiveegaraja-andaver"}, "edited": false, "score": 0, "creation_date": 1456246501, "post_id": 33001690, "comment_id": 58853635, "body": "Check you machine network proxy settings. Sometimes that will cause user request errors."}], "answers": [{"tags": [], "owner": {"reputation": 1948, "user_id": 2134767, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c35e33b26e394ff01a1cfbf7b9d47024?s=128&d=identicon&r=PG", "display_name": "Naggappan Ramukannan", "link": "https://stackoverflow.com/users/2134767/naggappan-ramukannan"}, "is_accepted": false, "score": 0, "last_activity_date": 1444383883, "creation_date": 1444383883, "answer_id": 33034986, "question_id": 33001690, "link": "https://stackoverflow.com/questions/33001690/jenkins-python-api-create-node-error-400/33034986#33034986", "title": "Jenkins Python API, create_node(), error: 400", "body": "<p>Use jenkinsapi module,</p>\n\n<pre><code>from jenkinsapi.jenkins import Jenkins\nserver = Jenkins('http://localhost:9090')\nserver.create_node('slave')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4345760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe5edd0840931ae845709977369ae9f?s=128&d=identicon&r=PG", "display_name": " sba", "link": "https://stackoverflow.com/users/4345760/sba"}, "is_accepted": false, "score": 0, "last_activity_date": 1478253891, "creation_date": 1478253891, "answer_id": 40419881, "question_id": 33001690, "link": "https://stackoverflow.com/questions/33001690/jenkins-python-api-create-node-error-400/40419881#40419881", "title": "Jenkins Python API, create_node(), error: 400", "body": "<p>It appears to be a bug in python-jenkins 0.4.11, which was fixed by commit \n<a href=\"https://git.openstack.org/cgit/openstack/python-jenkins/commit/?id=302eb5dad6439842e076fead5bd76f20f615e6a8\" rel=\"nofollow noreferrer\">302eb5dad6439842e076fead5bd76f20f615e6a8</a>.</p>\n\n<p>I got a similar error, upgrading python-jenkins fixed it.</p>\n"}], "owner": {"reputation": 171, "user_id": 5410323, "user_type": "registered", "profile_image": "https://graph.facebook.com/107861562903284/picture?type=large", "display_name": "Douglas Bonaf&#233;", "link": "https://stackoverflow.com/users/5410323/douglas-bonaf%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 649, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478253891, "creation_date": 1444249035, "question_id": 33001690, "link": "https://stackoverflow.com/questions/33001690/jenkins-python-api-create-node-error-400", "title": "Jenkins Python API, create_node(), error: 400", "body": "<p>I'm setting my jenkins environment and, as part of this process, I need to create a slave node.</p>\n\n<p>Bellow follow the script that is crashing:</p>\n\n<blockquote>\n  <p><code>\n  import jenkins\n  server = jenkins.Jenkins('http://localhost:9090')\n  server.create_node('slave')\n  </code></p>\n</blockquote>\n\n<p>Follows the output:</p>\n\n<p><code>\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/dist-packages/jenkins/__init__.py\", line 1156, in create_node\n    self._build_url(CREATE_NODE, params), b''))\n  File \"/usr/local/lib/python2.7/dist-packages/jenkins/__init__.py\", line 341, in jenkins_open\n    response = urlopen(req, timeout=self.timeout).read()\n  File \"/usr/lib/python2.7/urllib2.py\", line 127, in urlopen\n    return _opener.open(url, data, timeout)\n  File \"/usr/lib/python2.7/urllib2.py\", line 410, in open\n    response = meth(req, response)\n  File \"/usr/lib/python2.7/urllib2.py\", line 523, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/usr/lib/python2.7/urllib2.py\", line 448, in error\n    return self._call_chain(*args)\n  File \"/usr/lib/python2.7/urllib2.py\", line 382, in _call_chain\n    result = func(*args)\n  File \"/usr/lib/python2.7/urllib2.py\", line 531, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nurllib2.HTTPError: HTTP Error 400: Bad Request\n</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 4, "creation_date": 1444249144, "post_id": 33001677, "comment_id": 53828283, "body": "<a href=\"https://wiki.python.org/moin/BeginnersGuide\" rel=\"nofollow noreferrer\">wiki.python.org/moin/BeginnersGuide</a>"}, {"owner": {"reputation": 6934, "user_id": 692410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7d20c86fcc483e625eb179ca2bbfa0cb?s=128&d=identicon&r=PG", "display_name": "Will Richardson", "link": "https://stackoverflow.com/users/692410/will-richardson"}, "edited": false, "score": 1, "creation_date": 1444249157, "post_id": 33001677, "comment_id": 53828292, "body": "<code>=</code> assigns a value to a variable. <code>==</code> checks whether two variables or values are the same."}, {"owner": {"reputation": 2553, "user_id": 4443890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2601f3b9ff36beb56eaa3ddee2a3f6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4443890/jason"}, "edited": false, "score": 1, "creation_date": 1444249173, "post_id": 33001677, "comment_id": 53828300, "body": "<code>==</code> is for comparing two values, <code>=</code> is used to assign a value to a variable"}, {"owner": {"reputation": 81, "user_id": 4697685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215af630055473448d07a8812d68f710?s=128&d=identicon&r=PG&f=1", "display_name": "Paradizigmania", "link": "https://stackoverflow.com/users/4697685/paradizigmania"}, "edited": false, "score": 0, "creation_date": 1444249892, "post_id": 33001677, "comment_id": 53828655, "body": "as said before == is for comparing and = is for assigning. This is partially because sometimes you assign things and check for others in the same line of code."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1444250784, "post_id": 33001677, "comment_id": 53829118, "body": "This is such basic syntax. How can you have learned the language without seeing this?"}, {"owner": {"reputation": 2114, "user_id": 165164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCuan.jpg?s=128&g=1", "display_name": "Anne Gunn", "link": "https://stackoverflow.com/users/165164/anne-gunn"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1444252256, "post_id": 33001677, "comment_id": 53829834, "body": "@Barmar, I think it would be appropriate to give this person feedback that SO is not the place to ask conceptual questions about programming, particularly basic ones. But I don&#39;t think it is appropriate to make a challenge like &quot;How can you have learned . . . &quot; -- in a way that could be interpreted as attacking the person, not the question. (We&#39;re getting a lot of really basic questions right now -- fall semester in the northern hemisphere, programming 101 is  in full swing)."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5415766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGdCZ.png?s=128&g=1", "display_name": "Bhavani G", "link": "https://stackoverflow.com/users/5415766/bhavani-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1444252223, "creation_date": 1444252223, "answer_id": 33002475, "question_id": 33001677, "link": "https://stackoverflow.com/questions/33001677/the-differences-between-the-operator-and/33002475#33002475", "title": "The differences&#39; between the operator &quot;==&quot; and &quot;=&quot;", "body": "<pre><code>In python and other languages like C, \n     \"=\" is a assignment operator and is used to assign a value to a variable.\n       Example: a=2 # the value of a is 2\n\nwhereas \"==\" is Comparison operator and is used to check whether 2 expressions give the same value .Equality check returns true if it succeeds and else return false.\n  Example: a=2 b=3 c=2 \n             a==b (#false because 2 is not equal to 3) \n               a==c (#true because 2 is equal to 2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1520214587, "post_id": 49102297, "comment_id": 85210004, "body": "It would be great if you could format this so that is was readable.  As it stands now, this is what we call a WALL OF TEXT.  Very, very hard to read."}], "tags": [], "owner": {"reputation": 11, "user_id": 5578945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45943ed00771084a0696de4c4b05afbc?s=128&d=identicon&r=PG", "display_name": "adeola olanrewaju", "link": "https://stackoverflow.com/users/5578945/adeola-olanrewaju"}, "is_accepted": false, "score": 0, "last_activity_date": 1520213397, "creation_date": 1520213397, "answer_id": 49102297, "question_id": 33001677, "link": "https://stackoverflow.com/questions/33001677/the-differences-between-the-operator-and/49102297#49102297", "title": "The differences&#39; between the operator &quot;==&quot; and &quot;=&quot;", "body": "<p>An == expression evaluates to true, is an equality operator. == has the value of two operands are equal make the condition or statement true.\n= is an expression of assignment operator to symbol of variables, arrays, objects. \nBoth operators are very important, and they work in difference ways in every equivalent object. There behavior on their operation is based on identity of objects. Are reflation of their variables.\nWhen using == in compares the values of two objects example having two cars from the same company and have the same identity and features and same looks. The rule implies that the statement and condition to be trues \nTo use = operator is when to evaluate variables in an expression if both side or the operator mean same or the objects are same if not same it expression will be false and if true the expressions or objects are same. </p>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 10897307, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I1P_UL0CsIs/AAAAAAAAAAI/AAAAAAAAAAw/sFhKbh_249M/photo.jpg?sz=128", "display_name": "Andrii Chumakov", "link": "https://stackoverflow.com/users/10897307/andrii-chumakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1547379596, "creation_date": 1547379596, "answer_id": 54168488, "question_id": 33001677, "link": "https://stackoverflow.com/questions/33001677/the-differences-between-the-operator-and/54168488#54168488", "title": "The differences&#39; between the operator &quot;==&quot; and &quot;=&quot;", "body": "<p>= is used for assignment: e.g.: apple = 'apple'.\nIt states what is what.\n== compares one value to another. Is 5 equal to 5 should be written like this: 5 == 5</p>\n"}], "owner": {"reputation": 3, "user_id": 5420263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb3ffbb2eb8dce044a166bb0e3b3dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Erbium", "link": "https://stackoverflow.com/users/5420263/erbium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 0, "answer_count": 3, "score": -6, "last_activity_date": 1547379596, "creation_date": 1444249014, "question_id": 33001677, "link": "https://stackoverflow.com/questions/33001677/the-differences-between-the-operator-and", "title": "The differences&#39; between the operator &quot;==&quot; and &quot;=&quot;", "body": "<p>The differences' between the operator \"==\" and \"=\". When would each be used? Why would each be used?</p>\n"}, {"tags": ["python", "python-2.7", "pygtk"], "comments": [{"owner": {"reputation": 1132, "user_id": 2727504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2607c817ab19381f35822c2d07f5976?s=128&d=identicon&r=PG&f=1", "display_name": "gianmt", "link": "https://stackoverflow.com/users/2727504/gianmt"}, "edited": false, "score": 0, "creation_date": 1444300356, "post_id": 33001661, "comment_id": 53849777, "body": "I fail to understand you question.... can you post a minimal working example?"}, {"owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "reply_to_user": {"reputation": 1132, "user_id": 2727504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2607c817ab19381f35822c2d07f5976?s=128&d=identicon&r=PG&f=1", "display_name": "gianmt", "link": "https://stackoverflow.com/users/2727504/gianmt"}, "edited": false, "score": 0, "creation_date": 1444310000, "post_id": 33001661, "comment_id": 53856687, "body": "@gianmt - I posted an EDIT to the original post."}, {"owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "reply_to_user": {"reputation": 1132, "user_id": 2727504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2607c817ab19381f35822c2d07f5976?s=128&d=identicon&r=PG&f=1", "display_name": "gianmt", "link": "https://stackoverflow.com/users/2727504/gianmt"}, "edited": false, "score": 0, "creation_date": 1444312401, "post_id": 33001661, "comment_id": 53858577, "body": "I figured it out, thanks for taking your time, @gianmt"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "is_accepted": false, "score": 0, "last_activity_date": 1444312367, "creation_date": 1444312367, "answer_id": 33017824, "question_id": 33001661, "link": "https://stackoverflow.com/questions/33001661/pygtk-call-event-handler-function-from-within-another-function/33017824#33017824", "title": "pyGTK - call event handler function from within another function", "body": "<p>This was a un-needed question.  </p>\n\n<p>If anyone is wanting to call their action listener from a function without invoking an action : </p>\n\n<pre><code>toggle1 = self.builder.get_object(\"togglebutton1\")\nself.on_togglebutton1_toggled(toggle1)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444332497, "creation_date": 1444248954, "last_edit_date": 1444332497, "question_id": 33001661, "link": "https://stackoverflow.com/questions/33001661/pygtk-call-event-handler-function-from-within-another-function", "title": "pyGTK - call event handler function from within another function", "body": "<p>People have asked questions similar to this but because of how generic it is, I am getting undesired results, such as jquery related things.  I apologize in advanced if this question has been asked before.</p>\n\n<p>I have a GUI application that I have built using the Glade Interface Designer in Linux (Ubuntu 14.04).</p>\n\n<p>I have, for example, this function :</p>\n\n<pre><code>def on_togglebutton2_toggled(self, widget, data=None):\n\n        map = widget.get_colormap()\n        color_off = map.alloc_color(\"red\")\n        color_on  = map.alloc_color(\"green\")\n        label = widget.get_label()\n        ......more code.\n</code></pre>\n\n<p>I have a button that is used to select a file to read.  Based on what is read, the toggle buttons will be set to a certain state.  </p>\n\n<p>Instead of having to manually set these buttons ( such as widget.set_active(1) ), is there a way to simulate a 'click' without having to physically 'click' the toggle button for the code to execute?  A huge part of this is for code re-use.</p>\n\n<p>How am I able to call on_toggle_button2_toggled() from another function within the same file?</p>\n\n<p>EDIT: </p>\n\n<p>For example : </p>\n\n<p>I want to be able to do this : </p>\n\n<pre><code>def function_name_here(self):\n    code here...\n    self.on_toggle2_toggle() #call the action listener function.\n</code></pre>\n\n<p>EDIT2: Calling the set_active(0 or 1) also invokes the listener function.</p>\n\n<p>Thanks in advance all.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444248897, "post_id": 33001611, "comment_id": 53828142, "body": "strings are appendable so just do new  = line + &#39; &#39;"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1444249191, "post_id": 33001611, "comment_id": 53828314, "body": "<code>&#39; &#39;.join(line.rstrip() for line in file)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "is_accepted": false, "score": 1, "last_activity_date": 1444248928, "creation_date": 1444248928, "answer_id": 33001650, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file/33001650#33001650", "title": "join one word lines in a file", "body": "<p>You can add each line to a list, then join it up after:</p>\n\n<pre><code>L = []\nfor line in file:\n    L.append(line.strip('\\n'))\n\nprint \" \".join(L)\n</code></pre>\n\n<p>Your current solution tries to use <code>join</code> with a string not a list</p>\n"}, {"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1444248946, "creation_date": 1444248946, "answer_id": 33001655, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file/33001655#33001655", "title": "join one word lines in a file", "body": "<p>This is I think what you want..</p>\n\n<pre><code>' '.join(l.strip() for l in file)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2328, "user_id": 588055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59cb532f828b150285d50c2f3911facb?s=128&d=identicon&r=PG", "display_name": "Zack Tanner", "link": "https://stackoverflow.com/users/588055/zack-tanner"}, "is_accepted": false, "score": 1, "last_activity_date": 1444249008, "creation_date": 1444249008, "answer_id": 33001675, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file/33001675#33001675", "title": "join one word lines in a file", "body": "<p>A one line solution to this problem would be the following:</p>\n\n<p><code>print(open('thefile.txt').read().replace('\\n', ' '))</code></p>\n"}, {"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1444249951, "last_edit_date": 1444249951, "creation_date": 1444249269, "answer_id": 33001746, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file/33001746#33001746", "title": "join one word lines in a file", "body": "<p>yet another way:</p>\n\n<pre><code>with open('yourfilename.txt', 'r') as file:\n    words = ' '.join(map(str.rstrip, file))\n</code></pre>\n\n<p>As you can see from several other answers, <code>file</code> is an iterator, so you can iterate over it and at each loop it will give you a line read from the file (including the <code>\\n</code> at the end, that is why we're all stripping it off).</p>\n\n<p>Logically speaking, <code>map</code> applies the given function (i.e. <code>str.rstrip</code>) to each line read in and the results are passed on to <code>join</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444250150, "post_id": 33001882, "comment_id": 53828792, "body": "yes you can, but there is no point in creating a list when you can use a generator. There is a difference."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444250259, "post_id": 33001882, "comment_id": 53828843, "body": "@Pynchia, it is actually  more efficient to pass a list,  if you pass a generator python will construct a list anyway as it does two passes over the data"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1444250382, "post_id": 33001882, "comment_id": 53828914, "body": "@PadraicCunningham alright thank you. Do you mean Chad Simmons&#39;/Peter Wood&#39;s solution are less optimized than this one? Good to know"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1444250526, "post_id": 33001882, "comment_id": 53828986, "body": "@Pynchia, yes, join checks the size first before it actually joins the strings  so if it did not first create a list when passed a generator  you would not be able to do a second pass over it as the generator would be consumed"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1444250699, "post_id": 33001882, "comment_id": 53829074, "body": "OK, upvoted then! :) @PadraicCunningham why is <code>join</code> behaving like that? What&#39;s the use of checking the size.. of what?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1444251134, "post_id": 33001882, "comment_id": 53829309, "body": "@Pynchia, how much space is needed for the output <a href=\"https://github.com/python/cpython/blob/master/Objects/stringlib/join.h#L54\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/master/Objects/stringlib/&hellip;</a>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1444251456, "post_id": 33001882, "comment_id": 53829481, "body": "@PadraicCunningham are you saying <code>list(word.strip() for word in words)</code> is slower than <code>[word.strip() for word in words]</code>? I&#39;ll have to time it."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1444251596, "post_id": 33001882, "comment_id": 53829545, "body": "@PeterWood, yes, it is definitely slower."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1444251726, "post_id": 33001882, "comment_id": 53829604, "body": "@PadraicCunningham Well, I never: 2.23 vs 3.12 best of three. About 1.4 times slower."}], "tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": false, "score": 2, "last_activity_date": 1444249732, "creation_date": 1444249732, "answer_id": 33001882, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file/33001882#33001882", "title": "join one word lines in a file", "body": "<p>You can also use <a href=\"http://www.secnetix.de/olli/Python/list_comprehensions.hawk\" rel=\"nofollow\">list comprehensions</a>:</p>\n\n<pre><code>whole_string = \" \".join([word.strip() for word in file])\nprint(whole_string)\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5377208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9169e8d399ef244687a4f3549d186d28?s=128&d=identicon&r=PG&f=1", "display_name": "fff", "link": "https://stackoverflow.com/users/5377208/fff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1444249951, "creation_date": 1444248771, "question_id": 33001611, "link": "https://stackoverflow.com/questions/33001611/join-one-word-lines-in-a-file", "title": "join one word lines in a file", "body": "<p>I have a file in the format of one word for line, and I want to join the lines with one space, I tries this, but it does not work</p>\n\n<pre><code>for line in file:\n    new = ' '.join(line)\n    print (new)\n</code></pre>\n\n<p>also this does not work</p>\n\n<pre><code>    new = file.replace('\\n'', ' ')\n    print (new)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 3200423, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2cd1945aedfd1e4f08573633fcb5743a?s=128&d=identicon&r=PG&f=1", "display_name": "embeepea", "link": "https://stackoverflow.com/users/3200423/embeepea"}, "edited": false, "score": 0, "creation_date": 1444251427, "post_id": 33002097, "comment_id": 53829460, "body": "Nice.  I am also wondering about efficiency.  This approach definitely seems more efficient than my groupby solution, but it looks like it would still involve passing over the data in both df1 and df2 multiple times (in terms of what pandas has to do internally, I mean).  If anyone has thoughts about an even more efficient approach, I&#39;d love to hear them!"}, {"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 9, "creation_date": 1444252675, "post_id": 33002097, "comment_id": 53830059, "body": "You could avoid the update by writing in the reverse order; <code>pd.concat([df1[~df1.index.isin(df2.index)], df2])</code>"}, {"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "reply_to_user": {"reputation": 537, "user_id": 3200423, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2cd1945aedfd1e4f08573633fcb5743a?s=128&d=identicon&r=PG&f=1", "display_name": "embeepea", "link": "https://stackoverflow.com/users/3200423/embeepea"}, "edited": false, "score": 2, "creation_date": 1444272499, "post_id": 33002097, "comment_id": 53836132, "body": "@embeepea well YMMV. but this actually is quite efficient, involves one set op (on the index) and 1 take (the indexing), and a single copy (the concat). Eg. 1MM rows, takes 150ms on my machine."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 32, "last_activity_date": 1444253054, "last_edit_date": 1444253054, "creation_date": 1444250690, "answer_id": 33002097, "question_id": 33001585, "link": "https://stackoverflow.com/questions/33001585/pandas-dataframe-concat-update-upsert/33002097#33002097", "title": "pandas DataFrame concat / update (&quot;upsert&quot;)?", "body": "<p>One solution is to conatenate <code>df1</code> with new rows in <code>df2</code> (i.e. where the index does not match).  Then update the values with those from <code>df2</code>.</p>\n\n<pre><code>df = pd.concat([df1, df2[~df2.index.isin(df1.index)]])\ndf.update(df2)\n\n&gt;&gt;&gt; df\n             A   B\n2015-10-01  A1  B1\n2015-10-02  a1  b1\n2015-10-03  a2  b2\n2015-10-04  a3  b3\n</code></pre>\n\n<p><strong>EDIT:</strong>\nPer the suggestion of @chrisb, this can further be simplified as follows:</p>\n\n<pre><code>pd.concat([df1[~df1.index.isin(df2.index)], df2])\n</code></pre>\n\n<p>Thanks Chris!</p>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 10101463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x1jcR.jpg?s=128&g=1", "display_name": "MisterMonk", "link": "https://stackoverflow.com/users/10101463/mistermonk"}, "is_accepted": false, "score": 3, "last_activity_date": 1579016952, "last_edit_date": 1579016952, "creation_date": 1557329796, "answer_id": 56044317, "question_id": 33001585, "link": "https://stackoverflow.com/questions/33001585/pandas-dataframe-concat-update-upsert/56044317#56044317", "title": "pandas DataFrame concat / update (&quot;upsert&quot;)?", "body": "<p>In addition to the correct answer, watch out for columns that do not exist in both dataframes:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    df1 = pd.DataFrame([['test',1, True], ['test2',2, True]]).set_index(0)\n    df2 = pd.DataFrame([['test2',4], ['test3',3]]).set_index(0)\n</code></pre>\n\n<p>If you just use the aforementioned solution as-is, you get:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    &gt;&gt;&gt;     1   2\n    0       \n    test    1   True\n    test2   4   NaN\n    test3   3   NaN\n</code></pre>\n\n<p>But if you are expecting the following output:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    &gt;&gt;&gt;     1   2\n    0       \n    test    1   True\n    test2   4   True\n    test3   3   NaN\n</code></pre>\n\n<p>Just change the statement to:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    df1 = pd.concat([df1, df2[~df2.index.isin(df1.index)]])\n    df1.update(df2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8991693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdbb6a8c7388e93a549f089b64b1074f?s=128&d=identicon&r=PG", "display_name": "user8991693", "link": "https://stackoverflow.com/users/8991693/user8991693"}, "is_accepted": false, "score": -3, "last_activity_date": 1608783302, "creation_date": 1608783302, "answer_id": 65433878, "question_id": 33001585, "link": "https://stackoverflow.com/questions/33001585/pandas-dataframe-concat-update-upsert/65433878#65433878", "title": "pandas DataFrame concat / update (&quot;upsert&quot;)?", "body": "<p>This question is very help to me.</p>\n<p>answer of @Alexander that is good enough.</p>\n<p>I just want to give a little explain the different of two solution:</p>\n<ol>\n<li>much lines</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>def upsert(target, new)\n  df = pd.concat([target, new[~new.index.isin(target.index)]], sort=False)\n  df.update(new)\n  return df\n</code></pre>\n<p>and</p>\n<ol start=\"2\">\n<li>one-liner</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>def upsert(target, new):\n  return pd.concat([target[~target.index.isin(new.index)], new], sort=False)\n</code></pre>\n<hr />\n<p>There is the example can explain the difference:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; df = pd.DataFrame([('python', None, 4),\n                       ('java',   '1992', 3),\n                       ('javascript', None, 2)],\n                      columns=['lang', 'year', 'rank'])\n&gt;&gt;&gt; df\n    lang    year    rank\n0   python  None    4\n1   java    1992    3\n2   javascript  None    2\n\n&gt;&gt;&gt; upsert_df = pd.DataFrame([('python', '1987'),\n                              ('GOLANG', '2009')],\n                             columns=['lang', 'year'])\n&gt;&gt;&gt; upsert_df\n    lang    year\n0   python  1987\n1   GOLANG  2009\n\n&gt;&gt;&gt; target, new = df.set_index(['lang']), upsert.set_index(['lang'])\n&gt;&gt;&gt; upsert(target, new, full_update=True)\n    year    rank\nlang        \njava    1992    3.0\njavascript  None    2.0\npython  1987    NaN\nGOLANG  2009    NaN\n\n&gt;&gt;&gt; upsert(target, new, full_update=False)\n    year    rank\nlang        \npython  1987    4.0\njava    1992    3.0\nc   1976    1.0\njavascript  None    2.0\nGOLANG  2009    NaN\n\n</code></pre>\n<p>the <code>upsert</code> function like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def upsert(target, new, *, full_update, sort=False) -&gt; pd.DataFrame:\n  &quot;&quot;&quot;do a upsert in pandas\n\n  :param target: to be upsert;\n  :param new:  upsert data to target;\n  :param full_update: bool: NA;\n  :param sort: bool: if new.columns != target.columns, the new version of pandas execute .concat will sort columns by default.\n\n  Reference: https://stackoverflow.com/a/33002097\n  &quot;&quot;&quot;\n\n  if full_update:\n    return pd.concat([target[~target.index.isin(new.index)], new], sort=sort)\n  else:\n    df = pd.concat([target, new[~new.index.isin(target.index)]], sort=sort)\n    df.update(new)\n    return df\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 7382307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f2d3ad566d728a6f851d92030f8427?s=128&d=identicon&r=PG", "display_name": "billjoie", "link": "https://stackoverflow.com/users/7382307/billjoie"}, "is_accepted": false, "score": 2, "last_activity_date": 1614317133, "creation_date": 1614317133, "answer_id": 66380579, "question_id": 33001585, "link": "https://stackoverflow.com/questions/33001585/pandas-dataframe-concat-update-upsert/66380579#66380579", "title": "pandas DataFrame concat / update (&quot;upsert&quot;)?", "body": "<p>As of <code>pandas 1.0.3</code>, the desired UPSERT functionality is directly given by <code>combine_first</code>:</p>\n<pre class=\"lang-py prettyprint-override\"><code>combined = df2.combine_first(df1)\n\nprint(combined)\n#               A   B\n# 2015-10-01    A1  B1\n# 2015-10-02    a1  b1\n# 2015-10-03    a2  b2\n# 2015-10-04    a3  b3\n</code></pre>\n<p>To get this UPSERT behaviour, the dataframe whose data has priority (the updating one, in this case <code>df2</code>) must be the one calling the function.</p>\n<p>It basically: (1) harmonizes rows and columns, (2) gives priority to non-NaN data, and (3) if datapoints defined in both dataframes, gives priority to data in <code>df2</code>, which is essentially what you want.</p>\n"}], "owner": {"reputation": 537, "user_id": 3200423, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2cd1945aedfd1e4f08573633fcb5743a?s=128&d=identicon&r=PG&f=1", "display_name": "embeepea", "link": "https://stackoverflow.com/users/3200423/embeepea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10973, "favorite_count": 12, "accepted_answer_id": 33002097, "answer_count": 4, "score": 27, "last_activity_date": 1614317133, "creation_date": 1444248684, "last_edit_date": 1471442536, "question_id": 33001585, "link": "https://stackoverflow.com/questions/33001585/pandas-dataframe-concat-update-upsert", "title": "pandas DataFrame concat / update (&quot;upsert&quot;)?", "body": "<p>I am looking for an elegant way to append all the rows from one DataFrame to another DataFrame (both DataFrames having the same index and column structure), but in cases where the same index value appears in both DataFrames, use the row from the second data frame.</p>\n\n<p>So, for example, if I start with:</p>\n\n<pre><code>df1:\n                    A      B\n    date\n    '2015-10-01'  'A1'   'B1'\n    '2015-10-02'  'A2'   'B2'\n    '2015-10-03'  'A3'   'B3'\n\ndf2:\n    date            A      B\n    '2015-10-02'  'a1'   'b1'\n    '2015-10-03'  'a2'   'b2'\n    '2015-10-04'  'a3'   'b3'\n</code></pre>\n\n<p>I would like the result to be:</p>\n\n<pre><code>                    A      B\n    date\n    '2015-10-01'  'A1'   'B1'\n    '2015-10-02'  'a1'   'b1'\n    '2015-10-03'  'a2'   'b2'\n    '2015-10-04'  'a3'   'b3'\n</code></pre>\n\n<p>This is analogous to what I think is called \"upsert\" in some SQL systems --- a combination of update and insert, in the sense that each row from <code>df2</code> is either (a) used to update an existing row in <code>df1</code> if the row key already exists in <code>df1</code>, or (b) inserted into <code>df1</code> at the end if the row key does not already exist.</p>\n\n<p>I have come up with the following </p>\n\n<pre><code>pd.concat([df1, df2])     # concat the two DataFrames\n    .reset_index()        # turn 'date' into a regular column\n    .groupby('date')      # group rows by values in the 'date' column\n    .tail(1)              # take the last row in each group\n    .set_index('date')    # restore 'date' as the index\n</code></pre>\n\n<p>which seems to work, but this relies on the order of the rows in each groupby group always being the same as the original DataFrames, which I haven't checked on, and seems displeasingly convoluted.</p>\n\n<p>Does anyone have any ideas for a more straightforward solution?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1444249356, "creation_date": 1444249356, "answer_id": 33001768, "question_id": 33001553, "link": "https://stackoverflow.com/questions/33001553/melting-while-retaining-values-in-associated-columns/33001768#33001768", "title": "Melting while retaining values in associated columns", "body": "<p>You can create DataFrames of each sub-section and then concatenate them together:</p>\n\n<pre><code>&gt;&gt;&gt; pd.concat([pd.DataFrame(df.loc[:, ['POLY_KEY_I', 'SP1_LOWER', 'SP1_Percent']].values, \n                            columns=['POLY_KEY_I', 'SP_LOWER', 'SP_Percent']), \n               pd.DataFrame(df.loc[:, ['POLY_KEY_I', 'SP2_LOWER', 'SP2_Percent']].values, \n                            columns=['POLY_KEY_I', 'SP_LOWER', 'SP_Percent'])], \n              ignore_index=True).sort(['POLY_KEY_I', 'SP_LOWER'])\n\n         POLY_KEY_I SP_LOWER SP_Percent\n4   FS01080100SM001   BOUGRA       12.5\n3   FS01080100SM001   EUPESU         20\n12  FS01080100SM001   KOEPYR       12.5\n0   FS01080100SM001   POAPRA       12.5\n11  FS01080100SM001   POAPRA         20\n10  FS01080100SM001   SYMOCC        2.5\n2   FS01080100SM001   TOXRYD        2.5\n8   FS01080100SM001   TOXRYD       12.5\n1   FS01080100SM001      NaN          0\n9   FS01080100SM001      NaN          0\n13  FS01080100SM002   EUPESU       22.5\n15  FS01080100SM002   KOEPYR         15\n5   FS01080100SM002   POAPRA       22.5\n6   FS01080100SM002   POAPRA       12.5\n7   FS01080100SM002   POAPRA         15\n14  FS01080100SM002      NaN          0\n</code></pre>\n"}], "owner": {"reputation": 2849, "user_id": 4589550, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a46c412f2c2942a3a8210b0e8091cc1a?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Potter", "link": "https://stackoverflow.com/users/4589550/stefano-potter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 33001768, "answer_count": 1, "score": 0, "last_activity_date": 1444249356, "creation_date": 1444248580, "last_edit_date": 1444249232, "question_id": 33001553, "link": "https://stackoverflow.com/questions/33001553/melting-while-retaining-values-in-associated-columns", "title": "Melting while retaining values in associated columns", "body": "<p>I have a dataframe like this: </p>\n\n<pre><code>           POLY_KEY_I  SP1_Percent  SP2_Percent SP1_LOWER SP2_LOWER\n0     FS01080100SM001         12.5         12.5    POAPRA    TOXRYD\n1     FS01080100SM001          0.0          0.0       NaN       NaN\n2     FS01080100SM001          2.5          2.5    TOXRYD    SYMOCC\n3     FS01080100SM001         20.0         20.0    EUPESU    POAPRA\n4     FS01080100SM001         12.5         12.5    BOUGRA    KOEPYR\n5     FS01080100SM002         22.5         22.5    POAPRA    EUPESU\n6     FS01080100SM002         12.5          0.0    POAPRA       NaN\n7     FS01080100SM002         15.0         15.0    POAPRA    KOEPYR\n</code></pre>\n\n<p>and I want to melt <code>SP1_Lower</code> and <code>SP2_Lower</code> based on <code>POLY_KEY_I</code>, but I want to retain the associated <code>SP1_Percent</code> and <code>SP2_Percent</code>.  I can melt it with this:</p>\n\n<pre><code>df=pd.melt(df, id_vars='POLY_KEY_I', value_vars=['SP1_LOWER', 'SP2_LOWER'], value_name='SP')\n</code></pre>\n\n<p>but what I want my output to be is:</p>\n\n<pre><code>         POLY_KEY_I variable      SP   Percent\n0   FS01080100SM001      SP1  POAPRA   12.5\n1   FS01080100SM001      SP1     NaN   0\n2   FS01080100SM001      SP1  TOXRYD   2.5\n3   FS01080100SM001      SP1  EUPESU   20.0\n4   FS01080100SM001      SP1  BOUGRA   12.5\n5   FS01080100SM002      SP1  POAPRA   22.5\n6   FS01080100SM002      SP1  POAPRA   12.5\n7   FS01080100SM002      SP1  POAPRA   15.0\n8   FS01080100SM001      SP2  TOXRYD   12.5\n9   FS01080100SM001      SP2     NaN   0\n10  FS01080100SM001      SP2  SYMOCC   2.5\n11  FS01080100SM001      SP2  POAPRA   20.0\n12  FS01080100SM001      SP2  KOEPYR   12.5\n13  FS01080100SM002      SP2  EUPESU   22.5\n14  FS01080100SM002      SP2     NaN   0\n15  FS01080100SM002      SP2  KOEPYR   15.0\n</code></pre>\n"}, {"tags": ["python", "websocket", "subprocess"], "answers": [{"tags": [], "owner": {"reputation": 1495, "user_id": 1726592, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sLjvS.jpg?s=128&g=1", "display_name": "d-d", "link": "https://stackoverflow.com/users/1726592/d-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1444249099, "creation_date": 1444249099, "answer_id": 33001706, "question_id": 33001507, "link": "https://stackoverflow.com/questions/33001507/python-websocket-client-multiple-subprocesses-45/33001706#33001706", "title": "Python Websocket Client - Multiple Subprocesses (45+)", "body": "<p>I think, <a href=\"http://supervisord.org/\" rel=\"nofollow\">Supervisor</a> is what you are looking for.\nIt has no web dashboard \"out of the box\", but it has some <a href=\"http://supervisord.org/plugins.html\" rel=\"nofollow\">plugins</a> that implement such feature though.</p>\n"}], "owner": {"reputation": 1210, "user_id": 698305, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5189d9fd59eda54965b9db2788816354?s=128&d=identicon&r=PG", "display_name": "Dovy", "link": "https://stackoverflow.com/users/698305/dovy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444249099, "creation_date": 1444248394, "question_id": 33001507, "link": "https://stackoverflow.com/questions/33001507/python-websocket-client-multiple-subprocesses-45", "title": "Python Websocket Client - Multiple Subprocesses (45+)", "body": "<p>I have an interesting task ahead of me. I need to connect to 45 different websocket streams and stuff them all into the correct places. Sometimes those streams stop working and need to be relaunched. I'm right now running process via bash for each python file to ensure nothing crashes, but I'd rather have a single \"server\" if you will managing the whole process.</p>\n\n<p>The goal is to eventually have a dashboard of sorts showing the status of each named subprocess, and some stats. I'd like to be able, via dashboard, to relaunch or just stop any of the processes without killing the server, but being able to relaunch those processed at any time.</p>\n\n<p>Is this possible? Any direction?</p>\n\n<p>Most python websockets examples are server/client. I'm just looking for an indefinite client with a relaunch on error w/o ever killing off the server.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "edited": false, "score": 0, "creation_date": 1444248536, "post_id": 33001490, "comment_id": 53827956, "body": "Yes it is.  Use a regex pattern and away you go."}], "answers": [{"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1444248928, "post_id": 33001646, "comment_id": 53828157, "body": "What if there are quoted strings containing commas?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 3, "last_activity_date": 1444248899, "creation_date": 1444248899, "answer_id": 33001646, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv/33001646#33001646", "title": "Python - re-ordering columns in a csv", "body": "<pre><code>csv_in  = open(\"&lt;filename&gt;.csv\", \"r\")\ncsv_out = open(\"&lt;filename&gt;.csv\", \"w\")\n\nfor line in csv_in:\n    field_list = line.split(',')    # split the line at commas\n    output_line = ','.join(field_list[0],   # rejoin with commas, new order\n                           field_list[2],\n                           field_list[3],\n                           field_list[4],\n                           field_list[1]\n                           )\n    csv_out.write(output_line)\n\ncsv_in.close()\ncsv_out.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2483830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56906e8ec74219208b8b7911bec684f8?s=128&d=identicon&r=PG", "display_name": "thisismario123", "link": "https://stackoverflow.com/users/2483830/thisismario123"}, "is_accepted": false, "score": 1, "last_activity_date": 1444249019, "last_edit_date": 1495540465, "creation_date": 1444249019, "answer_id": 33001679, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv/33001679#33001679", "title": "Python - re-ordering columns in a csv", "body": "<p>You can use something similar to <a href=\"https://stackoverflow.com/questions/31662656/how-to-reorder-the-columns-of-a-csv\">this</a> to change the order, replacing ';' with ',' in your case.\nBecause you said you needed to do multiple .csv files, you could use the glob module for a list of your files</p>\n\n<pre><code>for file_name in glob.glob('&lt;Insert-your-file-filter-here&gt;*.csv'):\n    #Do the work here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "is_accepted": false, "score": 1, "last_activity_date": 1444249233, "creation_date": 1444249233, "answer_id": 33001741, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv/33001741#33001741", "title": "Python - re-ordering columns in a csv", "body": "<p>The <code>csv</code> module allows you to read csv files with their values associated to their column names. This in turn allows you to arbitrarily rearrange columns, without having to explicitly permute lists.</p>\n\n<pre><code>for row in csv.DictReader(open(\"foo.csv\")):\n  print row[\"b\"], row[\"a\"]\n\n2 1\n22 21\n</code></pre>\n\n<p>Given the file <strong>foo.csv</strong>:</p>\n\n<pre><code>a,b,d,e,f\n1,2,3,4,5\n21,22,23,24,25\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1444252380, "post_id": 33002011, "comment_id": 53829903, "body": "Really nice use of <code>DictReader</code>/<code>DictWriter</code>."}, {"owner": {"reputation": 875, "user_id": 1192748, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/50b085d124fee702b3864b250a2d5c08?s=128&d=identicon&r=PG", "display_name": "user1192748", "link": "https://stackoverflow.com/users/1192748/user1192748"}, "edited": false, "score": 0, "creation_date": 1529670803, "post_id": 33002011, "comment_id": 88970561, "body": "Beautiful solution. However, how can I make it work on input files that are delimited by a semicolon?"}, {"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "reply_to_user": {"reputation": 875, "user_id": 1192748, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/50b085d124fee702b3864b250a2d5c08?s=128&d=identicon&r=PG", "display_name": "user1192748", "link": "https://stackoverflow.com/users/1192748/user1192748"}, "edited": false, "score": 0, "creation_date": 1529693050, "post_id": 33002011, "comment_id": 88982447, "body": "@user1192748 the docs for csv.reader <a href=\"https://docs.python.org/2/library/csv.html#csv.reader\" rel=\"nofollow noreferrer\">python2</a> <a href=\"https://docs.python.org/3.6/library/csv.html#csv.reader\" rel=\"nofollow noreferrer\">python3</a> define <code>delimiter=</code> and <code>quotechar=</code> kwargs to specify the delimiter and quoiting character."}, {"owner": {"reputation": 277, "user_id": 346921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pEzyX.jpg?s=128&g=1", "display_name": "Navidot", "link": "https://stackoverflow.com/users/346921/navidot"}, "edited": false, "score": 0, "creation_date": 1531232907, "post_id": 33002011, "comment_id": 89513948, "body": "Keep in mind that <code>DictWriter</code> for Python 2, doesn&#39;t support unicode characters as mentioned <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/csv.html</a>"}], "tags": [], "owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "is_accepted": true, "score": 32, "last_activity_date": 1444269972, "last_edit_date": 1444269972, "creation_date": 1444250241, "answer_id": 33002011, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv/33002011#33002011", "title": "Python - re-ordering columns in a csv", "body": "<p>You can use the <a href=\"https://docs.python.org/2/library/csv.html\">csv module</a> to read, reorder, and then and write your file.</p>\n\n<p><strong>Sample File:</strong></p>\n\n<pre><code>$ cat file.csv\nA,B,C,D,E\na1,b1,c1,d1,e1\na2,b2,c2,d2,e2\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import csv\n\nwith open('file.csv', 'r') as infile, open('reordered.csv', 'a') as outfile:\n    # output dict needs a list for new column ordering\n    fieldnames = ['A', 'C', 'D', 'E', 'B']\n    writer = csv.DictWriter(outfile, fieldnames=fieldnames)\n    # reorder the header first\n    writer.writeheader()\n    for row in csv.DictReader(infile):\n        # writes the reordered rows to the new file\n        writer.writerow(row)\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>$ cat reordered.csv\nA,C,D,E,B\na1,c1,d1,e1,b1\na2,c2,d2,e2,b2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 6829544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c6Jgh.jpg?s=128&g=1", "display_name": "tursunWali", "link": "https://stackoverflow.com/users/6829544/tursunwali"}, "edited": false, "score": 1, "creation_date": 1618038830, "post_id": 33002675, "comment_id": 118485795, "body": "this works, thank you"}], "tags": [], "owner": {"reputation": 4505, "user_id": 3626961, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100001104558583/picture?type=large", "display_name": "titipata", "link": "https://stackoverflow.com/users/3626961/titipata"}, "is_accepted": false, "score": 9, "last_activity_date": 1444253131, "creation_date": 1444253131, "answer_id": 33002675, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv/33002675#33002675", "title": "Python - re-ordering columns in a csv", "body": "<p>So one way to tackle this problem is to use <code>pandas</code> library which can be easily install using <code>pip</code>. Basically, you can download <code>csv</code> file to pandas dataframe then re-order the column and save it back to <code>csv</code> file. For example, if your <code>sample.csv</code> looks like below:</p>\n\n<pre><code>A,C,B,E,D                                                                                                                \na1,b1,c1,d1,e1                                                                                                           \na2,b2,c2,d2,e2 \n</code></pre>\n\n<p>Here is a snippet to solve the problem.</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv('/path/to/sample.csv')\ndf_reorder = df[['A', 'B', 'C', 'D', 'E']] # rearrange column here\ndf_reorder.to_csv('/path/to/sample_reorder.csv', index=False)\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 5123370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d6f8d3fb5ab37acf1342a3a02346e4cd?s=128&d=identicon&r=PG&f=1", "display_name": "JJ1603", "link": "https://stackoverflow.com/users/5123370/jj1603"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29278, "favorite_count": 5, "accepted_answer_id": 33002011, "answer_count": 5, "score": 23, "last_activity_date": 1549600169, "creation_date": 1444248328, "last_edit_date": 1549600169, "question_id": 33001490, "link": "https://stackoverflow.com/questions/33001490/python-re-ordering-columns-in-a-csv", "title": "Python - re-ordering columns in a csv", "body": "<p>I have a bunch of csv files with the same columns but in different order. We are trying to upload them with SQL*Plus but we need the columns with a fixed column arrange.</p>\n\n<p>Example</p>\n\n<p>required order: A B C D E F</p>\n\n<p>csv file: A C D E B (sometimes a column is not in the csv because it is not available)</p>\n\n<p>is it achievable with python? we are using Access+Macros to do it... but it is too time consuming</p>\n\n<p>PS. Sorry if anyone get upset for my English skills.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 253, "user_id": 4033176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/W0Bco.jpg?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/4033176/programmer"}, "edited": false, "score": 3, "creation_date": 1444248317, "post_id": 33001459, "comment_id": 53827813, "body": "Convert htmltext to a string. It&#39;s currently a bytes string"}, {"owner": {"reputation": 1, "user_id": 5207398, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204899785762228/picture?type=large", "display_name": "Keshav Sota", "link": "https://stackoverflow.com/users/5207398/keshav-sota"}, "reply_to_user": {"reputation": 253, "user_id": 4033176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/W0Bco.jpg?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/4033176/programmer"}, "edited": false, "score": 0, "creation_date": 1444248565, "post_id": 33001459, "comment_id": 53827969, "body": "When I convert it to htmltext to a string the output is simply [],[],[],[]. It doesn&#39;t actually give the value of the stock. Would you happen to know why this happens?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1444248577, "post_id": 33001459, "comment_id": 53827977, "body": "And of course, the way you do that is to <code>decode</code> it using an appropriate codec.  e.g. <code>htmltext = htmlfile.read().decode(&#39;utf-8&#39;)</code>"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1444248687, "post_id": 33001459, "comment_id": 53828030, "body": "@KeshavSota -- There could be lots of reasons.  e.g. your <a href=\"http://stackoverflow.com/a/1732454/748858\">regex could be wrong</a> ;-) or the site could be detecting that you&#39;re trying to scrape it programatically and giving you a response that you don&#39;t expect."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1444250438, "post_id": 33001459, "comment_id": 53828947, "body": "you can try <code>re.findall(pattern,htmltext.decode(&quot;UTF-8&quot;))</code>"}, {"owner": {"reputation": 1, "user_id": 5207398, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204899785762228/picture?type=large", "display_name": "Keshav Sota", "link": "https://stackoverflow.com/users/5207398/keshav-sota"}, "edited": false, "score": 0, "creation_date": 1444266260, "post_id": 33001459, "comment_id": 53834603, "body": "When I do this, all I get is: [] [] [] []. I don&#39;t actually get any values. Any reason why this happens?"}], "owner": {"reputation": 1, "user_id": 5207398, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204899785762228/picture?type=large", "display_name": "Keshav Sota", "link": "https://stackoverflow.com/users/5207398/keshav-sota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444248243, "creation_date": 1444248243, "question_id": 33001459, "link": "https://stackoverflow.com/questions/33001459/unable-to-use-re-compile", "title": "Unable to use re.compile()", "body": "<blockquote>\n  <p>This program is a very simple example of webscraping. The programs goal is to go on the internet, find a specific stock, and then tell the user the price that the stock is currently trading at. However, I run into the issue in the code that when I compile it, this error message comes up:</p>\n</blockquote>\n\n<pre><code> Traceback (most recent call last):\n File \"HTMLwebscrape.py\", line 15, in &lt;module&gt;\n   price = re.findall(pattern,htmltext)\n  File \"C:\\Python34\\lib\\re.py\", line 210, in findall\n    return _compile(pattern, flags).findall(string)\nTypeError: can't use a string pattern on a bytes-like object\n</code></pre>\n\n<blockquote>\n  <p>Below is the actual script of the program. I've tried finding ways to solve this code, but so far, I've been unable to. I've been running this on Python 3 and using Submlime Text as my text editor. Thank you in advance!</p>\n</blockquote>\n\n<pre><code>import urllib\nimport re \nfrom urllib.request import Request, urlopen\nfrom urllib.error import  URLError\n\nsymbolslist = [\"AAPL\",\"SPY\",\"GOOG\",\"NFLX\"]\n\ni=0\n\nwhile i &lt; len(symbolslist):\n    url = Request(\"http://finance.yahoo.com/q?s=AAPL&amp;ql=1\")\n    htmlfile = urlopen(url)\n    htmltext = htmlfile.read()\n    regex  = '&lt;span id=\"yfs_184_'+symbolslist[i] + '\"\"&gt;(.+?)&lt;/span&gt;'\n    pattern = re.compile(regex)\n    price = re.findall(pattern,htmltext)\n    print (price)\n    i+=1 \n</code></pre>\n"}, {"tags": ["python", "sql", "list"], "comments": [{"owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444248484, "post_id": 33001451, "comment_id": 53827917, "body": "On printing sql_test after the line sql_test = sql_test % l , this is the output : <b>select  a,b,sum(c) as total from t where d in (%s, %s) group by 1,2</b>"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444249338, "post_id": 33001542, "comment_id": 53828375, "body": "Thanks @Alexander, it worked. Are there any other ways to do this?  Was my approach wrong?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444249792, "post_id": 33001542, "comment_id": 53828597, "body": "There are generally several ways to accomplish the same task, although &quot;There should be one-- and preferably only one --obvious way to do it.&quot; I am not familiar enough with pyodbc to comment on your method."}, {"owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444251260, "post_id": 33001542, "comment_id": 53829367, "body": ":okay.  In my query, I need to pass multiple parameters. So, for the first parameter I used {0} and .format(tupe(list)) . For the second parameter I tried using {1} ( this number indicates the position of the parameter) : Query looks like this : <b>sql_test = &quot;SELECT a, b, SUM(c) AS total FROM t WHERE d IN {0} and e = to_date({1},&#39;YYYY-mm-dd&#39;) GROUP BY 1, 2&quot;.format(tuple(f_list),historical_date)</b>         historical_date = &#39;2015-05-01&#39; -- this was initialized at the beginning. I am getting an error that , there is no method to_date(int,unknown)   is this usage wrong"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444251464, "post_id": 33001542, "comment_id": 53829485, "body": "<code>...and e = {1}...format(tuple(f_list), historical_date)</code> might work. If not, it is a pyodbc issue."}, {"owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444251773, "post_id": 33001542, "comment_id": 53829626, "body": "I tried that...when I printed the sql ..this is how it looked . e = 2015-05-01 .........and error : was <b>explict type cast might be required</b> ...I tried using str(historical_start_date) but it still printed without quotes..is there a way to print it as a string or may be append quotes to it ...i.e e = &#39;2015-05-01&#39;"}, {"owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "edited": false, "score": 0, "creation_date": 1444252153, "post_id": 33001542, "comment_id": 53829789, "body": "thnks, it worked. I used where e = to_date(&#39;{1}&#39;,&#39;YYYY-MM-DD&#39;) ...and at the end I passed the variable historical_start_date"}, {"owner": {"reputation": 339, "user_id": 1236560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0baab839a4eb9ec9c6474d0a9f1be587?s=128&d=identicon&r=PG", "display_name": "Josepas", "link": "https://stackoverflow.com/users/1236560/josepas"}, "edited": false, "score": 0, "creation_date": 1562758520, "post_id": 33001542, "comment_id": 100476169, "body": "This does not work when a single item is given for the formatting. A tuple with a single element is represented as:  tuple([1]) = &#39;(1,)&#39;  This breaks the sql"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 4, "last_activity_date": 1444248559, "creation_date": 1444248559, "answer_id": 33001542, "question_id": 33001451, "link": "https://stackoverflow.com/questions/33001451/passing-list-to-sql-in-python/33001542#33001542", "title": "passing list to sql in python", "body": "<p>You can pass it as a tuple:</p>\n\n<pre><code>sql_test = \"SELECT a, b, SUM(c) AS total FROM t WHERE d IN {0} GROUP BY 1, 2\".format(tuple(f_list))\n\n&gt;&gt;&gt; sql_test\n\"SELECT a, b, SUM(c) AS total FROM t WHERE d IN ('x', 'y') GROUP BY 1, 2\"\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 5183649, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9d01c5d085ad7b48c4d507af81ac8166?s=128&d=identicon&r=PG&f=1", "display_name": "Data Enthusiast", "link": "https://stackoverflow.com/users/5183649/data-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4133, "favorite_count": 0, "accepted_answer_id": 33001542, "answer_count": 1, "score": 3, "last_activity_date": 1444248559, "creation_date": 1444248216, "question_id": 33001451, "link": "https://stackoverflow.com/questions/33001451/passing-list-to-sql-in-python", "title": "passing list to sql in python", "body": "<p>I am trying to pass a list to sql. From what I found, there is no <code>bind</code>type for a list. So, I tried converting the list to a string : \nHere is the sql I am trying to execute :</p>\n\n<pre><code>select a,b,sum(c) as total from t where d in ('x','y') group by 1,2\n</code></pre>\n\n<p>AS I had to parametrize it , I used the below:</p>\n\n<pre><code>import pandas as pd\nimport pyodbc\n#conn_vertica -- connection object to vertica\nf_list = ['x','y']\nsql_test=   select a,b,sum(c) as total from t where d in (%s) group by 1,2\nl = ', '.join(map(lambda x: '%s',f_list))\nsql_test = sql_test % l\ndf_test = pd.read_sql(sql_test,conn_vertica) # to read it into a dataframe\n</code></pre>\n\n<p>On running this I get an error : </p>\n\n<pre><code>pandas.io.sql.DatabaseError: Execution failed on sql 'select a, b, sum(c) as total from t where d in (%s, %s)  group by 1,2': ('42601', '[42601] ERROR 4856:  Syntax error at or near \"%\" at character 123\\n (4856) (SQLExecDirectW)')\n</code></pre>\n\n<p>Any suggestions on how to pass a list into sql </p>\n"}, {"tags": ["python", "coordinates", "gis", "latitude-longitude"], "comments": [{"owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "edited": false, "score": 1, "creation_date": 1444250229, "post_id": 33001420, "comment_id": 53828827, "body": "I think lat1 and lon1 need to be in radians. And the result will be in radians."}, {"owner": {"reputation": 1, "user_id": 8419926, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ExuHNHyP09o/AAAAAAAAAAI/AAAAAAAAAGo/UT7ErB5pLjI/photo.jpg?sz=128", "display_name": "bryan wang", "link": "https://stackoverflow.com/users/8419926/bryan-wang"}, "edited": false, "score": 0, "creation_date": 1501909463, "post_id": 33001420, "comment_id": 77997785, "body": "<a href=\"https://stackoverflow.com/questions/7222382/get-lat-long-given-current-point-distance-and-bearing\" title=\"get lat long given current point distance and bearing\">stackoverflow.com/questions/7222382/&hellip;</a> This should be more exact position."}], "answers": [{"comments": [{"owner": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "edited": false, "score": 0, "creation_date": 1444250286, "post_id": 33001850, "comment_id": 53828858, "body": "Strange according to this formula link, lat2 doesn&#39;t seem to add lat1: <a href=\"https://rbrundritt.wordpress.com/2008/10/14/calculate-destination-coordinate/\" rel=\"nofollow noreferrer\">rbrundritt.wordpress.com/2008/10/14/&hellip;</a>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "edited": false, "score": 0, "creation_date": 1444250597, "post_id": 33001850, "comment_id": 53829020, "body": "So I see ... perhaps my response is incomplete. I <i>do</i> strongly recommend that you trace your intermediate values with print statements to verify the partial results.  Do you <i>understand</i> the formula?  That&#39;s necessary to making sense of the partial results."}, {"owner": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "edited": false, "score": 0, "creation_date": 1444250760, "post_id": 33001850, "comment_id": 53829105, "body": "Yes I understand the formula but python doesn&#39;t seem to be able to calculate this. There must me something wrong with the code."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "edited": false, "score": 0, "creation_date": 1444250938, "post_id": 33001850, "comment_id": 53829199, "body": "So what do the partial results tell you about the accuracy with respect to the equations&#39; expectations?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1444249602, "creation_date": 1444249602, "answer_id": 33001850, "question_id": 33001420, "link": "https://stackoverflow.com/questions/33001420/find-destination-coordinates-given-starting-coordinates-bearing-and-distance/33001850#33001850", "title": "Find destination coordinates given starting coordinates, bearing, and distance", "body": "<p>Also note that your latitude is just <em>south</em> of the equator.  I suspect that your problem is coordinate system: trig functions generally work in Cartesian: the reference angle (bearing 0) is the +x axis, also known as \"due east\", and progress toward +y (counter-clockwise).  Compass headings start at north and go clockwise.</p>\n\n<p>Replacement 1:</p>\n\n<pre><code>brng = math.radians(90-bearing) #convert degrees to radians\n</code></pre>\n\n<p>You've also missed using your starting latitutde.  Try:</p>\n\n<pre><code>lat2 = lat1 + math.asin(...\n</code></pre>\n\n<p>This gives us the final location of</p>\n\n<pre><code>(28.246445355975514, -80.50284677329569)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "is_accepted": true, "score": 1, "last_activity_date": 1444252000, "creation_date": 1444252000, "answer_id": 33002417, "question_id": 33001420, "link": "https://stackoverflow.com/questions/33001420/find-destination-coordinates-given-starting-coordinates-bearing-and-distance/33002417#33002417", "title": "Find destination coordinates given starting coordinates, bearing, and distance", "body": "<p>According to <a href=\"https://docs.python.org/2/library/math.html\" rel=\"nofollow\">this page</a></p>\n\n<p><code>math.sin(x)</code>  ... Return the sine of x radians.</p>\n\n<p>So, you need to convert lat1 and lon1 to radians before your equation and then later you can convert lat2 and lon2 back into degrees.</p>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "is_accepted": false, "score": 2, "last_activity_date": 1444252429, "creation_date": 1444252429, "answer_id": 33002517, "question_id": 33001420, "link": "https://stackoverflow.com/questions/33001420/find-destination-coordinates-given-starting-coordinates-bearing-and-distance/33002517#33002517", "title": "Find destination coordinates given starting coordinates, bearing, and distance", "body": "<p>Doh I had forgot to convert to radians then convert back to degrees when calculation was done. Here is the final code:</p>\n\n<pre><code>def getEndpoint(lat1,lon1,bearing,d):\n    R = 6371                     #Radius of the Earth\n    brng = math.radians(bearing) #convert degrees to radians\n    d = d*1.852                  #convert nautical miles to km\n    lat1 = math.radians(lat1)    #Current lat point converted to radians\n    lon1 = math.radians(lon1)    #Current long point converted to radians\n    lat2 = math.asin( math.sin(lat1)*math.cos(d/R) + math.cos(lat1)*math.sin(d/R)*math.cos(brng))\n    lon2 = lon1 + math.atan2(math.sin(brng)*math.sin(d/R)*math.cos(lat1),math.cos(d/R)-math.sin(lat1)*math.sin(lat2))\n    lat2 = math.degrees(lat2)\n    lon2 = math.degrees(lon2)\n    return lat2,lon2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34066, "user_id": 327026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ad5928b416f9de4bb957ac8189bf00?s=128&d=identicon&r=PG", "display_name": "Mike T", "link": "https://stackoverflow.com/users/327026/mike-t"}, "is_accepted": false, "score": 2, "last_activity_date": 1444343022, "creation_date": 1444343022, "answer_id": 33026930, "question_id": 33001420, "link": "https://stackoverflow.com/questions/33001420/find-destination-coordinates-given-starting-coordinates-bearing-and-distance/33026930#33026930", "title": "Find destination coordinates given starting coordinates, bearing, and distance", "body": "<p>If you want a high precision result, consider using <a href=\"https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid\" rel=\"nofollow\">geodesics</a>. Here is an example with GeographicLib, which uses angular units in degrees and distance units in metres.</p>\n\n<pre><code>from geographiclib.constants import Constants\nfrom geographiclib.geodesic import Geodesic\n\ndef getEndpoint(lat1, lon1, bearing, d):\n    geod = Geodesic(Constants.WGS84_a, Constants.WGS84_f)\n    d = geod.Direct(lat1, lon1, bearing, d * 1852.0)\n    return d['lat2'], d['lon2']\n\nprint(getEndpoint(28.455556, -80.527778, 317.662819, 130.224835))\n# (30.05352669918092, -82.21197985232848)\n</code></pre>\n\n<p>This should be no more than a few nanometres from the exact position.</p>\n"}], "owner": {"reputation": 1081, "user_id": 632890, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ba557777016272497714fa3653f7912b?s=128&d=identicon&r=PG", "display_name": "Ray Y", "link": "https://stackoverflow.com/users/632890/ray-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3921, "favorite_count": 1, "accepted_answer_id": 33002417, "answer_count": 4, "score": 2, "last_activity_date": 1551608830, "creation_date": 1444248068, "last_edit_date": 1551608830, "question_id": 33001420, "link": "https://stackoverflow.com/questions/33001420/find-destination-coordinates-given-starting-coordinates-bearing-and-distance", "title": "Find destination coordinates given starting coordinates, bearing, and distance", "body": "<p><a href=\"https://i.stack.imgur.com/rRSEN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rRSEN.png\" alt=\"enter image description here\"></a>I'm looking at the formula listed here: <a href=\"http://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow noreferrer\">http://www.movable-type.co.uk/scripts/latlong.html</a></p>\n\n<p>I seem to be having trouble as the resulting coordinates are not what I would expect them to be.</p>\n\n<p>Given the following information:</p>\n\n<p>Start lat: 28.455556 </p>\n\n<p>Start lon: -80.527778 </p>\n\n<p>Bearing: 317.662819(Degrees) </p>\n\n<p>Distance: 130.224835(Nautical miles)</p>\n\n<pre><code>def getEndpoint(lat1,lon1,bearing,d):\n        R = 6378.1                   #Radius of the Earth\n        brng = math.radians(bearing) #convert degrees to radians\n        d = d*1.852                  #convert nautical miles to km\n        lat2 = math.asin( math.sin(lat1)*math.cos(d/R) + math.cos(lat1)*math.sin(d/R)*math.cos(brng))\n        lon2 = lon1 + math.atan2(math.sin(brng)*math.sin(d/R)*math.cos(lat1),math.cos(d/R)-math.sin(lat1)*math.sin(lat2))\n        return lat2,lon2\n</code></pre>\n\n<p>The function returns:</p>\n\n<p>end lat: -0.209110644042</p>\n\n<p>end lon: -80.5017472335</p>\n\n<p>But this is a coordinate east of my beginning location, it doesn't make any sense because 317 bearing is pointing north-west of my starting location.</p>\n\n<p>Above picture is what It should look like with the final ending coordinate on the upper left.</p>\n\n<p>Where is it going wrong?</p>\n"}, {"tags": ["python", "csv", "numpy", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 6620, "user_id": 377366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9beb46f6e4b1ef49785aed8139d9ef05?s=128&d=identicon&r=PG", "display_name": "KobeJohn", "link": "https://stackoverflow.com/users/377366/kobejohn"}, "edited": false, "score": 0, "creation_date": 1444257569, "post_id": 33001877, "comment_id": 53832119, "body": "Not OP but thanks for the clear and useful buildup of the answer."}, {"owner": {"reputation": 2044, "user_id": 1743367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63d2171c2e498990ab04afd9d33d1462?s=128&d=identicon&r=PG", "display_name": "JustAC0der", "link": "https://stackoverflow.com/users/1743367/justac0der"}, "edited": false, "score": 3, "creation_date": 1444291336, "post_id": 33001877, "comment_id": 53843706, "body": "Thank you for the answer. It works! I am just beginning with Python and I find it weird that numpy can&#39;t read UTF-8 out-of-the-box. I have read that Python is easy and developed with simplicity and ease of use in mind yet reading UTF-8 requires additional convertion? I thought we are living in 2015."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 9, "last_activity_date": 1444257059, "last_edit_date": 1444257059, "creation_date": 1444249709, "answer_id": 33001877, "question_id": 33001373, "link": "https://stackoverflow.com/questions/33001373/loading-utf-8-file-in-python-3-using-numpy-genfromtxt/33001877#33001877", "title": "Loading UTF-8 file in Python 3 using numpy.genfromtxt", "body": "<p>In Python3 I can do:</p>\n\n<pre><code>In [224]: txt = \"C\u00f4te d'Ivoire\"\nIn [225]: x = np.zeros((2,),dtype='U20')\nIn [226]: x[0] = txt\nIn [227]: x\nOut[227]: \narray([\"C\u00f4te d'Ivoire\", ''],   dtype='&lt;U20')\n</code></pre>\n\n<p>Which means I probably could open a 'UTF-8' file (regular, not byte mode), and readlines, and assign them to elements of an array like <code>x</code>.</p>\n\n<p>But <code>genfromtxt</code> insists on operating with byte strings (ascii) which can't handle the larger <code>UTF-8</code> set (7 bytes v 8).  So I need to apply <code>decode</code> at some point to get an <code>U</code> array.</p>\n\n<p>I can load it into a 'S' array with <code>genfromtxt</code>:</p>\n\n<pre><code>In [258]: txt=\"C\u00f4te d'Ivoire\"\nIn [259]: a=np.genfromtxt([txt.encode()],delimiter=',',dtype='S20')\nIn [260]: a\nOut[260]: \narray(b\"C\\xc3\\xb4te d'Ivoire\",  dtype='|S20')\n</code></pre>\n\n<p>and apply <code>decode</code> to individual elements:</p>\n\n<pre><code>In [261]: print(a.item().decode())\nC\u00f4te d'Ivoire\n\nIn [325]: print _\nC\u00f4te d'Ivoire\n</code></pre>\n\n<p>Or use <code>np.char.decode</code> to apply it to each element of an array:</p>\n\n<pre><code>In [263]: np.char.decode(a)\nOut[263]: \narray(\"C\u00f4te d'Ivoire\", dtype='&lt;U13')\nIn [264]: print(_)\nC\u00f4te d'Ivoire\n</code></pre>\n\n<p><code>genfromtxt</code> lets me specify <code>converters</code>:</p>\n\n<pre><code>In [297]: np.genfromtxt([txt.encode()],delimiter=',',dtype='U20',\n    converters={0:lambda x: x.decode()})\nOut[297]: \narray(\"C\u00f4te d'Ivoire\", dtype='&lt;U20')\n</code></pre>\n\n<p>If the <code>csv</code> has a mix of strings and numbers, this <code>converters</code> approach will be easier to use than the <code>np.char.decode</code>.  Just specify the converter for each string column.</p>\n\n<p>(See my earlier edits for Python2 tries).</p>\n"}], "owner": {"reputation": 2044, "user_id": 1743367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63d2171c2e498990ab04afd9d33d1462?s=128&d=identicon&r=PG", "display_name": "JustAC0der", "link": "https://stackoverflow.com/users/1743367/justac0der"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10803, "favorite_count": 0, "accepted_answer_id": 33001877, "answer_count": 1, "score": 9, "last_activity_date": 1444257059, "creation_date": 1444247944, "last_edit_date": 1444248419, "question_id": 33001373, "link": "https://stackoverflow.com/questions/33001373/loading-utf-8-file-in-python-3-using-numpy-genfromtxt", "title": "Loading UTF-8 file in Python 3 using numpy.genfromtxt", "body": "<p>I have a CSV file that I downloaded from WHO site (<a href=\"http://apps.who.int/gho/data/view.main.52160\" rel=\"noreferrer\">http://apps.who.int/gho/data/view.main.52160</a> , Downloads, \"multipurpose table in CSV format\"). I try to load the file into a numpy array. Here's my code:</p>\n\n<pre><code>import numpy\n#U75 - unicode string of max. length 75\nworld_alcohol = numpy.genfromtxt(\"xmart.csv\", dtype=\"U75\", skip_header=2, delimiter=\",\")\nprint(world_alcohol)\n</code></pre>\n\n<p>And I get </p>\n\n<blockquote>\n  <p>UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position\n  2: ordinal not in range(128).</p>\n</blockquote>\n\n<p>I guess that numpy has a problem reading the string \"C\u00f4te d'Ivoire\". The file is properly encoded UTF-8 (according to my text editor). I am using Python 3.4.3 and numpy 1.9.2.</p>\n\n<p>What am I doing wrong? How can I read the file into numpy?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 3, "creation_date": 1444248019, "post_id": 33001359, "comment_id": 53827637, "body": "The class body gets executed when the class is <i>defined</i> so the connection will be created as soon as you import the module containing that class."}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1444248105, "post_id": 33001359, "comment_id": 53827687, "body": "@tzaman thanks. mind telling me how you know this?"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1444248239, "post_id": 33001359, "comment_id": 53827772, "body": "The <a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">tutorial</a> is useful. You could also just try putting a <code>print</code> there and see what happens."}], "answers": [{"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 6, "last_activity_date": 1444248287, "creation_date": 1444248287, "answer_id": 33001475, "question_id": 33001359, "link": "https://stackoverflow.com/questions/33001359/are-python-class-variables-initialized-before-initialization-of-first-class-inst/33001475#33001475", "title": "Are Python class variables initialized before initialization of first class instance?", "body": "<p>The <a href=\"https://docs.python.org/2/reference/compound_stmts.html#class-definitions\">documentation</a> for class definitions says, as one of the steps in executing the class definition:</p>\n\n<blockquote>\n  <p>The class\u2019s suite is then executed</p>\n</blockquote>\n\n<p>(A \"suite\" is a code block, i.e., the body of the class definition.)</p>\n\n<p>So the class body is executed right away when the class is defined.</p>\n"}], "owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 33001475, "answer_count": 1, "score": 0, "last_activity_date": 1444248396, "creation_date": 1444247913, "question_id": 33001359, "link": "https://stackoverflow.com/questions/33001359/are-python-class-variables-initialized-before-initialization-of-first-class-inst", "title": "Are Python class variables initialized before initialization of first class instance?", "body": "<p>I don't yet know how to find information in the Python docs when I need it. I would appreciate it if someone could point me to the section that addresses class variable initialization. <strong>I would like to know when class variables are initialized.</strong> </p>\n\n<p>This is of interest to me because I have written a class that holds a single database connection in a class variable, so I would like to ensure that this connection is not opened until the first class instance is created. </p>\n\n<p>I realize I could do this by initially setting the connection to None and then initializing it when the first instance is initialized, in its <strong>init</strong> method, but this seems more complicated than it should be. Am I safe with the following:</p>\n\n<pre><code>class DatabaseConnection:   \n    connection = DB_API.makeConnection()\n    ...\n</code></pre>\n"}, {"tags": ["python", "pandas", "pyinstaller"], "comments": [{"owner": {"reputation": 1065, "user_id": 3537361, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1336800205/picture?type=large", "display_name": "DanHabib", "link": "https://stackoverflow.com/users/3537361/danhabib"}, "edited": false, "score": 1, "creation_date": 1444247895, "post_id": 33001327, "comment_id": 53827539, "body": "did you try running <code>python setup.py build_ext --inplace</code>"}, {"owner": {"reputation": 9042, "user_id": 424153, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3606ab2afec09ce1726d9684ec002dd9?s=128&d=identicon&r=PG", "display_name": "Zero", "link": "https://stackoverflow.com/users/424153/zero"}, "edited": false, "score": 1, "creation_date": 1458623468, "post_id": 33001327, "comment_id": 59930674, "body": "PyInstaller is grabbing pandas python code, but not grabbing the lib. This means that when the pandas code runs (from &#39;inside&#39; the executable) is can&#39;t find the lib - so it tries to be helpful and suggest you need to build it.  Some workaounrds for this are <a href=\"https://github.com/pyinstaller/pyinstaller/issues/1580\" rel=\"nofollow noreferrer\">github.com/pyinstaller/pyinstaller/issues/1580</a> but I&#39;m not having any success myself."}], "answers": [{"comments": [{"owner": {"reputation": 1065, "user_id": 3537361, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1336800205/picture?type=large", "display_name": "DanHabib", "link": "https://stackoverflow.com/users/3537361/danhabib"}, "reply_to_user": {"reputation": 121, "user_id": 5380203, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-vRt_g6UVZdM/AAAAAAAAAAI/AAAAAAAAAG8/0a17Y5XZr2c/photo.jpg?sz=128", "display_name": "gwaldman13", "link": "https://stackoverflow.com/users/5380203/gwaldman13"}, "edited": false, "score": 0, "creation_date": 1444249494, "post_id": 33001407, "comment_id": 53828450, "body": "Are you working in a <code>virtualenv</code>? <a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow noreferrer\">virtualenv.pypa.io/en/latest</a>  Making use of one of these will fix the issue"}, {"owner": {"reputation": 2125, "user_id": 584503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c6243b92aa142a8553da8d1bce081adc?s=128&d=identicon&r=PG", "display_name": "Godsmith", "link": "https://stackoverflow.com/users/584503/godsmith"}, "reply_to_user": {"reputation": 121, "user_id": 5380203, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-vRt_g6UVZdM/AAAAAAAAAAI/AAAAAAAAAG8/0a17Y5XZr2c/photo.jpg?sz=128", "display_name": "gwaldman13", "link": "https://stackoverflow.com/users/5380203/gwaldman13"}, "edited": false, "score": 0, "creation_date": 1448376827, "post_id": 33001407, "comment_id": 55556044, "body": "Hi @gwaldman13, I have the same issue, did you manage to fix it?"}], "tags": [], "owner": {"reputation": 1065, "user_id": 3537361, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1336800205/picture?type=large", "display_name": "DanHabib", "link": "https://stackoverflow.com/users/3537361/danhabib"}, "is_accepted": false, "score": -2, "last_activity_date": 1444248025, "creation_date": 1444248025, "answer_id": 33001407, "question_id": 33001327, "link": "https://stackoverflow.com/questions/33001327/importerror-with-pyinstaller-and-pandas/33001407#33001407", "title": "ImportError with Pyinstaller and Pandas", "body": "<p>The error </p>\n\n<pre><code>ImportError: C extension: lib not built.\n</code></pre>\n\n<p>Clearly tells you to run <code>python setup.py build_ext --inplace</code>.\nto build the C extensions</p>\n"}, {"tags": [], "owner": {"reputation": 9042, "user_id": 424153, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3606ab2afec09ce1726d9684ec002dd9?s=128&d=identicon&r=PG", "display_name": "Zero", "link": "https://stackoverflow.com/users/424153/zero"}, "is_accepted": false, "score": 13, "last_activity_date": 1523141585, "last_edit_date": 1523141585, "creation_date": 1458623874, "answer_id": 36146649, "question_id": 33001327, "link": "https://stackoverflow.com/questions/33001327/importerror-with-pyinstaller-and-pandas/36146649#36146649", "title": "ImportError with Pyinstaller and Pandas", "body": "<p>Edit your <code>.spec</code> file to add the lines shown below just after the <code>a = Analysis part</code>. Then build using the <code>--onefile flag</code> \u2013 e.g., <code>pyinstaller --onefile my_project.spec</code></p>\n\n<pre><code>a = Analysis(...)    \n\n# Add the following\ndef get_pandas_path():\n    import pandas\n    pandas_path = pandas.__path__[0]\n    return pandas_path\n\n\ndict_tree = Tree(get_pandas_path(), prefix='pandas', excludes=[\"*.pyc\"])\na.datas += dict_tree\na.binaries = filter(lambda x: 'pandas' not in x[0], a.binaries)\n</code></pre>\n\n<p>The reason this is necessary is PyInstaller is grabbing pandas python code, but not grabbing the lib. This means that when the pandas code runs (from 'inside' the executable) it can't find the lib \u2013 so it tries to be helpful and suggest you need to build it.</p>\n\n<p>The workaround is detailed at <a href=\"http://github.com/pyinstaller/pyinstaller/issues/1580\" rel=\"noreferrer\">http://github.com/pyinstaller/pyinstaller/issues/1580</a> \u2013 it appears it might not work for all versions / operating systems, so best of luck.</p>\n"}], "owner": {"reputation": 121, "user_id": 5380203, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-vRt_g6UVZdM/AAAAAAAAAAI/AAAAAAAAAG8/0a17Y5XZr2c/photo.jpg?sz=128", "display_name": "gwaldman13", "link": "https://stackoverflow.com/users/5380203/gwaldman13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8471, "favorite_count": 4, "answer_count": 2, "score": 9, "last_activity_date": 1596256511, "creation_date": 1444247812, "question_id": 33001327, "link": "https://stackoverflow.com/questions/33001327/importerror-with-pyinstaller-and-pandas", "title": "ImportError with Pyinstaller and Pandas", "body": "<p>I am trying to bundle a short python script into a single executable. I am able to successfully run pyinstaller using </p>\n\n<pre><code>pyinstaller script.py\n</code></pre>\n\n<p>However, when I run the executable I get the following error. I have tried everything and nothing seems to work.</p>\n\n<pre><code>C:\\Users\\...\\Python\\dist\\script&gt;script\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 2, in &lt;module&gt;\n  File \"c:\\users\\user\\appdata\\local\\temp\\pip-build-0pjuke\\pyinstaller\\PyInst\naller\\loader\\pyimod03_importers.py\", line 363, in load_module\n  File \"c:\\python27\\lib\\site-packages\\pandas\\__init__.py\", line 13, in &lt;module&gt;\n    \"extensions first.\".format(module))\nImportError: C extension: lib not built. If you want to import pandas from the s\nource directory, you may need to run 'python setup.py build_ext --inplace' to bu\nild the C extensions first.\nscript returned -1\n</code></pre>\n\n<p>Here are the imports in my script:</p>\n\n<pre><code>import pandas\nfrom simple_salesforce import Salesforce\nfrom pandas import Series, DataFrame\nimport vertica_python\nfrom StringIO import StringIO\n</code></pre>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 41564, "user_id": 3857942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXLnN.jpg?s=128&g=1", "display_name": "Michael Petch", "link": "https://stackoverflow.com/users/3857942/michael-petch"}, "edited": false, "score": 1, "creation_date": 1444247881, "post_id": 33001309, "comment_id": 53827531, "body": "When you spawn a subshell and change directory, once that child shell closes it is gone. Modifying the pwd in the subshell doesn&#39;t affect the parent. Maybe you want to change the PWD with <code>os.chdir</code>? <a href=\"https://docs.python.org/2/library/os.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/os.html</a> . You can also do something similar (without a subprocess) by calling <code>os.mkdir</code>. Advantage of the <code>os</code> module is that it was intended to be portable (so you wouldn&#39;t need to know the underlying mechanism used by the OS)"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 7, "last_activity_date": 1444247904, "creation_date": 1444247904, "answer_id": 33001354, "question_id": 33001309, "link": "https://stackoverflow.com/questions/33001309/subprocess-call-cd-not-working/33001354#33001354", "title": "subprocess.call cd not working", "body": "<p><code>subprocess.call()</code> creates a <em>new</em> process. The cd works in that process, but when the process exits it won't affect the current process. This is how processes are designed to work.</p>\n\n<p>If you need your script to change to a different directory you can use <a href=\"https://docs.python.org/3.5/library/os.html#os.chdir\" rel=\"noreferrer\">os.chdir</a> which will change the directory for the current process.</p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 3290963, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/1iXoJ.jpg?s=128&g=1", "display_name": "Najeeb Choudhary", "link": "https://stackoverflow.com/users/3290963/najeeb-choudhary"}, "is_accepted": false, "score": 2, "last_activity_date": 1444312116, "creation_date": 1444312116, "answer_id": 33017726, "question_id": 33001309, "link": "https://stackoverflow.com/questions/33001309/subprocess-call-cd-not-working/33017726#33017726", "title": "subprocess.call cd not working", "body": "<p>for this task no a good idea to use suprocess. just use python os module\ntry this::</p>\n\n<pre><code>In [12]: import os \n\nIn [13]: os.getcwd()\nOut[13]: '/home/najeeb'\n\nIn [14]: os.chdir('/home/najeeb/Desktop/project/')\n\nIn [15]: os.getcwd()\nOut[15]: '/home/najeeb/Desktop/project'\n\nIn [16]: \n</code></pre>\n\n<p>if now any problem you face please let me know!</p>\n"}], "owner": {"reputation": 65, "user_id": 5420140, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e3880a496e15ffc995235b73cce3dd64?s=128&d=identicon&r=PG&f=1", "display_name": "A. Archer", "link": "https://stackoverflow.com/users/5420140/a-archer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6166, "favorite_count": 0, "closed_date": 1517684314, "accepted_answer_id": 33001354, "answer_count": 2, "score": 1, "last_activity_date": 1444312116, "creation_date": 1444247757, "last_edit_date": 1444248100, "question_id": 33001309, "link": "https://stackoverflow.com/questions/33001309/subprocess-call-cd-not-working", "closed_reason": "Duplicate", "title": "subprocess.call cd not working", "body": "<pre><code>In [3]: pwd\n\nOut[3]: u'/Users/aarcher/Desktop/scripts'\n\n\nIn [5]: subprocess.call(['mkdir', '-p', os.path.expanduser('~/file/path/name')])\n\nOut[5]: 0\n</code></pre>\n\n<p>I verified in another terminal that it had created /Users/aarcher/file/path/name successfully, but unable to change to that directory, even when it returns 0:</p>\n\n<pre><code>In [7]: subprocess.call(['cd', os.path.expanduser('~/file/path/name')], shell=True)\n\nOut[7]: 0\n\nIn [8]: pwd\n\nOut[8]: u'/Users/aarcher/Desktop/scripts'\n</code></pre>\n\n<p>I am in unix box</p>\n"}, {"tags": ["python", "function", "python-3.x", "recursion", "python-3.4"], "comments": [{"owner": {"reputation": 738, "user_id": 4080815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7076dba4da4f65300484fa2de5a85a4?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4080815/alex"}, "edited": false, "score": 0, "creation_date": 1444247842, "post_id": 33001259, "comment_id": 53827502, "body": "You should review your indentation. What is Assignments exactly ?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444247850, "post_id": 33001259, "comment_id": 53827508, "body": "every grade, regardless if valid or not, will be appended to the list, which i don&#39;t think is your intent"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444247968, "post_id": 33001259, "comment_id": 53827594, "body": "and since grade never changes inside of each call, your while loop will never break if the user inputs something wrong. I suggest taking that while loop out (since youre doing recursive calls anyways) and put the append in your else block"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444248162, "post_id": 33001259, "comment_id": 53827721, "body": "If you&#39;re not willing to take the time to get the indentation right in the question, why should we take the time to answer the question? Indentation is a critical part of python syntax."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5359735"}, "reply_to_user": {"reputation": 738, "user_id": 4080815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7076dba4da4f65300484fa2de5a85a4?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4080815/alex"}, "edited": false, "score": 0, "creation_date": 1444248410, "post_id": 33001259, "comment_id": 53827872, "body": "@Alex, I added more context to the question!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5359735"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444248542, "post_id": 33001259, "comment_id": 53827959, "body": "@RNar, Can you explain how they&#39;ll all be added to the list? I thought by doing it this way, they&#39;ll only be appended once the loop breaks, which should happen once the users input for grade is valid."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5359735"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1444248553, "post_id": 33001259, "comment_id": 53827964, "body": "@BryanOakley, it was correct inside my code, but StackOverflow broke my formatting. I went through and re-indented everything in my question so it&#39;s &#39;proper&#39; on SO. It was already proper in my code."}, {"owner": {"reputation": 5368, "user_id": 67988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/25a75b0f970931bf6ba85f9257f438db?s=128&d=identicon&r=PG", "display_name": "Helgi", "link": "https://stackoverflow.com/users/67988/helgi"}, "edited": false, "score": 0, "creation_date": 1444248590, "post_id": 33001259, "comment_id": 53827982, "body": "The idea behind this function (i.e., using <i>both</i> loop <i>and</i> recursion for the try-again logic) is strange. Care to explain why you want to make the function recursive?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444248752, "post_id": 33001259, "comment_id": 53828059, "body": "@Ian, look at my post for code that SHOULD (no guarantees) work. Remember that recursive calls create a tree of calls, which means that once one of the calls finish, it will attempt to finish the calls below. In this case, since you are never actually changing the value of <code>grade</code>, the while loop outcome (ie, the try/except/else block), which depends on grade, will never change, causing an infinite loop."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5359735"}, "reply_to_user": {"reputation": 5368, "user_id": 67988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/25a75b0f970931bf6ba85f9257f438db?s=128&d=identicon&r=PG", "display_name": "Helgi", "link": "https://stackoverflow.com/users/67988/helgi"}, "edited": false, "score": 0, "creation_date": 1444248816, "post_id": 33001259, "comment_id": 53828095, "body": "@Helgi, the purpose of gradeChecker is to determine if the value is a float (or can be converted to a float) and if so, if it&#39;s between 0 and 100. The issue I&#39;m having is once I&#39;ve determined it&#39;s a float, I need to check if it&#39;s between 0 and 100, but if it&#39;s not the user has to re-enter their grade. I then have to re-verify that their grade is a float, and go back to checking if it&#39;s between 0 and 100!"}, {"owner": {"reputation": 5368, "user_id": 67988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/25a75b0f970931bf6ba85f9257f438db?s=128&d=identicon&r=PG", "display_name": "Helgi", "link": "https://stackoverflow.com/users/67988/helgi"}, "edited": false, "score": 0, "creation_date": 1444249743, "post_id": 33001259, "comment_id": 53828576, "body": "@Ian, so no need to make it recursive, right? R Nar is right, recursion is best avoided here. Please see my answer."}], "answers": [{"tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": false, "score": 0, "last_activity_date": 1444248612, "creation_date": 1444248612, "answer_id": 33001566, "question_id": 33001259, "link": "https://stackoverflow.com/questions/33001259/how-do-you-structure-a-recursive-function/33001566#33001566", "title": "How do you structure a recursive function?", "body": "<pre><code>def gradeChecker(grade):\n    try:\n        grade = float(grade)        \n        while (grade &lt; 0) or (grade &gt; 100):\n            print(\"Sorry, your grade must be between 0 and 100.\")\n            grade = input(\"What grade did you receive on: %s? \" % assignment)\n            gradeChecker(grade)\n    except:\n        print(\"Sorry, that's an invalid input. Please only use numbers and decimal points!\")\n        grade = input(\"What grade did you receive on: %s? \" % assignment)\n    else:\n        Assignments[assignment].append(grade)\n</code></pre>\n\n<p>the thing with your code is that it's redundant; the while statement is there to do what you already have the recursive calls doing. imo, the while statement is better since recursion often uses up more memory but thats just an opinion.</p>\n"}, {"tags": [], "owner": {"reputation": 5368, "user_id": 67988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/25a75b0f970931bf6ba85f9257f438db?s=128&d=identicon&r=PG", "display_name": "Helgi", "link": "https://stackoverflow.com/users/67988/helgi"}, "is_accepted": true, "score": 1, "last_activity_date": 1444249374, "creation_date": 1444249374, "answer_id": 33001773, "question_id": 33001259, "link": "https://stackoverflow.com/questions/33001259/how-do-you-structure-a-recursive-function/33001773#33001773", "title": "How do you structure a recursive function?", "body": "<p>Using both recursion and loop here is redundant. Moreover, loops should be preferred to recursion in 'normal' languages like Python (i.e., not Lisp) unless you're dealing with an inherently recursive data structure like a tree.</p>\n\n<p>Given that you never stated <em>why</em> you need to use recursion in the first place, I suggest to use something like this:</p>\n\n<pre><code>def input_grade(assignment):\n    while True:\n        try:\n            grade = input(\"What grade did you receive on: %s? \" % assignment)\n            grade = float(grade)\n            if grade &lt; 0 or grade &gt; 1000:\n                raise ValueError\n            return grade\n        except:\n            print(\"Sorry, that's an invalid input. Please only use numbers and decimal points!\")\n\nfor assignment in Assignments:\n    Assignments[assignment].append(input_grade(assignment))\n</code></pre>\n\n<p><strong>Note 1</strong>. I didn't test the code above, but it should give you the general idea of how to structure this function.</p>\n\n<p><strong>Note 2</strong>. You should avoid modifying <code>Assignments</code> in the function, that's an unwanted side effect. Better offload this to the main code.</p>\n\n<p><strong>Note 3</strong>. Technically, the <code>try</code>..<code>except</code> in my code is an example of exception-based logic, which isn't a great thing (however, this is way better than using recursion here).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5359735"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 33001773, "answer_count": 2, "score": -1, "last_activity_date": 1444249374, "creation_date": 1444247627, "last_edit_date": 1444248371, "question_id": 33001259, "link": "https://stackoverflow.com/questions/33001259/how-do-you-structure-a-recursive-function", "title": "How do you structure a recursive function?", "body": "<p>I'm trying to create a recursive function that checks if a grade can be converted to a float, then checks to make sure the grade is between 0 and 100. My logic as to why this would work is:    </p>\n\n<ol>\n<li>Checks to see if the grade can be converted to a float.    </li>\n<li>If it can't be converted into a float, the user receives an error message, has to input a new grade, and gradeChecker checks again.    </li>\n<li>If it can be converted into a float, gradeChecker checks to see if it's between 0 and 100   </li>\n<li>If the grade between 0 and 100, the grade is then appended to the Assignments dictionary.     </li>\n<li>If the grade isn't between 0 and 100, the user gives a new grade, which is passed back in to the function, so repeat starting at step 1.  </li>\n</ol>\n\n<p>Can you tell me how this code doesn't follow that logic?</p>\n\n<pre><code>def gradeChecker(grade):\n    while True:\n        try:\n            grade = float(grade)        \n            while (grade &lt; 0) or (grade &gt; 100):\n                print(\"Sorry, your grade must be between 0 and 100.\")\n                grade = input(\"What grade did you receive on: %s? \" % assignment)\n                gradeChecker(grade)\n        except:\n            print(\"Sorry, that's an invalid input. Please only use numbers and decimal points!\")\n            grade = input(\"What grade did you receive on: %s? \" % assignment)\n        else:\n            break\n    Assignments[assignment].append(grade)\n</code></pre>\n\n<p>Edit: Indentations fixed!    </p>\n\n<p>For reference, here is the entirety of the code I am using to pass grade into gradeChecker.</p>\n\n<pre><code>import collections #We import collections so we can use an ordered dictionary\nAssignments = collections.OrderedDict() #We create an ordered dictionary called 'Assignments'\n#We have to add each assignment to our dictionary individually because it's an ordered dictionary\n#You can't convert a regular dictionary, which is unordered, to an ordered dictionary\n#If you used a regular dictionary, when looping through the assignments they would be displayed at random\nAssignments['Exam 1'] = [0.2] #We add the assignment and the weight to the dictionary\nAssignments['Exam 2'] = [0.2] #We add the assignment and the weight to the dictionary\nAssignments['Exam 3'] = [0.2] #We add the assignment and the weight to the dictionary\nAssignments['Homework'] = [0.2] #We add the assignment and the weight to the dictionary\nAssignments['LQR'] = [0.1] #We add the assignment and the weight to the dictionary\nAssignments['Final'] = [0.1] #We add the assignment and the weight to the dictionary\n\n#We have to define our grade checker before it is called so that it can be used to verify users inputs\n\ndef gradeChecker(grade): #Used to verify that a users grades are in-between 0 and 100\n    while True:\n        try:\n            grade = float(grade)        \n            while (grade &lt; 0) or (grade &gt; 100):\n                print(\"Sorry, your grade must be between 0 and 100.\")\n                grade = input(\"What grade did you receive on: %s? \" % assignment)\n                gradeChecker(grade)\n        except:\n            print(\"Sorry, that's an invalid input. Please only use numbers and decimal points!\")\n            grade = input(\"What grade did you receive on: %s? \" % assignment)\n        else:\n            break\n    Assignments[assignment].append(grade) #We append the grade to the assignment to be used with it's weight for the final grade calculation\n\n#INPUT\n\nfor assignment in Assignments.keys(): #We loop through every assignment in our  Assignments dictionary\n    grade = input(\"What grade did you receive on: %s? \" % assignment) #We ask the user to enter their grade\n    gradeChecker(grade) #We check to see if their grade is valid by passing their input through the gradeChecker function\n</code></pre>\n"}, {"tags": ["python", "proxy", "python-requests"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1444247664, "post_id": 33001219, "comment_id": 53827388, "body": "How does the &#39;daily limit for 20 connections&#39; work? Can&#39;t you request multiple pages over the same connection?"}, {"owner": {"reputation": 1842, "user_id": 3434076, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/100000105019013/picture?type=large", "display_name": "GriMel", "link": "https://stackoverflow.com/users/3434076/grimel"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1444248370, "post_id": 33001219, "comment_id": 53827845, "body": "This is a ranking site. List of teams, points. Etc. When I open any team&#39;s link I go to the team&#39;s page with results. So, every time, I open it by requests.get(team_page, proxies={&quot;http&quot;:proxy}) I have -1 connection."}, {"owner": {"reputation": 5648, "user_id": 3122880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3839f45edaf0820ca5e184cfc6a7f1b9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Ojha", "link": "https://stackoverflow.com/users/3122880/vikas-ojha"}, "edited": false, "score": 0, "creation_date": 1444287170, "post_id": 33001219, "comment_id": 53841207, "body": "You can buy rotating proxies or vpn solutions like hidemyass pro vpn."}, {"owner": {"reputation": 1842, "user_id": 3434076, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/100000105019013/picture?type=large", "display_name": "GriMel", "link": "https://stackoverflow.com/users/3434076/grimel"}, "edited": false, "score": 0, "creation_date": 1444342228, "post_id": 33001219, "comment_id": 53875818, "body": "Found a solution, using TOR. <a href=\"http://stackoverflow.com/questions/20304301/how-to-control-tor-when-use-tor-proxy\" title=\"how to control tor when use tor proxy\">stackoverflow.com/questions/20304301/&hellip;</a>."}], "owner": {"reputation": 1842, "user_id": 3434076, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/100000105019013/picture?type=large", "display_name": "GriMel", "link": "https://stackoverflow.com/users/3434076/grimel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444247461, "creation_date": 1444247461, "question_id": 33001219, "link": "https://stackoverflow.com/questions/33001219/scraping-site-with-limited-connections", "title": "Scraping site with limited connections", "body": "<p>I have a python script, which scrapes some information from some site.\nThis site has a daily limitation for 20 connections\nSo, I decided to use module requests with specified \"proxies\".</p>\n\n<p>After a couple of hours testing different \"proxy-list\" sites I've found one and I've been parsing from site <a href=\"http://free-proxy-list.net/\" rel=\"nofollow\">http://free-proxy-list.net/</a>.</p>\n\n<p>Seems, this site doesn't get the list updated often and after testing my script I've wasted all the proxies and I can't access the site anymore.</p>\n\n<p>All these searches make me exhausted and I feel like my script completely sucks.</p>\n\n<p>Is there any way I can avoid \"detecting\" me by site or I just need to find another list of proxies? If there are some sites with daily updated and all new list of proxies - please, let me know.</p>\n\n<p>P.S. I often have stumbled upon sites like <a href=\"https://hide.me\" rel=\"nofollow\">https://hide.me</a> where I just enter the link and it gives me full access. Maybe I can just code this in Python? If it's possible - show me, please, how.</p>\n"}, {"tags": ["python", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 2, "creation_date": 1444247540, "post_id": 33001194, "comment_id": 53827290, "body": "<code>sorted</code> returns a new iterable representing a sorted version of the iterable you pass in. It doesn\u2019t modify the input, and iterating over a dict iterates over its keys. You can\u2019t sort a dict in-place because dicts are unordered. <i>(This is also why the display order isn\u2019t the same as in your literal.)</i> Consider <code>sorted_items = sorted(a.items())</code>, an iterable of (key, value) tuples."}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1444247556, "post_id": 33001194, "comment_id": 53827299, "body": "<code>sorted(a)</code> never returns a dictionary as it gives you only the keys in order."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1444247593, "post_id": 33001194, "comment_id": 53827330, "body": "That isn&#39;t what I&#39;d expect <code>sorted</code> to do to a dictionary. Are you using a function different to the built-in <code>sorted</code>?"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1444247769, "post_id": 33001194, "comment_id": 53827460, "body": "I think the keys in your dict are strings not integers."}, {"owner": {"reputation": 5142, "user_id": 169252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f87a0e2badc0703de4d0a171a9bb4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "transient_loop", "link": "https://stackoverflow.com/users/169252/transient-loop"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1444247802, "post_id": 33001194, "comment_id": 53827475, "body": "@minitech please provide your suggestion with items() as an anwer, that&#39;s what I finally need in my case"}, {"owner": {"reputation": 5142, "user_id": 169252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f87a0e2badc0703de4d0a171a9bb4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "transient_loop", "link": "https://stackoverflow.com/users/169252/transient-loop"}, "edited": false, "score": 0, "creation_date": 1444248422, "post_id": 33001194, "comment_id": 53827880, "body": "People downvoting just because they are experienced python users and thinking I am stupid? That&#39;s fine, but there&#39;s nothing wrong with the question really."}], "answers": [{"tags": [], "owner": {"reputation": 3642, "user_id": 3371101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eeb77c0b3ce0a8041fa92a4fcd5af850?s=128&d=identicon&r=PG&f=1", "display_name": "codingEnthusiast", "link": "https://stackoverflow.com/users/3371101/codingenthusiast"}, "is_accepted": false, "score": 0, "last_activity_date": 1444247727, "creation_date": 1444247727, "answer_id": 33001295, "question_id": 33001194, "link": "https://stackoverflow.com/questions/33001194/python-why-sorted-does-not-sort-correctly-integers/33001295#33001295", "title": "python: why sorted does not sort correctly integers?", "body": "<p>Standard Python dictionaries are unordered. Even if you it, you wouldn't be able to store the value pairs in a dictionary in a way that would preserve the ordering.</p>\n\n<p>You could use <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow\">OrderedDict</a> if you want to sort a dictionary by its keys, as has been suggested before in StackOverflow:</p>\n\n<pre><code>import collections\na = {1: \"one\", 2:\"two\", 4:\"four\", 3:\"three\", 25:\"twentyfive\", 10:\"ten\", 8:\"eight\", 6: \"six\", 12:\"Twelve\"}\nsorted_a = collections.OrderedDict(sorted(a.items()))\nprint sorted_a\n</code></pre>\n\n<p>Which then prints:</p>\n\n<pre><code>OrderedDict([(1, 'one'), (2, 'two'), (3, 'three'), (4, 'four'), (6, 'six'), (8, 'eight'), (10, 'ten'), (12, 'Twelve'), (25, 'twentyfive')])\n</code></pre>\n"}], "owner": {"reputation": 5142, "user_id": 169252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f87a0e2badc0703de4d0a171a9bb4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "transient_loop", "link": "https://stackoverflow.com/users/169252/transient-loop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1444247727, "creation_date": 1444247397, "question_id": 33001194, "link": "https://stackoverflow.com/questions/33001194/python-why-sorted-does-not-sort-correctly-integers", "title": "python: why sorted does not sort correctly integers?", "body": "<pre><code>a = {1: \"one\", 2:\"two\", 4:\"four\", 3:\"three\", 25:\"twentyfive\", 10:\"ten\", 8:\"eight\", 6: \"six\", 12:\"Twelve\"}\nsorted(a)\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>{1: 'one', 2: 'two', 3: 'three', 4: 'four', 6: 'six', 8: 'eight', 25: 'twentyfive', 10: 'ten', 12: 'Twelve'}\n</code></pre>\n\n<p>Why does 25 come before 10 and 12?</p>\n\n<p>PS. I need this in a django template. I just want then in the template (using pyhaml), options being a dictionary:</p>\n\n<pre><code>                %div.options\n                  Options:\n                    - for key, value in options.items\n                      //print the value \n</code></pre>\n"}, {"tags": ["python", "django", "elasticsearch", "django-haystack"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 1, "creation_date": 1444269096, "post_id": 33002634, "comment_id": 53835313, "body": "This answer is just wrong. &quot;You usually have one index and various types&quot; Haystack supports multiple indexes. &quot;Haystack is built with Solr&quot;: Haystack is search index independent and is an abstract layer for a number of different search engine platforms."}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 1, "creation_date": 1444292523, "post_id": 33002634, "comment_id": 53844433, "body": "@LegoStormtroopr Yes and abstractions don&#39;t always play well. Looking at Haystack and not caring about the underlying Search solution is a foolish approach. But ofcourse, you are welcome to have your opinion."}], "tags": [], "owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "is_accepted": false, "score": -1, "last_activity_date": 1444252926, "creation_date": 1444252926, "answer_id": 33002634, "question_id": 33001176, "link": "https://stackoverflow.com/questions/33001176/haystack-elasticsearch-realtimesignalprocessor-updates-only-default-connection/33002634#33002634", "title": "haystack elasticsearch RealtimeSignalProcessor updates only &quot;default&quot; connection", "body": "<p>I think your approach to elasticsearch is not right. You usually have one index and various types within that. If you follow that approach, all your Types should be automatically updated (hopefully). </p>\n\n<p>Haystack is built with Solr in mind, I would suggest to use Solr. Haystack suggest terms like Index for a model you want to index but its actually a type in ElasticSearch. Looking at your HAYSTACK_CONNECTIONS, you have created 3 indices instead of 3 types within an Index.</p>\n\n<p>I have haystack working with Elasticsearch but it's a lot more work to tune it.</p>\n"}], "owner": {"reputation": 429, "user_id": 3741904, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e28fa9c86709aef28ffa9f3557157c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Torostar", "link": "https://stackoverflow.com/users/3741904/torostar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444339743, "creation_date": 1444247363, "last_edit_date": 1444339743, "question_id": 33001176, "link": "https://stackoverflow.com/questions/33001176/haystack-elasticsearch-realtimesignalprocessor-updates-only-default-connection", "title": "haystack elasticsearch RealtimeSignalProcessor updates only &quot;default&quot; connection", "body": "<p>I have 3 search indexes and 3 haystack connections. I want the indexes to be updated in real time so I use RealtimeSignalProcessor. It is working only for 1 of the 3 connections (\"default\") but it does not work when I search for the term using the other 2 connections. Than I have to do python manage.py update_index manually to make it work.. How can this be fixed without updating the index manually? </p>\n\n<pre><code>HAYSTACK_CONNECTIONS = {\n    'default': {\n        'ENGINE': 'haystack.backends.elasticsearch_backend.ElasticsearchSearchEngine',\n        'URL': 'http://127.0.0.1:9200/',\n        'INDEX_NAME': 'haystack',\n    },\n    'autocomplete_tags': {\n        'ENGINE': 'haystack.backends.elasticsearch_backend.ElasticsearchSearchEngine',\n        'URL': 'http://127.0.0.1:9200/',\n        'INDEX_NAME': 'autcomplete',\n         'EXCLUDED_INDEXES': ['entities.search_indexes.EntityIndex', 'allauth.search_indexes.UserIndex'],\n    },\n    'autocomplete_entities': {\n        'ENGINE': 'haystack.backends.elasticsearch_backend.ElasticsearchSearchEngine',\n        'URL': 'http://127.0.0.1:9200/',\n        'INDEX_NAME': 'autocomplete_entities',\n         'EXCLUDED_INDEXES': ['tags.search_indexes.TagsIndex', 'allauth.search_indexes.UserIndex'],\n    }\n}\n\nHAYSTACK_SIGNAL_PROCESSOR = 'haystack.signals.RealtimeSignalProcessor'\n</code></pre>\n\n<p>Answer:</p>\n\n<p>I figured that the reason why only the \"default\" connection was updated with the RealtimeSignalProcessor is the \"INDEX_NAME\". After I changed all 3 connection \"INDEX_NAME\" to \"haystack\" it works.</p>\n"}, {"tags": ["python", "arrays", "performance", "numpy", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 4963368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207283427912706/picture?type=large", "display_name": "George D.", "link": "https://stackoverflow.com/users/4963368/george-d"}, "edited": false, "score": 0, "creation_date": 1444253167, "post_id": 33001625, "comment_id": 53830302, "body": "Unfortunately I need the entire array for computing histogram data since it involves comparing each element in the array. i is used for determining how they are compared; sorry if I was unclear about that! Anyways, you were right about locking the processing steps being the issue. I adapted your solution into my code and it&#39;s working much faster now. Thank you!"}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 197, "user_id": 4963368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207283427912706/picture?type=large", "display_name": "George D.", "link": "https://stackoverflow.com/users/4963368/george-d"}, "edited": false, "score": 0, "creation_date": 1444253462, "post_id": 33001625, "comment_id": 53830434, "body": "I&#39;m not really clear on how you want to parallelize it then.  If you&#39;re making pairwise comparisons on elements in the array, then you could take two slices of the array, see  my edits"}], "tags": [], "owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "is_accepted": true, "score": 2, "last_activity_date": 1444253725, "last_edit_date": 1444253725, "creation_date": 1444248801, "answer_id": 33001625, "question_id": 33001155, "link": "https://stackoverflow.com/questions/33001155/using-numpy-array-in-shared-memory-slow-when-synchronizing-access/33001625#33001625", "title": "Using numpy array in shared memory slow when synchronizing access", "body": "<p>You are essentially locking out any parallelism you might be getting because there is a lock on your data the entire time you are processing.</p>\n\n<p>When this method</p>\n\n<pre><code>def calc_sync(i):\n    with histo_shared.get_lock():\n        calc_histo(i)\n</code></pre>\n\n<p>is executing, you placed a lock on the entire shared dataset while you're processing the histogram.  Notice also that </p>\n\n<pre><code>def calc_histo(i):\n    # create new array 'd_new' by doing some math on DATA using argument i\n    histo = to_np_array(histo_shared)\n    histo += np.histogram(d_new, bins=BINS,\n        range=(DMIN, DMAX))[0].astype(np.int32)\n</code></pre>\n\n<p>isn't doing anything with i, so it just looks like you're processing the same data over again. What is d_new? I don't see it in your listing.</p>\n\n<p>Ideally, what you should be doing is taking your large dataset, slicing it in to some number of chunks and processing it individually and then combining the results. Only lock the shared data, not the processing steps. This might look something like this:</p>\n\n<pre><code>def calc_histo(slice):\n    # process the slice asyncronously\n    return np.histogram(slice, bins=BINS,\n        range=(DMIN, DMAX))[0].astype(np.int32)\n\ndef calc_sync(start,stop):\n\n    histo = None\n\n    # grab a chunk of data, you likely don't need to lock this\n    histo = raw_data[start:stop]\n\n    # acutal calculation is async\n    result = calc_histo(histo)\n\n    with histo_shared.get_lock():\n         histo_shared += result\n</code></pre>\n\n<p>For pairwise data:</p>\n\n<pre><code>def calc_sync(part1,part2):\n\n    histo = None\n    output = [] # or numpy array\n    # acutal calculation is async\n    for i in range(part1):\n        for j in range(part2):\n              # do whatever computation you need and add it to output\n\n    result = calc_histo(output)\n\n    with histo_shared.get_lock():\n         histo_shared += result\n</code></pre>\n\n<p>And now </p>\n\n<pre><code> p = Pool(initializer=init, initargs=(histo_shared,))\n for i in range(1, it + 1,slice_size):\n     for j in range(1, it + 1,slice_size):\n         p.apply_async(calc_sync, [histo_shared[j:j+slice_size], histo_shared[i:i+slice_size])\n</code></pre>\n\n<p>In words, we take pairwise cuts of the data, generate the relevant data and then put them in a histogram.  The only real synch you need is when you're combining data in the histogram</p>\n"}], "owner": {"reputation": 197, "user_id": 4963368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207283427912706/picture?type=large", "display_name": "George D.", "link": "https://stackoverflow.com/users/4963368/george-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 33001625, "answer_count": 1, "score": 1, "last_activity_date": 1444253725, "creation_date": 1444247259, "last_edit_date": 1495542575, "question_id": 33001155, "link": "https://stackoverflow.com/questions/33001155/using-numpy-array-in-shared-memory-slow-when-synchronizing-access", "title": "Using numpy array in shared memory slow when synchronizing access", "body": "<p>I have written a program which receives large-ish data sets as input (~150mb text files), does some math on them, and then reports the results in a histogram. The number of calculations that must be performed is proportional to the number of combinations of two points in the data set, which is extremely large (~5 billion) for a data set of 1 million points. </p>\n\n<p>I was hoping to mitigate some of the computation time by using Python's <code>multiprocessing</code> module to distribute the calculation of partial histogram data to individual processes while keeping an array of the final histogram in shared memory so that each process can add to it.</p>\n\n<p>I have created a working version of this program with <code>multiprocessing</code> generally based on the procedure described in <a href=\"https://stackoverflow.com/a/7908612/4963368\">this answer</a>, however I found that it is actually marginally slower than the un-parallelized version I had previously written. I tried un-synchronizing access to the shared array, and found that this speeds things up significantly, but results in a loss of a portion of the data.</p>\n\n<p>Here's a general outline of the code:</p>\n\n<pre><code>import numpy as np\nfrom multiprocessing import Pool, Array\n\nBINS = 200\nDMAX = 3.5\nDMIN = 0\n\ndef init(histo):\n    global histo_shared\n    histo_shared = histo\n\ndef to_np_array(mp_array):\n    return np.frombuffer(mp_array.get_obj())\n\n# synchronize access to shared array\ndef calc_sync(i):\n    with histo_shared.get_lock():\n        calc_histo(i)\n\ndef calc_histo(i):\n    # create new array 'd_new' by doing some math on DATA using argument i\n    histo = to_np_array(histo_shared)\n    histo += np.histogram(d_new, bins=BINS,\n        range=(DMIN, DMAX))[0].astype(np.int32)\n\ndef main():\n    # read in data and calculate no. of iterations\n    global DATA\n    DATA = np.loadtxt(\"data.txt\")\n    it = len(DATA) // 2\n\n    # create shared array \n    histo_shared = Array('l',  BINS)\n\n    # write to shared array from different processes\n    p = Pool(initializer=init, initargs=(histo_shared,))\n        for i in range(1, it + 1):\n            p.apply_async(calc_sync, [i])\n    p.close()\n    p.join()\n\n    histo_final = to_np_array(histo_shared)\n    np.savetxt(\"histo.txt\", histo_final)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Is there something I'm missing here that's having a serious impact on my performance? Is there any way I can get around this issue to speed things up?</p>\n\n<p>Any insights or suggestions are greatly appreciated!</p>\n"}, {"tags": ["python", "random"], "comments": [{"owner": {"reputation": 1, "user_id": 5420148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c941047b821bfa6993490a07329ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Arnott", "link": "https://stackoverflow.com/users/5420148/ted-arnott"}, "reply_to_user": {"reputation": 1302, "user_id": 5410688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6WZt.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5410688/andrew"}, "edited": false, "score": 0, "creation_date": 1444247420, "post_id": 33001106, "comment_id": 53827206, "body": "Oh it&#39;s python sorry should have said"}, {"owner": {"reputation": 12117, "user_id": 2745495, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bbcd267235bab78ec6710ef6654ba87?s=128&d=identicon&r=PG", "display_name": "Gino Mempin", "link": "https://stackoverflow.com/users/2745495/gino-mempin"}, "edited": false, "score": 0, "creation_date": 1595289874, "post_id": 33001106, "comment_id": 111417512, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/55399338/how-to-choose-randomly-between-two-values\">How to choose randomly between two values?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "is_accepted": false, "score": 0, "last_activity_date": 1444248531, "creation_date": 1444248531, "answer_id": 33001537, "question_id": 33001106, "link": "https://stackoverflow.com/questions/33001106/how-would-i-get-it-to-choose-a-random-number-out-of-1-and-2-in-python/33001537#33001537", "title": "How would I get it to choose a random number out of 1 and 2 in Python?", "body": "<pre><code>import random\n\nc = random.choice([1, 2])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>c = random.randrange(1, 3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 4955668, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uocaA.jpg?s=128&g=1", "display_name": "le_wofl", "link": "https://stackoverflow.com/users/4955668/le-wofl"}, "is_accepted": false, "score": 0, "last_activity_date": 1444293178, "creation_date": 1444293178, "answer_id": 33010571, "question_id": 33001106, "link": "https://stackoverflow.com/questions/33001106/how-would-i-get-it-to-choose-a-random-number-out-of-1-and-2-in-python/33010571#33010571", "title": "How would I get it to choose a random number out of 1 and 2 in Python?", "body": "<p>This is something that you could have Googled or consulted the documentation for... however, here's a basic implementation.</p>\n\n<pre><code>import random\nx = random.randint(1, 2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1398, "user_id": 8791491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18211f2fa8759e20c43dc14bb5b27e98?s=128&d=identicon&r=PG&f=1", "display_name": "L.Grozinger", "link": "https://stackoverflow.com/users/8791491/l-grozinger"}, "edited": false, "score": 0, "creation_date": 1595278247, "post_id": 63003357, "comment_id": 111414230, "body": "is there any need for the trailing comma at the end of the argument list? it is confusing..."}, {"owner": {"reputation": 1, "user_id": 13909198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gjy-UP5OiRevCu2ZF3fVQom4-6ZzY2kVq51aZMN=k-s128", "display_name": "Trolmaso", "link": "https://stackoverflow.com/users/13909198/trolmaso"}, "reply_to_user": {"reputation": 1398, "user_id": 8791491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18211f2fa8759e20c43dc14bb5b27e98?s=128&d=identicon&r=PG&f=1", "display_name": "L.Grozinger", "link": "https://stackoverflow.com/users/8791491/l-grozinger"}, "edited": false, "score": 1, "creation_date": 1595278424, "post_id": 63003357, "comment_id": 111414291, "body": "Sorry, didn&#39;t mean to put that there, there is no need for that comma, I will fix it"}], "tags": [], "owner": {"reputation": 1, "user_id": 13909198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gjy-UP5OiRevCu2ZF3fVQom4-6ZzY2kVq51aZMN=k-s128", "display_name": "Trolmaso", "link": "https://stackoverflow.com/users/13909198/trolmaso"}, "is_accepted": false, "score": 0, "last_activity_date": 1595278436, "last_edit_date": 1595278436, "creation_date": 1595277136, "answer_id": 63003357, "question_id": 33001106, "link": "https://stackoverflow.com/questions/33001106/how-would-i-get-it-to-choose-a-random-number-out-of-1-and-2-in-python/63003357#63003357", "title": "How would I get it to choose a random number out of 1 and 2 in Python?", "body": "<pre><code>import random\nvariable_name = random.randint(x, y)\n# x is the min and y is the max\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c941047b821bfa6993490a07329ea8?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Arnott", "link": "https://stackoverflow.com/users/5420148/ted-arnott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 3, "score": -3, "last_activity_date": 1595278436, "creation_date": 1444247086, "last_edit_date": 1444249613, "question_id": 33001106, "link": "https://stackoverflow.com/questions/33001106/how-would-i-get-it-to-choose-a-random-number-out-of-1-and-2-in-python", "title": "How would I get it to choose a random number out of 1 and 2 in Python?", "body": "<p>So the 'player' has to enter a number either 1 or 2. I need to use Python to make it so it will randomly choose a number so one will be 'good' and the player lives and the other 'bad' so the player dies.</p>\n"}]